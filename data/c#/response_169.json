[{"tags": ["c#", "jquery", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1522886215, "post_id": 49662118, "comment_id": 86334233, "body": "<code>@Html.Raw()</code> is razor (server side) code. <code>selectedVal</code> is a javascript variable that does not even exist at that point. If you want to implement cascading dropdownlists, refer <a href=\"https://dotnetfiddle.net/1bPZym\" rel=\"nofollow noreferrer\">this DotNetFiddle</a> for how to code it correctly. Refer also <a href=\"https://stackoverflow.com/questions/28627421/better-way-to-load-2-dropdown-in-mvc/28640420#28640420\">better way to load 2 dropdown in mvc</a>"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1522886455, "post_id": 49662118, "comment_id": 86334305, "body": "@StephenMuecke This is exactly what I needed, a little complicated, but Im trying to work through it now!"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522885998, "creation_date": 1522885998, "question_id": 49662118, "link": "https://stackoverflow.com/questions/49662118/pass-a-js-value-to-a-model-without-reloading-a-view", "title": "Pass a JS value to a model without reloading a View", "body": "<p>Is it possible to pass a JavaScript value as a parameter to a Model without reloading the page? My goal is to change a dropdown based on what the user selected in an earlier dropdown. I tried:</p>\n\n<pre><code>&lt;script&gt;\n    $(function () {\n        $(document).on('change', '#selectUserNames', function () {\n            var selectedVal = $(this).val();\n            var userClaims = @Html.Raw(Json.Serialize(Model.GetUserClaims(selectedVal))); //////////PASSING VALUE HERE\n\n            if (selectedVal == 'ABC@GMAIL.COM') {\n                var html = '&lt;option selected disabled&gt;Select Claim:&lt;/option&gt;';\n                for (var i = 1; i &lt; userClaims.length; ++i) {\n                    html = html + '&lt;option&gt;' + userClaims[i] + '&lt;/option&gt;';\n                }\n                $('#selectAuthPolicy').html(html);\n            }\n        })\n    })\n&lt;/script&gt;\n</code></pre>\n\n<p>I also thought <a href=\"https://stackoverflow.com/questions/26465915/how-do-i-call-a-post-actionresponse-passing-the-selected-dropdown-item-as-a-para\">this</a> might be useful, but I am trying not to reload the view (which I believe this will do)</p>\n"}, {"tags": ["c#", ".net", "mongodb"], "comments": [{"owner": {"reputation": 4112, "user_id": 2206990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d57afb59959d4630bc793cd54d092e?s=128&d=identicon&r=PG", "display_name": "Devesh", "link": "https://stackoverflow.com/users/2206990/devesh"}, "edited": false, "score": 0, "creation_date": 1522984613, "post_id": 49662066, "comment_id": 86380776, "body": "I do not see any issue in the query and it should return &quot;scores&quot; and the &quot;_id&quot; field in the document. but you are saying you are also getting the &quot;username&quot; key as well..."}, {"owner": {"reputation": 308, "user_id": 9537160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4NuE.png?s=128&g=1", "display_name": "metaldino21", "link": "https://stackoverflow.com/users/9537160/metaldino21"}, "reply_to_user": {"reputation": 4112, "user_id": 2206990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d57afb59959d4630bc793cd54d092e?s=128&d=identicon&r=PG", "display_name": "Devesh", "link": "https://stackoverflow.com/users/2206990/devesh"}, "edited": false, "score": 0, "creation_date": 1523031451, "post_id": 49662066, "comment_id": 86406977, "body": "Yes, looks like the slice was the issue. I&#39;ll post my solution, I got it to work after removing the Slice from the projection"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 9537160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4NuE.png?s=128&g=1", "display_name": "metaldino21", "link": "https://stackoverflow.com/users/9537160/metaldino21"}, "is_accepted": false, "score": 0, "last_activity_date": 1523031641, "creation_date": 1523031641, "answer_id": 49697119, "question_id": 49662066, "link": "https://stackoverflow.com/questions/49662066/mongodb-driver-include-only-one-element-from-document/49697119#49697119", "title": "MongoDB driver - include only one element from document", "body": "<p>This worked for me, turns out the Slice was unnecessary and would break the projection:</p>\n\n<pre><code>BsonDocument filter = new BsonDocument(\"_id\", ObjectId.Parse(\"5ac79bf31d413a65dbf9427c\"));\nProjectionDefinition&lt;BsonDocument&gt; projection = Builders&lt;BsonDocument&gt;.Projection.Include(\"scores\");\n\nBsonDocument document = mongoDb.GetConnection().Find(filter).Project(projection).First().AsBsonDocument;\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 9537160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4NuE.png?s=128&g=1", "display_name": "metaldino21", "link": "https://stackoverflow.com/users/9537160/metaldino21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523031679, "creation_date": 1522885645, "last_edit_date": 1523031679, "question_id": 49662066, "link": "https://stackoverflow.com/questions/49662066/mongodb-driver-include-only-one-element-from-document", "title": "MongoDB driver - include only one element from document", "body": "<p>Say I have a document as this:</p>\n\n<pre><code>{_id:\"5ac79bf31d413a65dbf9427c\", username: \"Carlos\", scores: [\"A\",\"A\"]}\n</code></pre>\n\n<p>How would I perform a projection to retrieve only the \"scores\" from the document?</p>\n\n<p>I've tried it like this:</p>\n\n<pre><code>BsonDocument filter = new BsonDocument(\"_id\", ObjectId.Parse(\"5ac79bf31d413a65dbf9427c\"));    \nProjectionDefinition&lt;BsonDocument&gt; projection = Builders&lt;BsonDocument&gt;.Projection.Include(\"scores\").Slice(\"scores\", -1);\n\nBsonDocument document = mongoDB.GetConnection().Find(filter).Project(projection).First().AsBsonDocument;\n</code></pre>\n\n<p>I still get the whole document back however.\nAny ideas help, thanks!</p>\n"}, {"tags": ["c#", "wpf", "dll"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5999397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead6ee34895fad06e9bbf9c8967a3f24?s=128&d=identicon&r=PG", "display_name": "Gengjun Wu", "link": "https://stackoverflow.com/users/5999397/gengjun-wu"}, "edited": false, "score": 0, "creation_date": 1523495132, "post_id": 49664519, "comment_id": 86588254, "body": "I guess this is the reason why it does not work, the constructor did not finish then there will not be an window. I did not know that. I will try to fix it. Thank you."}], "tags": [], "owner": {"reputation": 2938, "user_id": 4934541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f1ade8b8912a73a2bd466a21180c3?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/4934541/xavier"}, "is_accepted": false, "score": 0, "last_activity_date": 1522904865, "creation_date": 1522904865, "answer_id": 49664519, "question_id": 49662036, "link": "https://stackoverflow.com/questions/49662036/how-to-show-a-wpf-window-from-class-library-dll-project/49664519#49664519", "title": "How to show a WPF window from Class Library (dll) project?", "body": "<p>The <code>ShowDialog</code> function will stop execution of the thread until the window closes, meaning the rest of that code may not run and the dispatcher may not be started. You should try the <code>Show</code> method instead, which returns as soon as the window is shown.</p>\n\n<p>Also, what is going on with these lines in the constructor of the window?</p>\n\n<pre><code>StartProgramming(uutList, firmwareFile);\nApplication.Current.MainWindow.Close();\n</code></pre>\n\n<p>Whatever that first line does, it needs to return and not do a bunch of work if you want the window to finish getting constructed. The second line makes no sense at all. Why are you closing the main window of the application? Did you even set and open a window associated with that property at some point?</p>\n\n<p>I suspect one or more of these things is preventing the thread from ever reaching the point where it can show the window.</p>\n"}], "owner": {"reputation": 151, "user_id": 5999397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead6ee34895fad06e9bbf9c8967a3f24?s=128&d=identicon&r=PG", "display_name": "Gengjun Wu", "link": "https://stackoverflow.com/users/5999397/gengjun-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522904865, "creation_date": 1522885437, "question_id": 49662036, "link": "https://stackoverflow.com/questions/49662036/how-to-show-a-wpf-window-from-class-library-dll-project", "title": "How to show a WPF window from Class Library (dll) project?", "body": "<p>I have recently made a Class Library (dll) for my other project to program a Bluetooth device via serial port (COM). The library is used to transfer firmware via COM port. It works fine until the requirement comes, which requires a WPF window to show the progress of programming. I have successfully created the progress bar using standard WPF app template. However, the standard WPF does not allow me to generate dll. After searching here, I found this <a href=\"https://stackoverflow.com/questions/3573339/no-creation-of-a-wpf-window-in-a-dll-project\">link</a> that teaches you how to add a WPF window to existing Class Library project. Also, someone teaches you how to show the window from <a href=\"http://reedcopsey.com/2011/11/28/launching-a-wpf-window-in-a-separate-thread-part-1/\" rel=\"nofollow noreferrer\">here</a>. Everything look good until I tried, there is nothing shows up when I call the method <code>ProgrammBluetooth()</code> from LabVIEW.</p>\n\n<p>My main method, which is in a separate .cs file:</p>\n\n<pre><code>namespace BTMProg\n{\npublic class BTMProgrammer\n{\n    private bool _uut1Status = false;\n    private string _uut1Message = \"\";\n\n    public bool UUT1Status\n    {\n        get { return _uut1Status; }\n        set { _uut1Status = value; }\n    }\n\n    public string UUT1Message\n    {\n        get { return _uut1Message; }\n        set { _uut1Message = value; }\n    }\n\n    public void ProgramBluetooth (string ioPort, string firmwareFile)\n    {\n        List&lt;UUT&gt; uutList = new List&lt;UUT&gt;(); \n        uutList.Add(new UUT(ioPort, \"UUT1\", 1));\n\n        Thread thread = new Thread(() =&gt;\n        {\n            var wn = new MainWindow(uutList, firmwareFile);\n            wn.ShowDialog();\n            wn.Closed += (s, e) =&gt; wn.Dispatcher.InvokeShutdown();\n            Dispatcher.Run();\n            if (wn.TaskList[0].Result.ToUpper().Contains(\"SUCCESS\"))\n            {\n                _uut1Status = true;\n                _uut1Message = wn.TaskList[0].Result;\n            }\n            else\n            {\n                _uut1Status = false;\n                _uut1Message = wn.TaskList[0].Result;\n            }\n        });\n\n        thread.SetApartmentState(ApartmentState.STA);\n        thread.Start();\n    }\n}\n}\n</code></pre>\n\n<p>My WPF code in MainWindow.xaml.cs:</p>\n\n<pre><code> ProgrammingViewModel _pvm = new ProgrammingViewModel();\n private List&lt;string&gt; _viewModeList = new List&lt;string&gt;();\n private List&lt;Task&lt;string&gt;&gt; _taskList = new List&lt;Task&lt;string&gt;&gt;();\n\n public List&lt;Task&lt;string&gt;&gt; TaskList {\n     get =&gt; _taskList;\n     set =&gt; _taskList = value;\n }\n\n public MainWindow(List&lt;UUT&gt; uutList, string firmwareFile)\n {\n     InitializeComponent();\n     foreach (var uut in uutList)\n     {\n         _viewModeList.Add(uut.UutName);\n     }\n     _pvm.AddProcessViewModels(_viewModeList);\n     ProgressBarView.DataContext = _pvm.ProcessModels;\n     StartProgramming(uutList, firmwareFile);\n     Application.Current.MainWindow.Close();\n  }\n</code></pre>\n\n<p>The issue before was that if I don't use dispatcher to create a new thread, an exception saying \"The calling thread must be STA, because many UI components require this....\" thrown. After I use the new thread, no error but the window does not show up as expected. What could be the problem? Thanks.</p>\n"}, {"tags": ["c#", "directoryinfo", "pathtoolongexception"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1522886412, "post_id": 49662001, "comment_id": 86334297, "body": "The error you have having is due to DOS limits.  The best solution is to mount a drive on the PC and then use the drive letter to access the file info."}, {"owner": {"reputation": 2563, "user_id": 717955, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/uCODs.jpg?s=128&g=1", "display_name": "Merin Nakarmi", "link": "https://stackoverflow.com/users/717955/merin-nakarmi"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1522887185, "post_id": 49662001, "comment_id": 86334504, "body": "@jdweng: That sounds a nice idea. It will save some characters indeed. But what if it will still exceed the limit of 260 characters?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1522909922, "post_id": 49662001, "comment_id": 86340864, "body": "Then map the drive to a different folder closer to the actual folder.  There isn&#39;t a limit on the map drive path.  Used this method plenty of times.  Often have run into this issue with Excel Files. So if you map drive \\\\Domain\\UserData\\VeryLongPath to P: then you file name is only P:\\\\filename"}, {"owner": {"reputation": 2563, "user_id": 717955, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/uCODs.jpg?s=128&g=1", "display_name": "Merin Nakarmi", "link": "https://stackoverflow.com/users/717955/merin-nakarmi"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1522974484, "post_id": 49662001, "comment_id": 86378478, "body": "@jdweng: Sadly this did not work for me friend. I have P drive and G drive mapped. It gave same exceptions on both drives. :( I appreciate your effort trying to help me."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1522997660, "post_id": 49662001, "comment_id": 86385196, "body": "Then you are not using the mapped drive to shorten your path name."}], "answers": [{"tags": [], "owner": {"reputation": 2563, "user_id": 717955, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/uCODs.jpg?s=128&g=1", "display_name": "Merin Nakarmi", "link": "https://stackoverflow.com/users/717955/merin-nakarmi"}, "is_accepted": true, "score": 0, "last_activity_date": 1523293055, "last_edit_date": 1523293055, "creation_date": 1522974368, "answer_id": 49683462, "question_id": 49662001, "link": "https://stackoverflow.com/questions/49662001/get-security-information-of-a-too-long-file-path-above-260-characters-c/49683462#49683462", "title": "Get Security Information of a too long file path above 260 characters: C#", "body": "<p>I saw in some other posts that installing .NET Framework 4.6.2 does help. As the last resort, I tried it. I had Visual Studio 2015. I installed .NET Framework 4.6.2. It still did not work. Then I installed <strong><em>Visual Studio 2017</em></strong> and chose <strong><em>.NET Framework 4.6.2</em></strong>. It did eliminate Path Too Long Exception. But it gave a new exception called Invalid name, Invalid parameter. </p>\n\n<p>One of my colleague suggested me to check the value of registry </p>\n\n<pre><code>Computer\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\FileSystem\\LongPathsEnabled\n</code></pre>\n\n<p>It's original value was 0. I set it to 1. And both the Path Too Long and Invalid Name, Invalid parameter exception were gone. I believe this registry key does not exist in computer that does not have .NET Framework 4.6.2. </p>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 9924958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51cCI.png?s=128&g=1", "display_name": "Programmierus", "link": "https://stackoverflow.com/users/9924958/programmierus"}, "is_accepted": false, "score": 0, "last_activity_date": 1573144533, "creation_date": 1573144533, "answer_id": 58753258, "question_id": 49662001, "link": "https://stackoverflow.com/questions/49662001/get-security-information-of-a-too-long-file-path-above-260-characters-c/58753258#58753258", "title": "Get Security Information of a too long file path above 260 characters: C#", "body": "<p>Accepted answer didn't really work for me although I checked the registry key (it seems to be enabled by default nowadays). The exception thrown was as mentioned: invalid name, invalid parameter (happened on <code>SetAccessControl</code> in my case). .NET 4.7.2</p>\n\n<p>What helped is the special syntax: <code>\\\\?\\</code> for local paths or <code>\\\\?\\UNC\\</code> for network shares.</p>\n\n<p>So for the example in question (server share) it would be something like below:</p>\n\n<pre><code>var security = Directory.GetAccessControl($@\"\\\\?\\UNC\\{path.TrimStart('\\\\')}\");\n</code></pre>\n"}], "owner": {"reputation": 2563, "user_id": 717955, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/uCODs.jpg?s=128&g=1", "display_name": "Merin Nakarmi", "link": "https://stackoverflow.com/users/717955/merin-nakarmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 49683462, "answer_count": 2, "score": 0, "last_activity_date": 1573144533, "creation_date": 1522885094, "question_id": 49662001, "link": "https://stackoverflow.com/questions/49662001/get-security-information-of-a-too-long-file-path-above-260-characters-c", "title": "Get Security Information of a too long file path above 260 characters: C#", "body": "<p>I am trying to get security information of some files and directories inside a network folder. Unfortunately some files and directories path exceed their character limits 260/248 respectively. I found so many information to use Win32 P/Invoke, use .NET Framework 4.6.2 etc. I was able to use <a href=\"https://blogs.msdn.microsoft.com/bclteam/2007/03/26/long-paths-in-net-part-2-of-3-long-path-workarounds-kim-hamilton/\" rel=\"nofollow noreferrer\">a code by Kim Hamilton</a> to iterate through each files and directories inside whose path exceeds the length limit but I could not use it to get the security information. </p>\n\n<p>Below is my simple C# code containing a path which is above 260 characters. It will throw a Path Too Long Exception. Could you please help me solve it in this scenario. </p>\n\n<pre><code>using System.IO;\nusing System.Security.AccessControl;\n\nnamespace Microsoft.Experimental.IO\n{\n    class Program\n    {\n        public static void Main(string[] args)\n        {\n            string path = @\"\\\\Domain\\UserData\\VeryLongPath\";  //This is above 260 characters\n            DirectoryInfo info = new DirectoryInfo(path);\n            DirectorySecurity security = Directory.GetAccessControl(path);\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1522884012, "post_id": 49661833, "comment_id": 86333613, "body": "OK, let us know how you go.  Good luck"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 6088389, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-u05duG3GNJQ/AAAAAAAAAAI/AAAAAAAAAyY/VgqF3wpkKms/photo.jpg?sz=128", "display_name": "Juniuz", "link": "https://stackoverflow.com/users/6088389/juniuz"}, "edited": false, "score": 0, "creation_date": 1522884604, "post_id": 49661867, "comment_id": 86333777, "body": "This is the way to go.  I have used Parallel before to enable data parallelism.  The execution is scheduled on multiple threads based on your system environment."}], "tags": [], "owner": {"reputation": 8235, "user_id": 1284760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2f0d151197270b75a2c5e5bf6a2a6583?s=128&d=identicon&r=PG", "display_name": "see sharper", "link": "https://stackoverflow.com/users/1284760/see-sharper"}, "is_accepted": false, "score": 1, "last_activity_date": 1522884073, "creation_date": 1522884073, "answer_id": 49661867, "question_id": 49661833, "link": "https://stackoverflow.com/questions/49661833/have-multiple-threads-share-method-workload/49661867#49661867", "title": "Have multiple threads share method workload", "body": "<p>Use <code>Parallel.ForEach</code> from the <code>System.Threading.Tasks</code> namespace. So instead for <code>for int i = 0;...</code> use <code>Parallel.ForEach(emailingList, address =&gt; {...})</code></p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/how-to-write-a-simple-parallel-foreach-loop\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/how-to-write-a-simple-parallel-foreach-loop</a> for an example</p>\n"}, {"tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": false, "score": 2, "last_activity_date": 1522885215, "last_edit_date": 1522885215, "creation_date": 1522884139, "answer_id": 49661875, "question_id": 49661833, "link": "https://stackoverflow.com/questions/49661833/have-multiple-threads-share-method-workload/49661875#49661875", "title": "Have multiple threads share method workload", "body": "<p>Your solution actually not run parallel, because of you wait for every each send operation. You can use paralel foreach/for keyword. Otherwise, you have to wait after all send operation executed.</p>\n\n<pre><code>public async Task asyncStartList()\n{\n    Stopwatch stopWatch = new Stopwatch();\n    stopWatch.Start();\n\n    // option 1\n    Task[] tasks = emailingList.Select(s =&gt; Task.Run(() =&gt; { SendEmail(s); }).ToArray();\n\n    Task.WaitAll(tasks);\n    // option 1 end\n\n    // option 2\n    Parallel.ForEach(emailingList, email =&gt;\n    {\n        SendEmail(email);\n    });\n    // option 2 end\n\n    // option 3\n    Parallel.For(0, emailingList.Length, i =&gt;\n    {\n        SendEmail(emailingList[i]);\n    });\n    // option 3 end\n\n    stopWatch.Stop();\n    TimeSpan ts = stopWatch.Elapsed;\n\n    string elapsedTime = String.Format(\"{0:00}:{1:00}:{2:00}.{3:00}\", ts.Hours, ts.Minutes, ts.Seconds, ts.Milliseconds / 10);\n\n    Console.WriteLine(\"Time for completion \" + elapsedTime);\n    Console.ReadLine();\n}\n\nprivate void SendEmail(string emailAddress)\n{\n    // Do send operation\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1522887289, "last_edit_date": 1522887289, "creation_date": 1522886970, "answer_id": 49662253, "question_id": 49661833, "link": "https://stackoverflow.com/questions/49661833/have-multiple-threads-share-method-workload/49662253#49662253", "title": "Have multiple threads share method workload", "body": "<p>If your solution's performance is <a href=\"https://stackoverflow.com/questions/868568/what-do-the-terms-cpu-bound-and-i-o-bound-mean\">CPU-bound</a>, that is when you want to use parallel threads. If your solution is bound by something else-- e.g. the ability of the email server to handle requests-- what you actually should use is <code>async</code>, which is much simpler and much safer. </p>\n\n<p>There are many ways to use async in this scenario, but here is a short and simple pattern that would work:</p>\n\n<pre><code>await Task.WhenAll\n(\n    emailingList.Select( async address =&gt; MailingFunctionAsync(address) )\n);\n</code></pre>\n\n<p>Yes, that is all there is to it. This assumes that your email client not only has a <code>MailingFunction()</code> method but also a <code>MailingFunctionAsync()</code> method (e.g. using Outlook's <a href=\"https://msdn.microsoft.com/en-us/library/x5x13z6h(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SendAsync()</code></a> method or something similar).</p>\n\n<p>Here is a sample <code>MailingFunctionAsync()</code> stolen from <a href=\"https://stackoverflow.com/questions/41803264/send-mail-with-smtp-sendasync\">this question</a>:</p>\n\n<pre><code>public async Task MailingFunctionAsync(string toEmailAddress)\n{\n    var message = new MailMessage();\n    message.To.Add(toEmailAddress);\n    message.Subject = SOME_SUBJECT;\n    message.Body = SOME_BODY;\n    using (var smtpClient = new SmtpClient())\n    {\n        await smtpClient.SendMailAsync(message);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 0, "last_activity_date": 1522887837, "last_edit_date": 1522887837, "creation_date": 1522887469, "answer_id": 49662297, "question_id": 49661833, "link": "https://stackoverflow.com/questions/49661833/have-multiple-threads-share-method-workload/49662297#49662297", "title": "Have multiple threads share method workload", "body": "<p>I just thought id weigh into this. The common answer here is to use <code>Parallel.ForEach</code> (well apart from <em>John Wus</em> answer that you should really consider). While on-the-outset <code>Parallel.ForEach</code> seems like an easy and good idea, its actually not the most optimal approach.</p>\n\n<p>Here is the problem</p>\n\n<p><code>Parallel.ForEach</code> uses the thread pool. Moreover, <em>IO bound</em> operations will block those threads waiting for a device to respond and tie up resources. </p>\n\n<ul>\n<li>If you have <em>CPU bound</em> code, <em>Parallelism</em> is appropriate; </li>\n<li>Though if you have <em>IO bound</em> code, <em>Asynchrony</em> is appropriate. </li>\n</ul>\n\n<p>In this case, sending mail is clearly <em>I/O</em>, so the ideal consuming code would be asynchronous.</p>\n\n<p>Furthermore.</p>\n\n<p>To use asynchronous and parallel features of the <em>.NET</em> properly, you should also understand the concept of <em>I/O threads</em>.</p>\n\n<ul>\n<li><p>Not everything in a program consumes CPU time. When a thread tries to read data from a file on disk or sends a TCP/IP packet through network, the only thing it does is delegate the actual work to a device; disk or network adapter; and wait for results.</p></li>\n<li><p>It\u2019s very expensive to spend a threads time on waiting. Even through threads sleep and don\u2019t consume <em>CPU</em> time while waiting for the results, it doesn\u2019t really pay off because it\u2019s a waste of system resources. </p></li>\n<li><p>To be simplistic, every thread holds memory for stack variables, local storage and so on. Also, the more threads you have, the more time it takes to switch among them.</p></li>\n</ul>\n\n<p><em>Though, the nice thing about <code>Parallel.ForEach</code> is its easy to implement, you can also set up options like Max Degree of Parallelism.</em> </p>\n\n<p>So what can you do...</p>\n\n<p>You are best to use <code>async</code>/<code>await</code> pattern and/or some type of limit on concurrent tasks, another neat solution is to <a href=\"https://msdn.microsoft.com/en-us/library/hh194684(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ActionBlock Class</a> in the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/dataflow-task-parallel-library\" rel=\"nofollow noreferrer\">TPL dataflow</a> library.</p>\n\n<p><strong>Dataflow example</strong></p>\n\n<pre><code>var block = new ActionBlock&lt;MySomething&gt;(\n    mySomething =&gt; MyMethodAsync(mySomething),\n    new ExecutionDataflowBlockOptions { MaxDegreeOfParallelism = 50 });\n\nforeach (var something in ListOfSomethings)\n{\n    block.Post(something );\n}\n\nblock.Complete();\nawait block.Completion;\n</code></pre>\n\n<p>This approach gives you <em>Asynchrony</em>, it also gives you <code>MaxDegreeOfParallelism</code>, it doesn't waste resources, and lets <em>IO</em> be <em>IO</em> without chewing up unnecessary resources </p>\n\n<blockquote>\n  <p><strong><em>Disclaimer</strong>, DataFlow may not be where you want to be, however i just thought id give you some more information on the different\n  approaches on offer</em></p>\n</blockquote>\n"}], "owner": {"reputation": 29, "user_id": 8122834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026d14c502d5f9dfe4e1a2f9a4b9e19?s=128&d=identicon&r=PG&f=1", "display_name": "Kop Lop", "link": "https://stackoverflow.com/users/8122834/kop-lop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1522887837, "creation_date": 1522883763, "last_edit_date": 1522885202, "question_id": 49661833, "link": "https://stackoverflow.com/questions/49661833/have-multiple-threads-share-method-workload", "title": "Have multiple threads share method workload", "body": "<p>I have a method called <code>asyncStartList</code>, which sends a list of emails provided it, and I'm trying to figure out how to use multiple threads to speed up the process in cases where there are a lot of emails:</p>\n\n<pre><code>public async Task asyncStartList()\n{\n    Stopwatch stopWatch = new Stopwatch();\n    stopWatch.Start();   \n\n    for (int i = 0; i &lt; listLength; i++)\n    {\n        currentMailAddress = emailingList[i];\n        await Task.Run(() =&gt; MailingFunction());\n        currentMailAddress = \"\";\n        Console.WriteLine(\"Your mail to {0} was successfully sent!\", emailingList[i]);\n    }\n\n    stopWatch.Stop();\n    TimeSpan ts = stopWatch.Elapsed;\n\n    string elapsedTime = String.Format(\"{0:00}:{1:00}:{2:00}.{3:00}\", \n        ts.Hours, ts.Minutes, ts.Seconds, ts.Milliseconds / 10);\n\n    Console.WriteLine(\"Time for completion \" + elapsedTime);\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>The <code>MailingFunction()</code> is a simple SmtpClient and mail message. </p>\n"}, {"tags": ["c#", "c++", ".net", "dll"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1522885385, "post_id": 49661658, "comment_id": 86333984, "body": "Start by taking a step back. Can you make the parameter an <code>IntPtr</code> and  pass an AllocHGlobal&#39;d block, and then read from that?  Does that still crash? If the answer is yes, it still crashes, then plainly the problem is somewhere else. If no, well, then problem solved."}, {"owner": {"reputation": 11, "user_id": 8755067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqGBj.jpg?s=128&g=1", "display_name": "O. Shep", "link": "https://stackoverflow.com/users/8755067/o-shep"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1522887452, "post_id": 49661658, "comment_id": 86334590, "body": "Yeah I tried that method, but the problem still persists."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1522946367, "post_id": 49661658, "comment_id": 86366058, "body": "You have good evidence that the native code corrupted the GC heap.  Putting GC.Collect() after the call might induce the crash sooner.  Whether that corruption is caused by this particular call is not so obvious, the unlikely scenario is that the C++ code could access the array but the C# code could not.  Hopefully it doesn&#39;t swallow an AccessViolationException, look in the Output window.  Fwiw, how <i>length</i> is calculated is not visible, forgetting to compensate for bpp and stride are classic bugs."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1523300622, "post_id": 49661658, "comment_id": 86494317, "body": "@HansPassant: That&#39;s the scenario I was thinking of when I suggested that a global-alloc&#39;d block be passed in. If the native code is writing past the bounds of that block then odds are good it won&#39;t hit a CLR data structure, unlike if it is writing past a CLR heap allocated block."}], "answers": [{"tags": [], "owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "is_accepted": false, "score": 0, "last_activity_date": 1522945848, "creation_date": 1522945848, "answer_id": 49677286, "question_id": 49661658, "link": "https://stackoverflow.com/questions/49661658/strange-issues-trying-to-pass-uint8-t-from-c-to-c/49677286#49677286", "title": "Strange Issues Trying to Pass uint8_t* from C# to C++", "body": "<p>Without access to the library itself, it's hard to provide direct help.  However, interop problems can often be resolved by creating a shim, then contracting the shim's code into non-existence once the shim is working.  An added benefit to this approach is that it splits the problem into more manageable chunks, and makes it easier to ask for focused help if stuck.</p>\n\n<p><strong>How to solve C#/C++ interop problems via shimming:</strong></p>\n\n<ol>\n<li>Write a C++ application which can call into the library. \nIdeally, this is just a matter of compiling a code sample from the\nvendor.  </li>\n<li>Write a trivial C++ library which you can call from C#. \nThis should just be a matter of compiling a code sample from MSDN or elsewhere.</li>\n<li>Iteratively modify the signature of the C++ and C# code from step 2 until it is identical to the signature used in step 1.  If you get stuck on any of the complex parameters, split them into primitives and pass them individually.   \n\n<ul>\n<li>If you split your parameters into basic enough components, you'll probably be able to find working code samples.</li>\n<li>If you get stuck on a specific parameter, write both a broken version (using the parameter you're stuck on) and a working version (using a parameter you got to work in step 2).  Then, you can post a question on SO like, \n\n<blockquote>\n  <p>The above code works, but when I change the parameter from classA to classB, line 5 causes a crash with the error message \"error: foo\". I thought this change was OK because of ZZZ.  How can I add a classB parameter without this crash? </p>\n</blockquote></li>\n</ul></li>\n<li>Recompile your application in step 1 as a library.  Modify the code in step 3 to call this library.</li>\n<li>(Optional) Inline the code from steps 1 and 3 (i.e., get rid of the shim).  If this step fails, you'll probably be stuck on a specific parameter, which again may be suitable to rework into a stackoverflow question.</li>\n<li>(Optional) Recombine any parameters that were split during step 3.</li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 8755067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqGBj.jpg?s=128&g=1", "display_name": "O. Shep", "link": "https://stackoverflow.com/users/8755067/o-shep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522945848, "creation_date": 1522882544, "question_id": 49661658, "link": "https://stackoverflow.com/questions/49661658/strange-issues-trying-to-pass-uint8-t-from-c-to-c", "title": "Strange Issues Trying to Pass uint8_t* from C# to C++", "body": "<p>I am having major issues working with a third-party API from C#.  I do not have the full source code for this API, nor do I know how the DLL was compiled.  I have been trying for many, many hours to figure this out to no avail.</p>\n\n<p>As far as I can tell, the function in question is defined in C++ as such:\n</p>\n\n<pre><code>    extern \"C\" uint32_t __stdcall GetQHYCCDSingleFrame(qhyccd_handle *handle,\n uint32_t *w, uint32_t *h, uint32_t *bpp, uint32_t *channels, uint8_t *imgdata);\n</code></pre>\n\n<p>The trouble-object in question is <code>uint8_t *imgdata</code>.  It is intended to be an array of 8-bit integers, passed by reference to the function. In C++, I declare the object as such:</p>\n\n<pre><code>ImgData = (unsigned char *)malloc(length);\nmemset(ImgData,0,length);\n</code></pre>\n\n<p>before passing it to the above function.</p>\n\n<p>In C#, I have tried a few different methods of passing the <code>imgdata</code> object correctly, but all result in similar issues.  For example, I have declared a byte array in C# as:\n<code>byte[] ImgData = new byte[length]</code>.  The <code>GetQHYCCDSingleFrame</code> function is imported into C# using the following declaration:</p>\n\n<pre><code>[DllImport(\"qhyccd.dll\", EntryPoint = \"GetQHYCCDSingleFrame\")]\n        public static extern UInt32 GetQHYCCDSingleFrame(IntPtr handle, ref UInt32 w, ref UInt32 h, ref UInt32 bpp, ref UInt32 channels, byte[] rawArray);\n</code></pre>\n\n<p>I can call the function properly without errors, but I run into issues when trying to use the <code>ImgData</code> array in C#.  In particular, say that I would like to print each element in the array to the console using the following code snippet:</p>\n\n<pre><code>for (int i = 0; i &lt; length; i++)\n{\n    Console.WriteLine(Convert.ToString(ImgData[i]));  \n}\n</code></pre>\n\n<p>This appears to run until about the 84,000th element, at which point a pop-up occurs telling me that \"Application has stopped working\", with no other error information.  I can access that element just fine, but if I want to write each element to a .CSV file, looping will always crash my program with no error information.  To make things even stranger the following code snippet will work:</p>\n\n<pre><code>byte safeByte;\nfor (int i = 0; i &lt; length; i++)\n{\n   safeByte = rawArray[i];\n\n}\n</code></pre>\n\n<p>which indicates to me that it's not necessarily a memory-access issue.  And, finally, to make things even more confusing, this code snippet will crash with the same \"Application has stopped working\" popup:</p>\n\n<pre><code>byte safeByte;\nbyte[] newArray = new byte[length];\nfor (int i = 0; i &lt; length; i++)\n{\n     safeByte = rawArray[i];\n}\n</code></pre>\n\n<p>except that it will crash while declaring the <code>newArray</code> object, before even entering the loop.</p>\n\n<p>I have tried many solutions from stackoverflow questions similar to mine, but nothing has worked, and I will always get the same \"Application has stopped working\" popup.  I really just need to save this data somehow to a text file in its integer form.  </p>\n"}, {"tags": ["c#", "sql-server", "database", "sqlbulkcopy"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1522882798, "post_id": 49661627, "comment_id": 86333254, "body": "creating a table with a hyphen in the name is just <i>asking</i> for problems; you could <i>try</i> escaping it - i.e. make sure <code>copy.DestinationTableName = &quot;[&quot; + symbolName + &quot;]&quot;;</code> - but I don&#39;t know whether that&#39;ll help. Frankly, my advice would be: &quot;don&#39;t create table names with hyphens in them&quot;"}, {"owner": {"reputation": 53, "user_id": 9400801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49b57f642d390c69fbcb115eb7d9af8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9400801/jeff"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1522883274, "post_id": 49661627, "comment_id": 86333389, "body": "thats work tnx so much"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9400801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49b57f642d390c69fbcb115eb7d9af8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9400801/jeff"}, "edited": false, "score": 0, "creation_date": 1522884291, "post_id": 49661836, "comment_id": 86333686, "body": "&quot;create table [&quot;+symbolName+&quot;] this work for me , maybe something wrong"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 2, "last_activity_date": 1522883772, "creation_date": 1522883772, "answer_id": 49661836, "question_id": 49661627, "link": "https://stackoverflow.com/questions/49661627/sql-bulk-destinationtablename/49661836#49661836", "title": "SQL Bulk DestinationTableName", "body": "<p>Just like you did when you created the table:</p>\n\n<pre><code>\"create table ['\"+symbolName+\"']\n</code></pre>\n\n<p>the trick here is probably to escape the table name to compensate for the hyphen in it, so:</p>\n\n<pre><code>copy.DestinationTableName = \"[\" + symbolName + \"]\";\n</code></pre>\n\n<p>Note: if possible, it is usually preferable to stick to names that don't need escaping. But... if it works.</p>\n"}], "owner": {"reputation": 53, "user_id": 9400801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49b57f642d390c69fbcb115eb7d9af8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9400801/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 49661836, "answer_count": 1, "score": 1, "last_activity_date": 1522902149, "creation_date": 1522882344, "last_edit_date": 1522902149, "question_id": 49661627, "link": "https://stackoverflow.com/questions/49661627/sql-bulk-destinationtablename", "title": "SQL Bulk DestinationTableName", "body": "<p>I use a <code>.csv</code> file to bulk insert into my SQL Server database. The problem is <code>DestinationTableName</code> because when I use a string for <code>DestinationTableName</code>, I get error exception </p>\n\n<blockquote>\n  <p>System.InvalidOperationException: Cannot access destination table</p>\n</blockquote>\n\n<p>as you can see in the screenshot.</p>\n\n<p>If a use \"test\" like copy.DestinationTableName = \"test\"; it works fine</p>\n\n<p><a href=\"https://i.stack.imgur.com/bpzK1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpzK1.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>string symbolName = dt.Rows[1][0].ToString();\n\nstring strConnection = @\"Data Source =.\\SQLEXPRESS; AttachDbFilename = C:\\USERS\\JEF\\DOCUMENTS\\DATABASE1.MDF; Integrated Security = True; Connect Timeout = 30; User Instance = True\";\nSqlConnection condb2 = new SqlConnection(strConnection);\n\nstring createTablerow =\"create table ['\"+symbolName+\"'] (code1 VARCHAR(100) COLLATE Arabic_CI_AI_KS_WS,date1 varchar(50),open1 varchar(50),high1 varchar(50),low1 varchar(50),close1 varchar(50),vol1 varchar(50))\";\n\nusing (SqlConnection connection = new SqlConnection(strConnection))\n{\n    SqlCommand command1 = new SqlCommand(createTablerow, connection);\n    connection.Open();\n    command1.ExecuteNonQuery();\n}\n\nusing (SqlConnection cn = new SqlConnection(strConnection))\n{\n    cn.Open();\n\n    using (SqlBulkCopy copy = new SqlBulkCopy(cn))\n    {\n        copy.ColumnMappings.Add(0, \"code1\");\n        copy.ColumnMappings.Add(1, \"date1\");\n        copy.ColumnMappings.Add(2, \"open1\");\n        copy.ColumnMappings.Add(3, \"high1\");\n        copy.ColumnMappings.Add(4, \"low1\");\n        copy.ColumnMappings.Add(5, \"close1\");\n        copy.ColumnMappings.Add(6, \"vol1\");\n\n        copy.DestinationTableName = symbolName;\n\n        copy.WriteToServer(dt);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522882921, "post_id": 49661600, "comment_id": 86333298, "body": "Why not use a <a href=\"https://msdn.microsoft.com/en-us/library/dd642331(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Lazy&lt;T&gt;</a>... e.g. <code>Lazy&lt;ObservableCollection&lt;T&gt;&gt;</code>?  Also when asking, try to include a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and the full error that you get. That makes it easier for others to help."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522883652, "post_id": 49661600, "comment_id": 86333512, "body": "@DennisKuypers I can&#39;t use Lazy as WPF will bind to the Lazy object rather then the ObservableCollection object, so it won&#39;t see any of the ObservableCollection notifications or interfaces. My solution is a live ObservableCollection that lazy loads its items through the factory."}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522883877, "post_id": 49661600, "comment_id": 86333578, "body": "If you have a way to safely convert from LazyObservableCollection&lt;xxxItem&gt; to xxxItemCollection, you could do  public xxxItemCollection(Action&lt;xxxItemCollection&gt; itemsFactory)     : base(new Action&lt;LazyObservableCollection&lt;xxxItem&gt;&gt;(a =&gt; itemsFactory(Convert(a, typeof(xxxItemCollection)))))"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522883901, "post_id": 49661600, "comment_id": 86333584, "body": "@DennisKuypers error is Argument 1: cannot convert from &#39;System.Action&lt;xxxItemCollection&gt;&#39; to &#39;System.Collections.Generic.IEnumerable&lt;xxxItem&gt;&#39;"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522884152, "post_id": 49661600, "comment_id": 86333649, "body": "@MBakardzhiev I took your idea and did base(x =&gt; itemsFactory((xxxItemCollection)x)) and that did the trick. No point in doing the convert since its guaranteed to be xxxItemCollection which is derived from the proper type. Thanks!"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522884305, "post_id": 49661600, "comment_id": 86333692, "body": "You should be careful when doing such cast because it will compile but might cause trouble at runtime. You need something safer."}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522882184, "creation_date": 1522882184, "question_id": 49661600, "link": "https://stackoverflow.com/questions/49661600/base-class-action-base-generics-type-issue", "title": "Base class / Action / Base / Generics type issue", "body": "<p>I have a base class:</p>\n\n<pre><code>public class LazyObservableCollection&lt;T&gt; : ObservableCollection&lt;T&gt;,\n                                           IEnumerable,\n                                           ICollection\n</code></pre>\n\n<p>It currently has a constructor that looks like:</p>\n\n<pre><code>public LazyObservableCollection(Action&lt;LazyObservableCollection&lt;T&gt;&gt; itemsFactory)\n</code></pre>\n\n<p>The idea is to have a lazy loadable ObservableCollection and be able to provide a factory so the user might do something like:</p>\n\n<pre><code>new LazyObservableCollection&lt;string&gt;(x =&gt;\n{\n   x.Add(\"Item1\");\n   x.Add(\"Item2\");\n});\n</code></pre>\n\n<p>Obviously that is a trivial example and its more for the cases where determining the items is expensive and you don't want to load everything at once.</p>\n\n<p>I then implemented a custom control that utilizes this class. I derived a class like so:</p>\n\n<pre><code>public class xxxItemCollection : LazyObservableCollection&lt;xxxItem&gt;\n</code></pre>\n\n<p>which has a constructor like this:</p>\n\n<pre><code>public xxxItemCollection(Action&lt;LazyObservableCollection&lt;xxxItem&gt;&gt; itemsFactory)\n    : base(itemsFactory)\n</code></pre>\n\n<p>This is all working, but here's my question... to me, I don't like that <code>xxxItemCollection</code> takes an <code>Action&lt;LazyObservableCollection&lt;xxxItem&gt;&gt;</code> for the <code>itemsFactory</code>. I believe it should be <code>Action&lt;xxxItemCollection&gt;</code>, but then I can't pass <code>xxxItemCollection</code> to the base class. The error message is actually about converting it to a <code>IEnumerable&lt;xxxItem&gt;</code>.</p>\n\n<p>Is there a way in the derived class to pass the derived type to the base class? Or should I be structuring the base class in a different way?</p>\n"}, {"tags": ["c#", "async-await", "task-parallel-library"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1522882281, "post_id": 49661589, "comment_id": 86333046, "body": "What code have you actually tried and how did it behave?"}, {"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1522882324, "post_id": 49661589, "comment_id": 86333065, "body": "Create a new async task?  In win32 I&#39;d just PostMessage the second task."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1522884142, "post_id": 49661589, "comment_id": 86333647, "body": "I would probably split <code>LoadSomeData</code> in two"}], "answers": [{"tags": [], "owner": {"reputation": 2301, "user_id": 517016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2562410f9eb8d8f50cae8a9b935f0d?s=128&d=identicon&r=PG", "display_name": "Nigel Whatling", "link": "https://stackoverflow.com/users/517016/nigel-whatling"}, "is_accepted": false, "score": 1, "last_activity_date": 1522885422, "creation_date": 1522885422, "answer_id": 49662033, "question_id": 49661589, "link": "https://stackoverflow.com/questions/49661589/c-run-code-in-background-and-continue-with-current-method/49662033#49662033", "title": "C# - Run code in background and continue with current method", "body": "<p>Below is some quick code I threw together around your method names. I've made them static just for convenience.</p>\n\n<pre><code>using System;\nusing System.Threading;\nusing System.Threading.Tasks;\n\npublic class Program\n{\n    public static void Main()\n    {\n        Console.WriteLine(\"Main Start\");\n\n        UIEventHandler(2000);\n        UIEventHandler(500);\n        UIEventHandler(1000);\n\n        Console.WriteLine(\"Main Stop\");\n\n        Thread.Sleep(3000); // wait for tasks to finish\n    }\n\n    private static async Task LoadSomeData(int delay)\n    {\n        await Task.Run(() =&gt;\n        {\n            Console.WriteLine(\"Start (LoadSomeData) \" + delay);\n            Thread.Sleep(delay);\n            Console.WriteLine(\"Stop (LoadSomeData) \" + delay);\n        });\n    }\n\n    private static async Task UIEventHandler(int delay)\n    {\n        Console.WriteLine(\"Start (UIEventHandler) \" + delay);\n        await LoadSomeData(delay);\n        Console.WriteLine(\"Stop (UIEventHandler) \" + delay);\n    }\n}\n</code></pre>\n\n<p>This is sample output from a test run:</p>\n\n<pre><code>Main Start\nStart (UIEventHandler) 2000\nStart (LoadSomeData) 2000\nStart (UIEventHandler) 500\nStart (UIEventHandler) 1000\nMain Stop\nStart (LoadSomeData) 500\nStart (LoadSomeData) 1000\nStop (LoadSomeData) 500\nStop (UIEventHandler) 500\nStop (LoadSomeData) 1000\nStop (UIEventHandler) 1000\nStop (LoadSomeData) 2000\nStop (UIEventHandler) 2000\n</code></pre>\n\n<p>You will notice that every call to <code>UIEventHandler</code> showed it's \"Start\" message straight away. However, the \"Stop\" message is not shown until the respective call to <code>LoadSomeData</code> is complete. The <code>await</code> operator is essentially telling the code in <code>UIEventHandler</code> to stop until the task in the called method is complete.</p>\n\n<p>That's a really simplistic view of it, though. I'd suggest doing some reading. This might be a good start:\n<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/async\" rel=\"nofollow noreferrer\">Asynchronous programming</a></p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 1751654, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72eb6dcea12c714be0a6e5c0e3de3a45?s=128&d=identicon&r=PG", "display_name": "haunteddevil619", "link": "https://stackoverflow.com/users/1751654/haunteddevil619"}, "edited": false, "score": 0, "creation_date": 1522950433, "post_id": 49663848, "comment_id": 86368411, "body": "Thanks for the response. The <code>LoadSomeData</code> method is called in the constructor whereas <code>UIEventHandler</code> is quite literally a UI event handler. In this handler, I need to wait here until <code>LoadSomeData2</code> is finished. However, I want to call <code>LoadSomeData2</code> ealier and have it run in the backgroud so that the UI handler would not have to wait long"}, {"owner": {"reputation": 1400, "user_id": 4333266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e85f689cc526d4f23389a34861fc683d?s=128&d=identicon&r=PG&f=1", "display_name": "mipnw", "link": "https://stackoverflow.com/users/4333266/mipnw"}, "reply_to_user": {"reputation": 121, "user_id": 1751654, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72eb6dcea12c714be0a6e5c0e3de3a45?s=128&d=identicon&r=PG", "display_name": "haunteddevil619", "link": "https://stackoverflow.com/users/1751654/haunteddevil619"}, "edited": false, "score": 1, "creation_date": 1522955577, "post_id": 49663848, "comment_id": 86371345, "body": "You cannot await inside a constructor therefore you cannot call LoadSomeData inside a constructor. Unless you are blocking in the constructor by calling LoadSomeData().Wait() which would be a terrible idea. First because that mixes synchronous and asynchronous code which you should not do, and second because don&#39;t make your constructor do async operations, expose an async method for that."}], "tags": [], "owner": {"reputation": 1400, "user_id": 4333266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e85f689cc526d4f23389a34861fc683d?s=128&d=identicon&r=PG&f=1", "display_name": "mipnw", "link": "https://stackoverflow.com/users/4333266/mipnw"}, "is_accepted": false, "score": -1, "last_activity_date": 1522955965, "last_edit_date": 1522955965, "creation_date": 1522900206, "answer_id": 49663848, "question_id": 49661589, "link": "https://stackoverflow.com/questions/49661589/c-run-code-in-background-and-continue-with-current-method/49663848#49663848", "title": "C# - Run code in background and continue with current method", "body": "<pre><code>private async Task LoadSomeData()\n{\n    var data = await Task.Delay(1000); // Replace with your HTTP GET\n    return data;\n}\n\nprivate async Task LoadSomeData2(Data data)\n{\n    var data2 = await Task.Delay(1000); // Replace with your other HTTP GET\n    return data2;\n}\n\nprivate async void UIEventHandler()\n{\n    var data = await LoadSomeData();\n    var data2 = await LoadSomeData2(data);\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>:\nI recommend you read <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">Async/Await - Best Practices in Asynchronous Programming</a></p>\n"}], "owner": {"reputation": 121, "user_id": 1751654, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72eb6dcea12c714be0a6e5c0e3de3a45?s=128&d=identicon&r=PG", "display_name": "haunteddevil619", "link": "https://stackoverflow.com/users/1751654/haunteddevil619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4359, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551593335, "creation_date": 1522882114, "last_edit_date": 1551593335, "question_id": 49661589, "link": "https://stackoverflow.com/questions/49661589/c-run-code-in-background-and-continue-with-current-method", "title": "C# - Run code in background and continue with current method", "body": "<p>I am new to async/await in C#. This is what I'm trying to do:</p>\n\n<pre><code>private async Task LoadSomeData()\n{\n    /*\n    *This is where the 'Data' is loaded with HTTP\n    */\n    //Data loading finished. Need to return control to next line from caller function and use this 'Data'\n\n    // Also need to use 'Data' to load 'Data2' over HTTP but is not very important\n    // and hence can be run in background. No piece of code depends on this currently.\n}\n\nprivate async void UIEventHandler()\n{\n    //await until 'Data2' has loaded\n    //Continue handling the event after Data2 is loaded\n}\n</code></pre>\n\n<p>My question is, how do I achieve the above operation. I don't want to return from <code>LoadSomeData()</code> method after retrieving Data2 as the current operation does not depend on it.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522882135, "post_id": 49661536, "comment_id": 86333003, "body": "Does the query in SQL manager and the one from linq return the same number of results?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1522882147, "post_id": 49661536, "comment_id": 86333006, "body": "you mention Excel, but you also mention SSMS; what is the backend here? have you checked that you&#39;re connecting where you <i>think</i> you&#39;re connecting? with some very niche exceptions, queries <i>generally</i> do the same thing via ADO.NET and SSMS. Also, are you sure you aren&#39;t just looking at the first matches? we would <i>expect</i> the March-1st records to be first, for example (because of the <code>OrderBy</code>)"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522882334, "post_id": 49661536, "comment_id": 86333069, "body": "What is the value of <code>toDate</code>?"}, {"owner": {"reputation": 1202, "user_id": 8024897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa21b10fa480589f020bd69ab1f805e9?s=128&d=identicon&r=PG&f=1", "display_name": "ZiggZagg", "link": "https://stackoverflow.com/users/8024897/ziggzagg"}, "edited": false, "score": 0, "creation_date": 1522882784, "post_id": 49661536, "comment_id": 86333246, "body": "Could it be that TradeDate is UTC but fromDate, toDate are localtime? Are you relying on conversion from string to datetime? What is the language of the database compared to your operating system?"}], "answers": [{"comments": [{"owner": {"reputation": 3248, "user_id": 229250, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5508e24d0db1ec370d50adc4af153ad8?s=128&d=identicon&r=PG", "display_name": "Bitfiddler", "link": "https://stackoverflow.com/users/229250/bitfiddler"}, "edited": false, "score": 0, "creation_date": 1522883525, "post_id": 49661690, "comment_id": 86333480, "body": "Thanks for this great summary.  Currently all the databases in the company I work for use straight up Dates so I will look into how hard it would be to migrate to offsets sometime."}], "tags": [], "owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "is_accepted": false, "score": 1, "last_activity_date": 1522882778, "creation_date": 1522882778, "answer_id": 49661690, "question_id": 49661536, "link": "https://stackoverflow.com/questions/49661536/linq-query-maps-dates-incorrectly/49661690#49661690", "title": "LINQ query maps dates incorrectly", "body": "<p>Although based on the results I cannot see exactly how you would end up with those results, it is very common that you could be dealing with a <code>DateTime</code> timezone issue. I suspect that perhaps you saved your dates to the database using a <code>DateTime</code> object from say <code>DateTime.Now</code> instead of <code>DateTime.UtcNow</code>. So at that point in time and based on the machine it was called on it would be based on the timezone and datelight savings of that machine.</p>\n\n<p>A <code>DateTime</code> object should not be used as it can relate to the region of the SQL database, the region of the server making this LINQ call and so the two regions could be on different timezones.</p>\n\n<p>Instead you should always use <code>DateTimeOffset</code>.</p>\n\n<p>If you cannot do that for some reason, then double-check your dates toDate and fromDate and do:</p>\n\n<pre><code>var utcToDate = toDate.ToUniversalTime().ToString(\"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'Z'\");\n\nvar utcFromDate = toDate.ToUniversalTime().ToString(\"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'Z'\");\n</code></pre>\n\n<p>Which gives something like this if it was run on 3rd April 2018 at 22:56.</p>\n\n<pre><code>2018-04-03T22:56:57.740Z\n</code></pre>\n\n<p>You would then also need to make sure when you save any date to the SQL backing store that you do ToUniversalTime() firstly. You can check your SQL tables directly with a normal SQL query and they should be stored in the database as the same UTC string format as above, and then the comparison should be obvious to whether it is valid.</p>\n\n<blockquote>\n  <p>However I would strongly recommend changing all your DateTime calls and gets to <code>DateTimeOffset</code>. The only time to use <code>DateTime</code> in majority of cases is for the final display to a user.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3248, "user_id": 229250, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5508e24d0db1ec370d50adc4af153ad8?s=128&d=identicon&r=PG", "display_name": "Bitfiddler", "link": "https://stackoverflow.com/users/229250/bitfiddler"}, "is_accepted": false, "score": 0, "last_activity_date": 1522883016, "creation_date": 1522883016, "answer_id": 49661723, "question_id": 49661536, "link": "https://stackoverflow.com/questions/49661536/linq-query-maps-dates-incorrectly/49661723#49661723", "title": "LINQ query maps dates incorrectly", "body": "<p>Thank you all for your suggestions.  For those who are familiar with linq, EF and views this may seem like a stupid oversight, but I will post my shame for others in case this happens to them since the cause and the resulting behavior are not immediately obviously linked (as can be seen by all the suggestions, none of which actually point to the answer).</p>\n\n<p>When you are querying a view using linq and Entity Framework, you apparently must have a column called 'Id', otherwise Entity Framework can't distinguish any of the rows from one another and simply makes some sort of duplication that I can't quite decipher (all the rows were unique based on their data even without an Id column, so I can't quite figure out why this is necessary).</p>\n\n<p>So by adding an the TradeId with an 'Id' alias to the view, then Entity Framework seemed to return to sanity and map the data as expected. </p>\n"}], "owner": {"reputation": 3248, "user_id": 229250, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5508e24d0db1ec370d50adc4af153ad8?s=128&d=identicon&r=PG", "display_name": "Bitfiddler", "link": "https://stackoverflow.com/users/229250/bitfiddler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522883016, "creation_date": 1522881784, "question_id": 49661536, "link": "https://stackoverflow.com/questions/49661536/linq-query-maps-dates-incorrectly", "title": "LINQ query maps dates incorrectly", "body": "<p>My query looks like so:</p>\n\n<pre><code>using (var ctx = new PCLvsCompContext())\n{\n    var brokerId = broker?.Id;\n    var symbolId = company?.Id;\n\n    var result = (from t in ctx.TradeHistoryJoineds\n            where t.TradeDate &gt;= fromDate\n                &amp;&amp; t.TradeDate &lt;= toDate\n                &amp;&amp; (brokerId == null || t.BrokerId == brokerId)\n                &amp;&amp; (symbolId == null || t.SymbolId == symbolId)\n            select t).OrderBy(x =&gt; x.TradeDate).ThenBy(x =&gt; x.BrokerName).ToList();\n\n    return result;\n}\n</code></pre>\n\n<p>As an example, I run this query with dates like fromDate March-01-2017 toDate March-31-2017. I then captured the generated sql in SQL profiler that this query produces and ran it in SQL management studio.  The output was as expected where for each weekday, each company has some trades.  The query is based off of a view which casts all dates to \"datetime\" so that excel can parse them as dates correctly.  However, when I put a breakpoint at \"return result\" and inspect the dates, all but 2 of the dates are March-1-2017.  This is incorrect, the query result in SQL manager shows trades for almost every weekday in March (which is correct).</p>\n\n<p>What is going on here?  Why is Linq losing its mind?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 2218, "user_id": 707103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e6391e6b9c8a1909b84cf52903dbac3?s=128&d=identicon&r=PG", "display_name": "lockstock", "link": "https://stackoverflow.com/users/707103/lockstock"}, "edited": false, "score": 0, "creation_date": 1522884957, "post_id": 49661484, "comment_id": 86333877, "body": "Did you read the error message? line 21 of movementscript.cs is throwing a null reference exception, so either PlayerController.Playeragent or Pad1 is null."}, {"owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "reply_to_user": {"reputation": 2218, "user_id": 707103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e6391e6b9c8a1909b84cf52903dbac3?s=128&d=identicon&r=PG", "display_name": "lockstock", "link": "https://stackoverflow.com/users/707103/lockstock"}, "edited": false, "score": 0, "creation_date": 1522885610, "post_id": 49661484, "comment_id": 86334048, "body": "Thanks lockstock, figured out I just needed to use Get Component in a start function."}, {"owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "reply_to_user": {"reputation": 2218, "user_id": 707103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e6391e6b9c8a1909b84cf52903dbac3?s=128&d=identicon&r=PG", "display_name": "lockstock", "link": "https://stackoverflow.com/users/707103/lockstock"}, "edited": false, "score": 0, "creation_date": 1522886801, "post_id": 49661484, "comment_id": 86334412, "body": "Got the errors out of the way, now I have to deal with the actual movement."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "edited": false, "score": 0, "creation_date": 1522960046, "post_id": 49663149, "comment_id": 86373730, "body": "The errors have been fixed but thanks anyways. this comment made me realize I do not need the Collider."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9211718"}, "is_accepted": false, "score": 0, "last_activity_date": 1522894848, "creation_date": 1522894848, "answer_id": 49663149, "question_id": 49661484, "link": "https://stackoverflow.com/questions/49661484/how-to-change-a-nav-mesh-goal-based-on-based-on-a-transform/49663149#49663149", "title": "How to change a nav mesh goal based on based on a transform", "body": "<p>The error is here</p>\n\n<pre><code> void Start()\n{\n    GetComponent&lt;Collider&gt;();\n    //Dice.gameObject.SetActive(false);\n    //work\n}\n</code></pre>\n\n<p>You have not referenced collider correctly. </p>\n\n<p>replace</p>\n\n<pre><code>GetComponent&lt;Collider&gt;();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>Collider col  = GetComponent&lt;Collider&gt;();\n</code></pre>\n\n<p>Also I don't think there is a need for the collider in this script.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1523045700, "creation_date": 1523045700, "answer_id": 49700416, "question_id": 49661484, "link": "https://stackoverflow.com/questions/49661484/how-to-change-a-nav-mesh-goal-based-on-based-on-a-transform/49700416#49700416", "title": "How to change a nav mesh goal based on based on a transform", "body": "<p>I just made different scripts for the different paths. I think this would be the best way for me to do this. Thanks.\nHere is one of them for example.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Pad1 : MonoBehaviour {\n// Use this for initialization\nvoid Start () {\n    //Collider padcollider = GetComponent&lt;SphereCollider&gt;();\n}\n\nprivate void OnTriggerEnter(Collider other)\n{\n    if (gameObject.CompareTag(\"Player\"))\n    {\n        gameObject.GetComponent&lt;PlayerController&gt;();\n        PlayerController.AtSpawn = false;\n        PlayerController.AtPad1 = true;\n\n    }\n}\npublic static void MoveFromPad1 ()\n{\n    if (PlayerController.MoveSpaces != 0)\n    {\n        PlayerController.MoveSpaces -= 1;\n        if (PlayerController.ThisPlayersTurn == true)\n        {\n            if (PlayerController.MoveSpaces == 1)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntPad2.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n            if (PlayerController.MoveSpaces == 2)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntPad3.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n            if (PlayerController.MoveSpaces == 3)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntPad4.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n            if (PlayerController.MoveSpaces == 4)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntPad5.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n            if (PlayerController.MoveSpaces == 5)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntPad6.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n            if (PlayerController.MoveSpaces == 6)\n            {\n                PlayerController.Playeragent.SetDestination(PadManager.IntGoal.transform.position);\n                PlayerController.MoveSpaces -= 1;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Next step. trying to figure out how to grab a script component from the player when stepping on a Pad.</p>\n"}], "owner": {"reputation": 23, "user_id": 9599356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JustARandomGuy", "link": "https://stackoverflow.com/users/9599356/justarandomguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523045700, "creation_date": 1522881385, "last_edit_date": 1522959896, "question_id": 49661484, "link": "https://stackoverflow.com/questions/49661484/how-to-change-a-nav-mesh-goal-based-on-based-on-a-transform", "title": "How to change a nav mesh goal based on based on a transform", "body": "<p>I am trying to make a mario party/ board game type game and I can not seem to be getting the movement right. I tried moving the player through a navmesh following is goal that changes per turn and can change in any situation. This is what I have so far for the controller.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.AI;\npublic class  PlayerController : MonoBehaviour\n{\n\npublic static NavMeshAgent Playeragent;\npublic static float MoveSpaces;\npublic bool ThisPlayersTurn;\npublic Transform MoveTo;\npublic Transform Dice;\npublic Vector3 DicePosition;\npublic bool HasHitDice;\n// Use this for initialization\nvoid Start()\n{\n    GetComponent&lt;Collider&gt;();\n    //Dice.gameObject.SetActive(false);\n    //work\n}\n\n// Update is called once per frame\nvoid Update()\n{\n\n    //Debugging the NavMesh\n    //Playeragent.SetDestination(MoveTo.transform.position);\n    //Start of the turn.\n    if (ThisPlayersTurn == true)\n    {\n        //Moveplayer();\n        //Put the Dice above the player.\n        Dice.gameObject.SetActive(true);\n        Dice.transform.position = transform.position + DicePosition;\n        //Playeragent.SetDestination(MoveTo.transform.position);\n    }\n    //if it is not the players turn, disable the dice.\n    if (ThisPlayersTurn != true)\n    {\n        Dice.gameObject.SetActive(false);\n    }\n    // If it is this players turn and the dice has not been hit.\n    if (ThisPlayersTurn == true &amp; HasHitDice == false)\n    {\n        // If the player pressed Jump and the dice is rotating.\n        if (Input.GetButtonDown(\"Jump\") &amp; DiceMotion.canrotate == true)\n        {\n            // Call the function for us to know how far to move.\n            DiceMotion.MoveSpaceAmount();\n\n        }\n    }\n}\n\npublic void Moveplayer()\n{\n    if(UIController.player1ismoving == true)\n    Debug.Log(\"We are moving\");\n   Playeragent.SetDestination(MoveTo.transform.position);\n}\n</code></pre>\n\n<p>This is what I got for the movement.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.AI;\n\npublic class MovementScript : MonoBehaviour {\n\npublic static NavMeshAgent Playeragent;\npublic Transform Pad1;\npublic Transform Pad2;\npublic Transform Pad3;\npublic Transform Pad4;\npublic Transform Pad5;\npublic Transform Pad6;\n//public Transform Pad7;\npublic Transform Goal;\npublic static Transform GoHere;\n\npublic void Update()\n{\n    if(PlayerController.Playeragent.nextPosition == Pad1.transform.position)\n    {\n        Debug.Log(\"Testing\");\n    }\n}\npublic void MovePlayer()\n{\n    if (UIController.player1ismoving == true)\n    {\n        if (DiceMotion.canrotate == false)\n        {\n            Playeragent.SetDestination(Goal.transform.position);\n        }\n    }\n}\n//Test which pad we are on\nprivate void OnTriggerEnter(Collider other)\n{\n    //Spawn\n    if (gameObject.CompareTag(\"Spawn\"))\n    {\n        if(PlayerController.MoveSpaces == 1) {\n            if(DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad1.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad2.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad3.transform.position;\n            }\n        }\n    }\n    //Pad1\n    if (gameObject.CompareTag(\"Pad1\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad2.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad3.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad4.transform.position;\n            }\n        }\n    }\n    //Pad2\n    if (gameObject.CompareTag(\"Pad2\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad3.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad4.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad5.transform.position;\n            }\n        }\n    }\n    //Pad3\n    if (gameObject.CompareTag(\"Pad3\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad4.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad5.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad6.transform.position;\n            }\n        }\n    }\n    //Pad4\n    if (gameObject.CompareTag(\"Pad4\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad5.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad6.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n    }\n    //Pad5\n    if (gameObject.CompareTag(\"Pad5\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Pad6.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n    }\n    //Pad5\n    if (gameObject.CompareTag(\"Pad6\"))\n    {\n        if (PlayerController.MoveSpaces == 1)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 2)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n        if (PlayerController.MoveSpaces == 3)\n        {\n            if (DiceMotion.canrotate == false)\n            {\n                GoHere.transform.position = Goal.transform.position;\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>I managed to make the dice stop rotating when the Jump button is hit and give the player a number of spaces to move.</p>\n\n<pre><code>    using System.Collections;\n    using System.Collections.Generic;\n    using UnityEngine;\n\n    public class DiceMotion : MonoBehaviour {\n\n\n    public static bool canrotate = true;\n    public static float movenumber;\n\n    private void LateUpdate()\n    {\n        //Rotate the Dice.\n        if (canrotate == true)\n        {\n            transform.Rotate(new Vector3(15, 30, 45) * Time.deltaTime);\n        }\n    }\n\n\n    private void OnCollisionEnter(Collision collision)\n    {\n        if (collision.gameObject.CompareTag(\"Player\"))\n            {\n            canrotate = false;\n        }\n    }\n\n    public static void MoveSpaceAmount()\n    {\n        movenumber = Random.Range(1, 6);\n        PlayerController.MoveSpaces = movenumber;\n        Debug.Log(\"You can move \" + PlayerController.MoveSpaces + \" spaces\");\n        canrotate = false;\n\n    }\n }\n</code></pre>\n\n<p>I can not seem to find out how to fix this.\nIf the problem is still unclear, the character will not move, even when using this UI script to force the player to move.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic; \nusing UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.AI;\n\npublic class UIController : MonoBehaviour {\n\npublic static bool player1ismoving = false;\npublic static GameObject Player1;\npublic static NavMeshAgent p1a;\npublic void StartMovement()\n{\n    p1a.SetDestination(MovementScript.GoHere.transform.position);\n}\n} \n</code></pre>\n\n<p>Here are the errors I get with these scripts.</p>\n\n<pre><code>    NullReferenceException: Object reference not set to an instance of an object\n    MovementScript.Update () (at Assets/Scripts/MovementScript.cs:21)\n\n    NullReferenceException: Object reference not set to an instance of an object\n    UIController.StartMovement () (at Assets/Scripts/UIController.cs:14)\n    UnityEngine.Events.InvokableCall.Invoke () (at \n    C:/buildslave/unity/build/Runtime/Export/UnityEvent.cs:165)\n    UnityEngine.Events.UnityEvent.Invoke () (at \n    C:/buildslave/unity/build/Runtime/Export/UnityEvent_0.cs:58)\n    UnityEngine.UI.Button.Press () (at \n C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/UI/Core/Button.cs:36)\nUnityEngine.UI.Button.OnPointerClick (UnityEngine.EventSystems.PointerEventData eventData) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/UI/Core/Button.cs:45)\nUnityEngine.EventSystems.ExecuteEvents.Execute (IPointerClickHandler handler, UnityEngine.EventSystems.BaseEventData eventData) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/EventSystem/ExecuteEvents.cs:50)\nUnityEngine.EventSystems.ExecuteEvents.Execute[IPointerClickHandler] (UnityEngine.GameObject target, UnityEngine.EventSystems.BaseEventData eventData, UnityEngine.EventSystems.EventFunction`1 functor) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/EventSystem/ExecuteEvents.cs:261)\nUnityEngine.EventSystems.EventSystem:Update()\n\nNullReferenceException: Object reference not set to an instance of an object\nUIController.StartMovement () (at Assets/Scripts/UIController.cs:14)\nUnityEngine.Events.InvokableCall.Invoke () (at C:/buildslave/unity/build/Runtime/Export/UnityEvent.cs:165)\nUnityEngine.Events.UnityEvent.Invoke () (at C:/buildslave/unity/build/Runtime/Export/UnityEvent_0.cs:58)\nUnityEngine.UI.Button.Press () (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/UI/Core/Button.cs:36)\nUnityEngine.UI.Button.OnSubmit (UnityEngine.EventSystems.BaseEventData eventData) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/UI/Core/Button.cs:50)\nUnityEngine.EventSystems.ExecuteEvents.Execute (ISubmitHandler handler, UnityEngine.EventSystems.BaseEventData eventData) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/EventSystem/ExecuteEvents.cs:127)\nUnityEngine.EventSystems.ExecuteEvents.Execute[ISubmitHandler] (UnityEngine.GameObject target, UnityEngine.EventSystems.BaseEventData eventData, UnityEngine.EventSystems.EventFunction`1 functor) (at C:/buildslave/unity/build/Extensions/guisystem/UnityEngine.UI/EventSystem/ExecuteEvents.cs:261)\nUnityEngine.EventSystems.EventSystem:Update()\n</code></pre>\n\n<p>I tried searching this stuff up but it does not seem to be going so well. Sorry for the very long post.</p>\n\n<p>EDIT: I have the NavMesh Editor or sample installed into the project. The object named GoHere is a physical object you can see and it does not change position when a random number is given.\nEDIT2: Changed title to How to change a nav mesh goal based on based on a transform to make the question more understandable.</p>\n"}, {"tags": ["c#", ".net", "docker", "httpclient"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522881331, "post_id": 49661454, "comment_id": 86332702, "body": "How long does it take to timeout on 4.6.1? How long does it take to succeed on .NET Core 2.0?"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522881707, "post_id": 49661454, "comment_id": 86332844, "body": "4.6.1 Timeout thrown after 1 min 40 seconds 2.0 Executes in about 1 second  Note: Both Versions actually do make the call to Docker &amp; create the container, just 4.6.1 will not finish so I can get the results."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522882196, "post_id": 49661454, "comment_id": 86333021, "body": "What is the value of <code>reply</code>?"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522882515, "post_id": 49661454, "comment_id": 86333141, "body": "Valid = {&quot;Id&quot;:&quot;b0336923e3013bffa18661cc2b915479615e33f8ed2576f159f63&zwnj;&#8203;bb48272b1c2&quot;,&quot;Warnin&zwnj;&#8203;gs&quot;:null} Time out = One or more errors occurred.  With Exception stack trace being &quot;   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\\r\\n   at System.Threading.Tasks.Task<code>1.GetResultCore(Boolean waitCompletionNotification)\\r\\n   at System.Threading.Tasks.Task</code>1.get_Result()\\r\\n   at DockerDebug.Program.Main(String[] args) in C:\\\\Users\\\\user\\\\source\\\\repos\\\\DockerDebug\\\\DockerDebug\\\\Pr&zwnj;&#8203;ogram.cs:line 18&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522884460, "post_id": 49661828, "comment_id": 86333737, "body": "I&#39;ve tried the async await both with &amp; without .ConfigureAwait(false) The Timeout error still occurs, so I never get my valid reply back. The Function itself is running (Container is created in both version)"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522884692, "post_id": 49661828, "comment_id": 86333798, "body": "And just ran your code to verify. Same error &quot;A task was canceled.&quot; :(  after 1 min 40 seconds."}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522885661, "post_id": 49661828, "comment_id": 86334058, "body": "The only 2 things I know of that will trigger a task was canceled are: 1. You canceled it specifically (which your code does not do), or 2. The http call timed out... which suggests the Timeout was not set correct, or in the wrong place, or perhaps .Net Framework is not honouring that. Did you copy my code verbatim?"}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522885821, "post_id": 49661828, "comment_id": 86334116, "body": "You can also check if it was a timeout by doing in the catch statement with: <code>var wasTimeout = !(ex as TaskCanceledException)?.CancellationToken.IsCancellationRequ&zwnj;&#8203;ested</code>. Note I updated example code how to correctly set timeout"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522886261, "post_id": 49661828, "comment_id": 86334251, "body": "yes, and just ran with 10 min timeout, took 10 minutes now, but still same time out error. httpClient.Timeout = new System.TimeSpan(0, 10, 0);"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522886450, "post_id": 49661828, "comment_id": 86334304, "body": "and exception shows IsCancellationRequested = false"}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522886598, "post_id": 49661828, "comment_id": 86334353, "body": "Ok so its likely taking longer than 10 minutes. Can you monitor if your docker is actually created before then?"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522887296, "post_id": 49661828, "comment_id": 86334542, "body": "Yes, in both the .NET Core 2.0 &amp; .NET 4.6.1 the container itself is created in the first second. Just that in .NET 4.6.1 it will not return from the call."}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "edited": false, "score": 0, "creation_date": 1522889181, "post_id": 49661828, "comment_id": 86335050, "body": "Any reason you are using 4.6.1? I would just use 4.7.1"}, {"owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "reply_to_user": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "edited": false, "score": 0, "creation_date": 1522890237, "post_id": 49661828, "comment_id": 86335290, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168256/discussion-between-pgp-protector-and-angelsix\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "is_accepted": false, "score": 1, "last_activity_date": 1522885911, "last_edit_date": 1522885911, "creation_date": 1522883740, "answer_id": 49661828, "question_id": 49661454, "link": "https://stackoverflow.com/questions/49661454/trying-to-find-why-my-postasyncurl-body-results-will-time-out-but-only-in-ne/49661828#49661828", "title": "Trying to find why my PostAsync(URL,BODY).Results will Time out, but only in .NET 4.6", "body": "<p>The first thing I would do is to remove the <code>.Result</code> you are doing everywhere to forcefully drop async Tasks back to synchronous returns. It is bad and could introduce locks as well as other issues.</p>\n\n<p>Instead a simple fix to convert it to true async and still allow the console to <em>wait</em> is like this:</p>\n\n<pre><code>using System;\nusing System.Net.Http;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var tcs = new TaskCompletionSource&lt;bool&gt;();\n\n            string reply = string.Empty;\n\n            Task.Run(async () =&gt;\n            {\n                try\n                {\n                    using (var httpClient = new HttpClient())\n                    {\n                        var httpContent = new StringContent(\"{\\\"Image\\\":\\\"busybox\\\"}\", Encoding.UTF8, \"application/json\");\n                        var result = await httpClient.PostAsync(\"http://localhost:2375/v1.29/containers/create?name=bussybox\", httpContent);\n                        reply = await result.Content.ReadAsStringAsync();\n                    }\n                }\n                catch (Exception ex)\n                {\n                    reply = ex.Message;\n                    tcs.TrySetResult(false);\n                }\n            });\n\n            tcs.Task.Wait();\n\n            Console.WriteLine(reply);\n        }\n    }\n}\n</code></pre>\n\n<p>Basically create a <code>TaskCompletionSource&lt;bool&gt;</code> and <em>wait</em> for that instaed. Then run a new <strong>Task</strong> which will start a background thread and run off the main thread. </p>\n\n<p>Once your task is complete set the <strong>tcs</strong> so that the <code>Wait()</code> call continues.</p>\n\n<blockquote>\n  <p>Here is my video on Threads to help you understand at least Threads, and I will cover Tasks shortly but it should give you some insight into the Task.Run near the very end of the video. <a href=\"https://www.youtube.com/watch?v=XXg9g56FS0k\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=XXg9g56FS0k</a></p>\n</blockquote>\n\n<p>See if that fixes your issue. If not it's likely the simple fact the <code>HttpClient</code> is implemented differently in .Net Framework than it is in .Net Core. So for that you can change the Timeout to much longer if you like with:</p>\n\n<pre><code>httpClient.Timeout = TimeSpan.FromMinutes(10);\n</code></pre>\n\n<p>To set a timeout of 10 minutes.</p>\n\n<p>Between those two things I don't think you should have an issue.</p>\n"}], "owner": {"reputation": 208, "user_id": 209105, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/02226793a5c96c29ddc2851f696a4a29?s=128&d=identicon&r=PG", "display_name": "PGP_Protector", "link": "https://stackoverflow.com/users/209105/pgp-protector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522885911, "creation_date": 1522881234, "last_edit_date": 1522881933, "question_id": 49661454, "link": "https://stackoverflow.com/questions/49661454/trying-to-find-why-my-postasyncurl-body-results-will-time-out-but-only-in-ne", "title": "Trying to find why my PostAsync(URL,BODY).Results will Time out, but only in .NET 4.6", "body": "<p>I'm trying to Create a Docker Container via a POST Request to a REST API.</p>\n\n<p>In .NET Core 2.0 The following Code works </p>\n\n<pre><code>using System;\nusing System.Net.Http;\nusing System.Text;\n\nnamespace DockerDebug\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string reply = string.Empty;\n            try\n            {\n                using (HttpClient dockerClient = new HttpClient())\n                {\n                    StringContent httpContent = new StringContent(\"{\\\"Image\\\":\\\"busybox\\\"}\", Encoding.UTF8, \"application/json\");\n                    HttpResponseMessage dockerRepsponse = dockerClient .PostAsync(\"http://localhost:2375/v1.29/containers/create?name=bussybox\", httpContent).Result;\n                    reply = dockerRepsponse.Content.ReadAsStringAsync().Result;\n                }\n            }\n            catch (Exception ex)\n            {\n                reply = ex.Message;\n            }\n            Console.WriteLine(reply);\n        }\n    }\n}\n</code></pre>\n\n<p>My Docker Environment Does have Expose daemon on tcp://localhost:2357 without TLS turned on.</p>\n\n<p>I can run the above command vis a REST Call with Chrome's REST API Plug in, or POSTMAN.</p>\n\n<p>Also the above code works in .NET Core 2.0 </p>\n\n<p>but when Building .NET 4.5 &amp; 4.6.1 it times out every time on the PostAsync call.</p>\n"}, {"tags": ["c#", ".net", "inversion-of-control", "ninject", "ioc-container"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 1, "creation_date": 1522882528, "post_id": 49661410, "comment_id": 86333143, "body": "I assume that ninject has a factory pattern where you can do something similar to Autofac&#39;s delegate factories <a href=\"http://autofaccn.readthedocs.io/en/latest/advanced/delegate-factories.html\" rel=\"nofollow noreferrer\">autofaccn.readthedocs.io/en/latest/advanced/&hellip;</a> This allows you to inject a Function delegate that takes the id and name so that the dependent class can pass those in. The other dependencies are handled by the framework. Sorry, I have not found this in the ninject docs"}, {"owner": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522953742, "post_id": 49661410, "comment_id": 86370304, "body": "@DennisKuypers, i see Autofac does what i need in the PAYOFF section. I&#39;m trying to find something similar for ninject. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "edited": false, "score": 0, "creation_date": 1522953582, "post_id": 49676845, "comment_id": 86370223, "body": "How can i set these parameters dinamically? &quot;1&quot; and &quot;test&quot; are different for each case. I used .WithConstrucotorArgument when i used Ninject as Service Locator. Imagine &quot;MyClass&quot; as a Web Api controller. All the interfaces are injected automatically through the pipeline."}, {"owner": {"reputation": 3901, "user_id": 5296462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nGLf.jpg?s=128&g=1", "display_name": "Jan Muncinsky", "link": "https://stackoverflow.com/users/5296462/jan-muncinsky"}, "reply_to_user": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "edited": false, "score": 0, "creation_date": 1522957566, "post_id": 49676845, "comment_id": 86372466, "body": "@MaxBertoli, not clear what you need, but maybe factory can help you."}, {"owner": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "edited": false, "score": 0, "creation_date": 1522968130, "post_id": 49676845, "comment_id": 86376906, "body": "please take a look to this link (referred to Autofac), this is what i want: <a href=\"http://autofaccn.readthedocs.io/en/latest/advanced/delegate-factories.html#the-payoff\" rel=\"nofollow noreferrer\">autofaccn.readthedocs.io/en/latest/advanced/&hellip;</a>"}, {"owner": {"reputation": 3901, "user_id": 5296462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nGLf.jpg?s=128&g=1", "display_name": "Jan Muncinsky", "link": "https://stackoverflow.com/users/5296462/jan-muncinsky"}, "reply_to_user": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "edited": false, "score": 1, "creation_date": 1523004017, "post_id": 49676845, "comment_id": 86388777, "body": "@MaxBertoli, ok, so as I said factory should help you. See the edit. More info here: <a href=\"https://github.com/ninject/Ninject.Extensions.Factory/wiki\" rel=\"nofollow noreferrer\">github.com/ninject/Ninject.Extensions.Factory/wiki</a>"}], "tags": [], "owner": {"reputation": 3901, "user_id": 5296462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nGLf.jpg?s=128&g=1", "display_name": "Jan Muncinsky", "link": "https://stackoverflow.com/users/5296462/jan-muncinsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1522957475, "last_edit_date": 1522957475, "creation_date": 1522944383, "answer_id": 49676845, "question_id": 49661410, "link": "https://stackoverflow.com/questions/49661410/ioc-ninject-add-parameters-other-than-interfaces-to-constructors/49676845#49676845", "title": "Ioc Ninject: add parameters other than interfaces to constructors", "body": "<p>There are two ways how to achieve this:</p>\n\n<p>Use <code>ToConstructor</code> method:</p>\n\n<pre><code>kernel.Bind&lt;IPerformer&gt;()\n.ToConstructor(c =&gt; new MyClass(c.Inject&lt;IMapper&gt;(), c.Inject&lt;IManager&gt;(), 1, \"test\"));\n</code></pre>\n\n<p>Or use one of overloads of <code>WithConstructorArgument</code> method:</p>\n\n<pre><code>kernel.Bind&lt;IPerformer&gt;().To&lt;MyClass&gt;()\n.WithConstructorArgument(\"id\", 1)\n.WithConstructorArgument(\"name\", \"test\");\n\nkernel.Bind&lt;IPerformer&gt;().To&lt;MyClass&gt;()\n.WithConstructorArgument(typeof(int), 1)\n.WithConstructorArgument(typeof(string), \"test\");\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>For passing of dynamic parameters create factory and inject this factory.</p>\n\n<pre><code>public interface IPerformerFactory\n{\n     IPerformer Create(int id, string name)\n}\n\nkernel.Bind&lt;IPerformer&gt;().To&lt;MyClass&gt;();\nkernel.Bind&lt;IPerformerFactory&gt;().ToFactory();\n</code></pre>\n"}], "owner": {"reputation": 462, "user_id": 4243433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1545305494/picture?type=large", "display_name": "Max Bertoli", "link": "https://stackoverflow.com/users/4243433/max-bertoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 49676845, "answer_count": 1, "score": 1, "last_activity_date": 1522957475, "creation_date": 1522880959, "last_edit_date": 1522948564, "question_id": 49661410, "link": "https://stackoverflow.com/questions/49661410/ioc-ninject-add-parameters-other-than-interfaces-to-constructors", "title": "Ioc Ninject: add parameters other than interfaces to constructors", "body": "<p>In my actual code i have a similar situation:</p>\n\n<pre><code>public Interface IPerformer\n{\n    void Perform_A(int id, string name);\n    void Perform_B(int id, string name);\n    void Perform_C(int id, string name);\n}\n\n\npublic MyClass : IPerformer\n{\n    private readonly IMapper _mapper;\n    private readonly IManager _manager;\n\n    public MyClass(IMapper mapper, IManager manager)\n    {\n        _mapper = mapper;\n        _manager = manager;\n    }\n\n    public void Perform_A(int id, string name)\n    { \n        _manager.DoSomething_A(id, name);\n    }\n\n    public void Perform_B(int id, string name)\n    {\n        _manager.DoSomething_B(id, name);\n    }\n\n    public void Perform_C(int id, string name)\n    {\n        _manager.DoSomething_C(id, name);\n    }\n}\n</code></pre>\n\n<p>My IManager implementation works with methods that requires an int and a string.\nI was forced to create an interface that, in all its methods signature, exposed these two parameters so the injected IManager object could work with.</p>\n\n<p>This class will be then called in a web api whose constructor will have an IMapper and an IManager parameters (obviously automatically resolved).</p>\n\n<p>What i wish to do is to remove all occurrences of id and name parameters and pass them into constructor, but Ninject doesn't allow me to do something like that:</p>\n\n<pre><code>public MyClass(IMapper mapper, IManager manager, int id, string name) { ... }\n</code></pre>\n\n<p>and then in the webapi controller:</p>\n\n<pre><code>public class PerformController : ApiController\n{\n    public PerformController(IMapper mapper, IManager manager, int id, string name)\n    {\n        ...\n    }   \n}\n</code></pre>\n\n<p>Definitely, i'd like my IPerformer interface sounded like:</p>\n\n<pre><code>public Interface IPerformer\n{\n    void Perform_A();\n    void Perform_B();\n    void Perform_C();\n}\n</code></pre>\n\n<p>And the knowledge of my parameters Id and name was just of the IManager object.</p>\n\n<p>Is it possible to work around?</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "prism", "prism-6"], "comments": [{"owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1522938477, "post_id": 49661396, "comment_id": 86360575, "body": "<code>clicking a tab does not accomplish the usual navigation. It merely displays the existing view, which is already loaded on startup</code> sounds like it is exactly the caching of views you wanted in the first place?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1522940392, "post_id": 49661396, "comment_id": 86362066, "body": "Yes, but when the tab is clicked, the view needs to be updated with the most accurate current information.  Navigation accomplishes this by passing a parameter (the current Person ID, for example)."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523202018, "post_id": 49661396, "comment_id": 86452112, "body": "So did you solve that after all?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523203019, "post_id": 49661396, "comment_id": 86452486, "body": "@evk: We decided to drop the tabs and go with a single region for navigation."}], "answers": [{"comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1523025419, "post_id": 49688830, "comment_id": 86403043, "body": "Yes, that&#39;s true.  I spoke with Brian Lagunas (one of the project owners) yesterday, and he confirmed that Prism caches its views.  More specifically, he said that &quot;views persist within a region, and are simply activated and deactivated on request.&quot;"}], "tags": [], "owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1523004249, "creation_date": 1523004249, "answer_id": 49688830, "question_id": 49661396, "link": "https://stackoverflow.com/questions/49661396/making-tab-items-and-prism-navigation-play-nice-with-each-other/49688830#49688830", "title": "Making Tab Items and Prism navigation play nice with each other", "body": "<blockquote>\n  <p>2.Use conventional menus that RequestNavigate to a single Region instead of tabs, which has the virtue of simplicity, but which defeats the caching benefits altogether</p>\n</blockquote>\n\n<p>Not when I tried it... the region reuses a view, normally, when you navigate to it repeatedly (if you tell it to by returning <code>true</code> from <code>INavigationAware.IsNavigationTarget</code>) and <code>INavigationAware.OnNavigatedTo</code> can be used to update the view.</p>\n\n<p>Example:</p>\n\n<pre><code>internal class MainWindowViewModel : BindableBase\n{\n    public MainWindowViewModel( IRegionManager regionManager )\n    {\n        NavigateCommand = new DelegateCommand&lt;string&gt;( x =&gt; regionManager.RequestNavigate( \"MainRegion\", \"PersonView\", new NavigationParameters {{\"Id\", x}} ) );\n    }\n\n    public DelegateCommand&lt;string&gt; NavigateCommand { get; }\n}\n\ninternal class PersonViewModel : BindableBase, INavigationAware\n{\n    public PersonViewModel()\n    {\n        Debugger.Break();\n    }\n\n    private string _name;\n\n    public string Name\n    {\n        get { return _name; }\n        set { SetProperty( ref _name, value ); }\n    }\n\n    public void OnNavigatedTo( NavigationContext navigationContext )\n    {\n        Name = (string)navigationContext.Parameters[ \"Id\" ];\n    }\n\n    public bool IsNavigationTarget( NavigationContext navigationContext )\n    {\n        return true;\n    }\n\n    public void OnNavigatedFrom( NavigationContext navigationContext )\n    {\n    }\n}\n\npublic partial class PersonView : UserControl\n{\n    public PersonView()\n    {\n        Debugger.Break();\n        InitializeComponent();\n    }\n}\n\n&lt;Window x:Class=\"PrismApplication1.Views.MainWindow\"\n                xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n                xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n                xmlns:mvvm=\"http://prismlibrary.com/\"\n                Title=\"MainWindow\"\n                Width=\"525\"\n                Height=\"350\"\n                mvvm:ViewModelLocator.AutoWireViewModel=\"True\"\n                mc:Ignorable=\"d\"&gt;\n    &lt;DockPanel LastChildFill=\"True\"&gt;\n        &lt;Button Command=\"{Binding NavigateCommand}\"\n                        CommandParameter=\"Person A\"\n                        Content=\"Person A\" /&gt;\n        &lt;Button Command=\"{Binding NavigateCommand}\"\n                        CommandParameter=\"Person B\"\n                        Content=\"Person B\" /&gt;\n        &lt;ContentControl mvvm:RegionManager.RegionName=\"MainRegion\" /&gt;\n    &lt;/DockPanel&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Click the two buttons in turns, and you'll see that you hit each break point only once. The view model as well as the view are retained and updated with the new navigation parameters.</p>\n\n<p>If you return false from <code>INavigationAware.IsNavigationTarget</code>, the view won't be reused.</p>\n"}], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1807, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523004249, "creation_date": 1522880869, "last_edit_date": 1522881179, "question_id": 49661396, "link": "https://stackoverflow.com/questions/49661396/making-tab-items-and-prism-navigation-play-nice-with-each-other", "title": "Making Tab Items and Prism navigation play nice with each other", "body": "<p>The application that I am currently writing uses a Tab Control as its primary menu structure.  Tabs allow caching of views; the tab retains the loaded view when another tab is selected.</p>\n\n<p>Each tab contains a Region placeholder:</p>\n\n<pre><code>&lt;TabControl&gt;\n    &lt;TabItem Name=\"Home\"&gt;\n        &lt;ContentControl prism:RegionManager.RegionName=\"HomeRegion\"/&gt;\n    &lt;/TabItem&gt;\n    &lt;TabItem Name=\"Project\" Header=\"Program\"&gt;\n        &lt;ContentControl prism:RegionManager.RegionName=\"ProjectRegion\"/&gt;\n    &lt;/TabItem&gt;\n    &lt;TabItem Name=\"TestPlan\" Header=\"Test Plan\"&gt;\n        &lt;ContentControl prism:RegionManager.RegionName=\"TestPlanRegion\"/&gt;\n    &lt;/TabItem&gt;\n&lt;/TabControl&gt;\n</code></pre>\n\n<p>PRISM provides for navigation to Tab Items via the <code>INavigationAware</code> interface, automagically creating the View in a new tab if it doesn't already exist, or refreshing an existing View in an existing tab.</p>\n\n<pre><code>public class PersonDetailViewModel : INavigationAware\n{\n    // Data-Bound property\n    public Person SelectedPerson { get; set; }\n\n    // INavigationAware method\n    public void OnNavigatedTo(NavigationContext navigationContext)\n    {\n        var person = navigationContext.Parameters[\"person\"] as Person;\n        if (person != null)\n            SelectedPerson = person;\n    }\n}\n</code></pre>\n\n<p>The navigation is accomplished thusly:</p>\n\n<pre><code>var parameters = new NavigationParameters();\nparameters.Add(\"person\", person);\n\nif (person != null)\n    _regionManager.RequestNavigate(\"PersonDetailsRegion\", \"PersonDetail\", parameters);\n</code></pre>\n\n<p>Here's the problem: <em>clicking a tab does not accomplish the usual navigation.  It merely displays the existing view, which is already loaded on startup.</em>  So there's no opportunity for refreshing the tab when the tab is selected.</p>\n\n<p>The behavior I want: I'd like the tab to load its content on first use, whether that's via a <code>RequestNavigate</code> call or clicking the tab, and then re-use its content on subsequent uses, including the passing of parameters like <code>Person</code>.  </p>\n\n<p>Unfortunately, at the moment, I think I'm left with two less than ideal choices:</p>\n\n<ol>\n<li><p>Simulate a <code>RequestNavigate</code> when a user clicks on the tab, presumably by hooking the <code>SelectionChanged</code> event on the Tab Control.  For this to work, I need to lazy load the View into the tab, since applying a RequestNavigate on a tab click will make the tab load twice on first use, defeating any caching benefit I might have, or</p></li>\n<li><p>Use conventional menus that <code>RequestNavigate</code> to a single Region instead of tabs, which has the virtue of simplicity, but which defeats the caching benefits altogether.</p></li>\n</ol>\n\n<p>Any thoughts on how I might make this work?</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "linq-to-entities"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522882559, "post_id": 49661390, "comment_id": 86333152, "body": "One option would be to add a <code>RegisteredInstructor</code> property to your <code>EventResult</code>. Then make <code>RegisteredInstructorName</code> property read-only (and reading from <code>RegisteredInstructor.FirstName</code>) and much the same for the other properties."}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522882931, "post_id": 49661390, "comment_id": 86333302, "body": "I think the best solution is this. i.RegisteredInstructor.PrimaryImage11 ?? null and I can set the byte[] to a nullable byte?[]"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522883478, "post_id": 49661390, "comment_id": 86333452, "body": "<code>i.RegisteredInstructor.PrimaryImage11 ?? null</code> is pointless. (since <code>??</code> would convert <code>null</code> to, ahem, <code>null</code>) <code>i.RegisteredInstructor?.PrimaryImage11</code> is better. Also, arrays are nullable by default."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "edited": false, "score": 0, "creation_date": 1523316383, "post_id": 49661390, "comment_id": 86500962, "body": "EF provider cannot create SQL from the arbitrary .Net function. That&#39;s what the error says. You should search for &quot;LINQ expression node type is not supported&quot; to see more details and possible workarounds."}], "answers": [{"comments": [{"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1522885379, "post_id": 49661801, "comment_id": 86333981, "body": "this syntax looks incorrect and gives me a red line under it"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1522900343, "post_id": 49661801, "comment_id": 86337531, "body": "What version of C# are you using? What is the compiler error message?  @user1186050"}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1522920183, "post_id": 49661801, "comment_id": 86347287, "body": "I just created a VM in Azure using 2016 Data Center and the it came pre installed with VS 2017, so I assume it&#39;s the most current, whichever that is..."}], "tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": false, "score": 0, "last_activity_date": 1522883568, "creation_date": 1522883568, "answer_id": 49661801, "question_id": 49661390, "link": "https://stackoverflow.com/questions/49661390/error-from-entity-framework-setting-byte-array-in-linq-to-entities/49661801#49661801", "title": "Error from Entity Framework setting byte array in linq to entities", "body": "<p>I would suggest changing:</p>\n\n<pre><code>i.RegisteredInstructor != null ? i.RegisteredInstructor.PrimaryImage11 : new byte[0]\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>i.RegisteredInstructor?.PrimaryImage11\n</code></pre>\n\n<p><em>Then consider changing the property setter for <code>RegisteredInstructorImage</code> so that it checks for <code>null</code> (and changes to an empty array) if you desire.</em></p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1522902447, "creation_date": 1522880823, "last_edit_date": 1522902447, "question_id": 49661390, "link": "https://stackoverflow.com/questions/49661390/error-from-entity-framework-setting-byte-array-in-linq-to-entities", "title": "Error from Entity Framework setting byte array in linq to entities", "body": "<p>I'm getting an exception in my linq to entity query that says</p>\n\n<blockquote>\n  <p>The LINQ expression node type 'NewArrayBounds' is not supported in LINQ to Entities</p>\n</blockquote>\n\n<p>when I try and get the 'RegisteredInstructorImage'</p>\n\n<p>Here is what I'm doing to get the error</p>\n\n<pre><code>.Select(i =&gt; new EventResult\n            {\n                IsInstructorRegistered = i.RegisteredInstructor == null ? false : true,\n                RegisteredInstructorId = i.RegisteredInstructor != null ? i.RegisteredInstructor.YogaProfileId : 0,\n                RegisteredInstructorName = i.RegisteredInstructor != null ? i.RegisteredInstructor.FirstName : \"\",\n                RegisteredInstructorImage = i.RegisteredInstructor != null ? i.RegisteredInstructor.PrimaryImage11 : new byte[0],\n                RegisteredInstructorTotalReviews = i.RegisteredInstructor != null ? i.RegisteredInstructor.TotalReviews : 0,\n\n            }).ToPagedList(Page, 10);\n</code></pre>\n\n<p>In <code>EventResult</code>, I'm initializing it like below according to this <a href=\"https://stackoverflow.com/questions/43856228/the-linq-expression-node-type-newarraybounds-is-not-supported-in-linq-to-entit\">SO post</a> which didn't effect my result I'm still getting the error. Did I do something wrong here?</p>\n\n<pre><code>public class EventResult\n{\n    public EventResult()\n    {\n        RegisteredInstructorImage = new byte[] { 0 };\n    }\n    public byte[] RegisteredInstructorImage { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "singleton"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1522880851, "post_id": 49661372, "comment_id": 86332518, "body": "<code>but it seems like I can&#39;t use dependency injection for singletons</code> How did you come to that conclusion?"}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522881013, "post_id": 49661372, "comment_id": 86332583, "body": "<code>services.AddSingleton&lt;IMyService&gt;(new MyService(PassInStuff))</code> Doesn&#39;t adding a singleton require me to pass in all the required things up front like this instead of injecting it in the contructor?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1522881059, "post_id": 49661372, "comment_id": 86332600, "body": "&quot;Actually, after writing this I realized that singletons are probably only instantiated once on server startup and not per use&quot; this is exactly true. If you want per-request use <code>services.AddScoped</code> and if you want &quot;a new one every time&quot; use <code>services.AddTransient</code>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522881060, "post_id": 49661372, "comment_id": 86332601, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing how you are registering a singleton and a non-singleton."}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 1, "creation_date": 1522881098, "post_id": 49661372, "comment_id": 86332616, "body": "If you want your badgeCount to be permanently mapped to a user, you need to store it in the database. However, you can request it only on user login and save it on user logout, by using a static ConcurrentDictionary with key of userID and value of badgeCount."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 2, "creation_date": 1522881137, "post_id": 49661372, "comment_id": 86332630, "body": "@MBakardzhiev Or use <code>Session</code>..."}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522881298, "post_id": 49661372, "comment_id": 86332682, "body": "I don&#39;t think I need it to be saved because I can calculate it onUserLogin. Would session be around as long as my user is logged in? Would it make sense to store it though?"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522881332, "post_id": 49661372, "comment_id": 86332703, "body": "@CamiloTerevinto Yes, this is even better unless he is writing a Web Api app."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1522881434, "post_id": 49661372, "comment_id": 86332732, "body": "@user6728767 That depends on how you implement it. AFAIK you may set up the cookies so that the login never expires but as far as I remember the session lasts 20 minutes or so by default. It&#39;s a matter of configuration though. It makes sense to store it if it&#39;s expensive to calculate and won&#39;t change too often"}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522881522, "post_id": 49661372, "comment_id": 86332775, "body": "I am making a web api app. If the endpoint can be hit from my website and mobileApp would it matter at all if I&#39;m using a session? It&#39;d prob just recalculate if I put that function onLogin and both the website and mobile sessions would have the right count?"}, {"owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "edited": false, "score": 0, "creation_date": 1522881570, "post_id": 49661372, "comment_id": 86332792, "body": "Also it is important whether you need only current logged user&#39;s badge or all logged users badges."}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522881919, "post_id": 49661372, "comment_id": 86332917, "body": "I think I would need it for all logged users. I just want to have the badge ready when I call my pushNotificationService to push a notification to my ios/android device."}], "answers": [{"comments": [{"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522886384, "post_id": 49662045, "comment_id": 86334288, "body": "thanks for your very detailed answer! I was thinking of doing something a long the lines you mentioned where I&#39;d decrement / increment depending on if an item was added or marked read. I guess my only worry was having to send this number to the database each time. But if I am understanding you correctly, this should be quick since its just a number?"}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1522886568, "post_id": 49662045, "comment_id": 86334347, "body": "Correct. A scalar <code>single column single row result</code> will be super-quick you should not have an issue"}], "tags": [], "owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "is_accepted": true, "score": 1, "last_activity_date": 1522885489, "last_edit_date": 1592644375, "creation_date": 1522885489, "answer_id": 49662045, "question_id": 49661372, "link": "https://stackoverflow.com/questions/49661372/injecting-a-singleton-into-scopedservice/49662045#49662045", "title": "Injecting a singleton into scopedService", "body": "<h1>Understanding DI</h1>\n<p>So to try and cover your question DI is certainly what you want in terms of most things inside your application and website. It can do singletons, as well as scoped and transcients (new copy every time).</p>\n<p>In order to really understand DI and specifically the .Net Core implenentation I actually make use of the DI from .Net Core in a stand-alone .Net Standard open source library so you can see how it is done.</p>\n<blockquote>\n<p>Video explaining the DI and showing me make and use the DI outside of ASP.Net Core scene: <a href=\"https://www.youtube.com/watch?v=PrCoBaQH_aI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=PrCoBaQH_aI</a></p>\n<p>Source code: <a href=\"https://github.com/angelsix/dna-framework\" rel=\"nofollow noreferrer\">https://github.com/angelsix/dna-framework</a></p>\n</blockquote>\n<p>This should answer your question regarding how to access the DbContext if you do not understand it already from the video above: <a href=\"https://www.youtube.com/watch?v=JrmtZeJyLgg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=JrmtZeJyLgg</a></p>\n<h1>Scoped/Transcient vs Singleton</h1>\n<p>What you have to remember when it comes to whether or not to use a singleton instance is singletons are always in-memory, so you should always consider and try to make things scoped or transcient to save memory, if the creation of that service is not intense or slow. So it is basically a trade off between RAM usage vs speed on some generate grounds.</p>\n<p>If you then have specific types of service the decision becomes a different one. For example for DbContext objects you can think of them like a &quot;live, in-memory database query/proxy&quot; and so just like SQL queries you want to create them, execute them and be done with them. That is why they are made scoped, so that when a controller is created (per request) a new DbContext is created, injected, used by an action and then destroyed.</p>\n<p>I guess the simple answer is it doesn't usually matter too much and most applications won't have any major concern or issues but you do have to remember singletons stay in-memory for the lifecycle of your application or the app domain if you are in a rare multi-domain setup.</p>\n<h1>Notification Count</h1>\n<p>So the main question is really about badges. There are many things involved in this process and setup, and so I will limit my answer to the presumption that you are talking about a client logged into a website and you are providing the website UI, and want to show the <em>badge count</em> for, and that you are not on about for example some Android/iOS app or desktop application.</p>\n<p>In terms of generating the badge count it would be a combination of all unread messages or items in your database for the user. I would do this calculation on request from the user visiting a page (So in an Action and returned to the view via Razer or ViewBag for example) that needs that information, or from requesting it via Ajax if you are using a more responsive/Ajax style site.</p>\n<p>That again I presume is not an issue and I state it just for completeness and presumptions.</p>\n<p>So the issue you are asking about is basically that every time the page changes or the badge count is re-requested you are concerned about the time in getting that information from the database, correct?</p>\n<p>Personally I would not bother trying to &quot;cache&quot; this outside of the database, as it is a fast changing thing and you will likely have more hit trying to keep the cache in-sync than just calling the database.</p>\n<p>Instead if you are concerned the query will be intensive to work out the badge count, I would instead every time any addition to the database of an unread/new item, or a marking of an item as read is done, you do a &quot;SetUnreadCount&quot; call that calculates and writes that value as a single integer to the database so your call to get the unread count is a Scalar call to the database and SUPER quick.</p>\n"}], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 49662045, "answer_count": 1, "score": 0, "last_activity_date": 1522885489, "creation_date": 1522880772, "last_edit_date": 1522881308, "question_id": 49661372, "link": "https://stackoverflow.com/questions/49661372/injecting-a-singleton-into-scopedservice", "title": "Injecting a singleton into scopedService", "body": "<p>I'm working on adding push notification into my ASP.NET core 2.0.0 webApp. I want to have a notification service that would have a <code>badgeCount</code> member which I would update when I send out notifications or when I mark something as read. </p>\n\n<p>I wanted to make this a singleton, but it seems like I can't use dependency injection for singletons. I need access to my dbContext and maybe some other Identity /or Entity services later.</p>\n\n<p>Would it make sense for me to make my notifcation service a scopedService instead of a singleton so that I can use DI? Then have a notificationBadge singleton that I would inject into my scopedService so I can maintain it?</p>\n\n<p>I'm doing this so that I don't have to calculate the badge count each time (involves using queries)</p>\n\n<p>EDIT: Actually, after writing this I realized that singletons are probably only instantiated once on server startup and not per user. So my initial approach wouldn't work even if I could use DI. I'd probably have to add a field on my user class that extends the IdentityUser then right? Or is there a way around this so that I don't have to update/save this to any db record?</p>\n"}, {"tags": ["c#", "object", "constructor"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522880847, "post_id": 49661355, "comment_id": 86332515, "body": "Looks like the third argument should be an array as well. <code>new[]{(program0, Priority.Normal, new CPU[] { cpu0, cpu1 })}</code>"}, {"owner": {"reputation": 141, "user_id": 5579048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481459934b289f325e972b8b66f9660b?s=128&d=identicon&r=PG&f=1", "display_name": "A6EE", "link": "https://stackoverflow.com/users/5579048/a6ee"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522880995, "post_id": 49661355, "comment_id": 86332575, "body": "You&#39;re right. Thanks."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1522881031, "post_id": 49661355, "comment_id": 86332592, "body": "@mjwills It&#39;s a Tuple, see <a href=\"https://msdn.microsoft.com/en-us/magazine/mt493248.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/magazine/mt493248.aspx</a>"}, {"owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "edited": false, "score": 0, "creation_date": 1522881702, "post_id": 49661355, "comment_id": 86332840, "body": "looks like you need to pass an array of tuple"}], "answers": [{"comments": [{"owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "edited": false, "score": 0, "creation_date": 1522882440, "post_id": 49661442, "comment_id": 86333114, "body": "This answer sounds correct, but your code example has a typo.  You are missing the opening <code>(</code> of the tuple inside the array initializer.  Normally, you also do not need to specify the type of the array between <code>new</code> and <code>[]</code> if it can be inferred from the array contents between <code>{</code> and <code>}</code>.  I&#39;m not sure if this applies in this situation, but it would make it a lot more readable."}], "tags": [], "owner": {"reputation": 97, "user_id": 9236888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1065019b59359c405092c2e8c030b9a3?s=128&d=identicon&r=PG&f=1", "display_name": "Domin Sweet", "link": "https://stackoverflow.com/users/9236888/domin-sweet"}, "is_accepted": true, "score": 3, "last_activity_date": 1522914594, "last_edit_date": 1522914594, "creation_date": 1522881133, "answer_id": 49661442, "question_id": 49661355, "link": "https://stackoverflow.com/questions/49661355/c-error-in-object-construction-syntax/49661442#49661442", "title": "C# - error in object construction syntax", "body": "<p>I'm not an expert in this subject by any means but I do notice one thing that may help.</p>\n\n<p>In the class constructor <strong>Parameter 3</strong> is</p>\n\n<pre><code>(SimulatedProgram program, Priority priority, CPU[] affinities)[] programs\n</code></pre>\n\n<p>The argument that you are trying to pass in looks almost the same except for one noticable difference. You are passing in a single entity, where the constructor calls for <strong>an array of entities</strong>.</p>\n\n<p>Instead of passing in <code>(program0, Priority.Normal, new CPU[] { cpu0, cpu1 })</code> I suggest doing something more like this...</p>\n\n<pre><code>new[] { (program0, Priority.Normal, new CPU[] { cpu0, cpu1 }) }\n</code></pre>\n\n<p>I look forward to hearing if this helped at all or not, as I mentioned already, I am by no means an expert, so if there is someone who has an explanation that ranges further than the one I am able to provide then I suggest prioritizing their answer.</p>\n"}], "owner": {"reputation": 141, "user_id": 5579048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481459934b289f325e972b8b66f9660b?s=128&d=identicon&r=PG&f=1", "display_name": "A6EE", "link": "https://stackoverflow.com/users/5579048/a6ee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49661442, "answer_count": 1, "score": 0, "last_activity_date": 1522914594, "creation_date": 1522880681, "last_edit_date": 1522902476, "question_id": 49661355, "link": "https://stackoverflow.com/questions/49661355/c-error-in-object-construction-syntax", "title": "C# - error in object construction syntax", "body": "<p>I'm trying to create an object using the provided constructor, but I'm not entirely sure how I can utilize it.</p>\n\n<p>So, the class constructor is:</p>\n\n<pre><code>public Scheduler(CPU[] cpus, TimeSpan tick, (SimulatedProgram program, Priority priority, CPU[] affinities)[] programs)\n</code></pre>\n\n<p>And when I try to initialize an object of class Scheduler like this:</p>\n\n<pre><code>Scheduler scheduler = new Scheduler(new CPU[] { cpu0, cpu1 }, TimeSpan.FromMilliseconds(200), (program0, Priority.Normal, new CPU[] { cpu0, cpu1 }));\n</code></pre>\n\n<p>I get the <code>(program0, Priority.Normal, new CPU[] { cpu0, cpu1 })</code> part underlined with error:</p>\n\n<blockquote>\n  <p>Error CS1503 Argument 3:<br>\n  cannot convert from '(SimCPULibrary.SimulatedProgram, SimCPULibrary.Priority, SimCPULibrary.CPU[])' to '(SimulatedProgram program, Priority priority, CPU[] affinities)[]' DllConsoleTest</p>\n</blockquote>\n"}, {"tags": ["c#", "unity3d", "nullreferenceexception"], "comments": [{"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522894254, "post_id": 49661133, "comment_id": 86336123, "body": "Posting your <code>DialogueTrigger</code> code and the full error message would be really helpful. :)"}, {"owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522896340, "post_id": 49661133, "comment_id": 86336591, "body": "Just now edited it. Thanks!"}, {"owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522899552, "post_id": 49661133, "comment_id": 86337332, "body": "I replaced that line and got       <code>NullReferenceException: Object reference not set to an instance of       an object     Interactable.Update () (at Assets&#47;Scripts&#47;Interactable.cs:34)</code>"}, {"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522900286, "post_id": 49661133, "comment_id": 86337514, "body": "In that case, the culprit would be your <code>Diag</code> reference. Have you correctly dragged a <code>DialogueTrigger</code> prefab from your Hierarchy window and into the public field on <code>Interactable</code>?"}, {"owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522900777, "post_id": 49661133, "comment_id": 86337649, "body": "At first, no. Then I tried and it works now, but not quite how I pictured that it would. Although that is on my end to fix, and you&#39;ve still helped me get it to work in the first place. So thank you!"}, {"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522900989, "post_id": 49661133, "comment_id": 86337715, "body": "You&#39;re welcome. Glad to hear it&#39;s working :)"}, {"owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522966542, "post_id": 49661133, "comment_id": 86376450, "body": "It is working but it is only calling the script that I put into the public &#39;slot&#39; in unity, which in reality I need to be able to call the script that&#39;s attached to each different NPCs during the game. Would you know how to do that? I&#39;ve tried GetComponent but either that doesn&#39;t work or I&#39;m not doing it correctly."}, {"owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522968092, "post_id": 49661133, "comment_id": 86376899, "body": "Thank you Lece. It will take me some time as I am busy at the moment but I&#39;ll be sure to post once I can."}], "answers": [{"tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": true, "score": 1, "last_activity_date": 1522967825, "creation_date": 1522967825, "answer_id": 49682561, "question_id": 49661133, "link": "https://stackoverflow.com/questions/49661133/calling-dialogue-script-from-npc-using-interactable-script-brackeys-system/49682561#49682561", "title": "Calling dialogue script from NPC using Interactable script (Brackeys&#39; system)", "body": "<p>The culprit would be your <code>Diag</code> reference. Have you correctly dragged a <code>DialogueTrigger</code> prefab from your Hierarchy window and into the public field on <code>Interactable</code>?</p>\n"}], "owner": {"reputation": 97, "user_id": 9587719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928776daaf8ade57b5779523c5e2cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ReignBeaux", "link": "https://stackoverflow.com/users/9587719/reignbeaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 49682561, "answer_count": 1, "score": 0, "last_activity_date": 1522967825, "creation_date": 1522879430, "last_edit_date": 1522938631, "question_id": 49661133, "link": "https://stackoverflow.com/questions/49661133/calling-dialogue-script-from-npc-using-interactable-script-brackeys-system", "title": "Calling dialogue script from NPC using Interactable script (Brackeys&#39; system)", "body": "<p>I have followed a tutorial on Youtube (<a href=\"https://www.youtube.com/watch?v=_nRzoTzeyxU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_nRzoTzeyxU</a>) on how to create a dialogue system for a game. Since my game is a platformer/RPG, I am currently attempting to adapt this system to where the player can walk up to an NPC and press the \"Submit\" button to access their dialogue, instead of clicking a button on the canvas/UI. </p>\n\n<p>So far I have created an Interactable script that allows the player to detect if they are in the range of the invisible sphere collider that is equipped to the NPC, which is working. If I try to access the dialogueTrigger script that is equipped to the NPC however, I get a NullReferenceException error. I would like some help on how to properly call the dialogueTrigger script from the NPC and trigger the dialogue event, as I am very new to code and I only have this so far. Any help would be appreciated. </p>\n\n<p>EDIT: </p>\n\n<blockquote>\n  <p>NullReferenceException: Object reference not set to an instance of an object\n      Interactable.Update () (at Assets/Scripts/Interactable.cs:34)</p>\n</blockquote>\n\n<p>Dialogue Trigger is: </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class DialogueTrigger : MonoBehaviour \n\n{\n    public Dialogue dialogue;\n\n    public void TriggerDialogue ()\n    {\n        FindObjectOfType&lt;DialogueManager&gt;().StartDialogue(dialogue);\n    }\n}\n</code></pre>\n\n<p>Interactable is:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Interactable : MonoBehaviour \n{\n    private GameObject triggeringNpc;\n    private bool triggering;\n    public DialogueTrigger Diag;\n\n    void Start()\n    {\n\n    }   \n\n    void Update() \n    {\n        if(triggering)\n        {\n            Debug.Log(\"Within Range\");\n            if (Input.GetButtonDown(\"Submit\"))\n            {\n                Debug.Log(\"Pressed the Interact Button\");\n                Diag.TriggerDialogue();\n            }\n        }\n    }\n\n    void OnTriggerEnter(Collider other)\n    {\n        if(other.tag == \"NPC\")\n        {\n            triggering = true;\n            triggeringNpc = other.gameObject;\n        }\n    }\n\n    void OnTriggerExit(Collider other)\n    {\n        if(other.tag == \"NPC\")\n        {\n            triggering = false;\n            triggeringNpc = null;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "msbuild", ".net-core", "csproj", "msbuild-task"], "comments": [{"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1522933662, "post_id": 49661067, "comment_id": 86356822, "body": "Do you want to copy the content to the local project development folder or the output directory? if local project folder: in sdk-based csproj this could cause duplicate output paths errors when the next run auto-detects the files and the relative path is the same as the link"}, {"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "reply_to_user": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1522939786, "post_id": 49661067, "comment_id": 86361574, "body": "I&#39;d like to copy to the local project dev folder.  I did implement Marc&#39;s recommendation below, which seems to work.  If there were to be issues, would you expect them to be intermittent?"}, {"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "reply_to_user": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1522941623, "post_id": 49661067, "comment_id": 86363043, "body": "I should clarify - I&#39;d like to copy the files from the project folder in which they actually reside to the project folder in which they are linked.  My reason for doing this is that I&#39;m using DocFx to generate docs for the project in which they are linked, but not the other."}, {"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1522942586, "post_id": 49661067, "comment_id": 86363740, "body": "it could cause some conflicts if the items are set to copy to the output directory (since both the link metadata and the relative path of the items in the project folder would result in the same output path)"}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "edited": false, "score": 1, "creation_date": 1522940023, "post_id": 49661496, "comment_id": 86361774, "body": "I can do this, and it works.  However, I&#39;ve ended up created a SourceFiles item collection to which I manually add the linked files.  The example up top appears to automatically detect all the linked files and copy them over, without having to update the .csproj each time a linked file is added.  That&#39;s the specific capability I&#39;m interested in - do you know of a way to do that?"}, {"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "reply_to_user": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "edited": false, "score": 0, "creation_date": 1523019354, "post_id": 49661496, "comment_id": 86398973, "body": "Doh, my bad. I just realized I this only worked for me because I only had 1 linked file when I tested. Could you provide a copy of your .csproj? I have a fixed but want to make sure it actually works with your setup."}, {"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "edited": false, "score": 0, "creation_date": 1523022116, "post_id": 49661496, "comment_id": 86400862, "body": "No worries.  I&#39;ve added the sanitized .csproj content in my edit."}], "tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": false, "score": 2, "last_activity_date": 1523037423, "last_edit_date": 1523037423, "creation_date": 1522881439, "answer_id": 49661496, "question_id": 49661067, "link": "https://stackoverflow.com/questions/49661067/how-to-copy-linked-content-files-using-net-core-csproj/49661496#49661496", "title": "How to copy linked content files using .NET Core csproj?", "body": "<p>A <code>Condition</code> should be specified at the <code>Target</code> level but this won't help in this scenario because you can't use an elements metadata as a condition. </p>\n\n<p>You also need to provide an output path. Your example will only copy linked content into the project's directory, not it's output directory. </p>\n\n<pre><code>&lt;Target Name=\"CopyLinkedContentFiles\" BeforeTargets=\"Build\"&gt;\n&lt;Copy SourceFiles=\"%(Content.Identity)\" \n        DestinationFiles=\"$(OutputPath)\\%(Content.Link)\" \n        SkipUnchangedFiles=\"true\" \n        OverwriteReadOnlyFiles=\"true\" /&gt;\n&lt;/Target&gt;\n</code></pre>\n\n<p>The documentation for the <code>Copy</code> task can be <a href=\"https://docs.microsoft.com/en-us/visualstudio/msbuild/copy-task\" rel=\"nofollow noreferrer\">found here</a>.</p>\n\n<p>I tested this using Visual Studio 2017 with two simple console projects. The second project included a couple of text files. The first project also references these files via content links. This is the <code>.csproj</code> file from the first project:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n    &lt;PropertyGroup&gt;\n        &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n        &lt;TargetFramework&gt;netcoreapp2.0&lt;/TargetFramework&gt;\n    &lt;/PropertyGroup&gt;\n    &lt;ItemGroup&gt;\n        &lt;Content Include=\"..\\Project2\\ReadMeFirst.txt\" Link=\"ReadMeFirst.txt\" /&gt;\n        &lt;Content Include=\"..\\Project2\\ReadMeSecond.txt\" Link=\"ReadMeSecond.txt\" /&gt;\n    &lt;/ItemGroup&gt;\n    &lt;Target Name=\"CopyLinkedContentFiles\" BeforeTargets=\"Build\"&gt;\n        &lt;Copy SourceFiles=\"%(Content.Identity)\" \n            DestinationFiles=\"$(OutputPath)\\%(Content.Link)\" \n            SkipUnchangedFiles=\"true\" \n            OverwriteReadOnlyFiles=\"true\" /&gt;\n    &lt;/Target&gt;\n&lt;/Project&gt;\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1523037423, "creation_date": 1522879027, "last_edit_date": 1523022063, "question_id": 49661067, "link": "https://stackoverflow.com/questions/49661067/how-to-copy-linked-content-files-using-net-core-csproj", "title": "How to copy linked content files using .NET Core csproj?", "body": "<p>I'm referencing <a href=\"http://mattperdeck.com/post/Copying-linked-content-files-at-each-build-using-MSBuild.aspx\" rel=\"nofollow noreferrer\">this article</a> in an attempt to copy linked files before each build:</p>\n\n<pre><code>&lt;Target Name=\"CopyLinkedContentFiles\" BeforeTargets=\"Build\"&gt;\n    &lt;Copy SourceFiles=\"%(Content.Identity)\" \n          DestinationFiles=\"%(Content.Link)\" \n          SkipUnchangedFiles='true' \n          OverwriteReadOnlyFiles='true' \n          Condition=\"'%(Content.Link)' != ''\" /&gt;\n &lt;/Target&gt;\n</code></pre>\n\n<p>This doesn't appear to work for the new .NET Core csproj tooling.  What would be an equivalent target that does?</p>\n\n<p><strong>EDIT: Example csproj content</strong></p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netstandard2.0&lt;/TargetFramework&gt;\n    &lt;Features&gt;IOperation&lt;/Features&gt;\n    &lt;Configurations&gt;Debug;Release;Template&lt;/Configurations&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;Compile Include=\"..\\MyRefProject\\ChangeTypes.cs\" Link=\"ChangeTypes.cs\" /&gt;\n    &lt;Compile Include=\"..\\MyRefProject\\Parser.cs\" Link=\"Parser.cs\" /&gt;\n    &lt;Compile Include=\"..\\MyRefProject\\Calculator.cs\" Link=\"Calculator.cs\" /&gt;\n    &lt;Compile Include=\"..\\MyRefProject\\Converter.cs\" Link=\"Converter.cs\" /&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "reply_to_user": {"reputation": 2381, "user_id": 817455, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/05190443d2f9608ac849809aaeb79209?s=128&d=identicon&r=PG&f=1", "display_name": "Daarwin", "link": "https://stackoverflow.com/users/817455/daarwin"}, "edited": false, "score": 0, "creation_date": 1522910243, "post_id": 49661312, "comment_id": 86341002, "body": "@Lautaro Indeed, but your setting <code>target</code> to <code>null</code> just before you call the <code>ObjectField</code> so <code>target</code> will always be <code>null</code>. Have you removed that line as suggested?"}, {"owner": {"reputation": 2381, "user_id": 817455, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/05190443d2f9608ac849809aaeb79209?s=128&d=identicon&r=PG&f=1", "display_name": "Daarwin", "link": "https://stackoverflow.com/users/817455/daarwin"}, "edited": false, "score": 0, "creation_date": 1522912223, "post_id": 49661312, "comment_id": 86342128, "body": "This is the first way i ever tried it! But it worked some minutes before you posted the new answer. This makes most sense of course. Thanks!"}], "tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": true, "score": 1, "last_activity_date": 1522911994, "last_edit_date": 1522911994, "creation_date": 1522880494, "answer_id": 49661312, "question_id": 49661042, "link": "https://stackoverflow.com/questions/49661042/editorguilayout-objectfield-does-not-recieve-reference/49661312#49661312", "title": "EditorGUILayout.ObjectField does not recieve reference", "body": "<p>You're redefining <code>target</code>. Remove the <code>Inventory target = null;</code> line from <code>OnGUI()</code> plus make sure your <code>Inventory</code> class is of course a Unity <code>Object</code> to use the <code>ObjectField</code>.</p>\n\n<pre><code>public class AddInventory : EditorWindow {\n\n    public Inventory target;\n\n    [MenuItem(\"Inventory/Add items\")]\n    public static void ShowWindow()\n    {\n        GetWindow&lt;AddInventory&gt;(\"Add items\");\n    }\n\n     void OnGUI()\n    {\n        GUILayout.Label(\"Add items to  inventory\", EditorStyles.boldLabel);\n\n        target = (Inventory)EditorGUILayout.ObjectField(\"Inventory thingy\", target, typeof(Inventory));   \n\n        if (GUILayout.Button(\"I am button!\"))\n        {\n            Debug.Log(target.thing);    \n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2381, "user_id": 817455, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/05190443d2f9608ac849809aaeb79209?s=128&d=identicon&r=PG&f=1", "display_name": "Daarwin", "link": "https://stackoverflow.com/users/817455/daarwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "accepted_answer_id": 49661312, "answer_count": 1, "score": -1, "last_activity_date": 1522911994, "creation_date": 1522878899, "last_edit_date": 1522910455, "question_id": 49661042, "link": "https://stackoverflow.com/questions/49661042/editorguilayout-objectfield-does-not-recieve-reference", "title": "EditorGUILayout.ObjectField does not recieve reference", "body": "<p>I'm learning custom editors. The <code>ObjectField</code> appears and its possible to drag <code>Inventory</code> scripts or <code>GameObjects</code> containing them to the slot. But when dropped nothing happens. The field lights up but the dropped object doesn't stick. </p>\n\n<p>And when I push the button <code>target</code> is <code>null</code>. </p>\n\n<pre><code>public class AddInventory : EditorWindow {\n\n    public Inventory target;\n\n    [MenuItem(\"Inventory/Add items\")]\n    public static void ShowWindow()\n    {\n        GetWindow&lt;AddInventory&gt;(\"Add items\");\n    }\n\n     void OnGUI()\n    {\n        GUILayout.Label(\"Add items to  inventory\", EditorStyles.boldLabel);\n        Inventory target = null;\n        target = (Inventory) EditorGUILayout.ObjectField(\"Inventory thingy\", target, typeof(Inventory), true);\n\n\n        if (GUILayout.Button(\"I am button!\"))\n        {\n            Debug.Log(target.thing);\n\n        }\n    }\n}\n</code></pre>\n\n<p>I also tried per suggestion: </p>\n\n<pre><code>   void OnGUI()\n{\n\n    GUILayout.Label(\"Add items to  inventory\", EditorStyles.boldLabel);\n\n  var  myInventory = (GameObject) EditorGUILayout.ObjectField( myInventory, \n     typeof(GameObject), true);\n\n\n    if (GUILayout.Button(\"I am button!\"))\n    {\n        Debug.Log(myInventory.name);\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "iis", "windows-server-2016"], "comments": [{"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522879397, "post_id": 49660923, "comment_id": 86332003, "body": "@mjwills The problem occurs with all the referenced DLLs.  I think they are locked because I can&#39;t overwrite them.  And also, the <code>handle</code> command I ran (see question) that shows that w3wp.exe has hiqpdf.dll locked."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522879475, "post_id": 49660923, "comment_id": 86332035, "body": "Does the problem only occur in websites using <code>HiQPdf.dll</code>? <i>You mentioned it didn&#39;t occur in some of your websites. Are they using that DLL?</i>"}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522879769, "post_id": 49660923, "comment_id": 86332146, "body": "@mjwills Oh, I see what ur saying.  Other websites do use HiQPdf.dll, but they lock it in the <code>Temporary ASP.NET Files</code> folder.  Here is the full output of the <code>handle</code> command: <a href=\"https://i.imgur.com/EQRKCaz.png\" rel=\"nofollow noreferrer\">i.imgur.com/EQRKCaz.png</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4931, "user_id": 3336412, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kraRu.jpg?s=128&g=1", "display_name": "Matthias Burger", "link": "https://stackoverflow.com/users/3336412/matthias-burger"}, "edited": false, "score": 0, "creation_date": 1599053914, "post_id": 49677908, "comment_id": 112654546, "body": "looks like my problem is fixed now.. :D"}], "tags": [], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "is_accepted": true, "score": 15, "last_activity_date": 1522948205, "creation_date": 1522948205, "answer_id": 49677908, "question_id": 49660923, "link": "https://stackoverflow.com/questions/49660923/why-is-iis-worker-process-locking-a-file/49677908#49677908", "title": "Why is IIS Worker Process locking a file?", "body": "<p>Answering my own question in case someone runs into this problem.  Turns out web.config file had the <code>&lt;hostingEnvironment shadowCopyBinAssemblies=\"false\" /&gt;</code> directive, which I didn't even know existed.</p>\n\n<p>This setting tells IIS to execute everything in place rather than in <code>Temporary ASP.NET Files</code> folder.</p>\n"}, {"comments": [{"owner": {"reputation": 1059, "user_id": 3931173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3ce6627f8812320c887276a56970c69?s=128&d=identicon&r=PG&f=1", "display_name": "speciesUnknown", "link": "https://stackoverflow.com/users/3931173/speciesunknown"}, "edited": false, "score": 1, "creation_date": 1558449674, "post_id": 50297852, "comment_id": 99100274, "body": "Not all files that are locked by IIS are released when the app is taken offline. Adding an app_offline.htm stops new locks being created, but won&#39;t make IIS release locks."}, {"owner": {"reputation": 1663, "user_id": 4438168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9282ce2f9d4b8a30842db7419804fc?s=128&d=identicon&r=PG", "display_name": "MisterSmith", "link": "https://stackoverflow.com/users/4438168/mistersmith"}, "reply_to_user": {"reputation": 1059, "user_id": 3931173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3ce6627f8812320c887276a56970c69?s=128&d=identicon&r=PG&f=1", "display_name": "speciesUnknown", "link": "https://stackoverflow.com/users/3931173/speciesunknown"}, "edited": false, "score": 1, "creation_date": 1558553642, "post_id": 50297852, "comment_id": 99143968, "body": "@gburton - ive extended my answer a little - does that cover your case?"}], "tags": [], "owner": {"reputation": 1663, "user_id": 4438168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9282ce2f9d4b8a30842db7419804fc?s=128&d=identicon&r=PG", "display_name": "MisterSmith", "link": "https://stackoverflow.com/users/4438168/mistersmith"}, "is_accepted": false, "score": 10, "last_activity_date": 1558553524, "last_edit_date": 1558553524, "creation_date": 1526061602, "answer_id": 50297852, "question_id": 49660923, "link": "https://stackoverflow.com/questions/49660923/why-is-iis-worker-process-locking-a-file/50297852#50297852", "title": "Why is IIS Worker Process locking a file?", "body": "<p>A quick and reliable way to take down a site ready to deploy is to create a file in the root folder of your website called App_Offline.htm (<code>~/App_Offline.htm</code>). Content is optional, if present its served for all requests until the App_Offline.htm is deleted. This method will work under pretty much all cases - including any value used for <code>shadowCopyBinAssemblies</code>.</p>\n\n<p>Basically App_Offline is a feature of IIS used by Web Deploy to ensure it can deploy correctly - avoiding any locking issues and such. It seems to operate at a very low level in IIS, its literally a file system watcher that kills the app pool. This means you can easily just create and delete this text file yourself without web deploy to stop and restart(or at least re-enable) your app.</p>\n\n<p>Taken from MS docs:</p>\n\n<blockquote>\n  <p>When ASP.Net detects that a file by the name of \"App_Offline.htm\" exists, it will automatically bring down the app domain hosting the application. When the publish process is completed, the App_Offline.htm file will be removed and the site will be online again.</p>\n</blockquote>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/iis/publish/deploying-application-packages/taking-an-application-offline-before-publishing\" rel=\"noreferrer\">Microsoft's article on taking an application offline</a>.</p>\n\n<p><em>Update - 22/5/2019</em></p>\n\n<p>It might be worth pointing out by creating the app_offline file its causing 2 separate things to happen:</p>\n\n<ol>\n<li>IIS will instantly stop serving <em>new</em> requests and start returning a HTTP 503 \"temporarily unavailable\" response with the contents of the app_offline file. </li>\n<li>IIS starts a chain of events that leads to the termination of the instance of <code>w3wp.exe</code> - that is your \"app domain\" (as seen in task manager) - aka the owner of the locks. When that process dies, all locks are released. In my experience that's normally very quickly. </li>\n</ol>\n\n<p>Based on personal/bitter experience of a few high traffic sites and as an absolute last resort... If for whatever reason an IIS site wont stop/release locks/abort existing requests its probably down to load or otherwise something blocking the process exiting - app_offline should kill the site very quickly under normal circumstances. In these cases, and assuming you know the requests wont complete, or you just dont care and need the site to stop or restart, create the app offline file, use task manager to kill the w3wp.exe process, perform your change, then remove the app offline file. The next request starts a new app domain (and obviously abandons any pending requests - so do this with caution - this may or not be a problem depending on your site). </p>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 888231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/577577349bba13e21df59077962fed16?s=128&d=identicon&r=PG", "display_name": "salman", "link": "https://stackoverflow.com/users/888231/salman"}, "is_accepted": false, "score": 6, "last_activity_date": 1558607195, "creation_date": 1558607195, "answer_id": 56273188, "question_id": 49660923, "link": "https://stackoverflow.com/questions/49660923/why-is-iis-worker-process-locking-a-file/56273188#56273188", "title": "Why is IIS Worker Process locking a file?", "body": "<p>Looks like an issue with visual studio. </p>\n\n<p>During I was playing around with the \"Release\" and \"Debug\" options of Configuration manager, I started encountering the same error. </p>\n\n<ul>\n<li><p>I attempted to delete bin and obj folders too, but couldn't succeed as dll files were locked by IIS Express worker process. </p></li>\n<li><p>Attempted relaunching visual studio without any luck. </p></li>\n</ul>\n\n<p>Finally, when I changed the Configuration back to \"Debug\" and compiled the application, build was succeeded without any errors or warnings. </p>\n\n<p>After that, I even changed the configuration back to \"Release\" and it still didn't show any dll file lock error. So, most probably its an internal bug of visual studio. <a href=\"https://i.stack.imgur.com/Tov4d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Tov4d.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13787040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgEQwn90P4oZjvcvGGQFTsXkyyZ9u0OPp9CfhU1=k-s128", "display_name": "mosayeb khorami", "link": "https://stackoverflow.com/users/13787040/mosayeb-khorami"}, "is_accepted": false, "score": -3, "last_activity_date": 1592763702, "creation_date": 1592763702, "answer_id": 62502732, "question_id": 49660923, "link": "https://stackoverflow.com/questions/49660923/why-is-iis-worker-process-locking-a-file/62502732#62502732", "title": "Why is IIS Worker Process locking a file?", "body": "<p>In taskbar Right click on <strong>IIS express</strong> then hover on your project. and select Stop your project.\n<a href=\"https://i.stack.imgur.com/gx2oZ.png\" rel=\"nofollow noreferrer\">IIS express</a></p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11976, "favorite_count": 3, "accepted_answer_id": 49677908, "answer_count": 4, "score": 10, "last_activity_date": 1592763702, "creation_date": 1522878227, "question_id": 49660923, "link": "https://stackoverflow.com/questions/49660923/why-is-iis-worker-process-locking-a-file", "title": "Why is IIS Worker Process locking a file?", "body": "<p>My website is setup in the <code>D:\\RW_System\\RW_Webroot\\BrokerOffice.Admin</code> folder (screenshot below).  It's a .NET, C# WebForms application.  </p>\n\n<p>For whatever reason, when I want to deploy changes to the site, I try to copy the files over, but IIS locks DLLs in the path where the site is setup:</p>\n\n<pre><code>C:\\Users\\rizzo\\Desktop&gt;handle64 hiqpdf\n\nNthandle v4.11 - Handle viewer\nCopyright (C) 1997-2017 Mark Russinovich\nSysinternals - www.sysinternals.com\n\nw3wp.exe  pid: 3700   type: File  2954: D:\\RW_System\\RW_Webroot\\BrokerOffice.Admin\\bin\\HiQPdf.dll\n</code></pre>\n\n<p>And it's not just that .dll that's locked - it's all of the DLLs in the <code>\\bin</code> folder.  My understanding was that IIS copied everything to folder under <code>C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\\</code> and executed things from there.  </p>\n\n<p>I have a number of other sites on the box with multiple DLL references and, as expected, w3wp.exe has them locked in <code>Temporary ASP.NET Files</code> folder.</p>\n\n<p>Is there a setting in IIS or something in my code that's causing IIS to lock the the DLLs in the /bin folder?</p>\n\n<p><a href=\"https://i.stack.imgur.com/F1354.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F1354.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "dependency-injection", "property-injection"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522878620, "post_id": 49660859, "comment_id": 86331655, "body": "I think the entire point of dependency injection is to <i>never</i> new up a dependency in the constructor/code.  Also, your second example <i>completely</i> ignores the passed in <code>httpClient</code>, that seems like a bad thing to me"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1522878731, "post_id": 49660859, "comment_id": 86331705, "body": "You <i>could</i> offer a second constructor that doesn&#39;t accept an IHttpClient....but why would you? Why not just resolve it via DI? You&#39;re just asking these questions hypothetically I presume....but is there some real world problem you&#39;re trying to solve?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1522879146, "post_id": 49660859, "comment_id": 86331875, "body": "It seems very odd to pass in <code>IHttpClient httpClient</code> and then do nothing with it. In limited instances I have seen <code>_httpClient = httpClient ?? new HttpClientAdapter();</code> as a useful <i>transitional</i> stage if you are adding a new dependency to a class that (due to history) is manually newed up in many places. It allows you to use constructor based DI, easier unit testing and yet also provides a &#39;fallback&#39; until you have gone and changed all of the calling code."}, {"owner": {"reputation": 160, "user_id": 3154431, "user_type": "registered", "profile_image": "https://graph.facebook.com/730871280/picture?type=large", "display_name": "user3154431", "link": "https://stackoverflow.com/users/3154431/user3154431"}, "edited": false, "score": 0, "creation_date": 1522916915, "post_id": 49660859, "comment_id": 86345064, "body": "This example is purely hypothetical. I am asking when it is appropriate is supply a local default and when it is better to not do this at all and purely rely on DI alone and not allow defaults to be overridden."}], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 3154431, "user_type": "registered", "profile_image": "https://graph.facebook.com/730871280/picture?type=large", "display_name": "user3154431", "link": "https://stackoverflow.com/users/3154431/user3154431"}, "edited": false, "score": 0, "creation_date": 1522916727, "post_id": 49661014, "comment_id": 86344937, "body": "I&#39;ve recently been under the impression that multiple constructors are bad. <a href=\"https://www.cuttingedge.it/blogs/steven/pivot/entry.php?id=97\" rel=\"nofollow noreferrer\">cuttingedge.it/blogs/steven/pivot/entry.php?id=97</a>"}, {"owner": {"reputation": 637, "user_id": 1159674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xwbxc.png?s=128&g=1", "display_name": "jonasm", "link": "https://stackoverflow.com/users/1159674/jonasm"}, "reply_to_user": {"reputation": 160, "user_id": 3154431, "user_type": "registered", "profile_image": "https://graph.facebook.com/730871280/picture?type=large", "display_name": "user3154431", "link": "https://stackoverflow.com/users/3154431/user3154431"}, "edited": false, "score": 0, "creation_date": 1522923965, "post_id": 49661014, "comment_id": 86349986, "body": "It depends on what you need. If you run full dependency injection, there&#39;s no need for the first constructor in my example, as all is setup when setting up your dependencies. If you need to new up the class without dependency injection, then a constructor override is the best choice."}], "tags": [], "owner": {"reputation": 637, "user_id": 1159674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xwbxc.png?s=128&g=1", "display_name": "jonasm", "link": "https://stackoverflow.com/users/1159674/jonasm"}, "is_accepted": false, "score": 0, "last_activity_date": 1522878745, "creation_date": 1522878745, "answer_id": 49661014, "question_id": 49660859, "link": "https://stackoverflow.com/questions/49660859/when-is-it-appropriate-to-use-local-defaults-in-a-class-that-relies-on-dependenc/49661014#49661014", "title": "When is it appropriate to use local defaults in a class that relies on dependency injection", "body": "<p>I would never have local defaults like that, as it is a pain to unit test.</p>\n\n<p>If you would like to simplify instantiation of the class, using the default class, then I would go instead with an constructor override like this:</p>\n\n<pre><code>public RestClient(\n    string key,\n    Uri baseAddress,\n    ISerializer serializer,\n    IResponseFactory responseFactory)\n    : this(key, baseAddress, new HttpClientAdapter(), serializer, responseFactory)\n{\n}\n\npublic RestClient(\n    string key,\n    Uri baseAddress,\n    IHttpClient httpClient,\n    ISerializer serializer,\n    IResponseFactory responseFactory)\n{\n    _key = key;\n\n    _baseAddress = baseAddress;\n    _serializer = serializer;\n    _responseFactory = responseFactory;\n\n    HttpClient = httpClient;\n}\n\nIHttpClient HttpClient {get; private set;}\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 3154431, "user_type": "registered", "profile_image": "https://graph.facebook.com/730871280/picture?type=large", "display_name": "user3154431", "link": "https://stackoverflow.com/users/3154431/user3154431"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522878745, "creation_date": 1522877919, "last_edit_date": 1522878535, "question_id": 49660859, "link": "https://stackoverflow.com/questions/49660859/when-is-it-appropriate-to-use-local-defaults-in-a-class-that-relies-on-dependenc", "title": "When is it appropriate to use local defaults in a class that relies on dependency injection", "body": "<p>Imagine the following constuctor</p>\n\n<pre><code>public RestClient(\n    string key,\n    Uri baseAddress,\n    IHttpClient httpClient,\n    ISerializer serializer,\n    IResponseFactory responseFactory)\n{\n    _key = key;\n\n    _baseAddress = baseAddress;\n    _httpClient = httpClient;\n    _serializer = serializer;\n    _responseFactory = responseFactory;\n}\n</code></pre>\n\n<p>When is it appropriate to create a local default like this?</p>\n\n<pre><code>public RestClient(\n    string key,\n    Uri baseAddress,\n    IHttpClient httpClient,\n    ISerializer serializer,\n    IResponseFactory responseFactory)\n{\n    _key = key;\n\n    _baseAddress = baseAddress;\n    _serializer = serializer;\n    _responseFactory = responseFactory;\n\n    HttpClient = new HttpClientAdapter();\n}\n\nIHttpClient HttpClient {get; set;}\n</code></pre>\n\n<p>and allowing the dependency of IHttpClient to be overridden using property injection. </p>\n\n<p>Or is it the responsibility of the consumer to pass the dependency in the constructor and not rely on local defaults at all? Mark Seemann, in his book describes that property injection is appropriate when there is a good local default but I am struggling in this example to decide whether or not it is appropriate to use a local default in the first place.</p>\n"}, {"tags": ["c#", "xaml", "events", "uwp", "delegates"], "answers": [{"comments": [{"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522879686, "post_id": 49661093, "comment_id": 86332115, "body": "so as soon as I get acces to my _secondarycontrols object in my control loaded event. I should subscribe to _secondarycontrols.Items.VectorChanged event? event use my logic there? @MartinZikmund"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 1, "creation_date": 1522879719, "post_id": 49661093, "comment_id": 86332128, "body": "hhaha greetings to you too, I know you I have already followed u on GitHub a week or so ago :P"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522879833, "post_id": 49661093, "comment_id": 86332170, "body": "Yes, I would suggest attaching the <code>VectorChanged</code> right after you get access to the <code>_secondarycontrols</code> instance and then inside of the <code>VectorChanged</code> event handler put the logic that is now in the <code>DynamicOverflowItemsChanging</code> event (the <code>if ( _secondarycontrols.Items.Count == 0 &amp;&amp;</code> etc.)"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522879852, "post_id": 49661093, "comment_id": 86332180, "body": "Cool :-) ! Nice to meet you!"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 1, "creation_date": 1522881347, "post_id": 49661093, "comment_id": 86332708, "body": "if (_secondarycontrols != null)             {                 _secondarycontrols.Items.VectorChanged += (vs, ve) =&gt;                 _moreButton.Visibility = _secondarycontrols?.Items?.Count &gt; 0 ? Visibility.Visible : Visibility.Collapsed;             }  This looks fine?"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522881418, "post_id": 49661093, "comment_id": 86332724, "body": "just a tip question, as far as these lambdas events are concerned, I don&#39;t need to worry about ubsubscribing to them with &quot;-=&quot; like normal event handlers?"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522904797, "post_id": 49661093, "comment_id": 86338712, "body": "If you subscribe the event in the class itself, it is not a problem, because when it is no longer in the UI, it will be destroyed and nothing will hold it in memory anymore. But if the event would be attached in a class that is alive for the lifetime of the app, like in App.xaml.cs, it would mean, that it would have to stay in memory forever as well, only because this particular handler belongs to a class with app lifetime"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522917417, "post_id": 49661093, "comment_id": 86345346, "body": "and if somehow accidently I subscribe to same handler on same delegate instance multiple times, does that mean that same handler will execute multiple times upon invocation? or does the invocation list keeps overwritriting the old handler, if exactly same handler is subscribed again?"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522917781, "post_id": 49661093, "comment_id": 86345635, "body": "Unfortunately no, this is how events in C# work. Unless a handler is not unsubscribed, stays there and it can be even subscribed again. That is why lambda based event handlers are usually not recommended, because they cannot be unsubscribed and can sometimes lead to unwanted memory leaks. This is the case especially in Xamarin.iOS where this can easily lead to a circular dependency which the reference counting mechanism in iOS cannot resolve."}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 1, "creation_date": 1522919584, "post_id": 49661093, "comment_id": 86346855, "body": "Thanks, I had this confusion for sometime now it is clear :)"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1522922834, "post_id": 49661093, "comment_id": 86349145, "body": "It is always confusing, there are many edge cases which one encounters :-D"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1523047483, "post_id": 49661093, "comment_id": 86414900, "body": "is there another way to do this , bcz when I use this method with independent controls ( not in mediaplayerelement ) then it works, but when I use controls in a mediaplayerelement, then it doesn&#39;t work, items get added so more button is visible and then right after that vectorchanged again invokes automatically and items are removed and button again goes collapsed :/"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1523050322, "post_id": 49661093, "comment_id": 86416057, "body": "I can confirm that it technically it works but when used with mediaplayerelement, the built in control somehow forecefuly removes all secondary items, its really disappointing bcause I cnt even find a way to override this, I want a lot of buttons hence I need the more overflow system in my controls and this is really disappointing, bcz creating my own controls totally is really error prone."}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1523050402, "post_id": 49661093, "comment_id": 86416082, "body": "I can confirm it bcz I forcefuly made more button visible, and it was empty no matter wht, and with breakpoints I can see, whenever I add some secondary items, they get removed right after that. can u think of any way to achieve this or override this?"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": true, "score": 1, "last_activity_date": 1522879184, "creation_date": 1522879184, "answer_id": 49661093, "question_id": 49660806, "link": "https://stackoverflow.com/questions/49660806/how-to-get-notified-after-the-event-ends/49661093#49661093", "title": "How to get notified after the event ends", "body": "<p>Warm greetings, fellow Microsoft Student Partner :-) . </p>\n\n<p>The quick and dirty hack would be to add a <code>Task.Delay</code> to the end of the handler and hope the items will have changed until the delay is over. This is of course really ugly and error prone. I would suggest a different solution.</p>\n\n<p>You already have access to the <code>_secondarycontrols</code> which is a <code>CommandBarOverflowPresenter</code>. This is very useful, because <code>Items</code> property has a <code>VectorChanged</code> event which is fired whenever an item is added, removed or changed. This means, you can actually use this event and move your logic inside it instead of using the <code>DynamicOverflowItemsChanging</code> event. You can then directly check for the number of items which will be accurate.</p>\n"}], "owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49661093, "answer_count": 1, "score": 0, "last_activity_date": 1522879184, "creation_date": 1522877630, "last_edit_date": 1522878929, "question_id": 49660806, "link": "https://stackoverflow.com/questions/49660806/how-to-get-notified-after-the-event-ends", "title": "How to get notified after the event ends", "body": "<p>In my UWP app I am using <strong>DynamicOverflowItemsChanging</strong> event of a <strong>CommandBar</strong> my usecase is not very complex, I tried to solve another problem I had by using this event, see the <strong>answer</strong> of <a href=\"https://stackoverflow.com/questions/49635723/uwp-commandbar-more-button-not-showing-up-with-dynamicoverflowenabled\">this post</a>. </p>\n\n<p>So as shown in the answer in the link I provided above, I am trying to invoke this event and sync the visibility of <code>MoreButton</code> now the problem is this event is fired when the secondary overflow menu of command bar doesn't have the item removed or added yet, so they still show the items which they had before the event was fired, but when this event is completed then transfer of items is also completed.</p>\n\n<blockquote>\n  <p>So in short I want to raise another event somehow or get notified when the <strong>DynamicOverflowItemsChanging</strong> completes its execution, so I can have the correct data and set the visibility of more button correctly. or in other words I want to implement a behaviour of <strong>DynamicOverflowItemsChanged</strong> event, which unfortunately doesn't exist in the api, so I am looking for an alternative way.</p>\n</blockquote>\n\n<p>I know I can invoke another event right at the end (just before <code>DynamicOverflowItemsChanging</code> event is finished), but that way I still don't get the correct values, correct values only become available when this event finishes its execution. Like we can do with <code>Task.Then()</code> so when a task completes another can automatically start, so I want something like that here . any suggestions would be appreciated.</p>\n\n<pre><code>protected override void OnApplyTemplate()\n{\n\n    var barr = (CommandBar)GetTemplateChild(\"MediaControlsCommandBar\");\n\n    //the event to control the dynamicoverflow automatically.\n    barr.DynamicOverflowItemsChanging += (s, e) =&gt;\n    {\n        if (_secondarycontrols.Items.Count == 0 &amp;&amp; e.Action == CommandBarDynamicOverflowAction.AddingToOverflow)\n            _moreButton.Visibility = Visibility.Visible;\n        else if (_secondarycontrols.Items.Count == 1 &amp;&amp; e.Action == CommandBarDynamicOverflowAction.RemovingFromOverflow)\n            _moreButton.Visibility = Visibility.Collapsed;\n    };//when this event finishes here I want to get notified.\n\n    //base implementation\n    base.OnApplyTemplate();\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays", "list"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522877694, "post_id": 49660797, "comment_id": 86331260, "body": "FYI Thats not a 2D array, thats a jagged array (i.e array of arrays)"}, {"owner": {"reputation": 4408, "user_id": 1979729, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ddfbfebda687c12ca91b02c683f4c3a2?s=128&d=identicon&r=PG&f=1", "display_name": "neildt", "link": "https://stackoverflow.com/users/1979729/neildt"}, "edited": false, "score": 1, "creation_date": 1522877833, "post_id": 49660797, "comment_id": 86331330, "body": "Can\u2019t you create a List&lt;YourObject&gt; which has two int properties ?"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1522879143, "post_id": 49660797, "comment_id": 86331871, "body": "It&#39;s unclear what you&#39;re trying to build. Are you trying to build a jagged array in which the first row has 1 element, the next row has 2 elements, the next 3, etc? Please edit your question. Given a <code>List&lt;int&gt;</code> that has 10 elements, show the <code>int[][]</code> that you want as output."}], "answers": [{"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 3723, "user_id": 1169091, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/5vE4L.jpg?s=128&g=1", "display_name": "nicomp", "link": "https://stackoverflow.com/users/1169091/nicomp"}, "edited": false, "score": 4, "creation_date": 1522878762, "post_id": 49660824, "comment_id": 86331712, "body": "@nicomp: It really is. See <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/arrays/jagged-arrays\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/arr&zwnj;&#8203;ays/&hellip;</a>: &quot;A jagged array is an array whose elements are arrays.&quot;"}], "tags": [], "owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "is_accepted": true, "score": 6, "last_activity_date": 1522877714, "creation_date": 1522877714, "answer_id": 49660824, "question_id": 49660797, "link": "https://stackoverflow.com/questions/49660797/list-to-jagged-array-in-c/49660824#49660824", "title": "List to Jagged Array in C#", "body": "<p>Use a projection. </p>\n\n<p>This will iterate through the list, creating a new array with the sole value of the current iteration, and then end by creating an array of all of those arrays.</p>\n\n<pre><code>int[][] A = list.Select(i =&gt; new[] { i }).ToArray();\n</code></pre>\n\n<p>As an aside, and <a href=\"https://stackoverflow.com/questions/49660797/list-to-array-2d-in-c-sharp#comment86331260_49660797\">as [@maccettura] notes</a>, this is a jagged array (where each member of the array is also an array itself).</p>\n"}], "owner": {"reputation": 35, "user_id": 8466051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JJcIY-lpGNM/AAAAAAAAAAI/AAAAAAAAAMQ/nuGkK53hRIc/photo.jpg?sz=128", "display_name": "oooa s", "link": "https://stackoverflow.com/users/8466051/oooa-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 1, "accepted_answer_id": 49660824, "answer_count": 1, "score": 3, "last_activity_date": 1522878712, "creation_date": 1522877588, "last_edit_date": 1522878712, "question_id": 49660797, "link": "https://stackoverflow.com/questions/49660797/list-to-jagged-array-in-c", "title": "List to Jagged Array in C#", "body": "<p>I have a list </p>\n\n<pre><code>List&lt;int&gt; list = new List&lt;int&gt;();\n</code></pre>\n\n<p>Now I want to add this to a Jagged Array</p>\n\n<pre><code>int[][] A = new int[][] { list.ToArray() };\n</code></pre>\n\n<p>This code on top is ok, but the problem is that all values in the list are add in the first block!\nWell, then, this will be solved:</p>\n\n<pre><code>int[] x1 = list.ToArray();\nint[][] A = new int[][] { new[] { x1[0] }, new[] { x1[1] }, new[] { x1[2] }, new[] { x1[3] } };\n</code></pre>\n\n<p>But (the code above) I've done this manually now, that's just the first four indexes I've of list put in the array..</p>\n\n<p>How can I add entire list (all indexes) to my jagged array (with circles or other methods).</p>\n"}, {"tags": ["c#", "reflection", "system.reflection"], "answers": [{"comments": [{"owner": {"reputation": 2454, "user_id": 1560865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f7d9f360c30e477ff349a2b49841632?s=128&d=identicon&r=PG", "display_name": "Hauke P.", "link": "https://stackoverflow.com/users/1560865/hauke-p"}, "edited": false, "score": 0, "creation_date": 1522878093, "post_id": 49660790, "comment_id": 86331438, "body": "Wow, cool. I did not expect that <code>m</code> would have a generic argument when it is still open. Also, the generic argument seems to be a pretty strange &quot;Type&quot; named <code>T</code>. But your solution works great - so thanks a lot."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 2454, "user_id": 1560865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f7d9f360c30e477ff349a2b49841632?s=128&d=identicon&r=PG", "display_name": "Hauke P.", "link": "https://stackoverflow.com/users/1560865/hauke-p"}, "edited": false, "score": 0, "creation_date": 1522878222, "post_id": 49660790, "comment_id": 86331492, "body": "@HaukeP.: It&#39;s worth taking a step back to make sure you understand it before you include it in your code (so that you can change it later if necessary or write similar code in the future). It&#39;s not a strange type at all - it&#39;s the type parameter for the method. Look at how you&#39;ve declared the parameter: <code>Reference&lt;T&gt; reference</code>. That&#39;s <i>not</i> an open generic type; it&#39;s a generic type using a type argument which happens to be the type parameter from the method."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 2, "last_activity_date": 1522877558, "creation_date": 1522877558, "answer_id": 49660790, "question_id": 49660713, "link": "https://stackoverflow.com/questions/49660713/how-to-get-methodinfo-for-a-generic-method-by-name-and-its-generic-parameters/49660790#49660790", "title": "How to get MethodInfo for a generic method by name and its generic parameters?", "body": "<p>The parameter type can't be the generic type definition. It has a type argument - which is the type parameter for the method. You can get that type parameter from <code>MethodInfo.GetGenericArguments()</code>, and then use it with <code>typeof(Reference&lt;&gt;).MakeGenericType(...)</code> to get the expected parameter type.</p>\n\n<p>Here's a complete example, basically adapting your original code:</p>\n\n<pre><code>using System;\nusing System.Reflection;\n\nclass Reference&lt;T&gt; {}\ninterface IDomainObject {}\n\ninterface IRepository\n{\n    string GetId&lt;T&gt;(T obj) where T : IDomainObject;\n    string GetId&lt;T&gt;(Reference&lt;T&gt; reference) where T : IDomainObject;\n}\n\nclass Test\n{\n    static void Main()\n    {\n        var method = GetReferenceAcceptingGetIdMethod();\n        Console.WriteLine(method);\n    }\n\n    public static MethodInfo GetReferenceAcceptingGetIdMethod()\n    {\n        var repositoryInterfaceType = typeof(IRepository);\n        foreach (var m in repositoryInterfaceType.GetMethods())\n        {\n            if (m.IsGenericMethodDefinition &amp;&amp; m.Name == nameof(IRepository.GetId))\n            {\n                var typeParameter = m.GetGenericArguments()[0];\n                var expectedParameterType = typeof(Reference&lt;&gt;).MakeGenericType(typeParameter);\n                var parameters = m.GetParameters();\n                if (parameters.Length == 1)\n                {\n                    var firstParamType = parameters[0].ParameterType;\n                    if (firstParamType == expectedParameterType)\n                    {\n                        return m;\n                    }\n                }\n            }\n        }        \n        throw new Exception();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2454, "user_id": 1560865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f7d9f360c30e477ff349a2b49841632?s=128&d=identicon&r=PG", "display_name": "Hauke P.", "link": "https://stackoverflow.com/users/1560865/hauke-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1147, "favorite_count": 0, "accepted_answer_id": 49660790, "answer_count": 1, "score": 1, "last_activity_date": 1522877558, "creation_date": 1522877168, "question_id": 49660713, "link": "https://stackoverflow.com/questions/49660713/how-to-get-methodinfo-for-a-generic-method-by-name-and-its-generic-parameters", "title": "How to get MethodInfo for a generic method by name and its generic parameters?", "body": "<p>I have this interface:</p>\n\n<pre><code>interface IRepository\n{\n    string GetId&lt;T&gt;(T obj) where T : IDomainObject;\n    string GetId&lt;T&gt;(Reference&lt;T&gt; reference) where T : IDomainObject;\n}\n</code></pre>\n\n<p>What exactly <code>IDomainObject</code> and <code>Reference</code> are is not relevant to this question. So assume they are completely empty:</p>\n\n<pre><code>interface IDomainObject\n{\n    // something\n}\n\nclass Reference&lt;T&gt; where T : IDomainObject\n{\n    // something\n}\n</code></pre>\n\n<p>My question is: <strong>How do I get the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.methodinfo\" rel=\"nofollow noreferrer\"><code>MethodInfo</code></a> for the <code>GetId&lt;T&gt;</code> method in <code>IRepository</code> that accepts a <code>Reference&lt;T&gt;</code>?</strong></p>\n\n<hr>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>public MethodInfo GetReferenceAcceptingGetIdMethod()\n{\n    // We want to return the MethodInfo for the GetId&lt;T&gt; method of IRepository\n    // that accepts a Reference&lt;T&gt; argument.\n\n    var repositoryInterfaceType = typeof(IRepository);\n\n    // Look through all methods of IRepository...\n    foreach (var m in repositoryInterfaceType.GetMethods())\n    {\n        // ... to find a candidate method, going by Genericness and Name ...\n        if (m.IsGenericMethodDefinition &amp;&amp; m.Name == nameof(IRepository.GetId))\n        {\n            // ... and to narrow it further down by looking at the parameters ...\n            var parameters = m.GetParameters();\n            if (parameters.Length == 1)\n            {\n                // ... to check if the one and only parameter is a generic Reference&lt;&gt;.\n                var firstParamType = parameters[0].ParameterType;\n                var genericReferenceType = typeof(Reference&lt;&gt;);\n                if (firstParamType == genericReferenceType)\n                {\n                    // !!! This if will never be true.\n                    // Why?\n                    // And what do I have to change the condition into to make it work?\n                    return m;\n                }\n            }\n        }\n    }\n\n    throw new Exception();\n}\n</code></pre>\n\n<p>It appears that method's parameter type is somehow different from a completely open generic type. I guess and it seems that the type of the method's parameter is somehow linked to the method's generic type parameter.</p>\n\n<p>So how can I get the <code>MethodInfo</code> in such a case?</p>\n"}, {"tags": ["c#", "asp.net-core", "bundling-and-minification"], "comments": [{"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 1, "creation_date": 1522877497, "post_id": 49660639, "comment_id": 86331153, "body": "Any reason why you&#39;re not just including this files in your project? This bundler is super lightweight. If you really need to grab files like this, I&#39;d suggest moving to more robust bundler."}, {"owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "reply_to_user": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1522877788, "post_id": 49660639, "comment_id": 86331312, "body": "True, I might try another bundler. We&#39;ve been using .NET standard so far, so our websites are hosted using IIS. I&#39;m making a .NET Core project to provide an alternative way to host the websites. I could move all those files into <code>wwwroot</code> and that would work, but I want to minimize file duplication if possible. I suppose ideally this .NET Core project wouldn&#39;t have to bundle anything as those bundled files would exist in the other project, but it seems like they are generated at runtime using some IIS trickery, and thus can&#39;t be accessed when hosting on .NET Core."}], "answers": [{"tags": [], "owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "is_accepted": true, "score": 0, "last_activity_date": 1523292873, "creation_date": 1523292873, "answer_id": 49737936, "question_id": 49660639, "link": "https://stackoverflow.com/questions/49660639/using-relative-paths-and-globbing-patterns-all-files-in-folder-subfolders-in-b/49737936#49737936", "title": "Using relative paths and globbing patterns (all files in folder/subfolders) in bundleconfig.json with BundlerMinifier", "body": "<p><strong>Note: the following is a hacky workaround that I implemented -- it is not an official solution to this problem, though it may still be helpful.</strong></p>\n\n<p>I cloned the <a href=\"https://github.com/madskristensen/BundlerMinifier\" rel=\"nofollow noreferrer\">BundlerMinifier</a> project so I could debug how it was bundling the files specified in <code>bundleconfig.json</code> and see what the problem was. The issue was in <a href=\"https://github.com/madskristensen/BundlerMinifier/blob/master/src/BundlerMinifier.Core/Bundle/Bundle.cs\" rel=\"nofollow noreferrer\"><code>Bundle.cs</code></a>, in particular in the <code>GetAbsoluteInputFiles</code> method. This line gets the path of the folder in which <code>bundleconfig.json</code> is stored:</p>\n\n<pre><code>string folder = new DirectoryInfo(Path.GetDirectoryName(FileName)).FullName;\n</code></pre>\n\n<p>The issue is that this same <code>folder</code> variable is used later when trimming the start of the paths of the files that are found:</p>\n\n<pre><code>var allFiles = Directory.EnumerateFiles(searchDir, \"*\" + ext, SearchOption.AllDirectories).Select(f =&gt; f.Replace(folder + FileHelpers.PathSeparatorChar, \"\"));\n</code></pre>\n\n<p>Since the files were in another directory, the <code>.Select(f =&gt; f.Replace());</code> part didn't remove the start of the paths of the files, which meant the comparisons later failed when being matched. Thus, no files with both <code>../</code> and a globbing pattern were found.</p>\n\n<p>I came up with a hacky solution for myself, but I don't think it's robust and I will therefore not contribute to the Git project. Nonetheless, I'll put it here in case anyone else has the same issue. I created a copy of <code>folder</code>:</p>\n\n<pre><code>string folder = new DirectoryInfo(Path.GetDirectoryName(FileName)).FullName;\nstring alternateFolder = folder;\nbool folderModified = false;\n</code></pre>\n\n<p>Then I created a copy of <code>inputFile</code> and checked if it starts with <code>../</code>. If so, remove it and at the same time remove the last folder name from <code>alternateFolder</code>:</p>\n\n<pre><code>string searchDir = new FileInfo(Path.Combine(folder, relative).NormalizePath()).FullName;\nstring newInput = inputFile;\nwhile (newInput.StartsWith(\"../\"))\n{\n    // I'm sure there's a better way to do this using some class/library.\n    newInput = newInput.Substring(3);\n    if (!folderModified)\n    {\n        int lastSlash = alternateFolder.LastIndexOf('\\\\');\n        alternateFolder = alternateFolder.Substring(0, lastSlash);\n        folderModified = true;\n    }                        \n}\n</code></pre>\n\n<p>Then I use <code>alternateFolder</code> and <code>newInput</code> <em>only</em> in the following lines:</p>\n\n<pre><code>var allFiles = Directory.EnumerateFiles(searchDir, \"*\" + ext, SearchOption.AllDirectories).Select(f =&gt; f.Replace(alternateFolder + FileHelpers.PathSeparatorChar, \"\"));\nvar matches = Minimatcher.Filter(allFiles, newInput, options).Select(f =&gt; Path.Combine(alternateFolder, f));\n</code></pre>\n\n<p>Everywhere else still uses <code>folder</code> and <code>inputFile</code>. Also note the use of the <code>folderModified</code> boolean. It is important to only remove the last folder on <code>alternateFolder</code> once since it is in a foreach loop.</p>\n"}], "owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 49737936, "answer_count": 1, "score": 2, "last_activity_date": 1523292873, "creation_date": 1522876783, "question_id": 49660639, "link": "https://stackoverflow.com/questions/49660639/using-relative-paths-and-globbing-patterns-all-files-in-folder-subfolders-in-b", "title": "Using relative paths and globbing patterns (all files in folder/subfolders) in bundleconfig.json with BundlerMinifier", "body": "<p>I have an ASP.NET Core web project. I am trying to bundle a bunch of static .js files using the <a href=\"https://github.com/madskristensen/BundlerMinifier\" rel=\"nofollow noreferrer\">BundlerMinifier package</a> on the bundleconfig.json file at the root of my project. The issue I have is that the .js files I want to bundle are in another project in the solution (which I'll call MainProject), so I have to use relative paths to specify them, like so:</p>\n\n<pre><code>\"outputFileName\": \"../MainProject/bundles/libraryscripts.js\",\n\"inputFiles\": [\n  \"../MainProject/Scripts/Libraries/Angular/**/*.js\",\n  // more input files\n],\n\"minify\": {\n  \"enabled\": true\n}\n</code></pre>\n\n<p>When I build my project, the bundler does not give any errors and the file <code>libraryscripts.js</code> is created at the specified folder. The problem is the file is empty, which I believe is due to the globbing pattern (**/*.js). When I enumerate all the files instead of using this pattern, it works fine. What makes this more complicated is that when I don't use relative paths (no ../ at the start), it seems to work fine when using the globbing pattern. </p>\n\n<p>This leads me to believe it's a problem with using relative paths in conjunction with globbing patterns. Can anyone confirm this and does anyone know a way around this? I do not want to enumerate hundreds of .js files (neither elegant nor sustainable).</p>\n"}, {"tags": ["c#", "asp.net-core", "pagination"], "comments": [{"owner": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "edited": false, "score": 0, "creation_date": 1522908163, "post_id": 49660615, "comment_id": 86340039, "body": "you dont have to use @ for a tag helper <code>page-model=&quot;Model.PagingInfo&quot;</code> should work"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 4907639, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c86d119562e6592f74360919eb9108a6?s=128&d=identicon&r=PG&f=1", "display_name": "coolhand", "link": "https://stackoverflow.com/users/4907639/coolhand"}, "edited": false, "score": 0, "creation_date": 1522933150, "post_id": 49665398, "comment_id": 86356481, "body": "I&#39;ve tried setting model properties with hidden input boxes both with <code>name</code> and <code>asp-for</code> TagHelpers but the model is still null"}, {"owner": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "reply_to_user": {"reputation": 1307, "user_id": 4907639, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c86d119562e6592f74360919eb9108a6?s=128&d=identicon&r=PG&f=1", "display_name": "coolhand", "link": "https://stackoverflow.com/users/4907639/coolhand"}, "edited": false, "score": 0, "creation_date": 1522938314, "post_id": 49665398, "comment_id": 86360437, "body": "hope you added it inside a form and submitted the form&quot;"}, {"owner": {"reputation": 1307, "user_id": 4907639, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c86d119562e6592f74360919eb9108a6?s=128&d=identicon&r=PG&f=1", "display_name": "coolhand", "link": "https://stackoverflow.com/users/4907639/coolhand"}, "edited": false, "score": 0, "creation_date": 1525358940, "post_id": 49665398, "comment_id": 87333707, "body": "The problem may be in the tag helper. It works fine if it&#39;s a <code>&lt;button&gt;</code> but not a <code>&lt;div&gt;</code>. Problem is, I can&#39;t get the button styled right"}], "tags": [], "owner": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "is_accepted": false, "score": 0, "last_activity_date": 1522909269, "creation_date": 1522909269, "answer_id": 49665398, "question_id": 49660615, "link": "https://stackoverflow.com/questions/49660615/model-binding-with-pagination-taghelper/49665398#49665398", "title": "Model Binding with Pagination TagHelper", "body": "<p>If you don't want <code>SearchResultViewModel</code> to be null, you need to pass something like <code>localhostXXXX/Form/SearchResult?PagingInfo.CurrentPage=#</code>. In which case you are setting a property of <code>SearchResultViewModel</code>. </p>\n"}], "owner": {"reputation": 1307, "user_id": 4907639, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c86d119562e6592f74360919eb9108a6?s=128&d=identicon&r=PG&f=1", "display_name": "coolhand", "link": "https://stackoverflow.com/users/4907639/coolhand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522909269, "creation_date": 1522876708, "last_edit_date": 1522877010, "question_id": 49660615, "link": "https://stackoverflow.com/questions/49660615/model-binding-with-pagination-taghelper", "title": "Model Binding with Pagination TagHelper", "body": "<p>I have the following <code>PageLinkTagHelper.cs</code> that generates pagination links for a list of items</p>\n\n<pre><code>[HtmlTargetElement(\"div\", Attributes = \"page-model\")]\n    public class PageLinkTagHelper : TagHelper\n    {\n        private IUrlHelperFactory urlHelperFactory;\n\n        public PageLinkTagHelper(IUrlHelperFactory helperFactory)\n        {\n            urlHelperFactory = helperFactory;\n        }\n\n        [ViewContext]\n        [HtmlAttributeNotBound]\n        public ViewContext ViewContext { get; set; }\n\n        public PagingInfo PageModel { get; set; }\n\n        public string PageAction { get; set; }\n\n        public bool PageClassesEnabled { get; set; } = false;\n        public string PageClass { get; set; }\n        public string PageClassNormal { get; set; }\n        public string PageClassSelected { get; set; }\n\n        public override void Process(TagHelperContext context,\n                TagHelperOutput output)\n        {\n            IUrlHelper urlHelper = urlHelperFactory.GetUrlHelper(ViewContext);\n            TagBuilder result = new TagBuilder(\"div\");\n            for (int i = 1; i &lt;= PageModel.TotalPages; i++)\n            {\n                TagBuilder tag = new TagBuilder(\"a\");\n                tag.Attributes[\"href\"] = urlHelper.Action(PageAction,\n                   new { listPage = i });\n                if (PageClassesEnabled)\n                {\n                    tag.AddCssClass(PageClass);\n                    tag.AddCssClass(i == PageModel.CurrentPage\n                        ? PageClassSelected : PageClassNormal);\n                }\n                tag.InnerHtml.Append(i.ToString());\n                result.InnerHtml.AppendHtml(tag);\n            }\n            output.Content.AppendHtml(result.InnerHtml);\n        }\n    }\n</code></pre>\n\n<p>I am struggling to modify this to work with model binding. I would like to use it in the following method:</p>\n\n<pre><code>public IActionResult SearchResult(SearchResultViewModel viewModel, int listPage =1)\n        {\n            if (viewModel != null)\n            {\n                List&lt;Form&gt; searchResult = GetSearchResult(viewModel.SearchTerms).ToList();\n                var model = new SearchResultViewModel\n                {\n                    Forms = searchResult\n                        .OrderBy(f =&gt; f.FormID)\n                        .Skip((listPage - 1) * PageSize)\n                        .Take(PageSize),\n                    SearchTerms = new SearchTerms\n                    {\n                        //search criteria deleted for brevity\n                    },\n                    PagingInfo = new PagingInfo\n                    {\n                        CurrentPage = listPage,\n                        ItemsPerPage = PageSize,\n                        TotalItems = searchResult.Count()\n                    }\n                };\n\n                return View(\"SearchResult\", model);\n            }\n            return View(\"SearchForms\");\n        }\n</code></pre>\n\n<p>The link generated is <code>localhostXXXX/Form/SearchResult?listPage=#</code> where the correct list page is generated. However, the <code>SearchResultViewModel</code> passed to the controller upon clicking the link is null. This has the effect of returning all the items in the repository (since there are no search terms to filter on). How can I bind my <code>SearchResultViewModel.cs</code> object with this pagination?</p>\n\n<p>My View is </p>\n\n<pre><code>@model SearchResultViewModel\n@foreach (var form in Model.Forms)\n{\n    @Html.Partial(\"FormSummary\", form)\n}\n\n&lt;div page-model=\"@Model.PagingInfo\" page-action=\"SearchResult\" page-classes-enabled=\"true\" page-class=\"btn\" page-class-selected=\"btn-primary\" class=\"btn-group pull-right m-1\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net", "windows-embedded-compact"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1522876832, "post_id": 49660588, "comment_id": 86330835, "body": "You can only access UI elements from the UI thread. Read about BackgroundWorker and BeginInvoke."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1522876908, "post_id": 49660588, "comment_id": 86330879, "body": "I may be missing something here - why are you locking on the stream?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8785416"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1522877222, "post_id": 49660588, "comment_id": 86331035, "body": "Locking seems to be the only way to get a listener to be stable on the device.  Is there a simple way to pass that string instead of accessing the element?"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1522877358, "post_id": 49660588, "comment_id": 86331099, "body": "I&#39;m sorry, I missed the embedded bit on your question - my comments may be incorrect for that environment."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8259632"}, "edited": false, "score": 0, "creation_date": 1522937234, "post_id": 49660588, "comment_id": 86359603, "body": "Inside of the <code>Sort_Data</code> method, is <code>data</code> null?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8785416"}, "edited": false, "score": 0, "creation_date": 1523025468, "post_id": 49660588, "comment_id": 86403080, "body": "Yes, the data returned when it reaches Sort_Data becomes null somehow."}], "owner": {"user_type": "does_not_exist", "display_name": "user8785416"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522883549, "creation_date": 1522876583, "last_edit_date": 1522883549, "question_id": 49660588, "link": "https://stackoverflow.com/questions/49660588/multi-threading-with-sockets-and-passing-a-string-from-a-class-to-a-form-c", "title": "Multi threading with Sockets and passing a string from a class to a form c#", "body": "<p>I'm trying to access the string of <code>messageRecieved</code>, which should pass to <code>frmMain.Sort_Data(messageRecived);</code>. However it's <code>null</code> once it hits here. The <code>Console.WriteLine</code> shows the correct data. </p>\n\n<pre><code>public class Client\n{\n    frm_main frmMain = new frm_main();\n    public string ReturnDat;\n\n    //for TCP communications\n    TcpClient _client = null;\n\n    //for sending/receiving data\n    byte[] data;\n\n    public Client(TcpClient client)\n    {\n        _client = client;\n        //start reading data from the client in a separate thread\n        data = new byte[_client.ReceiveBufferSize];\n        _client.GetStream().BeginRead(\n            data, 0, _client.ReceiveBufferSize, receiveMessage, null);\n    }\n\n    public void receiveMessage(IAsyncResult ar)\n    {\n        //read from client\n        int bytesRead;\n\n        lock (_client.GetStream())\n        {\n            bytesRead = _client.GetStream().EndRead(ar);\n        }\n        //if client has disconnected\n        if (bytesRead &lt; 1)\n            return;\n        else\n        {\n            //get the message sent\n            string messageReceived =\n                ASCIIEncoding.ASCII.GetString(data, 0, bytesRead);\n            //Console.WriteLine(messageReceived);\n            frmMain.Sort_Data(messageReceived);\n            //ReturnDat = messageReceived;\n\n        }\n        //continue reading from client\n        lock (_client.GetStream())\n        {\n            _client.GetStream().BeginRead(\n                data, 0, _client.ReceiveBufferSize,\n                receiveMessage, null);\n        }\n    }\n}  \n</code></pre>\n\n<p>Below is the <code>Sort_Data</code>, which returns nothing when it's hit in the class. </p>\n\n<pre><code>Public void Sort_Data(string data)\n{\n    Messagebox.show(data);\n}\n</code></pre>\n\n<p>Perhaps I'm missing something, or not calling something right? </p>\n"}, {"tags": ["c#", "asp.net-mvc", "identityserver3"], "owner": {"reputation": 61, "user_id": 5094936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QD9ydeuImIg/AAAAAAAAAAI/AAAAAAAAAOA/x3UVujyi4EE/photo.jpg?sz=128", "display_name": "vishak os", "link": "https://stackoverflow.com/users/5094936/vishak-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522998370, "creation_date": 1522876507, "last_edit_date": 1522998370, "question_id": 49660555, "link": "https://stackoverflow.com/questions/49660555/identity-server-3-strong-name-signed-assemblies-must-specify-a-public-key-in-t", "title": "Identity Server 3 - Strong-name signed assemblies must specify a public key in their InternalsVisibleTo declarations", "body": "<p>I'm trying to use the IdentityServer3(Version: 2.0.0.0) in a signed c# application.</p>\n\n<p>Currently, I've an Identity Server 3 in a c# mvc application(unsigned) that authenticates users to access a resource server.</p>\n\n<p>Any help will be highly appreciated to solve this error. Please check the stack trace and steps for more details. </p>\n\n<p><strong>Steps:</strong></p>\n\n<ol>\n<li><p>Signed All the Application in the project using a private snk file.</p></li>\n<li><p>Signed the IdentityServer3.dll &amp; IdentityServer3.Localization.dll using a keypairXXXX.snk file(Tools used: ILDASM.exe &amp; ILASM.exe)</p></li>\n<li><p>Added [assembly: InternalsVisibleTo(\"MyProduct.IdentityServer3,PublicKey=00240...........)]\nin the AssemblyInfo.cs of the MyProduct project.</p></li>\n</ol>\n\n<p>When i start the application, it throws the exception: </p>\n\n<blockquote>\n  <p>\"C:\\users\\PC140\\AppData\\Local\\Temp\\Temporary ASP.NET\n  Files\\root\\8ccd1c62\\b8638244\\assembly\\dl3\\ef0da3d7\\6005806e_edcad301\\IdentityServer3.dll]\n  Strong-name signed assemblies must specify a public key in their\n  InternalsVisibleTo declarations.\"</p>\n</blockquote>\n\n<p><strong>Stack Trace:</strong> </p>\n\n<blockquote>\n  <p>[MethodAccessException: [C:\\users\\PC140\\AppData\\Local\\Temp\\Temporary\n  ASP.NET\n  Files\\root\\8ccd1c62\\b8638244\\assembly\\dl3\\ef0da3d7\\6005806e_edcad301\\IdentityServer3.dll]\n  Strong-name signed assemblies must specify a public key in their\n  InternalsVisibleTo declarations.]<br>\n  ResourceIdentityServer.Startup.Configuration(IAppBuilder app) in\n  E:\\Build_Project\\Myproduct-Resource\\Myproduct-Resource-Main\\Resource\n  Identity Server\\Startup.cs:81</p>\n  \n  <p>[TargetInvocationException: Exception has been thrown by the target of\n  an invocation.]    System.RuntimeMethodHandle.InvokeMethod(Object\n  target, Object[] arguments, Signature sig, Boolean constructor) +0<br>\n  System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(Object obj,\n  Object[] parameters, Object[] arguments) +150<br>\n  System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags\n  invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n  +101    Owin.Loader.&lt;>c__DisplayClass12.b__b(IAppBuilder builder) +66<br>\n  Owin.Loader.&lt;>c__DisplayClass1.b__0(IAppBuilder\n  builder) +123<br>\n  Microsoft.Owin.Host.SystemWeb.&lt;>c__DisplayClass2.b__0(IAppBuilder\n  builder) +71<br>\n  Microsoft.Owin.Host.SystemWeb.OwinAppContext.Initialize(Action<code>1\n  startup) +462<br>\n  Microsoft.Owin.Host.SystemWeb.OwinBuilder.Build(Action</code>1 startup) +40 \n  Microsoft.Owin.Host.SystemWeb.OwinHttpModule.InitializeBlueprint() +70\n  System.Threading.LazyInitializer.EnsureInitializedCore(T&amp; target,\n  Boolean&amp; initialized, Object&amp; syncLock, Func`1 valueFactory) +115<br>\n  Microsoft.Owin.Host.SystemWeb.OwinHttpModule.Init(HttpApplication\n  context) +106<br>\n  System.Web.HttpApplication.RegisterEventSubscriptionsWithIIS(IntPtr\n  appContext, HttpContext context, MethodInfo[] handlers) +536<br>\n  System.Web.HttpApplication.InitSpecial(HttpApplicationState state,\n  MethodInfo[] handlers, IntPtr appContext, HttpContext context) +173<br>\n  System.Web.HttpApplicationFactory.GetSpecialApplicationInstance(IntPtr\n  appContext, HttpContext context) +336<br>\n  System.Web.Hosting.PipelineRuntime.InitializeApplication(IntPtr\n  appContext) +296</p>\n  \n  <p>[HttpException (0x80004005): Exception has been thrown by the target\n  of an invocation.]<br>\n  System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +10043436\n  System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +95\n  System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest\n  wr, HttpContext context) +254</p>\n</blockquote>\n"}, {"tags": ["c#", "linq", "csv"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1522876535, "post_id": 49660530, "comment_id": 86330679, "body": "Provide an example of <i>domain.Name</i> and <i>domaintype.ToString</i> values"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1522876539, "post_id": 49660530, "comment_id": 86330680, "body": "What is the value of <code>domain.Name</code>? <code>domaintype.ToString</code>? What is the value of <code>x.Text</code> that you are expecting to match both <code>Where</code> clauses?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522876542, "post_id": 49660530, "comment_id": 86330682, "body": "You are checking if the <code>Text</code> property be equal to <code>domain.Name</code> <b>AND</b> contain a completely separate property (<code>domainType.ToString()</code>).  Can you confirm that <i>any</i> of your data matches <b>both</b> the criteria"}, {"owner": {"reputation": 13, "user_id": 9077912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-muxu3Idi-1k/AAAAAAAAAAI/AAAAAAAAAFw/0KKvpniP_zk/photo.jpg?sz=128", "display_name": "Karu", "link": "https://stackoverflow.com/users/9077912/karu"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522877109, "post_id": 49660530, "comment_id": 86330982, "body": "I added some more info!  @maccettura Yup, 100% sure the criteria I search for, and the data inside the CSV are the same."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522877116, "post_id": 49660530, "comment_id": 86330987, "body": "@Karu Well based on your edit you can clearly see why your application is not working.  Look at your logic again.  How can a single property (<code>Text</code>)  be <b>equal</b> to &quot;Respect&quot; <b>AND</b> Contain &quot;antenataal&quot;"}, {"owner": {"reputation": 531, "user_id": 4024800, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9337e41ca3a0a77776c3f3b8feac0398?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gibson", "link": "https://stackoverflow.com/users/4024800/paul-gibson"}, "edited": false, "score": 1, "creation_date": 1522877223, "post_id": 49660530, "comment_id": 86331037, "body": "What is your Text field supposed to be?  If it is the entire line then you will fail the first test, if it is just one field you cannot pass both tests."}, {"owner": {"reputation": 13, "user_id": 9077912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-muxu3Idi-1k/AAAAAAAAAAI/AAAAAAAAAFw/0KKvpniP_zk/photo.jpg?sz=128", "display_name": "Karu", "link": "https://stackoverflow.com/users/9077912/karu"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522877255, "post_id": 49660530, "comment_id": 86331059, "body": "@maccettura Ooooooohhhhh. Shit. I have tried looking for a way to load a whole row into x, but so far, I haven&#39;t found anything."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522877315, "post_id": 49660530, "comment_id": 86331080, "body": "@Karu if you are parsing CSV data, use a CSV parser.  Don&#39;t roll your own logic when entire libraries are dedicated to the nuances of CSV parsing.  Once you have a well formed structure (i.e all the fields separated into their own properties) you can <i>easily</i> apply whatever logic on whichever properties in whichever combination"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522879072, "post_id": 49661044, "comment_id": 86331836, "body": "Your answer technically will help solve the OP&#39;s issue, but based on other information the <i>real</i> issue is that OP is not parsing the CSV successfully so they are only dealing with the raw line/row.  It might improve your answer quite a bit by offering help or suggestions with the CSV parsing.  That way you are comparing individual properties, not using string.Contains (which <i>could</i> be problematic)"}], "tags": [], "owner": {"reputation": 592, "user_id": 9431535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzkSx.png?s=128&g=1", "display_name": "M Bakardzhiev", "link": "https://stackoverflow.com/users/9431535/m-bakardzhiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1522879596, "last_edit_date": 1522879596, "creation_date": 1522878905, "answer_id": 49661044, "question_id": 49660530, "link": "https://stackoverflow.com/questions/49660530/linq-multiple-where-clauses-doesnt-work/49661044#49661044", "title": "Linq multiple where clauses doesn&#39;t work", "body": "<p>Instead of </p>\n\n<pre><code>var rows = excelsheet\n.Where(x =&gt; x.Text == domain.Name \n         &amp;&amp; x.Text.Contains(domaintype.ToString()))\n.Select(x =&gt; x.Start.Row)\n.ToList();\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>var rows = excelsheet\n.Where(x =&gt; x.Text.Contains(domain.Name) \n         &amp;&amp; x.Text.Contains(domaintype.ToString()))\n.Select(x =&gt; x.Start.Row)\n.ToList();\n</code></pre>\n\n<p>Basically, your first condition is asking that \"1 ; Respect ; Hielden uw zorgverleners rekening met uw privacy? ; Vraag antenataal 11\" should be equal to \"Respect\" instead of containg it, that's why no value is returned.</p>\n\n<p>Regarding parsing of CSV files, there is already a topic on SO that recommends several parsers, you can check it out and pick this that suits you best. I have used <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualbasic.fileio.textfieldparser(v=vs.110).aspx\" rel=\"nofollow noreferrer\">TextFieldParser</a> in a small project, it is pretty straight-forward (but don't forget to wrap it in a \"using\" block).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2081418/parsing-csv-files-in-c-with-header\">Parsing CSV files in C#, with header</a></p>\n"}], "owner": {"reputation": 13, "user_id": 9077912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-muxu3Idi-1k/AAAAAAAAAAI/AAAAAAAAAFw/0KKvpniP_zk/photo.jpg?sz=128", "display_name": "Karu", "link": "https://stackoverflow.com/users/9077912/karu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522879596, "creation_date": 1522876410, "last_edit_date": 1522877545, "question_id": 49660530, "link": "https://stackoverflow.com/questions/49660530/linq-multiple-where-clauses-doesnt-work", "title": "Linq multiple where clauses doesn&#39;t work", "body": "<p>I'm trying to get particular data from an excel sheet (csv).</p>\n\n<pre><code>var rows = excelsheet\n    .Where(x =&gt; x.Text == domain.Name \n             &amp;&amp; x.Text.Contains(domaintype.ToString()))\n    .Select(x =&gt; x.Start.Row)\n    .ToList();\n</code></pre>\n\n<p>I want it to filter on the domain name and any cell in that row can have word <code>x.Text.Contains(domaintype.ToString()</code> inside of it.</p>\n\n<p>But it comes up empty when I run the code. Only doing either of the where clauses works just fine. But I need both of the clauses at the same time to work. I need the row numbers for the code to work.</p>\n\n<p>Here is an example: </p>\n\n<p><code>\"1 ; Respect ; Hielden uw zorgverleners rekening met uw privacy? ; Vraag antenataal 11\"</code></p>\n\n<p><code>domain.Name</code> is \"Respect\", <code>domaintype</code> is, in this case, \"antenataal\". So I want every row number that has these two filters in it.</p>\n\n<p>I know that <code>domain.Name</code> has \"Respect\" in it and <code>domaintype</code> has \"antenataal\" in it (through debugging).</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1522881912, "post_id": 49660484, "comment_id": 86332913, "body": "System.Dynamic is a namespace name, not an assembly name.  Classes in that namespace live inside System.Core.dll.  If you do this in a .NETCore etc project then you ought to mention that."}, {"owner": {"reputation": 5285, "user_id": 232530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9db358a33b4286dd3584371a43c82a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz M", "link": "https://stackoverflow.com/users/232530/lukasz-m"}, "edited": false, "score": 0, "creation_date": 1522882330, "post_id": 49660484, "comment_id": 86333067, "body": "Yes, You&#39;re right, however, it seems that fully qualified name of the assembly has also to be used for the <code>AssemblyName</code> instance to be constructed properly."}], "answers": [{"tags": [], "owner": {"reputation": 5285, "user_id": 232530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9db358a33b4286dd3584371a43c82a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz M", "link": "https://stackoverflow.com/users/232530/lukasz-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1522882610, "last_edit_date": 1522882610, "creation_date": 1522881064, "answer_id": 49661428, "question_id": 49660484, "link": "https://stackoverflow.com/questions/49660484/appdomain-load-throws-system-io-filenotfoundexception/49661428#49661428", "title": "AppDomain.Load() throws System.IO.FileNotFoundException", "body": "<p>When creating <code>AssemblyName</code> instance with a string parameter, You should use the assembly <strong>fully qualified name</strong>, as mentioned <a href=\"https://msdn.microsoft.com/en-us/library/b6ccxba0(v=vs.110).aspx\" rel=\"nofollow noreferrer\">here</a>. So, instead writing only the assembly name, You should also specify its version, culture and public key token. </p>\n\n<p>When using the assembly fully qualified name, the line that loads the assembly may look similar to this one: </p>\n\n<pre><code>newDomain.Load(new AssemblyName(\"System.Dynamic, Version=&lt;version&gt;, Culture=&lt;culture&gt;, PublicKeyToken=&lt;public key token&gt;\"));\n</code></pre>\n\n<p>but <strong>placeholders marked with <code>&lt;</code> and <code>&gt;</code> should be replaced with proper values</strong>.</p>\n\n<p>For more information about assembly fully qualified names, You can take a look <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.assemblyname.fullname(v=vs.110).aspx\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>There are several ways to get fully qualified name of an assembly.\nIf You have any problems obtaining this full name of the assembly You want to load, You can take a look at these links:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/app-domains/how-to-determine-assembly-fully-qualified-name\" rel=\"nofollow noreferrer\">How to: Determine an Assembly's Fully Qualified Name</a></li>\n<li><a href=\"https://stackoverflow.com/questions/658446/how-do-i-find-the-fully-qualified-name-of-an-assembly\">How do I find the fully qualified name of an assembly?</a></li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As <em>Hans Passant</em> mentioned in his comment, <code>System.Dynamic</code> namespace seems to be located inside <code>System.Core</code> assembly, so make sure which assembly You really want to load.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8531685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 49661428, "answer_count": 1, "score": 0, "last_activity_date": 1522882610, "creation_date": 1522876188, "question_id": 49660484, "link": "https://stackoverflow.com/questions/49660484/appdomain-load-throws-system-io-filenotfoundexception", "title": "AppDomain.Load() throws System.IO.FileNotFoundException", "body": "<p>I try to create new application domain and load new assembly:</p>\n\n<pre><code>AppDomain newDomain = AppDomain.CreateDomain(\"SecondaryDomain\");\n\nnewDomain.AssemblyLoad += (sender, eventArgs) =&gt; Console.WriteLine(\"Assembly loaded\");\nnewDomain.DomainUnload += (sender, EventArgs) =&gt; Console.WriteLine(\"Domain unloaded\");\n\nConsole.WriteLine($\"New domain name: {newDomain.FriendlyName}\");\nnewDomain.Load(new AssemblyName(\"System.Dynamic\"));\n\nforeach (Assembly assembly in newDomain.GetAssemblies())\n    Console.WriteLine($\"Assembly in secondary domain: {assembly.GetName().Name}\");\n\nAppDomain.Unload(newDomain);\n</code></pre>\n\n<p>It throws <code>System.IO.FileNotFoundException</code> even if reference to <code>System.Dynamic</code> is added. How to solve it?</p>\n"}, {"tags": ["c#", "rabbitmq", "remote-access", "masstransit"], "comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522877148, "post_id": 49660400, "comment_id": 86331002, "body": "You&#39;re missing some much-needed detail. What error are you getting? Is this machine on the same subnet or a different subnet? Is there a firewall or other pass-through device that could be in the way?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522877210, "post_id": 49660400, "comment_id": 86331029, "body": "Yes same subnet"}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522877272, "post_id": 49660400, "comment_id": 86331065, "body": "OK, I just saw the last image. So, if that issue where it says &quot;blocking&quot; is the problem, then everything else in this post is irrelevant. There is a <a href=\"https://www.rabbitmq.com/connection-blocked.html\" rel=\"nofollow noreferrer\">page</a> that describes conditions - have you looked there?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522878129, "post_id": 49660400, "comment_id": 86331455, "body": "Yes I saw it, but that is to be notified if the connection was blocked or not, right? Probably is the firewall of server"}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522879284, "post_id": 49660400, "comment_id": 86331944, "body": "No, blocking is something the server does when you have a resource issue. You have not provided any details as to what is going on with the server, so I am not able to even speculate. Memory or disk space, perhaps?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522881650, "post_id": 49660400, "comment_id": 86332825, "body": "Well, I see Disk space in red,I&#39;m going to add an image. One thing I noticed now is a big amount of exchanges have been created"}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522895049, "post_id": 49660400, "comment_id": 86336314, "body": "I can\u2019t explain the proliferation of exchanges, but I can explain your server not accepting messages due to lack of sufficient space"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522939954, "post_id": 49660400, "comment_id": 86361704, "body": "@theMayer, thanks for all the help, I will take a look why is creating those generic exchanges. The thing I don&#39;t understand is why using localhost and running the client application in the server it can connect with server even without disk space"}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522940092, "post_id": 49660400, "comment_id": 86361835, "body": "This is just how it is designed. It looks like you have a generic server configuration/hardware problem though, and not something programming-related. Not knowing what else could be in play, this is a problem you&#39;ll have to work through on your own to see if you can figure it out."}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1522943252, "post_id": 49660400, "comment_id": 86364149, "body": "Yes, it was the space, thanks so much sir ;). If you post an answer I will accepted it"}], "answers": [{"tags": [], "owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "is_accepted": true, "score": 1, "last_activity_date": 1522946297, "creation_date": 1522946297, "answer_id": 49677413, "question_id": 49660400, "link": "https://stackoverflow.com/questions/49660400/unable-to-connect-with-remote-rabbitmq-server/49677413#49677413", "title": "Unable to connect with remote RabbitMQ server", "body": "<p>As your question shows, down at the bottom you have a connection, but it is blocked.</p>\n\n<p><a href=\"https://www.rabbitmq.com/alarms.html\" rel=\"nofollow noreferrer\">The RabbitMQ documentation</a> lists some conditions where a connection is blocked. These generally have to do with resource limitations on the broker machine itself.  In this case, we've managed to get a clear picture that the free disk space available to the broker is below its low-water mark. Thus, all connections will be blocked until this condition is resolved (either lower the mark - not recommended, or increase the available free space).</p>\n"}], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 0, "accepted_answer_id": 49677413, "answer_count": 1, "score": 1, "last_activity_date": 1522946297, "creation_date": 1522875827, "last_edit_date": 1522882585, "question_id": 49660400, "link": "https://stackoverflow.com/questions/49660400/unable-to-connect-with-remote-rabbitmq-server", "title": "Unable to connect with remote RabbitMQ server", "body": "<p>I'm creating a client application with the idea of publish new messages to a remote RabbitMQ queue. I'm using MassTransit to create this client, and my code looks this way:</p>\n\n<pre><code>    static IBusControl CreateBus()\n    {\n        return Bus.Factory.CreateUsingRabbitMq(x =&gt;\n        {             \n            var host = x.Host(new Uri(ConfigurationManager.AppSettings[\"RabbitMQHost\"]), h =&gt;\n            {\n                h.Username(\"user\");\n                h.Password(\"password\");\n            });\n\n        });\n    }\n\n    static IRequestClient&lt;ISyncProject, IProjectSynced&gt; CreateRequestClient(IBusControl busControl)\n    {\n        var serviceAddress = new Uri(ConfigurationManager.AppSettings[\"ServiceAddress\"]);\n        IRequestClient&lt;ISyncProject, IProjectSynced&gt; client =\n            busControl.CreateRequestClient&lt;ISyncProject, IProjectSynced&gt;(serviceAddress, TimeSpan.FromDays(1));\n\n        return client;\n    }\n\n    private static async Task MainLogic(IBusControl busControl)\n    {\n        IRequestClient&lt;ISyncProject, IProjectSynced&gt; client = CreateRequestClient(busControl);\n\n       //I'm using the client here as I show below, this part is not important it works with localhost\n        IProjectSynced response = await client.Request(new ProjecToSync() { OriginalOOMID = OriginalOOMID });\n    }\n</code></pre>\n\n<p>And the config file looks like this:</p>\n\n<pre><code>&lt;appSettings&gt;\n&lt;add key=\"RabbitMQHost\" value=\"rabbitmq://ServerName\" /&gt;\n&lt;add key=\"ServiceQueueName\" value=\"queueName\" /&gt;\n&lt;add key=\"ServiceAddress\" value=\"rabbitmq://ServerName/queueName\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>I'm not using guest user, I created a new one and I added all the rights as administrator.<br>\n<a href=\"https://i.stack.imgur.com/txAGX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txAGX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now this code works if I run the client application in the same server where is running RabbitMQ and also changing <code>ServerName</code> by <code>localhost</code>. If I run the client in my local machine using whatever ServerName or IP address of server, RabbitMQ is blocking my connection:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nM7LA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nM7LA.png\" alt=\"enter image description here\"></a></p>\n\n<p>I presume this is has to be with some configuration that I need to do in the server but I have not found it so far.</p>\n\n<p>One thing I noticed now is disk space is in red and and a big amount of generic exchanges have been created\n<a href=\"https://i.stack.imgur.com/DLdzF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DLdzF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522888205, "post_id": 49660365, "comment_id": 86334803, "body": "You&#39;re caching the reference before it changes, that makes sense, and if like you say it works then stick with it."}, {"owner": {"reputation": 774, "user_id": 7412111, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Seaky Lone", "link": "https://stackoverflow.com/users/7412111/seaky-lone"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522889143, "post_id": 49660365, "comment_id": 86335044, "body": "@Lece But this seems complicated. I don&#39;t want to get the cardinfo by creating a new object and then assigning old attributes to it and then reading the values and destroying it. I think there should be an easy copy way. I tried writing a copy function for the cardInfo but I always get a NullReference."}, {"owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522891341, "post_id": 49660365, "comment_id": 86335513, "body": "Understood, but this sounds like an <a href=\"https://meta.stackexchange.com/a/66378\">XY problem</a>? Are you looking to fix the original problem or simply looking to improve the working code that you&#39;ve posted? :)"}, {"owner": {"reputation": 774, "user_id": 7412111, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Seaky Lone", "link": "https://stackoverflow.com/users/7412111/seaky-lone"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522892207, "post_id": 49660365, "comment_id": 86335711, "body": "@Lece I hope to fix the problem in a better way,"}, {"owner": {"reputation": 774, "user_id": 7412111, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Seaky Lone", "link": "https://stackoverflow.com/users/7412111/seaky-lone"}, "reply_to_user": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "edited": false, "score": 0, "creation_date": 1522910045, "post_id": 49660365, "comment_id": 86340920, "body": "@Lece I have updated my original code. Could you please check it out?"}], "owner": {"reputation": 774, "user_id": 7412111, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Seaky Lone", "link": "https://stackoverflow.com/users/7412111/seaky-lone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522909937, "creation_date": 1522875670, "last_edit_date": 1522909937, "question_id": 49660365, "link": "https://stackoverflow.com/questions/49660365/reference-of-eventdata-pointercurrentraycast-gameobject", "title": "reference of eventData.pointerCurrentRaycast.gameObject", "body": "<pre><code>// Original code which has bug.\npublic void OnPointerClick(PointerEventData eventData)\n{\n    if (!createLineupPanel.activeSelf) return;\n    GameObject selectedObject = eventData.pointerCurrentRaycast.gameObject;\n    if (selectedObject.name == CARDSLOTPANEL)\n    {\n        CardInfo cardInfo = selectedObject.transform.parent.Find(\"Card\").GetComponent&lt;CardInfo&gt;();\n        if (cardInfo.GetCardType() == \"Tactic\") // Same tactic should warn.\n            lineupBuilder.AddTactic(cardInfo);\n        else\n        {\n            string cardName = cardInfo.GetCardName();\n            foreach (Vector2 loc in boardInfo.typeLocations[cardInfo.GetCardType()])\n            {\n                string oldLocPieceName = boardInfo.locations[loc];\n                if ((cardName.StartsWith(\"Standard \") &amp;&amp; !oldLocPieceName.StartsWith(\"Standard \")) ||\n                    (!cardName.StartsWith(\"Standard \") &amp;&amp; oldLocPieceName.StartsWith(\"Standard \")) ||\n                    (cardInfo.GetCardType() == \"General\" &amp;&amp; cardName != oldLocPieceName))\n                {\n                    lineupBuilder.AddPiece(cardInfo, loc);\n                    break;\n                }\n            }\n        }\n    }\n}\n// My bad solution.\npublic void OnPointerClick(PointerEventData eventData)\n{\n    if (!createLineupPanel.activeSelf) return;\n    GameObject selectedObject = eventData.pointerCurrentRaycast.gameObject;\n    if (selectedObject.name == CARDSLOTPANEL)\n    {\n        CardInfo cardInfo = selectedObject.transform.parent.Find(\"Card\").GetComponent&lt;CardInfo&gt;();\n        if (cardInfo.GetCardType() == \"Tactic\") \n            lineupBuilder.AddTactic(cardInfo);\n        else\n        {\n            // The \"else\" part is the part that matters.\n            dragCard = Instantiate(selectedObject.transform.parent.Find(\"Card\").gameObject, parentCanvas.transform);\n            string cardName = cardInfo.GetCardName();\n            foreach (Vector2 loc in boardInfo.typeLocations[cardInfo.GetCardType()])\n            {\n                string oldLocPieceName = boardInfo.locations[loc];\n                if ((cardName.StartsWith(\"Standard \") &amp;&amp; !oldLocPieceName.StartsWith(\"Standard \")) ||\n                    (!cardName.StartsWith(\"Standard \") &amp;&amp; oldLocPieceName.StartsWith(\"Standard \")) ||\n                    (cardInfo.GetCardType() == \"General\" &amp;&amp; cardName != oldLocPieceName))\n                {\n                    dragCard.GetComponent&lt;CardInfo&gt;().SetAttributes(cardInfo);\n                    lineupBuilder.AddPiece(dragCard.GetComponent&lt;CardInfo&gt;(), loc);\n                    break;\n                }\n            }\n            Destroy(dragCard);\n        }            \n    }\n}\n</code></pre>\n\n<p>I am currently implementing a function that if you click on a card in the collection the card will be removed from the collection and be added to the card slot. And the problem is the selectedObject, which refers to  eventData.pointerCurrentRaycast.gameObject. Since I remove that card from collection, the selectedObject is changed automatically to the next card (the next card moves to the current card location) and the cardInfo is consequently changed to the next card's cardInfo. So the card added to the card slot actually becomes the next card instead of the original card.</p>\n\n<p>The only solution I can think of is to create a copy of selectedObject then set it with old cardInfo and then destroy it, which is shown in my code posted. Is there a better way or an easier way to do this? My solution is seems complicated.</p>\n\n<p>If I directly use <code>lineupBuilder.AddPiece(selectedObject.GetComponent&lt;CardInfo&gt;(), loc)</code> instead of creating a copy, that's not going to work, because the object that selectedObject refers to has changed.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876885, "creation_date": 1522876885, "answer_id": 49660663, "question_id": 49660332, "link": "https://stackoverflow.com/questions/49660332/how-can-i-keep-the-object-to-rotate-in-the-range-from-its-original-position-rot/49660663#49660663", "title": "How can I keep the object to rotate in the range from it&#39;s original position/rotation and not to add/remove each time a new rotation?", "body": "<p><code>Rotate</code> will act relative to the current rotation so you're actually accumulating rotations there. Try this instead;</p>\n\n<pre><code>Quaternion initialRotation;\n\nvoid Start ()\n{\n    // Save initial rotation\n    initialRotation = transform.rotation;\n}\n\nvoid Update ()\n{\n    // Compute random angle in the range of +- rotationRange\n    var delta = (Random.value * 2f - 1f) * rotationRange;\n\n    // Compute rotation from the initial rotation and delta\n    transform.rotation = initialRotation * Quaternion.Euler(0f, delta, 0f);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2062, "user_id": 8585023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-400p9YGOAIk/AAAAAAAAAAI/AAAAAAAAAKs/j0ha2zSXOsM/photo.jpg=k-s128", "display_name": "Doh09", "link": "https://stackoverflow.com/users/8585023/doh09"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876948, "creation_date": 1522876948, "answer_id": 49660673, "question_id": 49660332, "link": "https://stackoverflow.com/questions/49660332/how-can-i-keep-the-object-to-rotate-in-the-range-from-its-original-position-rot/49660673#49660673", "title": "How can I keep the object to rotate in the range from it&#39;s original position/rotation and not to add/remove each time a new rotation?", "body": "<p>I believe using a \"currentRotation\" variable and a \"startRotation\" variable and adding the random value to it will work. I added it to your existing script in the section below.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Rotateturret : MonoBehaviour\n{\npublic enum RotateOnAxis { rotateOnX, rotateOnY, rotateOnZ };\npublic bool randomRotation = false;\n[Range(0, 360)]\npublic int rotationRange = 70;\npublic int startRotation = 20; //create a startRotation value.\npublic int currentRotation = 20; //create a currentRotation value in case you need to access it later.\n\nprivate void Update()\n{\n    if (randomRotation == true)\n    {\n        var rr = Random.Range(-rotationRange, rotationRange);\n        currentRotation = startRotation + rr; //Add the random value to the start value. This also works for negative values.\n        transform.Rotate(Vector3.up, currentRotation); //use the combined value instead of just rr.\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522876948, "creation_date": 1522875570, "question_id": 49660332, "link": "https://stackoverflow.com/questions/49660332/how-can-i-keep-the-object-to-rotate-in-the-range-from-its-original-position-rot", "title": "How can I keep the object to rotate in the range from it&#39;s original position/rotation and not to add/remove each time a new rotation?", "body": "<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Rotateturret : MonoBehaviour\n{\n    public enum RotateOnAxis { rotateOnX, rotateOnY, rotateOnZ };\n    public bool randomRotation = false;\n    [Range(0, 360)]\n    public int rotationRange = 70;\n\n    private void Start()\n    {\n\n    }\n\n    private void Update()\n    {\n        if (randomRotation == true)\n        {\n            var rr = Random.Range(-rotationRange, rotationRange);\n            transform.Rotate(Vector3.up, rr);\n        }\n    }\n}\n</code></pre>\n\n<p>What it does now it keep adding or removing a random number to the rotation so in some cases the rotation can be 230 or 450 or 21 it's adding/removing in range of -70 to 70 but I want it to add/remove but only 70/-70 from the original start position/rotation.</p>\n\n<p>For example if the game started and the object rotation is at 20 so add/remove 70 the rotation will be randomly between 20+70 and 20-70 maximum it can get to 90 and minimum to -50.</p>\n"}, {"tags": ["c#", "sqlite", "ado.net"], "answers": [{"tags": [], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "is_accepted": true, "score": 0, "last_activity_date": 1523557983, "creation_date": 1523557983, "answer_id": 49803684, "question_id": 49660327, "link": "https://stackoverflow.com/questions/49660327/how-can-i-get-the-fkpk-relationships-from-a-sqlite-db/49803684#49803684", "title": "How can I get the FK:PK relationships from a Sqlite DB?", "body": "<p>The solution is:</p>\n\n<p>DataTable dt = cnn.GetSchema(\"foreignkeys\", new [] {null, null, \"table_name\", null});</p>\n\n<p>If you want to get it table by table.</p>\n"}], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 49803684, "answer_count": 1, "score": -1, "last_activity_date": 1523557983, "creation_date": 1522875550, "question_id": 49660327, "link": "https://stackoverflow.com/questions/49660327/how-can-i-get-the-fkpk-relationships-from-a-sqlite-db", "title": "How can I get the FK:PK relationships from a Sqlite DB?", "body": "<p>How can I get the foreign key - primary key relationships from a Sqlite DB? I'm pulling down the table, view, &amp; column metadata. But I can't find a way to get the relationships.</p>\n\n<p>I am using C# and the System.Data.Sqlite ADO.NET connector.</p>\n\n<p>thanks - dave</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1522876396, "post_id": 49660308, "comment_id": 86330620, "body": "Please show the code that &quot;is not working&quot; and explain <i>how</i> it&#39;s not working. Also, what&#39;s the database tables&#39; create script?"}, {"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 1, "creation_date": 1522915642, "post_id": 49660308, "comment_id": 86344242, "body": "those are the entites. what is the model?"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1522929180, "post_id": 49660308, "comment_id": 86353621, "body": "updated the code with the migration history, where u can see the ondelete restrict"}], "answers": [{"comments": [{"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1522931453, "post_id": 49668094, "comment_id": 86355256, "body": "this worked for me protected override void OnModelCreating(ModelBuilder modelBuilder) {     modelBuilder.Entity&lt;Cliente&gt;()         .HasMany(c =&gt; c.matriculas)         .WithOne(e =&gt; e.Cliente)         .IsRequired(); }"}, {"owner": {"reputation": 2081, "user_id": 3598949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oGJ7j.jpg?s=128&g=1", "display_name": "Saadi", "link": "https://stackoverflow.com/users/3598949/saadi"}, "reply_to_user": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1522933523, "post_id": 49668094, "comment_id": 86356725, "body": "Ok. That&#39;s another way to do it. My approach will also work. Did you try it?"}], "tags": [], "owner": {"reputation": 2081, "user_id": 3598949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oGJ7j.jpg?s=128&g=1", "display_name": "Saadi", "link": "https://stackoverflow.com/users/3598949/saadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1522918428, "creation_date": 1522918428, "answer_id": 49668094, "question_id": 49660308, "link": "https://stackoverflow.com/questions/49660308/failing-to-setup-ondelete-cascade-with-code-first/49668094#49668094", "title": "Failing to setup ondelete Cascade with Code first", "body": "<p>You will have to use the fluent API to do this.</p>\n\n<p>Try adding the following to your DbContext:</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{   \n    modelBuilder.Entity&lt;Cliente&gt;()\n        .HasOptional(a =&gt; a.matriculas)\n        .WithOptionalDependent()\n        .WillCascadeOnDelete(true);\n}\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522932722, "creation_date": 1522875451, "last_edit_date": 1522932722, "question_id": 49660308, "link": "https://stackoverflow.com/questions/49660308/failing-to-setup-ondelete-cascade-with-code-first", "title": "Failing to setup ondelete Cascade with Code first", "body": "<p>I have the Client class and the dependant MatriculaCliente class, they have a one(client) to many relationship and i need the ondelete cascade to delete all clients matricula's after the client is delete, not sure why is not working this is how im tryng to do</p>\n\n<p>Client</p>\n\n<pre><code>public class Cliente\n{\n    [Key]\n    public string CONCLIENTE { get; set; }\n    public string tipoDocumentoCliente { get; set; }\n    public string nomeCliente { get; set; }          \n    public string escolaridadeCliente { get; set; }\n\n    public ICollection&lt;MatriculaCliente&gt; matriculas { get; set; }\n\n    public Cliente() {\n        matriculas = new Collection&lt;MatriculaCliente&gt;();\n    }\n}\n</code></pre>\n\n<p>Matricula</p>\n\n<pre><code>public class MatriculaCliente\n{\n    [Key]\n    public string conmatriculacliente { get; set; }\n\n    public string concliente { get; set; }\n    public Cliente cliente { get; set; }\n    public string tipoDocumento { get; set; }\n    public string descricaoNegocio { get; set; }\n    public string matriculaCliente { get; set; }\n}\n</code></pre>\n\n<p>this is my migration history where u can see the ondelete is restrict</p>\n\n<pre><code>    public partial class ModeloClienteMatricula : Migration\n    {\n        protected override void Up(MigrationBuilder migrationBuilder)\n        {\n            migrationBuilder.CreateTable(\n                name: \"Clientes\",\n                columns: table =&gt; new\n                {\n                    CONCLIENTE = table.Column&lt;string&gt;(nullable: false),\n                    cepCliente = table.Column&lt;string&gt;(nullable: true),\n                    cpfCliente = table.Column&lt;string&gt;(nullable: true),\n                    dataDeclaracaoPepCliente = table.Column&lt;DateTime&gt;(nullable: false),\n                    dataNascimentoCliente = table.Column&lt;DateTime&gt;(nullable: false),\n                    escolaridadeCliente = table.Column&lt;string&gt;(nullable: true),\n                    estadoCivilCliente = table.Column&lt;string&gt;(nullable: true),\n                    nomeCliente = table.Column&lt;string&gt;(nullable: true),\n                    rendaCliente = table.Column&lt;int&gt;(nullable: false),\n                    sexoCliente = table.Column&lt;string&gt;(nullable: true),\n                    tipoDocumentoCliente = table.Column&lt;string&gt;(nullable: true)\n                },\n                constraints: table =&gt;\n                {\n                    table.PrimaryKey(\"PK_Clientes\", x =&gt; x.CONCLIENTE);\n                });\n\n            migrationBuilder.CreateTable(\n                name: \"Matriculas\",\n                columns: table =&gt; new\n                {\n                    conmatriculacliente = table.Column&lt;string&gt;(nullable: false),\n                    concliente = table.Column&lt;string&gt;(nullable: true),\n                    descricaoNegocio = table.Column&lt;string&gt;(nullable: true),\n                    matriculaCliente = table.Column&lt;string&gt;(nullable: true),\n                    tipoDocumento = table.Column&lt;string&gt;(nullable: true)\n                },\n                constraints: table =&gt;\n                {\n                    table.PrimaryKey(\"PK_Matriculas\", x =&gt; x.conmatriculacliente);\n                    table.ForeignKey(\n                        name: \"FK_Matriculas_Clientes_concliente\",\n                        column: x =&gt; x.concliente,\n                        principalTable: \"Clientes\",\n                        principalColumn: \"CONCLIENTE\",\n                        onDelete: ReferentialAction.Restrict);\n                });\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_Matriculas_concliente\",\n                table: \"Matriculas\",\n                column: \"concliente\");\n        }\n\n        protected override void Down(MigrationBuilder migrationBuilder)\n        {\n            migrationBuilder.DropTable(\n                name: \"Matriculas\");\n\n            migrationBuilder.DropTable(\n                name: \"Clientes\");\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc", "ef-core-2.0", "asp.net-mvc-scaffolding"], "comments": [{"owner": {"reputation": 469, "user_id": 6489473, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a957655dedab9232474e4d28bcf03e62?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6489473/joe"}, "edited": false, "score": 0, "creation_date": 1522875912, "post_id": 49660305, "comment_id": 86330385, "body": "Add a try catch block and give the detailed error . It will help to understand the real problem"}, {"owner": {"reputation": 469, "user_id": 6489473, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a957655dedab9232474e4d28bcf03e62?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6489473/joe"}, "edited": false, "score": 0, "creation_date": 1522876318, "post_id": 49660305, "comment_id": 86330578, "body": "Make sure CodeTemplates folder correctly pickups the files you have specified , multiple versions of VS can create problem"}], "answers": [{"tags": [], "owner": {"reputation": 8121, "user_id": 152997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae371690b3859dd1515ccf3e9ddc2ec8?s=128&d=identicon&r=PG", "display_name": "McGuireV10", "link": "https://stackoverflow.com/users/152997/mcguirev10"}, "is_accepted": false, "score": 0, "last_activity_date": 1523828408, "creation_date": 1523828408, "answer_id": 49847058, "question_id": 49660305, "link": "https://stackoverflow.com/questions/49660305/asp-net-core-scaffolding-error-vs-2017/49847058#49847058", "title": "ASP.NET Core Scaffolding Error VS 2017", "body": "<p>Scaffolding will not run unless the project builds without errors.</p>\n\n<p>Fix the problem shown in the error message.</p>\n"}], "owner": {"reputation": 25, "user_id": 5737359, "user_type": "registered", "profile_image": "https://graph.facebook.com/523846237796988/picture?type=large", "display_name": "Abrar Hasin Pranto", "link": "https://stackoverflow.com/users/5737359/abrar-hasin-pranto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523828408, "creation_date": 1522875424, "last_edit_date": 1523824611, "question_id": 49660305, "link": "https://stackoverflow.com/questions/49660305/asp-net-core-scaffolding-error-vs-2017", "title": "ASP.NET Core Scaffolding Error VS 2017", "body": "<p>Using asp.net Visual Studio 2017 I tried to learn making website using MVC. For that I took the reference of this link:\n <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/intro\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/intro</a>\nthen when to use scaffolding... Some error occured. It occurred even before. I tried to for a solve but still don't get it. Please help me learning MVC.</p>\n\n<ol>\n<li>The state before pressing Add . UniversityContext.cs code is here - </li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/NWrAD.png\" alt=\"View before pressing ADD button\"></p>\n\n<ol start=\"2\">\n<li>The Error that shows after pressing Add Button.</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/Frmx7.png\" alt=\"Error Dialog Box\"></p>\n"}, {"tags": ["c#", "azure", "blob", "azure-storage"], "answers": [{"comments": [{"owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "edited": false, "score": 0, "creation_date": 1522915711, "post_id": 49661597, "comment_id": 86344290, "body": "Ah I must need to update the npm packages I guess, I&#39;ll take a look at this later, thanks."}, {"owner": {"reputation": 1691, "user_id": 2068719, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c9ed50028eb45dc686766870a45e2c3f?s=128&d=identicon&r=PG", "display_name": "Jesse Sierks", "link": "https://stackoverflow.com/users/2068719/jesse-sierks"}, "edited": false, "score": 0, "creation_date": 1564581639, "post_id": 49661597, "comment_id": 101079457, "body": "It&#39;s a dead link now. I think this is the one you want now:  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.cloudblockblob.setstandardblobtier?view=azure-dotnet\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5379, "user_id": 2995449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d86c0a1ca294dcdf8a4156c997c43f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaoxing Lu", "link": "https://stackoverflow.com/users/2995449/zhaoxing-lu"}, "is_accepted": true, "score": 9, "last_activity_date": 1522882172, "creation_date": 1522882172, "answer_id": 49661597, "question_id": 49660278, "link": "https://stackoverflow.com/questions/49660278/c-azure-cannot-set-the-blob-tier/49661597#49661597", "title": "c# Azure Cannot set the blob tier", "body": "<p>I think the method is exactly what you need: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.windowsazure.storage.blob.cloudblockblob.setstandardblobtier?view=azure-dotnet\" rel=\"noreferrer\">CloudBlockBlob.SetStandardBlobTier</a>. Maybe you were not checking the latest version of Azure Storage Client Library?</p>\n"}, {"tags": [], "owner": {"reputation": 22308, "user_id": 7005159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550c3427cedf0d13b6d2b03bf25a793f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Sun - MSFT", "link": "https://stackoverflow.com/users/7005159/tom-sun-msft"}, "is_accepted": false, "score": 5, "last_activity_date": 1522994782, "creation_date": 1522994782, "answer_id": 49686407, "question_id": 49660278, "link": "https://stackoverflow.com/questions/49660278/c-azure-cannot-set-the-blob-tier/49686407#49686407", "title": "c# Azure Cannot set the blob tier", "body": "<blockquote>\n  <p>Is their any way to change the blob tier in code from hot to cold in C# with azure storage?</p>\n</blockquote>\n\n<p>As ZhaoXing Lu mentioned that we could use <code>CloudBlockBlob.SetStandardBlobTier</code>.</p>\n\n<blockquote>\n  <p><strong>Note:</strong> The operation is allowed on a page blob in <strong>a premium storage account</strong> and on a <strong>block blob</strong> in a <strong>blob storage account</strong></p>\n</blockquote>\n\n<p>The following code works correctly on my side. I use the library <a href=\"https://www.nuget.org/packages/WindowsAzure.Storage/\" rel=\"noreferrer\">WindowsAzure.Storage 9.1.1</a></p>\n\n<pre><code>var cloudBlobClient = storageAccount.CreateCloudBlobClient();\nvar container = cloudBlobClient.GetContainerReference(\"container\");\nvar blob = container.GetBlockBlobReference(\"blob name\");\nblob.SetStandardBlobTier(StandardBlobTier.Cool);\nblob.FetchAttributes();\nvar tier = blob.Properties.StandardBlobTier;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/C8BV3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/C8BV3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 861, "user_id": 193361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5935352ad4829c28cbe09c28dafb504?s=128&d=identicon&r=PG", "display_name": "VictorV", "link": "https://stackoverflow.com/users/193361/victorv"}, "is_accepted": false, "score": 4, "last_activity_date": 1591132539, "creation_date": 1591132539, "answer_id": 62161544, "question_id": 49660278, "link": "https://stackoverflow.com/questions/49660278/c-azure-cannot-set-the-blob-tier/62161544#62161544", "title": "c# Azure Cannot set the blob tier", "body": "<p>Using Azure Blob storage client library v12 for .NET, replace <em>myaccount</em> with the name of your storage account, <em>mycontainer</em> with your container name and <em>myblob</em> with the blob name for which the tier is to be changed:</p>\n\n<pre><code>var sharedKeyCredential = new StorageSharedKeyCredential(\"myaccount\", storageAccountKey);\nvar baseBlobContainerUrl = string.Format(\"{0}.blob.core.windows.net\", \"myaccount\");\nvar blobServiceClient = new BlobServiceClient(new Uri($\"https://{baseBlobContainerUrl}\"), sharedKeyCredential);\nvar containerClient = blobServiceClient.GetBlobContainerClient(\"mycontainer\");\nBlobClient blobClient = containerClient.GetBlobClient(\"myblob\");\n// Set access tier to cool.\nawait blobClient.SetAccessTierAsync(AccessTier.Cool);\n</code></pre>\n\n<p>If you are working with Azure Gov, use this url insteadl <code>\"{0}.blob.core.usgovcloudapi.net\"</code></p>\n\n<p>Keep in mind, your storage account should support Cool Storage. </p>\n"}], "owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2288, "favorite_count": 1, "accepted_answer_id": 49661597, "answer_count": 3, "score": 6, "last_activity_date": 1591132539, "creation_date": 1522875328, "question_id": 49660278, "link": "https://stackoverflow.com/questions/49660278/c-azure-cannot-set-the-blob-tier", "title": "c# Azure Cannot set the blob tier", "body": "<p><code>CloudBlockBlob</code> doesn't have any method to set the blob tier to <code>hot/cool/archive</code>. I have also checked the other blob types and they do not have a method that allows this either.</p>\n\n<p>I.E this method: <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/set-blob-tier\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/rest/api/storageservices/set-blob-tier</a></p>\n\n<p>Is their any way to change the blob tier in code from hot to cold in C# with azure storage?</p>\n"}, {"tags": ["c#", "sqlite", "dbconnection", "getschema"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1522875937, "post_id": 49660259, "comment_id": 86330400, "body": "It seems that they don&#39;t have it. You cannot even set a comment when creating the table <a href=\"https://sqlite.org/lang_createtable.html\" rel=\"nofollow noreferrer\">sqlite.org/lang_createtable.html</a>"}, {"owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1522876693, "post_id": 49660259, "comment_id": 86330756, "body": "@Steve - thank you. If you post that as an answer I&#39;m happy to select it."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1522876827, "post_id": 49660259, "comment_id": 86330833, "body": "I have not enough experience on SQLite to be conclusive with an answer. Let&#39;s see if some SQLite expert comes here with more certainty"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 9572976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kang", "link": "https://stackoverflow.com/users/9572976/kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876568, "creation_date": 1522876568, "answer_id": 49660585, "question_id": 49660259, "link": "https://stackoverflow.com/questions/49660259/does-sqlite-have-a-table-view-and-or-column-description-in-the-metadata/49660585#49660585", "title": "Does Sqlite have a table, view, and/or column description in the metadata?", "body": "<p>I'm not entirely sure this is what you're asking, but <code>DbConnection.GetSchema(\"MetaDataCollections\")</code> will help you find all of the arguments that the <code>GetSchema()</code> method can take. These methods include views and columns. The <code>\"Tables\"</code> argument only returns a list of the tables. If by description you are referring to something similar to a MySQL <code>DESCRIBE</code>, you can query the <code>sqlite_master</code> to see the <code>create</code> statements. That's the closest I know of to comments (though there could certainly be ways I don't know of).</p>\n"}], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522876568, "creation_date": 1522875261, "question_id": 49660259, "link": "https://stackoverflow.com/questions/49660259/does-sqlite-have-a-table-view-and-or-column-description-in-the-metadata", "title": "Does Sqlite have a table, view, and/or column description in the metadata?", "body": "<p>I am calling DbConnection.GetSchema(\"Tables\") and that does not return a column named \"table_comment\".</p>\n\n<p>Does Sqlite not have descriptions in its metadata?</p>\n\n<p>Or if it has it, how do I query it?</p>\n\n<p>thanks - dave</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1522875291, "post_id": 49660202, "comment_id": 86330080, "body": "When you have an error message please include it in its entirety, paraphrasing it can lead to inconsistencies. Also include the line number if you can."}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1522875504, "post_id": 49660202, "comment_id": 86330169, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5646954/how-to-access-winform-textbox-control-from-another-class\">How to access Winform textbox control from another class?</a>"}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1522875574, "post_id": 49660202, "comment_id": 86330209, "body": "I&#39;ll admit that&#39;s probably not the best duplicate flag I&#39;ve ever submitted, but if you search something like &quot;c# access control from another class&quot;, you&#39;ll get tons of help."}], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 3902893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Qn05.jpg?s=128&g=1", "display_name": "farosch", "link": "https://stackoverflow.com/users/3902893/farosch"}, "is_accepted": false, "score": 0, "last_activity_date": 1522875915, "creation_date": 1522875915, "answer_id": 49660419, "question_id": 49660202, "link": "https://stackoverflow.com/questions/49660202/c-winforms-returning-values-to-a-button-event/49660419#49660419", "title": "C# Winforms: Returning values to a button event", "body": "<p>I have no idea, what your code does and as @Steve already said your question misses some key infos. Nevertheless try changing your two methods <code>Display</code> and <code>buttonCalculate_Click</code> like this:</p>\n\n<pre><code>public string Display(double clD)\n{\n    totalTime = counter * clD / 3600;\n    hours = (int)(counter * clD / 3600);\n    minutes = (int)((totalTime - hours) * 3600 / 60);\n    seconds = (int)((totalTime - hours) * 3600 % 60);\n\n    return \"Hours: \" + hours + \", Minutes: \" + minutes + \", Seconds: \" + seconds;\n}\n\nprivate void buttonCalculate_Click(object sender, EventArgs e)\n{\n    double minSkill;\n    double maxSkill;\n    double coolDown;\n    minSkill = float.Parse(txtMinSkill.Text) * 10;\n    maxSkill = float.Parse(txtMaxSkill.Text) * 10;\n    coolDown = float.Parse(txtCooldown.Text);\n    SkillGainCalculator skill = new SkillGainCalculator();\n    skill.IntegerMax(maxSkill);\n    skill.RemainderMax(maxSkill);\n    skill.RemainderMin(minSkill);\n    skill.IntegerMin(minSkill);\n    skill.Calculate(minSkill, maxSkill);\n    resultLabel.Text = skill.Display(coolDown);\n}\n</code></pre>\n\n<p>The method <code>Display</code> now generates the string you want to display and returns it when called so you can set <code>resultLabel.Text</code> from you calling method:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4dWtR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4dWtR.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 9599036, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Drowseht", "link": "https://stackoverflow.com/users/9599036/drowseht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1522880245, "creation_date": 1522875026, "last_edit_date": 1522880245, "question_id": 49660202, "link": "https://stackoverflow.com/questions/49660202/c-winforms-returning-values-to-a-button-event", "title": "C# Winforms: Returning values to a button event", "body": "<p>I'm completely new to C# programming, and I'm trying to make a custom calculator using Windows Forms.</p>\n\n<p>Three text boxes <code>txtMinSkill</code>, <code>txtMaxSkill</code>, <code>txtCooldown</code> should be keyed values into, and clicking a button <code>buttonCalculate</code> should do some calculations and present the result in a label <code>resultLabel</code>.</p>\n\n<p>I have managed to get everything working down to the skill.Display function, but I have no idea how to display the variables <em>hours</em>, <em>minutes</em>, <em>seconds</em> in the label. When I try to access them from within the button event, I just get a message that it does not exist in the current context. And I can't access the label from the Display method.</p>\n\n<p>Can anyone assist? Thanks!</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void buttonCalculate_Click(object sender, EventArgs e)\n    {\n        double minSkill;\n        double maxSkill;\n        double coolDown;\n        minSkill = float.Parse(txtMinSkill.Text) * 10;\n        maxSkill = float.Parse(txtMaxSkill.Text) * 10;\n        coolDown = float.Parse(txtCooldown.Text);\n        SkillGainCalculator skill = new SkillGainCalculator();\n        skill.IntegerMax(maxSkill);\n        skill.RemainderMax(maxSkill);\n        skill.RemainderMin(minSkill);\n        skill.IntegerMin(minSkill);\n        skill.Calculate(minSkill,maxSkill);\n        skill.Display(coolDown);\n    }\n\n}\nclass SkillGainCalculator\n{\n    //member variables\n    private int integerMax;\n    private int remainderMax;\n    private int integerMin;\n    private int remainderMin;\n\n    private double counter;\n    const int constant = 6480;\n    private int i;\n\n    private double totalTime;\n    private int hours;\n    private int minutes;\n    private int seconds;\n\n    public double IntegerMax(double intMax)\n    {\n        integerMax = (int)((1000 - intMax) / 50);\n        return integerMax;\n    }\n\n    public int RemainderMax(double intMax)\n    {\n        remainderMax = (int)((1000 - intMax) % 50);\n        return remainderMax;\n    }\n\n    public int RemainderMin(double intMin)\n    {\n        remainderMin = (int)((1000 - intMin) % 50);\n        return remainderMin;\n    }\n\n    public int IntegerMin(double intMin)\n    {\n        if (remainderMin == 0)\n        {\n            integerMin = (int)((1000 - intMin) / 50) - 1;\n            return integerMin;\n        }\n        else\n        {\n            integerMin = (int)((1000 - intMin) / 50);\n            return integerMin;\n        }\n    }\n\n    public double Calculate(double intMax, double intMin)\n    {\n        for (i = integerMax; i &lt;= integerMin; i++)\n        {\n            if (i == integerMax &amp;&amp; remainderMax != 0)\n            {\n                if (intMax &lt;= 700)\n                {\n                    counter = counter + constant * Math.Pow(0.8, i) * (50 - remainderMax) / 50;\n                }\n                else\n                {\n                    counter = counter + constant * Math.Pow(0.8, i) * (50 - remainderMax) / 50;\n                }\n            }\n            else if (i == integerMin &amp;&amp; remainderMin != 0)\n            {\n                if (intMin &lt; 700)\n                {\n                    counter = counter + constant * Math.Pow(0.8, i) * remainderMin / 50;\n                }\n                else\n                {\n                    counter = counter + constant * Math.Pow(0.8, i) * remainderMin / 50;\n                }\n            }\n            else if (i &gt;= 6)\n            {\n                counter = counter + constant * Math.Pow(0.8, i);\n            }\n            else\n            {\n                counter = counter + constant * Math.Pow(0.8, i);\n            }\n        }\n        return counter;\n    }\n\n    public void Display(double clD)\n    {\n        totalTime = counter * clD / 3600;\n        hours = (int)(counter * clD / 3600);\n        minutes = (int)((totalTime - hours) * 3600 / 60);\n        seconds = (int)((totalTime - hours) * 3600 % 60);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1522875450, "post_id": 49660189, "comment_id": 86330142, "body": "Define \u201cdelimiters\u201d. Any why would you split them into separate arrays instead of one array containing both data?"}, {"owner": {"reputation": 3, "user_id": 9561436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d22423a9bcf3fd1e13266ee824045cc2?s=128&d=identicon&r=PG&f=1", "display_name": "hard", "link": "https://stackoverflow.com/users/9561436/hard"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1522875720, "post_id": 49660189, "comment_id": 86330293, "body": "a delimiter is the one which separates the values, in my question the delimiters are: &quot; =, @, }, { &quot;. I want to sort the array values"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1523078159, "post_id": 49660189, "comment_id": 86421499, "body": "Paired arrays like that are an anti-pattern. Don&#39;t use two arrays. Make one array with a class or a tuple."}], "answers": [{"tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": true, "score": 0, "last_activity_date": 1522876655, "last_edit_date": 1522876655, "creation_date": 1522876325, "answer_id": 49660513, "question_id": 49660189, "link": "https://stackoverflow.com/questions/49660189/read-a-text-file-and-split-the-text-file-by-removing-delimiters-and-store-it-int/49660513#49660513", "title": "Read a text file and split the text file by removing delimiters and store it into 2 arrays", "body": "<p>May be this code, solve your problem. <code>Split</code>function take <code>char</code>s and parse with these values. Delimeters are removed your result. If your all text like this (first name and delimeter and revenue), you can select even index as movie name and odd index as revenue.</p>\n\n<pre><code>string allText = @\"Jurassic World=11734562.56\nBlack Panther@4352749.21\nThe Revenant}7452893.21\nTrainwreck{1547892.45\";\n\nstring[] splitStrings = allText.Split('\\n', '=', '{', '}', '@');\n\nstring[] movies = splitStrings.Where((s, i) =&gt; i % 2 == 0).ToArray();\nstring[] revenues = splitStrings.Where((s, i) =&gt; i % 2 == 1).ToArray();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2615, "user_id": 4133948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nwZAE.jpg?s=128&g=1", "display_name": "Greg R Taylor", "link": "https://stackoverflow.com/users/4133948/greg-r-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1523076262, "creation_date": 1523076262, "answer_id": 49703927, "question_id": 49660189, "link": "https://stackoverflow.com/questions/49660189/read-a-text-file-and-split-the-text-file-by-removing-delimiters-and-store-it-int/49703927#49703927", "title": "Read a text file and split the text file by removing delimiters and store it into 2 arrays", "body": "<p>Another solution which strips unwanted chars. </p>\n\n<pre><code>string val = @\" Jurassic World=11734562.56\n                Black Panther@4352749.21\n                The Revenant}7452893.21\n                Trainwreck{1547892.45\";\n\nstring[] lines = val.Split('\\r');\n\nstring[] movieNameArr = new string[lines.Length];\ndecimal[] amountsArr = new decimal[lines.Length];\n\nfor (int i = 0; i &lt; lines.Length; i++)\n{\n    string[] split = lines[i].Split(new Char[] { '=', '@', '}', '{' });\n\n    // replace new line or space chars with empty string \n    split[0] = Regex.Replace(split[0], @\" |\\n\", string.Empty);\n\n    movieNameArr[i] = split[0];\n    amountsArr[i] = decimal.Parse(split[1]);\n}\n\nConsole.WriteLine(\"Movie arr: [{0}]\", string.Join(\", \", movieNameArr));\nConsole.WriteLine(\"Amounts arr: [{0}]\", string.Join(\", \", amountsArr));\n\nConsole.ReadKey();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9561436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d22423a9bcf3fd1e13266ee824045cc2?s=128&d=identicon&r=PG&f=1", "display_name": "hard", "link": "https://stackoverflow.com/users/9561436/hard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 49660513, "answer_count": 2, "score": 0, "last_activity_date": 1523076262, "creation_date": 1522874993, "last_edit_date": 1522875200, "question_id": 49660189, "link": "https://stackoverflow.com/questions/49660189/read-a-text-file-and-split-the-text-file-by-removing-delimiters-and-store-it-int", "title": "Read a text file and split the text file by removing delimiters and store it into 2 arrays", "body": "<p>I want to read a text file and split the text file by removing delimiters and store it into two 1d-arrays (one for <strong>Movie</strong> name and other for <strong>Revenue</strong>)</p>\n\n<p>Example of my text file:</p>\n\n<pre><code>Jurassic World=11734562.56\nBlack Panther@4352749.21\nThe Revenant}7452893.21\nTrainwreck{1547892.45\n</code></pre>\n"}, {"tags": ["c#", "logging", "c#-4.0"], "comments": [{"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "edited": false, "score": 1, "creation_date": 1522874834, "post_id": 49660118, "comment_id": 86329827, "body": "You can look at Aspect-Oriented programming - this is a compilation step that will automatically inject code into your methods, and logging the start and end of a method is a common example. There are various AOP tools out there."}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1522874862, "post_id": 49660118, "comment_id": 86329844, "body": "You <i>do</i> know you have stack trace information that already provides the info you are logging, right?"}, {"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "reply_to_user": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1522874947, "post_id": 49660118, "comment_id": 86329887, "body": "@InBetween Only if he has thrown an exception, or generated a stack trace manually...for general logging of the start and end of methods, I don&#39;t think your comment applies?"}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "reply_to_user": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "edited": false, "score": 0, "creation_date": 1522875039, "post_id": 49660118, "comment_id": 86329932, "body": "@RB. well I was basing my coment on the following: <i>allows me to track exactly what methods were called on this run so that if there is an issue I can see how far it got before breaking making it easy to debug</i> If there is no issue it doesn&#39;t seem to be info he&#39;s going to use."}, {"owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "reply_to_user": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1522875146, "post_id": 49660118, "comment_id": 86329996, "body": "@InBetween - yes but I dont want to dump the stack - or even care about the stack in some cases - assuming a case like X method was supposed to be called but never did or a number of other scenarios. This way I can chose to update the logging level and change it based on how much I need to print out (Debug, Info, Warrning, Failure). Again, the goal is that info will go on the log when debugging but I dont want to write those lines many many times"}, {"owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "reply_to_user": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 2, "creation_date": 1522875163, "post_id": 49660118, "comment_id": 86330006, "body": "@InBetween I don&#39;t read that to mean an Exception was thrown (although that might have been what he meant) - I read that as tracking the functional behaviour of the program to work out how it behaved. It&#39;s a fair point though, and you&#39;re right to point out that the stack trace will have the information he is looking for if that&#39;s how he meant it :) <b>EDIT</b> Sam has now clarified that he meant it how I read it - if only English was as unambiguous as C# :)"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1522875386, "post_id": 49660118, "comment_id": 86330114, "body": "Either way, there&#39;ll be no exception stack traces with the code as-is: it eats all the exceptions every step of the way."}], "answers": [{"comments": [{"owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "edited": false, "score": 1, "creation_date": 1522875483, "post_id": 49660156, "comment_id": 86330155, "body": "&quot;allows you to define a specific attribute, and any method you decorate with that attribute will call specific methods prior to entering and leaving the method.&quot;  Yup, that sounds like exactly what I am looking for - I will test it out and report back, thank you so much for the info"}, {"owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "edited": false, "score": 1, "creation_date": 1523029898, "post_id": 49660156, "comment_id": 86406027, "body": "I&#39;ve been trying to get it to work and couldn&#39;t. There were no working unit tests with MethodDecorator that I was able to find. I then came across this comment section: <a href=\"https://github.com/Fody/MethodDecorator/issues/56\" rel=\"nofollow noreferrer\">github.com/Fody/MethodDecorator/issues/56</a> In the thread the first reply made me understand why all my attempts were failing: &quot;...I hope someone steps up (sadly I cannot), as Fody has moved forward and no longer supports MethodDecorator in it&#39;s current state...&quot; The concept itself is a great idea and I&#39;ll look for others, thank you for exposing me to AOP - (cont. 1/2)"}, {"owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "edited": false, "score": 1, "creation_date": 1523030009, "post_id": 49660156, "comment_id": 86406097, "body": "(2/2) I&#39;ll mark this as accepted answer but I hope if someone comes in here they&#39;ll read this comment"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "edited": false, "score": 0, "creation_date": 1523044160, "post_id": 49660156, "comment_id": 86413335, "body": "Thanks for reporting back, Sam. It&#39;s always unfortunate to find that promising projects have fallen by the wayside. You may want to look down the list of Fody add-ins for other libraries that might work. <a href=\"https://github.com/csnemes/tracer\" rel=\"nofollow noreferrer\">github.com/csnemes/tracer</a> seems promising."}, {"owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "edited": false, "score": 1, "creation_date": 1523557032, "post_id": 49660156, "comment_id": 86621288, "body": "After a few days dealing with this I am finally wrapping my head around the terminology and now I understand it a lot better. That example is perfect, thank you for pointing me in the right direction"}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": true, "score": 1, "last_activity_date": 1522875272, "last_edit_date": 1522875272, "creation_date": 1522874828, "answer_id": 49660156, "question_id": 49660118, "link": "https://stackoverflow.com/questions/49660118/can-a-method-within-a-class-inherit-a-subroutine-that-executes-at-the-start-and/49660156#49660156", "title": "Can a method within a class inherit a subroutine that executes at the start and end of the method?", "body": "<p>There are some <a href=\"https://github.com/Fody/Fody\" rel=\"nofollow noreferrer\">Fody</a> Add-ins that will allow you to add this kind of code into your compiled output at compile-time rather than having to write it yourself.</p>\n\n<p>For example, <a href=\"https://github.com/Fody/MethodDecorator\" rel=\"nofollow noreferrer\">MethodDecorator</a> allows you to define a specific attribute, and any method you decorate with that attribute will call specific methods prior to entering and leaving the method.</p>\n\n<p>I should note that for a project of any reasonable size, logging the entry and exit for every single method is going to produce more log messages than anyone can reasonably expect to read. I'd suggest you be judicious in which methods add log messages, and what information you include in those log messages. </p>\n\n<p>The vast majority of the time a more useful strategy is to use guard statements to test your assumptions along the way, throwing an exception the moment anything is out of place, and then wrapping exceptions with more useful information (via <code>InnerException</code>) as they go up the call chain, then finally logging the results of those exceptions at the top level of your application. That way, you only produce log messages when something appears to go in a way you don't expect, and the log message in that case has all the information you're likely to need.</p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1522880863, "last_edit_date": 1522880863, "creation_date": 1522879867, "answer_id": 49661205, "question_id": 49660118, "link": "https://stackoverflow.com/questions/49660118/can-a-method-within-a-class-inherit-a-subroutine-that-executes-at-the-start-and/49661205#49661205", "title": "Can a method within a class inherit a subroutine that executes at the start and end of the method?", "body": "<p>I'm not sure this is exactly what you're looking for, but it might point you in the right direction. For demonstration purposes I'm logging to the Console, but you could log to a file instead.</p>\n\n<p>You could create a method that takes in another method to execute, which executes the function and returns the value, and which wraps the beginning and ending of the method call with writes to your log file:</p>\n\n<pre><code>// For methods that return a value\nprivate static TResult LogMethod&lt;TResult&gt;(string displayName, Func&lt;TResult&gt; method)\n{\n    Console.WriteLine($\"{DateTime.Now} - Starting method: {displayName}\");\n    TResult result = method();\n    Console.WriteLine($\"{DateTime.Now} - Completed method: {displayName}\");\n    return result;\n}\n\n// For void methods\nprivate static void LogMethod(string displayName, Action method)\n{\n    Console.WriteLine($\"{DateTime.Now} - Starting method: {displayName}\");\n    method();\n    Console.WriteLine($\"{DateTime.Now} - Completed method: {displayName}\");\n}\n</code></pre>\n\n<p>As an example of how to use this, let's say we have the following methods:</p>\n\n<pre><code>private static int GetNumberFromUser(string prompt)\n{\n    int result;\n    do\n    {\n        Console.Write(prompt);\n    } while (!int.TryParse(Console.ReadLine(), out result));\n    return result;\n}\n\nprivate static int AddNumbers(int first, int second)\n{\n    return first + second;\n}\n\nprivate static void Tell(string message)\n{\n    Console.WriteLine(message);\n}\n</code></pre>\n\n<p>Now, instead of calling these methods directly, we can call them through our <code>LogMethod</code> function:</p>\n\n<pre><code>private static void Main()\n{\n    var firstNumber = LogMethod(\"GetNumber\", \n        () =&gt; GetNumberFromUser(\"Enter first number: \"));\n\n    var secondNumber = LogMethod(\"GetNumber\", \n        () =&gt; GetNumberFromUser(\"Enter second number: \"));\n\n    var result = LogMethod(\"AddNumber\", \n        () =&gt; AddNumbers(firstNumber, secondNumber));\n\n    LogMethod(\"Tell\", () =&gt; Tell($\"{firstNumber} + {secondNumber} = {result}\"));\n\n    GetKeyFromUser(\"\\nDone!! Press any key to exit...\");\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1c1JN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1c1JN.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 936, "user_id": 3842401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a735d112da74b1b0c41bd823d4d727f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3842401/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 49660156, "answer_count": 2, "score": 0, "last_activity_date": 1523036852, "creation_date": 1522874687, "last_edit_date": 1523036852, "question_id": 49660118, "link": "https://stackoverflow.com/questions/49660118/can-a-method-within-a-class-inherit-a-subroutine-that-executes-at-the-start-and", "title": "Can a method within a class inherit a subroutine that executes at the start and end of the method?", "body": "<p>I have a logger that I am adding to my project. Right now for every method I'm going to have to write Logger.DebugLog(\"Starting Method\") at the start of each method and Logger.DebugLog(\"Completed Method\")</p>\n\n<p>this logger - when Debug enabled - allows me to track exactly what methods were called on this run so that if there is an issue I can see how far it got before breaking making it easy to debug. Assume that the method name and line are being captured - <strong>my goal here is I do not want to add those two lines on every one of the +100 public or private methods</strong></p>\n\n<pre><code>namespace myProject\n{\n   public class myClass\n   {\n     public bool MyPublicMethod(string Message = \"someRandomMessage\")\n     {\n        try\n        {\n            myPrivateMethod(1);\n            writeToLog(Message);\n            return true;\n        }\n        catch(){\n           return false; \n        }\n     }\n\n     private bool myPrivateMethod(int passedNumber)\n     {\n        try\n        {\n            writeToLog(passedNumber);\n            return true;\n        }\n        catch(){\n           return false;\n        }\n     }\n   }\n}\n</code></pre>\n\n<p>my log file should look like this:</p>\n\n<pre><code>04:00:00 - Starting Method:MyPublicMethod\n04:00:00 - Starting Method:myPrivateMethod\n04:00:01 - 1\n04:00:01 - Completed Method:myPrivateMethod\n04:00:02 - someRandomMessage\n04:00:02 - Completed Method:MyPublicMethod\n</code></pre>\n\n<p>What I am forced to do now which looks cluttered is: </p>\n\n<pre><code>namespace myProject\n{\n   public class myClass\n   {\n     public bool MyPublicMethod(string Message = \"someRandomMessage\")\n     {\n        try\n        {\n            writeToLog(\"Starting Method\");\n            myPrivateMethod(1);\n            writeToLog(Message);\n\n            writeToLog(\"Completed Method\");\n            return true;\n        }\n        catch(){\n           return false; \n        }\n     }\n\n     private bool myPrivateMethod(int passedNumber)\n     {\n        try\n        {\n            writeToLog(\"Starting Method\");\n            writeToLog(passedNumber);\n\n            writeToLog(\"Completed Method\");\n            return true;\n        }\n        catch(){\n           return false;\n        }\n     }\n   }\n}\n</code></pre>\n\n<p>is this even possible in .NET or do I have to explicitly list that logging method if I want to use it?</p>\n\n<hr>\n\n<p><strong>4/6/18 Edit:</strong> It is possible - see AOP. Heres a pretty decent article on it <a href=\"http://www.dotnetcurry.com/patterns-practices/1305/aspect-oriented-programming-aop-csharp-using-solid\" rel=\"nofollow noreferrer\">http://www.dotnetcurry.com/patterns-practices/1305/aspect-oriented-programming-aop-csharp-using-solid</a>\nHere is a good summary of exactly what I was looking for: </p>\n\n<blockquote>\n  <p>Consider the following code: </p>\n</blockquote>\n\n<pre><code>public class DocumentSource : IDocumentSource\n{\n    //..     \n    public Document[] GetDocuments(string format)\n    {\n        try\n        {\n            using (var context = CreateEFContext())\n            {\n                var documents =\n                    context\n                        .Documents\n                        .Where(c =&gt; c.Name.EndsWith(\".\" + format))\n                        .ToArray();\n\n                logger.LogSuccess(\n                    \"Obtained \" + documents.Length + \" documents of type \" + format +\n                    Environment.NewLine +\n                    \"Connection String: \" + connectionString);\n\n                 return documents;\n            }\n        }\n        catch (Exception ex)\n        {\n           logger.LogError(\n               \"Error obtaining documents of type \" + format +\n               Environment.NewLine +\n               \"Connection String: \" + connectionString, ex);\n\n            throw;\n        }\n    }     \n    //..\n}\n</code></pre>\n\n<blockquote>\n  <p>Here is how the method would look like without logging:</p>\n</blockquote>\n\n<pre><code>public Document[] GetDocuments(string format)\n{\n    using (var context = CreateEFContext())\n    {\n        return\n            context\n                .Documents\n                .Where(c =&gt; c.Name.EndsWith(\".\" + format))\n                .ToArray();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Clearly, the logging code has made the original method less readable. It has tangled the real method code with logging code.<br>\n  This is also a violation of the Single Responsibility Principle.<br>\n  Also, we expect to find the same logging pattern in many methods all over the code base. Basically, we expect to find the following pattern:</p>\n</blockquote>\n\n<pre><code>try\n{\n    //Do something here\n\n    logger.LogSuccess(\u2026                \n    //..\n}\ncatch (Exception ex)\n{\n    logger.LogError(\u2026\n    throw;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": true, "score": 0, "last_activity_date": 1522875758, "creation_date": 1522875758, "answer_id": 49660387, "question_id": 49660114, "link": "https://stackoverflow.com/questions/49660114/asp-net-data-binding-to-label-control-with-text/49660387#49660387", "title": "ASP.Net data binding to label control with text", "body": "<p>The <code>Eval</code> function has an overload that takes a formatting string:</p>\n\n<pre><code>Text='&lt;%# Eval(\"DeliveryPrice\", \"\u00a3: {0}\") %&gt;'\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9328346, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155952689390185/picture?type=large", "display_name": "Rebecca Hand", "link": "https://stackoverflow.com/users/9328346/rebecca-hand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 49660387, "answer_count": 1, "score": 1, "last_activity_date": 1522876294, "creation_date": 1522874679, "last_edit_date": 1522876294, "question_id": 49660114, "link": "https://stackoverflow.com/questions/49660114/asp-net-data-binding-to-label-control-with-text", "title": "ASP.Net data binding to label control with text", "body": "<p>How to add text to label with bound data?</p>\n\n<pre><code>Text='&lt;%# Bind(\"DeliveryPrice\") %&gt;'\n</code></pre>\n\n<p>Trying to display <strong>\u00a3</strong> 1.23. Tried numerous examples posted to forums and no luck:</p>\n\n<pre><code>Text='&lt;%# \"\u00a3: \" +Eval(\"DeliveryPrice\").ToString() %&gt;'\nText='&lt;%# String.Format(\"\u00a3: {0}\", Bind(\"DeliveryPrice\")) %&gt;'\nText=\"\u00a3\" + '&lt;%# Bind(\"DeliveryPrice\") %&gt;'\nText=\"\u00a3\" &amp; '&lt;%# Bind(\"DeliveryPrice\") %&gt;'\nText='\u00a3 &lt;%# DataBinder.Bind(Container.DataItem,\"DeliveryPrice\") %&gt;'\nText='&lt;%# \"\u00a3\" &amp; Bind(\"DeliveryPrice\") %&gt;'\nText='&lt;%# \"\u00a3\" + Bind(\"DeliveryPrice\") %&gt;'\n</code></pre>\n"}, {"tags": ["c#", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 7019416, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b35eeefe8240d8acedbe211b40b6913?s=128&d=identicon&r=PG&f=1", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/7019416/heinrich"}, "edited": false, "score": 0, "creation_date": 1522944349, "post_id": 49674927, "comment_id": 86364871, "body": "is this what you mean? CreateMap(typeof(IPagedList&lt;&gt;), typeof(PagedList&lt;&gt;)).ConstructProjectionUsing(src =&gt; new PagedList...."}, {"owner": {"reputation": 626, "user_id": 7019416, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b35eeefe8240d8acedbe211b40b6913?s=128&d=identicon&r=PG&f=1", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/7019416/heinrich"}, "edited": false, "score": 0, "creation_date": 1522944786, "post_id": 49674927, "comment_id": 86365116, "body": "I can&#39;t map it on that way because the models and the entities are handle in different layers. So in my case I am calling GetApplications from a DAL then on my Business Layer I am mapping the result to the corresponding model, but I am not returning never an IQueryable to the Business Layer"}], "tags": [], "owner": {"reputation": 46, "user_id": 6505335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ce724881c60b1135afe4bbcc9ace16?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Carlson", "link": "https://stackoverflow.com/users/6505335/tyler-carlson"}, "is_accepted": false, "score": 0, "last_activity_date": 1522938606, "creation_date": 1522938606, "answer_id": 49674927, "question_id": 49660111, "link": "https://stackoverflow.com/questions/49660111/map-generic-type-that-receives-constructor-parameters-with-automapper/49674927#49674927", "title": "Map generic type that receives constructor parameters with Automapper", "body": "<p>Use <code>ProjectTo&lt;ApplicationModel&gt;()</code> or map the <code>IQueryable&lt;Applications&gt;</code> to <code>List&lt;ApplicationModels&gt;</code>, then throw it into PagedList's constructor and won't deal with the default constructor issue in AutoMapper.</p>\n\n<p>ProjectTo Example:</p>\n\n<p><code>var toRet = new PagedList&lt;ApplicationModel&gt;(context.Applications...ProjectTo&lt;ApplicationModel&gt;(), 1, 10);</code></p>\n"}], "owner": {"reputation": 626, "user_id": 7019416, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3b35eeefe8240d8acedbe211b40b6913?s=128&d=identicon&r=PG&f=1", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/7019416/heinrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522938606, "creation_date": 1522874673, "last_edit_date": 1522876113, "question_id": 49660111, "link": "https://stackoverflow.com/questions/49660111/map-generic-type-that-receives-constructor-parameters-with-automapper", "title": "Map generic type that receives constructor parameters with Automapper", "body": "<p>My questions is related to a specific scenario that I don't know how to handle it.\nI have a mapper registered between Application and ApplicationModel and vice verse.\nNow I am calling a method that returns an IPagedList </p>\n\n<p><strong>GetApplications Method:</strong></p>\n\n<pre><code>IPagedList&lt;Application&gt; GetApplications()\n{\n   IQueryable items = context.Applications...\n   return new PagedList&lt;Application&gt;(items, 1, 10);\n}\n</code></pre>\n\n<p>And this is where I get my error because PagedList doesn't have a default constructor when it tries to make the mapping.</p>\n\n<pre><code>IPagedList&lt;Application&gt; applications = GetApplications();         \nvar toRet = Mapper.Map&lt;IPagedList&lt;ApplicationModel&gt;&gt;(applications); //here I get the error\n</code></pre>\n\n<p>I tried to figure out how this is done with ConstructUsing but honestly I need help to structure the call correctly if that is the correct path</p>\n\n<p>Bellow are the interface and the implementation of IPagedList </p>\n\n<p><strong>Interface:</strong> </p>\n\n<pre><code>public interface IPagedList&lt;T&gt; : IList&lt;T&gt;\n{\n    int CurrentPage { get; }\n    int TotalPages { get; }\n    int PageSize { get; }\n    int TotalCount { get; }\n    bool HasPrevious { get; }\n    bool HasNext { get; }\n    IEnumerable&lt;T&gt; Items { get; }\n}\n</code></pre>\n\n<p><strong>Implementation:</strong></p>\n\n<pre><code>public class PagedList&lt;T&gt; : List&lt;T&gt;, IPagedList&lt;T&gt;\n{\n    public PagedList(IEnumerable&lt;T&gt; items, int count, int pageNumber, int pageSize)\n    {\n        Items = items;\n        TotalCount = count;\n        PageSize = pageSize;\n        CurrentPage = pageNumber;\n        TotalPages = (int)Math.Ceiling(count / (double)pageSize);\n        AddRange(Items);\n    }\n\n    public PagedList(IQueryable&lt;T&gt; source, int pageNumber, int pageSize) : this(source.AsEnumerable(), source.Count(), pageNumber, pageSize)\n    {\n\n    }\n\n    public int CurrentPage { get; }\n    public int TotalPages { get; }\n    public int PageSize { get; }\n    public int TotalCount { get; }\n    public bool HasPrevious =&gt; CurrentPage &gt; 1;\n    public bool HasNext =&gt; CurrentPage &lt; TotalPages;\n    public IEnumerable&lt;T&gt; Items { get; }\n}\n</code></pre>\n"}, {"tags": ["c#", "json"], "answers": [{"comments": [{"owner": {"reputation": 1202, "user_id": 2592937, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7f6f1b4360b689a449aa8d8b16decaa4?s=128&d=identicon&r=PG&f=1", "display_name": "Kirby L. Wallace", "link": "https://stackoverflow.com/users/2592937/kirby-l-wallace"}, "edited": false, "score": 0, "creation_date": 1522875397, "post_id": 49660154, "comment_id": 86330118, "body": "Some of you SO guys are really amazing!  I hope to get to your level, some day.  That actually did work, and I will mark as answer when the SO answer timeout expires.  ;-)"}], "tags": [], "owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "is_accepted": true, "score": 1, "last_activity_date": 1522874825, "creation_date": 1522874825, "answer_id": 49660154, "question_id": 49660092, "link": "https://stackoverflow.com/questions/49660092/newtonsoft-json-deserialize-results-in-still-serialized-data/49660154#49660154", "title": "NewtonSoft JSON Deserialize results in still serialized data", "body": "<p>The first issue is probably just what you see in the debugger. That code should be fine.</p>\n\n<p>Your second problem just involves deserializing to an array, since the JSON object is an array of crew:</p>\n\n<pre><code>Deserialised_Crew[] dsCrew = JsonConvert.DeserializeObject&lt;Deserialised_Crew[]&gt;(responseText);\n</code></pre>\n\n<p>From there on, your code <code>dsCrew[0].last_name</code> should work as expected.</p>\n"}], "owner": {"reputation": 1202, "user_id": 2592937, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7f6f1b4360b689a449aa8d8b16decaa4?s=128&d=identicon&r=PG&f=1", "display_name": "Kirby L. Wallace", "link": "https://stackoverflow.com/users/2592937/kirby-l-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 49660154, "answer_count": 1, "score": 1, "last_activity_date": 1531207040, "creation_date": 1522874607, "last_edit_date": 1531207040, "question_id": 49660092, "link": "https://stackoverflow.com/questions/49660092/newtonsoft-json-deserialize-results-in-still-serialized-data", "title": "NewtonSoft JSON Deserialize results in still serialized data", "body": "<p>I receive a GET request response from a REST API, in a string.  As received, it looks like this:</p>\n\n<pre><code>[\n    {\\\"passport_expiration\\\": \\\"2019-09-14\\\", \\\"first_name\\\": \\\"asdfasdf\\\", \\\"last_name\\\": \\\"asdfasdf\\\", \\\"cass_status\\\": \\\"APPROVED\\\", \\\"notes\\\": null, \\\"kcm_status\\\": \\\"DENIED\\\", \\\"employment_type\\\": \\\"flight_deck\\\", \\\"employee_id\\\": \\\"10556\\\", \\\"passport_id\\\": \\\"12341234\\\"}, \n    {\\\"passport_expiration\\\": \\\"2026-01-04\\\", \\\"first_name\\\": \\\"asdfasdf\\\", \\\"last_name\\\": \\\"asdfasdf\\\", \\\"cass_status\\\": \\\"APPROVED\\\", \\\"notes\\\": null, \\\"kcm_status\\\": \\\"DENIED\\\", \\\"employment_type\\\": \\\"flight_deck\\\", \\\"employee_id\\\": \\\"10557\\\", \\\"passport_id\\\": \\\"12341234\\\"}, \n    {\\\"passport_expiration\\\": \\\"2026-08-31\\\", \\\"first_name\\\": \\\"asdfasdf\\\", \\\"last_name\\\": \\\"MC asdfasdf\\\", \\\"cass_status\\\": \\\"APPROVED\\\", \\\"notes\\\": null, \\\"kcm_status\\\": \\\"DENIED\\\", \\\"employment_type\\\": \\\"flight_deck\\\", \\\"employee_id\\\": \\\"10598\\\", \\\"passport_id\\\": \\\"12341234\\\"}\n]\n</code></pre>\n\n<p>When I deserialize this into a dynamic:</p>\n\n<pre><code>dynamic dsCrew = JsonConvert.DeserializeObject(responseText);\n</code></pre>\n\n<p>dsCrew contains this:</p>\n\n<pre><code>{[\n    {\n        \"passport_expiration\": \"2026-08-31\",\n        \"first_name\": \"asdfasdf\",\n        \"last_name\": \"MC asdfasdf\",\n        \"cass_status\": \"APPROVED\",\n        \"notes\": null,\n        \"kcm_status\": \"DENIED\",\n        \"employment_type\": \"flight_deck\",\n        \"employee_id\": \"10598\",\n        \"passport_id\": \"12341234\"\n    },\n    {\n        \"passport_expiration\": \"2026-11-16\",\n        \"first_name\": \"asdfasdf\",\n        \"last_name\": \"BLasdf\",\n        \"cass_status\": \"APPROVED\",\n        \"notes\": null,\n        \"kcm_status\": \"DENIED\",\n        \"employment_type\": \"flight_deck\",\n        \"employee_id\": \"14798\",\n        \"passport_id\": \"12341234\"\n    },\n    {\n        \"passport_expiration\": \"2025-05-05\",\n        \"first_name\": \"sadfasdf\",\n        \"last_name\": \"asdf\",\n        \"cass_status\": \"APPROVED\",\n        \"notes\": \"\",\n        \"kcm_status\": \"DENIED\",\n        \"employment_type\": \"flight_deck\",\n        \"employee_id\": \"14838\",\n        \"passport_id\": \"12341234\"\n    }\n]}\n</code></pre>\n\n<p>It seems to have simply removed the escape characters, converted <strong>some</strong> nulls to Empty Strings, and wrapped the whole thing in an additional set of curly braces. It's like it deserialised into just a different serialized format.</p>\n\n<p>In other SO questions, answers have suggested creating a class to deserialise into:</p>\n\n<pre><code>Deserialised_Crew dsCrew = JsonConvert.DeserializeObject&lt;Deserialised_Crew&gt;(responseText);\n</code></pre>\n\n<p>But when I do that I get an exception: </p>\n\n<blockquote>\n  <p>\"Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'CASS_KCM_Update.Deserialised_Crew' because the type requires a JSON object (e.g. {\\\"name\\\":\\\"value\\\"}) to deserialize correctly.</p>\n</blockquote>\n\n<p>JsonConvert.DeserializeObject() doesn't seem to think the responseText is valid JSON.  JSONLint.com says the JSON is valid.</p>\n\n<p>I need a way to reference specific pieces of data:</p>\n\n<p><code>dsCrew[0].last_name</code> seems to reference the entire text inside the square brackets.  And I can't find any way to reference with any more specificity than that.  <code>dsCrew[0][1].last_name</code> won't work.  <code>dsCrew[0](1).last_name</code> is right out.</p>\n\n<p>I need a way to reference the names and employee_id's in this response. I'm relatively new to JSON.</p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1522874711, "post_id": 49660069, "comment_id": 86329741, "body": "1) What you are trying to do 2) what you have tried 3) what was the result 4) why this did not work for you. You have 1 and part of 2."}, {"owner": {"reputation": 1, "user_id": 9598931, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZMMtLm0xIOU/AAAAAAAAAAI/AAAAAAAAADA/_iPMie7RlpA/photo.jpg?sz=128", "display_name": "ChrisSkyRo", "link": "https://stackoverflow.com/users/9598931/chrisskyro"}, "edited": false, "score": 0, "creation_date": 1522875084, "post_id": 49660069, "comment_id": 86329957, "body": "I&#39;m trying to compare the input from textBox6 with the name of the picture. In the code above, the result is always &quot;Incorrect Captcha&quot;"}, {"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1522875370, "post_id": 49660069, "comment_id": 86330108, "body": "Why is this tagged sql and shouldn&#39;t the number of case in the switch statement match the range of random.Next, that is 1-10?"}, {"owner": {"reputation": 749, "user_id": 5243838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c3333402b98730e685330516b5b1c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Polyderopoulos", "link": "https://stackoverflow.com/users/5243838/nick-polyderopoulos"}, "edited": false, "score": 0, "creation_date": 1522875804, "post_id": 49660069, "comment_id": 86330335, "body": "Hello, Why would you use this kind of Captcha instead of an production ready library ? Also could you post more of the code the input and the output ?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1522876262, "post_id": 49660069, "comment_id": 86330554, "body": "I&#39;m removing the SQL tag as the question isn&#39;t related to SQL at all."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1522876584, "post_id": 49660069, "comment_id": 86330704, "body": "Well, your random number goes from 1-11, but you&#39;re only checking 3 values.  For the other 8 values, <code>captchaImg</code> will be null."}, {"owner": {"reputation": 1, "user_id": 9598931, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZMMtLm0xIOU/AAAAAAAAAAI/AAAAAAAAADA/_iPMie7RlpA/photo.jpg?sz=128", "display_name": "ChrisSkyRo", "link": "https://stackoverflow.com/users/9598931/chrisskyro"}, "edited": false, "score": 0, "creation_date": 1522917970, "post_id": 49660069, "comment_id": 86345745, "body": "This is only a part of the code. I did the same thing for the other pictures. However, textBox6.Text is never equal with captchaImg and I can&#39;t figure out why."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1522932340, "post_id": 49660069, "comment_id": 86355916, "body": "Guessing you haven&#39;t debugged yet. <a href=\"http://idownvotedbecau.se/nodebugging\" rel=\"nofollow noreferrer\">idownvotedbecau.se/nodebugging</a> check your algorithm at runtime."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9598931, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZMMtLm0xIOU/AAAAAAAAAAI/AAAAAAAAADA/_iPMie7RlpA/photo.jpg?sz=128", "display_name": "ChrisSkyRo", "link": "https://stackoverflow.com/users/9598931/chrisskyro"}, "is_accepted": true, "score": 0, "last_activity_date": 1522932506, "creation_date": 1522932506, "answer_id": 49672825, "question_id": 49660069, "link": "https://stackoverflow.com/questions/49660069/add-captcha-code/49672825#49672825", "title": "Add captcha code", "body": "<p>I figured out what was the problem. The code and the picture change before checking if (textBox6.Text != captchaImg). All I have to do is to check if (textBox6.Text != captchaImg) before changing the picture and the value of captchaImg.</p>\n"}], "owner": {"reputation": 1, "user_id": 9598931, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZMMtLm0xIOU/AAAAAAAAAAI/AAAAAAAAADA/_iPMie7RlpA/photo.jpg?sz=128", "display_name": "ChrisSkyRo", "link": "https://stackoverflow.com/users/9598931/chrisskyro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 49672825, "answer_count": 1, "score": -1, "last_activity_date": 1522932506, "creation_date": 1522874548, "last_edit_date": 1522876344, "question_id": 49660069, "link": "https://stackoverflow.com/questions/49660069/add-captcha-code", "title": "Add captcha code", "body": "<p>I was trying to make a register form for my project and I ran in the following problem:\nI'm trying to add captcha code. I have 10 pictures with codes (e.g. \"8otes\") and I want to compare the input with the name of the pictures. Each picture has it's named by the code is drawn. This is a part of my code:</p>\n\n<pre><code>string captchaImg = \"\";\nRandom random = new Random();\ncaptcha = random.Next(1, 11);\nswitch (captcha)\n                {\n                    case 1:\n                        pictureBox2.ImageLocation = \"C:\\\\...\\\\8otes.png\";\n                        captchaImg = \"8otes\";\n                        break;\n                    case 2:\n                        pictureBox2.ImageLocation = \"C:\\\\...\\\\6faf3.png\";\n                        captchaImg = \"6faf3\";\n                        break;\n                    case 3:\n                        pictureBox2.ImageLocation = \"C:\\\\...\\\\06453.png\";\n                        captchaImg = \"06453\";\n                        break;\n                }\nif (textBox6.Text != captchaImg)\n   MessageBox.Show(\"Incorrect Captcha\");\nelse\n   //execute code\n</code></pre>\n"}, {"tags": ["c#", "selenium", "web-scraping", "instagram"], "comments": [{"owner": {"reputation": 709, "user_id": 3772472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2815560a01e4c288b705b58cf6ab8377?s=128&d=identicon&r=PG", "display_name": "pushasha", "link": "https://stackoverflow.com/users/3772472/pushasha"}, "edited": false, "score": 3, "creation_date": 1522876059, "post_id": 49659953, "comment_id": 86330465, "body": "Generally, &quot;How do I &lt;insert broad implementation task here&gt;?&quot; questions don&#39;t go over particularly well on SO. If you ask a more specific question about an implementation of a follower-scraping solution, you will likely receive a better response."}], "answers": [{"comments": [{"owner": {"reputation": 2510, "user_id": 466844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f4eb0794a2d83160b703404a68e643f?s=128&d=identicon&r=PG", "display_name": "Ebikeneser", "link": "https://stackoverflow.com/users/466844/ebikeneser"}, "edited": false, "score": 0, "creation_date": 1547027955, "post_id": 49661085, "comment_id": 95047026, "body": "Have you any idea what the rate limits are on these endpoints? I cant see to find any documentation regarding it."}], "tags": [], "owner": {"reputation": 1434, "user_id": 5010370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5ef5c21eb66b79ab4fa94df6b40be5b4?s=128&d=identicon&r=PG&f=1", "display_name": "Lasse Sviland", "link": "https://stackoverflow.com/users/5010370/lasse-sviland"}, "is_accepted": false, "score": 8, "last_activity_date": 1522882813, "last_edit_date": 1522882813, "creation_date": 1522879124, "answer_id": 49661085, "question_id": 49659953, "link": "https://stackoverflow.com/questions/49659953/how-can-i-scrape-instagram-followers/49661085#49661085", "title": "How can I scrape instagram followers?", "body": "<p>I believe most of the pages you are seeing is using the Instagram API (or the method described below). However, that is a bit hard to get access to without an application that they are happy with. As far as I have understood it, you will have to make the application before you know if you will have access, which is a bit stupid. I guess they are trying to stop new users from using it while they keep letting the people already using it keep using it.</p>\n\n<p>The documentation for their API seems to be missing a lot of what was available earlier, and right now there is no endpoint to get followers(that might be something temporarily wrong with the documentation page: <a href=\"https://www.instagram.com/developer/endpoints/\" rel=\"noreferrer\">https://www.instagram.com/developer/endpoints/</a>).</p>\n\n<p>You could get the followers the same way the Instagram webpage is doing it. However, it seems only to work if you request up to around 5000-6000 followers at a time, and you might get rate limited.</p>\n\n<p>They are making a GET request to: <code>https://www.instagram.com/graphql/query/</code> with the query parameters <code>query_hash</code> and <code>variables</code>.</p>\n\n<p>The <code>query_hash</code> I guess is a hash of the variables. However, I might be wrong since it will keep working even tho you change the variables. The same hash might not work forever, so its possible you would have to get the same way the Instagram page is doing it. You will get that even tho you are not logged in, so I would not think it would be very hard.</p>\n\n<p>The variables parameter is an URL encoded JSON object containing your search variables.\nThe JSON should look like this:</p>\n\n<pre><code>{\n  \"id\":\"305701719\",\n  \"first\":20\n}\n</code></pre>\n\n<p>The <code>id</code> is the user's id. The <code>first</code> is the number of followers you want.</p>\n\n<p>The URL would look like this when you encode it. <a href=\"https://www.instagram.com/graphql/query/?query_hash=bfe6fc64e0775b47b311fc0398df88a9&amp;variables=%7B%22id%22%3A%22305701719%22%2C%22first%22%3A20%7D\" rel=\"noreferrer\">https://www.instagram.com/graphql/query/?query_hash=bfe6fc64e0775b47b311fc0398df88a9&amp;variables=%7B%22id%22%3A%22305701719%22%2C%22first%22%3A20%7D</a></p>\n\n<p>This will return a json object like this:</p>\n\n<pre><code>\"data\": {\n  \"user\": {\n    \"edge_followed_by\": {\n      \"count\": 73785285,\n      \"page_info\": {\n        \"has_next_page\": true,\n        \"end_cursor\": \"AQDJzGlG3jGfM6KGYF7oOhlMqDm9_-db8DW_8gKYTeKO5eIca7cRqL1ODK1SsMA33BYBbAZz3BdC3ImMT79a1YytB1j9z7f-ZaTIkQKEoBGepA\"\n      },\n      \"edges\": [\n        {\n          \"node\": {}\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>The <code>edges</code> array will contain a list of node elements containg user info about people that are following the person you where searching for.</p>\n\n<p>To get the next x number of followers, you would have to change the json used in the variables query to something like this:</p>\n\n<pre><code>{\n  \"id\":\"305701719\",\n  \"first\":10,\n  \"after\":\"AQDJzGlG3jGfM6KGYF7oOhlMqDm9_-db8DW_8gKYTeKO5eIca7cRqL1ODK1SsMA33BYBbAZz3BdC3ImMT79a1YytB1j9z7f-ZaTIkQKEoBGepA\"\n}\n</code></pre>\n\n<p><code>after</code> would be what you received as an <code>end_cursor</code> in the previous request.</p>\n\n<p>and your new URL would look like this: <a href=\"https://www.instagram.com/graphql/query/?query_hash=bfe6fc64e0775b47b311fc0398df88a9&amp;variables=%7B%22id%22%3A%22305701719%22%2C%22first%22%3A10%2C%22after%22%3A%22AQDJzGlG3jGfM6KGYF7oOhlMqDm9_-db8DW_8gKYTeKO5eIca7cRqL1ODK1SsMA33BYBbAZz3BdC3ImMT79a1YytB1j9z7f-ZaTIkQKEoBGepA%22%7D\" rel=\"noreferrer\">https://www.instagram.com/graphql/query/?query_hash=bfe6fc64e0775b47b311fc0398df88a9&amp;variables=%7B%22id%22%3A%22305701719%22%2C%22first%22%3A10%2C%22after%22%3A%22AQDJzGlG3jGfM6KGYF7oOhlMqDm9_-db8DW_8gKYTeKO5eIca7cRqL1ODK1SsMA33BYBbAZz3BdC3ImMT79a1YytB1j9z7f-ZaTIkQKEoBGepA%22%7D</a></p>\n\n<p>This way you can keep looping until <code>has_next_page</code> is <code>false</code> in the response.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10115437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtmop.jpg?s=128&g=1", "display_name": "Sasha Bouloudnine", "link": "https://stackoverflow.com/users/10115437/sasha-bouloudnine"}, "is_accepted": false, "score": 2, "last_activity_date": 1535203550, "last_edit_date": 1535203550, "creation_date": 1535012620, "answer_id": 51981300, "question_id": 49659953, "link": "https://stackoverflow.com/questions/49659953/how-can-i-scrape-instagram-followers/51981300#51981300", "title": "How can I scrape instagram followers?", "body": "<p><strong>EDIT 23/08/2018</strong></p>\n\n<p>Instagram seems to have blocked any scrolling/query hash request to get followers list/likers list on a post, at least on desktop, even for your own account. </p>\n\n<p><a href=\"https://developers.facebook.com/blog/post/2018/01/30/instagram-graph-api-updates/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/blog/post/2018/01/30/instagram-graph-api-updates/</a></p>\n\n<p>It should be although still possible from a phone, maybe following a Selenium-like for mobile, using <code>Appmium</code> : <a href=\"http://appium.io/\" rel=\"nofollow noreferrer\">http://appium.io/</a></p>\n\n<p>Maybe some <code>reverse app engineering</code> may also be the key, if any idea from that side : \n<a href=\"https://www.blackhatworld.com/seo/journey-instagram-app-reverse-engineer.971468/\" rel=\"nofollow noreferrer\">https://www.blackhatworld.com/seo/journey-instagram-app-reverse-engineer.971468/</a></p>\n\n<p><strong>EDIT 25/08/2018</strong></p>\n\n<p>It seems to be back... if any information about it ?</p>\n"}], "owner": {"reputation": 105, "user_id": 8719288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be773ecf2feaed8269e2f4171fd3fed7?s=128&d=identicon&r=PG&f=1", "display_name": "Paski7", "link": "https://stackoverflow.com/users/8719288/paski7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14326, "favorite_count": 4, "answer_count": 2, "score": -2, "last_activity_date": 1599363639, "creation_date": 1522874053, "question_id": 49659953, "link": "https://stackoverflow.com/questions/49659953/how-can-i-scrape-instagram-followers", "title": "How can I scrape instagram followers?", "body": "<p>there are a lot of websites where you can get a list of all followers from an Instagram profile. <em>For example the profile of <a href=\"https://www.instagram.com/jlo/\" rel=\"nofollow noreferrer\">Jennifer Lopez</a></em>. If I click on <strong>followers</strong> and scroll the hole list down, I <strong>only</strong> see round about 1000 users. Is there any way to get a list of <strong>all</strong> followers, or something in the range between 10 thousand and 100 thousand users? How do the others do it?</p>\n\n<p>Here are a few pages where it seems to work:</p>\n\n<p><a href=\"https://www.crowdbabble.com/download-all-instagram-followers/\" rel=\"nofollow noreferrer\">crowdbabble</a></p>\n\n<p><a href=\"https://codecanyon.net/item/instagram-scrapper/21146630\" rel=\"nofollow noreferrer\">Instagram Scrapper</a></p>\n\n<p><a href=\"https://www.magimetrics.com/pricing.html\" rel=\"nofollow noreferrer\">magimetrics</a></p>\n\n<p><strong>I would be very grateful if you could help me!</strong></p>\n"}, {"tags": ["c#", "asp.net-mvc", "dependency-injection", "asp.net-mvc-5", "unity-container"], "comments": [{"owner": {"reputation": 5274, "user_id": 550198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a5c8fdde9ea1934883e16dabab7dfd26?s=128&d=identicon&r=PG", "display_name": "Seany84", "link": "https://stackoverflow.com/users/550198/seany84"}, "edited": false, "score": 1, "creation_date": 1522880397, "post_id": 49659952, "comment_id": 86332358, "body": "<code>PerRequestLifetimeManager</code> would appear to be the correct life time scope to define for a MVC project. Can you post your code that includes this? please include all relevant <code>Startup</code> / <code>Global.asax</code> code please."}, {"owner": {"reputation": 6718, "user_id": 68693, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/081abbd481555f4929927a36ae5b3d47?s=128&d=identicon&r=PG", "display_name": "Tipx", "link": "https://stackoverflow.com/users/68693/tipx"}, "edited": false, "score": 0, "creation_date": 1525720118, "post_id": 49659952, "comment_id": 87459013, "body": "Vote suggested because no more information has been provided to make this answerable."}], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522880161, "creation_date": 1522874049, "last_edit_date": 1522880161, "question_id": 49659952, "link": "https://stackoverflow.com/questions/49659952/how-can-i-register-a-dbcontext-class-in-an-ioc-container", "title": "How can I register a DbContext class in an IoC container?", "body": "<p>I have a project written using c# on the top of ASP.NET MVC 5 framework. I setup an <code>IoC</code> container using <a href=\"https://www.nuget.org/packages/Unity.Mvc/\" rel=\"nofollow noreferrer\">Unity.Mvc</a>. </p>\n\n<p>During the registration process I registered my <code>UnitOfWork</code> and <code>DbContext</code> using the <code>HierarchicalLifetimeManager</code></p>\n\n<p>But it seems to me that <code>Unity</code> is registering these object into the memory of the server and any request the come from any users, gets the same instance. In fact, when I altered by database using SQL Server Management Studio and refreshed my page, I did not see the updated data on the screen. Obviously this isn't the behavior I would want in an asp.net mvc 5 app.</p>\n\n<p>Then I thought about changing the life-time-manager to <code>PerThreadLifetimeManager</code>, but according <a href=\"https://stackoverflow.com/questions/14591422/why-is-perthreadlifetimemanager-used-in-this-example/14592419\">to this other post</a> It is a bad idea.</p>\n\n<p>Then I tried to use <code>PerRequestLifetimeManager</code>, but when I log a user in I get this following error</p>\n\n<blockquote>\n  <p>The <code>PerRequestLifetimeManager</code> can only be used in the context of an\n  HTTP request.Possible causes for this error are using the lifetime\n  manager on a non-ASP.NET application, or using it in a thread that is\n  not associated with the appropriate synchronization context.</p>\n</blockquote>\n\n<p>What is the right way to Register the <code>UnitOfWork</code> and <code>DbContext</code> classes in a project?</p>\n"}, {"tags": ["c#", "parallel-processing"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1522874085, "post_id": 49659930, "comment_id": 86329412, "body": "Both <code>StartNew</code> and <code>Parallel.For</code> are specifically designed for <i>CPU bound</i> work.  If you don&#39;t actually have CPU bound work to do (which you don&#39;t, in your example), they won&#39;t work effectively.  If you want to create a task that will complete in 3 seconds use <code>Task.Delay</code>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 6, "creation_date": 1522874267, "post_id": 49659930, "comment_id": 86329505, "body": "If you want to speed it up you can remove all the <code>Thread.Sleeps</code>!  You&#39;re putting workers to sleep and then wondering why they&#39;re not working!"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1522874484, "post_id": 49659930, "comment_id": 86329610, "body": "Also, do some math.  You have 100 tasks. Each task takes 3 seconds of worker time. You have four cores, so four workers can be running at once. So that&#39;s 25 tasks per core, and so it should take about 75 seconds. You&#39;re getting the job done in 21, so why are you complaining?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1522874778, "post_id": 49659930, "comment_id": 86329792, "body": "The takeaway here is, as Servy said: if you&#39;re doing CPU bound work then <b>your test needs to actually stress a CPU, not sleep</b>, so that the task parallel library can schedule cores effectively.  If you&#39;re doing IO bound work then <b>your test should be keeping everything on one thread and let the compiler worry about the control flow by putting awaits in the right places</b>.  You&#39;ve made a sample program that does everything exactly wrong and so it should not be surprising that you get garbage results."}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "edited": false, "score": 0, "creation_date": 1522874786, "post_id": 49659930, "comment_id": 86329797, "body": "I&#39;ve a feeling that what you&#39;ve posted isn&#39;t what you&#39;re actually trying to do. You&#39;re not actually processing anything just <code>Thread.Sleep</code>ing"}, {"owner": {"reputation": 151, "user_id": 376956, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/87851c3fc49f48e2e662194a6e3faabe?s=128&d=identicon&r=PG", "display_name": "NanoHead", "link": "https://stackoverflow.com/users/376956/nanohead"}, "edited": false, "score": 0, "creation_date": 1522874949, "post_id": 49659930, "comment_id": 86329888, "body": "The Thread.Sleep  code is just for show the example of the delay, this code will be replaced with download data or processing files. I think i may mislead you all."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522875478, "post_id": 49659930, "comment_id": 86330153, "body": "@NanoHead No, not really, all of the comments still apply.  Again, your actual work is not CPU bound work, and yet you&#39;re using tools specifically designed to handle CPU bound work."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1522876032, "post_id": 49659930, "comment_id": 86330449, "body": "Right, if you are mostly downloading data then parallelizing is not going to help anything; it&#39;s going to make it worse.  <b>Does hiring one person for each letter you get in the mail make your mail come faster</b>?  Of course not.  You only need <i>one</i> person to sort mail <i>as it arrives</i>.  But if you have ten thousand tax returns to prepare, then hiring four workers <i>does</i> get the job done four times faster than doing them all yourself.  <b>Only parallelize work if it is saturating a core</b>. Never parallelize work that is waiting for an IO event."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1522876645, "post_id": 49659930, "comment_id": 86330737, "body": "It would probably help if you had a solid understanding of what the TPL is doing. As others have noted, the TPL is built on the assumption that (1) workers (threads) are expensive, (2) the work will stress a CPU for a long time.  In your scenario the work is stressing the CPU for no time, and so the TPL is assuming, oh, that task must have been IO bound, let me schedule another worker, oh, there are no more workers in the pool; <b>do I want to take on the expense of hiring another worker</b>?  Threads are <b>insanely expensive</b>; you <b>never</b> want to hire hundreds of them to sleep!"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1522876814, "post_id": 49659930, "comment_id": 86330828, "body": "You were probably expecting the parallel version to take zero time, but the TPL is working very hard to try to keep from hiring 100 workers and consuming 100 megabytes of thread stacks. Now, by contrast, if you make 100 <code>Task.Delay()</code> tasks in an array and did a <code>WhenAll</code> on them, then they all would run completely &quot;in parallel&quot; because <i>no actual work is being done</i> and there would be only <i>one thread</i>. If I gave you, personally, 100 tasks, and those tasks were all &quot;wait three seconds before you have lunch&quot;, then you too could do all 100 of those tasks in the same 3 seconds."}, {"owner": {"reputation": 151, "user_id": 376956, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/87851c3fc49f48e2e662194a6e3faabe?s=128&d=identicon&r=PG", "display_name": "NanoHead", "link": "https://stackoverflow.com/users/376956/nanohead"}, "edited": false, "score": 0, "creation_date": 1522876879, "post_id": 49659930, "comment_id": 86330862, "body": "So anyone has any idea on how to run 100 tasks at the same time, it has to be done within 4 seconds.  My cpu is doing nothing but wait. I&#39;m looking into the async and await options now."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1522877033, "post_id": 49659930, "comment_id": 86330947, "body": "<code>Task[] tasks = { Task.Delay(3000), Task.Delay(3000), .... };  Task t = Task.WhenAll(tasks);  await t;</code>, done."}, {"owner": {"reputation": 4566, "user_id": 538763, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7d657c77a70a0ab1863068086c08a1a3?s=128&d=identicon&r=PG", "display_name": "crokusek", "link": "https://stackoverflow.com/users/538763/crokusek"}, "edited": false, "score": 0, "creation_date": 1522883059, "post_id": 49659930, "comment_id": 86333333, "body": "He should have been directed earlier toward an I/O bound solution like <a href=\"https://stackoverflow.com/q/14896856/538763\">aysnc/await</a> and <a href=\"http://www.tugberkugurlu.com/archive/how-and-where-concurrent-asynchronous-io-with-asp-net-web-api\" rel=\"nofollow noreferrer\">concurrent-asynchronous-io (blog)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4625, "user_id": 1964969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0879c1954a7ee8660f80eafdf9f66776?s=128&d=identicon&r=PG", "display_name": "Yury Schkatula", "link": "https://stackoverflow.com/users/1964969/yury-schkatula"}, "is_accepted": false, "score": 0, "last_activity_date": 1522881557, "creation_date": 1522881557, "answer_id": 49661508, "question_id": 49659930, "link": "https://stackoverflow.com/questions/49659930/c-parallel-and-task-are-too-slow/49661508#49661508", "title": "C# Parallel and Task are too slow", "body": "<p>For mass-service code, you have to answer the question first: what should be maxed?</p>\n\n<p>For example, using Tasks intends \"maximal throughput\". That means your tasks can be interrupted frequently awaiting for something, so let CPU core switch to another task to not waste the time. Average execution time per task is relatively long but average amount of tasks processed per given time is sky-rocketing.</p>\n\n<p>Another case here is \"maximal CPU burn\". That staff is, for instance, like processing audio/video streams, big math mill like cryptography etc. That way, there is most effective way is to have one thread/task per spare CPU core, not more (because switching to another thread would cost you extra CPU efforts). Opposite to previous example, here we have relatively low average amount of tasks processed per given time. But average execution time is as short as possible due minimal interruption.</p>\n\n<p>Sure thing, in real practice you have something in between of that maximas. Sure thing, you have to know much more about what can pin down your CPU (kernel calls, cache pollution, false sharing, data races and many more). You can start with the great article from \"No Bugs Hare\": <a href=\"http://ithare.com/using-parallel-algorithm-without-a-clue-90x-performance-loss-instead-of-8x-gain/\" rel=\"nofollow noreferrer\">http://ithare.com/using-parallel-algorithm-without-a-clue-90x-performance-loss-instead-of-8x-gain/</a></p>\n"}, {"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1523112229, "post_id": 49675788, "comment_id": 86430448, "body": "NEVER EVER DO THIS.  Read the comments again; this is exactly the wrong way to solve this problem. The correct solution for IO is to keep all the work on <i>one thread</i> and use asynchronous workflows to coordinate the tasks. The correct solution for CPU work is <i>as many threads as there are processors, not more</i>.  If you are making threads to do IO work, or hiring more threads than there are CPUs to service them, you are doing something very, very wrong."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1523112349, "post_id": 49675788, "comment_id": 86430496, "body": "This solution is basically &quot;I have 200 letters to send, so I&#39;m going to hire 200 secretaries&quot;. It&#39;s incredibly wasteful and it does not scale."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1526317367, "post_id": 49675788, "comment_id": 87687224, "body": "Read the sentence of the previous comment that begins &quot;The correct solution for IO is...&quot; if you want to know what the correct way to handle it is."}], "tags": [], "owner": {"reputation": 151, "user_id": 376956, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/87851c3fc49f48e2e662194a6e3faabe?s=128&d=identicon&r=PG", "display_name": "NanoHead", "link": "https://stackoverflow.com/users/376956/nanohead"}, "is_accepted": false, "score": -3, "last_activity_date": 1522940971, "creation_date": 1522940971, "answer_id": 49675788, "question_id": 49659930, "link": "https://stackoverflow.com/questions/49659930/c-parallel-and-task-are-too-slow/49675788#49675788", "title": "C# Parallel and Task are too slow", "body": "<p>Thanks for the hints, I came up with another solution by using multithreading. This application will be used on the desktop application so this is acceptable.  I was able to process 200 tasks and more for under 3 seconds using thread instead of 30+ seconds for 100 task. </p>\n\n<pre><code>  static void Main(string[] args)\n    {\n        #region MyRegion\n        for (int i = 0; i &lt; 200; i++)\n        {\n            //Create thread\n            Thread thread = new Thread(() =&gt; DoBigJobThread(i));\n            thread.Start();\n        }\n        #endregion\n        //Slow  down to show screen\n        System.Threading.Thread.Sleep(3000000);\n    }\n\n    static void DoBigJobThread(int id)\n    {\n        Console.WriteLine(MrDelaySimple(id));\n    }\n\n    private static string MrDelaySimple(int id)\n    {\n        //Delay 3 seconds\n        System.Threading.Thread.Sleep(3000);\n        return \"ok request id: \" + id.ToString() + \"  processed time: \" + DateTime.Now.ToLocalTime();\n    }\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 376956, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/87851c3fc49f48e2e662194a6e3faabe?s=128&d=identicon&r=PG", "display_name": "NanoHead", "link": "https://stackoverflow.com/users/376956/nanohead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1106, "favorite_count": 2, "answer_count": 2, "score": -1, "last_activity_date": 1522940971, "creation_date": 1522873967, "last_edit_date": 1522874225, "question_id": 49659930, "link": "https://stackoverflow.com/questions/49659930/c-parallel-and-task-are-too-slow", "title": "C# Parallel and Task are too slow", "body": "<p>I have a problem with trying to get the job done under 4 seconds using either parallel or task schedule or whatever.  The script is simple, it will try to process 100 times all at once and wait for the result.  My pc is E5-2603 Xeon processor(4 core, 4 thread, 1.80GHz) with 16GB and it took forever to process 100 hundred tasks.</p>\n\n<p>What can I do to speed up the process?</p>\n\n<p>Test script</p>\n\n<pre><code>static void Main(string[] args)\n        {\n            //Monitor performance\n            Stopwatch totalTime = new Stopwatch();\n\n\n            //Test case # 1\n            totalTime.Start();\n            TaskTechnique();\n            totalTime.Stop();\n            Console.WriteLine(\"TaskTechnique total time: \" + totalTime.Elapsed.TotalSeconds);\n            Console.WriteLine(\"--------------------------------------\");\n\n            //Test case #2\n            totalTime.Reset();\n            totalTime.Start();\n            ParalelelTechnique();\n            totalTime.Stop();\n            Console.WriteLine(\"ParalelelTechnique total time: \" + totalTime.Elapsed.TotalSeconds);\n            Console.WriteLine(\"--------------------------------------\");\n\n        }\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">When Task Class Definition Namespace: System.Threading.Tasks</a> </p>\n\n<p>It tooks 21 seconds to process 100 little tasks. The code is below </p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// Using task to process all tasks\n    /// &lt;/summary&gt;\n    private static void TaskTechnique()\n    {\n\n        //Test case 1 process all 100 tasks at once\n        List&lt;Task&lt;string&gt;&gt; tasks = new List&lt;Task&lt;string&gt;&gt;();\n        for (int i = 0; i &lt; 100; i++)\n        {\n            tasks.Add(\n                    Task.Factory.StartNew\n                    (\n                            () =&gt;\n                            {\n                                return MrDelay(i);\n                            }\n                    )\n                );\n        }\n\n        Task.WaitAll(tasks.ToArray());//Wait until finished \n    }\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel?f1url=https%3A%2F%2Fmsdn.microsoft.com%2Fquery%2Fdev15.query%3FappId%3DDev15IDEF1%26l%3DEN-US%26k%3Dk(System.Threading.Tasks.Parallel);k(TargetFrameworkMoniker-.NETFramework,Version%3Dv4.5.2);k(DevLang-csharp)%26rd%3Dtrue&amp;view=netframework-4.7.1\" rel=\"nofollow noreferrer\">And when I used Parallel</a>, it took 33 seconds to process.</p>\n\n<pre><code>  /// &lt;summary&gt;\n        /// Using Paralelel to process 100 times\n        /// &lt;/summary&gt;\n        private static void ParalelelTechnique()\n        {\n            //Monitor performance\n            Stopwatch startTime = new Stopwatch();\n            //Test case 2 using parallel\n            startTime.Restart();\n            int maxTask = 100;\n            var result = Parallel.For\n                (\n                1, 101,\n                new ParallelOptions { MaxDegreeOfParallelism = maxTask },\n                (i, state) =&gt;\n                {\n                    Console.WriteLine(\"Beginning iteration {0} at \", i, DateTime.Now.ToLocalTime());\n                    string longTaskResult = MrDelay(i);\n                    Console.WriteLine(\"Completed iteration {0} result at : {1}\", i, longTaskResult);\n                }\n                );\n            startTime.Stop();\n            Console.WriteLine(\"test case 2: \" + startTime.Elapsed.TotalSeconds);\n        }\n</code></pre>\n\n<p>Delay process code.</p>\n\n<pre><code>/// &lt;summary&gt;\n    /// Just to slow down the test to 3 seconds before return the data back\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"id\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private static string MrDelay(int id)\n    {\n        //Delay 3 seconds then return the result\n        System.Threading.Thread.Sleep(3000);\n        return \"ok request id: \" + id.ToString() + \"  processed time: \" + DateTime.Now.ToLocalTime();\n    }\n</code></pre>\n"}, {"tags": ["c#", "sqlite", "dbproviderfactories"], "answers": [{"comments": [{"owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "edited": false, "score": 1, "creation_date": 1535378137, "post_id": 52040385, "comment_id": 91032446, "body": "Right answer but you used MySql as the example. Can you change it to SQLite?"}, {"owner": {"reputation": 479, "user_id": 7779857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fb1ej_SmA5k/AAAAAAAAAAI/AAAAAAAAF60/9W6lHII16mw/photo.jpg?sz=128", "display_name": "Joshua VdM", "link": "https://stackoverflow.com/users/7779857/joshua-vdm"}, "reply_to_user": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "edited": false, "score": 0, "creation_date": 1535378456, "post_id": 52040385, "comment_id": 91032632, "body": "Sure, there you go"}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1587947955, "post_id": 52040385, "comment_id": 108702788, "body": "Any idea how to ensure that the DLL sharing the application .exe path is the one that will be used and not the one in the GAC?"}], "tags": [], "owner": {"reputation": 479, "user_id": 7779857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fb1ej_SmA5k/AAAAAAAAAAI/AAAAAAAAF60/9W6lHII16mw/photo.jpg?sz=128", "display_name": "Joshua VdM", "link": "https://stackoverflow.com/users/7779857/joshua-vdm"}, "is_accepted": true, "score": 3, "last_activity_date": 1548802312, "last_edit_date": 1548802312, "creation_date": 1535376061, "answer_id": 52040385, "question_id": 49659867, "link": "https://stackoverflow.com/questions/49659867/get-sqlite-from-dbproviderfactories-getfactory/52040385#52040385", "title": "Get Sqlite from DbProviderFactories.GetFactory()", "body": "<p>You just have to add an app.config file to your project, with the invariant that you want to add.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n  &lt;system.data&gt;\n    &lt;DbProviderFactories&gt;      \n      &lt;remove invariant=\"System.Data.SQLite\"&gt;&lt;/remove&gt;\n      &lt;add name=\"ADO.NET Provider for SQLite\"\n           invariant=\"System.Data.SQLite\" \n           description=\"ADO.NET Provider for SQLite \" \n           type=\"System.Data.SQLite.SQLiteFactory, System.Data.SQLite\"&gt;\n      &lt;/add&gt;          \n    &lt;/DbProviderFactories&gt;\n  &lt;/system.data&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>The type attribute contains the namespace of the provider factory and the namespace of the provider itself.</p>\n\n<p>The <code>GetFactory</code> method first looks in your local app.config file, then in your machine.config. Just make sure that you do have a reference to the SQLite assembly, as you do.</p>\n"}], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "accepted_answer_id": 52040385, "answer_count": 1, "score": 3, "last_activity_date": 1548802312, "creation_date": 1522873712, "question_id": 49659867, "link": "https://stackoverflow.com/questions/49659867/get-sqlite-from-dbproviderfactories-getfactory", "title": "Get Sqlite from DbProviderFactories.GetFactory()", "body": "<p>I need to have DbProviderFactories.GetFactory() return the provider for Sqlite. However, I have Sqlite added to my project via NuGet and want to avoid having to put it in the GAC and update machine.config. One of the advantages of Sqlite is it is there with no configuration.</p>\n\n<p>However, I have a number of libraries that pull the connector from GetFactory().</p>\n\n<p>Is there a way to do this?</p>\n\n<p>thanks - dave</p>\n"}, {"tags": ["c#", "json", "arraylist"], "answers": [{"tags": [], "owner": {"reputation": 13439, "user_id": 272287, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BaAfl.jpg?s=128&g=1", "display_name": "jdphenix", "link": "https://stackoverflow.com/users/272287/jdphenix"}, "is_accepted": true, "score": 3, "last_activity_date": 1522874086, "creation_date": 1522874086, "answer_id": 49659959, "question_id": 49659843, "link": "https://stackoverflow.com/questions/49659843/merge-two-list-elements-into-json-object/49659959#49659959", "title": "Merge two list elements into json object", "body": "<p>Assuming you're working server side and have two arrays <code>a</code> and <code>b</code>, </p>\n\n<pre><code>var a = new[] {0, 1, 2, 3, 4};\nvar b = new[] {4.233, 5.2324, 6.342, 3.233, 8.435};\nvar c = a.Zip(b, (ai, bi) =&gt; new{a = ai, b = bi});\n</code></pre>\n\n<p>At this point, <code>JsonConvert.SerializeObject(c)</code> will output the example JSON you provided. You will need <a href=\"https://www.nuget.org/packages/newtonsoft.json/\" rel=\"nofollow noreferrer\">JSON.Net</a>. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.zip?view=netframework-4.7.1#System_Linq_Enumerable_Zip__3_System_Collections_Generic_IEnumerable___0__System_Collections_Generic_IEnumerable___1__System_Func___0___1___2__\" rel=\"nofollow noreferrer\"><code>Zip()</code></a> takes the nth element of both lists, and allows you to apply a function to each combination. </p>\n"}], "owner": {"reputation": 71, "user_id": 8441464, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71b3c2451dfdc65959637bd2308e2524?s=128&d=identicon&r=PG&f=1", "display_name": "TheChosenOne94", "link": "https://stackoverflow.com/users/8441464/thechosenone94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 49659959, "answer_count": 1, "score": 1, "last_activity_date": 1522878464, "creation_date": 1522873645, "last_edit_date": 1522878464, "question_id": 49659843, "link": "https://stackoverflow.com/questions/49659843/merge-two-list-elements-into-json-object", "title": "Merge two list elements into json object", "body": "<p>First list:</p>\n\n<pre><code>a=[0,1,2,3,4]\n</code></pre>\n\n<p>Second list:</p>\n\n<pre><code>b=[4.233,5.2324,6.342,3.233,8.435]\n</code></pre>\n\n<p>Is there any way to merge these two lists into a json object?</p>\n\n<p>Ex: object: [{\"a\":0,\"b\":4.233},{\"a\":1,\"b\":5.2324},{\"a\":2,\"b\":6.342},{\"a\":3,\"b\":3.233},{\"a\":4,\"b\":8.435}]</p>\n"}, {"tags": ["c#", "android", "xaml", "xamarin", "binding"], "comments": [{"owner": {"reputation": 1137, "user_id": 7310767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e531353b4f608fb27cb11776948d63f?s=128&d=identicon&r=PG&f=1", "display_name": "App Pack", "link": "https://stackoverflow.com/users/7310767/app-pack"}, "edited": false, "score": 0, "creation_date": 1522875576, "post_id": 49659679, "comment_id": 86330213, "body": "Did you try a clean and rebuild whilst in release mode? Also a common one is to check what the &#39;linker&#39; settings are for debug and release, see if there is a difference"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1522879091, "post_id": 49659679, "comment_id": 86331848, "body": "Is the <code>Linker</code> turned on your release mode build?"}], "owner": {"reputation": 175, "user_id": 7019764, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/yYJth.jpg?s=128&g=1", "display_name": "Ionu\u021b Gabriel Pi\u021bigoi", "link": "https://stackoverflow.com/users/7019764/ionu%c8%9b-gabriel-pi%c8%9bigoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522873295, "creation_date": 1522872954, "last_edit_date": 1522873295, "question_id": 49659679, "link": "https://stackoverflow.com/questions/49659679/binding-doest-work-in-release-mod", "title": "Binding does&#39;t work in release mod", "body": "<p>I created a Xamarin Android App and it works perfectly in debug mode, but when I tried to run it in release mode the Xaml binding doesn't work. </p>\n\n<p>I also had a event handler for a searchBar, but I've deleted it because the application doesn't start. It crashes at start and throws this error: <code>No method SearchBar_OnTextChanged found</code>.</p>\n\n<p>Also in Xaml at the name of the list I get this error: \"Field SymbolList is already declared\" and in the code behind when I use the SymbolList name I get:  \"Ambiguous References\".</p>\n\n<p>What could cause this behavior? </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             xmlns:local=\"clr-namespace:ElectricalSymbols\"\n             x:Class=\"ElectricalSymbols.MainPage\"\n             NavigationPage.HasNavigationBar=\"False\"&gt;\n\n    &lt;StackLayout&gt;\n        &lt;SearchBar Placeholder=\"Search...\" TextChanged=\"SearchBar_OnTextChanged\"/&gt;\n        &lt;ListView x:Name=\"SymbolList\" \n                  IsGroupingEnabled=\"true\"\n                  GroupDisplayBinding=\"{Binding Family}\"&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;ImageCell ImageSource=\"{Binding Image}\" Text=\"{Binding Name}\"/&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n        &lt;/ListView&gt;\n    &lt;/StackLayout&gt;\n\n&lt;/ContentPage&gt;\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 4, "creation_date": 1522872953, "post_id": 49659665, "comment_id": 86328847, "body": "The output set doesn&#39;t exist in the input set... That doesn&#39;t sound like &quot;reordering&quot;."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1522872994, "post_id": 49659665, "comment_id": 86328871, "body": "seems like the output set in the index +1 of the objects in the input set"}, {"owner": {"reputation": 2738, "user_id": 9502162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1525ff4c60e1f49ee86cbcddca49ef7?s=128&d=identicon&r=PG&f=1", "display_name": "arekzyla", "link": "https://stackoverflow.com/users/9502162/arekzyla"}, "edited": false, "score": 0, "creation_date": 1522873124, "post_id": 49659665, "comment_id": 86328934, "body": "So if you are trying show us some code you tried to write."}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 2, "creation_date": 1522873170, "post_id": 49659665, "comment_id": 86328952, "body": "How can <code>1,3,3,4</code> become <code>1,2,2,3</code> .... magic ???"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1522873243, "post_id": 49659665, "comment_id": 86328997, "body": "presumably what you actually mean here is that you want to get rid of the <b>gaps</b>, but keep the number of contiguous elements? so... not actually re-ordered, but re-indexed?"}, {"owner": {"reputation": 33, "user_id": 8662774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d49a8ddfbf74dcad44ebe692de610a0?s=128&d=identicon&r=PG&f=1", "display_name": "MartinMcfry", "link": "https://stackoverflow.com/users/8662774/martinmcfry"}, "edited": false, "score": 0, "creation_date": 1522873326, "post_id": 49659665, "comment_id": 86329041, "body": "I&#39;ve modified the post to reflect some of the issues you&#39;ve all raised."}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1522873353, "post_id": 49659665, "comment_id": 86329056, "body": "@MarcGravell good catch ..."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8662774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d49a8ddfbf74dcad44ebe692de610a0?s=128&d=identicon&r=PG&f=1", "display_name": "MartinMcfry", "link": "https://stackoverflow.com/users/8662774/martinmcfry"}, "edited": false, "score": 0, "creation_date": 1522874494, "post_id": 49659850, "comment_id": 86329618, "body": "Thanks for the help. This looks similar to some of other answers, I&#39;ll study it and try to learn from it."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 1, "last_activity_date": 1522873661, "creation_date": 1522873661, "answer_id": 49659850, "question_id": 49659665, "link": "https://stackoverflow.com/questions/49659665/reindex-number-list-but-keep-duplicates-in-order-c/49659850#49659850", "title": "ReIndex Number List but keep Duplicates in Order C#", "body": "<p>Something like this? Note that it is unclear whether we expect the input to be out of order or not. If we're allowed to change the input array, a simple <code>Array.Sort(values)</code> at the top of <code>Rebase</code> would ensure that aspect.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Console.WriteLine(string.Join(\", \", Rebase(1, 3, 3, 4))); // 1, 2, 2, 3\n    Console.WriteLine(string.Join(\", \", Rebase(1, 3, 5, 6, 6))); // 1, 2, 3, 4, 4\n}\nstatic int[] Rebase(params int[] values)\n{\n    // Array.Sort(values); // if not already sorted, and allowed to mutate\n    int prev = values[0];\n    var result = new int[values.Length];\n    int val = result[0] = 1;\n    for (int i = 1; i &lt; values.Length; i++)\n    {\n        var current = values[i];\n        if (current != prev)\n        {\n            val++;\n            prev = current;\n        }\n        result[i] = val;\n    }\n    return result;\n}\n</code></pre>\n\n<p>Note that you <em>could</em> also choose to <em>overwrite</em> the input array rather than create a new array to return.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8662774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d49a8ddfbf74dcad44ebe692de610a0?s=128&d=identicon&r=PG&f=1", "display_name": "MartinMcfry", "link": "https://stackoverflow.com/users/8662774/martinmcfry"}, "edited": false, "score": 1, "creation_date": 1522874443, "post_id": 49659864, "comment_id": 86329590, "body": "This looks really good. Thank you for a thorough answer. I need to read into it for a little while to really get it. Really appreciate it!"}], "tags": [], "owner": {"reputation": 21283, "user_id": 796085, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/o27aB.png?s=128&g=1", "display_name": "Tommaso Belluzzo", "link": "https://stackoverflow.com/users/796085/tommaso-belluzzo"}, "is_accepted": true, "score": 1, "last_activity_date": 1522876027, "last_edit_date": 1522876027, "creation_date": 1522873706, "answer_id": 49659864, "question_id": 49659665, "link": "https://stackoverflow.com/questions/49659665/reindex-number-list-but-keep-duplicates-in-order-c/49659864#49659864", "title": "ReIndex Number List but keep Duplicates in Order C#", "body": "<p>Your question has nothing to with sorting... but I think I understood what you are looking for, and the following code should provide it:</p>\n\n<pre><code>List&lt;Int32&gt; numbers = new List&lt;Int32&gt; { 1, 3, 3, 4 };\nList&lt;Int32&gt; result = new List&lt;Int32&gt;(numbers.Count);\n\nInt32 currentValue = 1;\nInt32 lastNumber = numbers[0];\n\nfor (Int32 i = 0; i &lt; numbers.Count; ++i)\n{\n    Int32 number = numbers[i];\n\n    if (numbers[i] != lastNumber)\n        ++currentValue;\n\n    result.Add(currentValue);\n    lastNumber = number;\n}\n\nforeach (Int32 number in result) \n    Console.WriteLine(number); // Output: 1, 2, 2, 3\n</code></pre>\n\n<p>Please, visit <a href=\"http://rextester.com/YLZUIA17488\" rel=\"nofollow noreferrer\">this link</a> to try a working demo, which implements the following function:</p>\n\n<pre><code>private static List&lt;Int32&gt; IndexNumbers(List&lt;Int32&gt; input)\n{\n    List&lt;Int32&gt; numbers = input.OrderBy(x =&gt; x).ToList();\n    List&lt;Int32&gt; result = new List&lt;Int32&gt;(input.Count);\n\n    Int32 currentValue = 1;\n    Int32 lastNumber = numbers[0];\n\n    for (Int32 i = 0; i &lt; numbers.Count; ++i)\n    {\n        Int32 number = numbers[i];\n\n        if (numbers[i] != lastNumber)\n            ++currentValue;\n\n        result.Add(currentValue);\n        lastNumber = number;\n    }\n\n    return result;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1522874143, "post_id": 49659912, "comment_id": 86329440, "body": "it as a certain elegance in terms of display - so +1 for sure, but ... it may be <i>much</i> less efficient than the direct options"}, {"owner": {"reputation": 33, "user_id": 8662774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d49a8ddfbf74dcad44ebe692de610a0?s=128&d=identicon&r=PG&f=1", "display_name": "MartinMcfry", "link": "https://stackoverflow.com/users/8662774/martinmcfry"}, "edited": false, "score": 0, "creation_date": 1522874529, "post_id": 49659912, "comment_id": 86329643, "body": "Thanks for this. Nice to see a simple version, but I like the longer forms right now. Easier to see what&#39;s going on."}], "tags": [], "owner": {"reputation": 2738, "user_id": 9502162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1525ff4c60e1f49ee86cbcddca49ef7?s=128&d=identicon&r=PG&f=1", "display_name": "arekzyla", "link": "https://stackoverflow.com/users/9502162/arekzyla"}, "is_accepted": false, "score": 1, "last_activity_date": 1522873901, "creation_date": 1522873901, "answer_id": 49659912, "question_id": 49659665, "link": "https://stackoverflow.com/questions/49659665/reindex-number-list-but-keep-duplicates-in-order-c/49659912#49659912", "title": "ReIndex Number List but keep Duplicates in Order C#", "body": "<p>Try this using LINQ:</p>\n\n<pre><code>var reindexed = numList\n    .OrderBy(n =&gt; n)\n    .GroupBy(n =&gt; n)\n    .SelectMany((g, i) =&gt; g\n        .Select(e =&gt; i + 1));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1522874502, "creation_date": 1522874502, "answer_id": 49660062, "question_id": 49659665, "link": "https://stackoverflow.com/questions/49659665/reindex-number-list-but-keep-duplicates-in-order-c/49660062#49660062", "title": "ReIndex Number List but keep Duplicates in Order C#", "body": "<p>First off, figure out what the old number should match to. <code>Distinct</code> and <code>OrderBy</code> are probably you're friends here</p>\n\n<pre><code>List&lt;int&gt; input = new List&lt;int&gt; { 1, 3, 3, 4 };\n\nvar dictionary = new Dictionary&lt;int, int&gt;();\nvar index = 1;\nforeach (var n in input.Distinct().OrderBy(n =&gt; n)) {\n    dictionary.Add(n, index++);\n}\n\nvar output = input.Select(n =&gt; dictionary[n]);\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8662774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d49a8ddfbf74dcad44ebe692de610a0?s=128&d=identicon&r=PG&f=1", "display_name": "MartinMcfry", "link": "https://stackoverflow.com/users/8662774/martinmcfry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 49659864, "answer_count": 4, "score": 3, "last_activity_date": 1522876027, "creation_date": 1522872885, "last_edit_date": 1522873439, "question_id": 49659665, "link": "https://stackoverflow.com/questions/49659665/reindex-number-list-but-keep-duplicates-in-order-c", "title": "ReIndex Number List but keep Duplicates in Order C#", "body": "<p>I'm trying to reorder a list that essentially gets rid of duplicates. Which I have been able to do. The part that is tripping me up is, if there are duplicates I want to keep them, and maintain the order</p>\n\n<p>Examples - </p>\n\n<p>Input = 1,3,3,4\nOutput = 1,2,2,3</p>\n\n<p>Input = 1,3,5,6,6\nOutput = 1,2,3,4,4</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>EDIT - </p>\n\n<p>Code I've attempted.</p>\n\n<pre><code>for (int i = 1; i &lt;= numList.Count; i++)\n{\n    if (numList[i - 1] == numList[i])\n    {\n        foreach (var item in numList.Where(x =&gt; x == numList[i - 1]))\n        {\n            testList.Add(item);\n            i++;\n        }\n        foreach (var item in testList)\n        {\n            numList.Add(item);\n        }\n\n    }\n    else\n    {\n        numList[i - 1] = i;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 1123, "user_id": 7334796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40218277e3752bb31fb331861decd8b5?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/7334796/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1522882491, "post_id": 49659556, "comment_id": 86333135, "body": "Did you try binding-mode TwoWay for the <code>ItemSource</code>? Don&#39;t know the default for <code>ListBox</code>"}, {"owner": {"reputation": 2938, "user_id": 4934541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f1ade8b8912a73a2bd466a21180c3?s=128&d=identicon&r=PG", "display_name": "Xavier", "link": "https://stackoverflow.com/users/4934541/xavier"}, "edited": false, "score": 1, "creation_date": 1522905251, "post_id": 49659556, "comment_id": 86338855, "body": "The nice thing about an observable collection is that you can observe it. Register for the <code>CollectionChanged</code> event on the collection. When that fires, the collection has been updated."}, {"owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1522934541, "post_id": 49659556, "comment_id": 86357505, "body": "Sweet.  I will try that out..."}, {"owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1523022673, "post_id": 49659556, "comment_id": 86401187, "body": "It doesn&#39;t work.  Re-ordering the collection never fires the event."}], "owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522872497, "creation_date": 1522872497, "question_id": 49659556, "link": "https://stackoverflow.com/questions/49659556/drop-event-on-listbox-occurring-before-collection-is-re-ordered", "title": "drop event on ListBox occurring before collection is re-ordered", "body": "<p>I have a ListBox with a Drop event that fires when a row is moved via drag and drop.  The event fires correctly, but the observable collection which is the ListBox's item source does not reflect this change in the event.  If I fire a click event after I drop the row, I see the correct ordering.  So, I am guessing that the ordering happens AFTER the drop event is fired.</p>\n\n<p>How do I correctly capture the re-ordering of this observable collection after a row is dropped?</p>\n\n<pre><code>&lt;ListBox x:Name=\"lstbox_playerContainer\"\n    ItemsSource=\"{Binding ChildObjectOC}\"  \n    SelectedItem=\"{Binding SelectedChildObject, Mode=TwoWay}\"\n    dd:DragDrop.IsDragSource=\"True\"\n    dd:DragDrop.IsDropTarget=\"True\"    \n    Drop=\"lstbox_playerContainer_Drop\"&gt;\n&lt;/ListBox&gt;    \n</code></pre>\n"}, {"tags": ["c#", "json.net"], "answers": [{"comments": [{"owner": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "edited": false, "score": 0, "creation_date": 1522875511, "post_id": 49659627, "comment_id": 86330173, "body": "Unfortunately it doesn&#39;t compile. Nor does version with &quot;=&gt;&quot; instead of &quot;=&quot;"}, {"owner": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "edited": false, "score": 0, "creation_date": 1522875921, "post_id": 49659627, "comment_id": 86330391, "body": "Checked and it works only if I remove { get; set; } and use =&gt;, but it overrides <b>End</b> value even if it is provided"}], "tags": [], "owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "is_accepted": false, "score": 1, "last_activity_date": 1522872735, "creation_date": 1522872735, "answer_id": 49659627, "question_id": 49659528, "link": "https://stackoverflow.com/questions/49659528/specifying-default-value-for-a-property-in-relation-to-other-property-in-json-ne/49659627#49659627", "title": "Specifying default value for a property in relation to other property in Json.NET", "body": "<p>If you are using C# 6 then probably you can do like [* Not sure if this is what you are looking to achieve]</p>\n\n<pre><code>[JsonProperty(DefaultValueHandling = DefaultValueHandling.Populate)]    \npublic DateTime End { get; set; } = Start.AddHours(1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 1, "last_activity_date": 1522877745, "last_edit_date": 1522877745, "creation_date": 1522876812, "answer_id": 49660649, "question_id": 49659528, "link": "https://stackoverflow.com/questions/49659528/specifying-default-value-for-a-property-in-relation-to-other-property-in-json-ne/49660649#49660649", "title": "Specifying default value for a property in relation to other property in Json.NET", "body": "<p>As specified in the <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON standard</a>, a JSON object is an <strong><em>unordered</strong> set of name/value pairs</em>, so in general Json.NET does not allow one property to be set relative to another.  Json.NET is a streaming, single-pass deserializer and there's no guarantee which will appear first in the JSON.</p>\n\n<p>However, when your object specifies use of a parameterized constructor via, e.g., the <a href=\"https://www.newtonsoft.com/json/help/html/SerializationAttributes.htm#JsonConstructorAttribute\" rel=\"nofollow noreferrer\"><code>[JsonConstructor]</code></a> attribute, Json.NET will pre-load the JSON properties and their values then construct the object with the deserialized values.  This affords an opportunity to set the <code>End</code> property relative to the <code>Start</code> property:</p>\n\n<pre><code>public partial class JsonsoftExample\n{\n    public JsonsoftExample() { }\n\n    [JsonConstructor]       \n    JsonsoftExample(DateTime start, DateTime? end)\n    {\n        this.Start = start;\n        this.End = end ?? Start.AddHours(1);            \n    }\n\n    [JsonProperty(Required = Required.Always)]\n    public DateTime Start { get; set; }\n\n    public DateTime End { get; set; }\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>The names of the constructor arguments must be the same as the names of the properties, modulo case.  This is how Json.NET matches constructor arguments with JSON properties.</p></li>\n<li><p>Note that the <code>End</code> property is of type <code>DateTime</code> while the <code>end</code> constructor argument is of type <code>DateTime?</code>.  When <code>\"End\"</code> is missing from the JSON, Json.NET will pass in a <code>null</code> value into the constructor, which can be checked for to properly initialize the <code>End</code> time relative to the <code>Start</code>.</p></li>\n<li><p>If you don't want to serialize the <code>End</code> property when it is exactly one hour later than the start, you can use <a href=\"https://www.newtonsoft.com/json/help/html/ConditionalProperties.htm\" rel=\"nofollow noreferrer\">conditional property serialization</a>:</p>\n\n<pre><code>public bool ShouldSerializeEnd()\n{\n    return End != Start.AddHours(1);\n}\n</code></pre></li>\n<li><p>The constructor does not need to be public when marked with <code>[JsonConstructor]</code>.  Properties not passed into the constructor will be populated after construction as per usual deserialization.</p></li>\n</ul>\n\n<p>Sample <a href=\"https://dotnetfiddle.net/A276jg\" rel=\"nofollow noreferrer\">fiddle</a>.</p>\n"}], "owner": {"reputation": 1409, "user_id": 7518695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dT38T.jpg?s=128&g=1", "display_name": "GrayCat", "link": "https://stackoverflow.com/users/7518695/graycat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 1, "accepted_answer_id": 49660649, "answer_count": 2, "score": 1, "last_activity_date": 1522877877, "creation_date": 1522872409, "last_edit_date": 1522877877, "question_id": 49659528, "link": "https://stackoverflow.com/questions/49659528/specifying-default-value-for-a-property-in-relation-to-other-property-in-json-ne", "title": "Specifying default value for a property in relation to other property in Json.NET", "body": "<p>I am wondering if there is a way to set default value for a property in relation to other property of the same class in Json.NET e.g like this:</p>\n\n<pre><code>public class JsonsoftExample\n{\n    [JsonProperty(Required = Required.Always)]\n    public DateTime Start { get; set; }\n\n    [JsonProperty(DefaultValueHandling = DefaultValueHandling.Populate)]\n    [DefaultValue(Start.AddHours(1))]\n    public DateTime End { get; set; }\n}\n</code></pre>\n\n<p>What I am trying to accomplish here is to populate <strong>End</strong> with <em>DateTime</em> value that is one hour later than <strong>Start</strong> in cases e.g when deserializing json to domain model and <strong>End</strong> value is missing or null. Like this:</p>\n\n<pre><code>string json = \"{\\\"Start\\\": \\\"2017-01-01T08:00:00+01:00\\\"}\";\nvar deserialized = JsonConvert.DeserializeObject&lt;JsonsoftExample&gt;(json);\n</code></pre>\n\n<p>The way I am doing it now is just inspecting later in code if <strong>End</strong> value is null in my domain object and if it is - populating it with desired value.</p>\n\n<p>Is it feasible the way proposed in code sample or is there maybe a better simpler way except for the manual checking as in paragraph above?</p>\n"}, {"tags": ["c#", "css", "visual-studio-2017", "jquery-3", "asp.net-4.6"], "comments": [{"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "edited": false, "score": 0, "creation_date": 1522873152, "post_id": 49659523, "comment_id": 86328944, "body": "There&#39;s a lot to take in here and no idea what it <i>should</i> look like."}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1522874256, "post_id": 49659523, "comment_id": 86329501, "body": "open dev mode in chrome f12 and make sure that  under network it has discable cache ticked, refresh the page and inspect the css or hold down ctrl +F5 and press F5 a couple of time to ensure that no cached copy of css is not being used."}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 6471570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DvCk2.png?s=128&g=1", "display_name": "NMeneses", "link": "https://stackoverflow.com/users/6471570/nmeneses"}, "is_accepted": true, "score": 0, "last_activity_date": 1522970668, "creation_date": 1522970668, "answer_id": 49682995, "question_id": 49659523, "link": "https://stackoverflow.com/questions/49659523/trouble-with-css-in-asp-net-4-6/49682995#49682995", "title": "Trouble with CSS in ASP.NET 4.6", "body": "<p>Thank you for your help.  I found the answer however and hopefully this helps someone else.  The problem was that another less experienced team member had changed the width for the input controls to Max-Width: 150px in the CSS (not shown in the pictures above).  That tiny thing through me for almost an entire day, but at least it was found and corrected.</p>\n\n<p>Thank you to those who helped or commented.</p>\n"}], "owner": {"reputation": 125, "user_id": 6471570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DvCk2.png?s=128&g=1", "display_name": "NMeneses", "link": "https://stackoverflow.com/users/6471570/nmeneses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 49682995, "answer_count": 1, "score": 0, "last_activity_date": 1522970668, "creation_date": 1522872376, "question_id": 49659523, "link": "https://stackoverflow.com/questions/49659523/trouble-with-css-in-asp-net-4-6", "title": "Trouble with CSS in ASP.NET 4.6", "body": "<p>I have a project I've been working on for the past couple of months.  Everything has been working fine up till today.  When I came I noticed that all my button sizes were the same.  I like to use the developer tools in Chrome to help debug my websites, and when I looked to see why the buttons weren't displaying properly; nothing seemed amiss.  So will you please help me identify what is going on and how I should fix it?</p>\n\n<p>Here is the .aspx code:</p>\n\n<pre><code>&lt;div class=\"row section text-center\"&gt;\n    &lt;h2&gt;&lt;%: Page.Title %&gt; Page&lt;/h2&gt;&lt;br /&gt;\n    &lt;asp:Button ID=\"stReturnButton\" runat=\"server\" CssClass=\"stButton-lg\" Text=\"Back to Training Portal\" PostBackUrl=\"~/SST/SafetyTrainingPortal.aspx\" /&gt;\n    &lt;hr /&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row col-xs-12 text-center\"&gt;\n    &lt;div class=\"col-xs-6 text-center\"&gt;\n        &lt;asp:Button ID=\"btnEditUpdate\" runat=\"server\" Text=\"Update Employee Certificates\" CssClass=\"stButton-lg\" PostBackUrl=\"~/SST/SUPERVISOR/UpdateCertificates.aspx\"/&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-xs-6 text-center\"&gt;\n        &lt;asp:Button ID=\"btnAddCerts\" runat=\"server\" Text=\"Update Employee Profile\" CssClass=\"stButton-lg\" PostBackUrl=\"~/SST/SUPERVISOR/UpdateEmployeeProfile.aspx\" /&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Here is what the page looks like now:\n<a href=\"https://i.stack.imgur.com/nd4vK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nd4vK.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the CSS for the buttons:</p>\n\n<pre><code>    .stButton {\n    width: 190px;\n    opacity: 1.0;\n    color: #0e4676;\n    background-color: #9FCF6E;\n    border-color: #357ebd;\n    padding: 5px;\n    margin-bottom: 5px;\n    border-radius: 10px;\n    box-shadow: #063156 3px 3px;\n    cursor: pointer;\n    user-select: none;\n    text-align:center;\n}\n.stButton-lg {\n    width: 325px !important;\n    opacity: 1.0;\n    color: #0e4676;\n    background-color: #9FCF6E;\n    border-color: #357ebd;\n    padding: 5px;\n    margin-bottom: 5px;\n    border-radius: 10px;\n    box-shadow: #063156 3px 3px;\n    cursor: pointer;\n    user-select: none;\n    text-align: center;\n}\n</code></pre>\n\n<p>As you can see I have CSS for a normal button and CSS for a larger button.  The larger button being what I'm targeting in my .aspx code.  I include the \"!important\" at the end of the width because the buttons aren't displaying correctly; just to see if that would help... obviously it didn't.  I've also tried inline styling and that doesn't work either.  One important note, I've viewed the page in the following browsers: IE, Chrome, and Edge.  </p>\n\n<p>Anyway, here are the links in the Master Page with a view of the files in the folder structure of the project:\n<a href=\"https://i.stack.imgur.com/Hnl1V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hnl1V.png\" alt=\"enter image description here\"></a>\nI commented out the placeholder for the Script.Render since I'm declaring the links directly above the placeholder.  Also, having it uncommented did nothing for me as well.</p>\n\n<p>I think I've covered it all, so if I've missed something please let me know and I'll include it.  I appreciate all and any help that is given.</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc", "asp.net-core-2.0"], "answers": [{"comments": [{"owner": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "edited": false, "score": 0, "creation_date": 1522914483, "post_id": 49659779, "comment_id": 86343565, "body": "This explains how to add a requirement to a policy, but that&#39;s not what the question is.."}, {"owner": {"reputation": 677, "user_id": 3927981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IK7F.jpg?s=128&g=1", "display_name": "Oleksandr Nahirniak", "link": "https://stackoverflow.com/users/3927981/oleksandr-nahirniak"}, "reply_to_user": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "edited": false, "score": 1, "creation_date": 1522925324, "post_id": 49659779, "comment_id": 86350908, "body": "@M&#233;toule Oh, sorry for that, I was a little bit tired, so I&#39;ve completed the whole answer."}], "tags": [], "owner": {"reputation": 677, "user_id": 3927981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IK7F.jpg?s=128&g=1", "display_name": "Oleksandr Nahirniak", "link": "https://stackoverflow.com/users/3927981/oleksandr-nahirniak"}, "is_accepted": false, "score": -1, "last_activity_date": 1522925287, "last_edit_date": 1522925287, "creation_date": 1522873404, "answer_id": 49659779, "question_id": 49659485, "link": "https://stackoverflow.com/questions/49659485/catching-a-failed-authorization-policy/49659779#49659779", "title": "Catching a failed authorization policy", "body": "<p>You should add your policy with requirments to authorization on application startup, like: </p>\n\n<pre><code>services.AddAuthorization(options =&gt;\n        {\n            options.AddPolicy(\"CompletedProfile\", builder =&gt;\n            {\n                builder.AddRequirements(new CompletedProfileRequirement());\n            });\n        });\n</code></pre>\n\n<p>And register handlers, like:</p>\n\n<pre><code> services.AddScoped&lt;IAuthorizationHandler, CompletedProfileRequirementHandler&gt;();\n</code></pre>\n\n<p><strong>UPD:</strong> </p>\n\n<p>For redirecting you should inject and use in controller:</p>\n\n<pre><code>IAuthorizationService authorizationService\n</code></pre>\n\n<p>And invoke: </p>\n\n<pre><code>var result = _authorizationService.AuthorizeAsync(User, someObject, \"CompletedProfile\");\nif (!result.Succeeded)\n    return RedirectToAction(\"CompleteProfileAction\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 881011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1dc2b8b421386575d55776fbba67340?s=128&d=identicon&r=PG", "display_name": "jungos", "link": "https://stackoverflow.com/users/881011/jungos"}, "edited": false, "score": 8, "creation_date": 1522935801, "post_id": 49666985, "comment_id": 86358514, "body": "This is what I ended up implementing but it feels like a misuse of the handlers. I would expect that you could &quot;catch&quot; specific policy failures somewhere in the pipeline"}, {"owner": {"reputation": 695, "user_id": 1031682, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a69e9e0162beea7604e48294ea8b7b6a?s=128&d=identicon&r=PG", "display_name": "ElFik", "link": "https://stackoverflow.com/users/1031682/elfik"}, "edited": false, "score": 1, "creation_date": 1577830035, "post_id": 49666985, "comment_id": 105266534, "body": "We want to do the same redirection in multiple requirement handlers, so this is not ideal. Ideally we&#39;d like to have a single layer in the pipeline above the authorization handler calls such that, if authorization fails on any, it can be caught and handled in one place (we do some complex checks based on cookie policy etc. to determine what to do for unauthorized requests)"}, {"owner": {"reputation": 652, "user_id": 6007224, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2250a13f4fd1ff39b83b7c69a01492bf?s=128&d=identicon&r=PG&f=1", "display_name": "PeterLiguda", "link": "https://stackoverflow.com/users/6007224/peterliguda"}, "edited": false, "score": 0, "creation_date": 1605781627, "post_id": 49666985, "comment_id": 114759609, "body": "Thanks for the code. For me this shows how bad the handler design is today :/"}], "tags": [], "owner": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "is_accepted": true, "score": 1, "last_activity_date": 1522914806, "last_edit_date": 1592644375, "creation_date": 1522914806, "answer_id": 49666985, "question_id": 49659485, "link": "https://stackoverflow.com/questions/49659485/catching-a-failed-authorization-policy/49666985#49666985", "title": "Catching a failed authorization policy", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authorization/policies#accessing-mvc-request-context-in-handlers\" rel=\"nofollow noreferrer\">authorization documentation</a>, it's possible to access the MVC context from your <code>AuthorizationHandler</code>:</p>\n<blockquote>\n<p>Frameworks such as MVC or Jabbr are free to add any object to the <code>Resource</code> property on the <code>AuthorizationHandlerContext</code> to pass extra information.</p>\n<p>For example, MVC passes an instance of <code>AuthorizationFilterContext</code> in the <code>Resource</code> property. This property provides access to <code>HttpContext</code>, <code>RouteData</code>, and everything else provided by MVC and Razor Pages.</p>\n</blockquote>\n<p>Therefore, you can do something like this:</p>\n<pre><code>public class CompletedProfileRequirement : AuthorizationHandler&lt;CompletedProfileRequirement&gt;, IAuthorizationRequirement\n{\n    protected override Task HandleRequirementAsync(AuthorizationHandlerContext context, CompletedProfileRequirement requirement)\n    {\n        // Check that all required claims exist\n        if (/* invalid user claims */) {\n\n            // retrieve MVC context\n            if (context.Resource is AuthorizationFilterContext mvcContext)\n            {\n                // we still need to mark the requirement as succeeded, \n                // otherwise responde code is 401 unauthorized\n                context.Succeed(requirement);\n\n                // HTTP 302 temporary redirect to your page\n                mvcContext.HttpContext.Response.Redirect(&quot;/Home/Wherever&quot;, false);\n                return Task.FromResult(0);\n            }\n\n        }\n\n        context.Succeed(requirement);\n        return Task.FromResult(0);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 881011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1dc2b8b421386575d55776fbba67340?s=128&d=identicon&r=PG", "display_name": "jungos", "link": "https://stackoverflow.com/users/881011/jungos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1550, "favorite_count": 0, "accepted_answer_id": 49666985, "answer_count": 2, "score": 5, "last_activity_date": 1522925287, "creation_date": 1522872218, "last_edit_date": 1522889867, "question_id": 49659485, "link": "https://stackoverflow.com/questions/49659485/catching-a-failed-authorization-policy", "title": "Catching a failed authorization policy", "body": "<p>In .Net Core 2, suppose there is an authorization policy that checks that specific claims exist for the user:</p>\n\n<pre><code>public class CompletedProfileRequirement : AuthorizationHandler&lt;CompletedProfileRequirement&gt;, IAuthorizationRequirement\n{\n    protected override Task HandleRequirementAsync(AuthorizationHandlerContext context, CompletedProfileRequirement requirement)\n    {\n        // Check that all required claims exist\n        if (/* invalid user claims */) {\n            context.Fail();\n        }\n\n        context.Succeed(requirement);\n        return Task.FromResult(0);\n    }\n}\n</code></pre>\n\n<p>And we stick the policy check on top of an MVC controller:</p>\n\n<pre><code>[Authorize(Policy = \"CompletedProfile\")]\npublic class HomeController : Controller\n{\n     // Controller stuff\n}\n</code></pre>\n\n<p>How can I write an <code>IAuthorizationFilter</code> so that we can catch a failure on this particular <code>CompletedProfileRequirement</code> policy so that we can redirect the user to a page where they may complete their profile?</p>\n"}, {"tags": ["c#", "inheritance", "constructor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 4, "creation_date": 1522871857, "post_id": 49659362, "comment_id": 86328229, "body": "<code>base(i * 2)</code>?? Or, <code>base(ComplicatedCalculation(i))</code>? Of course, you should avoid complicated calculations in your constructors..."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 2, "creation_date": 1522871869, "post_id": 49659362, "comment_id": 86328235, "body": "Construction only happens once. You can&#39;t call <i>any</i> (base or this) constructor after the instance has been constructed."}, {"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "edited": false, "score": 0, "creation_date": 1522872015, "post_id": 49659362, "comment_id": 86328324, "body": "I understand that I could make the constructor look like <code>public Child(int i) : base(i * 2) {}</code>. The issue is that this solution would not be elegant if the calculation involved is, for instance, a long equation. Regardless, thank you for the insight."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522872060, "post_id": 49659362, "comment_id": 86328353, "body": "@DanielHernandez did you just ignore the second part of Will&#39;s comment?"}, {"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "edited": false, "score": 2, "creation_date": 1522872152, "post_id": 49659362, "comment_id": 86328409, "body": "I apologise if I sounded like I didn&#39;t pay attention to @Will&#39;s response. I didn&#39;t refresh my browser and therefore i didn&#39;t see the edited comment. Having a function call sounds like a good idea!"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1522872184, "post_id": 49659362, "comment_id": 86328430, "body": "Another way to handle this would be to have an <code>Initialize(int i)</code> method declared in your base class that would do the parts of initialization that can&#39;t be done in the constructor. Then your <code>Child</code> constructor simply calls <code>base.Initialize</code>"}, {"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "reply_to_user": {"reputation": 1985, "user_id": 2267817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oErq5.jpg?s=128&g=1", "display_name": "Always Learning", "link": "https://stackoverflow.com/users/2267817/always-learning"}, "edited": false, "score": 0, "creation_date": 1522872583, "post_id": 49659362, "comment_id": 86328649, "body": "@AlwaysLearning you are right, I made a type. I want to use the <code>calculation</code> variable."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 1, "creation_date": 1522873024, "post_id": 49659362, "comment_id": 86328883, "body": "I ninja edited the comment a couple times. Anyhow, the best solution would be to have a protected abstract method that provides the result of the calculation that the base class calls at the last possible moment prior to using the result. If that has to happen within the construction of the object due to the overall design.... rethink the design. One possibility is to have a protected constructor and a static factory method that performs the calculations, creates the instance, passing the result to the constructor, and returns the instance..."}], "answers": [{"tags": [], "owner": {"reputation": 4698, "user_id": 382783, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/03b84aa935e9f5fbae4cc5758240eb6d?s=128&d=identicon&r=PG", "display_name": "Boris B.", "link": "https://stackoverflow.com/users/382783/boris-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1522871906, "creation_date": 1522871906, "answer_id": 49659413, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body/49659413#49659413", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<p>Create a static method and use <code>base(MyStaticMethod(params))</code></p>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 1, "last_activity_date": 1522872615, "last_edit_date": 1522872615, "creation_date": 1522872069, "answer_id": 49659450, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body/49659450#49659450", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<p>The point of a constructor is to construct the instance, i.e. get it into a valid state. It should do that and nothing else. And if your class can exist without having <code>i</code> set already, then the act of setting <code>i</code> is not essential to its validity and therefore doesn't belong in a constructor.</p>\n\n<p>Perhaps you don't want inheritance, you want composition.</p>\n\n<pre><code>class Inner\n{\n    protected readonly int _i;\n\n    public Inner(int i)\n    {\n        _i = i;\n    }\n}\n\nclass Outer\n{\n    protected Inner _inner = null;\n\n    public Outer()\n    {\n        //Construct\n    }\n\n    public void SetI(int i)\n    {\n        _inner = new Inner(i);  //Call constructor of Inner\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "edited": false, "score": 0, "creation_date": 1522872769, "post_id": 49659588, "comment_id": 86328762, "body": "You are a wise man. I was subconsciously trying to replicata Java&#39;s <code>super()</code> feature. Now I see what that may not be a good idea."}], "tags": [], "owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "is_accepted": false, "score": 2, "last_activity_date": 1522872614, "creation_date": 1522872614, "answer_id": 49659588, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body/49659588#49659588", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<p>If you were allowed to call a <strong>base</strong> constructor in the child class in that way, you can face weird problems in your programs. Means that you can leave that instance in an inconsistent state because you could make a try-catch to handle some input-parameter errors and bypass the constructor. That is not the idea, imagine if you were allowed to create a Date in that way.</p>\n\n<pre><code>class MyDate : DateTime\n{\n  public int(int year, int month, int day)\n  {\n      try\n     {\n        base(-1, -1, -1)\n     }\n     catch\n    {\n    }\n  }\n}\n</code></pre>\n\n<p>The funny thing is that Java allows that with the <strong>super</strong> keyword.</p>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "edited": false, "score": 1, "creation_date": 1522872882, "post_id": 49659591, "comment_id": 86328809, "body": "Thank you. This is the approach that I will use. I am accepting this as the correct answer."}], "tags": [], "owner": {"reputation": 78, "user_id": 9591651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f3739d3c3577891ccbc47a884934b8?s=128&d=identicon&r=PG&f=1", "display_name": "S. John Fagone", "link": "https://stackoverflow.com/users/9591651/s-john-fagone"}, "is_accepted": true, "score": 2, "last_activity_date": 1522872622, "creation_date": 1522872622, "answer_id": 49659591, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body/49659591#49659591", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<p>This would do the same trick assuming u can access the properties directly</p>\n\n<pre><code>abstract class Parent \n{\n    protected int i;\n    protected Parent() \n    {\n       //default constructor\n    }\n}\n\nclass Child : Parent \n{\n    public Child(int i)\n    {\n\n        Int calculation = i * 2\n        base.i = calculation\n    }\n}\n</code></pre>\n\n<p>however if u cant do that because of restricted access to the properties my personal preference is to outsource the logic of the calculation in separate  function and call the base class like following:</p>\n\n<pre><code>abstract class Parent \n{\n    protected int i;\n    protected Parent(int i) \n    {\n        this.i = i;\n    }\n}\n\nclass Child : Parent \n{\n    public Child(int i) : base(Child.dosomework(i)) \n    {\n    }\n\n    public static int dosomework(int i){\n        int calculation = i * 2\n        return calculation\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "edited": false, "score": 0, "creation_date": 1522872956, "post_id": 49659647, "comment_id": 86328849, "body": "This is very similar to the answer  I accepted as the correct one, so thank you. I must say that, even though this approach looks a bit cumbersome, it is the coolest looking answer for this question."}], "tags": [], "owner": {"reputation": 339, "user_id": 1045958, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YKrhq.jpg?s=128&g=1", "display_name": "Denis Kucherov", "link": "https://stackoverflow.com/users/1045958/denis-kucherov"}, "is_accepted": false, "score": 3, "last_activity_date": 1522872818, "creation_date": 1522872818, "answer_id": 49659647, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body/49659647#49659647", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<pre><code>abstract class Parent\n{\n    protected int i;\n    protected Parent(int i)\n    {\n        this.i = i;\n    }\n\n    protected Parent(Func&lt;int&gt; param)\n    {\n        i = param();\n    } \n}\n\nclass Child : Parent\n{\n    public Child(int i) : base(() =&gt; i * 2)\n    {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 2850788, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zljOs.jpg?s=128&g=1", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/2850788/daniel-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 49659591, "answer_count": 5, "score": -1, "last_activity_date": 1522872818, "creation_date": 1522871692, "last_edit_date": 1522872551, "question_id": 49659362, "link": "https://stackoverflow.com/questions/49659362/c-calling-parent-base-constructor-from-childs-constructor-body", "title": "C#: Calling parent (Base) constructor from child&#39;s constructor body", "body": "<p>I have an abstract class <code>Parent</code> and a derived class <code>Child</code>. I know that I can call <code>Parent</code>'s constructor inside <code>Child</code>'s constructor in the following way:</p>\n\n<pre><code>abstract class Parent \n{\n    protected int i;\n    protected Parent(int i) \n    {\n        this.i = i;\n    }\n}\n\nclass Child : Parent \n{\n    public Child(int i) : base(i) \n    {\n    }\n}\n</code></pre>\n\n<p>However, I don't want to pass some parameters to the <code>Parent</code> constructor right away. I would like to perform some calculations and <em>then</em> call <code>Parent</code>'s constructor using the result of such calculation as input parameters. The code \"would look\" something like this:</p>\n\n<pre><code>public class Child : Parent \n{\n    public Child(int i) \n    {\n        int calculation = i * 2; // Complicated operation\n        base(calculation); // This line will break\n    }\n}\n</code></pre>\n\n<p>The second snippet is not valid C# code. Is there any way of postponing the call to <code>Parent</code>'s constructor to mimic the sentiment expressed on the second code snippet?</p>\n"}, {"tags": ["c#", "azure", "ssl", "asp.net-core", "client-certificates"], "comments": [{"owner": {"reputation": 8121, "user_id": 152997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae371690b3859dd1515ccf3e9ddc2ec8?s=128&d=identicon&r=PG", "display_name": "McGuireV10", "link": "https://stackoverflow.com/users/152997/mcguirev10"}, "edited": false, "score": 0, "creation_date": 1522872009, "post_id": 49659235, "comment_id": 86328321, "body": "Are you also disposing the <code>HttpClient</code> objects? MS recommends reusing a single <code>HttpClient</code> when possible, I&#39;m wondering if instantiating &quot;hundreds&quot; of them are causing app pool recycles or something similar."}, {"owner": {"reputation": 731, "user_id": 1288063, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/03b0192359e2ab9a67341d5ee53c122e?s=128&d=identicon&r=PG", "display_name": "riadh gomri", "link": "https://stackoverflow.com/users/1288063/riadh-gomri"}, "edited": false, "score": 0, "creation_date": 1524587594, "post_id": 49659235, "comment_id": 87029940, "body": "i hve the same issue did you figure out how to fix this? i have it all the time"}, {"owner": {"reputation": 702, "user_id": 2601824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464d7fc3d558ef75cafc01e49e6e7283?s=128&d=identicon&r=PG", "display_name": "corradolab", "link": "https://stackoverflow.com/users/2601824/corradolab"}, "edited": false, "score": 0, "creation_date": 1525453450, "post_id": 49659235, "comment_id": 87376929, "body": "No solution yet, but I&#39;ve found I can packet capture an Azure Web App. There is a &quot;Diagnostics&quot; &quot;Collect Network Trace&quot; button, which does not work.But I can start the capture from command line with ArmClient. Something like this  ArmClient.exe POST \u201c/subscriptions/&lt;your_subscription&gt;/resourceGroups/&lt;your_res&zwnj;&#8203;ource-group&gt;/provide&zwnj;&#8203;rs/Microsoft.Web/sit&zwnj;&#8203;es/&lt;your_site&gt;/netwo&zwnj;&#8203;rkTrace/start?durati&zwnj;&#8203;onInSeconds=60&amp;api-v&zwnj;&#8203;ersion=2016-08-01\u201d"}], "owner": {"reputation": 702, "user_id": 2601824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464d7fc3d558ef75cafc01e49e6e7283?s=128&d=identicon&r=PG", "display_name": "corradolab", "link": "https://stackoverflow.com/users/2601824/corradolab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522871648, "creation_date": 1522871192, "last_edit_date": 1522871648, "question_id": 49659235, "link": "https://stackoverflow.com/questions/49659235/asp-net-core-on-azure-throw-the-client-certificate-credentials-were-not-recogni", "title": "ASP.NET Core on Azure throw &quot;The client certificate credentials were not recognized&quot;", "body": "<p>My setup is similar to this <a href=\"https://stackoverflow.com/questions/48550870/azure-asp-net-core-2-0-invoking-post-with-httpclient-using-a-client-certificat\">SO post</a></p>\n\n<p>My ASP.NET Web App connects to a third party service which requires client certificates. Begin a multitenant application, I've a client certificate for each customer, stored inside a database. Skipping the code to retrieve the certificate from database, I do something like this:</p>\n\n<pre><code>  HttpClientHandler httpClientHandler = new HttpClientHandler();\n  X509Certificate2 customerCertificate = new X509Certificate2(certificateFromDatabase, \"\", X509KeyStorageFlags.PersistKeySet | X509KeyStorageFlags.MachineKeySet);\n  httpClientHandler.ClientCertificates.Add(customerCertificate);\n  httpClientHandler.ServerCertificateCustomValidationCallback += ServerCertificateValidationCallback;\n  httpClient = new HttpClient(httpClientHandler);\n</code></pre>\n\n<p>This code works flawlessly on my Windows 10 development PC.\nWhen published to an Azure Web App it fails 20% of time with the following error:</p>\n\n<blockquote>\n  <p>System.Net.Http.HttpRequestException: An error occurred while sending the request.  System.Net.Http.WinHttpException: The client certificate credentials were not recognized.</p>\n</blockquote>\n\n<p>I've written a test method which calls the third party service as fast as it can, switching certificate every time. This one works on my PC, and fails 80% of times on Azure (same error as above).</p>\n\n<p>The solution proposed on the SO post above does not apply to me: I should have to load hundreads of certificates.</p>\n\n<p>To troubleshoot the issue it could be usefull to execute a packet capture.\nBut, AFAIK, this is not possibile with Azure Web Apps (can be done with Virtual Machines and Network  Watcher).</p>\n"}, {"tags": ["c#", "google-play-developer-api"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522871308, "post_id": 49659229, "comment_id": 86327884, "body": "What endpoint are you calling?"}, {"owner": {"reputation": 70, "user_id": 1952504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3003c6cdd382ee9b90267b1bfba79b20?s=128&d=identicon&r=PG", "display_name": "Siyavash Khojasteh", "link": "https://stackoverflow.com/users/1952504/siyavash-khojasteh"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1522876760, "post_id": 49659229, "comment_id": 86330797, "body": "<code>Purchases.products: get</code> but if I should call another endpoint please let me know."}], "owner": {"reputation": 70, "user_id": 1952504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3003c6cdd382ee9b90267b1bfba79b20?s=128&d=identicon&r=PG", "display_name": "Siyavash Khojasteh", "link": "https://stackoverflow.com/users/1952504/siyavash-khojasteh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1522871205, "creation_date": 1522871174, "last_edit_date": 1522871205, "question_id": 49659229, "link": "https://stackoverflow.com/questions/49659229/how-to-get-payment-price-and-currency-info-of-purchased-product-by-google-play", "title": "How to get payment (price and currency) info of purchased product by google play api", "body": "<p>I'm using google play developer API, so after user buy a product I want to get the details of that purchase in my server side, so I use google play developer api to get that information but unfortunately, the API doesn't return any information that how much the user paid (price and currency)\nthe API just return the following info</p>\n\n<pre><code>{\n  \"kind\": \"androidpublisher#productPurchase\",\n  \"purchaseTimeMillis\": long,\n  \"purchaseState\": integer,\n  \"consumptionState\": integer,\n  \"developerPayload\": string,\n  \"orderId\": string,\n  \"purchaseType\": integer\n}\n</code></pre>\n\n<p>\nHow can I get the price of purchased products through google play api?</p>\n"}, {"tags": ["c#", "service", "msmq"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1522872128, "post_id": 49659213, "comment_id": 86328396, "body": "Add a listener/watcher for the Queue. Like this one here. <a href=\"https://blogs.msmvps.com/manoj/2005/10/16/a-simple-msmq-listener-helper-class/\" rel=\"nofollow noreferrer\">blogs.msmvps.com/manoj/2005/10/16/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 9498595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e4de6d1109be3eb052cb3db711669e?s=128&d=identicon&r=PG&f=1", "display_name": "Diya", "link": "https://stackoverflow.com/users/9498595/diya"}, "reply_to_user": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1522875090, "post_id": 49659213, "comment_id": 86329961, "body": "I added the listener helper class and called from my service, I am still having same issue. Service reads message when i start it but not after that                                                                                   protected override void OnStart(string[] args)         {             var listener = new MSMQListener(MqName);                         listener.MessageReceived += new MessageReceivedEventHandler(listener_MessageReceived);             listener.Start();         }"}, {"owner": {"reputation": 129, "user_id": 3614070, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78698245386c42d0b5f32dff5686e7d1?s=128&d=identicon&r=PG&f=1", "display_name": "user3614070", "link": "https://stackoverflow.com/users/3614070/user3614070"}, "edited": false, "score": 0, "creation_date": 1599335270, "post_id": 49659213, "comment_id": 112745522, "body": "did you get this working? I am running into a similar issue"}], "owner": {"reputation": 31, "user_id": 9498595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e4de6d1109be3eb052cb3db711669e?s=128&d=identicon&r=PG&f=1", "display_name": "Diya", "link": "https://stackoverflow.com/users/9498595/diya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522871122, "creation_date": 1522871122, "question_id": 49659213, "link": "https://stackoverflow.com/questions/49659213/windows-service-not-continuously-picking-messages-from-msmq", "title": "Windows Service not continuously picking messages from msmq", "body": "<p>Windows service is not picking messages from MSMQ. Whenever there is a message, I have to go to Services stop and start my service, only then it picks. </p>\n\n<p>Here is the code. Please let me know what have to done to make service continuously watch for messages and pick it immediately when there is one.</p>\n\n<pre><code> public partial class Service1 : ServiceBase\n    {    \n        private const string MqName = @\".\\private$\\RequestQueue\";\n        private static MessageQueue _mq;        \n\nprivate static MessageQueue mq\n    {\n        get\n        {\n            if (_mq == null)\n            {\n                if (!MessageQueue.Exists(MqName))\n                    MessageQueue.Create(MqName);\n                _mq = new MessageQueue(MqName, QueueAccessMode.ReceiveAndAdmin);\n                _mq.Formatter = new BinaryMessageFormatter();\n            }\n            return _mq;\n        }\n    }  \n public Service1()\n    {\n        InitializeComponent();\n   mq.ReceiveCompleted += new ReceiveCompletedEventHandler(mq_ReceiveCompleted);\n    } \n\nprivate void mq_ReceiveCompleted(object sender, ReceiveCompletedEventArgs e)\n        {\n\n            MessageQueue cmq = (MessageQueue)sender;\n            try\n            {              \n                Message msg = cmq.EndReceive(e.AsyncResult);              \n            }\n            catch\n            {\n            }\n            cmq.Refresh();\n            cmq.BeginReceive();\n        }\n\n\n        protected override void OnStart(string[] args)\n        {\n            if (mq != null)\n                mq.BeginReceive();\n        }\n    private void MsMq_ReceiveCompleted(object sender, ReceiveCompletedEventArgs e)\n    {\n        var msMq = (MessageQueue)sender;\n        var msg = msMq.EndReceive(e.AsyncResult);\n        msMq.BeginReceive();          \n    }\n    protected override void OnStop()\n    {          \n        if (mq != null)\n            mq.Close();\n        return;\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "dictionary"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1522880905, "post_id": 49659180, "comment_id": 86332538, "body": "Can we assume there will be a 1:1 mapping from Table1 through to all the tables?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1522882071, "post_id": 49659180, "comment_id": 86332983, "body": "Can I assume there will only be one column in common between two tables (e.g. foreign keys are always one field)?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522871231, "post_id": 49659217, "comment_id": 86327824, "body": "Ya we can do  that. But is it a good code in this particular scenario?"}, {"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "reply_to_user": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522871299, "post_id": 49659217, "comment_id": 86327874, "body": "I guess so, but instead of the tableN, you can just use the table name as key in the dictionary."}, {"owner": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522872048, "post_id": 49659217, "comment_id": 86328345, "body": "What do you mean by table N? Didnt get u."}, {"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "reply_to_user": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522872173, "post_id": 49659217, "comment_id": 86328420, "body": "table1, tabke2, etc"}, {"owner": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522872611, "post_id": 49659217, "comment_id": 86328665, "body": "Then how instead of this?"}, {"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "reply_to_user": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522872727, "post_id": 49659217, "comment_id": 86328732, "body": "Read up on the concepts of dictionary.  Create one. When you read a line, find the appropriate DataTable in the dictionary. If it doesn&#39;t exist, add one and fill it."}], "tags": [], "owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "is_accepted": false, "score": 0, "last_activity_date": 1522871143, "creation_date": 1522871143, "answer_id": 49659217, "question_id": 49659180, "link": "https://stackoverflow.com/questions/49659180/fetch-data-from-text-file-having-different-tables-and-join-c/49659217#49659217", "title": "Fetch data from text file having different tables and join c#", "body": "<p>I would indeed create 20 DataTables, but I would store them in a dictionary for easy access. It will also make your program more flexible.</p>\n\n<p>So the data type to use:</p>\n\n<pre><code>Dictionary&lt;string, DataTable&gt;\n</code></pre>\n\n<p>More on <a href=\"https://msdn.microsoft.com/en-us/library/xfhwa508(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Dictionary&lt;TKey, TValue&gt;</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522874859, "creation_date": 1522874859, "answer_id": 49660164, "question_id": 49659180, "link": "https://stackoverflow.com/questions/49659180/fetch-data-from-text-file-having-different-tables-and-join-c/49660164#49660164", "title": "Fetch data from text file having different tables and join c#", "body": "<p>Are the columns of each of the tables the same? <code>DeptId</code> <code>DeptHead</code>, etc exist in each of the tables? And are these columns 'fixed' (ie you can't just arbitrarily get a column name that you're not expecting)? If so, I would create a class structure to represent the columns, and one column titled <code>TableId</code>, and import the data into that, either in memory as a List or persist to a database.</p>\n\n<p>It looks like you are trying to do aggregate functions on the data (group by TableId), so I feel this would be the easiest way</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522938476, "post_id": 49662215, "comment_id": 86360573, "body": "Thank u for the help. But I think for join it will be easy to use the dictionary and then take table data from the key which is TableName and then join all the three tables like that using AsEnumerable()."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "edited": false, "score": 0, "creation_date": 1522967863, "post_id": 49662215, "comment_id": 86376830, "body": "@sixsigma And pre-program the joining column names for each table?"}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1522886991, "last_edit_date": 1522886991, "creation_date": 1522886642, "answer_id": 49662215, "question_id": 49659180, "link": "https://stackoverflow.com/questions/49659180/fetch-data-from-text-file-having-different-tables-and-join-c/49662215#49662215", "title": "Fetch data from text file having different tables and join c#", "body": "<p>I am assuming that you only need to keep one value from any overlapping column names between tables. I am assuming the first table in the file can be used to source the primary keys for the common, final table. I assume there is only one common field between linked tables using the same name as the foreign key.</p>\n\n<p>I wrote the code to be completely dynamic. I am assuming you need the intermediate <code>DataTable</code>s as well as the final combined <code>DataTable</code>, otherwise you could just dynamically map the incoming data into records and then combine them into the final <code>DataTable</code>.</p>\n\n<p>My approach is to use LINQ to convert the text file lines into anonymous objects and then process the objects to extract all table names, then column names for each table and build the <code>DataTable</code>s and load the data into each one.</p>\n\n<p>I build a common <code>DataTable</code> based on all the column names for all the tables.</p>\n\n<p>Then I find the common field between each table (assuming one). I index the <code>DataTable</code>s by the common (foreign key) field so I can easily lookup the rows (e.g. home grown join implementation) and then join each record into one combined record and put it into the combined table.</p>\n\n<pre><code>// load textfile and convert lines into objects\n//  var inFile = File.ReadLines(...);\nvar inData = inFile.Select(line =&gt; line.Split('\\t'))\n                   .Select(lineArray =&gt; new {\n                       TableName = lineArray[0],\n                       PrimaryKey = lineArray[1],\n                       ColName = lineArray[2],\n                       ColValue = lineArray[3],\n                   });\n\n// Buld a dictionary of tables and their columns\nvar tableColNames = inData.Select(r =&gt; new { r.TableName, r.ColName })\n                          .Distinct()\n                          .GroupBy(r =&gt; r.TableName, r =&gt; r.ColName)\n                          .ToDictionary(rg =&gt; rg.Key, rg =&gt; rg.Select(r =&gt; r).ToList());\nvar tableNames = tableColNames.Keys.ToList();\n\n// build all of the tables into a dictionary of tables\nvar dataTables = new Dictionary&lt;string, DataTable&gt;();\nforeach (var tableName in tableNames) {\n    var aTable = new DataTable(tableName);\n    var primaryKeyCol = new DataColumn(\"PrimaryKey\");\n    aTable.Columns.Add(primaryKeyCol);\n    aTable.PrimaryKey = new[] { primaryKeyCol };\n    foreach (var colName in tableColNames[tableName]) {\n        aTable.Columns.Add(new DataColumn(colName));\n    }\n    dataTables[tableName] = aTable;\n}\n\n// load all of the tables with their data\nforeach (var aTable in dataTables.Values) {\n    var inRows = inData.Where(r =&gt; r.TableName == aTable.TableName)\n                       .GroupBy(r =&gt; r.PrimaryKey);\n    foreach (var row in inRows) {\n        var newRow = aTable.NewRow();\n        newRow[\"PrimaryKey\"] = row.Key;\n        foreach (var col in row)\n            newRow[col.ColName] = col.ColValue;\n        aTable.Rows.Add(newRow);\n    }\n}\n\n// build the combined table with all columns\nvar combinedTable = new DataTable();\nforeach (var aTable in dataTables.Values)\n    combinedTable.Columns.AddRange(aTable.DataColumns()\n                                         .Where(dc =&gt; !combinedTable.ColumnNames()\n                                                                    .Contains(dc.ColumnName))\n                                         .Select(dc =&gt; new DataColumn(dc.ColumnName))\n                                         .ToArray());\n\n// find and index the common columns between tables\nvar commonColNames = new Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;(); // [TableName]=&gt;[LinkedTableName]=&gt;ColumnName\nvar indexes = new Dictionary&lt;string, Dictionary&lt;string, DataRow&gt;&gt;(); // [TableName]=&gt;[ColumnValue]=&gt;DataRow\nfor (int j1 = 0; j1 &lt; tableNames.Count; ++j1) { // foreach table, find its linked tables\n    var startTableName = tableNames[j1];\n    var startTable = dataTables[startTableName];\n    var startTableColNames = startTable.NonPrimaryKeyColumnNames().ToList();\n    var linkedTables = tableNames.Skip(j1 + 1) // only find links to later tables\n                                     .Select(n =&gt; (TableName: n, CommonColName: startTableColNames.Intersect(dataTables[n].ColumnNames()).SingleOrDefault()))\n                                     .Where(tc =&gt; tc.CommonColName != null);\n\n    if (linkedTables.Count() &gt; 0) { // if it has linked tables, save the linking column and index that column\n        var linkingColNames = new Dictionary&lt;string, string&gt;(); // [LinkedTableName]=&gt;ColumnName\n        foreach (var linkedTable in linkedTables) {\n            linkingColNames.Add(linkedTable.TableName, linkedTable.CommonColName);\n            if (!indexes.ContainsKey(linkedTable.TableName)) { // only build indexes once per linking column\n                var colIndex = dataTables[linkedTable.TableName].AsEnumerable()\n                                                                  .Select(r =&gt; (Key: r.Field&lt;string&gt;(linkedTable.CommonColName), DataRow: r))\n                                                                  .ToDictionary(t =&gt; t.Key, t =&gt; t.DataRow);\n                indexes.Add(linkedTable.TableName, colIndex);\n            }\n        }\n        commonColNames[startTableName] = linkingColNames;\n    }\n}\n\n// combine the tables starting with the first table\nvar firstTableName = tableNames[0];\nvar firstTable = dataTables[firstTableName];\nvar firstTableColNames = firstTable.ColumnNames().ToList();\n// foreach DataRow in the first table\nforeach (var r1 in firstTable.AsEnumerable()) {\n    var newRow = combinedTable.NewRow();\n    // load the first table DataRow into the combined DataRow\n    newRow.CopyColumnValues(r1, firstTableColNames);\n\n    // find all the linked tables and merge their DataRows into the combined DataRow\n    var linkedTableNamesStack = new Stack&lt;(string TableName, string LinkedTableName)&gt;();\n    linkedTableNamesStack.PushRange(commonColNames[firstTableName].Keys.Select(ltn =&gt; (firstTableName,ltn)));\n    while (linkedTableNamesStack.Count &gt; 0) {\n        var nextTableLink = linkedTableNamesStack.Pop();\n        if (commonColNames.TryGetValue(nextTableLink.LinkedTableName, out var linkedTables))\n            linkedTableNamesStack.PushRange(linkedTables.Keys.Select(ltn =&gt; (nextTableLink.LinkedTableName,ltn)));\n        var linkingColName = commonColNames[nextTableLink.TableName][nextTableLink.LinkedTableName];\n        var linkingColValue = newRow.Field&lt;string&gt;(linkingColName);\n        var linkedRow = indexes[nextTableLink.LinkedTableName][linkingColValue];\n        newRow.CopyColumnValues(linkedRow, linkedRow.Table.NonPrimaryKeyColumnNames());\n    }\n    combinedTable.Rows.Add(newRow);\n}\n</code></pre>\n\n<p>Here are the extension methods used:</p>\n\n<pre><code>public static class Ext {\n    public static IEnumerable&lt;string&gt; NonPrimaryKeyColumnNames(this DataTable aTable) =&gt; aTable.ColumnNames().Where(n =&gt; n != \"PrimaryKey\");\n\n    public static IEnumerable&lt;DataColumn&gt; DataColumns(this DataTable aTable) =&gt; aTable.Columns.Cast&lt;DataColumn&gt;();\n    public static IEnumerable&lt;string&gt; ColumnNames(this DataTable aTable) =&gt; aTable.DataColumns().Select(dc =&gt; dc.ColumnName);\n    public static void CopyColumnValues(this DataRow dest, DataRow src, IEnumerable&lt;string&gt; colNames) {\n        foreach (var colName in colNames)\n            dest[colName] = src[colName];\n    }\n\n    public static void PushRange&lt;T&gt;(this Stack&lt;T&gt; s, IEnumerable&lt;T&gt; Ts) =&gt; Ts.ForEach(aT =&gt; s.Push(aT));\n    public static void ForEach&lt;T&gt;(this IEnumerable&lt;T&gt; source, Action&lt;T&gt; action) {\n        foreach (var s in source)\n            action(s);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9598749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded091e986ecff37fd3e5ad67cf7aa91?s=128&d=identicon&r=PG&f=1", "display_name": "sixsigma", "link": "https://stackoverflow.com/users/9598749/sixsigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522886991, "creation_date": 1522870977, "question_id": 49659180, "link": "https://stackoverflow.com/questions/49659180/fetch-data-from-text-file-having-different-tables-and-join-c", "title": "Fetch data from text file having different tables and join c#", "body": "<p>I have text file in the below format:</p>\n\n<pre><code>Table1  1   Name      John\nTable1  1   SId       110\nTable1  1   City      NewYork\nTable1  2   Name      Abc\nTable1  2   SId       111\nTable1  2   City      Paris\nTable2  1   SId       110\nTable2  1   DeptName  HR\nTable2  1   DeptId    00001\nTable2  2   SId       111\nTable2  2   DeptName  Dev\nTable2  2   DeptId    00002\nTable3  1   DeptId    00001\nTable3  1   DeptHead  Adam\nTable3  2   DeptId    00002\nTable3  2   DeptHead  Nik\n</code></pre>\n\n<p>First column is the table name then primary key then actual column name of table and then the column value. As per the above example Table1 have 3 columns which are Name,SId,City. There are 2 rows for Table1 which we can get using the value 1 and 2(primary keys). Same way goes for Table2 and Table3.<br>\nI have to fetch all the details from the file and then first join Table1 and Table2 rows using SId and then with Table3 using DeptId to create one common record.Likewise there are thousands of entries in the text file. There are also around 20 tables. The above is just an example.</p>\n\n<p>Till now I have created a a class</p>\n\n<pre><code> public class Student\n {\n    public string TableName { get; set; }\n    public string ColumnName { get; set; }\n    public string ColumnValue { get; set; }\n    public int PrimaryKey { get; set; }\n }\n\npublic class Program\n{\n    private static bool IsAllColumnsExist(DataTable tableNameToCheck, List&lt;string&gt; columnsNames)\n    {\n        var iscolumnExist = true;\n        if (tableNameToCheck != null &amp;&amp; tableNameToCheck.Columns != null)\n        {\n            foreach (string columnName in columnsNames)\n            {\n                if (!tableNameToCheck.Columns.Contains(columnName))\n                {\n                    iscolumnExist = false;\n                    break;\n                }\n            }\n        }\n        else\n        {\n            iscolumnExist = false;\n        }\n        return iscolumnExist;\n    }\n\n    static void Main()\n    {\n        var table1 = new DataTable();\n        var table2 = new DataTable();\n        var table3 = new DataTable();\n\n        var tablesData = (from line in File.ReadLines(@\"C:\\Console.txt\")\n                           let values = line.Split('\\t')\n                           select new Toyo\n                           {\n                               TableName = values[0].ToString(),\n                               PrimaryKey = Convert.ToInt32(values[1]),\n                               ColumnName = values[2].ToString(),\n                               ColumnValue = values[3].ToString()\n                           }).ToList();\n\n\n\n        var groupedData = tablesData.GroupBy(x =&gt; new { x.TableName,x.PrimaryKey }).ToList();\n        foreach (var tableData in groupedData)\n        {\n            var primaryKey = tableData.Select(x =&gt; x.PrimaryKey).First();\n            var columnNames = tableData.Select(x =&gt; x.ColumnName).ToList();\n            var columnValues = tableData.Select(x =&gt; x.ColumnValue).ToList();\n            if (tableData.All(x =&gt; x.TableName == \"Table1\"))\n            {\n                if (!IsAllColumnsExist(table1, columnNames))\n                {\n                    table1.Columns.AddRange(new DataColumn[4]\n                    {\n                        new DataColumn(\"pkTable1\", typeof(int)),\n                        new DataColumn(columnNames[0], typeof(string)),\n                        new DataColumn(columnNames[1], typeof(string)),\n                        new DataColumn(columnNames[2], typeof(string))\n                    });\n                }\n                table1.Rows.Add(primaryKey, columnValues[0], columnValues[1], columnValues[2]);\n            }\n            else if (tableData.All(x =&gt; x.TableName == \"Table2\"))\n            {\n                if (!IsAllColumnsExist(table2, columnNames))\n                {\n                    table2.Columns.AddRange(new DataColumn[4]\n                    {\n                        new DataColumn(\"pkTable2\", typeof(int)),\n                        new DataColumn(columnNames[0], typeof(string)),\n                        new DataColumn(columnNames[1], typeof(string)),\n                        new DataColumn(columnNames[2], typeof(string))\n                    });\n                }\n                table2.Rows.Add(primaryKey, columnValues[0], columnValues[1], columnValues[2]);\n            }\n            else if (tableData.All(x =&gt; x.TableName == \"Table3\"))\n            {\n                if (!IsAllColumnsExist(table3, columnNames))\n                {\n                    table3.Columns.AddRange(new DataColumn[3]\n                    {\n                        new DataColumn(\"pkTable3\", typeof(int)),\n                        new DataColumn(columnNames[0], typeof(string)),\n                        new DataColumn(columnNames[1], typeof(string))\n                    });\n                }\n                table3.Rows.Add(primaryKey, columnValues[0], columnValues[1]);\n            }\n        }\n\n\n        var result = (from firstTable in table1.AsEnumerable()\n                      join secondTable in table2.AsEnumerable() on firstTable.Field&lt;string&gt;(\"SId\") equals secondTable.Field&lt;string&gt;(\"SId\")\n                      join thirdTable in table3.AsEnumerable() on secondTable.Field&lt;string&gt;(\"DeptId\") equals thirdTable.Field&lt;string&gt;(\"DeptId\")\n                      select new\n                      {\n                          Name = firstTable.Field&lt;string&gt;(\"Name\"),\n                          StudentId = firstTable.Field&lt;string&gt;(\"SId\"),\n                          City = firstTable.Field&lt;string&gt;(\"City\"),\n                          DepartmentName = secondTable.Field&lt;string&gt;(\"DeptName\"),\n                          DepartmentId = secondTable.Field&lt;string&gt;(\"DeptId\"),\n                          DepartmentHead = thirdTable.Field&lt;string&gt;(\"DeptHead\")\n                      }).ToList();\n    }\n}\n</code></pre>\n\n<p>But in this way I have to create data table for each table. And in my exact problem there are around 20 tables which will make it to bad code to create 20 data tables as above.</p>\n\n<p>Is there a better way to do this?\nAny help?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "tfs", "tfs-sdk", "azure-devops-rest-api"], "answers": [{"comments": [{"owner": {"reputation": 2843, "user_id": 165713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98d4242c872913f1d9c6e3fc37c529d9?s=128&d=identicon&r=PG", "display_name": "Chris Long", "link": "https://stackoverflow.com/users/165713/chris-long"}, "edited": false, "score": 1, "creation_date": 1522879043, "post_id": 49659821, "comment_id": 86331822, "body": "Is <code>ts</code> on the last line supposed to be <code>teamService</code>?"}, {"owner": {"reputation": 1, "user_id": 9598761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283ada2c4858dccf4793a4523c6c57c8?s=128&d=identicon&r=PG&f=1", "display_name": "user9598761", "link": "https://stackoverflow.com/users/9598761/user9598761"}, "edited": false, "score": 1, "creation_date": 1522930926, "post_id": 49659821, "comment_id": 86354838, "body": "Thanks Chris, I was just about to ask that because teamService does not have any methods/properties of TeamFieldValues, so I&#39;d appreciate an answer on this as well."}, {"owner": {"reputation": 1, "user_id": 9598761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283ada2c4858dccf4793a4523c6c57c8?s=128&d=identicon&r=PG&f=1", "display_name": "user9598761", "link": "https://stackoverflow.com/users/9598761/user9598761"}, "edited": false, "score": 0, "creation_date": 1522931000, "post_id": 49659821, "comment_id": 86354890, "body": "It&#39;s the WebApi field, however notice that I&#39;m not using the WebApi structure.                                                                                       using Microsoft.TeamFoundation.Client; using Microsoft.TeamFoundation.Framework.Client; using Microsoft.TeamFoundation.Server; using Microsoft.VisualStudio.Services.Common;"}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "reply_to_user": {"reputation": 2843, "user_id": 165713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98d4242c872913f1d9c6e3fc37c529d9?s=128&d=identicon&r=PG", "display_name": "Chris Long", "link": "https://stackoverflow.com/users/165713/chris-long"}, "edited": false, "score": 0, "creation_date": 1522944557, "post_id": 49659821, "comment_id": 86364992, "body": "@ChrisLong yes, var ts = team.TeamSettings;"}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1609121909, "post_id": 49659821, "comment_id": 115752550, "body": "Where are you getting your <code>team</code> instance for <code>team.TeamSettings</code>? I&#39;m using the latest stable version of <a href=\"https://www.nuget.org/packages/Microsoft.VisualStudio.Services.Client\" rel=\"nofollow noreferrer\">the SDK</a>, and I&#39;m not finding it. Here&#39;s the <a href=\"https://stackoverflow.com/q/65472137/722393\">problem</a> I&#39;m trying to solve."}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "reply_to_user": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1609171707, "post_id": 49659821, "comment_id": 115766749, "body": "@InteXX look at the question, it is in there."}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1609186184, "post_id": 49659821, "comment_id": 115772184, "body": "Oops, I missed that\u2014thank you. But... those APIs appear to be from an outdated version (<code>TfsTeamProjectCollection</code>, <code>TfsTeamService</code>, etc.). Do you know of any sample using the latest stable version? One would think that adding an Area to a Team should be a simple task, but unfortunately so far it&#39;s proving otherwise."}], "tags": [], "owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1522944575, "last_edit_date": 1522944575, "creation_date": 1522873575, "answer_id": 49659821, "question_id": 49659129, "link": "https://stackoverflow.com/questions/49659129/tfs-2017-c-set-default-area/49659821#49659821", "title": "TFS 2017+, C#, set Default Area", "body": "<pre><code>var tfv = new TeamFieldValue();\nvar ts = team.TeamSettings;\ntfv.IncludeChildren = true;\ntfv.Value = \"\\\\\" + teamName;\nts.TeamFieldValues = new []{tfv};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1609120945, "post_id": 49770399, "comment_id": 115752395, "body": "Where are you getting these classes (<code>TfsTeamProjectCollection</code>, <code>TfsTeamService</code>, etc.)? I&#39;m trying to add an existing Area to an existing Team (<a href=\"https://stackoverflow.com/q/65472137\">stackoverflow.com/q/65472137</a>), but I&#39;m not having much luck. Perhaps you can assist."}], "tags": [], "owner": {"reputation": 28250, "user_id": 5475003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed59b990fdc2c28e25f954d1578ce70?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Chen - MSFT", "link": "https://stackoverflow.com/users/5475003/eddie-chen-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1523435995, "creation_date": 1523435995, "answer_id": 49770399, "question_id": 49659129, "link": "https://stackoverflow.com/questions/49659129/tfs-2017-c-set-default-area/49770399#49770399", "title": "TFS 2017+, C#, set Default Area", "body": "<pre><code>TfsTeamProjectCollection ttpc = new TfsTeamProjectCollection(new Uri(\"tfsuri\"));\nTfsTeamService teamService = ttpc.GetService&lt;TfsTeamService&gt;();\nICommonStructureService icss = ttpc.GetService&lt;ICommonStructureService&gt;();\nProjectInfo projectInfo = icss.GetProjectFromName(\"ProjectName\");\nvar newteam = teamService.CreateTeam(projectInfo.Uri, \"TeamName\", null, null);\nTeamSettingsConfigurationService tscs = ttpc.GetService&lt;TeamSettingsConfigurationService&gt;();\nIEnumerable&lt;Guid&gt; teamsid = new Guid[] {newteam.Identity.TeamFoundationId };\nvar teamsconfig = tscs.GetTeamConfigurations(teamsid);\nTeamConfiguration tc = teamsconfig.First();\nTeamFieldValue tfv = new TeamFieldValue();\ntfv.IncludeChildren = true;\ntfv.Value = \"AreaPath\";\ntc.TeamSettings.TeamFieldValues = new TeamFieldValue[] {tfv};\ntc.TeamSettings.BacklogIterationPath = \"IterationPath\";\ntscs.SetTeamSettings(tc.TeamId,tc.TeamSettings);  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9598761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283ada2c4858dccf4793a4523c6c57c8?s=128&d=identicon&r=PG&f=1", "display_name": "user9598761", "link": "https://stackoverflow.com/users/9598761/user9598761"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609186707, "creation_date": 1522870814, "last_edit_date": 1609186707, "question_id": 49659129, "link": "https://stackoverflow.com/questions/49659129/tfs-2017-c-set-default-area", "title": "TFS 2017+, C#, set Default Area", "body": "<p>I am working on creating a team in TFS using C# and the dll's provided. I'm having a hard time setting the default Area and could use some help.</p>\n<pre><code>VssCredentials vc = new VssCredentials(true);\nTfsTeamProjectCollection tpc = new TfsTeamProjectCollection(new Uri(TFS_CONNECTION_URL), vc);\ntpc.Authenticate();\n\nTfsTeamService teamService = tpc.GetService&lt;TfsTeamService&gt;();\nProjectInfo projectInfo = cssService.GetProjectFromName(TEAM_PROJECT_NAME);\nTeamFoundationTeam team = teamService.CreateTeam(projectInfo.Uri, teamName, teamDescription, null);\nICommonStructureService css = tpc.GetService&lt;ICommonStructureService&gt;();\n\nforeach (NodeInfo ni in css.ListStructures(projectInfo.Uri))\n{\n    //ProjectModelHierarchy is for areas\n    if (ni.StructureType.Equals(&quot;ProjectModelHierarchy&quot;))\n    {\n        string n0Uri = ni.Uri;\n        //creates the team name area under the top level team project area.\n        string n1Uri = css.CreateNode(teamName, n0Uri);\n    }\n}\n\n//AND HERE'S WHERE I WANT TO SET THE DEFAULT AREA\n//I have tried the following but it doesn't work\n//team.SetProperty(&quot;defaultArea&quot;, &quot;\\\\&quot; + teamName);\n</code></pre>\n<p>I have tried many combinations of the property name but to no avail.  And I assure you, this code above does create a team in my team project in TFS.</p>\n"}, {"tags": ["c#", "listview", "uwp", "toggle", "toggleswitch"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "edited": false, "score": 0, "creation_date": 1522925096, "post_id": 49664479, "comment_id": 86350761, "body": "Hello Mikael! THank you very much for your answer. I must admit that  most of the code you gave a an example I already had incorporated correctly before, except one: the onToggled event.  I couldn&#39;t figure out how to link each toggleSwitch with corresponding row and its data. Thank you very much."}, {"owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "edited": false, "score": 0, "creation_date": 1522927175, "post_id": 49664479, "comment_id": 86352176, "body": "there is only one more issue. My switches seem to be inverted. when i turn it on, the data disappears, when I turn it off, the data shows up..I must have messed up something"}], "tags": [], "owner": {"reputation": 10153, "user_id": 66988, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/05fa81c93980d288c39911a8bd06c27b?s=128&d=identicon&r=PG", "display_name": "Mikael Koskinen", "link": "https://stackoverflow.com/users/66988/mikael-koskinen"}, "is_accepted": true, "score": 1, "last_activity_date": 1522904627, "creation_date": 1522904627, "answer_id": 49664479, "question_id": 49659091, "link": "https://stackoverflow.com/questions/49659091/how-to-get-access-to-toggleswitch-instance-within-listview-in-c-uwp/49664479#49664479", "title": "How to get access to ToggleSwitch instance within ListView in C# UWP?", "body": "<p>Here's a sample which shows one way.</p>\n\n<p>In this example we have the following Product view model:</p>\n\n<pre><code>public class Product : INotifyPropertyChanged\n{\n    private string _name;\n\n    public string Name\n    {\n        get =&gt; _name;\n        set\n        {\n            if (value == _name) return;\n            _name = value;\n            OnPropertyChanged();\n        }\n    }\n</code></pre>\n\n<p>So just a single Name-property.</p>\n\n<p>Then we have MainPage where we create a collection of products:</p>\n\n<pre><code>    private void FrameworkElement_OnLoaded(object sender, RoutedEventArgs e)\n    {\n        var items = new ObservableCollection&lt;Product&gt;();\n        for (int i = 0; i &lt; 9; i++)\n        {\n            items.Add(new Product($\"item {i}\"));\n        }\n\n        this.Items.ItemsSource = items;\n    }\n</code></pre>\n\n<p>And the XAML which creates the view:</p>\n\n<pre><code>    &lt;ListView Loaded=\"FrameworkElement_OnLoaded\" x:Name=\"Items\"&gt;\n        &lt;ListView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition/&gt;\n                        &lt;ColumnDefinition/&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n\n                    &lt;TextBlock x:Name=\"RowContent\" Text=\"{Binding Name}\"/&gt;\n                    &lt;ToggleSwitch x:Name=\"Toggle\" Grid.Column=\"1\" Toggled=\"Toggle_OnToggled\"/&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>The result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YTqMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YTqMz.png\" alt=\"Starting situation\"></a></p>\n\n<p>Now we want to change the text when user toggles the switch. This is done in Toggle_OnToggled-event handler:</p>\n\n<pre><code>    private void Toggle_OnToggled(object sender, RoutedEventArgs e)\n    {\n        var toggle = (ToggleSwitch) sender;\n\n        var dataContext = ((Grid)toggle.Parent).DataContext;\n        var dataItem = (Product) dataContext;\n\n        dataItem.Name = $\"Toggled {toggle.IsOn}\";\n    }\n</code></pre>\n\n<p>So after a few toggles:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B28sf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B28sf.png\" alt=\"Toggle\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "is_accepted": false, "score": 0, "last_activity_date": 1522925289, "creation_date": 1522925289, "answer_id": 49670498, "question_id": 49659091, "link": "https://stackoverflow.com/questions/49659091/how-to-get-access-to-toggleswitch-instance-within-listview-in-c-uwp/49670498#49670498", "title": "How to get access to ToggleSwitch instance within ListView in C# UWP?", "body": "<p>Mikael Koskinen has delivered the answer to my problem.</p>\n\n<p>Most of my code was correct and identical to his solution, apart from the last bit that is OnToggled event handler.\nHere is the working andd correct handler:</p>\n\n<pre><code>private void Toggle_OnToggled(object sender, RoutedEventArgs e)\n    {\n        var toggle = (ToggleSwitch)sender;\n\n        var dataContext = ((Grid)toggle.Parent).DataContext;\n        var dataItem = (ScheduleList)dataContext;\n\n        ToggleTest.Text = dataItem.ProductId;\n    }\n</code></pre>\n\n<p>My previous version of handler didn't include the important bit, that is dataContext and dataItem. </p>\n\n<p>It works like a charm now.</p>\n"}], "owner": {"reputation": 317, "user_id": 8779797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5a384ecd0a6378483af96b66d92b3d44?s=128&d=identicon&r=PG&f=1", "display_name": "positive perspective", "link": "https://stackoverflow.com/users/8779797/positive-perspective"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 49664479, "answer_count": 2, "score": 0, "last_activity_date": 1522925289, "creation_date": 1522870707, "last_edit_date": 1522875685, "question_id": 49659091, "link": "https://stackoverflow.com/questions/49659091/how-to-get-access-to-toggleswitch-instance-within-listview-in-c-uwp", "title": "How to get access to ToggleSwitch instance within ListView in C# UWP?", "body": "<p>I opened the question <a href=\"https://stackoverflow.com/questions/49650256/multiple-toggleswitch-instances-get-same-data-from-the-list-listview-using-c-s/\">here</a> but we cannot come to the solution for my problem. I decided to create new question as we came to some assumptions and the former question does not refer to the real problem(we thought it is the problem with binding but as you will read on it is not).</p>\n\n<p>In few words I have a ListView with data from list called jointList.\nThe list is doing well and it has all the data necessary. (I checked it)</p>\n\n<p>On each row of the ListView I put a ToggleSwitch(in xaml) and then I try to do something with each of the switches.</p>\n\n<p>Each switch should correspond to the data from the same row.</p>\n\n<p>I created Toggled event that should apply to all toggleSwitches like this:</p>\n\n<pre><code>private void ToggleSwitch_Toggled(object sender, RoutedEventArgs e)\n    {\n\n        foreach (var product in jointList)\n        {\n\n            if (product.IsOn == true)\n            {\n                ToggleTest.Text = product.ProductId.ToString(); // this is for testing only, later I would do something with the data retrieved\n                ToggleTest.Visibility = Visibility.Visible;\n            }\n            else\n            {\n                ToggleTest.Visibility = Visibility.Collapsed;\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>But this is making only one toggleSwitch work. It's the switch that corresponds to the last added product to the list ( I am guessing that it is refering to the last Id). The other switches return nothing as if the method was not iterating through the list correctly or as if there was only one switch hooked up.</p>\n\n<p>So, is it possible to get all switches up and running by using just one Toggled event as I attempt to do?</p>\n"}, {"tags": ["c#", "https", "ssis-2012"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1522871658, "post_id": 49659070, "comment_id": 86328090, "body": "Did you try using <code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;</code>? This will work."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 0, "creation_date": 1522871745, "post_id": 49659195, "comment_id": 86328149, "body": "The only choices are <code>Tls</code> or <code>Ssl3</code>. There are no other choices. If I comment out the line and don&#39;t use it at all, same error message."}, {"owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "reply_to_user": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 0, "creation_date": 1522871882, "post_id": 49659195, "comment_id": 86328242, "body": "well thats unexpected."}, {"owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "reply_to_user": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 0, "creation_date": 1522871964, "post_id": 49659195, "comment_id": 86328292, "body": "is your SQL version SQL Server 2012 SP2\t11.0.5644.2 or higher?"}, {"owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "reply_to_user": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 1, "creation_date": 1522872033, "post_id": 49659195, "comment_id": 86328334, "body": "i can almost guarantee you need an update on your SSIS data tools/Server"}, {"owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "reply_to_user": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 0, "creation_date": 1522872052, "post_id": 49659195, "comment_id": 86328348, "body": "<a href=\"https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/3135244/&hellip;</a>"}, {"owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "reply_to_user": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 0, "creation_date": 1522872390, "post_id": 49659195, "comment_id": 86328547, "body": "Install newer version (2.5.0.10728 or higher) and use System Default for SSLS/TLS if you have .net framework 4.5 or higher installed. This option is the easiest way to enable TLS 1.2 Support.  If above is not working for you for some reason then try to select TLS 1.1 or Higher option from the Dropdown on the Advanced Tab.   JSON Source, REST API Task, Web API Destination and XML Source all supports below setting on Advanced Tab"}, {"owner": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "edited": false, "score": 1, "creation_date": 1522930275, "post_id": 49659195, "comment_id": 86354394, "body": "Thanks Michael!!  That was it!! Once I finally got SSDT updated it ran the first time."}], "tags": [], "owner": {"reputation": 1658, "user_id": 1179388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9cfd3393d39026fe60862a924f4127c1?s=128&d=identicon&r=PG", "display_name": "MichaelEvanchik", "link": "https://stackoverflow.com/users/1179388/michaelevanchik"}, "is_accepted": true, "score": 1, "last_activity_date": 1522872449, "last_edit_date": 1522872449, "creation_date": 1522871061, "answer_id": 49659195, "question_id": 49659070, "link": "https://stackoverflow.com/questions/49659070/connecting-to-restful-site-using-script-task/49659195#49659195", "title": "Connecting to RESTful site using Script Task", "body": "<pre><code>System.Net.ServicePointManager.SecurityProtocol = (System.Net.SecurityProtocolType)3072;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5847196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce49bcbeffca7919bc1cafa0435e7f8b?s=128&d=identicon&r=PG&f=1", "display_name": "kwhauser", "link": "https://stackoverflow.com/users/5847196/kwhauser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 49659195, "answer_count": 1, "score": 0, "last_activity_date": 1522872449, "creation_date": 1522870578, "question_id": 49659070, "link": "https://stackoverflow.com/questions/49659070/connecting-to-restful-site-using-script-task", "title": "Connecting to RESTful site using Script Task", "body": "<p>I have been trying various combinations of <code>HttpWebRequest</code> objects (in SSIS) to connect to webservices geocoding site to pull back individual geocoding information with no luck. This is a JSON response and <code>https</code> URL. </p>\n\n<pre><code>        string wUrl = \"https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress?address=1600+Pennsylvania+Ave+NW,+Washington,+DC,+20500&amp;benchmark=Public_AR_Current&amp;vintage=4&amp;format=json\";\n        X509Certificate cert = X509Certificate.CreateFromCertFile(\"C:\\\\Users\\\\kwhauser\\\\geocode.cer\");\n\n        HttpWebRequest httpWReq = (HttpWebRequest)WebRequest.Create(wUrl);\n        //WebRequest httpWReq = WebRequest.Create(wUrl);\n        //httpWReq.Method = \"GET\";\n        httpWReq.ClientCertificates.Add(cert);\n        //httpWReq.ContentType = \"application/json\";\n\n        //ServicePointManager.ServerCertificateValidationCallback = (s, cert, chain, ssl) =&gt; true;\n        //ServicePointManager.Expect100Continue = true;\n        ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls;\n\n        //HttpWebResponse httpWResp = (HttpWebResponse)httpWReq.GetResponse();\n        //HttpWebResponse response = (HttpWebResponse)httpWReq.GetResponse();\n        try\n        {\n            HttpWebResponse response = (HttpWebResponse)httpWReq.GetResponse();\n            //WebResponse response = httpWReq.GetResponse();\n            //Stream responseStream = response.GetResponseStream();\n\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.ToString());\n            if (ex.InnerException != null)\n                MessageBox.Show(\" InnerException: \" + ex.InnerException.Message);\n\n        }\n</code></pre>\n\n<p>It doesn't matter if I try to load cert from file or use the callback one, I still get the same error message:</p>\n\n<pre><code>System.Net.WebException: The request was aborted: Could not create SSL/TLS secure channel.\n</code></pre>\n\n<p>DotNet framework version is 4.7. The site expects TLS12. I've added simple REST Client extension to chrome and tested the URL with success. It fails on the <code>GetResponse</code>.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "arrays", "list"], "comments": [{"owner": {"reputation": 1021, "user_id": 3335118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s22sH.png?s=128&g=1", "display_name": "theGleep", "link": "https://stackoverflow.com/users/3335118/thegleep"}, "edited": false, "score": 0, "creation_date": 1522870896, "post_id": 49659068, "comment_id": 86327626, "body": "If I understand correctly, you&#39;re needing to fill an array of 100 elements with random red/yellow/white values?  You could (as a VERY pseudocode example): loop array[1...100] = (Math.Random()*10) % 3"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522870897, "post_id": 49659068, "comment_id": 86327630, "body": "Where/how do you assign a color? Or do you mean you want to print each item in a certain color/"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1522870922, "post_id": 49659068, "comment_id": 86327641, "body": "You could create an array for the colors <code>string[] colors = { &quot;Red&quot;, &quot;Yellow&quot;, &quot;White&quot; };</code> and then you can get the color for any given index by using the modulo operator <code>string color = colors[index % 3];</code>"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1522870936, "post_id": 49659068, "comment_id": 86327653, "body": "Where are your colors and how do they relate to a number?  Also, do you want your &quot;random number array&quot; to have every number from 0-100 in a random order?  Or 100 randomly generated numbers that range from 0-100?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1522871084, "post_id": 49659068, "comment_id": 86327740, "body": "How on earth can you mark as a duplicate when there is very little detail provided from OP?  I am voting to reopen until more details are provided.  Hopefully others will follow"}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522871989, "post_id": 49659068, "comment_id": 86328307, "body": "Yes I have numbers ranging from 1 - 100 and they are randomized. Based on their position, I need to assign the random numbers color values so I can sort later. So lets say the 1st few elements are 84, 28, 32, 46, 17 then I would want 84 = red, 28=yellow, 32=white, 46=red, 17=yellow and continue from there throughout the entirety of the array. Does that give a better idea of what I&#39;m trying to do?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1522872937, "post_id": 49659068, "comment_id": 86328837, "body": "@PatrickArtner: I agree about this not being a dupe of the other question. It is not clear what OP is asking, though. One could see this as a &quot;finish my assignment&quot; request."}, {"owner": {"reputation": 18939, "user_id": 2756409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UIrGI.jpg?s=128&g=1", "display_name": "TylerH", "link": "https://stackoverflow.com/users/2756409/tylerh"}, "edited": false, "score": 0, "creation_date": 1522874243, "post_id": 49659068, "comment_id": 86329495, "body": "@JusteasyStackAttacka Do you have any code yet for the part that does the assignment of color values to numbers?"}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522874874, "post_id": 49659068, "comment_id": 86329851, "body": "Olaf - no I am simply asking for an idea of what I should use. I&#39;ve been looking for references of what could help me to achieve this but I can&#39;t seem to find a way to do this so I figured I would ask for assistance in pointing me in the right direction. I thought that was what Stack overflow was all about? I thought about multidimensional arrays but wasn&#39;t sure that would be the way to do it. After this I still have to add and remove elements and sort them in other ways. This is just one point I am stuck at right now."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1522877684, "post_id": 49659068, "comment_id": 86331255, "body": "This question is too broad. You&#39;re asking for two separate things: How to A) create a list of numbers comprising all the the numbers from a set, with no duplicates, but in a random order and B) assign a value (selected from a set smaller than the # in the list) to a list item based on the position of the item in the set and the list. At an absolute minimum, the question is too broad, just because it&#39;s asking for both. Frankly, there are probably multiple duplicates for these two separate tasks."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1522878103, "post_id": 49659068, "comment_id": 86331444, "body": "&quot;I am simply asking for an idea of what I should use&quot; - That&#39;s exactly what makes your question OT beyond asking two questions at once. It is clearly part of your assignment to figure out how to accomplish your task. That&#39;s a major part of programming. Copy&amp;paste is <b>not programming</b>."}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "reply_to_user": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1522878342, "post_id": 49659068, "comment_id": 86331542, "body": "@Makyen - Well I generated the array with numbers ranging from 1 to 100. Then I randomized these numbers within the array. Now I need to assign the numbers a color based on their position in the array. There can only be three colors but need to be assigned sequentially from 0 to 99 to the elements of the array so if the first element [0] was number 84 the color needed to be assigned would be red to the first element in the array which is number 84. the next element [1] number 27 should be yellow and the third element [2] number 56 should be white."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1522878587, "post_id": 49659068, "comment_id": 86331642, "body": "@JusteasyStackAttacka: Instead of repeating what you already wrote in the text, how about writing the code? If you have that much trouble, yyou should ask your tutor, it&#39;s his job to help you. That way he might be able to adjust the course material/didactics."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1522879767, "post_id": 49659068, "comment_id": 86332145, "body": "@JusteasyStackAttacka I actually voted to close as &quot;unclear&quot;, because exactly what you wanted isn&#39;t clear to me. In part, that&#39;s because the representation which you want to end up with is completely unspecified. It&#39;s not even clear why you need to &quot;assign&quot; the color values to each entry. From what you&#39;ve stated, the value assigned is completely dependent upon the index into the array. This means it&#39;s just as easy to have a function which returns the value based on the index, as it it to pre-compute each of those assignments. Depending on what you&#39;re doing, it&#39;s arguably better."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1522879831, "post_id": 49659068, "comment_id": 86332168, "body": "So, please <a href=\"https://stackoverflow.com/posts/49659068/edit\">edit</a> to clarify what the end result is that you desire. Frankly, this sounds like a homework assignment. There&#39;s nothing inherently wrong with that, it&#39;s just you appear to be giving us your interpretation of what&#39;s required rather than telling us whats actually required."}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1522879834, "post_id": 49659068, "comment_id": 86332173, "body": "@Olaf I am not currently in any courses so unfortunately I don&#39;t have any tutor to refer to. I already have my BSIT with a concentration in Software engineering, have had 2 years experience developing in SharePoint and web development and have already taken more courses on the Microsoft Stack prepping towards the Microsoft Certs. This is not an assignment for college or any other course its just I am developing more in C# now and trying to find the right approach to complete this objective."}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522880190, "post_id": 49659068, "comment_id": 86332297, "body": "@Myken the reason I am trying to assign values to the random numbers is because I need remove elements later that pertain to evens and odds and what color the numbers are assigned as well as numbers divisible by another number then to sort remaining elements and display results. That is why assigning color values to the randomized numbers within the array is essential. Does that make sense?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1522881062, "post_id": 49659068, "comment_id": 86332604, "body": "@JusteasyStackAttacka: Honestly: If I had to ask such a question, I wouldn&#39;t point others at my certs or even that I work in this job since two years. Just in case one of my former teachers read it. Anyway, you seem to have found a cucumber, so be happy someone did your job <i>this time</i>. I&#39;ll leave it here."}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1522881389, "post_id": 49659068, "comment_id": 86332719, "body": "@Olaf Sorry to somehow seeming to rub you the wrong way that was not my intention. I wasn&#39;t pointing at any certs of mine as I am working towards achieving them through prepping materials. I was merely pointing out the fact that I am not currently enrolled in any program that gives me use of a tutor and that this was not an assignment. I do appreciate you taking the time to diagnose the issue though so for that I thank you! =)"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522877538, "post_id": 49659681, "comment_id": 86331176, "body": "Yea I have come across using dictionary to map the elements but wasn&#39;t sure if I could use it to map the elements for what I needed to. I have also came across many different instances where people thought a list may be more plausible I just haven&#39;t seen many ways on randomizing numbers throughout a list without defining each list item, but I&#39;m sure there is a way to do so. The array was just the first enumerable I chose to populate the random values. Thanks for your input though Patrick. It is most appreciated! I will definitely be looking more into the dictionary for this solution."}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 1, "creation_date": 1522877711, "post_id": 49659681, "comment_id": 86331270, "body": "I can&#39;t upvote this post yet unfortunately because I don&#39;t have enough rep yet otherwise I would. =("}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522901957, "post_id": 49659681, "comment_id": 86337973, "body": "I was just looking over your code to read its flow and was just curious about your naming convention. I see you named the variable aktCol I figure Col is for color but what is akt? Is that an Acronym for something or is it non related?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522913152, "post_id": 49659681, "comment_id": 86342708, "body": "@JusteasyStackAttacka  actualColor - ie- the one currently applied - a bad name, but well :)"}, {"owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "edited": false, "score": 0, "creation_date": 1522956774, "post_id": 49659681, "comment_id": 86372041, "body": "Oh ok yea I thought that too but the k kind of through me off so I just thought I would ask."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 3, "last_activity_date": 1522913589, "last_edit_date": 1522913589, "creation_date": 1522872984, "answer_id": 49659681, "question_id": 49659068, "link": "https://stackoverflow.com/questions/49659068/assigning-numbers-in-the-list-a-color-based-on-position/49659681#49659681", "title": "Assigning numbers in the list a color based on position", "body": "<p>You dont need randomized number generation - simply generate the numbers 1 to 100 and shuffle them. That is much faster then generating hundreds of random numbers and throwing many away (especially towards the end you \"draw\" lots of already existent ones by random change and do not use them).</p>\n\n<p>I use poor mans shuffling by generating 100 Guids, taking theire HashCode and order the generated \nnumnbers by them - thats semi random enough me thinks. </p>\n\n<p>The mapping to colors I solved by generating a dictionary that maps each generated number (in order) \nto a color represented as an enum value. The current enum value is shifted with an static extension method I call after each assignment.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Linq;\n\npublic enum Col { Red, Yellow, White }\n\npublic static class ColExtension\n{\n    // Poor mans wrap around iterator for this enum: Red -&gt; Yellow -&gt; White -&gt; Red ...\n    public static Col Next(this Col col)\n    {\n        if (col == Col.Red)\n            return Col.Yellow;\n        if (col == Col.Yellow)\n            return Col.White;\n        return Col.Red;\n    }\n}\n\ninternal class Program\n{\n    public static void Main(string[] args)\n    { \n        // create numbers ranging from 1 to 100. Pseudo-randomize order by ordering \n        // after randomized generated value\n        var numbers = Enumerable\n          .Range(1, 100).OrderBy(n =&gt; Guid.NewGuid().GetHashCode())\n          .ToArray();\n\n        // start-color for the first one\n        var aktCol = Col.Red;\n        var mapping = new Dictionary&lt;int, Col&gt;();\n        foreach (var number in numbers)\n        {\n            // assign first color\n            mapping[number] = aktCol;\n            // advance color \n            aktCol = aktCol.Next(); \n        }\n\n        foreach (var num in numbers)\n            Console.WriteLine($\"{num}, {mapping[num]}\");\n\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>66, Red\n24, Yellow\n36, White\n17, Red\n86, Yellow\n58, White\n44, Red\n27, Yellow\n47, White\n91, Red\n15, Yellow\n31, White\n18, Red\n25, Yellow\n3, White\n64, Red\n32, Yellow\n41, White\n67, Red\n11, Yellow\n72, White\n43, Red\n9, Yellow\n42, White\n84, Red\n23, Yellow\n95, White\n14, Red\n59, Yellow\n22, White\n2, Red\n76, Yellow\n81, White\n57, Red\n19, Yellow\n49, White\n80, Red\n55, Yellow\n13, White\n98, Red\n1, Yellow\n51, White\n12, Red\n90, Yellow\n37, White\n65, Red\n26, Yellow\n83, White\n82, Red\n61, Yellow\n56, White\n99, Red\n78, Yellow\n38, White\n71, Red\n40, Yellow\n29, White\n34, Red\n93, Yellow\n85, White\n96, Red\n39, Yellow\n100, White\n33, Red\n74, Yellow\n87, White\n75, Red\n92, Yellow\n5, White\n79, Red\n60, Yellow\n30, White\n77, Red\n4, Yellow\n70, White\n50, Red\n16, Yellow\n97, White\n94, Red\n63, Yellow\n10, White\n7, Red\n73, Yellow\n46, White\n28, Red\n45, Yellow\n88, White\n69, Red\n62, Yellow\n53, White\n54, Red\n89, Yellow\n8, White\n68, Red\n20, Yellow\n6, White\n21, Red\n48, Yellow\n35, White\n52, Red\n</code></pre>\n\n<p>Essentially you have a fast look-up dictionary for the colors depending on the number and an array for your numbers. I would switch to a List - but thats preference - you probably have a reason to use an array.</p>\n\n<hr>\n\n<p>If you want to avoid storing the color values explicitly you can also convert the position \"on the fly\" by leveraging <a href=\"https://msdn.microsoft.com/en-us/library/bb534869(v=vs.110).aspx\" rel=\"nofollow noreferrer\">linq and Select</a> using the overloads that provides the value and its index alongside:</p>\n\n<pre><code>    // local converter function - %3 gets the rest of div by 3 so 0=red, 1=yellow,...\n    // the %3 makes it wrap around and the enum parse converts it to the enum\n    Col ByIndexPos(int pos) =&gt; (Col)Enum.Parse(typeof(Col), $\"{pos % 3}\");\n\n    // On the fly color creation from index position:\n    foreach (var anon in numbers.Select( (v, pos) =&gt; \n        new { Color = ByIndexPos(pos), Value = v })\n    )\n        Console.WriteLine($\"{anon.Value}, {anon.Color}\");\n</code></pre>\n\n<p>This second approach will shift colors if you modify the base-arrays though - so if you need them to stay attached you could use the Dictionary approach.</p>\n\n<hr>\n\n<p><em>Edit</em> after reading some of the questions comments:</p>\n\n<p>If ypu need to postprocess your data you should create a POCO (Struct/Classs) to hold: Number, Position, Color and any other attribute you need for later sorting/manipulations and the methods to operate on this data - OOP to the rescue :)</p>\n"}], "owner": {"reputation": 51, "user_id": 6470809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L5nt.jpg?s=128&g=1", "display_name": "Justeasy StackAttacka", "link": "https://stackoverflow.com/users/6470809/justeasy-stackattacka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "closed_date": 1522876599, "accepted_answer_id": 49659681, "answer_count": 1, "score": 3, "last_activity_date": 1522913589, "creation_date": 1522870576, "last_edit_date": 1522872910, "question_id": 49659068, "link": "https://stackoverflow.com/questions/49659068/assigning-numbers-in-the-list-a-color-based-on-position", "closed_reason": "Needs more focus", "title": "Assigning numbers in the list a color based on position", "body": "<p>So here I needed an array to be filled with numbers ranging between 1 to 100. \n Then they also needed to be randomized. </p>\n\n<p>Now I'm trying to assign each of the items in the list a Color, Red, Yellow, and White. This is based on position within the array with 1=Red, 2=Yellow, 3=White and needs to repeat throughout the entire array(4=Red, 5=Yellow, etc.) </p>\n\n<p>I'm having trouble trying to find a way to do this. </p>\n\n<p>I looked into multidimensional arrays but I'm not quite sure that would work the way I need it to. I also thought maybe a for loop could achieve this.</p>\n\n<p>Or do I need to use a different enumerable to assign other values to numbers in an array. </p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        int[] x = new int[101];\n        Random r = new Random();\n\n        int i;\n        for (i = 0; i &lt; x.Length; i++)\n        {\n            var next = 0;\n            while (true)\n            {\n                next = r.Next(101);\n                if (!Contains(x, next)) break;\n            }\n\n            x[i] = next;\n            Console.WriteLine(\"x[{0}] = {1}\", i, x[i]);\n        }\n\n        Console.ReadLine();\n    }\n\n    static bool Contains(int[] array, int value)\n    {\n        for (int i = 0; i &lt; array.Length; i++)\n        {\n            if (array[i] == value) return true;\n        }\n        return false;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "reflection", "memberinfo"], "comments": [{"owner": {"reputation": 170, "user_id": 3630361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc72e8678c2f727dc678cc16080839?s=128&d=identicon&r=PG&f=1", "display_name": "Wearwolf", "link": "https://stackoverflow.com/users/3630361/wearwolf"}, "edited": false, "score": 0, "creation_date": 1522870441, "post_id": 49658929, "comment_id": 86327390, "body": "Use ts in your parallel.Foreach instead of classes?"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1522870959, "post_id": 49658929, "comment_id": 86327665, "body": "Yes it&#39;s possible but I&#39;ve found it to be cleaner and easier to manage breaking the parts down into readable variables then query. Note that as long as you don&#39;t move the query from IEnumerable to List etc it won&#39;t run until it&#39;s needed; in other words, it&#39;ll operate as one big query anyways so there&#39;s no difference.  However; if you&#39;re just trying to make it all one query just for kicks then go for it."}, {"owner": {"reputation": 882, "user_id": 1971447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76ca8ac9524875af4c917a01a92bc751?s=128&d=identicon&r=PG&f=1", "display_name": "P. Waksman", "link": "https://stackoverflow.com/users/1971447/p-waksman"}, "edited": false, "score": 0, "creation_date": 1522870995, "post_id": 49658929, "comment_id": 86327687, "body": "I see, I was trying to get the property from the linq directly without that ForEach, but not sure if it will be possible. Yeh, if it turn into a little monster, will be bad :(."}], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 1971447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76ca8ac9524875af4c917a01a92bc751?s=128&d=identicon&r=PG&f=1", "display_name": "P. Waksman", "link": "https://stackoverflow.com/users/1971447/p-waksman"}, "edited": false, "score": 0, "creation_date": 1522873728, "post_id": 49659326, "comment_id": 86329239, "body": "Damm, I need to remember me to use that sintax, Works great and isn&#39;t bad to read. Thanks"}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 2, "last_activity_date": 1522871526, "creation_date": 1522871526, "answer_id": 49659326, "question_id": 49658929, "link": "https://stackoverflow.com/questions/49658929/reflection-linq-to-get-all-properties-that-has-attribute-in-assembly/49659326#49659326", "title": "Reflection + Linq to get all properties that has Attribute in Assembly", "body": "<p>Let's break it down.</p>\n\n<p>Get all the types:</p>\n\n<pre><code>var types = System.AppDomain.CurrentDomain.GetAssemblies()\n    .SelectMany\n    ( \n        a =&gt; a.GetTypes() \n    );\n</code></pre>\n\n<p>For all the types, get all the properties:</p>\n\n<pre><code>var properties = types.SelectMany\n( \n    t =&gt; t.GetProperties() \n);\n</code></pre>\n\n<p>For all the properties, get those with the attribute you want:</p>\n\n<pre><code>var list = properties.Where\n( \n    p =&gt; p.GetCustomAttributes(typeof(Attribute), true).Any() \n);\n</code></pre>\n\n<p>All together:</p>\n\n<pre><code>var list= System.AppDomain.CurrentDomain.GetAssemblies()\n    .SelectMany( a =&gt; a.GetTypes() )\n    .SelectMany( t =&gt; t.GetProperties() )\n    .Where\n    ( \n        p =&gt; p.GetCustomAttributes(typeof(Attribute), true).Any() \n    );\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 1971447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76ca8ac9524875af4c917a01a92bc751?s=128&d=identicon&r=PG&f=1", "display_name": "P. Waksman", "link": "https://stackoverflow.com/users/1971447/p-waksman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 49659326, "answer_count": 1, "score": 0, "last_activity_date": 1522871526, "creation_date": 1522869972, "question_id": 49658929, "link": "https://stackoverflow.com/questions/49658929/reflection-linq-to-get-all-properties-that-has-attribute-in-assembly", "title": "Reflection + Linq to get all properties that has Attribute in Assembly", "body": "<p>I'm trying to get all properties that has a custom attribute in the assembly.\nI did it this way but I'm doing it with two steps that does the same validation.</p>\n\n<p>Ex:</p>\n\n<pre><code>abstract class XX\n\nclass Y1 : XX {\n   [MyCustomAttribute(Value = \"val A\")]\n   public int Something {get; set;}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>class Y2 : XX {\n   [MyCustomAttribute(Value = \"val A\")]\n   public int Another {get; set;}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>class Y3 : XX {\n   [MyCustomAttribute(Value = \"val B\")]\n   public int A1 {get; set;}\n\n   [MyCustomAttribute(Value = \"val C\")]\n   public int A2 {get; set;}\n</code></pre>\n\n<p>}</p>\n\n<p>So the list with all property in the assembly that has it</p>\n\n<pre><code>Something\nAnother\nA1\nA2\n</code></pre>\n\n<p>I'm getting it with this linq</p>\n\n<pre><code>string attrFilter = \"SomeValue\";\n\nvar ts = this.GetType().Assembly.GetTypes().ToList().FindAll(c =&gt; typeof(XX).IsAssignableFrom(c) &amp;&amp; !c.IsAbstract &amp;&amp; !c.IsInterface);\n\nvar classes = from classe in ts\n              where classe.GetProperties().ToList().FindAll(\n                      property =&gt; property.GetCustomAttributes(typeof(MyCustomAttribute), false).ToList().FindAll(\n                          att =&gt; typeof(MyCustomAttribute).IsAssignableFrom(att.GetType()) &amp;&amp; (att as MyCustomAttribute).Value == attrFilter\n                      ).Count &gt; 0\n                    ).Count &gt; 0\n              select classe;\n</code></pre>\n\n<p>this only give me the classes. So I need to extract the properties from each class</p>\n\n<pre><code>List&lt;PropertyInfo&gt; properties = new List&lt;PropertyInfo&gt;();\nParallel.ForEach(classes, classe =&gt; {\n    var props = classe.GetProperties().ToList();\n    var fks = from property in props\n              where property.GetCustomAttributes(typeof(MyCustomAttribute), false).ToList().FindAll(\n                          att =&gt; typeof(MyCustomAttribute).IsAssignableFrom(att.GetType()) &amp;&amp; (att as MyCustomAttribute).Value == attrFilter\n                      ).Count &gt; 0\n              select property;\n\n    fks.ToList().ForEach(p =&gt; properties.Add(p));\n});\n</code></pre>\n\n<p>As you can see, <strong>WHERE</strong> condition of the property linq is the same as the class query without the <strong>class list</strong>.</p>\n\n<p>I was wondering if would be possible to extract the property from the first linq query</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1522870002, "post_id": 49658851, "comment_id": 86327139, "body": "How are you calling the controller initially? Is it possible to handle the redirect after your client side receives a response?"}, {"owner": {"reputation": 737, "user_id": 4807652, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/Jynd3.jpg?s=128&g=1", "display_name": "Marlon Brando aka Ben", "link": "https://stackoverflow.com/users/4807652/marlon-brando-aka-ben"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1522870090, "post_id": 49658851, "comment_id": 86327184, "body": "isn&#39;t it possible to do this only from server side(from the controller). I&#39;m calling to the controller with user login"}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1522870141, "post_id": 49658851, "comment_id": 86327226, "body": "If that&#39;s a constraint for you then you should call it out in your question"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 3, "creation_date": 1522870160, "post_id": 49658851, "comment_id": 86327242, "body": "If Content-disposition: attachment; header is set (and it should be in your case)  - most browser will just download file ans stay on the same page, so redirection should not be necessary."}, {"owner": {"reputation": 737, "user_id": 4807652, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/Jynd3.jpg?s=128&g=1", "display_name": "Marlon Brando aka Ben", "link": "https://stackoverflow.com/users/4807652/marlon-brando-aka-ben"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522870456, "post_id": 49658851, "comment_id": 86327400, "body": "@EVk how can I do that with my case"}], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "is_accepted": false, "score": 0, "last_activity_date": 1522888991, "creation_date": 1522888991, "answer_id": 49662484, "question_id": 49658851, "link": "https://stackoverflow.com/questions/49658851/how-to-return-a-file-and-then-do-the-redirection-in-mvc-c-net-core-2-0/49662484#49662484", "title": "How to return a File and then do the redirection in mvc, c# , .net core 2.0", "body": "<p>You cannot turn one request (from requesting the <code>Login</code> action) into two for obvious reasons.</p>\n\n<p>Instead one solution (I don't have enough context to give more specific details) would be to have the Redirect go to your desired redirected page (so just ignore downloading the file), then have that page load, and have some Javascript in the page that then sends an Ajax call or a Form click to do a file download.</p>\n\n<p>There are many ways to do that download and it also depends if you want it to popup a <strong>Save As</strong> dialog or open inside the browser window (which I doubt as it would defeat the point of doing a download and redirect in your question).</p>\n\n<p>Presuming you want to download a file after the page loads and via Javascript I would dynamically create and inject a  and set its action to another MVC Action URL (like your GetFile action) and then do a form.submit() in Javascript to simulate redirecting and then having the file popup.</p>\n"}], "owner": {"reputation": 737, "user_id": 4807652, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/Jynd3.jpg?s=128&g=1", "display_name": "Marlon Brando aka Ben", "link": "https://stackoverflow.com/users/4807652/marlon-brando-aka-ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522888991, "creation_date": 1522869734, "last_edit_date": 1522876352, "question_id": 49658851, "link": "https://stackoverflow.com/questions/49658851/how-to-return-a-file-and-then-do-the-redirection-in-mvc-c-net-core-2-0", "title": "How to return a File and then do the redirection in mvc, c# , .net core 2.0", "body": "<p>what I want is <strong>when user click on a button in the view</strong>, should <strong>download</strong> an <code>xml file</code> and then should <strong>return</strong> to the the <strong>same view</strong>. </p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Login(LoginViewModel model) {\n\n  return RedirectToAction(nameof(getFile));\n}\n</code></pre>\n\n<p>I defined a new <code>IActionResult</code> and then <strong>returned</strong> a File like below.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; getFile()\n        {\n   byte[] fileBytes = System.IO.File.ReadAllBytes(\"myfile.xml\");\n   string filename = \"myfile.xml\";\n\n   return File(fileBytes, System.Net.Mime.MediaTypeNames.Application.Octet, filename);\n}\n</code></pre>\n\n<p>This download a file to the browser , but cannot do the redirection. is this possible. if this is not the correct way, then how can I do it using .net core 2.0. hope your help with this.</p>\n"}, {"tags": ["c#", "gridview", "devexpress", "summary", "time-format"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522869332, "post_id": 49658624, "comment_id": 86326790, "body": "Didn&#39;t quiet understand what you are asking for..Can u clarify ?"}, {"owner": {"reputation": 3, "user_id": 9234847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8bad467a198ea67865580ec283ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Burak Turhan", "link": "https://stackoverflow.com/users/9234847/burak-turhan"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522870036, "post_id": 49658624, "comment_id": 86327158, "body": "I&#39;m doing Click GridView and turn on the properties and OptionsView in ShowFooter activated I&#39;m trying columns cell format changed summaryitem to the displayformat for calculate columns cell."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522870116, "post_id": 49658624, "comment_id": 86327200, "body": "If you are a beginner with c# , then i suggest you rather <a href=\"https://chat.stackoverflow.com/rooms/168138/begin-with-vb\">join the chat</a>where i can help , because i cannot post an answer to this qs as it is not an ideal one ;("}, {"owner": {"reputation": 3, "user_id": 9234847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8bad467a198ea67865580ec283ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Burak Turhan", "link": "https://stackoverflow.com/users/9234847/burak-turhan"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522870267, "post_id": 49658624, "comment_id": 86327290, "body": "what format can I use to aggregate the format of the columns? I just want to know what format to use for the calculation."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522870312, "post_id": 49658624, "comment_id": 86327313, "body": "Give an example and an expected result"}, {"owner": {"reputation": 3, "user_id": 9234847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8bad467a198ea67865580ec283ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Burak Turhan", "link": "https://stackoverflow.com/users/9234847/burak-turhan"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522873285, "post_id": 49658624, "comment_id": 86329018, "body": "I want to get the sum of the hours HH: mm format in a GridView column. For example 08:00,02:00,04:00,08:30,01:00= 23:30 Total Hours"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522873736, "post_id": 49658624, "comment_id": 86329244, "body": "do u want this to happen inside the gridview itself ?? ..Dunno if it would work on devexpress gridview or not but try splitting the hour strings using <code>;</code> , then convert them to integers then sum up .. then finally add the summed up value to the grid.... Hope it helps :)"}, {"owner": {"reputation": 3, "user_id": 9234847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8bad467a198ea67865580ec283ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Burak Turhan", "link": "https://stackoverflow.com/users/9234847/burak-turhan"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522875204, "post_id": 49658624, "comment_id": 86330026, "body": "If you are using DevExpress know you the ShowFooter and summaryitem properties. I think it&#39;s easier. but need the time format :)"}], "owner": {"reputation": 3, "user_id": 9234847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8bad467a198ea67865580ec283ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Burak Turhan", "link": "https://stackoverflow.com/users/9234847/burak-turhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522878552, "creation_date": 1522868922, "last_edit_date": 1522878552, "question_id": 49658624, "link": "https://stackoverflow.com/questions/49658624/how-to-get-sum-of-gridview-columns-time-values", "title": "How to get sum of GridView column&#39;s time values", "body": "<p>I try to get the summary for the specific GridView's column and pass it to the TextEdit.<br>\nThe display format is time <code>HH:mm.ff</code> (<code>22:40</code>, <code>10:30</code>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/pOOxC.jpg\" alt=\"Summary Item settings\"><br>\n<img src=\"https://i.stack.imgur.com/qS9rz.jpg\" alt=\"My results\"></p>\n"}, {"tags": ["c#", "nhibernate", "orm", "queryover"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 1754943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160e4a5debe7298976c8ad6a439eb0b9?s=128&d=identicon&r=PG", "display_name": "Nico Pizzo", "link": "https://stackoverflow.com/users/1754943/nico-pizzo"}, "edited": false, "score": 1, "creation_date": 1522941135, "post_id": 49665470, "comment_id": 86362673, "body": "Thanks that worked however it sill seems to creates the same query then nhibernate filters out the data after the it is retrieved."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 1, "last_activity_date": 1522909574, "creation_date": 1522909574, "answer_id": 49665470, "question_id": 49658550, "link": "https://stackoverflow.com/questions/49658550/nhibernate-queryover-select-one-table-after-join/49665470#49665470", "title": "nhibernate QueryOver select one table after join", "body": "<p>One way would be, to use <strong><code>Transformers.DistinctRootEntity</code></strong> For example:</p>\n\n<pre><code>var query = Session.QueryOver(() =&gt; parentAlias)\n    .Left.JoinAlias(x =&gt; x.Children, () =&gt; childAlias)\n    .Where(whereClause)\n\n    // Here is the trick\n    .TransformUsing(Transformers.DistinctRootEntity)\n</code></pre>\n\n<p>See more in this Andrew Whitaker post:</p>\n\n<h3><a href=\"http://www.andrewwhitaker.com/blog/2014/06/19/queryover-series-part-4-transforming/\" rel=\"nofollow noreferrer\">QueryOver Series - Part 4: Transforming</a></h3>\n\n<p>The other way...</p>\n\n<p>Well, I would not go, in fact I do go, do not use this approach. My really proved way is to:</p>\n\n<ol>\n<li>Create query from Child and join parent (star schema)</li>\n<li>If we have to query parent\n\n<ul>\n<li>for filtering through child use <strong>subselects</strong></li>\n<li>for loading children in batches use mapping setting <strong><code>batch-size</code></strong></li>\n</ul></li>\n</ol>\n\n<p>The first is obvious, and because we query star schema, we can easily use paging</p>\n\n<p>The second would need some adjustments for filtering parent by child:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/23485652\">Fetching Paginated Entity with Collection</a></li>\n</ul>\n\n<p>For effective loading of child collection, we can profit from batch-size mapping. Check these:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/20970816\">How to Eager Load Associations without duplication in NHibernate?</a></li>\n<li><a href=\"https://stackoverflow.com/a/20999028\">How to implement batch fetching with Fluent NHibernate when working with Oracle?</a></li>\n</ul>\n"}], "owner": {"reputation": 105, "user_id": 1754943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160e4a5debe7298976c8ad6a439eb0b9?s=128&d=identicon&r=PG", "display_name": "Nico Pizzo", "link": "https://stackoverflow.com/users/1754943/nico-pizzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 49665470, "answer_count": 1, "score": 1, "last_activity_date": 1522909574, "creation_date": 1522868655, "question_id": 49658550, "link": "https://stackoverflow.com/questions/49658550/nhibernate-queryover-select-one-table-after-join", "title": "nhibernate QueryOver select one table after join", "body": "<p>So I am having issues selecting just the Parent entities as this will also return the Child entities.\nCurrently I have the following entities:</p>\n\n<pre><code>public class Parent\n{\n    public virtual string KeyPart1 { get; set; }\n    public virtual string KeyPart2 { get; set; }    \n    public virtual string KeyPart3 { get; set; }\n    public virtual string ParentProperty { get; set; }\n\n    public virtual ISet&lt;Child&gt; Children { get; set; } = new HashSet&lt;Child&gt;();\n}\n\npublic class Child\n{\n    public virtual string KeyPart1 { get; set; }\n    public virtual string KeyPart2 { get; set; }    \n    public virtual string KeyPart3 { get; set; }\n    public virtual string KeyPart4 { get; set; }\n    public virtual string ChildProperty { get; set; }\n}\n</code></pre>\n\n<p>And the actual Query:</p>\n\n<pre><code>Parent parentAlias = null;\nChild childAlias = null;\nvar query = Session.QueryOver(() =&gt; parentAlias)\n    .Left.JoinAlias(x =&gt; x.Children, () =&gt; childAlias)\n    .Where(whereClause);\n</code></pre>\n\n<p>This generates the a sql statement very similar to this:</p>\n\n<pre><code>SELECT\n    this_.KeyPart1 as KeyPart11_5_4_,\n    this_.KeyPart2 as KeyPart22_5_4_,\n    this_.KeyPart3 as KeyPart33_5_4_,\n    this_.ParentProperty as ParentProperty4_5_4_,\n    childalias1_.KeyPart1 as KeyPart11_6_6_,\n    childalias1_.KeyPart2 as KeyPart22_6_6_,\n    childalias1_.KeyPart3 as KeyPart33_6_6_,\n    childalias1_.KeyPart4 as KeyPart44_6_6_,\n    childalias1_.ChildProperty as ChildProperty5_6_6_,\nFROM\n    Parent this_ \nleft outer join\n    Child childalias1_ \n        on this_.KeyPart1=childalias1_.KeyPart1 \n        and this_.KeyPart2=childalias1_.KeyPart2 \n        and this_.KeyPart3=childalias1_.KeyPart3 \nWHERE\n    (SomeWhereClause)\n</code></pre>\n\n<p>Notice that this will return both Parent and Child tables. When </p>\n\n<blockquote>\n  <p>query.List()</p>\n</blockquote>\n\n<p>is run, it will retrieves all of the Parents + all of the children of each parent, creating duplicate parent entries in the end result list. I just want to retrieve all of the Parents or generate the a sql statement similar to the following:</p>\n\n<pre><code>SELECT\n    this_.KeyPart1 as KeyPart11_5_4_,\n    this_.KeyPart2 as KeyPart22_5_4_,\n    this_.KeyPart3 as KeyPart33_5_4_,\n    this_.ParentProperty as ParentProperty4_5_4_,\nFROM\n    Parent this_ \nleft outer join\n    Child childalias1_ \n        on this_.KeyPart1=childalias1_.KeyPart1 \n        and this_.KeyPart2=childalias1_.KeyPart2 \n        and this_.KeyPart3=childalias1_.KeyPart3 \nWHERE\n    (SomeWhereClause)\n</code></pre>\n\n<p>Does anyone have any tips on doing this using nhibernate's QueryOver API?</p>\n"}, {"tags": ["c#", "nhibernate", "queryover"], "answers": [{"tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 1, "last_activity_date": 1522908823, "creation_date": 1522908823, "answer_id": 49665298, "question_id": 49658539, "link": "https://stackoverflow.com/questions/49658539/problems-implementing-ordering-and-paging-in-nhibernates-queryover-api-for-quer/49665298#49665298", "title": "Problems implementing ordering and paging in NHibernate&#39;s QueryOver API for queries using joins and projections", "body": "<p>We have to add direction ASC or DESC. So instead of this</p>\n\n<pre><code>.OrderBy(() =&gt; customerAlias.DisplayName)\n.TransformUsing(Transformers.AliasToBean&lt;TenantQueryResult.Item&gt;());\n</code></pre>\n\n<p>We have to add <code>.Asc</code> or <code>.Desc</code></p>\n\n<pre><code>.OrderBy(() =&gt; customerAlias.DisplayName)\n    .Asc\n.TransformUsing(Transformers.AliasToBean&lt;TenantQueryResult.Item&gt;());\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 5765291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7bd86c16df3701787d664a14e56419e?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando G&#243;mez", "link": "https://stackoverflow.com/users/5765291/fernando-g%c3%b3mez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49665298, "answer_count": 1, "score": 1, "last_activity_date": 1522908823, "creation_date": 1522868625, "question_id": 49658539, "link": "https://stackoverflow.com/questions/49658539/problems-implementing-ordering-and-paging-in-nhibernates-queryover-api-for-quer", "title": "Problems implementing ordering and paging in NHibernate&#39;s QueryOver API for queries using joins and projections", "body": "<p>I'm still trying to get the hang of NHibernate. I'm doing some queries with projections, and so far I managed to come up with this: </p>\n\n<pre><code>var restrictions = Restrictions.Conjunction();\n// add some restrictions\n\nvar qo = Session.QueryOver(() =&gt; tenantAlias)\n    .JoinAlias(x =&gt; x.Customer, () =&gt; customerAlias)\n    .Where(restrictions)                \n    .SelectList(list =&gt; list\n        .Select(() =&gt; tenantAlias.Id).WithAlias(() =&gt; item.TenantId)\n        .Select(() =&gt; tenantAlias.DomainName.Value).WithAlias(() =&gt; item.DomainName)\n        .Select(() =&gt; customerAlias.Code.Value).WithAlias(() =&gt; item.CustomerCode)\n        .Select(() =&gt; customerAlias.DisplayName).WithAlias(() =&gt; item.CustomerName)\n        .Select(() =&gt; tenantAlias.ActivationPeriod.From).WithAlias(() =&gt; item.ActivationPeriodFrom)\n        .Select(() =&gt; tenantAlias.ActivationPeriod.Until).WithAlias(() =&gt; item.ActivationPeriodUntil)\n        .Select(() =&gt; tenantAlias.PurchasedLicenses.Value).WithAlias(() =&gt; item.PurchasedLicenses)\n    )\n    .TransformUsing(Transformers.AliasToBean&lt;TenantQueryResult.Item&gt;());\n\n    var items = await qo.ListAsync&lt;TenantQueryResult.Item&gt;();\n</code></pre>\n\n<p>Following a DDD approach, Tenant is an aggregate root and Customer an entity, and they have a one-to-one relationship. So far, this query is working beautifully. </p>\n\n<p>Now, however, I would like to order the result set by customer's displayname property. I found there's an OrderBy method, so I thought it simple enough to add the following line: </p>\n\n<pre><code>.OrderBy(() =&gt; customerAlias.DisplayName)\n</code></pre>\n\n<p>But alas, this doesn't compile. The reason is that the query over always returns an instance of <code>IQueryOver&lt;T, T&gt;</code>, but the OrderBy clause returns <code>IQueryOver&lt;T&gt;</code> only. And <code>IQueryOver&lt;T&gt;</code> does not have a <code>SelectList</code> or <code>TransformUsing</code> or even <code>ListAsync</code> method. So I don't get how <code>OrderBy</code> clauses should work. The NHibernate documentation [1] doesn't provide an example, and Googling only got me simple examples with Cats, but never with joins or transforms or projections.</p>\n\n<p>The same thing happens when I try to add paging to my query. Both Take and Skip methods are available, but they have the same problem, both return <code>IQueryOver&lt;T&gt;</code> instead of <code>IQueryOver&lt;T, T&gt;</code>.</p>\n\n<p>The question is, then, how I'm supposed to add ordering and paging clauses with QueryOver API, when using joins and projections? Thanks in advance. </p>\n\n<p>[1] <a href=\"http://nhibernate.info/doc/nhibernate-reference/queryqueryover.html\" rel=\"nofollow noreferrer\">http://nhibernate.info/doc/nhibernate-reference/queryqueryover.html</a></p>\n"}, {"tags": ["c#", "wpf", "xaml", "focusable"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522869643, "post_id": 49658533, "comment_id": 86326945, "body": "I posted an answer and i hope it&#39;ll help you.However, if you are a beginner with WPF, you can join my <a href=\"https://chat.stackoverflow.com/rooms/168245/beginners-of-wpf-join-here\">chat</a>"}, {"owner": {"reputation": 5, "user_id": 6610733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YIx6Vm5xK3Q/AAAAAAAAAAI/AAAAAAAAADc/YXUvk1fW7Yg/photo.jpg?sz=128", "display_name": "Tejf&#246;l", "link": "https://stackoverflow.com/users/6610733/tejf%c3%b6l"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522874037, "post_id": 49658533, "comment_id": 86329392, "body": "myWindow is the Name property of the window I gues, but I can&#39;t find the getChildren() function. What am I missing?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522874168, "post_id": 49658533, "comment_id": 86329452, "body": "are u sure ?...."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522874293, "post_id": 49658533, "comment_id": 86329515, "body": "recheck my answer :)"}, {"owner": {"reputation": 5, "user_id": 6610733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YIx6Vm5xK3Q/AAAAAAAAAAI/AAAAAAAAADc/YXUvk1fW7Yg/photo.jpg?sz=128", "display_name": "Tejf&#246;l", "link": "https://stackoverflow.com/users/6610733/tejf%c3%b6l"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522874883, "post_id": 49658533, "comment_id": 86329858, "body": "&#39;System.Windows.Media.Visual&#39; does not contain a definition for &#39;GetChildren&#39; and no extension method &#39;GetChildren&#39; accepting a first argument of type &#39;System.Windows.Media.Visual&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 5, "user_id": 6610733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YIx6Vm5xK3Q/AAAAAAAAAAI/AAAAAAAAADc/YXUvk1fW7Yg/photo.jpg?sz=128", "display_name": "Tejf&#246;l", "link": "https://stackoverflow.com/users/6610733/tejf%c3%b6l"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522874923, "post_id": 49658533, "comment_id": 86329876, "body": "I get this error after inserting your code."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522875012, "post_id": 49658533, "comment_id": 86329915, "body": "did u reference <code>System.Windows.Media.Visual</code> ??"}, {"owner": {"reputation": 5, "user_id": 6610733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YIx6Vm5xK3Q/AAAAAAAAAAI/AAAAAAAAADc/YXUvk1fW7Yg/photo.jpg?sz=128", "display_name": "Tejf&#246;l", "link": "https://stackoverflow.com/users/6610733/tejf%c3%b6l"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522875251, "post_id": 49658533, "comment_id": 86330055, "body": "System.Windows.Media.Visual is a class in the System.Windows.Media namespace and I have #using-ed that."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1522876734, "post_id": 49658533, "comment_id": 86330778, "body": "re-check my answer"}], "answers": [{"tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": true, "score": 1, "last_activity_date": 1522876726, "last_edit_date": 1522876726, "creation_date": 1522869494, "answer_id": 49658793, "question_id": 49658533, "link": "https://stackoverflow.com/questions/49658533/how-to-set-all-controls-in-wpf-to-unfocusable/49658793#49658793", "title": "How to set all Controls in wpf to unfocusable?", "body": "<p>Why not try a two line solution ?</p>\n\n<pre><code> foreach (var ctrl in myWindow.GetChildren())\n{\n//Add codes here :)\n}  \n</code></pre>\n\n<p>Also make sure to add this :</p>\n\n<pre><code>  public static IEnumerable&lt;Visual&gt; GetChildren(this Visual parent, bool recurse = true)\n {\nif (parent != null)\n{\n    int count = VisualTreeHelper.GetChildrenCount(parent);\n    for (int i = 0; i &lt; count; i++)\n    {\n        // Retrieve child visual at specified index value.\n        var child = VisualTreeHelper.GetChild(parent, i) as Visual;\n\n        if (child != null)\n        {\n            yield return child;\n\n            if (recurse)\n            {\n                foreach (var grandChild in child.GetChildren(true))\n                {\n                    yield return grandChild;\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>Or even shorter, use this :</p>\n\n<pre><code>public static IList&lt;Control&gt; GetControls(this DependencyObject parent)\n{            \n    var result = new List&lt;Control&gt;();\n    for (int x = 0; x &lt; VisualTreeHelper.GetChildrenCount(parent); x++)\n    {\n        DependencyObject child = VisualTreeHelper.GetChild(parent, x);\n        var instance = child as Control;\n\n        if (null != instance)\n            result.Add(instance);\n\n        result.AddRange(child.GetControls());\n    } \n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6610733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YIx6Vm5xK3Q/AAAAAAAAAAI/AAAAAAAAADc/YXUvk1fW7Yg/photo.jpg?sz=128", "display_name": "Tejf&#246;l", "link": "https://stackoverflow.com/users/6610733/tejf%c3%b6l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 49658793, "answer_count": 1, "score": 0, "last_activity_date": 1522876726, "creation_date": 1522868597, "last_edit_date": 1522876251, "question_id": 49658533, "link": "https://stackoverflow.com/questions/49658533/how-to-set-all-controls-in-wpf-to-unfocusable", "title": "How to set all Controls in wpf to unfocusable?", "body": "<p>I have a wpf application and I want to set everything to Focusable=\"false\".\nIs there an easy and elegant way? Currently I made a style for each type of Control I use like this:</p>\n\n<pre><code>&lt;Style TargetType=\"Button\"&gt;\n&lt;Setter Property=\"Focusable\" Value=\"False\"&gt;&lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>Any idea for a more universan solution?</p>\n"}, {"tags": ["c#", "char"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 4, "creation_date": 1522868546, "post_id": 49658502, "comment_id": 86326326, "body": "Per <a href=\"https://msdn.microsoft.com/en-us/library/e7k33ktz(v=vs.110).aspx\" rel=\"nofollow noreferrer\">the docs</a>.  The method returns <code>&quot;The numeric value of c if that character represents a number; otherwise, -1.0.&quot;</code>.  Without knowing your input this will be pretty hard to answer.  Your question must include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522869060, "post_id": 49658502, "comment_id": 86326617, "body": "<code>int keyLength = text[0];</code> is returning the ASCII value of the character at index <code>0</code> in the string. <code>int keyLength = Convert.ToInt32(text[0]);</code> would give you the numeric value of the character converted to an integer (or will throw an exception if the conversion fails)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 2, "creation_date": 1522869290, "post_id": 49658502, "comment_id": 86326758, "body": "Your code won&#39;t even compile, much less give you the results you claim it gives."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1522869427, "post_id": 49658502, "comment_id": 86326838, "body": "Also, your code doesn&#39;t compile. You have to actually return a <code>string</code>. And when you fix that, then you get an overflow error. So why don&#39;t you start by posting the actual code that reproduces the problem?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1522869566, "post_id": 49658502, "comment_id": 86326900, "body": "It would <i>also</i> help if you defined <i>why</i> your expected result is expected. In other words, describe how is your algorithm <i>supposed</i> to work, and give more than one piece of sample data."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8848512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7c-ilrH8I2s/AAAAAAAAAAI/AAAAAAAAAMk/TIbIn_ZmdSE/photo.jpg?sz=128", "display_name": "Szymczok", "link": "https://stackoverflow.com/users/8848512/szymczok"}, "edited": false, "score": 0, "creation_date": 1522869648, "post_id": 49658730, "comment_id": 86326950, "body": "Oh, really thanks for this answer! It&#39;s now working correctly!"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1522869714, "post_id": 49658730, "comment_id": 86326987, "body": "Note that for sample data <code>&quot;5We8The7SlicesIn1HourAnd45Minutes12345&quot;</code> the result will be <code>{ 8, 7, 1, 4, 5 }</code>. Not saying that&#39;s wrong, just not sure how you know what the expected result is."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522869825, "post_id": 49658730, "comment_id": 86327052, "body": "@RufusL yeah I took a stab at the expected result.  I explained the LINQ logic in basic terms so if it matched what OP wanted they would know.  I likely shouldn&#39;t have even answered a question without having a clear expected result but I took a stab anyway"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 0, "last_activity_date": 1522870259, "last_edit_date": 1522870259, "creation_date": 1522869289, "answer_id": 49658730, "question_id": 49658502, "link": "https://stackoverflow.com/questions/49658502/c-char-getnumericvalue-returns-1/49658730#49658730", "title": "c# char.GetNumericValue returns -1", "body": "<p>You haven't posted a complete example in your question, so my answer is purely a guess.  </p>\n\n<p>You could <em>really</em> simplify your logic by using LINQ:</p>\n\n<pre><code>//Assuming you have already checked the 'text' variable\n//to make sure its not null or empty\nint keyLength = (int)Char.GetNumericValue(text[0]);\n\nif(keyLength &lt; 0)\n{\n    //keyLength is -1 because the first digit was not a number\n    //Handle appropriately\n}\nchar[] keySliced = text.ToCharArray()\n                       .Skip(1)\n                       .Where(x =&gt; char.IsDigit(x))\n                       .Take(keyLength)\n                       .ToArray();\n</code></pre>\n\n<p>What this LINQ does is takes the input string and turns it into a char array (<code>.ToCharArray()</code>).  Then we skip the first character (<code>.Skip()</code>) because we have already accounted for that in the keyLength logic.  Then we only care about chars that are digits (<code>.Where(x =&gt; char.IsDigit(x))</code>).  Then we take up to the keyLength amount (<code>.Take(keyLength)</code>).  Not that this will take the chars in order, and only up to the amount specified in the <em>very first digit of the string</em> (so an input that is <code>\"53dad223sfd32\"</code> would not take <code>53</code> but <code>5</code>).  Then it looks like you want the results in a char array so we just materialize into an array (<code>.ToCharArray()</code>)</p>\n\n<p><code>keySliced</code> will now be a char array containing all the numbers up to the length you define as the first char in the string.</p>\n\n<p>For input of: <code>\"5SampleText42964\"</code></p>\n\n<p>Results in:</p>\n\n<pre><code>Key[0] -&gt; 4\nKey[1] -&gt; 2\nKey[2] -&gt; 9\nKey[3] -&gt; 6\nKey[4] -&gt; 4\n</code></pre>\n\n<p>I made a fiddle <a href=\"https://dotnetfiddle.net/FhSVrL\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3, "user_id": 8848512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7c-ilrH8I2s/AAAAAAAAAAI/AAAAAAAAAMk/TIbIn_ZmdSE/photo.jpg?sz=128", "display_name": "Szymczok", "link": "https://stackoverflow.com/users/8848512/szymczok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 49658730, "answer_count": 1, "score": -1, "last_activity_date": 1522870259, "creation_date": 1522868475, "last_edit_date": 1522869153, "question_id": 49658502, "link": "https://stackoverflow.com/questions/49658502/c-char-getnumericvalue-returns-1", "title": "c# char.GetNumericValue returns -1", "body": "<p>I've got the following code that should find the hidden key in text. </p>\n\n<pre><code>private static string FindKey(string text)\n{\n    int keyLength = text[0];\n    int[] keySliced = new int[keyLength];\n    char[] fullText = text.ToCharArray();\n    char[] chars = new char[text.Length - (1 + keyLength)];\n\n    Console.WriteLine(\"Key Length -&gt; {0}\", keyLength);\n\n    int y = 0;\n    for(int i = 1 + chars.Length; i &lt; 1 + chars.Length + keyLength; i++)\n    {\n        char chr = fullText[i];\n        keySliced[y] = Convert.ToInt32(char.GetNumericValue(chr));\n        Console.WriteLine(\"Key[{0}] -&gt; {1}\", y, keySliced[y]);\n        y++;\n    }\n}\n</code></pre>\n\n<p>Problem is that when I run this code it returns something like this</p>\n\n<pre><code>Input: 5SampleText42964\nResult:\nKey[0] -&gt; 4\nKey[1] -&gt; 2\nKey[2] -&gt; 9\nKey[3] -&gt; 6\nKey[4] -&gt; -1 //Here is the problem\n\nExpected Result:\nKey[0] -&gt; 4\nKey[1] -&gt; 2\nKey[2] -&gt; 9\nKey[3] -&gt; 6\nKey[4] -&gt; 4\n</code></pre>\n\n<p>The Key[4] value is always -1 but it shouldn't</p>\n\n<p>Any ideas how to fix it?</p>\n"}, {"tags": ["c#", "json", "parsing", "json.net"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 2, "creation_date": 1522868531, "post_id": 49658496, "comment_id": 86326320, "body": "It wants to be a string, let it be a string."}], "answers": [{"tags": [], "owner": {"reputation": 1524, "user_id": 3633806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e530f9446e062f77d53de35a506ce875?s=128&d=identicon&r=PG&f=1", "display_name": "Vadym K", "link": "https://stackoverflow.com/users/3633806/vadym-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1522870281, "creation_date": 1522870281, "answer_id": 49659008, "question_id": 49658496, "link": "https://stackoverflow.com/questions/49658496/building-a-class-to-deserialize-json-to-when-one-properties-can-be-of-two-differ/49659008#49659008", "title": "Building a class to deserialize json to when one properties can be of two different types", "body": "<p>Yes. You can use <code>dynamic</code> keyword.</p>\n\n<pre><code>public class SomeObject {\n    public string name {get;set;}\n    public dynamic birthMonth {get;set;}\n}\n</code></pre>\n\n<p>But better way probably is to use some json (framework dependent) technique to transform <code>may</code> value to 5. For instance in <code>newtonsoft.json</code> there is an variant is to use  your own implementation of <code>JsonConverter</code>.</p>\n\n<p>Here is an example: \n<a href=\"https://stackoverflow.com/questions/8030538/how-to-implement-custom-jsonconverter-in-json-net-to-deserialize-a-list-of-base\">How to implement custom JsonConverter in JSON.NET to deserialize a List of base class objects?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4314073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd25bac225c39e23cf4ba8cb9f6f001?s=128&d=identicon&r=PG&f=1", "display_name": "LKon524", "link": "https://stackoverflow.com/users/4314073/lkon524"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522870281, "creation_date": 1522868437, "question_id": 49658496, "link": "https://stackoverflow.com/questions/49658496/building-a-class-to-deserialize-json-to-when-one-properties-can-be-of-two-differ", "title": "Building a class to deserialize json to when one properties can be of two different types", "body": "<p>I have some Json that I want to parse to a c# object that can come through like this:\n<code>\n{\n\"SomeObject\" : {\n    \"name\" : \"something\",\n    \"birthMonth\" : \"may\"\n    }\n}\n</code></p>\n\n<p>Or Like this:</p>\n\n<p><code>\n{\n\"SomeObject\" : {\n    \"name\" : \"something\",\n    \"birthMonth\" : 5\n    }\n}</code></p>\n\n<p>Is there a way I can model my SomeObject class so that the birthMonth property can be a string or an integer?</p>\n"}, {"tags": ["c#", "function", "xamarin", "exit"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 3, "creation_date": 1522868461, "post_id": 49658465, "comment_id": 86326278, "body": "You should really understand the basics of c# before attempting to play with a behemoth like Xamarin. The Microsoft Docs site is a very good place to get started"}], "answers": [{"tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 2, "last_activity_date": 1522868484, "creation_date": 1522868484, "answer_id": 49658503, "question_id": 49658465, "link": "https://stackoverflow.com/questions/49658465/c-xamarin-exit-function/49658503#49658503", "title": "C# Xamarin Exit function", "body": "<p>it depends on the context, but generally you can just use <code>return</code> to exit the method at any given point</p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 6727066, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f05e48836c82fa82d9b3f0f8c2bfb1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Helpha", "link": "https://stackoverflow.com/users/6727066/helpha"}, "is_accepted": false, "score": 2, "last_activity_date": 1522868529, "creation_date": 1522868529, "answer_id": 49658517, "question_id": 49658465, "link": "https://stackoverflow.com/questions/49658465/c-xamarin-exit-function/49658517#49658517", "title": "C# Xamarin Exit function", "body": "<p>Your code is not really expressive (we don't know what surrounds it). But I would tell you to use the <code>return</code> statement.</p>\n"}, {"tags": [], "owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "is_accepted": false, "score": 2, "last_activity_date": 1522873576, "last_edit_date": 1522873576, "creation_date": 1522871781, "answer_id": 49659384, "question_id": 49658465, "link": "https://stackoverflow.com/questions/49658465/c-xamarin-exit-function/49659384#49659384", "title": "C# Xamarin Exit function", "body": "<p>If you're if statement is directly within a method you use the <code>return</code> keyword to end the method early (unless the method is a function and returning a value then you <code>return someValue</code>. If you're in a loop you skip over and continue the loop with the <code>continue</code> keyword, you break out of the loop with the <code>break</code> keyword. Also, and I apologize for this, but I recommend taking the extra time to learn C# first because this is very basic; not to mention your or operation in the if statement isn't shorted <code>||</code> and you're string.format is better as a string literal.</p>\n\n<p>Although this isn't part of your question; I did see someone make a comment and you ignored it with a little sarcasm (although their comment was sarcasm).  In defense it's because this is C# elementary knowledge.  </p>\n\n<p>Anyway, I'm going to take a little time to explain it and if you appreciate the knowledge maybe it will inspire you to dig more into the C# language to do things more or less the right way.</p>\n\n<p>As for using <code>string.format</code> this should be used only to actually format strings; which it's good at.  However; when you just have a string literal (characters in quotes that are technically constant), then string.format should be avoided.  Here is the IL generated code for two tiny one line apps I made to demonstrate only the different between string.format and using a string literal when it can be done.</p>\n\n<p><strong>App using string literal.</strong></p>\n\n<pre><code>namespace StringFormatVSStringLiteral\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var value = \"My name is Michael\";\n        }\n    }\n}\n</code></pre>\n\n<p><strong>IL Generated</strong></p>\n\n<pre><code>.method private hidebysig static void  Main(string[] args) cil managed\n{\n  .entrypoint\n  // Code size       8 (0x8)\n  .maxstack  1\n  .locals init ([0] string 'value')\n  IL_0000:  nop\n  IL_0001:  ldstr      \"My name is Michael\"\n  IL_0006:  stloc.0\n  IL_0007:  ret\n} // end of method Program::Main\n</code></pre>\n\n<p><strong>App using string.Format</strong></p>\n\n<pre><code>namespace StringFormatVSStringLiteral\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var value = string.Format(\"My name is Michael\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>IL Generated</strong></p>\n\n<pre><code>.method private hidebysig static void  Main(string[] args) cil managed\n{\n  .entrypoint\n  // Code size       18 (0x12)\n  .maxstack  2\n  .locals init ([0] string 'value')\n  IL_0000:  nop\n  IL_0001:  ldstr      \"My name is Michael\"\n  IL_0006:  call       !!0[] [mscorlib]System.Array::Empty&lt;object&gt;()\n  IL_000b:  call       string [mscorlib]System.String::Format(string,\n                                                              object[])\n  IL_0010:  stloc.0\n  IL_0011:  ret\n} // end of method Program::Main\n</code></pre>\n\n<p>So you can see in using string.Format should be avoided when possible only because it increased the stack and calls.  If you were to have this, say in a loop, or a resource intensive application the difference might be critical.</p>\n\n<p>As for the or operator; in C# you can short circtuit or <code>|</code> by doubling it <code>||</code>.  What this does is test the first value; in an or operator if the first test succeeds it skips testing the second step; which is faster obviously.  When you write the operator as <code>|</code> you force it to test each value whether the first finalizes the operation or not.  Also note that the second or operator <code>|</code> is used for binary operations and flags in C# because of the way it works internally.  The and operator is the same where <code>&amp;</code> tests both sides even if the first one fails; which can and should be short circuited using <code>&amp;&amp;</code>.  The same thing applies to the <code>&amp;</code> operator where it is used for binary operations as well as adjusting flags.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9198450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 49658503, "answer_count": 3, "score": -3, "last_activity_date": 1522873576, "creation_date": 1522868350, "question_id": 49658465, "link": "https://stackoverflow.com/questions/49658465/c-xamarin-exit-function", "title": "C# Xamarin Exit function", "body": "<p>I have an if statement where I want to abort the next steps and start over. But how can I use a Exit; (like PHP) or something like that?\nThis is my code:</p>\n\n<pre><code>if (SelectedQuantity != null | SelectedProduct != null)\n{\n    string toast = string.Format(\"You may only fill 1 of the input fields!\");\n    Toast.MakeText(this, toast, ToastLength.Long).Show();\n}\n</code></pre>\n\n<p>After the \"if\", it puts values in the database, but I want to abort that process if you get in the if statement. Does anyone know how to do that?</p>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "edited": false, "score": 0, "creation_date": 1522868497, "post_id": 49658413, "comment_id": 86326302, "body": "Do your classes have any data annotations?"}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1522868498, "post_id": 49658413, "comment_id": 86326303, "body": "Are there any errors in the browser&#39;s debug console?"}, {"owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1522868614, "post_id": 49658413, "comment_id": 86326361, "body": "@Jasen There is no browser&#39;s console error"}, {"owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "reply_to_user": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "edited": false, "score": 0, "creation_date": 1522868714, "post_id": 49658413, "comment_id": 86326417, "body": "@nurdyguy Yes I do &#39;[DisplayName(&quot;Password&quot;)]&#39;         &#39;[Required(ErrorMessage = &quot;Please enter Password&quot;)]&#39;         &#39;[DataType(DataType.Password)]&#39; for password field which may contain special character."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1522868788, "post_id": 49658413, "comment_id": 86326452, "body": "BTW, you should not do <code>JSON.parse</code>. the object you get in the success callback is a js object. No need to parse it !"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1522869010, "post_id": 49658413, "comment_id": 86326585, "body": "Your code should work fine even with special characters unless you have some data annotation using regex to prevent them. Are you getting some errors for your xhr call ? What is the response coming back ?"}, {"owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1522869242, "post_id": 49658413, "comment_id": 86326729, "body": "@Shyju Thanks for correcting me. But for no my main concern is all about form post with special character."}, {"owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1522869396, "post_id": 49658413, "comment_id": 86326823, "body": "@Shyju I don&#39;t get any error. and data annotation for password are in the comment. I don&#39;t think that annotation for password is going to this problem"}, {"owner": {"reputation": 2072, "user_id": 7674734, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/X9FgI.jpg?s=128&g=1", "display_name": "Anis Alibegi\u0107", "link": "https://stackoverflow.com/users/7674734/anis-alibegi%c4%87"}, "edited": false, "score": 0, "creation_date": 1522869699, "post_id": 49658413, "comment_id": 86326979, "body": "Its because ASP.NET thinks it&#39;s potentially dangerous text. Use <code>[AllowHtml]</code> attributes for specific fields or use <code>[ValidateInput(false)]</code> for whole action."}, {"owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "reply_to_user": {"reputation": 2072, "user_id": 7674734, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/X9FgI.jpg?s=128&g=1", "display_name": "Anis Alibegi\u0107", "link": "https://stackoverflow.com/users/7674734/anis-alibegi%c4%87"}, "edited": false, "score": 1, "creation_date": 1522870028, "post_id": 49658413, "comment_id": 86327150, "body": "@Spectarion Thank you very much. It works. You saved my day. Thanks once again."}], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 1878010, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/EuzIX.jpg?s=128&g=1", "display_name": "Abhijit Pandya", "link": "https://stackoverflow.com/users/1878010/abhijit-pandya"}, "is_accepted": false, "score": 0, "last_activity_date": 1543834875, "creation_date": 1543834875, "answer_id": 53592429, "question_id": 49658413, "link": "https://stackoverflow.com/questions/49658413/jquery-ajax-not-post-form-with-special-characters-in-mvc/53592429#53592429", "title": "Jquery ajax not post form with special characters in mvc", "body": "<p>Its because ASP.NET thinks it's potentially dangerous text.\nUse [AllowHtml] attributes for specific fields </p>\n\n<p>Example : </p>\n\n<pre><code>public class BlogEntry {\n    public int UserId {get;set;}\n    [AllowHtml] \n    public string BlogText {get;set;}\n }\n</code></pre>\n\n<p>or use [ValidateInput(false)] for whole action</p>\n\n<pre><code>[HttpPost]\n[ValidateInput(false)]\npublic ActionResult xyz(abc model)\n{\n///////////\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543836933, "creation_date": 1522868175, "last_edit_date": 1543836933, "question_id": 49658413, "link": "https://stackoverflow.com/questions/49658413/jquery-ajax-not-post-form-with-special-characters-in-mvc", "title": "Jquery ajax not post form with special characters in mvc", "body": "<p>I am trying post whole form using jquery ajax. Here is my ajax call:</p>\n\n<pre><code> $(document).ready(function() {\n        $('#btnadd').click(function () {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"@Url.Action(\"SaveUser\", \"UserMenu\")\",                       \n                    data: $('#SaveUserForm').serialize(),                                           \n                    datatype: \"json\",\n                    traditional: true,\n                    success: function(d) {\n                        var r = JSON.parse(d);\n                        if (r.Result === 'true') {\n                            //Wohoo its valid data and processed.\n                            alert('success');\n                        } else {\n                            alert('not success');                                \n                        }\n                    },\n                    error: function() {\n                    }\n                });             \n        });\n    });\n</code></pre>\n\n<p>It works nicely when I post the form without special character but If any field contain special character (Lets say, I have a text field password, that contain character &lt;>) it does not trigger controller action result.\nI have tired many solution regarding this problem but non of this work for me.</p>\n\n<p>Here is my Controller <code>ActionResult</code> for receive ajax request: </p>\n\n<pre><code>    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public async Task&lt;JsonResult&gt; SaveUser(AdminUserPanel model)\n    {\n      //some code for save into database\n     return Json(new { Result = true });\n    }\n</code></pre>\n\n<p>Do I need to change my Ajax function or any just extra setting(webconfig or other)? </p>\n"}, {"tags": ["c#", "wpf", "combobox"], "answers": [{"tags": [], "owner": {"reputation": 2080, "user_id": 242029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b0af6ec0e2b09283faefe2ed892d44f?s=128&d=identicon&r=PG", "display_name": "nixkuroi", "link": "https://stackoverflow.com/users/242029/nixkuroi"}, "is_accepted": true, "score": 0, "last_activity_date": 1522872064, "creation_date": 1522872064, "answer_id": 49659448, "question_id": 49658367, "link": "https://stackoverflow.com/questions/49658367/get-combobox-binded-id-in-wpf/49659448#49659448", "title": "get Combobox binded id in wpf", "body": "<p>I usually bind to another object of the same type as what's in the collection the combobox is bound to.  </p>\n\n<p>For example, say your ItemsSource is a list called Schools.  You create a School property of your class called \"SelectedSchool\".  Then in your combobox, you create a TwoWay binding to School.  </p>\n\n<pre><code>&lt;ComboBox Name=\"cmb\" ItemsSource=\"{Binding Schools}\"  \n    SelectedItem=\"{Binding Id}\" \n    SelectedValue=\"{Binding SelectedSchool, Mode=TwoWay}\"\n    Width=\"120\"  \n    HorizontalAlignment=\"Left\"   \n    Margin=\"183,39,0,0\"   \n    IsEditable=\"True\"\n    IsReadOnly=\"True\"\n    Text=\"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647\"\n    VerticalAlignment=\"Top\" SelectionChanged=\"cmb_SelectionChanged_1\"  &gt;\n\n    &lt;ComboBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                &lt;TextBlock Text=\"{Binding Id}\"/&gt;\n                &lt;TextBlock Text=\" - \"/&gt;\n                &lt;TextBlock Text=\"{Binding SchoolName}\"/&gt;\n            &lt;/StackPanel&gt;\n\n        &lt;/DataTemplate&gt;\n    &lt;/ComboBox.ItemTemplate&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>Then you just get the value from that SelectedSchool property in your codebehind/viewmodel.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9107638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 49659448, "answer_count": 1, "score": 0, "last_activity_date": 1522872064, "creation_date": 1522868018, "question_id": 49658367, "link": "https://stackoverflow.com/questions/49658367/get-combobox-binded-id-in-wpf", "title": "get Combobox binded id in wpf", "body": "<p>hi i have combobox that i bind some feild to it, now i want get item id this is my xaml:</p>\n\n<pre><code>&lt;ComboBox Name=\"cmb\" ItemsSource=\"{Binding School}\"  \n                  SelectedItem=\"{Binding Id}\" \n                  SelectedValue=\"{Binding Id}\"\n                  Width=\"120\"  \n                  HorizontalAlignment=\"Left\"   \n                  Margin=\"183,39,0,0\"   \n                                           IsEditable=\"True\"\n               IsReadOnly=\"True\"\n                                     Text=\"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647\"\n                  VerticalAlignment=\"Top\" SelectionChanged=\"cmb_SelectionChanged_1\"  &gt;\n\n                                    &lt;ComboBox.ItemTemplate&gt;\n                                        &lt;DataTemplate&gt;\n                                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                                &lt;TextBlock Text=\"{Binding Id}\"/&gt;\n                                                &lt;TextBlock Text=\" - \"/&gt;\n                                                &lt;TextBlock Text=\"{Binding SchoolName}\"/&gt;\n                                            &lt;/StackPanel&gt;\n\n                                        &lt;/DataTemplate&gt;\n                                    &lt;/ComboBox.ItemTemplate&gt;\n                                &lt;/ComboBox&gt;\n</code></pre>\n\n<p>and this is code behind:</p>\n\n<pre><code>Console.WriteLine(cmb.SelectedValue);\nConsole.WriteLine(cmb.SelectedItem);\n</code></pre>\n\n<p>but this is result :</p>\n\n<pre><code>{ Id = 1, SchoolName = \u067e\u064a\u0627\u0645 \u0627\u0646\u0642\u0644\u0627\u0628, Base = \u062f\u0648\u0645, Year = 97-98 } \n</code></pre>\n\n<p>i need only id  so where is wrong?</p>\n"}, {"tags": ["c#", "winforms", "visual-studio"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1522867663, "post_id": 49658266, "comment_id": 86325782, "body": "<code>await</code> automatically resumes on the UI thread.  &quot;in a task&quot; is meaningless."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522867700, "post_id": 49658266, "comment_id": 86325809, "body": "Do you actually have any async / non-blocking work?"}, {"owner": {"reputation": 1467, "user_id": 532616, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a0106bd4beea28ea80856cfcfa8879f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/532616/david"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522869590, "post_id": 49658266, "comment_id": 86326914, "body": "The call chain eventually awaits a TaskCompletionSource.Task which is completed by an ActionBlock"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522869630, "post_id": 49658266, "comment_id": 86326942, "body": "So when you run this code what problems are you having?"}, {"owner": {"reputation": 1467, "user_id": 532616, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a0106bd4beea28ea80856cfcfa8879f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/532616/david"}, "edited": false, "score": 0, "creation_date": 1522870159, "post_id": 49658266, "comment_id": 86327241, "body": "The UI code that was called after the button behaved different in Visual Studio. (it was generating an exception differently if it was placed inside the Task as opposed to putting the code in the event handlerr). This led me to assume the code is smells and I am doing something wrong."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522872249, "post_id": 49658266, "comment_id": 86328480, "body": "@David As has been mentioned already, saying, &quot;in a task&quot; doesn&#39;t even make sense as a phrase.  All of the code you&#39;ve shown here all runs in the UI thread.  If you&#39;re getting errors as a result of code not running in the UI thread when it needs to, then you&#39;ll need to provide an example that properly reproduces that."}, {"owner": {"reputation": 1467, "user_id": 532616, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a0106bd4beea28ea80856cfcfa8879f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/532616/david"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522876613, "post_id": 49658266, "comment_id": 86330714, "body": "@Servy Yes, sorry my phrasing is bad there. I understand that all of the code is running in the UI thread, but I do not understand why Visual Studio handles the exception differently in debug mode.  I have provided a complete example, if you want to run and test the 2 different methods of calling the reset() function you can see the differences."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522876760, "post_id": 49658266, "comment_id": 86330795, "body": "@David Both of them are running the <code>reset</code> method in the UI thread."}, {"owner": {"reputation": 1467, "user_id": 532616, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a0106bd4beea28ea80856cfcfa8879f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/532616/david"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522877061, "post_id": 49658266, "comment_id": 86330958, "body": "@Servy Yes. But Visual Studio generates debug mode handles the exceptions differently, and I don&#39;t understand why."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1522877075, "post_id": 49658266, "comment_id": 86330963, "body": "How does it handle them differently?"}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "is_accepted": false, "score": -1, "last_activity_date": 1522891242, "creation_date": 1522891242, "answer_id": 49662745, "question_id": 49658266, "link": "https://stackoverflow.com/questions/49658266/continuing-with-the-ui-thread-in-a-task/49662745#49662745", "title": "Continuing with the UI thread in a Task", "body": "<p>What about:</p>\n\n<pre><code>private async void Buttons_Click(object sender, EventArgs e)\n{\n    var button = sender as Button;\n    if (button != null)\n        await myTaskAsync(button);\n}\n</code></pre>\n\n<p>Just change the event handler for all buttons to buttons_Click:</p>\n\n<pre><code>button1.Click += Buttons_Click;\nbutton2.Click += Buttons_Click;\n</code></pre>\n"}], "owner": {"reputation": 1467, "user_id": 532616, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a0106bd4beea28ea80856cfcfa8879f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/532616/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522891242, "creation_date": 1522867543, "last_edit_date": 1522877004, "question_id": 49658266, "link": "https://stackoverflow.com/questions/49658266/continuing-with-the-ui-thread-in-a-task", "title": "Continuing with the UI thread in a Task", "body": "<p>I have many controls that create messages that need to be processed async.  I'd like to have a common function that updates the UI while the Task is running, but this is wrong(?) because when debugging the code in Visual Studio, it handles exceptions differently (See updated code at the bottom).</p>\n\n<p>How do I re-write this code such that the common stuff is done correctly without duplicating the UI logic in every event handler?</p>\n\n<pre><code>private async void button1_Click(object sender, EventArgs e)\n{\n    await myTaskAsync(button1);\n}\n\nprivate async void button2_Click(object sender, EventArgs e)\n{\n    await myTaskAsync(button2);\n}\n\nprivate async Task myTaskAsync(Button btn)\n{\n    string originalText = btn.Text;\n    btn.Text = \"Processing\";\n    btn.Enabled = false;\n\n    await processAsync(btn.Tag);\n\n    btn.Enabled = true;\n    btn.Text = originalText;\n}\n</code></pre>\n\n<p>Update:</p>\n\n<p>Here's the updated (complete) example. Depending on where the call to the reset() function is, the exception generated in Visual Studio looks different. I don't understand this difference.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    NumericUpDown numeric = new NumericUpDown();\n    public Form1()\n    {\n        InitializeComponent();\n        Button b1 = new Button();\n        Controls.Add(b1);\n        b1.Click += B1_Click;\n        numeric.Maximum = 100;\n    }\n\n    private async void B1_Click(object sender, EventArgs e)\n    {\n        await delay();\n        // reset();\n    }\n    private void reset()\n    {\n        numeric.Value = 102;\n    }\n\n    private async Task delay()\n    {\n        await Task.Delay(100);\n        reset();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "nuget", "nuget-package"], "comments": [{"owner": {"reputation": 1260, "user_id": 9475326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec74ba511a366219c762bf8f101c4950?s=128&d=identicon&r=PG&f=1", "display_name": "RBreuer", "link": "https://stackoverflow.com/users/9475326/rbreuer"}, "edited": false, "score": 0, "creation_date": 1522867156, "post_id": 49658131, "comment_id": 86325474, "body": "See this possible duplicate: <a href=\"https://stackoverflow.com/questions/64602/what-are-differences-between-assemblyversion-assemblyfileversion-and-assemblyin\" title=\"what are differences between assemblyversion assemblyfileversion and assemblyin\">stackoverflow.com/questions/64602/&hellip;</a>"}, {"owner": {"reputation": 28589, "user_id": 639520, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/KzMc4.jpg?s=128&g=1", "display_name": "E-Riz", "link": "https://stackoverflow.com/users/639520/e-riz"}, "reply_to_user": {"reputation": 1260, "user_id": 9475326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec74ba511a366219c762bf8f101c4950?s=128&d=identicon&r=PG&f=1", "display_name": "RBreuer", "link": "https://stackoverflow.com/users/9475326/rbreuer"}, "edited": false, "score": 0, "creation_date": 1522867291, "post_id": 49658131, "comment_id": 86325554, "body": "@RBreuer Definitely NOT a duplicate. That info is understood, but as I wrote above, I&#39;m using the AssemblyInformationalVersion - problem is that nuget is ignoring it."}, {"owner": {"reputation": 1260, "user_id": 9475326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec74ba511a366219c762bf8f101c4950?s=128&d=identicon&r=PG&f=1", "display_name": "RBreuer", "link": "https://stackoverflow.com/users/9475326/rbreuer"}, "edited": false, "score": 0, "creation_date": 1522867560, "post_id": 49658131, "comment_id": 86325709, "body": "is the <code>nuspec</code> file updated with the <code>&lt;version&gt;</code> correcly inside <code>&lt;metadata&gt;</code>?"}, {"owner": {"reputation": 28589, "user_id": 639520, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/KzMc4.jpg?s=128&g=1", "display_name": "E-Riz", "link": "https://stackoverflow.com/users/639520/e-riz"}, "reply_to_user": {"reputation": 1260, "user_id": 9475326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec74ba511a366219c762bf8f101c4950?s=128&d=identicon&r=PG&f=1", "display_name": "RBreuer", "link": "https://stackoverflow.com/users/9475326/rbreuer"}, "edited": false, "score": 0, "creation_date": 1522867776, "post_id": 49658131, "comment_id": 86325852, "body": "@RBreuer No. I just double-checked by unzipping the .nupkg file and examining its .nuspec: <code>&lt;version&gt;1.0.0-local&lt;&#47;version&gt;</code>"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1522869254, "post_id": 49658131, "comment_id": 86326736, "body": "Ensure that you pack correct configuration. For example in your csproj Version is set for Debug configuration, so if you pack Release - that will have no effect. Same with assembly attributes. If after you changed them you did not ever manually built project in Release configuration - nuget pack will not see them (if you are packing release). So to bw sure, run nuget pack with -Build and specify configuration explicitly."}, {"owner": {"reputation": 28589, "user_id": 639520, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/KzMc4.jpg?s=128&g=1", "display_name": "E-Riz", "link": "https://stackoverflow.com/users/639520/e-riz"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522936518, "post_id": 49658131, "comment_id": 86359044, "body": "@Evk You&#39;ve nailed it. Without specifying the Configuration, nuget was pulling the Debug version. Please make an Answer out of your Comment so I can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "is_accepted": true, "score": 1, "last_activity_date": 1593188009, "last_edit_date": 1593188009, "creation_date": 1522937716, "answer_id": 49674583, "question_id": 49658131, "link": "https://stackoverflow.com/questions/49658131/how-does-the-nuget-pack-command-generate-the-package-version/49674583#49674583", "title": "How does the NuGet pack command generate the package version?", "body": "<p>Ensure that you pack the correct configuration. You might pack a Release configuration while only setting the <code>Version</code> element in the .csproj section related to the Debug configuration, or visa versa.</p>\n<p>With assembly attributes (<code>AssemblyVersion</code>, etc.) - note that they are embedded inside the compiled assembly, so for them to take effect you need to build the project, and do it in a correct configuration. Often it happens that you test your code in the Debug configuration, then change version and build without switching to Release, and then pack the Release configuration.</p>\n<p>To avoid all those problems it's good to always build when packing, and always pack an explicit configuration:</p>\n<pre><code>nuget pack XYZ.Core.Messaging.csproj  -Build -Properties Configuration=Release ...\n</code></pre>\n"}], "owner": {"reputation": 28589, "user_id": 639520, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/KzMc4.jpg?s=128&g=1", "display_name": "E-Riz", "link": "https://stackoverflow.com/users/639520/e-riz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4405, "favorite_count": 0, "accepted_answer_id": 49674583, "answer_count": 1, "score": 4, "last_activity_date": 1593188009, "creation_date": 1522867016, "last_edit_date": 1593187778, "question_id": 49658131, "link": "https://stackoverflow.com/questions/49658131/how-does-the-nuget-pack-command-generate-the-package-version", "title": "How does the NuGet pack command generate the package version?", "body": "<p>NuGet version: 4.5.1.4879</p>\n<p>When using &quot;project-driven&quot; NuGet package building (i.e., passing the .csproj file to the <code>nuget pack</code> command), I thought I understood how NuGet will determine the version to use in the generated package. Specifically, that it will use <code>AssemblyInformationalVersion</code> if it exists in the AssemblyInfo, or <code>AssemblyVersion</code> if <code>AssemblyInformationalVersion</code> is not present.</p>\n<p>That seems to work as expected in some of my assemblies (I have a simple 1:1 relationship between assemblies and packages - 1 assembly produces 1 package of the same name), but not in others.</p>\n<p>In a problematic assembly, the AssemblyInfo includes this:</p>\n<pre><code>[assembly: AssemblyVersion(&quot;2.0.0.0&quot;)]\n[assembly: AssemblyFileVersion(&quot;2.0.0.0&quot;)]\n[assembly: AssemblyInformationalVersion(&quot;2.0.0&quot;)]\n</code></pre>\n<p>In the .csproj file I also have this, among other stuff (note the <code>&lt;Version&gt;</code> tag):</p>\n<pre><code>  &lt;PropertyGroup&gt;\n    &lt;Configuration Condition=&quot; '$(Configuration)' == '' &quot;&gt;Debug&lt;/Configuration&gt;\n    &lt;Platform Condition=&quot; '$(Platform)' == '' &quot;&gt;AnyCPU&lt;/Platform&gt;\n    &lt;ProjectGuid&gt;{E233E8E2-EB9E-461F-80C2-63F9AFCC425D}&lt;/ProjectGuid&gt;\n    &lt;OutputType&gt;Library&lt;/OutputType&gt;\n    &lt;AppDesignerFolder&gt;Properties&lt;/AppDesignerFolder&gt;\n    &lt;RootNamespace&gt;XYZ.Core.Messaging&lt;/RootNamespace&gt;\n    &lt;AssemblyName&gt;XYZ.Core.Messaging&lt;/AssemblyName&gt;\n    &lt;TargetFrameworkVersion&gt;v4.6.1&lt;/TargetFrameworkVersion&gt;\n    &lt;FileAlignment&gt;512&lt;/FileAlignment&gt;\n\n    &lt;Version&gt;2.0.0&lt;/Version&gt;\n\n    &lt;NuGetPackageImportStamp&gt;\n    &lt;/NuGetPackageImportStamp&gt;\n    &lt;TargetFrameworkProfile /&gt;\n  &lt;/PropertyGroup&gt;\n</code></pre>\n<p>BTW, I have no .nuspec file.</p>\n<p>Despite those settings, when I try to build the package, using this command:</p>\n<pre><code>nuget pack XYZ.Core.Messaging.csproj  -OutputDirectory &quot;c:\\build\\nuget-local&quot; -Suffix &quot;local&quot;\n</code></pre>\n<p>It builds the package as <code>XYZ.Core.Messaging.1.0.0-local.nupkg</code>.</p>\n<p>For some other packages I build with a similar command (just a different .csproj file), with the same AssemblyInfo contents, those build the package with version 2.0.0 correctly.</p>\n<p>So where could NuGet be getting the 1.0.0 version from?</p>\n"}, {"tags": ["c#", ".net", "firewall"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1522866804, "post_id": 49658044, "comment_id": 86325261, "body": "Moving a file uses the SMB protocol."}, {"owner": {"reputation": 1863, "user_id": 2730283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jqcif.jpg?s=128&g=1", "display_name": "Stefan Crain", "link": "https://stackoverflow.com/users/2730283/stefan-crain"}, "edited": false, "score": 0, "creation_date": 1522867379, "post_id": 49658044, "comment_id": 86325598, "body": "This question does not show research effort. If you are having problems please post your current best guess. You should review <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 0, "last_activity_date": 1522867011, "creation_date": 1522867011, "answer_id": 49658130, "question_id": 49658044, "link": "https://stackoverflow.com/questions/49658044/c-file-move-firewall-port/49658130#49658130", "title": "C# File.Move firewall port", "body": "<p>You need at least <strong>TCP 445</strong>, and to be <em>sure</em> you also want TCP 137-139, though this latter group is only if you're still stuck using NetBIOS for smb name resolution.</p>\n"}], "owner": {"reputation": 3, "user_id": 3447738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2393cfb79f7175fcd1911d8c7e5d652?s=128&d=identicon&r=PG&f=1", "display_name": "Thiago_Espanta", "link": "https://stackoverflow.com/users/3447738/thiago-espanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 49658130, "answer_count": 1, "score": -1, "last_activity_date": 1522867011, "creation_date": 1522866718, "question_id": 49658044, "link": "https://stackoverflow.com/questions/49658044/c-file-move-firewall-port", "title": "C# File.Move firewall port", "body": "<p>I need to copy and/or move files across servers to the other side of my\nfirewall. I was wondering if anyone can tell me what port(s) I will need to\nopen to run these methods in my C# program?</p>\n\n<pre><code>class MoveIt\n{\n    public static void Main()\n    {\n        var localPath = @\"c:\\temp\\\";\n        var remotePath = @\"\\\\MyRemoteServer\\MyShare\\MyPath\\\"\n\n        try\n        {\n            if (File.Exists(localPath + \"MyTestFile.txt\") &amp;&amp;\n                Directory.Exists(remotePath))\n            {\n                File.Move(localPath + \"MyTestFile.txt\", remotePath + \n                \"MyTestFile.txt\");\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(\"The process failed: {0}\", e.ToString());\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 211, "user_id": 5633284, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3aa207464e2dc0b3189c7a95418c1f32?s=128&d=identicon&r=PG&f=1", "display_name": "walangala", "link": "https://stackoverflow.com/users/5633284/walangala"}, "edited": false, "score": 1, "creation_date": 1522866838, "post_id": 49658011, "comment_id": 86325279, "body": "Do you mean take the datepart of a date and get whether it&#39;s Monday, Tuesday, etc? that would mean the property type would be a string"}, {"owner": {"reputation": 2223, "user_id": 5480409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySDx0.png?s=128&g=1", "display_name": "Francesco B.", "link": "https://stackoverflow.com/users/5480409/francesco-b"}, "edited": false, "score": 0, "creation_date": 1522868053, "post_id": 49658011, "comment_id": 86326010, "body": "<a href=\"http://www.smallsql.de/doc/sql-functions/date-time/dayofweek.html\" rel=\"nofollow noreferrer\">smallsql.de/doc/sql-functions/date-time/dayofweek.html</a>  OR <a href=\"https://stackoverflow.com/a/1111013/5480409\">stackoverflow.com/a/1111013/5480409</a>"}], "owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1522871031, "answer_count": 0, "score": -1, "last_activity_date": 1522870680, "creation_date": 1522866608, "last_edit_date": 1522870680, "question_id": 49658011, "link": "https://stackoverflow.com/questions/49658011/how-to-create-dayofweek-in-sql-server", "closed_reason": "Duplicate", "title": "How to create DayOfWeek in SQL Server", "body": "<p>In code first:</p>\n\n<pre><code>public MyClass\n{\n    public int Id { get; set; }\n    public ICollection&lt;DayOfWeek&gt; ExceptionDates { get; set; }\n}\n</code></pre>\n\n<p>but how create <code>ExceptionDates</code> property type in <code>DataBaseFirst</code> or <code>Edmx</code>?</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 612, "user_id": 4663185, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh4.googleusercontent.com/-CRvmCOKLHsE/AAAAAAAAAAI/AAAAAAAAHWI/AWXw4ZVN-jQ/photo.jpg?sz=128", "display_name": "Erik Thysell", "link": "https://stackoverflow.com/users/4663185/erik-thysell"}, "is_accepted": true, "score": 3, "last_activity_date": 1522869363, "last_edit_date": 1522869363, "creation_date": 1522867372, "answer_id": 49658218, "question_id": 49657946, "link": "https://stackoverflow.com/questions/49657946/c-wpf-resourcedictionary-deferrablecontent-exception/49658218#49658218", "title": "c#/wpf ResourceDictionary.DeferrableContent exception", "body": "<p>I found I had two \"keyless\" <code>&lt;style&gt;&lt;/style&gt;</code> tags in the <code>&lt;UserControl.Resources&gt;</code> that caused the problem. Merging these corrected the error. (too bad visual studio does not highlight this as a problem)</p>\n"}], "owner": {"reputation": 612, "user_id": 4663185, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh4.googleusercontent.com/-CRvmCOKLHsE/AAAAAAAAAAI/AAAAAAAAHWI/AWXw4ZVN-jQ/photo.jpg?sz=128", "display_name": "Erik Thysell", "link": "https://stackoverflow.com/users/4663185/erik-thysell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2048, "favorite_count": 0, "accepted_answer_id": 49658218, "answer_count": 1, "score": 3, "last_activity_date": 1522869363, "creation_date": 1522866375, "question_id": 49657946, "link": "https://stackoverflow.com/questions/49657946/c-wpf-resourcedictionary-deferrablecontent-exception", "title": "c#/wpf ResourceDictionary.DeferrableContent exception", "body": "<p>Hi I have an c#/wpf application with a set of <code>UserControl</code>s and got an error when starting debugging in visual studio 2015 when showing a specific <code>UserControl</code>(both in debug and release settings):</p>\n\n<blockquote>\n  <p>Additional information: 'Set property\n  'System.Windows.ResourceDictionary.DeferrableContent' threw an\n  exception.' Line number '16' and line position '6'.</p>\n</blockquote>\n\n<p>Line 16 in the xaml file of the <code>UserControl</code>that causes the exception to be thrown is:</p>\n\n<pre><code>&lt;UserControl.Resources&gt;\n</code></pre>\n\n<p>The <code>_innerException</code> of the thrown exception states:</p>\n\n<blockquote>\n  <p>{\"Item has already been added. Key in dictionary: 'System.Windows.Controls.StackPanel'  Key being added: 'System.Windows.Controls.StackPanel'\"}</p>\n</blockquote>\n\n<p>This seems quite strange and I do not know how to tackle this. I have googled for any clues but they are mostly relevant for specific plugins like telerik and such. Many solutions I have found seems rather \"accidental\".</p>\n\n<p>Does anyone have any ideas?</p>\n\n<p>(using visual studio 2015)</p>\n"}, {"tags": ["c#", "winforms", "list", "shortcut", "favorites"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "edited": false, "score": 1, "creation_date": 1522870427, "post_id": 49657911, "comment_id": 86327383, "body": "Use <code>Environment.GetFolderPath(Environment.SpecialFolder.Favorite&zwnj;&#8203;s)</code> instead of <code>Environment.GetEnvironmentVariable(&quot;USERPROFILE&quot;) + &quot;\\\\Links&quot;</code> due to the fact that the user could have modified his favorites location"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "reply_to_user": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "edited": false, "score": 0, "creation_date": 1522932729, "post_id": 49657911, "comment_id": 86356199, "body": "<code>Environment.GetFolderPath(Environment.SpecialFolder.Favorite&zwnj;&#8203;s)</code> returns the location of Internet Explorer browser Favorites (not the list of favorites that appears in the left pane of a Windows Explorer dialog). I&#39;m not sure if the location of Windows Explorer Favorites (<code>%USERPROFILE%\\Links</code>) can be changed"}, {"owner": {"reputation": 6686, "user_id": 9086466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JI5yN.png?s=128&g=1", "display_name": "Ctznkane525", "link": "https://stackoverflow.com/users/9086466/ctznkane525"}, "edited": false, "score": 0, "creation_date": 1522976135, "post_id": 49657911, "comment_id": 86378915, "body": "wouldn&#39;t you do Directory.GetFiles(pathToLinks, &quot;*.lnk); to filter instead of filtering in the loop?"}, {"owner": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "edited": false, "score": 0, "creation_date": 1523049413, "post_id": 49657911, "comment_id": 86415698, "body": "@NovaSysEng <a href=\"https://drive.google.com/open?id=1IL16fMMr11NpaOjygbQQJgalCtm0X9sw\" rel=\"nofollow noreferrer\">You can change the location</a> but there is a (quite complicated) solution: <a href=\"https://stackoverflow.com/a/27987197/6730162\">stackoverflow.com/a/27987197/6730162</a>"}, {"owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "reply_to_user": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "edited": false, "score": 1, "creation_date": 1523139538, "post_id": 49657911, "comment_id": 86438501, "body": "@TobiasBrohl Thanks - I&#39;ll take a look and I&#39;ll design my application to let the user browse to the location of their choice (with &quot;USERPROFILE&quot;) + &quot;\\\\Links&quot; being the default if it exists) and set it as a default for my app"}], "tags": [], "owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "is_accepted": true, "score": 0, "last_activity_date": 1523015622, "last_edit_date": 1523015622, "creation_date": 1522866252, "answer_id": 49657911, "question_id": 49657876, "link": "https://stackoverflow.com/questions/49657876/how-do-i-get-a-list-of-windows-explorer-favorites-shortcuts-lnk/49657911#49657911", "title": "How do I get a list of Windows Explorer Favorites shortcuts (*.lnk)?", "body": "<p>The Windows Explorer <code>Favorites</code> shortcuts are are stored in {SystemDrive}:\\users{AccountName}\\links. So, something like this will do it in C#</p>\n\n<pre><code>string pathToLinks = Environment.GetEnvironmentVariable(\"USERPROFILE\") + \"\\\\Links\";\nstring[] fileEntries = Directory.GetFiles(pathToLinks, \"*.lnk);\n</code></pre>\n"}], "owner": {"reputation": 2160, "user_id": 9446665, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BmYHc.png?s=128&g=1", "display_name": "William Charlton", "link": "https://stackoverflow.com/users/9446665/william-charlton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 49657911, "answer_count": 1, "score": 0, "last_activity_date": 1523015622, "creation_date": 1522866106, "question_id": 49657876, "link": "https://stackoverflow.com/questions/49657876/how-do-i-get-a-list-of-windows-explorer-favorites-shortcuts-lnk", "title": "How do I get a list of Windows Explorer Favorites shortcuts (*.lnk)?", "body": "<p>I'm building a custom open file dialog and want to display the same list of favorites that appears in the left pane of a Windows Explorer dialog. How do I get a list of Windows Explorer Favorites shortcuts (*.lnk)? </p>\n"}, {"tags": ["c#", "roslyn"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522866185, "post_id": 49657869, "comment_id": 86324895, "body": "This would happen if you&#39;re mixing Roslyn versions."}, {"owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522866313, "post_id": 49657869, "comment_id": 86324963, "body": "I am using version 2.7.0 - added packages.config file content"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522867521, "post_id": 49657869, "comment_id": 86325686, "body": "What version(s) are loaded at runtime? (Debug, Modules)"}, {"owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522869238, "post_id": 49657869, "comment_id": 86326728, "body": "In debug it is loading version 2.7.0, &#39;devenv.exe&#39; (CLR v4.0.30319: DefaultDomain): Loaded &#39;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\CommonExtensions\\Microsoft&zwnj;&#8203;\\ManagedLanguages\\VB&zwnj;&#8203;CSharp\\LanguageServi&zwnj;&#8203;ces\\Microsoft.CodeAn&zwnj;&#8203;alysis.dll&#39;. Skipped loading symbols. Module is optimized and the debugger option &#39;Just My Code&#39; is enabled."}, {"owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522869936, "post_id": 49657869, "comment_id": 86327106, "body": "<a href=\"http://prntscr.com/j0x01q\" rel=\"nofollow noreferrer\">prntscr.com/j0x01q</a> loaded modules"}, {"owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522903216, "post_id": 49657869, "comment_id": 86338277, "body": "@SLaks thanks for the pointers."}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1522903165, "creation_date": 1522903165, "answer_id": 49664261, "question_id": 49657869, "link": "https://stackoverflow.com/questions/49657869/roslyn-inamedtypesymbol-getmembers-throws-method-not-found-exception-on-roslyn/49664261#49664261", "title": "Roslyn INamedTypeSymbol.GetMembers() throws Method Not Found Exception on Roslyn API", "body": "<p>The problem was System.Collections.Immutable version, I was using 1.5.0-preview that happened because I clicked on update all in nuget package manager UI. </p>\n\n<pre><code>&lt;package id=\"System.Collections.Immutable\" version=\"1.5.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n</code></pre>\n\n<p>As soon I downgraded <strong>System.Collections.Immutable</strong> to version 1.3.1 the exception was gone. </p>\n"}], "owner": {"reputation": 718, "user_id": 537151, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aoo1V.jpg?s=128&g=1", "display_name": "rxx", "link": "https://stackoverflow.com/users/537151/rxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 49664261, "answer_count": 1, "score": 0, "last_activity_date": 1522903165, "creation_date": 1522866086, "last_edit_date": 1522866516, "question_id": 49657869, "link": "https://stackoverflow.com/questions/49657869/roslyn-inamedtypesymbol-getmembers-throws-method-not-found-exception-on-roslyn", "title": "Roslyn INamedTypeSymbol.GetMembers() throws Method Not Found Exception on Roslyn API", "body": "<p>I am trying to use Roslyn to navigate to method declaration. I have Namespace name, class name and method name. Below in the code sample I am able to get classReference variable populated. But as soon as  classReference.GetMembers() is called I am getting Method Not Found Exception. Although when I execute classReference.GetMembers() in  intermediate window (Visual Studio debug mode) it gives me correct method names.</p>\n\n<pre><code>public async void NavigateToMethod(string className, string methodName)\n    {\n        Microsoft.CodeAnalysis.Solution sol = Workspace.CurrentSolution;\n        foreach (Microsoft.CodeAnalysis.Project project in sol.Projects)\n        {\n            bool found = false;\n\n            Compilation compilation = await project.GetCompilationAsync();\n            INamedTypeSymbol classReference = compilation.GetTypeByMetadataName(className);\n            List&lt;ISymbol&gt; l = classReference.GetMembers().ToList&lt;ISymbol&gt;();\n            Debug.WriteLine(l);\n\n\n\n            foreach (ISymbol isymbol in classReference.GetMembers(methodName))\n            {\n                IMethodSymbol methodSymbol = isymbol as IMethodSymbol;\n                CancellationTokenSource cts = new CancellationTokenSource();\n                if (Workspace.TryGoToDefinition(methodSymbol, project, cts.Token))\n                {\n                    found = true;\n                    break;\n                }\n            }\n            if (found)\n            {\n                break;\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>Exception</strong>\nSystem.MissingMethodException</p>\n\n<p>HResult=0x80131513</p>\n\n<p>Message=Method not found: 'System.Collections.Immutable.ImmutableArray`1 Microsoft.CodeAnalysis.INamespaceOrTypeSymbol.GetMembers()'.</p>\n\n<p>This is confusing. When I looked at the Microsoft.CodeAnalysis.INamespaceOrTypeSymbol documentation the GetMembers() method exists (public) and I am referencing the assembly which has this method, also it is available at runtime.</p>\n\n<p>Just note <strong>classReference.GetMembers(methodName)</strong> only works in Intermediate window, not sure what is going on.</p>\n\n<p><strong>package.config</strong></p>\n\n<pre><code>&lt;packages&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.Analyzers\" version=\"2.6.0\" targetFramework=\"net461\" developmentDependency=\"true\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.Common\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.CSharp\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.CSharp.Workspaces\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.VisualBasic\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.VisualBasic.Workspaces\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.CodeAnalysis.Workspaces.Common\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.Composition\" version=\"1.0.31\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.Net.Compilers\" version=\"2.7.0\" targetFramework=\"net461\" developmentDependency=\"true\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.CoreUtility\" version=\"15.6.27740\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.ImageCatalog\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Imaging\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.LanguageServices\" version=\"2.7.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.OLE.Interop\" version=\"7.10.6071\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.SDK.EmbedInteropTypes\" version=\"15.0.16\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.15.0\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Framework\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop\" version=\"7.10.6072\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.10.0\" version=\"10.0.30320\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.11.0\" version=\"11.0.61031\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.12.0\" version=\"12.0.30111\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.15.3.DesignTime\" version=\"15.0.26929\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.15.6.DesignTime\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.8.0\" version=\"8.0.50728\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Shell.Interop.9.0\" version=\"9.0.30730\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Text.Data\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.TextManager.Interop\" version=\"7.10.6071\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.TextManager.Interop.8.0\" version=\"8.0.50728\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Threading\" version=\"15.6.46\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Threading.Analyzers\" version=\"15.6.46\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Utilities\" version=\"15.6.27413\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VisualStudio.Validation\" version=\"15.3.32\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"Microsoft.VSSDK.BuildTools\" version=\"15.6.170\" targetFramework=\"net461\" developmentDependency=\"true\" /&gt;\n  &lt;package id=\"Newtonsoft.Json\" version=\"6.0.6\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"StreamJsonRpc\" version=\"1.2.8\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.AppContext\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Collections\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Collections.Concurrent\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Collections.Immutable\" version=\"1.5.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition.AttributedModel\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition.Convention\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition.Hosting\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition.Runtime\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Composition.TypedParts\" version=\"1.2.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Console\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Diagnostics.Debug\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Diagnostics.FileVersionInfo\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Diagnostics.StackTrace\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Diagnostics.Tools\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Dynamic.Runtime\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Globalization\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.IO.Compression\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.IO.FileSystem\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.IO.FileSystem.Primitives\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Linq\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Linq.Expressions\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Reflection\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Reflection.Metadata\" version=\"1.6.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Reflection.Primitives\" version=\"4.3.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Resources.ResourceManager\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Runtime\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Runtime.Extensions\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Runtime.Handles\" version=\"4.3.0\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Runtime.InteropServices\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Runtime.Numerics\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Security.Cryptography.Algorithms\" version=\"4.3.1\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Security.Cryptography.Encoding\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Security.Cryptography.Primitives\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Security.Cryptography.X509Certificates\" version=\"4.3.2\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Text.Encoding\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Text.Encoding.CodePages\" version=\"4.5.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Text.Encoding.Extensions\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Threading\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Threading.Tasks\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Threading.Tasks.Parallel\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Threading.Thread\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.ValueTuple\" version=\"4.5.0-preview1-26216-02\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Xml.ReaderWriter\" version=\"4.3.1\" targetFramework=\"net461\" /&gt;\n  &lt;package id=\"System.Xml.XDocument\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Xml.XmlDocument\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Xml.XPath\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n  &lt;package id=\"System.Xml.XPath.XDocument\" version=\"4.3.0\" targetFramework=\"net46\" /&gt;\n&lt;/packages&gt;\n</code></pre>\n"}, {"tags": ["c#", "gridview", "edititemtemplate"], "comments": [{"owner": {"reputation": 9473, "user_id": 5377037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4e0c20b401183f5646ae297c943f5da4?s=128&d=identicon&r=PG&f=1", "display_name": "5377037", "link": "https://stackoverflow.com/users/5377037/5377037"}, "edited": false, "score": 0, "creation_date": 1522902458, "post_id": 49657824, "comment_id": 86338110, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3458347/how-to-bind-dropdownlist-in-edititemtemplate-in-formview-control\">How to bind dropdownlist in EditItemTemplate in FormView control?</a>"}, {"owner": {"reputation": 353, "user_id": 5363875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16df6be8d858fd73891718be0dbfba67?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5363875/andy"}, "reply_to_user": {"reputation": 9473, "user_id": 5377037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4e0c20b401183f5646ae297c943f5da4?s=128&d=identicon&r=PG&f=1", "display_name": "5377037", "link": "https://stackoverflow.com/users/5377037/5377037"}, "edited": false, "score": 0, "creation_date": 1523044411, "post_id": 49657824, "comment_id": 86413451, "body": "This is not a duplicate.  I don&#39;t want to bind the dropdown options to a database field.  I want to manually code that it can be a Y or a N in the dropdown list and have the code grab whatever is in the text database field.  Clear as mud?"}], "owner": {"reputation": 353, "user_id": 5363875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16df6be8d858fd73891718be0dbfba67?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5363875/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523044552, "creation_date": 1522865902, "last_edit_date": 1523044552, "question_id": 49657824, "link": "https://stackoverflow.com/questions/49657824/adding-yes-no-dropdownlist-to-simple-edititemtemplate", "title": "Adding &quot;Yes/No&quot; DropDownList To Simple EditItemTemplate", "body": "<p>I have a very simple table to update. There are 5 char(1) columns that store either a \"Y\" or a \"N\" in each.  These columns are named Priority1.. Priority5.  I've created a simple update form but of course the default EditItemTemplate allows the user to type in a value for these columns.  I would like to change the edit option for this to be a dropdown that they can only select \"Y\" or \"N\" for the 5 columns.  This was simple in classic ASP but I'm struggling.  Can someone explain how I do this?</p>\n\n<p>This is not a duplicate question. I don't want to bind the dropdown options to a database field. I want to manually code that it can be a Y or a N in the dropdown list and have the code grab whatever is in the text database field.</p>\n\n<p>My form is as below.</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n&lt;div&gt;\n    &lt;asp:FormView ID=\"FormView1\" runat=\"server\" DataKeyNames=\"NotificationsMatrixID\" DataSourceID=\"SqlDataSource1\"&gt;\n        &lt;EditItemTemplate&gt;\n            NotificationsMatrixID:\n            &lt;asp:Label ID=\"NotificationsMatrixIDLabel1\" runat=\"server\" Text='&lt;%# Eval(\"NotificationsMatrixID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            CustID:\n            &lt;asp:TextBox ID=\"CustIDTextBox\" runat=\"server\" Text='&lt;%# Bind(\"CustID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            GID:\n            &lt;asp:TextBox ID=\"GIDTextBox\" runat=\"server\" Text='&lt;%# Bind(\"GID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            EMailAddress:\n            &lt;asp:TextBox ID=\"EMailAddressTextBox\" runat=\"server\" Text='&lt;%# Bind(\"EMailAddress\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority1:\n            &lt;asp:TextBox ID=\"Priority1TextBox\" runat=\"server\" Text='&lt;%# Bind(\"Priority1\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority2:\n            &lt;asp:TextBox ID=\"Priority2TextBox\" runat=\"server\" Text='&lt;%# Bind(\"Priority2\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority3:\n            &lt;asp:TextBox ID=\"Priority3TextBox\" runat=\"server\" Text='&lt;%# Bind(\"Priority3\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority4:\n            &lt;asp:TextBox ID=\"Priority4TextBox\" runat=\"server\" Text='&lt;%# Bind(\"Priority4\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority5:\n            &lt;asp:TextBox ID=\"Priority5TextBox\" runat=\"server\" Text='&lt;%# Bind(\"Priority5\") %&gt;' /&gt;\n            &lt;br /&gt;\n            &lt;asp:LinkButton ID=\"UpdateButton\" runat=\"server\" CausesValidation=\"True\" CommandName=\"Update\" Text=\"Update\" /&gt;\n            &amp;nbsp;&lt;asp:LinkButton ID=\"UpdateCancelButton\" runat=\"server\" CausesValidation=\"False\" CommandName=\"Cancel\" Text=\"Cancel\" /&gt;\n        &lt;/EditItemTemplate&gt;\n\n\n\n\n        &lt;ItemTemplate&gt;\n            NotificationsMatrixID:\n            &lt;asp:Label ID=\"NotificationsMatrixIDLabel\" runat=\"server\" Text='&lt;%# Eval(\"NotificationsMatrixID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            CustID:\n            &lt;asp:Label ID=\"CustIDLabel\" runat=\"server\" Text='&lt;%# Bind(\"CustID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            GID:\n            &lt;asp:Label ID=\"GIDLabel\" runat=\"server\" Text='&lt;%# Bind(\"GID\") %&gt;' /&gt;\n            &lt;br /&gt;\n            EMailAddress:\n            &lt;asp:Label ID=\"EMailAddressLabel\" runat=\"server\" Text='&lt;%# Bind(\"EMailAddress\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority1:\n            &lt;asp:Label ID=\"Priority1Label\" runat=\"server\" Text='&lt;%# Bind(\"Priority1\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority2:\n            &lt;asp:Label ID=\"Priority2Label\" runat=\"server\" Text='&lt;%# Bind(\"Priority2\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority3:\n            &lt;asp:Label ID=\"Priority3Label\" runat=\"server\" Text='&lt;%# Bind(\"Priority3\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority4:\n            &lt;asp:Label ID=\"Priority4Label\" runat=\"server\" Text='&lt;%# Bind(\"Priority4\") %&gt;' /&gt;\n            &lt;br /&gt;\n            Priority5:\n            &lt;asp:Label ID=\"Priority5Label\" runat=\"server\" Text='&lt;%# Bind(\"Priority5\") %&gt;' /&gt;\n            &lt;br /&gt;\n            &lt;asp:LinkButton ID=\"EditButton\" runat=\"server\" CausesValidation=\"False\" CommandName=\"Edit\" Text=\"Edit\" /&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:FormView&gt;\n    &lt;asp:SqlDataSource ID=\"SqlDataSource1\" runat=\"server\" ConnectionString=\"&lt;%$ ConnectionStrings:Heat974ConnectionString %&gt;\" SelectCommand=\"SELECT * FROM [NotificationsMatrix]\" UpdateCommand=\"UPDATE [NotificationsMatrix] SET [CustID] = @CustID, [GID] = @GID, [EMailAddress] = @EMailAddress, [Priority1] = @Priority1, [Priority2] = @Priority2, [Priority3] = @Priority3, [Priority4] = @Priority4, [Priority5] = @Priority5 WHERE [NotificationsMatrixID] = @NotificationsMatrixID\"&gt;\n        &lt;UpdateParameters&gt;\n            &lt;asp:Parameter Name=\"CustID\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"GID\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"EMailAddress\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"Priority1\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"Priority2\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"Priority3\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"Priority4\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"Priority5\" Type=\"String\" /&gt;\n            &lt;asp:Parameter Name=\"NotificationsMatrixID\" Type=\"Int32\" /&gt;\n        &lt;/UpdateParameters&gt;\n    &lt;/asp:SqlDataSource&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["c#", "json", "vb.net", "datetime", "json.net"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1522866282, "post_id": 49657807, "comment_id": 86324944, "body": "Try <code>DateTime.ParseExact</code> with a format string instead."}, {"owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "edited": false, "score": 1, "creation_date": 1522866480, "post_id": 49657807, "comment_id": 86325066, "body": "<code>DateTime.Parse</code> is culture-specific and relies on localization. Check if your computer format is MM/DD/YYY and not  DD/MM/YYYY"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1522879339, "post_id": 49657807, "comment_id": 86331972, "body": "Can you please <a href=\"https://stackoverflow.com/posts/49657807/edit\">edit</a> your question to share sample JSON that reproduces the problem -- i.e. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9598442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yf9Qe.jpg?s=128&g=1", "display_name": "Tobias Forster", "link": "https://stackoverflow.com/users/9598442/tobias-forster"}, "edited": false, "score": 0, "creation_date": 1522908940, "post_id": 49664989, "comment_id": 86340395, "body": "Wow! Thank you, it runs like a charm. Well explained!"}], "tags": [], "owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "is_accepted": true, "score": 0, "last_activity_date": 1522907275, "creation_date": 1522907275, "answer_id": 49664989, "question_id": 49657807, "link": "https://stackoverflow.com/questions/49657807/datetime-system-formatexception-after-deserialize-json-string-to-dataset/49664989#49664989", "title": "DateTime-System.FormatException after deserialize json-String to DataSet", "body": "<p>JSON.NET has <code>IsoDateTimeConverter</code> class where you can specify date format to parse formatted UTC datetime in JSON string as <code>DateTime</code> with <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Converters_IsoDateTimeConverter_DateTimeFormat.htm\" rel=\"nofollow noreferrer\"><code>DateTimeFormat</code></a> property. The property usage should be like this:</p>\n\n<pre><code>Dim formatter As New IsoDateTimeConverter With { .DateTimeFormat = \"dd/MM/yyyy\" }\nDim ds = JsonConvert.DeserializeObject(Of DataSet)(json, formatter)\n</code></pre>\n\n<p>Or use it in one-line form:</p>\n\n<pre><code>Dim ds = JsonConvert.DeserializeObject(Of DataSet)(json, New IsoDateTimeConverter With { .DateTimeFormat = \"dd/MM/yyyy\" })\n</code></pre>\n\n<p>Note that you need adding <code>Newtonsoft.Json.Converters</code> namespace to enable <code>IsoDateTimeConverter</code> class.</p>\n\n<p>Afterwards, use <code>DateTime.ParseExact()</code> with specified format above to make sure that returned date string can be converted to <code>DateTime</code> type.</p>\n\n<p>Similar issue (in C# context):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21256132/deserializing-dates-with-dd-mm-yyyy-format-using-json-net\">Deserializing dates with dd/mm/yyyy format using Json.Net</a></p>\n"}], "owner": {"reputation": 13, "user_id": 9598442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yf9Qe.jpg?s=128&g=1", "display_name": "Tobias Forster", "link": "https://stackoverflow.com/users/9598442/tobias-forster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 0, "accepted_answer_id": 49664989, "answer_count": 1, "score": 1, "last_activity_date": 1522907275, "creation_date": 1522865839, "last_edit_date": 1522905894, "question_id": 49657807, "link": "https://stackoverflow.com/questions/49657807/datetime-system-formatexception-after-deserialize-json-string-to-dataset", "title": "DateTime-System.FormatException after deserialize json-String to DataSet", "body": "<p>i have a big problem with a DateTime-Format after deserializing a json-string to a Dataset.</p>\n\n<pre><code>Dim formatter = new JsonSerializerSettings() With { .DateFormatString = \"yyyy-MM-ddThh:mm:ssZ\" }\nDim json = JsonConvert.SerializeObject(result, Newtonsoft.Json.Formatting.Indented,formatter)\n</code></pre>\n\n<p>After this two lines I get a well formed DateTime-Format\n(e.g. \"2015-11-24T09:36:00Z\")</p>\n\n<p>But after that, I have to convert this json-string to a DataSet-Object.\nI do it like this:</p>\n\n<pre><code>Dim ds = JsonConvert.DeserializeObject(Of DataSet)(json,formatter)\n</code></pre>\n\n<p>And now, the DateTime-Value looks like this: \"11/24/2015 09:36:00\"</p>\n\n<p>Finally this value ends in an Exception, that it is not a valide DateTime, if I want do parse it to an DateTime...</p>\n\n<pre><code>DateTime.Parse(\"11/24/2015 09:36:00\")\n</code></pre>\n\n<p>So maybe there are some formatters which i have to use?\nI don't know...</p>\n\n<p>Hope you can help me!\nThank you in advance!</p>\n\n<p><strong>EDIT:</strong>\nSample-Jsonstring:</p>\n\n<pre><code>{\"records\":[{\"Key\":\"EIG*11111\",\"ChangeDate\":\"2015-11-24T09:36:00Z\"}]}\n</code></pre>\n\n<p>This ChangeDate will be formatted to #11/24/2015 09:36:00 AM# in the DataRow</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 3, "creation_date": 1522865402, "post_id": 49657675, "comment_id": 86324457, "body": "<i>&quot;I&#39;m trying to take a string, check if they have parentheses or brackets in them, check if those contain numbers inside, and return true if it does&quot;</i> That horribly complicated <code>for</code> loop can be replaced by a simple Regex."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1522865629, "post_id": 49657675, "comment_id": 86324557, "body": "What does your magic number <code>20</code> represent? It seems like that&#39;s the problem. Perhaps you should either <code>Split</code> first so you know the <code>Length</code> (and so you only do it once instead of every iteration), or use some other method, like <code>IndexOf</code> or, as Ron said, <code>Regex</code>"}, {"owner": {"reputation": 29, "user_id": 9514258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32120a2aa12dc83ee478e714a573fde7?s=128&d=identicon&r=PG&f=1", "display_name": "Taqwa", "link": "https://stackoverflow.com/users/9514258/taqwa"}, "edited": false, "score": 0, "creation_date": 1522866160, "post_id": 49657675, "comment_id": 86324879, "body": "20 is just a random number. Im not that familiar with Regex, can you help me with the code? Or is there a way to split and get all the returned items at once and store them in an array or something?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1522866164, "post_id": 49657675, "comment_id": 86324883, "body": "To get past your initial error, first do: <code>string[] items = s.Split(p1, p2);</code> Then you can loop over the length of the array: <code>for (int i = 1; i &lt; items.Length; i += 2) { ... }</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1522867634, "post_id": 49657675, "comment_id": 86325762, "body": "Here&#39;s one way to do it: <code>private static bool HasRef(string s, char p1, char p2) { var result = false; var secondIndex = -1; do { var firstIndex = s.IndexOf(p1, secondIndex + 1); if (firstIndex == -1) break; secondIndex = s.IndexOf(p2, firstIndex + 1);  if (secondIndex == -1) break; var contents = s.Substring(firstIndex + 1, secondIndex - firstIndex - 1); Console.WriteLine($&quot;Found item: {p1}{contents}{p2}&quot;); if (contents.Any(char.IsNumber)) { result = true; } } while (s.Length &gt; secondIndex + 1); return result;  }</code>"}], "owner": {"reputation": 29, "user_id": 9514258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32120a2aa12dc83ee478e714a573fde7?s=128&d=identicon&r=PG&f=1", "display_name": "Taqwa", "link": "https://stackoverflow.com/users/9514258/taqwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1522865863, "answer_count": 0, "score": 0, "last_activity_date": 1522865915, "creation_date": 1522865324, "last_edit_date": 1522865915, "question_id": 49657675, "link": "https://stackoverflow.com/questions/49657675/index-out-of-range-in-for-loop-unable-to-know-how-many-items-will-be-returned", "closed_reason": "Duplicate", "title": "index out of range in for loop, unable to know how many items will be returned", "body": "<p>I'm trying to take a string, check if they have parentheses or brackets in them, check if those contain numbers inside, and return true if it does. </p>\n\n<p>I'm using <code>Any(char.IsDigit)</code> to check if there is a digit but it still returns <code>true</code> if there are just letters and no digits. </p>\n\n<p>Also I keep getting an error that the index is out of bounds. I will be using different strings so I can't use a fixed number for the bounds. I'm checking that it is not <code>null</code> in the for loop before going to the next one, but maybe thats not how Im supposed to do it?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>public static void Main(string[] args)\n{            \n    string test = \"Endometrial cancer is the most common gynecologic malignancy in the developed world[1], with the highest incidence in the US and Canada[2]. Endometrial biopsy plays a significant role in early cancer diagnosis, preoperative assessment, and treatment planning[3, 4], with Pipelle biopsy emerging as the most common method for sampling endometrial tissue in patients with suspected endometrial cancer[5, 6]. Pipelle sampling is a cost-effective[7] procedure and has similar sampling adequacy and histopathological results as dilation and curettage (DC)[8].\";\n\n    bool brackets = hasRef(test, '[', ']');\n    bool parantheses = hasRef(test, '(', ')');\n\n    Console.WriteLine(brackets);\n    Console.WriteLine(parantheses);\n\n}\n\nstatic bool hasRef(string s, char p1, char p2)\n{\n    bool has = false;\n\n    for (int i = 1; (i &lt;= 20 &amp;&amp; ((s.Split(p1, p2)[i]) != null)); i += 2)\n    {\n        string split = s.Split(p1, p2)[i];\n        Console.WriteLine(p1 + split);\n        if (split.Any(char.IsDigit))\n        {\n            has = true;\n            Console.WriteLine(split);\n            break;\n        }\n    }\n\n    return has;\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Exception in user code:</p>\n  \n  <p>System.IndexOutOfRangeException: Index was outside the bounds of the array.<br>\n         at Rextester.Program.hasRef(String s, Char p1, Char p2)<br>\n         at Rextester.Program.Main(String[] args)</p>\n</blockquote>\n"}, {"tags": ["c#", "linq", "ef-core-2.0"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "edited": false, "score": 0, "creation_date": 1522940012, "post_id": 49662590, "comment_id": 86361762, "body": "I did use scaffold and I get no Where option when I do what you stated to do. I get Add, Update, Remove, and other things."}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "edited": false, "score": 0, "creation_date": 1522940915, "post_id": 49662590, "comment_id": 86362490, "body": "Press F12 on the object you are trying to do Where on.. what line of code and type does it take you to"}, {"owner": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "edited": false, "score": 0, "creation_date": 1522956416, "post_id": 49662590, "comment_id": 86371843, "body": "It takes me to public virtual DbSet&lt;TCustomerCampaigns&gt; TCustomerCampaigns { get; set; } which is the object."}, {"owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "reply_to_user": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "edited": false, "score": 0, "creation_date": 1522957303, "post_id": 49662590, "comment_id": 86372322, "body": "Ok so Where should be there no problem. You have in the code file you are typing .Where, the using System.Linq; right? Also if you type TCustomerCampaigns.Where and then hold Ctrl and press . (so the period key) it should bring up a context menu and would prompt to include the namespace if not already"}, {"owner": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "edited": false, "score": 0, "creation_date": 1523024887, "post_id": 49662590, "comment_id": 86402687, "body": "Thank you! That helped me."}], "tags": [], "owner": {"reputation": 392, "user_id": 2340728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c0105b33277fca6dfa04173c9b1c03?s=128&d=identicon&r=PG", "display_name": "angelsix", "link": "https://stackoverflow.com/users/2340728/angelsix"}, "is_accepted": true, "score": 0, "last_activity_date": 1522889862, "creation_date": 1522889862, "answer_id": 49662590, "question_id": 49657673, "link": "https://stackoverflow.com/questions/49657673/ef-core-2-0-reverse-engineer-my-model-now-cant-query-dbsets/49662590#49662590", "title": "EF core 2.0 reverse engineer my model now can&#39;t query DbSets", "body": "<p>If you did <code>Scaffold-DbContext</code> to generate the files you should have no problem. <a href=\"https://docs.microsoft.com/en-us/ef/core/get-started/aspnetcore/existing-db\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/get-started/aspnetcore/existing-db</a></p>\n\n<p>If you did do that what you should have is a bunch of model classes like:</p>\n\n<pre><code>public partial class SomeTable\n{ \n    public int SomeValue {get;set;}\n}\n</code></pre>\n\n<p>And then a <code>Context</code> class similar to this:</p>\n\n<pre><code>public partial class SomeContext : DbContext\n{\n    public virtual DbSet&lt;SomeTable&gt; SomeTable { get; set; }\n\n    ....\n}\n</code></pre>\n\n<p>And then your call should be <code>someContext.SomeTable.Where(...)</code>. </p>\n\n<p>I presume you have not done the scaffold call and instead done something manually and not created <code>DbSet&lt;...&gt;</code> properties in your <code>DbContext</code></p>\n"}], "owner": {"reputation": 25, "user_id": 7322452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22347638ae06b25468b5a08ebd0ab717?s=128&d=identicon&r=PG&f=1", "display_name": "ARivera618", "link": "https://stackoverflow.com/users/7322452/arivera618"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 49662590, "answer_count": 1, "score": 0, "last_activity_date": 1522889862, "creation_date": 1522865321, "last_edit_date": 1522869777, "question_id": 49657673, "link": "https://stackoverflow.com/questions/49657673/ef-core-2-0-reverse-engineer-my-model-now-cant-query-dbsets", "title": "EF core 2.0 reverse engineer my model now can&#39;t query DbSets", "body": "<p>I'm new to EF core 2.0 I reversed engineered my database and now have a dbContext file and all my model classes. I'm trying to use linq to query EF but can't get to the Where clause? Can someone point to what I'm doing wrong? Is there a namespace other then System.Linq that I should be using? </p>\n\n<p>This is what I'm trying to do.</p>\n\n<p>var foundObjects = _contextMarketing.T_CustomerCampaigns.Where(o => o.CheckNum.Equals(prospect.offerCode)).ToList();</p>\n"}, {"tags": ["c#", "regex"], "answers": [{"comments": [{"owner": {"reputation": 3901, "user_id": 324419, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/351c7a282284f24793122b0ac41b56a3?s=128&d=identicon&r=PG", "display_name": "geoff swartz", "link": "https://stackoverflow.com/users/324419/geoff-swartz"}, "edited": false, "score": 0, "creation_date": 1522865785, "post_id": 49657743, "comment_id": 86324640, "body": "doh!  of course!  thanks"}], "tags": [], "owner": {"reputation": 8645, "user_id": 5235574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wEodm.jpg?s=128&g=1", "display_name": "Fruchtzwerg", "link": "https://stackoverflow.com/users/5235574/fruchtzwerg"}, "is_accepted": true, "score": 2, "last_activity_date": 1522865589, "creation_date": 1522865589, "answer_id": 49657743, "question_id": 49657610, "link": "https://stackoverflow.com/questions/49657610/why-does-regex-ismatch-return-wrong-values/49657743#49657743", "title": "Why does Regex.IsMatch return wrong values?", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/sdx2bds0(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN</a> says:</p>\n\n<blockquote>\n<pre><code>public static bool IsMatch(\n          string input,\n          string pattern\n)\n</code></pre>\n</blockquote>\n\n<p>Since your parameters are swapped, your pattern is empty. The result will always be true. You need to swap your parameters to get a correct result:</p>\n\n<pre><code>var isMatch = Regex.IsMatch(input, @\"^\\d{6,}\");\n</code></pre>\n"}], "owner": {"reputation": 3901, "user_id": 324419, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/351c7a282284f24793122b0ac41b56a3?s=128&d=identicon&r=PG", "display_name": "geoff swartz", "link": "https://stackoverflow.com/users/324419/geoff-swartz"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1522866308, "accepted_answer_id": 49657743, "answer_count": 1, "score": -1, "last_activity_date": 1551428322, "creation_date": 1522865055, "question_id": 49657610, "link": "https://stackoverflow.com/questions/49657610/why-does-regex-ismatch-return-wrong-values", "closed_reason": "Duplicate", "title": "Why does Regex.IsMatch return wrong values?", "body": "<p>With this code, isMatch is false.</p>\n\n<pre><code>var input = \"12312345023\";\nvar isMatch = Regex.IsMatch(@\"^\\d{6,}\", input);\n</code></pre>\n\n<p>And if input = \"\", isMatch is true.  Not sure why it seems to be opposite of what it should be.</p>\n\n<p>If I try the same pattern and input <a href=\"http://regexstorm.net/tester\" rel=\"nofollow noreferrer\">here</a> it works as expected.  But when I start a new console app with just that code, isMatch is not correct.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1522865870, "post_id": 49657591, "comment_id": 86324694, "body": "That is just the declaration, valid because Array is the base type of any array.  You actually get an T[] back, where T is the enum type.   .NET 1.x did not yet have generics."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 1, "creation_date": 1522866401, "post_id": 49657591, "comment_id": 86325021, "body": "&#180;Enum.GetValues&#180; is from before the age of generics. It&#39;s easy to write a generic wrapper for it that returns the correct type."}], "answers": [{"comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1522868057, "post_id": 49658110, "comment_id": 86326015, "body": "<i>Array is the base class of object[] is the best I can tell you.</i> Thanks for this line. I always thought <code>[]</code> was core to the framework and <code>Array</code> used <code>object[]</code> underneath."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1522868728, "post_id": 49658110, "comment_id": 86326423, "body": "@TyCobb: Arrays are surprisingly complicated in the CLR; there are features in the CLR array type system that C# does not surface. For example, the CLR lets you define an array type like <code>int[10..20]</code>, that is, a one-dimensional array of ints with lower bound index 10 and upper bound index 20, <i>in the type system itself</i>, not just at runtime. C# does not support such types, obviously."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1522868995, "post_id": 49658110, "comment_id": 86326576, "body": "@TyCobb: But yes, <code>Array</code> is simply a base type of all array types, just as <code>Delegate</code> is a base type of all delegate types, <code>Enum</code> is a base type of all enum types, and <code>ValueType</code> is a base type of all value types.  Oddly enough, <code>Nullable</code>, the non-generic version, is <i>not</i> the base type of all nullable types."}, {"owner": {"reputation": 91, "user_id": 4246463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9JYrsSQFL1Q/AAAAAAAAAAI/AAAAAAAAACo/Q6Xq4BFS1U4/photo.jpg?sz=128", "display_name": "Gusty Abra", "link": "https://stackoverflow.com/users/4246463/gusty-abra"}, "edited": false, "score": 0, "creation_date": 1522872517, "post_id": 49658110, "comment_id": 86328623, "body": "There&#39;s a lot of extra information here but the basic answer seems to be that <code>Array</code> is the base class for <code>object[]</code> (and all <code>T[]</code>). I was thinking that <code>object[]</code> was the base class for all <code>T[]</code>s but now I see that that&#39;s not right. And the return type of <code>Enum.GetValues()</code> isn&#39;t <code>EnumType[]</code> because generics didn&#39;t exist back then. Also, not sure why it&#39;s so difficult for you to answer the giraffe/mammal question, a giraffe is a specific species while a mammal is any species in the mammal group."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 91, "user_id": 4246463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9JYrsSQFL1Q/AAAAAAAAAAI/AAAAAAAAACo/Q6Xq4BFS1U4/photo.jpg?sz=128", "display_name": "Gusty Abra", "link": "https://stackoverflow.com/users/4246463/gusty-abra"}, "edited": false, "score": 0, "creation_date": 1522872848, "post_id": 49658110, "comment_id": 86328795, "body": "@GustyAbra: No, absolutely <i>a giraffe</i> is not a <i>species</i>. <i>Giraffa camelopardalis</i> is a <i>species</i>.  A giraffe is a giraffe!  What&#39;s the difference between <i>the set of all giraffes</i> and <i>the set of all mammals</i>?  What&#39;s the difference between <i>the abstract concept of giraffeness</i> and <i>the abstract concept of mammalness</i>?  Do those two questions have the same, or different answers? Now perhaps you begin to see why the &quot;what&#39;s the difference&quot; question is subtle."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 91, "user_id": 4246463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9JYrsSQFL1Q/AAAAAAAAAAI/AAAAAAAAACo/Q6Xq4BFS1U4/photo.jpg?sz=128", "display_name": "Gusty Abra", "link": "https://stackoverflow.com/users/4246463/gusty-abra"}, "edited": false, "score": 0, "creation_date": 1522872998, "post_id": 49658110, "comment_id": 86328873, "body": "@GustyAbra: <code>object[]</code> is not the <i>base type</i> of any type at all; all <i>base types</i> are class types in C#, but <code>object[]</code> is an <i>array type</i>.  Note that <i>all single-dimensional array types with reference types for their element type are convertible to <code>object[]</code></i> via <i>unsafe array covariance</i>. It&#39;s a terrible feature."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 11, "last_activity_date": 1522869496, "last_edit_date": 1522869496, "creation_date": 1522866934, "answer_id": 49658110, "question_id": 49657591, "link": "https://stackoverflow.com/questions/49657591/what-is-the-difference-between-array-and-object-in-c/49658110#49658110", "title": "What is the difference between Array and object[] in C#?", "body": "<blockquote>\n  <p>I was about to use <code>Enum.GetValues()</code> as normal, and started wondering why it returns a <code>System.Array</code> instead of <code>object[]</code>. </p>\n</blockquote>\n\n<p>Because <code>object[]</code> would box all the values.  What we want is an array of the values themselves, not their boxed versions.</p>\n\n<p>The only way to represent that <em>generically</em> in pre-generics C# is <code>Array</code>.  Remember, that API was in the first version of the CLR, which lacked generics.</p>\n\n<p>There are a number of better possible designs in a world with generics.</p>\n\n<p>Frankly, there are better designs in a world without generics too. Two that immediately come to mind are: (1) This could have been an instance method on <code>Type</code>, (2) the C# compiler could have generated a <code>public static MyEnum[] GetValues()</code> method on every enum type.</p>\n\n<blockquote>\n  <p>Is it something to do with the ComVisible attribute?</p>\n</blockquote>\n\n<p>Not to my knowledge.</p>\n\n<blockquote>\n  <p>What is the difference between <code>Array</code> and <code>object[]</code>, if any?</p>\n</blockquote>\n\n<p>I don't know how to answer \"what's the difference\" questions.  If I asked you \"what's the difference between a giraffe and a mammal?\" how would you answer it? It's a bizarre question. </p>\n\n<p><code>Array</code> is the base class of <code>object[]</code> is the best I can tell you.</p>\n\n<blockquote>\n  <p>I know <code>Array</code> can be used for static methods whilst <code>T[]</code> cannot but is there a difference for instances?</p>\n</blockquote>\n\n<p>I don't understand this question either. Can you give an example of what you mean by \"can be used for static methods\"?</p>\n\n<p>Perhaps what you mean is the oddity that <em>usually</em> you can access the static members of a type from a derived type, but you cannot with array types?  That is, you can say:</p>\n\n<pre><code>class B { public static void M() {} } \nclass D : B {}\n...\nB.M();\nD.M(); // Same thing\n</code></pre>\n\n<p>And this works:</p>\n\n<pre><code>Array.Sort(whatever);\n</code></pre>\n\n<p>But this does not work:</p>\n\n<pre><code>int[].Sort(whatever);\n</code></pre>\n\n<p>That's an oddity of how C# processes member access operators, but it's an oddity that hurts nothing because if you're typing <code>int[].Sort()</code> odds are pretty good you're doing something wrong.</p>\n\n<p>Either way, I don't see what it has to do with your question. Can you clarify the question?</p>\n\n<blockquote>\n  <p>If there is no difference, why does Enum.GetValues() return Array instead of object[]?</p>\n</blockquote>\n\n<p>This question is incoherent. If you told me that \"The White House\" and \"1600 Pennsylvania Avenue\" were the same address, and I then said \"well, if there's no difference, then why does President Trump live at The White House instead of 1600 Pennsylvania Avenue?\" how would you answer my crazy question?  <em>If there's no difference then there's no difference, so why does it matter?</em></p>\n\n<p>In this case, the question is based on a false premise, as <code>object[]</code> and <code>Array</code> <em>are</em> different.  But the question as it stands cannot be answered.</p>\n"}], "owner": {"reputation": 91, "user_id": 4246463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9JYrsSQFL1Q/AAAAAAAAAAI/AAAAAAAAACo/Q6Xq4BFS1U4/photo.jpg?sz=128", "display_name": "Gusty Abra", "link": "https://stackoverflow.com/users/4246463/gusty-abra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 1, "accepted_answer_id": 49658110, "answer_count": 1, "score": 6, "last_activity_date": 1522869496, "creation_date": 1522864979, "last_edit_date": 1522865251, "question_id": 49657591, "link": "https://stackoverflow.com/questions/49657591/what-is-the-difference-between-array-and-object-in-c", "title": "What is the difference between Array and object[] in C#?", "body": "<p>I was about to use <code>Enum.GetValues()</code> as normal, and started wondering why it returns a <code>System.Array</code> instead of <code>object[]</code>. Is it something to do with the <code>ComVisible</code> attribute?</p>\n\n<p>This led to the question, what is the difference between <code>Array</code> and <code>object[]</code>, if any?</p>\n\n<p>I know <code>Array</code> can be used for static methods whilst <code>T[]</code> cannot but is there a difference for instances? They seem to have the same instance methods/properties.</p>\n\n<p>If there is no difference, why does <code>Enum.GetValues()</code> return <code>Array</code> instead of <code>object[]</code>?</p>\n"}, {"tags": ["c#", "android", "wcf", "xamarin"], "comments": [{"owner": {"reputation": 4088, "user_id": 8632294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VLTU.jpg?s=128&g=1", "display_name": "Robbit", "link": "https://stackoverflow.com/users/8632294/robbit"}, "edited": false, "score": 0, "creation_date": 1522891557, "post_id": 49657548, "comment_id": 86335550, "body": "Are you updating the UI from work thread?"}, {"owner": {"reputation": 1, "user_id": 6495693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f883d7c1f05d590d0f01cc2569e0b49b?s=128&d=identicon&r=PG&f=1", "display_name": "CEDeveloper", "link": "https://stackoverflow.com/users/6495693/cedeveloper"}, "reply_to_user": {"reputation": 4088, "user_id": 8632294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VLTU.jpg?s=128&g=1", "display_name": "Robbit", "link": "https://stackoverflow.com/users/8632294/robbit"}, "edited": false, "score": 0, "creation_date": 1522925241, "post_id": 49657548, "comment_id": 86350854, "body": "No.  I added the debug information that occurs after I click the button.  Thanks."}], "owner": {"reputation": 1, "user_id": 6495693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f883d7c1f05d590d0f01cc2569e0b49b?s=128&d=identicon&r=PG&f=1", "display_name": "CEDeveloper", "link": "https://stackoverflow.com/users/6495693/cedeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522925206, "creation_date": 1522864795, "last_edit_date": 1522925206, "question_id": 49657548, "link": "https://stackoverflow.com/questions/49657548/xamarin-android-wcf-method-call-is-not-completing", "title": "XAMARIN.Android WCF Method Call Is Not Completing", "body": "<p>I have  a Visual Studio 2017 Xamarin Form that has a button on it that when clicked will execute a WCF method that returns a number.  The app works fine in UWP and the app receives the number from the WCF call.  On Android (emulator) though the method is executed but never completes.  I ran wireshark and even see in trace logs on the web server that the call is received and the data is returned to the computer running the emulator, but the app is acting like it's still waiting.  I do have Internet permission selected in the project properties for the android app.  The code is below.  You can see that there is a before and after debug log entry.  The \"before update data\" entry is written to the debug log, but the \"past update data\" entry is not.  And no errors are being thrown.  Thanks for any help.</p>\n\n<pre><code>      private async void LoginButton_Click(object sender, EventArgs ea)\n    {\n\n        System.Diagnostics.Debug.WriteLine(\"before update data\");\n\n\n\n        Task.Run(() =&gt; \n      UpdateData().ConfigureAwait(continueOnCapturedContext:false)); \n\n\n\n        System.Diagnostics.Debug.WriteLine(\"past update data\");\n    } \n</code></pre>\n\n<p><strong>This is the debug information after I press the button.</strong></p>\n\n<pre><code>Thread started: &lt;Thread Pool&gt; #2\nThread started: &lt;Thread Pool&gt; #3\nThread started: &lt;Thread Pool&gt; #4\nThread started: &lt;Thread Pool&gt; #5\n04-05 06:39:22.845 D/Mono    (11093): DllImport attempting to load: '__Internal'.\n04-05 06:39:22.845 D/Mono    (11093): DllImport loaded library '(null)'.\n04-05 06:39:22.845 D/Mono    (11093): DllImport searching in: '__Internal' ('(null)').\n04-05 06:39:22.845 D/Mono    (11093): Searching for 'monodroid_get_system_property'.\n04-05 06:39:22.845 D/Mono    (11093): Probing 'monodroid_get_system_property'.\n04-05 06:39:22.845 D/Mono    (11093): Found as 'monodroid_get_system_property'.\n04-05 06:39:22.846 D/Mono    (11093): DllImport searching in: '__Internal' ('(null)').\n04-05 06:39:22.846 D/Mono    (11093): Searching for 'monodroid_free'.\n04-05 06:39:22.846 D/Mono    (11093): Probing 'monodroid_free'.\n04-05 06:39:22.846 D/Mono    (11093): Found as 'monodroid_free'.\n[0:] before update data\n04-05 06:39:23.313 D/Mono    (11093): Image addref Mono.Security[0x86f7ce20] -&gt; Mono.Security.dll[0x860aa200]: 2\n04-05 06:39:23.313 D/Mono    (11093): Prepared to set up assembly 'Mono.Security' (Mono.Security.dll)\nLoaded assembly: Mono.Security.dll [External]04-05 06:39:23.313 D/Mono    (11093): Assembly Mono.Security[0x86f7ce20] added to domain RootDomain, ref_count=1\n\n04-05 06:39:23.314 D/Mono    (11093): AOT: image 'Mono.Security.dll.so' not found: dlopen failed: library \"/data/app/com.companyname.SampleClient -1/lib/x86/libaot-Mono.Security.dll.so\" not found\n04-05 06:39:23.314 D/Mono    (11093): AOT: image '/usr/local/lib/mono/aot-cache/x86/Mono.Security.dll.so' not found: dlopen failed: library \"/data/app/com.companyname.SampleClient-1/lib/x86/libaot-Mono.Security.dll.so\" not found\n04-05 06:39:23.314 D/Mono    (11093): Config attempting to parse: 'Mono.Security.dll.config'.\n04-05 06:39:23.314 D/Mono    (11093): Config attempting to parse: '/usr/local/etc/mono/assemblies/Mono.Security/Mono.Security.config'.\n04-05 06:39:23.314 D/Mono    (11093): Assembly Ref addref System[0x874de1a0] -&gt; Mono.Security[0x86f7ce20]: 2\n04-05 06:39:23.314 D/Mono    (11093): Assembly Ref addref Mono.Security[0x86f7ce20] -&gt; mscorlib[0x9c6e9160]: 47\n04-05 06:39:23.411 D/Mono    (11093): Assembly Ref addref Mono.Android[0x9c6e9be0] -&gt; System[0x874de1a0]: 12\n04-05 06:39:23.511 D/Mono    (11093): Image addref System.ServiceModel.Internals[0x858bf300] -&gt; System.ServiceModel.Internals.dll[0x860a9300]: 2\n04-05 06:39:23.512 D/Mono    (11093): Prepared to set up assembly 'System.ServiceModel.Internals' (System.ServiceModel.Internals.dll)\n04-05 06:39:23.512 D/Mono    (11093): Assembly System.ServiceModel.Internals[0x858bf300] added to domain RootDomain, ref_count=1\n04-05 06:39:23.512 D/Mono    (11093): AOT: image 'System.ServiceModel.Internals.dll.so' not found: dlopen failed: library \"/data/app/com.companyname.SampleClient-1/lib/x86/libaot-System.ServiceModel.Internals.dll.so\" not found\n04-05 06:39:23.512 D/Mono    (11093): AOT: image '/usr/local/lib/mono/aot-cache/x86/System.ServiceModel.Internals.dll.so' not found: dlopen failed: library \"/data/app/com.companyname.SampleClient-1/lib/x86/libaot-System.ServiceModel.Internals.dll.so\" not found\n04-05 06:39:23.512 D/Mono    (11093): Config attempting to parse: 'System.ServiceModel.Internals.dll.config'.\n04-05 06:39:23.512 D/Mono    (11093): Config attempting to parse: '/usr/local/etc/mono/assemblies/System.ServiceModel.Internals/System.ServiceModel.Internals.config'.\n04-05 06:39:23.512 D/Mono    (11093): Assembly Ref addref System.Runtime.Serialization[0x874dfe20] -&gt; System.ServiceModel.Internals[0x858bf300]: 2\n04-05 06:39:23.513 D/Mono    (11093): Assembly Ref addref System.ServiceModel.Internals[0x858bf300] -&gt; mscorlib[0x9c6e9160]: 48\nLoaded assembly: System.ServiceModel.Internals.dll [External]\n04-05 06:39:23.601 D/Mono    (11093): Assembly Ref addref System.ServiceModel.Internals[0x858bf300] -&gt; System.Xml[0x874de560]: 6\n04-05 06:39:23.602 D/Mono    (11093): Assembly Ref addref System.Runtime.Serialization[0x874dfe20] -&gt; System[0x874de1a0]: 13\n04-05 06:39:23.728 D/Mono    (11093): DllImport searching in: '__Internal' ('(null)').\n04-05 06:39:23.728 D/Mono    (11093): Searching for 'java_interop_jnienv_call_int_method'.\n04-05 06:39:23.728 D/Mono    (11093): Probing 'java_interop_jnienv_call_int_method'.\n04-05 06:39:23.728 D/Mono    (11093): Found as 'java_interop_jnienv_call_int_method'.\nThread started:  #6\nThread started: &lt;Thread Pool&gt; #7\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1522864677, "post_id": 49657450, "comment_id": 86324048, "body": "Microsoft thoroughly tests every exposed API.  This reduces their test footprint."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522864951, "post_id": 49657450, "comment_id": 86324212, "body": "And what OOP principles it violates? There is internal functionality which is implemented in a different way by diffrent controls - hence internal virtual."}, {"owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1522871798, "post_id": 49657450, "comment_id": 86328190, "body": "@Evk: I mean, if you&#39;d design a base class Car with a virtual method OpenTop() just because a single derived class Convertible needs to define it, then this would be kind of a violation of a clean OO design in my opinion. Simply being internal virtual is, of course, not."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1522872014, "post_id": 49657450, "comment_id": 86328323, "body": "But that&#39;s not a good example. <code>EffectiveValuesInitialSize</code> for example is defined in <code>DependencyObject</code> (parent of everything in WPF), and there are a ton of classes (about hundred I think) which override it."}, {"owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "edited": false, "score": 0, "creation_date": 1522872200, "post_id": 49657450, "comment_id": 86328443, "body": "Okay, but why is the end user not supposed to override it ? Say I want to build a class similar to Thumb (inheritance not advisable due to missing &quot;is a&quot; relation): what should I do with the internal methods? Should I get rid of them altogether? Should I redesign them somehow?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1522882255, "post_id": 49657450, "comment_id": 86333040, "body": "The object model for WPF is gigantic with lots of internal classes getting stuff done.  A side-effect of getting very little help from the OS, unlike Winforms for example.  They used object-oriented design principles for internal code as well."}], "answers": [{"tags": [], "owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "is_accepted": true, "score": 5, "last_activity_date": 1522892212, "last_edit_date": 1522892212, "creation_date": 1522865667, "answer_id": 49657765, "question_id": 49657450, "link": "https://stackoverflow.com/questions/49657450/why-do-wpf-shipped-classes-have-internal-virtual-methods/49657765#49657765", "title": "Why do WPF shipped classes have internal virtual methods?", "body": "<p>I can't speak to WPF specifically, but as someone who has written (not officially supported) libraries for Microsoft:</p>\n\n<p>1)  It doesn't violate OOP principles.  NOT hiding methods from external assemblies they have no reason to know about would violate them.  (Improper encapsulation)</p>\n\n<p>2)  It prevents intellisense from showing a bunch of junk that you don't need to use the class. (which is really part of #1, but I'll call it out specifically, because it's a big deal)</p>\n\n<p>3)  It makes testing <em>much</em> easier.</p>\n\n<p>I'm sure there are other reasons for it I'm not thinking of.</p>\n\n<p>In my particular case I had a base class wrapping a C Win32 API, and each derived class had to handle one of three major uses of the API.  Particular methods had to be overriden to do that.  Absolutely no reason for an end user of these classes to see that junk.</p>\n\n<p>Also I'll note that in my particular case I also found <code>internal</code> objectionable because I also wanted <code>protected</code> so that a class would have to be internal to the assembly AND derived from the base class to access or override the method.  <code>protected internal</code> allows either OR, and <code>private protected</code> was not available at the time.  I ended up finding some alternate approach I can no longer recall.  Point being, I suspect--but am not sure--<code>internal</code> is probably improper encapsulation in the sense that <code>private protected</code> would have been preferred had it been available.  (Although I understand the CLR has always supported it.  Just not C# or VB.NET)</p>\n\n<p>Last note:  Reading your comments, I may have missed the real drift of your question.  The overriden methods in Thumb are probably handling stuff for a base class that there is no intention for you to derive from directly.  Either because doing so would be FAR too complicated, or because every possible derivation is handled by the derived classes.  (Such as a <code>Shape</code> base class for an API for an engine that only handles rectangles and triangles.  Provided <code>Rectangle</code> and <code>Triangle</code>, you have no reason to derive from Shape.  And at that point, there's probably stuff that Rectangle and Triangle handle through virtual methods that you have no possible reason to know about.)  The other possible thing is methods that are handled fine in the base class which can be derived from, but can be overridden for optimization purposes...but only internally because the exposed API surface area just isn't worth it.</p>\n"}], "owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 49657765, "answer_count": 1, "score": 5, "last_activity_date": 1522906721, "creation_date": 1522864448, "last_edit_date": 1522906721, "question_id": 49657450, "link": "https://stackoverflow.com/questions/49657450/why-do-wpf-shipped-classes-have-internal-virtual-methods", "title": "Why do WPF shipped classes have internal virtual methods?", "body": "<p>Today I have taken a look at the implementation of the Thumb control in order to learn how it works. What struck me is, that there are 3 methods which seem to override internal virtual parent methods, namely</p>\n\n<pre><code>internal override int EffectiveValuesInitialSize {get;}\ninternal override DependencyObjectType DTypeThemeStyleKey {get;}\ninternal override void ChangeVisualState(bool useTransitions);\n</code></pre>\n\n<p>I am not so much interested in what these methods do specifically, but rather what could be valid reasons to allow overriding them only internally (Microsoft). I couldn't find any obvious information about this.</p>\n\n<p>Why should the ability to extend some functionality of Control/FrameworkElement/UIElement/etc. not be available to the general user? To me the only plausible explanation seems to be, that this functionality is designed for specific child classes of WPF, which is somehow a violation of OOP principles, isn't it?</p>\n\n<p>I silently assume that it's not just that Microsoft can say: \"we can do something with our framework that you can't, tee-hee\".</p>\n\n<p><strong>Follow-up:</strong> most of the internal stuff in Thumb was somehow related to visual states. So I have come to the conclusion that I can safely get rid of that part of the interface in the new class I am creating, and implement my own visual states if I ever need them.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1522864449, "post_id": 49657411, "comment_id": 86323917, "body": "If you only have one image, just set it one time. The first code has a bunch of images it cycles through."}, {"owner": {"reputation": 4796, "user_id": 374620, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Hue1Q.jpg?s=128&g=1", "display_name": "Shaamaan", "link": "https://stackoverflow.com/users/374620/shaamaan"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1522864504, "post_id": 49657411, "comment_id": 86323956, "body": "@JohnnyMopp But the first code always adds <code>Properties.Resources.image</code> to the list, meaning it&#39;s a list of just that one image!"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "reply_to_user": {"reputation": 4796, "user_id": 374620, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Hue1Q.jpg?s=128&g=1", "display_name": "Shaamaan", "link": "https://stackoverflow.com/users/374620/shaamaan"}, "edited": false, "score": 0, "creation_date": 1522864823, "post_id": 49657411, "comment_id": 86324121, "body": "@Shaamaan The code doesn&#39;t make much sense to me either. Assuming there&#39;s something else not shown."}], "answers": [{"tags": [], "owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "is_accepted": true, "score": 2, "last_activity_date": 1522864480, "creation_date": 1522864480, "answer_id": 49657459, "question_id": 49657411, "link": "https://stackoverflow.com/questions/49657411/do-you-have-to-change-the-background-image-every-second/49657459#49657459", "title": "Do you have to change the background image every second?", "body": "<p>You would only need a timer like that if you were iterating through a series of images in order to create an animation.  </p>\n\n<p>What you have is good enough for setting the image once.</p>\n"}, {"comments": [{"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 0, "creation_date": 1522864886, "post_id": 49657536, "comment_id": 86324165, "body": "I noticed that as well, I wondered if this was incorrectly adapted from an example that originally had a list of images and it was iterating through them.  The modulus operator is a clear give away of going back to the beginning of the list to replay the animation."}], "tags": [], "owner": {"reputation": 4796, "user_id": 374620, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Hue1Q.jpg?s=128&g=1", "display_name": "Shaamaan", "link": "https://stackoverflow.com/users/374620/shaamaan"}, "is_accepted": false, "score": 1, "last_activity_date": 1522864754, "creation_date": 1522864754, "answer_id": 49657536, "question_id": 49657411, "link": "https://stackoverflow.com/questions/49657411/do-you-have-to-change-the-background-image-every-second/49657536#49657536", "title": "Do you have to change the background image every second?", "body": "<p>As AaronLS wrote, setting the background once would suffice. I'd go a step further and explain why the extra code you have makes very little sense (assuming this is the entire code).</p>\n\n<pre><code>void timer_Tick(object sender, EventArgs e)\n{\n    //add image in list from resource file.  \n    List&lt;Bitmap&gt; lisimage = new List&lt;Bitmap&gt;(); //this line creates a new list\n    lisimage.Add(Properties.Resources.image); //fill the NEWLY created list with the one image from the resources\n    //note, that resources are usually static, so it's always the same resource\n    var indexbackimage = DateTime.Now.Second % lisimage.Count; //choose an index from the list, but the list only contains that one image, so the index will always be 0\n    this.BackgroundImage = lisimage[indexbackimage]; //pick the same image that was set initially\n}\n</code></pre>\n\n<p>As you can see, the code is rather nonsensical - it doesn't DO anything. It SEEMS someone wanted to create a mechanism to switch images every second, but even THAT is poorly coded.</p>\n"}], "owner": {"reputation": 458, "user_id": 9598345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wx9nB.jpg?s=128&g=1", "display_name": "AlpakaJoe", "link": "https://stackoverflow.com/users/9598345/alpakajoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 49657459, "answer_count": 2, "score": 0, "last_activity_date": 1522864754, "creation_date": 1522864299, "question_id": 49657411, "link": "https://stackoverflow.com/questions/49657411/do-you-have-to-change-the-background-image-every-second", "title": "Do you have to change the background image every second?", "body": "<p>i just started learning c# two month ago, and i got this code for my current project (windows forms) to set the background image:</p>\n\n<pre><code>    public FormMain()\n    {\n        this.BackgroundImage = Properties.Resources.image;\n        InitializeComponent();\n        var timer = new Timer();\n        ////change the background image every second  \n        timer.Interval = 1000;\n        timer.Tick += new EventHandler(timer_Tick);\n        timer.Start();\n    }\n\n    void timer_Tick(object sender, EventArgs e)\n    {\n        //add image in list from resource file.  \n        List&lt;Bitmap&gt; lisimage = new List&lt;Bitmap&gt;();\n        lisimage.Add(Properties.Resources.image);\n        var indexbackimage = DateTime.Now.Second % lisimage.Count;\n        this.BackgroundImage = lisimage[indexbackimage];\n    }\n</code></pre>\n\n<p>my question is: do you have to change the background image every second, or is it enough if i just write (i have only one single background image):</p>\n\n<pre><code>public FormMain()\n{\n    this.BackgroundImage = Properties.Resources.image;\n    InitializeComponent();\n}\n</code></pre>\n\n<p>cause it seems to work. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 1, "creation_date": 1522864815, "post_id": 49657399, "comment_id": 86324119, "body": "when you do this: <code>44355&#47;10</code> in C# it will perform an integer division. That means that the result will be an integer and the <code>.5</code> will be cut away simply"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1522866314, "post_id": 49657399, "comment_id": 86324964, "body": "Here is a nice trick how you can exploit the integer division to obtain the desired result: <code>Console.WriteLine(44355&#47;100*10);</code>"}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1522881950, "post_id": 49657399, "comment_id": 86332934, "body": "@MongZhu The nice trick might not give the expected result if one or both numbers are negative."}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1522908967, "post_id": 49657399, "comment_id": 86340412, "body": "@Phil1970 that is probably possible. If OP would include more examples of input and expected output patterns I probably would have posted something different"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 9515389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f1e0cb963369a066c68ef9259034403?s=128&d=identicon&r=PG&f=1", "display_name": "xan2063", "link": "https://stackoverflow.com/users/9515389/xan2063"}, "is_accepted": false, "score": 2, "last_activity_date": 1522864994, "creation_date": 1522864994, "answer_id": 49657596, "question_id": 49657399, "link": "https://stackoverflow.com/questions/49657399/round-down-44355-10-to-1-using-c/49657596#49657596", "title": "Round down 44355/10 to -1 using c#", "body": "<p>Basically Math.Round does not permit that, you could use your own implementation however, see <a href=\"https://stackoverflow.com/a/12044516/9515389\">this solution</a> </p>\n"}, {"tags": [], "owner": {"reputation": 2115, "user_id": 6810689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OP5tU.jpg?s=128&g=1", "display_name": "Scott Perham", "link": "https://stackoverflow.com/users/6810689/scott-perham"}, "is_accepted": false, "score": 0, "last_activity_date": 1522866635, "last_edit_date": 1522866635, "creation_date": 1522866192, "answer_id": 49657896, "question_id": 49657399, "link": "https://stackoverflow.com/questions/49657399/round-down-44355-10-to-1-using-c/49657896#49657896", "title": "Round down 44355/10 to -1 using c#", "body": "<p>If you explicitly want similar functionality to the Excel ROUND-DOWN function, try something like this...</p>\n\n<pre><code>public static float RoundDown(float value, int numDigits)\n{\n    if (numDigits &gt; 0)\n        return (float)Math.Round(value, numDigits);\n\n    var iValue = (int)value;\n\n    for (int i = numDigits, x = 10; i &lt; 0; i++, x *= 10)\n        iValue -= iValue % x;\n\n    return iValue;\n}\n</code></pre>\n\n<p>This produces the following results:</p>\n\n<pre><code>RoundDown(5.82f, 0);      // 5\nRoundDown(-5.82f, 0);     // 5\nRoundDown(5.82f, 1);      // 5.8\nRoundDown(-5.82f, 1);     // -5.8\nRoundDown(123.456f, -1);  // 120\nRoundDown(-123.456f, -1); // -120\nRoundDown(123.456f, -2);  // 100\nRoundDown(-123.456f, -2); // -100\nRoundDown(999.999f, -3);  // 0\nRoundDown(-999.999f, -3); // 0\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9509296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46009e978d8ef7bcb8e303176602dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Gulshan Sonwar", "link": "https://stackoverflow.com/users/9509296/gulshan-sonwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522875493, "creation_date": 1522864275, "last_edit_date": 1522875493, "question_id": 49657399, "link": "https://stackoverflow.com/questions/49657399/round-down-44355-10-to-1-using-c", "title": "Round down 44355/10 to -1 using c#", "body": "<p>How do I use round-down to -1 in C#.net like we use in excel?</p>\n\n<p>In excel I do this:</p>\n\n<pre><code>ROUND-DOWN(44355/10,-1);\n</code></pre>\n\n<p>Output: 4430</p>\n\n<p>I tried : <code>Math.Round(44355/10,-1)</code></p>\n\n<p>But this is giving me and error of:</p>\n\n<blockquote>\n  <p>round must be between 0-15</p>\n</blockquote>\n"}, {"tags": ["c#", "sql", "winforms", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 6890, "user_id": 1761307, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QQQps.jpg?s=128&g=1", "display_name": "Eray Balkanli", "link": "https://stackoverflow.com/users/1761307/eray-balkanli"}, "is_accepted": false, "score": 2, "last_activity_date": 1522864287, "creation_date": 1522864287, "answer_id": 49657404, "question_id": 49657307, "link": "https://stackoverflow.com/questions/49657307/sql-c-winforms/49657404#49657404", "title": "SQL, c# WinForms", "body": "<p>Yes, it is possible. You can use if statement. You will need a code block like that:</p>\n\n<pre><code>var sql1 = \"select COUNT(*) from table1 where Material = '123456789' and state = 1\";\nvar sql2 = \"select Min from Materiales where Material = '123456789'\";\n\nint rowcount = executesql(sql1);\nint min_value = executesql(sql2);\n\nif(rowcount &lt;= min_value)\n{\n   textbox1.SelectionColor = Color.Red;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204, "user_id": 8404323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/78jhX.jpg?s=128&g=1", "display_name": "Shilpa", "link": "https://stackoverflow.com/users/8404323/shilpa"}, "is_accepted": false, "score": 4, "last_activity_date": 1522926602, "creation_date": 1522926602, "answer_id": 49670925, "question_id": 49657307, "link": "https://stackoverflow.com/questions/49657307/sql-c-winforms/49670925#49670925", "title": "SQL, c# WinForms", "body": "<p>Definitely you can do that by using BackColor Property of textbox</p>\n\n<pre><code>if(NumOfRows &lt;= MinNumOfRows)\n{\n    textBox1.BackColor = Color.Red;\n}\n</code></pre>\n\n<p>this will color the textbox's background red.</p>\n"}], "owner": {"reputation": 1, "user_id": 5339305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6adbaf2cd2cfab4e6a21082354cd0a?s=128&d=identicon&r=PG&f=1", "display_name": "Marcelo C", "link": "https://stackoverflow.com/users/5339305/marcelo-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1522937052, "creation_date": 1522863931, "last_edit_date": 1522864053, "question_id": 49657307, "link": "https://stackoverflow.com/questions/49657307/sql-c-winforms", "title": "SQL, c# WinForms", "body": "<p>I need help with sql and C#. I have two tables that has different information.\nOne table has materials, min and max. The other one has materials, quantity, location, state and date. </p>\n\n<p>i have these two statements</p>\n\n<pre><code>select COUNT(*) from table1 where Material = '123456789' and state = 1\nselect Min from Materiales where Material = '123456789'\n</code></pre>\n\n<p>The first statement gives me the number of rows i have with that material. e.g. 10</p>\n\n<p>The second one gives me the Min(Minimum) number e.g. 6</p>\n\n<p>Now, what i need is that when the quantity of rows are equal or less than the Min number, the textbox i have for that material gets red.</p>\n\n<p>Is this possible?</p>\n\n<p>Best regards</p>\n\n<p>Marcelo.-</p>\n"}, {"tags": ["c#", "excel", "vsto", "office-addins", "excel-addins"], "comments": [{"owner": {"reputation": 3171, "user_id": 196852, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33fdb4f51213d3eccb426cf4a4427d85?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/196852/chris"}, "edited": false, "score": 1, "creation_date": 1522871706, "post_id": 49657259, "comment_id": 86328125, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23787108/adding-a-button-to-a-3rd-party-ribbon-tab-addin\">Adding a button to a 3rd party ribbon tab addin</a>"}, {"owner": {"reputation": 3171, "user_id": 196852, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33fdb4f51213d3eccb426cf4a4427d85?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/196852/chris"}, "edited": false, "score": 1, "creation_date": 1522871730, "post_id": 49657259, "comment_id": 86328139, "body": "That question is not the exact same, but the answer should work for you. Just put the idQ on the tab, not the group. I suspect you&#39;re using the Ribbon Designer right now, but you&#39;ll probably need to use Ribbon XML instead."}, {"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "reply_to_user": {"reputation": 3171, "user_id": 196852, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33fdb4f51213d3eccb426cf4a4427d85?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/196852/chris"}, "edited": false, "score": 0, "creation_date": 1522942850, "post_id": 49657259, "comment_id": 86363886, "body": "I concur with the answers from @Chris - that is the only way to share a custom tab. You add-in can always share the built-in Add-ins tab (or any other tab) with other Add-ins - indeed, there you have no choice in the matter.."}], "owner": {"reputation": 51, "user_id": 8712481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a223dc2589b9a9990ae0ce6c6fac57a?s=128&d=identicon&r=PG&f=1", "display_name": "T. Moser", "link": "https://stackoverflow.com/users/8712481/t-moser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522863773, "creation_date": 1522863773, "question_id": 49657259, "link": "https://stackoverflow.com/questions/49657259/install-different-vsto-addins-under-same-custom-ribbon-tab", "title": "Install different VSTO Addins under same Custom Ribbon Tab", "body": "<p>I have developed a VSTO Addin in Visual Studio with C#. It is packaged into a MSI by using a Setup Project in VS.</p>\n\n<p>When installed, it creates a Custom Ribbon Tab \"Test\" in Excel with a few Controls.</p>\n\n<p>Now I want my similar second/third/... Addins to be installed under the same tab \"Test\".</p>\n\n<p>If I just create a Custom Ribbon in, say, Addin2 named \"Test\", it just creates a second one when both Addins are installed, instead of displaying both controls under one tab.</p>\n\n<p>Is there any control in VS that allows multiple Addins to share one Tab or is there a workaround for VSTO Addins?</p>\n"}, {"tags": ["c#", "asp.net-core-mvc"], "owner": {"reputation": 934, "user_id": 7558184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7pSYn.jpg?s=128&g=1", "display_name": "Niklas Raab", "link": "https://stackoverflow.com/users/7558184/niklas-raab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522867916, "creation_date": 1522863625, "last_edit_date": 1522867916, "question_id": 49657213, "link": "https://stackoverflow.com/questions/49657213/action-with-viewmodel-as-parameter-is-not-null-despite-optional-parameter", "title": "Action with viewmodel as parameter is not null despite optional parameter", "body": "<p>At the moment I am wondering about an unexpected behavior of action methods in ASP.NET Core. An action method with a viewmodel as an <strong>optional</strong> parameter is called without providing the optional parameter. The result is that the viewModel is <strong>not</strong> null. The default constructor of ViewModel is called instead. As far as I remember in ASP.NET MVC4 the default behavior is, that the parameter is null.</p>\n\n<p>This is an example action:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Create(ViewModel viewModel = null)\n{\n\n}\n</code></pre>\n\n<p>Is there any way to change to the old behavior?</p>\n"}, {"tags": ["c#", ".net", "json.net"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1522864511, "post_id": 49657180, "comment_id": 86323959, "body": "What does your c# model look like?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1522864512, "post_id": 49657180, "comment_id": 86323960, "body": "You shouldn&#39;t use an enum here, it looks more like an inherited class because of the sub properties."}, {"owner": {"reputation": 3, "user_id": 9598233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b33dab0de4c2b2dfa61b9a16722e73?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Jim", "link": "https://stackoverflow.com/users/9598233/leo-jim"}, "edited": false, "score": 0, "creation_date": 1522866316, "post_id": 49657180, "comment_id": 86324966, "body": "I update my question with more code, my first approach was with inheritance, that&#39;s why y have some more classes.  Can you get me more information"}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 6050014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gjnN3.jpg?s=128&g=1", "display_name": "John Caprez", "link": "https://stackoverflow.com/users/6050014/john-caprez"}, "is_accepted": true, "score": 0, "last_activity_date": 1522866777, "creation_date": 1522866777, "answer_id": 49658060, "question_id": 49657180, "link": "https://stackoverflow.com/questions/49657180/newtonsoft-change-json-property-name-dynamically-with-enum/49658060#49658060", "title": "Newtonsoft change JSON property name dynamically with enum", "body": "<p>I'd recommend using a property for each PaymentMethod</p>\n\n<pre><code>public class Payment\n{\n    [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]\n    public Card Card { get; set; }\n\n    [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]\n    public Debit Debit { get; set; }\n\n    [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]\n    public Check Check { get; set; }\n\n    [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]\n    public Cash Cash { get; set; }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9598233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b33dab0de4c2b2dfa61b9a16722e73?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Jim", "link": "https://stackoverflow.com/users/9598233/leo-jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 49658060, "answer_count": 1, "score": 0, "last_activity_date": 1522871330, "creation_date": 1522863520, "last_edit_date": 1522866184, "question_id": 49657180, "link": "https://stackoverflow.com/questions/49657180/newtonsoft-change-json-property-name-dynamically-with-enum", "title": "Newtonsoft change JSON property name dynamically with enum", "body": "<p>How can I change a property name with Newtonsoft JSON.net\nI need that my JSON looks like this.  The <strong>PaymentMethod</strong> has an inner property and this property changes whit an <code>enum PaymentMethodEnum {Cash, Card, Debit, Check }</code></p>\n\n<pre><code>Cash case\n\"PaymentMethod\": {\n    \"Cash\": { }\n}\n\nCard case\n\"PaymentMethod\": {\n    \"Card\" : {\n        \"Authorization\": \"####\",\n        \"Bin\": \"####\",\n        \"Reference\": \"00#####\"\n    }\n}\n\nDebit case\n\"PaymentMethod\": {\n    \"Debit\": {\n        \"DocumentType\": \"DNI\",\n        \"DocumentNumber\": \"##########3\",\n        \"Account\": \"xxxx-####\"\n    }\n}\n\nCheck case\n\"PaymentMethod\": {\n    \"Check\": {\n        \"BankCode\": \"MMMmmm\",\n        \"Number\": \"xxxx-xxxx-####\",\n        \"Account\": \"###########\"\n    }\n}\n</code></pre>\n\n<p>This is my class</p>\n\n<pre><code>public class ChargeRq\n{\n    [Required]\n    [JsonProperty(PropertyName = \"DistributorId\")]\n    public int DistributorId { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"AgentId\")]\n    public int AgentId { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Reference\")]\n    public string Reference { get; set; }\n\n    [JsonProperty(PropertyName = \"Invoices\")]\n    public IEnumerable&lt;Invoice&gt; Invoices { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Total\")]\n    public int Total { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"PaymentMethod\")]\n    public Payment PaymentMethod { get; set; }\n}\n// --------------------\npublic class Payment\n{\n    // ???\n}\n// -------------------\npublic class Card\n{\n    [Required]\n    [JsonProperty(PropertyName = \"Authorization\")]\n    public string Authorization { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Bin\")]\n    public string Bin { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName =\"Reference\")]\n    public string Reference { get; set; }\n}\n\npublic class Cash { }\n\npublic class Debit\n{\n    [Required]\n    [JsonProperty(PropertyName = \"DocumentType\")]\n    public string DocumentType { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"DocumentNumber\")]\n    public string DocumentNumber { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Account\")]\n    public string Account { get; set; }\n}\n\npublic class Check\n{\n    [Required]\n    [JsonProperty(PropertyName = \"BankCode\")]\n    public string BankCode { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Number\")]\n    public string Number { get; set; }\n\n    [Required]\n    [JsonProperty(PropertyName = \"Account\")]\n    public string Account { get; set; }\n}\n</code></pre>\n\n<p>So when I get this JSON from a third-party service I need to validate that the JSON format content the payment methods with <strong>ChargeRq</strong>.  And us it in my service like this</p>\n\n<pre><code>public HttpResponseMessage TestRequestFormatData([FromBody]ChargeRq request) { }\n</code></pre>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc", "razor"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 2337475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01256202e0258b42d595c37e94a46c1e?s=128&d=identicon&r=PG&f=1", "display_name": "joegreentea", "link": "https://stackoverflow.com/users/2337475/joegreentea"}, "edited": false, "score": 0, "creation_date": 1522866840, "post_id": 49657539, "comment_id": 86325282, "body": "thanks for this, but first of all why do I need to take the form control? did you mean the @class = &quot;form-control&quot; ?"}, {"owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "reply_to_user": {"reputation": 313, "user_id": 2337475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01256202e0258b42d595c37e94a46c1e?s=128&d=identicon&r=PG&f=1", "display_name": "joegreentea", "link": "https://stackoverflow.com/users/2337475/joegreentea"}, "edited": false, "score": 0, "creation_date": 1522868243, "post_id": 49657539, "comment_id": 86326127, "body": "@joegreentea no, I am saying to remove the html form, you don&#39;t need it. See the example i added. Also note that when you are returning a file from your controller, you can just do a window.location request and instead of navigation it will force the file download."}, {"owner": {"reputation": 313, "user_id": 2337475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01256202e0258b42d595c37e94a46c1e?s=128&d=identicon&r=PG&f=1", "display_name": "joegreentea", "link": "https://stackoverflow.com/users/2337475/joegreentea"}, "edited": false, "score": 1, "creation_date": 1522888392, "post_id": 49657539, "comment_id": 86334843, "body": "thanks, it became clearer with an example you provided. And also you simplified the modal form and yes I don&#39;t need location.relaod()"}], "tags": [], "owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "is_accepted": true, "score": 1, "last_activity_date": 1522868141, "last_edit_date": 1522868141, "creation_date": 1522864761, "answer_id": 49657539, "question_id": 49657174, "link": "https://stackoverflow.com/questions/49657174/asp-net-mvc-download-csv-file-through-modal-popup/49657539#49657539", "title": "ASP.NET MVC download csv file through modal popup", "body": "<ol>\n<li><p>Take the form control out of the modal popup</p></li>\n<li><p>Make your modal submit button call js script to close modal and fire ajax call back Download CSV method on the controller passing in the selection they made on the modal dropdown (get their selection by getting val of field by the elements ID</p></li>\n<li><p>Do the byte parsing logic and return file in Download CSV method</p></li>\n</ol>\n\n<p>The big idea around modal pop-ups and such is not to kill your user with page reloads. You've taken care of all of the hard work already with the modal popup and an ajax call, then your firing off a page load at the end. That's like running a race then sitting down 5 feet in front of the finish line.</p>\n\n<p>Example</p>\n\n<p>Test class to show in dropdown:</p>\n\n<pre><code>public class Whatever\n{\n    public int locationTypeId { get; set; }\n    public List&lt;SelectListItem&gt; Locations { get; set; }\n}\n</code></pre>\n\n<p>Controller Methods:</p>\n\n<pre><code>    public ActionResult Wut()\n    {\n        Whatever wut = new Whatever();\n        wut.Locations = new List&lt;SelectListItem&gt;();\n        wut.Locations.Add(new SelectListItem { Text = \"Uno\", Value = \"1\" });\n        wut.Locations.Add(new SelectListItem { Text = \"Dos\", Value = \"2\" });\n        return View(wut);\n    }\n    public FileContentResult DownloadCSV(string location)\n    {\n        return File(new System.Text.UTF8Encoding().GetBytes(\"Generate, CSV, LOGIC, HERE, DEPENDING, ON, LOCATION\"), \"text/csv\", \"Example\" + DateTime.Now.ToString(\"_MM-dd-yyyy-mm-ss-tt\") + \".csv\");\n    }\n</code></pre>\n\n<p>View: </p>\n\n<pre><code>    @model DeleteMeWeb.Controllers.Whatever\n    &lt;div class=\"btn btn-primary\" id=\"showModal\"&gt;Show Modal&lt;/div&gt;\n\n    &lt;div class=\"modal\" tabindex=\"-1\" role=\"dialog\" id='myModal'&gt;\n        &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n            &lt;div class=\"modal-content\"&gt;\n                &lt;div class=\"modal-header\"&gt;\n                    &lt;h5 class=\"modal-title\"&gt;Modal title&lt;/h5&gt;\n                    &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n                        &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n                    &lt;/button&gt;\n                &lt;/div&gt;\n                &lt;div class=\"modal-body\"&gt;\n                    @Html.DropDownList(\"locationTypeId\", Model.Locations, new { @class = \"form-control\" })\n                &lt;/div&gt;\n                &lt;div class=\"modal-footer\"&gt;\n                    &lt;div class=\"btn btn-primary\" id=\"fire\"&gt;Save changes&lt;/div&gt;\n                    &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>    @section scripts\n    {\n        &lt;script&gt;\n            $('#myModal').modal('hide');\n            $('#showModal').click(function () { $('#myModal').modal('show'); });\n            $('#fire').click(function (){\n                $('#myModal').modal('hide');\n                //FIRE GET REQUEST WHEN RETURNING A FILE IT WILL FORCE DOWNLOAD WITHOUT PAGE NAVIAGTION\n                window.location = \"/Home/DownloadCSV?location=\" + $('#locationTypeId').val();\n            });\n        &lt;/script&gt;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2940, "user_id": 5957979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3377f790e54e36e2ce2c70c346c63db9?s=128&d=identicon&r=PG&f=1", "display_name": "RickL", "link": "https://stackoverflow.com/users/5957979/rickl"}, "is_accepted": false, "score": 0, "last_activity_date": 1522867807, "creation_date": 1522867807, "answer_id": 49658320, "question_id": 49657174, "link": "https://stackoverflow.com/questions/49657174/asp-net-mvc-download-csv-file-through-modal-popup/49658320#49658320", "title": "ASP.NET MVC download csv file through modal popup", "body": "<p>You can't return a <code>Json</code> response and a <code>FileContentResult</code> with the same <code>Ajax</code> call. You can either:-</p>\n\n<ol>\n<li><p>Send the $.ajax request to carry out form validation (before creating the file for download), and if the validation is ok ($.ajax success), then send another \"fire and forget\" request to create and download the form using a <code>FileContentResult</code> action from within the original <code>$.ajax success</code> function. Or</p></li>\n<li><p>Just send the \"fire and forget\" and return an empty file (or no file) if the validation fails.</p></li>\n</ol>\n\n<p>Both scenarios allow you to close the modal in a controlled way without reloading the page; the <code>FileContentResult</code> simply downloads the file without affecting the View.</p>\n\n<p>One way of carrying out a \"fire and forget\" is:</p>\n\n<pre><code>var data = { id: \"someId\" };\nvar form = document.createElement(\"form\");\nform.setAttribute(\"method\", \"GET\");\nform.setAttribute(\"action\", \"url/to/DownloadCSV\");\nif (data != null &amp;&amp; data.constructor === Object) {\n    for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n            var hiddenField = document.createElement(\"input\");\n            hiddenField.setAttribute(\"type\", \"hidden\");\n            hiddenField.setAttribute(\"name\", key);\n            hiddenField.setAttribute(\"value\", data[key]);\n            form.appendChild(hiddenField);\n        }\n    }\n}\ndocument.body.appendChild(form);\nform.submit();\nform.remove();\n</code></pre>\n\n<p>This would go (or be referenced) in the <code>if (result.success) { }</code> part of the $.ajax request (if you intend to validate), along with <code>$('#modalDialog').modal('hide');</code> (but not <code>location.reload();</code>)</p>\n\n<p>The file download action would then be something like:</p>\n\n<pre><code>public FileContentResult DownloadCSV(string someParameterToMakeTheFileIfNeeded)\n{\n    // Make the file and then return the FileContentResult here\n    return File(byteArray, \"text/csv\", \"report.csv\");\n}\n</code></pre>\n\n<p>There are different ways to skin this cat, and it's worth researching what's out there, but I find this works for me.</p>\n"}], "owner": {"reputation": 313, "user_id": 2337475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01256202e0258b42d595c37e94a46c1e?s=128&d=identicon&r=PG&f=1", "display_name": "joegreentea", "link": "https://stackoverflow.com/users/2337475/joegreentea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2058, "favorite_count": 0, "accepted_answer_id": 49657539, "answer_count": 2, "score": 0, "last_activity_date": 1522868141, "creation_date": 1522863500, "question_id": 49657174, "link": "https://stackoverflow.com/questions/49657174/asp-net-mvc-download-csv-file-through-modal-popup", "title": "ASP.NET MVC download csv file through modal popup", "body": "<p>I'm trying to download a csv file through asp.net mvc controller, but since I need user to make a selection input via dropdown list, I created a bootstrap modal pop-up.</p>\n\n<pre><code>@using (Html.BeginForm(\"Create\", \"Home\", FormMethod.Post, new { @class = \"modal-form\" }))\n{\n    &lt;div class=\"modal-body\"&gt;\n        &lt;div class=\"form-horizontal\"&gt;\n            &lt;div class=\"form-group\"&gt;\n                @Html.Label(\"locationTypeId\", new { @class = \"control-label col-md-3\" })\n                &lt;div class=\"col-md-4\"&gt;\n                    @Html.DropDownList(\"locationTypeId\", Model.LocationList, new { @class = \"form-control\" })\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button class=\"btn\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;Cancel&lt;/button&gt;\n        &lt;button class=\"btn btn-primary\" type=\"submit\"&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>Once user clicks Save button, it would post to the controller as such:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(DefaultViewModel model)\n{\n    if (ModelState.IsValid)\n    {\n        try\n        {\n            var repository = new SqlRepository(model);\n            // go about creating csv file\n\n            // returns byte[]\n            var output = repository.CreateShipmentDataUpload();\n\n            //DownloadCSV();\n            return Json(new { success = true });\n        }\n        catch (Exception e)\n        {\n            ModelState.AddModelError(\"\", e.Message);\n        }\n    }\n\n    return PartialView(\"_Create\", model);\n}\n</code></pre>\n\n<p>I'm not sure if I can/should call DownloadCSV() there. Here's the DownloadCSV():</p>\n\n<pre><code>public FileContentResult DownloadCSV(byte[] byteArray)\n{\n    return File(byteArray, \"text/csv\", \"report.csv\");\n}\n</code></pre>\n\n<p>And here's the ajax success function call:</p>\n\n<pre><code>@section Scripts {\n&lt;script type=\"text/javascript\"&gt;\n\n    function bindForm(dialog) {\n        $('form', dialog).submit(function () {\n            $.ajax({\n                url: this.action,\n                type: this.method,\n                data: $(this).serialize(),\n                success: function (result) {\n                    if (result.success) {\n                        $('#modalDialog').modal('hide');\n                        // Refresh:\n                        location.reload();\n                    } else {\n                        $('#modalContent').html(result);\n                        bindForm();\n                    }\n                }\n            });\n            return false;\n        });\n    }\n&lt;/script&gt;\n}\n</code></pre>\n\n<p>How do I get to download the csv file to work properly?</p>\n"}, {"tags": ["c#", "entity-framework-6"], "comments": [{"owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "edited": false, "score": 2, "creation_date": 1522863526, "post_id": 49657129, "comment_id": 86323362, "body": "SomethingName = plants.Something.Name ?? string.Empty"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "reply_to_user": {"reputation": 21726, "user_id": 446515, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MrLTu.jpg?s=128&g=1", "display_name": "dee-see", "link": "https://stackoverflow.com/users/446515/dee-see"}, "edited": false, "score": 1, "creation_date": 1522864025, "post_id": 49657129, "comment_id": 86323676, "body": "@Vache C# has moved on since that post"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 1, "creation_date": 1522866589, "post_id": 49657129, "comment_id": 86325123, "body": "@PeterSmith But not with the way you identity the source of NRE."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1522866611, "post_id": 49657129, "comment_id": 86325135, "body": "If you could provide the stack trace you&#39;re seeing, that would help a lot in determining whether this is a &quot;normal&quot; NRE or not."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1522868291, "post_id": 49657129, "comment_id": 86326162, "body": "@DaisyShipton, I added the stack trace, not sure it it will help, but thank you."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522868928, "post_id": 49657129, "comment_id": 86326533, "body": "Given the error message, that sounds like the error is coming from within Entity Framework (although the stack trace isn&#39;t showing it quite in that way). I think this post should be reopened. @IvanStoev - do you agree this isn&#39;t a standard NRE within user code?"}, {"owner": {"reputation": 21726, "user_id": 446515, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MrLTu.jpg?s=128&g=1", "display_name": "dee-see", "link": "https://stackoverflow.com/users/446515/dee-see"}, "reply_to_user": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1522874574, "post_id": 49657129, "comment_id": 86329677, "body": "@PeterSmith It has been edited to keep up to date with the new C# versions."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522863783, "post_id": 49657207, "comment_id": 86323521, "body": "What can I do if <code>Something</code> is not nullable?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 1, "creation_date": 1522863846, "post_id": 49657207, "comment_id": 86323555, "body": "@Maddy: Then <code>Something.Name</code> shouldn&#39;t throw a NullReferenceException."}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1522863894, "post_id": 49657207, "comment_id": 86323592, "body": "Daisy has it all covered!"}], "tags": [], "owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1522863609, "creation_date": 1522863609, "answer_id": 49657207, "question_id": 49657129, "link": "https://stackoverflow.com/questions/49657129/how-to-return-string-empty-if-value-is-null/49657207#49657207", "title": "How to return string empty if value is null", "body": "<p>Not tested but</p>\n\n<pre><code>SomethingName = plants.Something?.Name ?? string.empty\n</code></pre>\n\n<p>should do what's required. What Daisy said!</p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522863850, "post_id": 49657229, "comment_id": 86323560, "body": "what can I do if <code>plant</code> or <code>something</code> is not nullable."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522863957, "post_id": 49657229, "comment_id": 86323638, "body": "@Maddy: Then the compiler won&#39;t allow you to use <code>?.</code>, but you wouldn&#39;t get a <code>NullReferenceException</code> anyway for that part, because you couldn&#39;t be dereferencing a null value."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522865025, "post_id": 49657229, "comment_id": 86324256, "body": "<code>?.</code> operator cannot be used in expression trees though."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522865273, "post_id": 49657229, "comment_id": 86324394, "body": "@IvanStoev: You&#39;re absolutely right. Will edit."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522865553, "post_id": 49657229, "comment_id": 86324528, "body": "@IvanStoev: Have a look now."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522866343, "post_id": 49657229, "comment_id": 86324984, "body": "Well, I&#39;m not quite sure what do you mean by &quot;out-of-process LINQ provider&quot; - every LINQ query starting with <code>IQueryable&lt;T&gt;</code> uses expressions until gets converted to <code>IEnumerable&lt;T&gt;</code>. Also, since the question is tagged EF6, accessors like <code>a.b.d.e</code> never generate NRE because the whole thing is converted to SQL (there are no &quot;objects&quot;). Anyway, anyone who works with EF6 knows that NRE does not happen from such query, so closing the question as typical NRE dupe seems more appropriate to me, sorry."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522866588, "post_id": 49657229, "comment_id": 86325121, "body": "@IvanStoev: I&#39;ve edited the out-of-process LINQ provider part, but it&#39;s not entirely clear to me what <i>is</i> going on. I don&#39;t think it&#39;s definitely a dupe of the canonical NRE at the moment, although of course if Maddy provides more information (e.g. the full stack trace) that would give more cause for reopening."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522866982, "post_id": 49657229, "comment_id": 86325367, "body": "@DaisyShipton Full stack trace - indeed :)"}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522868348, "post_id": 49657229, "comment_id": 86326200, "body": "@DaisyShipton, I get the following error when I try <code>Something?.Name</code> <code>an expression tree lambda may not contain a null propagating operator</code>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522868821, "post_id": 49657229, "comment_id": 86326475, "body": "@Maddy: Please read the whole edited posted, which explains why you&#39;re getting that."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522871300, "post_id": 49657229, "comment_id": 86327875, "body": "@DaisyShipton, I highly appreciate the in depth explanation. Have been stuck on this for so long I did not read it carefully. If you could help with one thing, I get <code>&quot;Object reference not set to an instance of an object.&quot;</code> when trying to access an element. Would it be possible for you to explain why this might happen?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522871679, "post_id": 49657229, "comment_id": 86328106, "body": "@Maddy: Well normally because you&#39;re dereferencing a null reference. I wouldn&#39;t expect that to happen with the code in my answer though."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522871984, "post_id": 49657229, "comment_id": 86328302, "body": "@DaisyShipton, I thought the same thing as well but I do get that error and its making 0 sense right now."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522872658, "post_id": 49657229, "comment_id": 86328697, "body": "@DaisyShipton, I figured the error out. I am using code first approach for my EF and I had <code>HasRequired</code> for the field that was optional."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1522909487, "post_id": 49657229, "comment_id": 86340648, "body": "@Maddy There you go. This is one of the EF6 smart behaviors. Once you tell EF that the column is not nullable, it will remove any null checks from your code :) <a href=\"https://stackoverflow.com/questions/49537627/incorrect-sql-generation-on-query/49538335#49538335\" title=\"incorrect sql generation on query\">stackoverflow.com/questions/49537627/&hellip;</a>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522910086, "post_id": 49657229, "comment_id": 86340942, "body": "@IvanStoev: I took the opposite result away from the eventual cause - your assertion that &quot;Anyway, anyone who works with EF6 knows that NRE does not happen from such query&quot; was incorrect, as it was EF deliberately creating the NRE due to a misconfiguration effectively. The cause <i>wasn&#39;t</i> the normal &quot;you&#39;re dereferencing a null reference in your code&quot; that the canonical question refers to."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1522911011, "post_id": 49657229, "comment_id": 86341399, "body": "@DaisyShipton Sorry if you misunderstood me or I didn&#39;t explain it well (after all, I&#39;m just commenting). What I meant was that NRE cannot be caused by the query written by the user. Hence your general answer does not apply. The cause as you see is quite different. I agree it&#39;s not a generic NRE, but to me the canonical question is addressing what should you do in order to identify the source of the problem, rather than how to solve it, what your answer is trying to do. I think the more important is that the question lacks <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so probably that would have been a better close reason."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 3, "last_activity_date": 1522866510, "last_edit_date": 1522866510, "creation_date": 1522863681, "answer_id": 49657229, "question_id": 49657129, "link": "https://stackoverflow.com/questions/49657129/how-to-return-string-empty-if-value-is-null/49657229#49657229", "title": "How to return string empty if value is null", "body": "<p><strong>Usually</strong> you can use the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-conditional-operators\" rel=\"nofollow noreferrer\"><em>null-conditional operator</em></a> from C# 6, combined with the null-coalescing operator from C# 2 to make this really easy:</p>\n\n<pre><code>SomethingName = plants.Something?.Name ?? \"\"\n</code></pre>\n\n<p>The expression <code>plants.Something?.Name</code> will evaluate to null (rather than throwing an exception) if <code>plants.Something</code> evaluates to null. The <code>?? \"\"</code> part then just says \"If the result of the expression is null, use the empty string instead.\"</p>\n\n<p>If <code>plants</code> itself could be null, you could use:</p>\n\n<pre><code>SomethingName = plants?.Something?.Name ?? \"\"\n</code></pre>\n\n<p>... but in this case you shouldn't need to.</p>\n\n<p>However, there's a wrinkle: if you're doing this in an LINQ provider that uses <code>IQueryable&lt;T&gt;</code> (rather than <code>IEnumerable&lt;T&gt;</code> as LINQ to Objects usually does), each part of your query expression will be converted into an <em>expression tree</em>, and the null-conditional operator isn't supported in expression trees. As such, you may need to perform a projection in the query, then do the last part in-process. For example:</p>\n\n<pre><code>var entry = (from flowers in _flowerContext.Flowers\n             where flowers.FlowerId == flowerId\n             join plants in _flowerContext.Plants on flowers.PlantId equals plants.PlantId\n             join leafs in _flowerContext.Leafs on flowers.LeafAk equals leafs.LeafAK\n             select new { plants, leafs }).FirstOrDefault();\nreturn entry == null \n    ? null // No entry in the database\n    : new FlowerMetaData\n      {\n          PlantId = entry.plants.PlantId,\n          PlantName = entry.plants.PlantName,\n          FlowerName = FlowerName.ToUpper(),\n          FlowerNumber = entry.leafs.FlowerNumber,\n          SomethingName = entry.plants.Something?.Name ?? \"\",\n          CreatedId = entry.plants.CreatedId,\n       };\n</code></pre>\n"}], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "closed_date": 1522866353, "answer_count": 2, "score": 1, "last_activity_date": 1522868269, "creation_date": 1522863329, "last_edit_date": 1522868269, "question_id": 49657129, "link": "https://stackoverflow.com/questions/49657129/how-to-return-string-empty-if-value-is-null", "closed_reason": "Duplicate", "title": "How to return string empty if value is null", "body": "<p>I want to return a empty string when the <code>SomethingName</code> is null. <code>plants.Something.Name != null ? plants.Something.Name : string.Empty</code> still gets me a null pointer. I have debugged my application to know this is causing a NullPointerException. </p>\n\n<p>When I set data in the database for <code>SomethingName</code>, I dont get a null pointer exception. </p>\n\n<p>Is there a better way to handle this?</p>\n\n<pre><code>    public FlowerMetaData GetLeafByFlowerId(int flowerId, string flowerName)\n    {\n        _flowerContext = _contextUtility.GetFlowerContext(flowerName);\n\n        var flowerData = (from flowers in _flowerContext.Flowers\n                            where flowers.FlowerId == flowerId\n                            join plants in _flowerContext.Plants on flowers.PlantId equals plants.PlantId\n                            join leafs in _flowerContext.Leafs on flowers.LeafAk equals leafs.LeafAK\n                            select new FlowerMetaData\n                            {\n                                PlantId = plants.PlantId,\n                                PlantName = plants.PlantName,\n                                FlowerName = FlowerName.ToUpper(),\n                                FlowerNumber = leafs.FlowerNumber,\n                                SomethingName = plants.Something.Name != null ? plants.Something.Name : string.Empty,\n                                CreatedId = plants.CreatedId,\n                            }).FirstOrDefault();\n\n        return flowerData;\n    }\n\nStackTrace\n\n    \"Message\": \"An error has occurred.\",\n    \"ExceptionMessage\": \"No flower found with id = 37.\",\n    \"ExceptionType\": \"System.NullReferenceException\",\n    \"StackTrace\": \"   at Flower.Services.FlowerService.GetLeafByFlowerId(Int32 flowerId, String flowerName)\nat Flower.Controllers.Controllers.FlowerController.GetFlower(Int32 id, String client)\\r\\n   at lambda_method(Closure , Object , Object[] )\nat System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.&lt;&gt;c__DisplayClass10.&lt;GetExecutor&gt;b__9(Object instance, Object[] methodParameters) at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)\n--- End of stack trace from previous location where exception was thrown ---\nat System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\\r\\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   at System.Web.Http.Controllers.ApiControllerActionInvoker.&lt;InvokeActionAsyncCore&gt;d__0.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   at System.Web.Http.Controllers.ActionFilterResult.&lt;ExecuteAsync&gt;d__2.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n  at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   at System.Web.Http.Filters.AuthorizationFilterAttribute.&lt;ExecuteAuthorizationFilterAsyncCore&gt;d__2.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n  at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n  at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\n  at Sentinel.Services.AuthFilters.AddChallengeOnUnauthorizedResult.&lt;ExecuteAsync&gt;d__7.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n  at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\nat System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   at System.Web.Http.Controllers.AuthenticationFilterResult.&lt;ExecuteAsync&gt;d__0.MoveNext()\\r\\n--- End of stack trace from previous location where exception was thrown ---\\r\\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\\r\\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&lt;SendAsync&gt;d__1.MoveNext()\"\n}\n</code></pre>\n"}]