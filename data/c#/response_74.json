[{"tags": ["c#", "mongodb", "azure"], "comments": [{"owner": {"reputation": 2669, "user_id": 780861, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/094ca0545895773e8e0aedc0eddc55e9?s=128&d=identicon&r=PG", "display_name": "jolySoft", "link": "https://stackoverflow.com/users/780861/jolysoft"}, "edited": false, "score": 0, "creation_date": 1558012346, "post_id": 37714843, "comment_id": 98965382, "body": "As much as I love SO . . . I hate it when it has to come to the rescue of poor/badly maintained documentation"}], "answers": [{"tags": [], "owner": {"reputation": 661, "user_id": 1052423, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ec6a5d408549836bf6fa69d99946cfef?s=128&d=identicon&r=PG", "display_name": "lynnjwalker", "link": "https://stackoverflow.com/users/1052423/lynnjwalker"}, "is_accepted": false, "score": 9, "last_activity_date": 1465588653, "creation_date": 1465588653, "answer_id": 37756243, "question_id": 37714843, "link": "https://stackoverflow.com/questions/37714843/the-type-or-namespace-mongoserver-could-not-be-found/37756243#37756243", "title": "The type or namespace MongoServer could not be found", "body": "<p>I learned through the MSDN Forums that I need to use the MongoDb.Driver.Legacy version, which can be installed through the Nuget Management Console with this command:</p>\n\n<p>Install-Package mongocsharpdriver</p>\n\n<p>The project now builds without error.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 2099039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c123a9262100f67c2b7d5cd3cd8e37?s=128&d=identicon&r=PG", "display_name": "Henrik Andersen", "link": "https://stackoverflow.com/users/2099039/henrik-andersen"}, "is_accepted": false, "score": 2, "last_activity_date": 1483900231, "last_edit_date": 1483900231, "creation_date": 1483900189, "answer_id": 41536264, "question_id": 37714843, "link": "https://stackoverflow.com/questions/37714843/the-type-or-namespace-mongoserver-could-not-be-found/41536264#41536264", "title": "The type or namespace MongoServer could not be found", "body": "<p>Just update the class to <code>MongoClient</code> and it is solved :) </p>\n\n<p><a href=\"http://mongodb.github.io/mongo-csharp-driver/2.3/getting_started/quick_tour/\" rel=\"nofollow noreferrer\">http://mongodb.github.io/mongo-csharp-driver/2.3/getting_started/quick_tour/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3916, "user_id": 5418530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mmRVu.jpg?s=128&g=1", "display_name": "Debendra Dash", "link": "https://stackoverflow.com/users/5418530/debendra-dash"}, "is_accepted": false, "score": 4, "last_activity_date": 1521739701, "creation_date": 1521739701, "answer_id": 49434931, "question_id": 37714843, "link": "https://stackoverflow.com/questions/37714843/the-type-or-namespace-mongoserver-could-not-be-found/49434931#49434931", "title": "The type or namespace MongoServer could not be found", "body": "<p>This is because you have installed an older version.\nPlease  go to Nuget Package console manager and reinstall the Mongocsharp Driver.</p>\n\n<pre><code>Install-Package mongocsharpdriver\n</code></pre>\n\n<p>After installing build the solution.</p>\n"}], "owner": {"reputation": 661, "user_id": 1052423, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ec6a5d408549836bf6fa69d99946cfef?s=128&d=identicon&r=PG", "display_name": "lynnjwalker", "link": "https://stackoverflow.com/users/1052423/lynnjwalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10375, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1521739701, "creation_date": 1465430395, "last_edit_date": 1465430712, "question_id": 37714843, "link": "https://stackoverflow.com/questions/37714843/the-type-or-namespace-mongoserver-could-not-be-found", "title": "The type or namespace MongoServer could not be found", "body": "<p>Referencing this Azure Tutorial, <a href=\"https://azure.microsoft.com/en-us/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/\" rel=\"noreferrer\">https://azure.microsoft.com/en-us/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/</a>, released three months ago and already apparently out of date.</p>\n\n<p>I followed the instructions, copied the code but am unable to build the application with this error: CS0246 the type or namespace MongoServer could not be found Dal.cs line 13.</p>\n\n<p>Azure support responds \"If a type or namespace is not available, it\u2019s generally because of a missing assembly or DLL.\". Agreed, but there is no missing assembly or dll. I suspect the API has changed but can find no documentation in support of this suspicion. I am therefore unable to resolve the issue. </p>\n\n<p><a href=\"https://i.stack.imgur.com/NKIYz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NKIYz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've included a screenshot showing the relevant assembly is installed.</p>\n\n<p>I originally suspected the MongoDb.driver API had changed. The example uses version 2.0.1 and I had installed the latest, 2.2.4. However, after uninstalling the latest version and installing version 2.0.1 I get three errors, the original plus two others. I'm left wondering, how was this code originally built?</p>\n"}, {"tags": ["c#", "unity3d", "coordinates", "coordinate-transformation", "cartesian-coordinates"], "comments": [{"owner": {"reputation": 571, "user_id": 2233341, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YJTxS.png?s=128&g=1", "display_name": "Twitch", "link": "https://stackoverflow.com/users/2233341/twitch"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1465435039, "post_id": 37714764, "comment_id": 62904303, "body": "Uh oh, that sounds like a hint the question wasn&#39;t clear. Did I overthink the explanation?"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1465438290, "post_id": 37714764, "comment_id": 62904934, "body": "Sorry no, it was just a motivational joke. :)  I think detail-wise it is very good but I think you need to say more about what problem you need help solving.  Something about the lines aren&#39;t drawing right?  Any code to show?  Wishing you well"}, {"owner": {"reputation": 571, "user_id": 2233341, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YJTxS.png?s=128&g=1", "display_name": "Twitch", "link": "https://stackoverflow.com/users/2233341/twitch"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1465448823, "post_id": 37714764, "comment_id": 62907432, "body": "@mickyd thanks :o) added a code sample - hopefully it still makes sense; I&#39;ve tweaked it over and over trying to figure out why the Unity results don&#39;t look anything like the map results."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1465449286, "post_id": 37714764, "comment_id": 62907588, "body": "Thanks for adding the code sample.  I don&#39;t know much about geo-spacial stuff but hopefully someone else will come along and can help you with your code.  Good luck fellow Unity user :)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3235832"}, "is_accepted": false, "score": 0, "last_activity_date": 1467189501, "creation_date": 1467189501, "answer_id": 38094392, "question_id": 37714764, "link": "https://stackoverflow.com/questions/37714764/given-latitude-and-longitude-of-a-polyline-convert-to-cartesian-coordinates-and/38094392#38094392", "title": "Given latitude and longitude of a polyline, convert to cartesian coordinates and plot results reference to another known latitude and longitude", "body": "<p>Latitude <code>\u03b8</code> and Longitude <code>\u03c6</code> are two of the components in <em>spherical-polar coordinates</em> (the other being the Radius of the planet <code>r</code>, which you must also specify).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mfe4X.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mfe4X.gif\" alt=\"enter image description here\"></a></p>\n\n<p>For coordinates at elevation <code>h</code>, simply replace  <a href=\"https://i.stack.imgur.com/85FEl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85FEl.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 571, "user_id": 2233341, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YJTxS.png?s=128&g=1", "display_name": "Twitch", "link": "https://stackoverflow.com/users/2233341/twitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 910, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467189501, "creation_date": 1465429806, "last_edit_date": 1465448605, "question_id": 37714764, "link": "https://stackoverflow.com/questions/37714764/given-latitude-and-longitude-of-a-polyline-convert-to-cartesian-coordinates-and", "title": "Given latitude and longitude of a polyline, convert to cartesian coordinates and plot results reference to another known latitude and longitude", "body": "<p>How can I convert longitude and latitude to Unity 3D coordinates based on a longitude and latitude plotted to 0, 0 in Unity?</p>\n\n<p>There are a number of suggestions made about how to do this, but I have yet to see a complete and concise answer to this question. </p>\n\n<p>I need to plot a series of polylines in Unity 3D that represent lines drawn on a map. Each point in the polyline is represented by a latitude and longitude. The coordinates are represented as EPSG:4269 NAD83.</p>\n\n<p>The scenario begins when the user's longitude and latitude is sent to a MongoDB server as a spatial query, and the server responds with a geojson feed containing an array of coordinates that represent each point in the polyline. </p>\n\n<p>The user in Unity3D is positioned directly in the center of the map (0, 0). The compass within the user's device points the Z-Axis to the North. The X-Axis represents east/west. The Y-Axis represents altitude. </p>\n\n<p>The goal is to draw lines on the screen that represent geospatial objects in reference to the user. The program is able to correctly make requests, parse the geojson feed, and plot lines BUT the lines are obviously not correctly positioned without the correct conversion from latitude/longitude to Unity3D cartesian. </p>\n\n<p>This formula is the basically the last piece of the puzzle. I am writing the program for Unity3D using C#.</p>\n\n<p><strong>Here is a representation of how the lines look in an online map. The blue pin represents the user's location:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/H6e8A.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6e8A.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Here is a representation of what the UI looks like on the user's mobile device (lines are not correctly plotted):</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7MiXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MiXB.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Code sample I've managed to munge up while trying to make it all work:</strong></p>\n\n<pre><code>//\n// Longitude and Latitude to Unity\n//\npublic Vector3 LatLonUnity(double longitude, float elevation, double latitude){\n    // code based on http://stackoverflow.com/questions/32311647/converting-gps-coordinates-to-x-y-z-coordinates\n\n    float u_lat = Convert.ToSingle ((latitude - DrawLines.user_latitude) / 0.00001 * 0.12179047095976932582726898256213);\n\n    float u_lon = Convert.ToSingle ((longitude - DrawLines.user_longitude) / 0.000001 * 0.00728553580298947812081345114627);\n\n    Vector3 geo_unity = new Vector3 (-u_lon, elevation, -u_lat);\n\n    return geo_unity;\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "odata"], "answers": [{"tags": [], "owner": {"reputation": 13218, "user_id": 1348273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IYjFG.jpg?s=128&g=1", "display_name": "Lingxi", "link": "https://stackoverflow.com/users/1348273/lingxi"}, "is_accepted": false, "score": 0, "last_activity_date": 1467770047, "creation_date": 1467770047, "answer_id": 38215323, "question_id": 37714721, "link": "https://stackoverflow.com/questions/37714721/11-odata-referentialconstraint-with-wrong-keys/38215323#38215323", "title": "1:1 OData ReferentialConstraint with wrong keys", "body": "<p>Shouldn't <code>ID</code> be the foreign key in the dependent <code>Address</code> type? You don't reference a <code>Customer</code> via <code>AddressId</code>. Therefore, I see no problem in <code>ID</code> being the principal property. For your reference, see <a href=\"http://odata.github.io/WebApi/#04-02-referential-constraint\" rel=\"nofollow\">here</a> and <a href=\"http://odata.github.io/odata.net/#17-36-define-referential-constraints\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 4102, "user_id": 386739, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AcZnE.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/386739/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606913951, "creation_date": 1465429495, "last_edit_date": 1606913951, "question_id": 37714721, "link": "https://stackoverflow.com/questions/37714721/11-odata-referentialconstraint-with-wrong-keys", "title": "1:1 OData ReferentialConstraint with wrong keys", "body": "<p>I have two entities <code>Customer</code> and <code>Address</code> that is a 1-to-1 relationship. Customer has <code>ID, AddressId, Name</code> and Address has <code>ID and AddressName</code>. Whenever I call <code>entityType.AddUnidirectionalNavigation(propertyOnEntity, propertyOnTargetEntity);</code> the metadata associations come out with:</p>\n\n<pre><code>&lt;Association Name=\"K2SmartObjects_Customer_Address_K2SmartObjects_Address_Customer\"&gt;\n&lt;End Type=\"K2SmartObjects.Address\" Role=\"Address\" Multiplicity=\"0..1\"/&gt;\n&lt;End Type=\"K2SmartObjects.Customer\" Role=\"Customer\" Multiplicity=\"0..1\"/&gt;\n&lt;ReferentialConstraint&gt;\n&lt;Principal Role=\"Customer\"&gt;\n&lt;PropertyRef Name=\"ID\"/&gt;\n&lt;/Principal&gt;\n&lt;Dependent Role=\"Address\"&gt;\n&lt;PropertyRef Name=\"ID\"/&gt;\n&lt;/Dependent&gt;\n&lt;/ReferentialConstraint&gt;\n&lt;/Association&gt;\n</code></pre>\n\n<p>Shouldn't the principal role have <code>AddressId</code> as the <code>PropertyRef</code>?</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1465431205, "post_id": 37714695, "comment_id": 62903478, "body": "<a href=\"http://stackoverflow.com/questions/32717832/connecting-to-database-for-multi-tenant-application\">Connecting to database for Multi-Tenant application?</a>"}, {"owner": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1465464574, "post_id": 37714695, "comment_id": 62915850, "body": "Thanks for the feedback; however I&#39;ve tried constructing the ConnectionString in this manner and I am still getting the same error. I checked the format of the ConnectionString in App.config in order to replicate the same parameters that are in the ConnectionString which is used by default however, when I try and construct the ConnectionString using this data, I get an error &#39;keyword not supported&#39; for &#39;provider&#39;, &#39;connectionstring&#39; and for &#39;provider connection string&#39;. Removing these at least allows the string to be constructed but as I say, that just results in the original error again."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1465469052, "post_id": 37714695, "comment_id": 62918774, "body": "The problem is in the connection string which is passed to the constructor."}], "answers": [{"comments": [{"owner": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465492279, "post_id": 37723280, "comment_id": 62935632, "body": "Ah I see, I was missing the metadata from the string. I&#39;m sure I&#39;m getting somewhere as it&#39;s now telling me &quot;Format of the initialization string does not conform to specification starting at index 159.&quot;. Having looked at the string in an outside viewer, position 159 is the start of &#39;provider connection string&#39;. I will look into it further and try and find out why this is happening."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465492812, "post_id": 37723280, "comment_id": 62935937, "body": "Paste your connection string from <code>appconfig</code> here."}, {"owner": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465493195, "post_id": 37723280, "comment_id": 62936157, "body": "The full line from the config file is as follows. Note that I&#39;ve replaced username and password with generic terms, just because :-) : name=&quot;KCAdminContext&quot; connectionString=&quot;metadata=res://*/DataEntity.KCAdminEntitie&zwnj;&#8203;s.csdl|res://*/DataE&zwnj;&#8203;ntity.KCAdminEntitie&zwnj;&#8203;s.ssdl|res://*/DataE&zwnj;&#8203;ntity.KCAdminEntitie&zwnj;&#8203;s.msl;provider=Syste&zwnj;&#8203;m.Data.SqlClient;pro&zwnj;&#8203;vider connection string=&amp;quot;data source=ALICE\\MSSQL2014;initial catalog=KCADMIN_TEST;user id=USER_NAME;password=PASSWORD;MultipleActiveResultSets=True&zwnj;&#8203;;App=EntityFramework&zwnj;&#8203;&amp;quot;&quot; providerName=&quot;System.Data.EntityClient&quot;"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465493741, "post_id": 37723280, "comment_id": 62936527, "body": "Here is exact connection string which you should use: <code>var cn = @&quot;metadata=res:&#47;&#47;*&#47;DataEntity.KCAdminEntities.csdl|res:&#47;&#47;*&#47;D&zwnj;&#8203;ataE\u200c\u200bntity.KCAdminE&zwnj;&#8203;ntities.ssdl|res:&#47;&#47;*&zwnj;&#8203;&#47;DataEntity.KCAdminE&zwnj;&#8203;ntities.msl;provider&zwnj;&#8203;=System\u200c\u200b.Data.SqlCl&zwnj;&#8203;ient;provider connection string=&quot;&quot;data source=ALICE\\MSSQL2014;initial catalog=KCADMIN_TEST;user id=USER_NAME;password=PASSWORD;MultipleActiveResultSets=True&zwnj;&#8203;;App=EntityFramework&zwnj;&#8203;\u200c\u200b&quot;&quot;&quot;;</code>"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465493808, "post_id": 37723280, "comment_id": 62936576, "body": "Pay attention, you should create an overload for constructor which accepts <code>string</code>. Like I did in the answer."}, {"owner": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465513154, "post_id": 37723280, "comment_id": 62945970, "body": "That connection string didn&#39;t quite work but after a bit of tweaking and testing (and by tweaking I mean just starting again using the App.config connection string like you suggested and gradually substituting in the dynamic values) I have now got it working; I had already created the overload as you&#39;d said and placed it in a partial class to avoid any code regeneration wiping it; many thanks for your help!"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "edited": false, "score": 0, "creation_date": 1465515960, "post_id": 37723280, "comment_id": 62946659, "body": "Good job! happy to hear that you solved the problem!"}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 1, "last_activity_date": 1465468376, "last_edit_date": 1465468376, "creation_date": 1465467789, "answer_id": 37723280, "question_id": 37714695, "link": "https://stackoverflow.com/questions/37714695/entity-framework-run-time-connectionstring-when-using-database-first/37723280#37723280", "title": "Entity Framework run-time ConnectionString when using Database First", "body": "<p>First add a constructor overload to your context class to accept a <code>string</code> as connection string:</p>\n\n<pre><code>public TestDBEntities()\n    : base(\"name=TestDBEntities\")\n{\n}\npublic TestDBEntities(string connectionString)\n    : base(connectionString)\n{\n}\n</code></pre>\n\n<p>Then use the connection string in your <code>app.config</code> or <code>web.config</code>. You should replace <code>&amp;qout;</code> with <code>\"</code> also you should include <code>metadata=...</code> and the connection should be in such format:</p>\n\n<pre><code>var cn = @\"metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;\" +\n         @\"provider=System.Data.SqlClient;\" +\n         @\"provider connection string=\"\"\" +\n         @\"data source=(localdb)\\v11.0;\" +\n         @\"initial catalog=TestDB;\" +\n         @\"integrated security=True;\" +\n         @\"MultipleActiveResultSets=True;\" +\n         @\"\"\"\";\nvar db = new TestDBEntities(cn);\n</code></pre>\n\n<p>Note: It's better to put the new overload in a partial class. Then it will not be touched each time when <code>.tt</code> template of context run.</p>\n"}], "owner": {"reputation": 226, "user_id": 2984607, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k2lsD.jpg?s=128&g=1", "display_name": "Your_Unequal", "link": "https://stackoverflow.com/users/2984607/your-unequal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 1, "accepted_answer_id": 37723280, "answer_count": 1, "score": 2, "last_activity_date": 1465468376, "creation_date": 1465429284, "question_id": 37714695, "link": "https://stackoverflow.com/questions/37714695/entity-framework-run-time-connectionstring-when-using-database-first", "title": "Entity Framework run-time ConnectionString when using Database First", "body": "<p>I am creating an application which uses Entity Framework; specifically, Database First.</p>\n\n<p>When the user logs in, a <code>ConnectionString</code> is created at run-time which is then intended to be used for any data handling in the application.</p>\n\n<p>I have already found a number of solutions to this on the Internet which suggest that the way to do this is to implement another constructor for the <code>DbContext</code> class which is created which calls the base <code>DbContext(string)</code>:</p>\n\n<pre><code>public ApplicationDbContext(SqlConnection Connection)\n            : base(Connection.ConnectionString)\n        {\n        }\n</code></pre>\n\n<p>This, I have created in a separate file which is a <code>public partial class</code> of the generated code, to account for any further generated code overwriting what's already in those files.</p>\n\n<p>However, when the application is running, as soon as an <code>ApplicationDbContext</code> is created using this additional constructor, the following exception is raised:</p>\n\n<p><strong>\"The context is being used in Code First mode with code that was generated from an EDMX file for either Database First or Model First development...\"</strong></p>\n\n<p>This would make sense as I'm using a Database first approach. However, all of the answers I have seen where Database First is used suggest doing this.</p>\n\n<p>Having looked into it a little further on <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.dbcontext.dbcontext(v=vs.113).aspx#M:System.Data.Entity.DbContext\" rel=\"nofollow\" title=\"MSND\">MSDN</a>, I see that there is actually another <code>DbContext</code> constructor that I could use: <code>DbContext(String,\u2002DbCompiledModel)</code>. I am wondering whether this is what I am missing and this is the constructor I need, since I would have said I am using a compiled model (...or am I?).</p>\n\n<p>However, is this the correct way to approach it or does this need to be handled another way?</p>\n"}, {"tags": ["c#", "draw", "move", "picturebox", "transparent"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3235832"}, "edited": false, "score": 0, "creation_date": 1465429312, "post_id": 37714679, "comment_id": 62902896, "body": "you should really be drawing everything on <i>a single</i> picturebox"}, {"owner": {"reputation": 1480, "user_id": 4120180, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Wi7Gg.png?s=128&g=1", "display_name": "Stav Bodik", "link": "https://stackoverflow.com/users/4120180/stav-bodik"}, "edited": false, "score": 0, "creation_date": 1465430839, "post_id": 37714679, "comment_id": 62903380, "body": "Ok so i took screen shoot after loading the board and checkers and then i make all checkers parent to be the panel which is holidng this screen shoot : <a href=\"http://s33.postimg.org/57e2f6r4f/image.png\" rel=\"nofollow noreferrer\">s33.postimg.org/57e2f6r4f/image.png</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3235832"}, "edited": false, "score": 0, "creation_date": 1465431284, "post_id": 37714679, "comment_id": 62903503, "body": "I mean you should draw every checker piece directly to one single picturebox, and use the method here: <a href=\"http://stackoverflow.com/questions/4779027/changing-the-opacity-of-a-bitmap-image\" title=\"changing the opacity of a bitmap image\">stackoverflow.com/questions/4779027/&hellip;</a>, to achieve transparency. MUCH faster than creating controls"}, {"owner": {"reputation": 1480, "user_id": 4120180, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Wi7Gg.png?s=128&g=1", "display_name": "Stav Bodik", "link": "https://stackoverflow.com/users/4120180/stav-bodik"}, "edited": false, "score": 0, "creation_date": 1465431648, "post_id": 37714679, "comment_id": 62903593, "body": "SetImageOpacity will change the opacity of all image , yes each checker is already inside single picturebox ."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3235832"}, "edited": false, "score": 0, "creation_date": 1465431737, "post_id": 37714679, "comment_id": 62903618, "body": "no I mean <i>everything</i> inside <i>one</i> picturebox not separate boxes for each; if you want to optimize your program then this is not the way to go"}, {"owner": {"reputation": 1480, "user_id": 4120180, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Wi7Gg.png?s=128&g=1", "display_name": "Stav Bodik", "link": "https://stackoverflow.com/users/4120180/stav-bodik"}, "edited": false, "score": 0, "creation_date": 1465433205, "post_id": 37714679, "comment_id": 62903935, "body": "Almost done <a href=\"https://youtu.be/nyhfIOzqeY8\" rel=\"nofollow noreferrer\">youtu.be/nyhfIOzqeY8</a>"}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 6437523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2f8fa01b3c4c14c5a6bd6630627287?s=128&d=identicon&r=PG&f=1", "display_name": "R. Dmytruk", "link": "https://stackoverflow.com/users/6437523/r-dmytruk"}, "is_accepted": false, "score": 0, "last_activity_date": 1465430880, "creation_date": 1465430880, "answer_id": 37714920, "question_id": 37714679, "link": "https://stackoverflow.com/questions/37714679/c-moving-picturebox-over-other-pictureboxes-with-transparent-background/37714920#37714920", "title": "C# Moving PictureBox over other PictureBoxes with transparent background", "body": "<p>If you are going to use pictures I wouldn't use transparency. Transparency is slower in every application.</p>\n\n<p>Let's think for a minute about an alternate solution. How many states can a square be? Primary colored square can be empty, or have a red or black piece on top. The alternate colored square never has a piece on it.</p>\n\n<p>That is a total of 4 states. So 4 images which can be separate or combined on a spritesheet. Then you just need to switch the picture depending on its state. Primary empty, primary with red, primary with black, or alternate colored square.</p>\n\n<p>If you want a fancy border you can use an image for that behind or beside if you build it piece by piece.</p>\n"}, {"tags": [], "owner": {"reputation": 1480, "user_id": 4120180, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Wi7Gg.png?s=128&g=1", "display_name": "Stav Bodik", "link": "https://stackoverflow.com/users/4120180/stav-bodik"}, "is_accepted": true, "score": 0, "last_activity_date": 1560715777, "last_edit_date": 1560715777, "creation_date": 1465434981, "answer_id": 37715411, "question_id": 37714679, "link": "https://stackoverflow.com/questions/37714679/c-moving-picturebox-over-other-pictureboxes-with-transparent-background/37715411#37715411", "title": "C# Moving PictureBox over other PictureBoxes with transparent background", "body": "<p>So if anyone in the future will need help with this issue .</p>\n\n<p>The idea is to have another control panel over all the other panels (game board and checkers).</p>\n\n<p>Then each time we would like to move an checker we take a screenshot from the game board without the moving checker and putting this screenshot to be the image of the top most panel.</p>\n\n<p>Now we change the parent of the moving checker to be the top most panel and now we are moving the checker upon this panel with transparent background.</p>\n\n<p><a href=\"https://youtu.be/PUEyZPhPTlc\" rel=\"nofollow noreferrer\">https://youtu.be/PUEyZPhPTlc</a></p>\n\n<p>(:</p>\n"}], "owner": {"reputation": 1480, "user_id": 4120180, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Wi7Gg.png?s=128&g=1", "display_name": "Stav Bodik", "link": "https://stackoverflow.com/users/4120180/stav-bodik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 37715411, "answer_count": 2, "score": 0, "last_activity_date": 1560715777, "creation_date": 1465429155, "last_edit_date": 1474921778, "question_id": 37714679, "link": "https://stackoverflow.com/questions/37714679/c-moving-picturebox-over-other-pictureboxes-with-transparent-background", "title": "C# Moving PictureBox over other PictureBoxes with transparent background", "body": "<p>My goal is to make checkers game , where user can move checkers on the board.</p>\n\n<p>The board I have made is from DataGridView class .</p>\n\n<p>Right now what am i doing is creating picture boxes for each checker with transparent background and when the user moves the selected checker i am setting him BringToFront.</p>\n\n<p>The problem is that the \"transparent\" effect is actually relative to parent control, and the parent of all checkers is the DataGridView.</p>\n\n<p>So the result is when there is 2 checkers overlapping there is no transparent effect .</p>\n\n<p><a href=\"http://i.stack.imgur.com/JUuD6.png\" rel=\"nofollow\">Example of my problem image</a> </p>\n\n<p>I have got some solution but its takes a lot of memory and all freezes even on thread which is not in UI thread.</p>\n\n<p>My solution was to have one big panel (parent of all checkers) that its background is build of client screenshot and changes while moving the checker.</p>\n\n<p>What is the correct way of doing thing like that ? I was looking and trying solutions on the net from the mooring ): Please help !</p>\n\n<p>Edit :</p>\n\n<p>Almost done :</p>\n\n<p><a href=\"https://youtu.be/nyhfIOzqeY8\" rel=\"nofollow\">https://youtu.be/nyhfIOzqeY8</a></p>\n"}, {"tags": ["c#", "wpf", "local-storage", "outlook-addin"], "comments": [{"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1465430156, "post_id": 37714674, "comment_id": 62903170, "body": "Look at ConfigurationSection to make your own configuration items. You can save the configuration in a separate file rather than your app.config. Loading and saving comes &quot;out of the box&quot;."}, {"owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1465430401, "post_id": 37714674, "comment_id": 62903249, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/bb397750%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Using Application Settngs and User Settings</a>. You will have to add the network thing on top but that shouldn&#39;t be hard."}], "answers": [{"comments": [{"owner": {"reputation": 6630, "user_id": 3453898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MjQi5.png?s=128&g=1", "display_name": "pixel", "link": "https://stackoverflow.com/users/3453898/pixel"}, "edited": false, "score": 0, "creation_date": 1465431322, "post_id": 37714954, "comment_id": 62903516, "body": "@AllanLeaon Thanks but xml file is not an option.  i dont want user tempering it."}, {"owner": {"reputation": 92, "user_id": 6440408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EMTll3NHn80/AAAAAAAAAAI/AAAAAAAAAGQ/mVTRma0SdHQ/photo.jpg?sz=128", "display_name": "Allan Leon Alencar Leit&#227;o", "link": "https://stackoverflow.com/users/6440408/allan-leon-alencar-leit%c3%a3o"}, "reply_to_user": {"reputation": 6630, "user_id": 3453898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MjQi5.png?s=128&g=1", "display_name": "pixel", "link": "https://stackoverflow.com/users/3453898/pixel"}, "edited": false, "score": 1, "creation_date": 1465431693, "post_id": 37714954, "comment_id": 62903609, "body": "than this should solve your user problem <a href=\"http://www.codeproject.com/Articles/26085/File-Encryption-and-Decryption-in-C\" rel=\"nofollow noreferrer\">codeproject.com/Articles/26085/&hellip;</a>"}], "tags": [], "owner": {"reputation": 92, "user_id": 6440408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EMTll3NHn80/AAAAAAAAAAI/AAAAAAAAAGQ/mVTRma0SdHQ/photo.jpg?sz=128", "display_name": "Allan Leon Alencar Leit&#227;o", "link": "https://stackoverflow.com/users/6440408/allan-leon-alencar-leit%c3%a3o"}, "is_accepted": true, "score": 1, "last_activity_date": 1465431193, "creation_date": 1465431193, "answer_id": 37714954, "question_id": 37714674, "link": "https://stackoverflow.com/questions/37714674/solution-for-local-application-settings/37714954#37714954", "title": "Solution for local application settings", "body": "<p>1\u00b0 create a class that represents your runtime settings<br>\n2\u00b0 use manual properties instead functions to manage validation like in:</p>\n\n<pre><code>public long DownloadPeriod\n{\n    get { return _DownloadPeriod; }\n    set\n    {\n        if (value &gt; 0) _DownloadPeriod = value;\n        else throw new Exception(\"invalid value\");\n    }\n}\nprivate long _DownloadPeriod;\n</code></pre>\n\n<p>3\u00b0 use the an XML file to store it locally \n<a href=\"http://www.codeproject.com/Articles/483055/XML-Serialization-and-Deserialization-Part\" rel=\"nofollow\">http://www.codeproject.com/Articles/483055/XML-Serialization-and-Deserialization-Part</a><br>\n4\u00b0 create a function that can download the xml from the server and update the local setting according your own rules.</p>\n\n<p>Hope it helps you.</p>\n"}], "owner": {"reputation": 6630, "user_id": 3453898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MjQi5.png?s=128&g=1", "display_name": "pixel", "link": "https://stackoverflow.com/users/3453898/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1465431325, "accepted_answer_id": 37714954, "answer_count": 1, "score": -2, "last_activity_date": 1465584573, "creation_date": 1465429109, "last_edit_date": 1465584573, "question_id": 37714674, "link": "https://stackoverflow.com/questions/37714674/solution-for-local-application-settings", "closed_reason": "Needs more focus", "title": "Solution for local application settings", "body": "<p>I am looking for a way to store local settings of my MS Outlook add-in WPF application.</p>\n\n<p>I have been reading this article <a href=\"https://msdn.microsoft.com/en-us/library/ms973902.aspx#persistappsettnet_creatingcustomclass\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms973902.aspx#persistappsettnet_creatingcustomclass</a> (Persisting Application Settings in the .NET Framework) which describes how to persist local settings in a custom application settings class.  However, this article is from June 2002 and for Windows Forms application.  </p>\n\n<p><strong>I wonder if this is still a \"good\" way of doing it for my type of application?</strong></p>\n\n<p>I have looked at couple of other options but they dont seem to be applicable to my application type.  Here are some:</p>\n\n<ul>\n<li>Windows.Storage.ApplicationData.Current.LocalSettings (<a href=\"https://msdn.microsoft.com/en-us/windows/uwp/app-settings/store-and-retrieve-app-data#Storing_app_data_in_the_app_data_stores\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/windows/uwp/app-settings/store-and-retrieve-app-data#Storing_app_data_in_the_app_data_stores</a>).  However, this is for Windows Store Apps</li>\n<li>Application Settings ( <a href=\"https://msdn.microsoft.com/en-us/library/k4s6c3a0(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/k4s6c3a0(v=vs.110).aspx</a>). However, this is not working for MS Outlook Add-Ins (as per \"Limitation of Application Settings\" section in the document).</li>\n</ul>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 2, "creation_date": 1465429435, "post_id": 37714648, "comment_id": 62902936, "body": "What have you tried?  This is fairly straight-forward in C# and you are kind of on the right mental track, but a few simple tests in code would give you the answer.  Show what you have tried, and what isn&#39;t working."}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 2, "creation_date": 1465429555, "post_id": 37714648, "comment_id": 62902973, "body": "Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>, I think <b>you need to pick a beginners programming book</b>. Also check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the <a href=\"https://stackoverflow.com/tour\">FAQ</a>&#39;s for general guidelines on what questions are suitable - as it stands this question is too broad and its off-topic in that you don&#39;t explain how to get 10,10,10 from { 22.6, 45.2, 17.9 }, 10... you are asking about the basic building blocks of voids vs functions and by val or by ref, we at least need the code you have. Good luck!"}, {"owner": {"reputation": 3, "user_id": 6442712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00512ce9a800489d35de68098551099?s=128&d=identicon&r=PG&f=1", "display_name": "RavenStorm", "link": "https://stackoverflow.com/users/6442712/ravenstorm"}, "edited": false, "score": 0, "creation_date": 1465430218, "post_id": 37714648, "comment_id": 62903190, "body": "i&#39;ve tried calling the procedure as follow: int [] numbers = {22.6, 45.2, 17.9, 10}; SortNumbers(numbers); but i don&#39;t think thats the correct approach"}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1465431079, "post_id": 37714648, "comment_id": 62903442, "body": "I think you mean to say &quot;arrays are reference type <i>values</i>&quot; and are mutable."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6442712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00512ce9a800489d35de68098551099?s=128&d=identicon&r=PG&f=1", "display_name": "RavenStorm", "link": "https://stackoverflow.com/users/6442712/ravenstorm"}, "edited": false, "score": 0, "creation_date": 1465431031, "post_id": 37714900, "comment_id": 62903426, "body": "Could be although the test problem already comes with this line of code: public void Test8(int[] numbers, int value] which I think the array is inside of that line of code."}, {"owner": {"reputation": 573, "user_id": 4817023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0998cae8b5b0a62dfd814b3c9e0a81?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4817023/steve"}, "edited": false, "score": 0, "creation_date": 1465431287, "post_id": 37714900, "comment_id": 62903504, "body": "the cast of n to a double is unnecessary."}, {"owner": {"reputation": 1362, "user_id": 6386250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/brwvr.jpg?s=128&g=1", "display_name": "Dr.Haimovitz", "link": "https://stackoverflow.com/users/6386250/dr-haimovitz"}, "edited": false, "score": 0, "creation_date": 1465431437, "post_id": 37714900, "comment_id": 62903543, "body": "i preffer explicit casting."}, {"owner": {"reputation": 3, "user_id": 6442712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00512ce9a800489d35de68098551099?s=128&d=identicon&r=PG&f=1", "display_name": "RavenStorm", "link": "https://stackoverflow.com/users/6442712/ravenstorm"}, "edited": false, "score": 0, "creation_date": 1465431690, "post_id": 37714900, "comment_id": 62903605, "body": "it says that keyword &quot;void&quot; cannot be used in this context."}, {"owner": {"reputation": 1362, "user_id": 6386250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/brwvr.jpg?s=128&g=1", "display_name": "Dr.Haimovitz", "link": "https://stackoverflow.com/users/6386250/dr-haimovitz"}, "edited": false, "score": 0, "creation_date": 1465432070, "post_id": 37714900, "comment_id": 62903698, "body": "try adding &quot;public&quot; before"}], "tags": [], "owner": {"reputation": 1362, "user_id": 6386250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/brwvr.jpg?s=128&g=1", "display_name": "Dr.Haimovitz", "link": "https://stackoverflow.com/users/6386250/dr-haimovitz"}, "is_accepted": true, "score": 1, "last_activity_date": 1465431401, "last_edit_date": 1465431401, "creation_date": 1465430801, "answer_id": 37714900, "question_id": 37714648, "link": "https://stackoverflow.com/questions/37714648/in-c-a-procedure-that-modifies-the-incoming-array/37714900#37714900", "title": "In C#, A procedure that modifies the incoming array?", "body": "<pre><code>If i understand you right..\n\nvoid Test8(int[] numbers, int value)\n{\n    for(int i=0;i&lt;numbers.Length;i++)\n    {\n        numbers[i] =(double) value;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6442712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00512ce9a800489d35de68098551099?s=128&d=identicon&r=PG&f=1", "display_name": "RavenStorm", "link": "https://stackoverflow.com/users/6442712/ravenstorm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 37714900, "answer_count": 1, "score": -2, "last_activity_date": 1465431401, "creation_date": 1465428931, "question_id": 37714648, "link": "https://stackoverflow.com/questions/37714648/in-c-a-procedure-that-modifies-the-incoming-array", "title": "In C#, A procedure that modifies the incoming array?", "body": "<p>I've been trying to write a procedure that modifies the incoming array by filling it with the value provided. Since this is a procedure, I think it might not return anything. Instead, I will have to modify the array directly, and because arrays are reference type variables, the array will be permanently changed even after this procedure. I need to set each integer in the numbers array with the integer value.</p>\n\n<p>I am not quite sure how I should solve this problem. I was able to come up with how the the input and output should look like.</p>\n\n<p>Example Input:\n{ 22.6, 45.2, 17.9 }, 10</p>\n\n<p>Example Output:\n{ 10, 10, 10 }</p>\n"}, {"tags": ["c#", "file", "binaryfiles"], "comments": [{"owner": {"reputation": 2735, "user_id": 652013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c040b2fa4499995f2f162b363d98e0?s=128&d=identicon&r=PG", "display_name": "Duncan Howe", "link": "https://stackoverflow.com/users/652013/duncan-howe"}, "edited": false, "score": 1, "creation_date": 1465428793, "post_id": 37714570, "comment_id": 62902745, "body": "Where did the file originate from? It is probably the encoding you are using in the BinaryReader"}, {"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "reply_to_user": {"reputation": 2735, "user_id": 652013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c040b2fa4499995f2f162b363d98e0?s=128&d=identicon&r=PG", "display_name": "Duncan Howe", "link": "https://stackoverflow.com/users/652013/duncan-howe"}, "edited": false, "score": 0, "creation_date": 1465430123, "post_id": 37714570, "comment_id": 62903152, "body": "Yes, I have tried different Encoding, maybe just not hit the right one. File is from some old SW Package that no longer runs on windows. I am trying to reserect the data."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1465430146, "post_id": 37714570, "comment_id": 62903165, "body": "Binary data files cannot be simply converted to text.  They are a mixture of text and numbers that have specific field lengths and/or terminators.  Without the specification defining the binary format I would only be guessing how to parse the data."}, {"owner": {"reputation": 2735, "user_id": 652013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c040b2fa4499995f2f162b363d98e0?s=128&d=identicon&r=PG", "display_name": "Duncan Howe", "link": "https://stackoverflow.com/users/652013/duncan-howe"}, "edited": false, "score": 1, "creation_date": 1465430412, "post_id": 37714570, "comment_id": 62903257, "body": "Do you still have the old software package? If so, it may be worth spinning up a Virtual Machine to run it. Alternatively, look at the compatibility modes available under Windows; see <a href=\"http://windows.microsoft.com/en-gb/windows-10/support\" rel=\"nofollow noreferrer\">windows.microsoft.com/en-gb/windows-10/support</a>"}, {"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "edited": false, "score": 0, "creation_date": 1465430577, "post_id": 37714570, "comment_id": 62903307, "body": "Incomplete install, some files missing or corrupt, was a recovery from an Old Bad Hard Drive."}], "owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465428441, "creation_date": 1465428441, "question_id": 37714570, "link": "https://stackoverflow.com/questions/37714570/read-a-file-dat-and-display-as-hebrew-text", "title": "Read a file.dat and display as Hebrew Text", "body": "<p>I have a Dat File that is like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>? ur [IM?&amp;v?  xp         p      Z   \r\n   2      0      1      vuq ~      uq ~           u      a   \r\n   ;      &lt;      ;      wr [[BK??g?  xp   ur [B???\u00a0 xp   A*.9\r\n 7 eL\r\n% *&gt; .9\r\n% \t*&gt; 0!d1uq ~    y\tU!d 0\r\n&gt; Y\tM \tF\t \t/9.!A \"65&amp;*7\r\n L\t% \t7\t/ eF\r\n% /!95! \"65&amp;*&gt;\r\n 0\r\n%1uq ~    0\t\r\n&gt;! e9\r\n% \r\n\r\n6L\t \t0\r\n\r\n60\t1uq ~    d\t\r\nz e`\r\n% !69\t '\r\n6IL\t \t\r\n-*7 eF\r\n% *&gt;\r\n3 9\t \t*&gt;\r\n3 /0.!A1uq ~    p\t\r\n4Y eV\r\n%a \tM \r\nF\t% \t/9.!A 47 L\r\n \t0\r\n\r\n6\"!&gt;! \t0\r\n\r\n694! \r\n&gt;\t% !/0-1uq ~    c\t\r\n7! eF\r\n% \r\n&gt;\r\n 49\r\n\" 7\tA L\r\n% \t\r\n7\r\n -F\r\n *&gt;\r\n3 9\r\n% 0\r\n%1uq ~    ?\r\n7\"Q e\r\n%?!604?\"?\t\r\n-*U *V\r\n3 Y\r\n%M :.!M 7/ 04F\r\n\" \t*7\r\n3 F\r\n% :.!9 *\"7 04L\r\n\" \t0\r\n\r\n6'*031uq ~    Z\t\r\n4z e`\r\n% 049\r\n\" .L\r\n% \t0\r\n\r\n6\"!&gt;! \t0\r\n\r\n694! \r\n&gt;\t% .*&amp;0\r\n1uq ~    |\t\r\n7! eU\r\n% \r\n4\tY\t s\r\n% V/ .Y\r\n%M !647\t% !/F- \t*0!9 \r\n.L \t0\r\n\r\n6'*031uq ~    s\t\r\n4Y eV\r\n%a \r\n.M !F!d \t4\t*&gt; 9\r\n% 47 \r\nL\r\n% \t\r\n&gt; e9\r\n% '\r\n6I0\t1uq ~    ?\r\n7! eU\r\n% 0-.*V Y!dM -!U.! \"?Q! @7\r\n\" @!F\" \"*7d 5? \"VQ! 5\r\nM \r\n&amp;F\t :.!&gt; @\"\t69\t \"6L!d \t0\r\n\r\n6'*031uq ~    ?\t?*Y s!d -?.! \"*7Q! @V\r\n\" @!Y\"M \r\n&amp;*F\t \t\"*zd \"0Q!65`\r\n :.!&gt; @\"\t69\t \r\n&amp;*L\t \t\r\n&gt; e9\r\n% '\r\n6I0\t1uq ~    2\t0\r\n\r\n6\"!&gt;! \t0\r\n\r\n694! \r\n&gt;\t% .\r\n.0\r\n1uq ~    ?\r\n7! eU\r\n% \r\nV\r\n M 47\r\n\" .F\r\n% -? *&gt;\r\n3 \r\n9\t% \t*7\r\n3 L\r\n \t\r\nV\t M \t7\t\":-F\r\n% \t\r\n9\r\n% \t.&amp;0\r\n%1uq ~    S\t\r\nV\t \tM 47\r\n\" .F\r\n% 9\r\n \"6L!d \t0\r\n\r\n6'*031uq ~    ?\r\n7\"Q eF\r\n% !6.&amp;*&gt;\r\n 9 ;-L\r\n% !6V\t ;-M !.!7! \r\nF\t% \t!6V\t 4I3M !.!7! F\r\n \t*9 '0\t'0\r\n%1uq ~    L\t\r\n*&gt;3 `% e9\r\n% 47\r\n\" .L\r\n% 9\r\n \"60!d1uq ~    u\t.M \r\n7\t% \tF\r\n \t0-F\r\n *&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have tried, without success to display the Hebrew Text that this converts to with the Code:</p>\n\n<pre><code>Encoding hebrewEncoding = Encoding.GetEncoding(\"Windows-1255\");\nusing (FileStream fileStream = new FileStream(Path, FileMode.Open, FileAccess.Read))\n{\nusing (BinaryReader binaryReader = new BinaryReader(fileStream, Encoding.UTF8))\n{\nvar count = binaryReader.BaseStream.Length / sizeof(int);\nfor (var i = 0; i &lt; count; i++)\n{\nbyte[] Hebrew = binaryReader.ReadBytes(8);\nthis.richTextBox1.AppendText(hebrewEncoding.GetString(Hebrew));\n}\n}\n}\n</code></pre>\n\n<p>I am not able to display the text as it should be. Can someone please point me in the right direction.</p>\n"}, {"tags": ["c#", "ssl-certificate", "grpc"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 4284095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FSV3CQgWNeY/AAAAAAAAAAI/AAAAAAAAAZ0/CMhRtzL41-c/photo.jpg?sz=128", "display_name": "Nikolay Pakudin", "link": "https://stackoverflow.com/users/4284095/nikolay-pakudin"}, "edited": false, "score": 2, "creation_date": 1563659909, "post_id": 37739265, "comment_id": 100774157, "body": "IMPORTANT: replace %COMPUTERNAME% with domain name of server machine  If it has IP address only, and you cannot grant it domain name, try to 1) %COMPUTERNAME% = my-server 2) edit /etc/hosts at client machine and add line 111.111.111.111 my-server where 111.111.111.111 is ip address of the server machine"}, {"owner": {"reputation": 825, "user_id": 316737, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/4e68919ce1de6ea3b191bdcae7bbbf42?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh Subramanian", "link": "https://stackoverflow.com/users/316737/rajesh-subramanian"}, "reply_to_user": {"reputation": 371, "user_id": 4284095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FSV3CQgWNeY/AAAAAAAAAAI/AAAAAAAAAZ0/CMhRtzL41-c/photo.jpg?sz=128", "display_name": "Nikolay Pakudin", "link": "https://stackoverflow.com/users/4284095/nikolay-pakudin"}, "edited": false, "score": 2, "creation_date": 1583381501, "post_id": 37739265, "comment_id": 107098966, "body": "@NikolayPakudin  After doing the above implementation getting below error in client, StatusCode=Unavailable, Detail=&quot;DNS resolution failed&quot;. Any idea how to resolve this issue?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "reply_to_user": {"reputation": 15336, "user_id": 1068094, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f382f72b6de2b69ade761b30f0fb555?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Garc&#237;a", "link": "https://stackoverflow.com/users/1068094/%c3%81lvaro-garc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1591560620, "post_id": 37739265, "comment_id": 110096494, "body": "@&#193;lvaroGarc&#237;a You need to be able to make a DNS lookup on the server name from the client. In terms of Windows machines, you may execute <code>PING COMPUTERNAME</code>, but it may not resolve using DNS. As noted in Nikolays comment above, you then need to make sure <code>nslookup SERVERNAME</code> works on your client computers."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1591563653, "post_id": 37739265, "comment_id": 110097424, "body": "As a simple workaround, you can specify the ip address for the server, and add channel option to override the name of the server, so for instance: <code>var options = new List&lt;ChannelOption&gt; { new ChannelOption(ChannelOptions.SslTargetNameOverride, &quot;ACTUAL-HOSTNAME&quot;) }; var channel = new Channel(&quot;1.2.3.4&quot;, 555, ssl, options);</code>"}], "tags": [], "owner": {"reputation": 2778, "user_id": 447698, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4f62a655f855319a4ee29b797fa75813?s=128&d=identicon&r=PG", "display_name": "qmo", "link": "https://stackoverflow.com/users/447698/qmo"}, "is_accepted": true, "score": 59, "last_activity_date": 1465527826, "creation_date": 1465527826, "answer_id": 37739265, "question_id": 37714558, "link": "https://stackoverflow.com/questions/37714558/how-to-enable-server-side-ssl-for-grpc/37739265#37739265", "title": "How to enable server side SSL for gRPC?", "body": "<p>Here's what I did.</p>\n\n<p>Using <a href=\"https://slproweb.com/products/Win32OpenSSL.html\">OpenSSL</a>, generate certificates with the following:</p>\n\n<pre><code>@echo off\nset OPENSSL_CONF=c:\\OpenSSL-Win64\\bin\\openssl.cfg   \n\necho Generate CA key:\nopenssl genrsa -passout pass:1111 -des3 -out ca.key 4096\n\necho Generate CA certificate:\nopenssl req -passin pass:1111 -new -x509 -days 365 -key ca.key -out ca.crt -subj  \"/C=US/ST=CA/L=Cupertino/O=YourCompany/OU=YourApp/CN=MyRootCA\"\n\necho Generate server key:\nopenssl genrsa -passout pass:1111 -des3 -out server.key 4096\n\necho Generate server signing request:\nopenssl req -passin pass:1111 -new -key server.key -out server.csr -subj  \"/C=US/ST=CA/L=Cupertino/O=YourCompany/OU=YourApp/CN=%COMPUTERNAME%\"\n\necho Self-sign server certificate:\nopenssl x509 -req -passin pass:1111 -days 365 -in server.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out server.crt\n\necho Remove passphrase from server key:\nopenssl rsa -passin pass:1111 -in server.key -out server.key\n\necho Generate client key\nopenssl genrsa -passout pass:1111 -des3 -out client.key 4096\n\necho Generate client signing request:\nopenssl req -passin pass:1111 -new -key client.key -out client.csr -subj  \"/C=US/ST=CA/L=Cupertino/O=YourCompany/OU=YourApp/CN=%CLIENT-COMPUTERNAME%\"\n\necho Self-sign client certificate:\nopenssl x509 -passin pass:1111 -req -days 365 -in client.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out client.crt\n\necho Remove passphrase from client key:\nopenssl rsa -passin pass:1111 -in client.key -out client.key\n</code></pre>\n\n<p><em>Change password 1111 to anything you like</em></p>\n\n<p>Server:</p>\n\n<pre><code>var cacert = File.ReadAllText(@\"ca.crt\");\nvar servercert = File.ReadAllText(@\"server.crt\");\nvar serverkey = File.ReadAllText(@\"server.key\");\nvar keypair = new KeyCertificatePair(servercert, serverkey);\nvar sslCredentials = new SslServerCredentials(new List&lt;KeyCertificatePair&gt;() { keypair }, cacert, false);\n\nvar server = new Server\n{\n    Services = { GrpcTest.BindService(new GrpcTestImpl(writeToDisk)) },\n    Ports = { new ServerPort(\"0.0.0.0\", 555, sslCredentials) }\n};\nserver.Start();\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>var cacert = File.ReadAllText(@\"ca.crt\");\nvar clientcert = File.ReadAllText(@\"client.crt\");\nvar clientkey = File.ReadAllText(@\"client.key\");\nvar ssl = new SslCredentials(cacert, new KeyCertificatePair(clientcert, clientkey));\nchannel = new Channel(\"localhost\", 555, ssl);\nclient = new GrpcTest.GrpcTestClient(channel);\n</code></pre>\n\n<p><em>If \"localhost\" doesn't work, use the host name instead.</em></p>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 4284095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FSV3CQgWNeY/AAAAAAAAAAI/AAAAAAAAAZ0/CMhRtzL41-c/photo.jpg?sz=128", "display_name": "Nikolay Pakudin", "link": "https://stackoverflow.com/users/4284095/nikolay-pakudin"}, "is_accepted": false, "score": 4, "last_activity_date": 1565309213, "last_edit_date": 1565309213, "creation_date": 1564097159, "answer_id": 57211287, "question_id": 37714558, "link": "https://stackoverflow.com/questions/37714558/how-to-enable-server-side-ssl-for-grpc/57211287#57211287", "title": "How to enable server side SSL for gRPC?", "body": "<p>If usage of Certificate Authority (CA) and Certificate Signing Request (CSR) is too sophisticated for your task, you can use self-signed certificates.</p>\n\n<p>Let say, there is 1 server and 2 (or more) clients.</p>\n\n<p>Execute at client1:</p>\n\n<pre><code>openssl req -x509 -newkey rsa:4096 -nodes -keyout client.key -out client.crt -days 3650 -subj '/CN=client1' # generate client1 cert and key\nsudo bash -c 'echo \"192.168.1.101 my.server\" &gt;&gt; /etc/hosts' # create domain for server - if necessary only\nscp client.crt server-user@my.server:/path/to/certs/client1.crt # copy public cert client1 to server machine\n</code></pre>\n\n<p>Execute at client2:</p>\n\n<pre><code>openssl req -x509 -newkey rsa:4096 -nodes -keyout client.key -out client.crt -days 3650 -subj '/CN=client2' # generate client2 cert and key\nsudo bash -c 'echo \"192.168.1.101 my.server\" &gt;&gt; /etc/hosts' # create domain for server- if necessary only\nscp client.crt server-user@my.server:/path/to/certs/client2.crt # copy public cert client2 to server machine\n</code></pre>\n\n<p>Execute at server:</p>\n\n<pre><code>openssl req -x509 -newkey rsa:4096 -nodes -keyout server.key -out server.crt -days 3650 -subj '/CN=my.server' # generate server cert and key\nscp server.crt client1-user@client1-addr:/path/to/certs # copy public cert server to client1 machine\nscp server.crt client2-user@client2-addr:/path/to/certs # copy public cert server to client2 machine\ncat client1.crt client2.crt &gt; client.crt # combine client certs into the single file\n</code></pre>\n\n<p>Server code:</p>\n\n<pre><code>var clientCert = File.ReadAllText(Path.Combine(certPath, \"client.crt\"));\nvar serverCert = File.ReadAllText(Path.Combine(certPath, \"server.crt\"));\nvar serverKey = File.ReadAllText(Path.Combine(certPath, \"server.key\"));\nvar keyPair = new KeyCertificatePair(serverCert, serverKey);\nvar credentials = new SslServerCredentials(new List&lt;KeyCertificatePair&gt; { keyPair }, clientCert, true);\n\nvar server = new Server\n{\n    Services = { MyService.BindService(new MyAdminService()) },\n    Ports = { new ServerPort(\"0.0.0.0\", 54321, credentials) }\n};\n</code></pre>\n\n<p>Client code:</p>\n\n<pre><code>var serverCert = File.ReadAllText(Path.Combine(_certPath, \"server.crt\"));\nvar clientCert = File.ReadAllText(Path.Combine(_certPath, \"client.crt\"));\nvar clientKey = File.ReadAllText(Path.Combine(_certPath, \"client.key\"));\nvar credentials = new SslCredentials(serverCert, new KeyCertificatePair(clientCert, clientKey));\n\nvar channel = new Channel(\"my.server:54321\", credentials);    \nvar client = new MyService.MyServiceClient(channel);\n</code></pre>\n\n<p><strong>IMPORTANT!</strong></p>\n\n<p>To use TLS certificates, use a domain name when generate server certificate.</p>\n\n<p>Client certificates can use any unique string.</p>\n\n<p>Domain name should contain at least 1 dot (.), e.g. <code>my.server</code> or <code>my.server.customzone</code></p>\n\n<p>If use top-level domain like <code>my-server</code>, it causes a long waiting to resolve it (for me it always about 76 seconds).</p>\n\n<p><strong>Pros:</strong>\n- no need to generate CSR, pass it to machine with CA, sign it there and copy back to originating machine </p>\n\n<p><strong>Cons:</strong>\n- adding new client requires adding certificate to server</p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 1849842, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b64732ce69d8360ab30c9a0fd5dbc04?s=128&d=identicon&r=PG", "display_name": "Martin Dimitrov", "link": "https://stackoverflow.com/users/1849842/martin-dimitrov"}, "is_accepted": false, "score": 2, "last_activity_date": 1590219725, "creation_date": 1590219725, "answer_id": 61968924, "question_id": 37714558, "link": "https://stackoverflow.com/questions/37714558/how-to-enable-server-side-ssl-for-grpc/61968924#61968924", "title": "How to enable server side SSL for gRPC?", "body": "<p>If you have tried what @qmo has suggested and still not working and you're getting the same error saying <em>\"StatusCode=Unavailable, Detail=\"DNS resolution failed\"</em> I fixed it by adding a new record in my host file (located in C:\\Windows\\System32\\drivers\\etc for Windows).</p>\n\n<pre><code>127.0.0.1 DESKTOP-QNCI7UN\n</code></pre>\n\n<p>Where DESKTOP-QNCI7UN is the name of my machine. Then in the client I'm using:</p>\n\n<pre><code>channel = new Channel(\"DESKTOP-QNCI7UN\", 50000, ssl);\n</code></pre>\n\n<p>By using \"locahost\" it was not working. So by using the machine name in the client + added record in the host file fixed the issue.</p>\n"}], "owner": {"reputation": 2778, "user_id": 447698, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4f62a655f855319a4ee29b797fa75813?s=128&d=identicon&r=PG", "display_name": "qmo", "link": "https://stackoverflow.com/users/447698/qmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15347, "favorite_count": 16, "accepted_answer_id": 37739265, "answer_count": 3, "score": 16, "last_activity_date": 1590219725, "creation_date": 1465428377, "last_edit_date": 1465536799, "question_id": 37714558, "link": "https://stackoverflow.com/questions/37714558/how-to-enable-server-side-ssl-for-grpc", "title": "How to enable server side SSL for gRPC?", "body": "<p>New to gRPC and couldn't really find any example on how to enable SSL on the server side.  I generated a key pair using openssl but it complains that the private key is invalid.</p>\n\n<pre><code>D0608 16:18:31.390303 Grpc.Core.Internal.UnmanagedLibrary Attempting to load native library \"...\\grpc_csharp_ext.dll\"\nD0608 16:18:31.424331 Grpc.Core.Internal.NativeExtension gRPC native library loaded successfully.\nE0608 16:18:43.307324 0 ..\\src\\core\\lib\\tsi\\ssl_transport_security.c:644: Invalid private key.\nE0608 16:18:43.307824 0 ..\\src\\core\\lib\\security\\security_connector.c:821: Handshaker factory creation failed with TSI_INVALID_ARGUMENT.\nE0608 16:18:43.307824 0 ..\\src\\core\\ext\\transport\\chttp2\\server\\secure\\server_secure_chttp2.c:188: Unable to create secure server with credentials of type Ssl.\n</code></pre>\n\n<p>Here's my code</p>\n\n<pre><code>var keypair = new KeyCertificatePair(\n            File.ReadAllText(@\"root-ca.pem\"),\n            File.ReadAllText(@\"ssl-private.key\"));\nSslServerCredentials creds = new SslServerCredentials(new List&lt;KeyCertificatePair&gt;() {keypair});\nServer server = new Server\n{\n    Services = { GrpcTest.BindService(new GrpcTestImpl()) },\n    Ports = { new ServerPort(\"127.0.0.1\", Port, creds) }\n};\n</code></pre>\n"}, {"tags": ["c#", "c++", "windows", "dll"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 3, "creation_date": 1465428391, "post_id": 37714530, "comment_id": 62902624, "body": "I&#39;d use a named pipe, give it  a GUID name and pass the name as a command line argument to C"}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465439943, "post_id": 37714530, "comment_id": 62905251, "body": "&#39;C&#39; needs to be an executable because it&#39;s an application that&#39;s already been written, many KLOCs of code. It&#39;s an interactive graphics app, tightly bound to the Windows message loop, would take many months to turn into a DLL. It&#39;s doable, but I&#39;m looking to save time."}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465441635, "post_id": 37714530, "comment_id": 62905557, "body": "Why on earth would this be downvoted? Would anyone downvoting please have the courtesy of explaining why they chose to do so? Scott Chamberlain&#39;s suggestion of using named pipes is excellent, and may provide me with the solution I&#39;m looking for."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1465444826, "post_id": 37714530, "comment_id": 62906234, "body": "At a guess, it&#39;s because they consider it obvious that calling a function in a different process is impossible.  I personally disagree with downvoting on those grounds, and I suspect that in fact you <i>could</i> in principle achieve a reasonable facsimile of what you&#39;ve asked for using COM, but such is life.  (For the record, a named pipe is probably a more reasonable solution to your actual problem than COM anyway.)"}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465470288, "post_id": 37714530, "comment_id": 62919586, "body": "Thank you Harry Johnston, I had thought about COM, because I was concerned about the performance of named pipes. This thing is going to involve a lot of XML data. I&#39;ll give NP a try."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1465492998, "post_id": 37714530, "comment_id": 62936046, "body": "Named pipes are implemented using shared memory. With respect to performance there is little you can do to get any better. Without knowing what <i>&quot;a lot of XML data&quot;</i> is you cannot expect reasonable responses, though. As for the down-votes, I guess it is, because this question completely ignores a very basic concept: process isolation. This isn&#39;t anything new either; it has been commonplace literally for decades."}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465559938, "post_id": 37714530, "comment_id": 62964932, "body": "I&#39;ve got a C# server &amp; C++ client pipe going. The data transfer rate is a combined 30 MB/sec. for I/O, pretty decent (i7-6700 3.40 GHz). Pipes is the way to go. Thank you to all who contributed positively."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465429860, "post_id": 37714693, "comment_id": 62903062, "body": "This doesn&#39;t address the core issue: How to implement the IPC."}], "tags": [], "owner": {"reputation": 92, "user_id": 6440408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EMTll3NHn80/AAAAAAAAAAI/AAAAAAAAAGQ/mVTRma0SdHQ/photo.jpg?sz=128", "display_name": "Allan Leon Alencar Leit&#227;o", "link": "https://stackoverflow.com/users/6440408/allan-leon-alencar-leit%c3%a3o"}, "is_accepted": false, "score": -2, "last_activity_date": 1465429272, "last_edit_date": 1495540723, "creation_date": 1465429272, "answer_id": 37714693, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it/37714693#37714693", "title": "Can an EXE call into the DLL that launched it?", "body": "<p>straight forward answer: yes you can. But it is an really annoying process. You got to create a callback in B and C needs to receive this callback.</p>\n\n<p>So here some links to help you with loading the unmanaged dll.</p>\n\n<p><a href=\"http://timtrott.co.uk/calling-win32-dlls/\" rel=\"nofollow noreferrer\">http://timtrott.co.uk/calling-win32-dlls/</a><br>\n<a href=\"https://stackoverflow.com/questions/1653667/is-it-possible-to-use-win32-dlls-in-c/1653705\">Is it possible to use win32 DLLs in C#?</a><br>\n<a href=\"https://msdn.microsoft.com/en-us/library/aa719104%28v=vs.71%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/aa719104%28v=vs.71%29.aspx</a></p>\n\n<p>And here is how to create your callback:<br>\n<a href=\"https://stackoverflow.com/questions/2167895/howto-implement-callback-interface-from-unmanaged-dll-to-net-app\">Howto implement callback interface from unmanaged DLL to .net app?</a></p>\n\n<p>My advice is, avoid doing this. unmanaged dlls should be used only in the \"request and return\" mode, what means that they only answer requests from the caller and the caller waits until the dll finish the process.</p>\n"}, {"comments": [{"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465440069, "post_id": 37714905, "comment_id": 62905282, "body": "What about with a pipe as suggested by  Scott Chamberlain? Would that avoid the problem of being in a different process?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 2, "creation_date": 1465442693, "post_id": 37714905, "comment_id": 62905776, "body": "It depends what you mean by &quot;avoid&quot;.  Named pipes work across processes, of course.  But they don&#39;t allow you to call a function in the other process, they just let you pass bytes around.  Presumably that&#39;s all you really need."}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": false, "score": 2, "last_activity_date": 1465430824, "creation_date": 1465430824, "answer_id": 37714905, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it/37714905#37714905", "title": "Can an EXE call into the DLL that launched it?", "body": "<p>No, it can't.</p>\n\n<p>The DLL and EXE are in different processes, and you cannot call a function in a different process.</p>\n"}], "owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1465430824, "creation_date": 1465428222, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it", "title": "Can an EXE call into the DLL that launched it?", "body": "<ul>\n<li>EXE '<code>A</code>' is written in C#. '<code>A</code>' calls DLL '<code>B</code>', also written in C#.</li>\n<li>DLL '<code>B</code>' calls <code>CreateProcess</code> to launch a second EXE '<code>C</code>'. '<code>C</code>' is written in native C++, Win32.</li>\n<li>'<code>C</code>' needs to be able to call a function in DLL '<code>B</code>' because '<code>B</code>' knows of a handle with which it can obtain info from '<code>A</code>'. The handle will be stored as a global variable within <code>B</code>.</li>\n</ul>\n\n<p>I know how to call a managed C# DLL from a Native C++ EXE.</p>\n\n<p>My question is: how can we make <code>C</code> call back into <code>B</code>? How does <code>C</code> find <code>B</code>?</p>\n"}, {"tags": ["c#", ".net", "web-services"], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "edited": false, "score": 0, "creation_date": 1465493911, "post_id": 37715108, "comment_id": 62936635, "body": "Thanks for your response.  I&#39;m not sure I fully understand what you are saying about overloading the properties.  Would you be able edit your response in order to provide any examples/samples?  I want to replace one property with that of a different type: a property defined as <code>byte[]</code> with one defined as <code>BulkExchangeFileType</code>. I have updated my post with more specifics as to what I am looking for."}], "tags": [], "owner": {"reputation": 92, "user_id": 6440408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EMTll3NHn80/AAAAAAAAAAI/AAAAAAAAAGQ/mVTRma0SdHQ/photo.jpg?sz=128", "display_name": "Allan Leon Alencar Leit&#227;o", "link": "https://stackoverflow.com/users/6440408/allan-leon-alencar-leit%c3%a3o"}, "is_accepted": false, "score": 0, "last_activity_date": 1465643514, "last_edit_date": 1465643514, "creation_date": 1465432353, "answer_id": 37715108, "question_id": 37714483, "link": "https://stackoverflow.com/questions/37714483/overriding-a-generated-partial-class/37715108#37715108", "title": "Overriding a Generated Partial Class", "body": "<p>Use extension methods and/or overload the properties in an inhered class, so your code will not be replaced. \nTo overload the properties you just need to declare it with the word new before public like in : <code>new public BulkExchangeFileType BulkExchangeFile</code>, so when you use the object it will call your properties instead the ones defined by the web service</p>\n\n<p>and here is how to create extention methods <a href=\"https://msdn.microsoft.com/library/bb383977.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/library/bb383977.aspx</a></p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        InheredClass test = new InheredClass(); // Do this\n        BaseClass test2 = new InheredClass(); // don't do this\n\n        Console.WriteLine(test.MyProperty.GetType());\n        Console.WriteLine(test2.MyProperty.GetType());\n        Console.Read();\n    }\n\n\n    class BaseClass\n    {\n        public int MyProperty { get; set; }\n    }\n\n    class InheredClass : BaseClass\n    {\n        new public decimal MyProperty { get; set; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 797, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465643514, "creation_date": 1465427887, "last_edit_date": 1465493504, "question_id": 37714483, "link": "https://stackoverflow.com/questions/37714483/overriding-a-generated-partial-class", "title": "Overriding a Generated Partial Class", "body": "<p>I have imported a third-party <code>WSDL</code> (via Service Reference) into my Console Application project in order to send and receive data through Web Services.  In order to get this to function appropriately, I have had to add some code to the <code>Reference.cs</code> file associated to the Web Service.  While this works, if an update is made to the WSDL, and I re-import/generate that Service Reference, that work-around code will go away.</p>\n\n<p>In order to get around this, I have saved the necessary code-changes to an external text file saved within the project.</p>\n\n<p>I'm curious if anyone knows of a way that I could write these changes into a their own separate class, outside of the Service Reference, and yet, still be referenced by the Service Reference, thus using the \"correct\" code needed to send/receive from the Web Service.</p>\n\n<p>I have two classes (not included in the generated code) that I am able to reference in the generated code after separating them into their own <code>.cs</code> file and referencing the <code>namespace</code> used by the Service Reference.</p>\n\n<p>What I would like to do, if possible, is the following:\n<hr/>\n<strong>Overall Goal:</strong><br>\n<em>Add custom code to code generated by importing a third-party WSDL as a Service Reference, that way when the WSDL is updated by the third-party, another developer would not have to necessarily remember to dive into the <code>Reference.cs</code> file of the Service Reference, and replace/add specific code.</em></p>\n\n<p><strong>To achieve this goal, I need to be able to:</strong>  </p>\n\n<ol>\n<li>Replace an existing property and associated field of the generated\n<code>partial class</code>, with a customized version (see Snippet #1 below).</li>\n<li>Replace an existing generated <code>partial class</code> with a customized version of the class, having a different attribute definition and slightly different property/field definitions.</li>\n</ol>\n\n<hr />\n\n<p><em><strong>Snippet #1</strong></em></p>\n\n<p>Replace the following:</p>\n\n<pre><code>private byte[] bulkExchangeFileField;\n\n[System.Xml.Serialization.XmlElementAttribute(Namespace = \"urn:us:gov:treasury:irs:common\", DataType = \"base64Binary\", Order = 0)]\npublic byte[] BulkExchangeFile\n{\n   get { return this.bulkExchangeFileField; }\n   set\n        {\n            this.bulkExchangeFileField = value;\n            this.RaisePropertyChanged(\"BulkExchangeFile\");\n        }\n    }\n</code></pre>\n\n<p>with this version of the properties/fields that worked once I altered the generated code:</p>\n\n<pre><code>private BulkExchangeFileType bulkExchangeFileField;\n\n[System.Xml.Serialization.XmlElementAttribute(Namespace = \"urn:us:gov:treasury:irs:common\", Order = 0)]\npublic BulkExchangeFileType BulkExchangeFile\n{\n    get { return this.bulkExchangeFileField; }\n    set\n    {\n        this.bulkExchangeFileField = value;\n            this.RaisePropertyChanged(\"BulkExchangeFile\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "base64"], "comments": [{"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465427385, "post_id": 37714361, "comment_id": 62902322, "body": "Are you sure the file is Base64 encoded?  If it&#39;s not you will not be able to do the conversion.  Based on the exception, I doubt the contents of this file are what you expect."}, {"owner": {"reputation": 923, "user_id": 2775299, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/8ZxA8.png?s=128&g=1", "display_name": "codegrid", "link": "https://stackoverflow.com/users/2775299/codegrid"}, "reply_to_user": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465427476, "post_id": 37714361, "comment_id": 62902348, "body": "The conversion went well and I have also viewed the converted document."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465427706, "post_id": 37714361, "comment_id": 62902408, "body": "Can you show the implementation around the call to <code>LoadFile</code>?  I think something might be missing here."}, {"owner": {"reputation": 923, "user_id": 2775299, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/8ZxA8.png?s=128&g=1", "display_name": "codegrid", "link": "https://stackoverflow.com/users/2775299/codegrid"}, "reply_to_user": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465428109, "post_id": 37714361, "comment_id": 62902530, "body": "I am trying to read/view the pdf using a pdf reader. The point at which the error occur is immediately after the second code section. If I pass a normal path to a pdf for example saved inside mydocument it will run without error. So I am wondering while this implementation is failing."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465428251, "post_id": 37714361, "comment_id": 62902577, "body": "I don&#39;t know much about axAcro, but the exception is telling you that the library cannot convert that file to PDF format for its purposes.  I would spend some time reading the documentation on the axAcro plugin to see if you need to specify a type of file encoding or something else.  And also know that simply changing a file&#39;s extension does not convert the contents of a file to something else.  It&#39;s very likely axAcro cannot open this pdf, because it is not in fact a pdf."}, {"owner": {"reputation": 923, "user_id": 2775299, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/8ZxA8.png?s=128&g=1", "display_name": "codegrid", "link": "https://stackoverflow.com/users/2775299/codegrid"}, "reply_to_user": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465429401, "post_id": 37714361, "comment_id": 62902927, "body": "I tried it with axFoxitCtl and it worked. But I still want to use axAcro."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 1, "creation_date": 1465429487, "post_id": 37714361, "comment_id": 62902950, "body": "So then it&#39;s clearly an issue with decoding that file via the library you are using.  Again, read some documentation or try to save your file in something other than Base64?"}], "owner": {"reputation": 923, "user_id": 2775299, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/8ZxA8.png?s=128&g=1", "display_name": "codegrid", "link": "https://stackoverflow.com/users/2775299/codegrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1465427061, "creation_date": 1465427061, "question_id": 37714361, "link": "https://stackoverflow.com/questions/37714361/exception-has-been-thrown-by-the-target-of-an-invocation-converting-base64-to-pd", "title": "Exception has been thrown by the target of an invocation converting base64 to pdf", "body": "<p>I am getting this error at this line of code:</p>\n\n<pre><code>this.axAcroPDF1.LoadFile(spathfile);\n</code></pre>\n\n<p>This occur after converting base64 code to pdf:</p>\n\n<pre><code>var base64BinaryStr = fileList.FilePath;\n\n            byte[] lesson = Convert.FromBase64String(base64BinaryStr);\n\n           // byte[] lesson = ReadFile(fileName);\n            var spathfile = System.IO.Path.GetTempFileName();\n            //move from soures to destination the extension until now is .temp\n            System.IO.File.Move(spathfile,\n             System.IO.Path.ChangeExtension(spathfile, \".pdf\"));\n            //make it real pdf file  extension .pdf\n            spathfile = System.IO.Path.ChangeExtension(spathfile, \".pdf\");\n            System.IO.File.WriteAllBytes(spathfile, lesson);\n</code></pre>\n\n<p>I have stepped through the code to verify if <code>spathfile</code> returns a value and there is a value in it (\"C:\\Users\\user's Name\\AppData\\Local\\Temp\\tmpDA3B.pdf\").</p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1465427771, "post_id": 37714349, "comment_id": 62902433, "body": "What JSON serializer are you using?  Most will support deserializing to a <code>Dictionary&lt;string, LocationInfo&gt;</code> along the lines of <a href=\"https://stackoverflow.com/questions/34213566\">Create a strongly typed c# object from json object with ID as the name</a>"}, {"owner": {"reputation": 237, "user_id": 5411541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3f32862cb22885b6273a934b580a206?s=128&d=identicon&r=PG&f=1", "display_name": "Foxtrek_64", "link": "https://stackoverflow.com/users/5411541/foxtrek-64"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1465427851, "post_id": 37714349, "comment_id": 62902456, "body": "Seems I did leave that out -- I&#39;m using <a href=\"http://json.net\" rel=\"nofollow noreferrer\">json.net</a> from newtonsoft."}], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 5411541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3f32862cb22885b6273a934b580a206?s=128&d=identicon&r=PG&f=1", "display_name": "Foxtrek_64", "link": "https://stackoverflow.com/users/5411541/foxtrek-64"}, "edited": false, "score": 0, "creation_date": 1465428538, "post_id": 37714501, "comment_id": 62902663, "body": "Outstanding! I was able to then see the output by using <code>foreach (KeyValuePair&lt;string, DataContainer&gt; kvp in dictionary)</code> where I&#39;m able to grab each piece of it."}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 1, "last_activity_date": 1465428041, "creation_date": 1465428041, "answer_id": 37714501, "question_id": 37714349, "link": "https://stackoverflow.com/questions/37714349/json-net-deserialization-with-unique-types/37714501#37714501", "title": "JSON.net Deserialization with unique types", "body": "<p>You can deserialize that JSON to a <code>Dictionary&lt;string, LocationInfo&gt;</code>:</p>\n\n<pre><code>var dictionary = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, LocationInfo&gt;&gt;(jsonString);\n</code></pre>\n\n<p>See <a href=\"http://www.newtonsoft.com/json/help/html/DeserializeDictionary.htm\" rel=\"nofollow\">Deserialize a Dictionary</a>.  Then you can convert to your final model if desired:</p>\n\n<pre><code>var list = dictionary.Select(pair =&gt; new DataContainer { UserName = pair.Key, locationInfo = pair.Value }).ToList();\n</code></pre>\n\n<p>In addition, since the c# POCO property names in your <code>LocationInfo</code> do not match the names in the JSON you are receiving, you need to manually set up the mapping using the <a href=\"http://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonPropertyAttribute.htm\" rel=\"nofollow\"><code>[JsonProperty]</code></a> attribute:</p>\n\n<pre><code>public class LocationInfo\n{\n    [JsonProperty(\"Location\")]\n    public string BuildingName { get; set; }\n    [JsonProperty(\"Additional\")]\n    public string AdditionalInfo { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 5411541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3f32862cb22885b6273a934b580a206?s=128&d=identicon&r=PG&f=1", "display_name": "Foxtrek_64", "link": "https://stackoverflow.com/users/5411541/foxtrek-64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 1, "accepted_answer_id": 37714501, "answer_count": 1, "score": 0, "last_activity_date": 1465428041, "creation_date": 1465427004, "last_edit_date": 1465427873, "question_id": 37714349, "link": "https://stackoverflow.com/questions/37714349/json-net-deserialization-with-unique-types", "title": "JSON.net Deserialization with unique types", "body": "<p>Before I start off - I should say I have very little experience with JSON. All of my experience with this has been with SnakeYaml in Java...</p>\n\n<p>Secondly, if you think it is better to pursue a secondary solution for this project, please let me know...</p>\n\n<p>I have a TCP server which accepts a json-formatted string and returns a json formatted string containing the requested information. Here's an example of what it'd be doing.</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>{\n    'MyName': 'John Doe'\n    'MandatoryLookup': false\n}\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>{\n   'John Doe': {\n        'Location' : 'Big Office Building'\n        'Additional': 'Floor 2'\n    }\n}\n</code></pre>\n\n<p>This part is working correctly and is provided only for understanding.</p>\n\n<p>Rerailing, the server that provides the response returns this information after completing a SQL query. What I would like it to do is to save this query within memory (using a custom object made below) as well as storing it in a json file on disk. When the server boots, I'd like it to read from this json file and deserialize it into my objects. This way, it can return a response almost right away instead of having to perform a lookup every time. In the case that the server does not have the information on hand or the \"MandatoryLookup\" flag is <code>true</code>, it queries the SQL server for the response.</p>\n\n<p>Here's the class for the custom object:</p>\n\n<pre><code>public class DataContainer\n{\n    public string UserName { get; set; }\n    public info LocationInfo locationInfo;\n}\n\npublic class LocationInfo\n{\n    public string BuildingName { get; set; }\n    public string AdditionalInfo { get; set; }\n}\n</code></pre>\n\n<p>^ The idea above goes to another StackOverflow thread I'd read regarding subcategories, though I don't know if this is correct provided the JSON string below.</p>\n\n<p><strong>RecentLookups.json</strong> ((This is the file saved to disk that I parse on startup))</p>\n\n<pre><code>{\n    'John Doe' : {\n        'Location' : 'Big Office Building',\n        'Additional' : 'Floor 2'\n    },\n    'Jane Doe' : {\n        'Location' : 'Small Office Building',\n        'Additional' : 'Security Office'\n    }\n}\n</code></pre>\n\n<p>This ultimately splits into three questions</p>\n\n<ol>\n<li>What would be the best place to start when looking at how to format my object for deserialization (because the way it is now doesn't work).</li>\n<li>Is worrying about pre-caching the formatted sql queries to disk worth the trouble (is the SQL lookup going to be fast enough to just have it look up the value every time)?</li>\n<li>How would I go about programmatically creating a uniquely named DataContainer object for each Json group? -- Example below</li>\n</ol>\n\n<p>The names of my JSON groups are not repeatable names -- that is, there will not be a group with a name like 'Jane Doe'. Instead, these examples were provided for readability. The real group names are unique identifiers for objects and the subcategories (location, additional) are information about said objects. What I would like is for each DataContainer object to have a unique name based off of the JSON category name, e.g. 'Jane Doe' would be <code>DataContainer JaneDoe</code> with the properties of that object set within.</p>\n\n<p>Sorry for the wall and thanks in advance.</p>\n"}, {"tags": ["c#", "c", "struct", "shared-libraries", "marshalling"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1465431653, "post_id": 37714341, "comment_id": 62903594, "body": "An enum can be different sizes 1,2,4,8 bytes so check you c language compiler for default size.  The size can be set in c# to match c language.  Make sure &#39;name&#39; ends with a &#39;\\0&#39;.  Try :  Marshal.StringToHGlobalAuto(&quot;Xxx20140508743\\0&quot;),"}, {"owner": {"reputation": 91, "user_id": 2506877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f83f81a613ffeeca9199464e90a32?s=128&d=identicon&r=PG", "display_name": "KickTheDragon", "link": "https://stackoverflow.com/users/2506877/kickthedragon"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1465439168, "post_id": 37714341, "comment_id": 62905088, "body": "Unfortunately adding &quot;\\0&quot; didn&#39;t fix it. However, another interesting note to make is the param ID enum seems to be marshaling correctly since Xxx2014050874 is the third enum in the list, and the log output shows param ID to be 3, as well as D1 to be 11 which is correct. But what is interesting is Oid changes every time the function is run, and should be a set const 3 byte array. I&#39;ll edit my post to show the different log output"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1465459103, "post_id": 37714341, "comment_id": 62912467, "body": "Variables are being passed properly from c# to c, but the return is failing because you corrupted the execution stack.  In .h pq_gen_key parameter list contains 5 pointers so in c# the DllImport must contain 5 IntPtr.  Then take ParamSet p and use Marshal.StructureToPtr to get the IntPtr."}, {"owner": {"reputation": 91, "user_id": 2506877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f83f81a613ffeeca9199464e90a32?s=128&d=identicon&r=PG", "display_name": "KickTheDragon", "link": "https://stackoverflow.com/users/2506877/kickthedragon"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1465498202, "post_id": 37714341, "comment_id": 62939207, "body": "Brilliant mate! I you were spot on about the struct and the rest needing to be IntPtr as well."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1465519441, "post_id": 37714341, "comment_id": 62947357, "body": "You can&#39;t pass local variables that are on the execution stack to a dll which requires variables to be global (static).  The AllocHGlobal allocates memory in global space and that is why the ParamSet is now working.  You have similar issue with your byte[].  You must use AllocHGlobal to allocate global memory for your byte array.  Then use Marshal.Copy() to copy byte[] to allocated global memory.  Again in DllImport your parameter is IntPtr like I said earlier."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 2506877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f83f81a613ffeeca9199464e90a32?s=128&d=identicon&r=PG", "display_name": "KickTheDragon", "link": "https://stackoverflow.com/users/2506877/kickthedragon"}, "is_accepted": true, "score": 0, "last_activity_date": 1465572943, "last_edit_date": 1465572943, "creation_date": 1465498622, "answer_id": 37734099, "question_id": 37714341, "link": "https://stackoverflow.com/questions/37714341/marshaling-c-struct-into-native-c-library/37734099#37734099", "title": "Marshaling C# struct into native C library", "body": "<p>It all works now!</p>\n\n<p>Marshaling the params struct looks like this</p>\n\n<pre><code>        IntPtr parameter = Marshal.AllocHGlobal(Marshal.SizeOf(param));\n\n        Marshal.StructureToPtr(param, parameter, false);\n</code></pre>\n\n<p>below is the final function working.</p>\n\n<pre><code>    public static KeyPair generate_keys(ParamSet param) {\n        uint pub_len = 0;\n        uint priv_len = 0;\n\n        IntPtr privkey_blob_len = new IntPtr(priv_len);\n        IntPtr pubkey_blob_len = new IntPtr(pub_len);\n\n        IntPtr parameter = Marshal.AllocHGlobal(Marshal.SizeOf(param));\n\n        Marshal.StructureToPtr(param, parameter, false);\n\n        IntPtr pv_ptr = IntPtr.Zero;\n        IntPtr pb_ptr = IntPtr.Zero;\n\n        var result = ffi.ffi.pq_gen_key(parameter, out privkey_blob_len, pv_ptr, out pubkey_blob_len, pb_ptr);\n\n        Console.WriteLine(\"Result: \" + result + \" Private Key BLob Length: \" + privkey_blob_len.ToInt32() + \" Public Key Blob Lengh: \" + pubkey_blob_len);\n\n\n       if (result != 0)\n          Console.WriteLine(\"We got problems\");\n\n\n        pv_ptr = Marshal.AllocHGlobal(privkey_blob_len.ToInt32());\n        pb_ptr = Marshal.AllocHGlobal(pubkey_blob_len.ToInt32());\n\n\n        result = ffi.ffi.pq_gen_key(parameter, out privkey_blob_len, pv_ptr, out pubkey_blob_len, pb_ptr);\n\n        if (result != 0)\n            Console.WriteLine(\"We got problems\");\n\n       Console.WriteLine(\"Result: \" + result.ToString() + \" Private Key BLob Length: \" + privkey_blob_len + \" Public Key Blob Lengh: \" + pubkey_blob_len);\n\n        byte[] privkeyBytes = new byte[privkey_blob_len.ToInt32()];\n        byte[] pubkeyBytes = new byte[pubkey_blob_len.ToInt32()];\n\n        Marshal.Copy(pv_ptr, privkeyBytes, 0, privkey_blob_len.ToInt32());\n        Marshal.Copy(pb_ptr, pubkeyBytes, 0, pubkey_blob_len.ToInt32());\n\n\n        Marshal.FreeHGlobal(pv_ptr);\n        Marshal.FreeHGlobal(pb_ptr);\n        Marshal.FreeHGlobal(parameter);\n\n\n        return new KeyPair(new PrivateKey(privkeyBytes), new PublicKey(pubkeyBytes));\n\n    }\n</code></pre>\n\n<p>And my ffi</p>\n\n<pre><code>public static class ffi {\n\n    [DllImport(\"ntrumls\")]\n    public static extern int pq_gen_key(IntPtr p, out IntPtr privkey_blob_len, IntPtr privkey_blob, out IntPtr pubkey_blob_len, IntPtr pubkey_blob);\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 2506877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f83f81a613ffeeca9199464e90a32?s=128&d=identicon&r=PG", "display_name": "KickTheDragon", "link": "https://stackoverflow.com/users/2506877/kickthedragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 37734099, "answer_count": 1, "score": 3, "last_activity_date": 1465572943, "creation_date": 1465426973, "last_edit_date": 1465438939, "question_id": 37714341, "link": "https://stackoverflow.com/questions/37714341/marshaling-c-struct-into-native-c-library", "title": "Marshaling C# struct into native C library", "body": "<p>I'm currently writing a <a href=\"https://github.com/FractalGlobal/NTRUMLS-Sharp\" rel=\"nofollow\"><em>NTRUMLS C#</em></a> wrapper for the <a href=\"https://github.com/NTRUOpenSourceProject/NTRUMLS\" rel=\"nofollow\"><em>NTRUMLS C</em></a> library.  I'm running into an issue where I don't believe i'm marshaling the parameters data correctly through the foreign function interface that map to the C library entry points.</p>\n\n<p>Here's the specific foreign function interface I'm using in <code>ffi.cs</code>.</p>\n\n<pre><code>using System;\nusing System.Runtime.InteropServices;\nusing NTRUMLS.Params;\n\nnamespace NTRUMLS.ffi {\npublic static class ffi {\n\n    [DllImport(\"ntrumls\")]\n    public static extern int pq_gen_key(ParamSet p, out IntPtr privkey_blob_len, out byte[] privkey_blob, out IntPtr pubkey_blob_len, out byte[] pubkey_blob);\n  }\n}\n</code></pre>\n\n<p>The specific ParamSet Struct i'm passing in <code>param.cs</code>, which I believe might be specifically causing the issue.</p>\n\n<pre><code>using System;\nusing System.Text;\nusing System.Runtime.InteropServices;\nnamespace NTRUMLS.Params {\n\n[SerializableAttribute]\n[ComVisibleAttribute(true)]\npublic enum ParamSetId {\n    Xxx20140508401,\n    Xxx20140508439,\n    Xxx20140508593,\n    Xxx20140508743,\n\n    Xxx20151024401,\n    Xxx20151024443,\n    Xxx20151024563,\n    // Xxx20151024509,\n    Xxx20151024743,\n    Xxx20151024907,\n}\n\n[StructLayout(LayoutKind.Sequential)]\npublic struct ParamSet {\n\n\n    ParamSetId id;\n\n    IntPtr name;\n    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 3)]\n    byte[] oid;\n    [MarshalAs(UnmanagedType.U1)]\n    byte n_bits;\n    [MarshalAs(UnmanagedType.U1)]\n    byte q_bits;\n    [MarshalAs(UnmanagedType.U2)]\n    ushort n;\n    [MarshalAs(UnmanagedType.I1)]\n    sbyte p;\n    [MarshalAs(UnmanagedType.I8)]\n    long q;\n    [MarshalAs(UnmanagedType.I8)]\n    long b_s;\n    [MarshalAs(UnmanagedType.I8)]\n    long b_t;\n    [MarshalAs(UnmanagedType.I8)]\n    long norm_bound_s;\n    [MarshalAs(UnmanagedType.I8)]\n    long norm_bound_t;\n    [MarshalAs(UnmanagedType.U1)]\n    byte d1;\n    [MarshalAs(UnmanagedType.U1)]\n    byte d2;\n    [MarshalAs(UnmanagedType.U1)]\n    byte d3;\n    [MarshalAs(UnmanagedType.U2)]\n    ushort padded_n;\n\n    public ushort get_n() {\n        return n;\n    }\n\n    public sbyte get_p() {\n        return p;\n    }\n\n    public byte get_d1() {\n        return d1;\n    }\n\n    public byte get_d2() {\n        return d2;\n    }\n\n    public byte get_d3() {\n        return d3;\n    }\n\n    public uint product_form_bytes() {\n        return (uint)(4 * (d1 + d2 + d3));\n    }\n\n    public uint polynomial_bytes() {\n        return (uint)(padded_n * 8);\n    }\n\n    public uint privkey_packed_bytes() {\n        return (uint)(5 + 2 * ((2 * ( d1 + d2 + d3) * n_bits + 7) / 8) + ((n +4) / 5));\n    }\n\n    public uint pubkey_packed_bytes() {\n        return (uint)(5 + (n * q_bits + 7) / 8 + 64);\n    }\n\n    public ParamSet (ParamSetId ID, IntPtr NAME, byte[] OID, byte N_BITS, byte Q_BITS, ushort N, sbyte P, long Q, long B_S, long B_T, long NORM_BOUND_S, long NORM_BOUND_T, byte D1, byte D2, byte D3, ushort PADDED_N) {\n        id = ID;\n        name = NAME;\n        oid = OID;\n        n_bits = N_BITS;\n        q_bits = Q_BITS;\n        n = N;\n        p = P;\n        q = Q;;\n        b_s = B_S;\n        b_t = B_T;\n        norm_bound_s = NORM_BOUND_S;\n        norm_bound_t = NORM_BOUND_T;\n        d1 = D1;\n        d2 = D2;\n        d3 = D3;\n        padded_n = PADDED_N;\n    }\n\n\n}\n\npublic static class ParamSets {\n\n    /// &lt;summary&gt;\n    /// 256 bit security parameter\n    /// &lt;/summary&gt;\n    public static readonly ParamSet Xxx20140508_743 = new ParamSet(\n        ParamSetId.Xxx20140508743,\n        Marshal.StringToHGlobalAuto(\"Xxx20140508743\"),\n        new byte[] {0xff, 0xff, 0xfc},\n        10,\n        20,\n        743,\n        3,\n        1 &lt;&lt; 20,\n        336,\n        112,\n        (1 &lt;&lt; 19) - 336,\n        (1 &lt;&lt; 19) - 112,\n        11,\n        11,\n        15,\n        768);\n   }\n}\n</code></pre>\n\n<p>And here's the wrapper itself <code>NTRUMLSWrapper.cs</code>.  </p>\n\n<pre><code>using NTRUMLS.ffi;\nusing NTRUMLS.Params;\nusing System;\nusing System.Runtime.InteropServices;\n\nnamespace NTRUMLS.Library {\n\npublic static class NTRUMLSWrapper {\n\n    public static KeyPair generate_keys(ParamSet param) {\n        int pub_len = 0;\n        int priv_len = 0;\n\n        Console.WriteLine(\"Param N: \" + param.get_n());\n        Console.WriteLine(\"Param P: \" + param.get_p());\n        Console.WriteLine(\"Param D1: \" + param.get_d1());\n        Console.WriteLine(\"Param D2: \" + param.get_d2());\n        Console.WriteLine(\"Param D3: \" + param.get_d3());\n\n        GCHandle pub_len_handle = GCHandle.Alloc(pub_len);\n        GCHandle priv_len_handle = GCHandle.Alloc(priv_len);\n\n        IntPtr privkey_blob_len = (IntPtr)pub_len_handle;\n        IntPtr pubkey_blob_len = (IntPtr)priv_len_handle;\n\n        GCHandle handle = GCHandle.Alloc(param);\n\n        IntPtr paramater = (IntPtr)handle;\n\n        byte[] pv = new byte[priv_len];\n        byte[] pb = new byte[pub_len];\n\n    //    GCHandle pv_handle = GCHandle.Alloc(pv);\n    //    GCHandle pb_handle = GCHandle.Alloc(pb);\n\n        var result = ffi.ffi.pq_gen_key(param, out privkey_blob_len, out pv, out pubkey_blob_len, out pb);\n\n        Console.WriteLine(\"Result: \" + result + \" Private Key BLob Length: \" + priv_len + \" Public Key Blob Lengh: \" + pub_len);\n\n\n\n       if (result != 0)\n          Console.WriteLine(\"We got problems\");\n\n         byte[] privatekey_blob = new byte[privkey_blob_len.ToInt64()];\n         byte[] pubkey_blob = new byte[pubkey_blob_len.ToInt64()];\n\n         result = ffi.ffi.pq_gen_key(param, out privkey_blob_len, out privatekey_blob, out pubkey_blob_len, out pubkey_blob);\n\n        if (result != 0)\n            Console.WriteLine(\"We got problems\");\n\n       Console.WriteLine(\"Result: \" + result.ToString() + \" Private Key BLob Length: \" + privkey_blob_len + \" Public Key Blob Lengh: \" + pubkey_blob_len);\n\n        // byte[] privkeyBytes = new byte[priv_len.ToInt32()];\n        // byte[] pubkeyBytes = new byte[pub_len.ToInt32()];\n\n\n\n        return new KeyPair(new PrivateKey(pubkey_blob), new PublicKey(privatekey_blob));;\n\n    }\n\n}\n\n\npublic struct PrivateKey {\n    byte[] ffi_key;\n\n    public PrivateKey (byte[] bytes) {\n        ffi_key = bytes;\n    }\n\n    public byte[] get_bytes() {\n        return ffi_key;\n    }\n}\n\npublic struct PublicKey {\n    byte[] ffi_key;\n\n    public PublicKey (byte[] bytes) {\n        ffi_key = bytes;\n    }\n\n    public byte[] get_bytes() {\n        return ffi_key;\n    }\n}\n\n public struct KeyPair {\n\n    PublicKey publicKey;\n    PrivateKey privateKey;\n\n    public KeyPair(PrivateKey privKey, PublicKey pubkey)\n    {\n        publicKey = pubkey;\n        privateKey = privKey;\n    }\n\n    public PublicKey getPublic()\n    {\n        return publicKey;\n    }\n\n    public PrivateKey getPrivate()\n    {\n        return privateKey;\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>And the <code>Program.cs</code> to run the key gen test.</p>\n\n<pre><code>using System;\nusing NTRUMLS.Library;\nusing NTRUMLS.Params;\n\nnamespace NTRUMLS\n{\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        KeyPair keypair = NTRUMLSWrapper.generate_keys(ParamSets.Xxx20140508_743);\n\n        Console.WriteLine(\"Generated Keys!\");\n\n        // TODO Sign, than Verify to confirm test\n\n    }\n}\n}\n</code></pre>\n\n<p>Here's the header function of the C function I'm marshaling into</p>\n\n<p>in <code>pqntrusign.h</code></p>\n\n<pre><code>int\npq_gen_key(\nPQ_PARAM_SET  *params,\nsize_t        *privkey_blob_len,\nunsigned char *privkey_blob,\nsize_t        *pubkey_blob_len,\nunsigned char *pubkey_blob);\n</code></pre>\n\n<p>in <code>params.h</code> and <code>params.c</code></p>\n\n<pre><code>enum _PQ_PARAM_SET_ID {\nXXX_20140508_401,\nXXX_20140508_439,\nXXX_20140508_593,\nXXX_20140508_743,\n\nXXX_20151024_401,\nXXX_20151024_443,\nXXX_20151024_563,\n//XXX_20151024_509,\nXXX_20151024_743,\nXXX_20151024_907,\n};\n\n\nstruct _PQ_PARAM_SET {\nPQ_PARAM_SET_ID  id;          /* parameter set id */\nconst char       *name;       /* human readable name */\nconst uint8_t    OID[3];      /* OID */\nuint8_t          N_bits;      /* ceil(log2(N)) */\nuint8_t          q_bits;      /* ceil(log2(q)) */\nuint16_t         N;           /* ring degree */\nint8_t           p;           /* message space prime */\nint64_t          q;           /* ring modulus */\nint64_t          B_s;         /* max norm of f*a convolution */\nint64_t          B_t;         /* max norm of g*a convolution */\nint64_t          norm_bound_s;/* q/2 - B_s */\nint64_t          norm_bound_t;/* q/2 - B_t */\nuint8_t          d1;          /* Product form +1/-1 counts */\nuint8_t          d2;\nuint8_t          d3;\nuint16_t         padded_N;    /* # Polynomial coefficients for Karatsuba */\n};\n</code></pre>\n\n<p>I believe the current problem is with the <code>ParamSet struct</code>, and matching the name attribute properly with the C struct <code>const char*name</code> pointer attribute. However, i'm not entirely sure that's the case.</p>\n\n<p>I modified the NTRUMLS C <code>pqntrusign.c</code> source file to print out to a log.txt and logs the variables i'm passing.  Here's the snippet i added in the very beginning of the <code>int pq_gen_key</code> function.</p>\n\n<pre><code> FILE * fp;\n\n fp = fopen (\"log.txt\", \"a+\");\n fprintf(fp, \"Logging made it here variables priv_blob_len_pointer %i pub_blob_len_pointer %i priv_blob_len %i pub_blob_len %i privkey %x pubkey %x \\n\", privkey_blob_len, pubkey_blob_len, *privkey_blob_len, *pubkey_blob_len, privkey_blob, pubkey_blob);\n\n fprintf(fp, \"Logging param ID: %i Oid %x : N: %i Q: %i P %i Padded N: %i D1: %i D2: %i D3: %i \\n\", P-&gt;id, P-&gt;OID, P-&gt;N, P-&gt;q, P-&gt;p, P-&gt;padded_N, P-&gt;d1, P-&gt;d2, P-&gt;d3);\n\n\n\nif(!P || !privkey_blob_len || !pubkey_blob_len)\n{\n  return PQNTRU_ERROR;\n}\n\nN = P-&gt;N;\npadN = P-&gt;padded_N;\nq = P-&gt;q;\np = P-&gt;p;\nd1 = P-&gt;d1;\nd2 = P-&gt;d2;\nd3 = P-&gt;d3;\n\nfprintf(fp, \"Logging Local N: %i Q: %i P %i Padded N: %i D1: %i D2: %i D3: %i \\n\", N, q, p, padN, d1, d2, d3);\n\nfclose(fp);\n</code></pre>\n\n<p>I'm using Fedora 23 x64 so the current libntrumls.so uploaded on the NTRUMLS-Sharp github was compiled with that snippet added. </p>\n\n<p>Output from C# Console</p>\n\n<pre><code>Param N: 743\nParam P: 3\nParam D1: 11\nParam D2: 11\nParam D3: 15\nResult: -1 Private Key BLob Length: 0 Public Key Blob Lengh: 0\nWe got problems\nWe got problems\nResult: -1 Private Key BLob Length: 3 Public Key Blob Lengh: 11\nGenerated Keys!\n</code></pre>\n\n<p>Output from log.txt</p>\n\n<pre><code>Logging made it here variables priv_blob_len_pointer -923442424 pub_blob_len_pointer -923442432 priv_blob_len -994004096 pub_blob_len -994004064 privkey c8f56510 pubkey f0b0b \nLogging param ID: 3 Oid c8f56528 : N: 0 Q: 42678032 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging Local N: 0 Q: 42678032 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging made it here variables priv_blob_len_pointer -923442424 pub_blob_len_pointer -923442432 priv_blob_len -994003392 pub_blob_len -994003352 privkey c8f56510 pubkey f0b0b \nLogging param ID: 3 Oid c8f56528 : N: 0 Q: 42678032 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging Local N: 0 Q: 42678032 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \n</code></pre>\n\n<p><strong>EDIT:</strong><br>\nAnother interesting thing to note is param ID logged as 3 is correct, since the enum <code>Xxx20140508743</code> is 3, and D1 is correct as 11.  But every time i run the function the output logged for OID is different, when it's a set 3 byte array in my <code>ParamSet.Xxx20140508_743</code>.  This leads me to believe the error is in marshaling <code>const char *name</code>, which is throwing the rest off. </p>\n\n<p>Below is a another output of log.txt for comparison (this is also with the added \"\\0\" to <code>Marshal.StringToHGlobalAuto(\"Xxx20140508743\\0\")</code></p>\n\n<pre><code>Logging made it here variables priv_blob_len_pointer 982750168 pub_blob_len_pointer 982750160 priv_blob_len -960449664 pub_blob_len -960449632 privkey 3a9395e0 pubkey f0b0b \nLogging param ID: 3 Oid 3a9395f8 : N: 0 Q: 38160144 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging Local N: 0 Q: 38160144 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging made it here variables priv_blob_len_pointer 982750168 pub_blob_len_pointer 982750160 priv_blob_len -960448960 pub_blob_len -960448920 privkey 3a9395e0 pubkey f0b0b \nLogging param ID: 3 Oid 3a9395f8 : N: 0 Q: 38160144 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \nLogging Local N: 0 Q: 38160144 P 19 Padded N: 0 D1: 11 D2: 0 D3: 0 \n</code></pre>\n\n<p>I don't believe the Windows dll is working yet.  If someone can't see the problem immediately in my code, or error log, the directions to compile and test everything are in the NTRUMLS C# README file.</p>\n\n<p>Thank you for taking the time to read this question!  I know it's long and descriptive, but I wasn't quite sure how to narrow it down without providing all the information since I spent a lot of time searching the forums and modifying my code to get this far.</p>\n\n<p>Best Regards  </p>\n"}, {"tags": ["c#", "sql-server", "winforms", "csv", "import"], "comments": [{"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1465447305, "post_id": 37714332, "comment_id": 62906904, "body": "If I were you, I&#39;d use a proven third-party library like <a href=\"https://github.com/JoshClose/CsvHelper\" rel=\"nofollow noreferrer\"><b>CsvHelper</b></a> to read and interpret such a <code>.csv</code> file - don&#39;t re-invent that wheel for the gazillionth time!"}, {"owner": {"reputation": 7420, "user_id": 5237614, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh4.googleusercontent.com/-0ztbGRFEwBE/AAAAAAAAAAI/AAAAAAAAAVo/VsgJZ4wJyb8/photo.jpg?sz=128", "display_name": "Arun Prasad E S", "link": "https://stackoverflow.com/users/5237614/arun-prasad-e-s"}, "edited": false, "score": 0, "creation_date": 1465447329, "post_id": 37714332, "comment_id": 62906918, "body": "you can do it manually from the import wizard in the sql server if you need"}], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 2407838, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8f78404217bcd8b23e2c1b49f90e6f3?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/2407838/dennis"}, "is_accepted": false, "score": 0, "last_activity_date": 1465427571, "creation_date": 1465427571, "answer_id": 37714442, "question_id": 37714332, "link": "https://stackoverflow.com/questions/37714332/import-csv-file-into-sql-server-database-in-c-windows-application-without-heade/37714442#37714442", "title": "Import csv file into SQL Server database in C# Windows application without header", "body": "<p>Can you remove the columns and use index instead? Of course, you'd need to know the position of each field within a file. </p>\n\n<pre><code> string line = \"001,0000002226,01,2011/03/27,07:07,\";\n\n        DataTable importedData = new DataTable();\n\n\n        DataRow importedRow = importedData.NewRow();\n\n        string[] fields = line.Split(',');\n        for (int i = 0; i &lt; fields.Count(); i++)\n        {\n\n            importedRow[i] = fields[i];\n\n        }\n\n        using (SqlConnection conn = new SqlConnection(\"Data Source=HAIDER-PC\\\\SQLEXPRESS;Initial Catalog=mydatabase;Integrated Security=True\"))\n        {\n            conn.Open();\n            foreach (DataRow importRow in importedData.Rows)\n            {\n\n                SqlCommand cmd = new SqlCommand(\"INSERT INTO imported_data (device_id,employee_id,status,date,time ) \" +\n                                                  \"VALUES (@device_id,@employee_id,@status,@date,@time)\", conn);\n                cmd.Parameters.AddWithValue(\"@device_id\", importRow[0]);\n                cmd.Parameters.AddWithValue(\"@employee_id\", importRow[1]);\n                cmd.Parameters.AddWithValue(\"@status\", importRow[2]);\n                cmd.Parameters.AddWithValue(\"@date\", importRow[4]);\n                cmd.Parameters.AddWithValue(\"@time\", importRow[5]);\n                cmd.ExecuteNonQuery();\n            }\n\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "is_accepted": false, "score": 0, "last_activity_date": 1465447970, "creation_date": 1465447970, "answer_id": 37717073, "question_id": 37714332, "link": "https://stackoverflow.com/questions/37714332/import-csv-file-into-sql-server-database-in-c-windows-application-without-heade/37717073#37717073", "title": "Import csv file into SQL Server database in C# Windows application without header", "body": "<p>Just ignore the headers when you read the data from the file. Delete these lines:</p>\n\n<pre><code>string[] headerColumns = header.Split(',');\n\nforeach (string headerColumn in headerColumns)\n{\n    importedData.Columns.Add(headerColumn);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5465964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4423182de909dccbaae8315a48a66fb?s=128&d=identicon&r=PG&f=1", "display_name": "haider", "link": "https://stackoverflow.com/users/5465964/haider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3626, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465447970, "creation_date": 1465426944, "last_edit_date": 1465447222, "question_id": 37714332, "link": "https://stackoverflow.com/questions/37714332/import-csv-file-into-sql-server-database-in-c-windows-application-without-heade", "title": "Import csv file into SQL Server database in C# Windows application without header", "body": "<p>I am trying to import a <code>.csv</code> file into a SQL Server database without the headers.</p>\n\n<p>This code works fine, but with headers - how can skip the headers? What do I need to change in the code to ignore the headers from the <code>.csv</code> file?</p>\n\n<p>Thank you all.</p>\n\n<p>CSV file format:</p>\n\n<pre><code>001,0000002226,01,2011/03/27,07:07,        \n001,0000009392,01,2011/03/27,07:12,      \n001,0000002220,01,2011/03/27,07:17,        \n001,0000002121,01,2011/03/27,07:19, \n</code></pre>\n\n<p>C# code:</p>\n\n<pre><code>private void btnBrowse_Click(object sender, EventArgs e)\n{\n    OpenFileDialog ofd = new OpenFileDialog();\n    ofd.DefaultExt = \".csv\";\n    ofd.Filter = \"Comma Separated (*.csv)|*.csv\" ;\n    ofd.ShowDialog();\n\n    txtFileName.Text = ofd.FileName;\n}\n\nprivate void btnClose_Click(object sender, EventArgs e)\n{\n    this.Close();\n}\n\nprivate void btnimport_Click(object sender, EventArgs e)\n{\n    Cursor = Cursors.WaitCursor;\n\n    DataTable imported_data = GetDataFromFile();  \n\n    if (imported_data == null) \n       return;           \n\n    SaveImportDataToDatabase(imported_data);    \n\n    MessageBox.Show(\"load data succ.....!\");\n    txtFileName.Text = string.Empty;\n\n    Cursor = Cursors.Default;\n}\n\nprivate DataTable GetDataFromFile()\n{\n    DataTable importedData = new DataTable();\n\n    try\n    {\n        using (StreamReader sr = new StreamReader(txtFileName.Text))\n        {\n            string header = sr.ReadLine();\n\n            if (string.IsNullOrEmpty(header))\n            {\n                MessageBox.Show(\"no file data\");\n                return null;\n            }\n\n            string[] headerColumns = header.Split(',');\n\n            foreach (string headerColumn in headerColumns)\n            {\n                importedData.Columns.Add(headerColumn);\n            }\n\n            while (!sr.EndOfStream)\n            {\n                string line = sr.ReadLine();\n\n                if (string.IsNullOrEmpty(line)) \n                   continue;\n\n                string[] fields = line.Split(',');\n                DataRow importedRow = importedData.NewRow();\n\n                for(int i = 0; i &lt; fields.Count(); i++)\n                {\n                    importedRow[i] = fields[i];\n                }\n\n                importedData.Rows.Add(importedRow);\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(\"the file could not be read:\");\n        Console.WriteLine(e.Message);\n    }\n\n    return importedData;\n}\n\nprivate void SaveImportDataToDatabase(DataTable imported_data)   \n{\n    using (SqlConnection conn = new SqlConnection(\"Data Source=HA-PC\\\\SQLEXPRESS;Initial Catalog=mydatabase;Integrated Security=True\"))\n    {\n        conn.Open();\n\n        foreach (DataRow importRow in imported_data.Rows)   \n        {\n            SqlCommand cmd = new SqlCommand(\"INSERT INTO imported_data (device_id, employee_id, status, date, time) \" +\n                                            \"VALUES (@device_id, @employee_id, @status, @date, @time)\", conn);\n\n            cmd.Parameters.AddWithValue(\"@device_id\", importRow[\"device_id\"]);\n            cmd.Parameters.AddWithValue(\"@employee_id\", importRow[\"employee_id\"]);\n            cmd.Parameters.AddWithValue(\"@status\", importRow[\"status\"]);\n            cmd.Parameters.AddWithValue(\"@date\", importRow[\"date\"]);\n            cmd.Parameters.AddWithValue(\"@time\", importRow[\"time\"]);\n\n            cmd.ExecuteNonQuery();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "unity3d"], "comments": [{"owner": {"reputation": 664, "user_id": 858746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a56ee039eeb7c9aab64a0174557c958d?s=128&d=identicon&r=PG", "display_name": "Eissa", "link": "https://stackoverflow.com/users/858746/eissa"}, "edited": false, "score": 0, "creation_date": 1465463293, "post_id": 37714329, "comment_id": 62915003, "body": "I&#39;ve implemented this type of functionality in two ways in the past. The first was by storing the original transform of the object and providing the option to snap into the original position (state) when the vector3.distance was within a close enough range. The second way i&#39;ve done this is by utilizing mapped snapping edges (basically empty gameobjects), which each were mapped to snapping edges of adjacent objects."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1465486609, "post_id": 37714329, "comment_id": 62932040, "body": "EJSD&#39;s answer is perfect.  Go with marker objects (ie, &quot;empty objects&quot;, just a plain GameObject in Unity) at the corners.  This is one of the few intelligent comments I have ever seen on this site, nice one EJSD."}], "owner": {"reputation": 13, "user_id": 6431908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb44d66918e237176684490123bc01b?s=128&d=identicon&r=PG&f=1", "display_name": "mnr", "link": "https://stackoverflow.com/users/6431908/mnr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1465452178, "creation_date": 1465426933, "last_edit_date": 1465452178, "question_id": 37714329, "link": "https://stackoverflow.com/questions/37714329/how-to-have-game-objects-snap-into-place", "title": "How to have game objects &quot;snap&quot; into place?", "body": "<p>I have modeled a piece of machinery with multiple parts. I'd like to be able to have the parts \"snap\" into place while dragging the left mouse button. like in the following video:</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=MKz7DdEH9mQ\" rel=\"nofollow\">http://www.youtube.com/watch?v=MKz7DdEH9mQ</a> </p>\n\n<p>Here's the code I have:</p>\n\n<p>JS</p>\n\n<pre><code> #pragma strict\n\n var partnerName = \"Hub\";\n var closeVPDist = 0.05;\n var moveSpeed = 40.0;\n var rotateSpeed = 90.0;\n\n var closeColor = Color(1,0,0);\n\n private var dist = Mathf.Infinity;\n private var normalColor : Color;\n private var partnerGO : GameObject;\n\n function Start() {\n     normalColor = renderer.material.color;\n     partnerGO = GameObject.Find(partnerName);\n }\n\n function OnMouseDrag() {\n     var partnerPos = Camera.main.WorldToViewportPoint(partnerGO.transform.position);\n     var myPos = Camera.main.WorldToViewportPoint(transform.position);\n     dist = Vector2.Distance(partnerPos, myPos);\n     renderer.material.color = (dist &lt; closeVPDist) ? closeColor : normalColor;\n }\n\n function OnMouseUp() {\n     if (dist &lt; closeVPDist) {\n         transform.parent = partnerGO.transform;\n         InstallPart();\n     }\n }\n\n function InstallPart() {\n     while (transform.localPosition != Vector3.zero || transform.localRotation != Quaternion.identity) {\n         transform.localPosition = Vector3.MoveTowards(transform.localPosition, Vector3.zero, Time.deltaTime * moveSpeed);\n         transform.localRotation = Quaternion.RotateTowards(transform.localRotation, Quaternion.identity, Time.deltaTime * rotateSpeed);\n         yield;\n     }\n }\n</code></pre>\n\n<p>It works by clicking on the GO and having it go to a \"partner\" GO... but I'd like to be able to click on the GO and drag it close to the correct place, then have it snap into place.</p>\n\n<p>EDIT:</p>\n\n<p>Adding the following script to each object, combined with the previous script is getting me a little further along. All I have to figure out now is to make them snap back to the original place if not taken close enough to the partner GO. Thoughts?</p>\n\n<p>C#</p>\n\n<pre><code>private Vector3 screenPoint;\n    private Vector3 offset;\n\n    void OnMouseDown(){\n        screenPoint = Camera.main.WorldToScreenPoint(gameObject.transform.position);\n        offset = gameObject.transform.position - Camera.main.ScreenToWorldPoint(new Vector3(Input.mousePosition.x, Input.mousePosition.y, screenPoint.z));\n    }\n\n    void OnMouseDrag(){\n        Vector3 cursorPoint = new Vector3(Input.mousePosition.x, Input.mousePosition.y, screenPoint.z);\n        Vector3 cursorPosition = Camera.main.ScreenToWorldPoint(cursorPoint) + offset;\n        transform.position = cursorPosition;\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "multithreading", "concurrency", "synchronous"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6442492, "user_type": "registered", "profile_image": "https://graph.facebook.com/571955209650214/picture?type=large", "display_name": "Sean Moorhead", "link": "https://stackoverflow.com/users/6442492/sean-moorhead"}, "is_accepted": true, "score": 1, "last_activity_date": 1465837461, "creation_date": 1465837461, "answer_id": 37795390, "question_id": 37714100, "link": "https://stackoverflow.com/questions/37714100/c-wpf-machine-dependent-concurrency-issues/37795390#37795390", "title": "C# WPF Machine-Dependent Concurrency Issues", "body": "<p>We reinstalled the parent application and everything works fine.  Still have no idea why this happened, but closing the question since the problem is resolved.  A true case of \"turn it off and back on again.\"</p>\n"}], "owner": {"reputation": 41, "user_id": 6442492, "user_type": "registered", "profile_image": "https://graph.facebook.com/571955209650214/picture?type=large", "display_name": "Sean Moorhead", "link": "https://stackoverflow.com/users/6442492/sean-moorhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 37795390, "answer_count": 1, "score": 3, "last_activity_date": 1465837461, "creation_date": 1465425584, "question_id": 37714100, "link": "https://stackoverflow.com/questions/37714100/c-wpf-machine-dependent-concurrency-issues", "title": "C# WPF Machine-Dependent Concurrency Issues", "body": "<p>I have a multi-threaded C# WPF application that is a plug-in to a larger software (Princeton Instruments LightField, for those who are interested).  </p>\n\n<p>My plug-in invokes a synchronous method on a thread separate from the GUI.  This method is from a camera API and captures an n-second exposure from the camera and returns the frame that was captured.</p>\n\n<p>The situation looks something like this:</p>\n\n<pre><code>private static volatile bool _STOP = true;\n\n// Runs when the \"Run\" button is clicked\nprivate void Run_Click(object sender, RoutedEventArgs e)\n{\n    object time = InputTime.Text; // a non-negative integer provided by the user\n    _STOP = false;        \n\n    Thread run_thread = new Thread(Running);\n    run_thread.Start(time);\n}\n\n// Runs when the \"Stop\" button is clicked\nprivate void Stop_Click(object sender, RoutedEventArgs e)\n{\n    _STOP = true;\n}\n\n// Separate Thread from GUI\nprivate void Running(object t)\n{\n    int time = Convert.ToInt32(t);\n    FrameObject f;\n    while(!_STOP)\n    {\n        // synchronously capture a t-second exposure\n        f = CameraAPI.CaptureImage(t); \n\n        // display the exposure on a viewer controlled by the parent thread\n        Application.Current.Dispatcher.BeginInvoke(new Action(Viewer.Display(f));\n    }\n}\n</code></pre>\n\n<p>This code (or, rather, it's more complex sibling) works perfectly fine on the computer I developed it on (Computer A).  I click Run and the entire application remains responsive while the code is running.</p>\n\n<p>When I try to run it on the computer where it will be hosted regularly (Computer B), however, the following behavior appears:</p>\n\n<ul>\n<li>When clicking the Run button, the GUI becomes unresponsive for n\nseconds (n being the time sent to the <code>CameraAPI.CaptureImage(n);</code>\nmethod).  This occurs for any positive integer n and continues as the\nwhile loop executes this method each loop cycle (i.e. the application freezes for n seconds, there is a brief unfrozen moment while the Display method is called, and then the application freezes again for n seconds).</li>\n<li>If I call <code>Thread.Sleep(n);</code> in place of\n<code>CameraAPI.CaptureImage(n);</code>, the application does not freeze.</li>\n<li>It is not just my plug-in that freezes - it is the entire application.</li>\n<li>I have built, rebuilt, deleted and recopied my code from Computer A to Computer B, and the error persists.</li>\n<li>Computer A (where I built this) is identical (as far as I've found)\nto the computer having the issues (Computer B).  The processors, OS,\ndrives, RAM, application versions, etc. are all the same.  Computer A\nspecifically exists so that applications can be developed for\nComputer B.</li>\n<li>Removing the <code>Application.Current.Dispatcher.BeginInvoke(new Action(Viewer.Display(f));</code> line does not stop the GUI freezing.  This is not the problem method.</li>\n<li>The application uses the same number of threads (43) on each computer.  When the plug-in is running, the number of threads increments by the same amount (1-4 depending on where in the program we are) on each computer.</li>\n</ul>\n\n<p>So, on two seemingly identical systems, the same code has different results.  On System A, it works as intended (no GUI freezing), and on System B, the GUI of the entire application -- not just of the plug-in that I am writing -- freezes each time a synchronous method is called.  </p>\n\n<p>This error behavior exceeds my understanding of computers, so now I'm here.  Any ideas as to what is causing this difference in behavior?</p>\n"}, {"tags": ["c#", "xml", "deserialization"], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 1777666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c218d86084b8cce21ae0d9fddaad7dc?s=128&d=identicon&r=PG", "display_name": "BAXOM", "link": "https://stackoverflow.com/users/1777666/baxom"}, "edited": false, "score": 0, "creation_date": 1465463104, "post_id": 37714187, "comment_id": 62914882, "body": "Thank you, it was the attribut i was looking for."}], "tags": [], "owner": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "is_accepted": true, "score": 0, "last_activity_date": 1465426142, "creation_date": 1465426142, "answer_id": 37714187, "question_id": 37714093, "link": "https://stackoverflow.com/questions/37714093/c-xml-deserialization-element-in-object-property/37714187#37714187", "title": "C# Xml deserialization Element in object property", "body": "<p>The <code>[XmlText]</code> attribute will get the inner text of the node.  You might need to use <code>[XmlText(Type=typeof(decimal))]</code> to get the number parsed.</p>\n\n<pre><code>public class Option\n{\n    [XmlAttribute(AttributeName = \"name\")]\n    public string Name { get; set; }\n\n    [XmlText]\n    public Decimal Amount { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 1777666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c218d86084b8cce21ae0d9fddaad7dc?s=128&d=identicon&r=PG", "display_name": "BAXOM", "link": "https://stackoverflow.com/users/1777666/baxom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 37714187, "answer_count": 1, "score": 1, "last_activity_date": 1465426142, "creation_date": 1465425568, "question_id": 37714093, "link": "https://stackoverflow.com/questions/37714093/c-xml-deserialization-element-in-object-property", "title": "C# Xml deserialization Element in object property", "body": "<p>I'm consuming a Web API, and i get an xml result:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;tarification cle=\"XXXX\"&gt; \n       &lt;gamme reference=\"refX\"&gt;\n          &lt;tarif formula=\"F100\"&gt;44.84&lt;/tarif&gt;\n          &lt;tarif formula=\"F125\"&gt;47.63&lt;/tarif&gt;\n          &lt;tarif formula=\"F150\"&gt;57.34&lt;/tarif&gt;\n          &lt;tarif formula=\"F200\"&gt;67.95&lt;/tarif&gt;\n          &lt;option name=\"indiv-acc\"&gt;0.5&lt;/option&gt;\n          &lt;option name=\"rap-cor\"&gt;6.06&lt;/option&gt;\n       &lt;/gamme&gt;\n    &lt;/tarification&gt;\n</code></pre>\n\n<p>I use this model to deserialize : </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    [XmlRoot(ElementName = \"tarification\", Namespace=\"\")]\n    public class TarifResponse\n    {\n        [XmlElement(ElementName = \"gamme\")]\n        public Gamme Gamme { get; set; }\n    }\n\n    public class Gamme\n    {\n        [XmlAttribute(AttributeName=\"reference\")]\n        public string Name { get; set; }\n\n        [XmlElement(ElementName = \"tarif\")]\n        public Formula[] Formulas { get; set; }\n\n        [XmlElement(ElementName = \"option\")]\n        public Option[] Options { get; set; }\n\n    }\n\n    public class Formula\n    {\n        [XmlAttribute(AttributeName=\"formula\")]\n        public string Name { get; set; }\n\n        // WRONG ATTRIBUTE.. but witch one ?\n        [XmlElement]\n        public Decimal Amount { get; set; }\n    }\n\n    public class Option\n    {\n        [XmlAttribute(AttributeName = \"name\")]\n        public string Name { get; set; }\n\n        // WRONG ATTRIBUTE.. but witch one ?\n        [XmlElement]\n        public Decimal Amount { get; set; }\n    }\n</code></pre>\n\n<p>The TarifResponse object is created, all fields are filled, except the two amounts fields. I expect this is because the right xml should be:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;amount&gt;5.5&lt;/amount&gt;\n</code></pre>\n\n<p>inside tarif or option elements..</p>\n\n<p>Is this format is deserializable ? \nIs there a way to this with attribute ?\nIs this even an acceptable xml format ?</p>\n\n<p>thank you</p>\n"}, {"tags": ["c#", "casting"], "comments": [{"owner": {"reputation": 4497, "user_id": 2856868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YYZQQ.jpg?s=128&g=1", "display_name": "Matt Rowland", "link": "https://stackoverflow.com/users/2856868/matt-rowland"}, "edited": false, "score": 0, "creation_date": 1465425287, "post_id": 37713998, "comment_id": 62901669, "body": "Cast it? <code>var newObjects = objects as string[];</code> If it is actually that type then it you are done. If not <code>newObjects</code> will be null."}, {"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1465425897, "post_id": 37713998, "comment_id": 62901847, "body": "Just loop through it? <code>var objects = apiResult; foreach (var object in objects) {...}</code>"}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1465426088, "post_id": 37713998, "comment_id": 62901906, "body": "In most cases, an <code>objects</code> will not be a string array. It could be an int array, or even an array of some user&#39;s type. I just know that <code>objects</code> is an array and I  want to invoke <code>ToString()</code> on each item of that array to create a new one with type of <code>string[]</code>"}, {"owner": {"reputation": 7220, "user_id": 4671754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeNSv.jpg?s=128&g=1", "display_name": "Bassie", "link": "https://stackoverflow.com/users/4671754/bassie"}, "edited": false, "score": 0, "creation_date": 1465426461, "post_id": 37713998, "comment_id": 62902023, "body": "Have you seen this question? Does it help at all? <a href=\"http://stackoverflow.com/questions/15586123/loop-through-object-and-get-properties\" title=\"loop through object and get properties\">stackoverflow.com/questions/15586123/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1465426654, "post_id": 37714256, "comment_id": 62902082, "body": "I wish I was  allowed to use a comment to say &quot;very neat&quot;"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465426707, "post_id": 37714256, "comment_id": 62902105, "body": "@EvanL Read the quote."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "edited": false, "score": 0, "creation_date": 1465427187, "post_id": 37714256, "comment_id": 62902259, "body": "I stand corrected, ran a few samples of this myself.  Forgot how magical the <code>Cast&lt;T&gt;()</code> method could be!"}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 5, "last_activity_date": 1465427456, "last_edit_date": 1465427456, "creation_date": 1465426553, "answer_id": 37714256, "question_id": 37713998, "link": "https://stackoverflow.com/questions/37713998/convert-an-object-to-string-array-at-runtime/37714256#37714256", "title": "Convert an object to string array at runtime", "body": "<blockquote>\n  <p><strong>OP:</strong> It could be an\n  int array, or even an array of some user's type. I just know that\n  objects is an array and I want to invoke ToString() on each item of\n  that array to create a new one with type of string[]</p>\n</blockquote>\n\n<p>You can cast it to <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.ienumerable(v=vs.110).aspx\" rel=\"nofollow\"><code>IEnumerable</code></a>, then using <a href=\"https://msdn.microsoft.com/en-us/library/bb341406(v=vs.110).aspx\" rel=\"nofollow\"><code>Cast&lt;T&gt;</code></a> convert elements to object and then select elements. For example:</p>\n\n<pre><code>object o = new int[] { 1, 2, 3 };\nvar array = (o as IEnumerable).Cast&lt;object&gt;().Select(x =&gt; x.ToString()).ToArray(); \n</code></pre>\n"}], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4007, "favorite_count": 1, "accepted_answer_id": 37714256, "answer_count": 1, "score": 1, "last_activity_date": 1465427633, "creation_date": 1465424937, "last_edit_date": 1465427633, "question_id": 37713998, "link": "https://stackoverflow.com/questions/37713998/convert-an-object-to-string-array-at-runtime", "title": "Convert an object to string array at runtime", "body": "<p>I have a line in my code:</p>\n\n<pre><code>var objects = ExternalApiGetObjects(....);\n</code></pre>\n\n<p>At develop time I only know that <code>ExternalApiGetObjects</code> returns an <code>Object</code> instance. In fact, I'm sure that <code>objects</code> variable is an array of some type.\nI want to pass <code>objects</code> variable to <code>String.Join</code> method, but in runtime I got an exception similar to this: \"Object of type 'System.Int32[]' cannot be converted to type 'System.String[]'.\"</p>\n\n<p>In most cases, an <code>objects</code> will not be a string array. It could be an int array, or even an array of some user's type. I just know that objects is an array and I want to invoke <code>ToString()</code> on each item of that array to create a new one with type of <code>string[]</code>.</p>\n\n<p>How can I convert my <code>objects</code> to <code>string[]</code>?</p>\n"}, {"tags": ["c#", ".net", "xml", "linq", "predicatebuilder"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465424910, "post_id": 37713925, "comment_id": 62901548, "body": "<a href=\"http://www.codeproject.com/Articles/79508/Mastering-Debugging-in-Visual-Studio-A-Beginn\" rel=\"nofollow noreferrer\">codeproject.com/Articles/79508/&hellip;</a>"}, {"owner": {"reputation": 347, "user_id": 2375899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uf4CD.jpg?s=128&g=1", "display_name": "Naz Ekin", "link": "https://stackoverflow.com/users/2375899/naz-ekin"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465425123, "post_id": 37713925, "comment_id": 62901617, "body": "I am sorry, I am not sure what I should make of this? @SamIam"}, {"owner": {"reputation": 347, "user_id": 2375899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uf4CD.jpg?s=128&g=1", "display_name": "Naz Ekin", "link": "https://stackoverflow.com/users/2375899/naz-ekin"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465425246, "post_id": 37713925, "comment_id": 62901657, "body": "The predicate that is built in the end does look ok in terms of grouping but it was very long and not very easy to read so I did not copy it."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465427432, "post_id": 37713925, "comment_id": 62902335, "body": "It&#39;s an article about how to use the debugger"}, {"owner": {"reputation": 347, "user_id": 2375899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uf4CD.jpg?s=128&g=1", "display_name": "Naz Ekin", "link": "https://stackoverflow.com/users/2375899/naz-ekin"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465427519, "post_id": 37713925, "comment_id": 62902360, "body": "Thanks captain obvious."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465430009, "post_id": 37713925, "comment_id": 62903110, "body": "Debuggers are good for figuring out what the problem is"}], "owner": {"reputation": 347, "user_id": 2375899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uf4CD.jpg?s=128&g=1", "display_name": "Naz Ekin", "link": "https://stackoverflow.com/users/2375899/naz-ekin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465425302, "creation_date": 1465424527, "last_edit_date": 1465425302, "question_id": 37713925, "link": "https://stackoverflow.com/questions/37713925/dynamically-building-a-nested-predicate", "title": "Dynamically Building a nested Predicate", "body": "<p>I am trying to dynamically build predicates, from an xml string which is formatted as the following as an example:</p>\n\n<pre><code>&lt;Group Operation=\"AND\"&gt;\n    &lt;Group Operation=\"AND\"&gt;\n      &lt;Group Operation=\"OR\"&gt;\n        &lt;Filter&gt; (ContainsValue) &lt;/Filter&gt;\n        &lt;Filter&gt; (StartsWithValue) &lt;/Filter&gt;\n      &lt;/Group&gt;\n      &lt;Filter&gt; (HasData) &lt;/Filter&gt;\n    &lt;/Group&gt;\n    &lt;Filter&gt; (SomeotherCondition) &lt;/Filter&gt;\n&lt;/Group&gt;\n</code></pre>\n\n<p>I am sending this xml to a recursive function that traverses the xml and builds a predicate as below:</p>\n\n<pre><code>    public Stack&lt;FilterExpressionModel&gt; RecursiveExpressionBuilder(XElement root, Stack&lt;FilterExpressionModel&gt; stackelement)\n    {\n        Stack&lt;Expression&lt;Func&lt;Product, bool&gt;&gt;&gt; stackexpression = new Stack&lt;Expression&lt;Func&lt;Product, bool&gt;&gt;&gt;();\n        var left = root.Elements().FirstOrDefault();\n        var right = root.Elements().Count() == 1 ? null : root.Elements().LastOrDefault();\n        if (left != null)\n        {\n            stackelement = RecursiveExpressionBuilder(left, stackelement);\n        }\n        if (right != null)\n        {\n            stackelement = RecursiveExpressionBuilder(right, stackelement);\n        }\n        if (root.Name == FilterQueryNodes.Filter)\n        {\n            stackelement.Push(new FilterExpressionModel() { FilterNode = root });\n        }\n        else if (root.Name == FilterQueryNodes.Group)\n        {\n            var operand2Candidate = stackelement.Pop();\n            var operand1Candidate = stackelement.Pop();\n            //following grabs the actual expression for the corresponding value of the xml node for example (d=&gt;d.Value.Contains(filterValue)) for Contains\n            //if the node is \"filter\" it grabs the filter if not, it grabs the predicate that has been built so far\n            var operand1 = operand1Candidate.FilterNode != null ? FilterExpression(GetFilterRule(Convert.ToInt32(operand1Candidate.FilterNode.Value))) : operand1Candidate.PredicateBuilding;\n            var operand2 = operand2Candidate.FilterNode != null ? FilterExpression(GetFilterRule(Convert.ToInt32(operand2Candidate.FilterNode.Value))) : operand2Candidate.PredicateBuilding;\n            string operation = root.Attribute(FilterQueryNodes.Operation).Value;\n\n            var predicate = BuildPredicate(operand1, operand2, operation);\n            stackelement.Push(new FilterExpressionModel() { PredicateBuilding = predicate });\n        }\n        return stackelement;\n    }\n\n    public Expression&lt;Func&lt;Product, bool&gt;&gt; BuildPredicate(Expression&lt;Func&lt;Product, bool&gt;&gt; operand1, Expression&lt;Func&lt;Product, bool&gt;&gt; operand2, string operation)\n    {\n        switch (operation)\n        {\n            case \"AND\":\n                operand1 = operand1.And(operand2);\n                return operand1;\n            case \"OR\":\n                operand1 = operand1.Or(operand2);\n                return operand1;\n            default:\n                return (d =&gt; true);\n        }\n    }\n//this class is to hold the grouped predicate and the filter so that I will only have one stack\n    public class FilterExpressionModel\n    {\n        public FilterExpressionModel() {\n\n        }\n        public Expression&lt;Func&lt;FieldValues, bool&gt;&gt; PredicateBuilding { get; set; }\n        public XElement FilterNode { get; set; } \n    }\n</code></pre>\n\n<p>So my main problem is, this is not working when there is a depth involved as in the given example. If the xml input is something like the following, it works absolutely fine:</p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Group Operation=\"AND\"&gt;\n      &lt;Filter&gt;23&lt;/Filter&gt;\n      &lt;Filter&gt;22&lt;/Filter&gt;\n    &lt;/Group&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>But when I have a more complicated input as the one I gave at the beginning, when I apply the predicate, It returns nothing when in fact it needs to:</p>\n\n<pre><code>products.Where(builtpredicate).ToList();\n</code></pre>\n\n<p>What I am asking is:</p>\n\n<ul>\n<li>Am I trying to achieve something that is not plausible, with the nested predicates?</li>\n<li>If it is plausible, what am I doing wrong? I read the <a href=\"http://www.albahari.com/nutshell/predicatebuilder.aspx\" rel=\"nofollow\">Albahari</a> and\naccording to the nested predicate section there I don't see how/where mine is\nwrong.</li>\n</ul>\n\n<p>This is the first time I am using predicates like this, I may be doing something very obvious terribly wrong so sorry if that is the case, but If you have any idea on how I might achieve what I am trying to, I would appreciate the help. Thanks.</p>\n"}, {"tags": ["c#", "android", "xamarin", "visual-studio-2015"], "answers": [{"tags": [], "owner": {"reputation": 907, "user_id": 3550616, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UoaB6.jpg?s=128&g=1", "display_name": "Igor Monteiro", "link": "https://stackoverflow.com/users/3550616/igor-monteiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1470746023, "creation_date": 1470746023, "answer_id": 38850905, "question_id": 37713922, "link": "https://stackoverflow.com/questions/37713922/no-exports-were-found-that-match-the-constraint-contractname-microsoft-visualstu/38850905#38850905", "title": "no exports were found that match the constraint contractname microsoft.visualstudio.portable library Android Portable Project", "body": "<p>Sometimes the IDe downloaded zip files crashed, and the solution for me is delete the zip files and build again.</p>\n\n<p>the zip files is in this path:</p>\n\n<blockquote>\n  <p>C:\\User\\yourUserName\\AppData\\Local\\Xamarin\\zips</p>\n</blockquote>\n\n<p>I hope that it was helpfull</p>\n"}], "owner": {"reputation": 907, "user_id": 3550616, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UoaB6.jpg?s=128&g=1", "display_name": "Igor Monteiro", "link": "https://stackoverflow.com/users/3550616/igor-monteiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1470746023, "creation_date": 1465424516, "last_edit_date": 1465425332, "question_id": 37713922, "link": "https://stackoverflow.com/questions/37713922/no-exports-were-found-that-match-the-constraint-contractname-microsoft-visualstu", "title": "no exports were found that match the constraint contractname microsoft.visualstudio.portable library Android Portable Project", "body": "<p>I want to include a Class Library portable like image bellow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zfoso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zfoso.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, I'm getting following error:</p>\n\n<pre><code>no exports were found that match the constraint contractname microsoft.visualstudio.portable library\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gsN2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsN2R.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to delete a folder below but error keeps happening: </p>\n\n<pre><code>AppData\\Local\\Microsoft\\VisualStudio\\14.0\\componentModelcache\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "animation"], "answers": [{"comments": [{"owner": {"reputation": 1240, "user_id": 2088807, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/7761202feccbf9f18be9a36a588220f4?s=128&d=identicon&r=PG", "display_name": "user2088807", "link": "https://stackoverflow.com/users/2088807/user2088807"}, "edited": false, "score": 0, "creation_date": 1467066493, "post_id": 37799374, "comment_id": 63567291, "body": "Hi, thank you a lot, I&#39;ve tried to test your example but I didn&#39;t manage to make it work (I don&#39;t really use a lot of animations in WPF). I think I didn&#39;t understand how it should work (do I need to bind the Text value to the textblock A and textblock B ? (I&#39;ve edited my first post with my whole code) Thank you :)"}, {"owner": {"reputation": 5538, "user_id": 361177, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/z47wm.jpg?s=128&g=1", "display_name": "Orace", "link": "https://stackoverflow.com/users/361177/orace"}, "edited": false, "score": 1, "creation_date": 1615915381, "post_id": 37799374, "comment_id": 117838241, "body": "You have to set the <code>NotifyOnTargetUpdated</code> property to true in the <code>Binding</code>. i.e. <code>Text=&quot;{Binding Path=Value, Mode=OneWay, NotifyOnTargetUpdated=True}&quot;</code>"}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1616008324, "post_id": 37799374, "comment_id": 117871954, "body": "Ah glad to know old questions are still helping, yea the poc didn&#39;t include that part and was just static, since it runs off binding.targetupdated that&#39;s good looking out \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1465853061, "creation_date": 1465853061, "answer_id": 37799374, "question_id": 37713902, "link": "https://stackoverflow.com/questions/37713902/animate-textblock-when-the-value-changes/37799374#37799374", "title": "Animate textblock when the value changes", "body": "<p>You could do something like this with the concept being of just giving the illusion of the ticker. Remove the <code>Framework.Loaded</code> trigger when you've hooked up your data binding. The Red/Green Text is to illustrate the illusion you're going for. Wherein the Green would retain the original value via a one-time, and the Red would be the new value. Also remember to add the NotifyTargetUpdated binding thingy from your example link to your binding base. Of course you'll likely need to tweak some values to get exactly what you're after.</p>\n\n<p>Also don't forget to remove the <code>RepeatBehavior=\"Forever\"</code> from the Storyboard as it's also just there for the sake of the this initial example.</p>\n\n<pre><code>&lt;Grid HorizontalAlignment=\"Center\"  VerticalAlignment=\"Center\" Margin=\"10\" ClipToBounds=\"True\"&gt;\n        &lt;Grid.Resources&gt;\n            &lt;Storyboard x:Key=\"flipItGood\" Duration=\"0:0:2\" RepeatBehavior=\"Forever\"&gt;\n                &lt;DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)\" \n                                           Storyboard.TargetName=\"A\"&gt;\n                    &lt;EasingDoubleKeyFrame KeyTime=\"0:0:0.3\" Value=\"0\"/&gt;\n                &lt;/DoubleAnimationUsingKeyFrames&gt;\n                &lt;DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)\" \n                                           Storyboard.TargetName=\"B\"&gt;\n                    &lt;EasingDoubleKeyFrame KeyTime=\"0:0:0.3\" Value=\"20\"/&gt;\n                &lt;/DoubleAnimationUsingKeyFrames&gt;\n            &lt;/Storyboard&gt;\n        &lt;/Grid.Resources&gt;\n        &lt;Grid.Triggers&gt;\n            &lt;!-- THIS IS HERE ONLY FOR AN IMMEDIATE EXAMPLE\n                 DITCH THIS TRIGGER FOR THE TARGET.UPDATED ONE WHEN ACTUALLY USING --&gt;\n            &lt;EventTrigger RoutedEvent=\"FrameworkElement.Loaded\"&gt;\n                &lt;BeginStoryboard Storyboard=\"{StaticResource flipItGood}\"/&gt;\n            &lt;/EventTrigger&gt;\n        &lt;/Grid.Triggers&gt;\n\n        &lt;TextBlock x:Name=\"A\" \n                   Text=\"BIND ME\" \n                   Foreground=\"Red\" FontSize=\"18\" FontWeight=\"Bold\"\n                   RenderTransformOrigin=\"0.5,0.5\"&gt;\n\n            &lt;TextBlock.RenderTransform&gt;\n                &lt;TransformGroup&gt;\n                    &lt;ScaleTransform/&gt;\n                    &lt;SkewTransform/&gt;\n                    &lt;RotateTransform/&gt;\n                    &lt;TranslateTransform Y=\"-20\"/&gt;\n                &lt;/TransformGroup&gt;\n            &lt;/TextBlock.RenderTransform&gt;\n\n            &lt;TextBlock.Triggers&gt;\n\n                &lt;EventTrigger RoutedEvent=\"Binding.TargetUpdated\"&gt;\n                    &lt;BeginStoryboard Storyboard=\"{StaticResource flipItGood}\"/&gt;\n                &lt;/EventTrigger&gt;\n\n            &lt;/TextBlock.Triggers&gt;\n        &lt;/TextBlock&gt;\n        &lt;TextBlock x:Name=\"B\" \n                           Text=\"BIND ME\" FontSize=\"18\" FontWeight=\"Bold\"\n                           Foreground=\"Green\" RenderTransformOrigin=\"0.5,0.5\"&gt;\n            &lt;TextBlock.RenderTransform&gt;\n                &lt;TransformGroup&gt;\n                    &lt;ScaleTransform/&gt;\n                    &lt;SkewTransform/&gt;\n                    &lt;RotateTransform/&gt;\n                    &lt;TranslateTransform/&gt;\n                &lt;/TransformGroup&gt;\n            &lt;/TextBlock.RenderTransform&gt;\n        &lt;/TextBlock&gt;\n\n    &lt;/Grid&gt;\n</code></pre>\n\n<p>Which results in (sorry for the crappy gif);</p>\n\n<p><a href=\"https://i.stack.imgur.com/B6o9F.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6o9F.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this helps, cheers.</p>\n"}], "owner": {"reputation": 1240, "user_id": 2088807, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/7761202feccbf9f18be9a36a588220f4?s=128&d=identicon&r=PG", "display_name": "user2088807", "link": "https://stackoverflow.com/users/2088807/user2088807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2097, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1467307234, "creation_date": 1465424390, "last_edit_date": 1467307234, "question_id": 37713902, "link": "https://stackoverflow.com/questions/37713902/animate-textblock-when-the-value-changes", "title": "Animate textblock when the value changes", "body": "<p>I want to have an animation similar to this one (the score board, when the 2 becomes a 4) : <a href=\"https://giphy.com/gifs/26BRtwCxNCLVvN4g8\" rel=\"nofollow\">gif example</a></p>\n\n<p>Using this article : <a href=\"https://michaelscherf.wordpress.com/2009/02/23/how-to-trigger-an-animation-when-textblocks-text-is-changed-during-a-databinding/\" rel=\"nofollow\">https://michaelscherf.wordpress.com/2009/02/23/how-to-trigger-an-animation-when-textblocks-text-is-changed-during-a-databinding/</a>, I have been able to modify the opacity of my textblock when the text changes. </p>\n\n<p>But I don't see at all how I can make the same translation effect ?</p>\n\n<p>My textblock will also containing only numbers.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1465424930, "post_id": 37713871, "comment_id": 62901554, "body": "that doesn&#39;t look like it&#39;ll work in the case where two keys are pressed, or when i let one of my two keys go.  I&#39;d have to release both keys and then re-press one to get movement back."}], "tags": [], "owner": {"reputation": 121, "user_id": 6369109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f6efb3d8cc176bd6f9159356bcd62e?s=128&d=identicon&r=PG&f=1", "display_name": "Engine Dev", "link": "https://stackoverflow.com/users/6369109/engine-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1465424240, "creation_date": 1465424240, "answer_id": 37713871, "question_id": 37713830, "link": "https://stackoverflow.com/questions/37713830/unity-c-how-continue-playing-an-animation-from-the-point-it-stopped/37713871#37713871", "title": "Unity C# - How continue playing an animation from the point it stopped", "body": "<p>I simply made it change speeds instead of using start and stop:</p>\n\n<pre><code>    animation.Play();\n    if (Input.GetKey(KeyCode.W))\n    {\n        animation[\"Walking\"].speed = 1;\n    }\n\n    if (Input.GetKey(KeyCode.S))\n    {\n        animation[\"Walking\"].speed = -1;\n    }\n\n    if (Input.GetKeyUp(KeyCode.W))\n    {\n        animation[\"Walking\"].speed = 0;\n    }\n\n    if (Input.GetKeyUp(KeyCode.S))\n    {\n        animation[\"Walking\"].speed = 0;\n    }\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 6369109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f6efb3d8cc176bd6f9159356bcd62e?s=128&d=identicon&r=PG&f=1", "display_name": "Engine Dev", "link": "https://stackoverflow.com/users/6369109/engine-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465424240, "creation_date": 1465423984, "question_id": 37713830, "link": "https://stackoverflow.com/questions/37713830/unity-c-how-continue-playing-an-animation-from-the-point-it-stopped", "title": "Unity C# - How continue playing an animation from the point it stopped", "body": "<p>So in Unity I have a simple script that detects weather or not the player presses W or S and if they do then play a walking animation. And it works just fine, but if I stop moving and the animation is half way through playing and I press W or S it will restart the animation from the beginning of the animation not the current point it was stopped at, is there a way to make it play from that point, here is the code:</p>\n\n<pre><code>    if (Input.GetKey(KeyCode.W))\n    {\n        animation.Play(\"Walking\");\n    }\n\n    if (Input.GetKey(KeyCode.S))\n    {\n        animation.Play(\"Walking\");\n    }\n\n    if (Input.GetKeyUp(KeyCode.W))\n    {\n        animation.Stop();\n    }\n\n    if (Input.GetKeyUp(KeyCode.S))\n    {\n        animation.Stop();\n    }\n</code></pre>\n"}, {"tags": ["c#", "datatable"], "comments": [{"owner": {"reputation": 844, "user_id": 6326116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368bbe0af524d89efee1b5de03f80285?s=128&d=identicon&r=PG&f=1", "display_name": "riteshmeher", "link": "https://stackoverflow.com/users/6326116/riteshmeher"}, "edited": false, "score": 0, "creation_date": 1465424616, "post_id": 37713821, "comment_id": 62901445, "body": "where you are stuck?"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1465428785, "post_id": 37713821, "comment_id": 62902742, "body": "It seems you forgot to add columns to your data table.  <code>d.Columns.Add(&quot;FileName&quot;);    d.Columns.Add(&quot;FilePath&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "is_accepted": false, "score": 0, "last_activity_date": 1465439487, "creation_date": 1465439487, "answer_id": 37715914, "question_id": 37713821, "link": "https://stackoverflow.com/questions/37713821/list-files-in-datatable/37715914#37715914", "title": "List files in DataTable", "body": "<p>I Think the Problem you are facing is </p>\n\n<blockquote>\n  <p>Cannot found column <code>\"FileName\"</code> In the\n  line<code>drawingTableRow[\"FileName\"]</code></p>\n</blockquote>\n\n<p>Since you have not define the column names of the table. So change the declaration of the DataTable <code>d</code> like the following will solve the issue:</p>\n\n<pre><code>DataTable d = new DataTable();\nd.Columns.Add(\"FileName\");\nd.Columns.Add(\"FilePath\");\n</code></pre>\n\n<p>I Will suggest you another option to fill the DataTable, Take a look into the code below:</p>\n\n<pre><code>DataTable FilesTable = new DataTable();\nFilesTable.Columns.Add(\"FileName\");\nFilesTable.Columns.Add(\"FilePath\");\nDataRow dRow;\nstring yourPath = @\"your path here\";\nstring searchPattern = \"*.*\";\nvar resultData = Directory.GetFiles(yourPath, searchPattern, SearchOption.AllDirectories)\n                .Select(x =&gt; new { FileName = Path.GetFileName(x),FilePath = x });\n\nforeach (var item in resultData)\n{\n    dRow = FilesTable.NewRow();\n    dRow[\"FileName\"] = item.FileName;\n    dRow[\"FilePath\"] = item.FilePath;\n    FilesTable.Rows.Add(dRow);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 6421298, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/282897a79abe6d6775040bb3813c3b43?s=128&d=identicon&r=PG&f=1", "display_name": "ctalley5", "link": "https://stackoverflow.com/users/6421298/ctalley5"}, "is_accepted": false, "score": 0, "last_activity_date": 1465617607, "creation_date": 1465617607, "answer_id": 37759774, "question_id": 37713821, "link": "https://stackoverflow.com/questions/37713821/list-files-in-datatable/37759774#37759774", "title": "List files in DataTable", "body": "<p>Thanks SOOO much guys. Both of those answers (partially) helped fixed my problem.\nI must add for anybody else having the same problem.... I discovered that one additional item was necessary to display my data:</p>\n\n<pre><code> dataGridView2.DataSource = d;\n</code></pre>\n\n<p>Admittedly I don't completely understand why this pieces of code is necessary since I'm binding the table from my datagridview... but this was the last piece of my puzzle.\nThanks again guys!</p>\n"}], "owner": {"reputation": 65, "user_id": 6421298, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/282897a79abe6d6775040bb3813c3b43?s=128&d=identicon&r=PG&f=1", "display_name": "ctalley5", "link": "https://stackoverflow.com/users/6421298/ctalley5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3478, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465617607, "creation_date": 1465423960, "last_edit_date": 1465427769, "question_id": 37713821, "link": "https://stackoverflow.com/questions/37713821/list-files-in-datatable", "title": "List files in DataTable", "body": "<p>Admittedly, I'm new to programming and been trying to figure this out for far too long...  I need to (by button click) pull all files from a particular folder, including all sub-folders. My two datatable columns are \"FileName\" &amp; \"FilePath\".  FileName should show just the file name. FilePath should show the entire path, including c:  Any help appreciated!</p>\n\n<pre><code> string Dpath = @\"C:\\Users\\me\\Documents\\Plot Files\";\n DataTable d = new DataTable();\n DirectoryInfo DirInfo = new DirectoryInfo(Dpath);\n DataRow drawingTableRow = d.NewRow();\n foreach (FileInfo fi in DirInfo.GetFiles(\"*\", SearchOption.AllDirectories))\n { \n     drawingTableRow = d.NewRow();\n     drawingTableRow[\"FileName\"] = fi.FullName;\n     drawingTableRow[\"FilePath\"] = fi.Name;\n     d.Rows.Add(drawingTableRow);\n }\n</code></pre>\n"}, {"tags": ["c#", "service"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1465423886, "post_id": 37713786, "comment_id": 62901196, "body": "MyDocuments is the reference to the current user Documents directory. Now in your Windows Service what is the user running the Service?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1465424074, "post_id": 37713786, "comment_id": 62901269, "body": "It means that you did not configure the service to use a <i>specific</i> user account.  So you get the System account, there is not a lot of &quot;my&quot; in that account."}], "answers": [{"tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1465423957, "creation_date": 1465423957, "answer_id": 37713820, "question_id": 37713786, "link": "https://stackoverflow.com/questions/37713786/windows-service-wrong-application-data-path/37713820#37713820", "title": "Windows service wrong application data path", "body": "<p>By default a Windows Service does not run as an interactive user account (not using the same credentials as the logged in user).</p>\n\n<p>The path you are getting, therefore, is correct. You could get a user path if you configure the service to run as a specific user (which need not be the same as the logged-in user).</p>\n"}], "owner": {"reputation": 656, "user_id": 3471424, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wRQQ1.png?s=128&g=1", "display_name": "Explisam", "link": "https://stackoverflow.com/users/3471424/explisam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "closed_date": 1465423992, "accepted_answer_id": 37713820, "answer_count": 1, "score": -1, "last_activity_date": 1467607817, "creation_date": 1465423741, "last_edit_date": 1467607817, "question_id": 37713786, "link": "https://stackoverflow.com/questions/37713786/windows-service-wrong-application-data-path", "closed_reason": "Duplicate", "title": "Windows service wrong application data path", "body": "<p>I'm writing a <code>Windows Service</code> and I'm trying to cache some logs in <code>MyDocuments</code> using the common syntax:</p>\n\n<pre><code>Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);`\n</code></pre>\n\n<p>But the service would crash and by looking over the <code>Event Viewer</code> it turns out that the <code>GetFolderPath</code></p>\n\n<p>is outputting\n<code>C:\\Windows\\system32\\EPiA\\EPiAServiceLog.txt</code></p>\n\n<p>instead of <code>C:\\Windows\\Users\\&lt;Username&gt;\\Documents\\EPiA\\EPiAServiceLog.txt</code></p>\n\n<p>What is that supposed to mean?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 7886, "user_id": 1053611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2e501620663e1963d64a0471f8b0ee70?s=128&d=identicon&r=PG", "display_name": "Gaui", "link": "https://stackoverflow.com/users/1053611/gaui"}, "edited": false, "score": 0, "creation_date": 1465431281, "post_id": 37713742, "comment_id": 62903502, "body": "Check out NPoco or Dapper."}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 1768291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99c37ab8af92e9738e7736493c2cb0d?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/1768291/nathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1465424863, "creation_date": 1465424863, "answer_id": 37713986, "question_id": 37713742, "link": "https://stackoverflow.com/questions/37713742/how-to-use-a-join-sql-statement-in-asp-net/37713986#37713986", "title": "How to use a JOIN SQL statement in ASP.NET", "body": "<p>I want to start off by saying that the way you are going about building this page is very brittle and prone to errors and problems.  I would not recommend doing this in an actual business situation.  For demonstration purposes, in an educational context, I suppose it is acceptable.  With that said, here is the SQL to get the data you asked for.</p>\n\n<pre><code>string sql = @\"\nSELECT \n  LT.Id,\n  LT.Type,\n  LT.Description,\n  LT.NumofDays,\n  LC.Description CategoryDescription\nFROM \n  LeaveType LT\n  JOIN LeaveCategory LC\n    ON LT.LeaveCategoryId = LC.Id\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6442565, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e9e5ce87e5c21539d3e323b31b6c758a?s=128&d=identicon&r=PG&f=1", "display_name": "Safri", "link": "https://stackoverflow.com/users/6442565/safri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465447574, "creation_date": 1465423481, "last_edit_date": 1465447574, "question_id": 37713742, "link": "https://stackoverflow.com/questions/37713742/how-to-use-a-join-sql-statement-in-asp-net", "title": "How to use a JOIN SQL statement in ASP.NET", "body": "<p>OK so I am a programming student with a headache that hopefully someone will be able to cure.</p>\n\n<p>I am currently creating a website using ASP.NET in Microsoft Visual Studio for a project and here is my problem:</p>\n\n<p>I really don't know how to combine data from two sets of data.</p>\n\n<p>Here is the table structure for both the tables:</p>\n\n<p><strong>LeaveCategory</strong> </p>\n\n<p><strong>Id</strong> is the primary key for LeaveCategory.</p>\n\n<p><strong>Data for LeaveCategory</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/p1p26.jpg\" alt=\"\"></p>\n\n<p><strong>LeaveType</strong></p>\n\n<p><strong>Id</strong> is the primary key and <strong>LeaveCategoryId</strong> is the foreign key for LeaveType.</p>\n\n<p><strong>Data for LeaveType</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/arNxw.jpg\" alt=\"\"></p>\n\n<p>Output:</p>\n\n<pre><code>Leave Type ACL1 from LeaveType ----&gt; Category AL from LeaveCategory\nLeave Type ACL2 from LeaveType ----&gt; Category AL from LeaveCategory\nLeave Type ACL3 from LeaveType ----&gt; Category AL from LeaveCategory\nLeave Type ACL4 from LeaveType ----&gt; Category AL from LeaveCategory\nLeave Type OPL from LeaveType -----&gt; Category ML from LeaveCategory\nLeave Type HPL from LeaveType -----&gt; Category ML from LeaveCategory\nLeave Type CGL from LeaveType -----&gt; Category UL from LeaveCategory\nLeave Type MGL from LeaveType -----&gt; Category UL from LeaveCategory\nLeave Type SDL from LeaveType -----&gt; Category ML from LeaveCategory\n</code></pre>\n\n<p>.aspx page need to retrieve from both table using JOIN sql statement. But I really don't know how to type it :(((</p>\n\n<p>So here's my code:</p>\n\n<pre><code>SqlConnection conn = null;\nSqlCommand cmd = null;\nstring connectionString = null;\nprotected void Page_Load(object sender, EventArgs e)\n{\n    SqlDataReader dr = null;\n\n    connectionString = ConfigurationManager.ConnectionStrings[\"LeaveManagementCS\"].ConnectionString;\n\n    string sql = \"SELECT * FROM LeaveType\";\n\n    try\n    {\n        conn = new SqlConnection(connectionString);\n\n        cmd = new SqlCommand(sql, conn);\n\n        conn.Open();\n\n        dr = cmd.ExecuteReader();\n\n        lblOutput.Text = \"&lt;table Border='1'&gt;\";\n        lblOutput.Text += \"&lt;tr&gt;&lt;th&gt;Id &lt;/th&gt;&lt;th&gt;Leave Type&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;th&gt;Number of Days&lt;/th&gt;&lt;/tr&gt;\";\n\n        while (dr.Read())\n        {\n            string id = dr[\"Id\"].ToString();\n\n            string type = dr[\"Type\"].ToString();\n\n            string desc = dr[\"Description\"].ToString();\n\n            string nod = dr[\"NumofDays\"].ToString();\n\n            lblOutput.Text += \"&lt;tr&gt;&lt;td&gt;\" + id + \"&lt;/td&gt;\";\n            lblOutput.Text += \"&lt;td&gt;\" + type + \"&lt;/td&gt;\";\n            lblOutput.Text += \"&lt;td&gt;\" + desc + \"&lt;/td&gt;\";\n            lblOutput.Text += \"&lt;td&gt;\" + nod + \"&lt;/td&gt;&lt;/tr&gt;\";\n        }\n        dr.Close();\n\n        lblOutput.Text += \"&lt;/table&gt;\";\n    }\n    catch (Exception ex)\n    {\n        lblOutput.Text = \"Error Message\" + ex.Message;\n    }\n    finally\n    {\n        if (conn != null)\n            conn.Close();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465423730, "post_id": 37713724, "comment_id": 62901141, "body": "An internal pointer in generated sql?  That would be quite interesting :) .  Make sure not to confuse EF Linq with Linq-to-Objects."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465423828, "post_id": 37713724, "comment_id": 62901176, "body": "Also, <code>rowset.Skip(10)</code> does nothing since the value isn&#39;t returned and reassigned.  It would need to be <code>rowset = rowset.Skip(10)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6592, "user_id": 497745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a498dd9b0f762bc846afc9b36056b92?s=128&d=identicon&r=PG", "display_name": "Ayo I", "link": "https://stackoverflow.com/users/497745/ayo-i"}, "edited": false, "score": 0, "creation_date": 1465425751, "post_id": 37713781, "comment_id": 62901808, "body": "So does a call to entities.SaveChanges() between iterations of rowset.Take(x) change anything? The rows are being mutated in a way that will cause them to no longer appear in subsequent queries. Is rowset.Take(x) re-evaluated with a new SQL query every time? Otherwise, I don&#39;t understand why we haven&#39;t been seeing infinite loop behavior prior to this."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 6592, "user_id": 497745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a498dd9b0f762bc846afc9b36056b92?s=128&d=identicon&r=PG", "display_name": "Ayo I", "link": "https://stackoverflow.com/users/497745/ayo-i"}, "edited": false, "score": 1, "creation_date": 1465427118, "post_id": 37713781, "comment_id": 62902237, "body": "@user497745 If you mutate and save changes so that the processed rows are no longer in the result set in between of calling <code>Take(x)</code>, then indeed you would not see an infinite loop. <code>IQueryable&lt;T&gt;</code> sends a new query to RDBMS each time you enumerate it, so rows that are no longer eligible are not returned."}, {"owner": {"reputation": 6592, "user_id": 497745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a498dd9b0f762bc846afc9b36056b92?s=128&d=identicon&r=PG", "display_name": "Ayo I", "link": "https://stackoverflow.com/users/497745/ayo-i"}, "edited": false, "score": 0, "creation_date": 1465429822, "post_id": 37713781, "comment_id": 62903053, "body": "Excellent. Thank you for the assistance."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1465423705, "creation_date": 1465423705, "answer_id": 37713781, "question_id": 37713724, "link": "https://stackoverflow.com/questions/37713724/linq-to-entities-internal-behavior-of-skip-and-take/37713781#37713781", "title": "Linq to Entities - Internal Behavior of Skip and Take", "body": "<blockquote>\n  <p><code>rowSet.Take(x)</code> is in a loop where the intent is to keep taking x rows with each loop execution and thus consume the entire set</p>\n</blockquote>\n\n<p>You are right, this bug is caused by a misunderstanding. You cannot repeatedly call <code>Take</code> on the same <code>rowSet</code> and expect different results. Since the query is evaluated lazily, each call would get you the same ten rows again and again, and your loop would not stop.</p>\n"}], "owner": {"reputation": 6592, "user_id": 497745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a498dd9b0f762bc846afc9b36056b92?s=128&d=identicon&r=PG", "display_name": "Ayo I", "link": "https://stackoverflow.com/users/497745/ayo-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 37713781, "answer_count": 1, "score": 2, "last_activity_date": 1465423705, "creation_date": 1465423389, "question_id": 37713724, "link": "https://stackoverflow.com/questions/37713724/linq-to-entities-internal-behavior-of-skip-and-take", "title": "Linq to Entities - Internal Behavior of Skip and Take", "body": "<p>I have a question about the internal behavior of Skip and Take. Do subsequent calls to skip and take move an internal pointer forward?</p>\n\n<p>So, in other words, is:</p>\n\n<pre><code>var rowset = entities.ActivityRecords\n                    .Where(ar =&gt; ar.State == (int)LineItemStates.Created \n                        &amp;&amp; ar.Timestamp &gt;= cycleIteration.StartDate //within the date range\n                        &amp;&amp; ar.Timestamp &lt;= cycleIteration.EndDate \n                        &amp;&amp; matchingProducts.Contains(ar.ProductId))\n                    .OrderBy(ar2 =&gt; ar2.Id);\n\nrowset.Skip(10); //only works if we're consuming an iterator and the pointer is moving forward. Does this move an internal pointer forward?\nreturn rowset.Take(10);\n</code></pre>\n\n<p>equivalent to:</p>\n\n<pre><code>var rowset = entities.ActivityRecords\n                    .Where(ar =&gt; ar.State == (int)LineItemStates.Created \n                        &amp;&amp; ar.Timestamp &gt;= cycleIteration.StartDate //within the date range\n                        &amp;&amp; ar.Timestamp &lt;= cycleIteration.EndDate \n                        &amp;&amp; matchingProducts.Contains(ar.ProductId))\n                    .OrderBy(ar2 =&gt; ar2.Id);\n\nreturn rowset.Skip(10).Take(10);\n</code></pre>\n\n<p>I have a bug I'm investigating, and I believe the problem is that the r.Take(x) is in a loop where the intent is to keep taking <code>x</code> rows with each loop execution and thus consume the entire set, but I'm guessing the latter code snippet is required over the former as I don't think Skip and Take are really moving any internal pointer iterator forward.</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 1163, "user_id": 2299091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55424cec303e5d0e8a3dbf88b1cde603?s=128&d=identicon&r=PG", "display_name": "tgpdyk", "link": "https://stackoverflow.com/users/2299091/tgpdyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1465441883, "creation_date": 1465441883, "answer_id": 37716166, "question_id": 37713714, "link": "https://stackoverflow.com/questions/37713714/strange-performance-issue-with-wpf-combobox-binding/37716166#37716166", "title": "Strange performance issue with WPF ComboBox binding", "body": "<p>I think it is about the List.AddRange() rather than the property. </p>\n\n<blockquote>\n  <p>If the new Count (the current Count plus the size of the collection) will be greater than Capacity, the capacity of the List is increased by automatically reallocating the internal array to accommodate the new elements, and the existing elements are copied to the new array before the new elements are added.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/z883w3dc(v=vs.110).aspx\" rel=\"nofollow\">msdn</a></p>\n"}], "owner": {"reputation": 182, "user_id": 389876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3a5afa58b49ddfaf2183bddc24a1fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Arturo", "link": "https://stackoverflow.com/users/389876/mario-arturo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465441883, "creation_date": 1465423328, "question_id": 37713714, "link": "https://stackoverflow.com/questions/37713714/strange-performance-issue-with-wpf-combobox-binding", "title": "Strange performance issue with WPF ComboBox binding", "body": "<p>I have a performance issue that I just solved but I really don't understand why the solution works.</p>\n\n<p>I have a ComboBox with about 4,000 items that I bind to a collection using the ItemSource property; if I bind to a property in the view-model with a getter and a setter everything works fine, but if I bind to a property with only a getter, the first time that I click on the combobox it works fine but everytime after that first time if I click on the combobox the application hangs for about 1 minute with the CPU for the process at ~100% before displaying the combo box items</p>\n\n<p>View:</p>\n\n<pre><code>...\n&lt;ComboBox\n    Grid.Column=\"1\"\n    ItemsSource=\"{Binding AvailableDispositionCodes}\"\n    DisplayMemberPath=\"DisplayName\"\n    SelectedItem=\"{Binding SelectedDispositionCode}\"\n    Width=\"Auto\"\n    Height=\"25\"\n    Margin=\"5 0 0 0\"&gt;\n    &lt;ComboBox.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n            &lt;VirtualizingStackPanel /&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ComboBox.ItemsPanel&gt;\n&lt;/ComboBox&gt;\n...\n</code></pre>\n\n<p>Working view-model:</p>\n\n<pre><code>...\nprivate IEnumerable&lt;DispositionCodeViewModel&gt; availableDispositionCodes = new List&lt;DispositionCodeViewModel&gt;();\n...\npublic IEnumerable&lt;DispositionCodeViewModel&gt; AvailableDispositionCodes\n{\n    get\n    {\n        return this.availableDispositionCodes;\n    }\n\n    set\n    {\n        this.availableDispositionCodes = value;\n        this.OnPropertyChanged();\n    }\n}\n...\npublic void Initialize()\n{\n    ...\n    this.AvailableDispositionCodes = resultCodeViewModels.OrderBy(x =&gt; x.Name);\n    ...\n}\n...\n</code></pre>\n\n<p>View-model that causes the application to hang:</p>\n\n<pre><code>...\nprivate List&lt;DispositionCodeViewModel&gt; availableDispositionCodes = new List&lt;DispositionCodeViewModel&gt;();\n...\npublic IEnumerable&lt;DispositionCodeViewModel&gt; AvailableDispositionCodes\n{\n    get { return this.availableDispositionCodes; }\n}\n...\npublic void Initialize()\n{\n    ...\n    this.availableDispositionCodes.AddRange(resultCodeViewModels.OrderBy(x =&gt; x.Name));\n    this.OnPropertyChanged(nameof(this.AvailableDispositionCodes));\n    ...\n}\n...\n</code></pre>\n\n<p>The method Initialize of the view-model initializes the collection that is binded to the combobox and this method is called just once shortly after the view and the view-model are created. After that the collection doesn't change</p>\n\n<p>Does anybody knows what causes this weird behavior?</p>\n"}, {"tags": ["c#", "wpf", "visual-studio"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 6442670, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/K3eKv.jpg?s=128&g=1", "display_name": "Chrisetiquette", "link": "https://stackoverflow.com/users/6442670/chrisetiquette"}, "edited": false, "score": 0, "creation_date": 1465509146, "post_id": 37715487, "comment_id": 62944659, "body": "I am using a windows form that opens when you press a button on the WPF form. So, there is not an option to use XAML... Also, I can get the focus to change using the tab by adding the following to the XAML on my WPF form: KeyboardNavigation.TabNavigation=&quot;Cycle&quot;   but I am still unable to tab through objects on my windows form"}, {"owner": {"reputation": 91, "user_id": 5207953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCaW.png?s=128&g=1", "display_name": "JC.", "link": "https://stackoverflow.com/users/5207953/jc"}, "reply_to_user": {"reputation": 191, "user_id": 6442670, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/K3eKv.jpg?s=128&g=1", "display_name": "Chrisetiquette", "link": "https://stackoverflow.com/users/6442670/chrisetiquette"}, "edited": false, "score": 0, "creation_date": 1465549578, "post_id": 37715487, "comment_id": 62958540, "body": "To confirm, are you using WPF or WinForms; the question was tagged WFP and you&#39;ve referred to both forms and WPF. If it&#39;s the case you are using WPF but programatically creating the window, then you can simply make a new window or user control in your solution, add the xaml to it, and create an instance of that as your &#39;form&#39; from the button press. Updated answer also with an example of this."}, {"owner": {"reputation": 91, "user_id": 5207953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCaW.png?s=128&g=1", "display_name": "JC.", "link": "https://stackoverflow.com/users/5207953/jc"}, "reply_to_user": {"reputation": 191, "user_id": 6442670, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/K3eKv.jpg?s=128&g=1", "display_name": "Chrisetiquette", "link": "https://stackoverflow.com/users/6442670/chrisetiquette"}, "edited": false, "score": 0, "creation_date": 1465550326, "post_id": 37715487, "comment_id": 62958998, "body": "In relation to the keyboard navigation, setting the mode to cyclical re-enforces the default navigation strategy, although in and of itself does not designate controls as TabIndexes which can be used by the navigation. To achieve this you will still need to provide TabIndex in your controls, or make your own custom solution in addition to the one provided in WPF by default. This will work right out of the box if you make the WPF window or user control in XAML and instanciate it from your button, rather than making a new base window class as I understand from the comment."}, {"owner": {"reputation": 91, "user_id": 5207953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCaW.png?s=128&g=1", "display_name": "JC.", "link": "https://stackoverflow.com/users/5207953/jc"}, "reply_to_user": {"reputation": 191, "user_id": 6442670, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/K3eKv.jpg?s=128&g=1", "display_name": "Chrisetiquette", "link": "https://stackoverflow.com/users/6442670/chrisetiquette"}, "edited": false, "score": 0, "creation_date": 1465557974, "post_id": 37715487, "comment_id": 62963717, "body": "After re-reading your comment, it seems that you&#39;re attempting to use a Form inside of a WPF project. Let me be the first to say that this is quite simply not a standard thing to do for various reasons. I&#39;ve updated my answer now to reflect this, and provide a download to a working solution for you. If you would prefer to go with the Forms approach still, you will need to use <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.integration.windowsformshost.aspx\" rel=\"nofollow noreferrer\">WindowsFormsHost</a> as discussed <a href=\"https://www.simple-talk.com/dotnet/.net-framework/mixing-wpf-and-winforms/\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 91, "user_id": 5207953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHCaW.png?s=128&g=1", "display_name": "JC.", "link": "https://stackoverflow.com/users/5207953/jc"}, "is_accepted": false, "score": 2, "last_activity_date": 1465558134, "last_edit_date": 1465558134, "creation_date": 1465435621, "answer_id": 37715487, "question_id": 37713651, "link": "https://stackoverflow.com/questions/37713651/how-do-i-tab-between-text-boxes-on-a-form-in-c/37715487#37715487", "title": "How do I tab between text boxes on a form in C#?", "body": "<p>From the question you've asked and the code sample provided, there seems to be somewhat of a disconnect between your approach and the desired functionality.</p>\n\n<p>As you would like the user to be able to use the <strong>Tab key</strong> in order to shift keyboard focus between elements in the window, you need only provide a <strong>TabIndex</strong> attribute on each of your TextBox controls. There is no need to use the TextChanged events to achieve this and it can be done completely in XAML for simplicity's sake.</p>\n\n<p>From how I interpret your question, your next follow-on will likely be: </p>\n\n<blockquote>\n  <p>How do I initially give focus to a control when the application\n  starts?</p>\n</blockquote>\n\n<p>To address this, there are a couple of alternatives available, simplest of which comes in the form of the FocusManager, which again I've illustrated usage of in XAML.</p>\n\n<p>For convenience, here is a XAML-only implementation with TabIndex and FocusManager implemented:</p>\n\n<pre><code>&lt;Window x:Class=\"tab_navigation.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:tab_navigation\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" ResizeMode=\"NoResize\" SizeToContent=\"WidthAndHeight\" FocusManager.FocusedElement=\"{Binding ElementName=TbxCompanyName}\"&gt;\n&lt;Grid Margin=\"10\"&gt;\n    &lt;StackPanel Orientation=\"Vertical\"&gt;\n        &lt;StackPanel Orientation=\"Vertical\" Margin=\"0,0,0,10\"&gt;\n            &lt;Label Content=\"Company Name:\" Target=\"{Binding ElementName=TbxCompanyName}\" /&gt;\n            &lt;TextBox Name=\"TbxCompanyName\" TabIndex=\"0\" Width=\"160\" HorizontalAlignment=\"Left\"/&gt;\n        &lt;/StackPanel&gt;\n        &lt;StackPanel Orientation=\"Vertical\"&gt;\n            &lt;Label Content=\"Job Description:\" Target=\"{Binding ElementName=TbxJobDescription}\"/&gt;\n            &lt;TextBox Name=\"TbxJobDescription\" TabIndex=\"1\" Width=\"160\" HorizontalAlignment=\"Left\"/&gt;\n        &lt;/StackPanel&gt;\n    &lt;/StackPanel&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Give me a shout if you need any further help, although I would strongly recommend checking out some of the MSDN resources first, particularly those concerning <a href=\"https://msdn.microsoft.com/en-us/library/aa969768%28v=vs.110%29.aspx\" rel=\"nofollow\">Focus</a></p>\n\n<blockquote>\n  <p><strong>UPDATE</strong>: In response to comment regarding implementing the solution,\n  WPF has a different design and best practices from that of WinForms.\n  I would <strong>strongly</strong> make the case that you cease using Forms and instead use a Window or UserControl derived class in place of a Form in your WPF project unless there is a very, very good reason for doing so. If you continue to use a Form inside of your WPF project, you will indeed need to implement your own keyboard navigation logic inside that form, and bridge various other gaps you'll inevitably run into when trying to get a Form behave in a commonly acceptable way.\n  I'll instead show you how you can achieve your request using an objectively better and more suitable approach in WPF-only, using Window or UserControl elements. There is also a complete solution <a href=\"https://www.dropbox.com/s/vis02161dyetdwk/TabbedNavigation-Window.zip?dl=0\" rel=\"nofollow\">zip downloadable here</a>.</p>\n</blockquote>\n\n<p>WPF is by design a lot more modular than WinForms and splits the areas of concerns nicely by default, although most developers implement a design pattern ontop of this; MVVM is the current darling of WPF, and does add quite a lot of value to a project, although it is outside the scope of your question, so I shall instead address the question itself on the grounds of how to achieve the request in its most basic forms. Do please be aware though that this is not the entirely ideal solution and I would strongly recommend you learn and implement the MVVM pattern for WPF if you are not already familiar with it.</p>\n\n<p>With that disclaimer out of the way, <strong>instead of using a Form in WPF</strong>, its more useful for us to make a class which derives from <strong>Window</strong>. An even more common scenario in WPF would be that you would want to have a single window whose content changes between different views, rather than say creating multiple windows, although again that is outside the scope of the question and would rely upon reading into Binding and MVVM. I'm going to be showing you a quick and easy way to get the functionality you've asked for, I'm just trying to iterate here that <strong>this is not the norm</strong> almost all of the time.</p>\n\n<p>To make a working solution, do the following to your project:</p>\n\n<ol>\n<li>Right click your project in the solution explorer (presuming you are using Visual Studio)</li>\n<li>'Add' a 'New Item...'. </li>\n<li>Choose the 'Window (WPF)' template and name it. <strong>I'm going to call it CustomerInformationEntry from here out</strong>.</li>\n<li>Open the <strong>CustomerInformationEntry.xaml</strong> file that has been created for us, <strong>remove</strong> the <code>&lt;Grid&gt;&lt;/Grid&gt;</code> tags and copy/paste this excerpt from the XAML I've already provided from above in their place:</li>\n</ol>\n\n<p><code>&lt;Grid Margin=\"10\"&gt;\n    &lt;StackPanel Orientation=\"Vertical\"&gt;\n        &lt;StackPanel Orientation=\"Vertical\" Margin=\"0,0,0,10\"&gt;\n            &lt;Label Content=\"Company Name:\" Target=\"{Binding ElementName=TbxCompanyName}\" /&gt;\n            &lt;TextBox Name=\"TbxCompanyName\" TabIndex=\"0\" Width=\"160\" HorizontalAlignment=\"Left\"/&gt;\n        &lt;/StackPanel&gt;\n        &lt;StackPanel Orientation=\"Vertical\"&gt;\n            &lt;Label Content=\"Job Description:\" Target=\"{Binding ElementName=TbxJobDescription}\"/&gt;\n            &lt;TextBox Name=\"TbxJobDescription\" TabIndex=\"1\" Width=\"160\" HorizontalAlignment=\"Left\"/&gt;\n        &lt;/StackPanel&gt;\n    &lt;/StackPanel&gt;\n&lt;/Grid&gt;</code></p>\n\n<ol start=\"5\">\n<li>Add <code>FocusManager.FocusedElement=\"{Binding ElementName=TbxCompanyName}</code> to the <strong>Window</strong> element in <strong>CustomerInformationEntry.xaml</strong>.</li>\n<li>This is our view or visual representation finished with now, and all that remains is to instanciate a new CustomerInformationEntry from our other Window or UserControl, and to then display it. In this case I'm going to be putting a button onto the <strong>MainWindow.xaml</strong>, and providing it a click event which will create the instance of our new Window:\n\n<ul>\n<li>In <strong>MainWindow.xaml</strong>  add <code>&lt;Button Name=\"BtnOpenCustomerInformationEntry\" Content=\"Enter Customer Information\" Click=\"OpenCustomerInformationEntry\"/&gt;</code>. In my case I'll be adding the button inside my  object, although you can put it wherever you like if you've already created your initial window.</li>\n<li>In <strong>MainWindow.xaml.cs</strong> we'll add a new private method which will be used by the Click event of your new button. Adding the following code: </li>\n</ul></li>\n</ol>\n\n<p><code>private void OpenCustomerInformationEntry(object sender, RoutedEventArgs e)\n        {\n            CustomerInformationEntry myWindow = new CustomerInformationEntry();\n            myWindow.Show();\n        }</code></p>\n\n<p>That's it, you now have a button in your MainWindow.xaml which when clicked uses the OpenCustomerInformationEntry method defined in MainWindow.xaml.cs, which in turn makes an instance of your CustomerInformationEntry window and displays it.</p>\n\n<p>If you would still rather stick with the Forms approach, you can do that by using <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.integration.windowsformshost.aspx\" rel=\"nofollow\">WindowsFormsHost</a>, usage of which is <a href=\"https://www.simple-talk.com/dotnet/.net-framework/mixing-wpf-and-winforms/\" rel=\"nofollow\">discussed here</a>.</p>\n\n<p>Best Regards,\nJC</p>\n"}], "owner": {"reputation": 191, "user_id": 6442670, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/K3eKv.jpg?s=128&g=1", "display_name": "Chrisetiquette", "link": "https://stackoverflow.com/users/6442670/chrisetiquette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1441, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465558134, "creation_date": 1465423008, "last_edit_date": 1465486564, "question_id": 37713651, "link": "https://stackoverflow.com/questions/37713651/how-do-i-tab-between-text-boxes-on-a-form-in-c", "title": "How do I tab between text boxes on a form in C#?", "body": "<p>I'm trying to get the functionality to tab to the next text box once the user has input their data for the previous text box. For example, once they filled in a company name I'd like to be able to hit <kbd>Tab</kbd> and set the focus on the next text box \"Job Name\". Is this done in the code or the form properties?</p>\n\n<p>Here is some of my code. I'm unsure how to nest a <code>KeyEventsArgs</code> within these, which is how I've seen others set the focus to the next text boxes using the <code>KeyPress</code> function.</p>\n\n<pre><code>private void textBox1_TextChanged(object sender, EventArgs e)\n{\n    CompanyName = textBox1.Text;\n    textBox1.AcceptsTab = true;\n}\n\nprivate void textBox2_TextChanged(object sender, EventArgs e)\n{\n    JobName = textBox2.Text;\n    textBox2.AcceptsTab = true;\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/drnHc.jpg\" alt=\"\"></p>\n"}, {"tags": ["c#", "asp.net", "entity-framework"], "comments": [{"owner": {"reputation": 457, "user_id": 2212697, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4aeb4cb5316ae7bd301893eee6fa250?s=128&d=identicon&r=PG", "display_name": "Pedro Fernandes Filho", "link": "https://stackoverflow.com/users/2212697/pedro-fernandes-filho"}, "edited": false, "score": 0, "creation_date": 1465423180, "post_id": 37713647, "comment_id": 62900917, "body": "You have a &quot;Class&quot; and &quot;Namespace&quot; with the same name?"}, {"owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "reply_to_user": {"reputation": 457, "user_id": 2212697, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4aeb4cb5316ae7bd301893eee6fa250?s=128&d=identicon&r=PG", "display_name": "Pedro Fernandes Filho", "link": "https://stackoverflow.com/users/2212697/pedro-fernandes-filho"}, "edited": false, "score": 0, "creation_date": 1465423487, "post_id": 37713647, "comment_id": 62901040, "body": "Apparently yes. Like I have a video folder that has all the classes inside it with the name space &quot;video&quot; and I have the same model class with the name &quot;video&quot;. Asp.net is not letting me have both."}, {"owner": {"reputation": 457, "user_id": 2212697, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4aeb4cb5316ae7bd301893eee6fa250?s=128&d=identicon&r=PG", "display_name": "Pedro Fernandes Filho", "link": "https://stackoverflow.com/users/2212697/pedro-fernandes-filho"}, "edited": false, "score": 0, "creation_date": 1465423554, "post_id": 37713647, "comment_id": 62901072, "body": "You can show the line that the error occurs? And the error description!?"}, {"owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "reply_to_user": {"reputation": 457, "user_id": 2212697, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4aeb4cb5316ae7bd301893eee6fa250?s=128&d=identicon&r=PG", "display_name": "Pedro Fernandes Filho", "link": "https://stackoverflow.com/users/2212697/pedro-fernandes-filho"}, "edited": false, "score": 0, "creation_date": 1465423802, "post_id": 37713647, "comment_id": 62901168, "body": "I just recompiled the code and the errors disappeared :/"}], "owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465422981, "creation_date": 1465422981, "question_id": 37713647, "link": "https://stackoverflow.com/questions/37713647/how-to-resolve-namespace-and-data-models-name-collisions", "title": "How to resolve Namespace and data models name collisions?", "body": "<p>I have a project built with ASP.NET webforms that used ADO.NET to communicate with the database. I recently transformed all the model classes using Entity Data Model Wizard. It created the model classes with same table names as in the database. Now I want to create API controllers but the problem is that I can't use these model classes as I have the namespaces with the same name as the tables so I get an error when I compile the code. Is there a way I can resolve this?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 1555, "user_id": 4959722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AQWZF9OmEs4/AAAAAAAAAAI/AAAAAAAAAGE/wvp_7UFCeZs/photo.jpg?sz=128", "display_name": "James Buck", "link": "https://stackoverflow.com/users/4959722/james-buck"}, "edited": false, "score": 0, "creation_date": 1465424127, "post_id": 37713590, "comment_id": 62901283, "body": "You could use <code>TempData</code>."}, {"owner": {"reputation": 507, "user_id": 1493547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa3c05b9ccfd8f211c09c6d7615c673?s=128&d=identicon&r=PG", "display_name": "repeatdomiau", "link": "https://stackoverflow.com/users/1493547/repeatdomiau"}, "edited": false, "score": 1, "creation_date": 1465541651, "post_id": 37713590, "comment_id": 62953757, "body": "Everytime an MVC action process a request, a new instance of the controller is created. The object you had when login was called is not the same you have when ForgotPassword is called. it&#180;s stateless as http. If you put a constructor method with a breakpoint in your controller and debug you can see it will be called everytime."}], "answers": [{"tags": [], "owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1465422999, "creation_date": 1465422999, "answer_id": 37713650, "question_id": 37713590, "link": "https://stackoverflow.com/questions/37713590/does-going-from-one-action-method-to-the-other-action-method-clear-class-variabl/37713650#37713650", "title": "Does going from one Action method to the other action method clear class variables?", "body": "<p><code>ASP.NET MVC</code> was designed to return back to a cleaner, more straightforward web world built on HTTP, which is stateless, meaning that there is no \"memory\" of what has previously occurred unless you specifically use a technique that ensures otherwise. </p>\n\n<p>As a result, whatever state you set via one ActionResult will no longer be the same state that exists when another ActionResult is invoked.  </p>\n\n<p>How do you \"fix\" this?  You have a variety of options, depending on what your needs are:</p>\n\n<ul>\n<li>Render the value to the client and post the value back to your second ActionResult method.</li>\n<li>Store the value as a header and check that header.</li>\n<li>Store the value in a cookie and check the cookie.</li>\n<li>Store the value in session.</li>\n<li>Store the value in a database.</li>\n<li>Store the value in a static dictionary.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2372, "user_id": 1553510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06dc19d698f7ea0a429558bacc595a87?s=128&d=identicon&r=PG", "display_name": "F0r3v3r-A-N00b", "link": "https://stackoverflow.com/users/1553510/f0r3v3r-a-n00b"}, "is_accepted": false, "score": 0, "last_activity_date": 1465437253, "creation_date": 1465437253, "answer_id": 37715665, "question_id": 37713590, "link": "https://stackoverflow.com/questions/37713590/does-going-from-one-action-method-to-the-other-action-method-clear-class-variabl/37715665#37715665", "title": "Does going from one Action method to the other action method clear class variables?", "body": "<p>what if you store forgotpasswordmethod in Viewbag like</p>\n\n<pre><code> public ActionResult Login()\n{\n    LoginModel model = this.LoginManager.LoadLoginPageData();\n    Viewbag.ForgotPasswordMethod = model.ForgotPasswordMethod;\n    return View(model);\n}    \n</code></pre>\n\n<p>then in the link of your page you can pass the value from the ViewBag</p>\n\n<pre><code>&lt;a href=@Url.Action(\"ForgotPassword\", \"Name of your Controller\", new { methodName = ViewBag.ForgotPasswordMethod })&gt;Forgot Password&lt;/a&gt;\n</code></pre>\n\n<p>Change your forgotpassword to</p>\n\n<pre><code>public ActionResult ForgotPassword(string methodName)\n{\n    if (!string.IsNullOrWhiteSpace(methodName) &amp;&amp; methodName.Trim().ToUpper() == \"TASKS\")\n    return View();\n\n    return null;  //todo change later.\n}\n</code></pre>\n"}], "owner": {"reputation": 24115, "user_id": 320724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QjpKD.jpg?s=128&g=1", "display_name": "Bohn", "link": "https://stackoverflow.com/users/320724/bohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465437253, "creation_date": 1465422756, "question_id": 37713590, "link": "https://stackoverflow.com/questions/37713590/does-going-from-one-action-method-to-the-other-action-method-clear-class-variabl", "title": "Does going from one Action method to the other action method clear class variables?", "body": "<p>So in the same controller I have a Login Action method like this:</p>\n\n<pre><code>    public ActionResult Login()\n    {\n\n        LoginModel model = this.LoginManager.LoadLoginPageData();\n        this.ForgotPasswordMethod = model.ForgotPasswordMethod;\n        return View(model);\n    }\n</code></pre>\n\n<p>Notice I set a variable there:  <code>ForgotPasswordMethod</code> </p>\n\n<p>So now when there on that page if they click on a link, it call another action result in the same controller class like this:</p>\n\n<pre><code>public ActionResult ForgotPassword()\n{\n    if (!string.IsNullOrWhiteSpace(this.ForgotPasswordMethod) &amp;&amp; this.ForgotPasswordMethod.Trim().ToUpper() == \"TASKS\")\n        return View();\n\n    return null;  //todo change later.\n}\n</code></pre>\n\n<p>Notice I tried to read the value of ForgotPasswordMethod , but it was <code>NULL</code> but it is NOT null when I am in the <code>Login() method.</code> So what should I do? </p>\n"}, {"tags": ["c#", "webforms"], "comments": [{"owner": {"reputation": 504, "user_id": 6175121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6_7zEEoqzHI/AAAAAAAAAAI/AAAAAAAAAMo/pSnvmK-6EoA/photo.jpg?sz=128", "display_name": "Mikes3ds", "link": "https://stackoverflow.com/users/6175121/mikes3ds"}, "edited": false, "score": 0, "creation_date": 1465423751, "post_id": 37713550, "comment_id": 62901148, "body": "Interesting does  &lt;input id=&quot;TEST&quot; type=&quot;submit&quot; runat=server /&gt; have the same effect?  Also what does &lt;asp:TextBox ID=&quot;Test&quot; runat=&quot;server&quot; &gt; &lt;/asp:TextBox&gt; do?"}, {"owner": {"reputation": 127, "user_id": 865241, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9250f89edf959ade82e913535cbbba82?s=128&d=identicon&r=PG", "display_name": "Amit Pore", "link": "https://stackoverflow.com/users/865241/amit-pore"}, "edited": false, "score": 0, "creation_date": 1465429046, "post_id": 37713550, "comment_id": 62902827, "body": "Check the designer if the id is created there , if not add manually"}, {"owner": {"reputation": 8796, "user_id": 1429080, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/619d1c20782733bb7c5f580844821362?s=128&d=identicon&r=PG", "display_name": "user1429080", "link": "https://stackoverflow.com/users/1429080/user1429080"}, "edited": false, "score": 0, "creation_date": 1465454461, "post_id": 37713550, "comment_id": 62909790, "body": "Could be the same issue that was in this <a href=\"http://stackoverflow.com/q/25024370/1429080\">question</a>. See also this <a href=\"http://stackoverflow.com/a/25025131/1429080\">answer</a> to the same question."}, {"owner": {"reputation": 844, "user_id": 1218941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eaa311e244a871d279ef986568dc07d?s=128&d=identicon&r=PG", "display_name": "cmd.prompt", "link": "https://stackoverflow.com/users/1218941/cmd-prompt"}, "edited": false, "score": 0, "creation_date": 1465506922, "post_id": 37713550, "comment_id": 62943830, "body": "Is your input in any child controls like a <code>&lt;asp:Repeater&gt;</code> ?"}, {"owner": {"reputation": 6095, "user_id": 475709, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/cpebm.jpg?s=128&g=1", "display_name": "Bat_Programmer", "link": "https://stackoverflow.com/users/475709/bat-programmer"}, "edited": false, "score": 0, "creation_date": 1465514062, "post_id": 37713550, "comment_id": 62946215, "body": "Is your code-behind class inheriting the right page?"}], "owner": {"reputation": 11201, "user_id": 40411, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/751c02390a5ff96c759e6a386180616b?s=128&d=identicon&r=PG", "display_name": "J. Polfer", "link": "https://stackoverflow.com/users/40411/j-polfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465422576, "creation_date": 1465422576, "question_id": 37713550, "link": "https://stackoverflow.com/questions/37713550/webforms-cannot-find-html-input-runat-server-item-from-code-behind", "title": "WebForms: Cannot find html input runat=server item from code behind", "body": "<p>I have an <code>input</code> with the <code>runat=\"server\"</code> attribute set:</p>\n\n<pre><code>&lt;div class=\"report-heading\"&gt;\n    &lt;h2&gt;Time Report&lt;/h2&gt;\n    &lt;input type=\"date\" id=\"dtbRunOnDate\" runat=\"server\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And use it in the code behind:</p>\n\n<pre><code>    if(!IsPostBack)\n    {\n        if (dtbRunOnDate.Value != \"\")\n        {\n            dtbRunOnDate.Value = DateTime.Today.ToString(\"mm/dd/yyyy\");\n        }\n    }\n</code></pre>\n\n<p>Yet the compiler is saying it cannot be referenced in the code behind:</p>\n\n<pre><code>Error   CS0103  The name 'dtbRunOnDate' does not exist in the current context\n</code></pre>\n\n<p>Is this because I'm using an ASP.NET website instead of a web application?  I'm at a loss as to what to do here.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "office-addins"], "comments": [{"owner": {"reputation": 132, "user_id": 3830228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NKvJV.png?s=128&g=1", "display_name": "Allan Smith", "link": "https://stackoverflow.com/users/3830228/allan-smith"}, "edited": false, "score": 0, "creation_date": 1472863623, "post_id": 37713492, "comment_id": 65938551, "body": "Hit the same issue.  Was able to manually insert the reference but the web app doesn&#39;t start when debugging the add-in<code>&lt;ItemGroup&gt;     &lt;ProjectReference Include=&quot;..\\Web.xproj&quot;&gt;       &lt;Project&gt;{36f3f6de-f9bc-4798-9e6f-aaaaaaaaaaaa}&lt;&#47;Project&gt;       &lt;Name&gt;Web&lt;&#47;Name&gt;       &lt;Private&gt;True&lt;&#47;Private&gt;       &lt;RoleType&gt;Web&lt;&#47;RoleType&gt;       &lt;OutputItemType&gt;SharePointWebProjectOutput&lt;&#47;OutputItemType&gt;       &lt;RoleName&gt;Web&lt;&#47;RoleName&gt;       &lt;ReferenceOutputAssembly&gt;False&lt;&#47;ReferenceOutputAssembly&gt;     &lt;&#47;ProjectReference&gt;   &lt;&#47;ItemGroup&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7294889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99b71a5e67344046d94c7ed3283e775c?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique Fortier", "link": "https://stackoverflow.com/users/7294889/dominique-fortier"}, "is_accepted": false, "score": 0, "last_activity_date": 1482031154, "creation_date": 1482031154, "answer_id": 41205160, "question_id": 37713492, "link": "https://stackoverflow.com/questions/37713492/office-addin-web-project-dropdown-does-not-show-asp-net-core-projects/41205160#41205160", "title": "office addin web project dropdown does not show asp.net core projects", "body": "<p>Allan's solution worked for me as well.  And by configuring the solution startup projects to multiple startup and marking both the ASP project and the addin project to Start, VS starts both.</p>\n\n<p>In my case, the ASP project is actually a micro service (ASP NET CORE) of service fabric and it still works.  I have not figured out how to make ~remoteUrl work though,  so I hard coded the URL</p>\n"}], "owner": {"reputation": 1, "user_id": 6442573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249441a38f58a5a99b413ca20d3d7d41?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Dobler", "link": "https://stackoverflow.com/users/6442573/mike-dobler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482031154, "creation_date": 1465422351, "question_id": 37713492, "link": "https://stackoverflow.com/questions/37713492/office-addin-web-project-dropdown-does-not-show-asp-net-core-projects", "title": "office addin web project dropdown does not show asp.net core projects", "body": "<p>I was already able to successfully switch the default Web app that comes with the office addin templates with a asp.net MVC 5 solution. But after updating to Visual Studio 2015 SP2 and updating the office tools and installing asp.net core I wanted to try to switch it out with a core asp.net app. </p>\n\n<p>For one thing the Manifest Designer seems to be no longer available.But in the new properties of the addin project you can now select the web app that is linked to the addin. It only shows web apps based on .net 4.5 not any of the asp.net core apps.</p>\n\n<p>Do add-ins simply not work with asp.net core or is there a missing item I need to add to the core project for it to be picked up by the addin?</p>\n"}, {"tags": ["c#", "wpf", "task", "deadlock"], "answers": [{"comments": [{"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465425509, "post_id": 37713562, "comment_id": 62901728, "body": "This doesn&#39;t compile: <code>firstPhaseTask = await TaskFactor.StartNew(...)</code>. Also, I the second phase to start only after the first phase is complete, otherwise the objects will be in an inconsistend state. This is why I need to poll if phase one is complete or not."}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "reply_to_user": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465441524, "post_id": 37713562, "comment_id": 62905532, "body": "No you don&#39;t need to poll if you use closures, it doesn&#39;t compile because you need to change the code to look similar to my suggestion.  If you need a result of a query, return the results as shown in suggestion.  When compiler hits an await state this thread is suspended automatically until the resumption which sets the var results.  Then you are on main thread and the same thing happens when 2nd await is hit if you have a &quot;Closure&quot;...."}], "tags": [], "owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "is_accepted": false, "score": 1, "last_activity_date": 1465422625, "creation_date": 1465422625, "answer_id": 37713562, "question_id": 37713488, "link": "https://stackoverflow.com/questions/37713488/is-it-possible-to-poll-a-task-for-completion/37713562#37713562", "title": "Is it possible to poll a Task for completion?", "body": "<p>You want to \"close\" over the Task.Run, by using await operator. That way you get to tell user \"Awaiting...\" then when task completes you are on Gui thread automatically.  If you want progress reports I think this is done via the Progress class but can't remember.  Anyway this should get you close...</p>\n\n<pre><code>private async void button_Click(object sender, RoutedEventArgs e)\n{\n    progressTxtBox.AppendText(\"Entering button click event handler\\n\");\n    beginFirstPhase = DateTime.Now;\n\n    dispatcherTimer.Tick += DispatcherTimer_Tick_FirstPhase;\n    dispatcherTimer.Interval = new TimeSpan(0, 0, 5);\n    dispatcherTimer.Start();\n\n    progressTxtBox.AppendText(\"Begining First Phase now\\n\");\n   progressTxtBox.AppendText(\"Awaiting First Phase completion...\\n\");\n    firstPhaseTask =await  Task.Factory.StartNew(() =&gt;\n        /*this is basically a big linq query over a huge collection of strings\n        (58 thousand+ strings). the result of such query is stored in the field named\n        collection, above*/), TaskCreationOptions.PreferFairness);\n    progressTxtBox.AppendText(\"First Phase complete...\\n\");\n\n}\n</code></pre>\n\n<p>I'd also suggest changing the results to be...</p>\n\n<pre><code> var results =await  Task&lt;IEnumerable&lt;OfType&gt;&gt;.Factory.StartNew(() =&gt;{\n          return context.where(p=&gt;p.field = fieldvalue);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465424297, "post_id": 37713593, "comment_id": 62901343, "body": "So this means I can&#39;t periodically poll a <code>Task</code> for completion? Because second phase can&#39;t start if first phase isn&#39;t complete"}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465441804, "post_id": 37713593, "comment_id": 62905588, "body": "You can poll but why?  There&#39;s no reason for it unless you want current progress."}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "reply_to_user": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465465933, "post_id": 37713593, "comment_id": 62916770, "body": "@JohnPeters I also want current progress. And if I can poll, how do I do it? checking Task.IsCompleted causes a deadlock apparently."}, {"owner": {"reputation": 10815, "user_id": 8368, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/520e7086639935a32fbb6255322b40b9?s=128&d=identicon&r=PG", "display_name": "moswald", "link": "https://stackoverflow.com/users/8368/moswald"}, "reply_to_user": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465474913, "post_id": 37713593, "comment_id": 62922903, "body": "@FinnTheHuman You might want current progress, but that makes no sense in the context of a <code>Task</code>. Your <code>Task</code> object has either &quot;I am complete&quot; or &quot;I am not complete&quot; status. So, all you need to do is <code>await</code> it. If you want some sort of progress, whatever it is that&#39;s running inside the <code>Task</code> should emit events asynchronously (through <code>IObservable</code> or <code>IProgress</code> perhaps) that you can deal with."}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465566975, "post_id": 37713593, "comment_id": 62969768, "body": "@moswald so why cant I ask the Task &quot;hey, you complete yet?&quot; every 5 seconds? Why does that cause a deadlock? Task.IsCompleted has no purpose but to block the thread that invokes it. All I want is this: a way to periodically poll a task to see if it has ended it&#39;s execution, without blocking the caller thread. I don&#39;t want to await. I want to do it like this. Is this possible? Nevermind if await is better on most situations. The question is now &quot;how it&#39;s the best way to do this&quot; is &quot;is it possible to do this using that design pattern&quot;."}, {"owner": {"reputation": 10815, "user_id": 8368, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/520e7086639935a32fbb6255322b40b9?s=128&d=identicon&r=PG", "display_name": "moswald", "link": "https://stackoverflow.com/users/8368/moswald"}, "edited": false, "score": 0, "creation_date": 1465578558, "post_id": 37713593, "comment_id": 62976939, "body": "I&#39;m not exactly sure how to answer this. <code>await</code> doesn&#39;t block the caller thread, that&#39;s what it&#39;s for. As for <code>Task.IsCompleted</code>, that doesn&#39;t cause the calling thread to block, either. You&#39;ve got a deadlock somewhere."}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465604562, "post_id": 37713593, "comment_id": 62986887, "body": "Yes, I&#39;m aware I have a deadlock somewhere, but I can&#39;t figure out where and why. I have a different thread polling IsCompleted. I tried to surround the if statement with a <code>lock</code> and still got the same result. It seems to be a very misterious issue."}], "tags": [], "owner": {"reputation": 10815, "user_id": 8368, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/520e7086639935a32fbb6255322b40b9?s=128&d=identicon&r=PG", "display_name": "moswald", "link": "https://stackoverflow.com/users/8368/moswald"}, "is_accepted": false, "score": 0, "last_activity_date": 1465474968, "last_edit_date": 1465474968, "creation_date": 1465422766, "answer_id": 37713593, "question_id": 37713488, "link": "https://stackoverflow.com/questions/37713488/is-it-possible-to-poll-a-task-for-completion/37713593#37713593", "title": "Is it possible to poll a Task for completion?", "body": "<p>Is there a reason you're not using <code>async</code> and <code>await</code>?</p>\n\n<pre><code>await Task.Factory.StartNew(() =&gt;\n            /*this is basically a big linq query over a huge collection of strings\n            (58 thousand+ strings). the result of such query is stored in the field named\n            collection, above*/), TaskCreationOptions.PreferFairness);\n\n// StartSecondPhase won't get called until the Task returned by Task.Factory.StartNew is complete\nawait StartSecondPhase();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465426984, "post_id": 37714189, "comment_id": 62902201, "body": "I don&#39;t know what BusyService is. can you send me a link, please?"}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465441665, "post_id": 37714189, "comment_id": 62905564, "body": "This suggestion uses continuations which will block until done.  Right?  Use the await keyword as suggested below."}, {"owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "reply_to_user": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465463592, "post_id": 37714189, "comment_id": 62915185, "body": "@FinnTheHuman I updated my answer with a full working sample of what I meant for busy service. I wrote that one on the go but you can improve it or just find another on the web. Unfortunately I&#39;m not able to give you a link or the one I use at work."}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465566669, "post_id": 37714189, "comment_id": 62969561, "body": "@Christopher Because this uses WindowsForms I don&#39;t know how to implement it on my WPF application."}, {"owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "reply_to_user": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465566919, "post_id": 37714189, "comment_id": 62969741, "body": "@FinnTheHuman Are you also using prism? Anyway I&#39;ll post a wpf version when I&#39;ll have some time"}, {"owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "reply_to_user": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465567218, "post_id": 37714189, "comment_id": 62969927, "body": "@FinnTheHuman anyway if you try to replicate the sample in wpf just adding the System.ComponentModel using should make it work. Did you tried that?"}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "edited": false, "score": 0, "creation_date": 1465567795, "post_id": 37714189, "comment_id": 62970299, "body": "I don&#39;t know what Prism is, sorry."}], "tags": [], "owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1465463380, "last_edit_date": 1592644375, "creation_date": 1465426149, "answer_id": 37714189, "question_id": 37713488, "link": "https://stackoverflow.com/questions/37713488/is-it-possible-to-poll-a-task-for-completion/37714189#37714189", "title": "Is it possible to poll a Task for completion?", "body": "<p>Personally, I would approach this way:\nFind a show busy animation service that you like, google is your friend.</p>\n<p>Invoke the busy animation (Tell the user to wait, you may find one that let you update the current state as well)</p>\n<p>run the operation like already suggested but with minimum modification like this:</p>\n<pre><code>this.BusyService.ShowBusy();\nTask t = Task.Factory.StartNew(() =&gt;\n        PhaseOne();\n        PhaseTwo();\n), TaskCreationOptions.PreferFairness);\nt.ContinueWith(()=&gt;{ this.BusyService.HideBusy(); });\n</code></pre>\n<p>I'm talking about a service for the showbusy because I associate it with Prism and WPF but also a simple WinForm can do the trick and there's sample example even here on SO I think.</p>\n<p>What will happen: UI is blocked but not freezed, user will know he has to wait, on the task callback you will release the UI.</p>\n<p>Hope this help.</p>\n<p>EDIT:\nLet's approach this a bit differently, here's a demo for WinForms of the Busy indicator I was talking about:\n<a href=\"https://drive.google.com/open?id=0BxLb2LI1mZuPTUJEc2NSMjdZVjA\" rel=\"nofollow noreferrer\">BusySample</a></p>\n<p>There's a BusyForm which is just a modeless form with a multiline textbox where you're gonna write your update text.\nPlus there's the main form who use it like this:</p>\n<pre><code>         private BackgroundWorker worker;\n    private BusyForm busyForm = new BusyForm();\n    private string progressText;\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        progressText = &quot;Entering button click event handler&quot; + Environment.NewLine;\n        busyForm.SetText(progressText);\n        worker = new BackgroundWorker();\n        worker.DoWork += worker_DoWork;\n        worker.RunWorkerCompleted += worker_RunWorkerCompleted;\n        worker.RunWorkerAsync();\n        busyForm.ShowDialog();\n    }\n\n    private void worker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        busyForm.Hide();\n    }\n\n    private void worker_DoWork(object sender, DoWorkEventArgs e)\n    {\n        progressText += &quot;Begining First Phase now&quot; + Environment.NewLine;\n        this.Invoke((MethodInvoker)delegate\n        {\n            busyForm.SetText(progressText);\n        });\n        PhaseOne();\n        progressText += &quot;First Phase complete...&quot; + Environment.NewLine + &quot;Begining Second Phase now&quot; + Environment.NewLine;\n        this.Invoke((MethodInvoker)delegate\n        {\n            busyForm.SetText(progressText);\n        });\n        PhaseTwo();\n        progressText += &quot;Execution Complete&quot;;\n        this.Invoke((MethodInvoker)delegate\n        {\n            busyForm.SetText(progressText);\n        });\n        System.Threading.Thread.Sleep(2000); //Just adding a delay to let you see this is shown\n    }\n\n    private void PhaseOne()\n    {\n        System.Threading.Thread.Sleep(2000);\n    }\n\n    private void PhaseTwo()\n    {\n        System.Threading.Thread.Sleep(2000);\n    }\n</code></pre>\n<p>BackgroundWorker is taking care of all stuff and it's running on a separate thread, anyway you need to update the text using:</p>\n<pre><code>this.Invoke((MethodInvoker)delegate\n    {\n        busyForm.SetText(progressText);\n    });\n</code></pre>\n<p>Because you need to update UI from the UI thread. I wrote the sample in like 10 minutes and I didn't tested it much but that should give you an idea.</p>\n"}], "owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1570831790, "creation_date": 1465422337, "last_edit_date": 1570831790, "question_id": 37713488, "link": "https://stackoverflow.com/questions/37713488/is-it-possible-to-poll-a-task-for-completion", "title": "Is it possible to poll a Task for completion?", "body": "<p>I have a long running task and I don't want to block the UI, so I got a <code>DispatcherTimer</code> and I use it's tick event to check the task property <code>IsCompleted</code> but this causes some sort of deadlock because my application stops responding</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    DateTime beginFirstPhase;\n    DateTime beginSecondPhase;\n    DispatcherTimer dispatcherTimer = new DispatcherTimer();\n    IEnumerable&lt;string&gt; collection;\n    Task firstPhaseTask;\n    Task secondPhaseTask;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void button_Click(object sender, RoutedEventArgs e)\n    {\n        progressTxtBox.AppendText(\"Entering button click event handler\\n\");\n        beginFirstPhase = DateTime.Now;\n\n        dispatcherTimer.Tick += DispatcherTimer_Tick_FirstPhase;\n        dispatcherTimer.Interval = new TimeSpan(0, 0, 5);\n        dispatcherTimer.Start();\n\n        progressTxtBox.AppendText(\"Begining First Phase now\\n\");\n\n        firstPhaseTask = Task.Factory.StartNew(() =&gt;\n            /*this is basically a big linq query over a huge collection of strings\n            (58 thousand+ strings). the result of such query is stored in the field named\n            collection, above*/), TaskCreationOptions.PreferFairness);\n        progressTxtBox.AppendText(\"Awaiting First Phase completion...\\n\");\n    }\n\n    private void DispatcherTimer_Tick_FirstPhase(object sender, EventArgs e)\n    {\n        TimeSpan span = DateTime.Now - beginFirstPhase;\n        //not even the line bellow is executed.\n        statusTextBlock.Text = $\"Running: {span.ToString()}\";\n\n        if (firstPhaseTask.IsCompleted)\n        {\n            dispatcherTimer.Stop();\n            progressTxtBox.AppendText($\"First Phase completed in {span.ToString()}\\n\");\n            secondPhase();\n        }\n    }\n\n    private void secondPhase()\n    {\n        beginSecondPhase = DateTime.Now;\n\n        progressTxtBox.AppendText(\"Begining Second Phase now\\n\"));\n\n        dispatcherTimer.Tick -= DispatcherTimer_Tick_FirstPhase;\n        dispatcherTimer.Tick += DispatcherTimer_Tick_SecondPhase;\n        dispatcherTimer.Interval = new TimeSpan(0, 0, 5);\n        dispatcherTimer.Start();\n\n        int counter = 0;\n        secondPhaseTask = Task.Factory.StartNew(() =&gt;\n        {\n            foreach (string str in collection)\n            {\n                Dispatcher.Invoke(() =&gt; progressTxtBox.AppendText($\"iteration &lt;{counter++}&gt;\\n\"));\n                IEnumerable&lt;Tuple&lt;string, string&gt; queryResult; // = another linq query\n                foreach (var tuple in queryResult)\n                {\n                    Dispatcher.Invoke(() =&gt; outputListView.Items.Add($\"{tuple.Item1} {tuple.Item2} {str}\"));\n                }\n            }\n        }, TaskCreationOptions.PreferFairness);\n    }\n\n    private void DispatcherTimer_Tick_SecondPhase(object sender, EventArgs e)\n    {\n        TimeSpan span = DateTime.Now - beginSecondPhase;\n        statusTextBlock.Text = $\"Running: {span.ToString()}\";\n        if (secondPhaseTask.IsCompleted)\n        {\n            dispatcherTimer.Stop();\n            progressTxtBox.AppendText($\"Second Phase completed in {span.ToString()}\\n\");\n            progressTxtBox.AppendText(\"Execution Complete\");\n        }\n    }\n}\n</code></pre>\n\n<p>What causes this to block? Does <code>Task.IsCompleted</code> blocks the caller's thread??\nIsn't it possible to poll a Task like this at all? if not, is there another option?</p>\n"}, {"tags": ["c#", "botframework"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6442475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6838c0c31ea0cc7e8105f1ad479a21?s=128&d=identicon&r=PG&f=1", "display_name": "wjvii", "link": "https://stackoverflow.com/users/6442475/wjvii"}, "edited": false, "score": 0, "creation_date": 1465589917, "post_id": 37724903, "comment_id": 62982465, "body": "ejadib, thank you very much for the suggestion. I gave it a try but when I run the example I get a ClosureCaptureException: &quot;anonymous method closures that capture the environment are not serializable, consider removing environment capture or using a reflection serialization surrogate: {instance}&quot;. Any thoughts on how I avoid this?"}], "tags": [], "owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "is_accepted": false, "score": 0, "last_activity_date": 1465472266, "creation_date": 1465472266, "answer_id": 37724903, "question_id": 37713328, "link": "https://stackoverflow.com/questions/37713328/using-json-to-create-formdialog/37724903#37724903", "title": "Using Json to Create FormDialog", "body": "<p>Instead of doing (using the AnnotatedSandwich code)</p>\n\n<pre><code>FormDialog.FromForm(SandwichOrder.BuildJsonForm)\n</code></pre>\n\n<p>You could just build the BuildFormDelegate and pass your parameters:</p>\n\n<pre><code>string schema = \"your jsonform schema\";\nBuildFormDelegate&lt;JObject&gt; formDelegate = () =&gt; SandwichOrder.BuildJsonForm(schema);\n\nFormDialog.FromForm(formDelegate)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3313, "user_id": 1019967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3v1H8.png?s=128&g=1", "display_name": "jim.taylor.1974", "link": "https://stackoverflow.com/users/1019967/jim-taylor-1974"}, "is_accepted": false, "score": 0, "last_activity_date": 1471319455, "creation_date": 1471319455, "answer_id": 38966388, "question_id": 37713328, "link": "https://stackoverflow.com/questions/37713328/using-json-to-create-formdialog/38966388#38966388", "title": "Using Json to Create FormDialog", "body": "<p>Create a custom form builder to which you pass your custom form json schema</p>\n\n<pre><code>[Serializable]\npublic class CustomFormBuilder\n{\n    public string FormJson { get; set; }\n\n    public CustomFormBuilder(string formJson)\n    {\n        FormJson = formJson;\n    }\n\n    public IForm&lt;JObject&gt; BuildJsonForm()\n    {\n        var schema = JObject.Parse(FormJson);\n\n        var form = new FormBuilderJson(schema)\n            .AddRemainingFields()\n            .Build();\n\n        return form;\n    }\n}\n</code></pre>\n\n<p>Use as follows (where formJson is your user specific form)</p>\n\n<pre><code>var formBuilder = new CustomFormBuilder(formJson);\n\nvar jsonFormDialog = FormDialog.FromForm(\n    formBuilder.BuildJsonForm,\n    FormOptions.PromptInStart);\n</code></pre>\n\n<p>This will avoid the ClosureCaptureExcept\u200c\u200bion.</p>\n"}], "owner": {"reputation": 71, "user_id": 6442475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6838c0c31ea0cc7e8105f1ad479a21?s=128&d=identicon&r=PG&f=1", "display_name": "wjvii", "link": "https://stackoverflow.com/users/6442475/wjvii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1479208376, "creation_date": 1465421685, "last_edit_date": 1479208376, "question_id": 37713328, "link": "https://stackoverflow.com/questions/37713328/using-json-to-create-formdialog", "title": "Using Json to Create FormDialog", "body": "<p>I am trying to build user and conversation specific dialogs using json schema and I have the LINQ queries generating the json perfectly. If I save a sample of the json to disk and use it like the annotatedsandwich example where it is read from a file on disk, it works great. The json is unique per user and conversation and instead of writing to disk I want to use it in memory. I do not see how to pass the json string to the BuildJsonForm method or alternately how to get the userID information in the BuildJsonForm method in order to generate the json based on the user and conversation. I know I am missing something that will let me do this but I am not finding it. Any assistance with how this should be done would be appreciated. Thank you.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "comments": [{"owner": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1465421823, "post_id": 37713316, "comment_id": 62900308, "body": "Have u tried <code>var imageId = this.Resources.GetIdentifier(&quot;Icon&quot;, null, null)</code> ?"}, {"owner": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1465422066, "post_id": 37713316, "comment_id": 62900421, "body": "Also see <a href=\"http://stackoverflow.com/questions/13038895/return-id-of-resource-if-i-know-name-of-resource\" title=\"return id of resource if i know name of resource\">stackoverflow.com/questions/13038895/&hellip;</a> post"}, {"owner": {"reputation": 61, "user_id": 1932197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c08672d395d79c018131b4ebee648?s=128&d=identicon&r=PG", "display_name": "f00f", "link": "https://stackoverflow.com/users/1932197/f00f"}, "reply_to_user": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1465511025, "post_id": 37713316, "comment_id": 62945319, "body": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K, that stack overflow you found worked for me. I did it with reflection and it works. I couldn&#39;t find it by myself, thanks! Thanks to it, I found out that &quot;i0011&quot; doesn&#39;t work, but &quot;Icon&quot; does.  I don&#39;t know why I can&#39;t add those items to the project."}], "owner": {"reputation": 61, "user_id": 1932197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c08672d395d79c018131b4ebee648?s=128&d=identicon&r=PG", "display_name": "f00f", "link": "https://stackoverflow.com/users/1932197/f00f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465421595, "creation_date": 1465421595, "question_id": 37713316, "link": "https://stackoverflow.com/questions/37713316/getting-a-resource-in-xamarin", "title": "Getting a resource in Xamarin", "body": "<p>I am trying to do something very basic: Have an <code>ImageButton</code> load an image and an associated sound and have that sound play.  I thought it would be easy to do,  but I'm having two problems (although it probably is two symptoms of the same problem).</p>\n\n<p>One, I don't see the images I added to the <code>Resources/drawable</code> folder show up in the <code>Resource.Drawable</code> class, all I see there is the default <code>Icon</code> from icon.png.  I added 20 images with a .jpg extension and set them to <code>AndroidResource</code> in properties.  They were numerically named, so I modified them to start with a letter (in case that was the problem), got rid of a dot in the name (in case that was the problem), and finally renamed them to .jpeg (in case that was it).  These don't seem to be reasons why they don't show up.</p>\n\n<p>The <code>Resource.Designer.cs</code> works, though, because the two mp3s I added to the <code>Resources/raw</code> do show up in the class.</p>\n\n<p>The other problem I have is that I can't tell how to load them programatically, so I can pass them to </p>\n\n<pre><code>imageButton.SetImageResource(imageId);\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code>var imageId = this.Resources.GetIdentifier(\"DigiBord.Sunete:i00011\", null, null);\n</code></pre>\n\n<p>which didn't work, but maybe the items were not in the project. So I tried again with an item I knew was in the project:</p>\n\n<pre><code>var imageId = this.Resources.GetIdentifier(\"DigiBord.Sunete:Icon\", null, null);\n</code></pre>\n\n<p>which again yielded 0. There must be a way to load them without knowing the <code>int</code> id of the item ahead of time.</p>\n"}, {"tags": ["c#", "sql-server", "exception-handling", "triggers", "sqlclr"], "comments": [{"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "edited": false, "score": 0, "creation_date": 1465422371, "post_id": 37713146, "comment_id": 62900545, "body": "&quot;<i>If an exception is thrown then none of them are successful.</i>&quot; Where is the exception happening? Are you sure that this code is being called in that case? I assume that this code is a Stored Procedure, so can you provide an example of how it is being called?"}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "reply_to_user": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "edited": false, "score": 0, "creation_date": 1465422573, "post_id": 37713146, "comment_id": 62900632, "body": "It is actually just a straight up insert statement.  The exception could be any exception but the particular exception I am testing against is the one I throw on my own, application exception error in SLX."}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "reply_to_user": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "edited": false, "score": 0, "creation_date": 1465422637, "post_id": 37713146, "comment_id": 62900658, "body": "I&#39;ve included the code that throws that exception which is based on the response I receive from a web service."}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465423069, "post_id": 37713146, "comment_id": 62900856, "body": "Single step into this code and tell us the exact line the exception happens."}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 0, "creation_date": 1465423143, "post_id": 37713146, "comment_id": 62900899, "body": "throw new ApplicationException(&quot;Error in SLX&quot;);"}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 0, "creation_date": 1465423163, "post_id": 37713146, "comment_id": 62900910, "body": "That line included in the code above"}, {"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "edited": false, "score": 0, "creation_date": 1465423555, "post_id": 37713146, "comment_id": 62901073, "body": "@AaronDavis Yes, I see that they are simple, parameterized <code>INSERT</code> statements. I was referring to the SQLCLR object that this code represents / is being called as. As a simple test, since you are already performing external-access functionality via the Web Service (hence no security changes are needed for the test), you can change the ConnectionString to be a regular / external connection (i.e. <code>&quot;Trusted_Connection=true; Database=xxxx&quot;</code> ) and see if those messages persist."}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 0, "creation_date": 1465437942, "post_id": 37713146, "comment_id": 62904869, "body": "I tried changing the connection string as you mentioned and I am getting an error when doing the .Open() now.  I edited my post above.  I also included the trigger that the SQL CLR procedure is being run from.  Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 1, "creation_date": 1465670782, "post_id": 37739131, "comment_id": 63003170, "body": "Thank you very much for the very detailed answer.  I think this is going to solve a lot of people&#39;s problems if they encounter this issue.  I am new to SQL CLR  and the only reason I am using it is because the main system is in Delphi and we are trying to move away from that.  I really appreciate this and have been able to solve the problem now.  Thanks again."}, {"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "reply_to_user": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 0, "creation_date": 1465792829, "post_id": 37739131, "comment_id": 63031058, "body": "@AaronDavis You are quite welcome. I also just added a link to the bottom regarding a series that I am writing about SQLCLR, if you are looking for more info :-)."}, {"owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "edited": false, "score": 1, "creation_date": 1465826516, "post_id": 37739131, "comment_id": 63049743, "body": "Great I will check it out.  Until I get plans in place to rewrite our Delphi software it looks like my teams will be using quite a bit of SQL clr so I guess I need to become more of an expert before I sick them on using it."}], "tags": [], "owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "is_accepted": true, "score": 1, "last_activity_date": 1465792773, "last_edit_date": 1465792773, "creation_date": 1465526559, "answer_id": 37739131, "question_id": 37713146, "link": "https://stackoverflow.com/questions/37713146/logging-not-persisting-when-exception-occurs-in-method-executed-in-a-trigger/37739131#37739131", "title": "Logging not Persisting When Exception Occurs in Method Executed in a Trigger", "body": "<p>The main issue here is that the SQLCLR Stored Procedure is being called from within a Trigger. A Trigger always runs within the context of a Transaction (to bind it to the DML operation that initiated the Trigger). A Trigger also implicitly sets <code>XACT_ABORT</code> to <code>ON</code> which cancels the Transaction if <em>any</em> error occurs. This is why none of the logging statements persist when an exception is thrown: the Transaction is auto-rolled-back, taking with it any changes made in the same Session, including the logging statements (because the <code>Context Connection</code> is the same Session), as well as the original DML statement.</p>\n\n<p>You have three fairly simple options, though they leave you with an overall architectural problem, or a not-so-difficult-but-a-little-more-work option that solves the immediate issue as well as the larger architectural problem. First, the three simple options:</p>\n\n<ol>\n<li><p>You can execute <code>SET XACT_ABORT OFF;</code> at the beginning of the Trigger. This will allow the <code>TRY ... CATCH</code> construct to work as you are expecting it to. HOWEVER, this also shifts the responsibility to you issue a <code>ROLLBACK</code> (usually in the <code>CATCH</code> block), unless you want the original DML statement to succeed no matter what, even if the Web Service calls and logging fail. Of course, if you issue a <code>ROLLBACK</code>, then none of the logging statements will persist, even if the Web Service still registers all of the calls that were successful, if any were.</p></li>\n<li><p>You can leave <code>SET XACT_ABORT</code> alone and use a regular / external connection to SQL Server. A regular connection will be an entirely separate Connection and Session, hence it can operate independantly with regards to the Transaction. Unlike the <code>SET XACT_ABORT OFF;</code> option, this would allow the Trigger to operate \"normally\" (i.e. any error would roll-back any changes made natively in the Trigger as well as the original DML statement) while still allowing the logging <code>INSERT</code> statements to persist (since they were made outside of the local Transaction).</p>\n\n<p>You are already calling a Web Service so the Assembly already has the necessary permissions to do this without making any additional changes. You just need to use a proper <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.connectionstring.aspx\" rel=\"nofollow\">connection string</a> (there are a few errors in your syntax), probably something along the lines of:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>connectionString = @\"Trusted_Connection=True; Server=(local)\\AARONSQLSERVER; Database=Demo409; Enlist=False;\"; \n</code></pre>\n\n<p>The <code>\"Enlist=False;\"</code> part (scroll to the far right) is very important: without it you will continue to get the \"<em>Transaction context in use by another session</em>\" error.</p></li>\n<li><p>If you want to stick with the <code>Context Connection</code> (it is a little faster) and allow for any errors <em>outside of</em> the Web Service to roll-back the original DML statement <em>and</em> all logging statements, while ignoring errors from the Web Service, or even from the logging <code>INSERT</code> statements, then you can simply not re-throw the exception in the <code>catch</code> block of <code>CallInsertTruckService</code>. You could instead set a variable to indicate a return code. Since this is a Stored Procedure, it can return <code>SqlInt32</code> instead of <code>void</code>. Then you can get that value by declaring an <code>INT</code> variable and including it in the <code>EXEC</code> call as follows:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>EXEC @ReturnCode = dbo.SLX_CallInsertTruckService ...;\n</code></pre>\n\n<p>Just declare a variable at the top of <code>CallInsertTruckService</code> and initialize it to <code>0</code>. Then set it to some other value in the <code>catch</code> block. And at the end of the method, include a <code>return _ReturnCode;</code>.</p></li>\n</ol>\n\n<p>That being said, no matter which of those choices you pick, you are still left with two fairly large problems:</p>\n\n<ol>\n<li><p>The DML statement and its system-initiated Transaction are impeded by the Web Service calls. The Transaction will be left open for much longer than it should be, and this could at the very least increase blocking related to the <code>Vehicle</code> Table. While I am certainly an advocate of doing Web Service calls via SQLCLR, I would strongly recommend against doing so within a Trigger.</p></li>\n<li><p>If each <code>VehicleID</code> that is inserted should be passed over to the Web Service, then if there is an error in one Web Service call, the remaining <code>VehicleID</code>s will be skipped, and even if they aren't (option # 3 above would continue processing the rows in <code>@tmp</code>) then at the very least the one that just had the error won't ever be retried later.</p></li>\n</ol>\n\n<p>Hence the ideal approach, which solves these two rather important issues as well the initial logging issue, is to move to a disconnected asynchronous model. You can set up a queue table to hold the Vehile info to process based on each <code>INSERT</code>. The Trigger would do a simple:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO dbo.PushToSLXQueue (VehicleID, Code, VINNumber, LicPlateNo)\n  SELECT VehicleID, Code, VINNumber, LicPlateNo\n  FROM   INSERTED;\n</code></pre>\n\n<p>Then create a Stored Procedure that reads an item from the queue table, calls the Web Service, and if successful, then deletes that entry from the queue table. Schedule this Stored Procedure from a SQL Server Agent job to run every 10 minutes or something like that.</p>\n\n<p>If there are records that will never process, then you can add a <code>RetryCount</code> column to the queue table, default it to 0, and upon the Web Service getting an error, increment <code>RetryCount</code> instead of removing the row. Then you can update the \"get entry to process\" <code>SELECT</code> query to include <code>WHERE RetryCount &lt; 5</code> or whatever limit you want to set.</p>\n\n<hr>\n\n<p>There are a few issues here, with various levels of impact:</p>\n\n<ol>\n<li><p>Why is <code>id</code> a <code>BIGINT</code> in the T-SQL code yet a string in the C# code?</p></li>\n<li><p>Just FYI, the <code>WHILE (@counter &lt; @maxCounter)</code> loop is inefficient and error prone compared to using an actual <code>CURSOR</code>. I would get rid of the <code>@tmp</code> Table Variable and <code>@maxCounter</code>.</p>\n\n<p>At the very least change <code>SELECT @maxCounter = Count(*) FROM INSERTED GROUP BY VehicleID</code> to be just <code>SET @maxCounter = @@ROWCOUNT;</code> ;-). But swapping out for a real <code>CURSOR</code> would be best.</p></li>\n<li><p>If the <code>CallInsertTruckService(string id, string code, string vinNumber, string licPlateNo)</code> signature is the actual method decorated with <code>[SqlProcedure()]</code>, then you really should be using <code>SqlString</code> instead of <code>string</code>. Get the native <code>string</code> value from each parameter using the <code>.Value</code> property of the <code>SqlString</code> parameter. You can then set the proper size using the <code>[SqlFacet()]</code> attribute as follows:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[SqlFacet(MaxSize=24)] SqlString vinNumber\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>For more info on working with SQLCLR in general, please see the series that I am writing on this topic over at SQL Server Central: <a href=\"http://www.sqlservercentral.com/stairway/105855/\" rel=\"nofollow\">Stairway to SQLCLR</a> (free registration is required to read content on that site).</p>\n"}], "owner": {"reputation": 281, "user_id": 1465256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ab23a5ca8b976fae99567d017efd18b?s=128&d=identicon&r=PG", "display_name": "Aaron Davis", "link": "https://stackoverflow.com/users/1465256/aaron-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 37739131, "answer_count": 1, "score": 1, "last_activity_date": 1465792773, "creation_date": 1465420954, "last_edit_date": 1465526765, "question_id": 37713146, "link": "https://stackoverflow.com/questions/37713146/logging-not-persisting-when-exception-occurs-in-method-executed-in-a-trigger", "title": "Logging not Persisting When Exception Occurs in Method Executed in a Trigger", "body": "<p>I have been stuck all day on this issue and cannot seem to find anything online pointing me to what might be causing it.</p>\n\n<p>I have the below logging method in a Logger class and the below code calling the logger.  When no exception occurs all the log statements work perfectly, however when an exception occurs the log statements do not run at all (however they do run from the web service call).</p>\n\n<p>Logger Log Method:</p>\n\n<pre><code>    public static Guid WriteToSLXLog(string ascendId, string masterDataId, string masterDataType, int? status,\n        string request, string requestRecieved, Exception ex, bool isError)\n    {\n        var connection = ConfigurationManager.ConnectionStrings[\"AscendConnectionString\"];\n\n        string connectionString = \"context connection=true\";\n\n        // define INSERT query with parameters\n        var query =\n            \"INSERT INTO \" + AscendTable.SmartLogixLogDataTableName +\n            \" (LogID, LogDate, AscendId, MasterDataId, MasterDataType, Status, Details, Request, RequestRecieved, StackTrace, IsError) \" +\n            \"VALUES (@LogID, @LogDate, @AscendId, @MasterDataId, @MasterDataType, @Status, @Details, @Request, @RequestRecieved, @StackTrace, @IsError)\";\n\n        var logId = Guid.NewGuid();\n\n        using (var cn = new SqlConnection(connectionString))\n        {\n            if (!cn.State.Equals(ConnectionState.Open))\n            {\n                cn.Open();\n            }\n            // create command\n            using (var cmd = new SqlCommand(query, cn))\n            {\n                try\n                {\n                    // define parameters and their values\n                    cmd.Parameters.Add(\"@LogID\", SqlDbType.UniqueIdentifier).Value = logId;\n                    cmd.Parameters.Add(\"@LogDate\", SqlDbType.DateTime).Value = DateTime.Now;\n                    if (ascendId != null)\n                    {\n                        cmd.Parameters.Add(\"@AscendId\", SqlDbType.VarChar, 24).Value = ascendId;\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@AscendId\", SqlDbType.VarChar, 24).Value = DBNull.Value;\n                    }\n                    cmd.Parameters.Add(\"@MasterDataId\", SqlDbType.VarChar, 50).Value = masterDataId;\n                    cmd.Parameters.Add(\"@MasterDataType\", SqlDbType.VarChar, 50).Value = masterDataType;\n\n                    if (ex == null)\n                    {\n                        cmd.Parameters.Add(\"@Status\", SqlDbType.VarChar, 50).Value = status.ToString();\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@Status\", SqlDbType.VarChar, 50).Value = \"2\";\n                    }\n\n                    if (ex != null)\n                    {\n                        cmd.Parameters.Add(\"@Details\", SqlDbType.VarChar, -1).Value = ex.Message;\n                        if (ex.StackTrace != null)\n                        {\n                            cmd.Parameters.Add(\"@StackTrace\", SqlDbType.VarChar, -1).Value =\n                                ex.StackTrace;\n                        }\n                        else\n                        {\n                            cmd.Parameters.Add(\"@StackTrace\", SqlDbType.VarChar, -1).Value = DBNull.Value;\n                        }\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@Details\", SqlDbType.VarChar, -1).Value = \"Success\";\n                        cmd.Parameters.Add(\"@StackTrace\", SqlDbType.VarChar, -1).Value = DBNull.Value;\n                    }\n\n                    if (!string.IsNullOrEmpty(request))\n                    {\n                        cmd.Parameters.Add(\"@Request\", SqlDbType.VarChar, -1).Value = request;\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@Request\", SqlDbType.VarChar, -1).Value = DBNull.Value;\n                    }\n\n                    if (!string.IsNullOrEmpty(requestRecieved))\n                    {\n                        cmd.Parameters.Add(\"@RequestRecieved\", SqlDbType.VarChar, -1).Value = requestRecieved;\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@RequestRecieved\", SqlDbType.VarChar, -1).Value = DBNull.Value;\n                    }\n\n                    if (isError)\n                    {\n                        cmd.Parameters.Add(\"@IsError\", SqlDbType.Bit).Value = 1;\n                    }\n                    else\n                    {\n                        cmd.Parameters.Add(\"@IsError\", SqlDbType.Bit).Value = 0;\n                    }\n\n                    // open connection, execute INSERT, close connection\n                    cmd.ExecuteNonQuery();\n                }\n                catch (Exception e)\n                {\n                    // Do not want to throw an error if something goes wrong logging\n                }\n            }\n        }\n\n        return logId;\n    }\n</code></pre>\n\n<p>My Method where the logging issues occur:</p>\n\n<pre><code>public static void CallInsertTruckService(string id, string code, string vinNumber, string licPlateNo)\n    {\n        Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, 4, \"1\", \"\", null, false);\n        try\n        {\n            var truckList = new TruckList();\n            var truck = new Truck();\n\n            truck.TruckId = code;\n\n            if (!string.IsNullOrEmpty(vinNumber))\n            {\n                truck.VIN = vinNumber;\n            }\n            else\n            {\n                truck.VIN = \"\";\n            }\n\n            if (!string.IsNullOrEmpty(licPlateNo))\n            {\n                truck.Tag = licPlateNo;\n            }\n            else\n            {\n                truck.Tag = \"\";\n            }\n\n            if (!string.IsNullOrEmpty(code))\n            {\n                truck.BackOfficeTruckId = code;\n            }\n\n            truckList.Add(truck);\n\n            Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, 4, \"2\", \"\", null, false);\n\n            if (truckList.Any())\n            {\n                // Call SLX web service\n                using (var client = new WebClient())\n                {\n                    var uri = SmartLogixConstants.LocalSmartLogixIntUrl;\n\n\n                    uri += \"SmartLogixApi/PushTruck\";\n\n                    client.Headers.Clear();\n                    client.Headers.Add(\"content-type\", \"application/json\");\n                    client.Headers.Add(\"FirestreamSecretToken\", SmartLogixConstants.FirestreamSecretToken);\n\n                    var serialisedData = JsonConvert.SerializeObject(truckList, new JsonSerializerSettings\n                    {\n                        ReferenceLoopHandling = ReferenceLoopHandling.Serialize\n                    });\n\n                    // HTTP POST\n                    var response = client.UploadString(uri, serialisedData);\n\n                    var result = JsonConvert.DeserializeObject&lt;SmartLogixResponse&gt;(response);\n\n                    Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, 4, \"3\", \"\", null, false);\n\n                    if (result == null || result.ResponseStatus != 1)\n                    {\n                        // Something went wrong\n                        throw new ApplicationException(\"Error in SLX\");\n                    }\n\n                    Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, result.ResponseStatus, serialisedData,\n                        null, null, false);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, 4, \"4\", \"\", null, false);\n            throw;\n        }\n        finally\n        {\n            Logger.WriteToSLXLog(id, code, MasterDataType.TruckType, 4, \"5\", \"\", null, false);\n        }\n    }\n</code></pre>\n\n<p>As you can see I have added several log statements throughout the method.  All of these log statements except the one in the catch block are successful if no exception is thrown.  If an exception is thrown then none of them are successful.  For most of them the values are exactly the same whether or not there is an exception so I know its not an issue with the values being passed.  I am thinking something weird is happening that causes a rollback or something, but I am not using a transaction or anything here.  One last thing this DLL is being run through the SQL CLR which is why I am using \"context connection=true\" for my connection string.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Edit:</p>\n\n<p>I tried adding the following as my connection string but I get an exception when trying to .Open the connection now that says \"Transaction context in use by another session\".  I am thinking this has to do with me calling this SQL CLR procedure through a trigger.  The connection string I tried is </p>\n\n<pre><code> connectionString = \"Trusted_Connection=true;Data Source=(local)\\\\AARONSQLSERVER;Initial Catalog=Demo409;Integrated Security=True;\";  \n</code></pre>\n\n<p>Also here is the trigger:</p>\n\n<pre><code>CREATE TRIGGER [dbo].[PushToSLXOnVehicleInsert]\n   ON  [dbo].[Vehicle] AFTER INSERT\nAS \nBEGIN\n-- SET NOCOUNT ON added to prevent extra result sets from\n-- interfering with SELECT statements.\nSET NOCOUNT ON;\nDECLARE @returnValue int\nDECLARE @newLastModifiedDate datetime = null\nDECLARE @currentId bigint = null\nDECLARE @counter int = 0;\nDECLARE @maxCounter int\nDECLARE @currentCode varchar(24) = null\nDECLARE @currentVinNumber varchar(24)\nDECLARE @currentLicPlateNo varchar(30)\ndeclare @tmp table\n(\n  id int not null\n  primary key(id)\n)\n\ninsert @tmp\nselect VehicleID from INSERTED\n\nSELECT @maxCounter = Count(*) FROM INSERTED GROUP BY VehicleID\n\nBEGIN TRY\nWHILE (@counter &lt; @maxCounter)\nBEGIN       \n    select top 1 @currentId = id from @tmp\n\n    SELECT @currentCode = Code, @currentVinNumber = VINNumber, @currentLicPlateNo = LicPlateNo FROM INSERTED WHERE INSERTED.VehicleID = @currentId\n\n    if (@currentId is not null)\n    BEGIN\n        EXEC dbo.SLX_CallInsertTruckService\n            @id = @currentId,\n            @code = @currentCode,\n            @vinNumber = @currentVinNumber,\n            @licPlateNo = @currentLicPlateNo\n    END\n\n    delete from @tmp where id = @currentId\n\n    set @counter = @counter + 1;\nEND\nEND TRY\nBEGIN CATCH\n    DECLARE @ErrorMessage NVARCHAR(4000);\n    DECLARE @ErrorSeverity INT;\n    DECLARE @ErrorState INT;\n\n    SELECT \n        @ErrorMessage = ERROR_MESSAGE(),\n        @ErrorSeverity = ERROR_SEVERITY(),\n        @ErrorState = ERROR_STATE();\n    IF (@ErrorMessage like '%Error in SLX%')\n    BEGIN\n        SET @ErrorMessage = 'Error in SLX.  Please contact SLX for more information.'\n    END\n    RAISERROR (@ErrorMessage, -- Message text.\n               @ErrorSeverity, -- Severity.\n               @ErrorState -- State.\n               );\nEND CATCH;\nEND\nGO\n</code></pre>\n"}, {"tags": ["c#", "audio-processing"], "comments": [{"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 1, "creation_date": 1465423192, "post_id": 37713075, "comment_id": 62900922, "body": "Do you get the entire sound byte?  The quality of the sound is in the byte[], so maybe a 24bit sound recording is being transmitted from a 16bit sender? Your code has nothing to do with the issue."}, {"owner": {"reputation": 1, "user_id": 6426408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3147c62a6137d8da24bba9e057169d76?s=128&d=identicon&r=PG&f=1", "display_name": "efrat", "link": "https://stackoverflow.com/users/6426408/efrat"}, "reply_to_user": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465466076, "post_id": 37713075, "comment_id": 62916870, "body": "that&#39;s probably the problem because the file is 2822 kbps which means it&#39;s 32bit ,how can i fix it?"}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465499372, "post_id": 37713075, "comment_id": 62939910, "body": "Ya it sounds like you are using a 28K baud modem with converts to 16 bit automatically.  Don&#39;t use that modem or &quot;dial up link&quot; use the internet instead."}], "owner": {"reputation": 1, "user_id": 6426408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3147c62a6137d8da24bba9e057169d76?s=128&d=identicon&r=PG&f=1", "display_name": "efrat", "link": "https://stackoverflow.com/users/6426408/efrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465434899, "creation_date": 1465420605, "last_edit_date": 1465434899, "question_id": 37713075, "link": "https://stackoverflow.com/questions/37713075/rewriting-audio-data-to-wav-file-adds-a-lot-of-noise", "title": "Rewriting audio data to wav file adds a lot of noise", "body": "<p>I want to make an application that reads the audio samples one by one manipulate them and than writing the new samples to a WAV file. However, when I tried to do this I only received white noise.</p>\n\n<p>I tried to find whether the problem was with the manipulation or with the reading so I tried to simply extract data and rewrite to WAV (without changing the data) and I received a lot of white noise in addition to the original sound.</p>\n\n<p>Can anyone tell me what I'm doing wrong?</p>\n\n<pre><code>FileStream fs = new FileStream(@path, FileMode.Open, FileAccess.Read);\nbyte[] arrfile = new byte[fs.Length - 44];\nfs.Position = 44;\nfs.Read(arrfile, 0, arrfile.Length);\nfs.Close();\n\nFileStream fo = new FileStream(@outfile, FileMode.Append, FileAccess.Write);\nBinaryWriter bw = new BinaryWriter(fo);\nbw.Write(arrfile);\nbw.Close();\nfo.Close();\n</code></pre>\n"}, {"tags": ["c#", "collision-detection", "game-engine", "collision"], "comments": [{"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 2, "creation_date": 1465420757, "post_id": 37713036, "comment_id": 62899800, "body": "Look before you leap! :) Compute a test iteration of the entire set moving, look for collisions, and then go back and handle which pieces of the set interacted by either slowing them down, path finding them at speed into each other, or by some other metric to avoid crossing boundaries."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465421255, "post_id": 37713036, "comment_id": 62900031, "body": "To be fair, even new games like Rocket League still suffer from having their ball overlap with the cars and getting that weird shaking effect. The ball in town for Destiny is even worse. So, this isn&#39;t exactly something that is easily solved."}, {"owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465421934, "post_id": 37713036, "comment_id": 62900356, "body": "I changed my code a bit so if an object collides, it does not move, just the other object if it is movable, but the movement looks rigid and very unrealistic.  The overlapping does not happen, but things don&#39;t collide correctly either."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465422195, "post_id": 37713036, "comment_id": 62900472, "body": "If any collide, rewind, then draw a line from the center of both balls, and move them along that line until they touch using their compared speed to generate the ratio of how far they should go."}, {"owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465422326, "post_id": 37713036, "comment_id": 62900522, "body": "I have a whole class dedicated to doing per pixel collision, and it calculates the correct magnitude and direction for each object.  I think it works now that I deleted <code>PhysicsEntities[iterator].Update();</code> and <code>PhysicsEntities[index].Collided = true;</code> but I have no clue why it works."}, {"owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465422709, "post_id": 37713036, "comment_id": 62900686, "body": "UPDATE: it does not work really, it just breaks less often."}, {"owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465423233, "post_id": 37713036, "comment_id": 62900939, "body": "This is a pet project to understand more about physics and how a game engine works."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 1, "creation_date": 1465423510, "post_id": 37713036, "comment_id": 62901049, "body": "The main problem with your approach (and approaches in general - there are a lot that do this) is that in the real world objects don&#39;t move iteratively; they all move at the same time."}, {"owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1465424322, "post_id": 37713036, "comment_id": 62901356, "body": "@TravisJ that is a very good observation sir.  So striving for perfection is not possible with this approach."}], "answers": [{"tags": [], "owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "is_accepted": true, "score": 1, "last_activity_date": 1465421061, "creation_date": 1465421061, "answer_id": 37713173, "question_id": 37713036, "link": "https://stackoverflow.com/questions/37713036/freeing-stuck-objects-after-collision/37713173#37713173", "title": "Freeing stuck objects after collision", "body": "<p>The quick solution is to move both objects back to the previous tic's position and any other object that causes a collision with to move back as well.  It works, but it looks messy and causes some behavior that looks really bad - things like pushing directly at a wall leaves a gap, but angling towards a wall leaves a smaller gap.  Very messy.</p>\n\n<p>The better solution is to move both objects back just far enough along their negative velocity vector so that they are no longer touching.  Usually some dot product math can give you what you need for this, though iterating backwards can work (slow).</p>\n\n<p>Long story short, don't ever allow objects to overlap.  Take care of it before it happens and you avoid stuck jitters, can't move stuff, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 5909, "user_id": 3562271, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/5522cf83767d944faddd6b36c1de179f?s=128&d=identicon&r=PG&f=1", "display_name": "PhillipH", "link": "https://stackoverflow.com/users/3562271/philliph"}, "is_accepted": false, "score": 0, "last_activity_date": 1465422142, "creation_date": 1465422142, "answer_id": 37713441, "question_id": 37713036, "link": "https://stackoverflow.com/questions/37713036/freeing-stuck-objects-after-collision/37713441#37713441", "title": "Freeing stuck objects after collision", "body": "<p>When one object collides with another, get it to backtrack up its own movement vector so that the distance between the centroids of both objects is equal to the two radius. This works if its a circle - if its a complex polygon you really need to do edge collision detection instead of bounding sphere detection. If the bounding spheres collide, then you move to complex edge detection. In the end the trick is the same; check for collision then back up the movement vector until you find the exact (or nearly exact) point of collision.</p>\n"}, {"tags": [], "owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1465507885, "last_edit_date": 1465507885, "creation_date": 1465506567, "answer_id": 37736224, "question_id": 37713036, "link": "https://stackoverflow.com/questions/37713036/freeing-stuck-objects-after-collision/37736224#37736224", "title": "Freeing stuck objects after collision", "body": "<p>I was able to figure it out with the suggestions people made.  Some of the changes I made include having each object collide with any other object only once per update, and moving the object after the collision until it is no longer colliding.  Here is the code that I used to do that, feel free to use this on any project and let me know if you have any questions about it.</p>\n\n<pre><code>public static void Update()\n    {\n        foreach (var a in PhysicsEntities)\n        {\n            foreach (var b in PhysicsEntities)\n            {\n                if (a.Equals(b) || \n                    !Collision.ResolveCollision(a, b, Detection) || b.Collided) continue;\n\n                while (Detection == Detection.BoundingBox ? \n                           Collision.BoundingBox(a, b) : \n                           Collision.PixelPerfect(a, b))\n                {\n                    const float moveBy = .5F;\n                    var moveX = a.Position.X &gt; b.Position.X ? moveBy : -moveBy;\n                    var moveY = a.Position.Y &gt; b.Position.Y ? moveBy : -moveBy;\n\n                    if (a.Movable)\n                    {\n                        a.Move(moveX, moveY);\n                        a.Velocity.Scale(-1);\n                    }\n                    else if (b.Movable)\n                    {\n                        b.Move(moveX * -1, moveY * -1);\n                        b.Velocity.Scale(-1);\n                    }\n                }\n\n                a.Update();\n                b.Update();\n                a.Collided = a.Movable;\n            }\n        }\n\n        foreach (var entity in PhysicsEntities)\n        {\n            entity.Update(velocity: true);\n            entity.Collided = false;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "accepted_answer_id": 37713173, "answer_count": 3, "score": 3, "last_activity_date": 1465507885, "creation_date": 1465420474, "question_id": 37713036, "link": "https://stackoverflow.com/questions/37713036/freeing-stuck-objects-after-collision", "title": "Freeing stuck objects after collision", "body": "<p>I have run into a slight issue with the collision resolution in my game engine.  If two objects collide and that collision causes the velocity to go to zero, the edges of the objects will overlap each other and they'll be stuck.  </p>\n\n<p>Is there a way to implement a catchall for this kind of a situation? i.e. move the objects just enough in the right direction so they are not stuck.</p>\n\n<p>Here is how I am checking collisions and moving objects.  When update is called on an entity, it moves the (x,y).</p>\n\n<pre><code>    public static void Update()\n        {\n            for (var iterator = 0; iterator &lt; PhysicsEntities.Count; iterator++)\n            {\n                for (var index = iterator + 1; index &lt; PhysicsEntities.Count; index++)\n                {\n                    if (!Collision.ResolveCollision(PhysicsEntities[iterator],\n                         PhysicsEntities[index], Detection)) continue;\n                    PhysicsEntities[iterator].Update();\n                    PhysicsEntities[iterator].Collided = true;\n                    PhysicsEntities[index].Update();\n                    PhysicsEntities[index].Collided = true;\n                }\n            }\n\n            foreach (var entity in PhysicsEntities)\n            {\n                entity.Update(velocity: true);\n                entity.Collided = false;\n            }\n        }\n    }\n</code></pre>\n\n<p>Here is the update function for the entities:</p>\n\n<pre><code>public void Update(bool velocity = false)\n    {\n        if(!Movable) return;\n        if (!Collided)\n        {\n            var moveX = Velocity.X / Universe.UpdateInterval;\n            var moveY = Velocity.Y / Universe.UpdateInterval;\n            Position.Move(moveX, moveY);\n            BoundingBox.Move(moveX, moveY);\n        }\n        if(velocity) UniversalForces();\n    }\n\n    private void UniversalForces()\n    {\n        Velocity.Scale(1 - Universe.Friction);\n        Velocity.Add(Universe.GravityMag, Universe.GravityDir);\n    }\n</code></pre>\n\n<p>Finally, here is a image of one simulation where the objects get stuck.  As you can see, it is just the edges that are getting stuck:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZFNRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFNRq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net-core-mvc", ".net-framework-version"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1465437466, "post_id": 37712984, "comment_id": 62904803, "body": "That class is not in .NET Core yet (might never come), so you need to switch to an explicit encryption provider, DES or others. Meanwhile, please upgrade to RC2 from <a href=\"http://dot.net\" rel=\"nofollow noreferrer\">dot.net</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6996, "user_id": 128852, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7a68e1edee41ea3fbadc3ddaaa312b8f?s=128&d=identicon&r=PG", "display_name": "RubbleFord", "link": "https://stackoverflow.com/users/128852/rubbleford"}, "is_accepted": false, "score": 0, "last_activity_date": 1465420665, "creation_date": 1465420665, "answer_id": 37713092, "question_id": 37712984, "link": "https://stackoverflow.com/questions/37712984/system-security-cryptography-namespace-not-available-in-net-framework-5-4/37713092#37713092", "title": "System.Security.Cryptography namespace not available in .NET framework 5.4", "body": "<p>If this is RC2 then pull in netstandard1.5</p>\n\n<pre><code>var aes = System.Security.Cryptography.Aes.Create();\n</code></pre>\n\n<p>IIRC net5.4 isn't correct anymore and it also looks like you are multi targetting so maybe something like:</p>\n\n<pre><code>#if NETSTANDARD1_5\n  var aes = System.Security.Cryptography.Aes.Create();\n#else\n var aes = Rijndael.Create();\n#endif\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213, "user_id": 3990306, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a29691c9e1bc3a2eb24785d0142181e0?s=128&d=identicon&r=PG&f=1", "display_name": "Linda", "link": "https://stackoverflow.com/users/3990306/linda"}, "is_accepted": true, "score": 0, "last_activity_date": 1465494526, "creation_date": 1465494526, "answer_id": 37732941, "question_id": 37712984, "link": "https://stackoverflow.com/questions/37712984/system-security-cryptography-namespace-not-available-in-net-framework-5-4/37732941#37732941", "title": "System.Security.Cryptography namespace not available in .NET framework 5.4", "body": "<p>Thank you so much guys for your help.\nI managed to get it working by removing the <code>dotnet5.4</code> framework from the <code>project.json</code> file. See screenshot below</p>\n\n<p><a href=\"https://i.stack.imgur.com/JSSLH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JSSLH.png\" alt=\"enter image description here\"></a></p>\n\n<p>This framework get added automatically when you create a new project, even if you select <code>framework 4.5.1</code>.</p>\n\n<p>Thank you again.</p>\n"}], "owner": {"reputation": 213, "user_id": 3990306, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a29691c9e1bc3a2eb24785d0142181e0?s=128&d=identicon&r=PG&f=1", "display_name": "Linda", "link": "https://stackoverflow.com/users/3990306/linda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2745, "favorite_count": 0, "accepted_answer_id": 37732941, "answer_count": 2, "score": 2, "last_activity_date": 1488506709, "creation_date": 1465420193, "last_edit_date": 1488506709, "question_id": 37712984, "link": "https://stackoverflow.com/questions/37712984/system-security-cryptography-namespace-not-available-in-net-framework-5-4", "title": "System.Security.Cryptography namespace not available in .NET framework 5.4", "body": "<p>Please help guys.</p>\n\n<p>I created a new project <code>Class Library (Package)</code> in Visual Studio 2015.\nI want to use this project in MVC 6 project.\nNow it complains that Cryptography does not exist in System.Security even after I have added reference to System.Security. </p>\n\n<p>Even if I have the code directly to the MVC 6 project it's still complaining.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lpVUo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lpVUo.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am not sure whether it has to do with the .NET Framework version because it also shows that this namespace is not available in framework 5.4</p>\n\n<p><a href=\"https://i.stack.imgur.com/ySHCi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySHCi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you guys for your help.</p>\n"}, {"tags": ["c#", "vb.net", "cefsharp"], "comments": [{"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465423272, "post_id": 37712962, "comment_id": 62900956, "body": "You have to cast the document to MSHTML.IHTMLDocument2, if I recall correctly."}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1465423751, "post_id": 37712962, "comment_id": 62901149, "body": "Read the <code>CefSharp FAQ</code> for starters. You need to remember it&#39;s not a likely for like replacement for the built in control."}, {"owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "edited": false, "score": 0, "creation_date": 1465434595, "post_id": 37712962, "comment_id": 62904213, "body": "have you tried <code>HtmlElement Elem  = webBrowser1.Document.GetElementById(&quot;id&quot;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1340, "user_id": 3269816, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/mFwNk.jpg?s=128&g=1", "display_name": "Andreas Furster", "link": "https://stackoverflow.com/users/3269816/andreas-furster"}, "edited": false, "score": 7, "creation_date": 1478688312, "post_id": 37904556, "comment_id": 68252863, "body": "This does not return any value."}], "tags": [], "owner": {"reputation": 21, "user_id": 6484790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833f0215a9d846c435846f32a9a26226?s=128&d=identicon&r=PG", "display_name": "HigHwind", "link": "https://stackoverflow.com/users/6484790/highwind"}, "is_accepted": false, "score": 0, "last_activity_date": 1466317638, "creation_date": 1466317638, "answer_id": 37904556, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element/37904556#37904556", "title": "CefSharp - Get Value of HTML Element", "body": "<p>With CefSharp,you can get elements' value by javascript.</p>\n\n<p>For example,</p>\n\n<pre><code>m_browser.ExecuteScriptAsync(\"document.GetElementById('id1');\");\n</code></pre>\n\n<p>About javascript,you can learn it from <a href=\"http://www.w3schools.com/\" rel=\"nofollow\">w3s</a>.</p>\n\n<p>And I think you should read <a href=\"http://www.codeproject.com/Articles/990346/Using-HTML-as-UI-Elements-in-a-WinForms-Applicatio\" rel=\"nofollow\">this passage</a>.</p>\n\n<p>Have fun.</p>\n"}, {"comments": [{"owner": {"reputation": 1212, "user_id": 5620642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d3cdbfd9a17481d049878ccd6554085?s=128&d=identicon&r=PG&f=1", "display_name": "Nulle", "link": "https://stackoverflow.com/users/5620642/nulle"}, "edited": false, "score": 0, "creation_date": 1510671761, "post_id": 44569606, "comment_id": 81528329, "body": "Have you tested this?"}, {"owner": {"reputation": 1212, "user_id": 5620642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d3cdbfd9a17481d049878ccd6554085?s=128&d=identicon&r=PG&f=1", "display_name": "Nulle", "link": "https://stackoverflow.com/users/5620642/nulle"}, "edited": false, "score": 0, "creation_date": 1510937377, "post_id": 44569606, "comment_id": 81663499, "body": "I have never managed to get browser.EvaluateScriptAsync(script)  to work yet. browser.GetMainFrame.ExecuteJavascriptAsync(script) i have."}, {"owner": {"reputation": 221, "user_id": 5267270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11e9ddc494e7e2fc84d1a7f890abdb1?s=128&d=identicon&r=PG&f=1", "display_name": "ElRaph", "link": "https://stackoverflow.com/users/5267270/elraph"}, "edited": false, "score": 0, "creation_date": 1512485774, "post_id": 44569606, "comment_id": 82271213, "body": "<code>await _browser.GetMainFrame().EvaluateScriptAsync(script).Continue&zwnj;&#8203;With(x =&gt;                 {                     var response = x.Result;                      if (response.Success)                     { &#47;&#47;do ur stuff                     } });</code>  worked for me, otherwise here is the official <a href=\"https://github.com/cefsharp/CefSharp/wiki/General-Usage#1-how-do-you-call-a-javascript-method-from-net\" rel=\"nofollow noreferrer\">doc</a>"}, {"owner": {"reputation": 9211, "user_id": 136059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8924bb5478c331606d1d9beb5b40b22?s=128&d=identicon&r=PG", "display_name": "JBrooks", "link": "https://stackoverflow.com/users/136059/jbrooks"}, "edited": false, "score": 1, "creation_date": 1524599560, "post_id": 44569606, "comment_id": 87036188, "body": "I think it is confusing because the full name of the property is x.Result.Result"}], "tags": [], "owner": {"reputation": 1320, "user_id": 1682819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ad72951e80ac6112aa684dd2efdc64?s=128&d=identicon&r=PG", "display_name": "RobbZ", "link": "https://stackoverflow.com/users/1682819/robbz"}, "is_accepted": false, "score": 13, "last_activity_date": 1497535455, "creation_date": 1497535455, "answer_id": 44569606, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element/44569606#44569606", "title": "CefSharp - Get Value of HTML Element", "body": "<p>There is a really good example of how to do this in their FAQ.</p>\n\n<p><a href=\"https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions#2-how-do-you-call-a-javascript-method-that-return-a-result\" rel=\"noreferrer\">https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions#2-how-do-you-call-a-javascript-method-that-return-a-result</a></p>\n\n<p>Here is the code for the lazy.  Pretty self explanatory and it worked well for me.</p>\n\n<pre><code>string script = string.Format(\"document.getElementById('startMonth').value;\");\nbrowser.EvaluateScriptAsync(script).ContinueWith(x =&gt;\n        {\n            var response = x.Result;\n\n            if (response.Success &amp;&amp; response.Result != null)\n            {\n            var startDate = response.Result;\n            //startDate is the value of a HTML element.\n        }      \n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 1345106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N6TuC.jpg?s=128&g=1", "display_name": "i31nGo", "link": "https://stackoverflow.com/users/1345106/i31ngo"}, "is_accepted": false, "score": 2, "last_activity_date": 1516261877, "creation_date": 1516261877, "answer_id": 48316222, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element/48316222#48316222", "title": "CefSharp - Get Value of HTML Element", "body": "<p>this is the only way that worked for me, version 57.0.0.0..</p>\n\n<pre><code>((CefSharp.Wpf.ChromiumWebBrowser)chromeBrowser).FrameLoadEnd += Browser_FrameLoadEnd;\n</code></pre>\n\n<p>....</p>\n\n<pre><code>async void Browser_FrameLoadEnd(object sender, CefSharp.FrameLoadEndEventArgs e)\n    {            \n        Console.WriteLine(\"cef-\"+e.Url);\n\n        if (e.Frame.IsMain)\n        {                 \n            string HTML = await e.Frame.GetSourceAsync();               \n            Console.WriteLine(HTML);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 13024501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c36e348bbfb36fff9e540628c0e7a1b?s=128&d=identicon&r=PG&f=1", "display_name": "berkhan", "link": "https://stackoverflow.com/users/13024501/berkhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1583904664, "last_edit_date": 1583904664, "creation_date": 1583891873, "answer_id": 60628250, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element/60628250#60628250", "title": "CefSharp - Get Value of HTML Element", "body": "<p>This worked for me. You can modify it by yourself.</p>\n\n<pre><code>private async void TEST()\n{\n    string script = \"document.getElementsByClassName('glass')[0]['firstElementChild']['firstChild']['wholeText']\";\n    JavascriptResponse response = await browser.EvaluateScriptAsync(script);\n    label1.Text = response.Result.ToString();\n}\n</code></pre>\n\n<p>Maybe this can do your job.</p>\n\n<pre><code>private async void TEST()\n{\n    string script = \"Document.GetElementByID('id').value\";\n    JavascriptResponse response = await browser.EvaluateScriptAsync(script);\n    string resultS = response.Result.ToString(); // whatever you need\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2461, "user_id": 5993849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jENcSYBop5s/AAAAAAAAAAI/AAAAAAAAAGs/pywQXXt_QNo/photo.jpg?sz=128", "display_name": "Tri\u1ec7u \u0110&#244; La", "link": "https://stackoverflow.com/users/5993849/tri%e1%bb%87u-%c4%90%c3%b4-la"}, "is_accepted": false, "score": 0, "last_activity_date": 1584328754, "creation_date": 1584328754, "answer_id": 60699935, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element/60699935#60699935", "title": "CefSharp - Get Value of HTML Element", "body": "<pre><code>string script = @\"document.getElementById('id_element').style;\";\nbrowser.EvaluateScriptAsync(script).ContinueWith(x=&gt; {\n    var response = x.Result;\n    if (response.Success &amp;&amp; response.Result != null)\n    {\n        System.Dynamic.ExpandoObject abc = (System.Dynamic.ExpandoObject)response.Result;\n        foreach (KeyValuePair&lt;string,object&gt; item in abc)\n        {\n            string key = item.Key.ToString();\n            string value = item.Value.ToString();\n        }\n    }\n});\n</code></pre>\n\n<p>It working for me.</p>\n"}], "owner": {"reputation": 293, "user_id": 3397557, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/20bbd9854afddaf0253dffa52911774b?s=128&d=identicon&r=PG&f=1", "display_name": "user3397557", "link": "https://stackoverflow.com/users/3397557/user3397557"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35643, "favorite_count": 1, "answer_count": 5, "score": 8, "last_activity_date": 1584328754, "creation_date": 1465420050, "last_edit_date": 1519661182, "question_id": 37712962, "link": "https://stackoverflow.com/questions/37712962/cefsharp-get-value-of-html-element", "title": "CefSharp - Get Value of HTML Element", "body": "<p>How can I get the value of an HTML element with CefSharp?</p>\n\n<p>I know how to do with this default WebBrowser Control:</p>\n\n<pre><code>Dim Elem As HtmlElement = WebBrowser1.Document.GetElementByID(\"id\")\n</code></pre>\n\n<p>But I didn't find anything similar for CefSharp. The main reason I am using CefSharp is because part of the website is using iframes to store the source and default WebBrowser doesn't support it. Also, does CefSharp have an option to InvokeMember or similar call?</p>\n\n<p>I'm using the latest release of CefSharp by the way.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1465420109, "post_id": 37712925, "comment_id": 62899524, "body": "You might consider using a Database."}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1465420377, "post_id": 37712925, "comment_id": 62899632, "body": "Create a class that supports the data you need and serialize it to disk, see <a href=\"https://msdn.microsoft.com/en-us/library/mt656715.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/mt656715.aspx</a> for example. Or use a (NoSQL) db like <a href=\"http://www.litedb.org/\" rel=\"nofollow noreferrer\">litedb.org</a>"}, {"owner": {"reputation": 71, "user_id": 5504828, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1794f0f1aab0e6ad654f8063d7ae73b9?s=128&d=identicon&r=PG&f=1", "display_name": "EE_Kraig", "link": "https://stackoverflow.com/users/5504828/ee-kraig"}, "edited": false, "score": 0, "creation_date": 1465421578, "post_id": 37712925, "comment_id": 62900188, "body": "Should I maybe just search the CSV file instead and get the data that way? That&#39;s seams not the best either, pulling it into ram in some type that I can work on seems nicer?? I should add, the CSV file needs to be (easily) end user updateable, so no DB."}, {"owner": {"reputation": 71, "user_id": 5504828, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1794f0f1aab0e6ad654f8063d7ae73b9?s=128&d=identicon&r=PG&f=1", "display_name": "EE_Kraig", "link": "https://stackoverflow.com/users/5504828/ee-kraig"}, "edited": false, "score": 0, "creation_date": 1465423308, "post_id": 37712925, "comment_id": 62900972, "body": "Did some more searching, I think what I&#39;m after is a KeyValuePair and for more data columns, a Tuple. Thoughts or examples?"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5504828, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1794f0f1aab0e6ad654f8063d7ae73b9?s=128&d=identicon&r=PG&f=1", "display_name": "EE_Kraig", "link": "https://stackoverflow.com/users/5504828/ee-kraig"}, "is_accepted": true, "score": 0, "last_activity_date": 1467904914, "creation_date": 1467904914, "answer_id": 38249357, "question_id": 37712925, "link": "https://stackoverflow.com/questions/37712925/better-way-to-store-column-data-config-csv-file-for-later-searching-and-usage/38249357#38249357", "title": "Better way to store column data config CSV file for later searching and usage", "body": "<p>Ended up using a Dictionary</p>\n\n<pre><code>Dictionary&lt;string, string&gt; MotorPNDict = new Dictionary&lt;string, string&gt;();\n\n        int csvindex = 0;\n        int HeaderRows = 1;\n        foreach (var row in csv.Skip(HeaderRows))\n        {\n           if (csvindex &lt; 10)\n           {\n              /* Here we get the Bay/Port mapping and store them in ascending order regardless of the CSV order, i.e. bay 1 will always be array position 0*/\n              var index = Convert.ToInt32(row[0]) - 1;\n              BayPortMap[index][0] = Convert.ToInt32(row[0]);\n              BayPortMap[index][1] = Convert.ToInt32(row[1]);\n              BayPortMap[index][2] = -1;\n           }\n           else\n           {\n              switch (csvindex)\n              {\n                 case 10:\n                    {\n                       TesterNumber = row[1];\n                       break;\n                    }\n                 case 11:\n                    {\n                       ReportLocation = row[1];\n                       break;\n                    }\n                 case 12:\n                    {\n                       DBSource = row[1];\n                       break;\n                    }\n                 case 13:\n                    {\n                       InitialCatalog = row[1];\n                       break;\n                    }\n                 default:\n                    {\n                       /* add Motor PNs and there corresponding types to a dictionary */\n                       MotorPNDict.Add(row[1], row[0]);\n                       break;\n                    }\n              }\n           }\n           csvindex++;\n        }\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5504828, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1794f0f1aab0e6ad654f8063d7ae73b9?s=128&d=identicon&r=PG&f=1", "display_name": "EE_Kraig", "link": "https://stackoverflow.com/users/5504828/ee-kraig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 38249357, "answer_count": 1, "score": -1, "last_activity_date": 1467904914, "creation_date": 1465419949, "question_id": 37712925, "link": "https://stackoverflow.com/questions/37712925/better-way-to-store-column-data-config-csv-file-for-later-searching-and-usage", "title": "Better way to store column data config CSV file for later searching and usage", "body": "<p>I have a CSV configuration file for my program that I read in on launch and store into various arrays for later use. It contains two columns (for now) of paired data, like so:</p>\n\n<p>1,10<br>\n2,14<br>\n3,11<br>\nBlue,4-10202<br>\nRed,4-10001</p>\n\n<p>In this snippet of the file, the first three lines are only used once and I do the following:</p>\n\n<pre><code>int[][] BayPortMap = new int[10][]; \n\nfor (int i = 0; i &lt; 10; i++)\n{\n   BayPortMap[i] = new int[3];\n}\n\nvar contents = File.ReadAllLines(@\"C:\\CSI\\MotorTesterConfig.csv\");\ncontents = contents.Where(x =&gt;!string.IsNullOrEmpty(x.Trim(','))).ToArray();\nvar csv = from line in contents select line.Split(',');\nint HeaderRows = 1;\nforeach (var row in csv.Skip(HeaderRows))\n{\n   if (csvindex &lt; 10)\n   {\n       BayPortMap[csvindex][0] = Convert.ToInt32(row[0]);\n       BayPortMap[csvindex][1] = Convert.ToInt32(row[1]);\n       BayPortMap[csvindex][2] = -1;\n   }\n}\n</code></pre>\n\n<p>Now here's the part I don't like. I do the same for the next two lines but later in the program I need to search for the 2nd column values and when I find a match, I need to act on the 1st column data. So when the user scans a number, i.e. 4-10002, that returns Blue and then act on that.</p>\n\n<pre><code>MotorPNArray[index] = new string[2];\nMotorPNArray[index][0] = row[0];\nMotorPNArray[index][1] = row[1];\n</code></pre>\n\n<p>It will work buts feels clunky. Another program I will write later has many columns of \"data\" that will need to get used based on a matching PN.</p>\n\n<p>So, should I keep doing it this way or use something else, i.e. List, etc.</p>\n"}, {"tags": ["c#", "json", "xml"], "comments": [{"owner": {"reputation": 1588, "user_id": 6353415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HI3UX.png?s=128&g=1", "display_name": "Alastair Brown", "link": "https://stackoverflow.com/users/6353415/alastair-brown"}, "edited": false, "score": 1, "creation_date": 1465420065, "post_id": 37712827, "comment_id": 62899507, "body": "Please include your XML (or the JSON it was derived from) so that we can help you."}], "answers": [{"tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419853, "creation_date": 1465419853, "answer_id": 37712898, "question_id": 37712827, "link": "https://stackoverflow.com/questions/37712827/c-looping-through-xelement/37712898#37712898", "title": "C# looping through Xelement", "body": "<p>with linq-to-xml often, if there's a singular verison of a selector, there's likely a plural version too.  </p>\n\n<p>In your case, <code>currentGameRoot.XPathSelectElements(\"//summonerName\")</code> will return an <code>IEnumerable</code> which contains all the \"summonerName\" elements</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 6442473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf657245491cddf7ddb3b49a261dad6?s=128&d=identicon&r=PG&f=1", "display_name": "highwaydog", "link": "https://stackoverflow.com/users/6442473/highwaydog"}, "edited": false, "score": 0, "creation_date": 1465420670, "post_id": 37712915, "comment_id": 62899758, "body": "Alright i have changed this but now im having problems returning the values. at first i used MessageBox.Show(SummonerName);"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1465422485, "post_id": 37712915, "comment_id": 62900597, "body": "if you want to return values from a List&lt;T&gt; then use <code>MessageBox.Show(string.Join(&quot;,&quot;,SummonerName)</code>"}], "tags": [], "owner": {"reputation": 11264, "user_id": 353147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4f7a352399b2992fa77cf542fc8ef57a?s=128&d=identicon&r=PG", "display_name": "Chuck Savage", "link": "https://stackoverflow.com/users/353147/chuck-savage"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419905, "creation_date": 1465419905, "answer_id": 37712915, "question_id": 37712827, "link": "https://stackoverflow.com/questions/37712827/c-looping-through-xelement/37712915#37712915", "title": "C# looping through Xelement", "body": "<p>Change</p>\n\n<pre><code>string SummonerName = currentGameRoot.XPathSelectElement(\"//summonerName\").Value;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var SummonerNames = currentGameRoot.Descendants(\"summonerName\")\n                             .Select(sn =&gt; (string)sn)\n                             .ToList();\n</code></pre>\n\n<p>If you use <code>sn.Value</code> and <code>sn</code> is null, you will get a <code>NullExceptionError</code>.</p>\n"}], "owner": {"reputation": 139, "user_id": 6442473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf657245491cddf7ddb3b49a261dad6?s=128&d=identicon&r=PG&f=1", "display_name": "highwaydog", "link": "https://stackoverflow.com/users/6442473/highwaydog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465421106, "creation_date": 1465419586, "last_edit_date": 1465421106, "question_id": 37712827, "link": "https://stackoverflow.com/questions/37712827/c-looping-through-xelement", "title": "C# looping through Xelement", "body": "<pre><code>string webUrlCurrentGame = \"\";//usually the url \nvar readerCurrentGame = JsonReaderWriterFactory.CreateJsonReader(\n           Encoding.UTF8.GetBytes(webClient.DownloadString(webUrlCurrentGame)), \n           new System.Xml.XmlDictionaryReaderQuotas());\nvar currentGameRoot = XElement.Load(readerCurrentGame);\nstring gameMode = currentGameRoot.XPathSelectElement(\"//gameMode\").Value;\nstring championId = currentGameRoot.XPathSelectElement(\"//championId\").Value;\nstring SummonerName = currentGameRoot.XPathSelectElement(\"//summonerName\").Value;\n</code></pre>\n\n<p>The problem is there are 10 summonerNames in the XML how do I get the value from all of them ? </p>\n"}, {"tags": ["c#", "visual-studio-2010"], "comments": [{"owner": {"reputation": 1515, "user_id": 4114782, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/a7a894ffea3afedf3f70c7cc54fa7518?s=128&d=identicon&r=PG&f=1", "display_name": "Duston", "link": "https://stackoverflow.com/users/4114782/duston"}, "edited": false, "score": 0, "creation_date": 1465419943, "post_id": 37712622, "comment_id": 62899443, "body": "So you want to use the code from a GUI app for a console application?  But to answer your question, I&#39;ve used COM objects rather than just the DLLs in the past, but then that was a GUI app I was writing."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1465419989, "post_id": 37712622, "comment_id": 62899466, "body": "It is already on your machine, never download DLLs.  Using references from the COM tab isn&#39;t for everybody, do use WebBrowser instead."}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465423583, "post_id": 37712622, "comment_id": 62901083, "body": "If you use the System.Windows.Controls.WebBrowser you have to cast to mshtml.IHTMLDocument2 to see what&#39;s there.  NOTE : there are many other interfaces that expose other parts of the document.  But if you use System.Windows.Forms.WebBrowser many of those interfaces are there by default."}, {"owner": {"reputation": 440, "user_id": 1941390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7fcf9b6c55b5d5b04aecab7f7d7abe1?s=128&d=identicon&r=PG", "display_name": "user1941390", "link": "https://stackoverflow.com/users/1941390/user1941390"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1465635054, "post_id": 37712622, "comment_id": 62992248, "body": "@HansPassant I can&#39;t find WebBrowser. How do you think I can find it? I searched the COM and .Net tabs. None found!!! :-("}, {"owner": {"reputation": 440, "user_id": 1941390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7fcf9b6c55b5d5b04aecab7f7d7abe1?s=128&d=identicon&r=PG", "display_name": "user1941390", "link": "https://stackoverflow.com/users/1941390/user1941390"}, "reply_to_user": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1465635146, "post_id": 37712622, "comment_id": 62992279, "body": "@JohnPeters can&#39;t find the System.Windows.Controls.WebBrowser in add references. I am windows 8.1 user. Please let me know if any comments. Seems as if I need to install a package or component."}], "owner": {"reputation": 440, "user_id": 1941390, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7fcf9b6c55b5d5b04aecab7f7d7abe1?s=128&d=identicon&r=PG", "display_name": "user1941390", "link": "https://stackoverflow.com/users/1941390/user1941390"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465418853, "creation_date": 1465418853, "question_id": 37712622, "link": "https://stackoverflow.com/questions/37712622/where-to-find-windows-internet-explorer-platform-apis", "title": "Where to find Windows Internet Explorer Platform APIs?", "body": "<p>I am trying to create Console App which uses <a href=\"https://msdn.microsoft.com/en-us/library/aa752084(v=vs.85).aspx\" rel=\"nofollow\">Internet Explorer Object as here</a>.</p>\n\n<p>I am having a hard time finding and downloading the DLLs for it.</p>\n\n<p>Any clue is well appreciated.</p>\n\n<p>Mehdi</p>\n"}, {"tags": ["c#", "jquery", "json", "linq", "linq-to-xml"], "answers": [{"tags": [], "owner": {"reputation": 906, "user_id": 1933264, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/9029dce732789a81323a0323081b83b2?s=128&d=identicon&r=PG", "display_name": "Connie DeCinko", "link": "https://stackoverflow.com/users/1933264/connie-decinko"}, "is_accepted": true, "score": 0, "last_activity_date": 1555563135, "last_edit_date": 1555563135, "creation_date": 1465485734, "answer_id": 37730100, "question_id": 37712583, "link": "https://stackoverflow.com/questions/37712583/linq-to-xml-smartermail-api-response-to-jquery-datatables/37730100#37730100", "title": "Linq to XML - SmarterMail API response to jQuery dataTables", "body": "<p>Made a slight change and now it seems to work.  I can also use this as a model for cases where I need to return multiple columns.</p>\n\n<pre><code>public ActionResult getMailingLists(jQueryDataTableParamModel param)\n{\n    svcMailListAdmin.PreInvoke();\n    svcMailListAdmin.AddParameter(\"AuthUserName\", SM_AuthUserName);\n    svcMailListAdmin.AddParameter(\"AuthPassword\", SM_AuthPassword);\n    svcMailListAdmin.AddParameter(\"DomainName\", SM_DomainName);\n\n    svcMailListAdmin.Invoke(\"GetMailingListsByDomain\");\n    svcMailListAdmin.PostInvoke();\n\n    var resultXML = svcMailListAdmin.ResultXML;\n\n    var resultsList = resultXML.Root.Elements(\"listNames\")\n                    .Elements(\"string\")\n                    .Select(i =&gt; new List&lt;string&gt;()\n                    {\n                        (string)i\n                    }).ToList();\n\n    return Json(new\n    {\n        sEcho = param.sEcho,\n        iTotalRecords = resultsList.Count,\n        iTotalDisplayRecords = resultsList.Count,\n        aaData = resultsList\n    },\n    JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n"}], "owner": {"reputation": 906, "user_id": 1933264, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/9029dce732789a81323a0323081b83b2?s=128&d=identicon&r=PG", "display_name": "Connie DeCinko", "link": "https://stackoverflow.com/users/1933264/connie-decinko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 37730100, "answer_count": 1, "score": 0, "last_activity_date": 1555563185, "creation_date": 1465418686, "last_edit_date": 1555563185, "question_id": 37712583, "link": "https://stackoverflow.com/questions/37712583/linq-to-xml-smartermail-api-response-to-jquery-datatables", "title": "Linq to XML - SmarterMail API response to jQuery dataTables", "body": "<p>Ok, looked everywhere and tried what feels like every possible solution.  So, it must be something simple.</p>\n\n<p>I'm using the SmarterMail API to return a list of Mailing Lists.  I want to display the results in a jQuery DataTable which expects a list of string arrays.  How can I take my resulting list of strings and convert it to a list of string arrays?  The following code almost works but I end up with only the first letter of each Mailing List name.</p>\n\n<p>Using .NET C# MVC.  Here is the method from my Controller.</p>\n\n<pre><code>public ActionResult getMailingLists(jQueryDataTableParamModel param)\n{\n    svcMailListAdmin.PreInvoke();\n    svcMailListAdmin.AddParameter(\"AuthUserName\", SM_AuthUserName);\n    svcMailListAdmin.AddParameter(\"AuthPassword\", SM_AuthPassword);\n    svcMailListAdmin.AddParameter(\"DomainName\", SM_DomainName);\n\n    svcMailListAdmin.Invoke(\"GetMailingListsByDomain\");\n    svcMailListAdmin.PostInvoke();\n\n    var resultXML = svcMailListAdmin.ResultXML;\n\n    var resultList = resultXML.Root.Elements(\"listNames\")\n                        .Elements(\"string\")\n                        .OrderBy(i =&gt; (string)i)\n                        .Select(i =&gt; (string)i)\n                        .ToList();\n\n    return Json(new\n    {\n        sEcho = param.sEcho,\n        iTotalRecords = resultList.Count,\n        iTotalDisplayRecords = resultList.Count,\n        aaData = resultList\n    },\n    JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n"}, {"tags": ["c#", "reflection"], "comments": [{"owner": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "edited": false, "score": 1, "creation_date": 1465419186, "post_id": 37712580, "comment_id": 62899093, "body": "Can you still change anything about <code>OldClassType</code>, like implementing an interface with the common properties between old and new type?"}, {"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 1, "creation_date": 1465419265, "post_id": 37712580, "comment_id": 62899128, "body": "Return a common interface?"}, {"owner": {"reputation": 769, "user_id": 1030404, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bc16f6dd8bb069c7aaf94589207f50bd?s=128&d=identicon&r=PG", "display_name": "Gotcha", "link": "https://stackoverflow.com/users/1030404/gotcha"}, "edited": false, "score": 0, "creation_date": 1465422395, "post_id": 37712580, "comment_id": 62900560, "body": "No I cannot change anything about OldClassType and one additional info is that the OldClassType will eventually be removed from the code."}], "answers": [{"tags": [], "owner": {"reputation": 11223, "user_id": 920539, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TIF5u.jpg?s=128&g=1", "display_name": "MiMo", "link": "https://stackoverflow.com/users/920539/mimo"}, "is_accepted": false, "score": 1, "last_activity_date": 1465419154, "creation_date": 1465419154, "answer_id": 37712701, "question_id": 37712580, "link": "https://stackoverflow.com/questions/37712580/simplest-way-to-convert-an-existing-method-to-generic-object-type/37712701#37712701", "title": "Simplest way to Convert an existing Method to generic object Type", "body": "<p>I would avoid reflection, it is tricky and potentially slow. </p>\n\n<p>Add a constructor to <code>NewClassType</code> that copies an <code>OldClassType</code>:</p>\n\n<pre><code>class NewClassType {\n    public NewClassType( OldClassType old )\n    {\n        Name = old.Name;\n        Age = old.Age;\n        . . . \n    }\n    . . . \n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>protected object MyMethod(int32 p1, bool useNewType)\n{  \n    OldClassType myVar = new OldClassType();\n    myVar.name = \"Hello\";\n    myVar.age = \"36\";\n\n    if (!useNewType) return myVar; \n    return new NewClassType( myVar );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 769, "user_id": 1030404, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bc16f6dd8bb069c7aaf94589207f50bd?s=128&d=identicon&r=PG", "display_name": "Gotcha", "link": "https://stackoverflow.com/users/1030404/gotcha"}, "edited": false, "score": 0, "creation_date": 1465422114, "post_id": 37712738, "comment_id": 62900437, "body": "What if OldClassType is going to be deprecated in the near future... so I cannot inherit from it and all sources of this OldClassType will be removed?"}, {"owner": {"reputation": 1252, "user_id": 3052062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c74ba8a3db2f03aa60bc43e765f664e?s=128&d=identicon&r=PG&f=1", "display_name": "chomba", "link": "https://stackoverflow.com/users/3052062/chomba"}, "reply_to_user": {"reputation": 769, "user_id": 1030404, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bc16f6dd8bb069c7aaf94589207f50bd?s=128&d=identicon&r=PG", "display_name": "Gotcha", "link": "https://stackoverflow.com/users/1030404/gotcha"}, "edited": false, "score": 0, "creation_date": 1465422959, "post_id": 37712738, "comment_id": 62900805, "body": "@Gotcha Then you have to either introduce an interface or do some sort of mapping."}], "tags": [], "owner": {"reputation": 1252, "user_id": 3052062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c74ba8a3db2f03aa60bc43e765f664e?s=128&d=identicon&r=PG&f=1", "display_name": "chomba", "link": "https://stackoverflow.com/users/3052062/chomba"}, "is_accepted": false, "score": 2, "last_activity_date": 1465420786, "last_edit_date": 1465420786, "creation_date": 1465419285, "answer_id": 37712738, "question_id": 37712580, "link": "https://stackoverflow.com/questions/37712580/simplest-way-to-convert-an-existing-method-to-generic-object-type/37712738#37712738", "title": "Simplest way to Convert an existing Method to generic object Type", "body": "<p>You could make <code>NewClassType</code> derive from <code>OldClassType</code> so that it inherits all of its base type members.</p>\n\n<pre><code>public class NewClassType : OldClassType { }\n</code></pre>\n\n<p>You'd then have to make your method Generic, like this:</p>\n\n<pre><code>protected T MyMethod&lt;T&gt;(int p1) where T : OldClassType, new()\n{\n    T myVar = new T();\n    myVar.name = \"Hello\";\n    myVar.age = \"36\";\n\n    return myVar;\n}\n</code></pre>\n\n<p>I don't think you should use a bool value to specify if you want to return an instance of your new class type, you can just do:</p>\n\n<pre><code>var o = MyMethod&lt;NewClassType&gt;(10);\n</code></pre>\n\n<p>You could even define an overloaded method that still returns <code>OldClassType</code> but uses your generic method under the covers:</p>\n\n<pre><code>protected OldClassType MyMethod(int p1)\n{\n    return MyMethod&lt;OldClassType&gt;(p1);\n}\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 1030404, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bc16f6dd8bb069c7aaf94589207f50bd?s=128&d=identicon&r=PG", "display_name": "Gotcha", "link": "https://stackoverflow.com/users/1030404/gotcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465422758, "creation_date": 1465418681, "last_edit_date": 1465422758, "question_id": 37712580, "link": "https://stackoverflow.com/questions/37712580/simplest-way-to-convert-an-existing-method-to-generic-object-type", "title": "Simplest way to Convert an existing Method to generic object Type", "body": "<p>Let's assume I have an existing method which ALWAYS returns a variable of type OldClassType</p>\n\n<pre><code>//Takes 1 parameter p1\n//Returns a variable of type OldClassType, after doing a bunch of logic.\nprotected OldClassType MyMethod(int32 p1)\n{\n   OldClassType myVar = new OldClassType();\n   myVar.name = \"Hello\";\n   myVar.age = \"36\";\n\n   return myVar;\n}\n</code></pre>\n\n<p>Now, I have a NewClassType which has exactly the same  properties as OldClassType but is of a different namespace. I need to convert the same method (MyMethod) so that instead of ALWAYS returning OldClassType, it should return a variable of type either OldClassType or  NewClassType - based on a newly added parameter useNewType</p>\n\n<p>So something like :</p>\n\n<pre><code>//Takes 2 parameter: p1 and useNewType - which determines when to use the NewClassType or default to the OldClassType\n//Returns a variable of type object, after doing a bunch of logic. I'll modify the Call to this new modified method to cast the object to the appropriate Type (OldClassType/NewClassType)\nprotected object MyMethod(int32 p1, bool useNewType)\n{  \n   object myVar = new object();\n   myVar.name = \"Hello\"; // Do I use PropertyInfo and then set value?\n   myVar.age = \"36\";\n\n   return myVar; \n}\n</code></pre>\n\n<p>EDIT:\nOne additional piece of information is that the OldClassType will be removed from the code in the future. So I'm trying to find the solution with least impact.</p>\n\n<p>I was in fact wondering if the use of dynamic will solve it , ie minimize the changes to support NewClassType and when will the time to remove the OldClassType, I can simple change one line where I init it- example</p>\n\n<pre><code>protected dynamic MyMethod(int32 p1, bool useNewType)\n{  \n   dynamic myVar = (useNewType) ? new NewClassType() : new OldClassType(); // Is this allowed?\n\n   //So all code below stays exactly the same\n   myVar.name = \"Hello\"; \n   myVar.age = \"36\";\n\n   return myVar; \n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 2571, "user_id": 5409512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-VwtsrwKgtm8/AAAAAAAAAAI/AAAAAAAAADg/wzubIO2Hr6o/photo.jpg?sz=128", "display_name": "Alfie Goodacre", "link": "https://stackoverflow.com/users/5409512/alfie-goodacre"}, "edited": false, "score": 1, "creation_date": 1465418731, "post_id": 37712577, "comment_id": 62898868, "body": "Why not use <code>12d&#47;30d</code> (I have no clue if this works)"}, {"owner": {"reputation": 296, "user_id": 1438893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4562c73ef572330c6703c2ae9b2d8d2a?s=128&d=identicon&r=PG", "display_name": "pay", "link": "https://stackoverflow.com/users/1438893/pay"}, "edited": false, "score": 1, "creation_date": 1465418908, "post_id": 37712577, "comment_id": 62898948, "body": "Even <code>Convert.ToDouble( (12&#47;30) );</code> might yield a different result. But are you really doing 12/30 every time? Why not just have a constant value of 0.4 if that&#39;s what you need."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465418959, "post_id": 37712577, "comment_id": 62898973, "body": "What are you really trying to do?  If all you wanted to do was to divide 2 int literals and get a double, then you might as well just do <code>LeaseNoPercentage = 0.4</code>"}, {"owner": {"reputation": 3323, "user_id": 2711059, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/POUM1.jpg?s=128&g=1", "display_name": "Lijin Durairaj", "link": "https://stackoverflow.com/users/2711059/lijin-durairaj"}, "edited": false, "score": 0, "creation_date": 1465497610, "post_id": 37712577, "comment_id": 62938811, "body": "yup! i am sorry, previously the title was very misleading. working late and was frustrated with the result everytime returning zero when the division of non zero numerator....thank you all for your help....it saved my time"}], "answers": [{"tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1465419258, "creation_date": 1465419258, "answer_id": 37712728, "question_id": 37712577, "link": "https://stackoverflow.com/questions/37712577/dividing-numerator-with-non-zero-denominator-always-gives-zero-in-c/37712728#37712728", "title": "dividing numerator with non zero denominator always gives zero in c#", "body": "<p><code>12</code> and <code>30</code> are integers.  </p>\n\n<p><code>12/30</code> does integer division, and results in <code>0</code>.  </p>\n\n<p>Converting <code>0</code> the int to a double results in <code>0</code> the double.</p>\n\n<hr>\n\n<p>Since you said that your code is running, I'm going to assume that your call to <code>Convert.ToDouble</code> isn't throwing any sql-related exception, If that is the case, the following should work.</p>\n\n<pre><code>LeaseNoPercentage=Convert.ToDouble(12)/Convert.ToDouble(30)\n</code></pre>\n\n<p>That way, you'll do <code>double</code> division instead of integer division, and it should result in <code>0.4</code></p>\n"}, {"tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1465419276, "creation_date": 1465419276, "answer_id": 37712733, "question_id": 37712577, "link": "https://stackoverflow.com/questions/37712577/dividing-numerator-with-non-zero-denominator-always-gives-zero-in-c/37712733#37712733", "title": "dividing numerator with non zero denominator always gives zero in c#", "body": "<p>This has nothing to do with Linq. Your expression</p>\n\n<p>LeaseNoPercentage=Convert.ToDouble(12/30)</p>\n\n<p>first evaluates 12/30. Both arguments are integers, so the result is 0.</p>\n\n<p>That result is then passed to Convert.ToDouble(). Converting the integer 0 to a double yields 0.0.</p>\n\n<p>To avoid the issue, you need to convert 12 and 30 to double before performing division. The most straightforward way is to write them as 12.0 and 30.0. If your real code has integer variables rather than constants (lets call them num and denom), you could do:</p>\n\n<pre><code>LeaseNoPercentage = (double)num / (double)denom;\n</code></pre>\n"}], "owner": {"reputation": 3323, "user_id": 2711059, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/POUM1.jpg?s=128&g=1", "display_name": "Lijin Durairaj", "link": "https://stackoverflow.com/users/2711059/lijin-durairaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1465516072, "answer_count": 2, "score": -3, "last_activity_date": 1465497408, "creation_date": 1465418671, "last_edit_date": 1465497408, "question_id": 37712577, "link": "https://stackoverflow.com/questions/37712577/dividing-numerator-with-non-zero-denominator-always-gives-zero-in-c", "closed_reason": "Not suitable for this site", "title": "dividing numerator with non zero denominator always gives zero in c#", "body": "<p>here is my code</p>\n\n<pre><code>DataTable dt=STP_GetRenewalResultsReportData(Convert.ToDateTime(\"06-07-2015\"),Convert.ToDateTime(\"06-07-2016\")).Tables[0];\n(\nfrom r in\n(\nfrom d in dt.AsEnumerable() \ngroup d by d.Field&lt;string&gt;(\"CityID\") into grpCity\nselect new{\n CityID = grpCity.Key,\n                      City = (from g in grpCity where g.Field&lt;string&gt;(\"CityID\") == grpCity.Key select g.Field&lt;string&gt;(\"City\")).First().Trim(),\n                      PotentialRenewalCount = (from g in grpCity where g.Field&lt;string&gt;(\"CityID\") == grpCity.Key select g.Field&lt;int&gt;(\"PotentialRenewalCount\")).Sum(),\n                      // PotentialRenewalCount = 205,\n                      PotentialRenewalSQRT = (from g in grpCity where g.Field&lt;string&gt;(\"CityID\") == grpCity.Key select g.Field&lt;double&gt;(\"PotentialRenewalSQFT\")).Sum(),\n                     RENEWALCOUNT = (from g in grpCity where g.Field&lt;string&gt;(\"CityID\") == grpCity.Key select g.Field&lt;int&gt;(\"RENEWALCOUNT\")).Sum(),\n                      // RENEWALCOUNT = 23,\n                     RENEWALSQRT = (from g in grpCity where g.Field&lt;string&gt;(\"CityID\") == grpCity.Key select g.Field&lt;double&gt;(\"RENEWALSQRT\")).Sum(),                   \n\n}\n)\nselect new{\nCityID=r.CityID,\nCity=r.City,\nPotentialRenewalCount=r.PotentialRenewalCount,\nPotentialRenewalSQRT=r.PotentialRenewalSQRT,\nRENEWALCOUNT=r.RENEWALCOUNT,\nRENEWALSQRT=r.RENEWALSQRT,\nLeaseNoPercentage=Convert.ToDouble(12/30)\n}\n\n).Dump(); \n</code></pre>\n\n<p>now when you look at this line at the bottom</p>\n\n<blockquote>\n  <p>LeaseNoPercentage=Convert.ToDouble(12/30)</p>\n</blockquote>\n\n<p>i am dividing a very small number by 30 and as a result i am getting 0 when the exact result is 0.4</p>\n\n<p>so my question is how can i get 0.4 in this LINQ instead of 0</p>\n\n<p>thank you for your help</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 1, "creation_date": 1465418897, "post_id": 37712576, "comment_id": 62898942, "body": "Are you sure its a colon? normally get parameters use an equals"}], "answers": [{"tags": [], "owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "is_accepted": true, "score": 2, "last_activity_date": 1465419141, "creation_date": 1465419141, "answer_id": 37712697, "question_id": 37712576, "link": "https://stackoverflow.com/questions/37712576/getting-a-string-from-url-split-after-a-character-c/37712697#37712697", "title": "Getting a string from url split after a character c#", "body": "<p>You seem to be taking a longer way to get the value you actually want. Since you start with a <a href=\"https://msdn.microsoft.com/en-us/library/system.web.httprequest.querystring(v=vs.110).aspx\" rel=\"nofollow\"><code>QueryString</code></a>, you should just use that.</p>\n\n<pre><code>txt_username.Text = Context.Request.QueryString['username'];\n</code></pre>\n\n<hr>\n\n<p>As for your actual error, <code>Substring</code> needs to start from at least index 0, <code>LastIndexOf</code> seems to be returning -1, indicating it hasn't found the colon, probably because <code>get</code> parameters normally use an <code>=</code> instead of a <code>:</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6268596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 37712697, "answer_count": 1, "score": 0, "last_activity_date": 1465419141, "creation_date": 1465418670, "question_id": 37712576, "link": "https://stackoverflow.com/questions/37712576/getting-a-string-from-url-split-after-a-character-c", "title": "Getting a string from url split after a character c#", "body": "<p>I'm trying to use a url to post a username back and fourth from another page. My current code (which gives an error \"StartIndex cannot be less than zero.\".</p>\n\n<pre><code>if (Convert.ToString(Context.Request.QueryString).StartsWith(\"username\"))\n                {\n                    string username = Convert.ToString(Context.Request.QueryString);\n                    string input = username.Substring(username.LastIndexOf(\":\"));\n                    txt_username.Text = input;\n                }\n</code></pre>\n\n<p>the url looks like 192.168.1.1/p/login.aspx?username:textIwantintxtbox</p>\n\n<p>Obviously just trying to put the last bit into a text box. </p>\n"}, {"tags": ["c#", "moq"], "answers": [{"tags": [], "owner": {"reputation": 3455, "user_id": 1867682, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/852577b64b854aeaf589b54617e4a1a2?s=128&d=identicon&r=PG", "display_name": "PmanAce", "link": "https://stackoverflow.com/users/1867682/pmanace"}, "is_accepted": false, "score": 0, "last_activity_date": 1465528208, "creation_date": 1465528208, "answer_id": 37739306, "question_id": 37712547, "link": "https://stackoverflow.com/questions/37712547/moq-task-callback-returns-unsupported-expression-context/37739306#37739306", "title": "MOQ Task Callback Returns Unsupported Expression Context", "body": "<p>Not sure if this  would change anything but instead of doing this:</p>\n\n<pre><code>context =&gt; Task.FromResult(new DefaultActionPlan())\n</code></pre>\n\n<p>try this:</p>\n\n<pre><code>context =&gt; Task.FromResult(It.IsAny&lt;DefaultActionPlan&gt;())\n</code></pre>\n\n<p>and possibly change your returns to this:</p>\n\n<pre><code>.ReturnsAsync(new DefaultActionPlan());\n</code></pre>\n"}], "owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1676, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465528208, "creation_date": 1465418569, "question_id": 37712547, "link": "https://stackoverflow.com/questions/37712547/moq-task-callback-returns-unsupported-expression-context", "title": "MOQ Task Callback Returns Unsupported Expression Context", "body": "<p>I have been wrangling this for hours even pulling in two other collegues and we finally got a syntax the compiler was happy with but then MOQ it appears is now unhappy?!</p>\n\n<p>The code is from a very large project so I'm only going to provide the first level of abstraction otherwise this could very well be the longest post SO has ever seen.</p>\n\n<p>I'll start with my unit test:</p>\n\n<pre><code>[TestMethod]\npublic async Task GetPlan_BadPlanID()\n{\n   ...snip...\n\n   //Create DataAccessTemplate at this point doesn't need anything special\n   Mock&lt;IDataAccessTemplate&gt; dataAccessTemplate = new Mock&lt;IDataAccessTemplate&gt;();\n\n   //This is the line that throws the exception   \n   dataAccessTemplate\n      .Setup(template =&gt; template.InvokeAsync&lt;DefaultActionPlan&gt;(context =&gt; Task.FromResult(new DefaultActionPlan())))\n      .Returns(Task.FromResult(new DefaultActionPlan()));\n\n     ...snip rest of test....\n}\n</code></pre>\n\n<p>Now if needed I will show everything being mocked but for brevity I'm going to show just the method in question.</p>\n\n<pre><code>public class PlanDataProvider : BaseDomainServiceProvider, IPlanDataProvider\n{\n    protected IDataAccessTemplate Template { get; set; }\n\n\n   public async Task&lt;DefaultActionPlan&gt; GetDefaultActionPlan(string referenceListId)\n   {\n      var objectId = GetObjectId(referenceListId);\n\n      var defaultActionPlan = await Template.InvokeAsync(context =&gt; Task.FromResult(EntityStore.GetEntityById&lt;DefaultActionPlan, ObjectId&gt;\n      (\n         context.ActivityContext as IDataAccessContext,\n         typeof(DefaultActionPlan).FullName,\n         objectId\n       )));\n\n      return RemoveAclData(defaultActionPlan);\n   }\n}\n</code></pre>\n\n<p>IDataAccess:</p>\n\n<pre><code>public interface IDataAccessTemplate : IServiceTemplate\n{ //empty for now    }\n</code></pre>\n\n<p>IServiceTemplate:</p>\n\n<pre><code>public interface IServiceTemplate\n{\n   Task&lt;TReply&gt; InvokeAsync&lt;TReply&gt;(Func&lt;ITemplateContext, Task&lt;TReply&gt;&gt; invokeCallback);\n\n   Task&lt;TReply&gt; InvokeAsync&lt;TReply&gt;(Func&lt;ITemplateContext, Task&lt;TReply&gt;&gt; invokeCallback, Action&lt;ITemplateContext, Exception&gt; errorCallback);\n}\n</code></pre>\n\n<p>The error:</p>\n\n<blockquote>\n  <p>System.NotSupportedException was caught HResult=-2146233067\n    Message=Unsupported expression: context => FromResult(new DefaultActionPlan())\n    Source=Moq</p>\n  \n  <p>StackTrace:\n         at Moq.MatcherFactory.CreateMatcher(Expression expression, Boolean isParams)\n         at Moq.MethodCall..ctor(Mock mock, Condition condition, Expression originalExpression, MethodInfo method, Expression[] arguments)\n         at Moq.MethodCallReturn..ctor(Mock mock, Condition condition, Expression originalExpression, MethodInfo method, Expression[] arguments)\n         at Moq.MethodCallReturn<code>2..ctor(Mock mock, Condition condition, Expression originalExpression, MethodInfo method, Expression[] arguments)\n         at Moq.Mock.&lt;&gt;c__DisplayClass1c</code>2.b__1b()\n         at Moq.PexProtector.Invoke[T](Func<code>1 function)\n         at Moq.Mock.Setup[T,TResult](Mock</code>1 mock, Expression<code>1 expression, Condition condition)\n         at Moq.Mock</code>1.Setup[TResult](Expression`1 expression)\n         at DataService.Tests.Controllers.ActionPlan.PlanProviderTest.d__3.MoveNext() in c:\\Source...\\Dev\\DataService.Tests\\Controllers\\Plan\\PlanProviderTest.cs:line 52\n    InnerException: </p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "sql-server", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 4819186, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/c15bbac08ac6ec745c47db9554667010?s=128&d=identicon&r=PG", "display_name": "carl saptarshi", "link": "https://stackoverflow.com/users/4819186/carl-saptarshi"}, "edited": false, "score": 0, "creation_date": 1465419282, "post_id": 37712478, "comment_id": 62899135, "body": "sorry about the numbering, it went a bit funny when i was typing it.."}, {"owner": {"reputation": 47966, "user_id": 17447, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/167f4b56e9ba1c1660e5980a84e96bbe?s=128&d=identicon&r=PG", "display_name": "naveen", "link": "https://stackoverflow.com/users/17447/naveen"}, "edited": false, "score": 2, "creation_date": 1465431122, "post_id": 37712478, "comment_id": 62903453, "body": "nice detailed answer +1"}], "tags": [], "owner": {"reputation": 307, "user_id": 4819186, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/c15bbac08ac6ec745c47db9554667010?s=128&d=identicon&r=PG", "display_name": "carl saptarshi", "link": "https://stackoverflow.com/users/4819186/carl-saptarshi"}, "is_accepted": false, "score": 3, "last_activity_date": 1465431776, "last_edit_date": 1465431776, "creation_date": 1465418337, "answer_id": 37712478, "question_id": 37712477, "link": "https://stackoverflow.com/questions/37712477/asp-net-mvc5-c-error-occurred-connection-to-sql-server-server-not-found-not/37712478#37712478", "title": "ASP.NET MVC5 C# - error occurred connection to SQL Server. server not found/ not accessible", "body": "<p>If you are getting this error it could be for a range of reasons. The one that I faced was that there was a problem connecting to the database. \nIf you are facing the same issue, this is the way that i fixed it:</p>\n\n<p>1) go to the Microsoft SQL Server Express 2014 downloads page - or <a href=\"https://msdn.microsoft.com/en-us/sqlserver2014express.aspx\" rel=\"nofollow\">click here for direct link</a>.\n2)Assuming that this is your first time downloading SQL Server, then scroll down the page until you come to </p>\n\n<blockquote>\n  <p>Installation for new users:</p>\n  \n  <p>Download Microsoft SQL Server 2014 Express</p>\n</blockquote>\n\n<p>3) click it and you will be asked to sign into your .live account.<br>\n4) after signing in, you will be taken to the next page<br>\n5) here, select :</p>\n\n<blockquote>\n  <p>SQL Server 2014 LocalDB Express 32bit\n  OR\n  SQL Server 2014 LocalDB Express 64bit</p>\n</blockquote>\n\n<p>6)depending on where you are a 32bit machine or 64bit machine, select the appropriate one, the language you want etc. (fill out the details)<br>\n7)click continue and in the downloads bar you will see   </p>\n\n<blockquote>\n  <p>SqlLocalDB.msi </p>\n</blockquote>\n\n<p>8)once this is downloaded, go ahead and run the installer<br>\n9)once the installation is complete, you now want to go back to VS Community 2015, or 2014, whichever one you have. </p>\n\n<p>10) now, you need to do two things once you have your project loaded up<br>\n10.1) go to web.config (this is the very last file in solutions explorer, I DO NOT MEAN THE ONE INSIDE VIEWS)<br>\n10.2) between the <code>&lt;connectionStrings&gt; &lt;/connectionStrings&gt;</code> do you have this? :</p>\n\n<pre><code>&lt;add name=\"DefaultConnection\" \n     connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDb;AttachDbFilename=|DataDirectory|\\aspnet-BOB-20160604094017.mdf;Initial Catalog=aspnet-BOB-20160604094017;Integrated Security=True\" \n     providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>10.3) if so, then great, we can move onto the next stage (ideally it will be there) - if not, then add that snippet to your  <code>&lt;connectionStrings&gt;</code>\nHOWEVER make sure that you change \"BOB\" to your projectName, I believe the long digit can be kept the same<br>\n10.4) In the code snippet that i have posted, look for </p>\n\n<blockquote>\n  <p>(LocalDb)\\MSSQLLocalDb;</p>\n</blockquote>\n\n<p>does this exist in your code? if so then move onto the next step, otherwise change the snippet to make sure that you include this little snippet after \"Datasource = </p>\n\n<p>11) now that this has been done, go to Tools->Connect To Database<br>\n12) make sure your data source is Microsoft SQL Server<br>\n13) add the Server name: </p>\n\n<blockquote>\n  <p>(LocalDb)\\MSSQLLocalDb;</p>\n</blockquote>\n\n<p>(this is the same snippet as above, except this is what is checked for the connection)</p>\n\n<p>14) click test connection<br>\n14.1) if successful, then you can click ok, and you are done!<br>\n14.2) if not, then go back and check all the steps to make sure everything has been done correctly and it should work!</p>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 5570772, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026400820744983/picture?type=large", "display_name": "Shawn Yan", "link": "https://stackoverflow.com/users/5570772/shawn-yan"}, "is_accepted": false, "score": 0, "last_activity_date": 1465434262, "creation_date": 1465434262, "answer_id": 37715328, "question_id": 37712477, "link": "https://stackoverflow.com/questions/37712477/asp-net-mvc5-c-error-occurred-connection-to-sql-server-server-not-found-not/37715328#37715328", "title": "ASP.NET MVC5 C# - error occurred connection to SQL Server. server not found/ not accessible", "body": "<p>Mostly this is the error where your connection string is not valid and thus you should change it to something like this :</p>\n\n<pre><code>&lt;connectionStrings&gt; \n    &lt;add name=\"Connection_Name\" connectionString=\"Data Source=(local);Initial Catalog=Db_Name;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;      \n  &lt;/connectionStrings&gt;\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4819186, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/c15bbac08ac6ec745c47db9554667010?s=128&d=identicon&r=PG", "display_name": "carl saptarshi", "link": "https://stackoverflow.com/users/4819186/carl-saptarshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "closed_date": 1465496827, "answer_count": 2, "score": -1, "last_activity_date": 1465434262, "creation_date": 1465418337, "last_edit_date": 1465429896, "question_id": 37712477, "link": "https://stackoverflow.com/questions/37712477/asp-net-mvc5-c-error-occurred-connection-to-sql-server-server-not-found-not", "closed_reason": "Needs more focus", "title": "ASP.NET MVC5 C# - error occurred connection to SQL Server. server not found/ not accessible", "body": "<p>I am learning ASP.NET MVC5 and as such I need to access some database in order to get the data, since I am using the Code First method. As I was following some tutorial online, they used \"update-database\" in Visual Studio and connected to the DB. however, when I tried, I got this error:</p>\n\n<blockquote>\n  <p>A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections.</p>\n</blockquote>\n\n<p>Most of the people who posted here were discussing VS 2012 or before, so this is for VS 2015 when trying to access the database. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "asp.net-identity", "identity"], "comments": [{"owner": {"reputation": 2832, "user_id": 1506065, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kPcUB.jpg?s=128&g=1", "display_name": "prospector", "link": "https://stackoverflow.com/users/1506065/prospector"}, "edited": false, "score": 0, "creation_date": 1465420570, "post_id": 37712474, "comment_id": 62899713, "body": "Why didn&#39;t you just inherit ApplicationUser in the User class?"}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 2832, "user_id": 1506065, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kPcUB.jpg?s=128&g=1", "display_name": "prospector", "link": "https://stackoverflow.com/users/1506065/prospector"}, "edited": false, "score": 0, "creation_date": 1465420661, "post_id": 37712474, "comment_id": 62899748, "body": "That sound like a good idea. when I do that then will I have one model or two? from a data view will I then have one table instead of two?"}, {"owner": {"reputation": 2832, "user_id": 1506065, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kPcUB.jpg?s=128&g=1", "display_name": "prospector", "link": "https://stackoverflow.com/users/1506065/prospector"}, "edited": false, "score": 0, "creation_date": 1465420739, "post_id": 37712474, "comment_id": 62899792, "body": "Should only be one, but I can&#39;t remember I haven&#39;t done that in a couple years."}], "answers": [{"comments": [{"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "edited": false, "score": 1, "creation_date": 1465419684, "post_id": 37712775, "comment_id": 62899322, "body": "What class name that I should change?"}, {"owner": {"reputation": 2693, "user_id": 4089212, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-Uzq5_BY1a7A/AAAAAAAAAAI/AAAAAAAAANk/Nr0uaSmEqpc/photo.jpg?sz=128", "display_name": "Archil Labadze", "link": "https://stackoverflow.com/users/4089212/archil-labadze"}, "reply_to_user": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "edited": false, "score": 0, "creation_date": 1465419874, "post_id": 37712775, "comment_id": 62899408, "body": "You&#39;re using class name User, so if Identity system generates same name so try change it and it will work, I worked with this problem too,  changed class name to UserProfile or other and it is working now."}], "tags": [], "owner": {"reputation": 2693, "user_id": 4089212, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-Uzq5_BY1a7A/AAAAAAAAAAI/AAAAAAAAANk/Nr0uaSmEqpc/photo.jpg?sz=128", "display_name": "Archil Labadze", "link": "https://stackoverflow.com/users/4089212/archil-labadze"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419634, "last_edit_date": 1465419634, "creation_date": 1465419401, "answer_id": 37712775, "question_id": 37712474, "link": "https://stackoverflow.com/questions/37712474/how-to-add-a-column-in-net-identity-applicationuser-model-to-point-to-a-foreign/37712775#37712775", "title": "How to add a column in .Net Identity ApplicationUser model to point to a foreign model?", "body": "<p>First of all change class name. Then try to add <code>public virtual ApplicationUser</code> to  your new class hope this works,  because worked for me.\nI used new class <code>UserProfile</code> it looks like this:</p>\n\n<pre><code>[Table(\"UserProfiles\")]\npublic class UserProfile\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n    public virtual ApplicationUser User { get; set; }\n    public string UserId { get; set; }\n    public DateTime CreatedAt { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public int Gender { get; set; }\n\n    public string UrlSeo { get; set; }\n}\n</code></pre>\n\n<p>Works fine for me.</p>\n"}], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1048, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465419634, "creation_date": 1465418326, "question_id": 37712474, "link": "https://stackoverflow.com/questions/37712474/how-to-add-a-column-in-net-identity-applicationuser-model-to-point-to-a-foreign", "title": "How to add a column in .Net Identity ApplicationUser model to point to a foreign model?", "body": "<p>I am trying to use Asp.Net MVC framework with the built in Identity system that is provided by Microsoft out-of-the-box.</p>\n\n<p>However, I need to capture more data about the user. </p>\n\n<p>To minimize the changes to the Identity classes, I need created a new model called \"User\" where I put in all of my custom attributes. Then I added an attribute called \"SystemId\" which is a foreign key to the <code>ApplicationUser</code> model.</p>\n\n<p>Here is what I have done</p>\n\n<p>Here is my custom <code>User</code> model</p>\n\n<pre><code>    [Required]\n    [MaxLength(128)]\n    [ForeignKey(\"Id\")]\n    public string SystemId { get; set; }\n\n\n    [MaxLength(50)]\n    public string FirstName { get; set; }\n\n    [MaxLength(50)]\n    public string MiddleName { get; set; }\n\n    [MaxLength(50)]\n    public string LastName { get; set; }\n\n    [MaxLength(250)]\n    public string Email { get; set; }\n\n    [MaxLength(50)]\n    [Index(\"IX_Username\", 1, IsUnique = true)]\n    public string Username { get; set; }\n\n    [ForeignKey(\"Role\")]\n    public int RoleId { get; set; }\n\n\n    [ForeignKey(\"Client\")]\n    public int CurrentClientId { get; set; }\n\n    [ForeignKey(\"Campaign\")]\n    public int? CurrentCampaignId { get; set; }\n\n    public string Status { get; set; }\n\n    public virtual Role Role { get; set; }\n\n    public virtual Client Client { get; set; }\n\n    public virtual Campaign Campaign { get; set; }\n\n    public virtual ApplicationUser ApplicationUser { get; set; }\n\n    public virtual List&lt;UserToPrivilege&gt; UserToPrivileges { get; set; } \n\n    public User()\n    {\n        DateTime UtcNow = DateTime.UtcNow;\n\n        Status = \"active\";\n\n        MiddleName = null;\n\n        UserToPrivileges = new List&lt;UserToPrivilege&gt;();\n\n        CreatedAt = UtcNow;\n\n        LastUpdatedAt = UtcNow;\n    }\n\n}\n</code></pre>\n\n<p>Then in the <code>IdentityModel</code> class I changed my <code>ApplicationUser</code> class to the following</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n{\n    [ForeignKey(\"User\")]\n    public int UserId { get; set; }\n\n    public virtual User User { get; set; }\n\n    public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager)\n    {\n        // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n        var userIdentity = await manager.CreateIdentityAsync(this, DefaultAuthenticationTypes.ApplicationCookie);\n        // Add custom user claims here\n        return userIdentity;\n    }\n}\n</code></pre>\n\n<p>but when I try to create my migration like so</p>\n\n<pre><code>Add-Migration InitialCreate -Force\n</code></pre>\n\n<p>I get the following error</p>\n\n<blockquote>\n  <p>The property 'Id' cannot be configured as a navigation property. The\n  property must be a valid entity type and the property should have a\n  non-abstract getter and setter. For collection properties the type\n  must implement ICollection where T is a valid entity type.</p>\n</blockquote>\n\n<p>What am I doing wrong? How can I link custom <code>User</code> model to the <code>ApplicationUser</code> model in belong to relation?</p>\n"}, {"tags": ["c#", "regex", "regex-lookarounds"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1465417848, "post_id": 37712289, "comment_id": 62898413, "body": "You do not need a lookaround here. Just use <code>\\[\\[([^]]*)]]</code> and grab Group 1 value."}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465417869, "post_id": 37712289, "comment_id": 62898430, "body": "Would the match consist only of the word after the opening brackets?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1465419088, "post_id": 37712289, "comment_id": 62899043, "body": "Well, really nice riddle to solve. It would help if you could throw some light upon what these strings you are trying to match may consist of. I suggested using letter matching patterns, but as I also noted, <code>\\w</code> can be used instead of <code>\\p{L}</code> letter matching pattern in case they may also contain digits and underscores."}], "answers": [{"comments": [{"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465418074, "post_id": 37712379, "comment_id": 62898521, "body": "I think you misread the question. It&#39;s looking for opening brackets which <b><i>don&#39;t</i></b> have matching closing brackets."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465418446, "post_id": 37712379, "comment_id": 62898704, "body": "@4castle: I have revamped the answer to address the actual issue."}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465418645, "post_id": 37712379, "comment_id": 62898811, "body": "That still contains a false positive in the output. You probably need an atomic group to prevent backtracking."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465418733, "post_id": 37712379, "comment_id": 62898870, "body": "So, the first one should not match? The question sounds rather vague, but yes, an atomic group will be handy here. I updated the answer to reflect that requirement."}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465419046, "post_id": 37712379, "comment_id": 62899021, "body": "Looking good now :) For reference, <a href=\"https://regex101.com/r/nE3iG5/1\" rel=\"nofollow noreferrer\">here&#39;s the PCRE regex I made</a> which was very similar. (I&#39;m not too familiar with the C# regex flavor, hence why I wasn&#39;t making my own answer)."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1465419599, "post_id": 37712379, "comment_id": 62899290, "body": "I converted your regex to .NET syntax. The point is that an unachored lookbehind is redundant (in my opinion, as we can always grab Group 1 captured value) and possessive quantifiers are missing in .NET regex engine. :( It is a great pity since we can&#39;t but only use atomic groups here."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 3, "last_activity_date": 1465419362, "last_edit_date": 1495541293, "creation_date": 1465417988, "answer_id": 37712379, "question_id": 37712289, "link": "https://stackoverflow.com/questions/37712289/finding-two-open-brackets-missing-two-closing-brackets/37712379#37712379", "title": "Finding two open brackets missing two closing brackets", "body": "<p>You may try using</p>\n\n<pre><code>\\[\\[(?&gt;(\\p{Lu}\\p{L}*(?:\\.\\p{Lu}\\p{L}*)*))(?!]])\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%5c%5b%5c%5b(%3f%3e(%5cp%7bLu%7d%5cp%7bL%7d*(%3f%3a%5c.%5cp%7bLu%7d%5cp%7bL%7d*)*))(%3f!%5d%5d)&amp;i=Good+afternoon+Mr.+%5b%5bInsured.InsuredName%5d%5d+-+Your+policy+%0d%0a%5b%5bInsured.CurrentPolicy+is+out+of+date.\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Explanation</strong>:</p>\n\n<ul>\n<li><code>\\[\\[</code> - two <code>[</code> symbols</li>\n<li><code>(?&gt;</code> - start of an atomic group that will prevent backtracking into its subpatterns so that if the lookahead after it fails the match, the whole regex could return no match </li>\n<li><code>(\\p{Lu}\\p{L}*(?:\\.\\p{Lu}\\p{L}*)*)</code> - Group 1 capturing \n\n<ul>\n<li><code>\\p{Lu}\\p{L}*</code> - an uppercase letter followed with 0+ any letters (<strong>NOTE</strong>: replace <code>\\p{L}*</code> with <code>\\w*</code> to match alphanumeric and underscore characters)</li>\n<li><code>(?:\\.\\p{Lu}\\p{L}*)*</code> - zero or more sequence of a dot followed with an uppercase letter followed with 0+ any letters (same note as above applies).</li>\n</ul></li>\n<li><code>)</code> - end of the atomic group.</li>\n<li><code>(?!]])</code> - a negative lookahead that will fail the match if there are two consecutive <code>]]</code> right after the matched text.</li>\n</ul>\n\n<p><strong>In case you just need to match any non-whitespace and non-<code>]</code> characters after <code>[[</code></strong>, you may use <a href=\"https://stackoverflow.com/questions/37712289/finding-two-open-brackets-missing-two-closing-brackets#comment62899021_37712379\">4castle's approach</a> and use</p>\n\n<pre><code>\\[\\[(?&gt;([^]\\s]+))(?!]])\n</code></pre>\n\n<p>See <a href=\"http://regexstorm.net/tester?p=%5C%5B%5C%5B(%3F%3E(%5B%5E%5D%5Cs%5D%2B))(%3F!%5D%5D)&amp;i=Good%20afternoon%20Mr.%20%5B%5BInsured.InsuredName%5D%5D%20-%20Your%20policy%20%0D%0A%5B%5BInsured.CurrentPolicy%20is%20out%20of%20date.\" rel=\"nofollow noreferrer\">this regex demo</a></p>\n\n<p>Its explanation is pretty similar, just <code>[^]\\s]+</code> matches 1 or more characters other than <code>]</code> and whitespace.</p>\n\n<p>C# code:</p>\n\n<pre><code>var results = Regex.Matches(input, @\"\\[\\[(?&gt;(\\p{Lu}\\p{L}*(?:\\.\\p{Lu}\\p{L}*)*))(?!]])\")\n       .Cast&lt;Match&gt;()\n       .Select(m =&gt; m.Groups[1].Value)\n       .ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 774, "user_id": 3373429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LERZ2.jpg?s=128&g=1", "display_name": "Steve Kline", "link": "https://stackoverflow.com/users/3373429/steve-kline"}, "is_accepted": true, "score": 1, "last_activity_date": 1465422107, "creation_date": 1465422107, "answer_id": 37713432, "question_id": 37712289, "link": "https://stackoverflow.com/questions/37712289/finding-two-open-brackets-missing-two-closing-brackets/37713432#37713432", "title": "Finding two open brackets missing two closing brackets", "body": "<p>You could also try this, I got some errors on Wiktor's syntax. Could be specific to a certain version of regex. This one seems to be flexible to most regex versions.</p>\n\n<pre><code>(\\[\\[\\s*[a-zA-Z]+\\.[a-zA-Z]+\\b)(?!]])\n</code></pre>\n\n<p><a href=\"http://regexstorm.net/tester?p=(%5C%5B%5C%5B%5Ba-zA-Z%5D%2B%5C.%5Ba-zA-Z%5D%2B%5Cb)(%3F!%5D%5D)&amp;i=Good%20afternoon%20Mr.%20%5B%5BInsured.InsuredName%5D%5D%20-%20Your%20policy%20%0D%0A%5B%5BInsured.CurrentPolicy%20is%20out%20of%20date.%20This%20should%20also%20work%20on%20this%20%5B%5BInsured.SomeDataHere.%20&amp;o=im\" rel=\"nofollow\">Regex Example</a></p>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 5888860, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153265400236581/picture?type=large", "display_name": "Jim Driscoll", "link": "https://stackoverflow.com/users/5888860/jim-driscoll"}, "is_accepted": false, "score": 1, "last_activity_date": 1465426954, "creation_date": 1465426954, "answer_id": 37714336, "question_id": 37712289, "link": "https://stackoverflow.com/questions/37712289/finding-two-open-brackets-missing-two-closing-brackets/37714336#37714336", "title": "Finding two open brackets missing two closing brackets", "body": "<p>In regular expressions, \"not\" is generally your enemy, so for this case I'd suggest just going for:</p>\n\n<pre><code>\\[\\[[a-zA-Z.]+\\]?([^a-zA-Z.\\]]|$)\n</code></pre>\n\n<p>It'll miss some cases like \"[[Foo.Bar]Baz\" but it's fairly readable and will catch a lot of cases.</p>\n"}], "owner": {"reputation": 193, "user_id": 600531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f752165eeaec2de40ddd979f3ddf637?s=128&d=identicon&r=PG", "display_name": "John Hennesey", "link": "https://stackoverflow.com/users/600531/john-hennesey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 37713432, "answer_count": 3, "score": 0, "last_activity_date": 1465483460, "creation_date": 1465417664, "last_edit_date": 1465483460, "question_id": 37712289, "link": "https://stackoverflow.com/questions/37712289/finding-two-open-brackets-missing-two-closing-brackets", "title": "Finding two open brackets missing two closing brackets", "body": "<p>I would like to have a Regex that will match any words that begin with two open brackets but do not have two matching closing brackets.  For example:</p>\n\n<pre><code>Good afternoon Mr. [[Insured.InsuredName]] - Your policy \n[[Insured.CurrentPolicy is out of date.\n</code></pre>\n\n<p>In this case \"Insured.CurrentPolicy\" would be caught.  I'm new at lookahead/lookbehinds.  I appreciate your help.</p>\n"}, {"tags": ["c#", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 1395, "user_id": 188323, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZHqAJ.jpg?s=128&g=1", "display_name": "Florim Maxhuni", "link": "https://stackoverflow.com/users/188323/florim-maxhuni"}, "is_accepted": false, "score": 0, "last_activity_date": 1465422520, "creation_date": 1465422520, "answer_id": 37713538, "question_id": 37712246, "link": "https://stackoverflow.com/questions/37712246/importing-access-data-into-visual-studio-project/37713538#37713538", "title": "importing access data into visual studio project", "body": "<p>Add access file to your solution then in property of the file change \"Copy to Output Directory\" from \"Do not copy\" to \"Copy if newer\" then the file will be in your bin directory.</p>\n"}], "owner": {"reputation": 153, "user_id": 6062021, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/e310bd60cab362e45df423b8b1523cbe?s=128&d=identicon&r=PG&f=1", "display_name": "M_kul", "link": "https://stackoverflow.com/users/6062021/m-kul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465422520, "creation_date": 1465417541, "question_id": 37712246, "link": "https://stackoverflow.com/questions/37712246/importing-access-data-into-visual-studio-project", "title": "importing access data into visual studio project", "body": "<p>I am building a simple visual studio application that basically is going to look up some data.</p>\n\n<p>The problem I have is the data comes from a access file which I connected simply enough. Selected my tables no problem. when I publish the program setup exe fails because it is looking for the access file. So how do I either include the database in the publish file and tell to build from the database that was included or better how do I import the database file into an internal dataset in visual studio </p>\n"}, {"tags": ["c#", "wpf", "xaml", "oxyplot"], "answers": [{"comments": [{"owner": {"reputation": 1775, "user_id": 5066895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bHw56.png?s=128&g=1", "display_name": "Dieter Meemken", "link": "https://stackoverflow.com/users/5066895/dieter-meemken"}, "edited": false, "score": 0, "creation_date": 1484214334, "post_id": 41609288, "comment_id": 70421063, "body": "Can you explain a bit more?"}, {"owner": {"reputation": 259, "user_id": 6375151, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh5.googleusercontent.com/-jmtcYehoKks/AAAAAAAAAAI/AAAAAAAAAFQ/yMcio_llkDA/photo.jpg?sz=128", "display_name": "Po-Sen Huang", "link": "https://stackoverflow.com/users/6375151/po-sen-huang"}, "reply_to_user": {"reputation": 1775, "user_id": 5066895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bHw56.png?s=128&g=1", "display_name": "Dieter Meemken", "link": "https://stackoverflow.com/users/5066895/dieter-meemken"}, "edited": false, "score": 0, "creation_date": 1484273003, "post_id": 41609288, "comment_id": 70453521, "body": "Because I have this question, see <a href=\"http://stackoverflow.com/questions/41565360/oxyplot-axis-locking-center-when-mouse-wheel/41589285?noredirect=1#comment70415810_41589285\" title=\"oxyplot axis locking center when mouse wheel\">stackoverflow.com/questions/41565360/&hellip;</a>"}], "tags": [], "owner": {"reputation": 259, "user_id": 6375151, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh5.googleusercontent.com/-jmtcYehoKks/AAAAAAAAAAI/AAAAAAAAAFQ/yMcio_llkDA/photo.jpg?sz=128", "display_name": "Po-Sen Huang", "link": "https://stackoverflow.com/users/6375151/po-sen-huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1484212979, "creation_date": 1484212979, "answer_id": 41609288, "question_id": 37712239, "link": "https://stackoverflow.com/questions/37712239/oxyplot-majorstep-behavior/41609288#41609288", "title": "OxyPlot MajorStep behavior", "body": "<p>Maybe you can override <code>ZoomAt</code> method to change your center.</p>\n"}], "owner": {"reputation": 982, "user_id": 5737039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6hjdN.jpg?s=128&g=1", "display_name": "John Stritenberger", "link": "https://stackoverflow.com/users/5737039/john-stritenberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484212979, "creation_date": 1465417530, "last_edit_date": 1465476111, "question_id": 37712239, "link": "https://stackoverflow.com/questions/37712239/oxyplot-majorstep-behavior", "title": "OxyPlot MajorStep behavior", "body": "<p>On my LinearAxis, I am attempting to always have the center value shown and major steps as a function of that center value. Consider the following...</p>\n\n<pre><code>double _centerValue = 5;\naxis.Minimum   = _centerValue - 200;\naxis.Maximum   = _centerValue + 200;\naxis.MajorStep = 100;\n</code></pre>\n\n<p>My thought was that, starting at the minimum, the major step would occur every 100 units, resulting in intervals of -195, -95, 5, 105, and 205. However, the intervals occur at multiples of 100. This is undesirable in that it leaves me with an awkward graph that has an unmarked center value and unbalanced major step labels.</p>\n\n<p>The following shot was taken with the code above at a _centerValue of 50..</p>\n\n<p><a href=\"http://i.stack.imgur.com/dzgWq.jpg\" rel=\"nofollow\">BadGraph</a></p>\n\n<p>The following, using my jank paint skills, is what I'm after...</p>\n\n<p><a href=\"http://i.stack.imgur.com/ZgfrZ.jpg\" rel=\"nofollow\">GoodGraph</a></p>\n\n<p>How can I get my desired behavior with OxyPlot? It is worth to note that _centerValue can change dynamically.</p>\n"}, {"tags": ["c#", "list", "unityscript"], "answers": [{"tags": [], "owner": {"reputation": 635, "user_id": 4663059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-fLiJ1utJdi8/AAAAAAAAAAI/AAAAAAAAANE/MM81uL22wo0/photo.jpg?sz=128", "display_name": "DanielGatti", "link": "https://stackoverflow.com/users/4663059/danielgatti"}, "is_accepted": false, "score": 1, "last_activity_date": 1465417160, "creation_date": 1465417160, "answer_id": 37712148, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception/37712148#37712148", "title": "List.Count Raises Null Reference Exception", "body": "<p>Ship does not contain weapons list.</p>\n\n<p>You can avoid the exception with </p>\n\n<pre><code>Ship ship = GameObject.Find(\"Player\").GetComponent&lt;Ship&gt;();\nif (ship != null &amp;&amp; ship.weaponsList != null &amp;&amp; ship.weaponsList.Count &gt;=2)\n{\n    //do stuff\n}\n</code></pre>\n\n<p>\u00bfIs the method  Start() been call?</p>\n"}, {"tags": [], "owner": {"reputation": 3628, "user_id": 750873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cec1fa76916f1d713df2f4ef6aef433b?s=128&d=identicon&r=PG", "display_name": "Jon Raynor", "link": "https://stackoverflow.com/users/750873/jon-raynor"}, "is_accepted": false, "score": 0, "last_activity_date": 1465417406, "creation_date": 1465417406, "answer_id": 37712211, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception/37712211#37712211", "title": "List.Count Raises Null Reference Exception", "body": "<p>Instead of putting the initialization of the weapons list in the <code>void Start()</code> put it in the constructor of the object.  Then when the ship is created, the weapons list will always be initialized with a zero count.  A constructor should always put the object in question into a valid state so it can be used.  Sometimes, programmers create Init() or Start() methods to defer expensive logic until a method actually needs it, but in this case I would definitely put that initialization in the constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 4547216, "user_type": "registered", "profile_image": "https://graph.facebook.com/337774126432253/picture?type=large", "display_name": "Tanner Fix-It Smith", "link": "https://stackoverflow.com/users/4547216/tanner-fix-it-smith"}, "edited": false, "score": 0, "creation_date": 1465418453, "post_id": 37712238, "comment_id": 62898708, "body": "This solved the problem. I made an edit to the question stating that Unity always calls the Start() method when the script initializes before anything else, so I assumed it would work in the same fashion that a constructor would. Thank you for the suggestion."}, {"owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 2, "creation_date": 1465424278, "post_id": 37712238, "comment_id": 62901337, "body": "That solution causes <code>weaponsList</code> to be initialized twice. If there was anything done with the <code>weaponsList</code> before calling the <code>Start()</code> method this would cause odd behaviors. Better remove the second initialization out of the <code>Start()</code> method and even better make sure <code>weaponsList</code> can only be initialized once and/or only internally within the <code>Ship</code> class."}], "tags": [], "owner": {"reputation": 1352, "user_id": 4057416, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vtBTZ.jpg?s=128&g=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/4057416/mohsen"}, "is_accepted": true, "score": 2, "last_activity_date": 1465417525, "creation_date": 1465417525, "answer_id": 37712238, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception/37712238#37712238", "title": "List.Count Raises Null Reference Exception", "body": "<p>To avoid this error <strong>Add constructor to your class</strong></p>\n\n<pre><code>public class Ship : MonoBehaviour \n{\n    public Ship()\n    {\n         weaponsList = new List&lt;Weapon&gt;();\n    }\n    public List&lt;Weapon&gt; weaponsList;\n\n    void Start()\n    {\n        weaponsList = new List&lt;Weapon&gt;();\n        weaponsList.Add(new Weapon());\n        weaponsList.Add(new Weapon());\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2722, "user_id": 93991, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/s7XtJ.jpg?s=128&g=1", "display_name": "JeffFerguson", "link": "https://stackoverflow.com/users/93991/jeffferguson"}, "is_accepted": false, "score": 0, "last_activity_date": 1465417647, "creation_date": 1465417647, "answer_id": 37712283, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception/37712283#37712283", "title": "List.Count Raises Null Reference Exception", "body": "<p>The list is constructed when <code>Start()</code> is called. If <code>Start()</code> is not called before the list is accessed, your error will appear. My guess is that you are trying to access the list before <code>Start()</code> is called.</p>\n\n<p>You should consider building a constructor for the <code>Ship</code> class and placing the initialization code there:</p>\n\n<pre><code>public class Ship : MonoBehaviour \n{\n    public List&lt;Weapon&gt; weaponsList;\n\n    public Ship()\n    {\n        weaponsList = new List&lt;Weapon&gt;();\n        weaponsList.Add(new Weapon());\n        weaponsList.Add(new Weapon());\n    }\n}\n</code></pre>\n\n<p>This constructor will be called as soon as objects of the class are created, and you won't have to call a method explicitly to get the object's properties constructed.</p>\n"}, {"tags": [], "owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "is_accepted": false, "score": 2, "last_activity_date": 1465417746, "creation_date": 1465417746, "answer_id": 37712308, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception/37712308#37712308", "title": "List.Count Raises Null Reference Exception", "body": "<p>Your <code>weaponsList</code> is <code>null</code> if <code>Start()</code> isn't called ... or it becomes <code>null</code> at some point. Change the public variable to become a public property to deny external callers to change the internal list:</p>\n\n<pre><code>public class Ship : MonoBehaviour \n{\n    public List&lt;Weapon&gt; weaponsList { get; private set; }\n    public Ship()\n    {\n        weaponsList = new List&lt;Weapon&gt;();\n    }\n    ...\n}\n</code></pre>\n\n<p>This will likely create compiler errors in other parts of your application. These errors are probably the reason why <code>weaponsList</code> becomes <code>null</code>.</p>\n\n<p>In terms of better coding practice some more suggestions to change the property to this:</p>\n\n<pre><code>public IList&lt;IWeapon&gt; Weapons { get; private set; }\n</code></pre>\n\n<ul>\n<li>Change the <code>List</code> to an interface.</li>\n<li>Change the <code>Weapon</code> to an <code>IWeapon</code>.</li>\n<li>Use Pascal notation (<code>Weapons</code>, not <code>weapons</code>).</li>\n<li>Avoid types in names: <code>Weapons</code>, not <code>WeaponsList</code> (that it is a list is obvious)</li>\n</ul>\n"}], "owner": {"reputation": 95, "user_id": 4547216, "user_type": "registered", "profile_image": "https://graph.facebook.com/337774126432253/picture?type=large", "display_name": "Tanner Fix-It Smith", "link": "https://stackoverflow.com/users/4547216/tanner-fix-it-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4488, "favorite_count": 0, "closed_date": 1465418505, "accepted_answer_id": 37712238, "answer_count": 5, "score": 2, "last_activity_date": 1465418281, "creation_date": 1465416935, "last_edit_date": 1465418281, "question_id": 37712092, "link": "https://stackoverflow.com/questions/37712092/list-count-raises-null-reference-exception", "closed_reason": "Duplicate", "title": "List.Count Raises Null Reference Exception", "body": "<p>I'm creating a 2D spaceship game in Unity. I have an object titled \"Player\" with this script attached to it. In the script, I have this class representing the player's ship:</p>\n\n<pre><code>public class Ship : MonoBehaviour \n{\n    public List&lt;Weapon&gt; weaponsList;\n\n    void Start()\n    {\n        weaponsList = new List&lt;Weapon&gt;();\n        weaponsList.Add(new Weapon());\n        weaponsList.Add(new Weapon());\n    }\n}\n</code></pre>\n\n<p>And this class (within the same script) representing a weapon:</p>\n\n<pre><code>public class Weapon\n{\n    //properties here\n}\n</code></pre>\n\n<p>Now, when I try to reference weaponsList to get List.Count using this code (from a different script), it throws a NullReferenceException, saying Object reference not set to an instance of an object:</p>\n\n<pre><code>Ship ship = GameObject.Find(\"Player\").GetComponent&lt;Ship&gt;();\nif (ship.weaponsList.Count &gt;=2)\n{\n    //do stuff\n}\n</code></pre>\n\n<p>But any other property of ship i try to access works just fine. Can someone help? If you need additional context or code, please let me know and I'll make the necessary edits.</p>\n\n<p><strong>EDIT:</strong> The start method is special to Unity and is always called by default when the script initializes.</p>\n"}, {"tags": ["c#", "domain-driven-design"], "comments": [{"owner": {"reputation": 43712, "user_id": 1146363, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/071bc4c7c6229920fd24f2f37d42b382?s=128&d=identicon&r=PG", "display_name": "Cerad", "link": "https://stackoverflow.com/users/1146363/cerad"}, "edited": false, "score": 0, "creation_date": 1465423724, "post_id": 37712080, "comment_id": 62901140, "body": "Have you considered using a ServiceFactory and validating the service there?"}, {"owner": {"reputation": 39014, "user_id": 1211528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/88f7b504ba3fffac19860abd3aa7cf91?s=128&d=identicon&r=PG", "display_name": "plalx", "link": "https://stackoverflow.com/users/1211528/plalx"}, "edited": false, "score": 0, "creation_date": 1465438590, "post_id": 37712080, "comment_id": 62904975, "body": "Is Service an aggregate root?"}, {"owner": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465973899, "post_id": 37712080, "comment_id": 63118795, "body": "You need not wait until the item is added to the invoice. Creating the service object itself should fail if that service is not valid(does not exist in the system)"}, {"owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "reply_to_user": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465974183, "post_id": 37712080, "comment_id": 63118946, "body": "@arulKumaran what if the service object is valid for creating, f.e. if you wish to add a new service to the DB, but it is invalid to be added in the item in that state, or if you need to add 500 items. should i have one DB call to validate all 500, or 500 db calls to validate one by one ?"}, {"owner": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465976059, "post_id": 37712080, "comment_id": 63120020, "body": "@Robert, it is very difficult to answer your question without much idea on how your objects are related. What is the relation between &#39;service&#39; and &#39;item&#39;? Is it one-to-one or one-to-many or many-to-many etc..? But the essence is that you should validate before relating the objects. In this case, it is the statement &#39;new Item(service)&#39;. If that service is not supposed to be linked with that item, that statement shouldn&#39;t pass. where to put that validation logic depends on the relation between &#39;service&#39; and &#39;item&#39;"}, {"owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "reply_to_user": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465976158, "post_id": 37712080, "comment_id": 63120085, "body": "@ArulKumaran I see, so it is not unusual to inject repository in domain object functions or factories, to make sure that object is not in invalid state?"}, {"owner": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465977481, "post_id": 37712080, "comment_id": 63120846, "body": "@Robert, AFAIK, It is not advisable to use repositories in domain objects. That way you keep the domain free of infrastructure(like DB) and also keep it testable. You can use a factory/builder to create your item and have a validation service(which has the repo) in that factory/builder which does the validation for you before creating the object. Using repositories in factories is fine."}, {"owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "reply_to_user": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465977652, "post_id": 37712080, "comment_id": 63120959, "body": "@ArulKumaran i see. and if i have method to change one of that properties, i can have that same method to receive ValidationService interface as well? FE invoice.AddItems(items, IValidationService) ?"}, {"owner": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465977806, "post_id": 37712080, "comment_id": 63121057, "body": "I would not do it as it leads to coupling"}, {"owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "reply_to_user": {"reputation": 1076, "user_id": 831553, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kPc8i.jpg?s=128&g=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/831553/falcon"}, "edited": false, "score": 0, "creation_date": 1465977940, "post_id": 37712080, "comment_id": 63121120, "body": "@ArulKumaran could you please tell me what would be your suggestion for this scenario? How would a domain validate if the added items are valid for that particular invoice, if the validation requires data from the DB?"}], "answers": [{"comments": [{"owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "edited": false, "score": 0, "creation_date": 1465446738, "post_id": 37714071, "comment_id": 62906739, "body": "I like your solution about validation at the client level, but then the domain object would be allowed to enter to an invalid state. I guess i should make a compromise depending on the business requirements."}, {"owner": {"reputation": 12946, "user_id": 484041, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/y7OPa.jpg?s=128&g=1", "display_name": "Alexey Zimarev", "link": "https://stackoverflow.com/users/484041/alexey-zimarev"}, "reply_to_user": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "edited": false, "score": 0, "creation_date": 1465845168, "post_id": 37714071, "comment_id": 63060910, "body": "@Robert you need to raise a business question - what happens if we add an item for the service that does not exist. Usually, if you do such operation, you got this &quot;SomeService&quot; string from somewhere, so probably it existed at the moment your command was formed. This makes the aforementioned question completely valid and it is not &quot;invalid state&quot;, it is just state that you have to deal with. Also calculate what is the probability for this to occur, referring to the DDDx Greg Young&#39;s talk about over-engineering."}], "tags": [], "owner": {"reputation": 39380, "user_id": 54734, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ea91774321962f70f19362f43568cda9?s=128&d=identicon&r=PG", "display_name": "VoiceOfUnreason", "link": "https://stackoverflow.com/users/54734/voiceofunreason"}, "is_accepted": true, "score": 1, "last_activity_date": 1465425427, "creation_date": 1465425427, "answer_id": 37714071, "question_id": 37712080, "link": "https://stackoverflow.com/questions/37712080/ddd-child-object-references/37714071#37714071", "title": "DDD Child object references", "body": "<blockquote>\n  <p>My question is, should i require AddItem function to receive Repository as second parameter, and throw exception if Service does not exist in database?</p>\n</blockquote>\n\n<p>Short answer: sure, why not?</p>\n\n<p>Longer answer...</p>\n\n<p>If Service and Invoice are part of the same aggregate, then the repository is unnecessary -- just look at the state of the aggregate.  So what follows assumes that there is a transaction boundary between the Invoice and the Service.</p>\n\n<p>Using a Repository as the argument is a bit too much stuff -- Invoice doesn't need to load the Service, it just needs to know if the Service <em>exists</em>.  So instead of putting a Repository in the method signature, you could use a DomainService that supports the \"does this service exist?\" query.</p>\n\n<p>(The implementation of the DomainService probably does a lookup in the Repository -- we're not doing magic here, we're just isolating Invoice from implementation details it doesn't need to know about).</p>\n\n<p>Using the more restrictive interface in the signature documents clearly what the integration contract is between these components.</p>\n\n<p><strong>That said</strong>, the <em>requirement</em> is very suspicious.  If Service and Invoice are in different aggregates, then they potentially have different life cycles.  What is supposed to happen when you try to load an invoice, that includes an item that references a service which no longer exists?  Is that use case supposed to explode? if so, it's going to be hard to edit the invoice to fix the problem....</p>\n\n<p>What if, while you are adding the item to the invoice, some other thread is deleting the service...?</p>\n\n<p>Review Udi Dahan's essay: <a href=\"http://udidahan.com/2010/08/31/race-conditions-dont-exist/\" rel=\"nofollow\">Race Conditions Don't Exist</a>.  Executive summary - if your model is sensitive to microsecond variations in timing, you probably aren't modelling your business.</p>\n\n<p>You've got at least three other alternatives to protect this \"invariant\".</p>\n\n<p>One is at the client level; if you don't let the client produce invalid service codes, then you aren't going to have this problem.  Input validation belongs in the client component or in the application component, not so much the model.  That is, it's the sort of thing that you might check when the application is constructing the ServiceCode from the DTO that traveled across the process boundary.</p>\n\n<p>One is downstream of the model - if you can detect invoice items that reference service codes that are invalid, then you can broadcast an exception report, and use the contingency response process to manage the problem.  Consistency issues that are rare, cheap to detect, easy to fix don't need tight validation in the domain model.</p>\n\n<p>One is within the model itself - if creation of an invoice item is tightly coupled to the lifetime of a service, then maybe the item is created by the service, rather than by the invoice.  For example</p>\n\n<pre><code>class Service {\n    reportUsage(Customer, TimePeriod)\n}\n</code></pre>\n\n<p>Wouldn't be an unusual looking signature, and you can probably be confident that the Service raising a domain event is going to correctly report its own ServiceCode.  </p>\n"}], "owner": {"reputation": 2801, "user_id": 3645827, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2f7cff9eedadb282bac3a877dcb83134?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3645827/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 37714071, "answer_count": 1, "score": 0, "last_activity_date": 1465425427, "creation_date": 1465416896, "question_id": 37712080, "link": "https://stackoverflow.com/questions/37712080/ddd-child-object-references", "title": "DDD Child object references", "body": "<p>I have an invoice object, which consists of items, and each item has a relation to service.</p>\n\n<p>Following structure.</p>\n\n<pre><code>{\n   \"invoiceId\" : \"dsr23343\",\n   \"items\":{\n      \"id\":1,\n      \"service\":{\n         \"serviceCode\":\"HTT\"\n      }\n   }\n}\n</code></pre>\n\n<p>One of my requirements is that the item should not have a relation to service which does not exist in our system.\nFrom my understanding, domain objects should never enter in an invalid state. \nSo what I am doing is following:</p>\n\n<pre><code>var service = new Service(\"SomeService\");\nvar item = new Item(service);\ninvoice.AddItem(item);\n</code></pre>\n\n<p>My question is, should i require <code>AddItem</code> function to receive Repository as second parameter, and throw exception if Service does not exist in database?</p>\n"}, {"tags": ["c#", "xaml", "win-universal-app", "uwp", "uwp-xaml"], "comments": [{"owner": {"reputation": 2571, "user_id": 5409512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-VwtsrwKgtm8/AAAAAAAAAAI/AAAAAAAAADg/wzubIO2Hr6o/photo.jpg?sz=128", "display_name": "Alfie Goodacre", "link": "https://stackoverflow.com/users/5409512/alfie-goodacre"}, "edited": false, "score": 0, "creation_date": 1465417173, "post_id": 37712068, "comment_id": 62898060, "body": "On the double tap is there not something like (assuming <code>e</code> is your MouseEventArgs) <code>e.Button</code>"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 2571, "user_id": 5409512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-VwtsrwKgtm8/AAAAAAAAAAI/AAAAAAAAADg/wzubIO2Hr6o/photo.jpg?sz=128", "display_name": "Alfie Goodacre", "link": "https://stackoverflow.com/users/5409512/alfie-goodacre"}, "edited": false, "score": 0, "creation_date": 1465417261, "post_id": 37712068, "comment_id": 62898110, "body": "@AlfieGoodacre Unfortunately not."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1465417280, "post_id": 37712068, "comment_id": 62898117, "body": "<code>Tapped</code> is an (abstracted) gesture, not a pointer event"}], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1465417431, "post_id": 37712145, "comment_id": 62898203, "body": "Thanks. I can&#39;t seem to find a better way."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1465417468, "post_id": 37712145, "comment_id": 62898224, "body": "I don&#39;t understand your edit. What did you mean by &quot;handedness&quot;?"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "reply_to_user": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1465417804, "post_id": 37712145, "comment_id": 62898385, "body": "I might have misunderstood. Saw the fine print in your question just now ;)  When you filter the <code>DoubleTapped</code> for left clicks, what are you going to do (differently) when users double-tap on the touch screen?  handedness: tapping touch screen with fingers of the left vs. right hand"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1465418117, "post_id": 37712145, "comment_id": 62898543, "body": "On touch-screens I won&#39;t differentiate between &quot;types&quot; of taps."}], "tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": false, "score": 1, "last_activity_date": 1465417148, "creation_date": 1465417148, "answer_id": 37712145, "question_id": 37712068, "link": "https://stackoverflow.com/questions/37712068/when-doubletapped-by-mouse-discover-by-which-button/37712145#37712145", "title": "When DoubleTapped by mouse - discover by which button", "body": "<p>The <code>DoubleTapped</code> will be preceded by a <code>Tapped</code>, and a <code>PointerPressed</code>. Handle the <code>PointerPressed</code>, query its <code>PointerRoutedEventArgs.Properties.IsLeftButtonPressed</code> and remember until the <code>DoubleTapped</code> fires.</p>\n\n<p>Reference: <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.pointerpressed\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.pointerpressed</a></p>\n\n<p>Keep in mind that if you rely on that, and your app is used on a tablet with no pointing device, actual tapping gestures will not have \"handedness\".</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1465417148, "creation_date": 1465416852, "question_id": 37712068, "link": "https://stackoverflow.com/questions/37712068/when-doubletapped-by-mouse-discover-by-which-button", "title": "When DoubleTapped by mouse - discover by which button", "body": "<p>I want to allow users to double-tap a mouse's left button. But <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.doubletapped\" rel=\"nofollow\">DoubleTapped</a> is fired for <em>any</em> mouse button, and I don't see any way to discover (in the event handler) which button was clicked.</p>\n\n<p><sub>(More info: I also want to allow double-taps on a touch-screen, which is why I'm using this.)</sub></p>\n"}, {"tags": ["c#", "asp.net-mvc", "unit-testing", "nunit", "moq"], "answers": [{"tags": [], "owner": {"reputation": 2005, "user_id": 1579999, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bae6b11f71164e8590a9ed6c7eee958e?s=128&d=identicon&r=PG", "display_name": "JasonWilczak", "link": "https://stackoverflow.com/users/1579999/jasonwilczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1465418481, "creation_date": 1465418481, "answer_id": 37712515, "question_id": 37712045, "link": "https://stackoverflow.com/questions/37712045/mocking-service-channels/37712515#37712515", "title": "Mocking Service Channels", "body": "<p>Well, after some work, I <em>think</em> I figured it out.  I needed to match the function parameter in my IServiceChannel Implementation:</p>\n\n<pre><code>public TResult Fetch&lt;TResult&gt;(Func&lt;T, TResult&gt; block)\n{ ... }\n</code></pre>\n\n<p>So now my test Setup changed to look like this:</p>\n\n<pre><code> var someChannelMoc = new Mock&lt;IServiceChannel&lt;ISomeService&gt;&gt;();\n            someChannelMoc.Setup(i =&gt; i.Fetch(It.IsAny&lt;Func&lt;ISomeService,GetSomeDataResponse&gt;&gt;()))\n                .Returns(()=&gt;new GetSomeDataResponse{AllData= new List&lt;Data&gt;()});\n\n            _someChannel = someChannelMoc.Object;\n</code></pre>\n\n<p>For the sake of something better, I'm going to hold off marking this as answered to see if something better comes along as I cannot specify the input parameter for the function.  That isn't a problem for me, but it may be for someone in the future.</p>\n"}], "owner": {"reputation": 2005, "user_id": 1579999, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bae6b11f71164e8590a9ed6c7eee958e?s=128&d=identicon&r=PG", "display_name": "JasonWilczak", "link": "https://stackoverflow.com/users/1579999/jasonwilczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 37712515, "answer_count": 1, "score": 1, "last_activity_date": 1465418481, "creation_date": 1465416745, "question_id": 37712045, "link": "https://stackoverflow.com/questions/37712045/mocking-service-channels", "title": "Mocking Service Channels", "body": "<p>I am writing some unit tests for code that was already written.  I ran into a situation that, surprisingly, I haven't run into before.</p>\n\n<p>In short, I need to test a Controller that takes in a service dependency via DI and in the Index action a method is called on that service to return data for the view.</p>\n\n<p>My issue is that I can't seem to mock out the service dependency.  I tried searching a bit but couldn't find anything that directly dealt with my issue (or my lack of understanding).</p>\n\n<p>Below is an example of the controller:</p>\n\n<pre><code>public partial class SomeController : Controller\n{\n    private readonly IServiceChannel&lt;ISomeService&gt; _someChannel;\n\n    public SomeController(IServiceChannel&lt;ISomeService&gt; someChannel)\n    {\n        _someChannel= someChannel;\n    }\n\n    public virtual ActionResult Index()\n    {\n        var response = _someChannel.Fetch(someService =&gt; someService .GetSomeData(\n            new GetSomeDataRequest\n            {\n                Id= StaticData.Id,\n                All = true\n            }\n        ));\n\n        var model = new IndexViewModel\n        {\n            AllData= response.AllData\n        };\n\n        return View(model);\n    }\n}\n</code></pre>\n\n<p>As you can see, DI injects an instance of IServiceChannel which has a \"Fetch\" method.  That method then gives you access to ISomeService and from there you can call any method on the interface with the necessary params.</p>\n\n<p>I attempted to write a test around this using the below logic:</p>\n\n<pre><code>[TestFixture]\npublic class SomeControllerTests\n{\n    private IServiceChannel&lt;ISomeService&gt; _someChannel;\n    [SetUp]\n    public void Setup()\n    {\n        var someChannelMoc = new Mock&lt;IServiceChannel&lt;ISomeService&gt;&gt;();\n        someChannelMoc.Setup(\n            i =&gt; i.Fetch(service =&gt; service.GetSomeData(It.IsAny&lt;GetSomeDataRequest&gt;())))\n            .Returns(new GetSomeDataResponse());\n\n        _someChannel= someChannelMoc.Object;\n    }\n\n    [Test]\n    public void IndexTest()\n    {\n        var controller = new SomeController(_someChannel);\n        var result = controller.Index();\n        Assert.IsNotNull(result);\n    }\n}\n</code></pre>\n\n<p>This all builds well, but when the test runs I see the following error:</p>\n\n<blockquote>\n  <p>SetUp : System.NotSupportedException : Unsupported expression: service\n  => service.GetSomeData(IsAny())    at Moq.MatcherFactory.CreateMatcher(Expression expression, Boolean\n  isParams)    at Moq.MethodCall..ctor(Mock mock, Condition condition,\n  Expression originalExpression, MethodInfo method, Expression[]\n  arguments)    at Moq.MethodCallReturn..ctor(Mock mock, Condition\n  condition, Expression originalExpression, MethodInfo method,\n  Expression[] arguments)    at Moq.MethodCallReturn<code>2..ctor(Mock mock,\n  Condition condition, Expression originalExpression, MethodInfo method,\n  Expression[] arguments)    at\n  Moq.Mock.&lt;&gt;c__DisplayClass1c</code>2.b__1b()    at\n  Moq.PexProtector.Invoke[T](Func<code>1 function)    at\n  Moq.Mock.Setup[T,TResult](Mock</code>1 mock, Expression<code>1 expression,\n  Condition condition)    at Moq.Mock</code>1.Setup[TResult](Expression`1\n  expression)    at MyProj.Tests.Controllers.SomeControllerTests.Setup()\n  in path location</p>\n</blockquote>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["c#", "linq", "linq-to-sql", "linq-to-entities", "linq-to-objects"], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 6208915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d12a46b70b55620f35c08c7db5d696?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor", "link": "https://stackoverflow.com/users/6208915/gabor"}, "is_accepted": false, "score": 1, "last_activity_date": 1563316815, "last_edit_date": 1563316815, "creation_date": 1465426854, "answer_id": 37714309, "question_id": 37712017, "link": "https://stackoverflow.com/questions/37712017/linq-select-a-value-based-on-where-condition-from-other-table/37714309#37714309", "title": "Linq select a value based on where condition from other table", "body": "<p>If the query starts to become a too complex one then it is worth splitting it into parts.  </p>\n\n<p>In my example below I use the extension method syntax of LINQ instead of query keywords just because it is easier for me to use.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// First we collect the relevant games.\nvar games =\n    db\n        .Games\n        .Where(game =&gt; game.UserId == userId);\n\n// Then we collect the events of the collected games that have the specified event type.\nvar events = \n    db\n        .Events\n        .Join(\n            games,\n            gameEvent =&gt; gameEvent.GameId,\n            game =&gt; game.GameId,\n            (gameEvent, game) =&gt; gameEvent\n        )\n        .Where(gameEvent =&gt; gameEvent.EventType == 35);\n\n// Then we collect the target objects based on the collected events.\nvar targetObjects =\n    db\n        .TargetObjects\n        .Join(\n            events,\n            targetObject =&gt; targetObject.TargetObjectId,\n            gameEvent =&gt; gameEvent.TargetObjectId,\n            (targetObject, gameEvent) =&gt; targetObject\n        );\n\n// Last we select the target name from the collected target objects.\nvar records =\n    targetObjects\n        .Select(targetObject =&gt; targetObject.TargetName)\n        .ToList(); // The query will be executed at this point.\n</code></pre>\n\n<p>If this is not what you are looking for, please clarify what data the ProfileViewModel should have exactly and from which set should it be selected as I am not very familiar with this syntax.</p>\n"}], "owner": {"reputation": 7259, "user_id": 362479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/p91ff.jpg?s=128&g=1", "display_name": "Laziale", "link": "https://stackoverflow.com/users/362479/laziale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563316815, "creation_date": 1465416631, "last_edit_date": 1563316783, "question_id": 37712017, "link": "https://stackoverflow.com/questions/37712017/linq-select-a-value-based-on-where-condition-from-other-table", "title": "Linq select a value based on where condition from other table", "body": "<p>I have this query:</p>\n\n<pre><code> var result = (from game in db.Games\n                    join gameevent in db.Events\n                        on game.GameId equals gameevent.GameId into events\n                    from _event in events\n                    join _targetObjects in db.TargetObjects\n                        on _event.TargetObject equals _targetObjects.TargetObjectId into targetss\n                    where game.userId == userId\n                    select new ProfileViewModel\n                    {\n                        record = events.Where(s =&gt; s.TargetObjectId == _event.TargetObject &amp;&amp; _event.EventType == 35).Select(/* Here I want to select a value from targetss, field called TargetName */).ToList()\n                    }).First();\n</code></pre>\n\n<p>As you can see, I want to get value based on where clause from other table. Is that possible in the select new part? </p>\n\n<p>I want to get the name of the targetObject based on the targetObjectId which matches the targetObjectId in events table and also the event type should be 35.</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1465416572, "post_id": 37711954, "comment_id": 62897715, "body": "Just return nothing in your case (remove last line completely)."}, {"owner": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1465416592, "post_id": 37711954, "comment_id": 62897729, "body": "OK, can you explain why?"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 4, "creation_date": 1465416713, "post_id": 37711954, "comment_id": 62897809, "body": "When you mark method with &quot;async&quot;, it&#39;s kind of wrapped in Task automatically, so it already (by default) returns Task. If it returns Task&lt;T&gt; - you need to provide that T (return something). If it returns just Task - that&#39;s analog of return void method."}], "answers": [{"comments": [{"owner": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "edited": false, "score": 0, "creation_date": 1465416632, "post_id": 37712003, "comment_id": 62897747, "body": "Thanks, can you clarify &quot;Task instead of Task&quot;."}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "reply_to_user": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "edited": false, "score": 0, "creation_date": 1465416714, "post_id": 37712003, "comment_id": 62897810, "body": "sorry, it didn&#39;t include the generic part , updated my answer using a space"}, {"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 1, "creation_date": 1465416831, "post_id": 37712003, "comment_id": 62897871, "body": "Yep, <code>await</code> can be the last statement in the method."}], "tags": [], "owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "is_accepted": true, "score": 2, "last_activity_date": 1465416808, "last_edit_date": 1465416808, "creation_date": 1465416594, "answer_id": 37712003, "question_id": 37711954, "link": "https://stackoverflow.com/questions/37711954/returning-a-task-is-complete-in-asyc-method/37712003#37712003", "title": "Returning a task is complete in asyc method", "body": "<p>since you return a <code>Task</code> instead of <code>Task&lt; T></code> you do not need to return anything. Just remove the last return statement completely.</p>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/mt674893.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/mt674893.aspx</a> for explanation.(Section 'Task Return Type')</p>\n"}], "owner": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 0, "accepted_answer_id": 37712003, "answer_count": 1, "score": 0, "last_activity_date": 1465416808, "creation_date": 1465416435, "question_id": 37711954, "link": "https://stackoverflow.com/questions/37711954/returning-a-task-is-complete-in-asyc-method", "title": "Returning a task is complete in asyc method", "body": "<p>I have a method that has to be async because it is calling an async method:</p>\n\n<pre><code>    public async Task TransitionToPendingApproval(Guid id)\n    {\n        // Update status to pending approval\n        var cimp = Repository.GetById(id);\n        ChangeCimpStatus(cimp, Dom.CimpStatus.PendingApproval);\n        await EmailPendingApprovalAsync(cimp).ConfigureAwait(true);\n        return System.Threading.Tasks.Task.CompletedTask;\n    }\n</code></pre>\n\n<p>I just want to return that the task has finished but I am getting this error:</p>\n\n<pre><code>Since 'CimpProvider.TransitionToPendingApproval(Guid)' is an async method that returns 'Task', a return keyword must not be followed by an object expression. Did you intend to return 'Task&lt;T&gt;'?\n</code></pre>\n\n<p>What am I doing wrong and how to I fix it?</p>\n"}, {"tags": ["c#", "datetime", "timezone-offset", "google-maps-timezone"], "comments": [{"owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1465417987, "post_id": 37711920, "comment_id": 62898486, "body": "If the time zone rule changes in the future then your future UTC time may become incorrect. And time zone rules change surprisingly often. Obviously, this problem applies to all multi timezone scheduling applications and I think the only solution is to store the original local time to be able to recalculate the UTC time if the applicable time zone rule changes in the future."}, {"owner": {"reputation": 17317, "user_id": 442512, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7cc3a748edc95beae12f4e7e5c57207e?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/442512/emmanuel"}, "reply_to_user": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1465418668, "post_id": 37711920, "comment_id": 62898827, "body": "@MartinLiversage Yes, I plan to store the do that. Scheduling also saves the local time so we can recalculate the UTC time."}, {"owner": {"reputation": 17317, "user_id": 442512, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7cc3a748edc95beae12f4e7e5c57207e?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/442512/emmanuel"}, "reply_to_user": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1466171478, "post_id": 37711920, "comment_id": 63221360, "body": "I don&#39;t know why this was marked as duplicate with &quot;DateTime vs DateTimeOffset&quot;. This is so ridiculous because that other question doesn&#39;t even talk about translating between time zones. At best this could be &quot;Google Maps Time Zone API vs DateTimeOffset&quot; but this is stretching it."}, {"owner": {"reputation": 17317, "user_id": 442512, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7cc3a748edc95beae12f4e7e5c57207e?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/442512/emmanuel"}, "reply_to_user": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1466171633, "post_id": 37711920, "comment_id": 63221463, "body": "In the end the solution was, as described by the deleted answer by +Matt Johnson, the class DateTimeOffset offers the time zone translation functionality that I was looking for. That said, I cannot undelete or vote for this answer since it&#39;s been deleted. This leaves me a bit frustrated because there&#39;s no way for me to write a proper answer to my own question."}], "answers": [{"tags": [], "owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "is_accepted": false, "score": 1, "last_activity_date": 1465421913, "last_edit_date": 1465421913, "creation_date": 1465420255, "answer_id": 37712994, "question_id": 37711920, "link": "https://stackoverflow.com/questions/37711920/time-zone-conversion-using-time-zone-city-coordinates-and-local-time/37712994#37712994", "title": "Time zone conversion using time zone city coordinates and local time", "body": "<p>You need a time zone database to perform the desired date and time conversions. Time zones are more complicated than simply being an offset because many time zones include daylight savings rules.</p>\n\n<p>The .NET framework allows you to use the underlying Windows time zone database by using the <a href=\"https://msdn.microsoft.com/en-us/library/system.timezoneinfo(v=vs.110).aspx\" rel=\"nofollow\"><code>TimeZoneInfo</code></a> class. However, you can consider the Windows time zone database proprietary. IANA maintains the <a href=\"https://www.iana.org/time-zones\" rel=\"nofollow\">Time Zone Database (TZDB)</a> which is described in <a href=\"https://tools.ietf.org/html/rfc6557\" rel=\"nofollow\">Best Current Practice (BCP) 175</a>.</p>\n\n<p>The library <a href=\"http://nodatime.org/\" rel=\"nofollow\">Noda Time</a> has support for TZDB and provided a local timestamp as a .NET <code>DateTime</code> and a time zone identifier you can compute the corresponding UTC timestamp:</p>\n\n<pre><code>var localDateTime = LocalDateTime.FromDateTime(dateTime);\nvar timeZoneId = \"America/New_York\"];\nvar timeZone = DateTimeZoneProviders.Tzdb[timeZoneId];\nvar zonedDateTime = timeZone.AtLeniently(localDateTime);\nvar utcDateTime = zonedDateTime.ToDateTimeUtc();\n</code></pre>\n\n<p>Notice that the local timestamp may be ambiguous or invalid. This happens during daylight savings transitions where the local clock is moved backwards (creates ambiguity) or forward (creates invalid times). The <a href=\"http://nodatime.org/1.3.x/api/html/M_NodaTime_DateTimeZone_AtLeniently.htm\" rel=\"nofollow\"><code>AtLeniently</code></a> method makes some assumptions about how to handle ambiguity and invalid timestamps. This may be a source of errors in your application.</p>\n\n<p>When you have a UTC timestamp and a time zone ID you can convert to local time in a similar fashion:</p>\n\n<pre><code>var instant = Instant.FromDateTimeUtc(utcDateTime);\nvar timeZone = DateTimeZoneProviders.Tzdb[timeZoneId];\nvar zonedDateTime = instant.InZone(timeZone);\nvar localDateTime = zonedDateTime.ToDateTimeUnspecified();\n</code></pre>\n\n<p>After taking a look at <a href=\"http://www.citytimezones.info/\" rel=\"nofollow\">http://www.citytimezones.info/</a> it seems that the <code>cities.txt</code> contains the Windows time zone ID for each city in the last column. This makes it possible for you to lookup the Windows time zone ID based on the city.</p>\n\n<p>You can then convert a local <code>DateTime</code> to UTC using this code:</p>\n\n<pre><code>var timeZoneId = \"Eastern Standard Time\";\nvar timeZoneInfo = TimeZoneInfo.FindSystemTimeZoneById(timeZoneId);\nvar utcDateTime = TimeZoneInfo.ConvertTimeToUtc(localDateTime, timeZoneInfo);\n</code></pre>\n\n<p>Notice that <code>ConvertTimeToUtc</code> will throw an <code>ArgumentException</code> if the local timestamp is ambiguous or invalid.</p>\n\n<p>The reverse conversion from UTC to local time:</p>\n\n<pre><code>var localDateTime = TimeZoneInfo.ConvertTimeFromUtc(utcDateTime, timeZoneInfo);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 1, "last_activity_date": 1465422819, "last_edit_date": 1495535348, "creation_date": 1465422819, "answer_id": 37713600, "question_id": 37711920, "link": "https://stackoverflow.com/questions/37711920/time-zone-conversion-using-time-zone-city-coordinates-and-local-time/37713600#37713600", "title": "Time zone conversion using time zone city coordinates and local time", "body": "<p>Split the problem into two parts:</p>\n\n<ul>\n<li>Determining the time zone from location cooridnates</li>\n<li>Converting time between time zones</li>\n</ul>\n\n<p>You will find several ways to to do each.</p>\n\n<p>For step 1, you mentioned Google Time Zone API, and CityTimeZones.  Both of those <a href=\"https://stackoverflow.com/a/16086964/634824\">are listed here</a>, along with several other methods.</p>\n\n<p>For step 2, your choices for .NET are primarily between <a href=\"http://nodatime.org\" rel=\"nofollow noreferrer\">Noda Time</a>, or <code>TimeZoneInfo</code>.  Martin gave several good examples of each <a href=\"https://stackoverflow.com/a/37712994/634824\">in his answer</a>.</p>\n\n<p>Also, consider that <em>scheduling</em> is a more difficult scenario than most.  You should read <a href=\"https://stackoverflow.com/a/19627330/634824\">this post</a> for more details.</p>\n"}], "owner": {"reputation": 17317, "user_id": 442512, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7cc3a748edc95beae12f4e7e5c57207e?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/442512/emmanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2294, "favorite_count": 1, "closed_date": 1466170846, "accepted_answer_id": 37713600, "answer_count": 2, "score": 3, "last_activity_date": 1465422819, "creation_date": 1465416341, "question_id": 37711920, "link": "https://stackoverflow.com/questions/37711920/time-zone-conversion-using-time-zone-city-coordinates-and-local-time", "closed_reason": "Duplicate", "title": "Time zone conversion using time zone city coordinates and local time", "body": "<p>I'm developing a scheduling web site where you can specify a date, time, time zone city. I want to save this in the backend in UTC time. So I have to convert it somehow on the server. I also want to provide the ability to convert to a different time zone on-the-fly.</p>\n\n<p>In the Javascript I have a date/time value as well as a time zone city (from <a href=\"http://www.citytimezones.info\" rel=\"nofollow\">http://www.citytimezones.info</a> which gives me geographical coordinates). I don't have the UTC time, only the time in the specified time zone.</p>\n\n<p>Now I need to convert this future local time to UTC. Of course, it has to take into account the daylight savings time offset that will apply at that time.</p>\n\n<p>Moreover I would like to convert to a different local time using a second time zone city.</p>\n\n<p>I thought about using the Google Maps Time Zone API but this forces you to pass in the UTC time, which I don't have because I'm trying to calculate it.</p>\n\n<p>In other words, ideally I need a system that will take these parameters:</p>\n\n<ul>\n<li><em>Future</em> time/date</li>\n<li>Source time zone city coordinates</li>\n<li>Destination time zone city coordinates (or null = UTC time)</li>\n</ul>\n\n<p>and will return the converted time.</p>\n\n<p>Any idea what I could do to make this happen?</p>\n\n<p>This could be either a web service or a Windows C# library.</p>\n"}, {"tags": ["c#", "substring"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 4, "creation_date": 1465416391, "post_id": 37711873, "comment_id": 62897598, "body": "Leading zeroes only exist on strings. Since you parsed this to an <code>int</code> you need to add them back. You could use a <a href=\"http://blog.stevex.net/string-formatting-in-csharp/\" rel=\"nofollow noreferrer\">format string</a> for this purpose."}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 2, "creation_date": 1465416414, "post_id": 37711873, "comment_id": 62897614, "body": "<code>06</code> Is no longer an int"}, {"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1465416464, "post_id": 37711873, "comment_id": 62897638, "body": "Not to mention <code>08</code> and <code>09</code>, which are a whole new can of worms."}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 2, "creation_date": 1465416473, "post_id": 37711873, "comment_id": 62897645, "body": "Just don&#39;t parse them as ints and you&#39;ll have what you need."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 1, "creation_date": 1465416742, "post_id": 37711873, "comment_id": 62897825, "body": "@ManoDestra You&#39;re right; I was overlooking the <code>Substring</code> calls."}], "answers": [{"comments": [{"owner": {"reputation": 53946, "user_id": 113794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7fbfca0882062e4be43e0ee3514c6338?s=128&d=identicon&r=PG", "display_name": "Rubens Farias", "link": "https://stackoverflow.com/users/113794/rubens-farias"}, "edited": false, "score": 0, "creation_date": 1465416599, "post_id": 37711949, "comment_id": 62897735, "body": "Even better, use the <code>TryParseExact</code> method, to avoid getting an exception with an invalid string input"}, {"owner": {"reputation": 688, "user_id": 363677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/361Uo.jpg?s=128&g=1", "display_name": "Mike U", "link": "https://stackoverflow.com/users/363677/mike-u"}, "edited": false, "score": 1, "creation_date": 1465416950, "post_id": 37711949, "comment_id": 62897931, "body": "Just so long as you handle the condition that TryParseExact returns &quot;false&quot;.  I&#39;ve seen too many dev&#39;s just call the &quot;TryParse&quot; and ignore the return result, since it &quot;prevents errors&quot;."}], "tags": [], "owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "is_accepted": false, "score": 4, "last_activity_date": 1465416426, "creation_date": 1465416426, "answer_id": 37711949, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37711949#37711949", "title": "C# substring missing first zero value", "body": "<p>If you're trying to parse a date out of a string, you should be using <code>DateTime.ParseExact</code></p>\n\n<pre><code>var str = \"20160622\";\nvar date = DateTime.ParseExact(str, \"yyyyMMdd\", CultureInfo.InvariantCulture);\n</code></pre>\n\n<p>Then when you're trying to display each piece, you can use the <a href=\"https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx\" rel=\"nofollow\">Date format strings</a></p>\n"}, {"comments": [{"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1465416567, "post_id": 37711970, "comment_id": 62897709, "body": "I don&#39;t have a C# compiler handy, but would <code>month.ToString(&quot;00&quot;)</code> work as well?"}], "tags": [], "owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "is_accepted": true, "score": 5, "last_activity_date": 1465416687, "last_edit_date": 1465416687, "creation_date": 1465416491, "answer_id": 37711970, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37711970#37711970", "title": "C# substring missing first zero value", "body": "<p>Once you use <code>Int32.Parse</code>, the value is an integer, and integers don't have leading digits. <code>\"06\"</code> becomes just 6.</p>\n\n<p>If you want to print the values with leading digits, you can supply custom formatting when you write the integers to strings again:</p>\n\n<pre><code>Console.WriteLine(\"month is \" + month.ToString(\"00\"));\n</code></pre>\n\n<p><code>ToString(\"00\")</code> tells C# to convert the int back to a string, but render it as two digits (with a leading 0 if necessary).</p>\n\n<p>Here's a fiddle to try it out: <a href=\"https://dotnetfiddle.net/FMeHkP\" rel=\"nofollow\">fiddle</a></p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416533, "creation_date": 1465416533, "answer_id": 37711983, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37711983#37711983", "title": "C# substring missing first zero value", "body": "<p>When you parse to <code>int</code> you lose the leading <code>0</code>s. </p>\n\n<p>Solution #1 : Do not parse to int:</p>\n\n<pre><code>    String dateString = \"20160622\";\n    string year = dateString.Substring(0, 4);\n    Console.WriteLine(\"year is \" +year);\n    Console.ReadKey();\n\n    string month = dateString.Substring(4, 2);\n    Console.WriteLine(\"month is \" + month);\n    Console.ReadKey();\n\n    string jour = dateString.Substring(6, 2); // i think you mean `day`\n    Console.WriteLine(\"day is  \" + jour);\n    Console.ReadKey();\n</code></pre>\n\n<p>Solution #2 : Format the parsed int with leading 0s</p>\n\n<pre><code>    String dateString = \"20160622\";\n    int year = Int32.Parse(dateString.Substring(0, 4));\n    Console.WriteLine(\"year is \" +year.ToString(\"D4\"));\n    Console.ReadKey();\n\n    int month = Int32.Parse(dateString.Substring(4, 2));\n    Console.WriteLine(\"month is \" + month.ToString(\"D2\"));\n    Console.ReadKey();\n\n    int jour = Int32.Parse(dateString.Substring(6, 2));\n    Console.WriteLine(\"day is  \" + jour.ToString(\"D2\"));\n    Console.ReadKey();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "is_accepted": false, "score": 1, "last_activity_date": 1465416585, "creation_date": 1465416585, "answer_id": 37712000, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37712000#37712000", "title": "C# substring missing first zero value", "body": "<p>If what you require is the text value of \"06\", then simply don't parse the values returned as ints. Keep them as the strings that you require. If you need them as ints thereafter, then parse the string values and use the ints later.</p>\n\n<pre><code>string month = dateString.Substring(4, 2);\n</code></pre>\n\n<p>Assumption: the date format string that you've provided is consistent. If that date format changes, then you'll have to parse it differently, of course.</p>\n"}, {"tags": [], "owner": {"reputation": 3053, "user_id": 1322693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf6557df415fcd3b6824338a38eb6b?s=128&d=identicon&r=PG", "display_name": "konkked", "link": "https://stackoverflow.com/users/1322693/konkked"}, "is_accepted": false, "score": 0, "last_activity_date": 1465417122, "last_edit_date": 1465417122, "creation_date": 1465416599, "answer_id": 37712004, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37712004#37712004", "title": "C# substring missing first zero value", "body": "<h1>Specify padding using formatting specifiers</h1>\n\n<p>When you use the parse method it creates a new int with the value that is represented in the string, concatenating it then will just give you <code>\"6\"</code> without the leading <code>0</code>.</p>\n\n<p>You can use string formatting specifiers for this in the following ways </p>\n\n<pre><code>    int month = Int32.Parse(dateString.Substring(4, 2));\n\n    //using Console.WriteLine's overload\n    Console.WriteLine(\"month is {0:D2}\", month);\n\n    //using string.Format\n    Console.WriteLine(string.Format(\"month is {0:D2}\",month))\n\n    //using string interpolation \n    Console.WriteLine($\"month is {month:D2}\");\n\n    //using the ToString method of the int\n    Console.WriteLine(\"month is \"+ month.ToString(\"D2\"));\n</code></pre>\n\n<h1>What does \"D2\" mean</h1>\n\n<p><em>D</em> stands for decimal and <em>2</em> stands for the minimum number of digits that should be printed</p>\n\n<p>For more information on other ways to format for an int you can check out the <a href=\"https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx\" rel=\"nofollow\">msdn page about it</a></p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 6316873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41280091d4511f0d1f6e3f52795b1c97?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6316873/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416772, "creation_date": 1465416772, "answer_id": 37712053, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value/37712053#37712053", "title": "C# substring missing first zero value", "body": "<pre><code>String dateString = \"20160622\";\n    int year = Int32.Parse(dateString.Substring(0, 4));\n    Console.WriteLine(\"year is \" + year.ToString(\"D4\"));\n    Console.ReadKey();\n\n    int month = Int32.Parse(dateString.Substring(4, 2));\n    Console.WriteLine(\"month is \" + month.ToString(\"D2\"));\n    Console.ReadKey();\n\n    int jour = Int32.Parse(dateString.Substring(6, 2));\n    Console.WriteLine(\"day is  \" + jour.ToString(\"D2\"));\n    Console.ReadKey();\n</code></pre>\n\n<p>try this with ToString()</p>\n"}], "owner": {"reputation": 615, "user_id": 1978204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8sYol.png?s=128&g=1", "display_name": "Melodie Gauthier", "link": "https://stackoverflow.com/users/1978204/melodie-gauthier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 1, "accepted_answer_id": 37711970, "answer_count": 6, "score": 0, "last_activity_date": 1465417122, "creation_date": 1465416191, "question_id": 37711873, "link": "https://stackoverflow.com/questions/37711873/c-substring-missing-first-zero-value", "title": "C# substring missing first zero value", "body": "<p>I have a string date which I'd like to split into integers: year, month and day.\nFor example, 20160622 should return year = 2016, month = 06 and day = 22. Here is the code:</p>\n\n<pre><code>        String dateString = \"20160622\";\n        int year = Int32.Parse(dateString.Substring(0, 4));\n        Console.WriteLine(\"year is \" +year);\n        Console.ReadKey();\n\n        int month = Int32.Parse(dateString.Substring(4, 2));\n        Console.WriteLine(\"month is \" + month);\n        Console.ReadKey();\n\n        int jour = Int32.Parse(dateString.Substring(6, 2));\n        Console.WriteLine(\"day is  \" + jour);\n        Console.ReadKey();\n</code></pre>\n\n<p>When the first character of the substring is '0', it is not returned as part of the substring. I get the following output:</p>\n\n<pre><code>year is 2016\nmonth is 6\nday is 22\n</code></pre>\n\n<p>But I would like to get</p>\n\n<pre><code>year is 2016\nmonth is 06\nday is 22\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465416191, "post_id": 37711837, "comment_id": 62897498, "body": "when you say &quot;nothing happened&quot;, do you mean you didn&#39;t get any response at all from the commands in the console?  they should have either given you success or failure messages, at least....."}, {"owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465416461, "post_id": 37711837, "comment_id": 62897634, "body": "@Claies this is what I get: Specify the &#39;-Verbose&#39; flag to view the SQL statements being applied to the target database. No pending explicit migrations. Running Seed method."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465416928, "post_id": 37711837, "comment_id": 62897918, "body": "and when you use the <code>-Verbose</code> flag, does it show the SQL statements?"}, {"owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465418148, "post_id": 37711837, "comment_id": 62898560, "body": "it says: Target database is: &#39;CodeFirstDemo.BlogDbContext&#39; (DataSource: (localdb)\\mssqllocaldb, Provider: System.Data.SqlClient, Origin: Convention). what does that mean? @Claies"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465418267, "post_id": 37711837, "comment_id": 62898608, "body": "it means it is using SQL LocalDB, and has probably put a database file in the \\App_Data\\ directory of your project."}, {"owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465419677, "post_id": 37711837, "comment_id": 62899320, "body": "But isn&#39;t my configuration for the app.config right? what should I do to make it create it according to the connection string @Claies"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465419960, "post_id": 37711837, "comment_id": 62899455, "body": "It uses whatever connection string you supply, or a convention if you don&#39;t.  You can have more than one connection string in your app.config, and ef doesn&#39;t assume which one you want, if you don&#39;t tell it which, you get the generic one.  See the provided answer, links for more information"}, {"owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465421200, "post_id": 37711837, "comment_id": 62900012, "body": "@Claies but the answer links suggests I use the constructor. According to what I read about EF, I don&#39;t have to use the constructor for this. can you tell me the solution?"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1465422125, "post_id": 37711837, "comment_id": 62900440, "body": "You read something partially correct.  You don&#39;t need a constructor to use the automatic connection string.  You do need a constructor if you want to provide your own connection string."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "edited": false, "score": 0, "creation_date": 1465416805, "post_id": 37711941, "comment_id": 62897854, "body": "The examples online didn&#39;t specify a call to the base class. They just use it as I do, and it creates the database. I don&#39;t think you really need to do this. The database gets created once you call: update-database from the package manager console"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "edited": false, "score": 0, "creation_date": 1465416950, "post_id": 37711941, "comment_id": 62897930, "body": "but your database hasn&#39;t been created yet, when you executed add-migration there is nothing to compare. that&#39;s why you need to create your database first. After that, if you change your model, then call add-migration and update-database commands to update your database with the new changes"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "edited": false, "score": 0, "creation_date": 1465417544, "post_id": 37711941, "comment_id": 62898256, "body": "Check this page:<a href=\"https://msdn.microsoft.com/en-us/data/jj193542.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/data/jj193542.aspx</a>. It proves what I explain above in my comment."}], "tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416700, "last_edit_date": 1465416700, "creation_date": 1465416393, "answer_id": 37711941, "question_id": 37711837, "link": "https://stackoverflow.com/questions/37711837/entity-framework-code-first-doesnt-create-database/37711941#37711941", "title": "Entity Framework code-first doesn&#39;t create database", "body": "<p>Add an empty constructor with the following signature to reference the connection string you already added to your app.config:</p>\n\n<pre><code>  public BlogDbContext()\n        : base(\"Name=BlogDbContext\")\n  {\n  }\n</code></pre>\n\n<p>You don't need to use migration to create your database.You can do what I show below in your <code>Main</code> method:</p>\n\n<pre><code>using (var context = new BlogDbContext())\n{\n    context.Database.CreateIfNotExists();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2837, "user_id": 2516770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilpyS.jpg?s=128&g=1", "display_name": "Keith Payne", "link": "https://stackoverflow.com/users/2516770/keith-payne"}, "edited": false, "score": 0, "creation_date": 1465435727, "post_id": 37715414, "comment_id": 62904457, "body": "That has no effect on the database creation. It is not necessary to override OnModelCreating for EF to do its work. It is only needed to change the default behavior when something different is required."}, {"owner": {"reputation": 183, "user_id": 5570772, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026400820744983/picture?type=large", "display_name": "Shawn Yan", "link": "https://stackoverflow.com/users/5570772/shawn-yan"}, "reply_to_user": {"reputation": 2837, "user_id": 2516770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilpyS.jpg?s=128&g=1", "display_name": "Keith Payne", "link": "https://stackoverflow.com/users/2516770/keith-payne"}, "edited": false, "score": 0, "creation_date": 1465446963, "post_id": 37715414, "comment_id": 62906804, "body": "Right I understand, could the issue be that the OP&#39;s connectionstring is not valid?"}], "tags": [], "owner": {"reputation": 183, "user_id": 5570772, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026400820744983/picture?type=large", "display_name": "Shawn Yan", "link": "https://stackoverflow.com/users/5570772/shawn-yan"}, "is_accepted": false, "score": -1, "last_activity_date": 1465435009, "creation_date": 1465435009, "answer_id": 37715414, "question_id": 37711837, "link": "https://stackoverflow.com/questions/37711837/entity-framework-code-first-doesnt-create-database/37715414#37715414", "title": "Entity Framework code-first doesn&#39;t create database", "body": "<p>Since you are using code-first you should have these codes that look alike to the following example :</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            modelBuilder.Entity&lt;Post&gt;().ToTable(\"Post\");\n            base.OnModelCreating(modelBuilder);\n    }\n</code></pre>\n\n<p>These will create the database table of your entities.</p>\n"}], "owner": {"reputation": 43, "user_id": 6357715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d0ccb12d37a210b9fa02ddea0665bb?s=128&d=identicon&r=PG&f=1", "display_name": "Karla", "link": "https://stackoverflow.com/users/6357715/karla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1320, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465435009, "creation_date": 1465416046, "last_edit_date": 1465418243, "question_id": 37711837, "link": "https://stackoverflow.com/questions/37711837/entity-framework-code-first-doesnt-create-database", "title": "Entity Framework code-first doesn&#39;t create database", "body": "<p>I am trying to use code-first in Entity Framework to generate the database, but it's not working. Here's my connection string in the <code>app.config</code> of the console application: </p>\n\n<pre><code>&lt;add name=\"BlogDbContext\" \n     connectionString=\"data source=myserver; initial catalog=CodeFirstDemo; integrated security=SSPI\" \n     providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>and here's my <code>program.cs</code> file code: </p>\n\n<pre><code>using System.Data.Entity;\n\nnamespace CodeFirstDemo\n{\n    public class Post\n    {\n        public int PostId { get; set; }\n        public System.DateTime DatePublished { get; set; }\n        public string Title { get; set; }\n        public string Body { get; set; }\n    }\n\n    public class BlogDbContext : DbContext\n    {\n        public DbSet&lt;Post&gt; Posts { get; set; }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n        }\n    }\n}\n</code></pre>\n\n<p>In package manager console I tried: <code>enable-migration</code>, then <code>add-migration</code>, then <code>update-database</code>.. but nothing happened. </p>\n\n<p>I tried connection string as suggested in other questions like this: </p>\n\n<pre><code>&lt;add name=\"CodeFirstDemo.BlogDbContext\" \n     connectionString=\"data source=myserver; initial catalog=CodeFirstDemo; integrated security=SSPI\" \n     providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", ".net", "transactions", "transactionscope"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1465417628, "post_id": 37711733, "comment_id": 62898301, "body": "There seems to be nothing wrong with your approach."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1465419323, "post_id": 37711733, "comment_id": 62899156, "body": "But note that the way you do this assumes you open new sql connection in DoThing1 and DoThing2 (and maybe even in DoDisparateThings). While in general that&#39;s not big issue (maybe little pefomance hit for roundtrip), in certain cases it can escalate your transaction to distributed (google for TransactionScope and DTC), even if all connections are to the same database, which is not good (and might fail if you don&#39;t have DTC enabled). Better use one connection for all operations in transaction (if possible of course)."}, {"owner": {"reputation": 2625, "user_id": 3241128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b505e78f740ee57edb21117db4e0ab4?s=128&d=identicon&r=PG&f=1", "display_name": "bubbleking", "link": "https://stackoverflow.com/users/3241128/bubbleking"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1465419789, "post_id": 37711733, "comment_id": 62899372, "body": "@Evk - In my case, the management of the DB connections is being handled by EnterpriseLibrary so I can&#39;t say if connections are being passed around or created and disposed."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1465420369, "post_id": 37711733, "comment_id": 62899623, "body": "Well I didn&#39;t work with Enterprise Library so cannot advice about that. Still good to know about such behavior, since it might bite you at inappropriate time (like when you deploy to server without DTC enabled), especially if you have no idea how connections are handled in your application."}], "owner": {"reputation": 2625, "user_id": 3241128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b505e78f740ee57edb21117db4e0ab4?s=128&d=identicon&r=PG&f=1", "display_name": "bubbleking", "link": "https://stackoverflow.com/users/3241128/bubbleking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465415646, "creation_date": 1465415646, "question_id": 37711733, "link": "https://stackoverflow.com/questions/37711733/nested-transactionscope-philosophy-and-required-option", "title": "Nested TransactionScope Philosophy and Required Option", "body": "<p>It has been my philosophy that any time 2 or more operations, which depend on each other, happen in a scope, they should be in a TransactionScope, even if those individual actions call down to code that also needs a TransactionScope.  It has been my understanding that supplying the TransactionScope.Required option ensures that if a TransactionScope already exists, a new, nested one won't be created, thus solving the problem of having nested scopes ad nauseam.</p>\n\n<p>My question is <strong>\"Is there something wrong with this approach and/or will the Required option not ensure the reuse of TransactionScopes as I thought?\"</strong></p>\n\n<p>Here is a sample of the kind of code I would ordinarily write:</p>\n\n<pre><code>    public void DoDisparateThings()\n    {\n        using (var transactionScope = new TransactionScope(TransactionScopeOption.Required))\n        {\n            this.DoThing1();\n            this.DoThing2();\n            transactionScope.Complete();\n        }\n    }\n\n    private void DoThing1()\n    {\n        using (var transactionScope = new TransactionScope(TransactionScopeOption.Required))\n        {\n            // DB operation 1a\n            // DB operation 2a\n            transactionScope.Complete();\n        }\n    }\n\n    private void DoThing2()\n    {\n        using (var transactionScope = new TransactionScope(TransactionScopeOption.Required))\n        {\n            // DB operation 1b\n            // DB operation 2b\n            transactionScope.Complete();\n        }\n    }\n}\n</code></pre>\n\n<p>Legacy code I deal with sometimes places the TransactionScope only at the top of the chain, and often in calling code where it is not obvious why a TransactionScope is needed.  Consider this:</p>\n\n<pre><code>    public void CallingCode()\n    {\n        using (var transactionScope = new TransactionScope())\n        {\n            this.DoDisparateThings();\n            transactionScope.Complete();\n        }\n    }\n\n    private void DoDisparateThings()\n    {\n        this.DoThing1();\n        this.DoThing2();\n    }\n\n    private void DoThing1()\n    {\n        // DB operation 1a\n        // DB operation 2a\n    }\n\n    private void DoThing2()\n    {\n        // DB operation 1b\n        // DB operation 2b\n    }\n}\n</code></pre>\n\n<p>To me this makes no sense because only 1 operation appears to happen in the transaction, and other code could unwittingly call any of the private methods without realizing a transaction needs to be used.  <strong>Am I wrong?  Is there something bad about putting TransactionScopes in code any time there are related operations happening that would need to be rolled back if they don't all succeed?</strong></p>\n"}, {"tags": ["c#", "visual-studio", "resx"], "comments": [{"owner": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465415603, "post_id": 37711660, "comment_id": 62897145, "body": "Is this a web project? If so, take a look at <code>HttpContext.GetLocalResourceObject</code> and <code>HttpContext.GetGlobalResourceObject</code>..."}, {"owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "reply_to_user": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465416502, "post_id": 37711660, "comment_id": 62897667, "body": "@entropic can you help me with code example? I have never used <code>HttpContext.GetGlobalResourceObject</code> in the past"}, {"owner": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465416590, "post_id": 37711660, "comment_id": 62897727, "body": "What type of project is this?"}, {"owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "reply_to_user": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465416700, "post_id": 37711660, "comment_id": 62897797, "body": "@entropic it is .resx file, and values are strings. Does that help?"}, {"owner": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465416767, "post_id": 37711660, "comment_id": 62897837, "body": "No, I need the entire project type.  Not the file.  Is the project type ASP.NET Web Forms, WinForms, Web API, WPF... ?"}, {"owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "reply_to_user": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "edited": false, "score": 0, "creation_date": 1465417545, "post_id": 37711660, "comment_id": 62898257, "body": "@entropic correction ASP.NET MVC with Razor"}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "edited": false, "score": 0, "creation_date": 1465417672, "post_id": 37712240, "comment_id": 62898321, "body": "I don&#39;t want to load specific value in this case, I want ResXResourceReader to be able to access file, I need file path loaded dynamically. Web page is fine, code is fine, I just need path to be loaded based on project physical path on a server. As I said works fine on local machine because I&#39;ve hard-coded full path, but once deployed that hard-coded path will not work. I am using ResXResourceReader and Writer to allow certain people to edit file on the fly."}, {"owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "edited": false, "score": 0, "creation_date": 1465496391, "post_id": 37712240, "comment_id": 62938120, "body": "yes, your edit for <code>Server.MapPath(@&quot;.\\App_GlobalResources\\conf\\strings.resx&quot;);</code> worked keep in mind, it should look like this: <code>System.Web.HttpContext.Current.Server.MapPath(@&quot;.\\App_Global&zwnj;&#8203;Resources\\conf\\strin&zwnj;&#8203;gs.resx&quot;);</code> value &quot;Server.MapPath&quot; itself does not work"}], "tags": [], "owner": {"reputation": 1613, "user_id": 3712036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4328bb5ae100e868fe43d27482c82f31?s=128&d=identicon&r=PG", "display_name": "entropic", "link": "https://stackoverflow.com/users/3712036/entropic"}, "is_accepted": true, "score": 1, "last_activity_date": 1465417681, "last_edit_date": 1465417681, "creation_date": 1465417530, "answer_id": 37712240, "question_id": 37711660, "link": "https://stackoverflow.com/questions/37711660/read-resource-file-from-project-c-in-resxresourcereader/37712240#37712240", "title": "Read resource file from project C# in ResXResourceReader", "body": "<p>Since you're using ASP.NET Web Forms, you don't need to load the resource file via a <code>ResXResourceReader</code>.  Instead, you can reference the resource file in a number of ways.</p>\n\n<p>First, for local resources (in <code>App_LocalResources</code> folders), you can reference it in the following ways:</p>\n\n<p>C# Code Behind:</p>\n\n<pre><code>var resourceValue = this.GetLocalResourceObject(\"ResourceKey\").ToString();\n</code></pre>\n\n<p>ASPX Page:</p>\n\n<pre><code>&lt;asp:Label ID=\"MyResource\" runat=\"server\" Text=\"&lt;%$Resources:, ResourceKey %&gt;\" /&gt;\n</code></pre>\n\n<p>For global resources (in <code>App_GlobalResources</code>), you can reference it as follows.  In the below example, you wouldn't include the <code>.resx</code> extension in the file name, so if you had a global resource file named <code>ResourceStrings.resx</code>, you would reference it as <code>ResourceStrings</code>:</p>\n\n<p>C# Code Behind:</p>\n\n<pre><code>var resourceValue = this.GetGlobalResourceObject(\"ResourceFile\", \"ResourceKey\").ToString();\n</code></pre>\n\n<p>ASPX Page:</p>\n\n<pre><code>&lt;asp:Label ID=\"MyResource\" runat=\"server\" Text=\"&lt;%$Resources:ResourceFile, ResourceKey %&gt;\" /&gt;\n</code></pre>\n\n<p>If you want to load the file dynamically, then look at <a href=\"https://msdn.microsoft.com/en-us/library/ms524632%28v=vs.90%29.aspx\" rel=\"nofollow\"><code>Server.MapPath</code></a>, which you would be able to call as follows:</p>\n\n<pre><code>Server.MapPath(@\".\\App_GlobalResources\\conf\\strings.resx\");\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 2134196, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18964d6bd47bbf2cb18c21a16902dc60?s=128&d=identicon&r=PG", "display_name": "zuboje", "link": "https://stackoverflow.com/users/2134196/zuboje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "accepted_answer_id": 37712240, "answer_count": 1, "score": 0, "last_activity_date": 1465417681, "creation_date": 1465415409, "question_id": 37711660, "link": "https://stackoverflow.com/questions/37711660/read-resource-file-from-project-c-in-resxresourcereader", "title": "Read resource file from project C# in ResXResourceReader", "body": "<p>I have issue loading resource file. My code looks like this:</p>\n\n<pre><code>var reader = new ResXResourceReader(@\"C:\\Users\\work\\Projects\\WebApps\\source\\MPS\\App_GlobalResources\\conf\\strings.resx\")\n</code></pre>\n\n<p>Code above works perfectly fine on my machine, but that is just development, when I deploy application to a server I need to load project path dynamically. Problem that I am experiencing I cannot use <code>@\".\\App_GlobalResources\\conf\\strings.resx\"</code> nor <code>@\"App_GlobalResources\\conf\\strings.resx\"</code></p>\n\n<p>App_GlobalResources is folder that is in root path of this project. Everything I tried does not work. Any suggestions?</p>\n"}, {"tags": ["c#", "arrays", "methods", "parameters"], "answers": [{"comments": [{"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "edited": false, "score": 2, "creation_date": 1465415677, "post_id": 37711716, "comment_id": 62897191, "body": "Also <code>string</code> is redundant. You could remove it. Just <code>new[]</code> is enough."}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1465415734, "post_id": 37711716, "comment_id": 62897221, "body": "True, but I like it to be obvious at first glance what it is. If you prefer to leave it out feel free, just my preference ^^"}, {"owner": {"reputation": 1400, "user_id": 2668996, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2b259a2d33e8a9ee8323fb41bdc844d2?s=128&d=identicon&r=PG", "display_name": "Hooplator15", "link": "https://stackoverflow.com/users/2668996/hooplator15"}, "edited": false, "score": 0, "creation_date": 1465415910, "post_id": 37711716, "comment_id": 62897317, "body": "Followup question, is there any way to forcibly limit the nested array of arrays to 2 dimensions? e.g.  <code>public void MyMethod(params string[][2] input)</code>"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1465416172, "post_id": 37711716, "comment_id": 62897491, "body": "Not particularly, you could add validation inside the method to check and throw (probably an ArgumentException) if there are more or less, or you can create a class that can be instantiated with only two. Really your only two options."}], "tags": [], "owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "is_accepted": true, "score": 5, "last_activity_date": 1465415604, "creation_date": 1465415604, "answer_id": 37711716, "question_id": 37711652, "link": "https://stackoverflow.com/questions/37711652/c-how-do-i-use-an-array-of-arrays-as-input-for-parameterized-method/37711716#37711716", "title": "C# - How do I use an array of arrays as input for &quot;parameterized&quot; method?", "body": "<pre><code>MyMethod(new string[]{\"arry1-elem1\",\"arry1-elem2\"}, new string[]{\"arry2-elem1\",\"arry2-elem2\"}, new string[]{\"arry3-elem1\",\"arry3-elem2\"});\n</code></pre>\n\n<p>You aren't declaring their type when you're attempting to pass them in.</p>\n"}, {"tags": [], "owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "is_accepted": false, "score": 2, "last_activity_date": 1465415715, "creation_date": 1465415715, "answer_id": 37711754, "question_id": 37711652, "link": "https://stackoverflow.com/questions/37711652/c-how-do-i-use-an-array-of-arrays-as-input-for-parameterized-method/37711754#37711754", "title": "C# - How do I use an array of arrays as input for &quot;parameterized&quot; method?", "body": "<p>Even better, you don't have to say <code>string</code>:</p>\n\n<pre><code>MyMethod(new[]{\"a\",\"b\"}, new[]{\"c\",\"d\"});\n</code></pre>\n"}], "owner": {"reputation": 1400, "user_id": 2668996, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2b259a2d33e8a9ee8323fb41bdc844d2?s=128&d=identicon&r=PG", "display_name": "Hooplator15", "link": "https://stackoverflow.com/users/2668996/hooplator15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 37711716, "answer_count": 2, "score": 4, "last_activity_date": 1465415715, "creation_date": 1465415382, "question_id": 37711652, "link": "https://stackoverflow.com/questions/37711652/c-how-do-i-use-an-array-of-arrays-as-input-for-parameterized-method", "title": "C# - How do I use an array of arrays as input for &quot;parameterized&quot; method?", "body": "<p>I want to create a method that accepts a \"parameterized\" input object of type string array of string array. Something like:</p>\n\n<pre><code>public void MyMethod(params string[][] input)\n{\n   //...do stuff\n}\n</code></pre>\n\n<p>I am calling this method as follows:</p>\n\n<pre><code>MyMethod({\"arry1-elem1\",\"arry1-elem2\"}, {\"arry2-elem1\",\"arry2-elem2\"}, {\"arry3-elem1\",\"arry3-elem2\"});\n</code></pre>\n\n<p>However, when I do this I get the following error: </p>\n\n<blockquote>\n  <p>Invalid expression term '{'</p>\n</blockquote>\n\n<p>What am I doing wrong here. Is it not possible to input an implicitly typed array as an input?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1465415893, "post_id": 37711568, "comment_id": 62897309, "body": "Please read how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That&#39;s a lot of code to ask people to read through..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6442046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kV64l.jpg?s=128&g=1", "display_name": "Mike Doherty", "link": "https://stackoverflow.com/users/6442046/mike-doherty"}, "edited": false, "score": 0, "creation_date": 1465416224, "post_id": 37711741, "comment_id": 62897522, "body": "thanks for the catch. unfortunately it did not resolve my issue :("}], "tags": [], "owner": {"reputation": 419, "user_id": 3748688, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f8cc6471d93a90d4d50db18b110e3b58?s=128&d=identicon&r=PG&f=1", "display_name": "M.Veli", "link": "https://stackoverflow.com/users/3748688/m-veli"}, "is_accepted": false, "score": 0, "last_activity_date": 1465415677, "creation_date": 1465415677, "answer_id": 37711741, "question_id": 37711568, "link": "https://stackoverflow.com/questions/37711568/asp-net4-5-mvc-byte-file-retrieval-from-database-difficulties/37711741#37711741", "title": "ASP .NET(4.5) MVC byte[] file retrieval from database difficulties", "body": "<p>Your <strong>AttachUrl</strong> returns wrong url. There is no \"/\" before \"{1}\".</p>\n\n<pre><code>public string AttachUrl\n{\n    get\n    {                                                   // here\n        return string.Format(\"{0}/image/Message/Attachment/{1}\", url, Id);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6442046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kV64l.jpg?s=128&g=1", "display_name": "Mike Doherty", "link": "https://stackoverflow.com/users/6442046/mike-doherty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465416982, "creation_date": 1465415090, "last_edit_date": 1465416982, "question_id": 37711568, "link": "https://stackoverflow.com/questions/37711568/asp-net4-5-mvc-byte-file-retrieval-from-database-difficulties", "title": "ASP .NET(4.5) MVC byte[] file retrieval from database difficulties", "body": "<p>Good day, I am having a great deal of difficulty retrieving a simple byte array from my database for download. I am well aware of how to achieve this, and as far as I can tell, have all of my bases covered; yet cannot locate the file in the relative path. \nDesignModel:</p>\n\n<pre><code>public class Message\n{\n    [Key]\n    public int Id { get; set; }\n    //...\n    public byte[] Attachment { get; set; }\n    public string ContentType { get; set; }\n    public string ContentName { get; set; }\n}\n</code></pre>\n\n<p>The data and metadata save perfectly fine so I know that the creation is not an issue, it is only my retrieval that has an issue.<br />\nView Models:</p>\n\n<pre><code>public class MessageAdd\n{\n    //..\n    public HttpPostedFileBase Attachments { get; set; }\n}\n\npublic class MessageBase : MessageAdd\n{\n\n    public MessageBase()\n    {\n        url = HttpContext.Current.Request.Url.GetLeftPart(System.UriPartial.Authority);\n    }\n    public int Id { get; set; }\n    public string ContentType { get; set; }\n    public string ContentName { get; set; }\n    public byte[] Attachment { get; set; }\n\n    private string url = \"\";\n    public string AttachUrl\n    {\n        get\n        {\n            return string.Format(\"{0}/image/Message/Attachment{1}\", url, Id);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Message Controller:</p>\n\n<pre><code>private Manager m = new Manager();\n    // GET: Message\n    [Authorize]\n    public ActionResult Inbox()\n    {\n        return View(m.Inbox());\n    }\n</code></pre>\n\n<p>Manager class inbox fun:</p>\n\n<pre><code>public IEnumerable&lt;MessageBase&gt; Inbox()\n    {\n        var messages = ds.Messages.Where(x =&gt; x.Recipient == uNm);\n\n        return (messages == null) ? null : Mapper.Map&lt;IEnumerable&lt;MessageBase&gt;&gt;(messages);\n    }\n</code></pre>\n\n<p>File Controller:</p>\n\n<pre><code>private Manager m = new Manager();\n\n    [Route(\"image/Message/Attachment/{id}\")]\n    public ActionResult GetMessageLogoById(int? id)\n    {\n        // Determine whether we can continue\n        if (!id.HasValue) { return HttpNotFound(); }\n\n        // Fetch the object, so that we can inspect its value\n        var fetchedObject = m.GetMessageById(id.Value);\n\n        if (fetchedObject == null)\n        {\n            return HttpNotFound();\n        }\n        else\n        {\n            // Return a file content result\n            // Set the Content-Type header, and return the photo bytes\n            return File(fetchedObject.Attachment, fetchedObject.ContentType, fetchedObject.ContentName);\n        }\n</code></pre>\n\n<p>GetMessageByID( in manager ):</p>\n\n<pre><code>public MessageBase GetMessageById(int id)\n    {\n        var fetchedObject = Mapper.Map&lt;MessageBase&gt;(ds.Messages.Find(id));\n\n        return (fetchedObject == null) ? null\n            : fetchedObject;\n    }\n</code></pre>\n\n<p>the view:</p>\n\n<pre><code>//..\n        &lt;th&gt;\n            Attachment\n        &lt;/th&gt;\n\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n\n@foreach (var item in Model) {\n    &lt;tr&gt;\n    //.. \n\n        @{\n            if (item.ContentType != null)\n            {\n                if (item.ContentType.Contains(\"audio\"))\n                {\n                    &lt;td&gt;\n                        &lt;audio controls&gt;\n                            &lt;source src=\"@item.AttachUrl\" type=\"@item.ContentType\"&gt;\n                            Audio playback not supported.\n                        &lt;/audio&gt; &lt;br /&gt;\n                        &lt;a href='@item.AttachUrl' download&gt; Download audio&lt;/a&gt;\n                    &lt;/td&gt;\n                }\n                else if (item.ContentType.Contains(\"video\"))\n                {\n                    &lt;td&gt;\n                        &lt;video width=\"300\" height=\"280\" controls&gt;\n                            &lt;source src=\"@item.AttachUrl\" type=\"@item.ContentType\"&gt;\n                            Video playback not supported.\n                        &lt;/video&gt; &lt;br /&gt;\n                        &lt;a href='@item.AttachUrl' download&gt; Download video&lt;/a&gt;\n                    &lt;/td&gt;\n                }\n                else if (item.ContentType.Contains(\"image\"))\n                {\n                    &lt;td&gt;\n                        &lt;a href='@item.AttachUrl' download&gt;\n                            &lt;img src='@item.AttachUrl' alt=\"@item.ContentName\" title=\"@item.ContentType\" style=\"width: 100px;\" /&gt;\n                        &lt;/a&gt;\n                    &lt;/td&gt;\n                }\n                else\n                {\n                    &lt;td&gt;\n                        &lt;a href='@item.AttachUrl' download&gt;File - @item.ContentType&lt;/a&gt;\n                    &lt;/td&gt;\n                }\n            }\n            else\n            {\n                &lt;td&gt;No Attachment.&lt;/td&gt;\n            }\n        }\n    //..\n    }@\n</code></pre>\n\n<p>I have actually achieved results with this method on another project and when I compare the two I cannot see any difference in my logic. Any light shed would be appreciated. Cheers</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 2, "creation_date": 1465415153, "post_id": 37711547, "comment_id": 62896881, "body": "Skip() then Take()"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1465416897, "post_id": 37711547, "comment_id": 62897900, "body": "thats called the schlemeil the painter algorithm"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1465417475, "post_id": 37711547, "comment_id": 62898227, "body": "Not if collection implements IList then it is O(1)"}], "answers": [{"tags": [], "owner": {"reputation": 3053, "user_id": 1322693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf6557df415fcd3b6824338a38eb6b?s=128&d=identicon&r=PG", "display_name": "konkked", "link": "https://stackoverflow.com/users/1322693/konkked"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416134, "last_edit_date": 1465416134, "creation_date": 1465415373, "answer_id": 37711651, "question_id": 37711547, "link": "https://stackoverflow.com/questions/37711547/chunking-an-enumerable-via-linq/37711651#37711651", "title": "chunking an enumerable via linq", "body": "<p>I've implemented something like this for an open source project I work on, made some changes to make it work as an extension</p>\n\n<pre><code>public static class Extension \n{\n\n    private IEnumerable&lt;T&gt; Segment&lt;T&gt;( IEnumerator&lt;T&gt; iter, int size, out bool cont )\n    {\n        var ret= new List&lt;T&gt;( );\n        cont = true;\n        bool hit = false;\n        for ( var i=0 ; i &lt; size ; i++ )\n        {\n            if ( iter.MoveNext( ) )\n            {\n                hit = true;\n                ret.Add( iter.Current );\n            }\n            else\n            {\n                cont = false;\n                break;\n            }\n        }\n\n        return hit ? ret : null;\n    }\n\n    /// &lt;summary&gt;\n    /// Breaks the collection into smaller chunks\n    /// &lt;/summary&gt;\n    public IEnumerable&lt;IEnumerable&lt;T&gt;&gt; Chunk&lt;T&gt;(this IEnumerable&lt;T&gt; collection, int size )\n    {\n\n        bool shouldContinue = collection!=null &amp;&amp; collection.Any();\n\n        using ( var iter = collection.GetEnumerator( ) )\n        {\n            while ( shouldContinue )\n            {\n                //iteration of the enumerable is done in segment\n                var result = Segment( iter, size, out shouldContinue );\n\n                if ( shouldContinue || result != null )\n                    yield return result;\n\n                else yield break;\n            }\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "closed_date": 1465415482, "answer_count": 1, "score": 0, "last_activity_date": 1465416134, "creation_date": 1465415041, "question_id": 37711547, "link": "https://stackoverflow.com/questions/37711547/chunking-an-enumerable-via-linq", "closed_reason": "Duplicate", "title": "chunking an enumerable via linq", "body": "<p>I have an IEnumerable. I want to chunk it up, ie say there are 500 elements, I want 10 50 element chunks out of it. I tried this</p>\n\n<pre><code>        while (true)\n        {\n            var page = ret.Take(pagesize).ToList();\n            .. do stuff with page\n        }\n</code></pre>\n\n<p>but that starts at the beginning every time. I am happy with either the above model (an external loop over each page). Or soemting that looks like this</p>\n\n<pre><code> ret.ChunkIt(pagesize).Select(chunk =&gt; &gt;do stuff with the page)\n</code></pre>\n\n<p>I would like to avoid something that materializes the whole list (it might be huge). Ie something that did</p>\n\n<pre><code> List&lt;List&lt;object&gt;&gt; chunks = ret.Chunkit(100);\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "edited": false, "score": 0, "creation_date": 1465420603, "post_id": 37711439, "comment_id": 62899726, "body": "I decided to go with the DataTemplateSelector, which I got working readily. I still would like to know what I am doing wrong here."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1465421234, "post_id": 37711439, "comment_id": 62900026, "body": "Without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, it&#39;s impossible to say for sure. But based on what you posted, it looks like you are trying to use the <code>ItemsControl</code> style to set the template, which would a) set the template for <i>all</i> items in the collection, and b) refer to the <code>ItemsControl</code> data context, not each individual item. More likely what you should be doing is using a single template that itself shows/hides appropriate members depending on the <code>IsBoolean</code> value."}], "owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465414600, "creation_date": 1465414600, "question_id": 37711439, "link": "https://stackoverflow.com/questions/37711439/bind-a-datatrigger-to-a-property-of-a-data-object", "title": "Bind a datatrigger to a property of a data object", "body": "<p>I have an ItemsControl where I would like to bind set the data template according to a property in my data object. My default template contains a textbox for a numerical value, which I would like to replace with a checkbox when my object contains a value which can only be 0 or 1. The datatrigger should bind to IsBoolean, which is a property of one of the workflow parameters in the ItemsSource. I think that what I have right now trys to bind to an IsBoolean property in my DataContext. What is the correct way to specify the source?</p>\n\n<p>Here is the XAML:</p>\n\n<pre><code>        &lt;ItemsControl ItemsSource=\"{Binding WorkflowParameters}\" IsTabStop=\"False\"&gt;                \n            &lt;ItemsControl.Style&gt;\n                &lt;Style TargetType=\"ItemsControl\"&gt;\n                    &lt;Setter Property=\"ItemTemplate\"&gt;\n                        &lt;Setter.Value&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;Grid&gt;\n                                    &lt;Grid.ColumnDefinitions&gt;\n                                        &lt;ColumnDefinition /&gt;\n                                        &lt;ColumnDefinition /&gt;\n                                    &lt;/Grid.ColumnDefinitions&gt;\n                                    &lt;TextBlock Text=\"{Binding DisplayName}\" Grid.Column=\"0\" Margin=\"5\"&gt;\n                                        &lt;TextBlock.ToolTip&gt;\n                                            &lt;ToolTip DataContext=\"{Binding Path=PlacementTarget.DataContext, RelativeSource={x:Static RelativeSource.Self}}\"&gt;\n                                                &lt;TextBlock Text=\"{Binding Description}\"/&gt;\n                                            &lt;/ToolTip&gt;\n                                        &lt;/TextBlock.ToolTip&gt;                                \n                                    &lt;/TextBlock&gt;\n\n                                    &lt;StackPanel Grid.Column=\"1\" Orientation=\"Horizontal\"&gt;\n                                        &lt;TextBox Text=\"{Binding DefaultValue, StringFormat=N3}\" Margin=\"5\" Width=\"100\"/&gt;\n                                        &lt;TextBlock Text=\"{Binding Unit}\" Margin=\"5,0,0,0\" VerticalAlignment=\"Center\"/&gt;\n                                    &lt;/StackPanel&gt;\n                                &lt;/Grid&gt;\n\n                            &lt;/DataTemplate&gt;\n                        &lt;/Setter.Value&gt;\n                    &lt;/Setter&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;DataTrigger Binding=\"{Binding IsBoolean}\" Value=\"true\"&gt;\n                            &lt;Setter Property=\"ItemTemplate\"&gt;\n                                &lt;Setter.Value&gt;\n                                    &lt;DataTemplate&gt;\n                                        &lt;Grid&gt;\n                                            &lt;Grid.ColumnDefinitions&gt;\n                                                &lt;ColumnDefinition /&gt;\n                                                &lt;ColumnDefinition /&gt;\n                                            &lt;/Grid.ColumnDefinitions&gt;\n                                            &lt;TextBlock Text=\"{Binding DisplayName}\" Grid.Column=\"0\" Margin=\"5\"&gt;\n                                                &lt;TextBlock.ToolTip&gt;\n                                                    &lt;ToolTip DataContext=\"{Binding Path=PlacementTarget.DataContext, RelativeSource={x:Static RelativeSource.Self}}\"&gt;\n                                                        &lt;TextBlock Text=\"{Binding Description}\"/&gt;\n                                                    &lt;/ToolTip&gt;\n                                                &lt;/TextBlock.ToolTip&gt;                                \n                                            &lt;/TextBlock&gt;\n\n                                            &lt;CheckBox Command=\"{Binding SetBooleanValue}\" Grid.Column=\"1\"/&gt;\n                                        &lt;/Grid&gt;                                            \n                                    &lt;/DataTemplate&gt;\n                                &lt;/Setter.Value&gt;\n                            &lt;/Setter&gt;\n                        &lt;/DataTrigger&gt;\n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/ItemsControl.Style&gt;\n\n        &lt;/ItemsControl&gt;\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1465414683, "post_id": 37711412, "comment_id": 62896643, "body": "Are you loading your Layout via <code>SetContentView</code> <b>before</b> using <code>FindViewById</code>?"}, {"owner": {"reputation": 61, "user_id": 1932197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c08672d395d79c018131b4ebee648?s=128&d=identicon&r=PG", "display_name": "f00f", "link": "https://stackoverflow.com/users/1932197/f00f"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1465415529, "post_id": 37711412, "comment_id": 62897100, "body": "Yes.           <code>protected override void OnCreate(Bundle bundle)         {             base.OnCreate(bundle);             SetContentView(Resource.Layout.Main);                         Button button = this.FindViewById&lt;Button&gt;(Resource.Id.RandomButton);             if (button != null)             {                 button.Click += delegate                 {                     MediaPlayer.Create(this, Resource.Raw.s0011).Start();                 };             }</code>  is  my code. The button shows up on the screen, it just doesn&#39;t do anything.  Breaking reveals that it&#39;s null."}], "owner": {"reputation": 61, "user_id": 1932197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c08672d395d79c018131b4ebee648?s=128&d=identicon&r=PG", "display_name": "f00f", "link": "https://stackoverflow.com/users/1932197/f00f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465414515, "creation_date": 1465414515, "question_id": 37711412, "link": "https://stackoverflow.com/questions/37711412/debugging-xamarin-views", "title": "Debugging Xamarin Views", "body": "<p>I'm trying to figure out why my Xamarin Android code doesn't work. I've been modifying the <a href=\"https://developer.xamarin.com/guides/android/getting_started/hello,android/\" rel=\"nofollow\">default</a> Hello World app.  In <code>Main.axml</code> I added </p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/RandomButton\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/Random\" /&gt;\n</code></pre>\n\n<p>and sure enough, inside <code>MainActivity.OnCreate()</code> this will compile:</p>\n\n<pre><code> Button button = this.FindViewById&lt;Button&gt;(Resource.Id.RandomButton);\n</code></pre>\n\n<p>But, <code>button</code> is null. There must be something very basic and obvious that I'm doing wrongly, although I can't figure out what.</p>\n"}, {"tags": ["c#", "winforms", "datagridview", "datagridviewcolumn"], "answers": [{"comments": [{"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 1, "creation_date": 1465415267, "post_id": 37711449, "comment_id": 62896960, "body": "Great! Seems strange to have two settings. But thanks all the same. :)"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465415777, "post_id": 37711449, "comment_id": 62897239, "body": "Read also the quote."}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 2, "last_activity_date": 1465415553, "last_edit_date": 1465415553, "creation_date": 1465414631, "answer_id": 37711449, "question_id": 37711326, "link": "https://stackoverflow.com/questions/37711326/setting-the-datagridview-allowusertoresizecolumns-is-not-100-correct/37711449#37711449", "title": "Setting the DataGridView AllowUserToResizeColumns is not 100% correct", "body": "<p>To have fixed row header width and prevent users from resizing row header width, you can set <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.rowheaderswidthsizemode(v=vs.110).aspx\" rel=\"nofollow\"><code>RowHeadersWidthSizeMode</code></a> property of your grid to <code>DisableResizing</code> using designer or code:</p>\n\n<pre><code>grid.RowHeadersWidthSizeMode = DataGridViewRowHeadersWidthSizeMode.DisableResizing;\n</code></pre>\n\n<p>This way the size of row headers would be the fixed value which you set using  <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.rowheaderswidth(v=vs.110).aspx\" rel=\"nofollow\"><code>RowHeadersWidth</code></a> property of your data grid view control.</p>\n\n<p>You can also use auto size options of <a href=\"https://msdn.microsoft.com/en-us/library/ms159167(v=vs.110).aspx\" rel=\"nofollow\"><code>DataGridViewRowHeadersWidthSizeMode</code></a> enumeration.</p>\n\n<blockquote>\n  <p>By default, users can resize the width of the row headers. You can\n  disable this ability to set a fixed width, or you can use a\n  content-based automatic sizing mode, which also disables user\n  resizing.</p>\n</blockquote>\n"}], "owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 37711449, "answer_count": 1, "score": 1, "last_activity_date": 1465415553, "creation_date": 1465414276, "question_id": 37711326, "link": "https://stackoverflow.com/questions/37711326/setting-the-datagridview-allowusertoresizecolumns-is-not-100-correct", "title": "Setting the DataGridView AllowUserToResizeColumns is not 100% correct", "body": "<p>If I set a the DataGridView to:</p>\n\n<pre><code>dataGridView.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.Fill\ndataGridView.AllowUserToAddRows = false;\ndataGridView.AllowUserToResizeColumns = false;\n</code></pre>\n\n<p>And then set my columns like this:</p>\n\n<pre><code>dataGridView.Columns[\"Colour\"].FillWeight = 50;\ndataGridView.Columns[\"Layer\"].FillWeight = 50;\ncboColumn.DefaultCellStyle.Padding = new Padding(16, 0, 16, 0);\n</code></pre>\n\n<p>It initially looks great:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6hjwK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hjwK.jpg\" alt=\"Good Grid\"></a></p>\n\n<p>I purposely put the mouse over the column resize and it won't allow. Good! But ...</p>\n\n<p>I can still resize the column on the left, and when I do that, my painting on the right looks bad:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YqJxb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YqJxb.jpg\" alt=\"Error\"></a></p>\n\n<p>So I have two issues here:</p>\n\n<ol>\n<li><p>Why is it that I can still resize the first column? I don't want to allow it.</p></li>\n<li><p>If it must be allowed, can we deal with the last column issue?</p></li>\n</ol>\n\n<p>Thoughts?</p>\n"}, {"tags": ["c#", ".net", "git", "visual-studio-2015"], "comments": [{"owner": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 0, "creation_date": 1465414707, "post_id": 37711325, "comment_id": 62896653, "body": "Do you have anything in the Output window?"}, {"owner": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465414756, "post_id": 37711325, "comment_id": 62896674, "body": "how many project in this .sln? Merging the .sln file is always a little strange. You can check a couple of things, open the sln file in a text editor of your choice and check if the GUIDs for the projects are all in the same case, things like that. In all honesty, when I had a really bad merge I just removed all the projects and re-added them. Figured it would&#39;ve taken less time then trying to figure it out."}, {"owner": {"reputation": 299, "user_id": 2414540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0HVr.jpg?s=128&g=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/2414540/spencer"}, "edited": false, "score": 0, "creation_date": 1465417017, "post_id": 37711325, "comment_id": 62897965, "body": "I&#39;ve had similar issues with Git on VS.  I did everything you&#39;ve stated up there.  reset the users settings, <a href=\"http://stackoverflow.com/questions/31644895/razor-intellisense-not-working-in-vs-2015/33975363#33975363\" title=\"razor intellisense not working in vs 2015\">stackoverflow.com/questions/31644895/&hellip;</a>  .  This one fixed an issue with the Git plugin for me."}, {"owner": {"reputation": 31, "user_id": 6442139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb5d7085b98eb9eb8455e512f2d776e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyK", "link": "https://stackoverflow.com/users/6442139/johnnyk"}, "reply_to_user": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 0, "creation_date": 1465456842, "post_id": 37711325, "comment_id": 62911059, "body": "@Valentin: Nothing in the output window. As I wrote, it&#39;s like I never clicked build/rebuild at all."}, {"owner": {"reputation": 31, "user_id": 6442139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb5d7085b98eb9eb8455e512f2d776e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyK", "link": "https://stackoverflow.com/users/6442139/johnnyk"}, "reply_to_user": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465456848, "post_id": 37711325, "comment_id": 62911065, "body": "@Peter4499: Is there any risk in this? Most of these projects are owned by other teams, will I perhaps break some of their configurations by removing/adding their projects?"}, {"owner": {"reputation": 31, "user_id": 6442139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb5d7085b98eb9eb8455e512f2d776e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyK", "link": "https://stackoverflow.com/users/6442139/johnnyk"}, "reply_to_user": {"reputation": 299, "user_id": 2414540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0HVr.jpg?s=128&g=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/2414540/spencer"}, "edited": false, "score": 0, "creation_date": 1465456853, "post_id": 37711325, "comment_id": 62911069, "body": "@Spencer K: Thank you for your suggestions. I tried, however it did not help me."}, {"owner": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465457149, "post_id": 37711325, "comment_id": 62911241, "body": "@JohnnyK  don&#39;t think so but you can always roll back the change, and (as always) make a backup copy of the file"}, {"owner": {"reputation": 2990, "user_id": 2394026, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fr6T0.jpg?s=128&g=1", "display_name": "Flows", "link": "https://stackoverflow.com/users/2394026/flows"}, "edited": false, "score": 0, "creation_date": 1465488209, "post_id": 37711325, "comment_id": 62933206, "body": "Is it ok for you to reset your sln file to a commit before the merge. Then, create a patch for the sln file and apply them on your HEAD. You&#39;ll get all changes."}], "owner": {"reputation": 31, "user_id": 6442139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb5d7085b98eb9eb8455e512f2d776e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyK", "link": "https://stackoverflow.com/users/6442139/johnnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1465414276, "creation_date": 1465414276, "question_id": 37711325, "link": "https://stackoverflow.com/questions/37711325/visual-studo-cant-build-rebuild-clean-after-git-merge", "title": "Visual Studo: Cant build/rebuild/clean after git merge", "body": "<p>I work in a large solution, shared by several different project teams from different companies. Pending an upgrade of the CMS, I have been tasked with merging our code from the old platform version, with the new code in the upgraded solution.</p>\n\n<p>After spending hours on a complicated git merge, all that was left was the .sln file. After I tried resolving the conflicts, <strong>I can't build/clean/rebuild the solution.</strong> Nothing happens when I click either option, it's like I never clicked at all.</p>\n\n<p><strong>What can I do to get my .sln file to comply?</strong> I've used diff-tools to no avail, since every version of the .sln looks completely different, with unreadable guids and lines.</p>\n\n<p><strong>What I've tried so far:</strong></p>\n\n<ul>\n<li>Restarting VS</li>\n<li>Repairing VS</li>\n<li>using the .sln file from our legacy code</li>\n<li>using the .sln file form the upgraded code</li>\n<li>using a .sln based on the upgraded code, where I just tried adding the lines that our project added to the sln in between the legacy code and the upgraded code.</li>\n</ul>\n\n<p>Grateful for your time and help.</p>\n"}, {"tags": ["c#", "enums"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 1553051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c7413bba96395c5678082821778f7fa?s=128&d=identicon&r=PG", "display_name": "James Lambert", "link": "https://stackoverflow.com/users/1553051/james-lambert"}, "is_accepted": false, "score": 2, "last_activity_date": 1465414608, "creation_date": 1465414608, "answer_id": 37711442, "question_id": 37711297, "link": "https://stackoverflow.com/questions/37711297/c-enum-reflection/37711442#37711442", "title": "C# enum reflection?", "body": "<p>Enums has a toString method, you should be fine using it</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/16c1xs4z(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/16c1xs4z(v=vs.110).aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 3386243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd693b99ce803ba846df85fcaf4858bf?s=128&d=identicon&r=PG", "display_name": "TehPirate", "link": "https://stackoverflow.com/users/3386243/tehpirate"}, "edited": false, "score": 0, "creation_date": 1465414991, "post_id": 37711490, "comment_id": 62896798, "body": "Could I then do another foreach on the cmdGroup to retrieve each variable under each enum?"}, {"owner": {"reputation": 3053, "user_id": 1322693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf6557df415fcd3b6824338a38eb6b?s=128&d=identicon&r=PG", "display_name": "konkked", "link": "https://stackoverflow.com/users/1322693/konkked"}, "edited": false, "score": 0, "creation_date": 1465488231, "post_id": 37711490, "comment_id": 62933218, "body": "Should put possible duplicate in the comments"}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1465561651, "post_id": 37711490, "comment_id": 62966023, "body": "removed it, not sure if it counts."}], "tags": [], "owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "is_accepted": false, "score": 0, "last_activity_date": 1465561642, "last_edit_date": 1465561642, "creation_date": 1465414807, "answer_id": 37711490, "question_id": 37711297, "link": "https://stackoverflow.com/questions/37711297/c-enum-reflection/37711490#37711490", "title": "C# enum reflection?", "body": "<p>Looks like you need something like this to generate the list of enums</p>\n\n<pre><code>foreach (string cmdGroup in Enum.GetNames(typeof(CommandGroups)))\n{\n    // ... print(cmdGroup);\n}\n</code></pre>\n\n<p>That would get you</p>\n\n<p>Information</p>\n\n<p>Admin</p>\n\n<p>Owner</p>\n"}, {"tags": [], "owner": {"reputation": 3053, "user_id": 1322693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf6557df415fcd3b6824338a38eb6b?s=128&d=identicon&r=PG", "display_name": "konkked", "link": "https://stackoverflow.com/users/1322693/konkked"}, "is_accepted": false, "score": 0, "last_activity_date": 1465418337, "creation_date": 1465418337, "answer_id": 37712476, "question_id": 37711297, "link": "https://stackoverflow.com/questions/37711297/c-enum-reflection/37712476#37712476", "title": "C# enum reflection?", "body": "<p>Any reason to not just define objects and specify the group you are using through a class with a name?</p>\n\n<p>You have the benefit of having a much simpler and easier to follow design, and you can store the commands without any additional magic</p>\n\n<pre><code>public class Command\n{\n    public int Id {get;set;}\n    public string Name {get;set;}\n}\n\n\npublic class CommandGroup\n{\n   public string Name {get;set;}\n   public IEnumerable&lt;Commands&gt; Commands {get;set;}\n}\n\n\n\npublic class CommandGroupLookup\n{\n\n    public CommandGroupLookup()\n    {\n         //initialize from database or wherever \n    }\n\n    private readonly Dictionary&lt;string,CommandGroup&gt; _commandGroup;\n    public Command LookupGroup( string lookupCommandGroup )\n    {\n        return _commandGroup[lookupCommandGroup];\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 3386243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd693b99ce803ba846df85fcaf4858bf?s=128&d=identicon&r=PG", "display_name": "TehPirate", "link": "https://stackoverflow.com/users/3386243/tehpirate"}, "edited": false, "score": 0, "creation_date": 1465774511, "post_id": 37716538, "comment_id": 63027755, "body": "This is the general idea that I ended up using."}], "tags": [], "owner": {"reputation": 1553, "user_id": 6443307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pguLy.gif?s=128&g=1", "display_name": "wablab", "link": "https://stackoverflow.com/users/6443307/wablab"}, "is_accepted": true, "score": 0, "last_activity_date": 1465445183, "last_edit_date": 1465445183, "creation_date": 1465444725, "answer_id": 37716538, "question_id": 37711297, "link": "https://stackoverflow.com/questions/37711297/c-enum-reflection/37716538#37716538", "title": "C# enum reflection?", "body": "<p>Consider storing all your Command objects in something like a <code>Dictionary&lt;CommandGroups, List&lt;Command&gt;&gt;</code>. Then, assuming your Command class has a <code>Name</code> property on it that exposes the verbs such as \"about\", \"kick\", \"ban\", etc., you could do:</p>\n\n<pre><code>\n// assuming \"groups\" is the dictionary:\nforeach (var kvp in groups)\n{\n  Console.WriteLine(\"{0}: {1}\", kvp.Key, string.Join(\", \", kvp.Value.Select(x => x.Name).ToArray()));\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3386243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd693b99ce803ba846df85fcaf4858bf?s=128&d=identicon&r=PG", "display_name": "TehPirate", "link": "https://stackoverflow.com/users/3386243/tehpirate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 37716538, "answer_count": 4, "score": 0, "last_activity_date": 1465561642, "creation_date": 1465414234, "question_id": 37711297, "link": "https://stackoverflow.com/questions/37711297/c-enum-reflection", "title": "C# enum reflection?", "body": "<p>Creating a bot with a command grouping function for organization and formatting.</p>\n\n<p>I was thinking of creating a public enum with each group option like</p>\n\n<pre><code>public enum CommandGroups\n{\n    Information,\n    Admin,\n    Owner,\n    etc\n}\n</code></pre>\n\n<p>Then defining it with a public object within the command creation</p>\n\n<pre><code>public Command SetGroup(CommandGroups group)\n{\n    this.group = group;\n    return this;\n}\n</code></pre>\n\n<p>So when issuing a help command, something like this would return, granted after some formatting</p>\n\n<pre><code>Information: about, stats\nAdmin: kick, ban, mute\nOwner: reload\n</code></pre>\n\n<p>The problem that I thought is, can you even use reflection on an enum like this?\nOr should I try a different way?</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 1214948, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0xUSq.png?s=128&g=1", "display_name": "Rudis", "link": "https://stackoverflow.com/users/1214948/rudis"}, "is_accepted": false, "score": 2, "last_activity_date": 1465415764, "last_edit_date": 1465415764, "creation_date": 1465415214, "answer_id": 37711607, "question_id": 37711294, "link": "https://stackoverflow.com/questions/37711294/aggregating-lists-of-users-strings/37711607#37711607", "title": "Aggregating Lists of Users (Strings)", "body": "<p>You can map all values to their keys and then group them by value and then apply ToDictionary, for expected result.</p>\n\n<pre><code>var data = new Dictionary&lt;int, List&lt;string&gt;&gt;\n{\n    { 1, new List&lt;string&gt; { \"Adam\", \"Lucie\" } },\n    { 2, new List&lt;string&gt; { \"Adam\", \"Hannah\" } },\n    { 3, new List&lt;string&gt; { \"John\", \"Rachel\" } },\n    { 4, new List&lt;string&gt; { \"Bill\", \"Hannah\" } },\n};\n\nvar result = data.SelectMany(p =&gt; p.Value.Select(v =&gt; new {Key = p.Key, Value = v}))\n        .GroupBy(o =&gt; o.Value)\n        .ToDictionary(g =&gt; g.Key, g =&gt; g.Select(v =&gt; v.Key));\n\nforeach (var keyValues in result)\n{\n    Console.WriteLine(keyValues.Key + \": \" + string.Join(\", \", keyValues.Value));\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 1232607, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6153d36fd72316bf49be36f965ee5056?s=128&d=identicon&r=PG&f=1", "display_name": "Sarfaraz Jamal", "link": "https://stackoverflow.com/users/1232607/sarfaraz-jamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465415771, "creation_date": 1465414231, "last_edit_date": 1465415771, "question_id": 37711294, "link": "https://stackoverflow.com/questions/37711294/aggregating-lists-of-users-strings", "title": "Aggregating Lists of Users (Strings)", "body": "<p>I have a Dictionary that looks like the following, with the key being an Integer and the value being a List of strings:</p>\n\n<pre><code>var x = new Dictionary&lt;int, List&lt;string&gt;&gt;;\n</code></pre>\n\n<p>I would like to see if any of those Lists match each other (without being in order) so that I can group them together in a role.</p>\n\n<p>The final solution will look like</p>\n\n<pre><code>var y = new Dictionary&lt;string, List&lt;int&gt;&gt;\n</code></pre>\n\n<p>Where the <code>List&lt;int&gt;</code> is the keys from <code>var x</code>. The string key will be a machine generated string such as a guid, etc.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1465414217, "post_id": 37711261, "comment_id": 62896405, "body": "You shouldn&#39;t need to parse a connection string.  What are you trying to do?"}, {"owner": {"reputation": 4595, "user_id": 314507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35fa938f2b64b7620be0181281f2ae1?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/314507/jeremy"}, "edited": false, "score": 2, "creation_date": 1465414219, "post_id": 37711261, "comment_id": 62896407, "body": "you could just store username and password separately, then build your connection string at run time"}, {"owner": {"reputation": 3516, "user_id": 1178921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cee84351ff4c40bacdb5db506942290?s=128&d=identicon&r=PG", "display_name": "deltree", "link": "https://stackoverflow.com/users/1178921/deltree"}, "edited": false, "score": 0, "creation_date": 1465414260, "post_id": 37711261, "comment_id": 62896428, "body": "- web.config is just an XML file - that connection string has those values in it, you can string parse them out if you like, but that&#39;s not wise. - you can always store username and password as separate properties in the config elsewhere"}, {"owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "edited": false, "score": 0, "creation_date": 1465415269, "post_id": 37711261, "comment_id": 62896961, "body": "I should not make a new entry for username and password seperately. I need to get them from the existing configuration."}, {"owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "edited": false, "score": 0, "creation_date": 1465415308, "post_id": 37711261, "comment_id": 62896984, "body": "string connect = System.Configuration.ConfigurationManager.AppSettings[&quot;DBcon&zwnj;&#8203;nection&quot;];"}, {"owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "edited": false, "score": 0, "creation_date": 1465415313, "post_id": 37711261, "comment_id": 62896986, "body": "string[] values = connect.Split(&#39;,&#39;);"}, {"owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "edited": false, "score": 0, "creation_date": 1465415412, "post_id": 37711261, "comment_id": 62897040, "body": "This will give a string array with USER=har, PASSWORD = imp, FOR_USER=ra005"}, {"owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "edited": false, "score": 0, "creation_date": 1465415434, "post_id": 37711261, "comment_id": 62897050, "body": "how do I get the user value here seperately"}], "answers": [{"tags": [], "owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "is_accepted": false, "score": 1, "last_activity_date": 1465414336, "creation_date": 1465414336, "answer_id": 37711344, "question_id": 37711261, "link": "https://stackoverflow.com/questions/37711261/how-to-read-username-and-password-separately-from-web-config-in-c/37711344#37711344", "title": "How to read username and password separately from web.config in C#", "body": "<p>Assuming this is a SQL Server connection string, pass it to a <a href=\"https://msdn.microsoft.com/library/system.data.sqlclient.sqlconnectionstringbuilder\" rel=\"nofollow\"><code>SqlConnectionStringBuilder</code></a>:</p>\n\n<pre><code>var builder = new SqlConnectionStringBuilder(\n    ConfigurationManager.AppSettings[\"DBconnection\"]\n);\n// use builder.UserID and builder.Password here\n</code></pre>\n\n<p>If it's a connection string for another database, you'll have to know the proper provider -- or store it as a <code>&lt;connectionString&gt;</code> so the provider is included.</p>\n\n<p>Note that actually including a user ID and password as plain text in a configuration setting is not recommended. See <a href=\"https://msdn.microsoft.com/library/ms254494\" rel=\"nofollow\">Connection Strings and Configuration Files</a>, especially the section \"Encrypting Configuration File Sections Using Protected Configuration\".</p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 6326116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368bbe0af524d89efee1b5de03f80285?s=128&d=identicon&r=PG&f=1", "display_name": "riteshmeher", "link": "https://stackoverflow.com/users/6326116/riteshmeher"}, "is_accepted": false, "score": 0, "last_activity_date": 1465414346, "creation_date": 1465414346, "answer_id": 37711355, "question_id": 37711261, "link": "https://stackoverflow.com/questions/37711261/how-to-read-username-and-password-separately-from-web-config-in-c/37711355#37711355", "title": "How to read username and password separately from web.config in C#", "body": "<p>You can add key value pair in webconfig file </p>\n\n<pre><code>&lt;add key=\"UserName\" value=\"test\" /&gt;\n&lt;add key=\"Password\" value=\"test\" /&gt; \n</code></pre>\n\n<p>and read it like <code>System.Web.Configuration.WebConfigurationManager.AppSettings[\"UserName\"]</code></p>\n"}], "owner": {"reputation": 1, "user_id": 6287696, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0372f927b2d1ac1d85ed0d5ad25933ae?s=128&d=identicon&r=PG&f=1", "display_name": "chai", "link": "https://stackoverflow.com/users/6287696/chai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465418833, "creation_date": 1465414102, "last_edit_date": 1465418833, "question_id": 37711261, "link": "https://stackoverflow.com/questions/37711261/how-to-read-username-and-password-separately-from-web-config-in-c", "title": "How to read username and password separately from web.config in C#", "body": "<pre><code>&lt;add key=\"DBconnection\" \n     value=\"USER=harc, PASSWORD=imp, FOR_USER=ra005\" /&gt;\n</code></pre>\n\n<p>I have this line of config in my <code>web.config</code>.</p>\n\n<p>I am getting this value in my C# code as</p>\n\n<pre><code>string connect = System.Configuration.ConfigurationManager.AppSettings[\"DBconnection\"];\n</code></pre>\n\n<p>How do I get the USER and PASSWORD values individually from this configuration?</p>\n"}, {"tags": ["c#", "windows", "uwp", "uwp-xaml"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1465414491, "post_id": 37711185, "comment_id": 62896539, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/hh702523.aspx\" rel=\"nofollow noreferrer\">ListViewBase.MakeVisible</a>."}, {"owner": {"reputation": 1089, "user_id": 3833086, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/09400e12f1edbaf3e1afbf71db3a0037?s=128&d=identicon&r=PG", "display_name": "Hasan Hasanov", "link": "https://stackoverflow.com/users/3833086/hasan-hasanov"}, "edited": false, "score": 0, "creation_date": 1465416236, "post_id": 37711185, "comment_id": 62897527, "body": "There is no MessageListView in this example please be more concrete. Do you mean MessageList?"}, {"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1465417258, "post_id": 37711185, "comment_id": 62898108, "body": "Yes. MessageList is what I meant. I&#39;ll edit my question."}, {"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465419788, "post_id": 37711185, "comment_id": 62899371, "body": "@IInspectable Could you provide an example of how I should add the SemanticZoom into that xaml file so that I may bring the final item in that listview into focus?"}], "answers": [{"comments": [{"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1465491879, "post_id": 37718142, "comment_id": 62935389, "body": "Thank you for the very detailed and helpful answer."}], "tags": [], "owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "is_accepted": true, "score": 1, "last_activity_date": 1465452901, "creation_date": 1465452901, "answer_id": 37718142, "question_id": 37711185, "link": "https://stackoverflow.com/questions/37711185/windows-uwp-how-to-programmatically-scroll-listview-in-contenttemplate/37718142#37718142", "title": "Windows UWP - How to programmatically scroll ListView in ContentTemplate", "body": "<p>I think it's the key point that your <code>ListView</code> is inside of the <code>ContentTemplate</code> of <code>ContentPresenter</code>.</p>\n\n<p>Usually we can use <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/br242911.aspx\" rel=\"nofollow\">ListViewBase.ScrollIntoView(Object) method</a> method to scroll <code>ListView</code> to the specific item, but when the <code>ListView</code> is inside of <code>DataTemplate</code>, it is unexposed. Here is a method, we can use <a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(Windows.UI.Xaml.Media.VisualTreeHelper);k(TargetFrameworkMoniker-.NETCore,Version%3Dv5.0);k(DevLang-csharp)&amp;rd=true\" rel=\"nofollow\">VisualTreeHelper</a> to get this <code>ListView</code>:</p>\n\n<pre><code>public static T FindChildOfType&lt;T&gt;(DependencyObject root) where T : class\n{\n    var queue = new Queue&lt;DependencyObject&gt;();\n    queue.Enqueue(root);\n    while (queue.Count &gt; 0)\n    {\n        DependencyObject current = queue.Dequeue();\n        for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(current); i++)\n        {\n            var child = VisualTreeHelper.GetChild(current, i);\n            var typedChild = child as T;\n            if (typedChild != null)\n            {\n                return typedChild;\n            }\n            queue.Enqueue(child);\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>My sample is like this:</p>\n\n<pre><code>&lt;Grid.ColumnDefinitions&gt;\n    &lt;ColumnDefinition x:Name=\"MasterColumn\" Width=\"320\" /&gt;\n    &lt;ColumnDefinition x:Name=\"DetailColumn\" Width=\"*\" /&gt;\n&lt;/Grid.ColumnDefinitions&gt;\n\n&lt;ListView x:Name=\"MasterListView\" Grid.Column=\"0\" ItemsSource=\"{x:Bind ChatList}\" SelectionChanged=\"MasterListView_SelectionChanged\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate x:DataType=\"local:ChatEntity\"&gt;\n            &lt;TextBlock Text=\"{x:Bind Member}\" /&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n\n&lt;ContentPresenter x:Name=\"DetailContentPresenter\" Grid.Column=\"1\"\n                  Content=\"{x:Bind MasterListView.SelectedItem, Mode=OneWay}\"&gt;\n    &lt;ContentPresenter.ContentTemplate&gt;\n        &lt;DataTemplate x:DataType=\"local:ChatEntity\"&gt;\n            &lt;Grid&gt;\n                &lt;Grid.Resources&gt;\n                    &lt;DataTemplate x:Key=\"FromMessageDataTemplate\"&gt;\n                        &lt;StackPanel Orientation=\"Horizontal\" FlowDirection=\"LeftToRight\"&gt;\n                            &lt;TextBlock Text=\"{Binding Member}\" Width=\"30\" Foreground=\"Blue\" FontWeight=\"Bold\" /&gt;\n                            &lt;TextBlock Text=\":\" Width=\"10\" Foreground=\"Blue\" FontWeight=\"Bold\" /&gt;\n                            &lt;TextBlock Text=\"{Binding Content}\" Foreground=\"Red\" /&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n                    &lt;DataTemplate x:Key=\"ToMessageDataTemplate\"&gt;\n                        &lt;StackPanel Orientation=\"Horizontal\" FlowDirection=\"RightToLeft\"&gt;\n                            &lt;TextBlock Text=\"Me\" Width=\"30\" HorizontalAlignment=\"Right\" Foreground=\"Blue\" FontWeight=\"Bold\" /&gt;\n                            &lt;TextBlock Text=\":\" Width=\"10\" HorizontalAlignment=\"Right\" Foreground=\"Blue\" FontWeight=\"Bold\" /&gt;\n                            &lt;TextBlock Text=\"{Binding Content}\" HorizontalAlignment=\"Right\" Foreground=\"Green\" /&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n                    &lt;local:ChatDataTemplateSelector x:Key=\"ChatDataTemplateSelector\"\n                                MessageFromTemplate=\"{StaticResource FromMessageDataTemplate}\"\n                                MessageToTemplate=\"{StaticResource ToMessageDataTemplate}\" /&gt;\n                &lt;/Grid.Resources&gt;\n                &lt;ListView ItemsSource=\"{x:Bind MessageList}\" ItemTemplateSelector=\"{StaticResource ChatDataTemplateSelector}\"&gt;\n                    &lt;ListView.ItemContainerStyle&gt;\n                        &lt;Style TargetType=\"ListViewItem\"&gt;\n                            &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n                        &lt;/Style&gt;\n                    &lt;/ListView.ItemContainerStyle&gt;\n                &lt;/ListView&gt;\n            &lt;/Grid&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ContentPresenter.ContentTemplate&gt;\n&lt;/ContentPresenter&gt;\n</code></pre>\n\n<p>The <code>ChatEntity</code> class and <code>MessageEntity</code> class are like this:</p>\n\n<pre><code>public class ChatEntity\n{\n    public string Member { get; set; }\n    public ObservableCollection&lt;MessageEntity&gt; MessageList { get; set; }\n}\n\npublic class MessageEntity\n{\n    public enum MsgType\n    {\n        From,\n        To\n    }\n\n    public string Member { get; set; }\n    public string Content { get; set; }\n    public MsgType MessageType { get; set; }\n}\n</code></pre>\n\n<p>and my <code>ChatDataTemplateSelector</code> is like this:</p>\n\n<pre><code>public class ChatDataTemplateSelector : DataTemplateSelector\n{\n    public DataTemplate MessageFromTemplate { get; set; }\n    public DataTemplate MessageToTemplate { get; set; }\n\n    protected override DataTemplate SelectTemplateCore(object item, DependencyObject container)\n    {\n        MessageEntity msg = item as MessageEntity;\n        if (msg != null)\n        {\n            if (msg.MessageType == MessageEntity.MsgType.From)\n                return MessageFromTemplate;\n            else\n                return MessageToTemplate;\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Firstly I loaded the <code>ChatList</code> in the left <code>ListView</code>, and in the <code>SelectionChanged</code> event of the left <code>ListView</code>, I loaded the <code>MessageList</code>, this will ensure the <code>MessageList</code> be updated. It's like manually refreshing <code>ObservableCollection</code>(<code>MessageList</code>) for the right <code>ListView</code> each time you selected a item in the left <code>ListView</code>. But you can also add data to the <code>MessageList</code> in other time, and add data to it whenever there is a new message. The <code>ObservableCollection</code> can automatically get refresh. Here is my code:</p>\n\n<pre><code>private ObservableCollection&lt;MessageEntity&gt; messageList;\nprivate ObservableCollection&lt;ChatEntity&gt; ChatList;\n\npublic MainPage()\n{\n    this.InitializeComponent();\n    messageList = new ObservableCollection&lt;MessageEntity&gt;();\n    ChatList = new ObservableCollection&lt;ChatEntity&gt;();\n}\n\nprotected override void OnNavigatedTo(NavigationEventArgs e)\n{\n    ChatList.Add(new ChatEntity { Member = \"Tom\", MessageList = messageList });\n    ChatList.Add(new ChatEntity { Member = \"Peter\" });\n    ChatList.Add(new ChatEntity { Member = \"Clark\" });\n}\n\nprivate void MasterListView_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n    messageList.Clear();\n    for (int i = 0; i &lt; 100; i++)\n    {\n        if (i % 2 == 0)\n            messageList.Add(new MessageEntity { Member = \"Tom\", Content = \"Hello!\", MessageType = MessageEntity.MsgType.From });\n        else\n            messageList.Add(new MessageEntity { Content = \"World!\", MessageType = MessageEntity.MsgType.To });\n    }\n    var listView = FindChildOfType&lt;ListView&gt;(DetailContentPresenter);\n    listView.ScrollIntoView(messageList.Last());\n}\n</code></pre>\n\n<p>Data in my sample are all fake. The sample looks a little complex, but it's actually very simple, just use <code>VisualTreeHelper</code> to find the <code>ListView</code> and use its <code>ScrollIntoView</code> method to scroll to the last item.</p>\n"}], "owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2021, "favorite_count": 0, "accepted_answer_id": 37718142, "answer_count": 1, "score": 1, "last_activity_date": 1465452901, "creation_date": 1465413856, "last_edit_date": 1465417275, "question_id": 37711185, "link": "https://stackoverflow.com/questions/37711185/windows-uwp-how-to-programmatically-scroll-listview-in-contenttemplate", "title": "Windows UWP - How to programmatically scroll ListView in ContentTemplate", "body": "<p>I have a list of chats on the left and messages for a given chat on the right. </p>\n\n<p>I want to have the MessageList to scroll to the bottom whenever it appears or gets its data updated. How can I do this?</p>\n\n<p>My code is based off of Microsoft's Master/Detail view example:\n<a href=\"https://github.com/Microsoft/Windows-universal-samples/blob/master/Samples/XamlMasterDetail/cs/MasterDetailPage.xaml\" rel=\"nofollow\">https://github.com/Microsoft/Windows-universal-samples/blob/master/Samples/XamlMasterDetail/cs/MasterDetailPage.xaml</a></p>\n\n<p>The xaml page:   </p>\n\n<pre><code>&lt;Page\nx:Class=\"MyApp.Pages.ChatsPage\"\nxmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\nxmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\nxmlns:local=\"using:MyApp.Pages\"\nxmlns:data=\"using:MyApp.Model.Profile\"\nxmlns:vm=\"using:MyApp.ViewModel\"\nxmlns:util=\"using:MyApp.Util\"\nxmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\nxmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\nmc:Ignorable=\"d\"&gt;\n\n&lt;Page.Transitions&gt;\n    &lt;TransitionCollection&gt;\n        &lt;NavigationThemeTransition /&gt;\n    &lt;/TransitionCollection&gt;\n&lt;/Page.Transitions&gt;\n\n\n&lt;Page.Resources&gt;\n\n   &lt;util:BoolToVisibilityConverter x:Key=\"BoolToVisConverter\" /&gt;\n\n    &lt;!--CollectionViewSource x:Name=\"Chats\"\n        Source=\"{x:Bind ViewModel}\"/&gt;\n    &lt;CollectionViewSource x:Name=\"Chat\"\n        Source=\"{Binding ChatViewModel, Source={StaticResource Chats}}\"/&gt;\n    &lt;CollectionViewSource x:Name=\"Messages\"\n        Source=\"{Binding MessageViewModel, Source={StaticResource Chat}}\"/--&gt;\n\n    &lt;DataTemplate x:Key=\"MasterListViewItemTemplate\" &gt;\n        &lt;Grid Margin=\"0,11,0,13\" BorderBrush=\"Gray\" BorderThickness=\"2\"&gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition Height=\"Auto\" /&gt;\n                &lt;RowDefinition Height=\"Auto\" /&gt;\n            &lt;/Grid.RowDefinitions&gt;\n\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"*\" /&gt;\n                &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n\n            &lt;TextBlock Text=\"{Binding ChatName}\" Style=\"{ThemeResource ChatListTitleStyle}\" /&gt;\n\n            &lt;TextBlock\n                Text=\"{Binding LastMessage}\"\n                Grid.Row=\"1\"\n                MaxLines=\"1\"\n                Style=\"{ThemeResource ChatListTextStyle}\" /&gt;\n            &lt;TextBlock\n                Text=\"{Binding LastSender}\"\n                Grid.Column=\"1\"\n                Margin=\"12,1,0,0\"\n                Style=\"{ThemeResource ChatListLastSenderStyle}\" /&gt;\n        &lt;/Grid&gt;\n    &lt;/DataTemplate&gt;\n\n    &lt;DataTemplate x:Key=\"DetailContentTemplate\"&gt;\n\n        &lt;ListView x:Name=\"MessageList\" ItemsSource=\"{Binding Messages}\" ScrollViewer.VerticalScrollMode=\"Auto\"&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;StackPanel BorderBrush=\"Black\" BorderThickness=\"1\" Padding=\"1\"&gt;\n                        &lt;TextBlock Text=\"{Binding Message}\" Style=\"{StaticResource NewsfeedTextStyle}\"/&gt;\n                        &lt;Image Visibility=\"{Binding Path=IsPhoto, Converter={StaticResource BoolToVisConverter} }\" Source=\"{Binding Photo}\" /&gt;\n                        &lt;Image Visibility=\"{Binding Path=IsReaction, Converter={StaticResource BoolToVisConverter} }\" Width=\"200\" Height=\"200\" Source=\"{Binding Reaction}\" /&gt;\n                        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                            &lt;TextBlock Text=\"{Binding Sender}\" Style=\"{StaticResource NewsfeedTimestampStyle}\" Margin=\"1\"/&gt;\n                            &lt;TextBlock Text=\"{Binding SentTime}\" Style=\"{StaticResource NewsfeedTimestampStyle}\" Margin=\"1\"/&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n        &lt;/ListView&gt;\n    &lt;/DataTemplate&gt;\n\n&lt;/Page.Resources&gt;\n\n&lt;Grid x:Name=\"LayoutRoot\" Loaded=\"LayoutRoot_Loaded\"&gt;\n    &lt;VisualStateManager.VisualStateGroups&gt;\n        &lt;VisualStateGroup x:Name=\"AdaptiveStates\" CurrentStateChanged=\"AdaptiveStates_CurrentStateChanged\"&gt;\n            &lt;VisualState x:Name=\"DefaultState\"&gt;\n                &lt;VisualState.StateTriggers&gt;\n                    &lt;AdaptiveTrigger MinWindowWidth=\"720\" /&gt;\n                &lt;/VisualState.StateTriggers&gt;\n            &lt;/VisualState&gt;\n\n            &lt;VisualState x:Name=\"NarrowState\"&gt;\n                &lt;VisualState.StateTriggers&gt;\n                    &lt;AdaptiveTrigger MinWindowWidth=\"0\" /&gt;\n                &lt;/VisualState.StateTriggers&gt;\n\n                &lt;VisualState.Setters&gt;\n                    &lt;Setter Target=\"MasterColumn.Width\" Value=\"*\" /&gt;\n                    &lt;Setter Target=\"DetailColumn.Width\" Value=\"0\" /&gt;\n                    &lt;Setter Target=\"MasterListView.SelectionMode\" Value=\"None\" /&gt;\n                &lt;/VisualState.Setters&gt;\n            &lt;/VisualState&gt;\n        &lt;/VisualStateGroup&gt;\n    &lt;/VisualStateManager.VisualStateGroups&gt;\n\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n        &lt;RowDefinition Height=\"*\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition x:Name=\"MasterColumn\" Width=\"320\" /&gt;\n        &lt;ColumnDefinition x:Name=\"DetailColumn\" Width=\"*\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n\n    &lt;TextBlock\n        Text=\"Chats\"\n        Margin=\"12,8,8,8\"\n        Style=\"{ThemeResource TitleTextBlockStyle}\" /&gt;\n\n    &lt;ListView\n        x:Name=\"MasterListView\"\n        Grid.Row=\"1\"\n        ItemContainerTransitions=\"{x:Null}\"\n        ItemTemplate=\"{StaticResource MasterListViewItemTemplate}\"\n        Background=\"{StaticResource ApplicationPageBackgroundThemeBrush}\"\n        IsItemClickEnabled=\"True\"\n        ItemClick=\"MasterListView_ItemClick\"&gt;\n        &lt;ListView.ItemContainerStyle&gt;\n            &lt;Style TargetType=\"ListViewItem\"&gt;\n                &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n            &lt;/Style&gt;\n        &lt;/ListView.ItemContainerStyle&gt;\n    &lt;/ListView&gt;\n\n    &lt;ContentPresenter\n        x:Name=\"DetailContentPresenter\"\n        Grid.Column=\"1\"\n        Grid.RowSpan=\"2\"\n        BorderThickness=\"1,0,0,0\"\n        Padding=\"24,0\"\n        BorderBrush=\"{ThemeResource SystemControlForegroundBaseLowBrush}\"\n        Content=\"{x:Bind MasterListView.SelectedItem, Mode=OneWay}\"            \n        ContentTemplate=\"{StaticResource DetailContentTemplate}\"&gt;\n        &lt;ContentPresenter.ContentTransitions&gt;\n            &lt;!-- Empty by default. See MasterListView_ItemClick --&gt;\n            &lt;TransitionCollection /&gt;\n        &lt;/ContentPresenter.ContentTransitions&gt;\n    &lt;/ContentPresenter&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "xml", "deserialization", "backslash"], "comments": [{"owner": {"reputation": 2565, "user_id": 1108505, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7e091fdb18efecace362189bc5f0bf5?s=128&d=identicon&r=PG", "display_name": "Tanner Swett", "link": "https://stackoverflow.com/users/1108505/tanner-swett"}, "edited": false, "score": 1, "creation_date": 1465414095, "post_id": 37711176, "comment_id": 62896334, "body": "The string literal <code>&quot;C\\\\\\\\blabla&quot;</code> <i>is</i> the string <code>C\\\\blabla</code>. So if the string that you want is <code>C\\\\blabla</code>, and the string literal that you&#39;re seeing is <code>&quot;C\\\\\\\\blabla&quot;</code>, then that&#39;s already correct."}, {"owner": {"reputation": 6309, "user_id": 718972, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/0d714c5b4e2468ff6adf3bd38a836e1f?s=128&d=identicon&r=PG", "display_name": "Chris Mantle", "link": "https://stackoverflow.com/users/718972/chris-mantle"}, "edited": false, "score": 0, "creation_date": 1465414162, "post_id": 37711176, "comment_id": 62896371, "body": "Silly question, but are you certain it&#39;s actually added the extra backslashes? If you&#39;re looking at the debug value of the string, it will look like <code>&quot;C\\\\\\\\blabla&quot;</code>. Have you tried outputting the string to the Output Window with <code>Trace.WriteLine</code> or some equivalent?"}, {"owner": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1465414187, "post_id": 37711176, "comment_id": 62896387, "body": "You could read C\\\\\\\\blabla as C [Delimit] \\ [Delimit]\\ blabla"}, {"owner": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465414335, "post_id": 37711176, "comment_id": 62896459, "body": "When in doubt use : <code>temp.string = @&quot;C\\\\blabla&quot;;</code>"}, {"owner": {"reputation": 11, "user_id": 6199893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a2032356accdfba11cbe22d930a233b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/6199893/jay"}, "edited": false, "score": 0, "creation_date": 1465414412, "post_id": 37711176, "comment_id": 62896504, "body": "Thanks, but what I need here is the string should be exactly the same with the format in XML file, it means I need the temp.string = &quot;C\\\\blabla&quot; istead of &quot;C\\\\\\\\blabla&quot;, cause the value will be used in any other code."}, {"owner": {"reputation": 11, "user_id": 6199893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a2032356accdfba11cbe22d930a233b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/6199893/jay"}, "reply_to_user": {"reputation": 2175, "user_id": 5823148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1896d72f43d6863a56495f828586c4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Swetz", "link": "https://stackoverflow.com/users/5823148/paul-swetz"}, "edited": false, "score": 0, "creation_date": 1465415197, "post_id": 37711176, "comment_id": 62896921, "body": "@PaulSwetz I see, but how to exclude the [Delimit] during the string, cause the string will be used in other methods, I need to keep the right format. Thanks!"}], "owner": {"reputation": 11, "user_id": 6199893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a2032356accdfba11cbe22d930a233b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/6199893/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465413830, "creation_date": 1465413830, "question_id": 37711176, "link": "https://stackoverflow.com/questions/37711176/c-deserialize-xml-which-include-backslash-to-an-object-through-filestream", "title": "C# deserialize xml (which include backslash) to an object through filestream", "body": "<p>Maybe it is hard to describe the problem I meet in the title. Here is the example:</p>\n\n<p>I have a xml file, and there is a string inside:</p>\n\n<pre><code>&lt;List&gt;\n  &lt;String&gt;C\\\\blabla&lt;/String&gt;\n&lt;/List&gt; \n</code></pre>\n\n<p>The object in C# is \"list\" for example.</p>\n\n<p>And in my C# code:</p>\n\n<pre><code>XmlSerializer xs = new XmlSerializer(typeof(list));\nStream fs = new FileStream(\"here is the xml file location\", FileMode.Open, FileAccess.Read, FileShare.ReadWrite);\nlist temp = (list)xs.Deserialize(fs);\n</code></pre>\n\n<p>But when I ues the string in the object, the value is:</p>\n\n<pre><code>temp.string = \"C\\\\\\\\blabla\";\n</code></pre>\n\n<p>The backslash has been doubled, the correct string should be </p>\n\n<pre><code>C\\\\blabla\n</code></pre>\n\n<p>Do anyone know what is the problem and how to fix it? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1465413903, "post_id": 37711047, "comment_id": 62896238, "body": "MIght be off, but try use [StringLength(50, ErrorMessage = &quot;ProjectDescription cannot be longer than 50 characters.&quot;)]"}, {"owner": {"reputation": 820, "user_id": 6406617, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh6.googleusercontent.com/-unE9M2P8rzI/AAAAAAAAAAI/AAAAAAAAAFA/-kp2N7Yg1NI/photo.jpg?sz=128", "display_name": "Vadzim Savenok", "link": "https://stackoverflow.com/users/6406617/vadzim-savenok"}, "reply_to_user": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1465414095, "post_id": 37711047, "comment_id": 62896333, "body": "@aggaton I have tried that already, however, what I need is maxlength, and physically preventing any characters beyond limit."}, {"owner": {"reputation": 820, "user_id": 6406617, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh6.googleusercontent.com/-unE9M2P8rzI/AAAAAAAAAAI/AAAAAAAAAFA/-kp2N7Yg1NI/photo.jpg?sz=128", "display_name": "Vadzim Savenok", "link": "https://stackoverflow.com/users/6406617/vadzim-savenok"}, "reply_to_user": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1465422561, "post_id": 37711047, "comment_id": 62900627, "body": "@riteshmeher Can you please help with the step 3 from the solution by Randhir? I do not have such file in views/shared, so I am not sure where to place it. Thank you in advance!"}], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 6406617, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh6.googleusercontent.com/-unE9M2P8rzI/AAAAAAAAAAI/AAAAAAAAAFA/-kp2N7Yg1NI/photo.jpg?sz=128", "display_name": "Vadzim Savenok", "link": "https://stackoverflow.com/users/6406617/vadzim-savenok"}, "edited": false, "score": 0, "creation_date": 1465414359, "post_id": 37711287, "comment_id": 62896473, "body": "I actually found it just before you posted it. So I will use it as an answer-reference. Thank you."}, {"owner": {"reputation": 844, "user_id": 6326116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368bbe0af524d89efee1b5de03f80285?s=128&d=identicon&r=PG&f=1", "display_name": "riteshmeher", "link": "https://stackoverflow.com/users/6326116/riteshmeher"}, "reply_to_user": {"reputation": 820, "user_id": 6406617, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh6.googleusercontent.com/-unE9M2P8rzI/AAAAAAAAAAI/AAAAAAAAAFA/-kp2N7Yg1NI/photo.jpg?sz=128", "display_name": "Vadzim Savenok", "link": "https://stackoverflow.com/users/6406617/vadzim-savenok"}, "edited": false, "score": 0, "creation_date": 1465424133, "post_id": 37711287, "comment_id": 62901286, "body": "you can create folders and create ViewUserControl called string.ascx under Views\\Shared\\EditorTemplates"}], "tags": [], "owner": {"reputation": 844, "user_id": 6326116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/368bbe0af524d89efee1b5de03f80285?s=128&d=identicon&r=PG&f=1", "display_name": "riteshmeher", "link": "https://stackoverflow.com/users/6326116/riteshmeher"}, "is_accepted": true, "score": 1, "last_activity_date": 1465414203, "last_edit_date": 1495542708, "creation_date": 1465414203, "answer_id": 37711287, "question_id": 37711047, "link": "https://stackoverflow.com/questions/37711047/c-extend-mvc-maxlengthattribute/37711287#37711287", "title": "C# extend MVC maxlengthattribute", "body": "<p>You can write a custom dataannotation provider. The max length attribute will get added to the control.\nRefer this <a href=\"https://stackoverflow.com/questions/2386365/maxlength-attribute-of-a-text-box-from-the-dataannotations-stringlength-in-asp-n\">link</a></p>\n"}], "owner": {"reputation": 820, "user_id": 6406617, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh6.googleusercontent.com/-unE9M2P8rzI/AAAAAAAAAAI/AAAAAAAAAFA/-kp2N7Yg1NI/photo.jpg?sz=128", "display_name": "Vadzim Savenok", "link": "https://stackoverflow.com/users/6406617/vadzim-savenok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 37711287, "answer_count": 1, "score": 1, "last_activity_date": 1465414203, "creation_date": 1465413392, "last_edit_date": 1495541755, "question_id": 37711047, "link": "https://stackoverflow.com/questions/37711047/c-extend-mvc-maxlengthattribute", "title": "C# extend MVC maxlengthattribute", "body": "<p>I have already searched here to answer my question, and the closest I ever got was that <a href=\"https://stackoverflow.com/questions/20022553/c-sharp-extend-mvc-maxlengthattribute-with-own-error-message\">post</a>, but it still does not completely clarify the matter to me, so I will ask.</p>\n\n<p>What I need is extending maxlengthattribute in the way that when I set it inside the C# file,</p>\n\n<pre><code>[MaxLength(50)]\n[Display(Name = \"Project Description\")]\npublic string ProjectDescription { get; set; }\n</code></pre>\n\n<p>the attribute \"maxlength\" will be added inside the tag and will be &lt;\\stuff stuff maxlength = \"50\"></p>\n\n<p>I have initially implemented it as writing html-helper to modify TextBoxFor, however, this is out of option since project is tightly intertwined with .js, and inserting renamed method will break a code, which will be a pain to fix.</p>\n\n<p>The answer I referred above provides the closest explanation of what I need, but it looks like I will need to declare attributes (like inside ( ) in function), which I do not see there.</p>\n\n<p>At this point I can either try modifying JS file on the server-side, or extending maxlengthattribute. Thus far, latter is preferable for me, thus I would like to ask how to properly extend it inside the c# file.</p>\n\n<p>Thank you very much in advance!</p>\n"}, {"tags": ["c#", "unit-testing", "selenium-webdriver", "mstest", "vs-unit-testing-framework"], "comments": [{"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1465413744, "post_id": 37711032, "comment_id": 62896155, "body": "What exception message do you want to output? You should be able to see the assertion error message in the test runner UI (e.g. Test explorer)"}, {"owner": {"reputation": 37, "user_id": 4645698, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/23ebc1b99bfe813ea3a4e1878f726206?s=128&d=identicon&r=PG&f=1", "display_name": "SQATube", "link": "https://stackoverflow.com/users/4645698/sqatube"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1465414189, "post_id": 37711032, "comment_id": 62896389, "body": "Yes, I can see error message in test runner and I want grab that same massage and output on my report."}, {"owner": {"reputation": 5216, "user_id": 1791065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BS7Xm.jpg?s=128&g=1", "display_name": "Alexandru Marculescu", "link": "https://stackoverflow.com/users/1791065/alexandru-marculescu"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1465452696, "post_id": 37711032, "comment_id": 62908944, "body": "if throwing an exception is what it&#39;s supposed to do, you could look into the <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.expectedexceptionattribute.aspx\" rel=\"nofollow noreferrer\">ExpectedExceptionAttribute</a>. If not, @YacoubMassad is right, the test runner should cover it; why not go for try-catch?"}], "owner": {"reputation": 37, "user_id": 4645698, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/23ebc1b99bfe813ea3a4e1878f726206?s=128&d=identicon&r=PG&f=1", "display_name": "SQATube", "link": "https://stackoverflow.com/users/4645698/sqatube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465419374, "creation_date": 1465413339, "last_edit_date": 1465419374, "question_id": 37711032, "link": "https://stackoverflow.com/questions/37711032/how-to-output-mstest-exception-message", "title": "How to output MSTest exception message", "body": "<p>I have an MSTest and want to output an exception without using <code>try</code> and <code>catch</code>; how can I output the exception message within <code>TestCleanup</code>?</p>\n\n<pre><code>public class UnitTest1\n{\n    [TestMethod]\n    public void TestMethod1()\n    {\n        double expected = 9.0;\n        double actual = 8.0;\n        Assert.AreEqual(expected, actual);\n    }\n\n    [TestCleanup]\n    public void Dispose()\n    {\n        Exception e;\n        Console.WriteLine(e.Message);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net-4.0"], "comments": [{"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1465413386, "post_id": 37711004, "comment_id": 62895980, "body": "I would not do this.  I&#39;d think of a way to encapsulate those into the Employee class.  Think programming by contract, preconditions, and sensible defaults."}], "answers": [{"tags": [], "owner": {"reputation": 10750, "user_id": 2061133, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/pgg8z.png?s=128&g=1", "display_name": "Murray Foxcroft", "link": "https://stackoverflow.com/users/2061133/murray-foxcroft"}, "is_accepted": false, "score": 1, "last_activity_date": 1465413870, "last_edit_date": 1465413870, "creation_date": 1465413431, "answer_id": 37711061, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37711061#37711061", "title": "Any easy way to see which IF condition is false?", "body": "<p>Yes, write your own string extension method that does the same check, but also takes in a List and add the field name to the list. Declare the list of strings before the if and you will have a list of offending fields where your comment is. </p>\n\n<p>This can be improved upon with a bit of reflection to automatically get the name and maybe make a few optimizations but it is on the right track. </p>\n\n<p>Keep in mind that the first condition that violates the if statement will cause it to fail, so you will get an incomplete list (of one item) unless your if is constructed differently.</p>\n\n<pre><code> public static class StringExtensions\n        {\n\n            public static bool CheckIsNullOrEmptyAndListIt(this string field, string fieldName, List&lt;string&gt; naughties)\n            {\n                var result = String.IsNullOrEmpty(field);\n                if (result == true)\n                {\n                    naughties.Add(fieldName);\n                }\n\n                return result;\n            }         \n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "edited": false, "score": 0, "creation_date": 1465497254, "post_id": 37711161, "comment_id": 62938595, "body": "Thanks. I ended up using something like this. is there an easy way to map, for example, <code>bool[1]</code> with <code>Empl.last</code>? That way I know what failed."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 5, "last_activity_date": 1465413801, "creation_date": 1465413801, "answer_id": 37711161, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37711161#37711161", "title": "Any easy way to see which IF condition is false?", "body": "<p>No, there's no \"magic\" function that will tell you which of a series of expression in an OR statement are true.  Also, since you're using the short-circuiting version, the statement will return true after  the first true condition, so the remaining expressions <em>are not even evaluated</em>.</p>\n\n<p>However, you <em>could</em> do something like this:</p>\n\n<pre><code>bool[] checks = {\n   string.IsNullOrEmpty(Empl.Name) , string.IsNullOrEmpty(Empl.last) ,\n   string.IsNullOrEmpty(Empl.init) , string.IsNullOrEmpty(Empl.cat1) ,\n   string.IsNullOrEmpty(Empl.history) , string.IsNullOrEmpty(Empl.cat2) ,\n   string.IsNullOrEmpty(Empl.year) , string.IsNullOrEmpty(Empl.month) , \n   string.IsNullOrEmpty(Empl.retire) , string.IsNullOrEmpty(Empl.spouse) , \n   string.IsNullOrEmpty(Empl.children) , string.IsNullOrEmpty(Empl.bday) , \n   string.IsNullOrEmpty(Empl.hire) , string.IsNullOrEmpty(Empl.death) , \n   string.IsNullOrEmpty(Empl.JobName) , string.IsNullOrEmpty(Empl.More) , \n   string.IsNullOrEmpty(Empl.AndMore)\n};\n\nif(checks.Any())\n{\n    //Display message. Something like \"Error: Name and Month is missing\"\n    return;\n}\n</code></pre>\n\n<p>now the <code>checks</code> variable holds the result of <em>each expression</em>.  </p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1465414310, "creation_date": 1465414310, "answer_id": 37711338, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37711338#37711338", "title": "Any easy way to see which IF condition is false?", "body": "<p>You can use something like this :</p>\n\n<pre><code>public static class ValidationHelper\n{\n    public static IEnumerable&lt;string&gt; FindEmptyProperties&lt;T&gt;(T target, params Expression&lt;Func&lt;T, string&gt;&gt;[] propertySelectors)\n    {\n        foreach (var propertySelector in propertySelectors)\n        {\n            if (string.IsNullOrEmpty(propertySelector.Compile()(target)))\n            {\n                var memberExpr = propertySelector.Body as MemberExpression;\n                yield return memberExpr.Member.Name;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage : </p>\n\n<pre><code>var failed = ValidationHelper.FindEmptyProperties(Empl, x =&gt; x.Name, x =&gt; x.last, x =&gt; x.init, x =&gt; x.cat1).ToList();\nif (failed.Any())\n{\n    throw new InvalidOperationException(\n        string.Format(\"Error: {0} is missing\", \n            string.Join(\", \", failed)));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 1439736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c92be9e175af6e22c8ff89525df2c9?s=128&d=identicon&r=PG", "display_name": "Aven", "link": "https://stackoverflow.com/users/1439736/aven"}, "is_accepted": false, "score": 3, "last_activity_date": 1555012702, "last_edit_date": 1555012702, "creation_date": 1465414374, "answer_id": 37711362, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37711362#37711362", "title": "Any easy way to see which IF condition is false?", "body": "<p>I find this sort of an more elegant way to use ModelState.isValid.</p>\n\n<p>Some reference: <a href=\"https://stackoverflow.com/questions/881281/what-is-modelstate-isvalid-valid-for-in-asp-net-mvc-in-nerddinner\">What is ModelState.IsValid valid for in ASP.NET MVC in NerdDinner?</a> </p>\n\n<p>For your model, you can add following annotation:</p>\n\n<pre><code>[Required(AllowEmptyStrings= false)]\npublic string Boo { get; set; }\n</code></pre>\n\n<p>When you do validation, try:</p>\n\n<pre><code>if (!ModelState.IsValid) \n{\n  //Display message. Something like \"Error: Name and Month is missing\"\n  return;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G4Zjg.jpg?s=128&g=1", "display_name": "luizluan", "link": "https://stackoverflow.com/users/6282844/luizluan"}, "edited": false, "score": 0, "creation_date": 1465417281, "post_id": 37712105, "comment_id": 62898118, "body": "Only works with strings. If you want to check with other add more ifs ."}, {"owner": {"reputation": 21, "user_id": 6282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G4Zjg.jpg?s=128&g=1", "display_name": "luizluan", "link": "https://stackoverflow.com/users/6282844/luizluan"}, "edited": false, "score": 0, "creation_date": 1465417372, "post_id": 37712105, "comment_id": 62898170, "body": "He writes Hello World if both values \u200b\u200bare different from empty or null . If you want it to do otherwise is only deny if.  if (! validate ( dog ) ) { }"}], "tags": [], "owner": {"reputation": 21, "user_id": 6282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G4Zjg.jpg?s=128&g=1", "display_name": "luizluan", "link": "https://stackoverflow.com/users/6282844/luizluan"}, "is_accepted": false, "score": 1, "last_activity_date": 1465417005, "creation_date": 1465417005, "answer_id": 37712105, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37712105#37712105", "title": "Any easy way to see which IF condition is false?", "body": "<pre><code>using System.IO;\nusing System;\nusing System.Linq;\n\n\npublic class Program\n{\n\n    public class Dog\n   {\n\n    public static string Name {get;set;}\n    public static string Race {get;set;}\n   }\n\n    public static bool validate(Dog dog)\n    {\n        bool val = true;\n        var y  = dog.GetType()\n                    .GetProperties()\n                    .Select(p =&gt;\n                        {\n                            object value =p.GetValue(dog,null);\n                            if(string.IsNullOrEmpty(value.ToString())){ val=false; return false;}\n                            else return true;\n\n                        })\n                    .ToArray();\n\n         return val;\n    }\n\n    public static void Main()\n    {\n        Dog dog= new Dog();\n\n        Dog.Name = \"Peter\";\n        Dog.Race = \"\";\n\n        if(validate(dog))\n        {\n             Console.WriteLine(\"Hello, World!\");\n        }\n\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 3532334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20db890a4bd90db76b65be9d867ef851?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3532334/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419175, "last_edit_date": 1465419175, "creation_date": 1465418370, "answer_id": 37712488, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false/37712488#37712488", "title": "Any easy way to see which IF condition is false?", "body": "<p>If you use ASP.NET MVC maybe use DataAnnotations...</p>\n\n<p>For the general c# context consider PostSharp aspect oriented library! Geat project!</p>\n\n<p>Otherwise: Maybe a reflection solution using plain .NET ? (Created just for you! I think i keep for some own projects maybe)</p>\n\n<p>Works with different types and you can control the targeted bindingflags.</p>\n\n<p>Provides a common base class for your data transfer objects. (dto)</p>\n\n<p>Reflection is performance optimized and working for generics as well!</p>\n\n<pre><code>public class Program\n{\n    public void Main()\n    {\n        Empl test = new Empl()\n        {\n            TestProp = \"blub\",\n            TestInt = 1\n        };\n\n        if (test.ValidateProperties(Validations.CheckEmptyStringsAndZeroInts))\n        {\n            Console.WriteLine(\"validation passed\");\n        }\n        else\n        {\n            Console.WriteLine(\"validation failed\");\n        }\n    }\n}\nprivate static class Validations\n{\n    //put this in a static class with standard checks\n    public static Func&lt;object, bool&gt; CheckEmptyStringsAndZeroInts = o =&gt;\n    {\n        if (o is string &amp;&amp; string.IsNullOrEmpty((string)o))\n        {\n                return false;\n        }\n        else if (o is int &amp;&amp; ((int) o) == 0)\n        {\n            return false;\n        }\n\n        // ignore other property types\n        return true;\n    };\n}\n// Derive all your models like this. deriving from an Empl class is still valid and working!\n//[IncludeBindingFlagsForPropertyReflctionAttribute(/*your custom binding flags*/)] //can also override the binding flags in derived classes!\npublic class Empl : DtoBase&lt;Empl&gt;\n{\n    public string TestProp { get; set; }\n\n    public int TestInt { get; set; }\n\n    // Your properties here\n}\n\n// Helps you to control the targeted properties. you can filter for public or protected members for example\npublic class IncludeBindingFlagsForPropertyReflctionAttribute : Attribute\n{\n    public BindingFlags BindingFlags { get; }\n    public IncludeBindingFlagsForPropertyReflctionAttribute(BindingFlags propertySearchBindingFlags)\n    {\n        BindingFlags = propertySearchBindingFlags;\n    }\n}\n\n//Looks much. But used once as base class can do those validations for you\n[IncludeBindingFlagsForPropertyReflction(BindingFlags.Public | BindingFlags.Instance)]\npublic abstract class DtoBase&lt;TDto&gt; where TDto : DtoBase&lt;TDto&gt;\n{\n    private static Dictionary&lt;Type, List&lt;PropertyInfo&gt;&gt; DtoPropertyInfosStorage { get; }\n\n    private List&lt;PropertyInfo&gt; DtoPropertyInfos =&gt; DtoPropertyInfosStorage[typeof (TDto)];\n\n    static DtoBase()\n    {\n        DtoPropertyInfosStorage = new Dictionary&lt;Type, List&lt;PropertyInfo&gt;&gt;();\n\n        Type tDto = typeof (TDto);\n\n        var includeBindingFlagsForProperty = GetAttribute(tDto);\n\n        BindingFlags defaultTargetFlags = BindingFlags.Instance | BindingFlags.Public;\n\n        DtoPropertyInfosStorage.Add(typeof(TDto), new List&lt;PropertyInfo&gt;(typeof(TDto).GetProperties(includeBindingFlagsForProperty?.BindingFlags ?? defaultTargetFlags)));\n    }\n\n    private static IncludeBindingFlagsForPropertyReflctionAttribute GetAttribute(Type dtoType)\n    {\n        bool stopRecursion = !dtoType.IsSubclassOf(typeof(DtoBase&lt;TDto&gt;));\n\n        var includeBindingFlagsForProperty = dtoType.GetCustomAttributes(typeof(IncludeBindingFlagsForPropertyReflctionAttribute)).FirstOrDefault();\n\n        if (includeBindingFlagsForProperty == null &amp;&amp; !stopRecursion)\n        {\n            return GetAttribute(dtoType.BaseType);\n        }\n\n        return null;\n    }\n\n    /// &lt;summary&gt;\n    /// You can handle your validation type in you validation function yourself.\n    /// &lt;/summary&gt;\n    public bool ValidateProperties(Func&lt;object, bool&gt; validationFunction)\n    {\n        foreach (KeyValuePair&lt;Type, List&lt;PropertyInfo&gt;&gt; dtoPropertyInfo in DtoPropertyInfosStorage)\n        {\n            foreach (PropertyInfo propertyInfo in DtoPropertyInfos)\n            {\n                if (!validationFunction(propertyInfo.))\n                {\n                    return false;\n                }\n\n\n            }\n        }\n\n        return true;\n    }\n\n    /// &lt;summary&gt;\n    /// You can pass your targeted property type like string to TPropertyType\n    /// &lt;![CDATA[ Example:\n    /// if(ValidateProperties&lt;string&gt;(validate =&gt; !string.IsNullOrEmpty(validate)))\n    /// {\n    ///     properties not empty?\n    /// }\n    /// ]]]]&gt;\n    /// &lt;/summary&gt;\n    public bool ValidateProperties&lt;TPropertyType&gt;(Func&lt;TPropertyType, bool&gt; validationFunction)\n    {\n        List&lt;PropertyInfo&gt; targetPropertyInfos =\n            DtoPropertyInfos.Where(prop =&gt; prop.PropertyType == typeof (TPropertyType))\n                .ToList();\n\n        foreach (PropertyInfo dtoPropertyInfo in targetPropertyInfos)\n        {\n            if (validationFunction((TPropertyType) dtoPropertyInfo.GetValue(this)))\n            {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 1, "answer_count": 6, "score": 0, "last_activity_date": 1555012702, "creation_date": 1465413220, "question_id": 37711004, "link": "https://stackoverflow.com/questions/37711004/any-easy-way-to-see-which-if-condition-is-false", "title": "Any easy way to see which IF condition is false?", "body": "<p>I'm posting this question to find a simpler way of achieving a result.</p>\n\n<p>We have a big <code>IF</code> statement that checks for <code>NULL</code> or <code>string.empty</code>. Something like this:</p>\n\n<pre><code>if (string.IsNullOrEmpty(Empl.Name) || string.IsNullOrEmpty(Empl.last) ||\n   string.IsNullOrEmpty(Empl.init) || string.IsNullOrEmpty(Empl.cat1) ||\n   string.IsNullOrEmpty(Empl.history) || string.IsNullOrEmpty(Empl.cat2) ||\n   string.IsNullOrEmpty(Empl.year) || string.IsNullOrEmpty(Empl.month) || \n   string.IsNullOrEmpty(Empl.retire) || string.IsNullOrEmpty(Empl.spouse) || \n   string.IsNullOrEmpty(Empl.children) || string.IsNullOrEmpty(Empl.bday) || \n   string.IsNullOrEmpty(Empl.hire)|| string.IsNullOrEmpty(Empl.death) || \n   string.IsNullOrEmpty(Empl.JobName) || string.IsNullOrEmpty(Empl.More) || \n   string.IsNullOrEmpty(Empl.AndMore))\n{\n    //Display message. Something like \"Error: Name and Month is missing\"\n    return;\n}\n</code></pre>\n\n<p>Any solution I've found so far to address this is time-consuming, and would require writing more code.</p>\n\n<p>Is there any way to know which value is <code>string.IsNullOrEmpty</code> without having to change this IF statement too much? Worse-case, I can check every single statement separately, but I would prefer not doing this.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "python"], "comments": [{"owner": {"reputation": 41, "user_id": 3752779, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/80b6d35e31dfd3ac4085bf7bec2bd347?s=128&d=identicon&r=PG&f=1", "display_name": "user3752779", "link": "https://stackoverflow.com/users/3752779/user3752779"}, "edited": false, "score": 0, "creation_date": 1465413277, "post_id": 37710998, "comment_id": 62895914, "body": "or this: <a href=\"http://bet.hkjc.com/racing/pages/odds_wp.aspx?date=09-06-2016&amp;venue=HV&amp;lang=en\" rel=\"nofollow noreferrer\">bet.hkjc.com/racing/pages/&hellip;</a>"}, {"owner": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465414504, "post_id": 37710998, "comment_id": 62896553, "body": "Please show the same effort in writing your question that you&#39;d expect someone to put in answering the question. Maybe some code of how you&#39;re &quot;downloading&quot; the page. Example of the strange characters and so on."}, {"owner": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465415591, "post_id": 37710998, "comment_id": 62897140, "body": "That&#39;s definitely not UTF8 - the site looks to be Chinese and UTF8 doesn&#39;t support it.Propably Unicode should work for you"}, {"owner": {"reputation": 41, "user_id": 3752779, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/80b6d35e31dfd3ac4085bf7bec2bd347?s=128&d=identicon&r=PG&f=1", "display_name": "user3752779", "link": "https://stackoverflow.com/users/3752779/user3752779"}, "reply_to_user": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1465415916, "post_id": 37710998, "comment_id": 62897323, "body": "I have tried that as well.. text just gets converted to unciode text but still not human readable"}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "reply_to_user": {"reputation": 673, "user_id": 6392827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451f9508333b122e58a7b27a6ec84ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter4499", "link": "https://stackoverflow.com/users/6392827/peter4499"}, "edited": false, "score": 0, "creation_date": 1467188636, "post_id": 37710998, "comment_id": 63623242, "body": "@Peter4499 <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a> is an encoding to support all characters of Unicode which includes Chinese characters. The stream was compressed, it was not related to encoding."}], "answers": [{"tags": [], "owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "is_accepted": false, "score": 1, "last_activity_date": 1467188181, "creation_date": 1467188181, "answer_id": 38093984, "question_id": 37710998, "link": "https://stackoverflow.com/questions/37710998/c-webclient-strange-characters/38093984#38093984", "title": "C# WebClient Strange Characters", "body": "<p>You're looking at a compressed byte stream. You can tell by inspecting the headers of the http response, for example with <a href=\"https://curl.haxx.se/\" rel=\"nofollow\">curl</a>:</p>\n\n<p><code>curl -X HEAD -i http://bet.hkjc.com/</code></p>\n\n<p>but the Developer Console of your browser will reveal the same:</p>\n\n<blockquote>\n<pre><code>HTTP/1.1 200 OK\nCache-Control: public, max-age=120, must-revalidate\nContent-Length: 3615\nContent-Type: text/html; charset=utf-8\nContent-Encoding: gzip\nExpires: Wed, 29 Jun 2016 08:01:06 GMT\nVary: Accept-Encoding\nServer: Microsoft-IIS/7.0\nX-AspNet-Version: 2.0.50727\nX-Powered-By: ASP.NET\nDate: Wed, 29 Jun 2016 08:00:14 GMT\nVia: 1.1 stjbwbwa52\nAccept-Ranges: bytes\n</code></pre>\n</blockquote>\n\n<p>Notice the <code>Content-Encoding:</code> to say <em>gzip</em>. This means the result you just got is compressed with the gzip algorithm. The standard WebClient can't handle that but with an simple subclass the WebClient can do new tricks:</p>\n\n<pre><code>public class DecompressWebClient:WebClient\n{\n    // moved common logic here\n    public DecompressWebClient()\n    {\n        this.Encoding = Encoding.UTF8;\n    }\n\n    // This is the factory to create the webrequest\n    protected override WebRequest GetWebRequest(Uri address)\n    {\n        // get the default one\n        var request = base.GetWebRequest(address);\n        // see if it is a HttpWebRequest\n        var httpReq = request as HttpWebRequest;\n        if (httpReq != null)\n        {\n            // add extra capabilities, like decompression\n            httpReq.AutomaticDecompression =  DecompressionMethods.GZip;\n        }\n        return request;\n    }\n}\n</code></pre>\n\n<p>On the <code>HttpWebRequest</code> there exists a property <a href=\"https://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.automaticdecompression(v=vs.110).aspx\" rel=\"nofollow\"><code>AutomaticDecompression</code></a> that, when set to true, will take care of the decompression for us.</p>\n\n<p>When you put the Subclassed WebClient to use your code will look like:</p>\n\n<pre><code>string url = \"http://bet.hkjc.com\";\nusing(WebClient webClient = new DecompressWebClient())\n{\n    string html = webClient.DownloadString(url);\n    File.WriteAllText(\"page.html\", html);\n}\n</code></pre>\n\n<p>The encoding UTF8 is correct, as you can also see in the header for the <code>Content-Type</code> setting.</p>\n\n<p>The top of the html file will look like this:</p>\n\n<blockquote>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7; IE=EmulateIE10\"/&gt;\n  &lt;meta name=\"application-name\" content=\"\u9999\u6e2f\u8cfd\u99ac\u6703\"/&gt;\n  &lt;title&gt;\u9999\u6e2f\u8cfd\u99ac\u6703&lt;/title&gt;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 41, "user_id": 3752779, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/80b6d35e31dfd3ac4085bf7bec2bd347?s=128&d=identicon&r=PG&f=1", "display_name": "user3752779", "link": "https://stackoverflow.com/users/3752779/user3752779"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1467188223, "creation_date": 1465413199, "last_edit_date": 1467188223, "question_id": 37710998, "link": "https://stackoverflow.com/questions/37710998/c-webclient-strange-characters", "title": "C# WebClient Strange Characters", "body": "<p>I am trying to download this webpage  using C# WebClient..\nNow it works perfectly with python urllib2 but with c# web client it gives these strange characters in the output file.. </p>\n\n<p>I have tried using Encoding with webclient class as well but it doesn't work at all..</p>\n\n<pre><code>public static string GetWebURL()\n    {\n        string url = \"http://bet.hkjc.com\";\n        WebClient webClient = new WebClient();\n        webClient.Encoding = Encoding.UTF8;\n        string html = webClient.DownloadString(url);\n        File.WriteAllText(\"page.html\", html);\n    }\n</code></pre>\n\n<p>this is the output with those strange characters</p>\n\n<pre><code>\u00e2\u20ac\u00b9\u00c3\u00a2\u00c3\u00a5\u00c2\u00b2Qt\u00c3\u00b1w\u00e2\u20ac\u00b0pU\u00c3\u00b0\u00c3\u00b1\u00c3\u00b5Qu\u00c3\u00b2\u00c3\u00b1tVP\u00c3\u2019\u00c3\u2022\u00c3\u20147v\u00c3\u2013\u00c3\u2014w q\u00c2H\u00cb\u0153\u00c3\u00a8*\u00e2\u20ac\u017e%\u00c3\u00a6g\u00e2\u20ac\u201cd\u00c3\u00a6\u00c3\u00a7%\u00c3\u00a6\u00c3\u00a8\u00c3\u00ab\u00c2\u00bb\u00c3\u00ba)\u00c3\u2122\u00c3\u00b1r\u00c2(N.\u00c3\u0160,(Q(\u00c2\u00a9,H\u00c2\u00b5U*I\u00c2\u00ad(\u00c3\u2018\u00c3J,K\u00e2\u20ac\u017e\u00cb\u2020*\u00c3\u2122q)((\u00e2\u20acU*T\u00c6\u2019e\u00e2\u20ac\u00b0E \u00c2\u00a9y\u00e2\u20ac\u00b0I9\u00c2\u00a9\u00c5\u00bd\u00c3\u2030\u00c3\u2030\u00c2\u00a9\u00c3\u2026\u00c3\u2026\u00c3\u017d\u00c3\u00b9y%E\u00c3\u00b99 \u00c2\u00b6i\u00e2\u20ac\u00b09\u00c3\u2026\u00c2\u00a9\u00c3\u2013 %\u00e2\u201e\u00a2i X\u00e2\u20ach\"(\u00c3\u2030-P\u00c2\u00b0U(\u00c3\u00c3\u0152K\u00c3\u2030/\u00c3\u2014\u00c3\u2039\u00c3\u2030ON\u00c2\u00b9H/\u00c2\u00a3(5M\u00c2\u00af\u00c2\u00b84\u00c2\u00a9\u00c2\u00b8\u00c2\u00a4H\u00c3\u0192\\SlHu\u00c2\u00b0kP\u00cb\u0153kP\u00c2\u00bc\u00c5\u00b8\u00c2\u00a3\u00c2\u00af+PP/L\u00e2\u20ac\u02dc\u00c2\u00cb\u01534&amp;\u00c2\u00b5\u00c3\u201a?MCI_IS\u00c2\u00ae+%?713\u00c3/17\u00c2\u00a8   \u00c3\u2030\u00cb\u0153fd!\u00c2\u00b8   zJ\u00c5\u00a1\u00c3\u0161\u00e2\u20ac P\u00c2\u00abS\u00c3\u00b2\u00e2\u20ac\u0153KsS\u00c3\u00b3J\u00c3\u00b4 &amp;MA  V\u00c2\u00a8\u00c5\u00b8K\u00c3\u00b2\u00c3\u00b4\u00e2\u20ac\u2122RK\u00e2\u20ac\u0161s2\u00c3\u0153\u00c5 \u00e2\u201a\u00ac\u00c2\u00aa\u00c3\u00b42\u00e2\u20ac\u00b9}\u00c3\u00b2\u00c3\u201c\u00c3\u00b3\u00c3\u00b3445\u00c2\u00a1\u00c3\u0160\u00c3=\u00c2\u00adW\u00e2\u20acZ\u00c2\u00e2\u20ac\u0153\u00cb\u0153\u00c5\u201c t|zj^jQbN&lt;\u00c3\u02dc1z\u00e2\u20ac\u00b0\u00c3\u2026\u00c3\u00b69\u00e2\u20ac\u00b0y\u00c3\u00a9\u00c2\u00b6\u00c2\u00a9yJ_\u00c2P-\u00cb\u2020\u00c3\u201d\u00c5\u00a1\u00c5\u201cch\u00cb\u2020e\u00c2\u00a6\u00e2\u20ac\u0161 \u00c2\u00b5\\H&amp;[\u00c3\u2014r\u00c3\u2122\u00c3\u00a8C\u00e2\u20ac\u2122\u00e2\u201a\u00ac0\u00c2J%\u00c3 \u00e2\u20ac\u017e \u00c3\u00b7\u00e2\u20ac\u0161\u00c3\u00bc\u00c3\u00bcP9Ud\u00c2\u00a6M\u00c3\u00c3\u00c3\u201d\u00c3\u0152\u00c3\u02dc\u00c3\u02c6\u00c3\u2013M\u00c3\u2014\u00c3\u00c3\u02c625\u00c2\u00b2 \u00c3\u00b7\u00c3\u00b4\u00c2\u00b3V\u00c2\u00b7\u00e2\u20ac (\u00c3\u017dM-JOM \n</code></pre>\n\n<p>What should I do to see the html that is being send?</p>\n"}, {"tags": ["c#", "c#-4.0"], "owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465412948, "creation_date": 1465412948, "question_id": 37710927, "link": "https://stackoverflow.com/questions/37710927/send-mail-based-on-drop-down-list-c", "title": "Send mail Based on drop down list c#", "body": "<p>I am trying to make an application where emails can be sent to users based on the choice (Service Type) from a drop down list. My code doesn't work as I deterred the Number type based on the service type as shown in the SQL query. My question is how can I send emails based on the service for each number I've got? Any help would be appreciated.</p>\n\n<pre><code> protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n            BindReportsTypeDropDown();\n        }\n    }\n\n  public class EmailSend\n    {\n\n        public string Number { get; set; }\n        public string Service  { get; set; }\n\n    }\n\n    protected void btnSend_Click(object sender, EventArgs e)\n    {\n        //try\n        // {\n        int Service = 0;\n\n            // Connection String \n            string ConnectionString = @\"Data Source= (localdb)\\......\";\n            SqlDataReader reader;\n            String SendMessage = \"Select Number FROM services where   \n             ServiceType = 1 or ServiceType =2\";\n            using (SqlConnection MyCon = new \n        SqlConnection(ConnectionString))\n            {\n                MyCon.Open();\n                SqlCommand cmd = new SqlCommand(SendMessage, MyCon);\n                ArrayList EmailArray = new ArrayList();\n                reader = cmd.ExecuteReader();\n\n                var Email = new List&lt;EmailSend&gt;();\n\n                while (reader.Read())\n                {\n\n                    Email.Add(new EmailSend\n                    {\n\n                        Number = Convert.ToString(reader[\"Numnber\"]),\n                        SErviceType = \n               Convert.ToString(reader[\"ServiceType\"]),\n\n                    });\n                }\n\n\n\n                foreach (EmailSend email in Email)\n                {\n                    // Email Config\n\n                    const string username = \"mail\";\n                    const string password = \"pass\";\n                    SmtpClient smtp = new SmtpClient();\n                    MailMessage mail = new MailMessage();\n                    MailAddress fromadd = new MailAddress(\"email\", \"pass\");\n                    smtp.Host = \"smtp.gmail.com\";\n                    smtp.Port = 587;\n\n                    mail.From = fromadd;\n                    mail.To.Add(\"mail\");\n                    mail.Subject = (\"subject \");\n\n                    mail.IsBodyHtml = true;\n                    mail.Body = \"&lt;p&gt;Hi &lt;/p&gt; \" + HttpUtility.HtmlEncode(email.Number) + \"&lt;br/&gt; &lt;p&gt;Please find the the details of all reports!&lt;/p&gt; &lt;/br&gt; &lt;p&gt; Date of Sending the reports: \" + HttpUtility.HtmlEncode(email.ServiceType) + \"&lt;/p&gt; &lt;br/&gt;\"; \n                    smtp.EnableSsl = true;\n                    smtp.DeliveryMethod = SmtpDeliveryMethod.Network;\n                    smtp.Credentials = new System.Net.NetworkCredential(username, password);\n                    smtp.Send(mail);\n\n\n                }\n            }\n        }\n</code></pre>\n\n<p>Drop Down List</p>\n\n<pre><code>  protected void BindReportsTypeDropDown()\n    {\n        ReportType.DataSource = GetData(\" SELECT Number FROM Services where \n        ServiceType= 1 OR ServiceType= 2\");\n        ReportType.DataTextField = \" ServiceType\";\n        ReportType.DataValueField = \" ServiceType\";\n        ReportType.DataBind();\n    }\n    private DataTable GetData(string query)\n    {\n       string conn = ConfigurationManager.ConnectionStrings[\"conn\"].ConnectionString;\n\n        SqlCommand cmd = new SqlCommand(query);\n        using (SqlConnection con = new SqlConnection(conn))\n        {\n            using (SqlDataAdapter sda = new SqlDataAdapter())\n            {\n                cmd.Connection = con;\n\n                sda.SelectCommand = cmd;\n                using (DataTable dt = new DataTable())\n                {\n                    sda.Fill(dt);\n                    return dt;\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unicode", "char"], "comments": [{"owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "edited": false, "score": 7, "creation_date": 1465413261, "post_id": 37710869, "comment_id": 62895905, "body": "Better handling of utf16 surrogate pairs could be a possible reason to take a string I imagine."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "reply_to_user": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "edited": false, "score": 7, "creation_date": 1465413542, "post_id": 37710869, "comment_id": 62896051, "body": "@RaphaelMiedl <a href=\"http://referencesource.microsoft.com/#mscorlib/system/globalization/charunicodeinfo.cs\" rel=\"nofollow noreferrer\">Yup, that&#39;s it</a>. It uses GetUnicodeCategory, which uses InternalGetUnicodeCategory, which uses InternalGetCategoryValue, which does UTF16-to-UTF32 conversion, which could result in decoding of surrogate pairs."}, {"owner": {"reputation": 400278, "user_id": 73226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tdqly.png?s=128&g=1", "display_name": "Martin Smith", "link": "https://stackoverflow.com/users/73226/martin-smith"}, "reply_to_user": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 1, "creation_date": 1465413671, "post_id": 37710869, "comment_id": 62896120, "body": "@TravisJ not if there&#39;s an objective reason why one could be preferred."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 3, "creation_date": 1465414114, "post_id": 37710869, "comment_id": 62896339, "body": "@RaymondChen: if you could make that an answer, I think that would do nicely."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 1, "creation_date": 1465415149, "post_id": 37710869, "comment_id": 62896878, "body": "Alright, fair enough."}, {"owner": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 2, "creation_date": 1465415501, "post_id": 37710869, "comment_id": 62897080, "body": "Looks like Raphael is correct: <a href=\"https://dotnetfiddle.net/JFMrey\" rel=\"nofollow noreferrer\">dotnetfiddle.net/JFMrey</a> . The docs ought to describe this behavior. It&#39;s also amusing that a character can be classified as both a high surrogate and a letter."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1465416955, "post_id": 37710869, "comment_id": 62897934, "body": "@ridiculous_fish: that is not exactly what your code is showing -- <code>Char.IsLetter(s, 0)</code> correctly identifies the <i>whole character</i> as a letter. <code>Char.IsHighSurrogate(s, 0)</code>, unlike all the other functions, actually does only consider the one character at the indicated position, and that character is a surrogate half. <code>Char.IsLetter(s[0])</code> returns <code>false</code> since the surrogate half is not a letter."}, {"owner": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1465417840, "post_id": 37710869, "comment_id": 62898411, "body": "@JeroenMostert Not sure what you mean by &quot;whole character,&quot; but Char.IsLetter decodes a code point, while Char.IsHighSurrogate acts on the code unit. This difference doesn&#39;t seem to be documented anywhere, least of all in the method names. That&#39;s why one might do a double-take on my code."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1465423665, "post_id": 37710869, "comment_id": 62901118, "body": "That Unicode requires one or two char to encode a codepoint it a very correct argument when you write C# code.  It isn&#39;t the only one, some language designers figured out that utf16 was problematic long before C# came around and decided to support System.Char weakly, requiring the programmer to use the string overload.  Like the language every C# programmer loves to dislike, it shall not be named :)"}], "answers": [{"comments": [{"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1465417099, "post_id": 37711456, "comment_id": 62898014, "body": "Updated with a more concise and poignant answer... hopefully :)"}, {"owner": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 0, "creation_date": 1465419271, "post_id": 37711456, "comment_id": 62899131, "body": "Are you certain that char.IsSymbol() and such operate on combining character sequences? That&#39;s even more surprising. Based on the previous discussion I would expect them to operate just on code points (i.e. only decode surrogate pairs)."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "reply_to_user": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 0, "creation_date": 1465419873, "post_id": 37711456, "comment_id": 62899407, "body": "I am not certain in the case of combining sequences, however a Text Element is define as a surrogate pair <i>or</i> a combining character sequence, so I&#39;m really just answering their potential reasoning for the overload.  It would be interesting to see if they operate on the sequences as well."}, {"owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "reply_to_user": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 2, "creation_date": 1465420088, "post_id": 37711456, "comment_id": 62899517, "body": "@ridiculous_fish Unicode character properties are only defined on a per code point basis, so handling of whole combining character sequences/grapheme clusters doesn&#39;t make much sense. Also a quick look at the linked conversion function seems to confirm that it only uses the code point through the utf32 conversion. The quote seems more about the general unicode support in C# and not specific to the <code>IsSymbol()</code> functions."}, {"owner": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 0, "creation_date": 1465420643, "post_id": 37711456, "comment_id": 62899744, "body": "I agree. @EvanL, if you update your answer to reflect this (that <code>IsSymbol()</code> and friends decodes surrogates) and remove the discussion of graphemes and text elements, I&#39;ll accept your answer."}, {"owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "reply_to_user": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "edited": false, "score": 0, "creation_date": 1465422237, "post_id": 37711456, "comment_id": 62900496, "body": "@ridiculous_fish I added a bit more clarity around utilizing this function to decode surrogate pairs <i>only</i>, but left in the definition of Text Element as I believe it to be core to understanding its relevance in .Net."}], "tags": [], "owner": {"reputation": 3575, "user_id": 1751238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zSl1a.png?s=128&g=1", "display_name": "Evan L", "link": "https://stackoverflow.com/users/1751238/evan-l"}, "is_accepted": false, "score": 12, "last_activity_date": 1465463660, "last_edit_date": 1465463660, "creation_date": 1465414655, "answer_id": 37711456, "question_id": 37710869, "link": "https://stackoverflow.com/questions/37710869/why-do-c-system-char-methods-for-unicode-property-tests-have-two-overloads/37711456#37711456", "title": "Why do C# System.Char methods for Unicode property tests have two overloads?", "body": "<p>At the surface both overloads appear to be functionally the same, however drilling down to the call to <code>InternalGetUnicodeCategory</code> will reveal that they result in calls different overloads of <code>CharUnicodeInfo.GetUnicodeCateogry</code>.  </p>\n\n<p>The <code>string,int</code> overload ends up running through a UTF32 conversion via <code>InternalConvertToUtf32</code> prior to calling the same single <code>char</code> <code>InternalGetUnicodeCategory</code> function.  This accounts for the possibility of decoding Surrogate Pairs in a UTF16 encoded character.</p>\n\n<pre><code>   internal static UnicodeCategory InternalGetUnicodeCategory(String value, int index) {\n        Contract.Assert(value != null, \"value can not be null\");\n        Contract.Assert(index &lt; value.Length, \"index &lt; value.Length\");\n\n        return (InternalGetUnicodeCategory(InternalConvertToUtf32(value, index)));\n    }\n</code></pre>\n\n<p><a href=\"http://referencesource.microsoft.com/#mscorlib/system/globalization/charunicodeinfo.cs,157fd6c546ef3fa9,references\" rel=\"nofollow\">Check out the Conversion implementation here if you want.</a></p>\n\n<p>Why does this matter you may ask?  Well the answer to that is that .Net supports Text Elements.  Microsoft states: </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/8k5611at(v=vs.100).aspx\" rel=\"nofollow\">MSDN Documentation on Unicode Support for Surrogate Pairs</a></p>\n\n<blockquote>\n  <p>A text element is a unit of text that is displayed as a single character, called a grapheme. A text element can be a base character, <strong>a surrogate pair</strong>, or a combining character sequence.</p>\n</blockquote>\n\n<p>While I do not believe the <code>IsSymbol</code> function and its relatives can decode Graphemes or combining character sequences, the reason for the callout to Text Elements is that they <strong>can</strong> be defined as a surrogate pair, and as such would need to be decoded via the <code>string,int</code> overload of <code>IsSymbol(), IsLetter()</code> etc...</p>\n\n<p>What this means is that passing a surrogate pair via the <code>char</code> overload would return the wrong result because the character in the string <em>could</em> be a surrogate pair.  You cannot assume that a 16-bit encoding represents a single character, and passing the string's character at said index would make that assumption.</p>\n\n<p>Because surrogate pairs can be represented in a string in .Net, it would reason that if you are dealing with a string that <em>could</em> contain one of these, the <code>IsSymbol(string s, int index)</code> overload would be more appropriate in order to cover the case where one of these pairs was present.</p>\n\n<p>A specific example where the results differ is</p>\n\n<pre><code>string s = char.ConvertFromUtf32(128204); // \"\ud83d\udccc\"\n\nDebug.Assert(char.IsSymbol(s[0]) == char.IsSymbol(s, 0)); // Fails\n</code></pre>\n"}], "owner": {"reputation": 14015, "user_id": 1441328, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b96e85a38e05615837daedb7296a9f49?s=128&d=identicon&r=PG", "display_name": "ridiculous_fish", "link": "https://stackoverflow.com/users/1441328/ridiculous-fish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1465463660, "creation_date": 1465412768, "last_edit_date": 1465415127, "question_id": 37710869, "link": "https://stackoverflow.com/questions/37710869/why-do-c-system-char-methods-for-unicode-property-tests-have-two-overloads", "title": "Why do C# System.Char methods for Unicode property tests have two overloads?", "body": "<p>In the <a href=\"https://msdn.microsoft.com/en-us/library/system.char_methods(v=vs.110).aspx\">methods of System.Char</a>, we see two methods for checking if a character is a symbol:</p>\n\n<pre><code>public static bool IsSymbol(string s, int index)\npublic static bool IsSymbol(char c)\n</code></pre>\n\n<p>and likewise for other property tests: IsLower, IsLetter, etc.</p>\n\n<p>Why is there this duplication? Is there any reason to prefer <code>Char.IsSymbol(s, idx)</code> over <code>Char.IsSymbol(s[idx])</code>?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 2, "creation_date": 1465412579, "post_id": 37710763, "comment_id": 62895518, "body": "Are you certain that you are not hiding the field in your derived type?  Regardless, this is far too unclear to currently answer.  Please see how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465412838, "post_id": 37710763, "comment_id": 62895686, "body": "@DavidL: OK, I will come up with the shortest code that can replicate this. What do you mean by hiding the field in the derived type? Its protected, but changing to public/private does not affect the problem."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465412927, "post_id": 37710763, "comment_id": 62895738, "body": "See <a href=\"https://msdn.microsoft.com/en-us/library/435f1dw2.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/435f1dw2.aspx</a>"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465412935, "post_id": 37710763, "comment_id": 62895745, "body": "why would you expect <code>mxBars</code> to be anything but null?  You haven&#39;t shown us the code where you set it to something."}, {"owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465413187, "post_id": 37710763, "comment_id": 62895866, "body": "@DavidL: Yes, member hiding is not present in my code."}, {"owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1465413220, "post_id": 37710763, "comment_id": 62895882, "body": "Not enough code to give you an answer but i agree that your are probably hiding your property. Anyway since your are using abstract classes you should be supposed to know what @DavidL meant by &quot;hiding&quot;"}, {"owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "reply_to_user": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465413316, "post_id": 37710763, "comment_id": 62895941, "body": "@SamIam: I am reading the contents of xPriceChart from a file using a library."}, {"owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "reply_to_user": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "edited": false, "score": 0, "creation_date": 1465413396, "post_id": 37710763, "comment_id": 62895985, "body": "@Christopher: I never came across member hiding, only method hiding (can&#39;t this of a use for member hiding - I will google some later)"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465413487, "post_id": 37710763, "comment_id": 62896029, "body": "@DanielBencik for all we know, there&#39;s a problem with that logic.  Why don&#39;t you include an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> so that we can get a better picture.  The SC stands for &quot;Self-Contained&quot;"}, {"owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "edited": false, "score": 0, "creation_date": 1465413558, "post_id": 37710763, "comment_id": 62896062, "body": "@All: Thanks to you all. The inheritance from QAbstractChart to QPriceChart is a bit longer (6 classes in between) and I noticed I am declaring mxBarList in two consecutive descedants by error - the different addresses should have made me realize sooner."}, {"owner": {"reputation": 86, "user_id": 5178626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1e276dbb34313eb634086349a4f9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5178626/christopher"}, "edited": false, "score": 0, "creation_date": 1465421373, "post_id": 37710763, "comment_id": 62900091, "body": "That&#39;s the hiding issue we guessed was there, not properly but kind of... glad you figured it out"}], "owner": {"reputation": 909, "user_id": 1711996, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ba7019a5cc5db509d468c367d8261be?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Bencik", "link": "https://stackoverflow.com/users/1711996/daniel-bencik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465412366, "creation_date": 1465412366, "question_id": 37710763, "link": "https://stackoverflow.com/questions/37710763/member-value-gets-nulls-once-i-enter-the-class-in-debug-mode", "title": "Member value gets nulls once I enter the class in Debug mode", "body": "<p>Having a class structure like </p>\n\n<pre><code>public abstract class QAbstractChart { ... }\npublic abstract class QAbstractChart&lt;T&gt; : QAbstractChart where T : QAbstractBar\n{\n    public List&lt;T&gt; mxBars;\n\n    public void doSomeWork()\n    {\n         ...    // YYY\n    }\n}\n\npublic class QPriceChart : QAbstractChart&lt;QPriceBar&gt; { ...  }\n</code></pre>\n\n<p>and a caller like </p>\n\n<pre><code>QPriceChart xPriceChart = new QPriceChart();   // fill xPriceChart\nxPriceChart.doSomeWork();                      // XXX\n</code></pre>\n\n<p>I am facing the following problem. When at line <code>XXX</code>, in the Watch, I can see xPriceChart.mxBars as non-null and containing 270 elements. As soon as I step into <code>doSomeWork</code>, <code>this.mxBars</code> appears null on line <code>YYY</code> - before even touching it and I can't figure out why. </p>\n\n<p>When I compare the object addresses, <code>&amp;xPriceChart.mxBarList</code> on line <code>XXX</code> and <code>&amp;this.mxBarList</code> on line <code>YYY</code> return addresses different by 8 bytes. </p>\n\n<p>Any hint is much appreciated, \nDaniel</p>\n"}, {"tags": ["c#", "roslyn", "visual-studio-extensions", "roslyn-code-analysis"], "comments": [{"owner": {"reputation": 10042, "user_id": 155005, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/W07wp.png?s=128&g=1", "display_name": "m0sa", "link": "https://stackoverflow.com/users/155005/m0sa"}, "edited": false, "score": 0, "creation_date": 1465534301, "post_id": 37710714, "comment_id": 62950748, "body": "You probably need to change the existing <code>SourceText</code> (which has additional source file information attached to it), by calling <code>SourceText.WithChanges(new TextChange(...))</code>, <a href=\"http://stackoverflow.com/a/37553697/155005\">see this answer</a> for an example."}], "answers": [{"comments": [{"owner": {"reputation": 3262, "user_id": 584714, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4ab2509d2e3e3d0c9eed5dc4f57d8b30?s=128&d=identicon&r=PG", "display_name": "DrGriff", "link": "https://stackoverflow.com/users/584714/drgriff"}, "edited": false, "score": 1, "creation_date": 1465565510, "post_id": 37743242, "comment_id": 62968741, "body": "Wow.  You are of course right.  The idea of injecting a code file containing the concrete implementation containing many lines of template code in this manner might take some time to construct.  I guess I could load a string template and parse that to a syntax tree and then inject that &quot;sub&quot; tree into an existing tree.  Just go to work out how to do that....."}, {"owner": {"reputation": 891, "user_id": 1863190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kFxS7.jpg?s=128&g=1", "display_name": "Arwin", "link": "https://stackoverflow.com/users/1863190/arwin"}, "edited": false, "score": 1, "creation_date": 1492421367, "post_id": 37743242, "comment_id": 73953134, "body": "This really helped me. However, a semi-colon isn&#39;t added for some reason, still trying to figure that out."}, {"owner": {"reputation": 891, "user_id": 1863190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kFxS7.jpg?s=128&g=1", "display_name": "Arwin", "link": "https://stackoverflow.com/users/1863190/arwin"}, "edited": false, "score": 0, "creation_date": 1492423318, "post_id": 37743242, "comment_id": 73954089, "body": "Found it, had to add                  declaration = declaration.WithSemicolonToken(SyntaxFactory.Token(SyntaxKin&zwnj;&#8203;d.SemicolonToken));  for some reason. I guess the builder pattern has fewer bugs? ;)"}], "tags": [], "owner": {"reputation": 2165, "user_id": 2480008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/393271a5cb2680b9a2bb90382f2b62aa?s=128&d=identicon&r=PG", "display_name": "NValchev", "link": "https://stackoverflow.com/users/2480008/nvalchev"}, "is_accepted": false, "score": 5, "last_activity_date": 1492456038, "last_edit_date": 1492456038, "creation_date": 1465546542, "answer_id": 37743242, "question_id": 37710714, "link": "https://stackoverflow.com/questions/37710714/roslyn-add-new-method-to-an-existing-class/37743242#37743242", "title": "Roslyn add new method to an existing class", "body": "<p>If I were you I would take advantage of all Roslyn benefits, i.e. I would work with the <code>SyntaxTree</code> of the <code>Document</code> rather than processing the files text (you are able to do the latter without using Roslyn at all).</p>\n\n<p>For instance:</p>\n\n<pre><code>...\nSyntaxNode root = await document.GetSyntaxRootAsync().ConfigureAwait(false);\nvar interfaceDeclaration = root.DescendantNodes(node =&gt; node.IsKind(SyntaxKind.InterfaceDeclaration)).FirstOrDefault() as InterfaceDeclarationSyntax;\nif (interfaceDeclaration == null) return;\n\nvar methodToInsert= GetMethodDeclarationSyntax(returnTypeName: \"GetSomeDataResponse \", \n          methodName: \"GetSomeData\", \n          parameterTypes: new[] { \"GetSomeDataRequest\" }, \n          paramterNames: new[] { \"request\" });\nvar newInterfaceDeclaration = interfaceDeclaration.AddMembers(methodToInsert);\n\nvar newRoot = root.ReplaceNode(interfaceDeclaration, newInterfaceDeclaration);\n\n// this will format all nodes that have Formatter.Annotation\nnewRoot = Formatter.Format(newRoot, Formatter.Annotation, workspace);\nworkspace.TryApplyChanges(document.WithSyntaxRoot(newRoot).Project.Solution);\n...\n\npublic MethodDeclarationSyntax GetMethodDeclarationSyntax(string returnTypeName, string methodName, string[] parameterTypes, string[] paramterNames)\n{\n    var parameterList = SyntaxFactory.ParameterList(SyntaxFactory.SeparatedList(GetParametersList(parameterTypes, paramterNames)));\n    return SyntaxFactory.MethodDeclaration(attributeLists: SyntaxFactory.List&lt;AttributeListSyntax&gt;(), \n                  modifiers: SyntaxFactory.TokenList(), \n                  returnType: SyntaxFactory.ParseTypeName(returnTypeName), \n                  explicitInterfaceSpecifier: null, \n                  identifier: SyntaxFactory.Identifier(methodName), \n                  typeParameterList: null, \n                  parameterList: parameterList, \n                  constraintClauses: SyntaxFactory.List&lt;TypeParameterConstraintClauseSyntax&gt;(), \n                  body: null, \n                  semicolonToken: SyntaxFactory.Token(SyntaxKind.SemicolonToken))\n          // Annotate that this node should be formatted\n          .WithAdditionalAnnotations(Formatter.Annotation);\n}\n\nprivate IEnumerable&lt;ParameterSyntax&gt; GetParametersList(string[] parameterTypes, string[] paramterNames)\n{\n    for (int i = 0; i &lt; parameterTypes.Length; i++)\n    {\n        yield return SyntaxFactory.Parameter(attributeLists: SyntaxFactory.List&lt;AttributeListSyntax&gt;(),\n                                                 modifiers: SyntaxFactory.TokenList(),\n                                                 type: SyntaxFactory.ParseTypeName(parameterTypes[i]),\n                                                 identifier: SyntaxFactory.Identifier(paramterNames[i]),\n                                                 @default: null);\n    }\n}\n</code></pre>\n\n<p>Note that this is pretty raw code, Roslyn API is extremely powerful when it comes to analyzing/processing the syntax tree, getting symbol information/references and so on. I would recommend you to look at this <a href=\"http://source.roslyn.codeplex.com/\" rel=\"nofollow noreferrer\">page</a> and this <a href=\"https://github.com/dotnet/roslyn\" rel=\"nofollow noreferrer\">page</a> for reference.</p>\n"}], "owner": {"reputation": 3262, "user_id": 584714, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4ab2509d2e3e3d0c9eed5dc4f57d8b30?s=128&d=identicon&r=PG", "display_name": "DrGriff", "link": "https://stackoverflow.com/users/584714/drgriff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4297, "favorite_count": 3, "answer_count": 1, "score": 7, "last_activity_date": 1492456038, "creation_date": 1465412194, "last_edit_date": 1465548056, "question_id": 37710714, "link": "https://stackoverflow.com/questions/37710714/roslyn-add-new-method-to-an-existing-class", "title": "Roslyn add new method to an existing class", "body": "<p>I'm investigating the use of the Roslyn compiler within a Visual Studio Extension (VSIX) that uses the VisualStudioWorkspace to update existing code.  Having spent the last few days reading up on this, there seem to be several ways to achieve this....I'm just not sure which is the best approach for me.</p>\n\n<p>Okay, so let's assume that the User has their solution open in Visual Studio 2015.  They click on my Extension and (via a form) they tell me that they want to add the following method definition to an interface:</p>\n\n<pre><code>GetSomeDataResponse GetSomeData(GetSomeDataRequest request);\n</code></pre>\n\n<p>They also tell me the name of the interface, it's <strong>ITheInterface</strong>.</p>\n\n<p>The interface already has some code in it:</p>\n\n<pre><code>namespace TheProjectName.Interfaces\n{\n    using System;\n    public interface ITheInterface\n    {\n        /// &lt;summary&gt;\n        ///    A lonely method.\n        /// &lt;/summary&gt;\n        LonelyMethodResponse LonelyMethod(LonelyMethodRequest request);\n    }\n}\n</code></pre>\n\n<p>Okay, so I can load the Interface Document using the following:</p>\n\n<pre><code>Document myInterface = this.Workspace.CurrentSolution?.Projects?\n    .FirstOrDefault(p \n        =&gt; p.Name.Equals(\"TheProjectName\"))\n    ?.Documents?\n        .FirstOrDefault(d \n            =&gt; d.Name.Equals(\"ITheInterface.cs\"));\n</code></pre>\n\n<p>So, what is the best way to now add my new method to this existing interface, ideally writing in the XML comment (triple-slash comment) too?  Bear in mind that the request and response types (GetSomeDataRequest and GetSomeDataResponse) may not actually exist yet.  I'm very new to this, so if you can provide code examples then that would be terrific.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I decided that (probably) the best approach would be simply to inject in some text, rather than try to programmatically build up the method declaration.</p>\n\n<p>I tried the following, but ended up with an exception that I don't comprehend:</p>\n\n<pre><code>SourceText sourceText = await myInterface.GetTextAsync();\nstring text = sourceText.ToString();\nvar sb = new StringBuilder();\n\n// I want to all the text up to and including the last\n// method, but without the closing \"}\" for the interface and the namespace\nsb.Append(text.Substring(0, text.LastIndexOf(\"}\", text.LastIndexOf(\"}\") - 1)));\n\n// Now add my method and close the interface and namespace.\nsb.AppendLine(\"GetSomeDataResponse GetSomeData(GetSomeDataRequest request);\");\nsb.AppendLine(\"}\");\nsb.AppendLine(\"}\");\n</code></pre>\n\n<p>Inspecting this, it's all good (my real code adds formatting and XML comments, but removed that for clarity).</p>\n\n<p>So, knowing that these are immutable, I tried to save it as follows:</p>\n\n<pre><code>var updatedSourceText = SourceText.From(sb.ToString());\nvar newInterfaceDocument = myInterface.WithText(updatedSourceText);\nvar newProject = newInterfaceDocument.Project;\nvar newSolution = newProject.Solution;\nthis.Workspace.TryApplyChanges(newSolution);\n</code></pre>\n\n<p>But this created the following exception:</p>\n\n<pre><code>bufferAdapter is not a VsTextDocData \n</code></pre>\n\n<blockquote>\n  <p>at Microsoft.VisualStudio.Editor.Implementation.VsEditorAdaptersFactoryService.GetAdapter(IVsTextBuffer bufferAdapter)\n    at Microsoft.VisualStudio.Editor.Implementation.VsEditorAdaptersFactoryService.GetDocumentBuffer(IVsTextBuffer bufferAdapter)\n    at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.InvisibleEditor..ctor(IServiceProvider serviceProvider, String filePath, Boolean needsSave, Boolean needsUndoDisabled)\n    at Microsoft.VisualStudio.LanguageServices.RoslynVisualStudioWorkspace.OpenInvisibleEditor(IVisualStudioHostDocument hostDocument)\n    at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.DocumentProvider.StandardTextDocument.UpdateText(SourceText newText)\n    at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyDocumentTextChanged(DocumentId documentId, SourceText newText)\n    at Microsoft.CodeAnalysis.Workspace.ApplyProjectChanges(ProjectChanges projectChanges)\n    at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)\n    at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.TryApplyChanges(Solution newSolution)</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "ascx", "integer-overflow", "secure-coding"], "comments": [{"owner": {"reputation": 3638, "user_id": 1145114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7bfed7438c368b3758b48965bc4545d6?s=128&d=identicon&r=PG", "display_name": "Luiso", "link": "https://stackoverflow.com/users/1145114/luiso"}, "edited": false, "score": 0, "creation_date": 1465413064, "post_id": 37710680, "comment_id": 62895805, "body": "What tool are you using to make the analysis? Does it points to a line in particular or just the whole block of code?"}, {"owner": {"reputation": 59, "user_id": 5469369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8339004c098c480f89ba74f446a5cff6?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Ardakanian", "link": "https://stackoverflow.com/users/5469369/jordan-ardakanian"}, "reply_to_user": {"reputation": 3638, "user_id": 1145114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7bfed7438c368b3758b48965bc4545d6?s=128&d=identicon&r=PG", "display_name": "Luiso", "link": "https://stackoverflow.com/users/1145114/luiso"}, "edited": false, "score": 0, "creation_date": 1465413377, "post_id": 37710680, "comment_id": 62895976, "body": "VCG and yes it points to this line for (int i = 0; i &lt; splits.Length; i++)"}], "answers": [{"tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": false, "score": 2, "last_activity_date": 1465412379, "creation_date": 1465412379, "answer_id": 37710767, "question_id": 37710680, "link": "https://stackoverflow.com/questions/37710680/integer-operation-without-overflow-check/37710767#37710767", "title": "Integer Operation Without Overflow Check", "body": "<blockquote>\n  <p>I have already tried to using the check keywords to fix this</p>\n</blockquote>\n\n<p>The first step would be to understand the message. Making random code changes it not a good way to deal with possible bugs that are reported to you.</p>\n\n<p>Here, there is no possible integer overflow. Hard to say more without details about the tool.</p>\n"}, {"tags": [], "owner": {"reputation": 3638, "user_id": 1145114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7bfed7438c368b3758b48965bc4545d6?s=128&d=identicon&r=PG", "display_name": "Luiso", "link": "https://stackoverflow.com/users/1145114/luiso"}, "is_accepted": false, "score": 2, "last_activity_date": 1465414855, "last_edit_date": 1465414855, "creation_date": 1465414258, "answer_id": 37711311, "question_id": 37710680, "link": "https://stackoverflow.com/questions/37710680/integer-operation-without-overflow-check/37711311#37711311", "title": "Integer Operation Without Overflow Check", "body": "<p>The message you get says that you could get an \"overflow\" on an <code>int</code>, that's because <code>int</code>s in <code>C#</code> are <code>32 bit</code> so that you can only store in it numbers lower than <code>2^31</code>. So <em>VCG</em> tell you that while doing several <code>i++</code> you could end up with an <code>i = 2^31</code> which would overflow your <code>int</code> and yield unexpected code behavior.</p>\n\n<p>This could only happen in your code in the case that <code>splitted.Length == int.MaxValue</code> since <code>splitted</code> is an <em>array</em> and the <code>Length</code> property is <code>int</code>, so when you get <code>i == int.MaxLength</code> the loop will evaluate <code>i == splitted.Length</code> and will go to <code>i++</code> which would overflow. </p>\n\n<p>However your loop says <code>i &lt; splitted.Length</code> so that <code>i == splitted.Length</code> <strong>won't</strong> happen.  </p>\n\n<p>Bottom line: I think <em>VCG</em> has spotted a suspicious line, but there is nothing to worry about.<br>\nHope this helps, happy coding.</p>\n"}], "owner": {"reputation": 59, "user_id": 5469369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8339004c098c480f89ba74f446a5cff6?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Ardakanian", "link": "https://stackoverflow.com/users/5469369/jordan-ardakanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1408, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465414855, "creation_date": 1465412094, "last_edit_date": 1465413422, "question_id": 37710680, "link": "https://stackoverflow.com/questions/37710680/integer-operation-without-overflow-check", "title": "Integer Operation Without Overflow Check", "body": "<p>Hi I just ran a static code analysis on my code and I keep getting the error </p>\n\n<blockquote>\n  <p>\"Integer Operation Without Overflow Check\" </p>\n</blockquote>\n\n<p>Can someone help me resolve this or tell me what it means exactly. I have already tried to using the check keywords to fix this but it still came up when I ran the code. </p>\n\n<pre><code>List&lt;String&gt; emailList = new List&lt;string&gt;();\n\nif (tbRecipients.Text.Contains(','))\n{\n    string[] splits = tbRecipients.Text.Split(',');\n\n    for (int i = 0; i &lt; splits.Length; i++)\n    {\n        if (splits[i].Contains(';'))\n        {\n            emailList.AddRange(splits[i].Split(';').ToList());\n        }\n        else\n        {\n            emailList.Add(splits[i]);\n        }\n    }\n}\n</code></pre>\n\n<p>ASPX</p>\n\n<pre><code>&lt;asp:TextBox ID=\"tbRecipients\"  runat=\"server\"  &gt;&lt;/asp:TextBox&gt;  \n</code></pre>\n"}, {"tags": ["c#", "string", "linq"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1465412735, "post_id": 37710670, "comment_id": 62895613, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/bb311040.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb311040.aspx</a>"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1465412741, "post_id": 37710670, "comment_id": 62895619, "body": "What if you remove all the <code>select</code> keywords from the <code>level4Collection</code> query except the last one that projects a tuple?"}, {"owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1467400095, "post_id": 37710670, "comment_id": 63734277, "body": "@IvanStoev Why didn&#39;t tou turn that into an answer yet? It works, Just make it into an answer so I can approve it and this questions can get out of the unanswered list."}], "answers": [{"tags": [], "owner": {"reputation": 3437, "user_id": 1586498, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Mtj68.jpg?s=128&g=1", "display_name": "OzBob", "link": "https://stackoverflow.com/users/1586498/ozbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1487556675, "creation_date": 1487556675, "answer_id": 42335419, "question_id": 37710670, "link": "https://stackoverflow.com/questions/37710670/trying-to-chain-linq-queries-but-not-succeding/42335419#42335419", "title": "Trying to chain linq queries, but not succeding", "body": "<p>@IvanStoev says: </p>\n\n<blockquote>\n  <p>remove all the select keywords from the level4Collection query except the last one that projects a tuple</p>\n</blockquote>\n"}], "owner": {"reputation": 1035, "user_id": 3895858, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UxB9m.jpg?s=128&g=1", "display_name": "FinnTheHuman", "link": "https://stackoverflow.com/users/3895858/finnthehuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487556675, "creation_date": 1465412056, "question_id": 37710670, "link": "https://stackoverflow.com/questions/37710670/trying-to-chain-linq-queries-but-not-succeding", "title": "Trying to chain linq queries, but not succeding", "body": "<p>I have this problem where I have a \"phrase\" made of symbols and I was trying to \"decode\" the phrase into English. So I have a big list of English words, and I'm trying to write a linq query that will select tuples of words that match the symbols. here's what I'm trying:</p>\n\n<pre><code>public void Method()\n{\n     //here, based on the cryptic phrase, I gather English words\n     //that have 7, 5, 4 and 2 letters in which all letters are distinct from one another\n     var words7 = from word in Properties.Resources.Words\n         where word.Length == 7 &amp;&amp; allLettersAreDistinct(word)\n         select word;\n     var words5 = from word in Properties.Resources.Words\n         where word.Length == 5 &amp;&amp; allLettersAreDistinct(word)\n         select word;\n     var words4 = from word in Properties.Resources.Words\n         where word.Length == 4 &amp;&amp; allLettersAreDistinct(word)\n         select word;\n     var words2 = from word in Properties.Resources.Words\n         where word.Length == 2 &amp;&amp; allLettersAreDistinct(word)\n         select word;\n\n     //So this is where I try to make a query that select groups of words\n     //that match the symbols in their positions in their locations\n     //in the cryptic phrase words\n     var level4Collection = from word7 in words7 select\n         from word5 in words5 select\n              from word4 in words4 select\n                  from word2 in words2\n                      where word5[1] == word7[0] &amp;&amp;\n                      word5[3] == word7[5] &amp;&amp;\n                      word4[1] == word5[0] &amp;&amp;\n                      word4[2] == word7[2] &amp;&amp;\n                      word2[0] == word7[1]\n                      select\n                      new Tuple&lt;string, string, string, string&gt;(word7, word4, word2, word5);\n</code></pre>\n\n<p>As a result of the above query I get an <code>IEnumerable&lt;IEnumerable&lt;IEnumerable&lt;IEnumerable&lt;Tuple&lt;string, string, string, string&gt;&gt;&gt;&gt;</code></p>\n\n<p>But linq is a complicated subject and my query clearly doesn't work as intended, let me explain:</p>\n\n<p>Let me call the <code>Tuple&lt;string, string, string, string&gt;</code> objects <em>level 0 objects</em> and so forth</p>\n\n<p><code>IEnumerable&lt;Tuple&lt;string, string, string, string&gt;&gt;</code> is <code>IEnumerable&lt;level 0&gt;</code> and also <em>level 1 object</em></p>\n\n<p><code>IEnumerable&lt;IEnumerable&lt;Tuple&lt;string, string, string, string&gt;&gt;&gt;</code> is <code>IEnumerable&lt;level 1&gt;</code> and also <em>level 2 object</em></p>\n\n<p><code>IEnumerable&lt;IEnumerable&lt;IEnumerable&lt;Tuple&lt;string, string, string, string&gt;&gt;&gt;&gt;</code> is <code>IEnumerable&lt;level 2&gt;</code> and also <em>level 3 object</em></p>\n\n<p>and finally \n<code>IEnumerable&lt;IEnumerable&lt;IEnumerable&lt;IEnumerable&lt;Tuple&lt;string, string, string, string&gt;&gt;&gt;&gt;&gt;</code> is <code>IEnumerable&lt;level 3&gt;</code></p>\n\n<p>as I run the code, iterating through the many levels, I find that most <code>IEnumerable&lt;level 0&gt;</code> objects are empty. How can this be? If I requested a number of words that fit into specific criteria, then if there are no words that fit the criteria to form the <code>Tuple</code>, neither should be the <code>IEnumerables</code> of those empty <code>IEnumerables</code>. This is how I understand linq. Which is, of course, wrong.</p>\n\n<p>What can I do to achieve the expected result and get the tuples of words that fit the criteria?</p>\n"}, {"tags": ["c#", "vb6"], "answers": [{"comments": [{"owner": {"reputation": 29192, "user_id": 15639, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f3ce1ae1497058e8efd34a05dbdee22?s=128&d=identicon&r=PG", "display_name": "MarkJ", "link": "https://stackoverflow.com/users/15639/markj"}, "edited": false, "score": 0, "creation_date": 1465473724, "post_id": 37710730, "comment_id": 62921991, "body": "+1 VB <code>Select Case</code> has some similarities with C# <code>switch</code> but some important differences too. In VB the case value can be a run-time expression but in C# it has to be evaluated at compile-time."}], "tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1465412241, "creation_date": 1465412241, "answer_id": 37710730, "question_id": 37710655, "link": "https://stackoverflow.com/questions/37710655/using-a-form-handle-for-a-case-in-a-switch-statement/37710730#37710730", "title": "Using a Form Handle for a Case in a Switch Statement?", "body": "<p>The <code>switch</code> statement is used with (compile-time) constant expressions, not variables. You cannot use a window handle with one.</p>\n\n<pre><code>const IntPtr frmHandle = new IntPtr(frm.Handle);\n</code></pre>\n\n<p>frmHandle is not a compile time constant. This syntax states that it cannot be changed after it is initialized.</p>\n\n<p>You can achieve the same thing, but with a variable, with a series of <code>if</code> statements. Depending on your real needs, you might also use a dictionary using the window handle as a key (the value would depend on what you're trying to achieve here).</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 6387318, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6868e7506b1bb088b88e8527b95c24e?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Bias", "link": "https://stackoverflow.com/users/6387318/anthony-bias"}, "edited": false, "score": 0, "creation_date": 1465413767, "post_id": 37710740, "comment_id": 62896164, "body": "I&#39;m surprised I didn&#39;t see this solution staring me right in the face."}], "tags": [], "owner": {"reputation": 73, "user_id": 6441862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307fb6db42cc4c724de1eebf4be08f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Coder95", "link": "https://stackoverflow.com/users/6441862/coder95"}, "is_accepted": true, "score": 0, "last_activity_date": 1465412284, "creation_date": 1465412284, "answer_id": 37710740, "question_id": 37710655, "link": "https://stackoverflow.com/questions/37710655/using-a-form-handle-for-a-case-in-a-switch-statement/37710740#37710740", "title": "Using a Form Handle for a Case in a Switch Statement?", "body": "<p>I think you have to use an \"if\" for this:</p>\n\n<pre><code>if(variable == frm.Handle)\n</code></pre>\n\n<p>A switch case is just an better looking if else ;-)</p>\n"}], "owner": {"reputation": 97, "user_id": 6387318, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6868e7506b1bb088b88e8527b95c24e?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Bias", "link": "https://stackoverflow.com/users/6387318/anthony-bias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 37710740, "answer_count": 2, "score": 0, "last_activity_date": 1465413745, "creation_date": 1465411991, "last_edit_date": 1465413745, "question_id": 37710655, "link": "https://stackoverflow.com/questions/37710655/using-a-form-handle-for-a-case-in-a-switch-statement", "title": "Using a Form Handle for a Case in a Switch Statement?", "body": "<p>I've been racking my brain trying to figure out how to write this VB code</p>\n\n<pre><code> Case frm.hwnd:\n</code></pre>\n\n<p>in C# so that it will work in a switch statement using a long as a test expression. When I try </p>\n\n<pre><code>case (long)frm.Handle:\n</code></pre>\n\n<p>my IDE tells me that I need to use a constant expression. I've tried both casting the form handle into a long and assigning it to a constant long variable </p>\n\n<pre><code>const long frmHandle = new (long)frm.Handle;\n</code></pre>\n\n<p>and instantiating an <code>IntPtr</code> object to cast into a <code>long</code> when I use it as a case expression.</p>\n\n<pre><code>const IntPtr frmHandle = new IntPtr(frm.Handle);\n</code></pre>\n\n<p>The former caused an error saying </p>\n\n<blockquote>\n  <p>the value being assigned must be constant</p>\n</blockquote>\n\n<p>and the latter caused an error saying </p>\n\n<blockquote>\n  <p>IntPtr cannot be declared as constant</p>\n</blockquote>\n\n<p>Is there any way to still use the form handle as a case?</p>\n"}, {"tags": ["c#", "ssl", "sslstream"], "answers": [{"comments": [{"owner": {"reputation": 1018, "user_id": 2523968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Lknu.jpg?s=128&g=1", "display_name": "Newteq Developer", "link": "https://stackoverflow.com/users/2523968/newteq-developer"}, "edited": false, "score": 0, "creation_date": 1509036993, "post_id": 37736201, "comment_id": 80867092, "body": "This appears to have resolved it for me too, removing the cert from local machine and installing to current user worked. I assume that it&#39;s for development, since we are not running as local system when we run debug from VS."}], "tags": [], "owner": {"reputation": 696, "user_id": 1698480, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/6f443f37856786df1a64b2c96686efcb?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1698480/dan"}, "is_accepted": false, "score": 3, "last_activity_date": 1465506462, "creation_date": 1465506462, "answer_id": 37736201, "question_id": 37710612, "link": "https://stackoverflow.com/questions/37710612/sslstream-authenticateasserver-the-credentials-supplied-to-the-package-were-not/37736201#37736201", "title": "SslStream AuthenticateAsServer The credentials supplied to the package were not recognized", "body": "<p>I think I figured it out.  It was a permission issue, I was importing them into localMachine certificate manager (certlm.msc), and after i rebooted machine it didn't work unless I ran my app as admin.  Deleting from there and installing with currentUser Cert Man (certmgr.msc) worked.</p>\n\n<p>Note - I also made certificates a slightly different way, not sure if that mattered:</p>\n\n<pre><code>    makecert -ic CARoot.cer -iv CARoot.pvk -n \"CN=SslServer2\" -sv SslServer2.pvk -pe -sky exchange SslServer2.cer\n\n    cert2spc SslServer2.cer SslServer2.spc\n\n    pvk2pfx -pvk SslServer2.pvk -spc SslServer2.spc -pfx SslServer2.pfx -f\n</code></pre>\n"}], "owner": {"reputation": 696, "user_id": 1698480, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/6f443f37856786df1a64b2c96686efcb?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1698480/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2799, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465506462, "creation_date": 1465411842, "last_edit_date": 1465412249, "question_id": 37710612, "link": "https://stackoverflow.com/questions/37710612/sslstream-authenticateasserver-the-credentials-supplied-to-the-package-were-not", "title": "SslStream AuthenticateAsServer The credentials supplied to the package were not recognized", "body": "<p>Using c# to communicate via SSL with SslStream.  I am using certificates generated myself and imported into Windows certificate store w/ certlm.msc.  I am getting the following exception \"The credentials supplied to the package were not recognized\" on SslStream.AuthenticateAsServer().</p>\n\n<p>It seems to work for a little while, but then it stops.  It's been pretty frustrating.  I have read through many articles here but have not found a solution I need to recreate the certificates and import them.  I created the certificates like this:</p>\n\n<ol>\n<li><p>Created a CA:</p>\n\n<blockquote>\n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\makecert.exe\" ^\n  -n \"CN=CARoot\" -r -pe -a sha512 -len 4096 -cy authority -sv CARoot.pvk ^\n  -ss -sr CARoot.cer</p>\n  \n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\pvk2pfx.exe\" ^\n  -pvk CARoot.pvk -spc CARoot.cer -pfx CARoot.pfx -po Test123</p>\n</blockquote></li>\n<li><p>Create a Server certificate:</p>\n\n<blockquote>\n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\makecert.exe\" ^\n  -n \"CN=%1\" -iv CARoot.pvk -ic CARoot.cer -pe -a sha512 -len 4096 ^\n  -sky exchange -eku 1.3.6.1.5.5.7.3.1 -sv SslServer.pvk SslServer.cer</p>\n  \n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\pvk2pfx.exe\" ^\n  -pvk SslServer.pvk -spc SslServer.cer -pfx SslServer.pfx ^\n  -po Test123</p>\n</blockquote></li>\n<li><p>Create a client certificate:</p>\n\n<blockquote>\n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\makecert.exe\" ^\n  -n \"CN=%1\" -iv CARoot.pvk -ic CARoot.cer -pe -a sha512 ^\n  -len 4096 -sky exchange -eku 1.3.6.1.5.5.7.3.2 -sv SslClient.pvk ^\n  SslClient.cer</p>\n  \n  <p>\"C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\pvk2pfx.exe\" ^\n  -pvk SslClient.pvk -spc SslClient.cer -pfx SslClient.pfx -po Test123</p>\n</blockquote></li>\n</ol>\n\n<p>I am basically using the sample code from MSDN, and I put both SslServer and SslClient in my lmhosts file so they resolve.</p>\n\n<p>Note - in Certificate Manager, when i click on them, they say \"You have a private key that corresponds to this certificate\".</p>\n"}, {"tags": ["c#", "resources", "uwp", "datatemplate"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1465421590, "post_id": 37710605, "comment_id": 62900193, "body": "Does UWP not have <code>{x:Static}</code>? Can you not just declare this &quot;global resource&quot; in e.g. your App.xaml? Assuming not, it seems like you should still be able to use e.g. a converter or, perhaps better, a proxy view model object that exposes the &quot;global&quot; data via a instance property that can be bound to. Unfortunately, it&#39;s not even really that clear the nature of this other data you want to bind to. The question is hard to understand without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows clearly what you&#39;re trying to do and a more precise description of what the code does now and what you want it to do instead."}, {"owner": {"reputation": 407, "user_id": 4195536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/516533179/picture?type=large", "display_name": "Andrew Shirley", "link": "https://stackoverflow.com/users/4195536/andrew-shirley"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1465448000, "post_id": 37710605, "comment_id": 62907156, "body": "I don&#39;t think it has x:Static, but there is a StaticResourceExtension element that I don&#39;t completely understand at this point. As far as an example of what I want: I have a key value. I want to be able to use this key value to get the appropriate string from the database at runtime (it can&#39;t be known at develop time, only the key is known). I want to be able to access this string within the context of a DataTemplate. Using a converter with my key passed in as a converter parameter is what I&#39;ll be attempting tomorrow, though I&#39;ll have to work around the async data access part =)"}, {"owner": {"reputation": 407, "user_id": 4195536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/516533179/picture?type=large", "display_name": "Andrew Shirley", "link": "https://stackoverflow.com/users/4195536/andrew-shirley"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1465497466, "post_id": 37710605, "comment_id": 62938730, "body": "Looks like the converter worked! I still have all kinds of questions about efficiency (since the converter is going to be running this search to get the string for each item in my list, instead of being able to pass a string into the template and reuse it), but this works for now."}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 4195536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/516533179/picture?type=large", "display_name": "Andrew Shirley", "link": "https://stackoverflow.com/users/4195536/andrew-shirley"}, "edited": false, "score": 0, "creation_date": 1465414064, "post_id": 37710954, "comment_id": 62896316, "body": "The thought did cross my mind, but it wouldn&#39;t work. The vast majority of our clients are in an English locale, and these terms are client-defined after deployment time, not pre-defined at develop time. Basically the text is implemented dynamically, and we need a way to reference this dynamic text within the context of a DataTemplate."}], "tags": [], "owner": {"reputation": 7775, "user_id": 39624, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9785f9da9aa7595121aba6aafdb8ea91?s=128&d=identicon&r=PG", "display_name": "AlexDrenea", "link": "https://stackoverflow.com/users/39624/alexdrenea"}, "is_accepted": false, "score": 0, "last_activity_date": 1465413055, "creation_date": 1465413055, "answer_id": 37710954, "question_id": 37710605, "link": "https://stackoverflow.com/questions/37710605/uwp-how-would-i-go-about-referencing-a-variable-string-within-a-datatemplate/37710954#37710954", "title": "UWP- How would I go about referencing a variable string within a datatemplate?", "body": "<p>You could use the localization mechanism as presented in <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh965326.aspx\" rel=\"nofollow\">this quick-start</a></p>\n\n<p>In summary, you would create a resources file (.resw) in a known folders inside your solution \"Strings/<em>culture-code</em>\" - where <em>culture-code</em> is the language of your resources. You define the strings there and then reference them via the x:Uid property on your textblock</p>\n\n<pre><code>&lt;DataTemplate x:DataType=\"ObjectWithAllInformation\"&gt;\n    &lt;Textblock x:Uid=\"resource1\" /&gt;\n    &lt;Element Property={x:Bind PropertyOnAboveObject} /&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>and the corresponding resource file would have</p>\n\n<pre><code>resource1.Text: \"whatever static text you need to define\"\n</code></pre>\n\n<p>Notice that when you define the resource you are using the same value you used in the x:Uid field, and prefix it with the property that you need to set with that value, in your case \"Text\". You can use this mechanism to set values to other properties if needed, like Headers, PlaceholderText, etc...</p>\n"}], "owner": {"reputation": 407, "user_id": 4195536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/516533179/picture?type=large", "display_name": "Andrew Shirley", "link": "https://stackoverflow.com/users/4195536/andrew-shirley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465413055, "creation_date": 1465411820, "question_id": 37710605, "link": "https://stackoverflow.com/questions/37710605/uwp-how-would-i-go-about-referencing-a-variable-string-within-a-datatemplate", "title": "UWP- How would I go about referencing a variable string within a datatemplate?", "body": "<p>To give a bit of context: In our application, we have a series of terms stored in a database. We internally reference our terms using some key, whereas our clients decide what text should show up in place of that. This has worked well for our web applications.</p>\n\n<p>However for our UWP application, we have run into trouble in our DataTemplates. The way I understand it, data templates work like this: </p>\n\n<pre><code>&lt;DataTemplate x:DataType=\"ObjectWithAllInformation\"&gt;\n    &lt;Element Property={x:Bind PropertyOnAboveObject} /&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>The problem is that we're wanting to bind something that exists outside of the context of this specific object. We want to do something like this: </p>\n\n<pre><code>&lt;DataTemplate x:DataType=\"ObjectWithAllInformation\"&gt;\n    &lt;Textblock Text=\"{Some sort of binding to a global terms object?}\" /&gt;\n    &lt;Element Property={x:Bind PropertyOnAboveObject} /&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>Is there a way to instantiate such a global resource that we can reference within the data template this way? Something that just popped in my head that I haven't tried yet, is that a custom user control might work, but it seems overkill for accessing a string. Is there a simple way to achieve this? </p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 10664, "user_id": 62923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TT5tk.png?s=128&g=1", "display_name": "jgallant", "link": "https://stackoverflow.com/users/62923/jgallant"}, "edited": false, "score": 4, "creation_date": 1465411916, "post_id": 37710586, "comment_id": 62895144, "body": "Your title doesn&#39;t match your actual question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6430126"}, "reply_to_user": {"reputation": 10664, "user_id": 62923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TT5tk.png?s=128&g=1", "display_name": "jgallant", "link": "https://stackoverflow.com/users/62923/jgallant"}, "edited": false, "score": 0, "creation_date": 1465412071, "post_id": 37710586, "comment_id": 62895241, "body": "Sorry ,I&#39;m not a native English speaker so I couldn&#39;t explain my question very well"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1465412092, "post_id": 37710586, "comment_id": 62895253, "body": "1f is a floating point value of 1. In this case, it likely means 1 degree per second, which is then multiplied by the DeltaTime to enable a smooth 1 degree per second rotation."}, {"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 0, "creation_date": 1465412683, "post_id": 37710586, "comment_id": 62895576, "body": "Here are all the suffixes for built-in types: <a href=\"https://msdn.microsoft.com/en-us/library/bfft1t3c.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bfft1t3c.aspx</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 1, "creation_date": 1465412018, "post_id": 37710618, "comment_id": 62895206, "body": "Hex numbers are prefixed with <code>0x</code> in .NET"}], "tags": [], "owner": {"reputation": 2418, "user_id": 598825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6IUza.png?s=128&g=1", "display_name": "Jimbo", "link": "https://stackoverflow.com/users/598825/jimbo"}, "is_accepted": false, "score": -10, "last_activity_date": 1465411897, "last_edit_date": 1465411897, "creation_date": 1465411870, "answer_id": 37710618, "question_id": 37710586, "link": "https://stackoverflow.com/questions/37710586/what-does-1f-represent-in-the-following-code/37710618#37710618", "title": "What Does 1F represent in the following code?", "body": "<p>It's a hexadecimal number, 1F = 31</p>\n"}, {"comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1465412163, "post_id": 37710638, "comment_id": 62895304, "body": "casing doesn&#39;t matter"}], "tags": [], "owner": {"reputation": 229, "user_id": 3236950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9e4f7e98ad3148867dbac5443b6bae?s=128&d=identicon&r=PG&f=1", "display_name": "JonBee", "link": "https://stackoverflow.com/users/3236950/jonbee"}, "is_accepted": false, "score": 6, "last_activity_date": 1465412519, "last_edit_date": 1465412519, "creation_date": 1465411947, "answer_id": 37710638, "question_id": 37710586, "link": "https://stackoverflow.com/questions/37710586/what-does-1f-represent-in-the-following-code/37710638#37710638", "title": "What Does 1F represent in the following code?", "body": "<p>In C#, a lowercase f after a number indicates that the value should be treated as a float.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/b1e65aza.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/b1e65aza.aspx</a></p>\n\n<p>By multiplying this by the deltaTime value, it's rotating either 1 degree or 1 radian per second. I'm unfamiliar with Unity and can't speak authoritatively on the subject.</p>\n"}, {"tags": [], "owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "is_accepted": false, "score": 0, "last_activity_date": 1465412801, "last_edit_date": 1465412801, "creation_date": 1465412456, "answer_id": 37710792, "question_id": 37710586, "link": "https://stackoverflow.com/questions/37710586/what-does-1f-represent-in-the-following-code/37710792#37710792", "title": "What Does 1F represent in the following code?", "body": "<p>1f is a literal that means a floating point value (datatype is <a href=\"https://msdn.microsoft.com/en-us/library/b1e65aza.aspx\" rel=\"nofollow\">float</a>) of 1.</p>\n\n<p>In this case, it is being used to represent a floating point degree angle value of 1, which is then multiplied by Time.deltaTime to get a smooth rotation of 1 degree per second.</p>\n\n<p>See Unity's <a href=\"http://docs.unity3d.com/ScriptReference/Transform.RotateAround.html\" rel=\"nofollow\">RotateAround</a> documentation for further info.</p>\n"}, {"tags": [], "owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "is_accepted": true, "score": 5, "last_activity_date": 1465412493, "creation_date": 1465412493, "answer_id": 37710797, "question_id": 37710586, "link": "https://stackoverflow.com/questions/37710586/what-does-1f-represent-in-the-following-code/37710797#37710797", "title": "What Does 1F represent in the following code?", "body": "<p>The <code>f</code> after a numeric literal signifies that the value is to be explicitly treated as a <a href=\"https://msdn.microsoft.com/en-us/library/b1e65aza.aspx\" rel=\"noreferrer\"><code>float</code></a>.  In this case, if you were to write <code>1</code> instead of <code>1f</code>, that value would be treated as an <code>int</code>.  Generally, this isn't a big deal as ints will automatically cast themselves into floats in situations where such a casting is required.  The time when you're really going to need this is if you are ever writing real literals, i.e. <code>1.5</code>.  <code>1.5</code> by itself will be treated as a <code>double</code> instead of a <code>float</code>.</p>\n\n<p>This is very significant for Unity programming, as many objects in the Unity library do their computations with floats instead of doubles.  If you try something like <code>transform.RotateAround(Vector3.zero, Vector3.right, 1.5 * Time.deltaTime)</code>, you will get an error when the game tries to build, as doubles will not automatically cast themselves to floats without an explicit cast.  To use real literals in many calls to Unity functions, you will need to designate your literals as floats with the <code>f</code> notation you are asking about.  <code>new transform.RotateAround(Vector3.zero, Vector3.right, 1.5f * Time.deltaTime)</code> will work just fine.</p>\n\n<p>In this case, since it is multiplying by <a href=\"https://docs.unity3d.com/ScriptReference/Time-deltaTime.html\" rel=\"noreferrer\"><code>Time.deltaTime</code></a> (another float), you will have a rotation of 1 degree per second.  <code>Time.deltaTime</code> is the number of seconds that have passed since the last frame, so when you multiply a value of <code>v</code> by <code>Time.deltaTime</code> and add it up each frame, you will get a steady progression of <code>v</code> per second.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6430126"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5727, "favorite_count": 2, "accepted_answer_id": 37710797, "answer_count": 4, "score": 2, "last_activity_date": 1465412864, "creation_date": 1465411766, "last_edit_date": 1465412864, "question_id": 37710586, "link": "https://stackoverflow.com/questions/37710586/what-does-1f-represent-in-the-following-code", "title": "What Does 1F represent in the following code?", "body": "<p>I'm learning Unity 5 and I know nothing about Programming. But I have watched a tutorial on \"How to make a Day/Night Cycle\" in Unity and the tutor wrote this script to cycle between moon and sun.. Here's the code:</p>\n\n<pre><code>    using UnityEngine;\nusing System.Collections;\n\npublic class sun : MonoBehaviour {\n\n    // Use this for initialization\n    void Start () {\n\n    }\n\n    // Update is called once per frame\n    void Update () {\n        transform.RotateAround(Vector3.zero, Vector3.right, 1f * Time.deltaTime);\n        transform.LookAt(Vector3.zero);\n    }\n}\n</code></pre>\n\n<p>And the speed of cycling is depends on <strong>1F</strong> which we can change the any number.. But I don't know how long does it take to do 1F rotation between sun and moon! So can you tell me this number in something like seconds or minutes ? So I can be able to set it myself to a custom duration. Thanks in advance </p>\n"}, {"tags": ["c#", "asp.net", ".net", "oracle", "dll"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1465413325, "post_id": 37710569, "comment_id": 62895945, "body": "You can save yourself a lot of time and hassle by using <a href=\"https://www.nuget.org/packages/Oracle.ManagedDataAccess/\" rel=\"nofollow noreferrer\">Oracle&#39;s managed driver</a>. It doesn&#39;t have any external dependencies and isn&#39;t architecture specific."}, {"owner": {"reputation": 1535, "user_id": 3968481, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/omke0.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3968481/patrick"}, "edited": false, "score": 0, "creation_date": 1465430139, "post_id": 37710569, "comment_id": 62903162, "body": "It sounds to me you have Oracle installed in the GAC on the machine with the error and it is not the same version as you have in your BIN. Since Oracle uses the TNSNames to connect, you must have a different version installed on that server.  There should be no need to move those DLL in the BIN. I use the same version and only use GAC"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4508351"}, "is_accepted": true, "score": 0, "last_activity_date": 1465585839, "creation_date": 1465585839, "answer_id": 37755601, "question_id": 37710569, "link": "https://stackoverflow.com/questions/37710569/oracle-connection-works-on-one-server-but-not-another/37755601#37755601", "title": "Oracle connection works on one server but not another", "body": "<p>Based on Mason's suggestion, I converted to the Oracle Managed Data Access driver which resolved the problem.  So much simpler and resolved the issue.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4508351"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 37755601, "answer_count": 1, "score": 0, "last_activity_date": 1513112463, "creation_date": 1465411720, "question_id": 37710569, "link": "https://stackoverflow.com/questions/37710569/oracle-connection-works-on-one-server-but-not-another", "title": "Oracle connection works on one server but not another", "body": "<p>I have an ASP.NET (4.0) application developed in Visual Studio 2012 (C#) with an Oracle (4.121.1.0) connection.  A connection string is used so we are not looking at TNS.</p>\n\n<p>The application runs without issue in debug on my development server (Windows 2008 R2 SP1), where I have the Oracle DataAccess components.</p>\n\n<p>I can publish the project to my Production server (Windows 2008 R2), running IIS, but had to place the following dlls into the bin folder of the application.</p>\n\n<ul>\n<li>oci.dll  </li>\n<li>Oracle.DataAccess.dll  (published with application)</li>\n<li>orannzsbb12.dll  </li>\n<li>oraocci12.dll  </li>\n<li>oraociei12.dll </li>\n<li>oraons.dll </li>\n<li>OraOps12.dll </li>\n</ul>\n\n<p>I created an application pool for this app using 4.0 integrated and set \"Enable 32-Bit Applications\" to true.</p>\n\n<p>The oracle connection runs successfully on this environment.</p>\n\n<p>But now, when I publish the exact same code to my Test server (Windows 2008 R2 SP1), and copy the same dlls to the bin folder and set up my application pool the same as my production environment, I get:</p>\n\n<p><h2> <i>The provider is not compatible with the version of Oracle client</i> </h2></p>\n\n<p>This is the line of code that errors out on the TEST server:</p>\n\n<pre><code>oracleConnection = new OracleConnection();\n</code></pre>\n\n<p>I've verified that everything is the same between both PROD and TEST servers, but the TEST server gives me this error WITHOUT EXCEPTION and the PROD server runs PERFECTLY.</p>\n\n<p>Neither PROD nor TEST servers have the Oracle DataAccess components installed.</p>\n\n<p>Any suggestions on what to check?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "edited": false, "score": 0, "creation_date": 1465411632, "post_id": 37710504, "comment_id": 62894960, "body": "Is this c# or VB? Looks like a mix of both."}, {"owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "edited": false, "score": 0, "creation_date": 1465411674, "post_id": 37710504, "comment_id": 62894991, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/zakwfxx4(v=vs.100).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/zakwfxx4(v=vs.100).aspx</a>"}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "reply_to_user": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "edited": false, "score": 0, "creation_date": 1465411703, "post_id": 37710504, "comment_id": 62895008, "body": "The project is in C#,, I would put the if statement above as being is pseudo code...."}, {"owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "edited": false, "score": 0, "creation_date": 1465411726, "post_id": 37710504, "comment_id": 62895023, "body": "Or simply a regular if else statement with multiple <code>cmd.Parameters.AddWithValue</code> statements."}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 484572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/caa6ffcd00097e9055706b570aded53d?s=128&d=identicon&r=PG", "display_name": "Noel", "link": "https://stackoverflow.com/users/484572/noel"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411659, "creation_date": 1465411659, "answer_id": 37710552, "question_id": 37710504, "link": "https://stackoverflow.com/questions/37710504/assigning-sqlparameter-with-if-statement/37710552#37710552", "title": "Assigning SqlParameter with if statement", "body": "<p>Assuming this is C# with the tag.</p>\n\n<pre><code>  cmd.Parameters.AddWithValue(\"@IsCloneOf\", txt_IsCloneOf == null?txt_QuestionID.Text:txt_IsCloneOf.Text;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1465413942, "post_id": 37710561, "comment_id": 62896257, "body": "Could you please add some context to your code?"}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1465482663, "post_id": 37710561, "comment_id": 62929007, "body": "Have tried this methods, and as soon as I implement then the value stored is 0 (zero) even though that value is not anywhere to be found and used"}], "tags": [], "owner": {"reputation": 73, "user_id": 6441862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307fb6db42cc4c724de1eebf4be08f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Coder95", "link": "https://stackoverflow.com/users/6441862/coder95"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411683, "creation_date": 1465411683, "answer_id": 37710561, "question_id": 37710504, "link": "https://stackoverflow.com/questions/37710504/assigning-sqlparameter-with-if-statement/37710561#37710561", "title": "Assigning SqlParameter with if statement", "body": "<pre><code>txt_IsCloneOf == null ? txt_QuestionID.Text : txt_IsCloneOf.Text\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1465482630, "post_id": 37710610, "comment_id": 62928966, "body": "Have tried all of these methods, and as soon as I implement any &quot;If&quot; then the value stored is 0 (zero) even though that value is not anywhere to be found and used."}, {"owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "reply_to_user": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1465483519, "post_id": 37710610, "comment_id": 62929649, "body": "@BrentOliver I would guess that you have an unrelated issue. Did you try putting a break point in the code and seeing if the value of cmd.Parameters is what you expect?"}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 0, "creation_date": 1465484172, "post_id": 37710610, "comment_id": 62930181, "body": "I think what is happening is that value of txt_IsCloneOf is an empty string &#39;&#39; rather than a null. When I create a record with value then the statement is working. changing the == to evaluate to &#39;&#39; doesn&#39;t work however. Have to find out how to say &quot;empty string&quot; in this case."}, {"owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "edited": false, "score": 1, "creation_date": 1465484561, "post_id": 37710610, "comment_id": 62930501, "body": "changing first line of your second method to: if (txt_IsCloneOf.Text == null || txt_IsCloneOf.Text.Length == 0) took care of the problem."}], "tags": [], "owner": {"reputation": 11104, "user_id": 469563, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XsY1A.jpg?s=128&g=1", "display_name": "GendoIkari", "link": "https://stackoverflow.com/users/469563/gendoikari"}, "is_accepted": true, "score": 2, "last_activity_date": 1465411839, "creation_date": 1465411839, "answer_id": 37710610, "question_id": 37710504, "link": "https://stackoverflow.com/questions/37710504/assigning-sqlparameter-with-if-statement/37710610#37710610", "title": "Assigning SqlParameter with if statement", "body": "<p>There are multiple ways to do this, depending on preferred coding styles.</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@IsCloneOf\", (txt_IsCloneOf == null) ? txt_QuestionID.Text : txt_IsCloneOf.Text);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>if (txt_IsCloneOf == null)\n    cmd.Parameters.AddWithValue(\"@IsCloneOf\", txt_QuestionID.Text);\nelse\n    cmd.Parameters.AddWithValue(\"@IsCloneOf\", txt_IsCloneOf.Text);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>string isCloneOf = \"\";\n\nif (txt_IsCloneOf == null)\n    isCloneOf = txt_QuestionID.Text;\nelse\n    isCloneOf = txt_IsCloneOf.Text;\n\ncmd.Parameters.AddWithValue(\"@IsCloneOf\", isCloneOf);\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 5116096, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c717c7306b8fe66f91656a0f5496b805?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Oliver", "link": "https://stackoverflow.com/users/5116096/brent-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 1, "closed_date": 1465413126, "accepted_answer_id": 37710610, "answer_count": 3, "score": 0, "last_activity_date": 1465413058, "creation_date": 1465411529, "last_edit_date": 1465413058, "question_id": 37710504, "link": "https://stackoverflow.com/questions/37710504/assigning-sqlparameter-with-if-statement", "closed_reason": "Duplicate", "title": "Assigning SqlParameter with if statement", "body": "<p>How would I go about formatting the below? The value of <code>@IsCloneOf</code> is conditional on whether the source record has already been cloned from an \"original\" record, which can be determined by if the <code>txt_IsCloneOf</code> field is null or not.</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@IsCloneOf\", (If txt_IsCloneOf is null then txt_QuestionID.Text else txt_IsCloneOf.Text end if);\n</code></pre>\n\n<p>This is being used to send values to a SQL stored procedure.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 1, "creation_date": 1465411865, "post_id": 37710491, "comment_id": 62895108, "body": "This is a perfectly fine beginner question IMHO. It contains a short piece of code illustrating the problem (though the <code>using</code> and <code>namespace</code> parts could be omitted) and a clear problem statement."}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1465411903, "post_id": 37710491, "comment_id": 62895132, "body": "You should expose a method in this class to get access to the internal data. And call your class by the correct casing: ColorSchemes."}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 1, "creation_date": 1465412196, "post_id": 37710491, "comment_id": 62895322, "body": "Why are those values being assigned in plain class declaration and not inside a constructor or method?"}], "answers": [{"comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1465411824, "post_id": 37710521, "comment_id": 62895093, "body": "He also needs an instance"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1465411973, "post_id": 37710521, "comment_id": 62895183, "body": "Not really a good idea to be exposing the array publicly. He should access this via a well defined method."}, {"owner": {"reputation": 2306, "user_id": 1805901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D1Qlu.jpg?s=128&g=1", "display_name": "Florian Schaal", "link": "https://stackoverflow.com/users/1805901/florian-schaal"}, "reply_to_user": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 1, "creation_date": 1465412253, "post_id": 37710521, "comment_id": 62895349, "body": "@ManoDestra, you are absolutely right. the code above was just to demonstrate how to mark a property public."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1465412661, "post_id": 37710521, "comment_id": 62895562, "body": "@FlorianSchaal To be completely accurate, this is a <i>field</i>, not a property. Properties use getters and setters, while fields are like variables for an object."}, {"owner": {"reputation": 2306, "user_id": 1805901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D1Qlu.jpg?s=128&g=1", "display_name": "Florian Schaal", "link": "https://stackoverflow.com/users/1805901/florian-schaal"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1465412828, "post_id": 37710521, "comment_id": 62895680, "body": "@Kupiakos you are correct. I have edited the answer."}], "tags": [], "owner": {"reputation": 2306, "user_id": 1805901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D1Qlu.jpg?s=128&g=1", "display_name": "Florian Schaal", "link": "https://stackoverflow.com/users/1805901/florian-schaal"}, "is_accepted": false, "score": 0, "last_activity_date": 1465412810, "last_edit_date": 1465412810, "creation_date": 1465411590, "answer_id": 37710521, "question_id": 37710491, "link": "https://stackoverflow.com/questions/37710491/c-how-to-make-array-in-class-accessible-from-other-classes/37710521#37710521", "title": "C#: How to make array in class accessible from other classes?", "body": "<p>This can be done by marking the array <code>public</code></p>\n\n<pre><code>public string[,] colorBase = new string[3, 4];\ncolorBase[0, 0] = \"D60000\";     //Main Background.\ncolorBase[0, 1] = \"DB3E25\";     //Text Color.\ncolorBase[0, 2] = \"FF5940\";     //Text Shadow.\n</code></pre>\n\n<p>To use the class from another namespace you need add the following using statement on top. More about Access Modifiers can be found <a href=\"https://msdn.microsoft.com/en-us/library/ms173121.aspx\" rel=\"nofollow\">here</a></p>\n\n<pre><code>using sFirstApp;\n</code></pre>\n\n<p>From another place inside the app you can then say:</p>\n\n<pre><code>var theme = new colorSchemes();\nvar colors = theme.colorBase;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 6352535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fJ5Kb.png?s=128&g=1", "display_name": "Jeremy Kato", "link": "https://stackoverflow.com/users/6352535/jeremy-kato"}, "edited": false, "score": 1, "creation_date": 1465412194, "post_id": 37710627, "comment_id": 62895321, "body": "You probably should change the parameters to take two <code>int</code>s - it&#39;s easily possible that he could add items to the other dimensions of the array."}], "tags": [], "owner": {"reputation": 635, "user_id": 4663059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-fLiJ1utJdi8/AAAAAAAAAAI/AAAAAAAAANE/MM81uL22wo0/photo.jpg?sz=128", "display_name": "DanielGatti", "link": "https://stackoverflow.com/users/4663059/danielgatti"}, "is_accepted": false, "score": 2, "last_activity_date": 1465412399, "last_edit_date": 1465412399, "creation_date": 1465411890, "answer_id": 37710627, "question_id": 37710491, "link": "https://stackoverflow.com/questions/37710491/c-how-to-make-array-in-class-accessible-from-other-classes/37710627#37710627", "title": "C#: How to make array in class accessible from other classes?", "body": "<p>You can create a public method in the class of the array.</p>\n\n<pre><code>public string GetColorBase(int position1, int position2){\n    return colorBase[position1, position2];\n}\n</code></pre>\n\n<p>Then use the method, for example</p>\n\n<pre><code>colorSchemes oColorSchemes = new colorSchemes();\nstring ColorBase = oColorSchemes.GetColorBase(0, 1);\n</code></pre>\n\n<p>Thanks @JeremyKato for correction</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 6437145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8714a52b1458c182b569b60dee4fff5?s=128&d=identicon&r=PG&f=1", "display_name": "AleRemote225", "link": "https://stackoverflow.com/users/6437145/aleremote225"}, "edited": false, "score": 0, "creation_date": 1465413729, "post_id": 37710671, "comment_id": 62896149, "body": "The reason I wanted to store colors in 2 Dimensional Arrays is so I could store SelectedTheme # in App Settings and then simply load it everywhere as: ColorScheme[theme#][theme Element]"}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "reply_to_user": {"reputation": 83, "user_id": 6437145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8714a52b1458c182b569b60dee4fff5?s=128&d=identicon&r=PG&f=1", "display_name": "AleRemote225", "link": "https://stackoverflow.com/users/6437145/aleremote225"}, "edited": false, "score": 0, "creation_date": 1465413869, "post_id": 37710671, "comment_id": 62896217, "body": "@AleRemote225 In this case, the theme could very well be a number. I&#39;ll edit the question."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "reply_to_user": {"reputation": 83, "user_id": 6437145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8714a52b1458c182b569b60dee4fff5?s=128&d=identicon&r=PG&f=1", "display_name": "AleRemote225", "link": "https://stackoverflow.com/users/6437145/aleremote225"}, "edited": false, "score": 0, "creation_date": 1465415374, "post_id": 37710671, "comment_id": 62897019, "body": "@AleRemote225 Sorry, I should have said &quot;edit my answer&quot;."}], "tags": [], "owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "is_accepted": true, "score": 5, "last_activity_date": 1465415340, "last_edit_date": 1465415340, "creation_date": 1465412058, "answer_id": 37710671, "question_id": 37710491, "link": "https://stackoverflow.com/questions/37710491/c-how-to-make-array-in-class-accessible-from-other-classes/37710671#37710671", "title": "C#: How to make array in class accessible from other classes?", "body": "<p>Don't use array indexes to arbitrarily mean something more than a position.\nUse named properties for each of these colors, and even better, use <a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.color.aspx\" rel=\"nofollow\"><code>System.Drawing.Color</code></a>.</p>\n\n<p>This would be a good style for maintanable, modern C#:</p>\n\n<pre><code>namespace FirstApp\n{\n    public static class ColorSchemes\n    {\n        public struct ThemeColors\n        {\n            public Color MainBackground { get; internal set;  }\n            public Color TextColor { get; internal set; }\n            public Color TextShadow { get; internal set;  }\n        }\n\n        private static readonly ThemeColors[] Colors =\n        {\n            new ThemeColors\n            {\n                MainBackground = Color.FromArgb(0xD6, 0x00, 0x00),\n                TextColor = Color.FromArgb(0xDB, 0x3E, 0x25),\n                TextShadow = Color.FromArgb(0xFF, 0x59, 0x40)\n            }\n        };\n\n        public static ThemeColors GetThemeColors(int themeIndex)\n        {\n            if (themeIndex &lt; 0 || themeIndex &gt;= Colors.Length)\n                throw new ArgumentOutOfRangeException();\n            return Colors[themeIndex];\n        }\n    }\n}\n</code></pre>\n\n<p>The colors can now be accessed with a simple, readable <code>ColorSchemes.GetThemeColors(0).TextColor</code>. They can also be loaded from other locations dynamically without breaking an API by using <a href=\"https://msdn.microsoft.com/en-us/library/x9fsa0sw.aspx\" rel=\"nofollow\">properties</a>. Additional themes can be added simply.</p>\n\n<p>For proper object oriented design, there should probably be a <code>Theme</code> class that returns a <code>ThemeColors</code> struct when requested for its colors instead of using a static <code>ColorSchemes</code> class.</p>\n\n<p>That could be implemented something like this (keep in mind explicit constructors should probably be used for much of this):</p>\n\n<pre><code>namespace FirstApp\n{\n    public class Theme\n    {\n        public struct ThemeColors\n        {\n            public Color MainBackground { get; internal set; }\n            public Color TextColor { get; internal set; }\n            public Color TextShadow { get; internal set; }\n        }\n\n        // Example other property\n        public string Name { get; set; }\n\n        public ThemeColors Colors { get; set; }\n    }\n\n    public static class DefaultThemes\n    {\n        public static Theme MainTheme =&gt;\n            new Theme\n            {\n                Name = \"Main Theme\",\n                Colors = new ThemeColors\n                {\n                    MainBackground = Color.FromArgb(0xD6, 0x00, 0x00),\n                    TextColor = Color.FromArgb(0xDB, 0x3E, 0x25),\n                    TextShadow = Color.FromArgb(0xFF, 0x59, 0x40)\n                }\n            };\n    }\n}\n</code></pre>\n\n<p>Then, you'd have <code>DefaultThemes.MainTheme.Colors.TextShadow</code>.</p>\n"}], "owner": {"reputation": 83, "user_id": 6437145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8714a52b1458c182b569b60dee4fff5?s=128&d=identicon&r=PG&f=1", "display_name": "AleRemote225", "link": "https://stackoverflow.com/users/6437145/aleremote225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 916, "favorite_count": 1, "accepted_answer_id": 37710671, "answer_count": 3, "score": 1, "last_activity_date": 1465415340, "creation_date": 1465411507, "last_edit_date": 1465415046, "question_id": 37710491, "link": "https://stackoverflow.com/questions/37710491/c-how-to-make-array-in-class-accessible-from-other-classes", "title": "C#: How to make array in class accessible from other classes?", "body": "<p>I am learning C# and I am trying to put color schemes/themes into Multidimentional Array so I can access them from any other class.</p>\n\n<p>This is my code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace sFirstApp\n{\n    public class colorSchemes\n    {\n        string[,] colorBase = new string[3, 4];\n        colorBase[0, 0] = \"D60000\";     //Main Background.\n        colorBase[0, 1] = \"DB3E25\";     //Text Color.\n        colorBase[0, 2] = \"FF5940\";     //Text Shadow.\n    }\n}\n</code></pre>\n\n<p>Visual Studio keeps saying:\nThe name 'colorBase' does not exist in the current context.</p>\n\n<p>Where is my problem and how is this kind of class called?</p>\n\n<p>Also the reason I am trying to use 2D array is because I want 1st dimension of array to specify Theme #.</p>\n\n<p>I am planning to store Theme # in App Settings as number, then simply use 2D arrays like:</p>\n\n<p>ColorTheme[theme #][theme element]</p>\n"}, {"tags": ["c#", ".net", "listbox", "contextmenustrip", "listboxitems"], "comments": [{"owner": {"reputation": 171, "user_id": 5032914, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eXKAN.jpg?s=128&g=1", "display_name": "Akhilesh", "link": "https://stackoverflow.com/users/5032914/akhilesh"}, "edited": false, "score": 0, "creation_date": 1465412633, "post_id": 37710419, "comment_id": 62895541, "body": "This code is working for me ! when i selected any item in listbox it is showing me contextmenustrip and when you click inside listbox (not select any item again) then it is not showing contextmenustrip for me!"}, {"owner": {"reputation": 870, "user_id": 4522501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/929253393772654/picture?type=large", "display_name": "Javier Salas", "link": "https://stackoverflow.com/users/4522501/javier-salas"}, "reply_to_user": {"reputation": 171, "user_id": 5032914, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eXKAN.jpg?s=128&g=1", "display_name": "Akhilesh", "link": "https://stackoverflow.com/users/5032914/akhilesh"}, "edited": false, "score": 0, "creation_date": 1465414143, "post_id": 37710419, "comment_id": 62896357, "body": "Not sure why it&#39;s not working, I found another solution, I&#39;ll post it here."}], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 4522501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/929253393772654/picture?type=large", "display_name": "Javier Salas", "link": "https://stackoverflow.com/users/4522501/javier-salas"}, "is_accepted": false, "score": 1, "last_activity_date": 1465414702, "creation_date": 1465414702, "answer_id": 37711472, "question_id": 37710419, "link": "https://stackoverflow.com/questions/37710419/how-to-display-the-contextmenustrip-when-item-is-selected-in-a-list-box-c-net/37711472#37711472", "title": "How to display the ContextMenuStrip when item is selected in a list box c# .net", "body": "<p>I did by this way and it worked!</p>\n\n<pre><code>private void listbox_MouseDown(object sender, MouseEventArgs e)\n{\n    ShowMenuStrip = listbox.IndexFromPoint(e.Location) &gt;= 0; //This is a global bool variable\n\n    if (ShowMenuStrip)\n       listbox.SelectedIndex = listbox.IndexFromPoint(e.Location);\n    else\n       listbox.SelectedIndex = -1;          \n}\n\nprivate void ContextMenuStrip_Opening(object sender, CancelEventArgs e)\n{\n    e.Cancel = !ShowMenuStrip;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1352, "user_id": 4057416, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vtBTZ.jpg?s=128&g=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/4057416/mohsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1473155166, "last_edit_date": 1473155166, "creation_date": 1465415770, "answer_id": 37711764, "question_id": 37710419, "link": "https://stackoverflow.com/questions/37710419/how-to-display-the-contextmenustrip-when-item-is-selected-in-a-list-box-c-net/37711764#37711764", "title": "How to display the ContextMenuStrip when item is selected in a list box c# .net", "body": "<p>Use <code>opening</code> event of <code>ContextMenuStrip</code></p>\n\n<pre><code>void cms_Opening(object sender, System.ComponentModel.CancelEventArgs e)\n{\n    int SelectedIndex = lbSMTPEmails.IndexFromPoint( lbSMTPEmails.PointToClient(Cursor.Position) );\n\n   if (SelectedIndex == -1)\n        e.Cancel = true;        \n    else\n    {\n        lbSMTPEmails.SelectedIndex = SelectedIndex;            \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 870, "user_id": 4522501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/929253393772654/picture?type=large", "display_name": "Javier Salas", "link": "https://stackoverflow.com/users/4522501/javier-salas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473155166, "creation_date": 1465411303, "question_id": 37710419, "link": "https://stackoverflow.com/questions/37710419/how-to-display-the-contextmenustrip-when-item-is-selected-in-a-list-box-c-net", "title": "How to display the ContextMenuStrip when item is selected in a list box c# .net", "body": "<p>I'm trying select an item from list box when is right clicked and show the ContextMenuStrip to display my options available, but when I click everywhere in the control (list box) is showing the ContextMenuStrip.</p>\n\n<p>This is what I have in code:</p>\n\n<pre><code>private void lbSMTPEmails_MouseDown(object sender, MouseEventArgs e)\n{       \n       int SelectedIndex = lbSMTPEmails.IndexFromPoint(e.X, e.Y);\n\n       if (SelectedIndex == -1)\n            lbSMTPEmails.ContextMenuStrip.Hide();            \n        else\n        {\n            lbSMTPEmails.SelectedIndex = SelectedIndex;\n            lbSMTPEmails.ContextMenuStrip.Show();\n        }\n}\n</code></pre>\n\n<p>do you have any idea how to solve this?</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 1735, "user_id": 1902664, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48a08b9bbae26bd794af241914a93f42?s=128&d=identicon&r=PG", "display_name": "cocogorilla", "link": "https://stackoverflow.com/users/1902664/cocogorilla"}, "edited": false, "score": 0, "creation_date": 1465411610, "post_id": 37710501, "comment_id": 62894950, "body": "That doesn&#39;t merit out.  When I use first or default, my &quot;DefaultIfEmpty&quot; is ignored and the function returns null."}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 1, "last_activity_date": 1465411895, "last_edit_date": 1465411895, "creation_date": 1465411521, "answer_id": 37710501, "question_id": 37710390, "link": "https://stackoverflow.com/questions/37710390/linq-filter-cannot-appear-after-default/37710501#37710501", "title": "linq filter cannot appear after default?", "body": "<p>You are supposed to use <code>FirstOrDefault()</code>, so that when the array doesn't any match, a default value is returned, instead of throwing an exception.</p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>In the <code>Test1</code>, after the <code>Where</code> clause, the resulting sequence becomes empty. When <code>DefaultIfEmpty</code> is applied, the resulting sequence will contains a single element, <code>\"not found\"</code>.</p>\n\n<p>In the <code>Test2</code>, when <code>DefaultIfEmpty</code> is applied, the sequence isn't filtered yet. Therefore, the same sequence is passed along. However, when<code>First(predicate)</code> tries to reduce the sequence, there is nothing that can come out, which is why <code>InvalidOperationException</code> occured.</p>\n"}, {"comments": [{"owner": {"reputation": 1735, "user_id": 1902664, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48a08b9bbae26bd794af241914a93f42?s=128&d=identicon&r=PG", "display_name": "cocogorilla", "link": "https://stackoverflow.com/users/1902664/cocogorilla"}, "edited": false, "score": 0, "creation_date": 1465413231, "post_id": 37710646, "comment_id": 62895893, "body": "This makes sense to me, I had not considered order of operations being important... and I thought DefaultIfEmpty setup a default for later operators to use if they returned nothing.  It behaves as you describe."}], "tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": true, "score": 2, "last_activity_date": 1465411973, "creation_date": 1465411973, "answer_id": 37710646, "question_id": 37710390, "link": "https://stackoverflow.com/questions/37710390/linq-filter-cannot-appear-after-default/37710646#37710646", "title": "linq filter cannot appear after default?", "body": "<p>The order of the LINQ methods is important, consider what each method does to the input enumerable (<code>{ \"oranges\", \"pears\", \"pineapples\" }</code>):</p>\n\n<pre><code>public static string Test1(params string[] input)\n{\n    return input\n        .Where(x =&gt; x == \"apples\") // empty enumerable, because no item matches \"apples\"\n        .DefaultIfEmpty(\"not found\") // {\"not found\"}, since the enumerable is empty\n        .First(); //\"not found\", since we have this item\n} \n\npublic static string Test2(params string[] input)\n{\n    return input\n        .DefaultIfEmpty(\"not found\") // { \"oranges\", \"pears\", \"pineapples\" }\n                                     //i.e., nothing changes, because input is not empty\n        .First(x =&gt; x == \"apples\"); //Exception because there is no\n                                    //item that is equal to \"apples\"\n}\n</code></pre>\n\n<p>If you change the last method from <code>First</code> to <code>FirstOrDefault</code>, that would produce <code>null</code> because <code>default(string)</code> is <code>null</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1735, "user_id": 1902664, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48a08b9bbae26bd794af241914a93f42?s=128&d=identicon&r=PG", "display_name": "cocogorilla", "link": "https://stackoverflow.com/users/1902664/cocogorilla"}, "edited": false, "score": 0, "creation_date": 1465417451, "post_id": 37711525, "comment_id": 62898215, "body": "the question isn&#39;t what architecture would be better... the example is contrived.  The question is about how DefaultIfEmpty works.  Yacoub&#39;s answer wins because he points out &quot;order matters&quot;, which I didn&#39;t understand."}], "tags": [], "owner": {"reputation": 299, "user_id": 2414540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0HVr.jpg?s=128&g=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/2414540/spencer"}, "is_accepted": false, "score": 0, "last_activity_date": 1465414924, "creation_date": 1465414924, "answer_id": 37711525, "question_id": 37710390, "link": "https://stackoverflow.com/questions/37710390/linq-filter-cannot-appear-after-default/37711525#37711525", "title": "linq filter cannot appear after default?", "body": "<p>I agree with Xiaoy312.  The FirstOrDefault method is better.  Then a check to see if its null.</p>\n\n<pre><code>public static string Test2(params string[] input)\n{\n     return input.FirstOrDefault(x =&gt; x == \"apples\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1735, "user_id": 1902664, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48a08b9bbae26bd794af241914a93f42?s=128&d=identicon&r=PG", "display_name": "cocogorilla", "link": "https://stackoverflow.com/users/1902664/cocogorilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 37710646, "answer_count": 3, "score": 1, "last_activity_date": 1465418359, "creation_date": 1465411193, "last_edit_date": 1465418359, "question_id": 37710390, "link": "https://stackoverflow.com/questions/37710390/linq-filter-cannot-appear-after-default", "title": "linq filter cannot appear after default?", "body": "<p>I have been stymied trying to rewrite a bit of imperative code in LINQ until I realized what I was missing.  But I don't know why this is an issue.  Consider the following.  The test fails running <code>Test.Test2(testList)</code> with </p>\n\n<blockquote>\n  <p>Sequence contains no matching elements</p>\n</blockquote>\n\n<p>In the past, I've treated these forms interchangeably, writing code smaller by pushing my predicates to the <code>First</code>, <code>Single</code>, etc... clauses.  Clearly I cannot do that when a <code>DeafultIfEmpty</code> is involved.  Is this because using <code>Where</code> and <code>First</code>, <code>Single</code>, etc are not interchangeable?  Or, is it because the <code>DefaultIfEmpty</code> clause introduces a complication?</p>\n\n<p><strong>edit 1</strong>\nI added a test to show that FirstOrDefault does not work.  It fails with \"not found\" not equal to (null).</p>\n\n<pre><code>public static class Test\n{\n    public static string Test1(params string[] input)\n    {\n        return input\n            .Where(x =&gt; x == \"apples\")\n            .DefaultIfEmpty(\"bannanas\")\n            .First();\n    }\n\n    public static string Test2(params string[] input)\n    {\n        return input\n            .DefaultIfEmpty(\"bannanas\")\n            .First(x =&gt; x == \"apples\");\n    }\n\n    public static string Test3(params string[] input)\n    {\n        return input\n            .DefaultIfEmpty(\"bannanas\")\n            .FirstOrDefault(x =&gt; x == \"apples\");\n    }\n}\n\npublic class TestStuff\n{\n    [Fact]\n    public static void TestOneAndTwo()\n    {\n        var testList = new string[] { \"oranges\", \"pears\", \"pineapples\" };\n        var one = Test.Test1(testList);\n        var two = Test.Test2(testList);\n        Assert.Equal(one, two);\n    }\n\n    [Fact]\n    public static void TestOneAndThree()\n    {\n        var testList = new string[] { \"oranges\", \"pears\", \"pineapples\" };\n        var one = Test.Test1(testList);\n        var three = Test.Test3(testList);\n        Assert.Equal(one, three);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sharp-snmp"], "comments": [{"owner": {"reputation": 3498, "user_id": 646765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388c9a8c75261488488345aba7f78d3b?s=128&d=identicon&r=PG", "display_name": "Jerzyk", "link": "https://stackoverflow.com/users/646765/jerzyk"}, "edited": false, "score": 1, "creation_date": 1465412092, "post_id": 37710379, "comment_id": 62895254, "body": "I&#39;m afraid, that  functions you are looking for are implemented in Pro version of this library <a href=\"http://pro.sharpsnmp.com/en/latest/getting-started/assembly-features.html#name-oid-translation\" rel=\"nofollow noreferrer\">pro.sharpsnmp.com/en/latest/getting-started/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 6441914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9088957b9203715a8081e91f4a26ec9d?s=128&d=identicon&r=PG&f=1", "display_name": "D. Edwards", "link": "https://stackoverflow.com/users/6441914/d-edwards"}, "reply_to_user": {"reputation": 3498, "user_id": 646765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388c9a8c75261488488345aba7f78d3b?s=128&d=identicon&r=PG", "display_name": "Jerzyk", "link": "https://stackoverflow.com/users/646765/jerzyk"}, "edited": false, "score": 0, "creation_date": 1465509617, "post_id": 37710379, "comment_id": 62944831, "body": "Thanks, a confirmation of that suspicion is just what I was looking for."}], "owner": {"reputation": 1, "user_id": 6441914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9088957b9203715a8081e91f4a26ec9d?s=128&d=identicon&r=PG&f=1", "display_name": "D. Edwards", "link": "https://stackoverflow.com/users/6441914/d-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 691, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1616397645, "creation_date": 1465411154, "question_id": 37710379, "link": "https://stackoverflow.com/questions/37710379/how-to-do-manager-mib-parsing-with-sharpsnmp", "title": "How to do manager MIB parsing with SharpSNMP", "body": "<p>I just want my C# .NET manager code to be able to do SNMP V2 sets and gets using the variable and table names defined in the MIB and not have to use the long OID numeric string to make the code easier to read and maintain.  I am not developing a custom agent.</p>\n\n<p>Is there a way to do this with the SharpSNMP library?  I know that there is also a Sharp SNMP MIB compiler pro, but its not obvious to me if that is only for agent creation or if it can also be used with the manager software to parse the MIB file and understand the interface.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["c#", "winforms", "datagridview", "autosize", "datagridviewcomboboxcell"], "comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1465411657, "post_id": 37710360, "comment_id": 62894978, "body": "Is the width of that drop-down button known outside of that Paint event?"}, {"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1465412486, "post_id": 37710360, "comment_id": 62895466, "body": "@DonBoitnott No, but the width is specified in the paint event as <code>e.CellBounds.Height</code> so perhaps we have it anyway?"}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1465412668, "post_id": 37710360, "comment_id": 62895570, "body": "I don&#39;t use DGV, so I don&#39;t know what events you might have available, but I&#39;d be looking for (in order):  a direct override of the column auto-size; something that fires after a resize; or <code>ColumnWidthChanged</code>.  You should be able to use one of those to figure out if it&#39;s the column you care about and add a bit more width for your button.  The AutoSize is never going to know about it, so you have to do it by hand."}], "answers": [{"comments": [{"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465413775, "post_id": 37711012, "comment_id": 62896169, "body": "Thanks! Works great."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 1, "creation_date": 1465419114, "post_id": 37711012, "comment_id": 62899059, "body": "put <code>ComboBoxRenderer.DrawDropDownButton...</code> at the end of drawing, the button should be rendered above text. Currently as you an see the text is drawn over combo box button. You should draw combo box button after you draw text."}, {"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465419279, "post_id": 37711012, "comment_id": 62899133, "body": "I got you now. Good thinking! I took <i>wnd</i> to mean <i>window</i> and not <i>end</i> :)."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465419429, "post_id": 37711012, "comment_id": 62899214, "body": ";) yes it was a typo. I removed the comment."}, {"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465420277, "post_id": 37711012, "comment_id": 62899591, "body": "Just one side effect of using padding. When I go to edit and display the combo it is not full cell width because of the padding either side. Understand? At the moment my columns are wide enough I do not need resizing. But the answer might need to be revised to allow for the fact that the combo will now be too small."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1465420489, "post_id": 37711012, "comment_id": 62899689, "body": "Using the padding is a good workaround for changing preferred width of cell. As another option consider creating a custom column type. This way you have full control over column size."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 1, "creation_date": 1465420628, "post_id": 37711012, "comment_id": 62899739, "body": "Take a look at <a href=\"http://stackoverflow.com/a/37648097/3110834\">my answer here</a>. It&#39;s not about custom combo box cell, but it shows you how to control the size when using autosize style for a cell. Hope you find it useful :)"}, {"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1465488941, "post_id": 37711012, "comment_id": 62933653, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/114255/discussion-between-andrew-truckle-and-reza-aghaei\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 2, "last_activity_date": 1465420797, "last_edit_date": 1465420797, "creation_date": 1465413247, "answer_id": 37711012, "question_id": 37710360, "link": "https://stackoverflow.com/questions/37710360/autosize-a-datagridviewcomboboxcell-which-uses-custom-painting/37711012#37711012", "title": "Autosize a DataGridViewComboBoxCell which uses custom painting", "body": "<p>When you double click on a column header divider to make the column auto size, it makes the column width equals to widest cell.  Width of a combo box cell in auto size mode is calculated using:</p>\n\n<ul>\n<li>Width of formatted value</li>\n<li>width of combo box button </li>\n<li>cell style padding</li>\n<li>error icon width </li>\n<li>some extra padding around text and button and icon </li>\n</ul>\n\n<p><strong>Quick Fix</strong></p>\n\n<p>In your case those colored rectangles occupy space but their width and spaces around them will not be calculated when calculating auto size of cell. </p>\n\n<p>As a simple solution you can add some padding to the column. You can do it in designer, by editing columns and set the padding in <code>DefaultCellStyle</code> for the column. Also using code you can write for example:</p>\n\n<pre><code>column.DefaultCellStyle.Padding = new Padding(16,0,16,0);\n</code></pre>\n\n<p><strong>Long term solution</strong></p>\n\n<p>If the column is a reusable column type, I recommend you to create your custom column type. Then you can encapsulate painting logic and calculating size and some other features in your custom cell. If you decide to create your custom cell, you will find these methods related to the problem useful:</p>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcell.getpreferredsize(v=vs.110).aspx\" rel=\"nofollow\"><code>DataGridViewCell.GetPreferredSize</code></a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcell.paint(v=vs.110).aspx\" rel=\"nofollow\"><code>DataGridViewCell.Paint</code></a></li>\n</ul>\n"}], "owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 0, "accepted_answer_id": 37711012, "answer_count": 1, "score": 2, "last_activity_date": 1465420797, "creation_date": 1465411088, "last_edit_date": 1465412608, "question_id": 37710360, "link": "https://stackoverflow.com/questions/37710360/autosize-a-datagridviewcomboboxcell-which-uses-custom-painting", "title": "Autosize a DataGridViewComboBoxCell which uses custom painting", "body": "<p>My <code>DataGridView</code> has a <code>DataGridViewComboBoxColumn</code> on it. This is my custom cell painting handler:</p>\n\n<pre><code>private void dataGridView_CellPainting(object sender, DataGridViewCellPaintingEventArgs e)\n{\n    if (e.ColumnIndex == 1 &amp;&amp; e.RowIndex &gt;= 0)\n    {\n        e.PaintBackground(e.CellBounds, true);\n        //e.PaintContent(e.CellBounds);\n\n        Graphics g = e.Graphics;\n        Color c = Color.Empty;\n        string s = \"\";\n        Brush br = SystemBrushes.WindowText;\n        Brush brBack;\n        Rectangle rDraw;\n\n        rDraw = e.CellBounds;\n        rDraw = Rectangle.FromLTRB(e.CellBounds.Left, e.CellBounds.Top, e.CellBounds.Right, e.CellBounds.Bottom - 1);\n\n        brBack = Brushes.White;\n        Pen penGridlines = new Pen(dataGridView.GridColor);\n        g.DrawRectangle(penGridlines, rDraw);\n        g.FillRectangle(brBack, rDraw);\n        penGridlines.Dispose();\n\n        if (dataGridView.Rows[e.RowIndex].Cells[e.ColumnIndex].Value != null)\n        {\n            ComboboxColourItem oColourItem = (ComboboxColourItem)dataGridView.Rows[e.RowIndex].Cells[e.ColumnIndex].Value;\n            s = oColourItem.ToString();\n            c = oColourItem.Value;\n        }\n\n        int butSize = e.CellBounds.Height;\n        Rectangle rbut = new Rectangle(e.CellBounds.Right - butSize,\n                                       e.CellBounds.Top, butSize, butSize);\n        ComboBoxRenderer.DrawDropDownButton(e.Graphics, rbut,\n                   System.Windows.Forms.VisualStyles.ComboBoxState.Normal);\n\n\n        if (c != Color.Empty)\n        {\n            SolidBrush b = new SolidBrush(c);\n            Rectangle r = new Rectangle(e.CellBounds.Left + 6,\n                                         e.CellBounds.Top + 5, 10, 10);\n            g.FillRectangle(b, r);\n            g.DrawRectangle(Pens.Black, r);\n            g.DrawString(s, Form.DefaultFont, Brushes.Black,\n                         e.CellBounds.Left + 25, e.CellBounds.Top + 3);\n\n            b.Dispose();\n        }\n\n        e.Handled = true;\n    }\n}\n</code></pre>\n\n<p>When I go to autosize my populated column by double-clicking the right edit of the DVG this is what happens:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eBnVe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBnVe.jpg\" alt=\"Autosize\"></a></p>\n\n<p>How do I adjust the behaviour so that when autosizes it takes into account the combo dropdown?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "type-conversion"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1465411370, "post_id": 37710310, "comment_id": 62894819, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/678hzkk9.aspx\" rel=\"nofollow noreferrer\"><code>Double</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/b1e65aza.aspx\" rel=\"nofollow noreferrer\"><code>Float</code></a> both have a larger range than <a href=\"https://msdn.microsoft.com/en-us/library/364x0z75.aspx\" rel=\"nofollow noreferrer\"><code>Decimal</code></a>.  And the reason you cannot implicitly convert the other way is because of precision."}, {"owner": {"reputation": 571, "user_id": 1648559, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/92557c35c93ec5487813516d6cfe73f8?s=128&d=identicon&r=PG", "display_name": "Sometimes Code", "link": "https://stackoverflow.com/users/1648559/sometimes-code"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1465411671, "post_id": 37710310, "comment_id": 62894987, "body": "@juharr: Then double should accommodate decimal value but it can&#39;t.."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1465412767, "post_id": 37710310, "comment_id": 62895638, "body": "As I mentioned the reason double doesn&#39;t accommodate decimal is because, while double covers decimal&#39;s range, it has less precision. Thus conversions between the two could result in data loss either way."}], "owner": {"reputation": 571, "user_id": 1648559, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/92557c35c93ec5487813516d6cfe73f8?s=128&d=identicon&r=PG", "display_name": "Sometimes Code", "link": "https://stackoverflow.com/users/1648559/sometimes-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1465411553, "answer_count": 0, "score": 0, "last_activity_date": 1465418739, "creation_date": 1465410915, "last_edit_date": 1465418739, "question_id": 37710310, "link": "https://stackoverflow.com/questions/37710310/small-numeric-datatype-vs-large-numeric-datatype", "closed_reason": "Duplicate", "title": "Small numeric datatype vs Large numeric datatype", "body": "<p>I was playing with function overloading in C#. The below code made me to realize that double datatype can accommodate float value: </p>\n\n<pre><code>class program\n{\n    static void Main(string[] args)\n    {\n        test(2f);\n        Console.Read();\n    }\n\n    static void test(double a)\n    {\n        Console.WriteLine(\"double called\" + a);\n    }\n}\n</code></pre>\n\n<p>Same as above code, i also found that float can accommodate int value. Double can accommodate int and float both values. </p>\n\n<p>First i thought it is due to the range of the datatypes. </p>\n\n<p>But decimal changed my thought as below code is not compiling:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        test(2d);   //Invalid argument error\n        Console.Read();\n    }\n\n    static void test(decimal a)\n    {\n        Console.WriteLine(\"decimal called\" + a);\n    }\n}\n</code></pre>\n\n<p>Why decimal datatype can not accommodate float and double values, whereas double datatype can accommodate float value and float datatype can accommodate int value?</p>\n"}, {"tags": ["c#", "dll", "messagebox"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465411264, "post_id": 37710302, "comment_id": 62894762, "body": "When <code>MessageBox.Show()</code> exits, the window doesn&#39;t exist anymore. Your <code>FindWindow()</code> inside of <code>ShowMessageBox()</code> is after <code>Show()</code> has exited. Your <code>FindWindow()</code> inside of <code>CloseMessageBox()</code> should be able to find it, though (why are you calling <code>Start()</code> twice on the same thread, though?).You might consider using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644990.aspx\" rel=\"nofollow noreferrer\"><code>SetWindowsHookEx()</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd373640.aspx\" rel=\"nofollow noreferrer\"><code>SetWinEventHook()</code></a>, either one can tell you exactly when the message box window is created and destroyed..."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465411562, "post_id": 37710302, "comment_id": 62894925, "body": "... or better, just use <a href=\"http://www.codeproject.com/Articles/7914/MessageBoxTimeout-API\" rel=\"nofollow noreferrer\"><code>MessageBoxTimeout()</code></a> instead of sending <code>WM_CLOSE</code> manually."}, {"owner": {"reputation": 14917, "user_id": 1123020, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/78465afdabcd3781cf060e74fd28cfab?s=128&d=identicon&r=PG&f=1", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1123020/yoda"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465412643, "post_id": 37710302, "comment_id": 62895552, "body": "@RemyLebeau One thread creates MessageBox other one closes it after 1 sec so the rest of GUI can proceed even when the MessageBox is still displayed.  After analyzing your post I think that this should work <a href=\"http://wklej.org/id/2536551/\" rel=\"nofollow noreferrer\">wklej.org/id/2536551</a> but it doesn&#39;t"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1465414172, "post_id": 37710302, "comment_id": 62896377, "body": "there is a timing issue in your code. The closing thread starts the showing thread and then <i>immediately</i> calls <code>FindWindow()</code> before the showing thread has a chance to call <code>MessageBox.Show()</code>. The <code>Sleep()</code> gives the showing thread time to show the messagebox. Try adding <code>Sleep(0)</code> to the beginning of the closing thread so the OS can task switch to the showing thread.  Or better, have the showing thread start and stop the closing thread, not the other way around. Or better, stop this nonsense and just use <code>MessageBoxTimeout()</code> and get rid of your closing thread altogether."}], "answers": [{"tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416894, "creation_date": 1465416894, "answer_id": 37712078, "question_id": 37710302, "link": "https://stackoverflow.com/questions/37710302/the-handle-to-window-is-not-found-just-after-showing-messagebox-but-after-1-seco/37712078#37712078", "title": "The handle to window is not found just after showing MessageBox but after 1 second it is found", "body": "<p>I doubt .NET world <code>MessageBox.Show</code> message box can be found or controlled by native API calls. Better try with <code>MessageBox</code> API itself. Also ensure that API import and string are both Unicode. I have had problems with <code>FindWindow</code> also when searching by caption!</p>\n\n<p>I would suggest to give Spy++ tool a try on how windows are placed, and if they can be found. Z-order, parent/child relationship also matters.</p>\n"}], "owner": {"reputation": 14917, "user_id": 1123020, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/78465afdabcd3781cf060e74fd28cfab?s=128&d=identicon&r=PG&f=1", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1123020/yoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465425017, "creation_date": 1465410892, "last_edit_date": 1465425017, "question_id": 37710302, "link": "https://stackoverflow.com/questions/37710302/the-handle-to-window-is-not-found-just-after-showing-messagebox-but-after-1-seco", "title": "The handle to window is not found just after showing MessageBox but after 1 second it is found", "body": "<p>I show <code>MessageBox</code> and close it after 1 second by finding it by <code>FindWindow</code> function and then sending <code>const UInt32 WM_CLOSE = 0x0010;</code> to this <code>MessageBox</code>. The closing is success, but before I close it I try to move it to the upperright corner of the screen, but just after creating <code>MessageBox</code> by <code>MessageBox.Show()</code> it cannot be found.</p>\n\n<pre><code>    [DllImport(\"user32.dll\", SetLastError = true, PreserveSig = true)]\n    static extern IntPtr FindWindow(IntPtr ZeroOnly, string lpWindowName);\n\n    [DllImport(\"user32.Dll\")]\n    static extern int PostMessage(IntPtr hWnd, UInt32 msg, int wParam, int lParam);\n\n    [DllImport(\"user32.Dll\")]\n    static extern int MoveWindow(IntPtr hWnd, int X, int Y, int nWidth, int nHeight, bool bRepaint);\n\n\n    const UInt32 WM_CLOSE = 0x0010;\n\n    static Thread thread;\n\n\n    static void CloseMessageBox() {\n        IntPtr hWnd = FindWindow(IntPtr.Zero, \"Success!\");\n        if (hWnd != IntPtr.Zero) {//ALWAYS FALSE DOES NOT FIND THE MESSAGEBOX\n            MoveWindow(hWnd, 0, 0, 300, 300, true);\n            // PostMessage(hWnd, WM_CLOSE, 0, 0);\n            Debug.WriteLine(\"HERE 1\");\n        }\n\n    }\n\n    static void ShowMessageBox() {\n        MessageBox.Show(\"Data has been loaded!\", \"Success!\");\n        IntPtr hWnd = FindWindow(IntPtr.Zero, \"Success!\");\n        if (hWnd != IntPtr.Zero) {//ALWAYS FALSE DOES NOT FIND THE MESSAGEBOX\n            Debug.WriteLine(\"HERE 2\");\n            MoveWindow(hWnd, 0, 0, 300, 300, true);\n        }\n    }\n\n    public static void Seed() {\n        thread = new Thread(ShowMessageBox);\n            new Thread(() =&gt; {\n                thread.Start();\n                Thread.Sleep(1000);\n                CloseMessageBox();\n            }).Start();\n   }\n</code></pre>\n"}]