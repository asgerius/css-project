[{"tags": ["c#", ".net", "visual-studio-2013", "namespaces"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 3119175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb31ebeef07d72f3fb7fe11736903af?s=128&d=identicon&r=PG&f=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/3119175/mac"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438820567, "post_id": 31844790, "comment_id": 51611166, "body": "Unfortunately, yes. See at <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2010/03/09/do-not-name-a-class-the-same-as-its-namespace-part-one.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/ericlippert/archive/2010/03/09/&hellip;</a> to understand why they shouldn&#39;t use the same name to both class and namespace."}, {"owner": {"reputation": 131, "user_id": 3119175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb31ebeef07d72f3fb7fe11736903af?s=128&d=identicon&r=PG&f=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/3119175/mac"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438822415, "post_id": 31844790, "comment_id": 51611583, "body": "I saw @sprinter252 &#39;s answer and it works as well. In that case you should define an alias to a type instead of a namespace."}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438822646, "post_id": 31844790, "comment_id": 51611637, "body": "For me, just using <code>using BCrypt.Net;</code> inside the namespace works, but <code>Net</code> is shown as an error by VS2013 and all the other options that work show it as well."}, {"owner": {"reputation": 131, "user_id": 3119175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb31ebeef07d72f3fb7fe11736903af?s=128&d=identicon&r=PG&f=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/3119175/mac"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438825323, "post_id": 31844790, "comment_id": 51612226, "body": "I created a project on VS2013 Ultimate using the library and it has worked fine. When I add <code>using BCrypt.Net;</code> inside the namespace no error is shown. Even with @sprint252 suggestion works fine. Maybe VS installation issue?"}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438827556, "post_id": 31844790, "comment_id": 51612767, "body": "hmmm maybe, I have it inside a Class Library project btw"}], "tags": [], "owner": {"reputation": 131, "user_id": 3119175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb31ebeef07d72f3fb7fe11736903af?s=128&d=identicon&r=PG&f=1", "display_name": "MAC", "link": "https://stackoverflow.com/users/3119175/mac"}, "is_accepted": false, "score": 1, "last_activity_date": 1438819724, "creation_date": 1438819724, "answer_id": 31844790, "question_id": 31844709, "link": "https://stackoverflow.com/questions/31844709/conflicting-namespace-resolution/31844790#31844790", "title": "Conflicting Namespace Resolution", "body": "<p>I think you can solve this issue adding an alias to the namespace. Something like this:</p>\n\n<pre><code>using BCr = BCrypt.Net;\n\nnamespace Program {\n\n   public class MyClass {\n\n     public void MyMethod() {\n        var s = BCr.BCrypt.HashPassword(\"234\");\n     }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438820202, "post_id": 31844797, "comment_id": 51611090, "body": "Works the same as <code>using BCrypt.Net;</code> inside the namespace, VS2013 shows the same error, compiles ok, executes ok."}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438820596, "post_id": 31844797, "comment_id": 51611171, "body": "mFeinstein I added a screenshot that shows my studio. Compile and run is ok too."}, {"owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438820705, "post_id": 31844797, "comment_id": 51611193, "body": "try just <code>using BCrypt.Net;</code> instead of the alias, see if your VS shows any errors. I am in VS2013, which is yours?"}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "edited": false, "score": 0, "creation_date": 1438856429, "post_id": 31844797, "comment_id": 51626015, "body": "I use VS 2015 Enterprise"}], "tags": [], "owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "is_accepted": false, "score": 2, "last_activity_date": 1438820545, "last_edit_date": 1438820545, "creation_date": 1438819814, "answer_id": 31844797, "question_id": 31844709, "link": "https://stackoverflow.com/questions/31844709/conflicting-namespace-resolution/31844797#31844797", "title": "Conflicting Namespace Resolution", "body": "<p>Add</p>\n\n<pre><code>using BCrypt = BCrypt.Net.BCrypt;\n</code></pre>\n\n<p>to your usings:</p>\n\n<pre><code>namespace YourNamespace\n{\n    using BCrypt = BCrypt.Net.BCrypt;\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            BCrypt.HashPassword(\"234\");\n        }\n    }\n</code></pre>\n\n<p>Proofing screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DuM39.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DuM39.png\" alt=\"VS 2015 likes this\"></a></p>\n"}], "owner": {"reputation": 9969, "user_id": 1227166, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GrxLO.jpg?s=128&g=1", "display_name": "Michel Feinstein", "link": "https://stackoverflow.com/users/1227166/michel-feinstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1438822715, "creation_date": 1438819129, "last_edit_date": 1438822715, "question_id": 31844709, "link": "https://stackoverflow.com/questions/31844709/conflicting-namespace-resolution", "title": "Conflicting Namespace Resolution", "body": "<p>I am using a library called <a href=\"https://www.nuget.org/packages/BCrypt-Official/\" rel=\"nofollow noreferrer\">BCrypt.net</a>, the author made the Namespace the same name as the Class, so the Class full path is: BCrypt.Net.BCrypt, where BCrypt.Net is the Namespace and BCrypt is the Class name.</p>\n\n<p>I am trying to use in my code, like all the examples I can find use, like:</p>\n\n<pre><code>BCrypt.HashPassword(\"234\");\n</code></pre>\n\n<p>But Visual Studio complains saying:</p>\n\n<blockquote>\n  <p>Error 3   The type or namespace name 'HashPassword' does not exist in\n  the namespace 'BCrypt' (are you missing an assembly\n  reference?)   </p>\n</blockquote>\n\n<p>I have the assembly in my project (since I got it from NuGet):</p>\n\n<p><a href=\"https://i.stack.imgur.com/dYe2h.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dYe2h.jpg\" alt=\"Assembly Reference\"></a></p>\n\n<p>If I add a <code>using BCrypt.Net;</code> or <code>using BCrypt;</code>, before my namespace the error says the same.\nI I add it inside my namespace, something funny happens. I works, the code compiles and executes. BUT Visual Studio shows an error! I can't understand how it compiles with an error.</p>\n\n<pre><code>namespace Test.Data\n{\n    using BCrypt.Net; // The 'Net' is marked with a Red Error line in VS2013\n    ....\n    string s = BCrypt.HashPassword(\"234\");\n</code></pre>\n\n<blockquote>\n  <p>Error 3   The type name 'Net' does not exist in the type >'BCrypt.Net.BCrypt' </p>\n</blockquote>\n\n<p>The error (but compiles and executes fine) is the same for <code>using BCrypt = BCrypt.Net.BCrypt;</code></p>\n\n<p>So what's going on?</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>I know I can use it as <code>BCrypt.Net.BCrypt.HashPassword(\"234\");</code>, but I want to avoid it.</p>\n"}, {"tags": ["c#", "vb.net", "visual-studio", "visual-studio-2013"], "comments": [{"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438818981, "post_id": 31844647, "comment_id": 51610779, "body": "What about <a href=\"https://visualstudiogallery.msdn.microsoft.com/7ec5a225-dea4-47ae-8ebc-450d2980937f\" rel=\"nofollow noreferrer\">visualstudiogallery.msdn.microsoft.com/&hellip;</a> which is suggested by that same German guy?"}, {"owner": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "edited": false, "score": 2, "creation_date": 1438819210, "post_id": 31844647, "comment_id": 51610833, "body": "Resharper (one of the most popular Visual Studio extensions) can do that, (extract string to resources), among dozens of other refactorings: <a href=\"https://www.jetbrains.com/resharper/features/internationalization.html\" rel=\"nofollow noreferrer\">jetbrains.com/resharper/features/internationalization.html</a>"}, {"owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438819319, "post_id": 31844647, "comment_id": 51610855, "body": "@sprinter252 Failed to install : <code>VSIXInstaller.NoApplicableSKUsException: This extension is not installed on any of the currently installed products.</code>"}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438819504, "post_id": 31844647, "comment_id": 51610898, "body": "Is it giving you a list of applicable versions in output window. In doubt you should contact them."}, {"owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "reply_to_user": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "edited": false, "score": 0, "creation_date": 1438819837, "post_id": 31844647, "comment_id": 51610996, "body": "@Nikolay Don&#39;t you know a free extension which can do that ? Because this one is not and I would not pay for that (I&#39;m 16 years old)..."}, {"owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438819997, "post_id": 31844647, "comment_id": 51611041, "body": "@sprinter252 I opened a &quot;discussion&quot; on your <a href=\"https://visualstudiogallery.msdn.microsoft.com/7ec5a225-dea4-47ae-8ebc-450d2980937f/view/Discussions\" rel=\"nofollow noreferrer\">link</a>. I&#39;m waiting for an answer. Thank for the help ;)"}, {"owner": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "edited": false, "score": 0, "creation_date": 1438820205, "post_id": 31844647, "comment_id": 51611094, "body": "It&#39;s free for students/schools, check &#39;student&#39; license: <a href=\"https://www.jetbrains.com/student/\" rel=\"nofollow noreferrer\">jetbrains.com/student</a>. As for the free alternative, I&#39;m not sure."}, {"owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "reply_to_user": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "edited": false, "score": 0, "creation_date": 1438821314, "post_id": 31844647, "comment_id": 51611341, "body": "@Nikolay It&#39;s not entirely free (I&#39;ve to have a <a href=\"https://www.isic.org/\" rel=\"nofollow noreferrer\">ISIC card</a> and it costs 15\u20ac in France) but thank you anyway !"}], "owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 784, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1438818671, "creation_date": 1438818671, "question_id": 31844647, "link": "https://stackoverflow.com/questions/31844647/resource-refactoring-tool-for-visual-studio-2013", "title": "Resource Refactoring Tool for Visual Studio 2013", "body": "<p>I was searching for a way to <strong>extract hardcoded string values to a resource file</strong> to be able to easily edit the string values and maybe create translation files...</p>\n\n<p>I found a Addin : the <a href=\"http://resourcerefactor.codeplex.com/\" rel=\"nofollow\">Resource Refactoring Tool</a>. But there is <strong>two problems</strong> :</p>\n\n<ol>\n<li>It <strong>only works for Visual Studio 2012 and lower</strong> but I'm using the 2013 edition...</li>\n<li>So I've searched for an updated version... and I <a href=\"http://seeseekey.net/blog/113744\" rel=\"nofollow\">found one</a> (developped by a German) ! The new problem is that <strong>I fail to install it</strong>.</li>\n</ol>\n\n<p>In the <a href=\"http://seeseekey.net/wp-content/uploads/2014/09/ResourceRefactorTool2013.zip\" rel=\"nofollow\">linked zip file</a> on the previous website, there is a <strong>\"HowTo - Install.txt\" file which contains</strong> :</p>\n\n<blockquote>\n  <p>HowTo - Install</p>\n  \n  <ol>\n  <li>Copy all DLLs to <code>\"C:\\Program Files (x86)\\Power Toys for Visual Studio\\Resource Refactor Tool\"</code></li>\n  <li><strong>Copy <code>\"ResourceRefactor.AddIn\"</code> to <code>\"C:\\Users\\&lt;UserName&gt;\\AppData\\Roaming\\Microsoft\\MSEnvShared\\Addins\"</code></strong></li>\n  <li>(Re)Start Visual Studio.</li>\n  </ol>\n</blockquote>\n\n<p>At the <code>2.</code> I've a problem because <strong>I don't have the destination folder</strong> (<code>C:\\Users\\&lt;UserName&gt;\\AppData\\Roaming\\Microsoft\\MSEnvShared\\Addins</code>).</p>\n\n<p>I've created the folder (useless or not ?) and <strong>I've done all the instructions</strong>, but it <strong>doesn't work</strong>.</p>\n\n<p>I don't have <code>\"C:\\Users\\Drarig29\\Documents\\Visual Studio 2013\\Addins\"</code> also.</p>\n\n<p>Then <strong>I documented myself and I found <a href=\"http://www.infoq.com/news/2013/11/VS-2013-Extensions\" rel=\"nofollow\">this</a></strong>... I don't know what to do anymore.</p>\n\n<p>Please help !</p>\n\n<p>Regards, Drarig29.</p>\n"}, {"tags": ["c#", "sockets", "tcpclient", "tcplistener"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 0, "creation_date": 1438859896, "post_id": 31844905, "comment_id": 51628162, "body": "I am sending a four byte header with every message being sent and storing it in the byte[] header.  However, I&#39;m not prefixing that header with something to let me know it is the header so I&#39;ll give that a shot.  I thought that TCP guaranteed message order so I assumed the first four bytes should always have my message size. Is this not the case?"}, {"owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "reply_to_user": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 1, "creation_date": 1438866630, "post_id": 31844905, "comment_id": 51632752, "body": "TCP does guarantee but the identifier prevents alignment problems that might happen in subsequent messages, imagine it like this, you try to receive a message, something goes wrong and you only receive part of the message, later you try to receive another message using the same connection, you might get the rest of the old one in cache, this would cause some headaches. Another thing, I really recommend you to use a State Machine, when I read before the &quot;hack away&quot; section, it gave the appearance that you weren&#39;t receive the message size the first time."}, {"owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 0, "creation_date": 1438867198, "post_id": 31844905, "comment_id": 51633189, "body": "messageSize is reset after a full message is read so if it has a value of 0 it&#39;s assuming that it&#39;s the start of a new message.  This is working for the majority of the messaging (signing in to lobby works, chat msgs are sent properly, and most game state objects are sent) however on occasion I run into the above mentioned issue.  I will focus my attention on the contents of the byte[] when it is being passed into the BeginReceive to see if it&#39;s not properly being cleared.  I&#39;m making an assumption that this is what you are referring to when you mention &quot;cache&quot;."}, {"owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "reply_to_user": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 1, "creation_date": 1438867667, "post_id": 31844905, "comment_id": 51633595, "body": "Cache is controlled by the OS, it always write to it first and then send to your app, that&#39;s why you might have parts of old messages in there. And as I said, you might want to look into state machines so that your app can detect errors and self correct. It would make the code a way simpler to mantain."}, {"owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 0, "creation_date": 1438867944, "post_id": 31844905, "comment_id": 51633813, "body": "Can it be force cleared after a message has been received or when an exception occurs?  I&#39;ll look into state machines using .net.  Thanks for your assistance with this btw.  Much appreciated."}, {"owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "reply_to_user": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 1, "creation_date": 1438868782, "post_id": 31844905, "comment_id": 51634430, "body": "You can close the connection and open another one or, in the first state, try to receive anything before you send your message, anything that got stuck in the cache will be received instantly. Also, you are using the asynchronous version of the method, you may want to look at async/await, it might be strange at first, but it makes the code a lot easier, you can write sequential code and it will do the synchronization for you."}, {"owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "reply_to_user": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 1, "creation_date": 1438869209, "post_id": 31844905, "comment_id": 51634739, "body": "One problem I had in the past that you should be aware of, even thou you get the communication working, things will break, you may want to code the app in a way to allow the message to be resent without duplicating things."}, {"owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 0, "creation_date": 1441107346, "post_id": 31844905, "comment_id": 52535228, "body": "Marking this response as the answer.  The solution to my problem was modifying a wrapMessage function to return a message with a &quot;header&quot; label and a &quot;end of message&quot; label. Thank you Alexandre for the assistance."}], "tags": [], "owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "is_accepted": true, "score": 2, "last_activity_date": 1438820736, "creation_date": 1438820736, "answer_id": 31844905, "question_id": 31844571, "link": "https://stackoverflow.com/questions/31844571/problems-with-tcplistener-reading-data-from-socket-in-c/31844905#31844905", "title": "Problems with TcpListener reading data from socket in c#", "body": "<p>You are having problems because you don't know the first message size and sometimes you are getting more, sometimes less, sometimes you getting some of what's left in cache...</p>\n\n<p>An easy solution is to ALWAYS send the message size before the actual messages, something like:</p>\n\n<p>[MYHEADER][32 Bit Integer][Message Content]</p>\n\n<p>Lets supose that MYHEADER is ASCII, just an dummy identifier, in this case I would:</p>\n\n<p>1: Try to receive 12 bytes to catch the entire header (MYHEADER + 32Bit Integer) and don't do anything until you do. After that, if the header identifier IS NOT MYHEADER, then I would assume that the message got corrupted and would have something like a reset in the connection.</p>\n\n<p>2: After I confirmed that the header is ok, I would check the 32bit integer for the message size and allocate the necessary buffer. (You might want to limit the memory usage here, something like 6Mb max and if your messages go beyond this, add a index after the 32bit integer to specify the message part...)</p>\n\n<p>3: Try to receive until the message size specified in the header.</p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "edited": false, "score": 0, "creation_date": 1438865490, "post_id": 31855700, "comment_id": 51631860, "body": "I understand the bytes will vary, the case where I receive less than four bytes is an oversight on my part and will need to be handled.  What happens if the first four bytes of the stream don&#39;t actually contain the header you expect it to contain?  Won&#39;t I run into the same situation explained in the original post? I have tried using NetworkStream and MemoryStream, but it resulted in the same outcome as mentioned above.  The BinaryReader looks promising and I&#39;ll look further into it.  I used WCF in the past and wanted to gain an understanding of socket programming."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": false, "score": -1, "last_activity_date": 1438863867, "creation_date": 1438863867, "answer_id": 31855700, "question_id": 31844571, "link": "https://stackoverflow.com/questions/31844571/problems-with-tcplistener-reading-data-from-socket-in-c/31855700#31855700", "title": "Problems with TcpListener reading data from socket in c#", "body": "<p>You don't seem to have a good understanding of the fact that TCP is a stream of bytes without boundaries. For example your header reading will fail if you get less than 4 bytes in that read.</p>\n\n<p>A very simple way to receive a length prefixed message is using <code>BinaryReader</code>:</p>\n\n<pre><code>var length = br.ReadInt32();\nvar data = br.ReadBytes(length);\n</code></pre>\n\n<p>That's all. Make yourself familiar with all the standard BCL IO classes.</p>\n\n<p>Usually it is best not to use sockets at all. Use a higher level protocol. WCF is good.</p>\n"}], "owner": {"reputation": 176, "user_id": 3175464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vb5Jl.jpg?s=128&g=1", "display_name": "Jason Sgalla", "link": "https://stackoverflow.com/users/3175464/jason-sgalla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 31844905, "answer_count": 2, "score": 1, "last_activity_date": 1441107509, "creation_date": 1438818164, "last_edit_date": 1441107509, "question_id": 31844571, "link": "https://stackoverflow.com/questions/31844571/problems-with-tcplistener-reading-data-from-socket-in-c", "title": "Problems with TcpListener reading data from socket in c#", "body": "<p>I am having trouble reading large messages sent to a TcpListener from a TcpClient using BeginReceive / BeginSend in C#.  </p>\n\n<p>I have tried to append a four byte length header to my messages, but on occasion I will not receive it as the first packet which is causing problems.</p>\n\n<p>For example, I sent a serialized object that contains the values [204, 22, 0, 0] as the first four bytes of the byte array in my BeginSend.  What I receive on the server in the BeginReceive is [17, 0, 0, 0].  I have checked Wireshark when sending simple strings and the messages are going through, but there's a problem with my code.  Another example, is when I send \"A b c d e f g h i j k l m n o p q r s t u v w x y z 1 2 3 4 5 6 7 8 9 0\" to test I constantly receive \"p q r . . . 8 9 0\".</p>\n\n<p>I thought that if packets were received out of order or if one was dropped, TCP would handle the resubmission of the lost packets and/or reorder them before sending them up.  This would mean that my first four bytes should always contain my message size in the header.  However, looking at the above examples this isn't the case, or it is and my code is messed up somewhere.</p>\n\n<p>After the code below I just look if it's sending a particular command or type of object then responding based on what was received.</p>\n\n<p>One I have the core functionality in place and get a better understanding of the issue I can begin to refactor, but this really has me at a stand still.</p>\n\n<p>I've been banging my head against a wall for days trying to debug this.  I have read several articles and questions about similar problems, but I haven't found a way to apply the suggested fixes to this particular instance.</p>\n\n<p>Thanks in advance for your assistance with this.  </p>\n\n<p><em>The YahtzeeClient in the following code is just a wrapper around TcpClient with playerinformation.</em></p>\n\n<pre><code>    private void ReceiveMessageCallback(IAsyncResult AR)\n    {\n        byte[] response = new byte[0];\n        byte[] header = new byte[4];\n        YahtzeeClient c = (YahtzeeClient)AR.AsyncState;\n        try\n        {\n            // If the client is connected\n            if (c.ClientSocket.Client.Connected)\n            {\n                int received = c.ClientSocket.Client.EndReceive(AR);\n\n                // If we didn't receive a message or a message has finished sending\n                // reset the messageSize to zero to prepare for the next message.\n                if (received == 0)\n                {\n                    messageSize = 0;\n\n                    // Do we need to do anything else here to prepare for a new message?\n                    // Clean up buffers?\n                }\n                else\n                {\n                    // Temporary buffer to trim any blanks from the message received.\n                    byte[] tempBuff;\n\n                    // Hacky way to track if this is the first message in a series of messages.\n                    // If messageSize is currently set to 0 then get the new message size.\n                    if (messageSize == 0)\n                    {\n                        tempBuff = new byte[received - 4];\n\n                        // This will store the body of the message on the *first run only*.\n                        byte[] body = new byte[received - 4];\n\n                        // Only copy the first four bytes to get the length of the message.\n                        Array.Copy(_buffer, header, 4);\n\n                        // Copy the remainder of the message into the body.\n                        Array.Copy(_buffer, 4, body, 0, received - 4);\n\n                        messageSize = BitConverter.ToInt32(header, 0);\n\n                        Array.Copy(body, tempBuff, body.Length);\n                    }\n                    else\n                    {\n                        // Since this isn't the first message containing the header packet\n                        // we want to copy the entire contents of the byte array.\n                        tempBuff = new byte[received];\n                        Array.Copy(_buffer, tempBuff, received);\n                    }\n\n                    // MessageReceived will store the entire contents of all messages in this tranmission.\n                    // If it is an new message then initialize the array.\n                    if (messageReceived == null || messageReceived.Length == 0)\n                    {\n                        Array.Resize(ref messageReceived, 0);\n                    }\n\n                    // Store the message in the array.\n                    messageReceived = AppendToArray(tempBuff, messageReceived);\n\n                    if (messageReceived.Length &lt; messageSize)\n                    {\n                        // Begin receiving again to get the rest of the packets for this stream.\n                        c.ClientSocket.Client.BeginReceive(_buffer, 0, _buffer.Length, SocketFlags.None, ReceiveMessageCallback, c);\n                        // Break out of the function.  We do not want to proceed until we have a complete transmission.\n                        return;\n                    }\n\n                    // Send it to the console\n                    string message = Encoding.UTF8.GetString(messageReceived);\n</code></pre>\n\n<p>**Marked as resolved.  The solution was to wrap the message in a header and end of message terminator then modify the code to look for these indicators.</p>\n\n<p>The reasoning behind the use of sockets was due to constraints on the project where web services were not an option.                       </p>\n"}, {"tags": ["c#", "visual-studio-2012", "sql-server-express", "localdb"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4864716"}, "edited": false, "score": 0, "creation_date": 1438840573, "post_id": 31844800, "comment_id": 51616401, "body": "That&#39;s a common pitfall for me. I often forget to use the escape character."}], "tags": [], "owner": {"reputation": 41, "user_id": 5195504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cc9f3602a0278fa7f68933bc71943a?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyMadMax", "link": "https://stackoverflow.com/users/5195504/crazymadmax"}, "is_accepted": false, "score": 2, "last_activity_date": 1438838006, "last_edit_date": 1438838006, "creation_date": 1438819825, "answer_id": 31844800, "question_id": 31844552, "link": "https://stackoverflow.com/questions/31844552/connection-to-sql-server-express-from-visual-studio/31844800#31844800", "title": "Connection to SQL Server Express from Visual Studio", "body": "<p>Okay, a coworker found the solution.</p>\n\n<p>God, it was obvious...</p>\n\n<p>With the <code>@</code> behind the string, the correct data source was : </p>\n\n<pre><code>@\"Data Source=(LocalDB)\\v11.0 \n</code></pre>\n\n<p>and not : </p>\n\n<pre><code>@\"Data Source=(LocalDB)\\\\v11.0\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5195504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cc9f3602a0278fa7f68933bc71943a?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyMadMax", "link": "https://stackoverflow.com/users/5195504/crazymadmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438838006, "creation_date": 1438818010, "last_edit_date": 1438837987, "question_id": 31844552, "link": "https://stackoverflow.com/questions/31844552/connection-to-sql-server-express-from-visual-studio", "title": "Connection to SQL Server Express from Visual Studio", "body": "<p>I created a database using SQL Server Express from Visual Studio 2012 and I fail to open a connection pointing that database.</p>\n\n<p>I've tried many way like for example:</p>\n\n<pre><code>SqlConnection connectionLocale = new SqlConnection(@\"Data Source=(LocalDB)\\\\v11.0;AttachDbFilename=C:\\Users\\Max\\Desktop\\presentoir\\Application\\WpfAppTest\\BDD.mdf;Integrated Security=True\");\n</code></pre>\n\n<p>But I keep on getting the same error message :</p>\n\n<blockquote>\n  <p>A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) (Microsoft SQL Server, Error: 1326)</p>\n</blockquote>\n\n<p>As I am a total beginner, even with two days of research, I really can't figure out what the problem is.</p>\n\n<p>I can get a connection using :</p>\n\n<pre><code>SqlConnection connectionLocale = new SqlConnection(\"Data Source=(LocalDB)\\\\v11.0;AttachDbFilename=|DataDirectory|BDD.mdf;Integrated Security=True\");\n</code></pre>\n\n<p>But I can't change my database using C# code by connecting like this (I think it creates a temporary database in appdata, and that all the modifications are done in this database).</p>\n\n<p>Every idea helping me to create a connection to my database is welcome.</p>\n"}, {"tags": ["c#", "json", "xml", "asp.net-web-api"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1438817497, "post_id": 31844465, "comment_id": 51610414, "body": "MyXml contains attributes not elements.  The tag name is&quot;node&quot; so the class object should be called &quot;node&quot; or add : [XmlElement(&quot;node&quot;)]"}, {"owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 0, "creation_date": 1438842759, "post_id": 31844465, "comment_id": 51617449, "body": "What JSON serializer are you using? I&#39;d doubt it natively supports serializing to/from <code>XElement</code>.  If you&#39;re using JSON.NET, you could try implementing a <a href=\"http://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonConverter.htm\" rel=\"nofollow noreferrer\"><code>JsonConverter</code></a>.  Alternatively, change the property to <code>string</code> and parse it after deserialization."}], "answers": [{"comments": [{"owner": {"reputation": 4600, "user_id": 540585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73749d2abd807d124e99a134cda25790?s=128&d=identicon&r=PG", "display_name": "guiomie", "link": "https://stackoverflow.com/users/540585/guiomie"}, "edited": false, "score": 0, "creation_date": 1439211810, "post_id": 31850526, "comment_id": 51753108, "body": "This worked. It wouldn&#39;t at first, it still assigned null. After some debugging, my xml value was incorrect, and the XElement.Parse would crash, but for some sort of reason, web api would swallow the exception."}, {"owner": {"reputation": 2153, "user_id": 3548640, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/63280116ac1275131d4bbe89ba522ba3?s=128&d=identicon&r=PG&f=1", "display_name": "codeninja.sj", "link": "https://stackoverflow.com/users/3548640/codeninja-sj"}, "reply_to_user": {"reputation": 4600, "user_id": 540585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73749d2abd807d124e99a134cda25790?s=128&d=identicon&r=PG", "display_name": "guiomie", "link": "https://stackoverflow.com/users/540585/guiomie"}, "edited": false, "score": 0, "creation_date": 1439273475, "post_id": 31850526, "comment_id": 51779853, "body": "@guiomie, if you are using third party web api, please try to get the web api documentation from their end to understand its behavior; based on the doc., try to modify the XML parsing logic as per your need. If you don&#39;t find the documentation, try to list down all the possibilities of getting wrong XML string, then try to include the logic to handle those wrong XML string value before you send it to XElement.Parse() method"}], "tags": [], "owner": {"reputation": 2153, "user_id": 3548640, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/63280116ac1275131d4bbe89ba522ba3?s=128&d=identicon&r=PG&f=1", "display_name": "codeninja.sj", "link": "https://stackoverflow.com/users/3548640/codeninja-sj"}, "is_accepted": true, "score": 1, "last_activity_date": 1438888536, "last_edit_date": 1438888536, "creation_date": 1438849499, "answer_id": 31850526, "question_id": 31844465, "link": "https://stackoverflow.com/questions/31844465/deserialized-xml-gives-a-null-xelement/31850526#31850526", "title": "Deserialized xml gives a null XElement", "body": "<p>Web Api might use JSON.NET serializer to parse the posted JSON data into .NET Class Objects; JSON serializer can only map the JSON DataTypes to C# DataTypes which means, the XML string in json data is going to mapped with C# string data type.</p>\n\n<p>Ref: <a href=\"http://www.newtonsoft.com/json/help/html/SerializationGuide.htm\" rel=\"nofollow\">DataType mappings between .NET and JSON</a></p>\n\n<p>Hence, you can not convert the XML string value into XElement during HTTP post request.</p>\n\n<p>But, you can achieve this by adding some logic inside your Model Class</p>\n\n<pre><code>public class MyClass\n{\n    public DateTime MyDate { get; set; }\n\n    public string MyXml\n    {\n        set\n        {\n            //XML element should contain only one root element\n            //&lt;MyXml&gt; element act as root element\n            string myXml = \"&lt;myXml&gt;\"+ value +\"&lt;/myXml&gt;\";\n            RootXml = XElement.Parse(myXml);\n        }\n    }\n\n    public XElement RootXml;\n\n}  \n</code></pre>\n\n<p>--SJ</p>\n"}], "owner": {"reputation": 4600, "user_id": 540585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73749d2abd807d124e99a134cda25790?s=128&d=identicon&r=PG", "display_name": "guiomie", "link": "https://stackoverflow.com/users/540585/guiomie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 31850526, "answer_count": 1, "score": 0, "last_activity_date": 1438888536, "creation_date": 1438817328, "question_id": 31844465, "link": "https://stackoverflow.com/questions/31844465/deserialized-xml-gives-a-null-xelement", "title": "Deserialized xml gives a null XElement", "body": "<p>It seems like posting (HTTP POST) a JSON with a property that contains a xml fragment will not serialize properly if that property is an XElement in my class. Here is an example:</p>\n\n<pre><code>public class MYController : ApiController\n    {\n        public MyClass Post(MyClass postedObject)\n        {\n            return postedObject;\n        }\n    }\n\npublic class MyClass\n{\n    public DateTime MyDate { get; set; }\n    public XElement MyXml{ get; set; }\n}\n</code></pre>\n\n<p>The sent javascript object is:</p>\n\n<pre><code>{\n  \"MyDate\" : \"2012-12-01T12:00:00\", \n  \"MyXml\" : \"&lt;node ln=\\\"node\\\" nm=\\\"1\\\" /&gt;&lt;node ln=\\\"node\\\" nm=\\\"2\\\" /&gt;\" \n}\n</code></pre>\n\n<p>For a reason, the XElement is always null, but DateTime is alright.</p>\n"}, {"tags": ["c#", "wpf", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 5002554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kCzZut51y48/AAAAAAAAAAI/AAAAAAAAC7g/PWZlZYzsnFA/photo.jpg?sz=128", "display_name": "Nick Bullatovci", "link": "https://stackoverflow.com/users/5002554/nick-bullatovci"}, "is_accepted": false, "score": 0, "last_activity_date": 1438822598, "last_edit_date": 1438822598, "creation_date": 1438822204, "answer_id": 31845098, "question_id": 31844440, "link": "https://stackoverflow.com/questions/31844440/canvas-drawing-over-a-status-bar/31845098#31845098", "title": "Canvas drawing over a status bar", "body": "<p>If i understood correctly only change this line:</p>\n\n<p><code>&lt;StatusBar x:Name=\"status\" DockPanel.Dock=\"Bottom\" Height=\"22\" Panel.ZIndex=\"100\"&gt;</code></p>\n\n<p>Panel.ZIndex=\"100\" is property which tell the canvas order of painting.</p>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 3017918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/83d9469deb2676aea0f9943fa6e046d1?s=128&d=identicon&r=PG&f=1", "display_name": "RazorEater", "link": "https://stackoverflow.com/users/3017918/razoreater"}, "is_accepted": true, "score": 1, "last_activity_date": 1438842322, "creation_date": 1438842322, "answer_id": 31848235, "question_id": 31844440, "link": "https://stackoverflow.com/questions/31844440/canvas-drawing-over-a-status-bar/31848235#31848235", "title": "Canvas drawing over a status bar", "body": "<p>You should set ClipToBounds=true for the canvas like this:</p>\n\n<pre><code>&lt;Canvas Background=\"White\"  x:Name=\"canvas\" MouseLeftButtonDown=\"CanvasDownHandler\" MouseMove=\"CanvasMoveHandler\" MouseLeftButtonUp=\"CanvasUpHandler\" ClipToBounds=true&gt;\n</code></pre>\n\n<p>this makes sure the elements inside the canvas don't draw outside the canvas itself</p>\n"}], "owner": {"reputation": 592, "user_id": 2036003, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/hz441.gif?s=128&g=1", "display_name": "hexagonest", "link": "https://stackoverflow.com/users/2036003/hexagonest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 31848235, "answer_count": 2, "score": 0, "last_activity_date": 1438842322, "creation_date": 1438817200, "question_id": 31844440, "link": "https://stackoverflow.com/questions/31844440/canvas-drawing-over-a-status-bar", "title": "Canvas drawing over a status bar", "body": "<p>I've made a program that draws shapes based on user input. I can currently only draw a circle. When I draw circles, its radius is based on the <code>x</code> displacement and is not dependent on the <code>y</code>. This means that I can make shapes that are bigger than the available window size. When I do this, it draws over the status bar like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LqsLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LqsLp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea how I could fix this? Here is the structure of the XAML</p>\n\n<pre><code>&lt;DockPanel&gt;\n    &lt;Menu DockPanel.Dock=\"Top\"&gt;\n        &lt;MenuItem Header=\"File\"&gt;\n            &lt;MenuItem Header=\"New\"&gt;&lt;/MenuItem&gt;\n            &lt;MenuItem Header=\"Open\"&gt;&lt;/MenuItem&gt;\n            &lt;MenuItem Header=\"Save\"&gt;&lt;/MenuItem&gt;\n            &lt;Separator/&gt;\n            &lt;MenuItem Header=\"Exit\" Click=\"MenuItem_Click\"&gt;&lt;/MenuItem&gt;\n        &lt;/MenuItem&gt;\n    &lt;/Menu&gt;\n    &lt;StatusBar x:Name=\"status\" DockPanel.Dock=\"Bottom\" Height=\"22\"&gt;\n        &lt;TextBlock x:Name=\"statusText\"&gt;&lt;/TextBlock&gt;\n    &lt;/StatusBar&gt;\n    &lt;DockPanel&gt;\n        &lt;StackPanel DockPanel.Dock=\"Left\"&gt;\n            &lt;StackPanel.Background&gt;\n                &lt;SolidColorBrush Color=\"#EEE\"&gt;&lt;/SolidColorBrush&gt;\n            &lt;/StackPanel.Background&gt;\n            &lt;Button Padding=\"3,0\" Margin=\"5\" Click=\"CircleButton_Click\"&gt;Circle&lt;/Button&gt;\n        &lt;/StackPanel&gt;\n        &lt;Canvas Background=\"White\"  x:Name=\"canvas\" MouseLeftButtonDown=\"CanvasDownHandler\" MouseMove=\"CanvasMoveHandler\" MouseLeftButtonUp=\"CanvasUpHandler\"&gt;\n\n        &lt;/Canvas&gt;\n    &lt;/DockPanel&gt;\n&lt;/DockPanel&gt;\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2010"], "comments": [{"owner": {"reputation": 1851, "user_id": 3661500, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YGYFI.png?s=128&g=1", "display_name": "Abstract type", "link": "https://stackoverflow.com/users/3661500/abstract-type"}, "edited": false, "score": 0, "creation_date": 1438817539, "post_id": 31844390, "comment_id": 51610422, "body": "That&#39;s a nice little story. And the Question is ?"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1438817701, "post_id": 31844390, "comment_id": 51610469, "body": "Q: What is the error message?  What do the install logs say?  Please update your post with this information."}, {"owner": {"reputation": 1, "user_id": 5195947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/351adcbe1f3d5ea1193232e01eca1193?s=128&d=identicon&r=PG&f=1", "display_name": "JJW", "link": "https://stackoverflow.com/users/5195947/jjw"}, "edited": false, "score": 0, "creation_date": 1438822807, "post_id": 31844390, "comment_id": 51611682, "body": "A dialog pops up stating that the network resource was unavailable. In this case the IT guy had renamed the .msi file. Is there anyway to specify for the application to not require the existence of the .msi file?"}], "owner": {"reputation": 1, "user_id": 5195947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/351adcbe1f3d5ea1193232e01eca1193?s=128&d=identicon&r=PG&f=1", "display_name": "JJW", "link": "https://stackoverflow.com/users/5195947/jjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438828726, "creation_date": 1438816860, "last_edit_date": 1438828726, "question_id": 31844390, "link": "https://stackoverflow.com/questions/31844390/vs2010-windows-application-looks-for-msi", "title": "VS2010 Windows Application looks for .msi", "body": "<p>I have created a Windows Application. I used VS2010 Installer for Setup.\nThe application successfully installs from a network share. If the .msi file is moved, renamed or deleted, the application launch will fail.\nIt seems to want to locate the .msi file.\nThe network share folder may not always be available.\nThe shortcuts that created in VS2010 Installer do not contain the full path to the .exe.\nI do not seem to be able to include any shortcuts I create outside of  VS2010 Installer.\nThis application is be installed on over 100 workstations.</p>\n\n<p>A dialog pops up stating that the network resource was unavailable. In this case the IT guy had renamed the .msi file after it was used to install the app. Is there anyway to specify for the application to not require the existence of the .msi file?</p>\n"}, {"tags": ["c#", "wcf"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 968292, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9f78a4bfa12f86f6bf51a8898054a4c3?s=128&d=identicon&r=PG", "display_name": "Bob Clegg", "link": "https://stackoverflow.com/users/968292/bob-clegg"}, "is_accepted": false, "score": 0, "last_activity_date": 1438832101, "last_edit_date": 1438832101, "creation_date": 1438818198, "answer_id": 31844580, "question_id": 31844384, "link": "https://stackoverflow.com/questions/31844384/wcf-datacontractserializer-and-xmlserializer-both-in-same-service-possible/31844580#31844580", "title": "WCF DataContractSerializer and XMLSerializer both in same service. Possible?", "body": "<p>Problem was that the contract was not specifically decorated with xml.\nApparently the default assumption is JSON. Working declaration:</p>\n\n<pre><code> [OperationContract]\n    [XmlSerializerFormat]\n    [WebInvoke(UriTemplate = \"Update\", Method = \"POST\",\n        ResponseFormat = WebMessageFormat.Xml,\n        RequestFormat = WebMessageFormat.Xml)]\n    ResponseMessage Update(RequestMessage instance);\n</code></pre>\n\n<p>The 'Answer' I put up has exposed some very strange behavior. </p>\n\n<p>With the [XMLSerializer] decoration in place, other contracts can no longer deserialize integers. The integer property leaves the client as say 6 and is deserialized as 0. Comment out the decoration and normal behavior resumes.\nI will post a separate question about this.</p>\n"}], "owner": {"reputation": 521, "user_id": 968292, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9f78a4bfa12f86f6bf51a8898054a4c3?s=128&d=identicon&r=PG", "display_name": "Bob Clegg", "link": "https://stackoverflow.com/users/968292/bob-clegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1438832101, "creation_date": 1438816828, "question_id": 31844384, "link": "https://stackoverflow.com/questions/31844384/wcf-datacontractserializer-and-xmlserializer-both-in-same-service-possible", "title": "WCF DataContractSerializer and XMLSerializer both in same service. Possible?", "body": "<p>WCF. Framework 4.5.1</p>\n\n<p>Existing web service uses DataContractSerializer.</p>\n\n<p>It now needs to provide a contract that takes XMLSerialized data from a third party as an input parameter and return a serialized object.</p>\n\n<p>Apparently I should be able to decorate that contract with [XMLSerializerFormat].\nBut this breaks the published site.\ni.e. You can't even access the site with a web browser to obtain the wsdl.</p>\n\n<p>Is there some extra work needed in the Web.Config?</p>\n\n<pre><code>  [OperationContract]\n        [XmlSerializerFormat]\n        [WebInvoke(UriTemplate = \"\", Method = \"POST\")]\n        ResponseMessage Update(RequestMessage instance); \n</code></pre>\n\n<p>The contract is sitting inside an interface with all of the existing contracts\nThe interface is decorated </p>\n\n<pre><code>[ServiceContract]\npublic interface IMyService\n{\n</code></pre>\n\n<p>Thanks\nBob</p>\n"}, {"tags": ["c#", "try-catch"], "comments": [{"owner": {"reputation": 1103, "user_id": 3207850, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XYeWJ.jpg?s=128&g=1", "display_name": "adamdc78", "link": "https://stackoverflow.com/users/3207850/adamdc78"}, "edited": false, "score": 0, "creation_date": 1438817007, "post_id": 31844324, "comment_id": 51610269, "body": "Try <code>catch (Exception e) { Console.WriteLine(e.Message); }</code> for something more meaningful.  You could also print the stack trace from <code>e</code>.  Does <code>MMDeviceEnumerator</code> implement <code>IMMDeviceEnumerator</code>?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1438818651, "post_id": 31844324, "comment_id": 51610700, "body": "What makes you think anything did change? You&#39;re getting an exception; the only place in that block that could happen is before the assignment of <code>deviceEnumerator</code>. Catching the exception doesn&#39;t magically make the rest of the statements in the block after the exception execute. They won&#39;t! You need to look at the exception (in the debugger or via a variable declared in the <code>catch</code> statement) and see why the exception is happening and fix it. Catching an exception you didn&#39;t expect is almost always the wrong thing to do; you need to make the code not cause the exception in the first place."}, {"owner": {"reputation": 51, "user_id": 3067495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/781e511e6db9953d4b0e0dac450c3521?s=128&d=identicon&r=PG&f=1", "display_name": "coderguy22296", "link": "https://stackoverflow.com/users/3067495/coderguy22296"}, "edited": false, "score": 0, "creation_date": 1438852391, "post_id": 31844324, "comment_id": 51623188, "body": "Im not sure if MMDeviceEnumerator implement IMMDeviceEnumerator, but I added the code for the COM Imports for those classes/interfaces."}, {"owner": {"reputation": 51, "user_id": 3067495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/781e511e6db9953d4b0e0dac450c3521?s=128&d=identicon&r=PG&f=1", "display_name": "coderguy22296", "link": "https://stackoverflow.com/users/3067495/coderguy22296"}, "edited": false, "score": 0, "creation_date": 1438853101, "post_id": 31844324, "comment_id": 51623665, "body": "Unable to cast object of type &#39;MMDeviceEnumerator&#39; to type &#39;testCode.MMDeviceEnumerator&#39;.  the exception is an InvalidCastException"}], "owner": {"reputation": 51, "user_id": 3067495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/781e511e6db9953d4b0e0dac450c3521?s=128&d=identicon&r=PG&f=1", "display_name": "coderguy22296", "link": "https://stackoverflow.com/users/3067495/coderguy22296"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438852288, "creation_date": 1438816430, "last_edit_date": 1495542118, "question_id": 31844324, "link": "https://stackoverflow.com/questions/31844324/issue-with-controlling-application-volume-in-c-an-invalidcastexception", "title": "issue with controlling application volume in C# (an InvalidCastException)", "body": "<p>Issue:</p>\n\n<p>When I do not use the try catch block the debugger gives me an exception and I can click \"Continue\" in visual studio 2013 10 times and then the program appears to run correctly. but when I surround it in try/catch, nothing that changed inside the code block seems to have been executed or variables changes made inside the block of code do not carry over to the outside of the try block.</p>\n\n<p>Im trying to get the code working from these questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14306048/controling-volume-mixer\">Controling Volume Mixer</a>\n and \n<a href=\"https://stackoverflow.com/questions/20938934/controlling-applications-volume-by-process-id\">Controlling Application&#39;s Volume: By Process-ID</a></p>\n\n<p>Code:</p>\n\n<pre><code>private static ISimpleAudioVolume GetVolumeObject(int pid)\n{\n        // get the speakers (1st render + multimedia) device\n        IMMDeviceEnumerator deviceEnumerator = null;\n        string str = \"I havent changed :(\";\n        try\n        {\n            deviceEnumerator = (IMMDeviceEnumerator)(new MMDeviceEnumerator());\n            str = \"good to go\";\n        }\n        catch\n        {\n            Console.WriteLine(\"ohh nooo, there was an exception\");\n        }\n        if (deviceEnumerator == null)\n        {\n            Console.WriteLine(\"ouch, its null\");\n            Console.WriteLine(str);\n            return null;\n        }\n\n        IMMDevice speakers;\n        deviceEnumerator.GetDefaultAudioEndpoint(EDataFlow.eRender, ERole.eMultimedia, out speakers);\n\n        // activate the session manager. we need the enumerator\n        Guid IID_IAudioSessionManager2 = typeof(IAudioSessionManager2).GUID;\n        object o;\n        speakers.Activate(ref IID_IAudioSessionManager2, 0, IntPtr.Zero, out o);\n        IAudioSessionManager2 mgr = (IAudioSessionManager2)o;\n\n        // enumerate sessions for on this device\n        IAudioSessionEnumerator sessionEnumerator;\n        mgr.GetSessionEnumerator(out sessionEnumerator);\n        int count;\n        sessionEnumerator.GetCount(out count);\n\n        // search for an audio session with the required name\n        // NOTE: we could also use the process id instead of the app name (with IAudioSessionControl2)\n        ISimpleAudioVolume volumeControl = null;\n        for (int i = 0; i &lt; count; i++)\n        {\n            IAudioSessionControl2 ctl;\n            sessionEnumerator.GetSession(i, out ctl);\n            int cpid;\n            ctl.GetProcessId(out cpid);\n\n            if (cpid == pid)\n            {\n                volumeControl = ctl as ISimpleAudioVolume;\n                break;\n            }\n            Marshal.ReleaseComObject(ctl);\n        }\n        Marshal.ReleaseComObject(sessionEnumerator);\n        Marshal.ReleaseComObject(mgr);\n        Marshal.ReleaseComObject(speakers);\n        Marshal.ReleaseComObject(deviceEnumerator);\n        return volumeControl;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    ohh nooo, there was an exception\n    ouch, its null\n    I havent changed :(\n</code></pre>\n\n<p>EDIT:</p>\n\n<pre><code>    [ComImport]\n[Guid(\"BCDE0395-E52F-467C-8E3D-C4579291692E\")]\ninternal class MMDeviceEnumerator\n{\n}\n\ninternal enum EDataFlow\n{\n    eRender,\n    eCapture,\n    eAll,\n    EDataFlow_enum_count\n}\n\ninternal enum ERole\n{\n    eConsole,\n    eMultimedia,\n    eCommunications,\n    ERole_enum_count\n}\n\n[Guid(\"A95664D2-9614-4F35-A746-DE8DB63617E6\"), InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]\ninternal interface IMMDeviceEnumerator\n{\n    int NotImpl1();\n\n    [PreserveSig]\n    int GetDefaultAudioEndpoint(EDataFlow dataFlow, ERole role, out IMMDevice ppDevice);\n\n    // the rest is not implemented\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 3406, "user_id": 1461061, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/FdSE7.png?s=128&g=1", "display_name": "Dealdiane", "link": "https://stackoverflow.com/users/1461061/dealdiane"}, "edited": false, "score": 0, "creation_date": 1438816516, "post_id": 31844311, "comment_id": 51610142, "body": "Have you tried different <a href=\"https://msdn.microsoft.com/en-us/library/system.stringcomparison(v=vs.110).aspx\" rel=\"nofollow noreferrer\">StringComparison</a> values? StringComparison.Ordinal or StringComparison.OrdinalIgnoreCase?  <code>String.Equals(factory[0].ToString(), newfactory[0].ToString(), StringComparison.Ordinal)</code>"}, {"owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 5, "creation_date": 1438816615, "post_id": 31844311, "comment_id": 51610175, "body": "Write out the int code of each character in both strings and verify nothing funky is going on."}, {"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 0, "creation_date": 1438816698, "post_id": 31844311, "comment_id": 51610186, "body": "Sorry dup comment...didn&#39;t carefully read opiants"}, {"owner": {"reputation": 1374, "user_id": 4021938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Br738.png?s=128&g=1", "display_name": "Alex H", "link": "https://stackoverflow.com/users/4021938/alex-h"}, "edited": false, "score": 0, "creation_date": 1438816809, "post_id": 31844311, "comment_id": 51610214, "body": "Are you sure there are no non-visible Whitespaces?"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "reply_to_user": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 1, "creation_date": 1438816828, "post_id": 31844311, "comment_id": 51610221, "body": "@JeroenVannevel Good idea. It may very well be similar looking characters, but are actually different. Example is <code>3</code> and <code>\u0437</code> - <code>A</code> and <code>\u0410</code>"}, {"owner": {"reputation": 39, "user_id": 3015316, "user_type": "registered", "profile_image": "https://graph.facebook.com/668368315/picture?type=large", "display_name": "user3015316", "link": "https://stackoverflow.com/users/3015316/user3015316"}, "edited": false, "score": 0, "creation_date": 1438817094, "post_id": 31844311, "comment_id": 51610294, "body": "Thanks for the responses. Just tried the Ordinal comparison. Still didn&#39;t work. I will try writing out to integers next."}, {"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 0, "creation_date": 1438817450, "post_id": 31844311, "comment_id": 51610399, "body": "Assuming it isn&#39;t the operator, Have you checked to see if these string s are Interned?  <a href=\"https://msdn.microsoft.com/en-us/library/system.string.isinterned(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "reply_to_user": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 1, "creation_date": 1438819079, "post_id": 31844311, "comment_id": 51610805, "body": "Dump both strings as a sequence of utf-16 code-units. One of them might contain invisible characters or unicode look-alikes. @dweeb Why would interning matter here? Both sides are statically typed as string, so it&#39;ll use value comparison."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4275029"}, "edited": false, "score": 0, "creation_date": 1438826272, "post_id": 31844311, "comment_id": 51612475, "body": "What is the type of the object? Is ToString overridden? What is the collection type? When strange things happen these kinds of specifics may help."}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 5002554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kCzZut51y48/AAAAAAAAAAI/AAAAAAAAC7g/PWZlZYzsnFA/photo.jpg?sz=128", "display_name": "Nick Bullatovci", "link": "https://stackoverflow.com/users/5002554/nick-bullatovci"}, "is_accepted": false, "score": 0, "last_activity_date": 1438831554, "creation_date": 1438831554, "answer_id": 31846303, "question_id": 31844311, "link": "https://stackoverflow.com/questions/31844311/c-two-string-comparison-false-even-though-same-string-content/31846303#31846303", "title": "C# Two String Comparison False Even Though Same String Content", "body": "<p>This is false if you compare with != not equal, the same value,\nyou are asking are this values different, the answer is false. which mean they are the same.</p>\n"}], "owner": {"reputation": 39, "user_id": 3015316, "user_type": "registered", "profile_image": "https://graph.facebook.com/668368315/picture?type=large", "display_name": "user3015316", "link": "https://stackoverflow.com/users/3015316/user3015316"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438831554, "creation_date": 1438816357, "last_edit_date": 1438817356, "question_id": 31844311, "link": "https://stackoverflow.com/questions/31844311/c-two-string-comparison-false-even-though-same-string-content", "title": "C# Two String Comparison False Even Though Same String Content", "body": "<p>I have tried everything i can think of to get these two strings to return false when comparing them including trimming white-space as well as normalizing them.</p>\n\n<p>Here is the statement:</p>\n\n<pre><code> if(factory[0].ToString().Trim().Normalize() != newfactory[0].ToString().Trim().Normalize())\n</code></pre>\n\n<p>If i write out the contents of each string they are exactly the same:\n         KLANG-MA3\n         KLANG-MA3</p>\n\n<p>I've tried with and without the trim and normalize. What other things can i try?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "edited": false, "score": 0, "creation_date": 1438816224, "post_id": 31844264, "comment_id": 51610055, "body": "what&#39;s the type you are passing as T? is it a concrete class with a default constructor?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5195953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e36c1b675d515baf61d7f91a03f7d36?s=128&d=identicon&r=PG&f=1", "display_name": "Radamanthys", "link": "https://stackoverflow.com/users/5195953/radamanthys"}, "edited": false, "score": 0, "creation_date": 1438820982, "post_id": 31844349, "comment_id": 51611265, "body": "thanks so much... its solved my problem for a while."}], "tags": [], "owner": {"reputation": 78292, "user_id": 361684, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2a0474d17360dbdf024447db0eb989dd?s=128&d=identicon&r=PG", "display_name": "gilly3", "link": "https://stackoverflow.com/users/361684/gilly3"}, "is_accepted": true, "score": 1, "last_activity_date": 1438816605, "creation_date": 1438816605, "answer_id": 31844349, "question_id": 31844264, "link": "https://stackoverflow.com/questions/31844264/must-be-a-non-abstract-type-with-public-parameterless-constructor-c/31844349#31844349", "title": "Must be a non abstract type with public parameterless constructor c#", "body": "<p>Since your class has <code>where T : new()</code>, and you are passing <code>TSource</code> to that class, <code>TSource</code> must have the same constraint.</p>\n\n<pre><code>public interface IRepository&lt;TSource&gt;: IDisposable where TSource: class, new()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5195953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e36c1b675d515baf61d7f91a03f7d36?s=128&d=identicon&r=PG&f=1", "display_name": "Radamanthys", "link": "https://stackoverflow.com/users/5195953/radamanthys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 1, "accepted_answer_id": 31844349, "answer_count": 1, "score": 1, "last_activity_date": 1438816605, "creation_date": 1438816069, "last_edit_date": 1438816369, "question_id": 31844264, "link": "https://stackoverflow.com/questions/31844264/must-be-a-non-abstract-type-with-public-parameterless-constructor-c", "title": "Must be a non abstract type with public parameterless constructor c#", "body": "<p>I'm trying to do something new and got this error, I have an interface in c# </p>\n\n<pre><code>public interface IRepository&lt;TSource&gt;: IDisposable where TSource: class\n{\n    TSource GetById(long id);\n\n    List&lt;TSource&gt; GetAll();\n\n    bool InsertOrUpdate(TSource source);\n\n    bool Delete(long id);\n\n    VM.RetornoGenerico&lt;TSource&gt; Upload(long id);\n}\n</code></pre>\n\n<p>The problem is when I pass <code>TSource</code> to my <code>RetornoGenerico</code> Class</p>\n\n<pre><code>public class RetornoGenerico&lt;T&gt; where T : new()\n{\n    public T Result { get; set; }\n    public bool Success { get; set; }\n    public string ErrorMsg { get; set; }\n    public string IdError { get; set; }\n\n    public RetornoGenerico()\n    {\n        Result: new T();\n        Success = false;\n\n    }\n\n    public static RetornoGenerico&lt;T&gt; CloneError&lt;TU&gt;(RetornoGenerico&lt;TU&gt; resposta) where TU : new()\n    {\n        var retorno = new RetornoGenerico&lt;T&gt;()\n        {\n            Success = resposta.Success,\n            Result = new T(),\n            ErrorMsg = resposta.ErrorMsg,\n            IdError = resposta.IdError\n\n        };\n        return retorno;\n    }\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Must be a non abstract type with public parameterless constructor</p>\n</blockquote>\n\n<p>Can someone help me find what is wrong with my code?</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1438816074, "post_id": 31844245, "comment_id": 51610001, "body": "Are you hitting your controller method? What if any errors do you have in the browser console?"}, {"owner": {"reputation": 345, "user_id": 3666478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e1948e087b6d45874287c756690b4c?s=128&d=identicon&r=PG&f=1", "display_name": "BillRuhl", "link": "https://stackoverflow.com/users/3666478/billruhl"}, "edited": false, "score": 0, "creation_date": 1438820909, "post_id": 31844245, "comment_id": 51611248, "body": "Are you sure that your calling the controller? I see where your passing the action and the parameter to build the url for your ajax call; but not the controller being passed in..."}, {"owner": {"reputation": 11191, "user_id": 70149, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/18dc986edc6413d0ec9510c552ae8a0b?s=128&d=identicon&r=PG", "display_name": "rism", "link": "https://stackoverflow.com/users/70149/rism"}, "edited": false, "score": 0, "creation_date": 1438825483, "post_id": 31844245, "comment_id": 51612265, "body": "You need to show us the html i.e. view source of your form (&quot;#EventForm&quot;) tag. The rest looks just fine."}, {"owner": {"reputation": 1, "user_id": 3146865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c9f15bcc55a6853b2a2007201639d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3146865", "link": "https://stackoverflow.com/users/3146865/user3146865"}, "edited": false, "score": 0, "creation_date": 1438873483, "post_id": 31844245, "comment_id": 51638075, "body": "I have added the source of the #EventForm tag above.  Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3146865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c9f15bcc55a6853b2a2007201639d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3146865", "link": "https://stackoverflow.com/users/3146865/user3146865"}, "is_accepted": false, "score": 0, "last_activity_date": 1444940414, "creation_date": 1444940414, "answer_id": 33157795, "question_id": 31844245, "link": "https://stackoverflow.com/questions/31844245/cascading-dropdownlist-is-not-populating-mvc/33157795#33157795", "title": "Cascading DropDownList is not Populating MVC", "body": "<p>.trigger() needed to be changed to .trigger(\"chosen:updated\");</p>\n"}], "owner": {"reputation": 1, "user_id": 3146865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c9f15bcc55a6853b2a2007201639d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3146865", "link": "https://stackoverflow.com/users/3146865/user3146865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444940414, "creation_date": 1438815871, "last_edit_date": 1438873444, "question_id": 31844245, "link": "https://stackoverflow.com/questions/31844245/cascading-dropdownlist-is-not-populating-mvc", "title": "Cascading DropDownList is not Populating MVC", "body": "<p>I have two drop down lists setup in an MVC view as follows:</p>\n\n<pre><code>@Html.DropDownListFor(model =&gt; model.Market, \n    new SelectList(ListInfo.Markets(), \"Name\", \"Name\"), \"Markets...\"\n    , new { @class = \"form-control\", @id = \"MarketSelect\" })\n\n&lt;select id=\"StationSelect\" name=\"SelectedStations\" class=\"chosen-select form-control\" multiple&gt;&lt;/select&gt;\n</code></pre>\n\n<p>The form beings with:</p>\n\n<pre><code>@using (Html.BeginForm(\"CreateEvent\", \"Event\", FormMethod.Post, new { role =   \"form\", id = \"EventForm\", data_stationListAction = @Url.Action(\"StationList\") }))\n</code></pre>\n\n<p>The following script is called at the bottom of the view with:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/marketStation.js\")\"&gt;&lt;/script&gt;\n\n$(function () {\n$('#MarketSelect').change(function () {\n    var URL = $('#EventForm').data('stationListAction');\n    $.getJSON(URL + '/' + $('#MarketSelect').val(), function (data) {\n        var items = '&lt;option&gt;Stations&lt;/option&gt;';\n        $.each(data, function (i, station) {\n            items += \"&lt;option value='\" + station.Value + \"'&gt;\" + station.Text + \"&lt;/option&gt;\";\n        });\n            $('#StationSelect').html(items);\n            $(\"#StationSelect\").trigger(\"liszt:updated\");\n            $(\"#StationSelect\").change();\n        });\n    });\n});\n</code></pre>\n\n<p>Finally, I have a Controller Action as follows:</p>\n\n<pre><code>public ActionResult StationList(string market) {\n        string Market = market;\n\n        var stations = from s in ListInfo.Stations()\n                       where s.MarketName == Market\n                       select s;\n\n        if(HttpContext.Request.IsAjaxRequest())\n        {\n            return Json(new MultiSelectList(\n                stations.ToArray(),\n                \"SalemOrgObjID\",\n                \"Name\"),\n                JsonRequestBehavior.AllowGet);\n        }\n        return RedirectToAction(\"CreateEvent\");\n    }\n</code></pre>\n\n<p>ListInfo.Stations looks like this:</p>\n\n<pre><code>public static IQueryable&lt;StationData&gt; Stations(){\n    return db.Stations.ToList().AsQueryable();\n}\n</code></pre>\n\n<p>The first Drop Down List is Populating Fine (MarketSelect), but once a Market is selected, the Station List is not populated.</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["c#", "oauth-2.0"], "answers": [{"comments": [{"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1441223605, "post_id": 32361302, "comment_id": 52596658, "body": "Yeah, I&#39;ve since got it working - I updated a while back but have forgotten about the question. Anyways, thanks and what you have suggested is correct."}], "tags": [], "owner": {"reputation": 41, "user_id": 3786492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57027526ec8f92ca9f6d7f2dad8a59d1?s=128&d=identicon&r=PG&f=1", "display_name": "abjerner", "link": "https://stackoverflow.com/users/3786492/abjerner"}, "is_accepted": true, "score": 0, "last_activity_date": 1441221107, "creation_date": 1441221107, "answer_id": 32361302, "question_id": 31844226, "link": "https://stackoverflow.com/questions/31844226/skybrud-social-log-in-via-facebook/32361302#32361302", "title": "Skybrud social Log in via Facebook?", "body": "<p>Facebook has multiple versions of their Graph API. In the most recent version (2.4), less fields are returned by default, and you instead have to tell the API to return the fields that you need. What version of the API you're using depends on the time you registered your app with Facebook.</p>\n\n<p>Based on your code, it seems that you're using an older version of Skybrud.Social. If you update to the most recent version (0.9.4.1), you can do something like this:</p>\n\n<pre><code>// Declare the options for the call to the API\nFacebookGetUserOptions options = new FacebookGetUserOptions(\"me\") {\n    Fields = \"name,email,gender\"\n};\n\n// Make the call to the API\nFacebookUserResponse response = service.Users.GetUser(options);\n</code></pre>\n\n<p>Hope this answers your questions ;)</p>\n"}], "owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 32361302, "answer_count": 1, "score": 0, "last_activity_date": 1441221107, "creation_date": 1438815703, "question_id": 31844226, "link": "https://stackoverflow.com/questions/31844226/skybrud-social-log-in-via-facebook", "title": "Skybrud social Log in via Facebook?", "body": "<p>I'm usinng <a href=\"http://social.skybrud.dk/\" rel=\"nofollow\">skybrud social</a> to allow users to log into my site via Facebook, but am having a problem.</p>\n\n<p>For some reason, the response never contains anything other than the Name and Id of the user... everything else is null.</p>\n\n<pre><code> var url = client.GetAuthorizationUrl(state, \"public_profile\", \"email\");\n\nvar service = FacebookService.CreateFromAccessToken(userAccessToken);\nFacebookMeResponse user = service.Methods.Me();\n</code></pre>\n\n<p>Has anyone experienced this before? What could be the problem?</p>\n"}, {"tags": ["c#", "web-services", "netsuite"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1805448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/NYBrC.jpg?s=128&g=1", "display_name": "MUHAMMAD MUBUSHER ASLAM", "link": "https://stackoverflow.com/users/1805448/muhammad-mubusher-aslam"}, "edited": false, "score": 0, "creation_date": 1533020149, "post_id": 31864513, "comment_id": 90179490, "body": "Thanks, @user79284. i want to know where can i set the SearchPreferences."}], "tags": [], "owner": {"reputation": 133, "user_id": 3642697, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/386e6ca43157c483678e6c27e5b6472d?s=128&d=identicon&r=PG", "display_name": "user79284", "link": "https://stackoverflow.com/users/3642697/user79284"}, "is_accepted": false, "score": 3, "last_activity_date": 1438890452, "creation_date": 1438890452, "answer_id": 31864513, "question_id": 31844189, "link": "https://stackoverflow.com/questions/31844189/getting-the-base-price-of-an-item-in-netsuite/31864513#31864513", "title": "Getting the Base Price of an Item in NetSuite", "body": "<p>The \"pricingMatrix\" property has all the data I need.  The reason why it was null was that the bodyfieldsOnly property of SearchPreferences was set to true.  </p>\n"}], "owner": {"reputation": 133, "user_id": 3642697, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/386e6ca43157c483678e6c27e5b6472d?s=128&d=identicon&r=PG", "display_name": "user79284", "link": "https://stackoverflow.com/users/3642697/user79284"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438890452, "creation_date": 1438815531, "last_edit_date": 1438815867, "question_id": 31844189, "link": "https://stackoverflow.com/questions/31844189/getting-the-base-price-of-an-item-in-netsuite", "title": "Getting the Base Price of an Item in NetSuite", "body": "<p>For a given NonInventorySalesItem, I clearly see on the Netsuite website that a \"base price\" is set. But I cannot find it in any of the properties of an instance of NonInventorySalesItem.</p>\n\n<p>I thought the pricingMatrix property should have it. Nope. It's null. And the base price is clearly set in this case at $69. So this has been my holy grail. Thank you.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 0, "creation_date": 1438815856, "post_id": 31844188, "comment_id": 51609936, "body": "I thought I understood the problem after your first example, but the second one doesn&#39;t make sense. Aren&#39;t you adding the corresponding entries from the two arrays? I don&#39;t understand how you end up with 0 in the third position in your second example."}, {"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 1, "creation_date": 1438817856, "post_id": 31844188, "comment_id": 51610513, "body": "FWIW I think these sorts of interview questions are a bit silly"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "reply_to_user": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 1, "creation_date": 1438818026, "post_id": 31844188, "comment_id": 51610555, "body": "@CraigW. 255+1 = 0 when you&#39;re a byte."}, {"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 1, "creation_date": 1438818123, "post_id": 31844188, "comment_id": 51610574, "body": "Yes it&#39;s more confusing that the result in the second example second position is 2 ... 0 + 1 == 2 ?"}, {"owner": {"reputation": 274, "user_id": 1736944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b322d532df741b3ca900436feb3a054?s=128&d=identicon&r=PG", "display_name": "9Rune5", "link": "https://stackoverflow.com/users/1736944/9rune5"}, "edited": false, "score": 1, "creation_date": 1438818634, "post_id": 31844188, "comment_id": 51610693, "body": "Dweeberly: 1 is carried over..."}, {"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1438820389, "post_id": 31844188, "comment_id": 51611136, "body": "@Blorgbeard: I keep forgetting they were byte arrays and not int arrays."}, {"owner": {"reputation": 7, "user_id": 5195938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f622c6d1cfcf7b80d98b177b6e60de4a?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5195938/james"}, "edited": false, "score": 1, "creation_date": 1438821962, "post_id": 31844188, "comment_id": 51611482, "body": "Added an edit there; I also assume it should be  { 1,1,0 }"}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1438876659, "post_id": 31844188, "comment_id": 51640434, "body": "Vaguely reminds me of a ripple-carry adder.  But base <code>2^8</code> instead of base <code>2^1</code>.  If you think like lisp using <code>car</code> and <code>cdr</code> you might make some progress."}, {"owner": {"reputation": 1016, "user_id": 1409653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4c861670e45967da7c322ea09ef2ad?s=128&d=identicon&r=PG", "display_name": "YSharp", "link": "https://stackoverflow.com/users/1409653/ysharp"}, "edited": false, "score": 0, "creation_date": 1438877702, "post_id": 31844188, "comment_id": 51641147, "body": "I eventually posted a working sample. If that is helpful, please upvote or accept the answer."}], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1438818747, "post_id": 31844545, "comment_id": 51610727, "body": "Your code fails at the 2nd example, you did not carry the 1 from the first column in to the second. <a href=\"https://dotnetfiddle.net/WYhzXk\" rel=\"nofollow noreferrer\">dotnetfiddle.net/WYhzXk</a>"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1438823142, "post_id": 31844545, "comment_id": 51611761, "body": "OP clarified it was a typo, no carry required."}, {"owner": {"reputation": 7, "user_id": 5195938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f622c6d1cfcf7b80d98b177b6e60de4a?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5195938/james"}, "edited": false, "score": 0, "creation_date": 1438887252, "post_id": 31844545, "comment_id": 51646425, "body": "Hi, this seem to work well. Its a clever solution, thanks!"}], "tags": [], "owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "is_accepted": false, "score": -1, "last_activity_date": 1438817983, "creation_date": 1438817983, "answer_id": 31844545, "question_id": 31844188, "link": "https://stackoverflow.com/questions/31844188/interview-test-adding-using-a-recursive-algorithm-c/31844545#31844545", "title": "Interview test - adding using A Recursive Algorithm c#", "body": "<p>This would be cleaner without all the casting and <code>ToArray</code> required because the values are <code>byte[]</code> and not <code>IEnumerable&lt;int&gt;</code>, but:</p>\n\n<pre><code>private byte[] AddRecursive(byte[] a, byte[] b) {\n\n    if (a.Length == 0) return new byte[]{};\n\n    return \n        new byte[] { (byte)(a[0] + b[0]) }.Concat(\n        AddRecursive(a.Skip(1).ToArray(), b.Skip(1).ToArray())\n        ).ToArray();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1438819715, "post_id": 31844705, "comment_id": 51610958, "body": "Your second line is giving the wrong answer. it should be <code>1,2,0</code> because a unchecked overflow should cause the next item to the left to be incremented by 1."}], "tags": [], "owner": {"reputation": 1016, "user_id": 1409653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4c861670e45967da7c322ea09ef2ad?s=128&d=identicon&r=PG", "display_name": "YSharp", "link": "https://stackoverflow.com/users/1409653/ysharp"}, "is_accepted": false, "score": -1, "last_activity_date": 1438875141, "last_edit_date": 1438875141, "creation_date": 1438819085, "answer_id": 31844705, "question_id": 31844188, "link": "https://stackoverflow.com/questions/31844188/interview-test-adding-using-a-recursive-algorithm-c/31844705#31844705", "title": "Interview test - adding using A Recursive Algorithm c#", "body": "<p>Maybe your interviewer had something like this in mind:</p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n    public static byte[] Add(byte[] a, byte[] b, int index = -1)\n    {\n        if (index &lt; 0)\n        {\n            return Add((byte[])a.Clone(), b, 0);\n        }\n        if (index &lt; a.Length)\n        {\n            Add(a, b, index + 1);\n            a[index] += b[index];\n        }\n        return a;\n    }\n\n    public static void Main(string[] args)\n    {\n        var r1 = Add(new byte[] { 1, 1, 1 }, new byte[] { 1, 1, 1 });\n        var r2 = Add(new byte[] { 1, 1, 255 }, new byte[] { 0, 0, 1 });\n        var r3 = Add(new byte[] { 0, 100, 200 }, new byte[] { 3, 2, 1 });\n        // Outputs: 2, 2, 2\n        Console.WriteLine(string.Join(\", \", r1.Select(n =&gt; \"\" + n).ToArray()));\n        // Outputs: 1, 1, 0\n        Console.WriteLine(string.Join(\", \", r2.Select(n =&gt; \"\" + n).ToArray()));\n        // Outputs: 3, 102, 201\n        Console.WriteLine(string.Join(\", \", r3.Select(n =&gt; \"\" + n).ToArray()));\n    }\n}\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/UqSQb3\" rel=\"nofollow\">https://dotnetfiddle.net/UqSQb3</a></p>\n\n<p><s>Note this (only partial) solution doesn't handle the carry on byte overflows, though.</s></p>\n\n<p>'Hope this helps,</p>\n"}, {"tags": [], "owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "is_accepted": false, "score": 0, "last_activity_date": 1474190089, "last_edit_date": 1474190089, "creation_date": 1438821890, "answer_id": 31845061, "question_id": 31844188, "link": "https://stackoverflow.com/questions/31844188/interview-test-adding-using-a-recursive-algorithm-c/31845061#31845061", "title": "Interview test - adding using A Recursive Algorithm c#", "body": "<p>Ok here is some rather \"ugly\" code that does what you want.  I tried to write it for clarity rather than brevity:</p>\n\n<pre><code>static byte[] AddArray(byte[] ary1, byte[] ary2) {\n    System.Diagnostics.Debug.Assert(ary1.Length == ary2.Length);\n    if ((ary1 == null) || (ary2 == null)) {\n        throw new ArgumentException(\"Empty or null array\");\n    }\n    // sum the last element\n    var ix = ary1.Length - 1;\n    var sum = (ary1[ix] + ary2[ix]);\n    if (sum &gt; byte.MaxValue) {\n        if (ix == 0) {\n            throw new ArgumentException(\"Overflow\");\n        }\n        // Add carry by recursing on ary1\n        var carry = (byte) (sum - byte.MaxValue);\n        var carryAry = new byte[ary1.Length];\n        carryAry[ix - 1] = carry;\n        ary1 = AddArray(ary1, carryAry);\n    }\n\n    if ((ary1.Length == 1) || (ary2.Length == 1)) {\n        return new byte[] { (byte) sum }; // end recursion\n    }\n    // create the remainder, elements from 0 it (len-1)\n    var ary1Remainder = new byte[ary1.Length - 1];\n    var ary2Remainder = new byte[ary2.Length - 1];\n    Array.Copy(ary1, 0, ary1Remainder, 0, ary1.Length - 1);\n    Array.Copy(ary2, 0, ary2Remainder, 0, ary2.Length - 1);\n    // recurse\n    var remainder = AddArray(ary1Remainder, ary2Remainder);\n    // build return array (using linq Concat)\n    var rv = (remainder.Concat(new byte[] { (byte) sum }));\n    return rv.ToArray(); // return as an array \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 2026160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvIXh.jpg?s=128&g=1", "display_name": "Muhammad Suleman", "link": "https://stackoverflow.com/users/2026160/muhammad-suleman"}, "is_accepted": false, "score": 0, "last_activity_date": 1474159562, "last_edit_date": 1474159562, "creation_date": 1474147798, "answer_id": 39551925, "question_id": 31844188, "link": "https://stackoverflow.com/questions/31844188/interview-test-adding-using-a-recursive-algorithm-c/39551925#39551925", "title": "Interview test - adding using A Recursive Algorithm c#", "body": "<pre><code>private int carry = 0;        \npublic byte[] AddRecursive(byte[] a, byte[] b)\n{\n    //Start from bottom of the byte[] array\n    a = a.Reverse().ToArray();\n    b = b.Reverse().ToArray();\n    if (a.Length == 0) return new byte[] { };            \n    int tempresult = a[0] + b[0] + carry;\n    byte[] z = new byte[]\n    { (byte)(tempresult) };\n    carry = tempresult / (byte.MaxValue + 1);\n    return z.Concat(AddRecursive(a.Skip(1).ToArray(), b.Skip(1).ToArray())).ToArray();\n}\n\n//Test//\n\n[Test]\npublic void Add_UsingARecursiveAlgorithm_ValuesAreAdded()\n{\n    //First Test\n    byte[] expectedResult = addthisaddthat.AddRecursive(new byte[] { 1, 1, 1 }, new byte[] { 1, 1, 1 }).Reverse().ToArray();\n    Assert.That(expectedResult, Is.EqualTo(new byte[] { 2, 2, 2 }));\n    //Sec Test\n    expectedResult = addthisaddthat.AddRecursive(new byte[] { 1, 1, 255 }, new byte[] { 0, 0, 1 }).Reverse().ToArray();\n    Assert.That(expectedResult, Is.EqualTo(new byte[] { 1, 2, 0 }));\n    //Third Test\n    expectedResult = addthisaddthat.AddRecursive(new byte[] { 255, 255, 255 }, new byte[] { 255, 255, 255 }).Reverse().ToArray();\n    Assert.That(expectedResult, Is.EqualTo(new byte[] { 255, 255, 254 }));\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5195938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f622c6d1cfcf7b80d98b177b6e60de4a?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5195938/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 1, "answer_count": 4, "score": -1, "last_activity_date": 1474190089, "creation_date": 1438815530, "last_edit_date": 1592644375, "question_id": 31844188, "link": "https://stackoverflow.com/questions/31844188/interview-test-adding-using-a-recursive-algorithm-c", "title": "Interview test - adding using A Recursive Algorithm c#", "body": "<p>Below is an interview question about using recursion to add two arrays.</p>\n<p>I can't figure it out though because it does not seem to allow any kind of index to keep track of where you are, I have been down a few roads - trying to test for null / default values in the array but because it is a byte[] type nothing worked.</p>\n<p>Any help would be great thanks - this is not a homework question.</p>\n<pre><code>public AddResult UsingARecursiveAlgorithm_ValuesAreAdded(byte[] a, byte[] b)\n{\n    var result = AddRecursive(a, b);\n\n    // Assert\n\n    return new AddResult(a, b, result);\n}\n</code></pre>\n<p>e.g.</p>\n<blockquote>\n<p>Input : { 1, 1, 1 }, { 1, 1, 1 }</p>\n<p>Result: { 2, 2, 2 }</p>\n<p>Input : { 1, 1, 255 }, { 0, 0, 1 }</p>\n<p>Result: { 1, 2, 0 }</p>\n</blockquote>\n<p>Conditions:</p>\n<p>a &amp; b are never null, and are always of the same length.</p>\n<p>The algorithm should be non destructive to the inputs.</p>\n<p>Edit: the second result is incorrect. It should be { 1,1,0 } -that's the way it was presented though.</p>\n"}, {"tags": ["c#", ".net", "wpf", "forms"], "comments": [{"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438815388, "post_id": 31844151, "comment_id": 51609804, "body": "What solution did you choose for implenting the icon finally?"}, {"owner": {"reputation": 231, "user_id": 2563518, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9de48c9e3c5e4eecedfa77cc7aa5190b?s=128&d=identicon&r=PG", "display_name": "OmegaNine", "link": "https://stackoverflow.com/users/2563518/omeganine"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438820538, "post_id": 31844151, "comment_id": 51611161, "body": "@sprinter252 I ended up using David Anson&#39;s &quot;MinimizeToTray&quot; from his blog at <a href=\"http://dlaa.me/blog/post/9889700\" rel=\"nofollow noreferrer\">dlaa.me/blog/post/9889700</a> with the help of SimCard.  Worked like a charm and added almost nothing to the app."}], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 2563518, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9de48c9e3c5e4eecedfa77cc7aa5190b?s=128&d=identicon&r=PG", "display_name": "OmegaNine", "link": "https://stackoverflow.com/users/2563518/omeganine"}, "edited": false, "score": 0, "creation_date": 1438820336, "post_id": 31844313, "comment_id": 51611123, "body": "Wow with screen shots and all.  Thank you very much, exactly what I was looking for.  Works like a charm and is slim as heck."}, {"owner": {"reputation": 295, "user_id": 5179216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13d50d8ba0fd0b7f5c47057f136a21f?s=128&d=identicon&r=PG&f=1", "display_name": "SimCard", "link": "https://stackoverflow.com/users/5179216/simcard"}, "reply_to_user": {"reputation": 231, "user_id": 2563518, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9de48c9e3c5e4eecedfa77cc7aa5190b?s=128&d=identicon&r=PG", "display_name": "OmegaNine", "link": "https://stackoverflow.com/users/2563518/omeganine"}, "edited": false, "score": 0, "creation_date": 1438856108, "post_id": 31844313, "comment_id": 51625807, "body": "Glad I could help! Don&#39;t forget to mark this as the answer if you thought it answered your question."}], "tags": [], "owner": {"reputation": 295, "user_id": 5179216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13d50d8ba0fd0b7f5c47057f136a21f?s=128&d=identicon&r=PG&f=1", "display_name": "SimCard", "link": "https://stackoverflow.com/users/5179216/simcard"}, "is_accepted": true, "score": 3, "last_activity_date": 1438816381, "creation_date": 1438816381, "answer_id": 31844313, "question_id": 31844151, "link": "https://stackoverflow.com/questions/31844151/implementing-system-window-forms-in-wpf/31844313#31844313", "title": "Implementing System.Window.Forms in WPF", "body": "<p>Assuming you are using Visual Studio:</p>\n\n<p>In the Solution Explorer expand your project and right click on \"References\"</p>\n\n<p>Go to \"Add Reference...\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/xDqWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDqWx.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the Reference Manager, go to Assemblies -> Framework.</p>\n\n<p>Scroll to System.Windows.Forms and check the box to include the assembly in your project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KlnBN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlnBN.png\" alt=\"enter image description here\"></a></p>\n\n<p>You should now be able to add packages under the Windows.Forms assembly.</p>\n"}], "owner": {"reputation": 231, "user_id": 2563518, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9de48c9e3c5e4eecedfa77cc7aa5190b?s=128&d=identicon&r=PG", "display_name": "OmegaNine", "link": "https://stackoverflow.com/users/2563518/omeganine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 31844313, "answer_count": 1, "score": 2, "last_activity_date": 1438816381, "creation_date": 1438815235, "question_id": 31844151, "link": "https://stackoverflow.com/questions/31844151/implementing-system-window-forms-in-wpf", "title": "Implementing System.Window.Forms in WPF", "body": "<p>I have been trying to find a way to add a notify Icon to an app I am writing in WPF C#.  I have found many links to <a href=\"https://bitbucket.org/hardcodet/notifyicon-wpf/\" rel=\"nofollow\">WPF NotifyIcon</a> and while it does do what I want,5 its adds tens of megs to the memory footprint of a 5-8 meg footprint app.  It is a bit overkill.</p>\n\n<p>I have also found many tutorials on how to use System.Window.Form to do this and most of them just say to reference them (I assume this means using the 'using' directive).  When I try it gives me and error saying that that \"forms\" doesn't exist in the namespace \"Windows\".  I thought maybe this was outdated and depreciated but I came across the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.notifyicon.aspx\" rel=\"nofollow\">MSDN Documentation</a> for NotifyIcon and it looks current to 4.5.  </p>\n\n<p>Is there another way I should be implementing this?  Any help would be appreciated. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf", "multiple-inheritance"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1438815520, "post_id": 31844127, "comment_id": 51609840, "body": "You could try to solve the &quot;must inherit directly from window&quot; problem.. Or, you could extract the <code>CurrentView</code> property to a separate class and have your windows passthrough to an instance of it."}, {"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 1, "creation_date": 1438815548, "post_id": 31844127, "comment_id": 51609846, "body": "Use composition instead of inheritance. <a href=\"https://en.wikipedia.org/wiki/Object_composition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Object_composition</a>"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1438815921, "post_id": 31844127, "comment_id": 51609957, "body": "I find it hard to believe that they must inherit directly from Window, but I haven&#39;t done WPF for a while so can&#39;t make a valid judgment here."}], "answers": [{"comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1438816343, "post_id": 31844274, "comment_id": 51610092, "body": "Don&#39;t forget to make your classes implement that interface."}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1438816454, "post_id": 31844274, "comment_id": 51610123, "body": "@DavidG Thanks I added that"}, {"owner": {"reputation": 1208, "user_id": 788301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e99dc9eb0e2f0d943aa442dffd4c7432?s=128&d=identicon&r=PG&f=1", "display_name": "ILIA BROUDNO", "link": "https://stackoverflow.com/users/788301/ilia-broudno"}, "edited": false, "score": 0, "creation_date": 1438885051, "post_id": 31844274, "comment_id": 51645204, "body": "Not an answer due to using BaseWindow (which I mentioned at the top of my question)"}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 1208, "user_id": 788301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e99dc9eb0e2f0d943aa442dffd4c7432?s=128&d=identicon&r=PG&f=1", "display_name": "ILIA BROUDNO", "link": "https://stackoverflow.com/users/788301/ilia-broudno"}, "edited": false, "score": 0, "creation_date": 1438933926, "post_id": 31844274, "comment_id": 51662809, "body": "@ILIABROUDNO You don&#39;t have to inherit from BaseWindow at all. I just left the code as it was in your sample to give you a starting point. You could put everything into the interface and inherti from Window normally."}], "tags": [], "owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "is_accepted": false, "score": 0, "last_activity_date": 1438816440, "last_edit_date": 1438816440, "creation_date": 1438816139, "answer_id": 31844274, "question_id": 31844127, "link": "https://stackoverflow.com/questions/31844127/c-multiple-inheritance-replacement/31844274#31844274", "title": "C# Multiple inheritance replacement", "body": "<p>Maybe something like this using DI-like style:</p>\n\n<pre><code>public interface IWindowHandler\n{\n    View GetCurrentView();\n}\n\npublic class MasterWindowHandler : IWindowHandler\n{\n    public View GetCurrentView()\n    {\n    }\n}\n\npublic class SomeOtherWindowHandler : IWindowHandler\n{\n\n    public View GetCurrentView()\n    {\n    }\n}\n\n// all your windows should inherit from this type\npublic class MyBaseWindow : Window\n{\n\n    protected IWindowHander _handler;\n\n    public MyBaseWindow(IWindowHandler handler)\n    {\n        _handler = handler;\n    }\n\n    protected View m_CurrentView = null;\n\n    public View CurrentView \n    { \n        get { return m_CurrentView; } \n        set \n        {\n            // your code\n        }\n    } \n}\n\n// a sample window code\npublic partial class MasterWindow : MyBaseWindow \n{\n    public MasterWindow(IWindowHandler handler) : base(handler)\n    {\n    }\n}\n</code></pre>\n\n<p>Of course you have to take care inside the instantiation of the window but you can easily change the implementation without touching the window itself.</p>\n\n<pre><code>using (var window = new MasterWindow(new MasterWindowHandler()))\n{\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 788301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e99dc9eb0e2f0d943aa442dffd4c7432?s=128&d=identicon&r=PG&f=1", "display_name": "ILIA BROUDNO", "link": "https://stackoverflow.com/users/788301/ilia-broudno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438885291, "creation_date": 1438815120, "last_edit_date": 1438885291, "question_id": 31844127, "link": "https://stackoverflow.com/questions/31844127/c-multiple-inheritance-replacement", "title": "C# Multiple inheritance replacement", "body": "<p>I am looking or a better way to do in C# what would otherwise be a simple multiple inheritance pattern.</p>\n\n<p>I have Master and Slave windows inheriting from WPF's Window class and I want them both to have another common interface/functionality.\nI thought first of implementing a BaseWindow class that would inherit from Window and both Slave and Master would inherit from, \n<br><b>but due to some issues in WPF they (Master and Slave windows) have to inherit directly from Window (NOT BaseWindow)</b>.<br>\nSo then I defined an interface like so</p>\n\n<pre><code>public interface MasterOrSlaveWindow\n{\n    View CurrentView { get; set; }\n}\n</code></pre>\n\n<p>And both Master and Slave implement it:</p>\n\n<pre><code>public partial class SlaveWindwow : Window, MasterOrSlaveWindow\n{\n    protected View m_CurrentView = null;\n    public View CurrentView { \n        get { return m_CurrentView; } \n        set \n        {\n            if (value == null &amp;&amp; m_CurrentView != null)\n                m_CurrentView.Owner = null;\n\n            m_CurrentView = value; \n\n            if (m_CurrentView != null) \n                m_CurrentView.Owner = this;\n        } \n    }\n}\n</code></pre>\n\n<p>It works in the case where the implementation is different, but for the case when it is the same we have code duplication:</p>\n\n<pre><code>public partial class MasterWindwow : Window, MasterOrSlaveWindow\n{\n    protected View m_CurrentView = null;\n    public View CurrentView { \n        get { return m_CurrentView; } \n        set \n        {\n            if (value == null &amp;&amp; m_CurrentView != null)\n                m_CurrentView.Owner = null;\n\n            m_CurrentView = value; \n\n            if (m_CurrentView != null) \n                m_CurrentView.Owner = this;\n        } \n    }\n}\n</code></pre>\n\n<p>What's a good way to avoid code duplication in this case?</p>\n"}, {"tags": ["c#", ".net", "ternary-operator", "string-interpolation", "c#-6.0"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "reply_to_user": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 10, "creation_date": 1444139321, "post_id": 31844058, "comment_id": 53768210, "body": "@Sinatr Updated link: <a href=\"http://thebillwagner.com/Blog/Item/2015-07-05-StringInterpolationandtheConditionalOperators\" rel=\"nofollow noreferrer\">thebillwagner.com/Blog/Item/&hellip;</a>"}, {"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1462955575, "post_id": 31844058, "comment_id": 61850613, "body": "The same applies to the <a href=\"https://msdn.microsoft.com/en-us/library/htccxtad.aspx\" rel=\"nofollow noreferrer\">namespace alias qualifier (::)</a>."}, {"owner": {"reputation": 4421, "user_id": 774575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I2J58.png?s=128&g=1", "display_name": "mins", "link": "https://stackoverflow.com/users/774575/mins"}, "edited": false, "score": 0, "creation_date": 1588254080, "post_id": 31844058, "comment_id": 108832368, "body": "Roslyn team related discussion: <a href=\"https://github.com/dotnet/roslyn/issues/12214\" rel=\"nofollow noreferrer\">Strange syntax error in interpolated string when using ?:</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1838, "user_id": 2386040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e41c72581e394cb95e6ac4c1be9bfb90?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2386040/jan"}, "edited": false, "score": 6, "creation_date": 1579518464, "post_id": 31844059, "comment_id": 105781054, "body": "Even more interesting example is this one when you need to use a nested interpolation string:  <code>Console.WriteLine($&quot;Cargo Weight: {(ship.WeightAvailable ? $&quot;{ship.Weight:0.00}&quot; : &quot;n&#47;a&quot;)}&quot;);</code>"}], "tags": [], "owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "is_accepted": true, "score": 824, "last_activity_date": 1564002265, "last_edit_date": 1592644375, "creation_date": 1438814744, "answer_id": 31844059, "question_id": 31844058, "link": "https://stackoverflow.com/questions/31844058/how-to-use-the-ternary-operator-inside-an-interpolated-string/31844059#31844059", "title": "How to use the ternary operator inside an interpolated string?", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The structure of an interpolated string is as follows:</p>\n<p><code>{ &lt;interpolationExpression&gt;[,&lt;alignment&gt;][:&lt;formatString&gt;] }</code></p>\n</blockquote>\n<p>The problem is that the colon is used to denote formatting, like:</p>\n<pre><code>Console.WriteLine($&quot;The current hour is {hours:hh}&quot;)\n</code></pre>\n<p>The solution is to <strong>wrap</strong> the conditional in parenthesis:</p>\n<pre><code>var result = $&quot;Descending {(isDescending ? &quot;yes&quot; : &quot;no&quot;)}&quot;;\n</code></pre>\n"}], "owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60241, "favorite_count": 32, "accepted_answer_id": 31844059, "answer_count": 1, "score": 454, "last_activity_date": 1564002265, "creation_date": 1438814744, "last_edit_date": 1561714570, "question_id": 31844058, "link": "https://stackoverflow.com/questions/31844058/how-to-use-the-ternary-operator-inside-an-interpolated-string", "title": "How to use the ternary operator inside an interpolated string?", "body": "<p>I'm confused as to why this code won't compile:</p>\n\n<pre><code>var result = $\"{fieldName}{isDescending ? \" desc\" : string.Empty}\";\n</code></pre>\n\n<p>If I split it up, it works fine:</p>\n\n<pre><code>var desc = isDescending ? \" desc\" : string.Empty;\nvar result = $\"{fieldName}{desc}\";\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-5", "string-interpolation"], "answers": [{"comments": [{"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1438869029, "post_id": 31844741, "comment_id": 51634610, "body": "I get this: Severity\tCode\tDescription\tProject\tFile\tLine Error\tCS0019\tOperator &#39;-&#39; cannot be applied to operands of type &#39;string&#39; and &#39;string&#39;"}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1438872986, "post_id": 31844741, "comment_id": 51637666, "body": "I added a curly brace at the beginning. Is it better now? You have to check the thing by yourself. Thats why I added the principle sample."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1439326404, "post_id": 31844741, "comment_id": 51812794, "body": "nop, that doesnt work, I still get the same error from first comment, your line works perfectly fine, but mine doesnt."}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1439460790, "post_id": 31844741, "comment_id": 51875505, "body": "How about replacing <code>{&quot;Compania&quot;}</code>with <code>{Compania}</code>?"}], "tags": [], "owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "is_accepted": false, "score": 3, "last_activity_date": 1438872946, "last_edit_date": 1438872946, "creation_date": 1438819356, "answer_id": 31844741, "question_id": 31844056, "link": "https://stackoverflow.com/questions/31844056/feature-interpolated-strings-is-not-available-in-c-5-please-use-language-ver/31844741#31844741", "title": "Feature &#39;interpolated strings&#39; is not available in C# 5. Please use language version 6 or greater.", "body": "<p>You have to encapsulate it with braces like this:</p>\n\n<p>EDIT: I updated because there was a missing curly.</p>\n\n<pre><code>var extPropLookupNameCompania = $(\"{extension_{SettingsHelper.ClientId.Replace(\"-\", \"\")}_{\"Compania\"}\");\n</code></pre>\n\n<p>I tried the following successfully:</p>\n\n<pre><code> @($\"It is {DateTime.Now}\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 114, "user_id": 1208897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d1075bb647e1dd7d12c8047bd45ad9?s=128&d=identicon&r=PG", "display_name": "omufeed", "link": "https://stackoverflow.com/users/1208897/omufeed"}, "edited": false, "score": 12, "creation_date": 1446559078, "post_id": 32375293, "comment_id": 54785386, "body": "If the error does not go away, installing the following NuGet package may help.  <code>PM&gt; Install-Package Microsoft.CodeDom.Providers.DotNetCompilerPlatform</code>"}, {"owner": {"reputation": 938, "user_id": 835677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ecafab42b0b9cb26ca9f1b8df4f18c?s=128&d=identicon&r=PG", "display_name": "tlbignerd", "link": "https://stackoverflow.com/users/835677/tlbignerd"}, "edited": false, "score": 1, "creation_date": 1450210852, "post_id": 32375293, "comment_id": 56339078, "body": "Here&#39;s some detail on the codeDom package: <a href=\"http://dusted.codes/using-csharp-6-features-in-aspdotnet-mvc-5-razor-views\" rel=\"nofollow noreferrer\">dusted.codes/&hellip;</a>"}, {"owner": {"reputation": 5409, "user_id": 410928, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CnRHr.jpg?s=128&g=1", "display_name": "Giles Roberts", "link": "https://stackoverflow.com/users/410928/giles-roberts"}, "edited": false, "score": 8, "creation_date": 1452507907, "post_id": 32375293, "comment_id": 57183982, "body": "I&#39;m on .NET Framework 4.6 and I still get this error."}, {"owner": {"reputation": 998, "user_id": 954548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac64e7323ccd97b97aba1fa12ff1000?s=128&d=identicon&r=PG", "display_name": "Saulius", "link": "https://stackoverflow.com/users/954548/saulius"}, "edited": false, "score": 1, "creation_date": 1486123065, "post_id": 32375293, "comment_id": 71221373, "body": "Real answer is in comments by @omufeed or tlbignerd not in content labeled as answers."}, {"owner": {"reputation": 1464, "user_id": 1131665, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5d93fb98320eaaec43a238d4b758b7f8?s=128&d=identicon&r=PG", "display_name": "C\u0103t\u0103lin R\u0103doi", "link": "https://stackoverflow.com/users/1131665/c%c4%83t%c4%83lin-r%c4%83doi"}, "edited": false, "score": 0, "creation_date": 1492705179, "post_id": 32375293, "comment_id": 74103082, "body": "What worked for me was installing the Microsoft.CodeDom.Providers.DotNetCompilerPlatform"}], "tags": [], "owner": {"reputation": 114, "user_id": 1208897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d1075bb647e1dd7d12c8047bd45ad9?s=128&d=identicon&r=PG", "display_name": "omufeed", "link": "https://stackoverflow.com/users/1208897/omufeed"}, "is_accepted": true, "score": 3, "last_activity_date": 1441282292, "creation_date": 1441282292, "answer_id": 32375293, "question_id": 31844056, "link": "https://stackoverflow.com/questions/31844056/feature-interpolated-strings-is-not-available-in-c-5-please-use-language-ver/32375293#32375293", "title": "Feature &#39;interpolated strings&#39; is not available in C# 5. Please use language version 6 or greater.", "body": "<p>If you are experiencing this error in a .NET Framework 4.5.1 project, upgrading to 4.5.2 solves the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 913, "user_id": 3785010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef94047f3c494a38975cd1dcd2da7bce?s=128&d=identicon&r=PG&f=1", "display_name": "user3785010", "link": "https://stackoverflow.com/users/3785010/user3785010"}, "is_accepted": false, "score": 0, "last_activity_date": 1504136141, "creation_date": 1504136141, "answer_id": 45971177, "question_id": 31844056, "link": "https://stackoverflow.com/questions/31844056/feature-interpolated-strings-is-not-available-in-c-5-please-use-language-ver/45971177#45971177", "title": "Feature &#39;interpolated strings&#39; is not available in C# 5. Please use language version 6 or greater.", "body": "<p>The key is to see the compilerOptions=\"/langversion:6 portion of the following in your web.config.  Without it I got errors trying to use string interpolation inside a .cshtml file.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;system.codedom&gt;\r\n    &lt;compilers&gt;\r\n      &lt;compiler language=\"c#;cs;csharp\" extension=\".cs\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:6 /nowarn:1659;1699;1701\" /&gt;\r\n      &lt;compiler language=\"vb;vbs;visualbasic;vbscript\" extension=\".vb\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:14 /nowarn:41008 /define:_MYTYPE=\\&amp;quot;Web\\&amp;quot; /optionInfer+\" /&gt;\r\n    &lt;/compilers&gt;\r\n  &lt;/system.codedom&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6281, "favorite_count": 0, "accepted_answer_id": 32375293, "answer_count": 3, "score": 12, "last_activity_date": 1504136141, "creation_date": 1438814731, "question_id": 31844056, "link": "https://stackoverflow.com/questions/31844056/feature-interpolated-strings-is-not-available-in-c-5-please-use-language-ver", "title": "Feature &#39;interpolated strings&#39; is not available in C# 5. Please use language version 6 or greater.", "body": "<p>The following line does not compile when I put in a Razor View.</p>\n\n<pre><code>var extPropLookupNameCompania = $\"extension_{SettingsHelper.ClientId.Replace(\"-\", \"\")}_{\"Compania\"}\";\n</code></pre>\n\n<p>However in the controller the same line works perfectly fine.</p>\n\n<p>Why I cant user string interpolation on the razor views? or Maybe I need to configure something?</p>\n"}, {"tags": ["c#", "tcp"], "comments": [{"owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "edited": false, "score": 0, "creation_date": 1438815140, "post_id": 31844021, "comment_id": 51609729, "body": "Are you by chance re-attaching the event, so you have the event fire more than once?"}, {"owner": {"reputation": 43, "user_id": 3368656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1MSdc.png?s=128&g=1", "display_name": "Luk&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/3368656/luk%c3%a1%c5%a1-linhart"}, "reply_to_user": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "edited": false, "score": 0, "creation_date": 1438815185, "post_id": 31844021, "comment_id": 51609741, "body": "Maybe but i want to know it is someway able to do it only once."}, {"owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "edited": false, "score": 0, "creation_date": 1438815221, "post_id": 31844021, "comment_id": 51609758, "body": "Try wiring up the event to the method that it calls in the Form_Load method"}], "answers": [{"tags": [], "owner": {"reputation": 1134, "user_id": 3970387, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IS4bh.png?s=128&g=1", "display_name": "Drarig29", "link": "https://stackoverflow.com/users/3970387/drarig29"}, "is_accepted": true, "score": 0, "last_activity_date": 1438815571, "creation_date": 1438815571, "answer_id": 31844199, "question_id": 31844021, "link": "https://stackoverflow.com/questions/31844021/thread-freeze-and-click/31844199#31844199", "title": "Thread freeze and click", "body": "<p>You should use a <a href=\"https://msdn.microsoft.com/fr-fr/library/Cc221403(v=VS.95).aspx\" rel=\"nofollow\">BackgroundWorker</a>.</p>\n\n<p>With that, your form should not freeze.</p>\n"}], "owner": {"reputation": 43, "user_id": 3368656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1MSdc.png?s=128&g=1", "display_name": "Luk&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/3368656/luk%c3%a1%c5%a1-linhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 1, "accepted_answer_id": 31844199, "answer_count": 1, "score": 0, "last_activity_date": 1438815571, "creation_date": 1438814504, "question_id": 31844021, "link": "https://stackoverflow.com/questions/31844021/thread-freeze-and-click", "title": "Thread freeze and click", "body": "<p>i have a window with tcp connection. When i await to response window freeze.(Unfreeze after get response) It's okay. But when it wait and i click on button again, after first freeze comes second with again waiting to response.</p>\n"}, {"tags": ["c#", "excel", "datagridview"], "comments": [{"owner": {"reputation": 704, "user_id": 2454723, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb8bd33a17c415d540360ae8fccc0e1d?s=128&d=identicon&r=PG", "display_name": "cdsln", "link": "https://stackoverflow.com/users/2454723/cdsln"}, "edited": false, "score": 0, "creation_date": 1438814354, "post_id": 31843970, "comment_id": 51609459, "body": "When you debug through it, which line throws the error?"}, {"owner": {"reputation": 17364, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 1, "creation_date": 1438815381, "post_id": 31843970, "comment_id": 51609803, "body": "This is C# and not VB.NET. Please remove the VB.NET tag."}, {"owner": {"reputation": 23, "user_id": 4959363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b30584bdf09febe946f9225a5ef79833?s=128&d=identicon&r=PG&f=1", "display_name": "AspOpener", "link": "https://stackoverflow.com/users/4959363/aspopener"}, "edited": false, "score": 0, "creation_date": 1438817219, "post_id": 31843970, "comment_id": 51610325, "body": "Sorry ! i am removing"}], "answers": [{"comments": [{"owner": {"reputation": 7784, "user_id": 115272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb61f1ba43c95e1b06667a79d865578?s=128&d=identicon&r=PG", "display_name": "Jacob Seleznev", "link": "https://stackoverflow.com/users/115272/jacob-seleznev"}, "edited": false, "score": 0, "creation_date": 1438816944, "post_id": 31844011, "comment_id": 51610250, "body": "..and change <code>dataGridView1.Rows[i+1]</code> to <code>dataGridView1.Rows[i]</code>"}, {"owner": {"reputation": 23, "user_id": 4959363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b30584bdf09febe946f9225a5ef79833?s=128&d=identicon&r=PG&f=1", "display_name": "AspOpener", "link": "https://stackoverflow.com/users/4959363/aspopener"}, "edited": false, "score": 1, "creation_date": 1438817447, "post_id": 31844011, "comment_id": 51610398, "body": "Thanks @Prashant ! You made my night :)"}, {"owner": {"reputation": 23, "user_id": 4959363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b30584bdf09febe946f9225a5ef79833?s=128&d=identicon&r=PG&f=1", "display_name": "AspOpener", "link": "https://stackoverflow.com/users/4959363/aspopener"}, "reply_to_user": {"reputation": 7784, "user_id": 115272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb61f1ba43c95e1b06667a79d865578?s=128&d=identicon&r=PG", "display_name": "Jacob Seleznev", "link": "https://stackoverflow.com/users/115272/jacob-seleznev"}, "edited": false, "score": 1, "creation_date": 1438817495, "post_id": 31844011, "comment_id": 51610413, "body": "Thanks @JacobSeleznev :) You made my night too :P"}], "tags": [], "owner": {"reputation": 651, "user_id": 1173442, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5nt8M.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/1173442/prashant"}, "is_accepted": true, "score": 3, "last_activity_date": 1438814913, "last_edit_date": 1438814913, "creation_date": 1438814434, "answer_id": 31844011, "question_id": 31843970, "link": "https://stackoverflow.com/questions/31843970/how-to-get-data-from-datagridview-using-loop/31844011#31844011", "title": "How to get data from datagridview using loop", "body": "<p>You have an off-by-one error in your for loop condition.</p>\n\n<p>Change it to use \"&lt;\" rather than \"&lt;=\" as shown below.</p>\n\n<pre><code>for (int i = 0; i &lt; dataGridView1.RowCount; i++)\n{\n    //Add items in the listview\n    string[] arr = new string[2];\n    ListViewItem itm;\n\n    //Add first item\n    arr[0] = dataGridView1.Rows[i+1].Cells[\"F1\"].Value.ToString();\n    arr[1] = \"Send\";\n    itm = new ListViewItem(arr);\n    listView1.Items.Add(itm);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4959363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b30584bdf09febe946f9225a5ef79833?s=128&d=identicon&r=PG&f=1", "display_name": "AspOpener", "link": "https://stackoverflow.com/users/4959363/aspopener"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1753, "favorite_count": 0, "accepted_answer_id": 31844011, "answer_count": 1, "score": 0, "last_activity_date": 1438817242, "creation_date": 1438814217, "last_edit_date": 1438817242, "question_id": 31843970, "link": "https://stackoverflow.com/questions/31843970/how-to-get-data-from-datagridview-using-loop", "title": "How to get data from datagridview using loop", "body": "<p>I am trying to get data from datagridview using for loop i.e take data one by one from row in datagrid and put in listview . but i got an exception \n\"Index was out of range. Must be non-negative and less than the size of the collection parameter name:index\" . \nThe data in datagridview is coming from excel sheet .I have following code :</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n {\nlistView1.Visible = true;\nlistView1.View = View.Details;\nlistView1.GridLines = true;\nlistView1.FullRowSelect = true;\n\n//Add column header\nlistView1.Columns.Add(\"Recipent Number\", 500);\nlistView1.Columns.Add(\"Status\", 100);\n\nfor (int i = 0; i &lt;= dataGridView1.RowCount; i++)\n{\n    //Add items in the listview\n    string[] arr = new string[2];\n    ListViewItem itm;\n\n    //Add first item\n    arr[0] = dataGridView1.Rows[i+1].Cells[\"F1\"].Value.ToString();\n    arr[1] = \"Send\";\n    itm = new ListViewItem(arr);\n    listView1.Items.Add(itm);\n\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "c#-6.0"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1438814556, "post_id": 31843962, "comment_id": 51609528, "body": "Does <code>string.Format(&quot;{0}-UnitTest&quot;, nameof(MyClass))</code> work?"}, {"owner": {"reputation": 1191, "user_id": 4269118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-BPhwWVVWLA8/AAAAAAAAAAI/AAAAAAAAAC0/G7y0OCgc4og/photo.jpg?sz=128", "display_name": "anatol", "link": "https://stackoverflow.com/users/4269118/anatol"}, "edited": false, "score": 1, "creation_date": 1595478571, "post_id": 31843962, "comment_id": 111489855, "body": "<a href=\"https://github.com/dotnet/csharplang/issues/2077\" rel=\"nofollow noreferrer\">github.com/dotnet/csharplang/issues/2077</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23746, "user_id": 25071, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g92nf.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/25071/jimmy"}, "is_accepted": false, "score": 6, "last_activity_date": 1438814516, "creation_date": 1438814516, "answer_id": 31844023, "question_id": 31843962, "link": "https://stackoverflow.com/questions/31843962/why-cant-i-use-string-interpolation-in-an-attribute/31844023#31844023", "title": "Why can&#39;t I use string interpolation in an attribute?", "body": "<p>Interpolated strings are not constant values.  The value is determined at runtime, even though in your case all inputs can be calculated at compile time.</p>\n"}, {"tags": [], "owner": {"reputation": 1374, "user_id": 4021938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Br738.png?s=128&g=1", "display_name": "Alex H", "link": "https://stackoverflow.com/users/4021938/alex-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1438814559, "last_edit_date": 1495542665, "creation_date": 1438814559, "answer_id": 31844026, "question_id": 31843962, "link": "https://stackoverflow.com/questions/31843962/why-cant-i-use-string-interpolation-in-an-attribute/31844026#31844026", "title": "Why can&#39;t I use string interpolation in an attribute?", "body": "<p>String interpolation happens in <a href=\"http://nblumhardt.com/2015/01/c-6-string-interpolation-and-serilog/\" rel=\"nofollow noreferrer\">runtime</a> and attributes are present in <a href=\"https://stackoverflow.com/questions/2311719/is-net-attribute-feature-used-at-compile-time-or-run-time-or-both\">compile time</a>.\nSo your compiler cant resolve this, as it would be compiled like so:</p>\n\n<pre><code>[TestCategory(new FormattableString\n  {\n    Format = \"{0}-UnitTest\",\n    Args = new object[] { nameof(MyClass)}\n  })]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "is_accepted": false, "score": 3, "last_activity_date": 1438814567, "last_edit_date": 1495541269, "creation_date": 1438814567, "answer_id": 31844029, "question_id": 31843962, "link": "https://stackoverflow.com/questions/31843962/why-cant-i-use-string-interpolation-in-an-attribute/31844029#31844029", "title": "Why can&#39;t I use string interpolation in an attribute?", "body": "<p>An attribute argument has to be a compile-time constant. While <code>nameof()</code> is a constant (see <a href=\"https://stackoverflow.com/questions/26573102/is-nameof-evaluated-at-compile-time\">Is nameof() evaluated at compile-time?</a>), the string interpolation feature itself is not.</p>\n\n<blockquote>\n  <p>An interpolated string expression creates a string by replacing the contained expressions with the ToString represenations of the expressions\u2019 results.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "edited": false, "score": 0, "creation_date": 1580796864, "post_id": 31850685, "comment_id": 106205510, "body": "Is there any workaround for this to be able to use nameof in Attribute?"}], "tags": [], "owner": {"reputation": 9368, "user_id": 5147646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363361e45f7631449119f8897267a271?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Booker", "link": "https://stackoverflow.com/users/5147646/alex-booker"}, "is_accepted": true, "score": 12, "last_activity_date": 1457032594, "last_edit_date": 1495542665, "creation_date": 1438849939, "answer_id": 31850685, "question_id": 31843962, "link": "https://stackoverflow.com/questions/31843962/why-cant-i-use-string-interpolation-in-an-attribute/31850685#31850685", "title": "Why can&#39;t I use string interpolation in an attribute?", "body": "<p>When the compiler encounters an interpolated string it immediately converts it into a call to <a href=\"https://msdn.microsoft.com/en-us/library/system.string.format(v=vs.110).aspx\" rel=\"noreferrer\"><code>String.Format</code></a> so...</p>\n\n<pre><code>[TestCategory($\"{nameof(MyClass)}-UnitTest\")]\n</code></pre>\n\n<p>Becomes...</p>\n\n<pre><code>[TestCategory(string.Format(\"{0}-UnitTest\", nameof(MyClass)))]\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/10445772/5147646\"><em>Attributes require that their arguments be constant expressions</em></a> but the above expression will not be evaluated until execution time hence the error...</p>\n\n<blockquote>\n  <p><a href=\"https://msdn.microsoft.com/en-us/library/09ze6t76(v=vs.90).aspx\" rel=\"noreferrer\">CS0182</a> An attribute argument must be a constant expression, typeof expression or array creation expression of an attribute parameter type...</p>\n</blockquote>\n\n<p><em>You</em> know all the information <em>is</em> available at compile time but the compiler is not smart enough to figure it out.</p>\n\n<p><code>nameof</code> works a bit differently than interpolated strings because it is <a href=\"https://stackoverflow.com/questions/26573102/is-nameof-evaluated-at-compile-time\"><em>evaluated at compile-time</em></a> so there is no error.</p>\n"}], "owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2498, "favorite_count": 1, "accepted_answer_id": 31850685, "answer_count": 4, "score": 18, "last_activity_date": 1457032594, "creation_date": 1438814167, "question_id": 31843962, "link": "https://stackoverflow.com/questions/31843962/why-cant-i-use-string-interpolation-in-an-attribute", "title": "Why can&#39;t I use string interpolation in an attribute?", "body": "<p>I'm writing unit tests (MSTest) in C# 6.0 and I noticed something strange in the way the compiler handles string interpolation in attributes.</p>\n\n<p>Why does this work:</p>\n\n<pre><code>[TestCategory(nameof(MyClass) + \"-UnitTest\")]\n</code></pre>\n\n<p>When this doesn't?</p>\n\n<pre><code>[TestCategory($\"{nameof(MyClass)}-UnitTest\")]\n</code></pre>\n\n<p>Ignoring the fact that this might not be a great way to categorize my tests; I'm curious why the compiler allows one and not the other.</p>\n"}, {"tags": ["c#", "linq", "linq-expressions"], "comments": [{"owner": {"reputation": 43, "user_id": 4500048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6b3926ad2af7d6372afde8e0ec041f?s=128&d=identicon&r=PG&f=1", "display_name": "urrmurrmur", "link": "https://stackoverflow.com/users/4500048/urrmurrmur"}, "reply_to_user": {"reputation": 806, "user_id": 2306415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117cf439e3c11d4fb8a94ce8c4747b80?s=128&d=identicon&r=PG", "display_name": "Simon Clough", "link": "https://stackoverflow.com/users/2306415/simon-clough"}, "edited": false, "score": 0, "creation_date": 1438860167, "post_id": 31843925, "comment_id": 51628328, "body": "Quite a lot of stuff, I&#39;ll add the most relevant things to the main post"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1443182577, "post_id": 31843925, "comment_id": 53401816, "body": "What type is <code>Value</code> supposed to be? <code>double</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4500048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6b3926ad2af7d6372afde8e0ec041f?s=128&d=identicon&r=PG&f=1", "display_name": "urrmurrmur", "link": "https://stackoverflow.com/users/4500048/urrmurrmur"}, "edited": false, "score": 0, "creation_date": 1438859811, "post_id": 31844640, "comment_id": 51628109, "body": "Thanks for the answer. I&#39;d looked into it before, and if there&#39;s no alternative, I&#39;d consider it, but I&#39;d prefer something type safe."}, {"owner": {"reputation": 4495, "user_id": 754830, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/33f18f893f87eebf1bcf03e649924354?s=128&d=identicon&r=PG", "display_name": "Ricketts", "link": "https://stackoverflow.com/users/754830/ricketts"}, "reply_to_user": {"reputation": 43, "user_id": 4500048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6b3926ad2af7d6372afde8e0ec041f?s=128&d=identicon&r=PG&f=1", "display_name": "urrmurrmur", "link": "https://stackoverflow.com/users/4500048/urrmurrmur"}, "edited": false, "score": 0, "creation_date": 1438873656, "post_id": 31844640, "comment_id": 51638219, "body": "I understand. I have had to use these libraries to create queries for reporting where the user had the ability to set their own criteria and select fields. These libraries worked extremely well for that case. I also tried what you did with expressions and this was 100x easier. However, I also understand wanting strongly typed."}, {"owner": {"reputation": 43, "user_id": 4500048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6b3926ad2af7d6372afde8e0ec041f?s=128&d=identicon&r=PG&f=1", "display_name": "urrmurrmur", "link": "https://stackoverflow.com/users/4500048/urrmurrmur"}, "edited": false, "score": 0, "creation_date": 1438888915, "post_id": 31844640, "comment_id": 51647358, "body": "It&#39;s not just that, but also that I&#39;m sure it should be possible to do it with expressions and I would really like to know what I&#39;m doing wrong. Abandoning them because I&#39;m unable to fix it feels like a cop-out."}], "tags": [], "owner": {"reputation": 4495, "user_id": 754830, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/33f18f893f87eebf1bcf03e649924354?s=128&d=identicon&r=PG", "display_name": "Ricketts", "link": "https://stackoverflow.com/users/754830/ricketts"}, "is_accepted": false, "score": 0, "last_activity_date": 1438818635, "creation_date": 1438818635, "answer_id": 31844640, "question_id": 31843925, "link": "https://stackoverflow.com/questions/31843925/dynamically-selecting-column-and-aggregate-function-in-linq/31844640#31844640", "title": "Dynamically selecting column and aggregate function in Linq", "body": "<p>You can use a DynamicLINQ library. These allow you to construct your queries using strings. Here are a few links (some of these may be extensions of each other - didn't look too much into each).</p>\n\n<p><a href=\"https://www.nuget.org/packages/System.Linq.Dynamic/\" rel=\"nofollow\">https://www.nuget.org/packages/System.Linq.Dynamic/</a></p>\n\n<p><a href=\"http://weblogs.asp.net/scottgu/dynamic-linq-part-1-using-the-linq-dynamic-query-library\" rel=\"nofollow\">http://weblogs.asp.net/scottgu/dynamic-linq-part-1-using-the-linq-dynamic-query-library</a></p>\n\n<p><a href=\"https://dynamiclinq.codeplex.com/\" rel=\"nofollow\">https://dynamiclinq.codeplex.com/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1232, "user_id": 3187237, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/779ed0d1a789d57e0580270818efcfd3?s=128&d=identicon&r=PG", "display_name": "nlips", "link": "https://stackoverflow.com/users/3187237/nlips"}, "is_accepted": false, "score": 0, "last_activity_date": 1443181069, "creation_date": 1443181069, "answer_id": 32781334, "question_id": 31843925, "link": "https://stackoverflow.com/questions/31843925/dynamically-selecting-column-and-aggregate-function-in-linq/32781334#32781334", "title": "Dynamically selecting column and aggregate function in Linq", "body": "<p>A type safe solution is to build the <code>GroupBy</code> expression dynamicaly. My component <a href=\"http://www.adaptivelinq.com\" rel=\"nofollow\">AdaptiveLINQ</a> has been designed for this.</p>\n\n<p>It introduced the concept of <em>cube</em> in a LINQ query.</p>\n\n<p>Just define a cube with 1 dynamic dimension and 1 dynamic measure.</p>\n\n<pre><code>class MyCubeItem\n{\n  public string Name { get; set; }\n  public double Value { get; set; }\n}\n\nclass MyCube : ICubeDefinition&lt;CoacheeData, MyCubeItem&gt;\n{\n  public string DimensionName { get; set; }\n  public string AggregateName { get; set; }\n  public string AggregateOperator { get; set; }\n\n  public Expression&lt;Func&lt;CoacheeData, string&gt; Name\n  {\n    get\n    {\n      switch (DimensionName)\n      {\n        case \"UserId\":\n          return x =&gt; x.UserId;\n        ...\n      }\n    }\n  }\n\n  public Expression&lt;Func&lt;CoacheeData, string&gt; Value\n  {\n    get\n    {\n      switch (AggregateName)\n      {\n        case \"Steps\":\n        switch (AggregateOperator)\n        {\n          case \"Sum\":\n            return items =&gt; items.Sum(x =&gt; x.Steps);\n          ...\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>And use the <code>QueryByCube</code> LINQ extension method:</p>\n\n<pre><code>var result = DbContext.CoacheeData\n  .QueryByCube(new MyCube() {\n     DimensionName = \"UserId\",\n     AggregateName = \"Steps\",\n     AggregateOperator = \"Sum\"\n   })\n  .Select(x =&gt; new LeaderboardEntry() {\n     Name = x.Name,\n     Value = x.Value\n   });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2222, "user_id": 358661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/87d887b202ba5d0b07ee2a0246f64efe?s=128&d=identicon&r=PG&f=1", "display_name": "Chad Carisch", "link": "https://stackoverflow.com/users/358661/chad-carisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1445519962, "creation_date": 1445519962, "answer_id": 33282031, "question_id": 31843925, "link": "https://stackoverflow.com/questions/31843925/dynamically-selecting-column-and-aggregate-function-in-linq/33282031#33282031", "title": "Dynamically selecting column and aggregate function in Linq", "body": "<p>You almost have it. In order to do this you need to only use the extension methods when passing in expressions. EF's linq to sql does not support passing an expression into an expression. </p>\n\n<p>Note that the following works best if its one numeric datatype. I'm using <code>float</code>;</p>\n\n<pre><code>var baseQ  = (from data in DbContext.CoacheeData\n              group data by data.UserId into g\n              select g);\nExpression&lt;Func&lt;CoacheeData,float&gt; expression;\nswitch(propName){\n    case \"Distance\": \n         expression = x=&gt; x.Distance; break;\n    case \"CaloriesBurned\":\n         expression = x=&gt;x.CaloriesBurned; break;\n}\n\nswitch(aggregateFn) {\n\n     case AggregateFn.Sum: \n          return baseQ.Sum(expression);\n     case AggregateFn.Max: \n          return baseQ.Max(expression);   \n\n     //...      \n}\n</code></pre>\n\n<p><code>AggregateFn</code> is an enum in this example. </p>\n"}], "owner": {"reputation": 43, "user_id": 4500048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6b3926ad2af7d6372afde8e0ec041f?s=128&d=identicon&r=PG&f=1", "display_name": "urrmurrmur", "link": "https://stackoverflow.com/users/4500048/urrmurrmur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1368, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1445519962, "creation_date": 1438813976, "last_edit_date": 1439408317, "question_id": 31843925, "link": "https://stackoverflow.com/questions/31843925/dynamically-selecting-column-and-aggregate-function-in-linq", "title": "Dynamically selecting column and aggregate function in Linq", "body": "<p>I have a query in Linq that needs to be dynamically adjustable based on some values a user selects in a form. My query looks as follows:</p>\n\n<pre><code>(from data in DbContext.CoacheeData\n group data by data.UserId into g\n select new LeaderboardEntry\n {\n     Name = g.FirstOrDefault().UserName,\n     Value = g.Sum(data =&gt; data.Steps),\n }); \n</code></pre>\n\n<p>I would like two aspects of this query to be dynamic:</p>\n\n<ul>\n<li>The aggregate function used to calculate the value (could be sum, average or max)</li>\n<li>The column used to calculate the value (see below) </li>\n</ul>\n\n<p>I've been trying - and failing - to use Linq expressions for this, but I keep getting runtime errors. I'm pretty new at Linq, so I'm probably doing something stupid.</p>\n\n<p>Below is an excerpt from the CoacheeData class. If it helps, all of the properties are numbers. All floats even, with the exception of Steps.</p>\n\n<pre><code>public class CoacheeData\n{\n    [Key]\n    public long Id { get; set; }\n\n    [Required]\n    [ForeignKey(\"User\")]\n    public string UserId { get; set; }\n\n    public virtual ApplicationUser User { get; set; }\n\n    public DateTime Date { get; set; }\n\n    //Each of these properties should be selectable by the query\n    public int Steps { get; set; }\n    public float Distance { get; set; }\n    public float CaloriesBurned { get; set; }\n    //...etc\n}\n</code></pre>\n\n<h2>EDIT: I was asked what I'd tried, below are the most relevant things I think:</h2>\n\n<pre><code>Func&lt;CoacheeData, int&gt; testLambda = (x) =&gt; x.Steps;\n\n//Used inside the query like this:\nValue = g.Sum(testLambda),\n</code></pre>\n\n<p>This throws an exception (\"Internal .NET Framework Data Provider error 1025.\"), which I think is normal because you can't use lambda's directly in Linq to SQL. Correct me if I'm wrong. So I tried with an expression:</p>\n\n<pre><code>Expression&lt;Func&lt;CoacheeData, int&gt;&gt; varSelectExpression = (x) =&gt; x.Steps;\n\n//And in the query:\nValue = g.Sum(varSelectExpression.Compile()),\n</code></pre>\n\n<p>Throws the same error 1025, which is working as intended because the Compile() call changes the expression into a lambda again, in my understanding. However I can't omit the Compile() call, because then the Linq code doesn't compile. No idea how to fix this.</p>\n\n<p>I tried similar things for the sum, I suspect my errors (and the solution) will be comparable. I will add more info later if needed.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio-2013", "windows-forms-designer"], "comments": [{"owner": {"reputation": 1706, "user_id": 1446484, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/05c007bb939dcbc34553d567b796eea8?s=128&d=identicon&r=PG", "display_name": "JaggenSWE", "link": "https://stackoverflow.com/users/1446484/jaggenswe"}, "edited": false, "score": 0, "creation_date": 1438813823, "post_id": 31843865, "comment_id": 51609277, "body": "Why don&#39;t make it so that it appends the pressed buttons value to the textbox contents instead. I.e press the button &quot;1&quot; and then it appends that to the existing values in the textbox?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1438814429, "post_id": 31843865, "comment_id": 51609487, "body": "On-screen keyboards don&#39;t use buttons.  They only <i>look</i> like buttons, pretty simple to emulate with a bitmap.  Graphics.DrawImage() and PictureBox solve your problem, you just need to add the mouse hit testing."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 1, "creation_date": 1438962241, "post_id": 31860907, "comment_id": 51680955, "body": "Okay, I followed the instructions, but the picture is blank. When I click on it it works as intended, but I can&#39;t see what number I&#39;m clicking. Did I miss something? Also the default autosize is a bit small, is there a way to increase it? Thank you so much for your help. Edit: I am dumb. I missed the picture file you provided. Sorry for being dense."}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "reply_to_user": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 1, "creation_date": 1438962534, "post_id": 31860907, "comment_id": 51681158, "body": "Did you add the Image to the image property of the PictureBox?"}, {"owner": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 0, "creation_date": 1438963547, "post_id": 31860907, "comment_id": 51681803, "body": "Yes I did, sorry I noticed that part right after I made the comment. But is there a way to set one of the areas to the enter key? That&#39;s the only thing that&#39;s missing that I need."}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "reply_to_user": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 1, "creation_date": 1438963572, "post_id": 31860907, "comment_id": 51681819, "body": "Sure, you could add before the <code>this.ActiveControl.Text += chars[scancode];</code> an <code>if (scancode == 11) {this.SelectNextControl(this.ActiveControl, true, true, true,true); return; };</code>  see <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.selectnextcontrol(v=VS.90).aspx\" rel=\"nofollow noreferrer\">msdn</a>"}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "reply_to_user": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 0, "creation_date": 1438963656, "post_id": 31860907, "comment_id": 51681867, "body": "in this example the - (the right bottom key) would become enter. I didn&#39;t try this because I don&#39;t have a dev box available at the moment so the code comes without guarantees..."}, {"owner": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "edited": false, "score": 0, "creation_date": 1438964149, "post_id": 31860907, "comment_id": 51682144, "body": "Perfect. Thank you so much for your help. The only thing wrong with that code was a missing = sign. it should be <code>if (scancode == 11) {this.SelectNextControl(this.ActiveControl, true, true, true,true); return; };</code>         Works great! Exactly what I needed. You have been immensely helpful."}], "tags": [], "owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "is_accepted": true, "score": 4, "last_activity_date": 1438962828, "last_edit_date": 1592644375, "creation_date": 1438877906, "answer_id": 31860907, "question_id": 31843865, "link": "https://stackoverflow.com/questions/31843865/in-form-numberpad-c/31860907#31860907", "title": "In form numberpad C#", "body": "<p>Expanding a little bit on the idea from Hans Passant you could use this as a starting point.</p>\n<h3>Form</h3>\n<p>In your form add the textboxes you need and a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.picturebox(v=vs.110).aspx\" rel=\"nofollow noreferrer\">PictureBox</a>. The picturebox will have an image with the characters your users need to be able to type.</p>\n<p>Set the property <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.picturebox.image(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Image</code></a> to an <a href=\"https://i.stack.imgur.com/FrnbO.png\" rel=\"nofollow noreferrer\">image file</a> (browse for it) (or create your own)<br />\nSet the property <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.picturebox.sizemode(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SizeMode</code></a> to <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.pictureboxsizemode(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>AutoSize</code></a> so the complete picture is shown.</p>\n<p>Next goto the events and add an eventhandler for  <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.mouseclick(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>MouseClick</code></a>.</p>\n<h3>Code</h3>\n<p>Add the following code to the handler:</p>\n<pre><code>private void pictureBox1_MouseClick(object sender, MouseEventArgs e)\n{\n    // how many rows and columns do we have\n    // in the picture used\n    const int maxrows = 4;\n    const int maxcols = 3;\n\n    // based on each position (numbered from left to right, top to bottom)\n    // what character do we want to add the textbox \n    var chars = new [] {'1','2','3','4','5','6','7','8','9', '+', '0', '-'};\n       \n    // on which row and col is clicked, based on the mouse event\n    // which hold the X and Y value of the coordinates relative to \n    // the control.\n    var  row = (e.Y * maxrows) / this.pictureBox1.Height;\n    var col = (e.X * maxcols) / this.pictureBox1.Width;\n       \n    // calculate the position in the char array\n    var scancode = row * maxcols + col;\n            \n    // if the active control is a TextBox ...\n    if (this.ActiveControl is TextBox)\n    {\n        // ... add the char to the Text.\n        // add error and bounds checking as well as \n        // handling of special chars like delete/backspace/left/right\n        // if added and needed\n        this.ActiveControl.Text += chars[scancode];\n    }\n}\n</code></pre>\n<p>The code is I think self explanatory. Keep in mind that no error checking whatsoever is being done here.</p>\n<h3>Result</h3>\n<p>This is what the end result will look like:</p>\n<p><a href=\"https://i.stack.imgur.com/UA8Eo.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UA8Eo.gif\" alt=\"numpad entering textboxes\" /></a></p>\n"}], "owner": {"reputation": 69, "user_id": 4743512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pq4Tn.png?s=128&g=1", "display_name": "Villhellm", "link": "https://stackoverflow.com/users/4743512/villhellm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1839, "favorite_count": 1, "accepted_answer_id": 31860907, "answer_count": 1, "score": -1, "last_activity_date": 1438962828, "creation_date": 1438813620, "last_edit_date": 1438819255, "question_id": 31843865, "link": "https://stackoverflow.com/questions/31843865/in-form-numberpad-c", "title": "In form numberpad C#", "body": "<p>I would like to add an in form numberpad to my form to make the program more touch friendly. I have multiple text boxes on this form that change focus when the enter key is pressed.</p>\n\n<p>I tried SendKeys.Send(\"#\"), but when I click the button it just changes focus to the button and does nothing inside the text box I was trying to type in. </p>\n\n<p>Is there a guide or something for this? I have looked and all I can find are on screen keyboards that work outside of the form, but not inside.</p>\n"}, {"tags": ["c#", "windows-phone-8", "windows-phone-8.1", "inotifypropertychanged"], "comments": [{"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438813733, "post_id": 31843811, "comment_id": 51609240, "body": "What do you mean by &quot;... but however its handler is always null.&quot;? When &quot;if (PropertyChanged != null)&quot; results in false this means that no other code has attached itself to the event currently. Do you have some &quot;+=&quot; in your code?"}, {"owner": {"reputation": 34, "user_id": 3827306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bziwO.png?s=128&g=1", "display_name": "txbrown", "link": "https://stackoverflow.com/users/3827306/txbrown"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438814186, "post_id": 31843811, "comment_id": 51609400, "body": "yes I have in another class settings.PropertyChanged += Settings_PropertyChanged;     - maybe I am doing it the wrong way though."}, {"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438814492, "post_id": 31843811, "comment_id": 51609506, "body": "Have you ensured, that the +=-call happens before you hit the breakpoint which shows you that the handler is null?"}, {"owner": {"reputation": 34, "user_id": 3827306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bziwO.png?s=128&g=1", "display_name": "txbrown", "link": "https://stackoverflow.com/users/3827306/txbrown"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438814633, "post_id": 31843811, "comment_id": 51609551, "body": "but I am listening to this event somewhere else. so the event listener can only be &quot;fired&quot; after the event notifies there was a change. the problem is since  if(PropertyChanged != null) is always false, there is no notification PropertyChanged(this, new PropertyChangedEventArgs(propertyName));   therefore there is no += listener being fired. Am I correct on this?"}], "answers": [{"comments": [{"owner": {"reputation": 34, "user_id": 3827306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bziwO.png?s=128&g=1", "display_name": "txbrown", "link": "https://stackoverflow.com/users/3827306/txbrown"}, "edited": false, "score": 1, "creation_date": 1438817607, "post_id": 31844155, "comment_id": 51610441, "body": "thanks it seems now I know what I was doing wrong because of your explanation/help. I was listening to the event in a class that was being instantiated somewhere else and then destroyed, of course it would always be null if I tried to capture the event... thanks. I need to refactor the code if I want to do this with INotifyPropertyChanged interface"}], "tags": [], "owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "is_accepted": false, "score": 1, "last_activity_date": 1438815286, "creation_date": 1438815286, "answer_id": 31844155, "question_id": 31843811, "link": "https://stackoverflow.com/questions/31843811/properychanged-event-always-null-windows-phone/31844155#31844155", "title": "ProperyChanged event always null - Windows Phone", "body": "<p>I removed some of your code and created a new console application. Then I changed to Program class to:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApplication1\n{\n    using System.ComponentModel;\n    using System.Runtime.CompilerServices;\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // create instance\n            var settings = new AppSettings();\n            // subscribe for the event as soon as you can\n            settings.PropertyChanged += (s, e) =&gt; Console.WriteLine(\"Property {0} has changed\", e.PropertyName);\n            Console.WriteLine(\"Press any key to start test\");\n            Console.ReadKey();\n            // change the value\n            settings.ComboBoxSettings = 10;\n            Console.ReadKey();\n        }\n    }\n\n    class AppSettings : INotifyPropertyChanged\n    {\n\n        private int _comboBoxSettings;\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        public int ComboBoxSettings\n        {\n            get\n            {\n                return _comboBoxSettings;\n            }\n            set\n            {\n                _comboBoxSettings = value;\n                NotifyPropertyChanged();\n            }\n        }\n\n        private void NotifyPropertyChanged([CallerMemberName] String propertyName = \"\")\n        {\n            if (PropertyChanged != null)\n            {\n                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n            }\n        }\n\n    #endregion\n}\n</code></pre>\n\n<p>}</p>\n\n<p>If you past this into a fresh console application it works.</p>\n"}], "owner": {"reputation": 34, "user_id": 3827306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bziwO.png?s=128&g=1", "display_name": "txbrown", "link": "https://stackoverflow.com/users/3827306/txbrown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438815286, "creation_date": 1438813349, "last_edit_date": 1438814081, "question_id": 31843811, "link": "https://stackoverflow.com/questions/31843811/properychanged-event-always-null-windows-phone", "title": "ProperyChanged event always null - Windows Phone", "body": "<p>I have seen some answers related to this issue but neither quite resembled this scenario I have. I have a settings class and when one of the properties is updated I want another class to be notified. The event is being fired but however its handler is always null.</p>\n\n<p>Can somebody help me understand what is wrong?</p>\n\n<pre><code>class AppSettings : INotifyPropertyChanged\n{\n    // Our settings\n    ApplicationDataContainer settings ;\n\n    // The key names of our settings\n    const string CheckBoxSettingKeyName = \"CheckBoxSetting\";\n    const string ComboBoxSettingKeyName = \"ComboBoxSetting\";\n\n    // The default value of our settings\n    const bool CheckBoxSettingDefault = true;\n    private int ComboBoxSettingDefault = 0;\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public AppSettings()\n    {\n        settings = ApplicationData.Current.LocalSettings;\n    }\n\n    public bool AddOrUpdateValue(string Key, Object value)\n    {\n        bool valueChanged = false;\n        // If the key exists\n        if (settings.Values.ContainsKey(Key))\n        {\n            // If the value has changed\n            if (settings.Values[Key] != value)\n            {\n                // Store the new value\n                settings.Values[Key] = value;\n                valueChanged = true;\n            }\n        }\n        // Otherwise create the key.\n        else\n        {\n            settings.Values.Add(Key, value);\n            valueChanged = true;\n        }\n        return valueChanged;\n    }\n\n    /// &lt;summary&gt;\n    /// Get the current value of the setting, or if it is not found, set the \n    /// setting to the default setting.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\n    /// &lt;param name=\"Key\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"defaultValue\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public T GetValueOrDefault&lt;T&gt;(string Key, T defaultValue)\n    {\n        T value;\n        // If the key exists, retrieve the value.\n        if (settings.Values.ContainsKey(Key))\n        {\n            value = (T)settings.Values[Key];\n        }\n        // Otherwise, use the default value.\n        else\n        {\n            value = defaultValue;\n        }\n        return value;\n    }\n\n    /// Property to get and set a ComboBox Setting Key.\n\n    public int ComboBoxSettings\n    {\n        get\n        {\n            return GetValueOrDefault&lt;int&gt;(ComboBoxSettingKeyName, ComboBoxSettingDefault);\n        }\n        set\n        {\n            AddOrUpdateValue(ComboBoxSettingKeyName, value);\n            NotifyPropertyChanged();\n\n        }\n    }\n\n    private void NotifyPropertyChanged([CallerMemberName] String propertyName = \"\")\n    {\n\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "winforms", "exception", "input"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 2, "creation_date": 1438813425, "post_id": 31843801, "comment_id": 51609138, "body": "This problem statement isn&#39;t very specific. Please include what error you are getting, what <i>exactly</i> isn&#39;t working, etc."}, {"owner": {"reputation": 9932, "user_id": 1839777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a382084bb1495af216e9a847c727d92e?s=128&d=identicon&r=PG", "display_name": "vonbrand", "link": "https://stackoverflow.com/users/1839777/vonbrand"}, "edited": false, "score": 0, "creation_date": 1438813686, "post_id": 31843801, "comment_id": 51609222, "body": "With some code only all we can say is &quot;Yup, works as written&quot;. Cut it down to a minimal example, explain what you want/expect, what you get, and what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1438813591, "creation_date": 1438813591, "answer_id": 31843855, "question_id": 31843801, "link": "https://stackoverflow.com/questions/31843801/additional-information-input-string-was-not-in-a-correct-format/31843855#31843855", "title": "Additional information: Input string was not in a correct format", "body": "<p>You need to make textboxes on your form and use their values instead of:</p>\n\n<pre><code>string inputA=\"\";\nstring inputB =\"\";\nstring inputC =\"\";\n</code></pre>\n\n<p>Every one of these lines will throw an error (because you can't parse an empty string to a double):</p>\n\n<pre><code>double ticketsPurchasedB = double.Parse(inputB);\ndouble ticketsPurchasedA = double.Parse(inputA);\ndouble ticketsPurchasedC = double.Parse(inputC);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5195859, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203268841762036/picture?type=large", "display_name": "Celina", "link": "https://stackoverflow.com/users/5195859/celina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1438817999, "creation_date": 1438813291, "last_edit_date": 1438817999, "question_id": 31843801, "link": "https://stackoverflow.com/questions/31843801/additional-information-input-string-was-not-in-a-correct-format", "title": "Additional information: Input string was not in a correct format", "body": "<p>I'm trying to get this program to work but no dice. I think it's perfect but something is missing. It's supposed to display the prices of tickets based on the amount of tickets and the type of tickets purchased and then display the price and the total revenue of all tickets.</p>\n\n<pre><code>namespace stadiumApp\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void label7_Click(object sender, EventArgs e)\n        {\n        }\n\n        private void calculateRevenue_Click(object sender, EventArgs e)\n        {\n           //assigns input to saved memory \n                string inputA=\"\";\n                string inputB =\"\";\n                string inputC =\"\";\n\n                double ticketsPurchasedB = double.Parse(inputB);\n                double ticketsPurchasedA = double.Parse(inputA);\n                double ticketsPurchasedC = double.Parse(inputC);\n\n               //price of each ticket grade\n                double priceA = 15;\n                double priceB = 12;\n                double priceC = 9;\n\n                //calculations for each class\n                double calcOutputA = priceA * ticketsPurchasedA ;\n                string outputA = calcOutputA.ToString();\n\n            double calcOutputB = priceB * ticketsPurchasedB;\n            string outputB = calcOutputB.ToString();\n\n            double calcOutputC = priceC * ticketsPurchasedC;\n            string outputC = calcOutputC.ToString();\n\n           //calculations for total revenue\n         double totalLabelHolder = calcOutputA + calcOutputB + calcOutputC;\n           //display total \n            string totalLabel = totalLabelHolder.ToString();\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "visual-studio-2013", "windows-phone-8.1"], "answers": [{"tags": [], "owner": {"reputation": 15549, "user_id": 187279, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d2895e9bbf4e969fadc859ec7704d425?s=128&d=identicon&r=PG", "display_name": "Klaus Nji", "link": "https://stackoverflow.com/users/187279/klaus-nji"}, "is_accepted": false, "score": 0, "last_activity_date": 1438921888, "creation_date": 1438921888, "answer_id": 31869729, "question_id": 31843737, "link": "https://stackoverflow.com/questions/31843737/compile-filter-argument-specified-non-existent-file-on-windows-phone-8-1-deploym/31869729#31869729", "title": "Compile filter argument specified non-existent file on windows phone 8.1 deployment", "body": "<p>Did not want to spend any more time troubleshooting this.  Suspected an issue with corrupt manifest so just ended up creating a new Windows Phone 8.1 project and migrated all of my files from the corrupt project to the new one.</p>\n\n<p>Think I am getting good at this migrations!</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 5010414, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/454884508021854/picture?type=large", "display_name": "Ravi Mandal", "link": "https://stackoverflow.com/users/5010414/ravi-mandal"}, "is_accepted": false, "score": 0, "last_activity_date": 1440556890, "last_edit_date": 1440556890, "creation_date": 1439364097, "answer_id": 31958549, "question_id": 31843737, "link": "https://stackoverflow.com/questions/31843737/compile-filter-argument-specified-non-existent-file-on-windows-phone-8-1-deploym/31958549#31958549", "title": "Compile filter argument specified non-existent file on windows phone 8.1 deployment", "body": "<p>Delete the folder bin in your project. \n<code>your project folder\\bin</code></p>\n\n<p>Then rebuild it. </p>\n\n<p>I also got the same issue but this solved my error.</p>\n\n<p><strong>Update:</strong> This is just a temporary solution. I found that the app won't work correctly if you do this. I downgraded to VS 2013 for development since many of the nugget package are not supported by Visual Studio 2015</p>\n"}], "owner": {"reputation": 15549, "user_id": 187279, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d2895e9bbf4e969fadc859ec7704d425?s=128&d=identicon&r=PG", "display_name": "Klaus Nji", "link": "https://stackoverflow.com/users/187279/klaus-nji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440556890, "creation_date": 1438812845, "last_edit_date": 1438840562, "question_id": 31843737, "link": "https://stackoverflow.com/questions/31843737/compile-filter-argument-specified-non-existent-file-on-windows-phone-8-1-deploym", "title": "Compile filter argument specified non-existent file on windows phone 8.1 deployment", "body": "<p>Just upgraded my OS from Windows 8.1 to 10 Pro and now I can no longer deploy apps to my Windows 8.1 phone.  Hardware is Microsoft Blu.</p>\n\n<p>I cannot deploy from VS 2013 or  VS 2015 Community Editions.  Error I get in VS 2013 is:</p>\n\n<p>Error   1   Error : DEP0001 : Unexpected Error: Exception from HRESULT: 0x81030137  TrackuTransit.WindowsPhone</p>\n\n<p>Meanwhile over in VS 2015, I get:</p>\n\n<blockquote>\n  <p>Error: Compile filter argument specified non-existent file:\n  C:\\dev\\myapp\\obj\\Debug\\MSIL\\images\\DarkIcons.dll\n  Invalid argument</p>\n  \n  <p>Microsoft (R) MDIL XAP Compiler - Version 4.0.0.0 Copyright (c)\n  Microsoft Corporation.  All rights reserved.</p>\n  \n  <p>Usage: MDILXAPCompile /In: /Out:\n  /Config: [/CompileFilter:;]\n  [/Timeout:] [/Log:] [/AppX]</p>\n  \n  <p>/In       - Path to directory containing files to process /Out        - Path to\n  directory to place processed files in /Config     - Path to configuration\n  file /CompileFilter   - Optional restrictive list of assembly files in\n  InputPath,\n          separated by semi-colons, to be compiled. /Timeout    - Optional timeout in milliseconds before killing the Crossgen process. Overrides\n  config file timeout value. Use -1 for infinite timeout, 0 for\n  application default (2 hours). /Log       - Optional path to log file\n  /AppX     - Specifies that assemblies correspond to an AppX package</p>\n  \n  <p>Relative paths are relative to this executable's directory.</p>\n</blockquote>\n\n<p>Interestingly enough, if phone is disconnected or locked, VS correctly recognizes this and reports the appropriate message.  If phone is unlocked, however, I get the above error.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I located DarkIcons.dll under the images folder of the project and changed its <strong>Copy To Output Directory</strong> option from <em>None</em> to <em>Copy Always</em> but this did not seem to help either.</p>\n\n<p>I also tried cheating by creating an images directory C:\\dev\\myapp\\obj\\Debug\\MSIL\\images and copying DarkIcons.dll to this folder, since it currently resides in C:\\dev\\myapp\\obj\\Debug\\MSIL\\ </p>\n\n<p>Lastly I removed DarkIcons from the project.  This time, there are no errors in the logs but deployment still fails.</p>\n\n<p>Deployment went a little further but still failed.</p>\n\n<p>Anyone seen this?</p>\n"}, {"tags": ["c#", "asp.net", "wif", "saml", "adfs"], "comments": [{"owner": {"reputation": 2304, "user_id": 4788169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0c339fd5d392ebcbcab16e71581be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jtabuloc", "link": "https://stackoverflow.com/users/4788169/jtabuloc"}, "edited": false, "score": 0, "creation_date": 1438826107, "post_id": 31843697, "comment_id": 51612423, "body": "have you added it in your audienceUris?"}, {"owner": {"reputation": 23, "user_id": 716126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8c64221495b55487ae5f88cff8fcfe?s=128&d=identicon&r=PG", "display_name": "Virgil H.", "link": "https://stackoverflow.com/users/716126/virgil-h"}, "reply_to_user": {"reputation": 2304, "user_id": 4788169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0c339fd5d392ebcbcab16e71581be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jtabuloc", "link": "https://stackoverflow.com/users/4788169/jtabuloc"}, "edited": false, "score": 0, "creation_date": 1438874062, "post_id": 31843697, "comment_id": 51638523, "body": "The &#39;Success.aspx&quot; page is displayed. The javascript and css files are not."}], "owner": {"reputation": 23, "user_id": 716126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8c64221495b55487ae5f88cff8fcfe?s=128&d=identicon&r=PG", "display_name": "Virgil H.", "link": "https://stackoverflow.com/users/716126/virgil-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438812570, "creation_date": 1438812570, "question_id": 31843697, "link": "https://stackoverflow.com/questions/31843697/wif-adfs-authentication", "title": "WIF ADFS Authentication", "body": "<p>I am authenticating my wbesite againt an ADFS server using WIF. All seems to work fine, I get pass the login screen and I am redirected to the Success page. However, I am told I don't have access to my website resources like javascript, image and css files.</p>\n\n<p>\"Failed to load resource: the server responded with status 401 (Unauthorized)\"</p>\n\n<p>Thank you\nVirgil</p>\n"}, {"tags": ["c#", ".net", "wcf", "iis", "activation"], "comments": [{"owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438813160, "post_id": 31843677, "comment_id": 51609037, "body": "How do you know that a WCF component was activated already. What if the IIS does not reach that point because it is damaged on a deeper level?"}, {"owner": {"reputation": 17596, "user_id": 18044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f0136186ca27b7b070b49cf1973885e?s=128&d=identicon&r=PG", "display_name": "MvdD", "link": "https://stackoverflow.com/users/18044/mvdd"}, "reply_to_user": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "edited": false, "score": 0, "creation_date": 1438814085, "post_id": 31843677, "comment_id": 51609369, "body": "No, there&#39;s nothing damaged. I know which service I am in and have hit the breakpoint in the debugger. But at this point, the service endpoints are being configured. I just want to know what methods is called, activating the service, from inside the ApplyConfiguration method."}], "owner": {"reputation": 17596, "user_id": 18044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f0136186ca27b7b070b49cf1973885e?s=128&d=identicon&r=PG", "display_name": "MvdD", "link": "https://stackoverflow.com/users/18044/mvdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438812484, "creation_date": 1438812484, "question_id": 31843677, "link": "https://stackoverflow.com/questions/31843677/which-wcf-method-caused-service-activation", "title": "Which WCF method caused service activation?", "body": "<p>After an IIS reset, no <code>w3wp.exe</code> processes are running. I launch a debugger in the override of my <code>ServiceHost.ApplyConfiguration</code> method.</p>\n\n<p>When the breakpoint is hit, I'd like to know which method invocation caused the service to be activated? <code>OperationContext.Current</code> is still null. </p>\n\n<p>Is there a way to find this? Is there another global structure that contains this information?</p>\n"}, {"tags": ["c#", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5195805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d2a381b29acfa406aed4a1cc5799d9?s=128&d=identicon&r=PG&f=1", "display_name": "Rudy Padron", "link": "https://stackoverflow.com/users/5195805/rudy-padron"}, "edited": false, "score": 0, "creation_date": 1438812852, "post_id": 31843671, "comment_id": 51608905, "body": "That&#39;s probably what I will do if it turns out that AutoMapper can&#39;t do what I need it to do."}], "tags": [], "owner": {"reputation": 3689, "user_id": 514087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AMg4p.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/514087/brian"}, "is_accepted": false, "score": 1, "last_activity_date": 1438812455, "creation_date": 1438812455, "answer_id": 31843671, "question_id": 31843618, "link": "https://stackoverflow.com/questions/31843618/default-value-for-all-string-properties-when-source-properties-are-null/31843671#31843671", "title": "Default value for all string properties when source properties are null", "body": "<p>You can set your desired default properties in the constructor:</p>\n\n<pre><code>public UniversalFormDto() \n{\n    FaxNumber = \"N/A\";\n    MiddleName = \"N/A\";\n    //etc...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8751, "user_id": 1265182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dd2835f92c5cdd2222afa06763e294c5?s=128&d=identicon&r=PG&f=1", "display_name": "Shar1er80", "link": "https://stackoverflow.com/users/1265182/shar1er80"}, "is_accepted": false, "score": 0, "last_activity_date": 1438814867, "last_edit_date": 1438814867, "creation_date": 1438813972, "answer_id": 31843923, "question_id": 31843618, "link": "https://stackoverflow.com/questions/31843618/default-value-for-all-string-properties-when-source-properties-are-null/31843923#31843923", "title": "Default value for all string properties when source properties are null", "body": "<p>I'm not too familiar with AutoMapper, but after doing some research you may want to try conditional mapping for each property.</p>\n\n<pre><code>Mapper.CreateMap&lt;Source, Target&gt;()\n      .ForMember(dest =&gt; dest.MiddleName, \n                 opt =&gt; opt.MapFrom\n                 (src =&gt; String.IsNullOrEmpty(src.MiddleName) \n                             ? \"N/A\" \n                             : src.MiddleName));\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 5760, "user_id": 1380710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0baa0fcd96b129d38637f0637c79e05e?s=128&d=identicon&r=PG", "display_name": "Aske B.", "link": "https://stackoverflow.com/users/1380710/aske-b"}, "is_accepted": false, "score": 8, "last_activity_date": 1479213176, "creation_date": 1479213176, "answer_id": 40609937, "question_id": 31843618, "link": "https://stackoverflow.com/questions/31843618/default-value-for-all-string-properties-when-source-properties-are-null/40609937#40609937", "title": "Default value for all string properties when source properties are null", "body": "<p>Here's a few methods I know:</p>\n\n<h2>ForAllMembers</h2>\n\n<p>All null values on all properties will be substituted as <code>\"N/A\"</code>.\nWill crash if any of the properties can't be mapped to a string:</p>\n\n<pre><code>cfg.CreateMap&lt;UniversalForm, UniversalFormDto&gt;()\n.ForAllMembers(opt =&gt; opt.NullSubstitute(\"N/A\"));\n</code></pre>\n\n<h2>ForMember</h2>\n\n<p>A substitute for every individual property:</p>\n\n<pre><code>cfg.CreateMap&lt;UniversalForm, UniversalFormDto&gt;()\n.ForMember(dto =&gt; dto.FirstName, opt =&gt; opt.NullSubstitute(\"N/A\"))\n...\n;\n</code></pre>\n\n<h2>ConvertUsing</h2>\n\n<p>Universal substitute for all <code>null</code> strings in any property:</p>\n\n<pre><code>cfg.CreateMap&lt;string, string&gt;().ConvertUsing(s =&gt; s ?? \"N/A\");\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5195805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d2a381b29acfa406aed4a1cc5799d9?s=128&d=identicon&r=PG&f=1", "display_name": "Rudy Padron", "link": "https://stackoverflow.com/users/5195805/rudy-padron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8514, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1479213176, "creation_date": 1438812237, "question_id": 31843618, "link": "https://stackoverflow.com/questions/31843618/default-value-for-all-string-properties-when-source-properties-are-null", "title": "Default value for all string properties when source properties are null", "body": "<p>Is it possible to set all string properties that are null in my source object to some default value within my destination object using AutoMapper?</p>\n\n<p>For example, let's say I had the following two class definitions:</p>\n\n<pre><code>public class UniversalForm\n{\n    public string LastName { get; set; }\n    public string FirstName { get; set; }\n    public string MiddleName { get; set; }\n    public string FaxNumber { get; set; }\n    ...\n}\n\npublic class UniversalFormDto\n{\n    public string LastName { get; set; }\n    public string FirstName { get; set; }\n    public string MiddleName { get; set; }\n    public string FaxNumber { get; set; }\n    ...\n}\n</code></pre>\n\n<p>Now, MiddleName and FaxNumber are properties that are likely to be null in the UniversalForm class.  So what I would like to be able to do is if FaxNumber or MiddleName are null then in UniversalFormDto object I would like for the value of the corresponding properties to be set to \"N/A\".  </p>\n\n<p>I know this can be accomplished by creating a mapping for each individual member, but I would like to avoid that if at all possible.</p>\n\n<p>I'm looking for a way to define a default value for all my string properties to be used when the corresponding property on my source object (UniversalForm) is null.</p>\n"}, {"tags": ["c#", "dictionary", "windows-phone-8.1"], "comments": [{"owner": {"reputation": 3132, "user_id": 4385647, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/V3X9c.png?s=128&g=1", "display_name": "Dirk Horsten", "link": "https://stackoverflow.com/users/4385647/dirk-horsten"}, "edited": false, "score": 0, "creation_date": 1438811983, "post_id": 31843521, "comment_id": 51608590, "body": "I miss a closing <code>}</code>, as well ass capital letters at the start of each sentence and complete correct English sentences"}], "answers": [{"tags": [], "owner": {"reputation": 1723, "user_id": 5190688, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iZdjQ.jpg?s=128&g=1", "display_name": "Nir Schwartz", "link": "https://stackoverflow.com/users/5190688/nir-schwartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1536741750, "last_edit_date": 1536741750, "creation_date": 1438812178, "answer_id": 31843602, "question_id": 31843521, "link": "https://stackoverflow.com/questions/31843521/my-dictionary-in-c/31843602#31843602", "title": "my Dictionary in c#", "body": "<p>You reset the value of the textbox2 all the time.</p>\n\n<p>You need to add the new text to the textbox2 like so.</p>\n\n<p>Like this:\n<code>textbox2.Text += value;</code></p>\n"}, {"tags": [], "owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "is_accepted": false, "score": 0, "last_activity_date": 1438812419, "creation_date": 1438812419, "answer_id": 31843663, "question_id": 31843521, "link": "https://stackoverflow.com/questions/31843521/my-dictionary-in-c/31843663#31843663", "title": "my Dictionary in c#", "body": "<p>Assuming your code is complete (which is hard to tell, as there's no closing <code>}</code> - did you forget to paste some?), your conditions are checking if <code>textbox1</code>'s <code>Text</code> value is \"England\" or \"France\" (but not both).</p>\n\n<p>If you want the  value \"England and France\", you need to specifically check for it (<code>if (textbox1.Text == \"England and France\" || textbox1.text = \"France and England\") ...</code>).  In fact, if you want that you'd probably be best off calling <code>string.Split()</code> on the text of <code>textbox1</code> and evaluating each of the words in it to see if they're in the <code>Dictionary</code> or not - if so, append the dictionary value to a <code>StringBuilder</code> and put <strong>that</strong> in your <code>textbox2</code>.</p>\n\n<p>If on the other hand, you want to just append values into <code>textbox2</code> (user presses button after entering \"England\", and then presses it again after entering \"France\"), just change your code to update <code>textbox2</code> to something like </p>\n\n<pre><code>if (textbox2.Text.Length &gt; 0)\n{\n    textbox2.Text = textbox2.Text + \" and \" + value;\n}\nelse\n{\n    textbox2.Text = value;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62, "user_id": 4322421, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5d5b45d43aabe6feebe6f36868bad610?s=128&d=identicon&r=PG&f=1", "display_name": "codexo10Z", "link": "https://stackoverflow.com/users/4322421/codexo10z"}, "is_accepted": true, "score": 1, "last_activity_date": 1438812609, "creation_date": 1438812609, "answer_id": 31843706, "question_id": 31843521, "link": "https://stackoverflow.com/questions/31843521/my-dictionary-in-c/31843706#31843706", "title": "my Dictionary in c#", "body": "<p>From what I understand you are entering two values in textbox1 and you want to display them both in textbox2.</p>\n\n<pre><code>private void Button_Click(object sender, RoutedEventArgs e)\n{\n    Dictionary&lt;string, string&gt; dictionary = new Dictionary&lt;string, string&gt;();\n    dictionary.Add(\"France\", \"Paris\");\n    dictionary.Add(\"England\", \"London\");\n    dictionary.Add(\"Jordan\", \"Amman\");\n\n    textbox2.Text = \"\";\n    if (textbox1.Text.Contains(\"France\"))\n    {\n        string value = dictionary[\"France\"];\n        textbox2.Text += value;\n    }\n\n    if (textbox1.Text.Contains(\"England\"))\n    {\n        string value = dictionary[\"England\"];\n        textbox2.Text += value;\n    }\n\n    if (textbox1.Text.Contains(\"Jordan\"))\n    {\n        string value = dictionary[\"Jordan\"];\n        textbox2.Text += value;\n    }\n}\n</code></pre>\n\n<p>You can add separators such as commas and 'and's between the concatenations.</p>\n"}], "owner": {"reputation": 31, "user_id": 5195816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-I1V7iIa2ohc/AAAAAAAAAAI/AAAAAAAAADM/sVn8HYafYLY/photo.jpg?sz=128", "display_name": "Tornado", "link": "https://stackoverflow.com/users/5195816/tornado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 31843706, "answer_count": 3, "score": -2, "last_activity_date": 1536741750, "creation_date": 1438811759, "last_edit_date": 1438812771, "question_id": 31843521, "link": "https://stackoverflow.com/questions/31843521/my-dictionary-in-c", "title": "my Dictionary in c#", "body": "<p>why when in want to write 2 word in textbox1 just get the first word?</p>\n\n<p>example:\nwhen I write \"France and England\" in textbox1...\nin textbox to show me \"Paris\" just!\nI want to show me the 2 word in same time??</p>\n\n<pre><code>    private void Button_Click(object sender, RoutedEventArgs e)\n    {\n\n        Dictionary&lt;string, string&gt; dictionary = new Dictionary&lt;string, string&gt;();\n        dictionary.Add(\"France\", \"Paris\");\n        dictionary.Add(\"England\", \"London\");\n        dictionary.Add(\"Jordan\", \"Amman\");\n\n\n        if (textbox1.Text == \"France\")\n        {\n            string value = dictionary[\"France\"];\n            textbox2.Text = value;\n        }\n\n        else if (textbox1.Text == \"England\")\n        {\n            string value = dictionary[\"England\"];\n            textbox2.Text = value;\n        }}\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms", "performance", "foreach"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1438811979, "post_id": 31843465, "comment_id": 51608587, "body": "At some point, a loop is always involved.  50 million records?  Maybe the database should handle that."}, {"owner": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1438812418, "post_id": 31843465, "comment_id": 51608742, "body": "@LarsTech Thanks Is there any chance to assign it a collection instead of using Foreach loop."}, {"owner": {"reputation": 1214, "user_id": 1277156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7633db2bd4a5ba7398ccdc6f8bd5ea5f?s=128&d=identicon&r=PG", "display_name": "Measuring", "link": "https://stackoverflow.com/users/1277156/measuring"}, "edited": false, "score": 0, "creation_date": 1438812576, "post_id": 31843465, "comment_id": 51608805, "body": "I&#39;m not sure what you&#39;re initial problem is. Is it taking to long? You can trying running the conversion on multiple threads, paralleling it."}, {"owner": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1438813015, "post_id": 31843465, "comment_id": 51608971, "body": "@LarsTech yes its taking more time.. its a collection of &quot;Record&quot;... but i cannot able to case it to a List or IEnumerable collection..."}], "answers": [{"tags": [], "owner": {"reputation": 808, "user_id": 1430857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB7Ar.jpg?s=128&g=1", "display_name": "Sacrilege", "link": "https://stackoverflow.com/users/1430857/sacrilege"}, "is_accepted": false, "score": 0, "last_activity_date": 1438811950, "creation_date": 1438811950, "answer_id": 31843555, "question_id": 31843465, "link": "https://stackoverflow.com/questions/31843465/how-to-change-the-below-foreach-loop-into-simple-ilistrecord-or-any-other-co/31843555#31843555", "title": "How to change the below &quot;ForEach loop&quot; into simple IList&lt;Record&gt; or any other collection?", "body": "<p>The following will give you a collection of \"choices\" without yet iterating over the collection.</p>\n\n<pre><code>table.FilterItems.Select(x =&gt; x.GetValue())\n</code></pre>\n\n<p>Is that what you're looking for? It's not a list. If you need to convert it to a list then you will have to iterate over the collection to do so.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "edited": false, "score": 0, "creation_date": 1438812214, "post_id": 31843559, "comment_id": 51608677, "body": "Thanks.. but Select method is not available in it."}, {"owner": {"reputation": 1214, "user_id": 1277156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7633db2bd4a5ba7398ccdc6f8bd5ea5f?s=128&d=identicon&r=PG", "display_name": "Measuring", "link": "https://stackoverflow.com/users/1277156/measuring"}, "reply_to_user": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "edited": false, "score": 0, "creation_date": 1438812926, "post_id": 31843559, "comment_id": 51608935, "body": "@Arun Do you have: <code>using System.Linq;</code> as the top of your code?"}, {"owner": {"reputation": 269390, "user_id": 98713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f4acdb91aba11ddf8f03d4b12453f3d5?s=128&d=identicon&r=PG", "display_name": "Thomas Levesque", "link": "https://stackoverflow.com/users/98713/thomas-levesque"}, "reply_to_user": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "edited": false, "score": 0, "creation_date": 1438820393, "post_id": 31843559, "comment_id": 51611138, "body": "@Arun, what is the type of FilterItems?"}, {"owner": {"reputation": 520, "user_id": 3736781, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33d95e2b1ac62f80559023af77263980?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/3736781/dan"}, "edited": false, "score": 0, "creation_date": 1438824300, "post_id": 31843559, "comment_id": 51612020, "body": "FilterItems should be IEnumerable&lt;T&gt;"}], "tags": [], "owner": {"reputation": 269390, "user_id": 98713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f4acdb91aba11ddf8f03d4b12453f3d5?s=128&d=identicon&r=PG", "display_name": "Thomas Levesque", "link": "https://stackoverflow.com/users/98713/thomas-levesque"}, "is_accepted": false, "score": 0, "last_activity_date": 1438811970, "creation_date": 1438811970, "answer_id": 31843559, "question_id": 31843465, "link": "https://stackoverflow.com/questions/31843465/how-to-change-the-below-foreach-loop-into-simple-ilistrecord-or-any-other-co/31843559#31843559", "title": "How to change the below &quot;ForEach loop&quot; into simple IList&lt;Record&gt; or any other collection?", "body": "<p>You could do this, using Linq:</p>\n\n<pre><code>List&lt;Record&gt; recordsCollection = table.FilterItems\n                                      .Select(r =&gt; r.GetValue())\n                                      .ToList();\n</code></pre>\n\n<p>But don't expect it to be faster... internally, it still does the same thing as your original code. There's no way to solve this problem without a loop, or the moral equivalent of a loop.</p>\n"}], "owner": {"reputation": 53, "user_id": 3060316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7b499da5fd93b11e14026488986ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Full - Stack - Developer", "link": "https://stackoverflow.com/users/3060316/full-stack-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1438814836, "creation_date": 1438811497, "last_edit_date": 1438814836, "question_id": 31843465, "link": "https://stackoverflow.com/questions/31843465/how-to-change-the-below-foreach-loop-into-simple-ilistrecord-or-any-other-co", "title": "How to change the below &quot;ForEach loop&quot; into simple IList&lt;Record&gt; or any other collection?", "body": "<ol>\n<li><p>Foreach loop in my below code is taking more time for 50,00,000 Records.</p></li>\n<li><p>Instead I need to change and assign it to a simple List or Ienumerable collection to find Distinct collection.</p></li>\n</ol>\n\n<p>My question is how to convert the below ForEach loop into a <code>List&lt;Records&gt;</code> or any other collection (without using loop). I have added my coding structure. Please help me resolve. //Please refer the comments in CODE.</p>\n\n<pre><code>Class MainFilter\n{\n\n  Private Void GetRecords()\n  {\n    List&lt;object&gt; choices = new List&lt;Object&gt;();\n\n    // Instead of the below line can I get the FilterItems implicitly converted.\n    // I need a collection without ForeachLoop...something like the below.\n    // List&lt;Record&gt; recordsCollection = table.FilterItems; Please help.\n    // Foreach loop is taking more time I need this to be converted to \n    // simple collection using IList or Enumerable\n\n    foreach (Record rec in table.FilterItems)\n    {\n      Choices.Add(rec.GetValue());\n    }\n\n  }\n\n}\n\nPublic Class SecondTable: IContainerElement, IDisposable\n{\n\n  public ThirdFilterItems FilterItems\n  {\n    get\n    {\n      _filteredRecords = new ThirdFilterItems(this);\n    }\n  }\n\n}\n\npublic class ThirdFilterItems: FourthFilterItems\n{\n\n  internal ThirdFilterItems(SecondTable table) : base(table)\n  {\n  }\n\n}\n\npublic class FourthFilterItems: IList, IDisposable\n{\n\n  public Record this[int index]\n  {\n    get\n    {\n      return record;\n    }\n  }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "nest"], "answers": [{"tags": [], "owner": {"reputation": 7973, "user_id": 290460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsEDl.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/290460/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1438843622, "creation_date": 1438843622, "answer_id": 31848615, "question_id": 31843350, "link": "https://stackoverflow.com/questions/31843350/create-an-elasticsearch-template-with-nest-documentation-out-of-date/31848615#31848615", "title": "Create an Elasticsearch template with NEST - documentation out of date", "body": "<p>I hope this example will point you the way.</p>\n\n<pre><code>var templateName = \"name\";\nvar indexNameTemplate = \"te*\";\n\nvar response = client.PutTemplate(templateName, t =&gt; t\n    .Template(indexNameTemplate)\n    .AddMapping&lt;&gt;(...);\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 561292, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4581288bf87fc847ce8337a3c468ac23?s=128&d=identicon&r=PG", "display_name": "superkew", "link": "https://stackoverflow.com/users/561292/superkew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 843, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438843622, "creation_date": 1438810981, "question_id": 31843350, "link": "https://stackoverflow.com/questions/31843350/create-an-elasticsearch-template-with-nest-documentation-out-of-date", "title": "Create an Elasticsearch template with NEST - documentation out of date", "body": "<p>We're trying to add an Elasticsearch template to set all guids to not analyzed fields, but the sample code on the nest website seems to be out of date.</p>\n\n<p>Our aim is to use a bit of recursion and reflection to analyze the properties and then add all guids as not analysed properties in the index template.</p>\n\n<p>While attempting to follow the code on this page, there were just too many compile time issues to move forward. </p>\n\n<p><a href=\"http://nest.azurewebsites.net/nest/indices/templates.html\" rel=\"nofollow\">http://nest.azurewebsites.net/nest/indices/templates.html</a></p>\n\n<p>Any help or suggestions would be great.</p>\n"}, {"tags": ["c#", "xaml", "visual-studio-2013", "visual-studio-2015", "win-universal-app"], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 3083904, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YIJbO.jpg?s=128&g=1", "display_name": "bigpony", "link": "https://stackoverflow.com/users/3083904/bigpony"}, "edited": false, "score": 0, "creation_date": 1528166544, "post_id": 31843297, "comment_id": 88392220, "body": "After changing the configuration hit the &quot;Save All&quot; button and restart VS, this will solve the problem."}], "tags": [], "owner": {"reputation": 805, "user_id": 3150365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db1e4fadc74979b1879fcaf993a33fdf?s=128&d=identicon&r=PG", "display_name": "Noppadet", "link": "https://stackoverflow.com/users/3150365/noppadet"}, "is_accepted": true, "score": 6, "last_activity_date": 1438810710, "creation_date": 1438810710, "answer_id": 31843297, "question_id": 31843296, "link": "https://stackoverflow.com/questions/31843296/xaml-control-is-not-supported-in-a-windows-app-project/31843297#31843297", "title": "XAML [Control] is not supported in a Windows App Project", "body": "<p>This one took me a long time to figure out. Because I am using SQLite for this project, I could no longer use the \"Any CPU\" configuration for this project (near the debug/release dropdown). I setup a new configuration so the phone version would use ARM, and the desktop version would use x86. This is when I started to see the problem.</p>\n\n<p>To fix the issue, try toggling between the different configurations. Toggling between \"My custom configuration -> x64 -> My custom configuration\", usually clears it up for me, but try switching a couple more times to different architectures if this doesn't work. </p>\n\n<p>You only need to do this one time when you open the project, and all of your views will work correctly from then on (Intellisense, and the Design View specifically). I'll update the question to include Visual Studio 2015 if I run into the problem there.</p>\n"}], "owner": {"reputation": 805, "user_id": 3150365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db1e4fadc74979b1879fcaf993a33fdf?s=128&d=identicon&r=PG", "display_name": "Noppadet", "link": "https://stackoverflow.com/users/3150365/noppadet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 2, "accepted_answer_id": 31843297, "answer_count": 1, "score": 4, "last_activity_date": 1462999100, "creation_date": 1438810710, "last_edit_date": 1462999100, "question_id": 31843296, "link": "https://stackoverflow.com/questions/31843296/xaml-control-is-not-supported-in-a-windows-app-project", "title": "XAML [Control] is not supported in a Windows App Project", "body": "<p>When opening a XAML page or usercontrol in Visual Studio in my project, the IDE will tell me that the [Control] is not supported, for all controls. It will also not show me the design view for the XAML.</p>\n\n<p>I've disabled all Visual Studio plugins, and the only thing that has worked consistently is pulling the entire project from source control and reopening the project from scratch. After closing Visual Studio the problem happens again.</p>\n"}, {"tags": ["c#", "linq", "select"], "comments": [{"owner": {"reputation": 1530, "user_id": 701001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-4pAncZ7CpSs/AAAAAAAAAAI/AAAAAAAAB9I/KfgkTsVcONs/photo.jpg?sz=128", "display_name": "oqx", "link": "https://stackoverflow.com/users/701001/oqx"}, "edited": false, "score": 0, "creation_date": 1438810978, "post_id": 31843287, "comment_id": 51608193, "body": "do you mean you want to select all where firstname is not empty"}, {"owner": {"reputation": 449, "user_id": 3117091, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002185522504/picture?type=large", "display_name": "mosyflasher", "link": "https://stackoverflow.com/users/3117091/mosyflasher"}, "reply_to_user": {"reputation": 1530, "user_id": 701001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-4pAncZ7CpSs/AAAAAAAAAAI/AAAAAAAAB9I/KfgkTsVcONs/photo.jpg?sz=128", "display_name": "oqx", "link": "https://stackoverflow.com/users/701001/oqx"}, "edited": false, "score": 0, "creation_date": 1438812089, "post_id": 31843287, "comment_id": 51608637, "body": "@OmarQaddoumi no! i want to decide in runtime that select FirstName or not !"}], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 3117091, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002185522504/picture?type=large", "display_name": "mosyflasher", "link": "https://stackoverflow.com/users/3117091/mosyflasher"}, "edited": false, "score": 0, "creation_date": 1438812028, "post_id": 31843414, "comment_id": 51608605, "body": "As you said , i want to decide in runtime that my variable contains FirstName or not"}, {"owner": {"reputation": 449, "user_id": 3117091, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002185522504/picture?type=large", "display_name": "mosyflasher", "link": "https://stackoverflow.com/users/3117091/mosyflasher"}, "edited": false, "score": 0, "creation_date": 1438812458, "post_id": 31843414, "comment_id": 51608763, "body": "Because i want to export my query to excel , and my column shouldn&#39;t exist !"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "reply_to_user": {"reputation": 449, "user_id": 3117091, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002185522504/picture?type=large", "display_name": "mosyflasher", "link": "https://stackoverflow.com/users/3117091/mosyflasher"}, "edited": false, "score": 0, "creation_date": 1438865862, "post_id": 31843414, "comment_id": 51632136, "body": "@mosyflasher:  Maybe you need a different data structure than a class with one property = one column.  Consider using an old-fashioned <code>DataTable</code>.  You can define new columns at run time using whatever criteria you want."}], "tags": [], "owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1438811850, "last_edit_date": 1438811850, "creation_date": 1438811248, "answer_id": 31843414, "question_id": 31843287, "link": "https://stackoverflow.com/questions/31843287/select-columns-with-specific-condition-using-linq-to-sql/31843414#31843414", "title": "Select columns with specific condition using Linq to SQL", "body": "<p>If I understand what you're saying, you want to decide at run time whether the anonymous type <code>q</code> that you're creating will have a <code>FirstName</code> property or not.</p>\n\n<p>That isn't possible in a static type system.  The reason is that, even though you don't specify the type of <code>q</code>, it does <em>have</em> a type:  it's only \"anonymous\" to us, the coders.  The compiler has to know what it is.  It can't remain indeterminate until run time.  </p>\n\n<p>There is one exception to this, though.  I believe you could do something like what you want using an <a href=\"https://msdn.microsoft.com/en-us/library/system.dynamic.expandoobject.aspx\" rel=\"nofollow\">ExpandoObject</a>, part of the <code>System.Dynamic</code> namespace.  That will let you create new properties at run time.  </p>\n\n<p>But it would be simpler just to have <code>FirstName</code> be defined on your type and sometimes have a null value.</p>\n\n<pre><code> string _mycondition = \"0\";\n\n DataClasses1DataContext m = new DataClasses1DataContext();\n var q = from p in m.ViewPersonCarRelations.AsEnumerable()                    \n     select new\n     {\n          FirstName = (_mycondition==\"0\") ? p.name : null,\n          LastName = p.Lname  \n     };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6025, "user_id": 3053082, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cf7725958a43181e6b2b4c0f5f02b91b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapol", "link": "https://stackoverflow.com/users/3053082/kapol"}, "is_accepted": true, "score": 3, "last_activity_date": 1439069288, "last_edit_date": 1439069288, "creation_date": 1438811600, "answer_id": 31843486, "question_id": 31843287, "link": "https://stackoverflow.com/questions/31843287/select-columns-with-specific-condition-using-linq-to-sql/31843486#31843486", "title": "Select columns with specific condition using Linq to SQL", "body": "<p>No, it is not possible. The easiest way to achieve this would be to use the ternary operator like this:</p>\n\n<pre><code>var q = from p in m.ViewPersonCarRelations.AsEnumerable()                    \n                select (_mycondition == \"0\") ?\n                    new \n                    {\n                        FirstName = p.name,\n                        LastName = p.Lname  \n                    }\n                    :\n                    new \n                    {\n                        LastName = p.Lname\n                    };\n</code></pre>\n\n<p>This code will probably result in the following compiler error:</p>\n\n<blockquote>\n  <p>Type of conditional expression cannot be determined because there is\n  no implicit conversion between 'AnonymousType#1' and 'AnonymousType#2'</p>\n</blockquote>\n\n<p>Since there is no way to overload operators for anonymous types, you will have to find another way of achieving your goal. You can create two classes, overload the implicit operator and not use anonymous types at all.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>There actually is a way to do this, but I'd strongly advice against it - you will get an <code>Enumerable&lt;object&gt;</code> as the result. Since <code>object</code> is the base type of all types in the .NET framework, you can cast the second anonymous class to an <code>object</code> (you could also cast the first one, but that would be redundant).</p>\n\n<pre><code>select (_mycondition == \"0\") ?\n    new \n    {\n        FirstName = p.name,\n        LastName = p.Lname \n    }\n    :\n    (object)new \n    {\n        LastName = p.Lname\n    };\n</code></pre>\n"}], "owner": {"reputation": 449, "user_id": 3117091, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002185522504/picture?type=large", "display_name": "mosyflasher", "link": "https://stackoverflow.com/users/3117091/mosyflasher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 0, "accepted_answer_id": 31843486, "answer_count": 2, "score": 0, "last_activity_date": 1439069288, "creation_date": 1438810666, "last_edit_date": 1438811445, "question_id": 31843287, "link": "https://stackoverflow.com/questions/31843287/select-columns-with-specific-condition-using-linq-to-sql", "title": "Select columns with specific condition using Linq to SQL", "body": "<p>I have a select query with Linq like this:</p>\n\n<pre><code>        string _mycondition = \"0\";\n\n          DataClasses1DataContext m = new DataClasses1DataContext();\n           var q = from p in m.ViewPersonCarRelations.AsEnumerable()                    \n                select new\n                {\n                    FirstName = p.name,\n                    LastName = p.Lname  \n                };\n</code></pre>\n\n<p>I want to select my columns with a condition , for example : \nonly if _mycondition == \"0\" is true , select p.name and name it FirstName otherwise my variable should not has FirstName .\nI was wonder, is it possible to do that with Linq ?</p>\n"}, {"tags": ["c#", "forms", "winforms"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1438812763, "post_id": 31843285, "comment_id": 51608877, "body": "It really would help if you explained <a href=\"http://meta.stackexchange.com/questions/66377/\">what you&#39;re trying to accomplish</a>, not just what you&#39;re doing, because what you are doing makes no sense. All form fields are available to all event handlers directly; you don&#39;t need to \u201cpush\u201d anything, either through collections or parameters."}], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 3066592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/9F1pe.png?s=128&g=1", "display_name": "PKD", "link": "https://stackoverflow.com/users/3066592/pkd"}, "edited": false, "score": 0, "creation_date": 1438814689, "post_id": 31843846, "comment_id": 51609576, "body": "I don&#39;t want to access them from outside the user control. I want to access them in the user control&#39;s code-behind."}, {"owner": {"reputation": 806, "user_id": 2306415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117cf439e3c11d4fb8a94ce8c4747b80?s=128&d=identicon&r=PG", "display_name": "Simon Clough", "link": "https://stackoverflow.com/users/2306415/simon-clough"}, "reply_to_user": {"reputation": 595, "user_id": 3066592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/9F1pe.png?s=128&g=1", "display_name": "PKD", "link": "https://stackoverflow.com/users/3066592/pkd"}, "edited": false, "score": 1, "creation_date": 1438819175, "post_id": 31843846, "comment_id": 51610824, "body": "Then just do var firstName = FirstName.Text"}, {"owner": {"reputation": 595, "user_id": 3066592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/9F1pe.png?s=128&g=1", "display_name": "PKD", "link": "https://stackoverflow.com/users/3066592/pkd"}, "edited": false, "score": 0, "creation_date": 1438874044, "post_id": 31843846, "comment_id": 51638508, "body": "So it operates pretty much the way old ASP.Net did, with direct access to all scoped controls?"}], "tags": [], "owner": {"reputation": 806, "user_id": 2306415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117cf439e3c11d4fb8a94ce8c4747b80?s=128&d=identicon&r=PG", "display_name": "Simon Clough", "link": "https://stackoverflow.com/users/2306415/simon-clough"}, "is_accepted": true, "score": 1, "last_activity_date": 1438813538, "creation_date": 1438813538, "answer_id": 31843846, "question_id": 31843285, "link": "https://stackoverflow.com/questions/31843285/how-to-get-all-form-fields-in-a-winforms-app-as-one-parameter/31843846#31843846", "title": "How to get all form fields in a winforms app as one parameter?", "body": "<p>It sounds like you are trying to access the fields on your user control from within the form directly. This isn't best practice, but if you really want to do it, here is a potential way:</p>\n\n<p>There is no need to build up a field collection. With a bit of modification you can access the fields directly.</p>\n\n<p>By default when you create a user control, all the controls (fields etc) that you drop on it are marked as private and cannot therefore be accessed outside of the user control.\nUsing the properites (right click the field and select properties) you can change the Modifer from private to public. You will then be able to access the fields from outside the control.</p>\n\n<p>For example, if I had a user control called MyUserControl with a field on called FirstName and LastName, I could do the following:</p>\n\n<pre><code>private void btnSubmit_Click(object sender, EventArgs e) {\n    var formFields = **formFieldCollection**;\n\n    var firstName = MyUserControl.FirstName.Text;\n    var lastName = MyUserControl.LastName.Text;\n}\n</code></pre>\n\n<p>Like I said, this isn't recommended at all. Part of the point of a user control is to wrap up a set of fields / functionality in a separate entity and only expose the properties and functionality you need using a defined public interface.</p>\n"}, {"comments": [{"owner": {"reputation": 806, "user_id": 2306415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117cf439e3c11d4fb8a94ce8c4747b80?s=128&d=identicon&r=PG", "display_name": "Simon Clough", "link": "https://stackoverflow.com/users/2306415/simon-clough"}, "edited": false, "score": 0, "creation_date": 1438819329, "post_id": 31843983, "comment_id": 51610857, "body": "Why would you do that rather than just reference the control by name? You are building a dependency on the control name that if the control name changes will still compile but will fail at runtime"}, {"owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "reply_to_user": {"reputation": 806, "user_id": 2306415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117cf439e3c11d4fb8a94ce8c4747b80?s=128&d=identicon&r=PG", "display_name": "Simon Clough", "link": "https://stackoverflow.com/users/2306415/simon-clough"}, "edited": false, "score": 0, "creation_date": 1438819805, "post_id": 31843983, "comment_id": 51610986, "body": "@SimonClough I will be glad if you provide a solution without name dependencies for windows forms. BTW, why the name will be changed?"}], "tags": [], "owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1438815079, "last_edit_date": 1438815079, "creation_date": 1438814308, "answer_id": 31843983, "question_id": 31843285, "link": "https://stackoverflow.com/questions/31843285/how-to-get-all-form-fields-in-a-winforms-app-as-one-parameter/31843983#31843983", "title": "How to get all form fields in a winforms app as one parameter?", "body": "<p>Of course you can. You can do this by using the <code>Controls</code> property of the form -</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    //get all controls\n    var formControls = this.Controls;\n\n    //then get your control with their name as key \n    var button1 = formControls[\"button1\"];\n    var firstName = formControls[\"firstName\"];\n}\n</code></pre>\n\n<p>You can read more here - </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.controls(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.windows.forms.control.controls(v=vs.110).aspx</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6DbxW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DbxW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 4900, "user_id": 562615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03377b78fc3bedb1fdbc92590e816820?s=128&d=identicon&r=PG", "display_name": "Alexander Schmidt", "link": "https://stackoverflow.com/users/562615/alexander-schmidt"}, "is_accepted": false, "score": 1, "last_activity_date": 1438814423, "creation_date": 1438814423, "answer_id": 31844010, "question_id": 31843285, "link": "https://stackoverflow.com/questions/31843285/how-to-get-all-form-fields-in-a-winforms-app-as-one-parameter/31844010#31844010", "title": "How to get all form fields in a winforms app as one parameter?", "body": "<p>Each control in a Windows Form has a Name property. Inside the Code-Behind-File (the one where your event handler sits) you can access them directly. Let's assume you have 2 textboxes which are named <code>txtFirstname</code> and <code>txtLastname</code> (which you can prove in the designer):</p>\n\n<p><a href=\"https://i.stack.imgur.com/TW1PH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TW1PH.png\" alt=\"Designer and Document Outline Window\"></a></p>\n\n<p>Your code would look like this then:</p>\n\n<pre><code>private void btnSubmit_Click(object sender, EventArgs e) \n{       \n    var firstName = txtFirstname.Text;\n    var lastName = txtLastname.Text;\n}\n</code></pre>\n\n<p>Thats it.</p>\n"}], "owner": {"reputation": 595, "user_id": 3066592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/9F1pe.png?s=128&g=1", "display_name": "PKD", "link": "https://stackoverflow.com/users/3066592/pkd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 0, "accepted_answer_id": 31843846, "answer_count": 3, "score": 0, "last_activity_date": 1438815079, "creation_date": 1438810663, "question_id": 31843285, "link": "https://stackoverflow.com/questions/31843285/how-to-get-all-form-fields-in-a-winforms-app-as-one-parameter", "title": "How to get all form fields in a winforms app as one parameter?", "body": "<p>I'm building a new WinForms application, and I've got a user control form that has about 20 form fields on it.</p>\n\n<p>In my web version of this form, I just push all those fields in through a formCollection, but I don't know if there's something similar in windows forms (I'm sorta new to winforms).</p>\n\n<p>Ideally, I'd like to be able to have a method like so:</p>\n\n<pre><code>private void btnSubmit_Click(object sender, EventArgs e) {\n    var formFields = **formFieldCollection**;\n\n    var firstName = formFields.FirstName.Text;\n    var lastName = formFields.LastName.Text;\n}\n</code></pre>\n\n<p>Is something like that possible? Does something like that exist?</p>\n"}, {"tags": ["c#", "static-methods"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 4, "creation_date": 1438810447, "post_id": 31843201, "comment_id": 51607957, "body": "Personally I&#39;d say don&#39;t use this feature at all. You avoid typing a few characters but the code will be a lot less clear. I know this is probably not the popular opinion but there&#39;s value to be able to look at code in Notepad (without tooltip help)."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 2, "creation_date": 1438810458, "post_id": 31843201, "comment_id": 51607963, "body": "<i>In C# 6.0 there is a <b>new</b> feature</i>"}], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 1, "last_activity_date": 1438810491, "creation_date": 1438810491, "answer_id": 31843247, "question_id": 31843201, "link": "https://stackoverflow.com/questions/31843201/visibility-of-a-method-in-c/31843247#31843247", "title": "Visibility of a method in C#", "body": "<p>No, static usings are brand new to C# 6, and there is no way to get the same behavior (not needing the class name).</p>\n\n<p>As you have mentioned, there are ways to get close, but nothing exactly the same in earlier versions.</p>\n"}], "owner": {"reputation": 184, "user_id": 1650068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yH3G8.png?s=128&g=1", "display_name": "Pavel Tsybulivskyi", "link": "https://stackoverflow.com/users/1650068/pavel-tsybulivskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 31843247, "answer_count": 1, "score": 1, "last_activity_date": 1438810619, "creation_date": 1438810283, "last_edit_date": 1438810619, "question_id": 31843201, "link": "https://stackoverflow.com/questions/31843201/visibility-of-a-method-in-c", "title": "Visibility of a method in C#", "body": "<p>In C# 6.0 there is a new feature <code>using static</code> which allows to use code like this</p>\n\n<pre><code>using static Query.QueryBuilder;\n\nstatic void BuildQuery()\n{\n    var newQuery = Where(Eq(\"Value1\",\"Value2\"))\n}\n</code></pre>\n\n<p>where the methods to build a query are static methods in a class <code>QueryBuilder</code></p>\n\n<pre><code>namespace Query\n{\n    public static QueryBuilder\n    {\n       public static string Where(Object obj);\n       public static string Eq(Object obj);\n\n    } \n}\n</code></pre>\n\n<p>This allows to drop specifying static class name <code>QueryBuilder</code> to call static methods from this class.</p>\n\n<p>Is it possible to do something similar in C# 3.0? There is a way to do it with aliasing, but it still would be needed to use some kind of shortened prefix to call methods.</p>\n"}, {"tags": ["c#", "email", "lotus-notes", "lotus-domino"], "answers": [{"tags": [], "owner": {"reputation": 13430, "user_id": 622571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41523c6db74e0f187eae731a6871a320?s=128&d=identicon&r=PG", "display_name": "Richard Schwartz", "link": "https://stackoverflow.com/users/622571/richard-schwartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1438829198, "last_edit_date": 1495541640, "creation_date": 1438828771, "answer_id": 31845953, "question_id": 31843172, "link": "https://stackoverflow.com/questions/31843172/webservice-for-ibm-lotus-notes-to-send-email-using-c/31845953#31845953", "title": "Webservice for IBM Lotus Notes to send email using C#", "body": "<p>IBM Lotus Domino does not have a native web services API that would be equivalent to Microsoft's Exchange Web Services. There are, however, numerous other APIs, including a COM API that is available in C#. There are some issues with it on 64 bit Windows, though. It can be made to work, mostly, but it's not officially supported on Win64 by IBM. A <a href=\"https://stackoverflow.com/search?q=c%23%20lotus%20\">simple search</a> here in Stackoverflow for \"C# Lotus\" would not be a bad way to find some information about it. </p>\n"}], "owner": {"reputation": 17, "user_id": 5076174, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5ed7f425570733a492d4fdce857d4654?s=128&d=identicon&r=PG&f=1", "display_name": "Murari Suthar", "link": "https://stackoverflow.com/users/5076174/murari-suthar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "closed_date": 1438850315, "answer_count": 1, "score": -4, "last_activity_date": 1438829198, "creation_date": 1438810160, "question_id": 31843172, "link": "https://stackoverflow.com/questions/31843172/webservice-for-ibm-lotus-notes-to-send-email-using-c", "closed_reason": "Not suitable for this site", "title": "Webservice for IBM Lotus Notes to send email using C#", "body": "<p>Hi I need to send email from an asp.net website using IBM Lotus Notes. Is there any web service for consuming ibm lotus notes in asp.net website ? Thanks in advance.</p>\n"}, {"tags": ["c#", "list", "generics", "abstract-class"], "comments": [{"owner": {"reputation": 1363, "user_id": 4129738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JltNh.png?s=128&g=1", "display_name": "HashPsi", "link": "https://stackoverflow.com/users/4129738/hashpsi"}, "edited": false, "score": 1, "creation_date": 1438810342, "post_id": 31843138, "comment_id": 51607915, "body": "It is safe to assume that a column will contain all cells of the same type (integer, real, string, ...)?"}, {"owner": {"reputation": 1363, "user_id": 4129738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JltNh.png?s=128&g=1", "display_name": "HashPsi", "link": "https://stackoverflow.com/users/4129738/hashpsi"}, "edited": false, "score": 0, "creation_date": 1438811854, "post_id": 31843138, "comment_id": 51608547, "body": "You could handle the parsing of the data into the cell by relying on a new ColumnType property for the Column class. As the time when you use the data, you cannot avoid switching on the type, recorded either at the level of the columns or the cell."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4275029"}, "edited": false, "score": 1, "creation_date": 1438827246, "post_id": 31843138, "comment_id": 51612687, "body": "I&#39;ve read this a couple times and understand the intent...but please forgive me...what exactly is the question?"}, {"owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 0, "creation_date": 1438885079, "post_id": 31843138, "comment_id": 51645225, "body": "So you want to know how to define the property <code>public List&lt;Cell&lt;?&gt;&gt; Cells</code> when <code>Cells&lt;&gt;</code> is a generic type. You can&#39;t. You either make <code>Cell</code> generic also, or use <code>object</code> types only."}], "answers": [{"tags": [], "owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1438900442, "last_edit_date": 1438900442, "creation_date": 1438816265, "answer_id": 31844294, "question_id": 31843138, "link": "https://stackoverflow.com/questions/31843138/nested-list-property-for-abstract-class/31844294#31844294", "title": "Nested List&lt;&gt; property for abstract class", "body": "<p>You can do this, but it will require you to box your value types:</p>\n\n<pre><code>public class Row\n{\n    public string Dummy { get; set; }\n    public List&lt;Cell&lt;Object&gt;&gt; Cells { get; set; } \n} \n</code></pre>\n\n<p>But IMHO this is messy in that you always have to check the type of object in your cell through casting. It would be better if your cell content identifies the type of content it has. I think this is what you were already trying to do. I would start with a base class for my cell content:</p>\n\n<pre><code>public abstract class ContentBase\n{\n    public ContentType Type;\n    public Object Value;\n}\n</code></pre>\n\n<p>Note that <code>ContentType</code> is your <code>ColumnType</code> except renamed. Then you could have your <code>StringContent</code> like this... (You can change the implementation of <code>set</code> as you need.)</p>\n\n<pre><code>public class StringContent : ContentBase\n{\n    private string _value;\n    public ContentType Type \n    {\n        get { return ContentType.String; } \n        private set;\n    }\n    public string Value\n    {\n        get { return _value; }\n        set { _value = (string)value; }\n    }\n}\n</code></pre>\n\n<p>Now, you can leave your <code>Cell</code> to not worry about its content (so you probably may not need to have it as <code>abstract</code>).</p>\n\n<pre><code>public abstract class Cell&lt;&gt;\n{\n    public Column Column { get; set; }\n    public ContentBase Content { get; set; }\n}\n</code></pre>\n\n<p>And have your <code>Row</code> simpler like this:</p>\n\n<pre><code>public class Row\n{\n    public string Dummy { get; set; }\n    public List&lt;Cell&gt; Cells { get; set; }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1363, "user_id": 4129738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JltNh.png?s=128&g=1", "display_name": "HashPsi", "link": "https://stackoverflow.com/users/4129738/hashpsi"}, "is_accepted": true, "score": 1, "last_activity_date": 1438881292, "last_edit_date": 1438881292, "creation_date": 1438819434, "answer_id": 31844755, "question_id": 31843138, "link": "https://stackoverflow.com/questions/31843138/nested-list-property-for-abstract-class/31844755#31844755", "title": "Nested List&lt;&gt; property for abstract class", "body": "<p>There are usually 2 main considerations to keep in mind when creating an object model to represent a table/spreadsheet:</p>\n\n<ol>\n<li><p>The parsing of the spreadsheet into an object model. At that level, the type of value expected for a column should dictate how the cell is constructed.</p></li>\n<li><p>Use of the object model (manipulation and transformation of the data, rendering to a UI). At that level, the client code will almost certainly need to distinguish between the different types of values allowed for a column (i.e., this code will need to switch on the value type for the cell/column). For example, formatting of a cell data in a UI will need to know whether the cell holds a text, a number, or a currency amount. Therefore, a completely generic Cell model will be of no use. </p></li>\n</ol>\n\n<p>To facilitate the utility of the model for the parsing and subsequent use, you could use a factory for cells that creates cells based on a value type associated to the column. For downstream use of the cells, you can have methods that return the value held by the cell for each of the possible types (string, int, decimal).</p>\n\n<p>Something like this:</p>\n\n<pre><code>class Sheet {\n  public List&lt;Row&gt; Rows { get; set; }\n}\n\npublic class Row {\n  public string Dummy { get; set; }\n  public List&lt;Cell&gt; Cells { get; set; } \n}                                        \n\npublic class Column {\n  public string Name { get; set; }\n  public ValueType ValueType { get; set; }\n}\n\npublic class Cell {\n  public Column Column { get; private set; }\n  public object Data { get; private set; }\n\n  public int GetValueInt() {\n    return Column.ValueType == ValueType.Number ? (int)Data : 0;\n  }\n\n  public string GetValueString() {\n    // could also return Data.ToString() is Data is not null\n    return Column.ValueType == ValueType.String ? (string)Data : null;\n  }\n\n  public decimal GetValueCurrenty() {\n    return Column.ValueType == ValueType.Currency ? (decimal)Data : 0;\n  }\n\n  // factory for cells\n  public static Cell MakeCell(object data, Column column) {\n\n    // fail-early if the data does not match the value type specified by the column\n    switch (column.ValueType) {\n        case ValueType.String:\n        if (!(data is string)) {\n          throw new ArgumentException(\"Invalid data for column containing strings\");\n        }\n        break;\n\n        case ValueType.Number:\n        if (!(data is int)) {\n          throw new ArgumentException(\"Invalid data for column containing ints\");\n        }\n        break;\n\n        case ValueType.Currency:\n        if (!(data is decimal)) {\n          throw new ArgumentException(\"Invalid data for column containing decimals\");\n        }\n        break;\n   }\n\n  var cell = new Cell { Column = column, Data = data };\n  return cell;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "is_accepted": false, "score": 1, "last_activity_date": 1438889867, "last_edit_date": 1438889867, "creation_date": 1438889499, "answer_id": 31864272, "question_id": 31843138, "link": "https://stackoverflow.com/questions/31843138/nested-list-property-for-abstract-class/31864272#31864272", "title": "Nested List&lt;&gt; property for abstract class", "body": "<p>Since <code>int</code> <code>Date</code> and <code>string</code> do not share a common type other than <code>object</code> you can't use generics with this model. </p>\n\n<p>Consider creating a common interfase <code>IValue</code> for all the cell value types and proceed from there:</p>\n\n<pre><code>public enum ColumnType\n{\n    String,\n    Date,\n    Currency\n}\n\npublic interface IValue\n{\n    void Parse(object obj);\n}\n\npublic class Sheet\n{\n    public List&lt;Column&gt; Columns { get; set; }\n    public Column this[int column] { get { return Columns[column]; } set { Columns[column]=value; } }\n}\n\npublic class Column\n{\n    public string Name { get; set; }\n    public ColumnType Type { get; set; }\n    public List&lt;Cell&gt; Rows { get; set; }\n    public Cell this[int row] { get { return Rows[row]; } set { Rows[row]=value; } }\n}\n\npublic class Cell\n{\n    public Column Column { get; set; }\n    public IValue Data { get; set; }\n}\n\npublic class StringValue : IValue\n{\n    public StringValue(string value) { Value=value; }\n    public string Value { get; set; }\n    public void Parse(object obj)\n    {\n        Value=obj.ToString();\n    }\n}\npublic class DecimalValue : IValue\n{\n    public DecimalValue(decimal value) { Value=value; }\n    public decimal Value { get; set; }\n    public void Parse(object obj)\n    {\n        if(obj is decimal)\n        {\n            Value=(decimal)obj;\n        }\n    }\n}\npublic class DateValue : IValue\n{\n    public DateValue(DateTime value) { Value=value; }\n    public DateTime Value { get; set; }\n    public void Parse(object obj)\n    {\n        if(obj is DateTime)\n        {\n            Value=(DateTime)obj;\n        }\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var sheet=new Sheet() { Columns = new List&lt;Column&gt;() };\n        sheet.Columns.Add(new Column()\n        {\n            Type=ColumnType.String,\n            Name=\"Item\",\n            Rows=new List&lt;Cell&gt;()\n        });\n        sheet.Columns.Add(new Column()\n        {\n            Type=ColumnType.Date,\n            Name=\"Date\",\n            Rows=new List&lt;Cell&gt;()\n        });\n        sheet.Columns.Add(new Column()\n        {\n            Type=ColumnType.Currency,\n            Name=\"Amount\",\n            Rows=new List&lt;Cell&gt;()\n        });\n        sheet[0].Rows.Add(new Cell() { Column=sheet[0], Data=new StringValue(\"AAB\") });\n        sheet[0].Rows.Add(new Cell() { Column=sheet[0], Data=new StringValue(\"AAC\") });\n        sheet[0].Rows.Add(new Cell() { Column=sheet[0], Data=new StringValue(\"ABA\") });\n\n        sheet[1].Rows.Add(new Cell() { Column=sheet[1], Data=new DateValue(DateTime.Now) });\n        sheet[1].Rows.Add(new Cell() { Column=sheet[1], Data=new DateValue(DateTime.Now) });\n        sheet[1].Rows.Add(new Cell() { Column=sheet[1], Data=new DateValue(DateTime.Now) });\n\n        sheet[2].Rows.Add(new Cell() { Column=sheet[2], Data=new DecimalValue(1000m) });\n        sheet[2].Rows.Add(new Cell() { Column=sheet[2], Data=new DecimalValue(1200m) });\n        sheet[2].Rows.Add(new Cell() { Column=sheet[2], Data=new DecimalValue(870m) });\n\n        sheet[0][1].Data.Parse(\"CCC\");\n\n        var check=(sheet[0][1].Data as StringValue).Value;\n        // check == \"CCC\"\n    }\n}\n</code></pre>\n\n<p>To make your life easier, I would create you own collections instead of using <code>List&lt;Cell&gt;</code> and <code>List&lt;Column&gt;</code> that would implement methods like <code>AddColumn()</code> and <code>AddCells()</code>. You would have to inherit from <code>System.Collections.ObjectModel.Collection&lt;&gt;</code>.</p>\n"}], "owner": {"reputation": 443, "user_id": 3200163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/PtZQ6.jpg?s=128&g=1", "display_name": "Andrew Day", "link": "https://stackoverflow.com/users/3200163/andrew-day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 1, "accepted_answer_id": 31844755, "answer_count": 3, "score": 1, "last_activity_date": 1438900442, "creation_date": 1438810018, "last_edit_date": 1438899090, "question_id": 31843138, "link": "https://stackoverflow.com/questions/31843138/nested-list-property-for-abstract-class", "title": "Nested List&lt;&gt; property for abstract class", "body": "<p>Thank you for your replies which are excellent. However on reading into HashPsi initial comment in much greater depth, I have discovered that several users all want to use this app with several different but very similar reports for instance there are a larger number columns available which can be included/removed in any report specific to the user. </p>\n\n<p>Rather than make a solution for each user type, each user can simply view their data and select filters which initially importing it.\nTo keep it very simple in the below edit at the row level I have set a very simple id and 20x Strings, then List pre-parse's currency/numbers, which can be used to select dropdown number filters, or ranges between values.  A similar List is used for dropdowns of strings at sheet level.</p>\n\n<p>The finished application will use one database seperated by sheet id(or similar).\nWhat are your thoughts here, and should I use more generics like the examples below(which are excellent, if a little advanced as Im still a poor nooby :) ).</p>\n\n<pre><code>public abstract class Entity\n{\n    public virtual int Id { get; set; }//todo - autoincrement\n}\n\nclass Sheet\n{\n    public List&lt;Row&gt; Rows { get; set; }\n    public List&lt;ParsedToStringList&gt; ParsedStringLists { get; set; }\n}\n\npublic class Row : Entity\n{\n    public int RowId { get; set; } //unique key\n    public string String1 { get; set; }\n    public string String2 { get; set; }\n    public string String3 { get; set; }\n    public string String4 { get; set; }\n    public string String5 { get; set; }\n    public string String6 { get; set; }\n    public string String7 { get; set; }\n    public string String8 { get; set; }\n    public string String9 { get; set; }\n    public string String10 { get; set; }\n\n    public string String11 { get; set; }\n    public string String12 { get; set; }\n    public string String13 { get; set; }\n    public string String14 { get; set; }\n    public string String15 { get; set; }\n    public string String16 { get; set; }\n    public string String17 { get; set; }\n    public string String18 { get; set; }\n    public string String19 { get; set; }\n    public string String20 { get; set; }\n    public List&lt;ParsedToNumber&gt; ParsedNumbers { get; set; }\n}\n\npublic class ParsedToNumber\n{\n    public int ColumnPosition { get; set; }\n    public decimal Number { get; set; }\n    public int RowId { get; set; } //Foreign key\n}\n\npublic class ParsedToStringList\n{\n    public int ColumnPosition { get; set; }\n    public List&lt;Filter&gt; FilteredStrings { get; set; }\n    public int RowId { get; set; } //Foreign key\n}\n\npublic class Filter\n{\n    public string FilterString { get; set; }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var sheet=new Sheet();\n        sheet.Rows.Add(new Row(){\n            Id = 1, RowId = 303, String1 = \"ABC123\", String2 = \"Abc Ltd\", String3 = \"\u00a3550.00\",\n            String4 = \"\u00a3150.00\", String5 = \"Wholesale\", ParsedNumbers = new List&lt;ParsedToNumber&gt;(){\n                new ParsedToNumber() {ColumnPosition = 3, Number = 550.00m, RowId = 303},\n                new ParsedToNumber() {ColumnPosition = 4, Number = 150.00m, RowId = 303}\n            } });\n        sheet.Rows.Add(new Row(){\n            Id = 2, RowId = 607, String1 = \"XYZ808\", String2 = \"XYZ Unlimited\", String3 = \"\u00a3999.99\",\n            String4 = \"\u00a355.55\", String5 = \"Wholesale\", ParsedNumbers = new List&lt;ParsedToNumber&gt;() {\n                new ParsedToNumber() {ColumnPosition = 3, Number = 999.99m, RowId = 607},\n                new ParsedToNumber() {ColumnPosition = 4, Number = 55.55m, RowId = 607}\n            } });\n\n        //This provides for persistance of the data in string format\n        //and conversion of columns which can be parsed are created \n        //ready for future in dropdown or range selections .\n\n    }\n}\n</code></pre>\n\n<p>I really played around with this and need fresh eyes on it.  I presume that I can change the List Cells within class Row to something that I can cast with concrete objects inherited from abstract class Cell.</p>\n\n<p>The goal of the code is to create a dynamic row of cells which can be parsed into integer, currency, string(and other) types if possible and used by the user. The data is imported from a csv file from an accounting data source.\nI had originally created a set number of integer, currency, string fields which is inefficient but simpler(if this approach is better please say). </p>\n\n<pre><code>class Sheet\n{\n    public List&lt;Row&gt; Rows { get; set; }\n}\n\npublic class Row\n{\n    public string Dummy { get; set; }\n    public List&lt;Cell&gt; Cells { get; set; }//Intellisence at &lt;Cell&gt; advises \n}                                        //incorrect number of type parameters?\n\npublic class Column\n{\n    public string Name { get; set; }\n}\n\npublic enum ColumnType\n{\n    String,\n    Number,\n    Currency\n}\n\npublic abstract class Cell&lt;T&gt;\n{\n    public Column Column { get; set; }\n    public T Data { get; set; }\n\n    public abstract void Parse( object obj );\n}\n\npublic class StringCell : Cell&lt;string&gt;\n{\n    public override void Parse( object obj )\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "winforms", "visual-studio-2012", "expression-blend"], "comments": [{"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1438810394, "post_id": 31843076, "comment_id": 51607937, "body": "And, you don&#39;t have access to the html file correct? To change the javascript or html?"}, {"owner": {"reputation": 5, "user_id": 4748232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27601155b5e515f2ebf9aa772c94802?s=128&d=identicon&r=PG&f=1", "display_name": "RRTT93", "link": "https://stackoverflow.com/users/4748232/rrtt93"}, "reply_to_user": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1438810532, "post_id": 31843076, "comment_id": 51607989, "body": "Actually, yea, I have access to the html files entirely."}, {"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1438810784, "post_id": 31843076, "comment_id": 51608113, "body": "Ok, just trying to think of options. What about hooking up to the Navigating event and checking the url for &quot;Closer.html&quot;?"}, {"owner": {"reputation": 5, "user_id": 4748232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27601155b5e515f2ebf9aa772c94802?s=128&d=identicon&r=PG&f=1", "display_name": "RRTT93", "link": "https://stackoverflow.com/users/4748232/rrtt93"}, "reply_to_user": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1438811072, "post_id": 31843076, "comment_id": 51608237, "body": "That sounds good. I&#39;m not exactly familiar with the Navigating event tho. and on the Winforms browser, when I expect it to call the Closer.html, it appears to remain on the original webpage. This browser will not perform any navigation during it&#39;s use outside of calling the Closer.html as described in the op."}, {"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1438811288, "post_id": 31843076, "comment_id": 51608347, "body": "See my post and let me know how it goes."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4748232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27601155b5e515f2ebf9aa772c94802?s=128&d=identicon&r=PG&f=1", "display_name": "RRTT93", "link": "https://stackoverflow.com/users/4748232/rrtt93"}, "edited": false, "score": 0, "creation_date": 1438811805, "post_id": 31843417, "comment_id": 51608531, "body": "This appears to work flawlessly. I&#39;ll be testing it throughout the day tomorrow and will keep you posted. Thanks infinitely for this help!"}, {"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "reply_to_user": {"reputation": 5, "user_id": 4748232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27601155b5e515f2ebf9aa772c94802?s=128&d=identicon&r=PG&f=1", "display_name": "RRTT93", "link": "https://stackoverflow.com/users/4748232/rrtt93"}, "edited": false, "score": 0, "creation_date": 1438811854, "post_id": 31843417, "comment_id": 51608546, "body": "No problem. Good luck!"}], "tags": [], "owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "is_accepted": true, "score": 2, "last_activity_date": 1438811827, "last_edit_date": 1495541173, "creation_date": 1438811277, "answer_id": 31843417, "question_id": 31843076, "link": "https://stackoverflow.com/questions/31843076/c-close-a-system-windows-forms-webbrowser-when-the-javascript-on-the-webpage/31843417#31843417", "title": "C# - Close a System.Windows.Forms.WebBrowser when the javascript on the webpage calls window.close()", "body": "<p>Try this out. Set your browser to allow navigation. Either from designer or via code.</p>\n\n<pre><code>wb.AllowNavigation = true;\n</code></pre>\n\n<p>Then, see if this event is fired:</p>\n\n<pre><code>private void wb_Navigating(object sender, WebBrowserNavigatingEventArgs e)\n{\n    if (e.Url.AbsolutePath.IndexOf(\"closer.html\", StringComparison.OrdinalIgnoreCase) &gt; 1)\n        this.Close();\n}\n</code></pre>\n\n<p>Obviously, you need to hook up the navigating event. Again, via the designer or via code.</p>\n\n<pre><code>wb.Navigating += wb_Navigating;\n</code></pre>\n\n<hr>\n\n<p>Edit: That should work for your specific case, however I do see a good answer posted here to a similar issue.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9101113/how-can-i-be-notified-when-a-window-is-closed-by-window-close-javascript?rq=1\">How can I be notified when a window is closed by window.close (javascript)?</a></p>\n\n<p>Using the code found there, and modifying the html, you should be able to handle this. Instead of doing the redirect, you COULD just call window.close(). Then, the webbrowser should notice and act accordingly.</p>\n"}], "owner": {"reputation": 5, "user_id": 4748232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27601155b5e515f2ebf9aa772c94802?s=128&d=identicon&r=PG&f=1", "display_name": "RRTT93", "link": "https://stackoverflow.com/users/4748232/rrtt93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4602, "favorite_count": 0, "accepted_answer_id": 31843417, "answer_count": 1, "score": 0, "last_activity_date": 1439236525, "creation_date": 1438809751, "last_edit_date": 1439236525, "question_id": 31843076, "link": "https://stackoverflow.com/questions/31843076/c-close-a-system-windows-forms-webbrowser-when-the-javascript-on-the-webpage", "title": "C# - Close a System.Windows.Forms.WebBrowser when the javascript on the webpage calls window.close()", "body": "<p>I'm launching a website on a C# System.Windows.Forms.WebBrowser, and after performing the task on the website, the website's javascript calls a function consisting of this:</p>\n\n<pre><code>window.open(\"Closer.html\", '_self');\n</code></pre>\n\n<p>Closer.html contains this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.close();\n&lt;/script&gt;\n</code></pre>\n\n<p>And this works perfectly on an external browser like IE or chrome. But my winforms browser remains open. I have researched this and found that others have experienced this problem, and have been unable to find a solution.</p>\n\n<p>I'd like to either have my C# System.Windows.Forms.WebBrowser class detect that the javascript function window.close() has been called and subsequently do a simple this.close() call, or I could modify the javascript Closer.html to close the System.Windows.Forms.WebBrowser window if that can be done.</p>\n"}, {"tags": ["c#", "memory-leaks", "windows-forms-designer", "wmp"], "comments": [{"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "edited": false, "score": 1, "creation_date": 1468967108, "post_id": 31842966, "comment_id": 64343021, "body": "I believe <a href=\"http://stackoverflow.com/questions/15796731/build-warnings-related-to-com-reference-version-1-0-type-library-and-vs-2010#answer-15798456\">Hans Passant&#39;s answer</a> explains the issue pretty well. I&#39;ve been running into the same thing."}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "reply_to_user": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "edited": false, "score": 0, "creation_date": 1468977080, "post_id": 31842966, "comment_id": 64345365, "body": "@Meloviz I&#39;m no longer working in this project and do not have the code to test with, but I agree, that answer looks quite reasonable and if you say it worked for you I&#39;d bet it&#39;d work for me."}], "answers": [{"comments": [{"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1485117070, "post_id": 41765927, "comment_id": 70779767, "body": "I have no idea if this is the solution or not - I no longer have access to this project, platform, code etc. Anyway, I&#39;ll accept your answer, but I can&#39;t say I really know whether or not you are correct."}], "tags": [], "owner": {"reputation": 26, "user_id": 7255092, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CTf6JMmLY7Q/AAAAAAAAAAI/AAAAAAAAAA0/XKZ4u13lUG0/photo.jpg?sz=128", "display_name": "S.M &#39;prgdes&#39;", "link": "https://stackoverflow.com/users/7255092/s-m-prgdes"}, "is_accepted": true, "score": 1, "last_activity_date": 1593106896, "last_edit_date": 1593106896, "creation_date": 1484922485, "answer_id": 41765927, "question_id": 31842966, "link": "https://stackoverflow.com/questions/31842966/windows-media-player-designer-view-throwing-cpu-and-lib-errors/41765927#41765927", "title": "Windows Media Player Designer View throwing CPU and lib errors", "body": "<p>I found solution to this problem:</p>\n<pre><code>{\nWarning 1 Processing COM reference &quot;WMPLib&quot; from path &quot;C:\\Windows\\system32\\wmp.dll&quot;. Type library importer encountered a property getter 'sessionPlaylistCount' on type 'WMPLib.IWMPNowPlayingHelperDispatch' without a valid return type. The importer will attempt to import this property as a method instead.\n\nWarning 2 Processing COM reference &quot;WMPLib&quot; from path &quot;C:\\Windows\\system32\\wmp.dll&quot;. At least one of the arguments for 'IWMPGraphEventHandler.NotifyAcquireCredentials' cannot be marshaled by the runtime marshaler. Such arguments will therefore be passed as a pointer and may require unsafe code to manipulate.\n}\n</code></pre>\n<p>If you receive these errors,\nthis does not mean that your application will not run.\nBut if you compile your program and it does not run, then the setup file on Windows could be old.\nIn this case, you can set the following:</p>\n<ol>\n<li>Set your program framework to 4 client version;</li>\n<li>set your platform of program to X86; and</li>\n<li>create your installer on framework 4 client.</li>\n</ol>\n"}], "owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 41765927, "answer_count": 1, "score": 1, "last_activity_date": 1593106896, "creation_date": 1438809334, "last_edit_date": 1593106813, "question_id": 31842966, "link": "https://stackoverflow.com/questions/31842966/windows-media-player-designer-view-throwing-cpu-and-lib-errors", "title": "Windows Media Player Designer View throwing CPU and lib errors", "body": "<p>I have a form called VideoForm which has a Windows Media Player called player.</p>\n<pre><code>public AxWMPLib.AxWindowsMediaPlayer player;\n</code></pre>\n<p>When I open VideoFrame.cs [Design] I get two errors:</p>\n<blockquote>\n<p>Could not find type 'AxWMPLib.AxWindowsMediaPlayer'</p>\n<p>The variable 'player' is either undeclared or was never assigned.</p>\n</blockquote>\n<p>If I create a new form in my solution and try to add a Windows Media Player to it, I get this error:</p>\n<blockquote>\n<p>Failed to create component 'AxHost' The error message follows:\n'System.Reflection.ReflectionTypeLoadException: Unable to load one or\nmore of the requested types.</p>\n</blockquote>\n<p><em>(with a ton of types listed below basically amounting to &quot;stuff the toolbox needs to make a control&quot;)</em></p>\n<p><strong>I have tried</strong>: restarting Visual Studio, restarting my computer, deleting and re-importing the libraries, switching to 32, building, then switching back to 64 and building again, and manually finding the lib files on my machine.</p>\n<p><strong>But here's the weird part-</strong> if I close this solution, open another, add a Windows Media Player, compile to 64 bit, then close and reopen the original solution I don't get the errors!<br />\nEDIT: I do however get the following two errors when I attempt the above &quot;hack&quot;:</p>\n<blockquote>\n<p>Warning       Processing COM reference &quot;WMPLib&quot; from path\n&quot;C:\\Windows\\system32\\wmp.dll&quot;. Type library importer encountered a\nproperty getter 'sessionPlaylistCount' on type\n'WMPLib.IWMPNowPlayingHelperDispatch' without a valid return type.\nThe importer will attempt to import this property as a method instead.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Processing COM reference &quot;WMPLib&quot; from path\n&quot;C:\\Windows\\system32\\wmp.dll&quot;. At least one of the arguments for\n'IWMPGraphEventHandler.NotifyAcquireCredentials' cannot be marshaled\nby the runtime marshaler.  Such arguments will therefore be passed as\na pointer and may require unsafe code to manipulate.</p>\n</blockquote>\n<p>I think I am getting a memory leak but am at a loss, and I see nothing at runtime in either Threads or GPU Threads windows.</p>\n<p>I do not believe it is my code that is causing this, however if you want to see the code comment and I will add relevant parts.</p>\n"}, {"tags": ["c#", "multidimensional-array", "parameters"], "answers": [{"tags": [], "owner": {"reputation": 6025, "user_id": 3053082, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cf7725958a43181e6b2b4c0f5f02b91b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapol", "link": "https://stackoverflow.com/users/3053082/kapol"}, "is_accepted": true, "score": 2, "last_activity_date": 1438809528, "creation_date": 1438809528, "answer_id": 31843025, "question_id": 31842917, "link": "https://stackoverflow.com/questions/31842917/pass-n-dimensional-array-as-parameter/31843025#31843025", "title": "Pass N-dimensional array as parameter", "body": "<p>The <code>System.Array</code> class is the base class for all arrays in the CLR. You can pass it as your parameter.</p>\n"}], "owner": {"reputation": 233, "user_id": 2183076, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ce6f427c79c51212ae792812f23c1a99?s=128&d=identicon&r=PG", "display_name": "Martin877", "link": "https://stackoverflow.com/users/2183076/martin877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 31843025, "answer_count": 1, "score": 0, "last_activity_date": 1438810602, "creation_date": 1438809160, "last_edit_date": 1438810602, "question_id": 31842917, "link": "https://stackoverflow.com/questions/31842917/pass-n-dimensional-array-as-parameter", "title": "Pass N-dimensional array as parameter", "body": "<p>I have n-dimensional array which I am creating by using: </p>\n\n<pre><code>var arrayND = Array.CreateInstance(typeof(int), sqs.Select(n =&gt; n.Count).ToArray());\n</code></pre>\n\n<p>I don't know the number of dimensions at compile time. Is there a way to pass the array as a parameter when I don't know the number of dimensions? Thanks.</p>\n"}, {"tags": ["c#", "wpf", "coordinates", "3d-model"], "comments": [{"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1438809460, "post_id": 31842880, "comment_id": 51607494, "body": "Code?  If you show us what you&#39;re using for the rotating and rendering we can more easily tailor a solution to your needs.  Also what have you tried?"}, {"owner": {"reputation": 335, "user_id": 4744390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-GQybI0l2vvI/AAAAAAAAAAI/AAAAAAAAAP8/P7fstlVLalg/photo.jpg?sz=128", "display_name": "Pantelitsa Mavrovounioti", "link": "https://stackoverflow.com/users/4744390/pantelitsa-mavrovounioti"}, "reply_to_user": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1438809847, "post_id": 31842880, "comment_id": 51607685, "body": "My code is big, but I will only add the functions where I add the position and the rotation. I haven&#39;t tried anything because I couldn&#39;t find any examples"}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1438809961, "post_id": 31842880, "comment_id": 51607740, "body": "Well without any idea how you are rendering the model it&#39;s hard to say how you could get the values.  Can you say if you are using a specific library or kit or class or something?  Also relevant link: <a href=\"http://stackoverflow.com/questions/3127753/displaying-3d-models-in-wpf\" title=\"displaying 3d models in wpf\">stackoverflow.com/questions/3127753/displaying-3d-models-in-&zwnj;&#8203;wpf</a>"}, {"owner": {"reputation": 335, "user_id": 4744390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-GQybI0l2vvI/AAAAAAAAAAI/AAAAAAAAAP8/P7fstlVLalg/photo.jpg?sz=128", "display_name": "Pantelitsa Mavrovounioti", "link": "https://stackoverflow.com/users/4744390/pantelitsa-mavrovounioti"}, "reply_to_user": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1438810134, "post_id": 31842880, "comment_id": 51607834, "body": "@MaxvonHippel I do rotate the model but what I want is to instead adding a breakpoint to my function and view the coordinates or position of the camera each time it moves, I want the coordinates to be displayed on my window form."}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1438813037, "post_id": 31842880, "comment_id": 51608983, "body": "If my answer below does not work, can you comment with what happens (or doesn&#39;t happen) when you try it?"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 4744390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-GQybI0l2vvI/AAAAAAAAAAI/AAAAAAAAAP8/P7fstlVLalg/photo.jpg?sz=128", "display_name": "Pantelitsa Mavrovounioti", "link": "https://stackoverflow.com/users/4744390/pantelitsa-mavrovounioti"}, "edited": false, "score": 0, "creation_date": 1438878980, "post_id": 31843448, "comment_id": 51641926, "body": "It worked perfectly. Thank you so Much, and sorry for the confusion about the model position and camera position, it is just sometimes I forgot that I work on the camera and not on the model, because it makes it look like you move the the model instead of the camera :)"}], "tags": [], "owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "is_accepted": true, "score": 2, "last_activity_date": 1438812235, "last_edit_date": 1438812235, "creation_date": 1438811404, "answer_id": 31843448, "question_id": 31842880, "link": "https://stackoverflow.com/questions/31842880/display-3d-models-coordinates-position/31843448#31843448", "title": "Display 3D model&#39;s coordinates (position)", "body": "<p>(See update below in response to you clarifying your question a bit more :) )</p>\n\n<p>Originally you said you wanted to know the coordinates of your 3d model.</p>\n\n<blockquote>\n  <p>I have a 3D model in C# wpf that rotates 360degrees rotating 5degrees\n  each time using timespan. But I want to be able to view its\n  coordinates like viewing the point3DX, point3DY, point3DZ on my window\n  form.</p>\n</blockquote>\n\n<p>However in a comment you clarified it was actually the camera location you were interested in.</p>\n\n<blockquote>\n  <p>... what I want is to ... view the coordinates or position of the\n  camera each time it moves, I want the coordinates to be displayed on\n  my window form.</p>\n</blockquote>\n\n<p>Assuming the comment is your real question (How do I get and show the 3d position of my camera), here is my solution:</p>\n\n<p><em>gCamWC</em> is a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.media.media3d.matrix3d.matrix3d(v=vs.110).aspx\" rel=\"nofollow\">Matrix3D</a>. I know this because:</p>\n\n<pre><code>gCamWC = myRotationTransform.Value;\n</code></pre>\n\n<p>..and since myRotationTransform is a RotateTransform3d, its value is a Matrix3D (<a href=\"https://msdn.microsoft.com/en-us/library/system.windows.media.media3d.rotatetransform3d.value(v=vs.110).aspx\" rel=\"nofollow\">documentation</a>).</p>\n\n<p>I am unfamiliar with Matrix3D's, but a quick MSDN search suggests you could just create a label (I'll call this posLabel) and in the RotatingModelAround method after you append gCamWC do this:</p>\n\n<pre><code>posLabel.Text = \"{0}\\t{1}\\t{2}\", gCamWC.offsetX, gCamWC.offsetY, gCamWC.offsetZ;\n</code></pre>\n\n<p>If it works, this should make the label say something like this (for an example of a vector of 3.0, 6.7, 8.9):</p>\n\n<blockquote>\n  <p>3.0     6.7       8.9</p>\n</blockquote>\n\n<p>**(sorry SO formatting doesn't let me do tab spaces but there would be a tab between each of those values)*</p>\n\n<p>And it should update every time it rotates.</p>\n\n<p><strong>EDIT:</strong>\nYou say you want a label like this:</p>\n\n<blockquote>\n  <p>Camera Position: (-50.00, 10.00, 0.00) Camera LookAt: (1.00, 0.00,\n  0.00) Camera LookUp: (0.00, 0.00, 1.00)</p>\n</blockquote>\n\n<p>Try creating a label called posLabel and then add the following code after you finish appending gCamWC in the RotatingModelAround() method:</p>\n\n<pre><code>posLabel.Text = \"Camera Position: (\" + gCamWC.M14 + \", \" + gCamWC.M24 + \", \" + gCamWC.M34 + \") Camera LookAt: (\" + gCamWC.M11 + \", \" + gCamWC.M21 + \", \" + gCamWC.M31 + \") Camera LookUp: (\" + gCamWC.M13 + \", \" + gCamWC.M23 + \", \" + gCamWC.M33 + \")\";\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 4744390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-GQybI0l2vvI/AAAAAAAAAAI/AAAAAAAAAP8/P7fstlVLalg/photo.jpg?sz=128", "display_name": "Pantelitsa Mavrovounioti", "link": "https://stackoverflow.com/users/4744390/pantelitsa-mavrovounioti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 31843448, "answer_count": 1, "score": 0, "last_activity_date": 1438812235, "creation_date": 1438809005, "last_edit_date": 1438810523, "question_id": 31842880, "link": "https://stackoverflow.com/questions/31842880/display-3d-models-coordinates-position", "title": "Display 3D model&#39;s coordinates (position)", "body": "<p>I have a 3D model in C# wpf that rotates 360degrees rotating 5degrees each time using timespan. But I want to be able to view its coordinates like viewing the point3DX, point3DY, point3DZ on my window form. </p>\n\n<p>Any ideas how can I do that?</p>\n\n<p>Here are the functions where I set the initial position and the rotation of the model</p>\n\n<pre><code> private void SetViewPosition()\n    {\n        Vector3D vAxis = new Vector3D(0, 0, 1);\n        ///&lt;summary&gt;\n        ///R = AxisAngleRotation()\n        ///vAxis = Vector length\n        ///-15 = Angle\n        ///&lt;/summary&gt;\n        AxisAngleRotation3D myRotation = new AxisAngleRotation3D(vAxis, -15);\n        RotateTransform3D myRotationTransform = new RotateTransform3D(myRotation);\n        gCamWC = myRotationTransform.Value;\n        gCamWC.M14 = -50;\n        gCamWC.M24 = 10;\n        gCamWC.M34 = 0;\n\n        Point3D camPosition = new Point3D(gCamWC.M14, gCamWC.M24, gCamWC.M34);\n        Vector3D startLookAt = new Vector3D(gCamWC.M11, gCamWC.M21, gCamWC.M31);//VLook = 1st Column//DT=[1,0,0]//Vertical\n        Vector3D startLookUp = new Vector3D(gCamWC.M13, gCamWC.M23, gCamWC.M33);//VUp = 2nd Column//DT = [0,0,1]//Vertical\n\n\n        DrawingControl.Viewport.SetView(camPosition, startLookAt, startLookUp, 0);//=DR -&gt; How the camera should move\n\n    }\n\n    //STEP 4\n   private void RotatingModelAround(object sender, EventArgs e)\n    {\n        Vector3D vAxis = new Vector3D(gCamWC.M31, gCamWC.M32, gCamWC.M33);  //Rotate about world z-axis.\n        AxisAngleRotation3D myRotation = new AxisAngleRotation3D(vAxis, 5);\n        RotateTransform3D myRotationTransform = new RotateTransform3D(myRotation);\n\n        Matrix3D doTranslation = new Matrix3D();\n        doTranslation.M24 = 3;  // Offset along camera y-axis.  Presumed to be parallel to world plane.\n\n\n        gCamWC.Append(myRotationTransform.Value);\n        gCamWC.Append(doTranslation);\n\n        Point3D camPosition = new Point3D(gCamWC.M14, gCamWC.M24, gCamWC.M34);\n        Vector3D camLookAt = new Vector3D(gCamWC.M11, gCamWC.M21, gCamWC.M31);\n        Vector3D camLookUp = new Vector3D(gCamWC.M13, gCamWC.M23, gCamWC.M33);\n\n        DrawingControl.Viewport.SetView(camPosition, camLookAt, camLookUp, 0);\n    }\n</code></pre>\n\n<p>And this is where they are called</p>\n\n<pre><code>   public XplorerMainWindow()\n    {\n        InitializeComponent();\n        Closed += XplorerMainWindow_Closed;\n        //STEP 1\n        Loaded += XplorerMainWindow_Loaded;\n\n        Closing += XplorerMainWindow_Closing;\n        DrawingControl.UserModeledDimensionChangedEvent += DrawingControl_MeasureChangedEvent;\n        InitFromSettings();\n\n        RefreshRecentFiles();\n\n        UserFilters = new FilterValues();//COBie Class filters, set to initial defaults\n        CoBieTemplate = UkTemplate;\n\n\n        if (Settings.Default.PluginStartupLoad)\n            RefreshPlugins();\n\n\n\n\n        //STEP 4\n       // Add Dispatcer Time so the Rotation will be repeated\n        System.Windows.Threading.DispatcherTimer dispatcherTimer = new System.Windows.Threading.DispatcherTimer();\n        dispatcherTimer.Tick += RotatingModelAround;\n        //dispatcherTimer.Tick += QRotateModel;\n        dispatcherTimer.Interval = new TimeSpan(0, 0, 0, 0,300);//(d,h,m,s,mil.s.)\n        dispatcherTimer.Start();\n\n\n    }\n</code></pre>\n\n<p>For example according to my project, I want this part of my code:</p>\n\n<pre><code>Point3D camPosition = new Point3D(gCamWC.M14, gCamWC.M24, gCamWC.M34);\n        Vector3D camLookAt = new Vector3D(gCamWC.M11, gCamWC.M21, gCamWC.M31);\n        Vector3D camLookUp = new Vector3D(gCamWC.M13, gCamWC.M23, gCamWC.M33);\n</code></pre>\n\n<p>... to be displayed on my window form like:</p>\n\n<p><strong>Camera Position: (-50.00, 10.00, 0.00)\nCamera LookAt: (1.00, 0.00, 0.00)\nCamera LookUp: (0.00, 0.00, 1.00)</strong></p>\n\n<p>And every time the camera will rotate 5degrees, the changed values will be displayed on the window form</p>\n"}, {"tags": ["c#", "arrays", "class", "structure"], "comments": [{"owner": {"reputation": 333, "user_id": 5165131, "user_type": "registered", "profile_image": "https://graph.facebook.com/1479314421/picture?type=large", "display_name": "Mart&#237;n Misol", "link": "https://stackoverflow.com/users/5165131/mart%c3%adn-misol"}, "edited": false, "score": 0, "creation_date": 1438809157, "post_id": 31842814, "comment_id": 51607355, "body": "I don&#39;t think there is an easy way to do that. Even though both structs have the same fields they are different types and are not castable to one another. I guess your best bet would be to use the same struct, or if it is not possible to copy each individual field from one instance to another."}, {"owner": {"reputation": 21, "user_id": 5195632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f012fb7264bc6c31d6dd8750cfcd43e?s=128&d=identicon&r=PG&f=1", "display_name": "Black", "link": "https://stackoverflow.com/users/5195632/black"}, "reply_to_user": {"reputation": 333, "user_id": 5165131, "user_type": "registered", "profile_image": "https://graph.facebook.com/1479314421/picture?type=large", "display_name": "Mart&#237;n Misol", "link": "https://stackoverflow.com/users/5165131/mart%c3%adn-misol"}, "edited": false, "score": 0, "creation_date": 1444563232, "post_id": 31842814, "comment_id": 53947788, "body": "Thx for the comment! I fixed that by using classes instead of stucters."}], "owner": {"reputation": 21, "user_id": 5195632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f012fb7264bc6c31d6dd8750cfcd43e?s=128&d=identicon&r=PG&f=1", "display_name": "Black", "link": "https://stackoverflow.com/users/5195632/black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438814186, "creation_date": 1438808711, "last_edit_date": 1438809777, "question_id": 31842814, "link": "https://stackoverflow.com/questions/31842814/how-can-i-return-a-structure-array-from-a-class-function-to-my-main-function", "title": "How can i return a structure/array from a class-function to my main-function?", "body": "<p>I hope someone can help me!</p>\n\n<p>I just want to return a structure/array from my class-function to my main program-functions. </p>\n\n<p>But I always get an error:</p>\n\n<pre><code>CS0029 C# Cannot implicitly convert type 'MyClass.MyStructerInClass[]' to 'MyMainProgramm.MyStructerInMainProgramm[]\n</code></pre>\n\n<p>Code is simple and hopefully self-explaining:</p>\n\n<pre><code>class MyClass\n{\n    public struct MyStructerInClass\n    {\n        public string string1;\n        public string string2;\n        public int int1;\n        public int int2;\n        public int int3;\n        public double double1;\n        public double double2;\n        public DateTime time1;\n    }\n\n    public MyStructerInClass[] NewStructerInClass = new MyStructerInClass[100];\n\n    public MyClass()\n    {\n\n    }\n\n    public MyStructerInClass[] MyFunctionInClass()\n    {\n        //do some stuff\n\n        return NewStructerInClass\n    }       \n}\n\nnamespace MyMainProgramm\n{\n    public struct MyStructerInMainProgramm\n    {\n        public string string1;\n        public string string2;\n        public int int1;\n        public int int2;\n        public int int3;\n        public double double1;\n        public double double2;\n        public DateTime time1;\n    }\n\n    public MyStructer[] NewStructerInMainProgramm = new MyStructer[100];\n\n    private void MainFunction()\n    {\n        NewStructerInMainProgramm = MyClass.MyFunctionInClass();\n        //Here Error: CS0029 C# Cannot implicitly convert type 'MyClass.MyStructerInClass[]' to 'MyMainProgramm.MyStructerInMainProgramm[]'                       \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "sorting", "optimization"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 3, "creation_date": 1438808999, "post_id": 31842811, "comment_id": 51607284, "body": "Post your benchmark codes and the goal you want to achive so that we know what to do to avoid annecessary comments.."}, {"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438809611, "post_id": 31842811, "comment_id": 51607567, "body": "Hmm, fair enough, however my instinct is that the path of least resistance there is to write a strongly typed quicksort method - I can do that in less time than writing benchmark code! My main issue is I don&#39;t know what garbage and casting overhead the standard approaches have, so I&#39;d like to get an expert opinion, otherwise I can simply avoid them in this instance."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438809625, "post_id": 31842811, "comment_id": 51607575, "body": "BTW: <code>The other option is to write my own quicksort routine!</code> I would like to see it."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 2, "creation_date": 1438809763, "post_id": 31842811, "comment_id": 51607644, "body": "<code>I can do that in less time than writing benchmark code</code> Without it how would you know which one is better. Let&#39;s say I posted a smart answer. Would you trust a strangers code just because it looks good?"}, {"owner": {"reputation": 8751, "user_id": 1265182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dd2835f92c5cdd2222afa06763e294c5?s=128&d=identicon&r=PG&f=1", "display_name": "Shar1er80", "link": "https://stackoverflow.com/users/1265182/shar1er80"}, "edited": false, "score": 1, "creation_date": 1438810554, "post_id": 31842811, "comment_id": 51607999, "body": "So I&#39;m clear, with &quot;hello world&quot; your expected result of the sort is &quot; dehllloorw&quot;?"}, {"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438810799, "post_id": 31842811, "comment_id": 51608120, "body": "Correct. &quot;helloworld&quot; becomes &quot;dehllloorw&quot;"}, {"owner": {"reputation": 8751, "user_id": 1265182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dd2835f92c5cdd2222afa06763e294c5?s=128&d=identicon&r=PG&f=1", "display_name": "Shar1er80", "link": "https://stackoverflow.com/users/1265182/shar1er80"}, "edited": false, "score": 0, "creation_date": 1438811001, "post_id": 31842811, "comment_id": 51608205, "body": "What about the space character in &quot;hello world&quot;? In my last comment, the space character is the first character."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 2, "creation_date": 1438811013, "post_id": 31842811, "comment_id": 51608215, "body": "@redcalx OK, Let&#39;s assume I say <code>var s = &quot;helloworld&quot;.OrderBy(x =&gt; x).ToArray();</code> is the fastest. What is your critria to measure it?"}, {"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438811759, "post_id": 31842811, "comment_id": 51608514, "body": "Speed of the code being profiled is only one factor. The resulting memory alloc and GC &#39;churn&#39; has knock-on effects on the process as a whole that&#39;s I&#39;d prefer to avoid. So e.g. that specific approach creates a new array and copies into it, so there are at least two avoidable subroutines being executed."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1438812154, "post_id": 31842811, "comment_id": 51608659, "body": "@redcalx have you profiled it? <b>Intuitions</b> may not be always correct. Maybe the sorting algorithm is very fast and creating a new array is a tiny cost (BTW: I am not saying this is correct). What I see is you are waiting some authority saying &quot;do this&quot;, whithout showing any effort to measure which one is <b>really</b> corrrect."}, {"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438812379, "post_id": 31842811, "comment_id": 51608731, "body": "<code>What I see is you are waiting some authority saying &quot;do this&quot;</code> - I&#39;m looking for options to investigate further. It&#39;s in my nature to question everything to the Nth degree, hence the reason I paused and came to SO rather than doing Array.Sort(...)."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1438812653, "post_id": 31842811, "comment_id": 51608833, "body": "OK, It seems you will choose one because &quot;you <b>liked</b> it better&quot;. Good Luck."}, {"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438814204, "post_id": 31842811, "comment_id": 51609407, "body": "Clash of cultures I suspect. The nub of the issue (for me) is that the higher the level of abstraction the more unknowns there are, and hence the greater the probability of some extremely sub-optimal corner case. In comparison to, e.g. quicksort, which may not be <i>the</i> optimal solution, but it is near-optimal and is well understood and therefore has limited scope for going wrong, i.e. worst case is O(n) and no array allocs and copies. Corner cases kill (I just made that up :)"}], "answers": [{"comments": [{"owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438811258, "post_id": 31843257, "comment_id": 51608337, "body": "Thanks. My primary motivation was avoiding any boxing/casting, since Array.Sort() isn&#39;t generic, and the StringComparer appears to not have any char based methods on it, which suggests that each comparison is casting from char to string. On reflection my question is more about avoiding any really obviously wasteful things like that, which could easily use 10x more CPU than a strongly typed quicksort. Interesting to see the heuristics on the built in Sorting - not seen those before."}, {"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "reply_to_user": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "edited": false, "score": 0, "creation_date": 1438816321, "post_id": 31843257, "comment_id": 51610084, "body": "If you use a linq based approach |new String(&quot;gzdefghs3i&quot;.OrderBy(x =&gt; x).ToArray())| no StringComparer or boxing should be involved.  The OrderBy() method will enumerate and sort using the default comparison (&lt;,&gt;,=) which is ordinal, which depending on the culture/lang may or may not be considered an alphabetic sort.  ToArray forces the linq expression to run (actually creates the array) and the string constructor copies the array into a new string.  Might be faster to do var x = &quot;gzdefghs3i&quot;.ToCharArray(); x.Sort(); and have less allocations"}], "tags": [], "owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "is_accepted": false, "score": 1, "last_activity_date": 1438810530, "creation_date": 1438810530, "answer_id": 31843257, "question_id": 31842811, "link": "https://stackoverflow.com/questions/31842811/most-efficient-way-sort-a-char-array-by-code-point-ordinal-sort/31843257#31843257", "title": "Most efficient way sort a char array by code point? (Ordinal sort)", "body": "<p>List.Sort is probably better than what you will be able to write in a short time, it works like this<a href=\"https://msdn.microsoft.com/en-us/library/b0zbh7b6(v=vs.110).aspx\" rel=\"nofollow\"> [see]</a>:</p>\n\n<ul>\n<li><p>If the partition size is fewer than 16 elements, it uses an insertion\nsort algorithm.</p></li>\n<li><p>If the number of partitions exceeds 2 * LogN, where N is the range of\nthe input array, it uses a Heapsort algorithm.</p></li>\n<li><p>Otherwise, it uses a Quicksort algorithm.</p></li>\n</ul>\n\n<p>I imagine it might be faster to simply count the occurrence of each character, but this can get tricky with Unicode code points (surrogate pairs).  If all you are concerned with is common English characters (ASCII range), you can just allocate an array the size of the range of characters (127), loop thru the string using the character value as the index and increment.  If you really need the actual string you can reconstitute it by creating a string buffer and filling it with the counts of each non-zero character count, in index order.</p>\n\n<p>One thing worth mentioning is you need to ask yourself what is \"fast enough\".  Clearly, there is a reason you feel that \"string\".ToArray().Sort() isn't fast enough.  That might indicate that an approach other than a sort might be needed.  Hard to say given the limited details.</p>\n"}], "owner": {"reputation": 7308, "user_id": 15703, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bb4dff85a1ab2be3c7c5e82b634eb658?s=128&d=identicon&r=PG", "display_name": "redcalx", "link": "https://stackoverflow.com/users/15703/redcalx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1438902510, "creation_date": 1438808701, "last_edit_date": 1438902510, "question_id": 31842811, "link": "https://stackoverflow.com/questions/31842811/most-efficient-way-sort-a-char-array-by-code-point-ordinal-sort", "title": "Most efficient way sort a char array by code point? (Ordinal sort)", "body": "<p>I want to sort a char array as efficiently as possible, i.e. with minimal CPU usage, memory allocs and garbage collection overhead. My naive first attempt is this simple example:</p>\n\n<p>Assume the array already exists, e.g.</p>\n\n<pre><code>char[] word = \"hello world\".ToCharArray();\n</code></pre>\n\n<p>Optimise this naive approach:</p>\n\n<pre><code>Array.Sort(word, StringComparer.Ordinal);\n</code></pre>\n\n<p>Actually I was surprised this worked since it's using a string comparer to compare chars, so I'm suspecting there is a conversion from char to string going on inside the comparer, which would be sub-optimal in terms of CPU usage and garbage collection, etc.</p>\n\n<p>Assuming I wanted to perform this sort as efficiently as possible, what is the best approach?</p>\n\n<p>Right now my fall-back is to use something like:</p>\n\n<pre><code>List&lt;char&gt; wordChars = \"hello world\".ToList();\nwordChars.Sort((char x, char y) =&gt; \n{\n    return (int)x - (int)y;\n});\n</code></pre>\n\n<p>I'd prefer not to have the overhead of a List for each word though. The other option is to write my own quicksort routine!</p>\n\n<p>P.S. To pre-empt the usual barrage of challenges - Yes I really do want to sort a char array by code point, and yes I do need to make it optimal!! The faster the better. Thanks!</p>\n\n<hr>\n\n<p>For the record here is a strongly typed char quick sort...</p>\n\n<pre><code>public static class CharSort\n{\n    public static void QuickSort(char[] arr)\n    {\n        QuickSort(arr, 0, arr.Length - 1);\n    }\n\n    private static void QuickSort(char[] arr, int left, int right)\n    {\n        do\n        {\n            int p = left;\n            int q = right;\n            char val = arr[p + (q - p &gt;&gt; 1)];\n            do\n            {\n                if(p &lt; arr.Length)\n                {\n                    if(val - arr[p] &gt; 0)\n                    {\n                        p++;\n                        continue;\n                    }\n                }\n                while (q &gt;= 0 &amp;&amp; (val - arr[q] &lt; 0)) \n                {\n                    q--;\n                }\n\n                if(p &gt; q) {\n                    break;\n                }\n\n                if(p &lt; q)\n                {\n                    char num3 = arr[p];\n                    arr[p] = arr[q];\n                    arr[q] = num3;\n                }\n                p++;\n                q--;\n            }\n            while(p &lt;= q);\n            if(q - left &lt;= right - p)\n            {\n                if(left &lt; q) {\n                    QuickSort(arr, left, q);\n                }\n                left = p;\n            }\n            else\n            {\n                if(p &lt; right) {\n                    QuickSort(arr, p, right);\n                }\n                right = q;\n            }\n        }\n        while(left &lt; right);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 0, "creation_date": 1438863341, "post_id": 31842987, "comment_id": 51630285, "body": "Yes I created this property in my usercontrol, but when I wrote the code above it has an error like CornerRadius is not accessible. My property is not a dependecy-property maybe this is a problem. I&#39;m confused. trying..."}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "reply_to_user": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 1, "creation_date": 1438863493, "post_id": 31842987, "comment_id": 51630384, "body": "Yes try making it a dependency property"}, {"owner": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 0, "creation_date": 1438867283, "post_id": 31842987, "comment_id": 51633265, "body": "It works making the property as dependency property. should I edit my question to post the full answer?"}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "reply_to_user": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 1, "creation_date": 1438867890, "post_id": 31842987, "comment_id": 51633766, "body": "Yes would be useful for others to see"}, {"owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "edited": false, "score": 0, "creation_date": 1536446630, "post_id": 31842987, "comment_id": 91428625, "body": "this TemplateBinding causes compilation errors: &quot;Cannot find the static member &#39;CornerRadiusProperty&#39; on the type &#39;TextBox&#39; and &quot;The member &quot;CornerRadius&quot; is not recognized or is not accessible&quot;"}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1438809387, "creation_date": 1438809387, "answer_id": 31842987, "question_id": 31842782, "link": "https://stackoverflow.com/questions/31842782/wpf-how-to-binding-cornerradius-of-border-inside-button-template/31842987#31842987", "title": "WPF how to binding CornerRadius of Border inside button template", "body": "<p>If you have a property called <code>CornerRadius</code> in your control, I'm pretty sure this would do it:</p>\n\n<pre><code>&lt;Border CornerRadius=\"{TemplateBinding CornerRadius}\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 0, "creation_date": 1438863683, "post_id": 31843002, "comment_id": 51630529, "body": "I tried to use this helper, but nothing was found as well. I had created a heritage of Button, and changed my usercontrol&#39;s button to MyButton, then in MyButton.OnApplyTemplate I found the border, but when I set the CornerRadius it doesn&#39;t change."}, {"owner": {"reputation": 11270, "user_id": 590088, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed3c16678b7536774b5eef75cee2e764?s=128&d=identicon&r=PG", "display_name": "eran otzap", "link": "https://stackoverflow.com/users/590088/eran-otzap"}, "reply_to_user": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "edited": false, "score": 1, "creation_date": 1438864705, "post_id": 31843002, "comment_id": 51631309, "body": "I think corner radius needs to be set when loaded. maybe i don&#39;t think it&#39;s something that changes later on like a brush.  I think OnApplayTemplate maybe only the elements inside the template are rendered.  try doing this on the Loaded event.  or define a DP in your usercontrol and bind to it."}], "tags": [], "owner": {"reputation": 11270, "user_id": 590088, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed3c16678b7536774b5eef75cee2e764?s=128&d=identicon&r=PG", "display_name": "eran otzap", "link": "https://stackoverflow.com/users/590088/eran-otzap"}, "is_accepted": false, "score": 1, "last_activity_date": 1438809428, "creation_date": 1438809428, "answer_id": 31843002, "question_id": 31842782, "link": "https://stackoverflow.com/questions/31842782/wpf-how-to-binding-cornerradius-of-border-inside-button-template/31843002#31843002", "title": "WPF how to binding CornerRadius of Border inside button template", "body": "<p>You need to search the VisualTree for the border. it's not part of the UserControl's template so it's not a Template child. </p>\n\n<p>Here's some good extensions to help you with this and other situations where you need to traverse the VisualTree :</p>\n\n<pre><code>public static class VisualTreeHelperExtensions\n{\n    public static T FindVisualParent&lt;T&gt;(DependencyObject depObj) where T : DependencyObject\n    {\n        var parent = VisualTreeHelper.GetParent(depObj);\n\n        if (parent == null || parent is T)\n            return (T)parent;\n\n        return FindVisualParent&lt;T&gt;(parent);\n    }\n\n    public static T FindVisualChild&lt;T&gt;(DependencyObject depObj) where T : Visual\n    {                       \n        if (depObj != null &amp;&amp; IsVisual(depObj))\n        {               \n            for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(depObj); i++)\n            {\n                DependencyObject child = VisualTreeHelper.GetChild(depObj, i);\n\n                if (child != null &amp;&amp; child is T)\n                {\n                    return (T)child;\n                }\n\n                foreach (T childOfChild in FindVisualChildren&lt;T&gt;(child))\n                {\n                    return childOfChild;\n                }\n            }                   \n        }\n        return null;\n    }\n\n    public static T FindVisualChild&lt;T&gt;(DependencyObject depObj, string name) where T : FrameworkElement\n    {\n        if (depObj != null &amp;&amp; IsVisual(depObj))\n        {\n            for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(depObj); i++)\n            {\n                DependencyObject child = VisualTreeHelper.GetChild(depObj, i);\n\n                if (child != null &amp;&amp; child is T &amp;&amp; (child as T).Name.Equals(name))\n                {\n                    return (T)child;\n                }\n\n                foreach (T childOfChild in FindVisualChildren&lt;T&gt;(child))\n                {\n                    if (childOfChild.Name.Equals(name))\n                        return childOfChild;\n                }\n            }\n        }\n        return null;\n    }\n\n    public static IEnumerable&lt;T&gt; FindVisualChildren&lt;T&gt;(DependencyObject depObj) where T : DependencyObject\n    {\n        if (depObj == null)\n            yield break;\n\n        for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(depObj); i++)\n        {\n            if (IsVisual(depObj))\n            {\n                DependencyObject child = VisualTreeHelper.GetChild(depObj, i);\n\n                if (child != null &amp;&amp; child is T)\n                {\n                    yield return (T) child;\n                }\n\n                foreach (T childOfChild in FindVisualChildren&lt;T&gt;(child))\n                {\n                    yield return childOfChild;\n                }\n            }\n        }\n    }\n\n    private static bool IsVisual(DependencyObject depObj)\n    {\n        return depObj is Visual || depObj is Visual3D;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>In this case use : </p>\n\n<pre><code> public override void OnApplyTemplate()\n{\n    Border border = VisualTreeHelperExtensions.FindVisualChild&lt;Border&gt;(this,\"Background\") as Border;\n    border.CornerRadius = this.CornerRadius;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3268, "user_id": 2102827, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0843a73a674b6326019fe8b1441678d0?s=128&d=identicon&r=PG", "display_name": "gartenriese", "link": "https://stackoverflow.com/users/2102827/gartenriese"}, "edited": false, "score": 1, "creation_date": 1593494627, "post_id": 52240045, "comment_id": 110793197, "body": "This is definitely the best answer, you don&#39;t need to create a new control and you don&#39;t need to do anything in code behind."}], "tags": [], "owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1536447583, "creation_date": 1536447583, "answer_id": 52240045, "question_id": 31842782, "link": "https://stackoverflow.com/questions/31842782/wpf-how-to-binding-cornerradius-of-border-inside-button-template/52240045#52240045", "title": "WPF how to binding CornerRadius of Border inside button template", "body": "<p>The best way to do that through Template Binding. WPF best practices say that you need to apply UI changes through appropriate WPF mechanism: XAML. Consequently, we need to change our Style or Template. If it is possible, we should create a flexible template to allow to change UI by changing of style, creation a new Style without modification of the Template.\n<em>Open/Closed</em> <code>SOLID</code> principle: Extend and not modify.\nUnfortunately, we forgot that <code>CornerRadius</code> it is the attached property of class <code>Border</code>.\nSo we can create a Template Binding:</p>\n\n<pre><code>&lt;ControlTemplate TargetType=\"{x:Type Button}\"\n                 x:Key=\"ControlTemplateButtonNormal\"&gt;\n    &lt;Border Background=\"{TemplateBinding Background}\"\n            BorderThickness=\"{TemplateBinding BorderThickness}\"\n            BorderBrush=\"{TemplateBinding BorderBrush}\"\n            CornerRadius=\"{TemplateBinding Border.CornerRadius}\"\n            x:Name=\"BorderRoot\"&gt;\n        &lt;Grid&gt;\n\n            &lt;ContentPresenter IsTabStop=\"False\"\n                          HorizontalAlignment=\"{TemplateBinding HorizontalContentAlignment}\"\n                          VerticalAlignment=\"{TemplateBinding VerticalContentAlignment}\"\n                          TextElement.Foreground=\"{TemplateBinding Foreground}\" /&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;       \n        &lt;Trigger Property=\"Validation.HasError\"\n                 Value=\"True\"&gt;\n            &lt;Setter Property=\"Visibility\"\n                    TargetName=\"ErrorElement\"\n                    Value=\"Visible\" /&gt;\n            &lt;Setter Property=\"BorderBrush\"\n                    TargetName=\"BorderRoot\"\n                    Value=\"Transparent\" /&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsReadOnly\"\n                 Value=\"True\"&gt;\n            &lt;Setter Property=\"Background\"\n                    TargetName=\"BorderRoot\"\n                    Value=\"{StaticResource BorderBrushReadonly}\" /&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n</code></pre>\n\n<p>Now we can use this template to create different Styles.\nNormal button:</p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type Button}\"\n\n       x:Key=\"ButtonNormalStyle\"&gt;\n    &lt;Setter Property=\"BorderThickness\"\n            Value=\"1\" /&gt;\n    &lt;Setter Property=\"Border.CornerRadius\"\n            Value=\"0\" /&gt;      \n    &lt;Setter Property=\"Template\"\n            Value=\"{StaticResource ControlTemplateButtonNormal}\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>Button Round:</p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type Button}\"\n\n       x:Key=\"ButtonRoundStyle\"&gt;\n    &lt;Setter Property=\"BorderThickness\"\n            Value=\"1\" /&gt;\n    &lt;Setter Property=\"Border.CornerRadius\"\n            Value=\"5,5,5,5\" /&gt;      \n    &lt;Setter Property=\"Template\"\n            Value=\"{StaticResource ControlTemplateButtonNormal}\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>I hope it will be useful.</p>\n"}], "owner": {"reputation": 996, "user_id": 3517029, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hwSOy.jpg?s=128&g=1", "display_name": "Murilo", "link": "https://stackoverflow.com/users/3517029/murilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2154, "favorite_count": 0, "accepted_answer_id": 31842987, "answer_count": 3, "score": 1, "last_activity_date": 1536447583, "creation_date": 1438808606, "last_edit_date": 1438870523, "question_id": 31842782, "link": "https://stackoverflow.com/questions/31842782/wpf-how-to-binding-cornerradius-of-border-inside-button-template", "title": "WPF how to binding CornerRadius of Border inside button template", "body": "<p>I have a UserControl which has a button inside it. This button has a personalized style as bellow. I want to create a property in my UserControl that affects the CornerRadius of a border called \"Background\" which is inside the button template, so that I can make the button corner round when needed. </p>\n\n<p>I tried to create a property in my usercontrol and use OnApplyTemplate event and GetTemplateChild method but didn't work. I found the border, but nothing happens.</p>\n\n<pre><code>    public override void OnApplyTemplate()\n    {\n        Border border = GetTemplateChild(\"Background\") as Border;\n        border.CornerRadius = this.CornerRadius;\n    }\n\n\n\n&lt;Style x:Key=\"ButtonStyle\" TargetType=\"Button\"&gt;\n        &lt;Setter Property=\"Background\" Value=\"Transparent\"/&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"#FF000000\"/&gt;\n        &lt;Setter Property=\"Padding\" Value=\"0\"/&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                    &lt;Grid&gt;\n                        &lt;VisualStateManager.VisualStateGroups&gt;\n                            &lt;VisualStateGroup x:Name=\"CommonStates\"&gt;\n                                &lt;VisualState x:Name=\"Normal\"/&gt;\n                                &lt;VisualState x:Name=\"MouseOver\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\"1\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"BackgroundAnimation\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                                &lt;VisualState x:Name=\"Pressed\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\"1\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"BackgroundAnimation\"/&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\".55\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"DisabledVisualElement\"/&gt;\n                                        &lt;ColorAnimation Duration=\"0\" To=\"#8CFFFFFF\" Storyboard.TargetProperty=\"(Rectangle.Fill).(SolidColorBrush.Color)\" Storyboard.TargetName=\"BackgroundGradient\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                                &lt;VisualState x:Name=\"Disabled\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\".55\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"DisabledVisualElement\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                            &lt;/VisualStateGroup&gt;\n                            &lt;VisualStateGroup x:Name=\"FocusStates\"&gt;\n                                &lt;VisualState x:Name=\"Focused\"/&gt;\n                                &lt;VisualState x:Name=\"Unfocused\"/&gt;\n                            &lt;/VisualStateGroup&gt;\n                        &lt;/VisualStateManager.VisualStateGroups&gt;\n                        &lt;Border x:Name=\"Background\" BorderBrush=\"{TemplateBinding BorderBrush}\" BorderThickness=\"0\" Background=\"Transparent\" /&gt;\n                        &lt;Grid Background=\"{TemplateBinding Background}\" Margin=\"1\"&gt;\n                            &lt;Border x:Name=\"BackgroundAnimation\" Background=\"Transparent\" Opacity=\"0\"/&gt;\n                            &lt;Rectangle x:Name=\"BackgroundGradient\" Fill=\"Transparent\" /&gt;\n                        &lt;/Grid&gt;\n\n                        &lt;ContentPresenter x:Name=\"contentPresenter\" ContentTemplate=\"{TemplateBinding ContentTemplate}\" Content=\"{TemplateBinding Content}\" HorizontalAlignment=\"{TemplateBinding HorizontalContentAlignment}\" Margin=\"{TemplateBinding Padding}\" VerticalAlignment=\"{TemplateBinding VerticalContentAlignment}\"/&gt;\n                        &lt;Rectangle x:Name=\"DisabledVisualElement\" Fill=\"#FFFFFFFF\" IsHitTestVisible=\"false\" Opacity=\"0\" RadiusY=\"0\" RadiusX=\"0\"/&gt;\n                        &lt;Rectangle x:Name=\"FocusVisualElement\" IsHitTestVisible=\"false\" Margin=\"1\" Opacity=\"0\" RadiusY=\"0\" RadiusX=\"0\" Stroke=\"#FF6DBDD1\" StrokeThickness=\"0\"/&gt;\n                    &lt;/Grid&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n</code></pre>\n\n<p><strong>Edit - Solution</strong></p>\n\n<p>I got what I wanted by creating a heritage of Button with a dependency property for CornerRadius, then using TemplateBinding.</p>\n\n<p>Important XAML parts:</p>\n\n<pre><code> &lt;Style x:Key=\"ButtonStyle\" TargetType=\"myProject:MyButton\"&gt;\n &lt;ControlTemplate TargetType=\"myProject:MyButton\"&gt;\n &lt;Border x:Name=\"Background\" BorderBrush=\"{TemplateBinding BorderBrush}\" Background=\"{TemplateBinding Background}\" CornerRadius=\"{TemplateBinding CornerRadius}\"&gt;\n</code></pre>\n\n<p>Full XAML and C#</p>\n\n<pre><code>public class MyButton : Button\n{\n    public static readonly DependencyProperty CornerRadiusProperty =\n        DependencyProperty.Register(\"CornerRadius\", typeof(CornerRadius),\n        typeof(MyButton), new FrameworkPropertyMetadata(new CornerRadius(0, 0, 0, 0)));\n\n    public CornerRadius CornerRadius\n    {\n        get { return (CornerRadius)GetValue(CornerRadiusProperty); }\n        set { SetValue(CornerRadiusProperty, value); }\n    }\n}\n\n\n&lt;Style x:Key=\"ButtonStyle\" TargetType=\"myProject:MyButton\"&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"myProject:MyButton\"&gt;\n                    &lt;Grid&gt;\n                        &lt;VisualStateManager.VisualStateGroups&gt;\n                            &lt;VisualStateGroup x:Name=\"CommonStates\"&gt;\n                                &lt;VisualState x:Name=\"Normal\"/&gt;\n                                &lt;VisualState x:Name=\"MouseOver\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\"1\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"BackgroundAnimation\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                                &lt;VisualState x:Name=\"Pressed\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\"1\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"BackgroundAnimation\"/&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\".55\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"DisabledVisualElement\"/&gt;\n                                        &lt;ColorAnimation Duration=\"0\" To=\"#8CFFFFFF\" Storyboard.TargetProperty=\"(Rectangle.Fill).(SolidColorBrush.Color)\" Storyboard.TargetName=\"BackgroundGradient\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                                &lt;VisualState x:Name=\"Disabled\"&gt;\n                                    &lt;Storyboard&gt;\n                                        &lt;DoubleAnimation Duration=\"0\" To=\".55\" Storyboard.TargetProperty=\"Opacity\" Storyboard.TargetName=\"DisabledVisualElement\"/&gt;\n                                    &lt;/Storyboard&gt;\n                                &lt;/VisualState&gt;\n                            &lt;/VisualStateGroup&gt;\n                            &lt;VisualStateGroup x:Name=\"FocusStates\"&gt;\n                                &lt;VisualState x:Name=\"Focused\"/&gt;\n                                &lt;VisualState x:Name=\"Unfocused\"/&gt;\n                            &lt;/VisualStateGroup&gt;\n                        &lt;/VisualStateManager.VisualStateGroups&gt;\n                        &lt;Border x:Name=\"Background\" BorderBrush=\"{TemplateBinding BorderBrush}\" Background=\"{TemplateBinding Background}\" CornerRadius=\"{TemplateBinding CornerRadius}\"&gt;\n                            &lt;Grid&gt;\n                                &lt;Border x:Name=\"BackgroundAnimation\" Background=\"Transparent\" Opacity=\"0\"/&gt;\n                                &lt;Rectangle x:Name=\"BackgroundGradient\" Fill=\"Transparent\"/&gt;\n                            &lt;/Grid&gt;\n                        &lt;/Border&gt;\n                        &lt;ContentPresenter x:Name=\"contentPresenter\" ContentTemplate=\"{TemplateBinding ContentTemplate}\" Content=\"{TemplateBinding Content}\" HorizontalAlignment=\"{TemplateBinding HorizontalContentAlignment}\" Margin=\"{TemplateBinding Padding}\" VerticalAlignment=\"{TemplateBinding VerticalContentAlignment}\"/&gt;\n                        &lt;Rectangle x:Name=\"DisabledVisualElement\" Fill=\"#FFFFFFFF\" IsHitTestVisible=\"false\" Opacity=\"0\" RadiusY=\"{Binding ElementName=Background, Path=CornerRadius.TopLeft}\" RadiusX=\"{Binding ElementName=Background, Path=CornerRadius.BottomLeft}\"/&gt;\n                        &lt;Rectangle x:Name=\"FocusVisualElement\" IsHitTestVisible=\"false\" Margin=\"1\" Opacity=\"0\" RadiusX=\"0\" RadiusY=\"0\" Stroke=\"#FF6DBDD1\" StrokeThickness=\"0\"/&gt;\n                    &lt;/Grid&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "devexpress"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 3, "creation_date": 1438810116, "post_id": 31842726, "comment_id": 51607825, "body": "I&#39;ve been using advanced WPF/MVVM for 6 years and never seen commands implemented like this. Where did you get that command attribute from? UserControl doesn&#39;t have a closing event?"}, {"owner": {"reputation": 9029, "user_id": 4363119, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2c7839bf420bf20da43a12e81618b561?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Eason", "link": "https://stackoverflow.com/users/4363119/mike-eason"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1438847135, "post_id": 31842726, "comment_id": 51619846, "body": "@GlenThomas To be fair, an attribute on a method would be a much nicer way of declaring a command. I too would like to know where you&#39;re getting this from."}, {"owner": {"reputation": 514, "user_id": 3531447, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MONmp.png?s=128&g=1", "display_name": "xtensa1408", "link": "https://stackoverflow.com/users/3531447/xtensa1408"}, "edited": false, "score": 0, "creation_date": 1438852281, "post_id": 31842726, "comment_id": 51623104, "body": "I&#39;m new with WPF/MVVM. I believe it&#39;s better to focus on the solution and find answer to my question than to ask &quot;where did I get that command&quot;. At least we agree that this implementation doesn&#39;t give us result. So have you a solution please !"}, {"owner": {"reputation": 1519, "user_id": 1095741, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4208953811778c6dd2d02e1a3e0b4db7?s=128&d=identicon&r=PG", "display_name": "goobering", "link": "https://stackoverflow.com/users/1095741/goobering"}, "edited": false, "score": 0, "creation_date": 1438864227, "post_id": 31842726, "comment_id": 51630956, "body": "The guidelines for SO questions suggest that your question should be self-contained and reproducible. At the moment it&#39;s neither of these things because it&#39;s incomplete and none of us know how to duplicate your circumstances. Your code might be completely error free at this point, but it&#39;s impossible to verify that or suggest fixes without knowing how it works. Are you using any third party libraries that allow you to declare Commands with an attribute, and if so which ones?"}, {"owner": {"reputation": 514, "user_id": 3531447, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MONmp.png?s=128&g=1", "display_name": "xtensa1408", "link": "https://stackoverflow.com/users/3531447/xtensa1408"}, "edited": false, "score": 0, "creation_date": 1438868245, "post_id": 31842726, "comment_id": 51634048, "body": "OK forget my Code. And let me pose my question differently. I&#39;m new new with WPF MVVM and I want to know how to save modification that happen in my User when navigating between View without clicking in the save button ?"}], "owner": {"reputation": 514, "user_id": 3531447, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MONmp.png?s=128&g=1", "display_name": "xtensa1408", "link": "https://stackoverflow.com/users/3531447/xtensa1408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438808418, "creation_date": 1438808418, "question_id": 31842726, "link": "https://stackoverflow.com/questions/31842726/wpf-mvvm-ask-for-save-before-exit-user-control-not-before-exit-application", "title": "WPF MVVM Ask for save before exit user control (Not before exit application)", "body": "<p>I'm writing a C# WPF Application using MVVM.</p>\n\n<p>In this application I have a user Control which displays items and user can modify, delete or add items. When the user save after any modification save() method is called to save the work.</p>\n\n<p>Now I want to show message to ask for save before exit the current <strong>user control</strong>.\nAlthought I used the same approach described below with the <strong>window</strong> MainView.xaml and it work very well to ask for confirmation when I want to exit APPLICATION by clicking (X) button.</p>\n\n<p><strong>MyView.xaml</strong>:</p>\n\n<pre><code>     &lt;UserControl\n        ...\n        xmlns:dxmvvm=\"http://schemas.devexpress.com/winfx/2008/xaml/mvvm\"\n     ...&gt;\n            &lt;dxmvvm:Interaction.Triggers&gt;\n                    &lt;dxmvvm:EventToCommand Command=\"{Binding LoadCommand}\" EventName=\"Loaded\" /&gt;\n                    &lt;dxmvvm:EventToCommand Command=\"{Binding ExitCommand}\" EventName=\"Closing\"  PassEventArgsToCommand=\"True\"/&gt;\n                &lt;/dxmvvm:Interaction.Triggers&gt;\n    &lt;Grid&gt;\n     ...\n    &lt;/Grid&gt;\n\n    &lt;/UserControl&gt;\n</code></pre>\n\n<p><strong>MyViewModel.cs</strong></p>\n\n<pre><code>[Command]\n        public void Exit(CancelEventArgs e)\n        {\n            if (_editable)\n            {\n                switch (MessageBoxService.Show(\"Messages.QuitRequest\", \"Messages.Quit\", MessageBoxButton.YesNoCancel, MessageBoxImage.Question))\n                {\n                    case MessageBoxResult.Yes:\n                        WithSave();\n                        break;\n\n                    case MessageBoxResult.No:\n                        WithoutSave();\n                        break;\n\n                    case MessageBoxResult.Cancel:\n                        e.Cancel = true;\n                            break;\n                }\n            }\n        }\n</code></pre>\n\n<p><strong>MyView.xaml.cs</strong></p>\n\n<pre><code>public partial class XsltEditorView : UserControl\n    {\n        public XsltEditorView()\n        {\n            InitializeComponent();\n\n        }\n    }\n</code></pre>\n\n<p>Have any idea that allow me to know why exit command isn't fired as expected ?\nThanks in advance.</p>\n"}, {"tags": ["c#", ".net", "serialization"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 4, "creation_date": 1438808380, "post_id": 31842691, "comment_id": 51606975, "body": "What makes you think it doesn&#39;t know what class was serialized? Surely that&#39;s going to be item #1 in the serialized data."}, {"owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 2, "creation_date": 1438808422, "post_id": 31842691, "comment_id": 51606991, "body": "The binary formatter <i>does</i> include information about the structure that it serialized."}, {"owner": {"reputation": 111, "user_id": 2402201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f0d79ad5793305888bd7d9935fb514?s=128&d=identicon&r=PG", "display_name": "Bestknighter", "link": "https://stackoverflow.com/users/2402201/bestknighter"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1438903228, "post_id": 31842691, "comment_id": 51653772, "body": "@Blorgbeard I thought that it doesn&#39;t know because, in my mind, the returned object was an instance of Object and not a instance of Question referenced by its supertype Object. Well, my bad, it&#39;s kinda obvious."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2402201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f0d79ad5793305888bd7d9935fb514?s=128&d=identicon&r=PG", "display_name": "Bestknighter", "link": "https://stackoverflow.com/users/2402201/bestknighter"}, "edited": false, "score": 0, "creation_date": 1438903828, "post_id": 31843356, "comment_id": 51653925, "body": "Ok, first question is answered and I&#39;m satisfied. But not about the second one. I can&#39;t see the difference between the following code and the one in my question, in the matter of what happens when deciding which function to call. <code>Object obj = new Object(); return (Question)obj;</code> What makes this code search for a explicit conversion overload (or perhaps a constructor that receives an object?) and the code in the question search for that special constructor?"}, {"owner": {"reputation": 111, "user_id": 2402201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f0d79ad5793305888bd7d9935fb514?s=128&d=identicon&r=PG", "display_name": "Bestknighter", "link": "https://stackoverflow.com/users/2402201/bestknighter"}, "edited": false, "score": 0, "creation_date": 1438904489, "post_id": 31843356, "comment_id": 51654124, "body": "AND, that thing you said that happens when I don&#39;t implement the interface. Backdoor into the CLR and stuff. WOW. That is hard to understand at first but I&#39;ll study more about that. And you made me go <a href=\"http://memestorage.com/_nw/51/76378097.jpeg\" rel=\"nofollow noreferrer\">like this</a> when I read it."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1438912326, "post_id": 31843356, "comment_id": 51655917, "body": "The crazy magic happens in <code>bf.Deserialize(ms)</code> - that returns a <code>Question</code> object, not a plain <code>Object</code>. <code>(Question)someObjectOfTypeObject</code> is just a cast, because the compiler doesn&#39;t know that the object will be a <code>Question</code>."}, {"owner": {"reputation": 111, "user_id": 2402201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f0d79ad5793305888bd7d9935fb514?s=128&d=identicon&r=PG", "display_name": "Bestknighter", "link": "https://stackoverflow.com/users/2402201/bestknighter"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1438992096, "post_id": 31843356, "comment_id": 51694052, "body": "@Blorgbeard So, if I replace <code>(Question)someObjectOfType</code> with <code>someObjectOfType as Question</code> will work too?"}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 3, "last_activity_date": 1439007634, "last_edit_date": 1439007634, "creation_date": 1438810996, "answer_id": 31843356, "question_id": 31842691, "link": "https://stackoverflow.com/questions/31842691/why-the-constructor-is-being-called-instead-of-giving-me-an-error/31843356#31843356", "title": "Why the constructor is being called instead of giving me an error?", "body": "<blockquote>\n  <p>it doesn't know which class was serialized</p>\n</blockquote>\n\n<p>It <em>does</em> know, BinaryFormatter includes the type info for the serialized object in the stream.  It records the assembly display name, the assembly version, the assembly's public key token, the namespace name and the type name.  And for each field in the class, it records the field name as well as the field type, done the same way as the object type.  </p>\n\n<p>Note how this tends to make binary serialization a bit dangerous, the code that deserializes the data needs to be able to find the <em>exact</em> same assembly back. Tends to be difficult after a couple of years.</p>\n\n<p>Get more insight by serializing to a FileStream, use a hex viewer to look at the data.  You'll readily see the extra metadata back.</p>\n\n<blockquote>\n  <p>Why (Question)someObjectOfTypeObject is calling the special Constructor</p>\n</blockquote>\n\n<p>Because you inherited ISerializable.  BinaryFormatter checks if you implemented that interface and then automatically goes looking for a constructor that takes the SerializationInfo and StreamingContext arguments.</p>\n\n<p>The much more interesting case is where you <em>don't</em> implement ISerializable.  BinaryFormatter then pulls a stunt that you can't pull off yourself, it creates an object <em>without</em> calling a constructor.  It uses a backdoor into the CLR to do this.  Setting the field values then reconstructs the object the way it was stored in memory when it was originally serialized.</p>\n"}], "owner": {"reputation": 111, "user_id": 2402201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f0d79ad5793305888bd7d9935fb514?s=128&d=identicon&r=PG", "display_name": "Bestknighter", "link": "https://stackoverflow.com/users/2402201/bestknighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 31843356, "answer_count": 1, "score": 2, "last_activity_date": 1439007634, "creation_date": 1438808252, "question_id": 31842691, "link": "https://stackoverflow.com/questions/31842691/why-the-constructor-is-being-called-instead-of-giving-me-an-error", "title": "Why the constructor is being called instead of giving me an error?", "body": "<p>I was building a system for serializing a class to a string and send it through the network for an educational game I'm doing as internship. And it works like a charm. But suddenly I noticed myself looking at my code wondering \"<strong>How the heck is this working?</strong>\".</p>\n\n<p>The class I'm talking about is pasted below without all unnecessary parts.</p>\n\n<pre><code>[Serializable]\npublic class Question : ISerializable\n{\n\n    public readonly int id;\n    // Some more\n    // variables\n\n    // Default Constructor\n    public Question (int id /*, some more parameters*/)\n    {\n        this.id = id;\n        // Some initialization code\n    }\n\n    // Pay attention to this Constructor\n    public Question (SerializationInfo info, StreamingContext context)\n    {\n        id = (int)info.GetValue (\"id\", typeof (int));\n        // Some deserialization code\n    }\n\n    // Serialization overload method\n    public void GetObjectData (SerializationInfo info, StreamingContext context)\n    {\n        info.AddValue (\"id\", id, typeof (int));\n        // Some serialization code\n    }\n\n    // Serialization method actually used\n    static public string SerializeToString (Question p)\n    {\n        BinaryFormatter bf = new BinaryFormatter ();\n        using (MemoryStream ms = new MemoryStream ())\n        {\n            bf.Serialize (ms, p);\n            return Convert.ToBase64String (ms.ToArray ());\n        }\n    }\n\n    // This is where I'm going crazy\n    static public Question DeserializeFromString (string serialized)\n    {\n        BinaryFormatter bf = new BinaryFormatter ();\n        using (MemoryStream ms = new MemoryStream (Convert.FromBase64String (serialized)))\n        {\n            return (Question)bf.Deserialize (ms);\n        }\n    }\n\n}\n</code></pre>\n\n<p>If I do this in the server side:</p>\n\n<pre><code>    // ...\n    string serialized = Question.SerializeToString (actualQuestion);\n    // Send \"serialized\" through the network\n    // ...\n</code></pre>\n\n<p>And this in the client side:</p>\n\n<pre><code>    // ...\n    // Receive a string\n    Question receivedQuestion = Question.DeserializeFromString (receivedString);\n    // ...\n</code></pre>\n\n<p><strong>It works! But why?</strong></p>\n\n<p>What I want to know is what is exactly going under the hood in the return statement of DeserializeFromString.</p>\n\n<pre><code>return (Question)bf.Deserialize (ms);\n</code></pre>\n\n<p>Here is what I actually understand:\nbf.Deserialize (ms) receives a memory stream populated with the string of the serialization and returns a Object of the deserialized data.</p>\n\n<ol>\n<li>How the variables are stored in the Object since it doesn't know its prototype? (it doesn't know which class was serialized)</li>\n<li>Why (Question)someObjectOfTypeObject is calling the special Constructor instead of searching for an overload of a explicit conversion, or, a Constructor that receives an Object (and failing in those searches as I didn't implement neither of them)?</li>\n</ol>\n\n<p>I would like to understand what is going on at a low level (or at least at the compiler and runtime level) and, if possible, explanations about what is happening in the memory.</p>\n"}, {"tags": ["c#", "entity-framework", "domain-driven-design", "entity-framework-6"], "comments": [{"owner": {"reputation": 517, "user_id": 515097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1507c87a6e0121eb7d06cad1b4012b4a?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/515097/lucas-s"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1438808607, "post_id": 31842476, "comment_id": 51607080, "body": "Hi @GertArnold, please, take a look. <a href=\"https://msdn.microsoft.com/pt-br/library/system.data.spatial.dbgeography(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/pt-br/library/&hellip;</a>."}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1438808773, "post_id": 31842476, "comment_id": 51607160, "body": "Nicely done application architecture, BTW."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1438808840, "post_id": 31842476, "comment_id": 51607192, "body": "<code>System.Data.Spatial</code> is a .Net namespace."}, {"owner": {"reputation": 517, "user_id": 515097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1507c87a6e0121eb7d06cad1b4012b4a?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/515097/lucas-s"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1438808932, "post_id": 31842476, "comment_id": 51607246, "body": "@GertArnold, For EF6, spatial classes like DbGeography and DbGeometry have moved from System.Data.Spatial to System.Data.Entity.Spatial. <a href=\"https://msdn.microsoft.com/en-US/data/dn469466\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-US/data/dn469466</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1438809335, "post_id": 31842476, "comment_id": 51607440, "body": "Ah, missed that one, thanks. I&#39;m afraid that you have to map to DbGeography directly. The best you can do is map the EF entities to domain entities. Yes, it&#39;s an extra mapping layer, but it&#39;s hard to apply DDD principles to an EF class model anyway."}, {"owner": {"reputation": 39014, "user_id": 1211528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/88f7b504ba3fffac19860abd3aa7cf91?s=128&d=identicon&r=PG", "display_name": "plalx", "link": "https://stackoverflow.com/users/1211528/plalx"}, "edited": false, "score": 3, "creation_date": 1438824130, "post_id": 31842476, "comment_id": 51611983, "body": "@LucasS. From what I&#39;ve heard, Entity Framework is not the ideal ORM candidate for DDD. I would look at something like NHibernate that doesn&#39;t require any compromise (or very little) in the domain model or look at using a database without impedence mismatch for the write model."}, {"owner": {"reputation": 517, "user_id": 515097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1507c87a6e0121eb7d06cad1b4012b4a?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/515097/lucas-s"}, "reply_to_user": {"reputation": 39014, "user_id": 1211528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/88f7b504ba3fffac19860abd3aa7cf91?s=128&d=identicon&r=PG", "display_name": "plalx", "link": "https://stackoverflow.com/users/1211528/plalx"}, "edited": false, "score": 0, "creation_date": 1438892246, "post_id": 31842476, "comment_id": 51649169, "body": "@plalx, Thank you for your comment. That is my plan B. My expectations when I created this question was check if someone have a different strategy that was not considering. I have more experience with EF6 than NHibernate, so I&#39;d like to take advantage of it."}, {"owner": {"reputation": 553, "user_id": 2124936, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lE1rs.jpg?s=128&g=1", "display_name": "Bruno Casarotti", "link": "https://stackoverflow.com/users/2124936/bruno-casarotti"}, "edited": false, "score": 0, "creation_date": 1448484487, "post_id": 31842476, "comment_id": 55613146, "body": "Hi Lucas, how did you go with it? I&#39;m facing the same issue as you. I took a look at the @Backs answer and kind of works well for my needs. Would be nice to hear from you how you solved that issue."}, {"owner": {"reputation": 2337, "user_id": 2613363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0g5yO.jpg?s=128&g=1", "display_name": "Devon Burriss", "link": "https://stackoverflow.com/users/2613363/devon-burriss"}, "edited": false, "score": 0, "creation_date": 1573629953, "post_id": 31842476, "comment_id": 103939530, "body": "I just wanted to reiterate what has already been said, EF or any heavy-duty ORM is not worth the trouble when implementing DDD tactical patterns. Something like Dapper works well. I have been implementing DDD since 2012 and have used EF many times and regretted it every time. It is not that it cannot work, it is just easy to mess up and hard to back out of the choices."}, {"owner": {"reputation": 408, "user_id": 4365868, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1759481839/picture?type=large", "display_name": "Masoud Sedghi", "link": "https://stackoverflow.com/users/4365868/masoud-sedghi"}, "edited": false, "score": 0, "creation_date": 1589638682, "post_id": 31842476, "comment_id": 109375493, "body": "I recommend to create a Value Object in domain layer to keep location data and let orm persist them. for example you can use &lt;/Component&gt; for mapping Value Objects in nhibernate or for more advance soultion creat some custom data types in your infrastructure layer"}], "answers": [{"tags": [], "owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "is_accepted": false, "score": 0, "last_activity_date": 1439216959, "creation_date": 1439216959, "answer_id": 31922265, "question_id": 31842476, "link": "https://stackoverflow.com/questions/31842476/persistent-ignorant-domain-with-entity-framework-and-spacial-data/31922265#31922265", "title": "Persistent Ignorant Domain with Entity Framework and Spacial Data", "body": "<p>Well, I don't know \"right\" way, but, i have a tricky idea. I hope, it'll help you or give some more variants:\nYpu have domain entity <code>Place</code>, it's fully persistent ignorant and it's place in Domain assembly. Good.\nLets create one more Place class in Repository assembly:</p>\n\n<pre><code>internal sealed class EFPlace : Place\n{\n    DbGeography EFLocation \n    {\n        get\n        {\n            return DbGeography.FromText(string.Format(\"POINT({0} {1})\", Location.Longitude, Location.Latitude);\n        }\n        set\n        {\n            //vice versa convertion, I don't know, how to do it :)\n        }\n    }\n}\n</code></pre>\n\n<p>We created special class for Entity Framework, and map it:</p>\n\n<pre><code>public class PlaceMap : ComplexTypeConfiguration&lt;EFPlace&gt;\n{\n    public PlaceMap ()\n    {\n        Property(p =&gt; p.EFLocation).HasColumnName(\"Location\");\n        Ignore(p =&gt; p.Location);\n    }\n}\n</code></pre>\n\n<p>But, we have to convert from Place to EFPlace on save in repository. You can create special constructor, or casting method.\nAnother variant - create partial class Place in Domain and Repository assemblies. And add needed propery in Repository one class and so on.\nWell, it looks ugly :( but, I don't know \"pure\", real-life examples of Persistent Ignorant Domain. We always have limitations of Entity Framework. <a href=\"http://enterprisecraftsmanship.com/2014/11/29/entity-framework-6-7-vs-nhibernate-4-ddd-perspective/\" rel=\"nofollow\">NHibernate</a> has a little more features.</p>\n"}], "owner": {"reputation": 517, "user_id": 515097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1507c87a6e0121eb7d06cad1b4012b4a?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/515097/lucas-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 880, "favorite_count": 3, "answer_count": 1, "score": 9, "last_activity_date": 1439216959, "creation_date": 1438807495, "question_id": 31842476, "link": "https://stackoverflow.com/questions/31842476/persistent-ignorant-domain-with-entity-framework-and-spacial-data", "title": "Persistent Ignorant Domain with Entity Framework and Spacial Data", "body": "<p>I'm developing an application that implements DDD and Repository Pattern as shown in diagram bellow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FbYOA.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FbYOA.jpg\" alt=\"My Software Architecture\"></a></p>\n\n<p>I expect to keep my Domain Layer persistent ignorant, so I wouldn't like to install entity framework libraries there. The only problem I'm facing is that my application uses spatial data, but I'm not supposed to use DbGeography as a Property Type of my entities, once it belongs to System.Data.Entity.Spatial namespace, from EntityFramework assembly.</p>\n\n<p>Is there a way to create a class to hold latitude, longitude and elevation values in Domain Layer, like that:</p>\n\n<pre><code>public class Location\n{\n    public double Latitude { get; set; }\n    public double Longitude { get; set; }\n    public double Elevation { get; set; }\n}\n</code></pre>\n\n<p>and then convert that class to DbGeography in my Repository Layer?</p>\n\n<p>In other words, the domain entities would have only Location class as a property:</p>\n\n<pre><code>public class Place : IEntityBase, ILocalizable\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public Location Location { get; set; }\n    public User Owner { get; set; }\n}\n</code></pre>\n\n<p>and I'd convert it DbGegraphy to persist spatial data and do some calculations only in repository layer. My plans was try something like that to convert:</p>\n\n<pre><code>public class LocationMap : ComplexTypeConfiguration&lt;Location&gt;\n{\n    public LocationMap()\n    {\n        Property(l =&gt; DbGeography.FromText(string.Format(\"POINT({0} {1})\", l.Longitude, l.Latitude))).HasColumnName(\"Location\");\n        Ignore(l =&gt; l.Elevation);\n        Ignore(l =&gt; l.Latitude);\n        Ignore(l =&gt; l.Longitude);\n    }\n}\n</code></pre>\n\n<p>But it doesn't work and never will. How I can solve this problem? What are the best practices in this situation?</p>\n\n<p>Thank you </p>\n"}, {"tags": ["c#", "algorithm", "google-maps", "formula", "computational-geometry"], "comments": [{"owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438809553, "post_id": 31842415, "comment_id": 51607546, "body": "Is <i>only</i> the <code>latAdjustment</code> inaccurate?"}, {"owner": {"reputation": 2665, "user_id": 75802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84483800fa25c8cedf69e64bca4ab05b?s=128&d=identicon&r=PG", "display_name": "Adam Butler", "link": "https://stackoverflow.com/users/75802/adam-butler"}, "reply_to_user": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438810440, "post_id": 31842415, "comment_id": 51607955, "body": "@bcdan yes, lngAdjustment is corrent"}, {"owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438814218, "post_id": 31842415, "comment_id": 51609413, "body": "sounds like the coordinates of the edge of the screen are wrong. What is your method of testing? Computer-zoom? Mouse scrolling?"}, {"owner": {"reputation": 2665, "user_id": 75802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84483800fa25c8cedf69e64bca4ab05b?s=128&d=identicon&r=PG", "display_name": "Adam Butler", "link": "https://stackoverflow.com/users/75802/adam-butler"}, "reply_to_user": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438815002, "post_id": 31842415, "comment_id": 51609686, "body": "I just compare one map to another, in separate browser tabs.  One map is zoomed in the browser, the other I attempt to set the bounds manually on the server"}, {"owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438816438, "post_id": 31842415, "comment_id": 51610117, "body": "By &quot;in the browser&quot;, is that with the mouse or the JS API?"}, {"owner": {"reputation": 2665, "user_id": 75802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84483800fa25c8cedf69e64bca4ab05b?s=128&d=identicon&r=PG", "display_name": "Adam Butler", "link": "https://stackoverflow.com/users/75802/adam-butler"}, "reply_to_user": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1438897429, "post_id": 31842415, "comment_id": 51651829, "body": "right, the reference window that I&#39;m comparing against I just manipulate the map with the mouse (panning, zooming, etc)"}], "answers": [{"tags": [], "owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "is_accepted": false, "score": 0, "last_activity_date": 1438897995, "creation_date": 1438897995, "answer_id": 31866451, "question_id": 31842415, "link": "https://stackoverflow.com/questions/31842415/google-maps-zoom-algorithm/31866451#31866451", "title": "Google Maps zoom algorithm", "body": "<p>Judging by the fact that your testing method uses the mouse, it seems to me that your testing method is the problem. Since the map zooms in differently based on the centering of the mouse, not the center of the screen, the edge bounds vary, but not the difference between them. This seems to coincide with the details you have given.</p>\n\n<p>Intuitively, there is nothing wrong with your formula -- just how you tested it.</p>\n"}], "owner": {"reputation": 2665, "user_id": 75802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84483800fa25c8cedf69e64bca4ab05b?s=128&d=identicon&r=PG", "display_name": "Adam Butler", "link": "https://stackoverflow.com/users/75802/adam-butler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1442514649, "creation_date": 1438807237, "last_edit_date": 1442514649, "question_id": 31842415, "link": "https://stackoverflow.com/questions/31842415/google-maps-zoom-algorithm", "title": "Google Maps zoom algorithm", "body": "<p>In my web application, I have coordinate bounds that I'd like to modify to simulate \"zooming in\" on google maps.  It seems that zooming back and forth with google maps simply doubles or halves each side of the bounding box.  So my function to do this on the server looks like this:</p>\n\n<pre><code>private static decimal[] ZoomIn(decimal latMax, decimal lngMin, decimal latMin, decimal lngMax)\n{\n    decimal lngAdjustment = (lngMax - lngMin) * .25m;\n    decimal latAdjustment = (latMax - latMin) * .25m;\n    return new[]\n    {\n        // North\n        latMax - latAdjustment,\n        // West\n        lngMin + lngAdjustment,\n        // South\n        latMin + latAdjustment,\n        // East\n        lngMax - lngAdjustment\n    };\n}\n</code></pre>\n\n<p>The problem with this approach is the <strong>latAdjustment</strong> that I'm doing.  When compared to an actual zoom using the google maps control, this ends up being fairly accurate when zoomed in to city level.  However, it is less accurate the further the view is zoomed out.  I assume this is due to the Mercator projection of the earth that google maps uses.  Is anyone aware of a better formula or method to use to simulate a \"zoom\"?</p>\n\n<p><strong>Update:</strong>\nMy issue has more to do with not knowing the correct formula than google maps.  Let me illustrate using some sample numbers.</p>\n\n<p>Take Chicago, centered at 41.8563226156679,-87.7339862646484</p>\n\n<p>And a bounding box surrounding that point:</p>\n\n<ul>\n<li>West:  -87.984955197753800</li>\n<li>East:  -87.483017331542900</li>\n<li>South: 41.546931599561100</li>\n<li>North: 42.164224124684300</li>\n</ul>\n\n<p>By observing the behavior of google maps, this bounding box zoomed in one level will be:\n - West:  -87.859470731201100\n - East:  -87.608501798095600\n - South: 41.701813184067600\n - North: 42.010459667660800</p>\n\n<p>(center is kept the same, there is no variance due to mouse movement, etc.  I just used the manual zoom button, not the mouse)</p>\n\n<p>Using my formula above, longitude will values will come out correct.  Example:</p>\n\n<p>west = west + (west - east) * .25\n-87.984955197753800 + ((-87.483017331542900 - -87.984955197753800) * .25) = -87.859470731201075</p>\n\n<p>However, the same formula will not work when dealing with latitude.  It is near the correct values, but off by just enough that the map shifts noticeably.  This effect is worse with larger bounding boxes and/or when the latitude is further from the equator. I assume this is due to the mercator projection of the earth.  Trig class was a long time ago for me, and at this point I'm unable to find a suitable formula for zoom latitude for this situation.</p>\n"}, {"tags": ["java", "c#", "performance-testing", "tcp-ip"], "comments": [{"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438807392, "post_id": 31842409, "comment_id": 51606395, "body": "I assume you are including time to transfer actual data in your measured time.  You could be running a bunch of these at the same time, but transferring 32Mb of data has the right to take close to a second even over a decent local area network."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438807486, "post_id": 31842409, "comment_id": 51606464, "body": "It re-runs the same function on javascript&#39;s callBack functions to have a warm-up sequence, rightnow only a single of this runs at a time."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438807552, "post_id": 31842409, "comment_id": 51606506, "body": "Don&#39;t use that <code>while(in.available()==0)     {         Thread.sleep(3);         }</code> A good designed program should never need sleep. (btw: you will never get a exact 3 ms sleep. At leat 16 ms depending on the windows version you are using)"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438807575, "post_id": 31842409, "comment_id": 51606524, "body": "No, I&#39;m talking about your claim of millions of streams -- the fact that 1Mb transfer takes a second doesn&#39;t mean you couldn&#39;t be running thousands of these in parallel, all doing 1Mb/sec (if you have bandwidth)."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1438807674, "post_id": 31842409, "comment_id": 51606574, "body": "Thread constantly reads buffer without this sleep/wait part and doesnt get a single byte from client."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438807708, "post_id": 31842409, "comment_id": 51606591, "body": "@MK, what about 1kB part? Its 500ms too."}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438807730, "post_id": 31842409, "comment_id": 51606604, "body": "what is your ping time between these 2?"}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1438807870, "post_id": 31842409, "comment_id": 51606681, "body": "What could be a minimalistic example of pinging between?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438807934, "post_id": 31842409, "comment_id": 51606721, "body": "@huseyintugrulbuyukisik see this minimalist code about TCP <a href=\"http://stackoverflow.com/a/21510978/932418\">stackoverflow.com/a/21510978/932418</a>"}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1438808054, "post_id": 31842409, "comment_id": 51606804, "body": "It says zero milliseconds on windows cmd"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438808394, "post_id": 31842409, "comment_id": 51606979, "body": "ok, houw about ping -l 1024 192.168.1.1"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438808480, "post_id": 31842409, "comment_id": 51607020, "body": "also your java code reads one byte at a time.  You should be reading at least 8192 buffer at a time."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438808568, "post_id": 31842409, "comment_id": 51607058, "body": "@MK zero ms again. Tried with differend buffer sizes but did not change latency."}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438808771, "post_id": 31842409, "comment_id": 51607157, "body": "are you sure we are talking about the same thing?  I&#39;m saying this bayt=in.read(); needs to be replaced with int nbytes = in.read(buffer); where buffer is byte[] buffer = new byte[8192];"}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1438809299, "post_id": 31842409, "comment_id": 51607422, "body": "Yes, code is messy so I pseudoed it and forgot some words sorry."}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1438882388, "post_id": 31842409, "comment_id": 51643732, "body": "well your next steps is to first replace both sides with running nc (netcat) or some other tool like that and confirm that the network speed is actually good.  Then replace client and server one by one and see if one of them is fast when talking to netcat.  This will at least help you isolate it to which side is broken."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1438883172, "post_id": 31842409, "comment_id": 51644104, "body": "The lagging part is reading echo from server but I dont know why. Java to Java socket is microseconds just as fast as C# to C# in microseconds."}], "answers": [{"tags": [], "owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "is_accepted": false, "score": 0, "last_activity_date": 1438888948, "last_edit_date": 1438888948, "creation_date": 1438887689, "answer_id": 31863822, "question_id": 31842409, "link": "https://stackoverflow.com/questions/31842409/tcp-ip-c-client-and-java-server-very-high-latency/31863822#31863822", "title": "TCP-IP, C# Client and Java Server, very high latency", "body": "<p>Problem solved in replacement of</p>\n\n<pre><code>while ((bytesRec = sender.Receive(bytes))&gt;0)\n{\n   boy += bytesRec;\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code> while (sender.Available &lt;= 0) ;\n\n while (sender.Available&gt;0)\n {\n      bytesRec = sender.Receive(bytes);\n      boy += bytesRec;\n }\n</code></pre>\n\n<p>now its in microseconds for 1kB reads instead of 500ms. Because its checking a single integer instead of trying to read on whole buffer? Maybe. But it now doesnt read all the message sent from server. It needs some type of header to know how much to read on. Reads about several kilobytes even when server sends megabytes.</p>\n\n<p>When server sends 3MB and client reads exactly same amount, it takes 30ms. Both in same machine. Trying to read more than server has sent, (even a single byte), raises an exception so TCP really sends exact same amount needed by client. </p>\n"}], "owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438888948, "creation_date": 1438807221, "last_edit_date": 1438808161, "question_id": 31842409, "link": "https://stackoverflow.com/questions/31842409/tcp-ip-c-client-and-java-server-very-high-latency", "title": "TCP-IP, C# Client and Java Server, very high latency", "body": "<p>In some tutoral-based codes, I connected a C# web application to a Java socket server through my web application's <code>WebMethod</code> in a webservice. Unfortunately this is happening pretty slowly.  For example, when the Java server echoes some data to the C# client I get the following results:</p>\n\n<blockquote>\n  <ul>\n  <li>Size of data sent= 32MB, total time= 980 ms (no problem)</li>\n  <li>Size of data sent= 4MB, total time= 530 ms (becomes somewhat slower)</li>\n  <li>Size of data sent= 1MB, total time= 520 ms (absolutely bottlenecked)</li>\n  <li>Size of data sent= 1kB, total time= 516 ms (this must be some constant latency of something)</li>\n  </ul>\n</blockquote>\n\n<p>I've read that people can make real-time communications (~60/s) and sometimes even millions of streams/s with some server apps.  What could be the problem with my implementation?  It is sending multiple messages over a single open connection, so the object creation overhead should only show up for the first message?  Why am I getting ~500 ms overhead on my messaging?</p>\n\n<p>The C# webmethod is initiated when the web-app starts and connects to the same Java server for every call to this webmethod.</p>\n\n<pre><code>public static IPHostEntry ipHostInfo = Dns.Resolve(Dns.GetHostName());\npublic static IPAddress ipAddress = ipHostInfo.AddressList[0];\npublic static IPEndPoint remoteEP = new IPEndPoint(ipAddress, 9999);\n\n// Create a TCP/IP  socket.\npublic static Socket sender = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\npublic static int z = 0; \n\n[WebMethod]\npublic BenchmarkData_ StartClient()\n{\n    lock(lck)\n    {\n        z++;\n        if (z == 1)\n        {\n            sender.Connect(remoteEP);\n        }\n    }\n    int bytesRec = 0;\n    int boy = 0;\n    byte[] bytes = new byte[1024 * 1024];\n    int bytesSent = 0;\n    SocketFlags sf = new SocketFlags();\n    Stopwatch sw = new Stopwatch(); Stopwatch sw2 = new Stopwatch();\n\n    #region r\n    lock (lck)\n    {\n        sw.Start();\n        // Data buffer for incoming data.\n\n        // Connect to a remote device.\n        try\n        {\n            // Establish the remote endpoint for the socket.\n            // This example uses port 11000 on the local computer.\n\n            // Create a TCP/IP  socket.\n            sender.ReceiveBufferSize = 1024 * 1024;\n            sender.ReceiveTimeout = 1;\n\n            // Connect the socket to the remote endpoint. Catch any errors.\n            try\n            {\n                Console.WriteLine(\"Socket connected to {0}\", sender.RemoteEndPoint.ToString());\n                // Encode the data string into a byte array.\n                byte[] msg = Encoding.ASCII.GetBytes(\"This is a test&lt;EOF&gt;\");\n\n                // Send the data through the socket.\n                bytesSent = sender.Send(msg);\n\n                // Receive the response from the remote device.\n                sw.Stop();\n\n                sw2.Start();\n                while ((bytesRec = sender.Receive(bytes)) &gt; 0)\n                {\n                    boy += bytesRec;\n                }\n\n                Console.WriteLine(\"Echoed test = {0}\", Encoding.ASCII.GetString(bytes, 0, bytesRec));\n\n                // Release the socket.\n                // sender.Shutdown(SocketShutdown.Both);\n                // sender.Close();\n                sw2.Stop();\n            }\n            catch (ArgumentNullException ane)\n            {\n                Console.WriteLine(\"ArgumentNullException : {0}\", ane.ToString());\n            }\n            catch (SocketException se)\n            {\n                Console.WriteLine(\"SocketException : {0}\", se.ToString());\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(\"Unexpected exception : {0}\", e.ToString());\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n    #endregion\n\n    return new BenchmarkData_() { .... };\n}\n</code></pre>\n\n<p>Here is the Java code (half-pseudo code)</p>\n\n<pre><code>serverSocket=new ServerSocket(port); // in listener thread\nSocket socket=serverSocket.accept(); // in listener thread\n\n// in a dedicated thread per connection made:\nout=new  BufferedOutputStream( socket.getOutputStream());\nin=new DataInputStream(socket.getInputStream());        \n\nboolean reading=true;\nArrayList&lt;Byte&gt; incoming=new ArrayList&lt;Byte&gt;();\n\nwhile (in.available() == 0)\n{\n    Thread.sleep(3);    \n}\n\nwhile (in.available() &gt; 0)\n{\n    int bayt=-2;\n    try {\n        bayt=in.read();\n    } catch (IOException e) { e.printStackTrace(); }\n\n    if (bayt == -1)\n    {\n        reading = false;\n    }\n    else\n    {\n        incoming.add((byte) bayt);                      \n    }\n}\n\nbyte [] incomingBuf=new byte[incoming.size()];\nfor(int i = 0; i &lt; incomingBuf.length; i++)\n{\n    incomingBuf[i] = incoming.get(i);\n}\n\nmsg = new String(incomingBuf, StandardCharsets.UTF_8);\nif (msg.length() &lt; 8192)\n    System.out.println(\"Socket Thread:  \"+msg);\nelse\n    System.out.println(\"Socket Thread: long msg.\");\n\nOutputStreamWriter outW = new OutputStreamWriter(out);\nSystem.out.println(socket.getReceiveBufferSize());\noutW.write(testStr.toString()); // 32MB, 4MB, ... 1kB versions\noutW.flush();\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "edited": false, "score": 0, "creation_date": 1438807443, "post_id": 31842420, "comment_id": 51606440, "body": "Didn&#39;t work. <code>DirectoryNotFoundException.  Could not find a part of the path &#39;C:\\Users\\me\\Documents\\Project\\bin\\Debug\\Subfolder\\TextFile.&zwnj;&#8203;txt&#39;</code>"}, {"owner": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "edited": false, "score": 1, "creation_date": 1438807507, "post_id": 31842420, "comment_id": 51606471, "body": "This text file should not be accessible from the output folder either. It needs to be an embedded resource, or whatever the term in WPF is."}, {"owner": {"reputation": 1112, "user_id": 1569005, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470953136/picture?type=large", "display_name": "lem2802", "link": "https://stackoverflow.com/users/1569005/lem2802"}, "reply_to_user": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "edited": false, "score": 0, "creation_date": 1438807818, "post_id": 31842420, "comment_id": 51606657, "body": "in the property windows set the value &quot;Copy to output directory&quot; to: &quot;copy always&quot;"}, {"owner": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "edited": false, "score": 0, "creation_date": 1438807885, "post_id": 31842420, "comment_id": 51606692, "body": "The text file needs to be embedded in the .exe."}], "tags": [], "owner": {"reputation": 1112, "user_id": 1569005, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470953136/picture?type=large", "display_name": "lem2802", "link": "https://stackoverflow.com/users/1569005/lem2802"}, "is_accepted": false, "score": 1, "last_activity_date": 1438807250, "creation_date": 1438807250, "answer_id": 31842420, "question_id": 31842353, "link": "https://stackoverflow.com/questions/31842353/accessing-a-text-file-in-a-wpf-project/31842420#31842420", "title": "Accessing a text file in a WPF project", "body": "<p>Try that:</p>\n\n<pre><code>        using (StreamReader sr = new StreamReader(System.AppDomain.CurrentDomain.BaseDirectory + \"/Subfolder/TextFile.txt\"))\n        {\n            String line = sr.ReadToEnd();\n            Console.WriteLine(line);\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 294, "user_id": 2179041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94fb83b7341c3a6196f9a253d2777e5f?s=128&d=identicon&r=PG", "display_name": "mitli", "link": "https://stackoverflow.com/users/2179041/mitli"}, "is_accepted": false, "score": 1, "last_activity_date": 1438809677, "last_edit_date": 1438809677, "creation_date": 1438808828, "answer_id": 31842838, "question_id": 31842353, "link": "https://stackoverflow.com/questions/31842353/accessing-a-text-file-in-a-wpf-project/31842838#31842838", "title": "Accessing a text file in a WPF project", "body": "<p>You can do like this:</p>\n\n<pre><code>  string file = @\"pack://application:,,,/\" + System.Reflection.Assembly.GetExecutingAssembly().GetName().Name + \";component/Subfolder/TextFile.txt\";\n      using (var sr = new StreamReader(System.Windows.Application.GetResourceStream(new Uri(file)).Stream))\n      {\n          var data= sr.ReadToEnd();\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "edited": false, "score": 0, "creation_date": 1438811492, "post_id": 31842990, "comment_id": 51608420, "body": "Fantastic. Thank you."}], "tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": true, "score": 5, "last_activity_date": 1438809396, "creation_date": 1438809396, "answer_id": 31842990, "question_id": 31842353, "link": "https://stackoverflow.com/questions/31842353/accessing-a-text-file-in-a-wpf-project/31842990#31842990", "title": "Accessing a text file in a WPF project", "body": "<p>This should work:</p>\n\n<pre><code>var uri = new Uri(\"pack://application:,,,/Subfolder/TextFile.txt\");\nvar resourceStream = Application.GetResourceStream(uri);\n\nusing (var reader = new StreamReader(resourceStream.Stream))\n{\n    var text = reader.ReadToEnd();\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1521, "user_id": 1405500, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ef69fb9d88417454432fef78954caf5?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/1405500/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3271, "favorite_count": 0, "accepted_answer_id": 31842990, "answer_count": 3, "score": 2, "last_activity_date": 1438809677, "creation_date": 1438807055, "question_id": 31842353, "link": "https://stackoverflow.com/questions/31842353/accessing-a-text-file-in-a-wpf-project", "title": "Accessing a text file in a WPF project", "body": "<p>I feel like I'm missing something obvious here...</p>\n\n<p>I've got a text file in my WPF application which is located in a subfolder, so apologies for advance for the terrible ASCII.</p>\n\n<pre><code>+Project\n+--+Subfolder\n|  +--TextFile.txt\n|\n+--App.config\n+--App.xaml\n+--etc.\n</code></pre>\n\n<p>The build action on this text file is Resource and I'm trying access the content as a string in my program, but I have absolutely no idea what I'm doing.</p>\n\n<p>Trying to access the file through <code>Properties.Settings.Default</code> doesn't work, apparently there's only a ConnectionString resource in my program.</p>\n\n<p>I can't do it in XAML because for whatever reason there's no <code>Source</code> property</p>\n\n<pre><code>&lt;!-- somewhere up the top of App.xaml... --&gt;\nxmlns:clr=\"clr-namespace:System;assembly=mscorlib\"\n\n&lt;clr:String Source=\"pack://application:,,,/Subfolder/Textfile.txt\"/&gt;\n</code></pre>\n\n<p>The FindResource method can't find it either.</p>\n\n<pre><code>FindResource(\"Usage.txt\"); //ResourceReferenceKeyNotFoundException\n</code></pre>\n\n<p>All I'm trying to do is reference the text file, read it as a string and use that string. Otherwise I have to embed a 50 line verbatim string in the method call. Because that's totally a good idea. /s</p>\n\n<p>In WinForms it was as simple as: <code>Properties.Settings.Default.TextFile.ToString();</code> but nothing seems to work here.</p>\n\n<p>I should point as well that this file shouldn't be included in the output directory, it needs to be embedded in the application or whatever the term is.</p>\n\n<p>How should I be doing this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 1, "creation_date": 1438807075, "post_id": 31842309, "comment_id": 51606191, "body": "Probably you should note which platform you are targeting."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1438873689, "post_id": 31842309, "comment_id": 51638247, "body": "I suggest to consider using datapoint tooltips. See <a href=\"http://stackoverflow.com/questions/29895445/c-sharp-user-interactive-graph-from-datagridview/29939620?s=4|0.2516#29939620\">here for an example</a>. The data values are right there but do make sure they are <b>really datetime</b> values if you want to format them as such.  Quite often they are only strings. You may want to show the code that adds them..or at least check the X-Values of the Points!!"}], "owner": {"reputation": 91, "user_id": 3078930, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/100003798072404/picture?type=large", "display_name": "user3078930", "link": "https://stackoverflow.com/users/3078930/user3078930"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 840, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1438807033, "creation_date": 1438806885, "last_edit_date": 1438807033, "question_id": 31842309, "link": "https://stackoverflow.com/questions/31842309/chart-showing-date-time-with-mouse-over", "title": "Chart, showing date/time with mouse over", "body": "<p>I am currently attempting to show the x,y values whenever I mouse over a point on the chart but for the x axis is in a date/time format, and I want to display the date/time instead of the actual pixel value.</p>\n\n<p>What I am currently using is this following code for the mouse over event</p>\n\n<pre><code>private void chart1_MouseMove(object sender, MouseEventArgs e)\n    {\n        var pos = e.Location;\n        if (prevPosition.HasValue &amp;&amp; pos == prevPosition.Value)\n            return;\n        tooltip.RemoveAll();\n        prevPosition = pos;\n        var results = chart1.HitTest(pos.X, pos.Y, false,\n                                        ChartElementType.DataPoint);\n        foreach (var result in results)\n        {\n            if (result.ChartElementType == ChartElementType.DataPoint)\n            {\n                var prop = result.Object as DataPoint;\n                if (prop != null)\n                {\n                    var pointXPixel = result.ChartArea.AxisX.ValueToPixelPosition(prop.XValue);\n                    var pointYPixel = result.ChartArea.AxisY.ValueToPixelPosition(prop.YValues[0]);\n\n                    // check if the cursor is really close to the point (2 pixels around the point)\n                    if (Math.Abs(pos.X - pointXPixel) &lt; 2 &amp;&amp;\n                        Math.Abs(pos.Y - pointYPixel) &lt; 2)\n                    {\n                        tooltip.Show(\"X=\" + prop.XValue + \", Y=\" + prop.YValues[0], this.chart1,\n                                        pos.X, pos.Y - 15);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>In terms of the formatting of the x axis goes, I have this</p>\n\n<pre><code>  chart1.ChartAreas[\"ChartArea1\"].AxisX.LabelStyle.Format = \"MMM.dd.yyyy HH:mm:ss\";\n  chart1.Series[\"Series1\"].XValueType = ChartValueType.DateTime;\n</code></pre>\n\n<p>I was wondering if there was a simple way to convert the point into a date/time value.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 6025, "user_id": 3053082, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cf7725958a43181e6b2b4c0f5f02b91b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapol", "link": "https://stackoverflow.com/users/3053082/kapol"}, "is_accepted": true, "score": 3, "last_activity_date": 1438808060, "last_edit_date": 1438808060, "creation_date": 1438806965, "answer_id": 31842333, "question_id": 31842284, "link": "https://stackoverflow.com/questions/31842284/trying-to-throw-an-exception-when-a-radio-button-hasnt-been-selected/31842333#31842333", "title": "Trying to throw an exception when a radio button hasnt been selected", "body": "<p>You don't have to throw an exception or catch anything. Just create a <code>bool</code> variable and initialize it to <code>false</code> at the beginning of the procedure. This variable will store information if any button is selected. Change its value to <code>true</code> inside every <code>if</code> block and check its state at the end. If it's still <code>false</code>, show a message.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Basically, you should throw exceptions when something bad happens. I wouldn't classify not selecting any radio button as something bad.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 4147321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b0a522fb80cc40611c177f210e2b4a7?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Ellingson", "link": "https://stackoverflow.com/users/4147321/nicholas-ellingson"}, "is_accepted": false, "score": 1, "last_activity_date": 1438808013, "creation_date": 1438808013, "answer_id": 31842613, "question_id": 31842284, "link": "https://stackoverflow.com/questions/31842284/trying-to-throw-an-exception-when-a-radio-button-hasnt-been-selected/31842613#31842613", "title": "Trying to throw an exception when a radio button hasnt been selected", "body": "<p>I would change the 2nd, 3rd, 4th, and 5th <code>if</code> statements to be <code>else if</code> statements instead (unless I'm missing something - if they're radio buttons, then it doesn't seem that it should be possible to have more than one of those conditions at a time) and then I would add an <code>else</code> statement on the end that displays a message box explaining to the user to chose one of radio buttons. No exceptions needed.</p>\n"}], "owner": {"reputation": 93, "user_id": 3158518, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42ffb5bbcc132f7f6fbc1ecc2a1ac0b6?s=128&d=identicon&r=PG&f=1", "display_name": "user3158518", "link": "https://stackoverflow.com/users/3158518/user3158518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 31842333, "answer_count": 2, "score": 0, "last_activity_date": 1438808060, "creation_date": 1438806783, "question_id": 31842284, "link": "https://stackoverflow.com/questions/31842284/trying-to-throw-an-exception-when-a-radio-button-hasnt-been-selected", "title": "Trying to throw an exception when a radio button hasnt been selected", "body": "<p>Hi there I'm just developing a very small based windows app trying to get into the swing of things again. The problem that I'am having is that I'm trying to throw an exception when a radio button hasn't been checked so that a message box appears to tell the user to select a radio button. However I cant remember what exception to throw or how to achieve it. I have provided a small code snippet for yous to see on how I go about doing this. I was going to put an else statement following the if statements but cant remember what to throw. The app is a small very basic calculator.</p>\n\n<pre><code> if ((bool)Addition.IsChecked.HasValue &amp;&amp; Addition.IsChecked.Value)\n            {\n                calcualteAdditionSum(val1, val2);\n            }\n\n            if ((bool)Subtract.IsChecked.HasValue &amp;&amp; Subtract.IsChecked.Value)\n            {\n                calculateSubtractSun(val1, val2);\n            }\n\n            if ((bool)Remainder.IsChecked.HasValue &amp;&amp; Remainder.IsChecked.Value)\n            {\n                calculateRemainderSun(val1, val2);\n            }\n\n            if ((bool)Multiply.IsChecked.HasValue &amp;&amp; Multiply.IsChecked.Value)\n            {\n                calculateMultiplySum(val1, val2);\n            }\n\n            if ((bool)Division.IsChecked.HasValue &amp;&amp; Division.IsChecked.Value)\n            {\n                calculateDivisionSum(val1, val2);\n            }\n\n\n        }\n\n        catch\n        {\n            MessageBox.Show(\"Please ensure you have selected a checkBox\\nand provided a number in the textboxes\");\n        }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "debugging", "oracle11g", "updates"], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 4962854, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-fb8tr0tGGsA/AAAAAAAAAAI/AAAAAAAAAXs/6m4b5iITY0E/photo.jpg?sz=128", "display_name": "Mrunal ", "link": "https://stackoverflow.com/users/4962854/mrunal"}, "edited": false, "score": 0, "creation_date": 1438807398, "post_id": 31842261, "comment_id": 51606399, "body": "Hey, sorry about that. But I am still getting the same error. I tried running this code in Console Apllication and the db is updated. But its not working in WPF application."}, {"owner": {"reputation": 80, "user_id": 4962854, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-fb8tr0tGGsA/AAAAAAAAAAI/AAAAAAAAAXs/6m4b5iITY0E/photo.jpg?sz=128", "display_name": "Mrunal ", "link": "https://stackoverflow.com/users/4962854/mrunal"}, "edited": false, "score": 0, "creation_date": 1438808337, "post_id": 31842261, "comment_id": 51606955, "body": "Hey, it works! There was some error in the parameters value. Really sorry for the silly error though."}], "tags": [], "owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1438806686, "creation_date": 1438806686, "answer_id": 31842261, "question_id": 31842214, "link": "https://stackoverflow.com/questions/31842214/update-query-ora-01036-illegal-variable-name-number/31842261#31842261", "title": "UPDATE QUERY :: ORA-01036 : Illegal variable name/number", "body": "<p>Missing <code>:</code>:</p>\n\n<pre><code>source_value=PARA8\n             ^---\n</code></pre>\n\n<p>so you're trying to set <code>source_value</code> to be equal to the value of some unknown/undefined field <code>PARA8</code>.</p>\n"}], "owner": {"reputation": 80, "user_id": 4962854, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-fb8tr0tGGsA/AAAAAAAAAAI/AAAAAAAAAXs/6m4b5iITY0E/photo.jpg?sz=128", "display_name": "Mrunal ", "link": "https://stackoverflow.com/users/4962854/mrunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438807466, "creation_date": 1438806490, "last_edit_date": 1438807466, "question_id": 31842214, "link": "https://stackoverflow.com/questions/31842214/update-query-ora-01036-illegal-variable-name-number", "title": "UPDATE QUERY :: ORA-01036 : Illegal variable name/number", "body": "<p>I am trying to execute an update query in Oracle 11g DB.</p>\n\n<pre><code>string query2 = \"update map_pair_config set source_value=:PARA1,target_value=:PARA2,modify_user=:PARA3,modify_date=:PARA4 \"\n              + \"where source_name=:PARA5 and target_name=:PARA6 and attribute_name=:PARA7 and source_value=:PARA8 and target_value =:PARA9\";\n\nOracleCommand command2 = new OracleCommand(query2, connection);\n\ncommand2.Parameters.Add(\"PARA1\", update_row.source_value);\ncommand2.Parameters.Add(\"PARA2\", update_row.target_value);\ncommand2.Parameters.Add(\"PARA3\", Environment.UserName);\ncommand2.Parameters.Add(\"PARA4\", DateTime.Now);\ncommand2.Parameters.Add(\"PARA5\", source_name.SelectedItem.ToString());\ncommand2.Parameters.Add(\"PARA6\", target_name.SelectedItem.ToString());\ncommand2.Parameters.Add(\"PARA7\", attribute_name.SelectedItem.ToString());\ncommand2.Parameters.Add(\"PARA8\", temp.source_value);\ncommand2.Parameters.Add(\"PARA9\", temp.target_value);\n</code></pre>\n\n<p>I have even checked the values passed in the parameters and they are correct. I have executed this query in toad and it works. But when I run it in my WPF application, I get an error.I even tried removing date parameter. But its still not working.</p>\n\n<p>Help appreciated. Thanks! :)</p>\n"}, {"tags": ["c#", ".net", "reflection", "delegates", ".net-4.5"], "comments": [{"owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "edited": false, "score": 0, "creation_date": 1438806566, "post_id": 31842144, "comment_id": 51605897, "body": "Those delegates/events will not be compatible types. What you can do here for future convenient usage is predefine your signatures as <i>generics</i> with say 0 to up to 10 parameters, similarly as Action&lt;T&gt;, Action&lt;T1, T2&gt;... and Func&lt;TR&gt;, Func&lt;T, TR&gt; etc"}, {"owner": {"reputation": 3911, "user_id": 1117914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/365da45bdc71334831f228aff805738f?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1117914/matthew"}, "reply_to_user": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "edited": false, "score": 0, "creation_date": 1438806735, "post_id": 31842144, "comment_id": 51606005, "body": "I don&#39;t control either end. I am writing a library for the middle. Some framework (eg: .NET) defines the events and another (some app) provides the methods. I just create a set of attributes that will be used to hook it all up..."}], "owner": {"reputation": 3911, "user_id": 1117914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/365da45bdc71334831f228aff805738f?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1117914/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438806207, "creation_date": 1438806207, "question_id": 31842144, "link": "https://stackoverflow.com/questions/31842144/creating-a-proxy-delegate-using-reflection-for-any-event", "title": "Creating a proxy delegate using reflection for any event", "body": "<p>I am trying to write a library that allows the attaching of events using attributes, and I want to create a set of convenience method signatures.</p>\n\n<p>For example, a button will have a <code>Click</code> event with a handler signature of <code>void(object, EventArgs)</code>.</p>\n\n<p>I have already mapped the methods that match this signature directly:</p>\n\n<pre><code>// the object that raises the event\nObject eventSource = ...;\nEventInfo evnt = ...; \n\n// the object with the target method\nObject target = ...;\nMethodInfo method = ...;\n\n// create and attach delegate\nvar del Delegate.CreateDelegate(evnt.EventHandlerType, target, method);\nevnt.AddEventHandler(eventSource, del);\n</code></pre>\n\n<p>This works well as long as the methods are the same/compatible, even when detaching an event:</p>\n\n<pre><code>evnt.RemoveEventHandler(eventSource, del);\n</code></pre>\n\n<p>However, I would like to also be able to map parameterless methods.\nIs it possible to create a delegate that will accept any arguments, but then ignore them, and invoke a desired method on an object?</p>\n\n<p>For an example, in the working bit, I can do:</p>\n\n<pre><code>// the method\nvoid MyClickMethod(object sender, EventArgs e)\n{\n}\n\n// the execution\nvar evnt = myButton.GetType().GetEvent(\"Click\");\nvar method = this.GetType().GetMethod(\"MyClickMethod\")\nAttachEvent(/*eventSource*/ myButton, /*evnt*/ evnt, /*target*/ this, /*method*/ method);\n</code></pre>\n\n<p>But, I would also like to be able to attach this method:</p>\n\n<pre><code>void MyClickMethod()\n{\n}\n</code></pre>\n\n<p>My logic here is that we can attach any parameterless method on any type to any event. This is often very helpful. It is important that I be able to detach any events.</p>\n\n<p>What goes on in my mind, would to somehow create a delegate that does this:</p>\n\n<pre><code>eventSource.Event += (sender, e) =&gt; {\n    target.method();\n};\n</code></pre>\n\n<p>Is there a way to do this cleanly?</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 54437, "user_id": 108796, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1yySS.jpg?s=128&g=1", "display_name": "Blindy", "link": "https://stackoverflow.com/users/108796/blindy"}, "edited": false, "score": 0, "creation_date": 1438806314, "post_id": 31842143, "comment_id": 51605765, "body": "&quot;It errors out&quot; -- pure textual noise. And without it there&#39;s no question, so flagging this to be closed."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1438806468, "post_id": 31842143, "comment_id": 51605842, "body": "@Martin If you read the error message it will explain what the problem is.  If you want more information, you can simply do a web search on that error message to find out more.  Clearly you have done no research at all on this very common problem."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1438806512, "post_id": 31842143, "comment_id": 51605865, "body": "@crush Given how he&#39;s using it he&#39;d still have to use a <code>lock</code> when accessing it, as he&#39;s performing multiple operations that need to be observably atomic with respect to others using the dictionary."}, {"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1438806531, "post_id": 31842143, "comment_id": 51605878, "body": "@Servy Right, I didn&#39;t actually read the question until now - I shouldn&#39;t have commented so soon."}, {"owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "edited": false, "score": 0, "creation_date": 1438806677, "post_id": 31842143, "comment_id": 51605967, "body": "I did read into this, but I then suppose I have to move away from the Dictionary, which I was trying not too, to my understanding with the current problem I&#39;m not changing the enumerator of the Dictionary but only the contents. The Remove will later on cause a problem however."}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "edited": false, "score": 0, "creation_date": 1438806704, "post_id": 31842197, "comment_id": 51605988, "body": "So you can&#39;t change the Dictionary at all in a loop?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1438806764, "post_id": 31842197, "comment_id": 51606019, "body": "@Bongo The += 1 is allowed because it is not modifying the collection, just an item it contains. The error will still happen there though because its accessing the collection <i>after</i> its been modified, and thats the first access point after modification in the previous iteration."}, {"owner": {"reputation": 2741, "user_id": 1697361, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/eRsV6.jpg?s=128&g=1", "display_name": "Bongo", "link": "https://stackoverflow.com/users/1697361/bongo"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1438807777, "post_id": 31842197, "comment_id": 51606630, "body": "@RonBeyer maybe I misunderstood you but I think the error happens in this statement when accessing it a second time:   foreach(string key in retryList.Keys)     which is due to alteration of the dictionary"}, {"owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "edited": false, "score": 0, "creation_date": 1438807815, "post_id": 31842197, "comment_id": 51606654, "body": "By taking the keys into a second list it was solved:                     List&lt;string&gt; Keys = new List&lt;string&gt;(retryList.Keys); Thanks Bongo."}], "tags": [], "owner": {"reputation": 2741, "user_id": 1697361, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/eRsV6.jpg?s=128&g=1", "display_name": "Bongo", "link": "https://stackoverflow.com/users/1697361/bongo"}, "is_accepted": true, "score": 1, "last_activity_date": 1438806901, "last_edit_date": 1495535209, "creation_date": 1438806409, "answer_id": 31842197, "question_id": 31842143, "link": "https://stackoverflow.com/questions/31842143/threading-dictionarystring-int-and-locks/31842197#31842197", "title": "Threading Dictionary&lt;string,int&gt; and locks", "body": "<p>The problem is that you cannot change the dictionary in an iterator/foreach</p>\n\n<pre><code>        foreach(string key in retryList.Keys)\n        {\n            retryList[key] += 1; // &lt;-- The error happens here ! Do not alter the Dictionary during an iteration\n            if (retryList[key] &gt; Retries)\n            {\n                DiscoveredDevice device = Devices.Find(d =&gt; d.SerialNo == key);\n\n                if (device != null)\n                {\n                    OnDeviceRemoved(device);\n                    Devices.Remove(device);\n                    retryList.Remove(key); // &lt;-- The error could also happen here ! Do not alter the Dictionary during an iteration\n                }\n            }\n        }\n</code></pre>\n\n<p>I found this question on stackoverflow which might help you</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2260446/how-to-iterate-through-dictionary-and-change-values\">How to iterate through Dictionary and change values?</a></p>\n\n<p>Here we find a statement from <a href=\"https://msdn.microsoft.com/en-us/library/xfhwa508.aspx\" rel=\"nofollow noreferrer\">MSDN</a></p>\n\n<blockquote>\n  <p>The foreach statement is a wrapper around the enumerator, which allows\n  only reading from the collection, not writing to it.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "is_accepted": false, "score": 0, "last_activity_date": 1438806893, "creation_date": 1438806893, "answer_id": 31842313, "question_id": 31842143, "link": "https://stackoverflow.com/questions/31842143/threading-dictionarystring-int-and-locks/31842313#31842313", "title": "Threading Dictionary&lt;string,int&gt; and locks", "body": "<p>The error has nothing to do with the locks and multithreading.\nYour enumerator (what foreach are using) is invalidated when you modify the very same data structure (the dictionary) on what the enumerator enumerates in the loop.</p>\n\n<p>Solution:</p>\n\n<p>You must first loop say with foreach, and <em>remember</em> practically in a list what you should remove. Then in a separate loop on the <em>remembered</em> keys, remove they from the dictionary.</p>\n"}, {"comments": [{"owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "edited": false, "score": 0, "creation_date": 1438807955, "post_id": 31842441, "comment_id": 51606731, "body": "How do you get a value from a Dictionary based on index? This is actually the road I initially took."}, {"owner": {"reputation": 2236, "user_id": 1421778, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9188b71e6b930c695cf18e2c8101ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Yates", "link": "https://stackoverflow.com/users/1421778/steven-yates"}, "reply_to_user": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "edited": false, "score": 0, "creation_date": 1438808632, "post_id": 31842441, "comment_id": 51607095, "body": "You can use <a href=\"https://msdn.microsoft.com/en-us/library/bb299233(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb299233(v=vs.110).aspx</a> but dictionarys are not sorted so if you need it to be sorted you might want to consider switching to a sortedlist and do away with the dictionary if you don&#39;t really need the key aspect and can manage it differently. See extention methods on <a href=\"https://msdn.microsoft.com/en-us/library/1e8ecdh9(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/1e8ecdh9(v=vs.110).aspx</a>"}], "tags": [], "owner": {"reputation": 2236, "user_id": 1421778, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9188b71e6b930c695cf18e2c8101ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Yates", "link": "https://stackoverflow.com/users/1421778/steven-yates"}, "is_accepted": false, "score": 0, "last_activity_date": 1438807309, "creation_date": 1438807309, "answer_id": 31842441, "question_id": 31842143, "link": "https://stackoverflow.com/questions/31842143/threading-dictionarystring-int-and-locks/31842441#31842441", "title": "Threading Dictionary&lt;string,int&gt; and locks", "body": "<p>This might be useful to you. <a href=\"https://msdn.microsoft.com/en-us/library/dd287191(v=vs.110).aspx\" rel=\"nofollow\">Concurrent Dictionary</a>\nIt's thread safe</p>\n\n<p>Also change the for each to a reverse for loop\nSomething like this. </p>\n\n<pre><code>for (int x = max; x&gt;=1; x--)\n{\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438807870, "creation_date": 1438807870, "answer_id": 31842572, "question_id": 31842143, "link": "https://stackoverflow.com/questions/31842143/threading-dictionarystring-int-and-locks/31842572#31842572", "title": "Threading Dictionary&lt;string,int&gt; and locks", "body": "<p>With thanks to Bongo, taking the keys into a second list for iteration solved it:                     </p>\n\n<pre><code>List&lt;string&gt; Keys = new List&lt;string&gt;(retryList.Keys);\n                foreach(string key in Keys)\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 3188048, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6b28161dac57e0e2597b46c8c17647da?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3188048/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 31842197, "answer_count": 4, "score": 1, "last_activity_date": 1438807870, "creation_date": 1438806203, "last_edit_date": 1438806373, "question_id": 31842143, "link": "https://stackoverflow.com/questions/31842143/threading-dictionarystring-int-and-locks", "title": "Threading Dictionary&lt;string,int&gt; and locks", "body": "<p>I have a dictionary that is being used in two threads, one is sending out UDP packets, one is receiving them. Both are keeping a common collection to see count outgoing and returning packets and hopefully keeping them at 0 difference :)</p>\n\n<p>Now I'm iterating through the dictionary to update values and after iteration it errors. I do have a lock object in place, how could I solve this?</p>\n\n<p>First Thread:</p>\n\n<pre><code>            lock (retryListLock)\n            {\n                // loop through all known devices in the device list to build a counter if the device still lives\n                foreach(string key in retryList.Keys)\n                {\n                    retryList[key] += 1;\n                    if (retryList[key] &gt; Retries)\n                    {\n                        DiscoveredDevice device = Devices.Find(d =&gt; d.SerialNo == key);\n\n                        if (device != null)\n                        {\n                            OnDeviceRemoved(device);\n                            Devices.Remove(device);\n                            retryList.Remove(key);\n                        }\n                    }\n                }\n            }\n</code></pre>\n\n<p>Second Thread:</p>\n\n<pre><code>lock (retryListLock)\n{\n     if (retryList.ContainsKey(frame.SerialNo))\n           retryList[frame.SerialNo] = 0;\n     else\n           retryList.Add(frame.SerialNo, 0);\n}\n</code></pre>\n\n<p>I'm only getting the error after the first thread adds +1 to the value of that item, in the second iteration it errors out:</p>\n\n<p>the collection has changed. enumeration operation may not execute (translated from Dutch)</p>\n\n<p>How can I solve this? Obviously the Dictionary is the easiest to use for me in this case.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1438807045, "post_id": 31842104, "comment_id": 51606169, "body": "see if this article helps you any .. <a href=\"http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-inheritance-with-the-entity-framework-in-an-asp-net-mvc-application\" rel=\"nofollow noreferrer\">asp.net/mvc/overview/getting-started/&hellip;</a>  or this one  <a href=\"http://weblogs.asp.net/manavi/inheritance-mapping-strategies-with-entity-framework-code-first-ctp5-part-2-table-per-type-tpt\" rel=\"nofollow noreferrer\">weblogs.asp.net/manavi/&hellip;</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1438807791, "post_id": 31842104, "comment_id": 51606639, "body": "How did you map the inheritance? Does each <code>Group</code> type have its own table? (TPC)"}, {"owner": {"reputation": 41, "user_id": 3022862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b02f6bbcdade7c2f4e0ef99694d3db?s=128&d=identicon&r=PG&f=1", "display_name": "MrChrisOsburn", "link": "https://stackoverflow.com/users/3022862/mrchrisosburn"}, "reply_to_user": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1438808859, "post_id": 31842104, "comment_id": 51607205, "body": "It absolutely did. I didnt think it was an inheritance issue but after removing and adding the migration it turned out it was. Thanks @JamieD77"}], "owner": {"reputation": 41, "user_id": 3022862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b02f6bbcdade7c2f4e0ef99694d3db?s=128&d=identicon&r=PG&f=1", "display_name": "MrChrisOsburn", "link": "https://stackoverflow.com/users/3022862/mrchrisosburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438806011, "creation_date": 1438806011, "question_id": 31842104, "link": "https://stackoverflow.com/questions/31842104/entity-framework-many-to-many-relationship-object-not-available", "title": "Entity Framework Many to Many Relationship object not available", "body": "<p>Im getting this error when adding a migration:</p>\n\n<blockquote>\n  <p>Schema specified is not valid. Errors: The relationship\n  'Answer_1_API.Infrastructure.ApplicationUser_Companies' was not loaded\n  because the type 'Answer_1_API.Infrastructure.CompanyGroup' is not\n  available.</p>\n</blockquote>\n\n<p>I modeled the Many-To-Many relationship loosely off this guide off <a href=\"https://msdn.microsoft.com/en-us/data/jj591620.aspx#Model\" rel=\"nofollow\">MSDN</a> article</p>\n\n<p><strong>ApplicationUser:</strong>  </p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n    {\n        [Required]\n        [MaxLength(100)]\n        public string FirstName { get; set; }\n\n        [Required]\n        [MaxLength(100)]\n        public string LastName { get; set; }\n\n        public virtual ICollection&lt;StartelClientGroup&gt; AssignedClients { get; set; }\n\n        public virtual ICollection&lt;CompanyGroup&gt; Companies { get; set; }\n\n        public ApplicationUser() \n        {\n            AssignedClients = new HashSet&lt;StartelClientGroup&gt;();\n            Companies = new HashSet&lt;CompanyGroup&gt;();\n        }\n\n        public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager, string authenticationType)\n        {\n            var userIdentity = await manager.CreateIdentityAsync(this, authenticationType);\n\n            return userIdentity;\n        }\n    }\n</code></pre>\n\n<p><strong>Group Classes:</strong></p>\n\n<pre><code>public class Group\n    {\n        [Key]\n        public Guid Id { get; set; }\n\n        public virtual ICollection&lt;ApplicationUser&gt; Members { get; set; }\n\n        [Required]\n        [MaxLength(100)]\n        public string Name { get; set; }\n\n        public Group() \n        {\n            Members = new HashSet&lt;ApplicationUser&gt;();\n        }\n\n    }\n\n    public class CompanyGroup : Group\n    {\n        public CompanyGroup() : base() { }\n    }\n\n    public class StartelClientGroup : Group\n    {\n        public List&lt;string&gt; Values { get; set; }\n\n        public Type ValueType { get; set; }\n\n        public enum Type { ClientID, AccountNum, Affinity }\n\n        public StartelClientGroup() : base() { }\n    }\n</code></pre>\n\n<p><strong>DB Context:</strong></p>\n\n<pre><code>public class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n    {\n        public ApplicationDbContext() : base(\"DefaultConnection\", throwIfV1Schema: false) \n        {\n            Configuration.ProxyCreationEnabled = false;\n            Configuration.LazyLoadingEnabled = false;\n        }\n\n        public static ApplicationDbContext Create() \n        {\n            return new ApplicationDbContext();\n        }\n\n        public DbSet&lt;StartelClientGroup&gt; AssignedClients { get; set; }\n\n        public DbSet&lt;CompanyGroup&gt; Companies { get; set; }\n\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;(); \n            modelBuilder.Configurations.Add(new ApplicationUserConfiguration());\n            base.OnModelCreating(modelBuilder);\n        }\n    }\n</code></pre>\n\n<p><strong>Relation Configuration:</strong></p>\n\n<pre><code>public class ApplicationUserConfiguration : EntityTypeConfiguration&lt;ApplicationUser&gt;\n    {\n        public ApplicationUserConfiguration() \n        {\n            this.HasMany(x =&gt; x.Companies)\n                .WithMany(x =&gt; x.Members);\n\n            this.HasMany(x =&gt; x.AssignedClients)\n                .WithMany(x =&gt; x.Members);\n        }\n    }\n</code></pre>\n\n<p>Can anyone tell me what im missing here? </p>\n"}, {"tags": ["c#", "wpf", "mahapps.metro", "catel"], "answers": [{"tags": [], "owner": {"reputation": 5339, "user_id": 561411, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4644f3ac9c37d41abf28dd9d52e1e55c?s=128&d=identicon&r=PG", "display_name": "Geert van Horrik", "link": "https://stackoverflow.com/users/561411/geert-van-horrik"}, "is_accepted": false, "score": 0, "last_activity_date": 1438807122, "creation_date": 1438807122, "answer_id": 31842384, "question_id": 31842055, "link": "https://stackoverflow.com/questions/31842055/messageservice-for-current-window-in-catel/31842384#31842384", "title": "MessageService for current window in Catel", "body": "<p>There are a few options:</p>\n\n<ol>\n<li>Create (or override) a custom version of the PleaseWaitService. When showing the busy indicator, check the current foreground window and show that one.</li>\n<li>If you really want per/view busy indicator, it might be easier to create boolean values on your vm (IsBusy) and bind to that from within the view.</li>\n</ol>\n"}], "owner": {"reputation": 1919, "user_id": 1179157, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/ff8ad060d02cfb8af3ab49706eb48da9?s=128&d=identicon&r=PG", "display_name": "Tomasz", "link": "https://stackoverflow.com/users/1179157/tomasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438807122, "creation_date": 1438805852, "question_id": 31842055, "link": "https://stackoverflow.com/questions/31842055/messageservice-for-current-window-in-catel", "title": "MessageService for current window in Catel", "body": "<p>I'm trying to create a Message in my WPF application using Catel. I have a problem, because I'm trying to show this message over additional window (not over mainWindow)</p>\n\n<p>I'm using Catel with Orchestra.MahApps. </p>\n\n<p>When I'm trying to execute code like this:</p>\n\n<pre><code>IMessageService messageService = ServiceLocator.Default.ResolveType&lt;IMessageService&gt;();\nmessageService.ShowInformation(message, title);\n</code></pre>\n\n<p>in my Additional Window ViewModel, it shows my message, but over my MainWindow. Is there a way to show it over my second window?</p>\n\n<p>Right now I have a workaround with Events, but with my application growing, it will be hard to maintain everything. </p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "charts"], "answers": [{"comments": [{"owner": {"reputation": 2270, "user_id": 3169706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/rzUon.jpg?s=128&g=1", "display_name": "Kat", "link": "https://stackoverflow.com/users/3169706/kat"}, "edited": false, "score": 0, "creation_date": 1438867046, "post_id": 31846246, "comment_id": 51633070, "body": "The reason i&#39;m creating my PieCollection in the behind code is because the values are dynamically changing. Also, since it is in a viewmodel, I won&#39;t be able to have access to my pie chart object to keep the interfaces separate."}, {"owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "reply_to_user": {"reputation": 2270, "user_id": 3169706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/rzUon.jpg?s=128&g=1", "display_name": "Kat", "link": "https://stackoverflow.com/users/3169706/kat"}, "edited": false, "score": 0, "creation_date": 1438885768, "post_id": 31846246, "comment_id": 51645628, "body": "Like I said, you&#39;re not assigning <code>PieCollection</code> to <code>DataContext</code>. I updated my answer accordingly."}, {"owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "reply_to_user": {"reputation": 2270, "user_id": 3169706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/rzUon.jpg?s=128&g=1", "display_name": "Kat", "link": "https://stackoverflow.com/users/3169706/kat"}, "edited": false, "score": 0, "creation_date": 1438885846, "post_id": 31846246, "comment_id": 51645677, "body": "Also, I think you don&#39;t need this in your XAML: <code>DataContext=&quot;1,10 2,20 3,30 4,40&quot;</code>. Take it out."}], "tags": [], "owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "is_accepted": false, "score": 4, "last_activity_date": 1438885530, "last_edit_date": 1438885530, "creation_date": 1438831118, "answer_id": 31846246, "question_id": 31841953, "link": "https://stackoverflow.com/questions/31841953/binding-pie-chart-with-wpf-toolkit-not-showing-points/31846246#31846246", "title": "Binding Pie Chart with WPF Toolkit not showing points", "body": "<p>Here's what I got using your data:</p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;chartingToolkit:Chart Margin=\"0\" Title=\"Chart Title\"&gt;\n        &lt;chartingToolkit:Chart.DataContext&gt;\n            &lt;local:PieCollection/&gt;\n        &lt;/chartingToolkit:Chart.DataContext&gt;\n        &lt;chartingToolkit:PieSeries ItemsSource=\"{Binding Mode=OneWay}\" DependentValuePath=\"Share\" IndependentValuePath=\"Name\" DataContext=\"{Binding Mode=OneWay}\" &gt;\n        &lt;/chartingToolkit:PieSeries&gt;\n    &lt;/chartingToolkit:Chart&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hrarS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrarS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Notice that I'm creating the <code>PieCollection</code> within XAML, so it is associated with the <code>DataContext</code> for the chart. In your case you're creating your <code>PieCollection</code> in code behind, so you probably need to do something like</p>\n\n<pre><code>chart.DataContext = PieCollection\n</code></pre>\n\n<p><strong>EDIT</strong>: creating <code>PieCollection</code> dynamically:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    PieCollection pieCollection1;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        pieCollection1 = new PieCollection();\n\n        pieCollection1.Add(new PiePoint { Name = \"Mango\", Share = 10 });\n        pieCollection1.Add(new PiePoint { Name = \"Banana\", Share = 36 });\n        pieCollection1.Add(new PiePoint { Name = \"Grapes\", Share = 15 });\n        pieCollection1.Add(new PiePoint { Name = \"Apple\", Share = 20 });\n\n        Chart1.DataContext = pieCollection1;\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vzstq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vzstq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2270, "user_id": 3169706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/rzUon.jpg?s=128&g=1", "display_name": "Kat", "link": "https://stackoverflow.com/users/3169706/kat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2615, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1519438962, "creation_date": 1438805481, "question_id": 31841953, "link": "https://stackoverflow.com/questions/31841953/binding-pie-chart-with-wpf-toolkit-not-showing-points", "title": "Binding Pie Chart with WPF Toolkit not showing points", "body": "<p>I have a piechart that I have defined as below: </p>\n\n<pre><code>        &lt;chartingToolkit:Chart DataContext=\"1,10 2,20 3,30 4,40\" \n                           HorizontalAlignment=\"Left\" Margin=\"334,238,0,0\" \n                           Name=\"chart1\"  VerticalAlignment=\"Top\" Height=\"177\"\n                           Width=\"218\" BorderBrush=\"#00000000\"&gt;\n        &lt;chartingToolkit:PieSeries \n        ItemsSource=\"{Binding PieCollection}\"\n        IndependentValueBinding=\"{Binding Path=Name}\"\n        DependentValueBinding=\"{Binding Path=Share}\" /&gt;\n    &lt;/chartingToolkit:Chart&gt;\n</code></pre>\n\n<p>And my xaml is also referenced here: </p>\n\n<pre><code> xmlns:chartingToolkit=\"clr-namespace:System.Windows.Controls.DataVisualization.Charting;assembly=System.Windows.Controls.DataVisualization.Toolkit\"&gt;\n</code></pre>\n\n<p>So no problem there. I have a dataset I declare in my ViewModel: </p>\n\n<pre><code> private ObservableCollection&lt;PiePoint&gt; _pieCollection;\n public ObservableCollection&lt;PiePoint&gt; PieCollection { get { return _pieCollection; } set { _pieCollection = value; OnPropertyChanged(\"PieCollection\"); } }\n</code></pre>\n\n<p>Where PiePoint is an object I define like so: </p>\n\n<pre><code>    public class PiePoint\n    {\n        public string Name { get; set; }\n        public Int16 Share { get; set; }\n    }\n</code></pre>\n\n<p>When I start up my ViewModel in my constructor, I added some test data points here to see if I could get some data on my chart: </p>\n\n<pre><code>    PieCollection = new ObservableCollection&lt;PiePoint&gt;();\n    PieCollection.Add(new PiePoint { Name = \"Mango\", Share = 10 });\n    PieCollection.Add(new PiePoint { Name = \"Banana\", Share = 36 });\n</code></pre>\n\n<p>But nothing shows up on the chart. The breakpoint hits, I see the chart's background, and I know that the items source is bound to the right collection, but I can't seem to get it to work. Any suggestions?</p>\n"}, {"tags": ["c#", "asp.net", "login", "findcontrol"], "comments": [{"owner": {"reputation": 1183, "user_id": 1183895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gekpp.png?s=128&g=1", "display_name": "Zach M.", "link": "https://stackoverflow.com/users/1183895/zach-m"}, "edited": false, "score": 0, "creation_date": 1438805449, "post_id": 31841867, "comment_id": 51605323, "body": "wouldn&#39;t it be <code>tb.Attributes.Add(&quot;class&quot;.....</code> ? Also when debugging what is the value of <code>tb</code> at run time?"}, {"owner": {"reputation": 1363, "user_id": 4129738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JltNh.png?s=128&g=1", "display_name": "HashPsi", "link": "https://stackoverflow.com/users/4129738/hashpsi"}, "edited": false, "score": 0, "creation_date": 1438805473, "post_id": 31841867, "comment_id": 51605337, "body": "<code>FindControl</code> finds the textbox. Otherwise the setting of the attribute would trigger an exception. You need to add the new classes to the <code>CssClass</code> rather than to the <code>style</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1363, "user_id": 4129738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JltNh.png?s=128&g=1", "display_name": "HashPsi", "link": "https://stackoverflow.com/users/4129738/hashpsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1438909908, "last_edit_date": 1438909908, "creation_date": 1438805663, "answer_id": 31842011, "question_id": 31841867, "link": "https://stackoverflow.com/questions/31841867/changing-style-inside-login/31842011#31842011", "title": "Changing style inside Login", "body": "<p>Rather than setting the style attribute, modify the CssClass attribute like so:</p>\n\n<pre><code>protected void myLogin_LoginError(object sender, EventArgs e)\n{\n    TextBox tb = (TextBox)myLogin.FindControl(\"UserName\");\n    tb.CssClass += \" \" + \"form-error\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5195550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ba56363734fa429f7c61f3a539ebc5?s=128&d=identicon&r=PG&f=1", "display_name": "ro0t", "link": "https://stackoverflow.com/users/5195550/ro0t"}, "is_accepted": false, "score": 0, "last_activity_date": 1438806294, "creation_date": 1438806294, "answer_id": 31842174, "question_id": 31841867, "link": "https://stackoverflow.com/questions/31841867/changing-style-inside-login/31842174#31842174", "title": "Changing style inside Login", "body": "<p>Solution:</p>\n\n<pre><code>TextBox tb = (TextBox)myLogin.FindControl(\"UserName\");\ntb.CssClass = \"form-control form-white username form-error\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5195550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ba56363734fa429f7c61f3a539ebc5?s=128&d=identicon&r=PG&f=1", "display_name": "ro0t", "link": "https://stackoverflow.com/users/5195550/ro0t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438909908, "creation_date": 1438805160, "question_id": 31841867, "link": "https://stackoverflow.com/questions/31841867/changing-style-inside-login", "title": "Changing style inside Login", "body": "<p>I have a problem changing the style of my UserName TextBox inside of asp:Login.\nIt seems like my code never actually finds the textbox because the style dosen't change at all. \nFollowing code example:</p>\n\n<pre><code>&lt;asp:Login ID=\"myLogin\" runat=\"server\" OnLoginError=\"myLogin_LoginError\"&gt;\n    &lt;LayoutTemplate&gt;\n         &lt;div class=\"append-icon\"&gt;\n             &lt;asp:TextBox ID=\"UserName\" runat=\"server\" CssClass=\"form-control form-white username\" placeholder=\"Username\"&gt;&lt;/asp:TextBox&gt;\n             &lt;i class=\"icon-user\"&gt;&lt;/i&gt;\n         &lt;/div&gt;\n         &lt;div class=\"append-icon m-b-20\"&gt;\n             &lt;asp:TextBox ID=\"Password\" runat=\"server\" TextMode=\"Password\" CssClass=\"form-control form-white password\" placeholder=\"Password\" Width=\"100%\"&gt;&lt;/asp:TextBox&gt;\n             &lt;i class=\"icon-lock\"&gt;&lt;/i&gt;\n         &lt;/div&gt;\n         &lt;asp:LinkButton ID=\"LinkButton1\" runat=\"server\" CommandName=\"Login\" CssClass=\"btn btn-lg btn-dark btn-rounded\" Text=\"Sign in\" ValidationGroup=\"login\"&gt;\n             &lt;i class=\"fa fa-angle-right\"&gt;&lt;/i&gt; Login\n         &lt;/asp:LinkButton&gt;\n    &lt;/LayoutTemplate&gt;\n&lt;/asp:Login&gt;\n\nprotected void myLogin_LoginError(object sender, EventArgs e)\n{\n    TextBox tb = (TextBox)myLogin.FindControl(\"UserName\");\n    tb.Attributes.Add(\"style\", \"form-control form-white username form-error\");\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "proxy", "fiddler"], "owner": {"reputation": 41, "user_id": 5195473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b91aafb77e883c3cd0eec317ba27d9?s=128&d=identicon&r=PG&f=1", "display_name": "mdh", "link": "https://stackoverflow.com/users/5195473/mdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1438871968, "creation_date": 1438805001, "last_edit_date": 1438871968, "question_id": 31841834, "link": "https://stackoverflow.com/questions/31841834/how-to-get-fiddler-to-trace-web-traffic-when-running-under-a-another-user", "title": "How to get fiddler to trace web traffic when running under a another user", "body": "<p>I have added following into application.config (of console application) and still doesn't collect traffic when its run under a different user account on same machine.</p>\n\n<pre><code>&lt;system.net&gt;\n &lt;defaultProxy&gt;\n  &lt;proxy autoDetect=\"false\" bypassonlocal=\"false\" proxyaddress=\"http://127.0.0.1:8888\" usesystemdefault=\"false\" /&gt;\n &lt;/defaultProxy&gt;\n&lt;/system.net&gt;\n</code></pre>\n"}, {"tags": ["c#", "model-view-controller", "filestream"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1438805249, "post_id": 31841794, "comment_id": 51605216, "body": "You need to set Position = 0 on the memory stream before handing it to the file stream result.  Tada."}, {"owner": {"reputation": 9812, "user_id": 1345535, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b62063f3b5bf78c24c71085aca077e2e?s=128&d=identicon&r=PG", "display_name": "David W", "link": "https://stackoverflow.com/users/1345535/david-w"}, "edited": false, "score": 0, "creation_date": 1438805473, "post_id": 31841794, "comment_id": 51605336, "body": "Does your code in some other area call the WriteFile method of the FileStreamResult object? You&#39;ve constructed the object, but I don&#39;t see code in what&#39;s posted that actually performs the write to the stream."}, {"owner": {"reputation": 103, "user_id": 512967, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/56852aa1162e3897182fc3ceb928ce87?s=128&d=identicon&r=PG", "display_name": "CoderUnknown", "link": "https://stackoverflow.com/users/512967/coderunknown"}, "edited": false, "score": 0, "creation_date": 1438805723, "post_id": 31841794, "comment_id": 51605457, "body": "Tried setting the position to 0, still doesn&#39;t work"}, {"owner": {"reputation": 103, "user_id": 512967, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/56852aa1162e3897182fc3ceb928ce87?s=128&d=identicon&r=PG", "display_name": "CoderUnknown", "link": "https://stackoverflow.com/users/512967/coderunknown"}, "edited": false, "score": 0, "creation_date": 1438805779, "post_id": 31841794, "comment_id": 51605483, "body": "David, no i am not calling a write file method."}, {"owner": {"reputation": 103, "user_id": 512967, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/56852aa1162e3897182fc3ceb928ce87?s=128&d=identicon&r=PG", "display_name": "CoderUnknown", "link": "https://stackoverflow.com/users/512967/coderunknown"}, "edited": false, "score": 0, "creation_date": 1438805893, "post_id": 31841794, "comment_id": 51605541, "body": "Do i have to create a file write all the content to the file and then open with System.Diagnostic.Process.Start()?"}], "owner": {"reputation": 103, "user_id": 512967, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/56852aa1162e3897182fc3ceb928ce87?s=128&d=identicon&r=PG", "display_name": "CoderUnknown", "link": "https://stackoverflow.com/users/512967/coderunknown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438804909, "creation_date": 1438804909, "question_id": 31841794, "link": "https://stackoverflow.com/questions/31841794/accessing-a-file-through-web-service-and-opening-it-using-filestream-c", "title": "Accessing a file through Web service and Opening it using FileStream c#", "body": "<p>I have a list of documents connected to a Contract Number, which are being displayed in the application by the help of a web service.</p>\n\n<p>The documents shown have a href to open the file based on the type of document they are.(ex .txt||.xlsx||.pdf)</p>\n\n<p>here's how i'm trying to do it. But its not working</p>\n\n<pre><code> public FileStreamResult _EDMSDocument(long DocNbr)\n    {\n        eDOCSWS.edmsWSAppSoapClient service = new eDOCSWS.edmsWSAppSoapClient();\n        eDOCSWS.edmsDocument doc = new eDOCSWS.edmsDocument();\n        eDOCSWS.edmsFolder fldr = new eDOCSWS.edmsFolder();\n        string strToken = \"\";\n        string lib = System.Configuration.ConfigurationManager.AppSettings[\"edocsLibrary\"];\n        eDOCSWS.edmsResponse login = default(eDOCSWS.edmsResponse);\n        login = service.loginAsUser(lib, 8, \"xxxxx\", \"yyyyyy\", \"\", \"1.0.0\", ref strToken);\n        doc = service.getDocumentByIdentifier(strToken, lib, DocNbr,\"\");\n\n        long vid;\n        vid = doc.propVersions[doc.propIdxHighestVersion].propVersionID;\n        long lngBlockCounter = 0;\n        byte[] strbuffer;\n        MemoryStream ms = new MemoryStream();\n        do\n        {\n            strbuffer = service.getFileBlock(strToken, lib, DocNbr, vid, 16384, lngBlockCounter);\n\n            ms.Write(strbuffer, 0, strbuffer.Length);\n\n        } while (strbuffer.Length == 0);\n\n        return new FileStreamResult(ms, doc.propVersions[0].propMIMEType);\n\n        //System.Diagnostics.Process process = new System.Diagnostics.Process();\n        //process.StartInfo.UseShellExecute = true;\n        //process.StartInfo.FileName = DefaultLogFilePath;\n        //process.Start();\n        //System.IO.File.Delete(DefaultLogFilePath);\n        //return PartialView();\n    }\n</code></pre>\n\n<p>A document number is displayed on the UI which has a href to call this function.\nThere weren't any errors thrown but neither are the files opened.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "oop", "design-patterns", "abstract-class"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4142441, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jwY2dIagLcg/AAAAAAAAAAI/AAAAAAAAE6k/q_tNbDhuxpA/photo.jpg?sz=128", "display_name": "Robert Sharp", "link": "https://stackoverflow.com/users/4142441/robert-sharp"}, "is_accepted": false, "score": 1, "last_activity_date": 1438805592, "creation_date": 1438805592, "answer_id": 31841985, "question_id": 31841780, "link": "https://stackoverflow.com/questions/31841780/creating-correct-concrete-type-from-database-read/31841985#31841985", "title": "Creating correct concrete type from database read", "body": "<p>The switch method is totally valid, if you know for sure at compile time all the options you might need. More basic info at the Wikipedia  <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">factory pattern</a>, but switching on an enum value or a string identifier is the general concept.</p>\n\n<p>Alternatively, look into <a href=\"https://msdn.microsoft.com/en-us/library/wccyzw83(v=vs.110).aspx\" rel=\"nofollow\">Activator.CreateInstance</a>, which you can use to create a new object based on the type's name that you might dynamically load from the database. We do that in some situations to let us add new supported types without recompiling the base service.</p>\n"}, {"comments": [{"owner": {"reputation": 942, "user_id": 1313465, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3fdfbb96a561770069d48f56f0a2be64?s=128&d=identicon&r=PG", "display_name": "dgarbacz", "link": "https://stackoverflow.com/users/1313465/dgarbacz"}, "edited": false, "score": 0, "creation_date": 1438815009, "post_id": 31842031, "comment_id": 51609689, "body": "Thanks! I was looking at the Factory pattern earlier today, and since there are only so many units of time, I think it&#39;s easy to control the creation. I can&#39;t see the concrete classes being too out of control or growing much, but you never know."}], "tags": [], "owner": {"reputation": 751, "user_id": 4755414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8zxtD.jpg?s=128&g=1", "display_name": "Diosjenin", "link": "https://stackoverflow.com/users/4755414/diosjenin"}, "is_accepted": true, "score": 0, "last_activity_date": 1438805737, "creation_date": 1438805737, "answer_id": 31842031, "question_id": 31841780, "link": "https://stackoverflow.com/questions/31841780/creating-correct-concrete-type-from-database-read/31842031#31842031", "title": "Creating correct concrete type from database read", "body": "<p>The switch statement you refer to as sloppy is something called the Factory pattern.  Assuming your <code>WorkableService</code> base constructor takes <code>UnitInterval</code>:</p>\n\n<pre><code>static class WorkableServiceFactory\n{\n    public static WorkableService Get(int unitSizeId, double unitInterval)\n    {\n        switch (unitSizeId)\n        {\n            case 1:\n                return new MinuteService(unitInterval);\n            case 2:\n                return new HourlyService(unitInterval);\n            case 3:\n                return new DailyService(unitInterval);\n            default:\n                throw new ArgumentOutOfRangeException(\"unitSizeId\");\n        }\n    }\n}\n</code></pre>\n\n<p>I'm usually not a fan of factories (they're the butt of every Java EE joke in the book for a reason), but this is actually a valid scenario for it.</p>\n"}], "owner": {"reputation": 942, "user_id": 1313465, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3fdfbb96a561770069d48f56f0a2be64?s=128&d=identicon&r=PG", "display_name": "dgarbacz", "link": "https://stackoverflow.com/users/1313465/dgarbacz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 31842031, "answer_count": 2, "score": 1, "last_activity_date": 1438805737, "creation_date": 1438804832, "question_id": 31841780, "link": "https://stackoverflow.com/questions/31841780/creating-correct-concrete-type-from-database-read", "title": "Creating correct concrete type from database read", "body": "<p>A project I'm working on would benefit from having a little more abstraction added to it and I'm faced with a problem I can't seem to get past. </p>\n\n<p>Essentially is we have services that can be assigned and consumed, but the rates at which they are consumed are all a little different. This distinction is important for reporting and for scheduling the consumption of these services. </p>\n\n<p>I'm not really sure how to take data I receive from the database and ensure that the correct concrete type is created. Am I overthinking this and there is something easier I can do? The only thing I can think of doing is having a switch statement determine which type to make based on the unit of time specified, but that seems sloppy. </p>\n\n<p>UnitInterval (which I'm welcome to renaming it something that seems less confusing), is supposed to hold the service's consumption unit (1, 15, 30, 60) and then the UnitSize will be minutes, hours, or days. The UnitSizes are held in a reference table and ID'ed with their appropriate text of Day, Minute, Hour. So in my table Minute has an ID = 1, Hour = 2, Day = 3, and depending on if these intervals need to be adjusted they can be in the future.</p>\n\n<p>How do I get something like the UnitSize from the database and ensure the correct implementation? Am I just going about this the entirely wrong way? </p>\n\n<p>Essentially my end game is that I'll have another class which just contains <code>List&lt;WorkableService&gt;</code> that I can use to spit out a report with the correct units, any costing, duration, etc. </p>\n\n<pre><code>public abstract class WorkableService\n{\n    public int UnitSizeId { get; set; }\n    public string UnitSizeText { get; set; } \n\n    public double UnitInterval { get; set; }\n    public abstract TimeSpan Duration { get; }\n    public double UnitsAvailable { get; set; }\n    public double Adjustment { get; set; }\n    public decimal Rate { get; set; }\n}\n\npublic class MinuteService : WorkableService\n{\n    public override TimeSpan Duration\n    {\n        get\n        { \n            return TimeSpan.FromMinutes(UnitInterval); \n        }\n    }\n}\n\npublic class HourlyService : WorkableService\n{\n    public override TimeSpan Duration\n    {\n        get \n        {\n            return TimeSpan.FromHours(UnitInterval);        \n        }\n    }\n}\n\npublic class DailyService : WorkableService\n{\n    public override TimeSpan Duration\n    {\n        get \n        {\n            return TimeSpan.FromDays(UnitInterval);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "azure", "azure-sql-database", "smo"], "comments": [{"owner": {"reputation": 1854, "user_id": 2377931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07d8eed07a6b2a8fb2318b4edad62c00?s=128&d=identicon&r=PG", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2377931/michael-blake"}, "edited": false, "score": 0, "creation_date": 1438804867, "post_id": 31841775, "comment_id": 51605009, "body": "I wonder if this is the issue:  <code>at Microsoft.SqlServer.Management.Smo.SqlSmoObject.CheckTargetD&zwnj;&#8203;atabaseEngineTypeNot&zwnj;&#8203;Cloud(DatabaseEngine&zwnj;&#8203;Type\u00a0targetDatabaseE&zwnj;&#8203;ngineType,\u00a0String\u00a0ex&zwnj;&#8203;ceptionMessage)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1854, "user_id": 2377931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07d8eed07a6b2a8fb2318b4edad62c00?s=128&d=identicon&r=PG", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2377931/michael-blake"}, "is_accepted": false, "score": 0, "last_activity_date": 1438809340, "creation_date": 1438809340, "answer_id": 31842970, "question_id": 31841775, "link": "https://stackoverflow.com/questions/31841775/what-is-the-c-smo-way-to-create-an-azure-clusteredcolumnstoreindex-for-a-p1-sql/31842970#31842970", "title": "What is the c# SMO way to create an Azure ClusteredColumnStoreIndex for a P1 SQL database", "body": "<p>Not ideal:</p>\n\n<pre><code>db.ExecuteNonQuery(string.Format(\"Create Clustered Columnstore Index CC_{0} on dbo.{0}\", table.Name));    \n</code></pre>\n\n<p>sqlInjection escaping etc</p>\n"}], "owner": {"reputation": 1854, "user_id": 2377931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07d8eed07a6b2a8fb2318b4edad62c00?s=128&d=identicon&r=PG", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2377931/michael-blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438809340, "creation_date": 1438804815, "question_id": 31841775, "link": "https://stackoverflow.com/questions/31841775/what-is-the-c-smo-way-to-create-an-azure-clusteredcolumnstoreindex-for-a-p1-sql", "title": "What is the c# SMO way to create an Azure ClusteredColumnStoreIndex for a P1 SQL database", "body": "<p>Using a SQL Azure P1 Premium, V12 in North Europe, I can do this:</p>\n\n<pre><code>CREATE CLUSTERED COLUMNSTORE INDEX cci_Simple ON SimpleTable;\n</code></pre>\n\n<p>but not this: (using Microsoft.SqlServer.SqlEnum, Version=12.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91)</p>\n\n<pre><code>var t = new Table(db, \"SimpleTable\");\n// ... Add Columns\nt.Create()\nvar index = new Index(t, \"cci_\" + t.Name)\n{\n     IndexType = IndexType.ClusteredColumnStoreIndex,\n};\nindex.Create();\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Microsoft.SqlServer.Management.Smo.FailedOperationExceptionCreate failed for Index 'cci_SimpleTable'. \nat Microsoft.SqlServer.Management.Smo.SqlSmoObject.CreateImpl()\nat Microsoft.SqlServer.Management.Smo.Index.Create()\nat ...\nMicrosoft.SqlServer.Management.Smo.UnsupportedEngineTypeException\n</code></pre>\n\n<p>Either the object or one of its properties is not supported on the target engine type.</p>\n\n<p>References;</p>\n\n<p><a href=\"https://msdn.microsoft.com/library/gg492153.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/library/gg492153.aspx</a></p>\n\n<p><a href=\"http://www.nikoport.com/2014/12/12/azure-columnstore-1-the-initial-preview-offering/\" rel=\"nofollow\">http://www.nikoport.com/2014/12/12/azure-columnstore-1-the-initial-preview-offering/</a></p>\n"}, {"tags": ["c#", "google-chrome", "selenium", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1147, "user_id": 1956968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sTnJJ.png?s=128&g=1", "display_name": "karthickj25", "link": "https://stackoverflow.com/users/1956968/karthickj25"}, "edited": false, "score": 0, "creation_date": 1522220001, "post_id": 31841763, "comment_id": 86061301, "body": "For any one stumbling on this issue, pls refer the <a href=\"https://github.com/seleniumhq/selenium/issues/886\" rel=\"nofollow noreferrer\">github page</a>"}, {"owner": {"reputation": 676, "user_id": 1005083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e55b273eea3e72d6bbc77d97ff0518b?s=128&d=identicon&r=PG", "display_name": "r0bb077", "link": "https://stackoverflow.com/users/1005083/r0bb077"}, "edited": false, "score": 0, "creation_date": 1527734599, "post_id": 31841763, "comment_id": 88241674, "body": "Just filled an issue here on this - <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=2443\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromedriver/issues/detail?id=2443</a> - has anyone solved/got around this?!"}], "answers": [{"tags": [], "owner": {"reputation": 676, "user_id": 1005083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e55b273eea3e72d6bbc77d97ff0518b?s=128&d=identicon&r=PG", "display_name": "r0bb077", "link": "https://stackoverflow.com/users/1005083/r0bb077"}, "is_accepted": false, "score": 2, "last_activity_date": 1527821484, "creation_date": 1527821484, "answer_id": 50635446, "question_id": 31841763, "link": "https://stackoverflow.com/questions/31841763/selenium-devtools-request-127-0-0-112583-json-version-failed-upon-instantia/50635446#50635446", "title": "Selenium: &quot;DevTools Request: 127.0.0.1:12583/json/version failed&quot; upon instantiation", "body": "<p>If anyone was looking for answer like me;</p>\n\n<p><a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=2443\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=2443</a></p>\n\n<blockquote>\n  <p>This behavior is by design. Two instances of Chrome can't use the same user-data-dir at the same time. Otherwise they would try to update the same set of files and cause corruptions. So if an instance is already running, attempting to start another instance using the same user-data-dir will cause the second instance to ask the first instance to open a new window, and then the second instance exits. </p>\n</blockquote>\n"}], "owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2312, "favorite_count": 6, "answer_count": 1, "score": 20, "last_activity_date": 1527821484, "creation_date": 1438804772, "last_edit_date": 1438806044, "question_id": 31841763, "link": "https://stackoverflow.com/questions/31841763/selenium-devtools-request-127-0-0-112583-json-version-failed-upon-instantia", "title": "Selenium: &quot;DevTools Request: 127.0.0.1:12583/json/version failed&quot; upon instantiation", "body": "<p>When I create a new chrome driver in Selenium while  Google Chrome is already running AND I am referencing the users settings/data (via <code>user-data-dir</code>). A new Chrome window will open, but my application will hang. The ChromeDriver console will display the following error each second: <code>DevTools Request: 127.0.0.1:12585/json/version. DevTools request failed</code></p>\n\n<p>Screenshot: <a href=\"https://i.stack.imgur.com/7mUnX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7mUnX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code to instantiate the driver:</p>\n\n<pre><code>        ChromeDriverService driverService = ChromeDriverService.CreateDefaultService();\n        //driverService.HideCommandPromptWindow = true;\n        driverService.EnableVerboseLogging = true;\n\n        string path = Environment.ExpandEnvironmentVariables(\"%LOCALAPPDATA%\\\\Google\\\\Chrome\\\\User Data\");\n\n        ChromeOptions options = new ChromeOptions();\n        options.AddArguments(\"user-data-dir=\" + path);\n        options.AddArguments(\"--start-maximized\");\n        options.AddArguments(\"--disable-extensions\");\n\n        IWebDriver driver = new ChromeDriver(driverService, options);\n</code></pre>\n\n<p>This will work perfectly fine in every instance if I do not try and load user settings/data. If I am trying to load user setting/data it will only work if there is no instance of Chrome running on the device already.</p>\n\n<p><strong>Versions:</strong></p>\n\n<ul>\n<li>Selenium v 2.47.0 </li>\n<li>ChromeDriver v 2.16.333243  </li>\n<li>Chrome v44.0.2403</li>\n</ul>\n\n<p>What can I do to resolve this?</p>\n"}, {"tags": ["c#", "skype"], "comments": [{"owner": {"reputation": 5944, "user_id": 739912, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecb4e59183a439d978bb0598c94eee04?s=128&d=identicon&r=PG", "display_name": "Felix K.", "link": "https://stackoverflow.com/users/739912/felix-k"}, "edited": false, "score": 0, "creation_date": 1438805587, "post_id": 31841717, "comment_id": 51605385, "body": "Actually i hate spam bots. They sent me also messages if i write back. :-)"}, {"owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "reply_to_user": {"reputation": 5944, "user_id": 739912, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecb4e59183a439d978bb0598c94eee04?s=128&d=identicon&r=PG", "display_name": "Felix K.", "link": "https://stackoverflow.com/users/739912/felix-k"}, "edited": false, "score": 1, "creation_date": 1438806013, "post_id": 31841717, "comment_id": 51605610, "body": "I could see that, but this spam bot will be used for good (also by my team to make our job easier)."}, {"owner": {"reputation": 2892, "user_id": 2246581, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ee6b71c2ffbf3f4b0e7e691fac6a6afe?s=128&d=identicon&r=PG", "display_name": "KnightFox", "link": "https://stackoverflow.com/users/2246581/knightfox"}, "edited": false, "score": 0, "creation_date": 1438806425, "post_id": 31841717, "comment_id": 51605822, "body": "@AaronBerndt - are you sure the skype client and the windows service are running under the same credentials?"}, {"owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "reply_to_user": {"reputation": 2892, "user_id": 2246581, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ee6b71c2ffbf3f4b0e7e691fac6a6afe?s=128&d=identicon&r=PG", "display_name": "KnightFox", "link": "https://stackoverflow.com/users/2246581/knightfox"}, "edited": false, "score": 0, "creation_date": 1438806521, "post_id": 31841717, "comment_id": 51605872, "body": "@KnightFox - Yes, at least i&#39;m pretty sure. I&#39;ve tried running the windows services as Local System, Network Service, Local Service, and using my own creds on my machine. None of them worked."}, {"owner": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "edited": false, "score": 0, "creation_date": 1438807176, "post_id": 31841717, "comment_id": 51606258, "body": "Did you grant &quot;allow service to interact with desktop&quot; rights? I&#39;m assuming the machine stays logged in with a skype client."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "edited": false, "score": 0, "creation_date": 1438807242, "post_id": 31841717, "comment_id": 51606297, "body": "@LSU.Net I thought that setting didn&#39;t do anything in Windows 7 (and maybe Vista)?"}, {"owner": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1438807377, "post_id": 31841717, "comment_id": 51606384, "body": "You&#39;re right, @KennethK."}, {"owner": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "edited": false, "score": 0, "creation_date": 1438807606, "post_id": 31841717, "comment_id": 51606542, "body": "Here&#39;s an article I found on creating a service which starts a scheduled task (which can interact with the desktop). <a href=\"http://www.codeproject.com/Articles/110568/Alternative-way-for-Window-services-to-interact-wi\" rel=\"nofollow noreferrer\">codeproject.com/Articles/110568/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1438807672, "post_id": 31841717, "comment_id": 51606572, "body": "@KennethK - I did try that before learning that it didn&#39;t do anything."}, {"owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "reply_to_user": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "edited": false, "score": 0, "creation_date": 1438809860, "post_id": 31841717, "comment_id": 51607692, "body": "@LSU.Net - Thanks I will look into that and see if it works."}, {"owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "reply_to_user": {"reputation": 809, "user_id": 346236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217607ebd8059bf74159a20e9ce1e44e?s=128&d=identicon&r=PG", "display_name": "LSU.Net", "link": "https://stackoverflow.com/users/346236/lsu-net"}, "edited": false, "score": 0, "creation_date": 1438863993, "post_id": 31841717, "comment_id": 51630741, "body": "@LSU.Net  - I tried the link it still gets the same error."}], "owner": {"reputation": 21, "user_id": 4946939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c7f052f9e6134377821fd1237e0608?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Berndt", "link": "https://stackoverflow.com/users/4946939/aaron-berndt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1438806479, "creation_date": 1438804603, "last_edit_date": 1438806479, "question_id": 31841717, "link": "https://stackoverflow.com/questions/31841717/c-skype-bot-skype4com-windows-service", "title": "C# Skype bot (Skype4com) Windows Service", "body": "<p>I've been working on a Skype bot program.</p>\n\n<p>The idea is the when the user sends messages to the bot with certain keywords it will provide the results of a SQL script that is run in the background.</p>\n\n<p>I've been able to get it to work as a Windows console app , but I'm trying to convert it into a Windows service.</p>\n\n<p>I've tried using Top Shelf and the Visual Studio Windows service template, both are not working. I'm able to install the Windows service, but when I try to run it it fails.</p>\n\n<p>I keep getting this error</p>\n\n<blockquote>\n  <p>Service cannot be started. System.Runtime.InteropServices.COMException\n  (0x80040200): Not attached.    at SKYPE4COMLib.ISkype.Attach(Int32\n  Protocol, Boolean Wait)</p>\n</blockquote>\n\n<p>This happens as soon as the program tries to attach its self to Skype. </p>\n\n<blockquote>\n  <p>skype.Attach(7, true);</p>\n</blockquote>\n\n<p>I've come to the conclusion that the Windows service and Skype are on different levels and cant see each other. I've seen other Stack Overflow questions that came back with the same results. </p>\n\n<p>I was was wondering is there any way to change this or is it impossible?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "edited": false, "score": 0, "creation_date": 1438807270, "post_id": 31841715, "comment_id": 51606315, "body": "Can you clarify &quot;I&#39;m looking for a solution to the following problem that stays out of the database if possible&quot;?  Do you mean that you want to avoid querying the database, or that you want to avoid changing the database by e.g. adding stored procedures, or...?"}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "reply_to_user": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "edited": false, "score": 0, "creation_date": 1438808127, "post_id": 31841715, "comment_id": 51606832, "body": "My primary goal is to stay on the code side of the EF interface, thereby not adding stored procedures, <i>et al</i>.  I presume a certain amount of querying will be necessary, but I&#39;d like to stick to Linq if possible and avoid SQL."}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1438811732, "post_id": 31843359, "comment_id": 51608507, "body": "This looks great presuming I can generate a set of <code>desiredModels</code>.  I suppose that, presuming the number of <code>FamilyCode</code>s is reasonably limited, I could quickly generate one list of <code>desiredModels</code> for each <code>FamilyCode</code> I&#39;m going to try to match."}, {"owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "reply_to_user": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 1, "creation_date": 1438812008, "post_id": 31843359, "comment_id": 51608595, "body": "<code>desiredModels</code> can be generated ad-hoc; you could say for any collection of ModelOptionVersions you happen to have <code>var desiredModels = myModelOptionVersions.Select(mov =&gt; mov.Model);</code> and executing the <code>applicableFamilies</code> query will give you back the matching Familys for those MOVs."}, {"owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "reply_to_user": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 1, "creation_date": 1438869983, "post_id": 31843359, "comment_id": 51635289, "body": "@J.D.Ray Note! The first snippet of LINQ given here was in error.  I have fixed it and added a snippet that handles incomplete matches."}], "tags": [], "owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "is_accepted": true, "score": 1, "last_activity_date": 1438869899, "last_edit_date": 1438869899, "creation_date": 1438811018, "answer_id": 31843359, "question_id": 31841715, "link": "https://stackoverflow.com/questions/31841715/best-matching-sets-of-individual-records-into-group-representatives-in-c/31843359#31843359", "title": "Best-matching sets of individual records into group representatives in c#", "body": "<blockquote>\n  <p>However, what stumps me is how to best-match a group of\n  ModelOptionVersion records back into FamilyCode or CommonCode\n  representatives.</p>\n</blockquote>\n\n<p>What you are trying to do here is to find FamilyCodes (or CommonCodes) such that every ModelOptionVersion in some set has a Model specified by that FamilyCode.  </p>\n\n<pre><code>var desiredModels = // some collection of Models\n\nvar familyCodesByFamily = (\n    from familyCode in db.FamilyCodes\n    group familyCode by familyCode.Family into family\n    select family);\n\nvar applicableFamilies = (\n    from family in familyCodesByFamily\n    where desiredModels.All(dm =&gt; family.Any(f=&gt; f.Model == dm))\n    select family.Key).ToList();\n</code></pre>\n\n<p>I haven't measured how that kind of query performs, but it doesn't map very directly to what SQL can do.  SQL doesn't directly let you do universal quantifiers (\"give me the x such that for all x, y\"), but it does let you do existential quantifiers (\"give me the x such that there exists a y\") and negation.  If it turns out that the above doesn't perform well, an alternative formulation that should be semantically equivalent is:</p>\n\n<pre><code>var incorrectFamilies = \n    (from familyCode in db.FamilyCodes\n    where !desiredModels.Contains(familyCode.Model)\n    select familyCode.Family).Distinct();\n\nvar correctFamilies =\n    (from familyCode in db.FamilyCodes\n    where !incorrectFamilies.Contains(familyCode.Model)\n    select familyCode.Family).Distinct().ToList();\n</code></pre>\n\n<p>These generate different SQL, with the natural-seeming first alternative giving more convoluted SQL than the second alternative.  Whichever style you choose, the code for CommonCode should follow the same template.</p>\n\n<p><strong>EDIT: For true fuzzy matching,</strong> let's develop two measures for how good a match is between a set of models and family.  The first (and more important) measure we'll call \"coverage\", which relates to how many models are included in the family.  The second we'll call \"fit\", which relates to how many members of the family are included in the set of models (if you have two families, both of which completely contain the desired models, we want the family that has fewer extra models outside our desired set).  We'll order our results by the goodness of the matches, then take the number of results we can handle.</p>\n\n<pre><code>var fuzzyFamilies = (\n    from family in familyCodesByFamily\n    let coverage = desiredModels.Average(dm =&gt; family.Any(f =&gt; f.Model == dm) ? 1.0 : 0.0)\n    let fit = family.Average(f =&gt; desiredModels.Contains(f.Model) ? 1.0 : 0.0)\n    orderby coverage descending, fit descending\n    select family.Key)\n    .Take(resultCount)\n    .ToList();\n</code></pre>\n"}], "owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 31843359, "answer_count": 1, "score": 0, "last_activity_date": 1438869899, "creation_date": 1438804591, "question_id": 31841715, "link": "https://stackoverflow.com/questions/31841715/best-matching-sets-of-individual-records-into-group-representatives-in-c", "title": "Best-matching sets of individual records into group representatives in c#", "body": "<blockquote>\n  <p>We're developing a business application using code-first Entity\n  Framework, and I'm looking for a solution to the following problem\n  that stays out of the database if possible.</p>\n</blockquote>\n\n<p>We have a persistence model that looks similar to the following:</p>\n\n<pre><code>public abstract class DataCode\n{\n   public long Id { get; set; }\n   public string Code { get; set; }\n   public string Description { get; set; }\n}\n\npublic class Option : DataCode\n{\n   // a bunch of stuff that describes an Option\n}\n\npublic class Model : DataCode\n{\n   // a bunch of stuff that describes a product model\n}\n\npublic class Version\n{\n   public long Id { get; set; }\n   // a bunch of stuff that describes a version of the product model\n}\n\npublic class ModelOptionVersion\n{\n   public Model ThisModel { get; set; }\n   public Option WithThisOption { get; set; }\n   public Version UsingThisVersion { get; set; }\n   // a bunch of stuff that is important to track \n   // at the intersection of these three properties\n}\n</code></pre>\n\n<p>It all works fine, except that the users want to use \"Family Codes\" and \"Common Codes\" to apply property values.  To support that, I think the following classes will work:</p>\n\n<pre><code>public abstract class CodeGroup\n{\n   public virtual ICollection&lt;DataCode&gt; DataCodes { get; set; }\n}\n\npublic class Family : CodeGroup, DataCode\n{\n   public Family(ICollection&lt;Model&gt; Models)\n   {\n      base:DataCodes = Models;\n   }\n}\n\npublic class CommonCode : CodeGroup, DataCode\n{\n   public Family(ICollection&lt;Option&gt; Options)\n   {\n      base:DataCodes = Options;\n   }\n}\n</code></pre>\n\n<p>This is all well and good for expansion of <code>FamilyCode</code> and <code>CommonCode</code>, along with some logic, into individual <code>ModelOptionVersion</code> records (<code>foreach Model in Family...</code>).  However, what stumps me is how to best-match a group of <code>ModelOptionVersion</code> records <em>back</em> into <code>FamilyCode</code> or <code>CommonCode</code> representatives.</p>\n\n<p>If this were Ford (it's not), the data might look like this:</p>\n\n<pre><code>Family    | Model\nTrucks    | F-150\nTrucks    | F-250\nTrucks    | F-350\nSuperDuty | F-250\nSuperDuty | F-350\n\nCommonCode     | Option\nGas Engines    | 4.6l V-8 Gas\nGas Engines    | 5.4l V-8 Gas\nDiesel Engines | 6.4l V-8 Diesel\nDiesel Engines | 7.3l V-8 Diesel\nDiesel Engines | 6.0l V-8 Diesel\n\nModel | Option          | Version\nF-150 | 4.6l V-8 Gas    | 2015\nF-150 | 4.6l V-8 Gas    | 2016\nF-150 | 5.4l V-8 Gas    | 2015\nF-150 | 5.4l V-8 Gas    | 2016\nF-250 | 5.4l V-8 Gas    | 2015\nF-250 | 5.4l V-8 Gas    | 2016\nF-350 | 5.4l V-8 Gas    | 2015\nF-350 | 5.4l V-8 Gas    | 2016\nF-250 | 6.4l V-8 Diesel | 2015\nF-250 | 6.4l V-8 Diesel | 2016\nF-350 | 6.4l V-8 Diesel | 2015\nF-350 | 6.4l V-8 Diesel | 2016\n</code></pre>\n\n<p>The users want to price things based on \"Super Duty with Diesel Engine\" or \"2016 Truck with Gas Engine\".  They not only want to see it that way when they create the price record, but when they go back and look at it later.  So I need a way to not only expand the <code>FamilyCode</code> and <code>DataCode</code> members, but roll them up.  But it's not necessarily obvious from the data what the source of data was.  Also, the system should be smart enough that when someone says \"this is only available on the F-250 and F-350,\" the system says \"use SuperDuty\".</p>\n\n<p>It seems to me that I need some sort of best-match solution, perhaps some lightweight fuzzy logic.  Do .NET libraries for this exist?  Do I have to craft it from scratch?  How can I achieve this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1183, "user_id": 1183895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gekpp.png?s=128&g=1", "display_name": "Zach M.", "link": "https://stackoverflow.com/users/1183895/zach-m"}, "edited": false, "score": 3, "creation_date": 1438804658, "post_id": 31841691, "comment_id": 51604899, "body": "Post what you have tried."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438804849, "post_id": 31841691, "comment_id": 51604998, "body": "<a href=\"http://www.learn-cocos2d.com/2014/10/missing-stackoverflow-topic-terrible-question/\" rel=\"nofollow noreferrer\">learn-cocos2d.com/2014/10/&hellip;</a>"}, {"owner": {"reputation": 14506, "user_id": 2345956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTXGP.jpg?s=128&g=1", "display_name": "EZI", "link": "https://stackoverflow.com/users/2345956/ezi"}, "edited": false, "score": 1, "creation_date": 1438804958, "post_id": 31841691, "comment_id": 51605057, "body": "<a href=\"http://mattgemmell.com/what-have-you-tried/\" rel=\"nofollow noreferrer\">mattgemmell.com/what-have-you-tried</a>"}, {"owner": {"reputation": 2327, "user_id": 3938395, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc7fb2849c95ac9f211671b7c83cb07?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/3938395/adam"}, "edited": false, "score": 0, "creation_date": 1438805429, "post_id": 31841691, "comment_id": 51605312, "body": "So what if you have <code>{3,3,3, 5,5, 7,7,7}</code>"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1438839200, "post_id": 31841691, "comment_id": 51615837, "body": "Welcome to SO.  Your question sort of reads as a set of requirements. Any code to show? What research have you done? These things will help us help you.  Good luck!   <i><a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a></i>.  Also, I removed <code>unity3d</code> tag since question is nothing about unity3d"}], "answers": [{"tags": [], "owner": {"reputation": 3577, "user_id": 1530742, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JSbQL.jpg?s=128&g=1", "display_name": "Ranjit Singh", "link": "https://stackoverflow.com/users/1530742/ranjit-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1438805219, "creation_date": 1438805219, "answer_id": 31841888, "question_id": 31841691, "link": "https://stackoverflow.com/questions/31841691/check-times-a-value-is-next-to-the-same-value-in-an-array/31841888#31841888", "title": "Check times a value is next to the same value in an array", "body": "<p>The standard of question is not that good but writing the answer</p>\n\n<pre><code>int lastValue = myList[0];\n        int times = 0;\n        foreach (int value in myList) {\n            if (lastValue == value) {\n                times++;\n            }\n            else if (times &lt;= 1) {\n                lastValue = value;\n                times = 1;\n            }\n            else\n                break;\n        }\n</code></pre>\n\n<p>You only have to iterate on your list and keep a counter that will count only the consecutive duplicate integer.</p>\n"}, {"tags": [], "owner": {"reputation": 3779, "user_id": 123451, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1d071a2559b38acd23991885bfecda38?s=128&d=identicon&r=PG", "display_name": "Prabu", "link": "https://stackoverflow.com/users/123451/prabu"}, "is_accepted": false, "score": 0, "last_activity_date": 1438806575, "last_edit_date": 1438806575, "creation_date": 1438806234, "answer_id": 31842153, "question_id": 31841691, "link": "https://stackoverflow.com/questions/31841691/check-times-a-value-is-next-to-the-same-value-in-an-array/31842153#31842153", "title": "Check times a value is next to the same value in an array", "body": "<p>If you want a neater solution, you might look at using an open source library called <a href=\"https://code.google.com/p/morelinq/\" rel=\"nofollow\">morelinq</a> (by Jon Skeet and few others) on <a href=\"https://www.nuget.org/packages/morelinq\" rel=\"nofollow\">nuget</a>. It has useful extension methods for LINQ.</p>\n\n<p>One of them is called <code>GroupAdjacent</code>, which is applicable to your problem.</p>\n\n<pre><code>var testList = new[] { 1, 4, 6, 8, 3, 3, 3, 3, 8, 9, 0 };\nvar groups = testList.GroupAdjacent(t =&gt; t);\n\nvar groupsWithMoreThanOneMember = groups.Where(g =&gt; g.Count() &gt; 1);\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 1720455, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/dc98363729a99be68ee6b331d310a3cf?s=128&d=identicon&r=PG", "display_name": "David TG", "link": "https://stackoverflow.com/users/1720455/david-tg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31841888, "answer_count": 2, "score": -4, "last_activity_date": 1438839183, "creation_date": 1438804534, "last_edit_date": 1438839183, "question_id": 31841691, "link": "https://stackoverflow.com/questions/31841691/check-times-a-value-is-next-to-the-same-value-in-an-array", "title": "Check times a value is next to the same value in an array", "body": "<p>Lets say I have this array on C#:</p>\n\n<pre><code>int myList = {1,4,6,8,3,3,3,3,8,9,0}\n</code></pre>\n\n<p>I want to know if a value (lets say from 0-9) is next to itself in the list and how many times. In this case, the value 3 is next to itself and it has 4 repetitions. If I have a list {0,1,2,3,4,5,5,6,7} the value 5 is next to itself and has 2 repetitions.</p>\n\n<p>Repetitions have a limit of 5. No value can be repeated more than 5 times. The far I went is making if statements, but I know there's a better way of doing it.</p>\n"}, {"tags": ["c#", "database", "commit"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1438804688, "post_id": 31841611, "comment_id": 51604917, "body": "Check this answer <a href=\"http://stackoverflow.com/questions/17147249/why-saving-changes-to-a-database-fails/17147460#17147460\" title=\"why saving changes to a database fails\">stackoverflow.com/questions/17147249/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 63205, "user_id": 1195080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2528fb97648d9b78942a83a456f03ab?s=128&d=identicon&r=PG", "display_name": "Mike Perrenoud", "link": "https://stackoverflow.com/users/1195080/mike-perrenoud"}, "is_accepted": false, "score": 1, "last_activity_date": 1438804506, "creation_date": 1438804506, "answer_id": 31841679, "question_id": 31841611, "link": "https://stackoverflow.com/questions/31841611/c-cant-modify-a-database/31841679#31841679", "title": "C# Can&#39;t modify a database", "body": "<p>To persist changes you need to put the database on a real SQL Server and change your connection string to something like: <code>Server=someServerName; Database=someDatabaseName; Trusted_Connection=true</code> or <code>Server=someServerName; Database=someDatabaseName; User ID=someSqlUser; Password=somePassword</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4166, "user_id": 306894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f5ddf306eae80d5cc37f6b58d9eafbad?s=128&d=identicon&r=PG", "display_name": "czuroski", "link": "https://stackoverflow.com/users/306894/czuroski"}, "is_accepted": false, "score": 0, "last_activity_date": 1438804525, "creation_date": 1438804525, "answer_id": 31841684, "question_id": 31841611, "link": "https://stackoverflow.com/questions/31841611/c-cant-modify-a-database/31841684#31841684", "title": "C# Can&#39;t modify a database", "body": "<p>Your connection string is pointing to the local db.  Your connection string - </p>\n\n<pre><code>\"Data Source=(LocalDB)\\\\v11.0;AttachDbFilename=|DataDirectory|LocalDB.mdf;Integrated Security=True\"\n</code></pre>\n\n<p>must be changed to point to your actual db.</p>\n\n<p>Take a look <a href=\"https://msdn.microsoft.com/en-us/library/e38h511e(v=VS.71).aspx\" rel=\"nofollow\">here</a> for a process to generate your connection string.\nYou could also refer to <a href=\"http://connectionstrings.com\" rel=\"nofollow\">connectionstring.com</a> for sample connection strings.</p>\n"}, {"tags": [], "owner": {"reputation": 4910, "user_id": 1733477, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/911ca1c27eb2f18e0a3cb381ddf8fa6f?s=128&d=identicon&r=PG", "display_name": "Thomas Stringer", "link": "https://stackoverflow.com/users/1733477/thomas-stringer"}, "is_accepted": false, "score": 1, "last_activity_date": 1438804544, "creation_date": 1438804544, "answer_id": 31841698, "question_id": 31841611, "link": "https://stackoverflow.com/questions/31841611/c-cant-modify-a-database/31841698#31841698", "title": "C# Can&#39;t modify a database", "body": "<p>You need to point your connection string to the <em>correct</em> instance (the \"original database\"):</p>\n\n<pre><code>SqlConnection connectionLocale = new SqlConnection(\"Data Source = YourInstanceName; initial catalog = YourDatabaseName; Integrated Security=True\");\n</code></pre>\n\n<p>Substituting the following values:</p>\n\n<p><strong>YourInstanceName</strong> - the name of the SQL Server instance where your database lives (can be obtained from <code>select @@servername;</code> while connected to the SQL instance)</p>\n\n<p><strong>YourDatabaseName</strong> - the name of the database where you want to modify the data</p>\n\n<p>The connection string tells the provider <strong><em>where</em></strong> to target your queries.  If you're not pointing to the correct destination SQL Server instance (and database), then you'll get the undesirable results that you're experiencing.</p>\n"}], "owner": {"reputation": 41, "user_id": 5195504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cc9f3602a0278fa7f68933bc71943a?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyMadMax", "link": "https://stackoverflow.com/users/5195504/crazymadmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1438805987, "creation_date": 1438804305, "last_edit_date": 1438805987, "question_id": 31841611, "link": "https://stackoverflow.com/questions/31841611/c-cant-modify-a-database", "title": "C# Can&#39;t modify a database", "body": "<p>I'm currently trying to modify a local database using a C# program. I followed this example : <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqltransaction.commit.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqltransaction.commit.aspx</a></p>\n\n<p>The problem is that the modification is done when the program is running (for instance, if I add a new row, I will see it in my program), but when I stop the program and I check the database, there is no change anymore - the database is exactly the same as before the execution.</p>\n\n<p>I've been working on this issue for several days and haven't found a solution.</p>\n\n<p>Here is an extract of my work:</p>\n\n<pre><code>SqlConnection connectionLocale = new SqlConnection(\"Data Source=(LocalDB)\\\\v11.0;AttachDbFilename=|DataDirectory|LocalDB.mdf;Integrated Security=True\");\n\nSqlCommand command2 = connectionLocale.CreateCommand();\nSqlTransaction transaction;\n\nconnectionLocale.Open();\ntransaction = connectionLocale.BeginTransaction();\n\ncommand2.Connection = connectionLocale;\ncommand2.Transaction = transaction;\n\ntry\n{\n    command2.CommandText = \"DELETE FROM Chercheur\";\n    command2.ExecuteNonQuery();\n    transaction.Commit();\n    Console.WriteLine(\"commit ok\");\n}\ncatch\n{\n    transaction.Rollback();\n}\n\nconnectionLocale.Close();\n</code></pre>\n\n<p>I'm using Visual Vtudio 2012 with a .mdf database.</p>\n\n<p>After some research I saw somewhere that the connection <code>(AttachDbFilename=|DataDirectory|LocalDB.mdf)</code> creates a temporary database and that all the change are done on this temporary database.</p>\n\n<p>How can I affect the original database instead of this temporary database?</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1438808305, "post_id": 31841478, "comment_id": 51606935, "body": "Please specify your problems, this is way too broad. <a href=\"http://stackoverflow.com/help/how-to-ask\">Look here how to ask a good question</a>. Plus SO is not really intended to find a &quot;Teacher&quot;. If you can narrow your questions down like described in the link above, people can likely help you. You might have to ask more than one question though. Also specific questions might have been already answered which is often helpful because they went through editing and are likely higher quality in regards to questions and answers. Try using the search, you would be surprised how often you can find something."}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1438817105, "post_id": 31841478, "comment_id": 51610300, "body": "@FrankJ Look frank i asked way too many questions and didn&#39;t got a single answer!!!"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1438888612, "post_id": 31841478, "comment_id": 51647177, "body": "@FrankJ Updated it. Better?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438945451, "post_id": 31841478, "comment_id": 51669978, "body": "@Christos not getting an answer is a rather strong indicator that the questions aren&#39;t well written, but not bad enough to attract downvotes or be closed. They are simply ignored, which may be worse. You should <i>really</i> read the guide to writing a good question, if you want to attract answers. Paragraphs, punctuation, avoiding fluff also helps"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948449, "post_id": 31841478, "comment_id": 51671767, "body": "@PanagiotisKanavos Yes but is my post really hard to understand, I mean: All i want is to have that background audio task to function well!"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948754, "post_id": 31841478, "comment_id": 51671980, "body": "First, it was unreadable. It was impossible to even find the question in that single continuous paragraph. Even after reformatting it, it seems you haven&#39;t posted the <i>relevant</i> code. What does &quot;when I try to switch from track the transport controls are stuck&quot; mean? Where is the relevant code? Have you tried debugging it?"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948847, "post_id": 31841478, "comment_id": 51672034, "body": "@PanagiotisKanavos Alright so when i click on the gridView item it plays the song fine. But when i try to switch from song(Click on a other song) then the transport controls just don&#39;t change and then they vanish!"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948862, "post_id": 31841478, "comment_id": 51672043, "body": "PS: <code>async void</code> is evil and should <i>never</i> be used, except in event handlers. It means &quot;fire-and-forget-and-crash-my-app-if-I-fail&quot;"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948881, "post_id": 31841478, "comment_id": 51672054, "body": "@PanagiotisKanavos Is there maybe a way we can discuss this on Skype? And i can detail it further with some more and better information and some screenshos."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438948928, "post_id": 31841478, "comment_id": 51672087, "body": "@Christos repeating the same sentence doesn&#39;t help either. What transport controls? Where is the code that executes when you click on a different song? <i>Did you try debugging it?</i>"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "edited": false, "score": 0, "creation_date": 1438949015, "post_id": 31841478, "comment_id": 51672136, "body": "Transport controls: <a href=\"http://prntscr.com/81vsnv\" rel=\"nofollow noreferrer\">prntscr.com/81vsnv</a>"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1438968365, "post_id": 31841478, "comment_id": 51684313, "body": "@PanagiotisKanavos or SystemMediaTransportControls how others call them"}, {"owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1439232737, "post_id": 31841478, "comment_id": 51766279, "body": "@PanagiotisKanavos Hey i fixed it. What the problem was: When i switched from track, there was some invalid characters in the Uri of the Album art, so i replaced the uri with a local ms-appx image and now it works fine.. :)"}], "answers": [{"tags": [], "owner": {"reputation": 12794, "user_id": 686985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE56D.jpg?s=128&g=1", "display_name": "Stefan Wick  MSFT", "link": "https://stackoverflow.com/users/686985/stefan-wick-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1492264758, "creation_date": 1492264758, "answer_id": 43426940, "question_id": 31841478, "link": "https://stackoverflow.com/questions/31841478/background-audio-not-working/43426940#43426940", "title": "Background audio not working", "body": "<p>Answering an old question here. With the Win10 Anniversary Update (build 14393) we have significantly simplified the model for background media playback.</p>\n\n<p>MSDN doc:\n<a href=\"https://docs.microsoft.com/en-us/windows/uwp/audio-video-camera/background-audio\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/uwp/audio-video-camera/background-audio</a></p>\n\n<p>Sample app:\n<a href=\"https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BackgroundMediaPlaybackhttps://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BackgroundMediaPlayback\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BackgroundMediaPlayback</a></p>\n\n<p>Thanks,\nStefan Wick - Windows Developer Platform</p>\n"}], "owner": {"reputation": 3, "user_id": 4012192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KBlTR.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/4012192/christos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492264758, "creation_date": 1438803827, "last_edit_date": 1438945387, "question_id": 31841478, "link": "https://stackoverflow.com/questions/31841478/background-audio-not-working", "title": "Background audio not working", "body": "<p>I have a few pages and one of the pages is a library page. On that library page i get songs that are deserialized from a php file on my website and that php file requests song title, artist name etc from a mysql database. </p>\n\n<p>Everything works fine when i try to add the songs to the itemGridView. Everything works fine when i select a song from the itemGridView(Background on Windows phone 10 and Windows 10 ).</p>\n\n<p>The problem is that when I try to switch from track the transport controls are stuck and after 2 seconds it vanishes. Did i do something wrong? I just copied everything from the background sample. </p>\n\n<p>Here is my code when i add the songs to the gridView:</p>\n\n<pre><code>    private HttpClient httpClient;\n    public start()\n    {\n        this.InitializeComponent();\n        httpClient = new HttpClient();\n        // Limit the max buffer size for the response so we don't get overwhelmed\n        httpClient.MaxResponseContentBufferSize = 256000;\n        httpClient.DefaultRequestHeaders.Add(\"user-agent\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0)\");\n         this.NavigationCacheMode = NavigationCacheMode.Required; \n        Instance = this;\n        Loaded += Start_Loaded;     \n        initializeSongs();\n        backgroundAudioTaskStarted = new AutoResetEvent(false);\n        itemGridView.ItemsSource = Songs;\n    }\n\n\nasync void initializeSongs()\n    {\n        try\n        {\n\n            HttpResponseMessage response = await httpClient.GetAsync(\"http://www.myproductsofficial.eu/testt.php\");\n            string array = await response.Content.ReadAsStringAsync();\n            string json = array;\n            MessageDialog mes = new MessageDialog(json);\n            await mes.ShowAsync();\n            var xdd = JsonConvert.DeserializeObject&lt;List&lt;RootObject&gt;&gt;(json);\n            foreach (var xd in xdd)\n            {\n                var song = new SongModel();\n                song.Title = xd.SongName;\n                song.Artist = xd.ArtistName;\n                song.Listens = xd.Listens;\n                song.AlbumArtUri = new Uri(xd.Thumbnail);\n                song.MediaUri = new Uri(xd.MediaLink);\n                Songs.Add(song);\n\n            }\n            foreach (var song in Songs)\n            {\n                var bitmap = new BitmapImage();\n                bitmap.UriSource = song.AlbumArtUri;\n                albumArtCache[song.AlbumArtUri.ToString()] = bitmap;\n            }\n        }\n        catch (Exception e1)\n        {\n            MessageDialog mes = new MessageDialog(e1.Message);\n            mes.ShowAsync();\n        }\n\n    }\n\n   private void itemGridView_SelectionChanged(object sender, SelectionChangedEventArgs e)\n    {\n        var song = itemGridView.SelectedItem as SongModel;\n        Debug.WriteLine(\"Clicked item from App: \" + song.MediaUri.ToString());\n\n        // Start the background task if it wasn't running\n        if (!IsMyBackgroundTaskRunning || MediaPlayerState.Closed == BackgroundMediaPlayer.Current.CurrentState)\n        {\n            // First update the persisted start track\n            ApplicationSettingsHelper.SaveSettingsValue(ApplicationSettingsConstants.TrackId, song.MediaUri.ToString());\n            ApplicationSettingsHelper.SaveSettingsValue(ApplicationSettingsConstants.Position, new TimeSpan().ToString());\n\n            // Start task\n            StartBackgroundAudioTask();\n        }\n        else\n        {\n            // Switch to the selected track\n            MessageService.SendMessageToBackground(new TrackChangedMessage(song.MediaUri));\n        }\n\n        if (MediaPlayerState.Paused == BackgroundMediaPlayer.Current.CurrentState)\n        {\n            BackgroundMediaPlayer.Current.Play();\n        }\n    }\n</code></pre>\n\n<p>I checked if the app is going into suspended mode and the resuming modes. I also checked the declaration tab for background audio, the entry point is: BackgroundAudioTask.MyBackgroundAudioTask</p>\n\n<p>Screenshot of projects: <a href=\"http://prntscr.com/81mrlq\" rel=\"nofollow\">http://prntscr.com/81mrlq</a>\nBackgroundAudioTask: Windows Runtime Component\nBackgroundAudioShared: Class Library(DLL)</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "telerik", "telerik-grid", "telerik-mvc"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1438805276, "post_id": 31841468, "comment_id": 51605230, "body": "Have you seen this? <a href=\"http://stackoverflow.com/questions/11116542/how-can-i-set-and-get-the-value-of-a-dropdownlist-in-a-grid-in-kendo-ui-mvc\" title=\"how can i set and get the value of a dropdownlist in a grid in kendo ui mvc\">stackoverflow.com/questions/11116542/&hellip;</a>"}, {"owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1438806476, "post_id": 31841468, "comment_id": 51605848, "body": "ok i see that he is using there a ClientTemplate but when i made client template &quot;.ClientTemplate(&quot;#: Text #&quot;);&quot; the text in the cell shows &quot;function Text() { [native code] }&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "is_accepted": false, "score": 0, "last_activity_date": 1438871438, "creation_date": 1438871438, "answer_id": 31858478, "question_id": 31841468, "link": "https://stackoverflow.com/questions/31841468/telerik-kendo-ui-mvc-dropdownlist-in-grid-to-when-in-edit-mode-and-show-value-w/31858478#31858478", "title": "Telerik kendo ui mvc dropdownlist in grid to when in edit mode, and show value when in display mode", "body": "<p>ok after some hard work here is what i came up with</p>\n\n<p>i used a ClientTemplate together with EditorTemplateName</p>\n\n<pre><code>columns.Bound(c =&gt; c.Condition)\n.EditorTemplateName(\"_ConditionDropDown\")\n       .ClientTemplate(\"# if (Condition=== 1) {#\" +\n                    \"good\" +\n                \"#} else if (Condition=== 2) {#\" +\n                    \"best\" +\n                \"#} else if (Condition=== 3) {#\" +\n                    \"top\" +\n                \"#}#\");\n</code></pre>\n\n<p>And It Works as i needed</p>\n\n<hr>\n\n<p>i decided to add the template i used it might help someone</p>\n\n<pre><code>@{\n    ViewBag.ConditionDropDownList = new List&lt;SelectListItem&gt;()\n                {\n                    new SelectListItem { Value=\"0\", Text=\"- All Conditions -\" },\n                    new SelectListItem { Value=\"1\", Text=\"good\" },\n                    new SelectListItem { Value=\"2\", Text=\"best\" },\n                    new SelectListItem { Value=\"3\", Text=\"top\" }\n                };\n}\n\n@(Html.Kendo().DropDownList()\n              .Name(\"Condition\")\n           .DataTextField(\"Text\")\n           .DataValueField(\"Value\")\n               .BindTo((System.Collections.IEnumerable)ViewBag.ConditionDropDownList)\n               .Value(\"0\")\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "is_accepted": false, "score": 0, "last_activity_date": 1438960658, "creation_date": 1438960658, "answer_id": 31881222, "question_id": 31841468, "link": "https://stackoverflow.com/questions/31841468/telerik-kendo-ui-mvc-dropdownlist-in-grid-to-when-in-edit-mode-and-show-value-w/31881222#31881222", "title": "Telerik kendo ui mvc dropdownlist in grid to when in edit mode, and show value when in display mode", "body": "<p>this way will work sometimes, if not the second answer will.</p>\n\n<p>A dropdownlist should be used by default for the foreignkey column. If a dropdownlist is not used in your project then this indicates that the GridForeignKey editor template is missing from the EditorTemplates folder. If that is the case the you should copy the editor from the [Installation folder] > wrappers > aspnetmvc > EditorTemplates > razor folder to the EditorTemplates folder in your project.</p>\n"}], "owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 817, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438960658, "creation_date": 1438803803, "question_id": 31841468, "link": "https://stackoverflow.com/questions/31841468/telerik-kendo-ui-mvc-dropdownlist-in-grid-to-when-in-edit-mode-and-show-value-w", "title": "Telerik kendo ui mvc dropdownlist in grid to when in edit mode, and show value when in display mode", "body": "<p>So i have a Kendo UI grid\nand i have one column that is a int</p>\n\n<p>basically have a int column and</p>\n\n<p>1 means good,\n2 means best,\n3 means top,</p>\n\n<p>Its kind of thing that a Enum would be the right thing to use but i cant (internal business rules)\nso i need to make a custom drop down that will replace the number </p>\n\n<p>there are 2 ways to do it in mvc </p>\n\n<p>one is to use a EditorTemplateName\nand the other one is to use a ForeignKey </p>\n\n<p>the problem is that EditorTemplateName only works in edit mode and displays the number in display mode,\nand ForeignKey only works in display mode and displays the number in edit mode</p>\n"}, {"tags": ["c#", "visual-studio-2010"], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 719812, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u8qN0.png?s=128&g=1", "display_name": "Davide Andrea", "link": "https://stackoverflow.com/users/719812/davide-andrea"}, "edited": false, "score": 0, "creation_date": 1438809123, "post_id": 31842425, "comment_id": 51607339, "body": "I got bogged down on writing XML to it (I already have all the settings rolled into a single XML string). I am actually &quot;rolling my own&quot;: I am simply writing the string as is to the FactoryDefault.config file. I know it&#39;s not the right way, but I am so bogged down in figuring our the right way... I need to move on."}], "tags": [], "owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1438807267, "creation_date": 1438807267, "answer_id": 31842425, "question_id": 31841451, "link": "https://stackoverflow.com/questions/31841451/where-to-store-factory-defaults-configuration-settings-so-they-may-be-updated/31842425#31842425", "title": "Where to store &quot;factory defaults&quot; configuration settings, so they may be updated programmatically", "body": "<p>Yep App Settings or rolling your own is the way we've handled this in the past.  Add a reference to System.Configuration to your project, and then use the following:</p>\n\n<pre><code>ConfigurationManager.AppSettings.Set(\"lang\", \"English\"); //Set\nstring getLang = ConfigurationManager.AppSettings[\"lang\"]; //Get\n</code></pre>\n\n<p>For the App.config:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;appSettings&gt;\n    &lt;add key=\"lang\" value=\"English\"/&gt;\n  &lt;/appSettings&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1438813109, "last_edit_date": 1438813109, "creation_date": 1438812543, "answer_id": 31843693, "question_id": 31841451, "link": "https://stackoverflow.com/questions/31841451/where-to-store-factory-defaults-configuration-settings-so-they-may-be-updated/31843693#31843693", "title": "Where to store &quot;factory defaults&quot; configuration settings, so they may be updated programmatically", "body": "<p>Just in case you want to try this out.  Here is a class I wrote called ConfigHub for doing just what you are talking about.  It makes use of locks as well, to ensure you don't end up with file in use errors:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text; \nusing System.Xml;\n\npublic static class ConfigHub\n{\n    #region State\n    private static string WorkingDirectoryVar = null;\n    private static string ConfigFileNameVar = null;\n    private static bool AutoRefreshVar = true;\n    private static bool VerboseVar = true;\n    private static bool SetupExecutedVar = false;\n    private static XmlDocument ConfigDocVar = new XmlDocument();\n    private static Dictionary&lt;string, string&gt; ConfigLookupPair = new Dictionary&lt;string, string&gt;();\n    private static Object ConfigHubLock = new Object();\n    private const string CommentNameVar = \"#comment\";\n    #endregion\n\n#region Property\npublic static bool Verbose\n{\n    get { return VerboseVar; }\n    set { VerboseVar = value; }\n}\npublic static bool AutoRefresh\n{\n    get { return AutoRefreshVar; }\n    set { AutoRefreshVar = value; }\n}\npublic static bool SetupExecuted\n{\n    get { return SetupExecutedVar; }\n}\npublic static string ConfigFilePath\n{\n    get { return WorkingDirectoryVar + @\"\\\" + ConfigFileNameVar; }\n}\npublic static string ConfigFileName\n{\n    get { return ConfigFileNameVar; }\n}\npublic static string WorkingDirectory\n{\n    get { return WorkingDirectoryVar; }\n}\n#endregion\n\n#region Setup\npublic static void Setup()\n{\n    lock (ConfigHubLock)\n    {\n        //Initialize config with default\n        WorkingDirectoryVar = Environment.CurrentDirectory;\n        ConfigFileNameVar = \"SCW.Config.xml\";\n        SetupExecutedVar = true;\n        RefreshConfiguration();\n    }\n}\npublic static void Setup(string configFileName)\n{\n    lock (ConfigHubLock)\n    {\n        //Initialize config with specified file\n        WorkingDirectoryVar = Environment.CurrentDirectory;\n        ConfigFileNameVar = configFileName.Trim().ToLower().Replace(\".xml\", \"\") + \".xml\";\n        SetupExecutedVar = true;\n        RefreshConfiguration();\n    }\n}\n#endregion\n\n#region Merchant\npublic static void SetValue(string key, string value)\n{\n    //Fail if setup hasn't been called\n    if (!SetupExecutedVar) throw ConfigHubException.BuildException(ConfigHubExceptionType.NotSetup, \"Setup must be called before using the ConfigHub\", null);        \n\n    try\n    {            \n        lock (ConfigHubLock)\n        {\n            //Set the value \n            bool foundNode = false;\n            foreach (XmlNode configNode in ConfigDocVar.ChildNodes[0].ChildNodes)\n            {\n                if (configNode.Name.Trim().ToLower() == key.Trim().ToLower())\n                {\n                    configNode.InnerXml = value.Trim();\n                    foundNode = true;\n                }\n            }\n            if (!foundNode)\n            {\n                XmlNode newNode = ConfigDocVar.CreateNode(\"element\", key.Trim(), \"\");\n                newNode.InnerXml = value.Trim();\n                ConfigDocVar.ChildNodes[0].AppendChild(newNode);\n            }\n\n            //Save the config file\n            ConfigDocVar.Save(WorkingDirectoryVar + @\"\\\" + ConfigFileNameVar);                \n            RefreshConfiguration();\n        }\n    }\n    catch (Exception err)\n    {\n        throw ConfigHubException.BuildException(ConfigHubExceptionType.SetValue, \"Set value failed\", err);\n    }\n}\npublic static string GetValue(string key)\n{\n    //Fail if setup hasn't been called\n    if (!SetupExecutedVar) throw ConfigHubException.BuildException(ConfigHubExceptionType.NotSetup, \"Setup must be called before using the ConfigHub\", null);\n    if (AutoRefreshVar) RefreshConfiguration();\n\n    try\n    {\n        lock (ConfigHubLock)\n        {\n            //Get and return the value\n            if (AutoRefreshVar) RefreshConfiguration();\n            if (ConfigLookupPair.ContainsKey(key.Trim().ToLower()))\n            {\n                return ConfigLookupPair[key.Trim().ToLower()];\n            }\n            else\n            {\n                throw ConfigHubException.BuildException(ConfigHubExceptionType.NoKeyFound, \"The key \" + key + \" was not found\", null);\n            }\n        }\n    }\n    catch (Exception err)\n    {\n        throw ConfigHubException.BuildException(ConfigHubExceptionType.GetValue, \"Get value failed\", err);\n    }\n}\npublic static void RefreshConfiguration()\n{\n    //Fail if setup hasn't been called\n    if (!SetupExecutedVar) throw ConfigHubException.BuildException(ConfigHubExceptionType.NotSetup, \"Setup must be called before using the ConfigHub\", null);\n\n    try\n    {\n        //Load configuration from file\n        ConfigDocVar.Load(WorkingDirectoryVar + @\"\\\" + ConfigFileNameVar);\n        List&lt;string&gt; duplicateCheck = new List&lt;string&gt;();\n        foreach (XmlNode configNode in ConfigDocVar.ChildNodes[0].ChildNodes)\n        {\n            if (configNode.Name.Trim().ToLower() == CommentNameVar)\n            {\n                //Ignore the Comment\n            }\n            else\n            {\n                if (duplicateCheck.Contains(configNode.Name.Trim().ToLower()))\n                {\n                    //Duplicate key failure\n                    throw ConfigHubException.BuildException(ConfigHubExceptionType.DuplicateKey, \"The key \" + configNode.Name.Trim() + \" appears multiple times\", null);\n                }\n                else\n                {\n                    //Add configuration key value pair\n                    duplicateCheck.Add(configNode.Name.Trim().ToLower());\n                    if (!ConfigLookupPair.ContainsKey(configNode.Name.Trim().ToLower()))\n                    {\n                        ConfigLookupPair.Add(configNode.Name.Trim().ToLower(), configNode.InnerXml.Trim());\n                    }\n                    else\n                    {\n                        ConfigLookupPair[configNode.Name.Trim().ToLower()] = configNode.InnerXml.Trim();\n                    }\n                }\n            }\n        }\n    }\n    catch (Exception err)\n    {\n        //Look form root missing and multiple roots\n        if (err.ToString().ToLower().Contains(\"root element is missing\"))\n        {\n            throw ConfigHubException.BuildException(ConfigHubExceptionType.NoRootFound, \"No configuration root found\", err);\n        }\n        else if (err.ToString().ToLower().Contains(\"multiple root elements\"))\n        {\n            throw ConfigHubException.BuildException(ConfigHubExceptionType.MultipleRoots, \"Multiple configuration roots found\", err);\n        }\n        else\n        {\n            throw ConfigHubException.BuildException(ConfigHubExceptionType.Refresh, \"Refresh failed\", err);\n        }\n    }\n}\n#endregion    \n}\n\n#region Exception\npublic enum ConfigHubExceptionType { NotSetup, Setup, Refresh, DuplicateKey, NoKeyFound, SetValue, GetValue, NoRootFound, MultipleRoots }\npublic class ConfigHubException : Exception\n{\n    public ConfigHubException(ConfigHubExceptionType errType, string message) : base(\"#\" + errType.ToString() + \"-\" + message + (ConfigHub.ConfigFilePath != @\"\\\" ? \" (\" + ConfigHub.ConfigFilePath + \")\" : \"\")) { }\n    public ConfigHubException(ConfigHubExceptionType errType, string message, Exception innerException) : base(\"#\" + errType.ToString() + \"-\" + message + (ConfigHub.ConfigFilePath != @\"\\\" ? \" (\" + ConfigHub.ConfigFilePath + \")\" : \"\"), innerException) { }\n    public static ConfigHubException BuildException(ConfigHubExceptionType exceptionType, string message, Exception innerException)\n    {\n        if (!ConfigHub.Verbose || innerException == null) return new ConfigHubException(exceptionType, message);\n        else return new ConfigHubException(exceptionType, message, innerException);      \n    }\n}\n#endregion\n</code></pre>\n\n<p>Note.  You need to build the file in your project first and remove the XML header.  Like the following (Ex: MyConfigFile.xml) - NO xml tag at the top like ().  Finally, make sure you set your xml config file to copy always:</p>\n\n<pre><code>&lt;Config&gt;\n   &lt;ValueName&gt;Value&lt;/ValueName&gt;\n&lt;/Config&gt;\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 719812, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u8qN0.png?s=128&g=1", "display_name": "Davide Andrea", "link": "https://stackoverflow.com/users/719812/davide-andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438813109, "creation_date": 1438803749, "last_edit_date": 1438804258, "question_id": 31841451, "link": "https://stackoverflow.com/questions/31841451/where-to-store-factory-defaults-configuration-settings-so-they-may-be-updated", "title": "Where to store &quot;factory defaults&quot; configuration settings, so they may be updated programmatically", "body": "<p>The user of my Visual Studio application may click a button to restore the application  to the factory defaults. At the factory we configure the application and then click another button to set that configuration as the factory defaults to the present configuration settings.</p>\n\n<p>However, if we save the configuration settings (XML format) to settings.settings, they are stored in our own user folder (not in the Visual Studio project folder), and the user doesn't receive them.</p>\n\n<p>(settings.settings uses the default values stored at design time.)</p>\n\n<p>We need to store the factory defaults in a file that is included in the executable, or distributed with it. We can write the factory defaults in a factorydefaultconfig.xml file included with the distribution, but I thought you may know of a better way of doing that.</p>\n\n<p>Right now I am studying Application configuration files to see if that's what I should be using.</p>\n"}, {"tags": ["c#", "arrays", "csv", "filter", "filehelpers"], "comments": [{"owner": {"reputation": 1590, "user_id": 2237804, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b87b4c3229d61e94af6237eb22a63790?s=128&d=identicon&r=PG", "display_name": "Rasmus Damgaard Nielsen", "link": "https://stackoverflow.com/users/2237804/rasmus-damgaard-nielsen"}, "edited": false, "score": 4, "creation_date": 1438804287, "post_id": 31841382, "comment_id": 51604707, "body": "So what is your problem?"}, {"owner": {"reputation": 3779, "user_id": 123451, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1d071a2559b38acd23991885bfecda38?s=128&d=identicon&r=PG", "display_name": "Prabu", "link": "https://stackoverflow.com/users/123451/prabu"}, "edited": false, "score": 0, "creation_date": 1438807569, "post_id": 31841382, "comment_id": 51606521, "body": "What does the record object look like?"}, {"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1438809495, "post_id": 31841382, "comment_id": 51607518, "body": "So, each row in the .csv is one item in the <code>Collection&lt;&gt;</code>?  How do you separate the elements in the .csv?  Are you using <code>string[] args</code>?  If so, that seems a bit rudimentary.  Try making a class for what you want the data to look like, then serialize/deserialize to/from the .csv."}, {"owner": {"reputation": 440, "user_id": 5137592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x27jk.jpg?s=128&g=1", "display_name": "danny taki", "link": "https://stackoverflow.com/users/5137592/danny-taki"}, "edited": false, "score": 0, "creation_date": 1438873681, "post_id": 31841382, "comment_id": 51638243, "body": "I am not using <code>string[] args</code> and, yes, each row is one item in the <code>Collection&lt;&gt;</code>.  But I just want to pull specific information within the <code>customerandproducts</code> collection and add this info to the correct row, under the correct field - i.e.  {Product ,Base Price,Ship Price,Total Price}."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1438881955, "post_id": 31841382, "comment_id": 51643538, "body": "A <b>picture</b> of your .csv file? Why not just copy/paste the data itself so that others can use it?"}, {"owner": {"reputation": 440, "user_id": 5137592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x27jk.jpg?s=128&g=1", "display_name": "danny taki", "link": "https://stackoverflow.com/users/5137592/danny-taki"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1438890580, "post_id": 31841382, "comment_id": 51648243, "body": "@MikeMcCaughan,  done"}], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 5137592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x27jk.jpg?s=128&g=1", "display_name": "danny taki", "link": "https://stackoverflow.com/users/5137592/danny-taki"}, "edited": false, "score": 0, "creation_date": 1438878804, "post_id": 31845376, "comment_id": 51641834, "body": "hmm..I think this is what I need.  So I iterate through my <code>customersandproducts</code> collection to add the information to <code>MoreFields</code> class.  Then when the code executes <code>var mapped = Mapper.Map&lt;Orders[], MoreFields[]&gt;(records );</code> it&#39;s going to map the two data fields to each other?  How does it know to map collections with the CustomerName as the key?"}], "tags": [], "owner": {"reputation": 3318, "user_id": 203579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ceb54108b72d60713b1bd7f105e1f85?s=128&d=identicon&r=PG", "display_name": "Marcos Meli", "link": "https://stackoverflow.com/users/203579/marcos-meli"}, "is_accepted": false, "score": 1, "last_activity_date": 1438824502, "creation_date": 1438824502, "answer_id": 31845376, "question_id": 31841382, "link": "https://stackoverflow.com/questions/31841382/c-add-an-element-to-a-each-position-in-a-collection-object/31845376#31845376", "title": "C# Add an element to a each position in a collection object", "body": "<p>You can use two classes and later map them with <a href=\"https://github.com/AutoMapper/AutoMapper/wiki/Getting-started\" rel=\"nofollow\">AutoMapper</a></p>\n\n<pre><code>namespace ReadFile\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var engine = new FileHelperEngine&lt;Orders&gt;();\n            var records = engine.ReadFile(\"Daniel.csv\");\n            var mapped = Mapper.Map&lt;Orders[], MoreFields[]&gt;(records );\n            // mapped is an array of the class with more fields\n        }\n    }\n\n    [DelimitedRecord(\",\")]\n    public class Orders\n    {\n        public string Name;\n\n        public string Track;\n\n        public string Price;\n    }\n\n    public class MoreFields: Orders\n    {\n        public string Product;\n        public string BasePrice;\n        ...\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10464, "user_id": 1077279, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5f2013394a5cd1c804eac4cfa3f3cd49?s=128&d=identicon&r=PG", "display_name": "shamp00", "link": "https://stackoverflow.com/users/1077279/shamp00"}, "is_accepted": false, "score": 1, "last_activity_date": 1438934778, "creation_date": 1438934778, "answer_id": 31872628, "question_id": 31841382, "link": "https://stackoverflow.com/questions/31841382/c-add-an-element-to-a-each-position-in-a-collection-object/31872628#31872628", "title": "C# Add an element to a each position in a collection object", "body": "<p>You should use the <code>FieldOptional</code> attribute for your extra fields. Then they will be ignored for import, but included for export.</p>\n\n<pre><code>[DelimitedRecord(\",\")]\npublic class Orders\n{\n    public string Name;\n    public string Track;\n    public string Price;\n    [FieldOptional]\n    public string Product\n    [FieldOptional]\n    public string BasePrice\n    [FieldOptional]\n    public string ShipPrice\n    [FieldOptional]\n    public string TotalPrice\n}\n</code></pre>\n\n<p>Then something like:</p>\n\n<pre><code>var engine = new FileHelperEngine&lt;Orders&gt;();\nvar records = engine.ReadFile(\"Daniel.csv\");\n// transform the collection with a foreach loop\nforeach(var record in records)\n{\n   var customer = custs.ByName(record.Name);\n   record.Product = etc...\n   record.BasePrice = etc...\n}\n// write out the file including the optional fields.\nengine.WriteFile(\"Daniel_transformed.csv\", records);\n</code></pre>\n"}], "owner": {"reputation": 440, "user_id": 5137592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x27jk.jpg?s=128&g=1", "display_name": "danny taki", "link": "https://stackoverflow.com/users/5137592/danny-taki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438934778, "creation_date": 1438803446, "last_edit_date": 1438890562, "question_id": 31841382, "link": "https://stackoverflow.com/questions/31841382/c-add-an-element-to-a-each-position-in-a-collection-object", "title": "C# Add an element to a each position in a collection object", "body": "<p>My goal is to write values to a preexisting .csv file stored in a collection.  Currently, I am reading the values stored in the .csv file and storing them in a collection using the filerhelper library.  But I want to add 4 column fields {Product ,Base Price,Ship Price,Total Price}, then, if the customer name in my <code>records</code> collection matches the customer name in <code>customerandproducts</code> collection - write in the corresponding data from <code>customerandproducts</code> collection to the 4 fields I added.</p>\n\n<p>Here's a simplified version of my source code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing FileHelpers;\n\nnamespace ReadFile\n{\n    class Program\n    {\n        static void Main()\n        {\n            var engine = new FileHelperEngine&lt;Orders&gt;();\n            var records = engine.ReadFile(\"Daniel.csv\");\n\n            // var customersandproducts = addresses.Select(x =&gt; new { x.Name, x.AddressLine1, x.AddressLine2, x.City, x.State, x.S_OrderId, x.PostalCode })\n            // .Join(products, custs =&gt; custs.S_OrderId, prod =&gt; prod.P_OrderId,(custs, prod) =&gt; new { custs.Name, custs.AddressLine1, custs.AddressLine2, custs.City, custs.State, custs.PostalCode, prod.Title, prod.Quantity, prod.ItemPrice, prod.ShippingPrice });\n\n            foreach (var record in records)\n            {\n                Console.WriteLine(record.Name);\n                Console.WriteLine(record.Track);\n                Console.WriteLine(record.Price);\n            }\n        }\n    }\n\n    [DelimitedRecord(\",\")]\n    public class Orders\n    {\n        public string Name;\n\n        public string Track;\n\n        public string Price;\n    }\n}\n</code></pre>\n\n<p>Here is the data in my .csv file:</p>\n\n<p><code>ShipToCompanyorName,PackageTrackingNumber,ShipmentInformationTotalShipmentReferenceCharge\ncustomer1,1Z620Y1V0347293915,12.6\ncustomer2,1Z620Y1V0347106126,9.18\ncustomer3,1Z620Y1V0347584931,13.63\ncustomer4,1Z620Y1V0346366348,11.37\ncustomer5,1Z620Y1V0348472309,31.\ncustomer6,1Z620Y1V0348325290,31.34</code></p>\n\n<p>My Problem:  I want to add {Product ,Base Price,Ship Price,Total Price} into the first row of the .csv file, then fill in each column with information in <code>customerandproducts</code> collection using the customer name as the key.</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 6, "creation_date": 1438803642, "post_id": 31841379, "comment_id": 51604301, "body": "Second case may  also deadlock. It is just a timing issue."}, {"owner": {"reputation": 22380, "user_id": 284111, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7540f1aac4d78cc963f6551e8307b757?s=128&d=identicon&r=PG", "display_name": "Andrew Savinykh", "link": "https://stackoverflow.com/users/284111/andrew-savinykh"}, "edited": false, "score": 3, "creation_date": 1438803748, "post_id": 31841379, "comment_id": 51604373, "body": "When something does not deadlock when you run it does not prove that it does not deadlock at all. Threading issues are difficult to investigate exactly for that reason."}], "answers": [{"tags": [], "owner": {"reputation": 35013, "user_id": 626853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILPj4.jpg?s=128&g=1", "display_name": "Aasmund Eldhuset", "link": "https://stackoverflow.com/users/626853/aasmund-eldhuset"}, "is_accepted": false, "score": 1, "last_activity_date": 1438803748, "creation_date": 1438803748, "answer_id": 31841450, "question_id": 31841379, "link": "https://stackoverflow.com/questions/31841379/c-why-does-one-of-these-threading-examples-deadlock-and-the-other-doesnt/31841450#31841450", "title": "C#: Why does one of these threading examples deadlock and the other doesn&#39;t?", "body": "<p>It's just random timing; in the second example, both locks around the second printing are probably entered before the thread for the first task has the time to start up. Add <code>Thread.Sleep(500)</code> before the last <code>lock (lockB)</code>, and you'll probably see it lock up too.</p>\n"}], "owner": {"reputation": 16, "user_id": 4868536, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x-od9Z6krYc/AAAAAAAAAAI/AAAAAAAAADU/6DVAiZOvcgQ/photo.jpg?sz=128", "display_name": "eraserpeel", "link": "https://stackoverflow.com/users/4868536/eraserpeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438803748, "creation_date": 1438803425, "question_id": 31841379, "link": "https://stackoverflow.com/questions/31841379/c-why-does-one-of-these-threading-examples-deadlock-and-the-other-doesnt", "title": "C#: Why does one of these threading examples deadlock and the other doesn&#39;t?", "body": "<p>The follow code will lock: </p>\n\n<pre><code>static void Main()\n{\n    object lockA = new object();\n    object lockB = new object();\n    var up = Task.Run(() =&gt;\n    {\n        lock (lockA)\n        {\n            Thread.Sleep(1000);\n            lock (lockB)\n            {\n                Console.WriteLine(\"Here1\");\n            }\n        }\n    });\n    var down = Task.Run(() =&gt;\n    {\n        lock (lockB)\n        {\n            lock (lockA)\n            {\n                Console.WriteLine(\"Here2\");\n            }\n\n        }\n    });\n    up.Wait();\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>But this code, taken from the C# .NET 70-483 book doesn't lock in Visual Studio 2013 running under debug mode. </p>\n\n<pre><code>static void Main()\n        {\n            object lockA = new object();\n            object lockB = new object();\n            var up = Task.Run(() =&gt;\n            {\n                lock (lockA)\n                {\n                    Thread.Sleep(1000);\n                    lock (lockB)\n                    {\n                        Console.WriteLine(\"Here1\");\n                    }\n                }\n            });\n            lock (lockB)\n            {\n                lock (lockA)\n                {\n                    Console.WriteLine(\"Here2\");\n                }\n\n            }\n            up.Wait();\n            Console.ReadLine();\n        }\n</code></pre>\n\n<p>Is there something special about the thread that main is running in or is there some simple detail in the implementation that I can't see. It doesn't say anything here: <a href=\"https://msdn.microsoft.com/en-us/library/c5kehkcz.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/c5kehkcz.aspx</a> that would give me an indication as to why. </p>\n\n<p>My only other idea would be that the thread in which \"up\" was spawned has some special ability to enter a lock? If this is the reason why would that be important to allow your code to do?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "sqlite", "class-library"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1438804912, "post_id": 31841635, "comment_id": 51605033, "body": "<b>Hi Prashant</b>, thanks for your suggestion, but how do I mark it so...?"}, {"owner": {"reputation": 651, "user_id": 1173442, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5nt8M.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/1173442/prashant"}, "reply_to_user": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1438806126, "post_id": 31841635, "comment_id": 51605669, "body": "go to your class library then search for &quot;SQLite.Interop.dll&quot; right click &quot;Properties&quot; then search for property &quot;Copy Local&quot; as in screen shot then choose Option &quot;true&quot;. Build your project again."}], "tags": [], "owner": {"reputation": 651, "user_id": 1173442, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5nt8M.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/1173442/prashant"}, "is_accepted": true, "score": 0, "last_activity_date": 1438804367, "creation_date": 1438804367, "answer_id": 31841635, "question_id": 31841354, "link": "https://stackoverflow.com/questions/31841354/adding-a-class-library-project-to-a-asp-net-web-api-project-rest-service/31841635#31841635", "title": "adding a Class Library project to a asp.net web-api project (REST service)", "body": "<p><strong>SQLite.Interop.dll</strong> is referred in Class lib project not in REST project.\nMark this <strong>SQLite.Interop.dll</strong> as copy local <strong>true</strong> in property.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ed4HG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ed4HG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 0, "accepted_answer_id": 31841635, "answer_count": 1, "score": 0, "last_activity_date": 1438804367, "creation_date": 1438803357, "question_id": 31841354, "link": "https://stackoverflow.com/questions/31841354/adding-a-class-library-project-to-a-asp-net-web-api-project-rest-service", "title": "adding a Class Library project to a asp.net web-api project (REST service)", "body": "<p>I am new on <strong>C#</strong> and I have a solution which consists of <strong>two projects</strong>: a <strong>class library</strong> project and a <strong>REST</strong> service project (asp-net web-api). Though both of them work when run independently (in the case of the Class Library by using an entry-point), when I add the <strong>class library</strong> project to the <strong>REST</strong> project as a reference and run it, it throws an exception. The exception states that it cannot find/load a library (<strong>SQLite.Interop.dll</strong>) which is actually referenced by my class library. Any ideas or hints is welcome !        </p>\n"}, {"tags": ["c#", "sql", "sql-server", "stored-procedures", "database-performance"], "answers": [{"tags": [], "owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "is_accepted": false, "score": 1, "last_activity_date": 1438808880, "last_edit_date": 1438808880, "creation_date": 1438803527, "answer_id": 31841405, "question_id": 31841271, "link": "https://stackoverflow.com/questions/31841271/do-sql-server-stored-procedures-perform-better-in-network-clusters/31841405#31841405", "title": "Do SQL Server stored procedures perform better in network clusters?", "body": "<p>If the SP is just a simple query (ie one SELECT statement) the performance gain is that a SP is pre-compiled.  While the query is running you should not see any difference if it is a query or a SP.</p>\n\n<p>I'm not sure of the effect if the SP is more complicated because this would depend on the query.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 5034372, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/401258976727799/picture?type=large", "display_name": "Lammy", "link": "https://stackoverflow.com/users/5034372/lammy"}, "edited": false, "score": 0, "creation_date": 1438810200, "post_id": 31841515, "comment_id": 51607866, "body": "In this case, the &#39;long running transaction&#39; will likely involve a half dozen tables and require conditional processing. To me, it seems like this would have a significant performance gain (less network calls, and guaranteed processing done on a different physical machine), if the db engine is located on a different machine."}, {"owner": {"reputation": 3306, "user_id": 4475952, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4e04099aa2da5439d784f3d7ceb3ebc8?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4475952/greg"}, "edited": false, "score": 0, "creation_date": 1438839093, "post_id": 31841515, "comment_id": 51615800, "body": "Then there&#39;s the maintenance part.  Where is the TSQL in C# stored, is it in compiled code?  updating a stored proc in SQL Server will be much simpler than having to build/compile/release code."}], "tags": [], "owner": {"reputation": 1634, "user_id": 801579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ddca488ca1f1edcb6c4348a7207920?s=128&d=identicon&r=PG", "display_name": "Wyatt Earp", "link": "https://stackoverflow.com/users/801579/wyatt-earp"}, "is_accepted": true, "score": 1, "last_activity_date": 1438803970, "creation_date": 1438803970, "answer_id": 31841515, "question_id": 31841271, "link": "https://stackoverflow.com/questions/31841271/do-sql-server-stored-procedures-perform-better-in-network-clusters/31841515#31841515", "title": "Do SQL Server stored procedures perform better in network clusters?", "body": "<p>Performance gains from a stored procedure (versus something like Dapper or an OR/M like Entity Framework) can vary anywhere from nearly identical to a very noticeable performance improvement.  I don't think your question can be answered without seeing the code that would be translated to a stored procedure.</p>\n\n<p>Having said that, in my experience making a single stored procedure call versus multiple statements from the application code, yes, it would likely be faster.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 5034372, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/401258976727799/picture?type=large", "display_name": "Lammy", "link": "https://stackoverflow.com/users/5034372/lammy"}, "edited": false, "score": 0, "creation_date": 1443731858, "post_id": 31915936, "comment_id": 53622172, "body": "I agree that, if possible, it would be best to calculate on the client. However, in this scenario, which I may not have been completely clear (my bad), I am presuming the client does not have any cached data to work with and thus would need to load it into tables to do the work. While it might make the calculation quicker, in fairness, pre-loading the tables is part of the cost of processing. Kinda like saying if I line my ducks up in a row, its easier to shoot them, but lining them up takes time too."}], "tags": [], "owner": {"reputation": 998, "user_id": 2407475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf657265d898197985dc08721028e2b?s=128&d=identicon&r=PG", "display_name": "cristian v", "link": "https://stackoverflow.com/users/2407475/cristian-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1439198592, "creation_date": 1439198592, "answer_id": 31915936, "question_id": 31841271, "link": "https://stackoverflow.com/questions/31841271/do-sql-server-stored-procedures-perform-better-in-network-clusters/31915936#31915936", "title": "Do SQL Server stored procedures perform better in network clusters?", "body": "<p>The more important benefit of a SP is that all the data are kept in the DBMS instead of being sent back and forward to the client. If you are dealing with large amount of data the benefit is more evident. The difference rises if your DB is located on a different machine and even more if the connection between them is slow.\nOn the contrary you must consider that a SP usually is not compiled to machine code so if the SP implements very complex logic it could be faster to implement the logic on the client. \nThen you should also consider that moving the business logic to the server is not so good for code maintenance, you could add a technology debit implementing in the DB something that should be in your client code.\nSo, there isn't a solution valid for all the seasons but usually a well written SP is faster than the same code running on the client</p>\n"}, {"comments": [{"owner": {"reputation": 5219, "user_id": 1166774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2186f597c73ae03edf7912fa5ec93cc7?s=128&d=identicon&r=PG&f=1", "display_name": "LoztInSpace", "link": "https://stackoverflow.com/users/1166774/loztinspace"}, "edited": false, "score": 0, "creation_date": 1439199198, "post_id": 31916110, "comment_id": 51745041, "body": "Just noticed I&#39;ve piggybacked off a bit of a necro.  Oops.  Hopefully something useful here."}], "tags": [], "owner": {"reputation": 5219, "user_id": 1166774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2186f597c73ae03edf7912fa5ec93cc7?s=128&d=identicon&r=PG&f=1", "display_name": "LoztInSpace", "link": "https://stackoverflow.com/users/1166774/loztinspace"}, "is_accepted": false, "score": 1, "last_activity_date": 1439199101, "creation_date": 1439199101, "answer_id": 31916110, "question_id": 31841271, "link": "https://stackoverflow.com/questions/31841271/do-sql-server-stored-procedures-perform-better-in-network-clusters/31916110#31916110", "title": "Do SQL Server stored procedures perform better in network clusters?", "body": "<p>There are a few issues at play here.  As others have said, it kind of depends.  A raw select statement will be barely noticeable.  If there's a hugely complex query then a SP can save a lot of repetitive parsing.  If there's a lot of intermediate data then SP will keep the data local, reducing network traffic.  If your DB has a higher spec than the client it might run faster due to CPU horsepower.</p>\n\n<p>Downsides can be things like bogging down the DB for everyone with processing that could be done on the client.  This is generally if you're running an underpowered SQL server.  Another subtle side to this is that licensing costs for a multi-core DB server can be impressive.  Your $ per cycle on a SQL Server box can be many times what it is on your client.</p>\n"}], "owner": {"reputation": 37, "user_id": 5034372, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/401258976727799/picture?type=large", "display_name": "Lammy", "link": "https://stackoverflow.com/users/5034372/lammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 31841515, "answer_count": 4, "score": 1, "last_activity_date": 1439199101, "creation_date": 1438803071, "question_id": 31841271, "link": "https://stackoverflow.com/questions/31841271/do-sql-server-stored-procedures-perform-better-in-network-clusters", "title": "Do SQL Server stored procedures perform better in network clusters?", "body": "<p>From what I've read, there appears to be marginal performance benefits using stored procedures vs simply building the commands in C# and calling them explicitly in the program's code, at least when it comes to machines that share the server program and db engine (and when the procedures are simple). Most people seem to think it's a 'preference issue', and add a few other minor benefits to justify their case.</p>\n\n<p>However, one I couldn't find any information on, is the benefit of a stored procedure when the database engine is located on a separate physical machine from the main application.</p>\n\n<p>If I am not mistaken, in a server farm, wouldn't a stored procedure offload the processing on some cpu threads from the main server application, and have the primary processing done on the db engine server's cpu instead? Or, is this already done on the db engine's cpu anyways, when the C# libraries 'build' the information for the db engine to process?</p>\n\n<p>Specifically, I have a long-running transaction that I could do multiple calls in a C# transaction block, but I suspect that a stored proc will in fact have a huge performance benefit by reducing the network calls to the db engine, as well as guaranteeing the processing is not being done on the main server application.</p>\n\n<p>Is this true?</p>\n"}, {"tags": ["c#", "odata", "simple.odata"], "comments": [{"owner": {"reputation": 1010, "user_id": 774416, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/888a915f1ec0f651736dd26ba652055b?s=128&d=identicon&r=PG", "display_name": "Disappointed", "link": "https://stackoverflow.com/users/774416/disappointed"}, "edited": false, "score": 0, "creation_date": 1438804268, "post_id": 31841254, "comment_id": 51604690, "body": "what error did you get ?"}, {"owner": {"reputation": 31, "user_id": 2824991, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a90a52f00c92ed6bd80295d2e82adfd?s=128&d=identicon&r=PG&f=1", "display_name": "user2824991", "link": "https://stackoverflow.com/users/2824991/user2824991"}, "reply_to_user": {"reputation": 1010, "user_id": 774416, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/888a915f1ec0f651736dd26ba652055b?s=128&d=identicon&r=PG", "display_name": "Disappointed", "link": "https://stackoverflow.com/users/774416/disappointed"}, "edited": false, "score": 0, "creation_date": 1438805001, "post_id": 31841254, "comment_id": 51605088, "body": ".FindScalarAsync() is red. Type argument cant be inherited for usage. Try specifying the type explicitly. I did look at the API, and the method defined is &quot;Task&lt;U&gt; FindScalarAsync&lt;U&gt;();&quot; I tried using various data forms for &lt;U&gt;, but i always get bad request"}, {"owner": {"reputation": 3807, "user_id": 265097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3fc80925c6c2a9ef86db0c116e73bf?s=128&d=identicon&r=PG", "display_name": "Marvin Smit", "link": "https://stackoverflow.com/users/265097/marvin-smit"}, "edited": false, "score": 0, "creation_date": 1438861865, "post_id": 31841254, "comment_id": 51629347, "body": "Could it be related to the code in documentation using URL escaped string, your code does not?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 2824991, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a90a52f00c92ed6bd80295d2e82adfd?s=128&d=identicon&r=PG&f=1", "display_name": "user2824991", "link": "https://stackoverflow.com/users/2824991/user2824991"}, "is_accepted": false, "score": 0, "last_activity_date": 1438864002, "creation_date": 1438864002, "answer_id": 31855767, "question_id": 31841254, "link": "https://stackoverflow.com/questions/31841254/aggregate-queries-odata-simple-odata/31855767#31855767", "title": "Aggregate Queries oData (Simple.oData)", "body": "<p>Never mind, Aggregate queries are not supported yet</p>\n\n<p>Source:\n<a href=\"https://github.com/object/Simple.OData.Client/issues/76\" rel=\"nofollow\">https://github.com/object/Simple.OData.Client/issues/76</a></p>\n"}, {"tags": [], "owner": {"reputation": 1232, "user_id": 3187237, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/779ed0d1a789d57e0580270818efcfd3?s=128&d=identicon&r=PG", "display_name": "nlips", "link": "https://stackoverflow.com/users/3187237/nlips"}, "is_accepted": false, "score": 0, "last_activity_date": 1439839935, "creation_date": 1439839935, "answer_id": 32058258, "question_id": 31841254, "link": "https://stackoverflow.com/questions/31841254/aggregate-queries-odata-simple-odata/32058258#32058258", "title": "Aggregate Queries oData (Simple.oData)", "body": "<p>I developed the <a href=\"http://www.adaptivelinq.com\" rel=\"nofollow\">AdaptiveLINQ component</a> which introduces the concept of <em>cube</em> in a LINQ query (on any LINQ provider supporting GroupBy).</p>\n\n<p>This allows to perform a <strong>server-side aggregation</strong> simply by specifying a <code>$select</code> query.</p>\n\n<p>Example:</p>\n\n<pre><code>SalesView?$select=CustomerName,Sales\n</code></pre>\n\n<p>assuming <code>SalesView</code> is defined by a cube with the <em>dimension</em> <code>CustomerName</code> and the <em>measure</em> <code>Sales</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 2824991, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a90a52f00c92ed6bd80295d2e82adfd?s=128&d=identicon&r=PG&f=1", "display_name": "user2824991", "link": "https://stackoverflow.com/users/2824991/user2824991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2038, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1439839935, "creation_date": 1438803028, "last_edit_date": 1438863618, "question_id": 31841254, "link": "https://stackoverflow.com/questions/31841254/aggregate-queries-odata-simple-odata", "title": "Aggregate Queries oData (Simple.oData)", "body": "<p>I am trying to issue aggregate queries to my oData server, but i get errors, dispute having the exact same code as in documentation </p>\n\n<pre><code>var product = await client\n            .For(\"People\")\n            .Filter(\"FirstName ne 'Joni'\")\n            .Count()\n            .FindScalarAsync();\n</code></pre>\n\n<p>Code in documentation</p>\n\n<pre><code>var x = ODataFilter.Expression;\n        var count = await _client\n            .For(\"Products\")\n            .Filter(\"ProductName+eq+%27Chai%27\")\n            .Count()\n            .FindScalarAsync();\n        Assert.Equal(1, count);\n</code></pre>\n\n<p>From:\n<a href=\"https://github.com/object/Simple.OData.Client/wiki/Retrieving-data-matching-search-criteria\" rel=\"nofollow\">https://github.com/object/Simple.OData.Client/wiki/Retrieving-data-matching-search-criteria</a></p>\n\n<p>In this same case, why are they declaring \"x\"? It is never used.</p>\n\n<p>Also, how would i go about accessing functions like Min/Max that are defined here:</p>\n\n<p><a href=\"http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.pdf\" rel=\"nofollow\">http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.pdf</a></p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 2, "creation_date": 1438803133, "post_id": 31841243, "comment_id": 51604029, "body": "You can just subtract two instance of <code>DateTime</code> to get a <code>TimeSpan</code> and then get milliseconds from there."}, {"owner": {"reputation": 19, "user_id": 5195482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546fb8b703d38b8812aaedf577ca4eab?s=128&d=identicon&r=PG&f=1", "display_name": "Asterisk", "link": "https://stackoverflow.com/users/5195482/asterisk"}, "reply_to_user": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1438803306, "post_id": 31841243, "comment_id": 51604130, "body": "Sorry, not sure if you noticed my edits - i&#39;ve already tried. the values are different."}, {"owner": {"reputation": 19, "user_id": 5195482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546fb8b703d38b8812aaedf577ca4eab?s=128&d=identicon&r=PG&f=1", "display_name": "Asterisk", "link": "https://stackoverflow.com/users/5195482/asterisk"}, "reply_to_user": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1438803370, "post_id": 31841243, "comment_id": 51604167, "body": "I&#39;m only trying not to reinvent the wheel. If there&#39;s a method built in .NET already I want to use it, that&#39;s the purpose of this question."}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1438803459, "post_id": 31841243, "comment_id": 51604205, "body": "I&#39;m not sure what you mean by <code>1900 epoch</code>. Usually it&#39;s either number of seconds (or milliseconds) since some reference date (1/1/1900), but I&#39;m not sure what you are doing. Why are you multiplying minutes by 100? for example?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 3, "creation_date": 1438803462, "post_id": 31841243, "comment_id": 51604207, "body": "@Asterisk Then why don&#39;t you explain what you want to do instead of <code>Is there a simpler way to calculate this?</code>"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1438803699, "post_id": 31841243, "comment_id": 51604339, "body": "And why are you adding <code>Day</code> (which is of the month) and <code>DayOfYear</code>?"}, {"owner": {"reputation": 783, "user_id": 2152078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e339c1632e33d8fa567c8daa62e40637?s=128&d=identicon&r=PG", "display_name": "Rick Davin", "link": "https://stackoverflow.com/users/2152078/rick-davin"}, "edited": false, "score": 0, "creation_date": 1438803846, "post_id": 31841243, "comment_id": 51604427, "body": "I&#39;m not sure what you mean either.  Ignoring the confusing code and looking just at the question of how to &quot;represent 1900 epoch&quot;, you could use a simple constructor <code>var epochUtc = new DateTime(1900, 1, 1, 0, 0, 0, DateTimeKind.Utc);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 2152078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e339c1632e33d8fa567c8daa62e40637?s=128&d=identicon&r=PG", "display_name": "Rick Davin", "link": "https://stackoverflow.com/users/2152078/rick-davin"}, "edited": false, "score": 0, "creation_date": 1438804203, "post_id": 31841533, "comment_id": 51604644, "body": "See my earlier comment to OP where I also use a simple constructor but also specify a <code>DateTimeKind</code>."}, {"owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "reply_to_user": {"reputation": 783, "user_id": 2152078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e339c1632e33d8fa567c8daa62e40637?s=128&d=identicon&r=PG", "display_name": "Rick Davin", "link": "https://stackoverflow.com/users/2152078/rick-davin"}, "edited": false, "score": 0, "creation_date": 1438804513, "post_id": 31841533, "comment_id": 51604829, "body": "@RickDavin Good point, I&#39;ve updated the answer."}], "tags": [], "owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "is_accepted": false, "score": 2, "last_activity_date": 1438804501, "last_edit_date": 1438804501, "creation_date": 1438804024, "answer_id": 31841533, "question_id": 31841243, "link": "https://stackoverflow.com/questions/31841243/simpler-way-to-represent-1900-epoch-in-c/31841533#31841533", "title": "Simpler way to represent 1900 epoch in C#", "body": "<p><code>DateTime.MinValue</code> is not 1900.  The documentation for <a href=\"https://msdn.microsoft.com/en-us/library/system.datetime.minvalue(v=vs.110).aspx\" rel=\"nofollow\"><code>DateTime.MinValue</code></a> says:</p>\n\n<blockquote>\n  <p>The value of this constant is equivalent to 00:00:00.0000000 UTC, January 1, 0001, in the Gregorian calendar.</p>\n</blockquote>\n\n<p>Which is about 1899 years before the date you want.  You want to do this:</p>\n\n<pre><code>double milliseconds = ( time - new DateTime( 1900, 1, 1 ) ).TotalMilliseconds\n</code></pre>\n\n<p>EDIT: As Rick suggests in the comments, the following might be better suited to your needs:</p>\n\n<pre><code>var epoch = new DateTime( 1900, 1, 1, 0, 0, 0, DateTimeKind.Utc );\ndouble milliseconds = ( time - epoch ).TotalMilliseconds;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5195482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546fb8b703d38b8812aaedf577ca4eab?s=128&d=identicon&r=PG&f=1", "display_name": "Asterisk", "link": "https://stackoverflow.com/users/5195482/asterisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "closed_date": 1438811326, "answer_count": 1, "score": -5, "last_activity_date": 1438804501, "creation_date": 1438802999, "question_id": 31841243, "link": "https://stackoverflow.com/questions/31841243/simpler-way-to-represent-1900-epoch-in-c", "closed_reason": "Needs details or clarity", "title": "Simpler way to represent 1900 epoch in C#", "body": "<p>Is there a simpler way to calculate this? Perhaps via a method built-in to .NET?</p>\n\n<pre><code>        var time = DateTime.Now.AddSeconds(8);\n        var year = 10000000000000 * (ulong)(time.Year - 1900);\n        var month = 100000000000 * (ulong)(time.Month - 1);\n        var dayofyear = 100000000 * (ulong)(time.DayOfYear - 1);\n        var day = (ulong)(time.Day * 1000000);\n        var Hour = (ulong)(time.Hour * 10000);\n        var Minute = (ulong)(time.Minute * 100);\n        var Second = (ulong)(time.Second);\n        var utcTime = year + month + dayofyear + day + Hour + Minute + Second;\n</code></pre>\n\n<p>Could it be DateTime.Now.AddSeconds(8).AllMilliseconds?</p>\n\n<p>I've tried these methods</p>\n\n<pre><code>            var test = (time - DateTime.MinValue).Milliseconds;\n\n        var tes2t = (time - DateTime.MinValue).TotalMilliseconds;\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "reflection"], "comments": [{"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438803574, "post_id": 31841193, "comment_id": 51604260, "body": "Try to set the BindingFlags appropiate. Like: <code>static void Main() {     var method = typeof(A).GetMethod(&quot;Method&quot;, BindingFlags.Public | BindingFlags.Instance);   Console.WriteLine(method.IsVirtual);      var property = typeof(A).GetProperty(&quot;Property&quot;, BindingFlags.Public | BindingFlags.Instance);   Console.WriteLine(property.GetGetMethod().IsVirtual); }  public class A  {  \tpublic virtual void Method() { }  \tpublic virtual string Property { get; set; } }}</code>"}, {"owner": {"reputation": 11824, "user_id": 3107430, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/55fDR.jpg?s=128&g=1", "display_name": "Domysee", "link": "https://stackoverflow.com/users/3107430/domysee"}, "reply_to_user": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438804309, "post_id": 31841193, "comment_id": 51604716, "body": "@Frederick no change, GetGetMethod().IsVirtual and GetSetMethod().IsVirtual are both true"}, {"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438804634, "post_id": 31841193, "comment_id": 51604884, "body": "Yes they are. But with the BindingFlags set, you have a valid PropertyInfo object. Isn&#39;t this what you&#39;re looking for?"}, {"owner": {"reputation": 11824, "user_id": 3107430, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/55fDR.jpg?s=128&g=1", "display_name": "Domysee", "link": "https://stackoverflow.com/users/3107430/domysee"}, "reply_to_user": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438805193, "post_id": 31841193, "comment_id": 51605197, "body": "@Frederick I had a valid PropertyInfo object before, it is just that I cannot find the attributes through it"}, {"owner": {"reputation": 269390, "user_id": 98713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f4acdb91aba11ddf8f03d4b12453f3d5?s=128&d=identicon&r=PG", "display_name": "Thomas Levesque", "link": "https://stackoverflow.com/users/98713/thomas-levesque"}, "edited": false, "score": 0, "creation_date": 1438806173, "post_id": 31841193, "comment_id": 51605690, "body": "Are you overriding the property in a derived class?"}, {"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438806753, "post_id": 31841193, "comment_id": 51606013, "body": "Another try could be, using:  <code>Attribute.GetCustomAttributes(propertyInfo, typeof(ValidationAttribute), true).OfType&lt;ValidationAttribute&gt;();</code> <a href=\"https://stackoverflow.com/questions/2520035/inheritance-of-custom-attributes-on-abstract-properties\">like</a> I&#39;m sorry this is only guessing and doing searches on my own, cause my first approch works here."}, {"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1438806842, "post_id": 31841193, "comment_id": 51606061, "body": "@HansPassant: <a href=\"https://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.requiredattribute%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">RequiredAttribute</a> is one"}, {"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438808214, "post_id": 31841193, "comment_id": 51606876, "body": "Or you can use <a href=\"https://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.validator%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Validator</a> and <a href=\"https://msdn.microsoft.com/de-de/library/system.runtime.compilerservices.callermembernameattribute%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">CallerMemberNameAttribute</a> without Reflection. <code>private void ValidateProperty&lt;T&gt;(T value, [CallerMemberName] string propertyName = &quot;&quot;) \t{ var ctx= new ValidationContext(this, null, null);        ctx.MemberName = propertyName;        var results = new List&lt;ValidationResult&gt;();        Validator.TryValidateProperty(value, ctx, results); ...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 4463444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89289b508ee39e2d5b688e91fd4b7b5a?s=128&d=identicon&r=PG", "display_name": "Ismael", "link": "https://stackoverflow.com/users/4463444/ismael"}, "is_accepted": true, "score": 3, "last_activity_date": 1438811613, "last_edit_date": 1495540284, "creation_date": 1438811613, "answer_id": 31843491, "question_id": 31841193, "link": "https://stackoverflow.com/questions/31841193/attribute-on-virtual-property-not-showing-via-reflection/31843491#31843491", "title": "attribute on virtual property not showing via reflection", "body": "<p>I do not know exactly what are you trying to do, but from what I know from EntityFramework, the problem is not exactly what you are thinking. You CAN apply attributes to virtual properties, and it is possible to recover them via reflection without any problem, just the way you are doing.</p>\n\n<p>But on EF entities, when you mark a property as virtual, <strong>you are defining to the EF that the property is a navigation property</strong> (a property used to access foreign key data in a relationship, and retrieve it as child Entities).</p>\n\n<p>Then, when you get a new instance of this entity from the database context at runtime, and access that property, EF will create a new class (dynamic proxy) derived from your class and uses it instead of your original class. Entity Framework does it to maintain the concept of \"Lazy Loading\" your relationships - avoiding loading an entire new dependent entity tree without being needed.</p>\n\n<p>Because EF makes a new class derived from your Entity, AND the property is being overriden by that, your attribute is not being inherited by it.</p>\n\n<p>You can see more about virtual marks and Navigation properties on <a href=\"https://stackoverflow.com/questions/25715474/why-navigation-properties-are-virtual-by-default-in-ef\">this post</a>.</p>\n"}], "owner": {"reputation": 11824, "user_id": 3107430, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/55fDR.jpg?s=128&g=1", "display_name": "Domysee", "link": "https://stackoverflow.com/users/3107430/domysee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "accepted_answer_id": 31843491, "answer_count": 1, "score": 0, "last_activity_date": 1438811613, "creation_date": 1438802861, "question_id": 31841193, "link": "https://stackoverflow.com/questions/31841193/attribute-on-virtual-property-not-showing-via-reflection", "title": "attribute on virtual property not showing via reflection", "body": "<p>I have an EntityFramework model with attributes, which I use to validate the fields. </p>\n\n<pre><code>private person tipProvider;\n[Required]\n[ForeignKey(\"TipProviderId\")]\npublic virtual person TipProvider\n{\n    get { return tipProvider; }\n    set\n    {\n        tipProvider = value;\n        ValidateProperty(MethodBase.GetCurrentMethod().Name.Replace(\"set_\", \"\"));\n        raisePropertyChanged(MethodBase.GetCurrentMethod().Name.Replace(\"set_\", \"\"));\n    }\n}\n</code></pre>\n\n<p>I get the <code>PropertyInfo</code> and then its validation attributes, which I use to validate the property:</p>\n\n<pre><code>public virtual void ValidateProperty(string property)\n{\n    errors[property].Clear();\n    var propertyInfo = this.GetType().GetProperty(property);\n    var propertyValue = propertyInfo.GetValue(this);\n    var validationAttributes = propertyInfo.GetCustomAttributes(true).OfType&lt;ValidationAttribute&gt;();\n    foreach (var validationAttribute in validationAttributes)\n    {\n        if (!validationAttribute.IsValid(propertyValue))\n        {\n            errors[property].Add(validationAttribute.FormatErrorMessage(string.Empty));\n        }\n    }\n    raiseErrorsChanged(property);\n}\n</code></pre>\n\n<p>When the property is virtual, I cannot find the attributes via reflection. If the virtual keyword is removed, the attributes are found. </p>\n\n<p>I'm really confused by this behavior. Why can't attributes be applied on virtual properties?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 47743, "user_id": 63011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab4f268e60bff57b813262cfbe9db6c?s=128&d=identicon&r=PG", "display_name": "Paolo Moretti", "link": "https://stackoverflow.com/users/63011/paolo-moretti"}, "edited": false, "score": 0, "creation_date": 1438802879, "post_id": 31841097, "comment_id": 51603898, "body": "Try with <code>flame.Any(word =&gt; word == item)</code>"}, {"owner": {"reputation": 65, "user_id": 2014583, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/PJd3D.png?s=128&g=1", "display_name": "RobbyBubble", "link": "https://stackoverflow.com/users/2014583/robbybubble"}, "edited": false, "score": 0, "creation_date": 1438802928, "post_id": 31841097, "comment_id": 51603930, "body": "I want to receive Console.WriteLine(&quot;1&quot;); only once. I don&#39;t think anyone would understand what I&#39;m trying to do when I use the question &quot;How to make Console.WriteLine(&quot;1&quot;); only run once?&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 508, "user_id": 2682923, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/625de4ab0e315204e103255d0c2c00fc?s=128&d=identicon&r=PG&f=1", "display_name": "Drudge", "link": "https://stackoverflow.com/users/2682923/drudge"}, "is_accepted": false, "score": 1, "last_activity_date": 1438802775, "creation_date": 1438802775, "answer_id": 31841160, "question_id": 31841097, "link": "https://stackoverflow.com/questions/31841097/how-to-use-first-firstordefault/31841160#31841160", "title": "How to use First() / FirstOrDefault()?", "body": "<p>Just add a <code>break;</code> to your if-case:</p>\n\n<pre><code>    foreach (string item in text.Split(' '))\n    {\n        bool testerino = flame.Any(item.Contains);\n        if (testerino)\n        {\n            Console.WriteLine(\"1\");\n            break;\n        }\n    }\n</code></pre>\n\n<p>A <code>break</code> causes to exit the <code>foreach</code>-loop immediately.</p>\n"}, {"tags": [], "owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "is_accepted": false, "score": 2, "last_activity_date": 1438802787, "creation_date": 1438802787, "answer_id": 31841163, "question_id": 31841097, "link": "https://stackoverflow.com/questions/31841097/how-to-use-first-firstordefault/31841163#31841163", "title": "How to use First() / FirstOrDefault()?", "body": "<p>You want something like this:</p>\n\n<pre><code>var anyFlameWords = \n  text\n  .Split(' ')\n  .Any(word =&gt; flame.Contains(word));\nif (anyFlameWords)\n    Console.WriteLine(\"1\");\n</code></pre>\n\n<p>You don't need First/FirstOrDefault, unless you want the first element from the collection, which looking at your existing code is not what you require.</p>\n"}, {"tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": false, "score": 1, "last_activity_date": 1438802802, "creation_date": 1438802802, "answer_id": 31841166, "question_id": 31841097, "link": "https://stackoverflow.com/questions/31841097/how-to-use-first-firstordefault/31841166#31841166", "title": "How to use First() / FirstOrDefault()?", "body": "<p>This linq may help</p>\n\n<pre><code>bool badWordExists = text.Split(' ').Any(s =&gt; flame.Contains(s));\n\nif(badWordExists) Console.WriteLine(\"1\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "is_accepted": true, "score": 1, "last_activity_date": 1438803617, "last_edit_date": 1438803617, "creation_date": 1438802806, "answer_id": 31841169, "question_id": 31841097, "link": "https://stackoverflow.com/questions/31841097/how-to-use-first-firstordefault/31841169#31841169", "title": "How to use First() / FirstOrDefault()?", "body": "<p>You can break after you act on the first match.</p>\n\n<pre><code>    foreach (string item in text.Split(' '))\n    {\n        bool testerino = flame.Any(item.Contains);\n        if (testerino)\n        {\n            Console.WriteLine(\"1\");\n            break;\n        }\n    }\n</code></pre>\n\n<p>But a more concise alternative is just</p>\n\n<pre><code>if (test.Split(' ').Any(f=&gt;flame.Contains(f))) Console.WriteLine(\"1\");\n</code></pre>\n\n<p>If you are interested to see how <code>IEnumerable&lt;T&gt;.FirstOrDefault</code> could be used here, note that you can pass in a predicate to <code>FirstOrDefault</code> to get the first item in the <code>IEnumerable&lt;T&gt;</code> that matches that predicate (or the default value for <code>T</code> if nothing matches):</p>\n\n<pre><code>var firstMatch = test.Split(' ').FirstOrDefault(w=&gt;flame.Contains(w));\nif (firstMatch != null) Console.WriteLine(\"1\");\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2014583, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/PJd3D.png?s=128&g=1", "display_name": "RobbyBubble", "link": "https://stackoverflow.com/users/2014583/robbybubble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 31841169, "answer_count": 4, "score": -3, "last_activity_date": 1438803617, "creation_date": 1438802541, "question_id": 31841097, "link": "https://stackoverflow.com/questions/31841097/how-to-use-first-firstordefault", "title": "How to use First() / FirstOrDefault()?", "body": "<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var flame = new string[]\n        {\n        \"bad\", \"word\"\n        }\n\n        ;\n        var text = \"this contains some bad words\";\n        foreach (string item in text.Split(' '))\n        {\n            bool testerino = flame.Any(item.Contains);\n            if (testerino)\n            {\n                Console.WriteLine(\"1\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/Widget/as5iTs\" rel=\"nofollow\">https://dotnetfiddle.net/Widget/as5iTs</a></p>\n\n<p>I want <code>Console.WriteLine(\"1\");</code> to run only once. I tried to use First() and FirstOrDefault() but I was not able to use it without syntax errors. Why I'm using a Split? I don't know. It was the only way to get <code>.Contains()</code> running. I did receive errors using <code>char item in text</code> with <code>Contains()</code>.</p>\n\n<p>I don't need to use <code>foreach</code> or even <code>First()</code> it is just only way I know so far.</p>\n\n<p>Any help is very much appreciated.</p>\n"}, {"tags": ["c#", "stream"], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 376960, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7679af25cdc9e556fd947cd6a5de900?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/376960/igor"}, "edited": false, "score": 0, "creation_date": 1438802716, "post_id": 31841119, "comment_id": 51603799, "body": "I thought about that, but while I might not be using them, they might be used somehow somewhere - which is why I would avoid setting CanRead / CanWrite etc. to &quot;throw new NotImplementedException();&quot;."}], "tags": [], "owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438802621, "creation_date": 1438802621, "answer_id": 31841119, "question_id": 31841049, "link": "https://stackoverflow.com/questions/31841049/extend-a-stream-to-allow-seamless-multistreams-from-http-in-c/31841119#31841119", "title": "Extend a stream to allow seamless multistreams from http in C#", "body": "<p>Just do this in the methods you don't need to actually implement...</p>\n\n<pre><code>throw new NotImplementedException();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 376960, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7679af25cdc9e556fd947cd6a5de900?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/376960/igor"}, "is_accepted": true, "score": 0, "last_activity_date": 1439132124, "creation_date": 1439132124, "answer_id": 31905510, "question_id": 31841049, "link": "https://stackoverflow.com/questions/31841049/extend-a-stream-to-allow-seamless-multistreams-from-http-in-c/31905510#31905510", "title": "Extend a stream to allow seamless multistreams from http in C#", "body": "<p>My approach is probably not the best one nor did I test the <strong>Position</strong>-attribute, but it does the job.</p>\n\n<p>I derived a class from <a href=\"https://msdn.microsoft.com/de-de/library/system.io.stream%28v=vs.110%29.aspx\" rel=\"nofollow\">Stream</a> and and implemented a wrapper around it, that deals with setting the <strong>currentStream</strong>-object.</p>\n\n<p>The files on the server are usually saved in either .zip or .z01, .z02, .z03 etc. The MultiPartStream(string) constructor lets the MultiPartStream \"guess\" the correct URL. GetPart() usually suppresses the errors while checking the response. The MultiPartStream(string, string) constructor simply allows to download a file while also returning Transferspeed.</p>\n\n<p>I will probably be changing this class as I go, but this already does what I need and since I do not like having an open question, I decided to provide a response, which worked for me. I might update it later if I end up changing it a lot.</p>\n\n<p>Thinking about this though, I probably could have sub-classed <a href=\"https://msdn.microsoft.com/de-de/library/system.net.sockets.networkstream%28v=vs.110%29.aspx\" rel=\"nofollow\">NetworkStream</a> instead. Perhaps I will change this, but so far this MultiPartStream works well and it actually uses all the bandwidth, that I have. Plus it has TotalStreamSize and Transferspeed.</p>\n\n<p><em>MultiPartStream.cs</em>:</p>\n\n<pre><code>using MyProject.Logic;\nusing System;\nusing System.Collections.Generic;\nusing System.Collections.Specialized;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Net;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace MyProject.Model\n{\n    public class MultiPartStream : Stream\n    {\n        private HttpWebResponse response;\n        private Stream currentStream;\n        private List&lt;KeyValuePair&lt;string, long&gt;&gt; parts = new List&lt;KeyValuePair&lt;string,long&gt;&gt;();\n\n        private Stopwatch timer = new Stopwatch();\n        private long totalStreamSize;\n        private long bytesRead;\n        private string file;\n        private int currentPart = 0;\n\n        public MultiPartStream(string file)\n        {\n            this.file = file;\n            GetParts();\n            NextStream();\n        }\n\n        public MultiPartStream(string file, string url)\n        {\n            this.file = file;\n            GetPart(url, false);\n            NextStream();\n        }\n\n        public override int Read(byte[] buffer, int offset, int count)\n        {\n            if (!timer.IsRunning)\n                timer.Start();\n\n            int bytesRead = currentStream.Read(buffer, offset, count);\n            if (bytesRead &lt;= 0 &amp;&amp; currentPart &lt; parts.Count - 1)\n            {\n                // if we cannot read from the Stream anymore, we open the next Stream if one is available\n                currentPart++;\n                NextStream();\n                bytesRead = Read(buffer, offset, count);\n            }\n            this.bytesRead += bytesRead;\n\n            return (int)bytesRead;\n        }\n\n        protected override void Dispose(bool disposing)\n        {\n            timer.Stop();\n            base.Dispose(disposing);\n        }\n\n        private void GetParts()\n        {\n            if (!this.GetPart(DownloadHelper.Instance.GetSingleFileUrl(file)))\n            {\n                int filePart = 1;\n                while (this.GetPart(DownloadHelper.Instance.GetMultiFileUrl(file, filePart)))\n                {\n                    filePart++;\n                }\n            }\n        }\n\n        private bool GetPart(string url, bool suppressApplicationException = true)\n        {\n            bool thisPartAdded = false;\n\n            HttpWebRequest request = HttpWebRequest.CreateHttp(url);\n\n            try\n            {\n                HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n                if (request.HaveResponse &amp;&amp; response.StatusCode == HttpStatusCode.OK)\n                {\n                    parts.Add(new KeyValuePair&lt;string, long&gt;(url, response.ContentLength));\n                    totalStreamSize += response.ContentLength;\n                    thisPartAdded = true;\n                }\n                response.Close();\n            }\n            catch (WebException e)\n            {\n                if (!suppressApplicationException)\n                    throw new ApplicationException(String.Format(\"Error: cannot access file '{0}' ({1}: {2})\", url, e.Status, e.Message));\n            }\n\n            return thisPartAdded;\n        }\n\n        private void NextStream()\n        {\n            if (response != null)\n            {\n                response.Close();\n                response = null;\n            }\n\n            HttpWebRequest request = HttpWebRequest.CreateHttp(parts[currentPart].Key);\n\n            try\n            {\n                response = (HttpWebResponse)request.GetResponse();\n                if (request.HaveResponse &amp;&amp; response.StatusCode == HttpStatusCode.OK)\n                {\n                    currentStream = response.GetResponseStream();\n                }\n            }\n            catch (WebException e)\n            {\n                throw new ApplicationException(String.Format(\"Error: could not open file '{0}' for streaming ({1}: {2})\", parts[currentPart].Key, e.Status, e.Message));\n            }\n        }\n\n        public long TotalStreamSize\n        {\n            get { return totalStreamSize; }\n        }\n\n        public string TransferSpeed\n        {\n            get\n            {\n                float transferSpeed = (float)(bytesRead / 1024f) / (timer.ElapsedMilliseconds / 1000f);\n                if (transferSpeed &gt; 1024f)\n                {\n                    return \"@ \" + Math.Round(transferSpeed / 1024f, 2) + \" mb / s\";\n                }\n                else\n                {\n                    return \"@ \" + Math.Round(transferSpeed, 2) + \" kb / s\";\n                }\n            }\n        }\n\n        #region Remaining Stream-methods\n        public override long Position\n        {\n            get\n            {\n                long valueToCompare = 0;\n                for (int index = 0; index &lt; currentPart; index++)\n                {\n                    valueToCompare += parts[index].Value;\n                }\n                return valueToCompare + currentStream.Position;\n            }\n            set\n            {\n                long valueToCompare = 0;\n                for (int index = 0; index &lt; parts.Count; index++)\n                {\n                    valueToCompare += parts[index].Value;\n                    if (value &lt;= valueToCompare)\n                    {\n                        currentPart = index;\n                        NextStream();\n                        currentStream.Position = value - (valueToCompare - parts[index].Value);\n                    }\n                }\n            }\n        }\n\n        public override bool CanRead\n        {\n            get { return true; }\n        }\n\n        public override bool CanSeek\n        {\n            get { return false; }\n        }\n\n        public override bool CanWrite\n        {\n            get { return false; }\n        }\n\n        public override void Flush()\n        {\n            if (currentPart &gt; 0)\n            {\n                currentPart = 0;\n                NextStream();\n            }\n            else if (currentPart == 0)\n            {\n                currentStream.Flush();\n            }\n        }\n\n        public override long Length\n        {\n            get { return totalStreamSize; }\n        }\n\n        public override long Seek(long offset, SeekOrigin origin)\n        {\n            throw new NotSupportedException();\n        }\n\n        public override void SetLength(long value)\n        {\n            throw new NotSupportedException();\n        }\n\n        public override void Write(byte[] buffer, int offset, int count)\n        {\n            throw new NotSupportedException();\n        }\n        #endregion\n    }\n}\n</code></pre>\n\n<p>Other relevant methods:</p>\n\n<pre><code>public string GetSingleFileUrl(string file)\n{\n    return String.Format(\"{0}/Zip/{1}.zip\", this.GetBaseUrl(), file.Replace(@\"\\\", \"/\"));\n}\n\npublic string GetMultiFileUrl(string file, int part)\n{\n    return String.Format(\"{0}/Zip/{1}.z{2:D2}\", this.GetBaseUrl(), file.Replace(@\"\\\", \"/\"), part);\n}\n</code></pre>\n\n<p>This class is not perfect as it is strictly written for a certain file source, but it does its job. If I end up improving it to an extent where I am really happy with it, I will make sure to update my reply.</p>\n"}], "owner": {"reputation": 1302, "user_id": 376960, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7679af25cdc9e556fd947cd6a5de900?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/376960/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 31905510, "answer_count": 2, "score": 0, "last_activity_date": 1545976159, "creation_date": 1438802369, "last_edit_date": 1545976159, "question_id": 31841049, "link": "https://stackoverflow.com/questions/31841049/extend-a-stream-to-allow-seamless-multistreams-from-http-in-c", "title": "Extend a stream to allow seamless multistreams from http in C#", "body": "<p>Currently I am using HttpWebRequest and HttpWebResponse to check the StatusCode and download a file.</p>\n\n<p>The file I am downloading, is <strong>either a .zip-file</strong> (which I try first) or <strong>a part of a .zip file</strong> (.z01, .z02, etc.). Since the part-files are always 20 megabyte in size (in my case), I can check whether I downloaded exactly 20 megabytes and if so, attempt to continue with the next part. If not, I will assume, that I was downloading the last part.</p>\n\n<p>In order to achieve that in Java, I would extend the InputStream and override its read-method and return the next stream inside of it, reading from the current stream or closing it and using HttpURLConnection to retrieve the next stream - or assuming it was the last stream if there is no next stream.</p>\n\n<p>I <em>tried extending <strong>Stream</strong> in c#</em>, but since the Stream-class is abstract, I have to implement quite a few methods, that I do not really need / want to implement. <strong><em>BufferedStream</em></strong> is sealed. So my only other option is to extend <strong><em>MemoryStream</em></strong> if I do not want to implement all the methods of a Stream-class.</p>\n\n<p><strong>What would be a good approach to do this in c#?</strong></p>\n\n<p>The reason I need a stream, is, that I am processing the stream (unzipping/decoding) it - which works flawlessly for the single .zip-files already. Since I can also specify the offset, I would be able to download from a offset.<br>For multi-part streams I would translate the given offset into the correct part file name by dividing it by 20 megabytes.</p>\n\n<p><strong>Edit:</strong> I rejected adding the zip and decode as tags, because it does not really matter which file-type I am downloading (by the way: it is not a true zip, but a LZMA-encoded file, which I decode).</p>\n"}, {"tags": ["c#", "xml", "reflection", "xsd"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1438850853, "post_id": 31840977, "comment_id": 51622171, "body": "<code>XmlSerializer</code> itself doesn&#39;t support collection properties.  See <a href=\"http://stackoverflow.com/questions/31552724/how-why-does-xmlserializer-treat-a-class-differently-when-it-implements-ilistt\">How/why does XmlSerializer treat a class differently when it implements IList&lt;T&gt;</a> or <a href=\"http://stackoverflow.com/questions/16810133/ist-there-a-way-to-serialize-public-properties-of-a-class-that-implements-icolle\">Ist there a way to serialize public properties of a class that implements ICollection</a>"}, {"owner": {"reputation": 1354, "user_id": 1887802, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/715b79524dd12f9ef11382d5e4f11389?s=128&d=identicon&r=PG", "display_name": "Stevo", "link": "https://stackoverflow.com/users/1887802/stevo"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1438853923, "post_id": 31840977, "comment_id": 51624253, "body": "Thanks, that second link was useful. I&#39;ll follow the advice &quot;don&#39;t do that&quot;!"}], "owner": {"reputation": 1354, "user_id": 1887802, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/715b79524dd12f9ef11382d5e4f11389?s=128&d=identicon&r=PG", "display_name": "Stevo", "link": "https://stackoverflow.com/users/1887802/stevo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438850504, "creation_date": 1438802107, "last_edit_date": 1438850504, "question_id": 31840977, "link": "https://stackoverflow.com/questions/31840977/net-xsd-generation-from-ilist-subclasses", "title": ".Net XSD Generation from IList subclasses", "body": "<p>I'm programatically generating an XSD file from some C# classes using XmlReflectionImporter. My goal is to generate a schema representing XML similar to the following:</p>\n\n<pre><code>&lt;MyCriteriaList MinimumMatches=\"2\"&gt;\n  &lt;Criterion&gt;First Criterion&lt;/Criterion&gt;\n  &lt;Criterion&gt;Second ...&lt;/Criterion&gt;\n  ...\n&lt;/MyCriteriaList&gt;\n</code></pre>\n\n<p>So, an example XSD representing this would be:</p>\n\n<pre><code>&lt;xs:element name=\"MyCriteriaList\" type=\"ArrayOfCriterion\" /&gt;\n...\n&lt;xs:complexType name=\"ArrayOfCriterium\"&gt;\n  &lt;xs:sequence&gt;\n    &lt;xs:element name=\"Criterion\" type=\"xs:string\" /&gt;\n  &lt;/xs:sequence&gt;\n  &lt;xs:attribute name=\"MinimumMatches\" type=\"xs:integer\" /&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n\n<p>The class that would represent the array of criterion:</p>\n\n<pre><code>public class Criteria : IList&lt;Criterion&gt;\n{\n    [XmlAttribute]\n    public int MinimumMatches { get; set; }\n\n    // IList implementation...\n}\n</code></pre>\n\n<p>However, this generates the following XSD:</p>\n\n<pre><code>&lt;xs:complexType name=\"ArrayOfCriterion\"&gt;\n  &lt;xs:sequence&gt;\n    &lt;xs:element name=\"Criterion\" type=\"xs:string\" /&gt;\n  &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n\n<p>The property MinimumMatches is ignored completely and not added as an attribute to ArrayOfCriterion. </p>\n\n<p>It's as if the XmlReflectionImporter (or possibly the XmlSchemaExporter which is using the result of the importer) is detecting Criteria is an implementation of IList and deciding it's a simple array, completely discarding any properties that have been added over and above the interface implementation.</p>\n\n<p>Any tips greatly appreciated.</p>\n\n<p>Regards,</p>\n\n<p>Steve.</p>\n"}, {"tags": ["c#", "unity3d", "frame", "performancecounter", "frame-rate"], "answers": [{"tags": [], "owner": {"reputation": 903, "user_id": 3725916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7784fbd267a2f18b1764fe8becefe52?s=128&d=identicon&r=PG&f=1", "display_name": "Frohlich", "link": "https://stackoverflow.com/users/3725916/frohlich"}, "is_accepted": false, "score": 0, "last_activity_date": 1438804481, "creation_date": 1438804481, "answer_id": 31841670, "question_id": 31840902, "link": "https://stackoverflow.com/questions/31840902/my-fps-counter-is-in-accurate-any-ideas-why/31841670#31841670", "title": "My FPS Counter is in-accurate any ideas why?", "body": "<p>OnGUI function is called at las twice per frame (sometimes more). You are calculating your \"FPS\" inside OnGUI so it will almost never be accurate.</p>\n\n<p>Defining :</p>\n\n<pre><code>deltaTime += (Time.deltaTime - deltaTime) * 0.05f;\n</code></pre>\n\n<p>will bring your FPS values closest to real but it will not be accurate if you calc it on OnGUI method. </p>\n\n<p>I guess (not sure) that you should use <code>FixedUpdate()</code> instead of <code>OnGUI()</code> to calc your FPS. (also you don't need to change your deltaTime to multiply by 0.05f if you use FixedUpdate)</p>\n"}, {"comments": [{"owner": {"reputation": 1368, "user_id": 1257607, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/y38M3.png?s=128&g=1", "display_name": "DanielV", "link": "https://stackoverflow.com/users/1257607/danielv"}, "edited": false, "score": 0, "creation_date": 1567761975, "post_id": 31849722, "comment_id": 102068844, "body": "Regarding the moment were you should draw the value of _fps it should be inside the condition when one second has elapsed."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "reply_to_user": {"reputation": 1368, "user_id": 1257607, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/y38M3.png?s=128&g=1", "display_name": "DanielV", "link": "https://stackoverflow.com/users/1257607/danielv"}, "edited": false, "score": 0, "creation_date": 1567765727, "post_id": 31849722, "comment_id": 102070727, "body": "@DanielV not quite, the value of <code>_fps</code> needs to be <i>drawn</i> each frame (hence outside of <code>if</code> but the determination of <code>_fps</code> only gets <i>updated</i> once a second.  It is true that for the first second it will show <code>0</code>.  We could if we like not draw anything until the 1st second has ellapsed to make it tidier. :)"}, {"owner": {"reputation": 1368, "user_id": 1257607, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/y38M3.png?s=128&g=1", "display_name": "DanielV", "link": "https://stackoverflow.com/users/1257607/danielv"}, "edited": false, "score": 0, "creation_date": 1567770433, "post_id": 31849722, "comment_id": 102072876, "body": "ah! you have a point there, but after the first second the value is more accurate"}, {"owner": {"reputation": 345, "user_id": 2709151, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c6a56424ee8db9da55af6fa56d8e0e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Davis", "link": "https://stackoverflow.com/users/2709151/tim-davis"}, "edited": false, "score": 0, "creation_date": 1610580191, "post_id": 31849722, "comment_id": 116182370, "body": "I was searching for calculating request per second but didnt like any answers.. then I thought to look for FPS since theres more gamers out there. good stuff +1"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "reply_to_user": {"reputation": 345, "user_id": 2709151, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c6a56424ee8db9da55af6fa56d8e0e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Davis", "link": "https://stackoverflow.com/users/2709151/tim-davis"}, "edited": false, "score": 0, "creation_date": 1610587364, "post_id": 31849722, "comment_id": 116183734, "body": "@TimDavis thank-you good sir"}], "tags": [], "owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "is_accepted": false, "score": 5, "last_activity_date": 1567765620, "last_edit_date": 1567765620, "creation_date": 1438847051, "answer_id": 31849722, "question_id": 31840902, "link": "https://stackoverflow.com/questions/31840902/my-fps-counter-is-in-accurate-any-ideas-why/31849722#31849722", "title": "My FPS Counter is in-accurate any ideas why?", "body": "<p>In order to display a meaningful FPS rate you need to measure how many frames were rendered <em>over a constant period of time</em>, for example <strong>one second</strong>.  Then only after that period do you display the calculated value on screen. This will provide for an <em>average frames per second</em> as opposed to an <em>instantaneous frames per second</em>, the latter of which is not particularly useful in most cases as it leads to widely fluctuating values.</p>\n\n<h2>Code</h2>\n\n<p>First define some fields:</p>\n\n<pre><code>DateTime _lastTime; // marks the beginning the measurement began\nint _framesRendered; // an increasing count\nint _fps; // the FPS calculated from the last measurement\n</code></pre>\n\n<p>Then in your render method you increment the <code>_framesRendered</code>.  You also check to see if one second has elapsed since the start of the period:</p>\n\n<pre><code>void Update()\n{\n    _framesRendered++;\n\n    if ((DateTime.Now - _lastTime).TotalSeconds &gt;= 1)\n    {\n        // one second has elapsed \n\n        _fps = _framesRendered;                     \n        _framesRendered = 0;            \n        _lastTime = DateTime.Now;\n    }\n\n    // draw FPS on screen here using current value of _fps          \n}\n</code></pre>\n\n<h2>Cross-technology</h2>\n\n<p>It should be pointed out that the above code makes no particular use of Unity whilst still being reasonably accurate and is compatible with many frameworks and APIs such as DirectX; OpenGL;  XNA; WPF or even WinForms. </p>\n\n<blockquote>\n  <p>When I start up my game it stays around 95-101 rapidly changing, in between all of those numbers.. but when I open up the stats bar I'm getting upper 200's low 300's</p>\n</blockquote>\n\n<p>The ASUS VG248QE is 1ms and the max it can do is 144Hz so it is unlikely you are getting \"upper 200's low 300's\". FPS is meaningless when VSYNC is turned off on a non-GSYNC monitor. Is your VSYNC turned on?</p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 3578534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1985a5b8c01a1ef39142f003c59954?s=128&d=identicon&r=PG&f=1", "display_name": "Arx", "link": "https://stackoverflow.com/users/3578534/arx"}, "is_accepted": false, "score": 0, "last_activity_date": 1438851866, "last_edit_date": 1438851866, "creation_date": 1438851525, "answer_id": 31851225, "question_id": 31840902, "link": "https://stackoverflow.com/questions/31840902/my-fps-counter-is-in-accurate-any-ideas-why/31851225#31851225", "title": "My FPS Counter is in-accurate any ideas why?", "body": "<p>In Unity, FPS is equivalent to number of <code>Updates</code> that occur in 1 second. This is because <code>Update()</code> is called every <code>Time.deltaTime</code> seconds.</p>\n\n<p><strong>InvokeRepeating method</strong></p>\n\n<p>You can also use <a href=\"http://docs.unity3d.com/ScriptReference/MonoBehaviour.InvokeRepeating.html\" rel=\"nofollow\">InvokeRepeating</a> to implement your own FPS counter while using only integers, like this:</p>\n\n<pre><code>private int FrameCounter = 0;\nprivate int Fps = 0;\n\nvoid Start() \n{\n    InvokeRepeating(\"CountFps\", 0f, 1f);\n}\n\nvoid Update()\n{\n    FrameCounter++;\n}\n\nprivate void CountFps()\n{\n    Fps = FrameCounter;\n    FrameCounter = 0;\n}\n</code></pre>\n\n<p>Then just display the <code>Fps</code> variable in the <code>OnGUI()</code> method. Using this method, your <code>Fps</code> value will get updated every second; if you want more frequent updates, change the last argument of <code>InvokeRepeating</code> call and then adjust the <code>Fps</code> calculation accordingly.</p>\n\n<p>Note, however, that <code>InvokeRepeating</code> takes <code>Time.timeScale</code> into account, so e.g. if you pause the game with <code>Time.timeScale = 0f;</code> the counter will stop updating until you unpause the game.</p>\n\n<p><strong>FixedUpdate method</strong></p>\n\n<p>Another approach is to count the FPS in <code>FixedUpdate()</code> method instead of <code>OnGUI()</code> or <code>Update()</code>. This gets called every <code>Time.fixedDeltaTime</code> seconds which is always the same, no matter what. The value of <code>Time.fixedDeltaTime</code> can be set globally for the project via menu <code>Edit-&gt;Project Settings-&gt;Time</code>, item <code>Fixed Timestep</code>. </p>\n\n<p>In this case, you would count frames the same way (in <code>Update</code>), but update your FPS counter in <code>FixedUpdate</code> - which is basically the same as calling you own method with <code>InvokeRepeating(\"CountFps\", 0f, 0.02f)</code> (<code>0.02f</code> being a typical <code>Time.fixedDeltaTime</code> value, but this depends on your project settings as per above).</p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>Most of the time, you won't need to update the displayed FPS that often, so I personally like to use the <code>InvokeRepeating</code> method and 1 second intervals.</p>\n"}], "owner": {"reputation": 33, "user_id": 4078128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/975f42af844284d3ef901aa475d7fd55?s=128&d=identicon&r=PG&f=1", "display_name": "GeneralVirus", "link": "https://stackoverflow.com/users/4078128/generalvirus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4917, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1567765620, "creation_date": 1438801825, "question_id": 31840902, "link": "https://stackoverflow.com/questions/31840902/my-fps-counter-is-in-accurate-any-ideas-why", "title": "My FPS Counter is in-accurate any ideas why?", "body": "<p>When I start up my game it stays around 95-101 rapidly changing, in between all of those numbers.. but when I open up the stats bar I'm getting upper 200's low 300's</p>\n\n<p>so wondering why that is still new to c# so be easy on me lol. heres the code\nthanks in advance as always ^_^.</p>\n\n<pre><code>float deltaTime = 0.0f;\n\nvoid Update() \n{\n    deltaTime += (Time.deltaTime - deltaTime) * 0.1f;\n}\n\nvoid OnGUI()\n{\n    int w = Screen.width, h = Screen.height;\n\n    GUIStyle style = new GUIStyle ();\n\n    Rect rect = new Rect (0, 0, w, h * 2 / 100);\n    style.alignment = TextAnchor.UpperRight;\n    style.fontSize = h * 2 / 100;\n    style.normal.textColor = new Color (255.0f, 255.0f, 255.0f, 1.0f);\n    float msec = deltaTime * 1000.0f;\n    float fps = 1f / deltaTime;\n    string text = string.Format (\"({1:0.} fps)\", msec, fps);\n    GUI.Label (rect, text, style);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "tree", "comparison", "expression", "version"], "comments": [{"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 1, "creation_date": 1438802121, "post_id": 31840896, "comment_id": 51603455, "body": "Version objects are <code>IComparable</code> so you can call <a href=\"https://msdn.microsoft.com/en-us/library/system.version.compareto%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Version.CompareTo</a> to it. <a href=\"https://stackoverflow.com/questions/7568147/compare-version-numbers-without-using-split-function\">like</a>"}, {"owner": {"reputation": 86, "user_id": 5081072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15db0199759a26c50ee01793fcbfd3?s=128&d=identicon&r=PG&f=1", "display_name": "Frederick", "link": "https://stackoverflow.com/users/5081072/frederick"}, "edited": false, "score": 0, "creation_date": 1438802990, "post_id": 31840896, "comment_id": 51603958, "body": "As expressions you can do  somthing like: <code>var compareVersion = typeof(Version).GetMethod(&quot;CompareTo&quot;, new Type[] { typeof(Version) }); \t\tvar versionCtor = typeof(Version).GetConstructor(new Type[] { typeof(string) }); \t\t \t\tvar versionVariable = Expression.Constant(new Version(v1), typeof(Version));\t\t \t\tvar stringVariable = Expression.Constant(v2, typeof(string)); \t\tvar comparisonExpression = Expression.Call(versionVariable, compareVersion, Expression.New(versionCtor, stringVariable)); \t\tvar comparison = Expression.Lambda&lt;Func&lt;int&gt;&gt;(comparisonExpression).Compile()&zwnj;&#8203;;\t</code>"}], "owner": {"reputation": 1, "user_id": 5195402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843e34ca4974a7aae04880947b7b1e14?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/5195402/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438801785, "creation_date": 1438801785, "question_id": 31840896, "link": "https://stackoverflow.com/questions/31840896/comparing-version-values-with-c-expression-trees", "title": "Comparing Version values with C# Expression Trees", "body": "<p>I am trying to use C# Expression Trees for a rule engine and ran into an issue with Version comparison.\nI would like the expression to do something like </p>\n\n<p>Version &lt; \"4.5.1\"</p>\n\n<p>but C# Expressions consider the version value as string and do not allow lessthan operator on it. I could create a custom method for this comparison by pre-identifying the string value as a Version number (RegEx comparison) but I was hoping to find a way where C# Expression can identify is directly.</p>\n\n<p>I was not able to find any documentation or examples on how I can create an Expression that could compare versions. </p>\n\n<p>Any help here would be appreciated</p>\n"}, {"tags": ["c#", "wcf", "powershell", "remotecommand"], "comments": [{"owner": {"reputation": 22569, "user_id": 125356, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c71ad632d397b0c01d09587b390e1f84?s=128&d=identicon&r=PG", "display_name": "Aaron Jensen", "link": "https://stackoverflow.com/users/125356/aaron-jensen"}, "edited": false, "score": 0, "creation_date": 1438807383, "post_id": 31840835, "comment_id": 51606391, "body": "This looks like a service. Don&#39;t you want it to hang so that it listens for incoming connections?"}, {"owner": {"reputation": 69, "user_id": 3772958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2cdb3d7f373611d98313163bf331fee?s=128&d=identicon&r=PG&f=1", "display_name": "SherryRuan", "link": "https://stackoverflow.com/users/3772958/sherryruan"}, "reply_to_user": {"reputation": 22569, "user_id": 125356, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c71ad632d397b0c01d09587b390e1f84?s=128&d=identicon&r=PG", "display_name": "Aaron Jensen", "link": "https://stackoverflow.com/users/125356/aaron-jensen"}, "edited": false, "score": 0, "creation_date": 1438810258, "post_id": 31840835, "comment_id": 51607886, "body": "Thanks for reply. No, I think the open() just change the state of a communication object. When I run it locally, it doesn&#39;t hang. Those code is part of our application framework. My application does not directly use it, but need it for initialization."}, {"owner": {"reputation": 22569, "user_id": 125356, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c71ad632d397b0c01d09587b390e1f84?s=128&d=identicon&r=PG", "display_name": "Aaron Jensen", "link": "https://stackoverflow.com/users/125356/aaron-jensen"}, "edited": false, "score": 0, "creation_date": 1438810718, "post_id": 31840835, "comment_id": 51608081, "body": "Check that no other process is using the IP address/port you want. I think <code>Open</code> will hang if the address/port is in use. Check for any zombie services."}, {"owner": {"reputation": 4022, "user_id": 95032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uHlJF.jpg?s=128&g=1", "display_name": "CMerat", "link": "https://stackoverflow.com/users/95032/cmerat"}, "edited": false, "score": 0, "creation_date": 1534888458, "post_id": 31840835, "comment_id": 90864971, "body": "We&#39;ve run into the same issue and it&#39;s because of the NetNamedPipeBinding. For some reason, serviceHost.Open will HANG when the process has been started via remote PowerShell (or via a Cmdlet invoked remotely). We&#39;re still investigating and if we find a reason why, we&#39;ll post it here."}, {"owner": {"reputation": 3563, "user_id": 1458738, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff21ee6139fe445f62792ff0170733c9?s=128&d=identicon&r=PG", "display_name": "Sal", "link": "https://stackoverflow.com/users/1458738/sal"}, "edited": false, "score": 0, "creation_date": 1535479347, "post_id": 31840835, "comment_id": 91078116, "body": "If you RDC into the machine and double click the .exe does it work? If so, are you logging in with the same credentials you use on your local machine?"}], "answers": [{"comments": [{"owner": {"reputation": 4022, "user_id": 95032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uHlJF.jpg?s=128&g=1", "display_name": "CMerat", "link": "https://stackoverflow.com/users/95032/cmerat"}, "edited": false, "score": 0, "creation_date": 1534939907, "post_id": 51959967, "comment_id": 90883036, "body": "The issue is not with connecting to the named pipe. When the process is started via remote PowerShell (which is similar to SSH in that it runs locally on the machine but is invoked remotely), it hangs and will simply not open the named pipe at all meaning that it is not even available locally."}], "tags": [], "owner": {"reputation": 798, "user_id": 1741171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169fa01a61570e916c9e1637e3d611f5?s=128&d=identicon&r=PG", "display_name": "RobV8R", "link": "https://stackoverflow.com/users/1741171/robv8r"}, "is_accepted": false, "score": -1, "last_activity_date": 1534912763, "creation_date": 1534912763, "answer_id": 51959967, "question_id": 31840835, "link": "https://stackoverflow.com/questions/31840835/cannot-use-powershell-to-remotely-start-wcfapplication-system-servicemodel/51959967#51959967", "title": "Cannot use powershell to remotely start WCFapplication (System.ServiceModel)", "body": "<p>If I'm not mistaken, named pipes are local to a single computer.  As far as I know, you can't connect \"remotely\" using named pipes.</p>\n\n<p>In this case, I'd recommend using a different binding (protocol.)  For example, you could use http/https, nettcp, or WSHttp.  </p>\n"}], "owner": {"reputation": 69, "user_id": 3772958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2cdb3d7f373611d98313163bf331fee?s=128&d=identicon&r=PG&f=1", "display_name": "SherryRuan", "link": "https://stackoverflow.com/users/3772958/sherryruan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1534912763, "creation_date": 1438801589, "question_id": 31840835, "link": "https://stackoverflow.com/questions/31840835/cannot-use-powershell-to-remotely-start-wcfapplication-system-servicemodel", "title": "Cannot use powershell to remotely start WCFapplication (System.ServiceModel)", "body": "<p>I have a c# app using System.ServiceModel.dll. I can run the app locally, but when I try to use Power Shell to run it remotely, it hang:</p>\n\n<p>Here is the simple code to recreate the problem:</p>\n\n<pre><code>    using System;\n    using System.ServiceModel;\n    using System.ServiceModel.Discovery;\n\n    namespace PowerShellSecurity\n    {\n        class Program\n        {\n            static void Main(string[] args)\n            {\n                var serviceUri = \"net.pipe://localhost/Foo/Bar\";\n                var discoveryUri = new Uri(\"soap.udp://239.255.255.250:3702/\");\n\n                var service = new MyService();\n\n                var serviceHost = new ServiceHost(service, new Uri(serviceUri));\n                serviceHost.Description.Behaviors.Add(new ServiceDiscoveryBehavior());\n                serviceHost.AddServiceEndpoint(new UdpDiscoveryEndpoint(discoveryUri));\n                serviceHost.AddServiceEndpoint(typeof(IMyService), new NetNamedPipeBinding(), serviceUri);\n\n                serviceHost.Open();\n\n                Console.WriteLine(\"It worked!\");\n            }\n        }\n\n        [ServiceContract]\n        public interface IMyService\n        {\n            [OperationContract]\n            void DoStuff();\n        }\n\n        [ServiceBehavior(InstanceContextMode = InstanceContextMode.Single, ConcurrencyMode = ConcurrencyMode.Multiple)]\n        public class MyService : IMyService\n        {\n            public void DoStuff()\n            {\n                throw new NotImplementedException();\n            }\n        }\n    }\n</code></pre>\n\n<p>I can run it at the localhost and it works. But if I run the following powershell command from another host:</p>\n\n<pre><code>icm -ComputerName myHost -ScriptBlock {iex \"&amp; 'c:\\Users\\me\\Documents\\Visual Studio 2013\\Projects\\PowerShellSecurity\\PowerShellSecurity\\bin\\Debug\\PowerShellSecurity.exe'\"}\n</code></pre>\n\n<p>I can see the process hanging at myHost using procexp.</p>\n\n<p>Then I used visual studio to attach to this process, I can see it is stuck at: \n    serviceHost.Open();</p>\n\n<p>How can I solve this problem, if I have to use power shell to run the application remotely?  </p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["c#", "email", "gmail", "email-attachments", "smtpclient"], "comments": [{"owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "edited": false, "score": 2, "creation_date": 1438801527, "post_id": 31840767, "comment_id": 51603125, "body": "Check your spam/junk folders?"}, {"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "reply_to_user": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "edited": false, "score": 0, "creation_date": 1438801558, "post_id": 31840767, "comment_id": 51603149, "body": "Yep, nothing in spam, or trash, or anywhere visible."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 2, "creation_date": 1438801783, "post_id": 31840767, "comment_id": 51603269, "body": "Sometimes an ISP will decide that a sender is just plain bad and will not even deliver email to the junk folder, but rather will outright block it.  Sometimes Gmail&#39;s SMTP servers would get such a notification during the Gmail to AT&amp;T SMTP conversation (which I do not believe Gmail exposes to you), and sometimes you would just silently be blocked.  You might have run into this for example if you did something while testing your code to send a whole lot of junk to the att.net domain.  Try a non-AT&amp;T email (e.g. sign up for Hotmail)."}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438806550, "creation_date": 1438801349, "last_edit_date": 1438806550, "question_id": 31840767, "link": "https://stackoverflow.com/questions/31840767/why-does-this-email-send-to-local-gmail-address-but-not-to-att-net-address", "title": "Why does this email send to local gmail address but not to att.net address?", "body": "<p>I have some code that sends an email and attachment to two email addresses: a \"local\" gmail address (my work email, which has a ucsc.edu suffix and which I access via <a href=\"https://mail.google.com/mail/u/0/#inbox\" rel=\"nofollow\">https://mail.google.com/mail/u/0/#inbox</a>) and a \"remote\" email address (my personal email, an att.net account).</p>\n\n<p>The following code works perfectly for sending the email to my local/\"gmail\" account, but I do not receive the email in my personal att.net account:</p>\n\n<pre><code>public static void SendEmailWithAttachment(string fileToMail, String from, String to, String subj, String body)\n{\n    String server = GetSMTPHostName();\n    string file = fileToMail;\n\n    MailMessage message = new MailMessage(\n       from,\n       to,\n       subj,\n       body);\n\n    Attachment data = new Attachment(file, MediaTypeNames.Application.Octet);\n    ContentDisposition disposition = data.ContentDisposition;\n    disposition.CreationDate = System.IO.File.GetCreationTime(file);\n    disposition.ModificationDate = System.IO.File.GetLastWriteTime(file);\n    disposition.ReadDate = System.IO.File.GetLastAccessTime(file);\n    message.Attachments.Add(data);\n\n    SmtpClient client = new SmtpClient(server);\n    client.Credentials = CredentialCache.DefaultNetworkCredentials;\n\n    try\n    {\n        client.Send(message);\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(\"Exception caught in SendEmailWithAttachment(): {0}\", ex.ToString());\n    }\n    data.Dispose();\n    message.Dispose();\n}\n</code></pre>\n\n<p>The arguments sent to this method are exactly the same in both cases, except for the \"to\" value (the email recipient). Even in the case where I receive no email, the client.Send(message) line \"works\" - the catch block is not entered. But it works in the same way a Congressman works - it <em>claims</em> to have succeeded, but nothing is actually accomplished.</p>\n\n<p>What is necessary to get this email to \"cross the Rubicon\"?</p>\n"}, {"tags": ["c#", "linq", "xaml"], "answers": [{"comments": [{"owner": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "edited": false, "score": 0, "creation_date": 1438802037, "post_id": 31840817, "comment_id": 51603411, "body": "Thanks, and how would I get access to a particular TextBlock like PercentComplete?"}, {"owner": {"reputation": 12427, "user_id": 702931, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f047343611694451fccb3fd03c779de7?s=128&d=identicon&r=PG", "display_name": "robrich", "link": "https://stackoverflow.com/users/702931/robrich"}, "reply_to_user": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "edited": false, "score": 0, "creation_date": 1438806056, "post_id": 31840817, "comment_id": 51605633, "body": "Once you have the StackPanel, linq into it&#39;s Children looking for type == typeof(TextBlock) or the name / id of the TextBlock."}], "tags": [], "owner": {"reputation": 12427, "user_id": 702931, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f047343611694451fccb3fd03c779de7?s=128&d=identicon&r=PG", "display_name": "robrich", "link": "https://stackoverflow.com/users/702931/robrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1438801519, "creation_date": 1438801519, "answer_id": 31840817, "question_id": 31840752, "link": "https://stackoverflow.com/questions/31840752/accessing-textblock-in-a-grid-with-linq/31840817#31840817", "title": "Accessing TextBlock in a grid with LINQ", "body": "<p>Since there's only one <code>StackPanel</code> you could say <code>e =&gt; e.GetType() == typeof(StackPanel)</code>.  If you ever have many, then add a <code>Name</code> to the StackPanel and pull it by that.</p>\n"}], "owner": {"reputation": 6198, "user_id": 1524210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dgptu.jpg?s=128&g=1", "display_name": "David Tunnell", "link": "https://stackoverflow.com/users/1524210/david-tunnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438824739, "creation_date": 1438801320, "question_id": 31840752, "link": "https://stackoverflow.com/questions/31840752/accessing-textblock-in-a-grid-with-linq", "title": "Accessing TextBlock in a grid with LINQ", "body": "<p>I am dynamically generating rows in a XAML grid:</p>\n\n<pre><code>        for (int i = 0; i &lt; AssociatedSteps.Length; i++)\n        {\n            //if (i == 0 || AssociatedSteps[i].OriginPkg != AssociatedSteps[i-1].OriginPkg)\n            //{\n            //Define new Row to add\n            RowDef = new RowDefinition();\n            RowDef.Height = new GridLength(60);\n\n            //Add row definition to Grid\n            WorkPackageViewResults.RowDefinitions.Add(RowDef);\n\n            //Define the control that will be added to new row\n            Text1 = new TextBlock();\n            Text1.Text = AssociatedSteps[i].SF01;\n            Text1.Width = Settings.workPackageColumn5Width;\n            Text1.TextAlignment = TextAlignment.Center;\n\n            Text2 = new TextBlock();\n            Text2.Text = AssociatedSteps[i].SF10;\n            Text2.Width = Settings.workPackageColumn5Width;\n            Text2.TextAlignment = TextAlignment.Center;\n\n            Text3 = new TextBlock();\n            Text3.Text = AssociatedSteps[i].OriginPkg;\n            Text3.Width = Settings.workPackageColumn5Width;\n            Text3.TextAlignment = TextAlignment.Center;\n\n            Button1 = new Button();\n            Button1.Content = AssociatedSteps[i].Description;\n            Button1.Width = Settings.workPackageColumn5Width;\n            Button1.Click += new RoutedEventHandler(ProgressUpdateButton_Click);\n            Button1.Tag = AssociatedSteps[i].StepID;\n\n            //create stackpanel and define which row to add the stackpanel to\n            StackP = new StackPanel();\n            //StackP.Background = new SolidColorBrush(Colors.Wheat);\n            StackP.SetValue(Grid.RowProperty, i);\n            StackP.Orientation = Orientation.Horizontal;\n            StackP.Margin = new Thickness(0, 0, 0, 0);\n\n            PercentComplete = new TextBlock();\n            PercentComplete.Text = (Convert.ToDouble(AssociatedSteps[i].ToDateQty) / Convert.ToDouble(AssociatedSteps[i].MTOQty)).ToString();\n            PercentComplete.Width = Settings.workPackageColumn5Width;\n            PercentComplete.TextAlignment = TextAlignment.Center;\n\n            //add your control to the stackpanel\n            StackP.Children.Add(Text1);\n            StackP.Children.Add(Text2);\n            StackP.Children.Add(Text3);\n            StackP.Children.Add(Button1);\n            StackP.Children.Add(PercentComplete);\n            //add the stackpanel to the grid\n            WorkPackageViewResults.Children.Add(StackP);\n        }\n</code></pre>\n\n<p>I'm trying to use LINQ to get access to the grid being programatically updated above:</p>\n\n<pre><code>&lt;Grid Name=\"WorkPackageViewResults\"&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/aRBOU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aRBOU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not seeing they type of options you would for a cell. I want to to access a particular rows PercentComplete TextBlock so I can update the text. How do I accomplish this?</p>\n"}, {"tags": ["c#", "xml-serialization", "datacontractserializer", "datacontract", "forward-compatibility"], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 719086, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21e40e5697e5f7e9e646f0a996dc75a3?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/719086/arash"}, "edited": false, "score": 0, "creation_date": 1446734443, "post_id": 33539295, "comment_id": 54874452, "body": "That will solve this specific issue but, it is actually not a general solution. What if in V2 Person is also adding a reference to AnotherPerson? Then, using order cannot fix the issue."}], "tags": [], "owner": {"reputation": 61, "user_id": 2836184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a160faa288d218d8bb00d61b1c850b2?s=128&d=identicon&r=PG&f=1", "display_name": "Gilles Hemberg", "link": "https://stackoverflow.com/users/2836184/gilles-hemberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1446710444, "creation_date": 1446710444, "answer_id": 33539295, "question_id": 31840729, "link": "https://stackoverflow.com/questions/31840729/data-contract-serializer-forward-compatibility-of-properties-which-are-reference/33539295#33539295", "title": "Data Contract Serializer Forward Compatibility of properties which are referenced", "body": "<p>The problem is the order of the fields in the V2 of the Person data-contract. The new field needs to be appended at the end of the serialized document in order to be forward-compatible:</p>\n\n<pre><code>&lt;People xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" z:Id=\"1\" xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" xmlns=\"Tests.FCTests\"&gt;\n  &lt;AnotherPerson z:Id=\"2\" i:type=\"AnotherPerson\"&gt;\n    &lt;FriendPerson z:Id=\"3\"&gt;\n      &lt;Name z:Id=\"4\"&gt;Person&lt;/Name&gt;\n    &lt;/FriendPerson&gt;\n    &lt;Name z:Id=\"5\"&gt;AnotherPerson&lt;/Name&gt;\n  &lt;/AnotherPerson&gt;\n  &lt;Person z:Ref=\"3\" i:nil=\"true\" /&gt;\n&lt;/People&gt;\n</code></pre>\n\n<p>Note how the \"FriendPerson\" tag in the above XML appears above the \"Name\" tag in the \"AnotherPerson\" segment. It would work if your object had been serialized as follows:</p>\n\n<pre><code>&lt;People xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" z:Id=\"1\" xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" xmlns=\"Tests.FCTests\"&gt;\n  &lt;AnotherPerson z:Id=\"2\" i:type=\"AnotherPerson\"&gt;\n    &lt;Name z:Id=\"5\"&gt;AnotherPerson&lt;/Name&gt;\n    &lt;FriendPerson z:Id=\"3\"&gt;\n      &lt;Name z:Id=\"4\"&gt;Person&lt;/Name&gt;\n    &lt;/FriendPerson&gt;\n  &lt;/AnotherPerson&gt;\n  &lt;Person z:Ref=\"3\" i:nil=\"true\" /&gt;\n&lt;/People&gt;\n</code></pre>\n\n<p>To achieve this, specify the \"Order\" parameter on the DataMemberAttribute of \"FriendPerson\" property of the V2 \"AnotherPerson\" class as follows:</p>\n\n<pre><code>[DataContract(Name = \"AnotherPerson\", Namespace = \"Tests.FCTests\")]\npublic class AnotherPerson : IExtensibleDataObject\n{\n    [DataMember]\n    public string Name { get; set; }\n\n    /* This is added in this version */\n    [DataMember(Order = 2)]\n    public Person FriendPerson { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n}\n</code></pre>\n\n<p>As a general rule, you should not use the \"Order\" parameter in the first version of your datacontract. For any newer version, you should specify the \"Order\" parameter on any new DataMemberAttribute and increment the specified number along with the version number. It is perfectly legal to have several identical \"Order\" parameter values in a single datacontract such as in this V3:</p>\n\n<pre><code>[DataContract(Name = \"AnotherPerson\", Namespace = \"Tests.FCTests\")]\npublic class AnotherPerson : IExtensibleDataObject\n{\n    [DataMember]\n    public string Name { get; set; }\n\n    /* This is added in this version */\n    [DataMember(Order = 2)]\n    public Person FriendPerson { get; set; }\n\n    [DataMember(Order = 3)]\n    public string Remarks { get; set; }\n\n    [DataMember(Order = 3)]\n    public bool? IsMarried { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n}\n</code></pre>\n\n<p>P.S.: My answer may come late, but may still be helpful to others...</p>\n"}, {"tags": [], "owner": {"reputation": 148, "user_id": 719086, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21e40e5697e5f7e9e646f0a996dc75a3?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/719086/arash"}, "is_accepted": true, "score": 0, "last_activity_date": 1446734674, "creation_date": 1446734674, "answer_id": 33547504, "question_id": 31840729, "link": "https://stackoverflow.com/questions/31840729/data-contract-serializer-forward-compatibility-of-properties-which-are-reference/33547504#33547504", "title": "Data Contract Serializer Forward Compatibility of properties which are referenced", "body": "<p>I was communicating with MSDN incident support and after 2 months of going back and forth, they answered:</p>\n\n<blockquote>\n  <p>We have engaged product group and the official word is there is a bug\n  in IExtensibleDataObject (when cyclic references are ON).</p>\n</blockquote>\n\n<p>I hope they add this somewhere in their documentation and I hope this helps future developments for the others.</p>\n"}], "owner": {"reputation": 148, "user_id": 719086, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21e40e5697e5f7e9e646f0a996dc75a3?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/719086/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 1, "accepted_answer_id": 33547504, "answer_count": 2, "score": 1, "last_activity_date": 1446734674, "creation_date": 1438801244, "last_edit_date": 1438870342, "question_id": 31840729, "link": "https://stackoverflow.com/questions/31840729/data-contract-serializer-forward-compatibility-of-properties-which-are-reference", "title": "Data Contract Serializer Forward Compatibility of properties which are referenced", "body": "<p>I am trying to support Forward Compatibility for Data Contract Serializer.\nThe case which I have problems with:</p>\n\n<p>If you have an object which is saved as a reference to a property which is added in a later version inside of a known type, it will become an exception. Note that both of these types are known in both versions. The only thing which is new is the property inside of one of the objects.</p>\n\n<p>I attached a simple simulation of the problem at <a href=\"http://www.megafileupload.com/diUl/Unknown_types_Test.rar\" rel=\"nofollow\">samples</a> and <a href=\"http://s000.tinyupload.com/?file_id=03194982617993128896\" rel=\"nofollow\">samples</a>:</p>\n\n<p>It has two different projects: \nV1 which is an older version which is already deployed.\nV2 which is a newer version of V1.\nV2 is saving its data and V1 needs to be able to load V2 saved data to support forward compatibility.</p>\n\n<p>There are three custom types: \nPeople: has two object references and Person and AnotherPerson are being saved in them.</p>\n\n<p>In V1 and V2:</p>\n\n<pre><code>[DataContract(Name = \"People\", Namespace = \"Tests.FCTests\")]\n[KnownType(typeof(Person))]\n[KnownType(typeof(AnotherPerson))]\npublic class People : IExtensibleDataObject\n{\n    [DataMember]\n    public object Person { get; set; }\n\n    [DataMember]\n    public object AnotherPerson { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n}\n</code></pre>\n\n<p>Person: has a Name.</p>\n\n<p>In V1 and V2:</p>\n\n<pre><code>[DataContract(Name = \"Person\", Namespace = \"Tests.FCTests\")]\npublic class Person : IExtensibleDataObject\n{\n    [DataMember]\n    public string Name { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n\n}\n</code></pre>\n\n<p>AnotherPerson: has a Name and in V2 a reference to Person (FriendPerson) was added.</p>\n\n<p>In V1:</p>\n\n<pre><code>[DataContract(Name = \"AnotherPerson\", Namespace = \"Tests.FCTests\")]\npublic class AnotherPerson : IExtensibleDataObject\n{\n    [DataMember]\n    public string Name { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n}\n</code></pre>\n\n<p>In V2:</p>\n\n<pre><code>[DataContract(Name = \"AnotherPerson\", Namespace = \"Tests.FCTests\")]\npublic class AnotherPerson : IExtensibleDataObject\n{\n    [DataMember]\n    public string Name { get; set; }\n\n    /* This is added in this version */\n    [DataMember]\n    public Person FriendPerson { get; set; }\n\n    public ExtensionDataObject ExtensionData { get; set; }\n}\n</code></pre>\n\n<p>Version 2 is saving the data:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        DataContractSerializer serializer = new DataContractSerializer(typeof(People), null, int.MaxValue, false, true, null, null);\n\n        var people = new People();\n        var person = new Person() { Name = \"Person\" };\n        var anotherPerson = new AnotherPerson() { Name = \"AnotherPerson\", FriendPerson = person };\n\n        people.Person = person;\n        people.AnotherPerson = anotherPerson;\n\n        using (var writer = new XmlTextWriter(\"../../../../SavedFiles/Version2Saved.xml\", null) { Formatting = Formatting.Indented })\n        {\n            serializer.WriteObject(writer, people);\n            writer.Flush();\n        }\n\n        Console.WriteLine(\"Save Successfull.\");\n        Console.ReadKey();\n    }\n</code></pre>\n\n<p>Version 1 is loading the same data:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        DataContractSerializer serializer = new DataContractSerializer(typeof(People), null, int.MaxValue, false, true, null, null);\n\n        People loadedPeople;\n\n        using (var reader = new XmlTextReader(\"../../../../SavedFiles/Version2Saved.xml\"))\n        {\n            loadedPeople = (People)serializer.ReadObject(reader);\n        }\n\n        Console.WriteLine(\"Load Successful.\");\n\n        Console.ReadKey();\n    }\n</code></pre>\n\n<p>The saved data:</p>\n\n<pre><code>&lt;People xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" z:Id=\"1\" xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" xmlns=\"Tests.FCTests\"&gt;\n  &lt;AnotherPerson z:Id=\"2\" i:type=\"AnotherPerson\"&gt;\n    &lt;FriendPerson z:Id=\"3\"&gt;\n      &lt;Name z:Id=\"4\"&gt;Person&lt;/Name&gt;\n    &lt;/FriendPerson&gt;\n    &lt;Name z:Id=\"5\"&gt;AnotherPerson&lt;/Name&gt;\n  &lt;/AnotherPerson&gt;\n  &lt;Person z:Ref=\"3\" i:nil=\"true\" /&gt;\n&lt;/People&gt;\n</code></pre>\n\n<p>When V1 is trying to load the data this exception is thrown:</p>\n\n<pre><code>{System.Runtime.Serialization.SerializationException: Element Person from namespace Tests.FCTests cannot have child contents to be deserialized as an object. Please use XmlNode[] to deserialize this pattern of XML. ---&gt; System.Xml.XmlException: 'Element' is an invalid XmlNodeType.\n   at System.Xml.XmlReader.ReadEndElement()\n   at System.Runtime.Serialization.XmlReaderDelegator.ReadEndElement()\n   at System.Runtime.Serialization.ObjectDataContract.ReadXmlValue(XmlReaderDelegator reader, XmlObjectSerializerReadContext context)\n   --- End of inner exception stack trace ---\n   at System.Runtime.Serialization.ObjectDataContract.ReadXmlValue(XmlReaderDelegator reader, XmlObjectSerializerReadContext context)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.ReadDataContractValue(DataContract dataContract, XmlReaderDelegator reader)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.InternalDeserialize(XmlReaderDelegator reader, String name, String ns, Type declaredType, DataContract&amp; dataContract)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContextComplex.InternalDeserialize(XmlReaderDelegator xmlReader, Type declaredType, String name, String ns)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.DeserializeFromExtensionData(IDataNode dataNode, Type type, String name, String ns)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.GetExistingObject(String id, Type type, String name, String ns)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.TryHandleNullOrRef(XmlReaderDelegator reader, Type declaredType, String name, String ns, Object&amp; retObj)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.InternalDeserialize(XmlReaderDelegator reader, String name, String ns, Type declaredType, DataContract&amp; dataContract)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContextComplex.InternalDeserialize(XmlReaderDelegator xmlReader, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, String name, String ns)\n   at ReadPeopleFromXml(XmlReaderDelegator , XmlObjectSerializerReadContext , XmlDictionaryString[] , XmlDictionaryString[] )\n   at System.Runtime.Serialization.ClassDataContract.ReadXmlValue(XmlReaderDelegator xmlReader, XmlObjectSerializerReadContext context)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.ReadDataContractValue(DataContract dataContract, XmlReaderDelegator reader)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContext.InternalDeserialize(XmlReaderDelegator reader, String name, String ns, Type declaredType, DataContract&amp; dataContract)\n   at System.Runtime.Serialization.XmlObjectSerializerReadContextComplex.InternalDeserialize(XmlReaderDelegator xmlReader, Type declaredType, DataContract dataContract, String name, String ns)\n   at System.Runtime.Serialization.DataContractSerializer.InternalReadObject(XmlReaderDelegator xmlReader, Boolean verifyObjectName, DataContractResolver dataContractResolver)\n   at System.Runtime.Serialization.XmlObjectSerializer.ReadObjectHandleExceptions(XmlReaderDelegator reader, Boolean verifyObjectName, DataContractResolver dataContractResolver)\n   at System.Runtime.Serialization.DataContractSerializer.ReadObject(XmlReader reader)\n   at Version1.Program.Main(String[] args) in C:\\Users\\Administrator\\Desktop\\Unknown types Test\\Version1\\Version1\\Program.cs:line 17}\n</code></pre>\n\n<p>Inner Exception:</p>\n\n<pre><code>{System.Xml.XmlException: 'Element' is an invalid XmlNodeType.\n   at System.Xml.XmlReader.ReadEndElement()\n   at System.Runtime.Serialization.XmlReaderDelegator.ReadEndElement()\n   at System.Runtime.Serialization.ObjectDataContract.ReadXmlValue(XmlReaderDelegator reader, XmlObjectSerializerReadContext context)}\n</code></pre>\n\n<p>I suspect that the error is because the object is referencing to a type which is being deserialized inside of Extension Object and does not have any type.\nThe reason is, if you add a new instance of Person inside of People and not referencing the same instance inside of AnotherPerson (FriendPerson).</p>\n\n<pre><code>var anotherPerson = new AnotherPerson() { Name = \"AnotherPerson\", FriendPerson = new Person() };\n</code></pre>\n\n<p>Then the saved file becomes the following and everything works just fine:</p>\n\n<pre><code>&lt;People xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" z:Id=\"1\" xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" xmlns=\"Tests.FCTests\"&gt;\n  &lt;AnotherPerson z:Id=\"2\" i:type=\"AnotherPerson\"&gt;\n    &lt;FriendPerson z:Id=\"3\"&gt;\n      &lt;Name i:nil=\"true\" /&gt;\n    &lt;/FriendPerson&gt;\n    &lt;Name z:Id=\"4\"&gt;AnotherPerson&lt;/Name&gt;\n  &lt;/AnotherPerson&gt;\n  &lt;Person z:Id=\"5\" i:type=\"Person\"&gt;\n    &lt;Name z:Id=\"6\"&gt;Person&lt;/Name&gt;\n  &lt;/Person&gt;\n&lt;/People&gt;\n</code></pre>\n\n<p>I tried to fix the problem using a Data Contract Resolver, Adding Known Types inside of serializer dynamically, and Data Contract Surrogate but, none of them worked. The reason is the exception is thrown when the serializer is de-serializing FriendPerson and the overridden methods inside of the surrogate or resolver are not being called prior to that.</p>\n\n<p><strong>NOTE</strong> We need to preserve object references and removing it is not an option.</p>\n"}, {"tags": ["c#", "xml", "linq"], "comments": [{"owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "edited": false, "score": 0, "creation_date": 1438801318, "post_id": 31840717, "comment_id": 51602988, "body": "Your XML document is using a namespace, you have to use it in your query to make it work."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4760623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e596bb5281d914352bed9d737f282050?s=128&d=identicon&r=PG&f=1", "display_name": "nonojojo", "link": "https://stackoverflow.com/users/4760623/nonojojo"}, "edited": false, "score": 0, "creation_date": 1438802478, "post_id": 31840892, "comment_id": 51603654, "body": "Thank you Marcin you cleared up all my mistakes perfectly ... really appreciate your feedback"}], "tags": [], "owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "is_accepted": true, "score": 0, "last_activity_date": 1438801774, "creation_date": 1438801774, "answer_id": 31840892, "question_id": 31840717, "link": "https://stackoverflow.com/questions/31840717/linq-to-xml-retrieving-child-element-value/31840892#31840892", "title": "LINQ TO XML retrieving Child Element Value", "body": "<ol>\n<li>Your XML document is using a namespace, you have to use it in your query to make it work.</li>\n<li><code>Root</code> already brings you to <code>ABC</code> element, so you don't have to call <code>Elements(\"ABC\")</code></li>\n<li>You're looking for single value, so you probably want to use <code>Element</code> instead of <code>Elements</code>.</li>\n</ol>\n\n\n\n<pre><code>var ns = (XNamespace)\"http://ns.hr-xml.org/2007-04-15\";\nvar sClientOrderID = (int)XMLResults.Root\n                                    .Element(ns + \"ClientOrderId\")\n                                    .Element(ns + \"IdValue\");\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4760623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e596bb5281d914352bed9d737f282050?s=128&d=identicon&r=PG&f=1", "display_name": "nonojojo", "link": "https://stackoverflow.com/users/4760623/nonojojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 31840892, "answer_count": 1, "score": 0, "last_activity_date": 1438801826, "creation_date": 1438801184, "last_edit_date": 1438801293, "question_id": 31840717, "link": "https://stackoverflow.com/questions/31840717/linq-to-xml-retrieving-child-element-value", "title": "LINQ TO XML retrieving Child Element Value", "body": "<p>I have the following XML </p>\n\n<pre><code>&lt;ABC xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://ns.hr-xml.org/2007-04-15\"&gt;\n    &lt;ReceiptId&gt;\n        &lt;IdValue&gt;123&lt;/IdValue&gt;\n    &lt;/ReceiptId&gt;\n    &lt;ClientOrderId&gt;\n        &lt;IdValue&gt;345&lt;/IdValue&gt;\n    &lt;/ClientOrderId&gt;\n    &lt;AccessPoint&gt;\n        &lt;Description&gt;My Description&lt;/Description&gt;\n    &lt;/AccessPoint&gt;\n    &lt;ABCStatus&gt;\n        &lt;Status&gt;Error&lt;/Status&gt;\n        &lt;Details&gt;ERRORS:\n Talent is already in an active process for this opening.\n        &lt;/Details&gt;\n        &lt;StatusDate&gt;2015-08-05&lt;/StatusDate&gt;\n    &lt;/ABCStatus&gt;\n&lt;/ABC&gt;\n</code></pre>\n\n<p>I am trying to retrieve the element value 345 nested in IdValue and ClientOrderId</p>\n\n<p>I have used the Linq to xml code in C# to retrieve the value with no luck</p>\n\n<pre><code>XDocument XMLResults = XDocument.Parse(sResult);\n\nvar sClientOrderID =\n        from nodeAElem in XMLResults.Root.Elements(\"ABC\")\n        from nodeA1Elem in nodeAElem.Elements(\"ClientOrderId\")\n        from nodeA11Elem in nodeA1Elem.Elements(\"IdValue\")\n        select nodeA11Elem.Value;\n</code></pre>\n\n<p>also need to retrieve the Status Elements value which is Error for the above xml.</p>\n\n<p>Any help is greatly appreciated</p>\n"}, {"tags": ["c#", "silverlight", "windows-phone-8", "memory-management", "local-storage"], "owner": {"reputation": 23, "user_id": 5195360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a37b4421956d56f40e66d95a0b3d5d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Nili Miliy", "link": "https://stackoverflow.com/users/5195360/nili-miliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438841517, "creation_date": 1438801118, "last_edit_date": 1438841517, "question_id": 31840696, "link": "https://stackoverflow.com/questions/31840696/windows-silverlight-phone-8-1-tmp-files", "title": "Windows Silverlight Phone 8.1 Tmp Files", "body": "<pre><code>await tablex.ExistsAsync();\nawait tablex.ExecuteQuerySegmentedAsync(query, null);\n</code></pre>\n\n<p>When I run this two code within the Windows Phone 8.1 Silverlight app,each time it runs it creates 2 mb \"XCP***.tmp\" file in local folder and they remain until app is closed, so after a while app consumes whole local memory of phone since this codes repated when page refresh.Is that because of silverlight or my mistake?</p>\n\n<p>All method(When I debug it only above two codes cause tmp file creation):</p>\n\n<pre><code>private async Task&lt;List&lt;Message&gt;&gt; query(Person x)\n    {\n\n        List&lt;Message&gt; msgs = new List&lt;Message&gt;();\n\n        StorageCredentials credential = new StorageCredentials(\"\", \"\");\n        // Retrieve the storage account from the connection string.\n        CloudStorageAccount storageAccount = new CloudStorageAccount(credential, false);\n\n\n        // Create the table client.\n        CloudTableClient tableClient = storageAccount.CreateCloudTableClient();\n\n        //Create the CloudTable object that represents the \"people\" table.\n        CloudTable tablex = tableClient.GetTableReference(person.getId().Replace(\"@\", \"\").Replace(\".\", \"\"));\n        bool exist = await tablex.ExistsAsync().ConfigureAwait(false);\n        GC.Collect();\n        if (exist)\n        {\n\n            //!!!!!!!!!!!!!!!!!!!!! TableQuery.GenerateFilterCondition(\"PartitionKey\", QueryComparisons.Equal, !!!!YOU!!!!!!)\n            // Construct the query operation for all customer entities where PartitionKey=\"\".\n            string filter1 = TableQuery.GenerateFilterCondition(\"PartitionKey\", QueryComparisons.Equal, x.getId());\n            string filter2 = TableQuery.GenerateFilterCondition(\"ToWhomSend\", QueryComparisons.Equal, x.getId());\n            string finalFilter = TableQuery.CombineFilters(filter1, TableOperators.Or, filter2);\n            TableQuery&lt;ConversationEntity&gt; query = new TableQuery&lt;ConversationEntity&gt;().Where(finalFilter);\n            if (query != null)\n            {\n                ///!!!TMP!!\n                TableQuerySegment&lt;ConversationEntity&gt; cone = await tablex.ExecuteQuerySegmentedAsync(query, null).ConfigureAwait(false);\n                GC.Collect();\n\n                List&lt;ConversationEntity&gt; convEnt = sortMessages(cone);\n                for (int i = convEnt.Count - 1; i &gt;= 0; i--)\n                {\n                    if (msgs.Count == 0)\n                    {\n                        Message msg = new Message();\n                        msg.setMessage(convEnt[i].Message);\n                        msg.setWhoSend(convEnt[i].PartitionKey);\n                        msg.setToWhomSend(convEnt[i].ToWhomSend);\n                        msg.setDate(convEnt[i].RowKey);\n                        msgs.Add(msg);\n                    }\n                    else if (msgs.Count == person.getFriends().Count)\n                    {\n                        break;\n                    }\n                    else\n                    {\n                        bool found = false;\n                        for (int j = 0; j &lt; msgs.Count; j++)\n                        {\n                            if ((convEnt[i].PartitionKey.Equals(msgs[j].getToWhomSend()) &amp;&amp; convEnt[i].ToWhomSend.Equals(msgs[j].getWhoSend()))\n                                || (convEnt[i].PartitionKey.Equals(msgs[j].getWhoSend()) &amp;&amp; convEnt[i].ToWhomSend.Equals(msgs[j].getToWhomSend())))\n                            {\n                                found = true;\n                                break;\n                            }\n\n                        }\n                        if (!found)\n                        {\n                            Message msg = new Message();\n                            msg.setMessage(convEnt[i].Message);\n                            msg.setWhoSend(convEnt[i].PartitionKey);\n                            msg.setToWhomSend(convEnt[i].ToWhomSend);\n                            msg.setDate(convEnt[i].RowKey);\n                            msgs.Add(msg);\n                        }\n                    }\n\n                }\n            }\n        }\n\n        return msgs;\n    }\n</code></pre>\n"}, {"tags": ["c#", "google-bigquery", "google-sheets-api", "google-api-dotnet-client"], "comments": [{"owner": {"reputation": 2214, "user_id": 806808, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c0b2b7f56ea26e55834aeed7a16e989?s=128&d=identicon&r=PG", "display_name": "Andrey Belykh", "link": "https://stackoverflow.com/users/806808/andrey-belykh"}, "edited": false, "score": 0, "creation_date": 1439324319, "post_id": 31840686, "comment_id": 51811720, "body": "Similar (unanswered) question is here <a href=\"http://stackoverflow.com/questions/30884184\">stackoverflow.com/questions/30884184</a>"}, {"owner": {"reputation": 2424, "user_id": 3877822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bnjbb.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3877822/ryan"}, "edited": false, "score": 0, "creation_date": 1439576519, "post_id": 31840686, "comment_id": 51935170, "body": "Have you tried using this flow: <a href=\"http://stackoverflow.com/questions/19977864/nativeapplicationclient-is-not-supported-any\" title=\"nativeapplicationclient is not supported any\">stackoverflow.com/questions/19977864/&hellip;</a> but for BQ?"}, {"owner": {"reputation": 2214, "user_id": 806808, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c0b2b7f56ea26e55834aeed7a16e989?s=128&d=identicon&r=PG", "display_name": "Andrey Belykh", "link": "https://stackoverflow.com/users/806808/andrey-belykh"}, "reply_to_user": {"reputation": 2424, "user_id": 3877822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bnjbb.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3877822/ryan"}, "edited": false, "score": 0, "creation_date": 1439820007, "post_id": 31840686, "comment_id": 52003806, "body": "This is actually very close. Do you have a similar example for ServiceAccountCredential (not UserCredential)?"}, {"owner": {"reputation": 2424, "user_id": 3877822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bnjbb.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3877822/ryan"}, "edited": false, "score": 1, "creation_date": 1439829696, "post_id": 31840686, "comment_id": 52009953, "body": "Looking at the source code I don&#39;t think its possible. Reading the example project they use ServiceAccountCredentials for all except with Json. <a href=\"https://github.com/google/google-api-dotnet-client/blob/9405c89aff6cc7454619a5af560f3b7efbc3f4f6/Src/GoogleApis.Auth.DotNet4/OAuth2/ServiceAccountCredential.cs\" rel=\"nofollow noreferrer\">github.com/google/google-api-dotnet-client/blob/&hellip;</a> <a href=\"https://cloud.google.com/storage/docs/json_api/v1/json-api-dotnet-samples\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/json_api/v1/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 320679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a691c2999116bc1bef699ce110572c?s=128&d=identicon&r=PG", "display_name": "Thomas Williams", "link": "https://stackoverflow.com/users/320679/thomas-williams"}, "edited": false, "score": 0, "creation_date": 1566997331, "post_id": 32066658, "comment_id": 101830230, "body": "Please note, &quot;Not yet&quot; is in the past. Currently writing August 2019, both approaches are working well."}], "tags": [], "owner": {"reputation": 936, "user_id": 4961403, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-Ur6TOoG4YRI/AAAAAAAAAAI/AAAAAAAAAEY/aMmUc1cj7Nk/photo.jpg?sz=128", "display_name": "selva kumar", "link": "https://stackoverflow.com/users/4961403/selva-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1439884401, "creation_date": 1439884401, "answer_id": 32066658, "question_id": 31840686, "link": "https://stackoverflow.com/questions/31840686/is-it-possible-to-use-json-key-instead-of-p12-key-for-service-account-credential/32066658#32066658", "title": "Is it possible to use json key instead of p12 key for service account credentials?", "body": "<p>I got the link, Which indicates <strong>Service Account Authentication using JSON file in C# application is not yet added in Google BigQuery API</strong>.</p>\n\n<p><a href=\"https://github.com/google/google-api-dotnet-client/issues/533\" rel=\"nofollow\">https://github.com/google/google-api-dotnet-client/issues/533</a></p>\n"}, {"tags": [], "owner": {"reputation": 2214, "user_id": 806808, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c0b2b7f56ea26e55834aeed7a16e989?s=128&d=identicon&r=PG", "display_name": "Andrey Belykh", "link": "https://stackoverflow.com/users/806808/andrey-belykh"}, "is_accepted": true, "score": 16, "last_activity_date": 1466186700, "last_edit_date": 1466186700, "creation_date": 1466186316, "answer_id": 37887618, "question_id": 31840686, "link": "https://stackoverflow.com/questions/31840686/is-it-possible-to-use-json-key-instead-of-p12-key-for-service-account-credential/37887618#37887618", "title": "Is it possible to use json key instead of p12 key for service account credentials?", "body": "<p>It is now possible (I used v 1.13.1.0 of Google APIs).</p>\n\n<p>Example for BigQuery:</p>\n\n<pre><code>GoogleCredential credential;\nusing (Stream stream = new FileStream(@\"C:\\mykey.json\", FileMode.Open, FileAccess.Read, FileShare.Read))\n{\n    credential = GoogleCredential.FromStream(stream);\n}\n\nstring[] scopes = new string[] {\n    BigqueryService.Scope.Bigquery,\n    BigqueryService.Scope.CloudPlatform, \n};\ncredential = credential.CreateScoped(scopes);\n\nBaseClientService.Initializer initializer = new BaseClientService.Initializer()\n{\n    HttpClientInitializer = (IConfigurableHttpClientInitializer)credential,\n    ApplicationName = \"My Application\",\n    GZipEnabled = true,\n};\nBigqueryService service = new BigqueryService(initializer);\n</code></pre>\n\n<p>Example for Google Sheets:</p>\n\n<pre><code>GoogleCredential credential;\nusing (Stream stream = new FileStream(@\"mykey.json\", FileMode.Open, FileAccess.Read, FileShare.Read))\n{\n    credential = GoogleCredential.FromStream(stream);\n}\ncredential = credential.CreateScoped(new[] { \n    \"https://spreadsheets.google.com/feeds\", \n    \"https://docs.google.com/feeds\" });\n\nstring bearer;\ntry\n{\n    Task&lt;string&gt; task = ((ITokenAccess)credential).GetAccessTokenForRequestAsync();\n    task.Wait();\n    bearer = task.Result;\n}\ncatch (AggregateException ex)\n{\n    throw ex.InnerException;\n}\n\nGDataRequestFactory requestFactory = new GDataRequestFactory(\"My Application\");\nrequestFactory.CustomHeaders.Add(string.Format(CultureInfo.InvariantCulture, \"Authorization: Bearer {0}\", bearer));\n\nSpreadsheetsService service = new SpreadsheetsService(\"My Application\");\nservice.RequestFactory = requestFactory;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1276, "user_id": 2453740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TC4Qy.jpg?s=128&g=1", "display_name": "James Haug", "link": "https://stackoverflow.com/users/2453740/james-haug"}, "edited": false, "score": 0, "creation_date": 1571946519, "post_id": 45921662, "comment_id": 103417399, "body": "I wonder why this is so simpler compared to the other examples above. Going to try it out."}], "tags": [], "owner": {"reputation": 1126, "user_id": 904255, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/s3Q7h.png?s=128&g=1", "display_name": "July.Tech", "link": "https://stackoverflow.com/users/904255/july-tech"}, "is_accepted": false, "score": 3, "last_activity_date": 1503931380, "creation_date": 1503931380, "answer_id": 45921662, "question_id": 31840686, "link": "https://stackoverflow.com/questions/31840686/is-it-possible-to-use-json-key-instead-of-p12-key-for-service-account-credential/45921662#45921662", "title": "Is it possible to use json key instead of p12 key for service account credentials?", "body": "<p>This is working for me:</p>\n\n<pre><code>var scopes = new[] { DriveService.Scope.Drive };\n\nServiceAccountCredential credential;\nusing (Stream stream = new FileStream(@\"C:\\path\\key.json\", FileMode.Open, FileAccess.Read, FileShare.Read))\n{\n    credential =\n        GoogleCredential.FromStream(stream).CreateScoped(scopes).UnderlyingCredential as\n            ServiceAccountCredential;\n}\n</code></pre>\n\n<p>Obviously, you would provide your own values for the <code>scopes</code> variable and for the path to the key file. You would also need to get the <code>Google.Apis.Auth.OAuth2</code> Nuget package plus whatever other service-specific package you plan on using the credential with (in my case it is <code>Google.Apis.Drive.v3</code>).</p>\n"}], "owner": {"reputation": 2214, "user_id": 806808, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c0b2b7f56ea26e55834aeed7a16e989?s=128&d=identicon&r=PG", "display_name": "Andrey Belykh", "link": "https://stackoverflow.com/users/806808/andrey-belykh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8969, "favorite_count": 4, "accepted_answer_id": 37887618, "answer_count": 3, "score": 26, "last_activity_date": 1509741280, "creation_date": 1438801094, "last_edit_date": 1509741280, "question_id": 31840686, "link": "https://stackoverflow.com/questions/31840686/is-it-possible-to-use-json-key-instead-of-p12-key-for-service-account-credential", "title": "Is it possible to use json key instead of p12 key for service account credentials?", "body": "<p>I am using \"Google.Apis.Bigquery.v2 Client Library\" with C#.</p>\n\n<p>I am authorizing to Google BigQuery using \"Service Account\" (see <a href=\"http://www.afterlogic.com/mailbee-net/docs/OAuth2GoogleServiceAccounts.html\">http://www.afterlogic.com/mailbee-net/docs/OAuth2GoogleServiceAccounts.html</a>). To create the X509 certificate I use the p12 key from the Google Developers Console. However, right now the json key is the default. Can I use it instead the p12 key?</p>\n\n<p>I have the following code:</p>\n\n<pre><code>    string serviceAccountEmail = \"xxxx@developer.gserviceaccount.com\";\n\nX509Certificate2 certificate;\nusing (Stream stream = new FileStream(@\"C:\\key.p12\", FileMode.Open, FileAccess.Read, FileShare.Read))\n{\n    using (MemoryStream ms = new MemoryStream())\n    {\n        stream.CopyTo(ms);\n        certificate = new X509Certificate2(ms.ToArray(), \"notasecret\", X509KeyStorageFlags.Exportable);\n    }\n}\n\n// Create credentials\nServiceAccountCredential credential = new ServiceAccountCredential(\n    new ServiceAccountCredential.Initializer(serviceAccountEmail)\n    {\n        Scopes = new[] {\n        BigqueryService.Scope.Bigquery,\n        BigqueryService.Scope.CloudPlatform,\n    },\n    }.FromCertificate(certificate));\n\n// Create the service\nBaseClientService.Initializer initializer = new BaseClientService.Initializer()\n{\n    HttpClientInitializer = credential,\n    ApplicationName = \"My Application\",\n    GZipEnabled = true,\n};\n\nBigqueryService service = new BigqueryService(initializer);\nvar projects = service.Projects.List().Execute();\n</code></pre>\n"}, {"tags": ["c#", "azure", "service", "xamarin"], "owner": {"reputation": 358, "user_id": 3402016, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/aab5d44810d828d216b3843f8a862550?s=128&d=identicon&r=PG&f=1", "display_name": "OneBigQuestion", "link": "https://stackoverflow.com/users/3402016/onebigquestion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438800924, "creation_date": 1438800924, "question_id": 31840625, "link": "https://stackoverflow.com/questions/31840625/azure-media-service-for-shared-app", "title": "Azure media service for shared app", "body": "<p>I've been trying to use the Azure Media Service for a shared native app in Visual Studio 2015.. But whenever i try to install the windowazure.mediaservices.extensions package, i get an error because apparently it isn't cross platform compatible on all three OS. However i can add another nuget Microsoft.windowsAzure.Managment.MediaServices - but it does not give me the same namespace as the one i get with the media services samples i downloaded earlier.</p>\n\n<p>Does anyone have experince with the two nugets - and can tell me the difference? And if so - could provide me with a link to a sample that uses the last mentioned nuget.</p>\n\n<p>An additional remark/question - i cannot get it to work on xamarin.forms either - not on shared or portable project.</p>\n"}, {"tags": ["c#", "arrays", "com", "vb6", "com-interop"], "answers": [{"comments": [{"owner": {"reputation": 1274, "user_id": 3742925, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d85fd96f8f44758ba76f7a793c8e70c7?s=128&d=identicon&r=PG&f=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/3742925/aurora"}, "edited": false, "score": 0, "creation_date": 1438807540, "post_id": 31841380, "comment_id": 51606500, "body": "Unfortunately, this will only work if the class contains a single array of instances. As soon as there are two or more arrays present, the indexed <code>this</code> property will lead to an ambiguous symbol."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 1274, "user_id": 3742925, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d85fd96f8f44758ba76f7a793c8e70c7?s=128&d=identicon&r=PG&f=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/3742925/aurora"}, "edited": false, "score": 1, "creation_date": 1438811759, "post_id": 31841380, "comment_id": 51608515, "body": "Design your object model to mesh well with the tools you have available.  Note that you can declare the interfaces in VB.NET code, it allows arbitrary indexed properties."}, {"owner": {"reputation": 1274, "user_id": 3742925, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d85fd96f8f44758ba76f7a793c8e70c7?s=128&d=identicon&r=PG&f=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/3742925/aurora"}, "edited": false, "score": 0, "creation_date": 1438811961, "post_id": 31841380, "comment_id": 51608581, "body": "Your second VB6 code snippet seems to lead into the right direction. However, I&#39;m having trouble utilizing the syntax from the second nested array onward. <code>str = c1.m_Class2Instances()(0).m_sStr</code> works, while <code>str = c1.m_Class2Instances()(0).m_Class3Instances()(0).m_sStr</code> leads to a syntax error."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 1274, "user_id": 3742925, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d85fd96f8f44758ba76f7a793c8e70c7?s=128&d=identicon&r=PG&f=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/3742925/aurora"}, "edited": false, "score": 0, "creation_date": 1438812105, "post_id": 31841380, "comment_id": 51608646, "body": "Hard to believe you are actually using it.  You&#39;re on your own, good luck with it."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 3, "last_activity_date": 1438806069, "last_edit_date": 1438806069, "creation_date": 1438803439, "answer_id": 31841380, "question_id": 31840567, "link": "https://stackoverflow.com/questions/31840567/c-to-vb6-interop-indexed-array-properties-are-not-accessible-across-nested-com/31841380#31841380", "title": "C# to VB6 interop: indexed array properties are not accessible across nested COM interfaces", "body": "<p>I've retired VB6 a long time ago and can't check this anymore.  But it is almost certainly suffering from a syntax ambiguity.  Did you mean to index the property or the return value of the property?  You like the latter interpretation but that's not what it does.  You'd have to write something like this:</p>\n\n<pre><code>  str = (c1.m_Class2Instances)(0).m_sStr\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>  str = c1.m_Class2Instances()(0).m_sStr\n</code></pre>\n\n<p>No real idea if this can compile.  Bleh anyway.</p>\n\n<hr>\n\n<p>You need to get ahead by actually writing an indexed property.  Like this:</p>\n\n<pre><code>public interface IClass1 {\n    Class2 this[int index] { get; set; }\n}\n\npublic class Class1 : IClass1 {\n    private List&lt;Class2&gt; lstClass2 = new List&lt;Class2&gt;();\n    public Class1() {\n        for (int i = 0; i &lt; 5; i++) lstClass2.Add(new Class2());\n    }\n\n    public Class2 this[int index] {\n        get { return lstClass2[index]; }\n        set { lstClass2[index] = value; }\n    }\n}\n</code></pre>\n\n<p>Note how this also makes it a <em>lot</em> less painful to let the VB6 code iterate the array.  You are not creating a new array over and over again.  The VB6 code gets short and sweet as well:</p>\n\n<pre><code>Dim c1 As New cslib.Class1\nDim str = c1(0).m_sStr\n</code></pre>\n\n<p>If you really, <em>really</em> need to return or assign a complete array then you must use a method instead.</p>\n"}], "owner": {"reputation": 1274, "user_id": 3742925, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d85fd96f8f44758ba76f7a793c8e70c7?s=128&d=identicon&r=PG&f=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/3742925/aurora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 1, "accepted_answer_id": 31841380, "answer_count": 1, "score": 3, "last_activity_date": 1438806069, "creation_date": 1438800727, "last_edit_date": 1438801159, "question_id": 31840567, "link": "https://stackoverflow.com/questions/31840567/c-to-vb6-interop-indexed-array-properties-are-not-accessible-across-nested-com", "title": "C# to VB6 interop: indexed array properties are not accessible across nested COM interfaces", "body": "<p>I would like to publish a C# class library via COM interop, so that it may be used by VB6 clients. For demonstration purposes, consider the following snippet:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Runtime.InteropServices;\n\nnamespace cslib\n{\n    [ComVisible(true)]\n    [Guid(\"...\")]\n    public interface IClass2\n    {\n        string m_sStr { get; set; }\n    }\n\n    [ComVisible(true)]\n    [Guid(\"...\")]\n    [ClassInterface(ClassInterfaceType.None)]\n    public class Class2 : IClass2\n    {\n        public Class2()\n        {\n            m_sStr = \"Hello\";\n        }\n\n        public string m_sStr { get; set; }\n    }\n\n    [ComVisible(true)]\n    [Guid(\"...\")]\n    public interface IClass1\n    {\n        Class2[] m_Class2Instances { get; set; }\n    }\n\n    [ComVisible(true)]\n    [Guid(\"...\")]\n    [ClassInterface(ClassInterfaceType.None)]\n    public class Class1 : IClass1\n    {\n        public Class1()\n        {\n            List&lt;Class2&gt; lstClass2 = new List&lt;Class2&gt;();\n\n            for (int i = 0; i &lt; 5; i++)\n                lstClass2.Add(new Class2());\n\n            m_Class2Instances = lstClass2.ToArray();\n        }\n\n        public Class2[] m_Class2Instances { get; set; }\n    }\n}\n</code></pre>\n\n<p>After registering the library on the system, the COM interface is usable in VB6. However, accessing the array property with an indexed value doesn't seem to work:</p>\n\n<pre><code>Dim c1 As New cslib.Class1\nDim str As String\n\n'Error message = Wrong number of arguments or invalid property assignment\nstr = c1.m_Class2Instances(0).m_sStr\n</code></pre>\n\n<p>The only alterative I've found is creating a temporary array variable. This allows me to access the indexed interface properly:</p>\n\n<pre><code>Dim c1 As New cslib.Class1\nDim str As String\n\n'Works, but requires detour via temp array\nDim arrc2() As cslib.Class2\narrc2 = c1.m_Class2Instances\n\nstr = arrc2(0).m_sStr\n</code></pre>\n\n<p>Unfortunately, the array I've illustrated here is a mere simplification. In real life, I need to access COM interfaces, which are located deep inside nested array structures. For instance, the following class structure...</p>\n\n<pre><code>Class1\n    Class2[]\n        Class3[]\n            Class4[]\n</code></pre>\n\n<p>...would ultimately force me to create three temporary array variables, before I can actually access an instance of Class4. </p>\n\n<p>Is this a limitation of VB6? If so, is there any way to access nested array interfaces without cluttering the code with temporary variables?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2"], "answers": [{"comments": [{"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 1, "creation_date": 1438801514, "post_id": 31840698, "comment_id": 51603107, "body": "I do not catch exceptions in an action as this is a cross cutting concern and should be integrated with the web api pipeline as I did with the global exception handler."}, {"owner": {"reputation": 42796, "user_id": 929902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7ORhC.jpg?s=128&g=1", "display_name": "Teoman shipahi", "link": "https://stackoverflow.com/users/929902/teoman-shipahi"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438809506, "post_id": 31840698, "comment_id": 51607524, "body": "@Elisabeth You should still throw exceptions in action methods, thus global exceptions are mostly used for logging purposes. How would you validate parameters and throw exceptions when argument is null, not formatted etc?"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "reply_to_user": {"reputation": 42796, "user_id": 929902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7ORhC.jpg?s=128&g=1", "display_name": "Teoman shipahi", "link": "https://stackoverflow.com/users/929902/teoman-shipahi"}, "edited": false, "score": 0, "creation_date": 1438850468, "post_id": 31840698, "comment_id": 51621893, "body": "@Teomanshipahi If I understand you correctly: When an invalid parameter is passed then my generic model validation is executed in an Action Filter which returns an BadRequest (400). No need for throwing an exception. There is never a need to throw an Internal Server Error exception. They just happen and get logged not more. If you want to catch and handle business exceptions happening inside an action then use Exception Filters and return the appropriate response."}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "reply_to_user": {"reputation": 42796, "user_id": 929902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7ORhC.jpg?s=128&g=1", "display_name": "Teoman shipahi", "link": "https://stackoverflow.com/users/929902/teoman-shipahi"}, "edited": false, "score": 0, "creation_date": 1438876984, "post_id": 31840698, "comment_id": 51640670, "body": "@Teomanshipahi I know that link. And all I said is inside that link. I would not throw a &quot;throw new HttpResponseException(HttpStatusCode.NotFound);&quot; inside an action. If a resource is not found in the Repository then the Repository has to throw a ResourceNotFoundException which is caught inside the ExceptionFilter."}, {"owner": {"reputation": 42796, "user_id": 929902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7ORhC.jpg?s=128&g=1", "display_name": "Teoman shipahi", "link": "https://stackoverflow.com/users/929902/teoman-shipahi"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438877391, "post_id": 31840698, "comment_id": 51640938, "body": "@Elisabeth Not agree on this. Responsibility of repository is CRUD to data source. It should catch and throw exception related to data. (Db connection, stored procedure exceptions etc..) If repository did not find a result (which is not an exception), it returns null or empty list, and  (Web API) throws exception as content not found. You just pass all your exceptions into one field for all your purposes which does not smell good to me."}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438885474, "post_id": 31840698, "comment_id": 51645467, "body": "Yes all my exceptions are handled in the globalExceptionHandler(500) and the others like NotFound in ExceptionFilters. I use the web api architecture as much as I can. Empty List would mean you asked for &quot;Many&quot; not a certain resource then a NotFound() makes no sense. But I agree return null from Repo is fine too."}], "tags": [], "owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438801120, "creation_date": 1438801120, "answer_id": 31840698, "question_id": 31840557, "link": "https://stackoverflow.com/questions/31840557/web-api-always-returns-http-status-code-200-when-an-exception-occurs/31840698#31840698", "title": "Web Api always returns http status code 200 when an exception occurs", "body": "<p>I do it like this...</p>\n\n<pre><code>    [HttpPost]\n    public HttpResponseMessage Post()\n    {\n        try\n        {\n            // Do stuff\n        }\n        catch (Exception ex)\n        {\n            // Something went wrong - Return Status Internal Server Error\n            return new HttpResponseMessage(HttpStatusCode.InternalServerError);\n        }\n    }\n</code></pre>\n\n<p>Works same for a Get.</p>\n"}, {"tags": [], "owner": {"reputation": 3013, "user_id": 3929712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WDIqK.jpg?s=128&g=1", "display_name": "Midhun Mundayadan", "link": "https://stackoverflow.com/users/3929712/midhun-mundayadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1438809121, "last_edit_date": 1438809121, "creation_date": 1438801506, "answer_id": 31840810, "question_id": 31840557, "link": "https://stackoverflow.com/questions/31840557/web-api-always-returns-http-status-code-200-when-an-exception-occurs/31840810#31840810", "title": "Web Api always returns http status code 200 when an exception occurs", "body": "<p>You could use next code for custom error:</p>\n\n<pre><code>return Content(HttpStatusCode.NotFound, \"Foo does not exist.\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438801761, "post_id": 31840813, "comment_id": 51603257, "body": "I already had the Nice..class implemented and did that:             var response = new HttpResponseMessage(); I just did not pass the status code ;-) Thanks and it worked!"}, {"owner": {"reputation": 9368, "user_id": 5147646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363361e45f7631449119f8897267a271?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Booker", "link": "https://stackoverflow.com/users/5147646/alex-booker"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438801844, "post_id": 31840813, "comment_id": 51603301, "body": "@Elisabeth Oh, awesome. If this answer answered your question then please consider marking it as accepted :)"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438802707, "post_id": 31840813, "comment_id": 51603792, "body": "btw. I am confused, what do you mean with your last paragraph:&quot;I cannot discern...&quot; ? Should I change something or you see something bad? What I meant is when a status code 500 is returned to my html client it shows a general error dialog with the id of the logged exception. When a 204 /200 whatever is returned then of course this dialog is not shown. I hope its more clear now?"}, {"owner": {"reputation": 9368, "user_id": 5147646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363361e45f7631449119f8897267a271?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Booker", "link": "https://stackoverflow.com/users/5147646/alex-booker"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1438803411, "post_id": 31840813, "comment_id": 51604186, "body": "@Elisabeth I <i>meant</i> I did not understand that part of the question but it does not matter - I removed that part from my answer. I am curious as to why this was downvoted...?"}], "tags": [], "owner": {"reputation": 9368, "user_id": 5147646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363361e45f7631449119f8897267a271?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Booker", "link": "https://stackoverflow.com/users/5147646/alex-booker"}, "is_accepted": true, "score": 1, "last_activity_date": 1438803363, "last_edit_date": 1438803363, "creation_date": 1438801509, "answer_id": 31840813, "question_id": 31840557, "link": "https://stackoverflow.com/questions/31840557/web-api-always-returns-http-status-code-200-when-an-exception-occurs/31840813#31840813", "title": "Web Api always returns http status code 200 when an exception occurs", "body": "<p>You need to set the status code on the <code>IHttpActionResult</code>:</p>\n\n<pre><code>public class NiceInternalServerExceptionResponse : IHttpActionResult\n{\n    public string Message { get; private set; }        \n    public HttpStatusCode StatusCode { get; private set; }\n\n    public NiceInternalServerExceptionResponse(\n        string message, \n        HttpStatusCode code)\n    {\n        Message = message;\n        StatusCode = code; \n    }\n\n    public Task&lt;HttpResponseMessage&gt; ExecuteAsync(CancellationToken cancellationToken)\n    {\n        var response = new HttpResponseMessage(StatusCode);\n        response.Content = new StringContent(Message);\n        return Task.FromResult(response);\n    }\n}\n</code></pre>\n\n<p>And in your <code>GlobalExceptionHandler</code> pass <code>HttpStatusCode.InternalServerError</code> (500):</p>\n\n<pre><code>public override void Handle(ExceptionHandlerContext context)\n{\n    context.Result = new NiceInternalServerExceptionResponse(\n        \"The current operation could not be completed sucessfully.\",\n        HttpStatusCode.InternalServerError);\n}\n</code></pre>\n"}], "owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6080, "favorite_count": 0, "accepted_answer_id": 31840813, "answer_count": 3, "score": 6, "last_activity_date": 1438809121, "creation_date": 1438800686, "question_id": 31840557, "link": "https://stackoverflow.com/questions/31840557/web-api-always-returns-http-status-code-200-when-an-exception-occurs", "title": "Web Api always returns http status code 200 when an exception occurs", "body": "<pre><code>public class GlobalExceptionHandler : ExceptionHandler\n{\n    public override void Handle(ExceptionHandlerContext context)\n    {\n\n        context.Result = new NiceInternalServerExceptionResponse(\"The current operation could not be completed sucessfully.);\n    }\n}\n</code></pre>\n\n<p>When a call this Get action:</p>\n\n<pre><code>        [HttpGet]\n        public async Task&lt;IHttpActionResult&gt; Get()\n        {\n            Convert.ToInt16(\"this causes an exception state\");\n            var data = await service.Get();\n            return Ok(data);\n        }\n</code></pre>\n\n<p>An exception is raised... and my global exc handler is triggered.</p>\n\n<p>When my custom response is returned to the client my fiddler always says:</p>\n\n<p>Result: 200</p>\n\n<p>I could also change the <code>return Ok(data);</code> to <code>return NotFound();</code></p>\n\n<p>That will not change anything in the result status code.</p>\n\n<p>How can I overwrite/intercept the http status creation and return my own status code 500 instead?</p>\n\n<p>On my web client I need to show a nice error dialog with a logging id + error message ONLY when status code 500 is returned.</p>\n"}, {"tags": ["c#", "dll", "gac", "ilmerge"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1438803638, "post_id": 31840526, "comment_id": 51604298, "body": "d3dcompiler_47.dll is a purely unmanaged DLL, it cannot be merged and cannot be added to the GAC.  Use the common way to merge executable files, surely you&#39;ve used Setup.exe before.  Also useful to avoid deploying this DLL when the machine already has it."}, {"owner": {"reputation": 84, "user_id": 1779987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214714af61928d93d725ff1f16abfee2?s=128&d=identicon&r=PG", "display_name": "Mark Rover2341", "link": "https://stackoverflow.com/users/1779987/mark-rover2341"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1438984485, "post_id": 31840526, "comment_id": 51691917, "body": "I am unable to use the common way, with Encompass360 The Program that allows me to give it a single dll for a form. But Thank you for the information."}], "answers": [{"tags": [], "owner": {"reputation": 2764, "user_id": 615903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b811847c8ab1ffa834c86245fbab5562?s=128&d=identicon&r=PG", "display_name": "Gluck", "link": "https://stackoverflow.com/users/615903/gluck"}, "is_accepted": false, "score": 1, "last_activity_date": 1439378417, "creation_date": 1439378417, "answer_id": 31963730, "question_id": 31840526, "link": "https://stackoverflow.com/questions/31840526/d3dcompiler-47-dll-ilmerge-failing-also-wont-add-to-gac-any-idea/31963730#31963730", "title": "d3dcompiler_47.dll, ILMerge failing. Also wont add to GAC. Any Idea?", "body": "<p>As Hans said, you can't use ILMerge for unmanaged dlls.</p>\n\n<p>Fody <a href=\"https://github.com/Fody/Costura\" rel=\"nofollow\">Costura</a> however should work, at least it says so in its features.</p>\n"}], "owner": {"reputation": 84, "user_id": 1779987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214714af61928d93d725ff1f16abfee2?s=128&d=identicon&r=PG", "display_name": "Mark Rover2341", "link": "https://stackoverflow.com/users/1779987/mark-rover2341"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439378417, "creation_date": 1438800621, "last_edit_date": 1495542244, "question_id": 31840526, "link": "https://stackoverflow.com/questions/31840526/d3dcompiler-47-dll-ilmerge-failing-also-wont-add-to-gac-any-idea", "title": "d3dcompiler_47.dll, ILMerge failing. Also wont add to GAC. Any Idea?", "body": "<p>Goal: I need all the files in my bin to be grouped into a single dll. or added to the GAC</p>\n\n<p>I am using CefSharp To run chromium in a windows form.\nWe are using some software that will only allow me to add one dll (no other files).</p>\n\n<p>I have access to the GAC on all machines. And I have been using ILMerge to attempt to bundle the files with the dll.</p>\n\n<p>I have been able to get all the files to bundle except for.  d3dcompiler_47.dll </p>\n\n<p>When I try to add to GAC it tells me it has a bad manfiest.\nWhen I try to bundle d3dcompiler_47.dll with my dll, it says </p>\n\n<blockquote>\n  <p>\"System.BadImageFormatException: Could not load file or assembly\n  'd3dcompiler_47.dll' or one of its dependencies. The module was\n  expected to contain an assembly manifest. File name:\n  'd3dcompiler_47.dll' ---> System.BadImageFormatException: Could not\n  load file or assembly 'd3dcompiler_47.dll' or one of its dependencies.\n  The module was expected to contain an assembly manifest. File name:\n  'd3dcompiler_47.dll'\"</p>\n</blockquote>\n\n<p>(I have reviewed this but found that its 2 versions of d3d... do not work with  CefSharp)\n <a href=\"https://stackoverflow.com/questions/24546453/api-ms-win-core-libraryloader-l1-2-0-dll-missing-when-d3dcompiler-47-dll-is-redi/24548796#24548796\">api-ms-win-core-libraryloader-l1-2-0.dll missing when d3dcompiler_47.dll is redistributed</a></p>\n\n<p>Is there anyway to add d3dcompiler_47 (from CefSharp) to bundle or be added to the GAC?</p>\n"}, {"tags": ["c#", "wcf", "iis", "websocket"], "comments": [{"owner": {"reputation": 2304, "user_id": 4788169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0c339fd5d392ebcbcab16e71581be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jtabuloc", "link": "https://stackoverflow.com/users/4788169/jtabuloc"}, "edited": false, "score": 0, "creation_date": 1439458837, "post_id": 31840443, "comment_id": 51874231, "body": "Any progress with this question?"}], "answers": [{"comments": [{"owner": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "edited": false, "score": 0, "creation_date": 1439023812, "post_id": 31888020, "comment_id": 51699624, "body": "I want to use Self-Singed Certificate instead of SSL"}, {"owner": {"reputation": 84, "user_id": 1637854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc894046c3514e04db124c5797f816f2?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/1637854/brad"}, "reply_to_user": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "edited": false, "score": 0, "creation_date": 1439079354, "post_id": 31888020, "comment_id": 51714581, "body": "I don&#39;t get what you mean... Do you plan to use the cert as a credential but not encrypt traffic with it? You might also need to look at adding the correct permissions to the certificate so your application has access to the private key of the cert."}], "tags": [], "owner": {"reputation": 84, "user_id": 1637854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc894046c3514e04db124c5797f816f2?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/1637854/brad"}, "is_accepted": false, "score": 0, "last_activity_date": 1438990264, "creation_date": 1438990264, "answer_id": 31888020, "question_id": 31840443, "link": "https://stackoverflow.com/questions/31840443/the-most-efficient-way-to-secure-wcf-nethttpbinding/31888020#31888020", "title": "the most efficient way to secure WCF NetHttpBinding", "body": "<p>Seems like it might have something to do with the certificate you have registered as a service credential.</p>\n\n<p>I'd try removing the <code>serviceCertificate</code> from the <code>serviceBehaviours</code>.</p>\n\n<p>If you want to enforce SSL via that certificate then I would update your security mode in the binding section to <code>TransportWithMessageCredential</code> and change your protocol mapping scheme to <code>https</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "edited": false, "score": 2, "creation_date": 1439236652, "post_id": 31891837, "comment_id": 51768270, "body": "Guys, I think you should use <code>netHttpsBinding</code> instead of doing those mappings. Just a thought."}, {"owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "edited": false, "score": 0, "creation_date": 1439236899, "post_id": 31891837, "comment_id": 51768384, "body": "Also, The reason you had to set the <code>baseAddress</code> to resolve the &quot;could not find...&quot; problem is  due to the fact that the application did not register the address with HTTP.sys (since you did the mapping, but nothing was actually bound on the an https address). Using the right binding should solve that."}, {"owner": {"reputation": 2304, "user_id": 4788169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0c339fd5d392ebcbcab16e71581be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jtabuloc", "link": "https://stackoverflow.com/users/4788169/jtabuloc"}, "reply_to_user": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "edited": false, "score": 0, "creation_date": 1439261891, "post_id": 31891837, "comment_id": 51776490, "body": "Thanks for info, I&#39;ve thought it already but I refrain my self to change his binding &#39;cause that&#39;s the way he want it. Nonetheless, netHttpBinding still valid for this question :)"}], "tags": [], "owner": {"reputation": 2304, "user_id": 4788169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0c339fd5d392ebcbcab16e71581be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jtabuloc", "link": "https://stackoverflow.com/users/4788169/jtabuloc"}, "is_accepted": false, "score": 6, "last_activity_date": 1439098282, "last_edit_date": 1439098282, "creation_date": 1439027425, "answer_id": 31891837, "question_id": 31840443, "link": "https://stackoverflow.com/questions/31840443/the-most-efficient-way-to-secure-wcf-nethttpbinding/31891837#31891837", "title": "the most efficient way to secure WCF NetHttpBinding", "body": "<p>I think you are almost near to the solution. I tried to replicate your problem and this is how I came up.</p>\n\n<ol>\n<li>Add and set httpsGetEnabled to true in your ServiceMetadata. MetaData exchange will happen in HTTPS :</li>\n</ol>\n\n<blockquote>\n  <p><code>&lt;serviceMetadata httpGetEnabled=\"True\" httpsGetEnabled=\"True\" /&gt;</code></p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Change mexHttpBinding to mexHttpsBinding :</li>\n</ol>\n\n<blockquote>\n  <p><code>&lt;endpoint address=\"mex\" binding=\"mexHttpsBinding\"\n  contract=\"IMetadataExchange\"/&gt;</code></p>\n</blockquote>\n\n<ol start=\"3\">\n<li>In your binding add this :</li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;netHttpBinding&gt;\n   &lt;binding name=\"netHttpBinding\"&gt;\n       &lt;security mode=\"TransportWithMessageCredential\"&gt;\n           &lt;message clientCredentialType=\"UserName\"/&gt;\n       &lt;/security&gt;\n   &lt;/binding&gt;\n&lt;/netHttpBinding&gt;\n</code></pre>\n</blockquote>\n\n<ol start=\"4\">\n<li>Since netHttpBinding used http by default, we need some mapping.   </li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;protocolMapping&gt;\n    &lt;add scheme=\"https\" binding=\"netHttpBinding\"/&gt;\n&lt;/protocolMapping&gt;\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>For some reason even I change the protocolMapping to use HTTPS for netHttpBinding I still getting an error that says <strong><em>\"Could not find a base address that matches scheme https for the endpoint with binding NetHttpBinding. Registered base address schemes are [http].\"</em></strong>. </li>\n</ol>\n\n<p>So what I did is, I added based address under my service like this :</p>\n\n<blockquote>\n<pre><code>&lt;host&gt;\n    &lt;baseAddresses&gt;\n       &lt;add baseAddress=\"https://localhost/Services/\"/&gt;\n    &lt;/baseAddresses&gt;\n&lt;/host&gt;\n</code></pre>\n</blockquote>\n\n<p>You may escape step five if you didn't see any error message highlighted above. I just put it here in case.</p>\n\n<p><strong>Note :</strong> I installed my certificate in certificate store under Personal and the CA in trusted Root Certificate. This example is only working under the same machine since my certificate name is just localhost. By the way I used .Net framework 4.5 here.</p>\n\n<p>Below is my complete configuration :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;system.serviceModel&gt;\n    &lt;services&gt;\n      &lt;service name=\"WcfServiceLibrary1.Service1\" behaviorConfiguration=\"ServiceBehavior\"&gt;\n        &lt;host&gt;\n          &lt;baseAddresses&gt;\n            &lt;add baseAddress=\"https://localhost/Services/\"/&gt;\n          &lt;/baseAddresses&gt;\n        &lt;/host&gt;\n        &lt;endpoint address=\"\" binding=\"netHttpBinding\"  bindingConfiguration=\"netHttpBinding\" contract=\"WcfServiceLibrary1.IService1\" name=\"WcfServiceLibrary1.IService1\"/&gt;\n        &lt;endpoint address=\"mex\" binding=\"mexHttpsBinding\" contract=\"IMetadataExchange\" listenUriMode=\"Explicit\" /&gt;\n      &lt;/service&gt;\n    &lt;/services&gt;\n    &lt;behaviors&gt;\n      &lt;serviceBehaviors &gt;\n        &lt;behavior name=\"ServiceBehavior\"&gt;\n          &lt;serviceCredentials&gt;\n            &lt;serviceCertificate findValue=\"localhost\" storeLocation=\"LocalMachine\" storeName=\"My\" x509FindType=\"FindBySubjectName\" /&gt;\n            **&lt;!-- Retain your custom username password validator here --&gt;**\n          &lt;/serviceCredentials&gt;\n          &lt;serviceMetadata httpGetEnabled=\"True\" httpsGetEnabled=\"True\" /&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"False\" /&gt;\n        &lt;/behavior&gt;\n      &lt;/serviceBehaviors&gt;\n    &lt;/behaviors&gt;\n    &lt;bindings&gt;\n      &lt;netHttpBinding&gt;\n        &lt;binding name=\"netHttpBinding\"&gt;\n          &lt;security mode=\"TransportWithMessageCredential\"&gt;\n            &lt;message clientCredentialType=\"UserName\"/&gt;\n          &lt;/security&gt;\n        &lt;/binding&gt;\n      &lt;/netHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;protocolMapping&gt;\n      &lt;add scheme=\"https\" binding=\"netHttpBinding\"/&gt;\n    &lt;/protocolMapping&gt;\n  &lt;/system.serviceModel&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}], "owner": {"reputation": 3083, "user_id": 1252303, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PcnRs.jpg?s=128&g=1", "display_name": "Saman Gholami", "link": "https://stackoverflow.com/users/1252303/saman-gholami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1686, "favorite_count": 3, "answer_count": 2, "score": 12, "last_activity_date": 1439098282, "creation_date": 1438800336, "last_edit_date": 1438800633, "question_id": 31840443, "link": "https://stackoverflow.com/questions/31840443/the-most-efficient-way-to-secure-wcf-nethttpbinding", "title": "the most efficient way to secure WCF NetHttpBinding", "body": "<p>I am going to implement a web service which is working under <code>NetHttpBinding</code>to support duplex connection. But the problem is I don't know how to secure it. I've tried to use <code>CostumUserNamePasswordValidationMode</code>, this is my <code>web.config</code>:</p>\n\n<pre><code>&lt;behaviors&gt;\n      &lt;serviceBehaviors&gt;\n        &lt;behavior name=\"Behavior1\"&gt;\n          &lt;serviceMetadata httpGetEnabled=\"true\"/&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"true\"/&gt;\n          &lt;serviceCredentials&gt;\n            &lt;serviceCertificate findValue=\"MyWebSite\"\n                  storeLocation=\"LocalMachine\"\n                  storeName=\"My\"\n                  x509FindType=\"FindBySubjectName\" /&gt;\n            &lt;userNameAuthentication userNamePasswordValidationMode=\"Custom\"\n             customUserNamePasswordValidatorType=\"WcfWSChat.UserNamePassValidator, WcfWSChat\" /&gt;\n          &lt;/serviceCredentials&gt;\n        &lt;/behavior&gt;\n      &lt;/serviceBehaviors&gt;\n    &lt;/behaviors&gt;\n    &lt;bindings&gt;\n      &lt;netHttpBinding&gt;\n        &lt;binding name=\"Binding1\"&gt;\n          &lt;security mode=\"Message\"&gt;\n            &lt;message clientCredentialType=\"UserName\"/&gt;\n          &lt;/security&gt;\n        &lt;/binding&gt;\n      &lt;/netHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;protocolMapping&gt;\n      &lt;add scheme=\"http\" binding=\"netHttpBinding\"/&gt;\n    &lt;/protocolMapping&gt;\n    &lt;services&gt;\n      &lt;service name=\"WcfWSChat.WSChatService\" \n               behaviorConfiguration=\"Behavior1\" &gt;\n        &lt;endpoint address=\"\" \n                  binding=\"netHttpBinding\"\n                  bindingConfiguration=\"Binding1\"\n                  contract=\"WcfWSChat.IWSChatService\" /&gt;\n        &lt;endpoint contract=\"IMetadataExchange\" binding=\"mexHttpBinding\" address=\"mex\" /&gt;\n      &lt;/service&gt;\n    &lt;/services&gt;\n</code></pre>\n\n<p>I think the problem is <code>&lt;security mode=\"Message\"&gt;</code>, whenever I run the project, whether on IIS Express or IIS 8.0, I will get this error:</p>\n\n<blockquote>\n  <p>Could not find a base address that matches scheme https for the endpoint with binding NetHttpBinding. Registered base address schemes are [http].</p>\n</blockquote>\n\n<p>If I change <code>mode</code> property to <code>None</code>, I won't see the error anymore but the validation is not working!</p>\n\n<p>How can I solve this problem? </p>\n"}, {"tags": ["c#", "aforge", "hough-transform"], "comments": [{"owner": {"reputation": 11114, "user_id": 363437, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f866fca5a7395a360cca27b5e9da0ed7?s=128&d=identicon&r=PG", "display_name": "vidstige", "link": "https://stackoverflow.com/users/363437/vidstige"}, "edited": false, "score": 0, "creation_date": 1438800599, "post_id": 31840442, "comment_id": 51602562, "body": "do the lines you draw in the end based in the detected line parameterization look right?"}, {"owner": {"reputation": 9932, "user_id": 1839777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a382084bb1495af216e9a847c727d92e?s=128&d=identicon&r=PG", "display_name": "vonbrand", "link": "https://stackoverflow.com/users/1839777/vonbrand"}, "edited": false, "score": 0, "creation_date": 1438801643, "post_id": 31840442, "comment_id": 51603199, "body": "What do you expect, what do you get? Without that, all we can say is that it works as written..."}], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 2509631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3ec13d80ebfcf9c7c8c57776fa3b93b?s=128&d=identicon&r=PG", "display_name": "Chris S.", "link": "https://stackoverflow.com/users/2509631/chris-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1466422310, "creation_date": 1466422310, "answer_id": 37921455, "question_id": 31840442, "link": "https://stackoverflow.com/questions/31840442/slope-of-a-line-using-houghline-transformation-c-aforge-net/37921455#37921455", "title": "Slope of a line using houghline transformation c# Aforge.Net", "body": "<p>I think that you forget to apply a edge detection Filter, like Sobel. The Hough Line of Aforge uses every not black pixel to calculate a Line. If you have a large colored area, you will have many Lines with 45 and 135 slope degree.</p>\n\n<p>Hope I understood what your question was.</p>\n"}], "owner": {"reputation": 21, "user_id": 5195229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7246f78f5ed1a750c34522eb87b04e34?s=128&d=identicon&r=PG&f=1", "display_name": "ADDANKI GODA DEVI", "link": "https://stackoverflow.com/users/5195229/addanki-goda-devi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1072, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1466422310, "creation_date": 1438800333, "question_id": 31840442, "link": "https://stackoverflow.com/questions/31840442/slope-of-a-line-using-houghline-transformation-c-aforge-net", "title": "Slope of a line using houghline transformation c# Aforge.Net", "body": "<p>I used the code from aforge.net library</p>\n\n<pre><code> HoughLineTransformation lineTransform = new HoughLineTransformation( );\n  // apply Hough line transofrm\n  lineTransform.ProcessImage( sourceImage );\n Bitmap houghLineImage = lineTransform.ToBitmap( );\n // get lines using relative intensity\n HoughLine[] lines = lineTransform.GetLinesByRelativeIntensity( 0.5 );\n\nforeach ( HoughLine line in lines )\n {\n  // get line's radius and theta values\n  int    r = line.Radius;\ndouble t = line.Theta;\n\n// check if line is in lower part of the image\nif ( r &lt; 0 )\n{\n    t += 180;\n    r = -r;\n}\n\n// convert degrees to radians\nt = ( t / 180 ) * Math.PI;\n Console.WriteLine(\"{0},{1}\",t,r)\n\n// get image centers (all coordinate are measured relative\n// to center)\nint w2 = image.Width /2;\nint h2 = image.Height / 2;\n\ndouble x0 = 0, x1 = 0, y0 = 0, y1 = 0;\n\nif ( line.Theta != 0 )\n{\n    // none-vertical line\n    x0 = -w2; // most left point\n    x1 = w2;  // most right point\n\n    // calculate corresponding y values\n    y0 = ( -Math.Cos( t ) * x0 + r ) / Math.Sin( t );\n    y1 = ( -Math.Cos( t ) * x1 + r ) / Math.Sin( t );\n}\nelse\n{\n    // vertical line\n    x0 = line.Radius;\n    x1 = line.Radius;\n\n    y0 = h2;\n    y1 = -h2;\n}\n\n// draw line on the image\nDrawing.Line( sourceData,\n    new IntPoint( (int) x0 + w2, h2 - (int) y0 ),\n    new IntPoint( (int) x1 + w2, h2 - (int) y1 ),\n    Color.Red );\n</code></pre>\n\n<p>}</p>\n\n<p>I added Console.WriteLine(\"{0},{1}\",t,r)  for the code to display slope and radius of lines. </p>\n\n<p>In the output, the value of slope is either 45 or 135 degrees for all the lines in the image, though the image has different line slopes.\n  What could be the reason?    Please help...</p>\n\n<p>There are no compilation errors in the code.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1438800390, "post_id": 31840432, "comment_id": 51602407, "body": "Choose whichever you like <code>System.Windows.Forms.Timer</code> <code>System.Threading.Timer</code> <code>System.Timers.Timer</code>"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438800572, "post_id": 31840432, "comment_id": 51602539, "body": "This is impossible to answer without more information. Solutions would be different for single-player and multiplayer games and for distributed applications. For a networked application, this would require considerably more than a single <code>if</code>."}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 2822774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b19d5f85b5e5cabc5d7fff334ced18?s=128&d=identicon&r=PG", "display_name": "Alex Bender", "link": "https://stackoverflow.com/users/2822774/alex-bender"}, "is_accepted": false, "score": 0, "last_activity_date": 1438800500, "creation_date": 1438800500, "answer_id": 31840487, "question_id": 31840432, "link": "https://stackoverflow.com/questions/31840432/limit-action-to-once-per-minute/31840487#31840487", "title": "Limit Action to once per Minute", "body": "<p>You should store last message time, and compare current time with it.</p>\n\n<p>If difference will be less then 1 minute -- block <code>SendInfo</code></p>\n"}, {"comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438800674, "post_id": 31840489, "comment_id": 51602606, "body": "Careful with recommending <code>DateTime.Now</code>. It&#39;s only correct in limited scenarios and probably rarely-to-never in games."}, {"owner": {"reputation": 95758, "user_id": 121493, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ffcb42b1c7d36402593e2b8691db3f?s=128&d=identicon&r=PG", "display_name": "Donut", "link": "https://stackoverflow.com/users/121493/donut"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438800734, "post_id": 31840489, "comment_id": 51602646, "body": "@xxbbcc What would you suggest as an alternative?"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438800861, "post_id": 31840489, "comment_id": 51602724, "body": "It&#39;s hard to say without knowing more about the question. Games usually keep track of their own virtual time so if the game loop is stopped, the game world&#39;s time stops as well. Real-world <code>DateTime</code> would interfere with this and this could lead to various problems. If this is distributed software, times should be in UTC, not local times."}, {"owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438800887, "post_id": 31840489, "comment_id": 51602731, "body": "What Donut said, what would you suggest? I was thinking of doing this something like this: After the first initial message, it starts a countdown, and if the countdown != 0 then display the error, but if it does then go on with it."}, {"owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438800952, "post_id": 31840489, "comment_id": 51602768, "body": "This is a multiplayer game. How would I use UTC?"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438800996, "post_id": 31840489, "comment_id": 51602793, "body": "@DylanGM If this is a networked multiplayer game then every time you type DateTime.Now you&#39;re creating a bug. Your players could be in any time zone (different from your server&#39;s time zone). A single local time is guaranteed to introduce bugs."}, {"owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438801058, "post_id": 31840489, "comment_id": 51602827, "body": "Can you give me your thoughts on how I could use it without creating a bug? Or do you suggest a different way?"}, {"owner": {"reputation": 95758, "user_id": 121493, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ffcb42b1c7d36402593e2b8691db3f?s=128&d=identicon&r=PG", "display_name": "Donut", "link": "https://stackoverflow.com/users/121493/donut"}, "edited": false, "score": 0, "creation_date": 1438801119, "post_id": 31840489, "comment_id": 51602863, "body": "You can just use <code>DateTime.UtcNow</code>, I&#39;ve updated my answer. You&#39;re not <i>necessarily</i> going to create a bug by using <code>DateTime.Now</code> (for example, if this value is only ever going to be used locally on the client). Although it could make things easier by just always using UTC."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438801139, "post_id": 31840489, "comment_id": 51602879, "body": "@DylanGM Not based on your current question. You should edit it with a lot more detail - is this on the server or on a client? Who keeps track of &#39;official time&#39; for the entire game? Is this in-game or out-of-game (like chat)? This is a fairly broad problem and there are many possible solutions."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438801219, "post_id": 31840489, "comment_id": 51602934, "body": "@Donut Sorry for hijacking your answer - I didn&#39;t mean to do that. You&#39;re technically correct in saying <i>not necessarily going to create a bug by using DateTime.Now</i> but the chances are pretty high. :)"}, {"owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438801482, "post_id": 31840489, "comment_id": 51603080, "body": "This is Server side, not Client, and the time is kept Server side."}, {"owner": {"reputation": 95758, "user_id": 121493, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ffcb42b1c7d36402593e2b8691db3f?s=128&d=identicon&r=PG", "display_name": "Donut", "link": "https://stackoverflow.com/users/121493/donut"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1438801551, "post_id": 31840489, "comment_id": 51603143, "body": "@xxbbcc Not a problem. Sounds like UTC&#39;s probably a good idea in this case."}, {"owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438803581, "post_id": 31840489, "comment_id": 51604267, "body": "Got it to work with what you said. If you would, upvote my post so I don&#39;t get banned? :( I don&#39;t know what I keep doing wrong but every question I ask gets downvoted."}, {"owner": {"reputation": 13057, "user_id": 729541, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9c8f35ef59003de814a4bca351071045?s=128&d=identicon&r=PG", "display_name": "John H", "link": "https://stackoverflow.com/users/729541/john-h"}, "reply_to_user": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438804884, "post_id": 31840489, "comment_id": 51605015, "body": "@DylanGM You won&#39;t get banned.  To elaborate on the downvotes though (not from me), they were most likely because you didn&#39;t provide enough information in the question to provide an accurate answer.  You provided these two pieces of information in your comments: <code>This is a multiplayer game.</code>; <code>This is Server side, not Client, and the time is kept Server side.</code> - both of these details together provide the necessary context to make the question a lot more answerable, and I would guess that had you provided them in the question, you&#39;d have not received the downvotes.  Hope that helps."}, {"owner": {"reputation": 95758, "user_id": 121493, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ffcb42b1c7d36402593e2b8691db3f?s=128&d=identicon&r=PG", "display_name": "Donut", "link": "https://stackoverflow.com/users/121493/donut"}, "reply_to_user": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "edited": false, "score": 0, "creation_date": 1438876903, "post_id": 31840489, "comment_id": 51640609, "body": "@DylanGM Don&#39;t get discouraged! Writing a good question is harder than most people think and it takes effort and practice to do it well. There are some helpful guidelines provided here that might be useful when asking questions in the future: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "tags": [], "owner": {"reputation": 95758, "user_id": 121493, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ffcb42b1c7d36402593e2b8691db3f?s=128&d=identicon&r=PG", "display_name": "Donut", "link": "https://stackoverflow.com/users/121493/donut"}, "is_accepted": true, "score": 5, "last_activity_date": 1438800976, "last_edit_date": 1438800976, "creation_date": 1438800512, "answer_id": 31840489, "question_id": 31840432, "link": "https://stackoverflow.com/questions/31840432/limit-action-to-once-per-minute/31840489#31840489", "title": "Limit Action to once per Minute", "body": "<p>A simple way to accomplish this would be to store some sort of timestamp on your <code>player</code> object and check against it in the <code>if</code> statement. You'd also want to make sure that it gets set later on in the function (or somewhere else) in order for it to work correctly.</p>\n\n<p>Here's an example of what this could look like (<code>LastTalked</code> is the name of the timestamp, but you can obviously call it whatever you want):</p>\n\n<pre><code>if (player.Stars &lt; 20 &amp;&amp; text[0] != '/' &amp;&amp; DateTime.UtcNow - player.LastTalked &lt; TimeSpan.FromMinutes(1))\n{\n    player.SendInfo(\"You may only talk once per minute.\");\n    return;\n}\n\nplayer.LastTalked = DateTime.UtcNow;\n</code></pre>\n\n<p>Note that this is based solely on information available in your question; there may be other considerations to take into account. </p>\n"}], "owner": {"reputation": 39, "user_id": 4481363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/235afa78eb9a3d7b86f8a3b895c16b4d?s=128&d=identicon&r=PG&f=1", "display_name": "DylanGM", "link": "https://stackoverflow.com/users/4481363/dylangm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 31840489, "answer_count": 2, "score": -2, "last_activity_date": 1438800976, "creation_date": 1438800278, "question_id": 31840432, "link": "https://stackoverflow.com/questions/31840432/limit-action-to-once-per-minute", "title": "Limit Action to once per Minute", "body": "<pre><code> if (player.Stars &lt; 20 &amp;&amp; text[0] != '/')\n        {\n        player.SendInfo(\"You may only talk once per minute.\");\n            return;\n        }\n</code></pre>\n\n<p>What is the easiest way to add to the <code>If</code> so that if a player tries sending more then 1 message in a minute, it gets stopped?</p>\n"}, {"tags": ["c#", "linq", "telerik-open-access"], "answers": [{"tags": [], "owner": {"reputation": 1250, "user_id": 4064698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a699fa2f813c250874b5da4592bf4e4e?s=128&d=identicon&r=PG&f=1", "display_name": "weirdev", "link": "https://stackoverflow.com/users/4064698/weirdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1438801244, "creation_date": 1438801244, "answer_id": 31840731, "question_id": 31840413, "link": "https://stackoverflow.com/questions/31840413/finding-objects-in-a-collection-that-have-any-string-from-a-list-in-a-subcollect/31840731#31840731", "title": "Finding objects in a collection that have any string from a list in a subcollection", "body": "<p>I'm pretty poor at linq, but this can be easily done with a loop instead.</p>\n\n<pre><code>var matchinginterviews = new List&lt;Interview&gt;();\nforeach (var inter in MyInterviewEnumerable)\n{\n    foreach (var note in inter.NoteCollection)\n    {\n        foreach (string keyword in keywordList)\n        {\n            if (note.NoteText.IndexOf(keyword) != -1)\n            {\n                matchinginterviews.Add(inter);\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 887, "user_id": 555450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RVSRp.jpg?s=128&g=1", "display_name": "davecove", "link": "https://stackoverflow.com/users/555450/davecove"}, "edited": false, "score": 0, "creation_date": 1438965669, "post_id": 31840852, "comment_id": 51683020, "body": "Love the idea... but all that gets me is : <code>[MainWindow.xaml.cs:MoveNext() line 1648]  Execution of &#39;AVFusion.ExtensionMethods:ContainsAny(String,IEnumerable 1) on the database server side currently not implemented.</code>"}], "tags": [], "owner": {"reputation": 71, "user_id": 4142441, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jwY2dIagLcg/AAAAAAAAAAI/AAAAAAAAE6k/q_tNbDhuxpA/photo.jpg?sz=128", "display_name": "Robert Sharp", "link": "https://stackoverflow.com/users/4142441/robert-sharp"}, "is_accepted": false, "score": 0, "last_activity_date": 1438801644, "creation_date": 1438801644, "answer_id": 31840852, "question_id": 31840413, "link": "https://stackoverflow.com/questions/31840413/finding-objects-in-a-collection-that-have-any-string-from-a-list-in-a-subcollect/31840852#31840852", "title": "Finding objects in a collection that have any string from a list in a subcollection", "body": "<p>What's causing the empty results is that you're looking for any keyword values that contain the entire content of any of the notes.</p>\n\n<p>We made an extension method ContainsAny:</p>\n\n<pre><code>public static bool ContainsAny(this string s, IEnumerable&lt;string&gt; possibleContained)\n{\n    foreach (string p in possibleContained)\n    {\n        if (s == p) return true;\n        if (s == null) continue;\n        if (s.Contains(p)) return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Then you could do something similar to where you started:</p>\n\n<pre><code>var results = dbContext.Interviews.Where(i =&gt; i.Notes.Any(n =&gt; n.NoteText.ContainsAny(keywords)));\n</code></pre>\n"}], "owner": {"reputation": 887, "user_id": 555450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RVSRp.jpg?s=128&g=1", "display_name": "davecove", "link": "https://stackoverflow.com/users/555450/davecove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438801644, "creation_date": 1438800228, "question_id": 31840413, "link": "https://stackoverflow.com/questions/31840413/finding-objects-in-a-collection-that-have-any-string-from-a-list-in-a-subcollect", "title": "Finding objects in a collection that have any string from a list in a subcollection", "body": "<p>Ok, this one has me stumped.</p>\n\n<p>I have a collection of objects called Interviews. An Interview has a collection of Notes in it. A Note has string (nvarchar(max) on the database) property called NoteText.</p>\n\n<p>I have a List called keywords.</p>\n\n<p>What I need to do is find all interviews that have a Note that has any of the keywords within its NoteText property.</p>\n\n<p>I have this so far:</p>\n\n<pre><code>var interviewQuery =\nfrom i in dbContext.Interviews  //dbContext was created with Telerik OpenAccess\n    .Include(n =&gt; n.Notes)\n    .Where(i =&gt; i.Notes.Any(n =&gt; keywords.Contains(n.NoteText) ))\norderby i.WhenCreated descending\nselect i;\n</code></pre>\n\n<p>I don't get an error, I just don't get any results either.</p>\n"}]