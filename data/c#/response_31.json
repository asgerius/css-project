[{"tags": ["c#", "asp.net", "sql-server", "datatable"], "comments": [{"owner": {"reputation": 253, "user_id": 2512751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecad100ae866af105db5137bb333e1cb?s=128&d=identicon&r=PG", "display_name": "Code.me", "link": "https://stackoverflow.com/users/2512751/code-me"}, "edited": false, "score": 0, "creation_date": 1439424498, "post_id": 31977343, "comment_id": 51861036, "body": "do you want to combine the 2 queries using SQL Join or do you want to merge the datatable returned by each query into 1 datatable in C#?"}, {"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "reply_to_user": {"reputation": 253, "user_id": 2512751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecad100ae866af105db5137bb333e1cb?s=128&d=identicon&r=PG", "display_name": "Code.me", "link": "https://stackoverflow.com/users/2512751/code-me"}, "edited": false, "score": 0, "creation_date": 1439443217, "post_id": 31977343, "comment_id": 51865660, "body": "@Code.me I think both way will work, but I prefer the combined query way since that would reduce the sql connection time."}, {"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "reply_to_user": {"reputation": 2113, "user_id": 960501, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6a5ab852efea917ca13024a07fbf9ff?s=128&d=identicon&r=PG", "display_name": "prashant", "link": "https://stackoverflow.com/users/960501/prashant"}, "edited": false, "score": 0, "creation_date": 1439443317, "post_id": 31977343, "comment_id": 51865694, "body": "@prashanth the question is how to combine two queries above? or Can you can display two queries in one single datatable?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439444775, "post_id": 31980064, "comment_id": 51866207, "body": "SQL throws me a &quot;Incorrect syntax near the keyword &#39;UNION&#39;.&quot;"}, {"owner": {"reputation": 849, "user_id": 2187481, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WKIv2.jpg?s=128&g=1", "display_name": "ken lacoste", "link": "https://stackoverflow.com/users/2187481/ken-lacoste"}, "reply_to_user": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439448453, "post_id": 31980064, "comment_id": 51867988, "body": "My bad, union all doesn&#39;t work after a function, so I turned it into a table first before union."}, {"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439450186, "post_id": 31980064, "comment_id": 51868997, "body": "only returned first table, but still missing &quot;count(ORD_NUM) MTD_Ord&quot; and &quot;convert(decimal(10,2), sum(ORD_AMT)) MTD_Amt&quot;"}, {"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439483816, "post_id": 31980064, "comment_id": 51891892, "body": "This almost worked, except it returns John    15, James 13 in 1st and 2nd row from first big query and John    3,  James     7 in 3rd and 4th row from second query."}, {"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439489997, "post_id": 31980064, "comment_id": 51895350, "body": "It was my fault I did not specify I want to join horizontally as &quot;Join&quot;"}], "tags": [], "owner": {"reputation": 849, "user_id": 2187481, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WKIv2.jpg?s=128&g=1", "display_name": "ken lacoste", "link": "https://stackoverflow.com/users/2187481/ken-lacoste"}, "is_accepted": false, "score": 0, "last_activity_date": 1439529597, "last_edit_date": 1439529597, "creation_date": 1439443355, "answer_id": 31980064, "question_id": 31977343, "link": "https://stackoverflow.com/questions/31977343/combine-multiple-sql-queries-in-sql-server-2008-into-a-datatable-on-asp-net-usin/31980064#31980064", "title": "Combine multiple SQL queries in SQL Server 2008 into a datatable on ASP.NET using C#", "body": "<pre><code>    -- QUERY 1 #tmpReport1 with respect the grouping and sort order    \n\n        select\n            isnull(SALES_NUM4, '') SalesNo, \n            count(CUS_ID) NumOfCust, \n            count(distinct sales_num) NumOfRep\n        into #tmpReport1\n        from \n            (select \n                 SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n             from customer\n\n             union\n\n             select \n                 SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n             from omsdata7.dbo.customer) a\n        where \n            SALES_NUM4 != '' and SLS_TYPE = '1'\n        group by \n            SALES_NUM4\n        order by \n            SALES_NUM4\n\n    -- QUERY 2 BUILD #tmpReport2 with respect the grouping and sort order\n    select \n        isnull(SALES_NUM4, '') SalesNo, \n        count(ORD_NUM) MTD_Ord, \n        convert(decimal(10, 2), sum(ORD_AMT)) MTD_Amt\n    into #tmpReport2\n    from \n        (select \n             SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n         from orders\n\n         union\n\n         select \n             SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n         from omsdata7.dbo.orders) a\n    where \n        DATEADD(day, ORD_DT-4, '1801-01-01') &gt;= DATEADD(m, DATEDIFF(m, 0, GETDATE()), 0)\n        and DATEADD(day, ORD_DT-4, '1801-01-01') &lt; getdate()\n        and SALES_NUM4 != ''\n    group by \n        SALES_NUM4\n    order by \n        SALES_NUM4\n\n-- combine both tables in here\nselect * from #tmpReport1\nunion all\nselect * from #tmpReport2\n\n-- drop temps\ndrop table #tmpReport1\ndrop table #tmpReport2\n</code></pre>\n\n<p>Hope I understood your question correctly?</p>\n\n<p>EDIT : Join horizontally, then same script above except for</p>\n\n<pre><code>-- combine both tables in here\nselect * from #tmpReport1\nunion all\nselect * from #tmpReport2\n</code></pre>\n\n<p>Change to</p>\n\n<pre><code>-- combine both tables horizontally here\nselect \n   tmp1.*\n   ,tmp2.* \nfrom #tmpReport1 tmp1\nfull join #tmpReport2 tmp2\nON\n   tmp1.SalesNo = tmp2.SalesNo\n</code></pre>\n\n<p>and simply identify your columns based on your specifications.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439535801, "post_id": 32002053, "comment_id": 51910986, "body": "It gives me &quot;Column &#39;a.SALES_NUM4&#39; is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause.&quot; But I solved it myself using sub query too. Thank you so much."}, {"owner": {"reputation": 253, "user_id": 2512751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecad100ae866af105db5137bb333e1cb?s=128&d=identicon&r=PG", "display_name": "Code.me", "link": "https://stackoverflow.com/users/2512751/code-me"}, "reply_to_user": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439555772, "post_id": 32002053, "comment_id": 51922707, "body": "I added the group by clause now."}, {"owner": {"reputation": 253, "user_id": 2512751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecad100ae866af105db5137bb333e1cb?s=128&d=identicon&r=PG", "display_name": "Code.me", "link": "https://stackoverflow.com/users/2512751/code-me"}, "reply_to_user": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "edited": false, "score": 0, "creation_date": 1439555852, "post_id": 32002053, "comment_id": 51922743, "body": "If this helped you, please accept and upvote the answer."}], "tags": [], "owner": {"reputation": 253, "user_id": 2512751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecad100ae866af105db5137bb333e1cb?s=128&d=identicon&r=PG", "display_name": "Code.me", "link": "https://stackoverflow.com/users/2512751/code-me"}, "is_accepted": true, "score": 0, "last_activity_date": 1439555714, "last_edit_date": 1439555714, "creation_date": 1439524715, "answer_id": 32002053, "question_id": 31977343, "link": "https://stackoverflow.com/questions/31977343/combine-multiple-sql-queries-in-sql-server-2008-into-a-datatable-on-asp-net-usin/32002053#32002053", "title": "Combine multiple SQL queries in SQL Server 2008 into a datatable on ASP.NET using C#", "body": "<p>Maybe this will work. I am joining the sub queries.</p>\n\n<pre><code>select  isnull(a.SALES_NUM4, '') SalesNo, \n        count(CUS_ID) NumOfCust, \n        count(distinct sales_num) NumOfRep,\n        count(ORD_NUM) MTD_Ord, \n        convert(decimal(10, 2), sum(ORD_AMT)) MTD_Amt\nfrom \n    (select SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n     from   customer\n     union\n     select SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n     from   omsdata7.dbo.customer) as a\n    inner join\n    (select SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n     from   orders\n     union\n     select SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n     from   omsdata7.dbo.orders) as b\n    on a.SALES_NUM4 = b.SALES_NUM4\nwhere   a.SALES_NUM4 != '' and SLS_TYPE = '1' \n        and DATEADD(day, ORD_DT-4, '1801-01-01') &gt;= DATEADD(m, DATEDIFF(m, 0, GETDATE()), 0)\n        and DATEADD(day, ORD_DT-4, '1801-01-01') &lt; getdate()\ngroup by    a.SALES_NUM4\norder by   a.SALES_NUM4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "is_accepted": false, "score": 0, "last_activity_date": 1439535534, "creation_date": 1439535534, "answer_id": 32004073, "question_id": 31977343, "link": "https://stackoverflow.com/questions/31977343/combine-multiple-sql-queries-in-sql-server-2008-into-a-datatable-on-asp-net-usin/32004073#32004073", "title": "Combine multiple SQL queries in SQL Server 2008 into a datatable on ASP.NET using C#", "body": "<pre><code>select isnull(SALES_NUM4,'') SalesNo, count(CUS_ID) NumOfCust, count(distinct SALES_NUM) NumOfReps, MAX(b.MTD_Ord) MTD_Ord, MAX(b.MTD_Amt) MTD_Amt\nfrom (\nselect SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM from customer\nunion\nselect SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM from omsdata7.dbo.customer\nwhere SLS_TYPE = '1'\n) a\nLeft join \n(select isnull(SALES_NUM4,'') SalesNo, count(ORD_NUM) MTD_Ord, sum(ORD_AMT) MTD_Amt\nfrom (\nselect SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT from orders\nunion\nselect SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT from omsdata7.dbo.orders\n) b1\nwhere DATEADD(day, ORD_DT-4, '1801-01-01') &gt;= DATEADD(m, DATEDIFF(m, 0, GETDATE()), 0)\nand DATEADD(day, ORD_DT-4, '1801-01-01') &lt; getdate() \ngroup by SALES_NUM4 \n) b on a.SALES_NUM4 = b.SalesNo \nwhere SALES_NUM4 != ''\ngroup by SALES_NUM4\norder by SALES_NUM4\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5221351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02dad3a5878834de1d7d6c731ae9fc?s=128&d=identicon&r=PG&f=1", "display_name": "rabinzx", "link": "https://stackoverflow.com/users/5221351/rabinzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 32002053, "answer_count": 3, "score": 0, "last_activity_date": 1439555714, "creation_date": 1439423810, "last_edit_date": 1439441344, "question_id": 31977343, "link": "https://stackoverflow.com/questions/31977343/combine-multiple-sql-queries-in-sql-server-2008-into-a-datatable-on-asp-net-usin", "title": "Combine multiple SQL queries in SQL Server 2008 into a datatable on ASP.NET using C#", "body": "<p>I am trying to combine 2 big SQL queries into one datatable, so I can load it on the webpage.</p>\n\n<p>Query #1:</p>\n\n<pre><code>select\n    isnull(SALES_NUM4, '') SalesNo, \n    count(CUS_ID) NumOfCust, \n    count(distinct sales_num) NumOfRep\nfrom \n    (select \n         SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n     from customer\n\n     union\n\n     select \n         SALES_NUM4, CUS_ID, SLS_TYPE, SALES_NUM \n     from omsdata7.dbo.customer) a\nwhere \n    SALES_NUM4 != '' and SLS_TYPE = '1'\ngroup by \n    SALES_NUM4\norder by \n    SALES_NUM4\n</code></pre>\n\n<p>Query #2:</p>\n\n<pre><code>select \n    isnull(SALES_NUM4, '') SalesNo, \n    count(ORD_NUM) MTD_Ord, \n    convert(decimal(10, 2), sum(ORD_AMT)) MTD_Amt\nfrom \n    (select \n         SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n     from orders\n\n     union\n\n     select \n         SALES_NUM4, ORD_DT, ORD_NUM, ORD_AMT \n     from omsdata7.dbo.orders) a\nwhere \n    DATEADD(day, ORD_DT-4, '1801-01-01') &gt;= DATEADD(m, DATEDIFF(m, 0, GETDATE()), 0)\n    and DATEADD(day, ORD_DT-4, '1801-01-01') &lt; getdate()\n    and SALES_NUM4 != ''\ngroup by \n    SALES_NUM4\norder by \n    SALES_NUM4\n</code></pre>\n"}, {"tags": ["c#", "sql", "tsql", "search"], "comments": [{"owner": {"reputation": 3811, "user_id": 201021, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Nh4FP.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/201021/mike-d"}, "edited": false, "score": 0, "creation_date": 1439423713, "post_id": 31977312, "comment_id": 51860855, "body": "Can you show us the query you&#39;re using?"}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "edited": false, "score": 0, "creation_date": 1439423806, "post_id": 31977312, "comment_id": 51860874, "body": "This is too vague to get any useful answers. We don&#39;t know the structure of your table, how it is indexed, what your query is, or much of anything else. Please post some code or we can&#39;t help you."}, {"owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 0, "creation_date": 1439423824, "post_id": 31977312, "comment_id": 51860882, "body": "Yes, I thought this would come up. Momentarily..."}, {"owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 0, "creation_date": 1439423991, "post_id": 31977312, "comment_id": 51860917, "body": "Perhaps I should ask, is a temporary View superior to multiple subqueries?"}, {"owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 0, "creation_date": 1439424341, "post_id": 31977312, "comment_id": 51861000, "body": "Code sample above. It just feels like a mess of subqueries. The inner most subquery pulls so much data... the outer one filters that, and the outer-outer-one sorts it... just seems off..."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1439425628, "post_id": 31977312, "comment_id": 51861269, "body": "<a href=\"http://stackoverflow.com/questions/7359702/how-do-i-obtain-a-query-execution-plan\">Get the SQL Query plan</a> and post the raw XML for it in your question. If you want help improving the performance of your query we need to know where your query is performing poorly and the query plan will help us see that."}, {"owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1439425775, "post_id": 31977312, "comment_id": 51861296, "body": "@ScottChamberlain I&#39;ll work on that. However, it seems as if selecting all matching attributes with 2 joins, then ordering them based upon a distance calculation is inefficient. I&#39;m looking at this from a theoretical perspective of selecting, calculating, then sorting."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1439425847, "post_id": 31977312, "comment_id": 51861310, "body": "The SQL engine is free to reorder the parts of your query any way it wants as long as it does not affect the result set. It may not be doing things in the order you wrote your code in. The query plan will show exactly what order it is doing stuff and what steps are slow."}, {"owner": {"reputation": 3811, "user_id": 201021, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Nh4FP.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/201021/mike-d"}, "edited": false, "score": 0, "creation_date": 1439429563, "post_id": 31977312, "comment_id": 51862124, "body": "My general rule is to write my queries in a way that is easy to read and maintain and trust that the optimizer will work out the best way to get me the results I want. Only when I&#39;m actually faced with performance problems do I open my bag of tricks to speed things up."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 0, "creation_date": 1439455729, "post_id": 31977648, "comment_id": 51872287, "body": "Ok, I&#39;d like to awknowledge all of your individual points.   The TOP 100 PERCENT is specficially to avoid errors, correct. I was not ordering the inner query, however.  I was trying to avoid the <code>INNER JOIN</code> on the <code>Pictures</code> table in the innermost query because it would be pulling all picture data for all users that match the Attribute criteria. Why not just pull that data for the outer queries somehow?   Is there another approach altogether that I can take with this? This query averages at about 280-300ms and I really feel like I can get this to run much faster. Is that long for a query?"}, {"owner": {"reputation": 3811, "user_id": 201021, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Nh4FP.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/201021/mike-d"}, "reply_to_user": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 1, "creation_date": 1439520763, "post_id": 31977648, "comment_id": 51906241, "body": "You&#39;re thinking about it too procedurally. The optimizer will likely not execute the query exactly as you&#39;ve laid it out. Instead it will try to find the most efficient way to get the result set that you&#39;re after. To that end I don&#39;t think that having the join to the picture table inside or outside will make much of a difference. On the other hand bringing back the picture data in your result set will slow things down simply because it needs to transfer all of that data over the network. I&#39;d be curious how fast the query is without returning the binary image data."}, {"owner": {"reputation": 3811, "user_id": 201021, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Nh4FP.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/201021/mike-d"}, "reply_to_user": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "edited": false, "score": 1, "creation_date": 1439520906, "post_id": 31977648, "comment_id": 51906275, "body": "What error are you trying to stop by including the TOP 100 PERCENT? The only work around I know that uses that is trying to order a subquery or view (and it doesn&#39;t work). Also, limiting the number of columns returned by your query is a good place to start if you&#39;re trying to speed it up. The less data you have to push across the network from the SQL server to the client the better. IMHO 1/3 of a second for a query result would be acceptable to me. Does your functional requirements really need it to go faster than that?"}], "tags": [], "owner": {"reputation": 3811, "user_id": 201021, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Nh4FP.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/201021/mike-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1439425976, "creation_date": 1439425976, "answer_id": 31977648, "question_id": 31977312, "link": "https://stackoverflow.com/questions/31977312/theoretical-search-function-in-sql-c/31977648#31977648", "title": "Theoretical search function in SQL/C#", "body": "<p>Because you are wanting to page the data which means you need to filter on the ROW_NUMBER() value which needs to be ordered by the <code>Distance</code> calculation you are going to need the 3 nested sub-queries. However, I do think it can be done a bit more cleanly.</p>\n\n<p>I'm not sure why you're taking the <code>TOP 100 PERCENT</code> from one of you your inner queries since that isn't actually going to do anything. I can only assume at one point you were ordering that inner query and using the TOP clause to make it not error out. <strong>That doesn't work and the order of the results is not guaranteed.</strong> So it is good it looks like you've gone a different way since then.</p>\n\n<p>The way you've used aliases in your query is also a bit confusing. In the innermost query you've aliased the actual <code>User</code> table as <code>UsersSubquery</code> and then you've aliased a later subquery with the same name. Finally you've aliased the outer-most sub-query as <code>Users</code> which is the same name as the base table.</p>\n\n<p>There is no reason not to do your join to the <code>Pictures</code> table at the same time you're doing the other joins. There isn't any additional filtering between that join and the innermost query (which has the <code>WHERE</code> clause that filters the user attributes) so doing the join there would be the same thing.</p>\n\n<p>This is how I would write the query:</p>\n\n<pre><code>DECLARE @RowsToFetch INT = 10;\n\nSELECT TOP (@RowsToFetch) *\nFROM (\n    SELECT *,\n        ROW_NUMBER() OVER (ORDER BY Distance ASC) AS RowNumber\n    FROM (\n        SELECT Users.*,\n            (((geography::Point(UsersAndLocations.Latitude, UsersAndLocations.Longitude, 4326)).STDistance(@a)) / 1000) AS Distance\n        FROM Users\n        INNER JOIN UsersAndAttributes ON Users.UserId=UsersAndAttributes.UserId\n        INNER JOIN UsersAndLocations ON Users.UserId=UsersAndLocations.UserId\n        INNER JOIN Pictures ON Users.UserId=Pictures.UserId\n        WHERE (@Attribute1 = NULL OR UsersAndAttributes.Attribute1Id = @Attribute1)\n            AND (@Attribute2 = NULL OR UsersAndAttributes.Attribute1Id = @Attribute2)\n            ..etc\n    ) AS UsersData\n) AS UsersNumbered\nWHERE RowNumber &gt;= @StartRow\nORDER BY RowNumber\n</code></pre>\n\n<p>Finally, I would actually be using <code>SELECT *</code> anywhere in the query (especially the innermost sub-query). Rather, select only the specific columns you need. This will help reduce the amount of work SQL server needs to do and reduce the amount of data that needs to move over the network when returning the results. I didn't know which columns you needed though so I've re-used your <code>SELECT *</code>.</p>\n"}], "owner": {"reputation": 99, "user_id": 4487636, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/2765f529e5fdd4331745567cc5174cdb?s=128&d=identicon&r=PG&f=1", "display_name": "user111222333", "link": "https://stackoverflow.com/users/4487636/user111222333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439425976, "creation_date": 1439423563, "last_edit_date": 1439425576, "question_id": 31977312, "link": "https://stackoverflow.com/questions/31977312/theoretical-search-function-in-sql-c", "title": "Theoretical search function in SQL/C#", "body": "<p>I'm implementing a user search function in SQL/C#. I'm having a bit of trouble with the logistics of the function itself and I'm looking for some guidance.</p>\n\n<p>I've been using a triple-nested subquery, which I feel is running a bit slow (avg 280-300ms to pull results from 1000 records in a Users table).</p>\n\n<p>I first want to search by attributes for users (a separate table), then search based on location. I then want distance calculated and sorted, then only the closest 10 records brought back at a time (paged results).</p>\n\n<p>Am I using the correct approach using a triple nested subquery? Or is there a standard or guiding principle to do this sort (pun not intended) kind of thing?</p>\n\n<p>Code sample:</p>\n\n<pre><code>SELECT * FROM\n    (SELECT *, ROW_NUMBER()                 \n        OVER (ORDER BY UsersSubquery.Distance ASC) as RowNumber  \n        FROM\n\n    (\n\n        SELECT TOP 100 PERCENT UsersSubquery.*, \n\n         (((geography::Point(UsersLocationsSubquery.Latitude, UsersLocationsSubquery.Longitude, 4326)).STDistance(@a)) / 1000) AS Distance      \n\n        FROM Users UsersSubquery \n\n            INNER JOIN UsersAndAttributes ON UsersSubquery.UserId = UserAndAttributes.UserId\n\n            INNER JOIN UsersAndLocations AS UsersWithLocationsSubquery  ON UsersSubquery.UserId = UsersWithLocationsSubquery.UserId\n\n        WHERE \n        ( \n\n            ((@Attribute1 = NULL) OR (UsersSubquery.Attribute1Id = @Attribute1)) \n            AND\n            ((@Attribute2 = NULL) OR (UsersSubquery.Attribute2Id = @Attribute2)) \n            AND\n            ((@Attribute3 = NULL) OR (UsersSubquery.Attribute3Id = @Attribute3)) \n            AND\n            ...etc\n\n        )\n\n\n    )\n\n    AS UsersSubquery )\n\nUsers\n\n    INNER JOIN Pictures ON Users.UserId = Pictures.UserId\n\nWHERE RowNumber &gt;= @StartRow and RowNumber &lt;= @EndRow \n\nOrder by RowNumber\n</code></pre>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 4326, "user_id": 1201782, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/hbnJS.png?s=128&g=1", "display_name": "Juan Pablo Gomez", "link": "https://stackoverflow.com/users/1201782/juan-pablo-gomez"}, "edited": false, "score": 0, "creation_date": 1439424937, "post_id": 31977426, "comment_id": 51861121, "body": "It works perfect, it is posible to express this query using implicit syntax? Thats why i need some other Dynamic filters."}], "tags": [], "owner": {"reputation": 4301, "user_id": 2727444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e8aacb3114bd4ff071f97a9be8b18b?s=128&d=identicon&r=PG&f=1", "display_name": "ANewGuyInTown", "link": "https://stackoverflow.com/users/2727444/anewguyintown"}, "is_accepted": true, "score": 1, "last_activity_date": 1439432422, "last_edit_date": 1439432422, "creation_date": 1439424359, "answer_id": 31977426, "question_id": 31977255, "link": "https://stackoverflow.com/questions/31977255/linq-get-max-grouping/31977426#31977426", "title": "Linq get max() Grouping", "body": "<p>Try this: </p>\n\n<pre><code>var query = from x in invHistory\n                    join y in\n                            (\n                                from z in invHistory\n                                where z.PDate == \"01/01/2015\"\n                                group z by new { z.Bodega, z.NumIDConcepto } into g\n                                select new\n                                       {\n                                           NewSecuencia = g.Max(s =&gt; s.Secuencia) \n                                       }\n                            ) \n                            on x.Secuencia equals y.NewSecuencia\n                    select x;\n</code></pre>\n\n<p>If you want <em>implicit style</em> this is how you do it: </p>\n\n<pre><code>  var query2 = from x in invHistory\n               from y in\n                         (\n                             from z in invHistory\n                             where z.PDate == \"01/01/2015\"\n                             group z by new { z.Bodega, z.NumIDConcepto } into g\n                             select new\n                             {\n                                 NewSecuencia = g.Max(s =&gt; s.Secuencia)\n                             }\n                         )\n               where \n                    x.Secuencia == y.NewSecuencia\n               select x;\n</code></pre>\n\n<blockquote>\n  <p>Please note that the implicit style join syntax (ANSI-89) is not a standard and is deprecated from SQL Server 2005.</p>\n</blockquote>\n"}], "owner": {"reputation": 4326, "user_id": 1201782, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/hbnJS.png?s=128&g=1", "display_name": "Juan Pablo Gomez", "link": "https://stackoverflow.com/users/1201782/juan-pablo-gomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 31977426, "answer_count": 1, "score": -1, "last_activity_date": 1439432422, "creation_date": 1439423126, "last_edit_date": 1439424372, "question_id": 31977255, "link": "https://stackoverflow.com/questions/31977255/linq-get-max-grouping", "title": "Linq get max() Grouping", "body": "<p>I have this SQL query:</p>\n\n<pre><code>declare @p_Date datetime \nset @p_Date = '01/01/2015'\n\nselect * \nfrom inv_hist\nwhere Secuencia in (\n    select max(Secuencia)\n        from inv_hist\n        where DatFechaDocumento &lt;= @p_Date\n            group by Bodega,NumIdConcepto\n    )\n</code></pre>\n\n<p>How can I write this query in LINQ? </p>\n\n<p>EDIT: I was figthing with this all day. I'm not an expert on linq and other similar questions doesn't solve my problem.</p>\n"}, {"tags": ["c#", "wpf", ".net-4.5"], "comments": [{"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 1, "creation_date": 1439423061, "post_id": 31977210, "comment_id": 51860692, "body": "Can you show us the xaml?"}, {"owner": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439440958, "post_id": 31977210, "comment_id": 51864939, "body": "Did you add xmlns of the dll used from other proj in your Xaml??"}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "reply_to_user": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 0, "creation_date": 1439442222, "post_id": 31977210, "comment_id": 51865320, "body": "@BrianGradin. I can, but the one that works has the same syntax as the one that does not...  And it is a lot of xaml..."}, {"owner": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439442704, "post_id": 31977210, "comment_id": 51865465, "body": "@Vaccano what is &quot;ButtonPop&quot; in the error. Have you added it that to your xaml namespace declaration?"}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "reply_to_user": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439442866, "post_id": 31977210, "comment_id": 51865523, "body": "@Akansha that is the new visual control I added. And yes I did add the namespace. And I checked it by using a different visual control that is in the same namespace. (It worked flawlessly)"}, {"owner": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439443027, "post_id": 31977210, "comment_id": 51865585, "body": "@Vaccano can you show the namespace initializations and the place where ButtonPop is used in your Xaml? No need to add full code"}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "reply_to_user": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439443105, "post_id": 31977210, "comment_id": 51865611, "body": "@Akansha I can, but I will have to do it tomorrow (I don&#39;t have the code with me)."}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "reply_to_user": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439483263, "post_id": 31977210, "comment_id": 51891580, "body": "@Akansha - So... Turns out restarting Visual Studio fixed it.  I hate how temperamental Design Time is...  If you want to post an answer saying to restart visual studio I will accept it."}, {"owner": {"reputation": 933, "user_id": 5105349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3445008334565139a01962b8268d95b5?s=128&d=identicon&r=PG&f=1", "display_name": "Akansha", "link": "https://stackoverflow.com/users/5105349/akansha"}, "edited": false, "score": 0, "creation_date": 1439523791, "post_id": 31977210, "comment_id": 51906876, "body": "@Vaccano Its ok Vaccano.. Solving the issue is more important.. :)"}], "owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439422869, "creation_date": 1439422869, "question_id": 31977210, "link": "https://stackoverflow.com/questions/31977210/wpf-cant-find-my-new-class-at-design-time", "title": "WPF can&#39;t find my new class at Design Time", "body": "<p>I went and added a new class to one of my projects.  It is a visual control.</p>\n\n<p>I went to use the new control in a different project.  When I did that I got this error at design time:</p>\n\n<pre><code>XamlParseException: Type reference cannot find type named \n           '{clr-namespace:MyControlsProject;assembly=MyControlsProject}ButtonPop'.\n</code></pre>\n\n<p>But I open the reference with object explorer and the ButtonPop class is there.  Similarly if I open the MyControllsProject.dll with DotPeek, the class is there.</p>\n\n<p>I know it is specific to my new class because I tried using an existing one from that same project and it all works fine.</p>\n\n<p>I know the reference is there also because this works fine at run time.</p>\n\n<p><strong>Any ideas why I would get his design time error?</strong></p>\n"}, {"tags": ["c#", "wpf", "expression-blend"], "comments": [{"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 0, "creation_date": 1439422686, "post_id": 31977136, "comment_id": 51860582, "body": "Is the textblock in the main window?  When is the game engine object created in relation to when the textblock is created?"}, {"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 0, "creation_date": 1439422734, "post_id": 31977136, "comment_id": 51860590, "body": "If the game engine is created after the textblock, the life value won&#39;t get pushed to the textblock, because you&#39;re not using a dependency property."}], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 958967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c496a704062892b2127163d5f4cba27c?s=128&d=identicon&r=PG", "display_name": "RStyle", "link": "https://stackoverflow.com/users/958967/rstyle"}, "edited": false, "score": 0, "creation_date": 1439436015, "post_id": 31977271, "comment_id": 51863639, "body": "hI I edited it. the problem is after i compile its not appearing in &quot;Create Data Source&quot; under Data Tab but only appears in &quot;Create Sample Data Source&quot;. After i bind using Sample Data Source a random number appears in textbox. But when i compile and run it nothing appears in the textbox"}, {"owner": {"reputation": 13881, "user_id": 1474613, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M34S3.jpg?s=128&g=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/1474613/ram"}, "reply_to_user": {"reputation": 799, "user_id": 958967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c496a704062892b2127163d5f4cba27c?s=128&d=identicon&r=PG", "display_name": "RStyle", "link": "https://stackoverflow.com/users/958967/rstyle"}, "edited": false, "score": 0, "creation_date": 1439481088, "post_id": 31977271, "comment_id": 51890263, "body": "Try the sample class in my answer."}], "tags": [], "owner": {"reputation": 13881, "user_id": 1474613, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M34S3.jpg?s=128&g=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/1474613/ram"}, "is_accepted": false, "score": 1, "last_activity_date": 1439481045, "last_edit_date": 1439481045, "creation_date": 1439423277, "answer_id": 31977271, "question_id": 31977136, "link": "https://stackoverflow.com/questions/31977136/wpf-databinding-from-class-expression-blend/31977271#31977271", "title": "WPF DataBinding from class (Expression Blend)", "body": "<p>Implement <code>INotifyPropertyChanged</code> interface in your <code>GameEngin</code> class and follow this <a href=\"http://wpftutorial.net/INotifyPropertyChanged.html\" rel=\"nofollow\">article</a>.</p>\n\n<p>According to above article (<code>INotifyPropertyChanged</code>) you must have <code>OnProperyChanged(\"Life\")</code> in the <code>Set</code> part of your <code>Life</code> property. it can inform about changes of this property to your <code>UI</code>.</p>\n\n<p>For example test something like this:</p>\n\n<pre><code>public class GameEngin:INotifyPropertyChanged\n{\n    private int _life;\n\n    public int Life\n    {\n        get\n        {\n            return _life;\n        }\n        set\n        {\n            _life = value;\n            OnProperyChanged(\"Life\")\n        }\n    }\n\n    public GameEngine()\n    {\n        this.Life = 3; // For Test\n    }\n\n\n    //---------------------------------------------------------------\n    public event PropertyChangedEventHandler PropertyChanged;\n    private void OnProperyChanged(string info)\n    {\n        if (PropertyChanged != null)\n        {\n            var handler= PropertyChanged ;\n            handler(this, new PropertyChangedEventArgs(info));\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 799, "user_id": 958967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c496a704062892b2127163d5f4cba27c?s=128&d=identicon&r=PG", "display_name": "RStyle", "link": "https://stackoverflow.com/users/958967/rstyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439481045, "creation_date": 1439422397, "last_edit_date": 1439435770, "question_id": 31977136, "link": "https://stackoverflow.com/questions/31977136/wpf-databinding-from-class-expression-blend", "title": "WPF DataBinding from class (Expression Blend)", "body": "<p>Hi i have a class called GameEngine.cs</p>\n\n<pre><code>using System;\n\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace GameEnginee\n{\npublic class GameEngine\n{\n    private int life;\n\n    public String Life { get { return life.ToString(); } }\n\n    public GameEngine(int life)\n    {\n        this.life = life;\n    }\n\n}\n}\n</code></pre>\n\n<p>1)I used expression blend and added the GameEngine.cs to solution explorer and clicked \"build project\". </p>\n\n<p>2) Then under the \"Data\" tab, there is \"Create Sample Data\" OR \"Create Data Souce\". I first tried create data source but i cant find gameengine. Then i tried Create Sample Data and i could find game engine.</p>\n\n<p>3) So i \"Create Sample data\" -> From class -> And i chose Game engine.</p>\n\n<p>Then i inserted a textbox and bound it to DataContext of GameEngine.Life</p>\n\n<p>When i run project nothing is appearing in the textbox.</p>\n\n<p>So i tried inserting an event handler whenGridLoaded in which i initialized a new instance of game.\nGameEngine game = new GameEngine(100);</p>\n\n<p>I Expected the 100 to appear in the textBox but nothing happened.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>using System;\n\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.ComponentModel;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n</code></pre>\n\n<p>namespace GameEnginee\n{</p>\n\n<p>public class GameEngine : INotifyPropertyChanged</p>\n\n<pre><code>{\n\n    private int life;\n\n\n    public int Life\n    {\n        get\n        {\n            return life;\n        }\n    }\n\n    public GameEngine(int life)\n    {\n        this.life = life;\n    }\n\n    public void StartGame()\n    {\n        NotifyPropertyChanged(\"Life\");\n    }\n\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    private void NotifyPropertyChanged(string info)\n    {\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(info));\n        }\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "animation", "unity3d"], "comments": [{"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 1, "creation_date": 1439422891, "post_id": 31977131, "comment_id": 51860642, "body": "Do you have a code sample for us? It&#39;s hard to visualize what you&#39;re describing..."}], "owner": {"reputation": 730, "user_id": 2973441, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/vmIHG.png?s=128&g=1", "display_name": "Mateus Pires", "link": "https://stackoverflow.com/users/2973441/mateus-pires"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1439493267, "creation_date": 1439422374, "last_edit_date": 1439493267, "question_id": 31977131, "link": "https://stackoverflow.com/questions/31977131/animations-doesnt-follow-queue-when-use-different-fadelength-in-animations", "title": "Animations doesn&#39;t follow queue when use different fadeLength in animations", "body": "<p>For example:</p>\n\n<p>I have 10 animations to play, and all they do is animate a hand.<br>\nOn the first <strong>3</strong> animations, of length <strong>2.5</strong>, I set fadeLength to 0.6. (<em>first</em>)<br>\nThe next <strong>4</strong> animations has length <strong>1.333</strong>, and I set fadeLength to 0.3. (<em>second</em>)<br>\nOn the last <strong>3</strong> animations, of length <strong>2.5</strong>, I set fadeLength to 0.6 too. (<em>third</em>)  </p>\n\n<p>When I hit play, it plays every animation with <code>Animation.CrossFadeQueued(name, fadeLength, QueueMode.CompleteOthers)</code>.<br>\nThe first three are played corretly (<em>first</em>). Then the last three follows (<em>third</em>).<br>\nHere is the problem, 4 animations of fadeLength 0.3 was skipped (<em>second</em>). Just when those 6 (<em>first</em> and <em>third</em>) animations end, one animation of the 4 (<em>second</em>) that had to play is played, but it doesn't end, it freezes.</p>\n\n<p>How can I use different fadeLengths on animation queue? They really have to be in queue so they can fade between them.</p>\n\n<p><br></p>\n\n<h3>Code:</h3>\n\n<pre><code>GameObject HERO = GameObject.FindGameObjectWithTag(\"hero\");\nAnimation ANIM = HERO.GetComponent&lt;Animation&gt;();\n\n// first\nANIM.CrossFadeQueued(\"long_move0\", 0.6F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"long_move1\", 0.6F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"long_move2\", 0.6F, QueueMode.CompleteOthers);\n\n// second\nANIM.CrossFadeQueued(\"small_move0\", 0.3F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"small_move1\", 0.3F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"small_move2\", 0.3F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"small_move3\", 0.3F, QueueMode.CompleteOthers);\n\n// third\nANIM.CrossFadeQueued(\"long_move3\", 0.6F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"long_move4\", 0.6F, QueueMode.CompleteOthers);\nANIM.CrossFadeQueued(\"long_move5\", 0.6F, QueueMode.CompleteOthers);\n</code></pre>\n\n<p>When playing, this order is followed:</p>\n\n<ol>\n<li>long_move0</li>\n<li>long_move1</li>\n<li>long_move2</li>\n<li>long_move3</li>\n<li>long_move4</li>\n<li>long_move5</li>\n<li><em>freezes in a piece of a small animation</em></li>\n<li>small_move0</li>\n<li>small_move1</li>\n<li>small_move2</li>\n<li>small_move3</li>\n</ol>\n"}, {"tags": ["c#", "linq-to-sql"], "comments": [{"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1439421736, "post_id": 31976977, "comment_id": 51860321, "body": "Does <code>.Include(&quot;QuoteTransactions&quot;)</code> not work?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1439422562, "post_id": 31976977, "comment_id": 51860545, "body": "You need to join two tables on common field.  See following webpage : <a href=\"https://code.msdn.microsoft.com/LINQ-Join-Operators-dabef4e9\" rel=\"nofollow noreferrer\">code.msdn.microsoft.com/LINQ-Join-Operators-dabef4e9</a>"}, {"owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "edited": false, "score": 0, "creation_date": 1439481951, "post_id": 31976977, "comment_id": 51890840, "body": "the .Include(&quot;QuoteTransaction&quot;) returns an error 500."}], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 3566771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ccf73cc27323f292279d2698b3b51c?s=128&d=identicon&r=PG&f=1", "display_name": "Jahirul Islam Bhuiyan", "link": "https://stackoverflow.com/users/3566771/jahirul-islam-bhuiyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1439524346, "last_edit_date": 1439524346, "creation_date": 1439524037, "answer_id": 32001968, "question_id": 31976977, "link": "https://stackoverflow.com/questions/31976977/linq-retrieve-many-to-one-relationship-database/32001968#32001968", "title": "LINQ Retrieve many to one relationship database", "body": "<p>You need to add a property</p>\n\n<pre><code>public virtual List&lt;QuoteTransaction&gt; QuoteTransactions{ get; set; }\n</code></pre>\n\n<p>into class QuoteInformation to get list of tansactions</p>\n\n<p>and then change your LINQ with .Include(\"QuoteTransactions\") </p>\n\n<p>You can also include by adding following code in the LINQ if it return navigation property exception</p>\n\n<pre><code>.Include(r=&gt;r.QuoteTransactions) \n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 32001968, "answer_count": 1, "score": 1, "last_activity_date": 1439524346, "creation_date": 1439421319, "question_id": 31976977, "link": "https://stackoverflow.com/questions/31976977/linq-retrieve-many-to-one-relationship-database", "title": "LINQ Retrieve many to one relationship database", "body": "<p>I currently have the follow LINQ code working which returns one row per quote.  I need to modify this to return an additional table that could have many records per quote and I am not sure how to add this bit of code as I am still learning.</p>\n\n<pre><code>    var query = DbContext.QuoteInformation\n                .Include(\"Customer\")\n                .Include(\"Priority\")\n                .Include(\"Status\")\n                .OrderBy(q =&gt; q.RFQ);\n\n    totalRecords = query.Count();\n\n    return query.ToList();\n</code></pre>\n\n<p>The table that I need to include in this query has these columns -</p>\n\n<pre><code>public class QuoteTransaction\n{\n    [Key]\n    public Guid Id { get; set; }\n    public Guid QuoteInformationId { get; set; }\n    public Guid DepartmentId { get; set; }\n    public Guid StatusId { get; set; }\n    public bool Checked { get; set; }\n    public string Comments { get; set; }\n    public string UserId { get; set; }\n\n    public QuoteInformation QuoteInformation { get; set; }\n    public Department Department { get; set; }\n    public Status Status { get; set; }\n    public ApplicationUser User { get; set; }\n\n    public QuoteTransaction()\n    {\n        Id = SequentialGuid.Create(SequentialGuidType.SequentialAtEnd);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1439481982, "post_id": 31988881, "comment_id": 51890862, "body": "We noticed that Aliases wasn&#39;t working as expected (or at all).  What can we do to resolve the problem?  Do we need to create <code>public class Alias</code> with <code>public long Id</code> and <code>public string Alias</code> as properties?"}, {"owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "reply_to_user": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "edited": false, "score": 0, "creation_date": 1439532386, "post_id": 31988881, "comment_id": 51909467, "body": "You can do it or, if you don&#39;t need to search by Aliases, you can add a private store field (need to map it via fluent interface and the mapping class must be an inner class of the entity) and use it to compile Aliases."}], "tags": [], "owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "is_accepted": true, "score": 1, "last_activity_date": 1439470540, "creation_date": 1439470540, "answer_id": 31988881, "question_id": 31976964, "link": "https://stackoverflow.com/questions/31976964/entity-framework-code-first-many-to-many-relationship-not-working/31988881#31988881", "title": "Entity Framework code first many-to-many relationship not working", "body": "<p>Before starting, after solved the problem, take also care about <code>public ICollection&lt;string&gt; Aliases { get; set; }</code> because can't be mapped in this way.</p>\n\n<p>The context is very important. For me is quite strange that you have a DataCode table (DataCode class is abstract so you - and EF - can't create it).\nAnyway, using this context</p>\n\n<pre><code>public class TestContext : DbContext\n{\n    public TestContext(DbConnection connection) : base(connection, true) { }\n\n    public DbSet&lt;InternCode&gt; InternCodes { get; set; }\n    public DbSet&lt;Model&gt; Models { get; set; }\n    public DbSet&lt;Version&gt; Versions { get; set; }\n\n\n}\n</code></pre>\n\n<p>Three table are created as expected. InternCode has a Version_Id and Model has a Version_Id because you did not specify anything on Model and InternCode about version so EF assumes that one InternCode (and one Model) has only one Version</p>\n\n<p>To achieve that a single Model (and a single InternCode) can be related to more than one version you can do the following:</p>\n\n<pre><code>public class TestContext : DbContext\n{\n    public TestContext(DbConnection connection) : base(connection, true) { }\n\n    public DbSet&lt;InternCode&gt; InternCodes { get; set; }\n    public DbSet&lt;Model&gt; Models { get; set; }\n    public DbSet&lt;Version&gt; Versions { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Configurations.Add(new VersionMap());\n    }\n}\n\npublic class InternCode : DataCode\n{\n    public string PrimaryRelationalOperator { get; set; }\n    public string PrimaryValue { get; set; }\n    public string SecondaryRelationalOperator { get; set; }\n    public string SecondaryValue { get; set; }\n\n    public virtual ICollection&lt;Version&gt; Versions { get; set; }\n}\n\npublic class Model : DataCode\n{\n    public ICollection&lt;string&gt; Aliases { get; set; }\n    public bool ExportOnly { get; set; }\n    public virtual ICollection&lt;Version&gt; Versions { get; set; }\n    public void GetOptions()\n    {\n        throw new NotImplementedException();\n    }\n}\n\n\npublic class VersionMap : EntityTypeConfiguration&lt;Version&gt;\n{\n    public VersionMap()\n    {\n        // Relationships\n        HasMany(t =&gt; t.Models)\n            .WithMany(t =&gt; t.Versions);\n\n        HasMany(t =&gt; t.DataReleaseLevels)\n            .WithMany(t =&gt; t.Versions);\n    }\n}\n</code></pre>\n\n<p>In this case you'll see several tables created (the tables to express n to m relationships)</p>\n"}], "owner": {"reputation": 657, "user_id": 4052227, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-ayQSJ7XAJWE/AAAAAAAAAAI/AAAAAAAACCQ/5i65DQBsNUY/photo.jpg?sz=128", "display_name": "J.D. Ray", "link": "https://stackoverflow.com/users/4052227/j-d-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31988881, "answer_count": 1, "score": 2, "last_activity_date": 1439470540, "creation_date": 1439421291, "question_id": 31976964, "link": "https://stackoverflow.com/questions/31976964/entity-framework-code-first-many-to-many-relationship-not-working", "title": "Entity Framework code first many-to-many relationship not working", "body": "<p>We're using Entity Framework 6, code first, to store a complex tree of objects that look like the following:</p>\n\n<pre><code>public abstract class DataCode\n{\n    public long Id { get; set; }\n    public string Code { get; set; }\n    public string Description { get; set; }\n    public bool IsActive { get; set; }\n}\n\npublic class InternCode : DataCode\n{\n    public string PrimaryRelationalOperator { get; set; }\n    public string PrimaryValue { get; set; }\n    public string SecondaryRelationalOperator { get; set; }\n    public string SecondaryValue { get; set; }\n}\n\npublic class Model : DataCode\n{\n    public ICollection&lt;string&gt; Aliases { get; set; }\n    public bool ExportOnly { get; set; }\n    public void GetOptions()\n    {\n        throw new NotImplementedException();\n    }\n}\n\npublic class Version\n{\n    public long Id { get; set; }\n    public string Description { get; set; }\n    public string Status { get; set; }\n    public float VersionNumber { get; set; }\n    public virtual PriceLevel PriceLevel { get; set; }\n    public DateTime EffectiveDate { get; set; }\n    public virtual ICollection&lt;Model&gt; Models { get; set; }\n    public virtual ICollection&lt;InternCode&gt; DataReleaseLevels { get; set; }\n}\n</code></pre>\n\n<p>So, a <code>Version</code> can refer to many <code>Model</code>s, each of which is a <code>DataCode</code>.  But another <code>Version</code> can refer to the same set of <code>Model</code>s (hence the <code>virtual</code> keyword, which <em>I think</em> is the way you do this).  A <code>PriceLevel</code> is also a <code>DataCode</code>.  A <code>Version</code> can also have many <code>InternCode</code>s, each of which is a <code>DataCode</code>, but that's another story.  At any rate, there's a lot going on in the <code>DataCode</code> table that EF generates.</p>\n\n<p>We have the following <strong>DataInitializer</strong> code:</p>\n\n<pre><code>var ModelList = new List&lt;Model&gt;\n{\n    new Model { Code = \"001-230\", Description = \"Model 230\" },\n    new Model { Code = \"001-231\", Description = \"Model 231\" },\n    new Model { Code = \"001-232\", Description = \"Model 232\" },\n    new Model { Code = \"001-233\", Description = \"Model 233\" },\n    // and many more\n}\n\nvar versions = new List&lt;Entities.Version&gt;\n{\n    new Entities.Version {\n        VersionNumber=2.1F,\n        Description = \"Version 2.1 for Model Group A\",\n        EffectiveDate = DateTime.Parse(\"1/15/1995\"),\n        Models=new List&lt;Model&gt; { \n            ModelList.Find( m =&gt; m.Code == \"001-230\"),\n            ModelList.Find( m =&gt; m.Code == \"001-231\"),\n            ModelList.Find( m =&gt; m.Code == \"001-232\"),\n            ModelList.Find( m =&gt; m.Code == \"001-233\"),\n        },\n        Status = \"Draft\"\n   },\n   new Entities.Version {\n       VersionNumber=2.2F,\n       Description = \"Version 2.2 for Model Group A\",\n       EffectiveDate = DateTime.Parse(\"7/15/1995\"),\n       Models=new List&lt;Model&gt; { \n           ModelList.Find( m =&gt; m.Code == \"001-230\"),\n           ModelList.Find( m =&gt; m.Code == \"001-231\"),\n           ModelList.Find( m =&gt; m.Code == \"001-232\"),\n           ModelList.Find( m =&gt; m.Code == \"001-233\"),\n       },\n       Status = \"Draft\"\n   },\n   new Entities.Version {\n       VersionNumber=2.3F,\n       Description = \"Version 2.3 for Model Group A\",\n       EffectiveDate = DateTime.Parse(\"1/15/1996\"),\n       Models=new List&lt;Model&gt; { \n           ModelList.Find( m =&gt; m.Code == \"001-230\"),\n           ModelList.Find( m =&gt; m.Code == \"001-231\"),\n           ModelList.Find( m =&gt; m.Code == \"001-232\"),\n           ModelList.Find( m =&gt; m.Code == \"001-233\"),\n       },\n       Status = \"Draft\"\n   }                            \n};\n</code></pre>\n\n<p>After saving changes, sacrificing a chicken, and all the other stuff, we're finding that the <strong>DataCode</strong> table in the database is creating two columns named <code>Version_VersionId</code> and <code>Version_VersionId1</code>.  The first has null values, the second has the <code>Id</code> of the last <code>Version</code> record that was created.  At the very least, I would expect that it would create a new <code>Version_VersionId</code> column for each <code>Version</code> that <code>Model</code> was a member of.  This seems horribly inefficient to me, but at least it would work.  Instead, the data seems to be stomping on previous <code>Version</code> references.</p>\n\n<p>I'm hoping we can fix this with FluentAPI, but I have no idea how.  Does anyone have a suggestion?</p>\n"}, {"tags": ["c#", "asp.net", "jcrop"], "comments": [{"owner": {"reputation": 1594, "user_id": 3939772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef76f6b4fceacac70453ad4854fc4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Fitzpatrick", "link": "https://stackoverflow.com/users/3939772/mark-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1439422552, "post_id": 31976961, "comment_id": 51860540, "body": "If you want a stream, put it in session. You have to be careful as too much in the session can hit the memory barrier and cause the application pool to recycle. You could try to serialize it to the viewstate via a serialized string, but that can really slow the roundtrip as the viewstate bloats."}, {"owner": {"reputation": 1067, "user_id": 1287699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0aa8935ff9e1a4d30d6a08b61188a444?s=128&d=identicon&r=PG", "display_name": "Terje Nyg&#229;rd", "link": "https://stackoverflow.com/users/1287699/terje-nyg%c3%a5rd"}, "reply_to_user": {"reputation": 1594, "user_id": 3939772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef76f6b4fceacac70453ad4854fc4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Fitzpatrick", "link": "https://stackoverflow.com/users/3939772/mark-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1439422872, "post_id": 31976961, "comment_id": 51860637, "body": "Yeah @Mark.. done mistakes with especially Session, and somewhat ViewState before.., so not very eager going on that trip again :)"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1439423017, "post_id": 31976961, "comment_id": 51860682, "body": "<code>due to azure</code>  this needs some more explanation.  What about Azure makes you reluctant to store the image on disk?"}, {"owner": {"reputation": 1067, "user_id": 1287699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0aa8935ff9e1a4d30d6a08b61188a444?s=128&d=identicon&r=PG", "display_name": "Terje Nyg&#229;rd", "link": "https://stackoverflow.com/users/1287699/terje-nyg%c3%a5rd"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1439423184, "post_id": 31976961, "comment_id": 51860725, "body": "That&#39;s a good point @Sam :) It&#39;s been a while since i&#39;ve been messing around with storing data on the filesystem when using Azure Websites..  Remember i had a <i>very</i> hard time the last time i tried to tweak this around to work.  So... maybe you know something i dont know about storing files on the filesystem when using Azure ?"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1439423471, "post_id": 31976961, "comment_id": 51860794, "body": "I use the Azure SDK (installed via NuGet), and the Azure Storage API (CloudStorageAccount, CloudBlobClient, CloudBlobContainer, CloudBlockBlob).  Azure storage is accessible from Azure Websites, and once you upload a file, that file is accessible via a standard URL."}], "answers": [{"comments": [{"owner": {"reputation": 1067, "user_id": 1287699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0aa8935ff9e1a4d30d6a08b61188a444?s=128&d=identicon&r=PG", "display_name": "Terje Nyg&#229;rd", "link": "https://stackoverflow.com/users/1287699/terje-nyg%c3%a5rd"}, "edited": false, "score": 0, "creation_date": 1439424806, "post_id": 31977346, "comment_id": 51861095, "body": "Thanks @Sam :) I&#39;ll go through it tomorrow afternoon, since i have to get to bed for a moroccan wedding (dooh!).. Not all fun on vacation :)   I have a storage already set for uploading images, but i like the way you are uploading through &quot;UploadFile&quot; method.. :) I&#39;ll try that out tomorrow.. Either though.. i will need a two step (two different pages OR.. a updatepanel update to make this work :)"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "reply_to_user": {"reputation": 1067, "user_id": 1287699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0aa8935ff9e1a4d30d6a08b61188a444?s=128&d=identicon&r=PG", "display_name": "Terje Nyg&#229;rd", "link": "https://stackoverflow.com/users/1287699/terje-nyg%c3%a5rd"}, "edited": false, "score": 0, "creation_date": 1439434197, "post_id": 31977346, "comment_id": 51863218, "body": "Correct. This method would require a round-trip to the server, either via page reload or XHR. It doesn&#39;t answer the question as asked, but you may find it useful.  I hope the wedding is fun!"}], "tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": false, "score": 1, "last_activity_date": 1439423819, "creation_date": 1439423819, "answer_id": 31977346, "question_id": 31976961, "link": "https://stackoverflow.com/questions/31976961/how-to-temporarily-store-a-image-within-same-aspx-page-not-using-the-filesystem/31977346#31977346", "title": "How to temporarily store a image within same aspx page, not using the filesystem ?", "body": "<p>If you are not opposed to using Azure Storage, here's a class I use.  It's designed for uploading images and pdfs, but I'm sure you can modify it to fit your needs.  </p>\n\n<p>Usage:</p>\n\n<pre><code>Dim storage As AzureStorage = New AzureStorage(\"storage name\", \"storage key\")\n    storage.UploadFile(\"directory name\", \"filename\", fileStream)\n</code></pre>\n\n<p>Once uploaded your file is accessible via url:</p>\n\n<pre><code>http://yourdomain.blob.core.windows.net/container-name/filename\n</code></pre>\n\n<p>Helper class:</p>\n\n<pre><code>Imports System\nImports System.IO\n\nImports Microsoft.WindowsAzure.Storage\nImports Microsoft.WindowsAzure.Storage.Auth\nImports Microsoft.WindowsAzure.Storage.Blob\n\n\n'\n'   See http://msdn.microsoft.com/en-us/library/dd135715.aspx for naming guidelines.\n'\n\nPublic Class AzureStorage\n\n    Public Sub New(ByVal storageName As String, ByVal storageKey As String)\n\n        Me.StorageName = storageName\n        Me.StorageKey = storageKey\n\n    End Sub\n\n\n\n    Private Function GetStorageAccount() As CloudStorageAccount\n\n        Dim result As CloudStorageAccount = New CloudStorageAccount(New StorageCredentials(StorageName, StorageKey), True)\n\n        Return result\n\n    End Function\n\n\n\n    Private Function GetBlobContainer(ByVal name As String) As CloudBlobContainer\n\n        Dim account As CloudStorageAccount = GetStorageAccount()\n        Dim client As CloudBlobClient = account.CreateCloudBlobClient\n        Dim result As CloudBlobContainer = client.GetContainerReference(name)\n\n        result.CreateIfNotExists(BlobContainerPublicAccessType.Blob)\n\n        Return result\n\n    End Function\n\n\n\n    Private Function GetBlob(ByVal containerName As String, ByVal name As String) As CloudBlockBlob\n\n        Dim container As CloudBlobContainer = GetBlobContainer(containerName)\n        Dim result As CloudBlockBlob = container.GetBlockBlobReference(name)\n\n        Return result\n\n    End Function\n\n\n\n    Public Sub UploadFlyer(ByVal fileName As String, ByVal stream As Stream)\n\n        UploadFile(\"flyers\", fileName, stream)\n\n    End Sub\n\n\n\n    Public Sub UploadLogo(ByVal fileName As String, ByVal stream As Stream)\n\n        UploadFile(\"class-logos\", fileName, stream)\n\n    End Sub\n\n\n\n    Public Sub UploadFile(ByVal containerName As String, ByVal fileName As String, ByVal stream As Stream)\n\n        Dim blob As CloudBlockBlob = GetBlob(containerName, fileName)\n        Dim targetMaximumSize As Int32 = 144\n        Dim width As Int32 = targetMaximumSize\n        Dim height As Int32 = targetMaximumSize\n        Dim coefficient As Decimal = 1\n        Dim imageStream As Stream = New MemoryStream\n\n        Dim formats As Dictionary(Of String, System.Drawing.Imaging.ImageFormat) = New Dictionary(Of String, Drawing.Imaging.ImageFormat)\n        Dim extension As String = Path.GetExtension(fileName).Trim.ToLower\n\n        formats.Add(\".jpg\", System.Drawing.Imaging.ImageFormat.Jpeg)\n        formats.Add(\".png\", System.Drawing.Imaging.ImageFormat.Png)\n\n        '\n        '   Resize source image to max 144px (2\") to a side\n        '\n        If formats.ContainsKey(extension) Then\n            Using sourceImage As System.Drawing.Image = System.Drawing.Image.FromStream(stream)\n                coefficient = targetMaximumSize / Math.Max(sourceImage.Width, sourceImage.Height)\n                If coefficient &lt; 1 Then\n                    width = sourceImage.Width * coefficient\n                    height = sourceImage.Height * coefficient\n                    Using targetImage As System.Drawing.Image = New System.Drawing.Bitmap(width, height)\n                        Using graphics As System.Drawing.Graphics = System.Drawing.Graphics.FromImage(targetImage)\n                            graphics.DrawImage(sourceImage, targetImage.GetBounds(System.Drawing.GraphicsUnit.Pixel), sourceImage.GetBounds(System.Drawing.GraphicsUnit.Pixel), Drawing.GraphicsUnit.Pixel)\n                        End Using\n                        targetImage.Save(imageStream, formats(extension))\n                    End Using\n                Else\n                    sourceImage.Save(imageStream, formats(extension))\n                End If\n            End Using\n\n            imageStream.Seek(0, SeekOrigin.Begin)\n            blob.UploadFromStream(imageStream)\n        Else\n            blob.UploadFromStream(stream)\n        End If\n        imageStream.Dispose()\n\n    End Sub\n\n\n\n    Public Sub DeleteFile(ByVal containerName As String, ByVal fileName As String)\n\n        Dim blob As CloudBlockBlob = GetBlob(containerName, fileName)\n\n        blob.DeleteIfExists(DeleteSnapshotsOption.IncludeSnapshots)\n\n    End Sub\n\n\n\n    Public Property StorageName As String = String.Empty\n\n    Public Property StorageKey As String = String.Empty\n\nEnd Class\n</code></pre>\n"}], "owner": {"reputation": 1067, "user_id": 1287699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0aa8935ff9e1a4d30d6a08b61188a444?s=128&d=identicon&r=PG", "display_name": "Terje Nyg&#229;rd", "link": "https://stackoverflow.com/users/1287699/terje-nyg%c3%a5rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439423819, "creation_date": 1439421265, "question_id": 31976961, "link": "https://stackoverflow.com/questions/31976961/how-to-temporarily-store-a-image-within-same-aspx-page-not-using-the-filesystem", "title": "How to temporarily store a image within same aspx page, not using the filesystem ?", "body": "<p>I am using asp.net webforms together with jcrop (cropping image after fileupload)..</p>\n\n<p>This example i have here base the temporary image storing to the filesystem, but.. due to azure i cannot (and won't) do that.. </p>\n\n<p>Soo.. how can i have the same functionality <em>without</em> saving to disk ? This means... i would like to have a stream all across the line if possible.. </p>\n\n<pre><code>public partial class UserConfig : System.Web.UI.Page\n{\n    String path = HttpContext.Current.Request.PhysicalApplicationPath + \"images\\\\\";\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n\n    protected void btnUpload_Click(object sender, EventArgs e)\n    {\n        Boolean FileOK = false;\n        Boolean FileSaved = false;\n\n        if (Upload.HasFile)\n        {\n            Session[\"WorkingImage\"] = Upload.FileName;\n            String FileExtension = Path.GetExtension(Session[\"WorkingImage\"].ToString()).ToLower();\n            String[] allowedExtensions = { \".png\", \".jpeg\", \".jpg\", \".gif\" };\n            for (int i = 0; i &lt; allowedExtensions.Length; i++)\n            {\n                if (FileExtension == allowedExtensions[i])\n                {\n                    FileOK = true;\n                }\n            }\n        }\n\n        if (FileOK)\n        {\n            try\n            {\n                Upload.PostedFile.SaveAs(path + Session[\"WorkingImage\"]);\n                FileSaved = true;\n            }\n            catch (Exception ex)\n            {\n                lblError.Text = \"File could not be uploaded.\" + ex.Message.ToString();\n                lblError.Visible = true;\n                FileSaved = false;\n            }\n        }\n        else\n        {\n            lblError.Text = \"Cannot accept files of this type.\";\n            lblError.Visible = true;\n        }\n\n        if (FileSaved)\n        {\n            pnlUpload.Visible = false;\n            pnlCrop.Visible = true;\n            imgCrop.ImageUrl = \"images/\" + Session[\"WorkingImage\"].ToString();\n        }\n    }\n\n    protected void btnCrop_Click(object sender, EventArgs e)\n    {\n        string ImageName = Session[\"WorkingImage\"].ToString();\n        int w = Convert.ToInt32(W.Value);\n        int h = Convert.ToInt32(H.Value);\n        int x = Convert.ToInt32(X.Value);\n        int y = Convert.ToInt32(Y.Value);\n\n        byte[] CropImage = Crop(path + ImageName, w, h, x, y);\n        using (MemoryStream ms = new MemoryStream(CropImage, 0, CropImage.Length))\n        {\n            ms.Write(CropImage, 0, CropImage.Length);\n            using (SD.Image CroppedImage = SD.Image.FromStream(ms, true))\n            {\n                string SaveTo = path + \"crop\" + ImageName;\n                CroppedImage.Save(SaveTo, CroppedImage.RawFormat);\n                pnlCrop.Visible = false;\n                pnlCropped.Visible = true;\n                imgCropped.ImageUrl = \"images/crop\" + ImageName;\n            }\n        }\n    }\n\n    static byte[] Crop(string Img, int Width, int Height, int X, int Y)\n    {\n        try\n        {\n            using (SD.Image OriginalImage = SD.Image.FromFile(Img))\n            {\n                using (SD.Bitmap bmp = new SD.Bitmap(Width, Height))\n                {\n                    bmp.SetResolution(OriginalImage.HorizontalResolution, OriginalImage.VerticalResolution);\n                    using (SD.Graphics Graphic = SD.Graphics.FromImage(bmp))\n                    {\n                        Graphic.SmoothingMode = SmoothingMode.AntiAlias;\n                        Graphic.InterpolationMode = InterpolationMode.HighQualityBicubic;\n                        Graphic.PixelOffsetMode = PixelOffsetMode.HighQuality;\n                        Graphic.DrawImage(OriginalImage, new SD.Rectangle(0, 0, Width, Height), X, Y, Width, Height, SD.GraphicsUnit.Pixel);\n                        MemoryStream ms = new MemoryStream();\n                        bmp.Save(ms, OriginalImage.RawFormat);\n                        return ms.GetBuffer();\n                    }\n                }\n            }\n        }\n        catch (Exception Ex)\n        {\n            throw (Ex);\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "user-controls", "event-handling", "repeater"], "comments": [{"owner": {"reputation": 1452, "user_id": 3111722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b254e9a99a272939aed0666f5487dd3?s=128&d=identicon&r=PG&f=1", "display_name": "thewisegod", "link": "https://stackoverflow.com/users/3111722/thewisegod"}, "edited": false, "score": 0, "creation_date": 1439520156, "post_id": 31976944, "comment_id": 51906105, "body": "If my answer helped, please mark it as answer."}], "answers": [{"tags": [], "owner": {"reputation": 1452, "user_id": 3111722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b254e9a99a272939aed0666f5487dd3?s=128&d=identicon&r=PG&f=1", "display_name": "thewisegod", "link": "https://stackoverflow.com/users/3111722/thewisegod"}, "is_accepted": false, "score": 1, "last_activity_date": 1439443733, "creation_date": 1439443733, "answer_id": 31980116, "question_id": 31976944, "link": "https://stackoverflow.com/questions/31976944/adding-an-event-handler-to-a-user-control-in-a-repeater/31980116#31980116", "title": "Adding an event handler to a user control in a repeater", "body": "<p>Take a look at this (<a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater_events(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater_events(v=vs.110).aspx</a>) to get an understanding of the Repeater's Event Life Cycle. Basically you need to wire a Web User Control's events at the time of the repeater items creation, not when it is being bound, which obviously happens after creation. The following code should work for you:</p>\n\n<pre><code>protected void rptMonthlyFiles_ItemCreated(Object Sender, RepeaterItemEventArgs e)\n{\n    if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)\n    {\n        DataRowView drv = e.Item.DataItem as DataRowView;\n        //there are one of these for each month cut the rest out to make smaller code sample\n        //Below gets DB info and sets up user control properly for UI based on business rules\n        ((NRTWebApplication.UserControls.ucMonthlyFile2)e.Item.FindControl(\"ucOctMonthlyFile\")).GetFileInfo();\n\n        // This is how I am adding the event handler for each user control and it does not work like if done in Page_Load\n        ((NRTWebApplication.UserControls.ucMonthlyFile2)e.Item.FindControl(\"ucOctMonthlyFile\")).UserControlUploadButtonClicked += new EventHandler(ManageUploader);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 1569709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UUrAn.jpg?s=128&g=1", "display_name": "RichP", "link": "https://stackoverflow.com/users/1569709/richp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1222, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1439443733, "creation_date": 1439421154, "last_edit_date": 1439421555, "question_id": 31976944, "link": "https://stackoverflow.com/questions/31976944/adding-an-event-handler-to-a-user-control-in-a-repeater", "title": "Adding an event handler to a user control in a repeater", "body": "<p>I have an asp.net web application. I have created a user control. The user control has an event handler that the parent page (.aspx file) can call. That .aspx page uses a repeater to make several of the user controls. If I put a single user control outside the repeater and add the event handler in Page_Load it works how I want it to. If I try the controls created in the repeater the do not call my events. I'll cut out as much as I can to make a somewhat simple code sample below.</p>\n\n<p>Partial User Control .ascx.cs file:</p>\n\n<pre><code>    public event EventHandler UserControlUploadButtonClicked;\n\n    private void OnUserControlUploadButtonClick()\n    {\n        if (UserControlUploadButtonClicked != null)\n        {\n           //Makes it to this line if control is created outside repeater\n           //controls created in repeater are null so this line not executed\n           UserControlUploadButtonClicked(this, EventArgs.Empty);\n        }\n    }\n\n    protected void TheButton_Click(object sender, EventArgs e)\n    {\n        // .... do stuff then fire off the event\n        OnUserControlUploadButtonClick();\n    }\n</code></pre>\n\n<p>The markup of the user control that matters:\n                        </p>\n\n<pre><code>&lt;asp:ImageButton runat=\"server\"  ID=\"imbUploadFile\" ImageUrl=\"~/images/status_red.png\" ToolTip=\"Upload File\" onclick=\"TheButton_Click\"  /&gt;\n</code></pre>\n\n<p>Here is the .aspx.cs part that works if I call it on Page_Load:</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)        \n    {\n        if (!IsPostBack)\n        {\n            LoadDDLs();\\\\Load drop down lists for filter for other UI stuff\n        }\n        \\\\This works!\n        this.ucTest.UserControlUploadButtonClicked += new EventHandler(ManageUploader);\n     }\n</code></pre>\n\n<p>This is what I am trying in the binding of the repeater that is not working:</p>\n\n<pre><code>    protected void rptMonthlyFiles_ItemDataBound(Object Sender, RepeaterItemEventArgs e)\n    {\n        if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)\n        {\n            DataRowView drv = e.Item.DataItem as DataRowView;\n            //there are one of these for each month cut the rest out to make smaller code sample\n            //Below gets DB info and sets up user control properly for UI based on business rules\n            ((NRTWebApplication.UserControls.ucMonthlyFile2)e.Item.FindControl(\"ucOctMonthlyFile\")).GetFileInfo();\n\n            // This is how I am adding the event handler for each user control and it does not work like if done in Page_Load\n            ((NRTWebApplication.UserControls.ucMonthlyFile2)e.Item.FindControl(\"ucOctMonthlyFile\")).UserControlUploadButtonClicked += new EventHandler(ManageUploader);\n\n        }\n    }\n</code></pre>\n\n<p>This is the place holder for what the parent page .aspx should do when the event is raised by clicking the User Control:</p>\n\n<pre><code>    private void ManageUploader(object sender, EventArgs e)\n    {\n        // ... do something when event is fired\n        this.labTest.Text = \"After User Control Button Clicked\";\n    }\n</code></pre>\n\n<p>Stuck on this for a while any and all help greatly appreciated!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 7896, "user_id": 1559219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DXPxC.jpg?s=128&g=1", "display_name": "Kurubaran", "link": "https://stackoverflow.com/users/1559219/kurubaran"}, "edited": false, "score": 1, "creation_date": 1439421771, "post_id": 31976858, "comment_id": 51860328, "body": "Read the content into an array/list first, Then replace the text as you want and then overwrite the file."}, {"owner": {"reputation": 11, "user_id": 4942160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lgBc3.jpg?s=128&g=1", "display_name": "Youssef Omri", "link": "https://stackoverflow.com/users/4942160/youssef-omri"}, "reply_to_user": {"reputation": 7896, "user_id": 1559219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DXPxC.jpg?s=128&g=1", "display_name": "Kurubaran", "link": "https://stackoverflow.com/users/1559219/kurubaran"}, "edited": false, "score": 0, "creation_date": 1439423256, "post_id": 31976858, "comment_id": 51860744, "body": "Yes thank you i think that&#39;s is the easy way to do this ... i will try with a list"}], "answers": [{"comments": [{"owner": {"reputation": 8541, "user_id": 10659, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/02e1e5ac4f5c3e32859dede277dfd64b?s=128&d=identicon&r=PG", "display_name": "Loren Pechtel", "link": "https://stackoverflow.com/users/10659/loren-pechtel"}, "edited": false, "score": 0, "creation_date": 1439437629, "post_id": 31976951, "comment_id": 51863968, "body": "C# makes read/write access to a file a pain even with fixed width records."}], "tags": [], "owner": {"reputation": 916, "user_id": 2005204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477b229d748952ddd7c36c08b6f86dd5?s=128&d=identicon&r=PG&f=1", "display_name": "WDS", "link": "https://stackoverflow.com/users/2005204/wds"}, "is_accepted": true, "score": 1, "last_activity_date": 1439421175, "creation_date": 1439421175, "answer_id": 31976951, "question_id": 31976858, "link": "https://stackoverflow.com/questions/31976858/how-to-read-and-write-on-a-file-in-same-time-using-c/31976951#31976951", "title": "How To Read And Write On A File In Same Time Using C#", "body": "<p>You have to bear in mind that \"Sam\" and \"Johnny\" are not the same length.  What will the file do with those empty bytes?  Worse, what if you replaced \"Sam\" with \"Johnny\"?  You will overwrite letters in the next record.</p>\n\n<p>Fixed-width records can address this, but for a small file system, I would just read all into a list, then rewrite the whole list to file again.  Or a different approach would be to set it all up in a database and let the database handle the reads and writes and you handle the business logic.</p>\n\n<p>But just writing new data to a file on the fly as you are reading it is probably going to be more trouble than it's worth.</p>\n"}], "owner": {"reputation": 11, "user_id": 4942160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lgBc3.jpg?s=128&g=1", "display_name": "Youssef Omri", "link": "https://stackoverflow.com/users/4942160/youssef-omri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1439460609, "accepted_answer_id": 31976951, "answer_count": 1, "score": -2, "last_activity_date": 1439421175, "creation_date": 1439420598, "question_id": 31976858, "link": "https://stackoverflow.com/questions/31976858/how-to-read-and-write-on-a-file-in-same-time-using-c", "closed_reason": "Duplicate", "title": "How To Read And Write On A File In Same Time Using C#", "body": "<p>i want to know how to read file and write on it in the same time for example:  </p>\n\n<h1>file content:</h1>\n\n<p>Johny<br>\ntony<br>\njack<br>\nAhmad<br>\nJohny  </p>\n\n<pre><code>string line;\n\nline = file.ReadLine();\n\nif (line == \"johny\")\n{\n   line= \"Sam\"\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "ajax", "webforms", "updatepanel"], "owner": {"reputation": 21, "user_id": 2462264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f45e45207d6dca24ca8071400ad3308?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/2462264/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1439420328, "creation_date": 1439420328, "question_id": 31976808, "link": "https://stackoverflow.com/questions/31976808/asp-c-updatepanel-does-not-update-contents", "title": "ASP C# UpdatePanel does not update contents", "body": "<p>I am trying to update the datasource of a webdatagrid in an updatepanel. I am able to do this via a timer <code>tick</code> event</p>\n\n<pre><code>&lt;asp:timer id=\"Timer1\" runat=\"server\" interval=\"10000\" ontick=\"Timer1_Tick\"&gt;&lt;/asp:timer&gt;\n&lt;asp:updatepanel id=\"UpdatePanel1\" runat=\"server\"&gt;\n    &lt;Triggers&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"Timer1\" EventName=\"Tick\"/&gt;\n    &lt;/Triggers&gt;\n    &lt;ContentTemplate&gt;\n        &lt;ig:WebDataGrid ID=\"WebDataGrid\" runat=\"server\" AutoGenerateColumns=\"false\" &gt;\n        &lt;/ig:WebDataGrid&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:updatepanel&gt;\n</code></pre>\n\n<p>And with the <code>Tick</code> event handler</p>\n\n<pre><code>protected void Timer1_Tick(object sender, EventArgs e)\n{\n    WebDataGrid.DataSource = *a datatable*;\n    WebDataGrid.DataBind();\n}\n</code></pre>\n\n<p>However, now when I try to do the same thing except instead of using the timer, use the <code>WebDataGridMain_RowSelectionChanged</code> event instead the webdatagrid does not update. I believe the new datasource value is still being sent to the client however the <code>UpdatePanel</code> does not seem to be updating the view.</p>\n\n<pre><code>&lt;ig:WebDataGrid ID=\"WebDataGridMain\" runat=\"server\" AutoGenerateColumns=\"False\" OnRowSelectionChanged=\"WebDataGridMain_RowSelectionChanged\"&gt;\n    &lt;ClientEvents AJAXResponse=\"AJAXResponseHandler\" /&gt;\n&lt;/ig:WebDataGrid&gt;\n\n&lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"&gt;\n    &lt;Triggers&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"WebDataGridMain\" EventName=\"RowSelectionChanged\"/&gt;\n    &lt;/Triggers&gt;\n    &lt;ContentTemplate&gt;\n        &lt;ig:WebDataGrid ID=\"WebDataGridDetail\" runat=\"server\" AutoGenerateColumns=\"false\"&gt;\n            &lt;/ig:WebDataGrid&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>With the the similar event handler code below</p>\n\n<pre><code>protected void WebDataGridMain_RowSelectionChanged(object sender, Infragistics.Web.UI.GridControls.SelectedRowEventArgs e)\n{\n    WebDataGridDetail.DataSource = *a datatable*;\n    WebDataGridDetail.DataBind();\n}\n</code></pre>\n\n<p>There doesn't seem to be any difference between these two except for the type of event trigger. What should I change so that the <code>UpdatePanel</code> works with the <code>RowSelectionChanged</code> event?</p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "fluentautomation"], "answers": [{"comments": [{"owner": {"reputation": 536, "user_id": 2898278, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0205b796101858bbb6b501a486cae5e0?s=128&d=identicon&r=PG&f=1", "display_name": "AzureMinotaur", "link": "https://stackoverflow.com/users/2898278/azureminotaur"}, "edited": false, "score": 0, "creation_date": 1439845947, "post_id": 32011182, "comment_id": 52018368, "body": "Thanks! :D Actually I found a github page in which you had the correct working example. Maybe just paste that in the documentation?"}], "tags": [], "owner": {"reputation": 598, "user_id": 1460859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0911b8dd77a34c0354968639b4545f4?s=128&d=identicon&r=PG", "display_name": "stirno", "link": "https://stackoverflow.com/users/1460859/stirno"}, "is_accepted": true, "score": 0, "last_activity_date": 1439558620, "creation_date": 1439558620, "answer_id": 32011182, "question_id": 31976763, "link": "https://stackoverflow.com/questions/31976763/how-to-organize-tests-and-pageobject-classes-with-fluentautomation-and-mstest-c/32011182#32011182", "title": "How to organize tests and PageObject classes with FluentAutomation and MSTest (Cannot resolve symbol &quot;I&quot; error)", "body": "<p>Theres an issue with the docs on the site atm. Really need to get it fixed. The generic bits are missing!</p>\n\n<p>change <code>PageObject</code> to <code>PageObject&lt;BingSearchResultsPage&gt;</code> and <code>I</code> should resolve.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5321805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ade75ad8c3ee87b9634d388de09ca80e?s=128&d=identicon&r=PG", "display_name": "michelle de haan", "link": "https://stackoverflow.com/users/5321805/michelle-de-haan"}, "is_accepted": false, "score": 0, "last_activity_date": 1441897634, "creation_date": 1441897634, "answer_id": 32505528, "question_id": 31976763, "link": "https://stackoverflow.com/questions/31976763/how-to-organize-tests-and-pageobject-classes-with-fluentautomation-and-mstest-c/32505528#32505528", "title": "How to organize tests and PageObject classes with FluentAutomation and MSTest (Cannot resolve symbol &quot;I&quot; error)", "body": "<p>Had the same problem, this is what I came up with:</p>\n\n<pre><code>using System;\nusing FluentAutomation;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\nnamespace HelloWorldTests\n{\n    [TestClass]\n    public class WithPageObjectTests : FluentTest\n    {\n        public WithPageObjectTests()\n        {\n            SeleniumWebDriver\n                .Bootstrap(SeleniumWebDriver.Browser.InternetExplorer);\n        }\n\n        [TestInitialize]\n        public void TestInitialisze()\n        {\n            // Global wait timer\n            Config.Settings.WaitUntilTimeout = TimeSpan.FromSeconds(5);\n\n            Config.Settings.ScreenshotOnFailedAction = true;\n            Config.Settings.ScreenshotOnFailedAssert = true;\n            Config.Settings.ScreenshotOnFailedExpect = true;\n        }\n\n        [TestMethod]\n        public void SearchForFluentAutomation()\n        {\n            new BingSearchPage(this)\n                .Go()\n                .Search(\"FluentAutomation\")\n                .FindResultUrl(\"http://fluent.stirno.com/blog/FluentAutomation-scriptcs/\");\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Page model\n    /// &lt;/summary&gt;\n    public class BingSearchPage : PageObject&lt;BingSearchPage&gt;\n    {\n        //private const string SearchInput = \"input[title='Enter your search term']\";\n        private const string SearchInput = \"#sb_form_q\";\n\n        public BingSearchPage(FluentTest test)\n            : base(test)\n        {\n            Url = \"http://bing.com/\";\n            At = () =&gt; I.Expect.Exists(SearchInput);\n        }\n\n        public BingSearchResultsPage Search(string searchText)\n        {\n            I.Enter(searchText).In(SearchInput);\n            I.Press(\"{ENTER}\");\n            return this.Switch&lt;BingSearchResultsPage&gt;();\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Page model\n    /// &lt;/summary&gt;\n    public class BingSearchResultsPage : PageObject&lt;BingSearchResultsPage&gt;\n    {\n        private const string SearchResultsContainer = \"#b_results\";\n        private const string ResultUrlLink = \"a[href='{0}']\";\n\n        public BingSearchResultsPage(FluentTest test)\n            : base(test)\n        {\n            At = () =&gt; I.Expect.Exists(SearchResultsContainer);\n        }\n\n        public BingSearchResultsPage FindResultUrl(string url)\n        {\n            I.Expect.Exists(string.Format(ResultUrlLink, url));\n            return this;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 536, "user_id": 2898278, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0205b796101858bbb6b501a486cae5e0?s=128&d=identicon&r=PG&f=1", "display_name": "AzureMinotaur", "link": "https://stackoverflow.com/users/2898278/azureminotaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 32011182, "answer_count": 2, "score": 1, "last_activity_date": 1441897634, "creation_date": 1439420139, "question_id": 31976763, "link": "https://stackoverflow.com/questions/31976763/how-to-organize-tests-and-pageobject-classes-with-fluentautomation-and-mstest-c", "title": "How to organize tests and PageObject classes with FluentAutomation and MSTest (Cannot resolve symbol &quot;I&quot; error)", "body": "<p>I am trying to run the example in the documentation <a href=\"http://fluent.stirno.com/docs/#pageobjects\" rel=\"nofollow\">here</a>.</p>\n\n<p>I am using Visual Studio with MSTest, so I modified the code a little bit and it looks like this now:</p>\n\n<pre><code>using System;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\nusing FluentAutomation;\nusing FluentAutomation.Interfaces;\nusing OpenQA.Selenium;\nusing OpenQA.Selenium.Firefox;\n\nnamespace UnitTestProject1\n{\n    public class BingSearchPage : PageObject\n    {\n        public BingSearchPage(FluentTest test)\n            : base(test)\n    {\n        Url = \"http://bing.com/\";\n        At = () =&gt; I.Expect.Exists(SearchInput); //Documentation says \"At = () =&gt;; I.Expect.Exists(SearchInput);\" but I think that's a typo\n    }\n\n        public BingSearchResultsPage Search(string searchText)\n        {\n            I.Enter(searchText).In(SearchInput);\n            I.Press(\"{ENTER}\");\n            return this.Switch();\n        }\n\n        private const string SearchInput = \"input[title='Enter your search term']\";\n    }\n\n    public class BingSearchResultsPage : PageObject\n    {\n        public BingSearchResultsPage(FluentTest test)\n            : base(test)\n        {\n            At = () =&gt; I.Expect.Exists(SearchResultsContainer);\n        }\n\n        public BingSearchResultsPage FindResultUrl(string url)\n        {\n            I.Expect.Exists(string.Format(ResultUrlLink, url));\n            return this;\n        }\n\n        private const string SearchResultsContainer = \"#b_results\";\n        private const string ResultUrlLink = \"a[href='{0}']\";\n    }\n\n    [TestClass]\n    public class UnitTest1 : FluentTest\n    {\n        public UnitTest1()\n        {\n            SeleniumWebDriver.Bootstrap(SeleniumWebDriver.Browser.Chrome);\n        }\n\n        [TestMethod]\n        public void SearchForFluentAutomation()\n        {\n            new BingSearchPage(this)\n                .Go()\n                .Search(\"FluentAutomation\")\n                .FindResultUrl(\"http://fluent.stirno.com/blog/FluentAutomation-scriptcs/\");\n        }\n    }\n}\n</code></pre>\n\n<p>I get errors like:</p>\n\n<blockquote>\n  <p>Error 1   'FluentAutomation.PageObject' does not contain a constructor\n  that takes 1 arguments    C:\\Users\\Shitij\\Documents\\Visual Studio\n  2013\\Projects\\UnitTestProject1\\UnitTestProject1\\UnitTest1.cs  13  15  UnitTestProject1</p>\n  \n  <p>Error 2   The name 'I' does not exist in the current\n  context   C:\\Users\\Shitij\\Documents\\Visual Studio\n  2013\\Projects\\UnitTestProject1\\UnitTestProject1\\UnitTest1.cs  16  20  UnitTestProject1</p>\n  \n  <p>Error 3   'UnitTestProject1.BingSearchPage' does not contain a\n  definition for 'Switch' and no extension method 'Switch' accepting a\n  first argument of type 'UnitTestProject1.BingSearchPage' could be\n  found (are you missing a using directive or an assembly\n  reference?)   C:\\Users\\Shitij\\Documents\\Visual Studio\n  2013\\Projects\\UnitTestProject1\\UnitTestProject1\\UnitTest1.cs  23  25  UnitTestProject1</p>\n</blockquote>\n\n<p>Feels like a stupid question, but I am stuck on it. Any idea what I am doing wrong? The property \"I\" seems to be in FluentTest class, so how is the documentation using that in classes derived from PageObject?</p>\n"}, {"tags": ["c#", "algorithm", "unity3d", "geometry", "rasterizing"], "comments": [{"owner": {"reputation": 23, "user_id": 4350718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e1ad0580cbb31c05b048357c4418d8?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Kazak", "link": "https://stackoverflow.com/users/4350718/dmytro-kazak"}, "edited": false, "score": 0, "creation_date": 1439420157, "post_id": 31976737, "comment_id": 51859893, "body": "forgot to add that Y coordinate is growing from bottomn to top, (0, 0) is lower left"}, {"owner": {"reputation": 1083, "user_id": 1875118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d8c958ab3844c995f041bd818122680?s=128&d=identicon&r=PG", "display_name": "AntiHeadshot", "link": "https://stackoverflow.com/users/1875118/antiheadshot"}, "edited": false, "score": 0, "creation_date": 1446709180, "post_id": 31976737, "comment_id": 54858643, "body": "At frist glance I think its because of the usage of int values for calculation."}], "owner": {"reputation": 23, "user_id": 4350718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e1ad0580cbb31c05b048357c4418d8?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Kazak", "link": "https://stackoverflow.com/users/4350718/dmytro-kazak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1439459152, "creation_date": 1439419994, "last_edit_date": 1439459152, "question_id": 31976737, "link": "https://stackoverflow.com/questions/31976737/fill-rectangle-with-color-on-2d-grid", "title": "Fill rectangle with color on 2d grid", "body": "<p>Following this article <a href=\"http://alienryderflex.com/polygon_fill/\" rel=\"nofollow noreferrer\">Efficient Polygon Fill Algorithm With C</a> i've implemented rectagle filling with color on 2d grid, but it gives me somewhat wrong results, see the screenshots below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fIucQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIucQ.png\" alt=\"Screenshots\"></a></p>\n\n<p>Source code:</p>\n\n<pre><code>    GroundGridCell[] obbVerticesCells = new GroundGridCell[componentRef.OBBVertices.Length];\n    for(int ii = 0; ii &lt; componentRef.OBBVertices.Length; ii++){\n        obbVerticesCells[ii] = componentRef.Grid.GetCellAtPos(componentRef.OBBVertices[ii]);\n    }\n\n    GroundGridCell[] sortedobbVerticesCellsY = obbVerticesCells.OrderByDescending((c) =&gt; { return c.YIndex; }).ToArray();\n    GroundGridCell[] sortedobbVerticesCellsX = obbVerticesCells.OrderByDescending((c) =&gt; { return c.XIndex; }).ToArray();\n\n    int nodes, cellX, cellY, maxY, minY, minX, maxX, i, j, swap;\n    int[] nodeX = new int[obbVerticesCells.Length];\n    maxY = sortedobbVerticesCellsY[0].YIndex;\n    minY = sortedobbVerticesCellsY[sortedobbVerticesCellsY.Length - 1].YIndex;\n    maxX = sortedobbVerticesCellsX[0].XIndex;\n    minX = sortedobbVerticesCellsX[sortedobbVerticesCellsX.Length - 1].XIndex;\n\n    //Loop through the rows of the image.\n    for (cellY = minY; cellY &lt; maxY; cellY++){\n        //Build a list of nodes.\n        nodes = 0; j = obbVerticesCells.Length - 1;\n        for (i = 0; i &lt; obbVerticesCells.Length; i++){\n            if (cellY &gt; obbVerticesCells[i].YIndex &amp;&amp; cellY &lt;= obbVerticesCells[j].YIndex ||  \n                cellY &gt; obbVerticesCells[j].YIndex &amp;&amp; cellY &lt;= obbVerticesCells[i].YIndex){\n\n                //solving linear equation\n                //     x1 * y2   x2 * y1   y * (x2 - x1)\n                // x = ------- - ------- + -------------\n                //     y2 - y1   y2 - y1      y2 - y1\n                int y2y1 = obbVerticesCells[j].YIndex - obbVerticesCells[i].YIndex;\n                int f1 = (obbVerticesCells[i].XIndex * obbVerticesCells[j].YIndex) / y2y1;\n                int f2 = (obbVerticesCells[j].XIndex * obbVerticesCells[i].YIndex) / y2y1;\n                int f3 = (cellY * (obbVerticesCells[j].XIndex - obbVerticesCells[i].XIndex)) / y2y1;\n                nodeX[nodes++] = f1 - f2 + f3;\n            }\n\n            j = i; \n        }\n\n        //Sort the nodes\n        i = 0;\n        while (i &lt; nodes - 1) {\n            if (nodeX[i] &gt; nodeX[i + 1]) {\n                swap = nodeX[i]; \n                nodeX[i] = nodeX[i + 1]; \n                nodeX[i + 1] = swap; \n                if (i == 1) i--;\n            }\n            else {\n                i++;\n            }\n        }\n\n        // fill each pair\n        for (i = 0; i &lt; nodes; i += 2) {\n            if (nodeX[i] &gt;= maxX) \n                break;\n\n            if (nodeX[i + 1] &gt; minX ){\n                if (nodeX[i] &lt; minX ) \n                    nodeX[i] = minX;\n\n                if (nodeX[i + 1] &gt; maxX) \n                    nodeX[i + 1] = maxX;\n\n                for (cellX = nodeX[i]; cellX &lt; nodeX[i + 1]; cellX++) {\n                    GroundGridCell resultingCell = componentRef.Grid.GetCellAtIndex(cellX, cellY);\n                    if(resultingCell != null){\n                        resultingCell.ChangeCellColorInMesh(componentRef.ColorKey);\n                    }\n\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "ip"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1439419896, "post_id": 31976693, "comment_id": 51859830, "body": "rock solid way? <b>NO</b>"}, {"owner": {"reputation": 23582, "user_id": 598289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b04c9074fed0dd215caec771c2a9ea98?s=128&d=identicon&r=PG", "display_name": "SJuan76", "link": "https://stackoverflow.com/users/598289/sjuan76"}, "edited": false, "score": 0, "creation_date": 1439419907, "post_id": 31976693, "comment_id": 51859834, "body": "Write a link in the email &quot;Click here so we get to know your IP&quot;. Add the legal text telling them what are you interested in getting their IP for and which parties will you share that information with."}, {"owner": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "reply_to_user": {"reputation": 23582, "user_id": 598289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b04c9074fed0dd215caec771c2a9ea98?s=128&d=identicon&r=PG", "display_name": "SJuan76", "link": "https://stackoverflow.com/users/598289/sjuan76"}, "edited": false, "score": 0, "creation_date": 1439420330, "post_id": 31976693, "comment_id": 51859932, "body": "Do you know a reason why their server&#39;s UserAgent is retrieving that? @SJuan76"}], "owner": {"reputation": 281, "user_id": 2812945, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/LtyaF.jpg?s=128&g=1", "display_name": "Rahul Kishore", "link": "https://stackoverflow.com/users/2812945/rahul-kishore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1459698386, "creation_date": 1439419716, "last_edit_date": 1459698386, "question_id": 31976693, "link": "https://stackoverflow.com/questions/31976693/incorrect-ip-locality", "title": "Incorrect IP Locality", "body": "<p>I am developing an application which needs to track user locality based on their IP Address. </p>\n\n<p>I'm using .NET's HttpRequestBase and from here I am extracting the UserAgent property &amp; the UserHost property. </p>\n\n<p>So from here I can actually get the user's IP address..but it gets a bit \"weird\" in certain situations. </p>\n\n<p>Weird in the sense that, I'm getting incorrect IP information.</p>\n\n<p>I am using <a href=\"http://ip-api.com/\" rel=\"nofollow\">http://ip-api.com/</a> and from their end it, I figure it's just a DB with a bunch of IPs listed. </p>\n\n<p>E.g. if one of my users is sitting right next to me (mind you I'm based in FJ at the moment) and they open an email on their device it will state it's being opened in the UK. Mind you this occurs on ALOT of emails. Some emails maybe shown as opened in Texas, some in England and some in Springfield, IL.  </p>\n\n<p>The application I am developing requires downloading of a web-beacon (hence I needed IP locality). </p>\n\n<p>Is this something that maybe due to a proxy being used to download the images? I know Gmail implements this their \"Gmail Proxy\". </p>\n\n<p>Is there a rock solid way to find the user's IP? </p>\n"}, {"tags": ["c#", "pdf-generation", "itextsharp"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 2, "creation_date": 1439444714, "post_id": 31976678, "comment_id": 51866192, "body": "Your code creates cells with both a phrase and a cell event (for form field generation). This makes the phrase be drawn in the regular page content. Regular page content won&#39;t go away when you start typing in the field.  You might want create an initial field appearance with that phrase instead."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "edited": false, "score": 0, "creation_date": 1439483189, "post_id": 31983485, "comment_id": 51891535, "body": "Thanks, Bruno -- perfectamundo!"}], "tags": [], "owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "is_accepted": true, "score": 1, "last_activity_date": 1439455587, "creation_date": 1439455587, "answer_id": 31983485, "question_id": 31976678, "link": "https://stackoverflow.com/questions/31976678/how-can-i-populate-textboxes-on-a-pdf-with-text-that-will-disappear-be-replaceab/31983485#31983485", "title": "How can I populate Textboxes on a PDF with text that will disappear/be replaceable when the user places the cursor in them?", "body": "<p>You should remove this line:</p>\n\n<pre><code>Phrase = new Phrase(boxRequestDate.Text, timesRoman9Font)\n</code></pre>\n\n<p>As mkl explains in his comment, this line will add the text <code>boxRequestDate</code> to the page. That content is not interactive. It is part of the page's content stream, not of the widget annotation that shows the value of a field.</p>\n\n<p>Instead you need to adapt your <code>DynamicTextbox</code> event. You already have a member variable named <code>fieldname</code>. Now you should add an extra variable:</p>\n\n<pre><code>private string fieldname;\nprivate string fieldvalue;\n\npublic DynamicTextbox(string name, string value)\n{\n    fieldname = name;\n    fieldvalue = value;\n}\n</code></pre>\n\n<p>You should use this value like this:</p>\n\n<pre><code>iTextSharp.text.pdf.TextField text = new iTextSharp.text.pdf.TextField(writer, rectangle, fieldname);\ntext.Text = fieldvalue;\n</code></pre>\n\n<p>Now the text won't be added to the page, but it will be stored in the <code>/V</code> (value) key of the field dictionary and it will be used to create an <code>/AP</code> (appearance) for the widget annotation. When you select that widget annotation, you can change the value of that field and change it. The appearance will change accordingly.</p>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 31983485, "answer_count": 1, "score": 0, "last_activity_date": 1439455587, "creation_date": 1439419640, "question_id": 31976678, "link": "https://stackoverflow.com/questions/31976678/how-can-i-populate-textboxes-on-a-pdf-with-text-that-will-disappear-be-replaceab", "title": "How can I populate Textboxes on a PDF with text that will disappear/be replaceable when the user places the cursor in them?", "body": "<p>Using iTextSharp, I've generated a PDF file that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4P0T1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4P0T1.png\" alt=\"enter image description here\"></a></p>\n\n<p>While it still needs some beautifying, it's coming along fairly well, except for one thing: The textboxes populated are not overwritable. You can type <em>over</em> them, yes, but the old values remain below, as you can see. In the \"Required Date\" field, I typed \"9\" over the \"8/12/2015\" and the 8 still shows through. The same goes for the Email box, where I typed \"bla\" over my email address (etc.)</p>\n\n<p>The way this needs to work is that values entered on a web page are programmatically entered into the appropriate boxes (such as is the case here with \"Reuired Date\" and \"Email\"), but they should also be deletable, rather than coexisting with the new text.</p>\n\n<p>Here is the code I use to create the textboxes, using Date as an example:</p>\n\n<pre><code>PdfPTable tblFirstRow = new PdfPTable(7);\ntblFirstRow.WidthPercentage = 100;\ntblFirstRow.SpacingBefore = 4f;\nfloat[] FirstRowWidths = new float[] { 137f, 138f, 140f, 135f, 50f, 150f, 250f };\ntblFirstRow.SetWidths(FirstRowWidths);\ntblFirstRow.HorizontalAlignment = Element.ALIGN_LEFT;\n\nPhrase phraseReqDate = new Phrase(\"Required Date: \", timesRoman9Font);\nPdfPCell cellReqDate = GetCellForBorderlessTable(phraseReqDate, Element.ALIGN_LEFT);\ntblFirstRow.AddCell(cellReqDate);\n\nPdfPCell cellReqDateTextBox = new PdfPCell()\n{\n    CellEvent = new DynamicTextbox(\"textBoxReqDate\"),\n    Phrase = new Phrase(boxRequestDate.Text, timesRoman9Font)\n};\ntblFirstRow.AddCell(cellReqDateTextBox);\n\n// For dynamically creating TextBoxes; from http://stackoverflow.com/questions/2675895/itextsharp-text-field-in-pdfpcell\npublic class DynamicTextbox : IPdfPCellEvent\n{\n    private string fieldname;\n\n    public DynamicTextbox(string name)\n    {\n        fieldname = name;\n    }\n\n    public void CellLayout(PdfPCell cell, Rectangle rectangle, PdfContentByte[] canvases)\n    {\n        PdfWriter writer = canvases[0].PdfWriter;\n        iTextSharp.text.pdf.TextField text = new iTextSharp.text.pdf.TextField(writer, rectangle, fieldname);\n        PdfFormField field = text.GetTextField();\n        writer.AddAnnotation(field);\n    }\n}\n</code></pre>\n\n<p>I also want the \"reminder\" text (about what to enter where) to \"go away\" when the user clicks in them the same way.</p>\n\n<p>What am I doing wrong, or what do I need to change to allow these Textboxes to function as they should?</p>\n"}, {"tags": ["c#", "linq", "join", "ienumerable", "xelement"], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1439422980, "last_edit_date": 1439422980, "creation_date": 1439421220, "answer_id": 31976954, "question_id": 31976659, "link": "https://stackoverflow.com/questions/31976659/perform-inner-join-on-2-files-of-type-ienumerablexelement/31976954#31976954", "title": "Perform Inner Join on 2 Files of type IEnumerable&lt;XElement&gt;", "body": "<p>Try code below from webpage : <a href=\"https://code.msdn.microsoft.com/LINQ-Join-Operators-dabef4e9\" rel=\"nofollow\">https://code.msdn.microsoft.com/LINQ-Join-Operators-dabef4e9</a>.  You probably want to join on the actual ID number and not just the element name.</p>\n\n<pre><code>           var innerjoin = from f1 in file1.Elements(\"OrderID\")\n                            join f2 in file2.Elements(\"OrderID\") on f1 equals f2\n                            select new { file1, file2 };\u200b\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": true, "score": 1, "last_activity_date": 1439444260, "creation_date": 1439444260, "answer_id": 31980230, "question_id": 31976659, "link": "https://stackoverflow.com/questions/31976659/perform-inner-join-on-2-files-of-type-ienumerablexelement/31980230#31980230", "title": "Perform Inner Join on 2 Files of type IEnumerable&lt;XElement&gt;", "body": "<p>Assuming that <code>file1</code> and <code>file2</code> contains <code>IEnumerable&lt;XElement&gt;</code> where each <code>XElement</code> has a child element <code>OrderID</code>, you can do join by <code>OrderID</code> value like this :</p>\n\n<pre><code>var innerjoin = file1.Join(file2, \n                            c =&gt; (string)c.Element(\"OrderID\"), \n                            o =&gt; (string)o.Element(\"OrderID\"),\n                            (c, o) =&gt; new {Customer = c, Order = o});\n</code></pre>\n\n<p>Or using the equivalent query syntax :</p>\n\n<pre><code>var innerjoin = from c in file1\n                join o in file2 \n                   on (string)c.Element(\"OrderID\") equals (string)o.Element(\"OrderID\")\n                select new {Customer = c, Order = o};\n</code></pre>\n"}], "owner": {"reputation": 4499, "user_id": 3262003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3c8c191ae7c07779ad884cac900c3247?s=128&d=identicon&r=PG&f=1", "display_name": "noobcoder", "link": "https://stackoverflow.com/users/3262003/noobcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 31980230, "answer_count": 2, "score": 1, "last_activity_date": 1439444260, "creation_date": 1439419552, "question_id": 31976659, "link": "https://stackoverflow.com/questions/31976659/perform-inner-join-on-2-files-of-type-ienumerablexelement", "title": "Perform Inner Join on 2 Files of type IEnumerable&lt;XElement&gt;", "body": "<p>Lets say I have 2 files of type IEnumerable<code>&lt;XElement</code>>. How would I perform an inner join and/or a group join on them? I have tried the following but the .Join method does not work on IEnumerable's. Any help would be appreciated.</p>\n\n<pre><code>var innerjoin = file1.Join(file2, c =&gt; file1.Elements(\"OrderID\"), o =&gt; file2.Elements(\"OrderID\"), (c, o) =&gt; new { Customer = c, Order = o });\n</code></pre>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1439418506, "post_id": 31976424, "comment_id": 51859383, "body": "You are not assigning the input to the <code>Marks</code> array.  You will need a variable to keep track of where in the array you are, and then you will need to assign the input value to an element in the <code>Marks</code> array."}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1439418583, "post_id": 31976424, "comment_id": 51859416, "body": "This sounds like a homework assignment - which is not in and of itself a bad thing, but you should be clear if it is or not."}, {"owner": {"reputation": 36, "user_id": 4783483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/683493dbd70395110421865343533d38?s=128&d=identicon&r=PG&f=1", "display_name": "deluxes", "link": "https://stackoverflow.com/users/4783483/deluxes"}, "edited": false, "score": 0, "creation_date": 1439418628, "post_id": 31976424, "comment_id": 51859430, "body": "Instead of doing while (Number != -1) you can do a for loop to loop through 0 to number and assign the marks[i] to the input number which will make it so you only enter in the correct amount of numbers."}, {"owner": {"reputation": 155, "user_id": 4289341, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e3d45bb166f212f838bf79c1b429bf07?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Watson", "link": "https://stackoverflow.com/users/4289341/danny-watson"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1439418646, "post_id": 31976424, "comment_id": 51859436, "body": "Nah @Tim, it isn&#39;t I&#39;ve been keeping up to date over the summer for going back to university, I&#39;ve been trying to recall certain things from memory and this one just hasn&#39;t stuck."}], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 2188757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wzk50.gif?s=128&g=1", "display_name": "DLCross", "link": "https://stackoverflow.com/users/2188757/dlcross"}, "edited": false, "score": 0, "creation_date": 1439419555, "post_id": 31976503, "comment_id": 51859741, "body": "TryParse can be used to avoid an exception. Invalid input (i.e., TryParse returns false) could be ignored by not assigning anything to the array and not incrementing currentIndex."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 3, "last_activity_date": 1439418625, "creation_date": 1439418625, "answer_id": 31976503, "question_id": 31976424, "link": "https://stackoverflow.com/questions/31976424/how-to-determine-how-big-array-is-and-then-display-all-the-information-inside/31976503#31976503", "title": "How to determine how big array is and then display all the information inside?", "body": "<p>Your loop simply reassigns the <code>Number</code> (also, local variables should be camelCase) variable on each iteration. You need to assign the elements of the array and keep an index:</p>\n\n<pre><code>int currentIndex = 0;\nint input = 0;\n\nwhile (currentIndex &lt; values.Length &amp;&amp; input != -1)\n{\n   values[currentIndex] = int.Parse(Console.ReadLine());\n   currentIndex++;\n}\n</code></pre>\n\n<p>Note that the assignment goes into the array, and that we increment the current index each time so that no data is overwritten. Also, be careful with the <code>Parse</code> family of functions, they will throw if junk data is thrown at them.</p>\n"}, {"comments": [{"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 1, "creation_date": 1439423513, "post_id": 31977008, "comment_id": 51860801, "body": "why not accepting @BradleyDotNET answer and instead giving the solution yourself?"}, {"owner": {"reputation": 155, "user_id": 4289341, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e3d45bb166f212f838bf79c1b429bf07?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Watson", "link": "https://stackoverflow.com/users/4289341/danny-watson"}, "reply_to_user": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1439543793, "post_id": 31977008, "comment_id": 51915395, "body": "While he did - help - in getting the problem solved, I think other people stuck on this matter would find it more helpful with my clear and simple answer."}], "tags": [], "owner": {"reputation": 155, "user_id": 4289341, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e3d45bb166f212f838bf79c1b429bf07?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Watson", "link": "https://stackoverflow.com/users/4289341/danny-watson"}, "is_accepted": true, "score": 0, "last_activity_date": 1439421542, "creation_date": 1439421542, "answer_id": 31977008, "question_id": 31976424, "link": "https://stackoverflow.com/questions/31976424/how-to-determine-how-big-array-is-and-then-display-all-the-information-inside/31977008#31977008", "title": "How to determine how big array is and then display all the information inside?", "body": "<p><strong>SOLUTION</strong></p>\n\n<p>After taking in some of the information given to me, I gave it another crack and this is what I achieved.</p>\n\n<pre><code> Console.WriteLine(\"Enter the size of the array\");\n        int number = int.Parse(Console.ReadLine());\n        int[] marks = new int[number];\n        for (int i = 0; i &lt; marks.Length; i++)\n        {\n            Console.WriteLine(\"Enter some more numbers\", i + 1);\n            marks[i] = int.Parse(Console.ReadLine());\n        }\n        for (int i = 0; i &lt; marks.Length; i++)\n        {\n            Console.WriteLine(\"\\nData #{0}: {1}\\n\", i + 1, marks[i]);\n        }\n</code></pre>\n\n<p><strong>EXPLANATION</strong></p>\n\n<p>Okay so after telling the user to enter the size of the array, the array was assigned to, lets say 5, therefore in the first 'for' loop the program is checking if 'i' is less than the array size, so it can only be entered 5 times, as that is the size of the array.</p>\n\n<p>it is then incrementing 'i' each time around so when it does get to 5 it ends the loop.</p>\n\n<p>The second 'for' loop is checking all of the information and then I am simply saying \"New line - Data# {placeholder}: {placeholder} - new line\", increment 'i' each time, show what is in the array.</p>\n"}], "owner": {"reputation": 155, "user_id": 4289341, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e3d45bb166f212f838bf79c1b429bf07?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Watson", "link": "https://stackoverflow.com/users/4289341/danny-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 31977008, "answer_count": 2, "score": 2, "last_activity_date": 1439421542, "creation_date": 1439418210, "question_id": 31976424, "link": "https://stackoverflow.com/questions/31976424/how-to-determine-how-big-array-is-and-then-display-all-the-information-inside", "title": "How to determine how big array is and then display all the information inside?", "body": "<p><strong>GOAL</strong></p>\n\n<p>Hello all, I would like to allow the user to type in how big the array should be for example: \"I would like the array to be 5\" therefore only 5 objects can fit inside it.</p>\n\n<p>The next step I would like to accomplish is, how to then display everything inside the array.</p>\n\n<p><strong>APPLICATION</strong></p>\n\n<p>This is what I have tried so far I feel like I'm close but I just cannot work it out.</p>\n\n<pre><code>    int Number;\n        Console.WriteLine(\"Enter some numbers\");\n        Number = int.Parse(Console.ReadLine());\n        int[] Marks = new int[Number];\n        while (Number != -1)\n        {\n\n            Console.WriteLine(\"Enter some more numbers or press -1 to finish\");\n            Number = int.Parse(Console.ReadLine());\n\n        }\n\n        for (int i = 0; i &lt; Marks.Length; i++)\n        {\n            Console.WriteLine(Marks[i]);\n        }\n</code></pre>\n\n<p><strong>PROBLEM</strong></p>\n\n<p>If you haven't worked it out yet, the program only takes in the first entered value as the size of the array (that is what I wanted) but instead of then displaying everything inside it only posts how big the array is for example </p>\n\n<p>Number = 5</p>\n\n<p>0\n0\n0\n0\n0</p>\n\n<p>Five zeroes appear like such. </p>\n\n<p><strong>SIDENOTE</strong></p>\n\n<p>As an additional cry for help, I would like the program to after taking the size of the array to limit the user from entering above the index field. </p>\n\n<p>For example: The array is 5, therefore 6 entries cannot be entered or an error would appear.</p>\n"}, {"tags": ["c#", "xml", "serialization"], "answers": [{"comments": [{"owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 0, "creation_date": 1439449345, "post_id": 31976714, "comment_id": 51868493, "body": "You can simplify all your attribute getters - e.g. <code>(string)item1.Attribute(&quot;id&quot;) ?? string.Empty</code>.  And <code>item1</code> will never be <code>null</code>."}, {"owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "reply_to_user": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 0, "creation_date": 1439470771, "post_id": 31976714, "comment_id": 51882287, "body": "Yep, that is noted in my comment near the url &quot;<a href=\"http://msdn.microsoft.com/en-us/library/bb387049.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb387049.aspx</a>&quot;.  But thanks for providing real example code for the OP."}, {"owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "reply_to_user": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 0, "creation_date": 1439488809, "post_id": 31976714, "comment_id": 51894684, "body": "This solution lets you keep your &quot;internal&quot; designations.  Something to consider."}], "tags": [], "owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1439474448, "last_edit_date": 1439474448, "creation_date": 1439419857, "answer_id": 31976714, "question_id": 31976419, "link": "https://stackoverflow.com/questions/31976419/in-c-i-cant-get-my-xml-to-deserialize-into-an-object/31976714#31976714", "title": "In C# I can&#39;t get my XML to deserialize into an object", "body": "<p>Once XDocument came out ( matched with Linq ) , I stopped all the Xml Attribute voodoo.  This \"mapping\" code is simple and straight forward.</p>\n\n<pre><code>public class ComputerSettingResponse\n{\n    internal ComputerSetting Settings { get; set; }\n}\n\ninternal class ComputerSetting\n{\n\n    internal string Id { get; set; }\n\n    internal string HospitalName { get; set; }\n\n    internal string ComputerType { get; set; }\n\n    internal string Environment { get; set; }\n\n    internal string LabelPrinterName { get; set; }\n\n    internal string DocumentPrinterName { get; set; }\n}\n\n            string xmlString = @\"&lt;response&gt;\n    &lt;computer_setting id=\"\"1\"\" hospital_name=\"\"foo\"\" computer_type=\"\"bar\"\" environment=\"\"staging\"\" label_printer_name=\"\"labels\"\" document_printer_name=\"\"docs\"\"/&gt;\n&lt;/response&gt;          \";\n\n        XDocument xDoc = XDocument.Parse(xmlString);\n\n        //XNamespace ns = XNamespace.Get(\"http://schemas.microsoft.com/developer/msbuild/2003\");\n        string ns = string.Empty;\n\n\n        List&lt;ComputerSettingResponse&gt; collection = new List&lt;ComputerSettingResponse&gt;\n        (\n            from list in xDoc.Descendants(ns + \"response\")\n            from item1 in list.Elements(ns + \"computer_setting\")\n            where item1 != null\n            select new ComputerSettingResponse\n            {\n                //note that the cast is simpler to write than the null check in your code\n                //http://msdn.microsoft.com/en-us/library/bb387049.aspx\n                Settings = new ComputerSetting\n                (\n                ) \n                {\n                    Id = (string)item1.Attribute(\"id\") ?? string.Empty,\n                    HospitalName = (string)item1.Attribute(\"hospital_name\") ?? string.Empty,\n                    ComputerType = (string)item1.Attribute(\"computer_type\") ?? string.Empty,\n                    Environment = (string)item1.Attribute(\"environment\") ?? string.Empty,\n                    LabelPrinterName = (string)item1.Attribute(\"label_printer_name\") ?? string.Empty,\n                    DocumentPrinterName = (string)item1.Attribute(\"document_printer_name\") ?? string.Empty\n                }\n            }\n        );\n\n        /* if you know there is only one */\n        ComputerSettingResponse returnItem = collection.FirstOrDefault();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5961, "user_id": 3093396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mo36S.png?s=128&g=1", "display_name": "Volkan Paksoy", "link": "https://stackoverflow.com/users/3093396/volkan-paksoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1439419889, "last_edit_date": 1495535237, "creation_date": 1439419889, "answer_id": 31976719, "question_id": 31976419, "link": "https://stackoverflow.com/questions/31976419/in-c-i-cant-get-my-xml-to-deserialize-into-an-object/31976719#31976719", "title": "In C# I can&#39;t get my XML to deserialize into an object", "body": "<p>In the above code you seem to treat \"_Url\" as XML but it's just the URL of the backend API, isn't it? </p>\n\n<p>I tried replacing it with your sample XML and made it work only by changing the class visibility to <strong>public</strong></p>\n\n<p>So this worked for me:</p>\n\n<pre><code>        String xml = File.ReadAllText(\"XMLFile1.xml\");\n        XmlSerializer _Serializer = new XmlSerializer(typeof(ComputerSettingResponse));\n        ComputerSettingResponse _ComputerSettingResponse = new ComputerSettingResponse();\n        using (StringReader reader = new StringReader(xml))\n        {\n            _ComputerSettingResponse = (ComputerSettingResponse)_Serializer.Deserialize(reader);\n            Debug.WriteLine(_ComputerSettingResponse.Settings.Environment);\n        }\n</code></pre>\n\n<p>using the class like this:</p>\n\n<pre><code>using System.Xml.Serialization;\n\nnamespace Casechek.Kiosk\n{\n    [XmlRoot(\"response\")]\n    public class ComputerSettingResponse\n    {\n        [XmlElement(\"computer_setting\")]\n        public ComputerSetting Settings { get; set; }\n    }\n\n    public class ComputerSetting\n    {\n        [XmlAttribute(\"id\")]\n        public string Id { get; set; }\n        [XmlAttribute(\"hospital_name\")]\n        public string HospitalName { get; set; }\n        [XmlAttribute(\"computer_type\")]\n        public string ComputerType { get; set; }\n        [XmlAttribute(\"environment\")]\n        public string Environment { get; set; }\n        [XmlAttribute(\"label_printer_name\")]\n        public string LabelPrinterName { get; set; }\n        [XmlAttribute(\"document_printer_name\")]\n        public string DocumentPrinterName { get; set; }\n    }\n}\n</code></pre>\n\n<p>I looked into why it didn't work with internal declaration and found this SO answer which helped me understand a few things about the internals of XmlSerializer: <a href=\"https://stackoverflow.com/a/6156822/3093396\">https://stackoverflow.com/a/6156822/3093396</a></p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "is_accepted": true, "score": 1, "last_activity_date": 1439450121, "creation_date": 1439450121, "answer_id": 31981813, "question_id": 31976419, "link": "https://stackoverflow.com/questions/31976419/in-c-i-cant-get-my-xml-to-deserialize-into-an-object/31981813#31981813", "title": "In C# I can&#39;t get my XML to deserialize into an object", "body": "<p>Your properties are required to be public in order to be serialised.  Per the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer(v=vs.110).aspx\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>XML serialization is the process of converting an object's public properties and fields to a serial format (in this case, XML) for storage or transport.</p>\n</blockquote>\n\n<p>Change <code>Settings</code> from <code>internal</code> to <code>public</code> and it will deserialise correctly (you will also have to change the class modified on <code>ComputerSetting</code> to <code>public</code> in order to compile).</p>\n\n<p>As an aside, you shouldn't be using <code>XmlTextReader</code>, its use has been discouraged since .NET 2 was released.  Per the <a href=\"https://msdn.microsoft.com/en-us/library/1af7xa52(v=vs.110).aspx\" rel=\"nofollow\">remarks in the documentation</a>, you should use <code>XmlReader.Create</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "is_accepted": false, "score": 2, "last_activity_date": 1439473942, "creation_date": 1439473942, "answer_id": 31990180, "question_id": 31976419, "link": "https://stackoverflow.com/questions/31976419/in-c-i-cant-get-my-xml-to-deserialize-into-an-object/31990180#31990180", "title": "In C# I can&#39;t get my XML to deserialize into an object", "body": "<p>Visual Studio has some nice tooling to generate serializable classes from XML or JSON - just copy a sample of your XML to the clipboard, open an empty class file and paste it as classes with the following menu path in Visual Studio: <strong>Edit -> Paste Special -> Paste XML as Classes</strong> ...or, \"Paste JSON as Classes\" in the case of JSON.</p>\n"}], "owner": {"reputation": 1459, "user_id": 1018989, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/15fa3418db7ded1cd6a151c58b56f683?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/1018989/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 0, "accepted_answer_id": 31981813, "answer_count": 4, "score": 2, "last_activity_date": 1439474448, "creation_date": 1439418174, "question_id": 31976419, "link": "https://stackoverflow.com/questions/31976419/in-c-i-cant-get-my-xml-to-deserialize-into-an-object", "title": "In C# I can&#39;t get my XML to deserialize into an object", "body": "<p>I've looked through the various questions on here similar to this, but can't get my solution to work.</p>\n\n<p>I'm using Visual Studio 2015 Community, building a WPF project.</p>\n\n<p>I get xml from my backend API, and I'm trying to convert it into a C# object, but I can't get it to work.</p>\n\n<p>This is the xml</p>\n\n<pre><code>&lt;response&gt;\n    &lt;computer_setting id=\"1\" hospital_name=\"foo\" computer_type=\"bar\" environment=\"staging\" label_printer_name=\"labels\" document_printer_name=\"docs\"/&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>This is class</p>\n\n<pre><code>using System.Xml.Serialization;\n\nnamespace Casechek.Kiosk\n{\n    [XmlRoot(\"response\")]\n    public class ComputerSettingResponse\n    {\n        [XmlElement(\"computer_setting\")]\n        internal ComputerSetting Settings { get; set; }\n    }\n\n    internal class ComputerSetting\n    {\n        [XmlAttribute(\"id\")]\n        internal string Id { get; set; }\n        [XmlAttribute(\"hospital_name\")]\n        internal string HospitalName { get; set; }\n        [XmlAttribute(\"computer_type\")]\n        internal string ComputerType { get; set; }\n        [XmlAttribute(\"environment\")]\n        internal string Environment { get; set; }\n        [XmlAttribute(\"label_printer_name\")]\n        internal string LabelPrinterName { get; set; }\n        [XmlAttribute(\"document_printer_name\")]\n        internal string DocumentPrinterName { get; set; }\n    }\n}\n</code></pre>\n\n<p>And this is my attempt to deserialize it</p>\n\n<pre><code>// Get ComputerSettings\nString _Url = this.ApiUrl\n   + \"/api1/hospitals/foo/settings.xml\"\n   + \"?access_token=\" + Authentication.AccessToken;\n\nXmlSerializer _Serializer = new XmlSerializer(typeof(ComputerSettingResponse));\nComputerSettingResponse _ComputerSettingResponse = new ComputerSettingResponse();\nusing (XmlTextReader _XmlReader = new XmlTextReader(_Url))\n{\n    _ComputerSettingResponse = (ComputerSettingResponse)_Serializer.Deserialize(_XmlReader);\n    Debug.WriteLine(_ComputerSettingResponse.Settings.Environment);\n}\n</code></pre>\n\n<p>But this throws NullReference exception when it gets to Debug.WriteLine()</p>\n\n<p>{\"Object reference not set to an instance of an object.\"}</p>\n\n<p>I've checked that the url is returning the xml properly, so it must me a poorly constructed class, or I'm not doing the deserialization properly.</p>\n"}, {"tags": ["c#", "forms", "user-interface"], "comments": [{"owner": {"reputation": 1803, "user_id": 1615769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb273fbad7eace0e376881b254e4523c?s=128&d=identicon&r=PG", "display_name": "Krikor Ailanjian", "link": "https://stackoverflow.com/users/1615769/krikor-ailanjian"}, "edited": false, "score": 0, "creation_date": 1439419066, "post_id": 31976322, "comment_id": 51859582, "body": "If this is for a game, maybe consider using a specialized framework. You can get much better updating speed because it will be optimized for that."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439419766, "post_id": 31976322, "comment_id": 51859797, "body": "You&#39;re not providing  enough detail. What are you  trying to &quot;draw&quot;?  what does your form contain? can you provide a screenshot? what are these images? are you reading them from disk?"}, {"owner": {"reputation": 1671, "user_id": 650261, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/17b8f98f99b006787b7e42aed572a23b?s=128&d=identicon&r=PG", "display_name": "user650261", "link": "https://stackoverflow.com/users/650261/user650261"}, "edited": false, "score": 0, "creation_date": 1439420447, "post_id": 31976322, "comment_id": 51859965, "body": "Kailanjian - If you can recommend a good one, I am willing to use it.  HighCore - I am trying to do a visualization for prallel TicTacToe games; I need to draw the X/O sprites many times each.  Images are loaded once from disk at the start of the game.  I&#39;m providing a screenshot.  The draw command iterates for each game and draws a transparent X at the appropriate coordinate."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 1, "creation_date": 1439425168, "post_id": 31976322, "comment_id": 51861163, "body": "FYI, I created a  rough mockup of your app in WPF, put 200 tic tac toe boards of 3x3 each, randomly changing squares every 10 ms using a Timer, and I get no lag at all. Forget winforms, its completely useless. Let me know if you&#39;re interested and I&#39;ll post the code."}, {"owner": {"reputation": 1671, "user_id": 650261, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/17b8f98f99b006787b7e42aed572a23b?s=128&d=identicon&r=PG", "display_name": "user650261", "link": "https://stackoverflow.com/users/650261/user650261"}, "edited": false, "score": 0, "creation_date": 1439437478, "post_id": 31976322, "comment_id": 51863932, "body": "I would be extremely interested."}], "answers": [{"comments": [{"owner": {"reputation": 1671, "user_id": 650261, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/17b8f98f99b006787b7e42aed572a23b?s=128&d=identicon&r=PG", "display_name": "user650261", "link": "https://stackoverflow.com/users/650261/user650261"}, "edited": false, "score": 0, "creation_date": 1439483148, "post_id": 31980089, "comment_id": 51891515, "body": "Okay, wow, this is awesome and very impressive.  On the other hand, this would/will also require some nontrivial refactoring.  So I&#39;m going to upvote this, and hopefully try this sometime in the following week, but I&#39;m going to leave the question open to see if there are any other simpler / lightweight suggestions.  I&#39;m definitely using WPF at some point in the near future, though :-)"}], "tags": [], "owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "is_accepted": false, "score": 2, "last_activity_date": 1439484511, "last_edit_date": 1439484511, "creation_date": 1439443511, "answer_id": 31980089, "question_id": 31976322, "link": "https://stackoverflow.com/questions/31976322/achieving-good-drawing-refresh-rate-in-forms/31980089#31980089", "title": "Achieving good drawing refresh rate in Forms", "body": "<p>Alright so, this is how you'd do  that in WPF:</p>\n\n<h2>Step 1:</h2>\n\n<p>Create a small <strong>Data Model</strong> that will represent your Tic Tac Toe Games with their squares:</p>\n\n<pre><code>public enum SquareValue\n{\n    Empty = 0,\n    X = 1,\n    O = 2\n}\n\npublic class Square: INotifyPropertyChanged\n{\n    private SquareValue _value;\n    public SquareValue Value\n    {\n        get { return _value; }\n        set\n        {\n            _value = value;\n            OnPropertyChanged();\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        var handler = PropertyChanged;\n        if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n\npublic class Game\n{\n    public List&lt;Square&gt; Squares { get; private set; }\n\n    public Game()\n    {\n        this.Squares = \n            Enumerable.Range(0, 9)\n                      .Select(x =&gt; new Square { Value = SquareValue.Empty })\n                      .ToList();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Notice that the Square class needs to <a href=\"http://www.codeproject.com/Articles/41817/Implementing-INotifyPropertyChanged\" rel=\"nofollow noreferrer\">Implement <code>INotifyPropertyChanged</code></a> in order to support two-way DataBinding.</p>\n</blockquote>\n\n<h2>Step 2:</h2>\n\n<p>Using an <a href=\"http://drwpf.com/blog/itemscontrol-a-to-z/\" rel=\"nofollow noreferrer\">ItemsControl</a>, define how each Tic Tac Toe board is going to look like:</p>\n\n<pre><code>&lt;ItemsControl ItemsSource=\"{Binding Squares}\" Margin=\"5\" BorderThickness=\"1\" BorderBrush=\"DarkBlue\"&gt;\n    &lt;ItemsControl.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n            &lt;UniformGrid Rows=\"3\" Columns=\"3\"/&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ItemsControl.ItemsPanel&gt;\n\n    &lt;ItemsControl.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Border BorderBrush=\"DarkGray\"  BorderThickness=\"1\"&gt;\n                &lt;Path x:Name=\"Path\" Stretch=\"Fill\"\n                      Margin=\"2\"/&gt;\n            &lt;/Border&gt;\n\n            &lt;!-- to be continued... --&gt;\n</code></pre>\n\n<blockquote>\n  <p>Notice that we set the <a href=\"http://drwpf.com/blog/2008/02/10/itemscontrol-p-is-for-panel/\" rel=\"nofollow noreferrer\"><code>ItemsPanel</code></a> to a 3x3 <a href=\"http://wpf.2000things.com/tag/uniformgrid/\" rel=\"nofollow noreferrer\"><code>UniformGrid</code></a>, and that the <a href=\"http://drwpf.com/blog/2008/01/03/itemscontrol-d-is-for-datatemplate/\" rel=\"nofollow noreferrer\"><code>ItemTemplate</code></a> contains an empty <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/ms747393(v=vs.100).aspx\" rel=\"nofollow noreferrer\"><code>Path</code></a>.</p>\n</blockquote>\n\n<h2>Step 3:</h2>\n\n<p>Using <a href=\"http://www.codeproject.com/Tips/522041/Triggers-in-WPF\" rel=\"nofollow noreferrer\"><code>DataTrigger</code></a>s, we define how the square will look like depending on whether it's <code>Empty</code>, <code>X</code>, or <code>O</code>:</p>\n\n<pre><code>            &lt;!-- continuation of the above XAML --&gt;\n            &lt;DataTemplate.Triggers&gt;\n                &lt;DataTrigger Binding=\"{Binding Value}\" Value=\"X\"&gt;\n                    &lt;Setter TargetName=\"Path\" Property=\"Stroke\" Value=\"Red\"/&gt;\n                    &lt;Setter TargetName=\"Path\" Property=\"Data\" Value=\"M0,0 L10,10 M0,10 L10,0\"/&gt;\n                &lt;/DataTrigger&gt;\n\n                &lt;DataTrigger Binding=\"{Binding Value}\" Value=\"O\"&gt;\n                    &lt;Setter TargetName=\"Path\" Property=\"Stroke\" Value=\"Blue\"/&gt;\n                    &lt;Setter TargetName=\"Path\" Property=\"Data\"&gt;\n                        &lt;Setter.Value&gt;\n                            &lt;EllipseGeometry RadiusX=\"10\" RadiusY=\"10\" Center=\"0.0,0.0\"/&gt;\n                        &lt;/Setter.Value&gt;\n                    &lt;/Setter&gt;\n                &lt;/DataTrigger&gt;\n            &lt;/DataTemplate.Triggers&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ItemsControl.ItemTemplate&gt;\n&lt;/ItemsControl&gt;\n</code></pre>\n\n<h2>Step 4:</h2>\n\n<p>We now have the XAML for each Tic Tac Toe board, let's now create some XAML to represent <em>many</em> boards, again, using another <code>ItemsControl</code>:</p>\n\n<pre><code>&lt;ItemsControl ItemsSource=\"{Binding}\"&gt;\n    &lt;ItemsControl.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n            &lt;UniformGrid Rows=\"10\" Columns=\"10\"/&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ItemsControl.ItemsPanel&gt;\n\n    &lt;ItemsControl.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;!-- the above XAML for a single Tic Tac Toe board goes here --&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ItemsControl.ItemTemplate&gt;\n&lt;/ItemsControl&gt;\n</code></pre>\n\n<blockquote>\n  <p>Notice that this time we're using a 10 x 10 <code>UniformGrid</code> because we will show 100 Tic Tac Toe boards</p>\n</blockquote>\n\n<h2>Step 5:</h2>\n\n<p>Now we set our Window's <a href=\"https://rachel53461.wordpress.com/2012/07/14/what-is-this-datacontext-you-speak-of/\" rel=\"nofollow noreferrer\"><code>DataContext</code></a> to a list of our Game class:</p>\n\n<pre><code>public partial class Window1 : Window\n{\n    public Window1()\n    {\n        InitializeComponent();\n        this.Loaded += (sender, args) =&gt;\n        {\n            this.DataContext = Enumerable.Range(0,100)\n                                         .Select(x =&gt; new Game())\n                                         .ToList();\n        };\n    }\n}\n</code></pre>\n\n<h2>Step 6:</h2>\n\n<p>Using whatever method you desire, modify the <code>Value</code> property of the <code>Square</code>s so that they become <code>X</code>, or <code>O</code>. In this case since this is just a demo I'll use a <code>Timer</code> and set it randomly. Modify the <code>Game</code> class like so:</p>\n\n<pre><code>public class Game\n{\n    public List&lt;Square&gt; Squares { get; private set; }\n    private Timer timer;\n    private Random random = new Random();\n\n    public Game()\n    {\n        this.Squares = Enumerable.Range(0, 9).Select(x =&gt; new Square {Value = SquareValue.Empty}).ToList();\n        this.timer = new Timer(Callback, null, TimeSpan.FromSeconds(3), TimeSpan.FromMilliseconds(10));\n    }\n\n    private void Callback(object state)\n    {\n        var sq = Squares[random.Next(0, 9)];\n        var value = random.Next(0, 3);\n        sq.Value = (SquareValue) value;\n    }\n}\n</code></pre>\n\n<h1>Result:</h1>\n\n<p><a href=\"https://i.stack.imgur.com/z6BXh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6BXh.gif\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Rendering is immediate and there's absolutely no lag</li>\n<li>UI is resolution independent and adjusts to the window size. You can try running this project and resizing the window to see how smooth it is.</li>\n<li>The Data Model is completely decoupled from the UI and the UI does not need any sort of code behind hacks. It's just <em>Simple, Simple Properties and DataBinding.</em></li>\n<li>You can further customize the boards, Xs and Os to look however you want. WPF uses vector graphics which can be infinitely stretched without losing quality.</li>\n<li>Total code in this sample is 25 lines of C# + some 40 lines of XAML. Much less than it would require to do something similar in winforms, and yet the result is much better.</li>\n<li>Full source code on <a href=\"https://github.com/High-Core/WPFSamples/tree/master/MultiTicTacToe\" rel=\"nofollow noreferrer\">GitHub</a>.</li>\n<li>Forget winforms.</li>\n</ul>\n"}], "owner": {"reputation": 1671, "user_id": 650261, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/17b8f98f99b006787b7e42aed572a23b?s=128&d=identicon&r=PG", "display_name": "user650261", "link": "https://stackoverflow.com/users/650261/user650261"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1439484511, "creation_date": 1439417711, "last_edit_date": 1439420526, "question_id": 31976322, "link": "https://stackoverflow.com/questions/31976322/achieving-good-drawing-refresh-rate-in-forms", "title": "Achieving good drawing refresh rate in Forms", "body": "<p>I am trying to draw in a form which is receiving input asynchronously from another thread.  The input process consumes a large amount of CPU time.  I therefore am trying to set a refresh rate for something around 10 times per second, but am struggling to achieve even that.  I am wondering what you guys think I can do to speed up my code, if anything?  I've tried to reduce it to the simplest amount of code here.  Some code was originally copied from a different application found on the web, so I apologize if I've left something extraneous (feel free to tell me).  I can try to provide more code from abstracted methods on request.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing TagReader;\nusing Interactor;\nusing MathNet.Numerics.Distributions;\nusing System.Runtime.CompilerServices;\nusing System.Threading;\nusing System.Media;\nusing System.Drawing.Drawing2D;\nusing System.Windows.Forms;\n\nnamespace RFIDInteraction\n{\n    abstract class RFIDApplication : Form\n    {\n\n\n        DateTime lastTime = DateTime.Now;\n        int refreshEllapse = (int)1000 / 10; //only refresh if 10 ms have passed\n\n        /// &lt;summary&gt;\n        /// Required designer variable.\n        /// &lt;/summary&gt;\n        private System.ComponentModel.IContainer components = null;\n\n\n        protected void maybeRefresh()\n        {\n            if ((DateTime.Now - lastTime).Milliseconds &gt; refreshEllapse)\n            {\n                this.Refresh();\n                lastTime = DateTime.Now;\n            }\n\n\n\n        }\n\n\n\n        [MethodImpl(MethodImplOptions.Synchronized)]\n        private void InputWrapper(object sender, System.Collections.Specialized.NotifyCollectionChangedEventArgs e)\n        {\n\n            updateLoopStep(inputs); //code in this method (not shown) does some update based on the input - this could be expensive\n\n\n            maybeRefresh();\n        }\n\n\n\n        #region boringstuff\n        private void InitializeComponent()\n        {\n            this.components = new System.ComponentModel.Container();\n            this.SuspendLayout();\n\n            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);\n            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;\n            this.ClientSize = new System.Drawing.Size(1000, 1000);\n            this.FormBorderStyle = System.Windows.Forms.FormBorderStyle.Fixed3D;\n            this.Name = \"Application\";\n            this.Text = \"Application\";\n            this.Load += new System.EventHandler(this.LoadContent);\n            SetStyle(ControlStyles.AllPaintingInWmPaint | ControlStyles.UserPaint | ControlStyles.OptimizedDoubleBuffer | ControlStyles.ResizeRedraw, true);\n            this.ResumeLayout(false);\n\n        }\n\n        #endregion\n\n        protected Application()\n        {\n\n            InitializeComponent();\n\n            System.Collections.Specialized.NotifyCollectionChangedEventHandler inputCallback =\n                new System.Collections.Specialized.NotifyCollectionChangedEventHandler(InputWrapper);\n\n\n\n            new TagStatesThread(inputCallback); //Thread runs in background - could be an expensive process\n\n        }\n\n\n        protected override void Dispose(bool disposing)\n        {\n            if (disposing &amp;&amp; (components != null))\n            {\n                components.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n\n\n        protected void LoadContent(object sender, EventArgs e)\n        {\n\n            this.SetStyle(\n                ControlStyles.AllPaintingInWmPaint |\n                ControlStyles.UserPaint |\n                ControlStyles.DoubleBuffer,\n                true);\n            this.UpdateStyles();\n\n            loadAllContent(); //some simple method (not shown) which loads Image assets and such (once)\n\n        }\n\n\n        protected override void OnPaint(PaintEventArgs e)\n        {\n            base.OnPaint(e);\n\n            e.Graphics.SmoothingMode = SmoothingMode.AntiAlias;\n            e.Graphics.Clear(BackColor);\n\n            //code in this method (not shown) handles drawing all the Images - by simply iterating through them all and calling e.Graphics.DrawImage.  May have to draw a large number of images (up to 100)\n           displayNewState(e.Graphics);\n\n\n        }\n\n\n\n\n\n    }\n}\n</code></pre>\n\n<p>Also, a question - when a call to draw is made, and nothing has to be done, it seems to draw much faster - implying that if a pixel does not have to be changed, it consumes almost negligible processing time (suggesting the system automatically checks what needs to be drawn and is pretty intelligent).  Is this true?</p>\n\n<p>Edit: Screenshot of an example application:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TINeq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TINeq.png\" alt=\"TicTacToeBoard\"></a></p>\n"}, {"tags": ["c#", ".net", "winforms", "datetime", "datagridview"], "answers": [{"comments": [{"owner": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "edited": false, "score": 0, "creation_date": 1439418795, "post_id": 31976369, "comment_id": 51859496, "body": "I used &quot;G&quot; instead of &quot;g&quot; and It worked! and It doesn&#39;t override the regional settings (tested wiith es-pe and es-es) I&#39;ll write another answer to show how to do it from the VS designer"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "edited": false, "score": 0, "creation_date": 1439446286, "post_id": 31976369, "comment_id": 51866864, "body": "@Broken_Window, &quot;G&quot; and &quot;g&quot; are different format patterns."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1439446398, "post_id": 31976369, "comment_id": 51866915, "body": "@Fabio: I suspect it&#39;s just that Broken_Window wanted the longer time format."}, {"owner": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "edited": false, "score": 0, "creation_date": 1439473749, "post_id": 31976369, "comment_id": 51884609, "body": "@JonSkeet you&#39;re right, I wanted the longer format."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 3, "last_activity_date": 1439417957, "creation_date": 1439417957, "answer_id": 31976369, "question_id": 31976306, "link": "https://stackoverflow.com/questions/31976306/how-to-show-the-complete-datetime-value-in-a-datagridview-cell-when-it-is-exactl/31976369#31976369", "title": "How to show the complete DateTime value in a Datagridview cell when it is exactly midnight?", "body": "<p>You could specify the <code>DefaultCellStyle.Format</code>, but use a <a href=\"https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx\" rel=\"nofollow\">\"standard format\"</a> which will localize appropriately:</p>\n\n<pre><code>DefaultCellStyle.Format = \"g\"; // General date, short time pattern\n</code></pre>\n\n<p>I don't <em>know</em> that that will format midnight \"fully\", but it's worth a try.</p>\n"}, {"tags": [], "owner": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "is_accepted": false, "score": 1, "last_activity_date": 1439419356, "creation_date": 1439419356, "answer_id": 31976634, "question_id": 31976306, "link": "https://stackoverflow.com/questions/31976306/how-to-show-the-complete-datetime-value-in-a-datagridview-cell-when-it-is-exactl/31976634#31976634", "title": "How to show the complete DateTime value in a Datagridview cell when it is exactly midnight?", "body": "<p>How to force the DataGridView to show hours exactly at midnight (this answer comes from Jon Skeet's Answer):</p>\n\n<p>In Visual Studio (I'm using VS Express 2013) select your DataGridView, go to Properties->DefaultCellStyle, enter \"G\" in the Format property and click Ok or Aceptar (mine is in spanish):</p>\n\n<p><a href=\"https://i.stack.imgur.com/5CWyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5CWyx.png\" alt=\"enter image description here\"></a></p>\n\n<p>This solved my problem, and it respects OS regional settings.</p>\n\n<p>Can I fangirl a little?\nOMYGOSHOMYGOSHOMYGOSHOMYGOSH Jon Skeet himself answered my question, yay! \n:D :D :D :D</p>\n"}], "owner": {"reputation": 1900, "user_id": 111110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x4wRj.png?s=128&g=1", "display_name": "Broken_Window", "link": "https://stackoverflow.com/users/111110/broken-window"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 31976369, "answer_count": 2, "score": 1, "last_activity_date": 1439419356, "creation_date": 1439417598, "last_edit_date": 1495535195, "question_id": 31976306, "link": "https://stackoverflow.com/questions/31976306/how-to-show-the-complete-datetime-value-in-a-datagridview-cell-when-it-is-exactl", "title": "How to show the complete DateTime value in a Datagridview cell when it is exactly midnight?", "body": "<p>I have a DataGridView with a column that holds DateTime values like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qDPD2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDPD2.png\" alt=\"wild DataGridView named dgView\"></a></p>\n\n<p>The problem is in the selected row: it actually has the value \"10/07/2015 12:00:00 am\" but in the datagridview it is shown only \"10/07/2015\". \nThe next row has the value of \"10/07/2015 12:00:26 am\". This problem happens only when the hour of the DateTime values is exactly midnight. \nWhen I pass that value to a textBox (to the left) with the following code, DateTime value is shown correctly (DateTime values are in the column with index 2):</p>\n\n<pre><code>text1.Text = dgView.SelectedRows[0].Cells[2].Value.ToString();\n</code></pre>\n\n<p>How can I make my DataGridView to show the complete DateTime values?\nI do not want to set the <a href=\"https://stackoverflow.com/q/4033113/111110\">DefaultCellStyle.Format</a> value because I want to show the DateTimes in the format of the OS regional settings (in my case is es-pe).</p>\n\n<p>I'm targeting .Net 3.5 compiled for x86.</p>\n"}, {"tags": ["c#", "entity-framework", "linq-to-sql", "many-to-many"], "comments": [{"owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439420061, "post_id": 31976248, "comment_id": 51859878, "body": "What do you get if you do this <code>var hasAccounts = dbContext.CreditAccounts.Any(a =&gt; storeIDs.Contains(a.StoreID))</code>?"}, {"owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "reply_to_user": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439425456, "post_id": 31976248, "comment_id": 51861229, "body": "That would assume that <code>CreditAccount</code> has multiple <code>storeIDs</code> but it only has one. I think what you meant is <code>var hasAccounts = dbContext.CreditAccounts.Any(a =&gt; a.StoreID == storeID))</code>  This does indeed return true as I expect. Notice that the first query in my post works fine, returning all customers for one store ID."}, {"owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439426015, "post_id": 31976248, "comment_id": 51861339, "body": "I&#39;m confused. That&#39;s your code. And it does not assume <code>CreditAccount</code> has multiple <code>storeID</code>s. Rather, it checks if any of the <code>CreditAccount</code>s has a <code>storeID</code> that is in your <code>storedIDs</code> which I presume is a collection."}, {"owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "reply_to_user": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439426568, "post_id": 31976248, "comment_id": 51861450, "body": "It seems that I did read your comment wrong so that&#39;s my mistake, sorry!"}, {"owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "reply_to_user": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439426654, "post_id": 31976248, "comment_id": 51861473, "body": "Ok so yes, that will return true in my scenario as I expect. Sorry I got confused :("}, {"owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1439429951, "post_id": 31976248, "comment_id": 51862206, "body": "Is your <code>storeIDs</code> a Queryable?"}], "answers": [{"comments": [{"owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "edited": false, "score": 0, "creation_date": 1439426526, "post_id": 31976788, "comment_id": 51861435, "body": "If I understand this correctly the sql would look like <code>SELECT * FROM Customers INNER JOIN CreditAccounts ON CreditAccounts.StoreId IN (&lt;comma_separated_store_ids&gt;)</code>, is that right? That would make sense."}, {"owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "edited": false, "score": 0, "creation_date": 1439426915, "post_id": 31976788, "comment_id": 51861521, "body": "Also, querying against just <code>CreditAccount</code> and then mapping to the <code>Customer</code> does sound doable. Thanks!"}], "tags": [], "owner": {"reputation": 603, "user_id": 116271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7c060d913be4a5d7ad6666dbef1d5374?s=128&d=identicon&r=PG", "display_name": "Alan Wolman", "link": "https://stackoverflow.com/users/116271/alan-wolman"}, "is_accepted": false, "score": 2, "last_activity_date": 1439420239, "creation_date": 1439420239, "answer_id": 31976788, "question_id": 31976248, "link": "https://stackoverflow.com/questions/31976248/how-to-query-a-many-to-many-relationship-with-an-array-of-ids-in-entity-framewo/31976788#31976788", "title": "How to query a many to many relationship with an array of ID&#39;s in Entity Framework", "body": "<p>The following linq query will return the results that you are looking for - however, I am not certain that it will perform well at all:</p>\n\n<pre><code>var results = dbContext.Customers\n    .Where(c =&gt; c.CreditAccounts.Join(storeIds.ToList(), a =&gt; a.StoreId, s =&gt; s, (a,s)=&gt;s).Any());\n</code></pre>\n\n<p>You may get better performance by finding the credit accounts that intersect with the StoreID, and then joining the list of credit accounts with the customers table - although I can't tell from the code you have provided whether you have direct access to a list of creditaccounts.</p>\n"}], "owner": {"reputation": 7934, "user_id": 484342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec93a90077d90d75dfd5e53ef968af62?s=128&d=identicon&r=PG", "display_name": "Samo", "link": "https://stackoverflow.com/users/484342/samo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440519198, "creation_date": 1439417353, "last_edit_date": 1440519198, "question_id": 31976248, "link": "https://stackoverflow.com/questions/31976248/how-to-query-a-many-to-many-relationship-with-an-array-of-ids-in-entity-framewo", "title": "How to query a many to many relationship with an array of ID&#39;s in Entity Framework", "body": "<p>Say there are stores, customers, and credit accounts. So customers and stores have a many-to-many relationship through the credit account table.</p>\n\n<p>If I want every customer that has an account at a given store, I could access it like follows.</p>\n\n<pre><code>var customers = dbContext.Customers\n    .Where(c =&gt; c.CreditAccounts.Select(a =&gt; a.StoreID).Contains(storeID));\n</code></pre>\n\n<p>That seems to work but when I want to search by multiple storeIds, I get an empty result set. Here are some things I've tried.</p>\n\n<pre><code>var customers = dbContext.Customers\n    .Where(c =&gt; c.CreditAccounts.Any(a =&gt; storeIDs.Contains(a.StoreID)));\n</code></pre>\n\n<p>And</p>\n\n<pre><code>var customers = dbContext.Customers\n    .Where(c =&gt; c.CreditAccounts.Select(a =&gt; a.StoreID).Intersect(storeIDs).Count() &gt; 0);\n</code></pre>\n\n<p>These always give me empty results. How can I achieve this without writing a raw SQL query?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I did not have the data that I thought I had. Once that was corrected, my queries began to work. I think the question is still valid though because it's not clear whether any of these perform well, so other users might wish to respond with the most efficient way to retrieve the results.</p>\n"}, {"tags": ["c#", "resharper"], "comments": [{"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 1, "creation_date": 1439417564, "post_id": 31976156, "comment_id": 51859073, "body": "The option named <code>Additive operators</code> in R# options =&gt; C# =&gt; Formatting Style =&gt; Spaces should only affect the way your first example is formatted. I have that option on, and I can&#39;t repro the <code>- 1</code> behavior. So you probably have something else turned on, but I can&#39;t find any option related to that."}, {"owner": {"reputation": 1679, "user_id": 1252029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Drt2.jpg?s=128&g=1", "display_name": "meh-uk", "link": "https://stackoverflow.com/users/1252029/meh-uk"}, "edited": false, "score": 0, "creation_date": 1439479005, "post_id": 31976156, "comment_id": 51888770, "body": "Maybe you could post your ReSharper team shared options so we can see what else you&#39;ve set? Or try resetting your ReSharper options to the defaults?"}, {"owner": {"reputation": 811, "user_id": 4992024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/401b8f610f45ecf246592957155af5d6?s=128&d=identicon&r=PG&f=1", "display_name": "LearningJrDev", "link": "https://stackoverflow.com/users/4992024/learningjrdev"}, "edited": false, "score": 0, "creation_date": 1439482268, "post_id": 31976156, "comment_id": 51891060, "body": "Posted the team shared settings"}], "owner": {"reputation": 811, "user_id": 4992024, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/401b8f610f45ecf246592957155af5d6?s=128&d=identicon&r=PG&f=1", "display_name": "LearningJrDev", "link": "https://stackoverflow.com/users/4992024/learningjrdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439482252, "creation_date": 1439416868, "last_edit_date": 1439482252, "question_id": 31976156, "link": "https://stackoverflow.com/questions/31976156/resharper-spaces-around-negative-sign", "title": "Resharper spaces around negative sign", "body": "<p>We have our resharper settings set to have spaces around additive operations so</p>\n\n<p><code>var num = 1+2</code> will turn into <code>var num = 1 + 2</code> </p>\n\n<p>However, we have the issue that defining a number as negative puts an unnecessary space after the negative sign, treating it as if its a minus sign.</p>\n\n<p><code>var num = -1</code> becomes <code>var num = - 1</code></p>\n\n<p>Is there a setting that will keep the behavior of the first example but avoid that of the 2nd?</p>\n\n<p>My settings: <a href=\"http://pastebin.com/1sRjw0ZS\" rel=\"nofollow\">http://pastebin.com/1sRjw0ZS</a></p>\n"}, {"tags": ["c#", "sdk", "quickbooks"], "answers": [{"tags": [], "owner": {"reputation": 26447, "user_id": 26133, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dfe9cf5d0681a2cd730408d5ac909851?s=128&d=identicon&r=PG", "display_name": "Keith Palmer Jr.", "link": "https://stackoverflow.com/users/26133/keith-palmer-jr"}, "is_accepted": false, "score": 1, "last_activity_date": 1439430374, "creation_date": 1439430374, "answer_id": 31978201, "question_id": 31976149, "link": "https://stackoverflow.com/questions/31976149/quickbooks-desktop-sdk-perofrmance/31978201#31978201", "title": "Quickbooks Desktop SDK Perofrmance", "body": "<blockquote>\n  <p>is this a normal behavior?</p>\n</blockquote>\n\n<p>For many situations, yes. You didn't really give much in the way of specifics, so there's not really much else to say here. </p>\n\n<blockquote>\n  <p>does anyone have a workaround for this problem ?</p>\n</blockquote>\n\n<p>The same solutions anyone would have for any other resource- or time- intensive job. </p>\n\n<p>Batch jobs. Caching. Async communication. </p>\n"}], "owner": {"reputation": 13, "user_id": 873220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8c9eb5ece52ecb4aa7f959537298bb?s=128&d=identicon&r=PG", "display_name": "user873220", "link": "https://stackoverflow.com/users/873220/user873220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1439430374, "creation_date": 1439416830, "question_id": 31976149, "link": "https://stackoverflow.com/questions/31976149/quickbooks-desktop-sdk-perofrmance", "title": "Quickbooks Desktop SDK Perofrmance", "body": "<p>We are using the QuickBooks SDK to communicate with QuickBooks desktop.</p>\n\n<p>It could take very long (like more then about two minutes) to retrieve results from QuickBooks , or to update a single record,\nso my question is as follow:\n is this a normal behavior?,\ndoes anyone have a workaround for this problem ?</p>\n\n<p>more info on our QB file its about 200 megabyte  and the file is stored over a local network .</p>\n"}, {"tags": ["c#", "mysql", "algorithm"], "comments": [{"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1439416372, "post_id": 31976008, "comment_id": 51858656, "body": "It&#39;s not too cumbersome in MySQL, but you need to start with properly formatted dates."}, {"owner": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "reply_to_user": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1439416572, "post_id": 31976008, "comment_id": 51858724, "body": "What do you mean? Note that I&#39;m using the MySQL <code>datetime</code> type for the date column (and the data comes from a DateTime object in c#)."}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1439416898, "post_id": 31976008, "comment_id": 51858853, "body": "Ok, for some reason they&#39;re not appearing as Y-m-d above"}, {"owner": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "reply_to_user": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1439417025, "post_id": 31976008, "comment_id": 51858900, "body": "Oh I&#39;m really sorry, that&#39;s because I&#39;m from Brazil and we use d-m-y here. I&#39;ll update the question."}], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "edited": false, "score": 0, "creation_date": 1439417284, "post_id": 31976108, "comment_id": 51858989, "body": "So, if I understand your answer right, this method will show the worst period by searching for a preset period of time, like: this user&#39;s worst minute; or this user&#39;s worst day; this user&#39;s worst 45min. Is that right?"}, {"owner": {"reputation": 751, "user_id": 4755414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8zxtD.jpg?s=128&g=1", "display_name": "Diosjenin", "link": "https://stackoverflow.com/users/4755414/diosjenin"}, "reply_to_user": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "edited": false, "score": 0, "creation_date": 1439418796, "post_id": 31976108, "comment_id": 51859497, "body": "@andre_ss6 More precisely, this answer divides time into 30-second chunks (12:00:01 to 12:00:30, 12:00:31 to 12:01:00, etc.), then finds the chunk with the most dropped connections.  And that&#39;s fine as long as you&#39;re okay with using chunks with predefined start and end times.  If, however, you want to find the worst 30 seconds, <i>regardless of when those 30 seconds actually fell on the clock</i> - say, a worst interval that happened between 01:02:11 and 01:02:41 - that&#39;s a lot harder to do in pure SQL."}, {"owner": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "edited": false, "score": 0, "creation_date": 1439426487, "post_id": 31976108, "comment_id": 51861425, "body": "I see. Still, even the hardest way you mention uses predefined time intervals. I&#39;m trying to get to a solution which doesn&#39;t use one. I mean, the algorithm would analyze all the data and come up with the worst interval (that in which the result of the division <code>(number of dropped connections)&#47;(time interval)</code> had the higher value) independently of how long was that interval. In all sincerity I have completely no idea how to do this. I&#39;ve tried (and I&#39;m still trying) to get something, but it obviously isn&#39;t easy. I&#39;m going to talk to some mathematicians tomorrow to see if I get any help. :)"}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1439449302, "post_id": 31976108, "comment_id": 51868461, "body": "Also, note that we only need to consider one column, not 3"}], "tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1439416656, "creation_date": 1439416656, "answer_id": 31976108, "question_id": 31976008, "link": "https://stackoverflow.com/questions/31976008/find-date-range-with-most-occurrences/31976108#31976108", "title": "Find date range with most occurrences", "body": "<p>If you want to find the calendar half minute with the worst connections, then it is easy, an aggregation query.  Something like this:</p>\n\n<pre><code>select FROM_UNIXTIME(floor(UNIX_TIMESTAMP(datetime) / (30))) as periodstart,\n       count(*) as numrows,\n       sum(column1 = 0 and column2 = 0 and column3 = 0) as numallzeros\nfrom table t\ngroup by floor(UNIX_TIMESTAMP(datetime) / (30))\norder by numallzeros desc;\n</code></pre>\n\n<p>If you want to flexibly define the period, then that is much harder.  If so, you need to explain in the question how that should be done.</p>\n"}, {"tags": [], "owner": {"reputation": 751, "user_id": 4755414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8zxtD.jpg?s=128&g=1", "display_name": "Diosjenin", "link": "https://stackoverflow.com/users/4755414/diosjenin"}, "is_accepted": false, "score": 1, "last_activity_date": 1439505266, "creation_date": 1439505266, "answer_id": 31999519, "question_id": 31976008, "link": "https://stackoverflow.com/questions/31976008/find-date-range-with-most-occurrences/31999519#31999519", "title": "Find date range with most occurrences", "body": "<p>Okay, had a bit more time to think about this.  It's fairly easy to think of this problem in object-oriented pseudocode, because it basically boils down to finding a max value in an array:</p>\n\n<pre><code>int timeInterval = 30 (or however many seconds you want)\nSort all rows in ascending date/time order\nRow worstStartRow = rows[0]\nint worstNumBadConnections = 0\nFor each row X\n    If X is defined as a dropped connection\n        int tempNumBadConnections = 0\n        For every subsequent row Y\n            If (Y.time - X.time) &gt; timeInterval\n                break\n            Else if Y is defined as a dropped connection\n                tempNumBadConnections++\n        If tempNumBadConnections &gt; worstNumBadConnections\n            worstNumBadConnections = tempNumBadConnections\n            worstStartRow = X\n// worst time interval starts at worstStartRow.time,\n// ends at worstStartRow.time + timeInterval\n</code></pre>\n\n<p>But of course SQL doesn't do row-wise processing very well.  To get around this, we can join the table to itself, ensure that the times of the paired rows from our two \"tables\" fall within a certain range, and aggregate the output.</p>\n\n<p>Say we have a table <code>Demo</code> that looks like this:</p>\n\n<pre><code>Id  Zero  Time\n0   0     '2007-12-31 11:11:11'\n1   0     '2008-01-01 00:00:00'\n2   0     '2008-01-01 00:00:30'\n3   1     '2008-01-01 00:00:30'\n4   0     '2008-01-01 00:00:31'\n5   1     '2008-01-01 00:00:31'\n6   0     '2008-01-01 00:00:32'\n7   0     '2008-01-01 11:11:11'\n</code></pre>\n\n<p>For each row with row.Zero = 0, we want to find all rows where Zero = 0 AND the time of the other row is no more than N seconds later than the time of the first row.  So, if your interval is 30 seconds long, the query might look like this:</p>\n\n<pre><code>SELECT a.Id, a.Time, b.Id, b.Time\nFROM Demo a\nINNER JOIN Demo b\n  ON a.Zero = b.Zero\n  AND a.Time &lt;= b.Time\nWHERE a.Zero = 0\n  AND TIMESTAMPDIFF(SECOND, a.Time, b.Time) &lt;= 30\nORDER BY a.Id, b.Time\n;\n</code></pre>\n\n<p>This gives us a series of rows containing 1) the Id of the zero row that defines the start of an interval, 2) the time of that starting row, 3) the Id of another row in that interval, and 4) the time of that other row:</p>\n\n<pre><code>Id  Time                            Id  Time\n0   'December, 31 2007 11:11:11'    0   'December, 31 2007 11:11:11'\n1   'January, 01 2008 00:00:00'     1   'January, 01 2008 00:00:00'\n1   'January, 01 2008 00:00:00'     2   'January, 01 2008 00:00:30'\n2   'January, 01 2008 00:00:30'     2   'January, 01 2008 00:00:30'\n2   'January, 01 2008 00:00:30'     4   'January, 01 2008 00:00:31'\n2   'January, 01 2008 00:00:30'     6   'January, 01 2008 00:00:32'\n4   'January, 01 2008 00:00:31'     4   'January, 01 2008 00:00:31'\n4   'January, 01 2008 00:00:31'     6   'January, 01 2008 00:00:32'\n6   'January, 01 2008 00:00:32'     6   'January, 01 2008 00:00:32'\n7   'January, 01 2008 11:11:11'     7   'January, 01 2008 11:11:11'\n</code></pre>\n\n<p>We can see that non-zero rows are excluded entirely, and rows are only matched to a starting row if their time is between 0 and 30 seconds later (inclusive) than the first row.  So far, so good!  But we'd also like to count these results by the Id of the starting row.  So we'll make the query aggregate the results, like so:</p>\n\n<pre><code>SELECT a.Id, a.Time, COUNT(b.Id) numDropped\nFROM Demo a\nINNER JOIN Demo b\n  ON a.Time &lt;= b.Time\n  AND a.Zero = b.Zero\nWHERE a.Zero = 0\n  AND TIMESTAMPDIFF(SECOND, a.Time, b.Time) &lt;= 30\nGROUP BY a.Id\n;\n</code></pre>\n\n<p>Which gives us rows containing 1) the Id of the zero row that defines the start of an interval, 2) the time of that starting row, and 3) the number of zero rows in the interval, including the starting row:</p>\n\n<pre><code>Id  Time                            numDropped\n0   'December, 31 2007 11:11:11'    1\n1   'January, 01 2008 00:00:00'     2\n2   'January, 01 2008 00:00:30'     3\n4   'January, 01 2008 00:00:31'     2\n6   'January, 01 2008 00:00:32'     1\n7   'January, 01 2008 11:11:11'     1\n</code></pre>\n\n<p>And to get only the \"worst\", we can simply take the previous query, order by <code>numDropped</code> in descending order, and get the first row:</p>\n\n<pre><code>ORDER BY numDropped DESC\nLIMIT 1\n;\n</code></pre>\n\n<p>Which gives us:</p>\n\n<pre><code>Id  Time                            numDropped\n2   'January, 01 2008 00:00:30'     3\n</code></pre>\n\n<p>You now have the start time of your worst interval, along with the Id of the first connection attempt and the number of dropped connections in that interval!  If you want the end time of the worst interval to come back in your query as well (rather than calculating it in the consuming program), you could additionally <code>SELECT</code> on <code>a.Time + INTERVAL 30 SECOND</code>.  Again, swap out 30 for however many seconds long your interval should be.</p>\n\n<p>A couple of quick side notes:</p>\n\n<p>1) You'll notice that zero rows join on themselves, which doesn't quite fit the earlier notion of processing <em>subsequent</em> rows.  But we need this - because what if the worst interval only had one dropped connection?  So each zero row needs to be able to include itself in its list of nearby zero rows.</p>\n\n<p>2) Joining on <code>a.Time &lt;= b.Time</code> avoids creating duplicate joined rows that we know we don't want anyway, so the query doesn't have to waste time processing them later.  You can, however, remove that clause and replace the timestamp check with a more explicit <code>TIMESTAMPDIFF(SECOND, a.Time, b.Time) BETWEEN 0 AND 30</code>, and you will get the same results.</p>\n"}], "owner": {"reputation": 1069, "user_id": 2267418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OWR8X.jpg?s=128&g=1", "display_name": "andre_ss6", "link": "https://stackoverflow.com/users/2267418/andre-ss6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1439505266, "creation_date": 1439416248, "last_edit_date": 1439494018, "question_id": 31976008, "link": "https://stackoverflow.com/questions/31976008/find-date-range-with-most-occurrences", "title": "Find date range with most occurrences", "body": "<p>I have a MySql table that looks like this:</p>\n\n<pre><code>Column1   Column2   Column3   DateTime\n14         10         15      2015-01-01 21:45:00\n0          0          0       2015-01-01 21:46:00\n12         8          16      2015-01-015 21:46:30\n13         7          15      2015-01-01 21:47:00\n0          0          0       2015-01-01 21:48:10\n.          .          .       .\n.          .          .       .\n.          .          .       .\n// Many non-zero rows here\n.          .          .       .\n\n14         10         15      2015-01-02 20:04:00\n0          0          0       2015-01-02 20:04:30\n12         8          16      2015-01-02 20:04:40\n0          0          0       2015-01-02 20:04:50\n10         5          2       2015-01-02 20:04:55\n0          0          0       2015-01-02 20:05:00\n11         4          8       2015-01-02 20:05:05\n0          0          0       2015-01-02 20:05:10\n12         15         16      2015-01-02 20:05:30\n.          .          .       .\n.          .          .       .\n.          .          .       .\n// Many other rows here where zeros doesn't happen so often.\n</code></pre>\n\n<p>This represents the quality of an user's internet connection in a given moment. A all-zero row means the connection dropped (note that there is no way only one column will have a zero value in a given row - either they're all zero, or all non-zero). This then means, from this example data, this user's worst period was from <code>2015-01-02 20:04:30</code> to <code>2015-01-02 20:05:30</code>, because the connection dropped four times in one minute. How can I find this period of time in C# (or mysql, if it is not too cumbersome)?</p>\n\n<p>And by the way, is there a specific name for this? I haven't had much luck googling a solution for it because most of the questions I find are about trying to find the longest streak (only consecutive occurrences, not the most close ones, like I need to find), or something like that.</p>\n\n<hr>\n\n<p>Update: I was going to talk to one of my CS teachers today, but I was unable to. I'll talk to him tomorrow instead. Meanwhile, some friends and I have been thinking on how to solve this, and we've come to something which we're not sure if it's a correct solution (as you can see, we're not really good with math/statistics). We've thought about doing this: </p>\n\n<p>For each all-zero column in the table, we compare it with the last one and all others before it. Like this: </p>\n\n<pre><code>Compare first all-zero row with last one; \nCompare first all-zero row with second last one;\n ... \nCompare first all-zero row with the second one. \nDo it all over again starting on the second all-zero row this time.\n</code></pre>\n\n<p>Then we get the worst time intervals for this user's connection, being the worst one that in which <code>(Number of times the connection dropped in time interval T) divided by T</code> has the greater value. But, as I said before, we don't even know if this would land us the right answer. Also, this seems to be pretty computationally expensive and right now we have a database with a couple thousands of rows.</p>\n"}, {"tags": ["c#", "asp.net", "razor", "visual-studio-2013", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 91, "user_id": 4691620, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205990159374776/picture?type=large", "display_name": "Brandon Seydel", "link": "https://stackoverflow.com/users/4691620/brandon-seydel"}, "edited": false, "score": 0, "creation_date": 1439466539, "post_id": 31975916, "comment_id": 51879236, "body": "Tolist the model if u for each on a queryable it roundtrips to the database..."}, {"owner": {"reputation": 25, "user_id": 3650348, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006121359539/picture?type=large", "display_name": "ArielLuque", "link": "https://stackoverflow.com/users/3650348/arielluque"}, "reply_to_user": {"reputation": 91, "user_id": 4691620, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205990159374776/picture?type=large", "display_name": "Brandon Seydel", "link": "https://stackoverflow.com/users/4691620/brandon-seydel"}, "edited": false, "score": 0, "creation_date": 1439467609, "post_id": 31975916, "comment_id": 51880001, "body": "So should I be doing tolist when I return my view? Right now I just return the result of the query."}, {"owner": {"reputation": 91, "user_id": 4691620, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205990159374776/picture?type=large", "display_name": "Brandon Seydel", "link": "https://stackoverflow.com/users/4691620/brandon-seydel"}, "edited": false, "score": 0, "creation_date": 1439472423, "post_id": 31975916, "comment_id": 51883622, "body": "either there or on the Model in the foreach loop in the razor syntax even though it should be done in the logic layer if you have one otherwise the controller."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3650348, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006121359539/picture?type=large", "display_name": "ArielLuque", "link": "https://stackoverflow.com/users/3650348/arielluque"}, "edited": false, "score": 0, "creation_date": 1439475263, "post_id": 31976623, "comment_id": 51885673, "body": "This was it. It was making a lot of extra calls to the DB. I switched over to the entity framework and it goes by a lot faster. Pulling in the entire data set takes just over 10 seconds now, which is still not as fast as I would like it. Going to keep searching for optimizations."}, {"owner": {"reputation": 1152, "user_id": 933773, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/RFCTT.jpg?s=128&g=1", "display_name": "AnotherDeveloper", "link": "https://stackoverflow.com/users/933773/anotherdeveloper"}, "reply_to_user": {"reputation": 25, "user_id": 3650348, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006121359539/picture?type=large", "display_name": "ArielLuque", "link": "https://stackoverflow.com/users/3650348/arielluque"}, "edited": false, "score": 0, "creation_date": 1439577118, "post_id": 31976623, "comment_id": 51935520, "body": "I&#39;m somewhat new to Entity Framework too. Here are some resources that have helped me: <a href=\"http://stackoverflow.com/questions/15637317/what-is-the-difference-between-sqlfunctions-and-entityfunctions\" title=\"what is the difference between sqlfunctions and entityfunctions\">stackoverflow.com/questions/15637317/&hellip;</a>, <a href=\"http://www.microsoftvirtualacademy.com/training-courses/implementing-entity-framework-with-mvc\" rel=\"nofollow noreferrer\">microsoftvirtualacademy.com/training-courses/&hellip;</a>, <a href=\"https://lostechies.com/jimmybogard/2014/03/11/efficient-querying-with-linq-automapper-and-future-queries/\" rel=\"nofollow noreferrer\">lostechies.com/jimmybogard/2014/03/11/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1152, "user_id": 933773, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/RFCTT.jpg?s=128&g=1", "display_name": "AnotherDeveloper", "link": "https://stackoverflow.com/users/933773/anotherdeveloper"}, "is_accepted": true, "score": 1, "last_activity_date": 1439419263, "creation_date": 1439419263, "answer_id": 31976623, "question_id": 31975916, "link": "https://stackoverflow.com/questions/31975916/mvc5-strangely-slow-performance-when-using-razor-syntax/31976623#31976623", "title": "MVC5 strangely slow performance when using razor syntax", "body": "<p>Your For Loop could be triggering other queries if you are implementing the IQueryable interface (lazy loading). Entity Framework / Linq To Sql can sometimes grab a lot more data than is readily obvious. </p>\n\n<p>If you have not ruled this out already, I heartily recommend getting the Glimpse nuGet packages that would be relevant to your project. This will show you exactly what queries are being generated. You could also look at the execution plan in SQL management studio, but the Glimpse add-in is very nice.</p>\n\n<p>The Glimpse packages stack on top of each other, but this is what I am currently using:</p>\n\n<p>Glimpse Core\nGlimpse ADO\nGlimpse ASP.NET\nGlimpse EF6\nGlimpse MVC</p>\n"}], "owner": {"reputation": 25, "user_id": 3650348, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006121359539/picture?type=large", "display_name": "ArielLuque", "link": "https://stackoverflow.com/users/3650348/arielluque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2511, "favorite_count": 0, "accepted_answer_id": 31976623, "answer_count": 1, "score": 2, "last_activity_date": 1439465386, "creation_date": 1439415793, "last_edit_date": 1439465386, "question_id": 31975916, "link": "https://stackoverflow.com/questions/31975916/mvc5-strangely-slow-performance-when-using-razor-syntax", "title": "MVC5 strangely slow performance when using razor syntax", "body": "<p>This is my first time using MVC. I'm trying to make a search page for an MVC5 page where it'll crate a table with some basic information like name, gender, etc. This is a partial view I want to call using AJAX when someone hits the search button. So on my controler I am using linq to query a remote sql database where I can retrieve at most around 2k records if someone puts no filters. The linq to sql query is fairly fast (I tried returning just JSON instead of a view and it was practically instant), however there is a problem when I'm trying to render my view. </p>\n\n<p>Right now I'm doing something like:</p>\n\n<pre><code>    @foreach(var item in Model){\n        &lt;tr&gt;\n               &lt;td&gt;@item.name&lt;td&gt;\n               &lt;td&gt;@item.gender&lt;td&gt;\n               ... etc.\n        &lt;tr&gt;\n    }\n</code></pre>\n\n<p>However, this its ridiculously slow. On chrome it could take anywhere from 30 seconds to over a minute to load. When testing IE10 it never loads, which is a problem because IE10 compatibility is required. I'm using similar syntax to dynamically load in a custom drop down lists with filters on it, which makes the home page take around two seconds to load. I believe it's an issue with the @foreach line because limiting it to 10 records makes it load in 4 seconds, which is still extremely slow, but better. I'm running this off of localhost.I have an old version of this website running off of asp webforms using the same sql query but bound to a gridview instead and it is extremely fast, it loads all records into the same table in under a second.  </p>\n\n<p>I really couldn't find anything online to help with speed. Is there something about razor syntax like this that I should be avoiding? Or should I stick with the webforms site since it seems to be faster? </p>\n"}, {"tags": ["c#", "arrays", "struct", "marshalling", "unions"], "comments": [{"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1439416811, "post_id": 31975876, "comment_id": 51858811, "body": "What is in <code>Grapes</code> and <code>Oranges</code>? Also what is <code>Types</code>?"}, {"owner": {"reputation": 21, "user_id": 5221083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4019687095a1e5c8b4d8ca679cc0abf?s=128&d=identicon&r=PG&f=1", "display_name": "J. Morgan", "link": "https://stackoverflow.com/users/5221083/j-morgan"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1439417279, "post_id": 31975876, "comment_id": 51858984, "body": "@IllidanS4 Grapes and Oranges are also  structs but only contain basic types like Ints, Bools, etc."}], "answers": [{"tags": [], "owner": {"reputation": 5237, "user_id": 2531341, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vhbsU.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2531341/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1439417643, "last_edit_date": 1439417643, "creation_date": 1439416620, "answer_id": 31976096, "question_id": 31975876, "link": "https://stackoverflow.com/questions/31975876/c-unions-of-structs-that-contain-arrays-of-structs/31976096#31976096", "title": "C# Unions of Structs that Contain Arrays of Structs", "body": "<p>The issue is that an array is a reference type (the <code>MarshalAs</code> doesn't change that - it only applies when doing pinvoke). Which means there's a reference in the struct to an array somewhere else. And in your case, the memory location that stores that reference is shared with other stuff in the union, which can't really work.</p>\n\n<p>So what you need is to have that array <em>in the struct</em>, which is <a href=\"https://msdn.microsoft.com/en-us/library/zycewsya.aspx\" rel=\"nofollow\">possible</a>, sort of, if using unsafe code. The catch is this:</p>\n\n<blockquote>\n  <p>The only restriction is that the array type must be bool, byte, char, short, int, long, sbyte, ushort, uint, ulong, float, or double.</p>\n</blockquote>\n\n<p>So with the <code>Types</code> you have there - it isn't an option. But if that could be changed to one of the supported types, you could do as such:</p>\n\n<pre><code>public unsafe struct Apples\n{\n    public int Color;\n    public int Texture;\n\n    public fixed int Type[15];\n}\n</code></pre>\n\n<p>Edit: And yes, as @IllidanS4 mentions - if you need to use anything other than those types (a struct), you can add those 15 fields manually, one by one. Not very neat...</p>\n\n<p>Edit 2: A second option would be to skip the union all together - make three separate structs and have the marshaller sort it out for you with <code>Marshal.PtrToStructure</code>. <code>MarshalAs</code> will work for the array in that case, avoiding the use of <code>fixed</code>. You will have to do it three times though, but it might be a more practical alternative.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 5221083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4019687095a1e5c8b4d8ca679cc0abf?s=128&d=identicon&r=PG&f=1", "display_name": "J. Morgan", "link": "https://stackoverflow.com/users/5221083/j-morgan"}, "edited": false, "score": 0, "creation_date": 1439417272, "post_id": 31976120, "comment_id": 51858982, "body": "So what I&#39;m hearing is that because Types is not a primitive time I&#39;m going to have to make 15 instances of it in order to do the union."}, {"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "reply_to_user": {"reputation": 21, "user_id": 5221083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4019687095a1e5c8b4d8ca679cc0abf?s=128&d=identicon&r=PG&f=1", "display_name": "J. Morgan", "link": "https://stackoverflow.com/users/5221083/j-morgan"}, "edited": false, "score": 0, "creation_date": 1439417542, "post_id": 31976120, "comment_id": 51859066, "body": "@J.Morgan Exactly. In the article linked by Chris, you can see only primitive types are allowed in fixed arrays (although I am sure the CLR would support all types). Don&#39;t forget you would end up having 15 instances of <code>Types</code> on both ways."}], "tags": [], "owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "is_accepted": false, "score": 0, "last_activity_date": 1439416699, "creation_date": 1439416699, "answer_id": 31976120, "question_id": 31975876, "link": "https://stackoverflow.com/questions/31975876/c-unions-of-structs-that-contain-arrays-of-structs/31976120#31976120", "title": "C# Unions of Structs that Contain Arrays of Structs", "body": "<p><code>MarshalAs</code> is substantially different from <code>FieldOffset</code> or <code>StructLayout</code>. <code>MarshalAs</code> is just a \"normal\" parameter that indicates to the Marshaller how to marshal the field, it modifies the unmanaged layout of the struct. On the other hand, <code>FieldOffset</code> directly modifies the managed layout of the structure, when you use it in C#. <code>MarshalAs</code> has no effect on the struct layout in the managed environment. Therefore, it won't make <code>Types</code> fixed-sized value array, so the CLR will still complain about a reference being overlapped by a value (contained in one of the other structs at the same offset).</p>\n\n<p>For primitive types, you can use <code>fixed</code>, but it isn't available for <code>Type</code>, I am afraid. You're left to create a structure with 15 physical fields for each element of the \"array\", I guess. Don't forget that it will only work if <code>Types</code> is a struct (or enum), not a reference.</p>\n\n<p>Still, this isn't usually the solution for a common problem, only in P/Invoke.</p>\n"}], "owner": {"reputation": 21, "user_id": 5221083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4019687095a1e5c8b4d8ca679cc0abf?s=128&d=identicon&r=PG&f=1", "display_name": "J. Morgan", "link": "https://stackoverflow.com/users/5221083/j-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1439417643, "creation_date": 1439415597, "question_id": 31975876, "link": "https://stackoverflow.com/questions/31975876/c-unions-of-structs-that-contain-arrays-of-structs", "title": "C# Unions of Structs that Contain Arrays of Structs", "body": "<p>I'm trying to create a union of multiple structs.  I'm having an issue with one struct that contains an array of another struct.</p>\n\n<pre><code>[StructLayout(LayoutKind.Explicit)]\npublic struct FruitBasket\n{\n    [MarshalAs(UnmanagedType.Struct)]\n    [FieldOffset(0)]\n    public Apples Apple;\n\n    [FieldOffset(0)]\n    public Grapes Grape;\n\n    [FieldOffset(0)]\n    public Oranges Orange;\n}\n\n[StructLayout(LayoutKind.Sequential, Pack = 1, CharSet = CharSet.Ansi, Size = 12)]\npublic struct Apples\n{\n    public int Color;\n    public int Texture;\n\n    [MarshalAs(UnmanagedType.ByValArray, ArraySubType = UnmanagedType.Struct, SizeConst = 15)]\n    public Types[] Type;\n\n}\n</code></pre>\n\n<p>If I use the Apples structs alone the marshaling works fine.  However if I try to do something like;</p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential, Pack = 1, CharSet = CharSet.Ansi]\npublic class Buffet\n{\n    public UInt32 NumMeats;\n\n    public UInt32 NumVeggies;\n\n    public FruitBasket NumFruits;  //public Apples Apple; &lt;-- works fine\n}\n</code></pre>\n\n<p>I get the following error;</p>\n\n<p>FruitBasket' from assembly 'Test, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' because it contains an object field at offset 0 that is incorrectly aligned or overlapped by a non-object field.</p>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "is_accepted": false, "score": 1, "last_activity_date": 1439415609, "creation_date": 1439415609, "answer_id": 31975879, "question_id": 31975788, "link": "https://stackoverflow.com/questions/31975788/entity-model-scalar-property-custom-type/31975879#31975879", "title": "Entity Model + Scalar Property + Custom Type", "body": "<p>You can create a complex type within the entity model browser and extend the generated class using partial implementations.</p>\n"}], "owner": {"reputation": 854, "user_id": 4035677, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YJzOS.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4035677/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439415609, "creation_date": 1439415170, "question_id": 31975788, "link": "https://stackoverflow.com/questions/31975788/entity-model-scalar-property-custom-type", "title": "Entity Model + Scalar Property + Custom Type", "body": "<p>When using entity framework's model designer is it possible to add a property to an entity that is not one of the standard types?</p>\n\n<p>I have these two entities. The one, VirusDescription I would like to add another property which is a class I wrote however when you go to change the type of the property it only gives you basics... i.e. strings, int16...etc. Is there a way to include custom types in the designer?\n<a href=\"https://i.stack.imgur.com/KEdmH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KEdmH.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I can go into the code that the designer generates and just add it myself and everything works fine but I would like the code and the designer to be consistent.</p>\n\n<p>Here is the class definition for the VirusDescription entity which I updated by hand. If there is a way to update the designer from the corresponding code that would work too.</p>\n\n<pre><code>namespace Trojan.Database\n{\n    using System;\n    using System.Collections.Generic;\n\n    public partial class VirusDescriptionItems\n    {\n        public string ItemId { get; set; }\n        public string VirusId { get; set; }\n        public bool On_Off { get; set; }\n        public System.DateTime DateCreated { get; set; }\n        public short AttributeId { get; set; }\n        public short CategoryId { get; set; }\n        public virtual Attribute Attribute { get; set; } //Added\n        public virtual Category Category { get; set; } //Added\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-3", "asp.net-mvc-4", "c#-4.0"], "owner": {"reputation": 71, "user_id": 5150226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7f5b76eb0f6e7b3c7a85ee774a6f94?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj", "link": "https://stackoverflow.com/users/5150226/pankaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439594821, "creation_date": 1439415059, "last_edit_date": 1439594821, "question_id": 31975762, "link": "https://stackoverflow.com/questions/31975762/save-image-in-existing-pdf-using-itextsharp-not-working", "title": "Save image in Existing PDF using iTextSharp. Not Working", "body": "<p>I am using the below mentioned code. Due to some reasons I am not able to save the image in output PDF. is there anything I am missing ?</p>\n\n<pre><code>string imageFileName = Path.Combine(Application.StartupPath, \"a.jpg\");\nvar inputpdf = Path.Combine(Application.StartupPath, \"b.pdf\");\nvar outputpdf = Path.Combine(Application.StartupPath, \"output.pdf\");\n\nusing (Stream inputPdfStream = new FileStream(inputpdf, FileMode.Open, FileAccess.Read, \n                                                                       FileShare.Read))\n{\n    using (Stream inputImageStream = new FileStream(imageFileName, FileMode.Open, \n                                                      FileAccess.Read, FileShare.Read))\n    {\n\n        var reader = new PdfReader(inputPdfStream);\n        var stamper = new PdfStamper(reader, new FileStream(outputpdf, FileMode.Create), \n                                                                            '\\0', true);\n        var pdfContentByte = stamper.GetOverContent(1);\n\n        iTextSharp.text.Image image = iTextSharp.text.Image.GetInstance(inputImageStream);\n        image.SetAbsolutePosition(10, 10);\n        pdfContentByte.AddImage(image);\n        stamper.Close();\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sockets", "tcp", "tcpclient", "shutdown"], "comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439415406, "post_id": 31975680, "comment_id": 51858316, "body": "Shutdown causes a graceful shutdown. This is the preferred way. Not shutting down often also ends up in a graceful shutdown but errors are not reported."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1439415752, "post_id": 31975680, "comment_id": 51858453, "body": "I think this answers your question,from a Windows perspective: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms738547%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Graceful Shutdown, Linger</a>.  On Windows, a &quot;graceful shutdown&quot; == shutdown(), followed by &quot;close()&quot;.  In the rest of the sockets universe, you&#39;d instead just use &quot;close()&quot;, perhaps in conunction with setsockopt(SO_LINGER) and/or shutdown: <a href=\"http://beej.us/guide/bgnet/output/html/multipage/syscalls.html#closedown\" rel=\"nofollow noreferrer\">beej.us/guide/bgnet/output/html/multipage/&hellip;</a>"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1439416003, "post_id": 31975680, "comment_id": 51858537, "body": "@paulsm4 acutally, shutdown is always required to discover errors. Shutdown makes sure everything was sent successfully. Close has no error reporting."}], "answers": [{"comments": [{"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 2, "creation_date": 1439415660, "post_id": 31975778, "comment_id": 51858413, "body": "@usr with typical request-response protocols this is true, but in a full-duplex scenario you might not know when you&#39;re done."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1439415914, "post_id": 31975778, "comment_id": 51858502, "body": "ALSO: It&#39;s important to note that shutdown() doesn&#39;t actually close the file descriptor\u2014it just changes its usability. To free a socket descriptor, you need to use close()."}, {"owner": {"reputation": 2910, "user_id": 194031, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/799e9e626a5f31e1eb168207c2b6aa8a?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/194031/chad"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439416429, "post_id": 31975778, "comment_id": 51858678, "body": "@usr - If I&#39;m done reading and writing after calling Shutdown, what should my server do with the TcpClient?  If I call Client.Close, that is causing a hard reset, which I want to avoid.  But, I also don&#39;t want to read or write anymore because I&#39;m purposely closing the connection because bad data was sent and I don&#39;t want to read any further.  Are you saying I have to keep reading if I want to finish the graceful shutdown?"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 2910, "user_id": 194031, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/799e9e626a5f31e1eb168207c2b6aa8a?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/194031/chad"}, "edited": false, "score": 0, "creation_date": 1439416683, "post_id": 31975778, "comment_id": 51858768, "body": "@Chad Close after shutdown does nothing on the network that I&#39;m aware of. Both parties have already agreed to end communicating. Close only releases kernel resource and it should/must be called. There is no point in reading after shutdown, always reads zero immediately."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 2, "creation_date": 1439416902, "post_id": 31975778, "comment_id": 51858855, "body": "You <i>must</i> call close().  You <i>may</i> call shutdown(), although it&#39;s not often needed.  Especially on non-windows platforms."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1439417005, "post_id": 31975778, "comment_id": 51858895, "body": "I haven&#39;t found it necessary on Windows platforms either."}, {"owner": {"reputation": 2910, "user_id": 194031, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/799e9e626a5f31e1eb168207c2b6aa8a?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/194031/chad"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439418078, "post_id": 31975778, "comment_id": 51859233, "body": "@usr - Since the protocol I&#39;m working with is full-duplex, it sounds like I must shutdown sending only and keep reading until the client also shutdowns their end, right?  I guess this is more in line with what I read in the documentation."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439455720, "post_id": 31975778, "comment_id": 51872280, "body": "Yes, that would be appropriate. You first want to drain all data that you still care about."}], "tags": [], "owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "is_accepted": true, "score": 2, "last_activity_date": 1439415108, "creation_date": 1439415108, "answer_id": 31975778, "question_id": 31975680, "link": "https://stackoverflow.com/questions/31975680/tcpclient-reset-vs-graceful-shutdown/31975778#31975778", "title": "TcpClient Reset vs. Graceful Shutdown", "body": "<p>A graceful shutdown is done by first shutting down your outgoing channel <code>socket.Shutdown(SocketShutdown.Send))</code>, and keep reading on the socket.</p>\n\n<p>The other side will read your shutdown request as a 0-byte message, and after sending all remaining data it should respond by closing its socket. This causes your side to receive a 0 byte message, ending the transaction. </p>\n"}], "owner": {"reputation": 2910, "user_id": 194031, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/799e9e626a5f31e1eb168207c2b6aa8a?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/194031/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2383, "favorite_count": 2, "accepted_answer_id": 31975778, "answer_count": 1, "score": 2, "last_activity_date": 1439415108, "creation_date": 1439414669, "last_edit_date": 1592644375, "question_id": 31975680, "link": "https://stackoverflow.com/questions/31975680/tcpclient-reset-vs-graceful-shutdown", "title": "TcpClient Reset vs. Graceful Shutdown", "body": "<p>I'm using a TcpClient and calling <a href=\"https://msdn.microsoft.com/en-us/library/system.net.sockets.tcpclient.close(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Close</a> when I want to drop the client's connection to my server.  My understanding is that Close will call Shutdown on the socket if it hasn't already been called.</p>\n<p>Can anyone explain what &quot;terminated&quot; means in the context below?  From what I've observered, it means that the party that calls Shutdown will send a hard reset (RST) rather than going through the graceful shutdown sequence (FIN, ACK...).</p>\n<p>From: <a href=\"https://msdn.microsoft.com/en-us/library/system.net.sockets.socket.shutdown(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.net.sockets.socket.shutdown(v=vs.110).aspx</a></p>\n<blockquote>\n<p>Setting how to Receive specifies that subsequent calls to Receive are\nnot allowed. This has no effect on lower protocol layers. If you are\nusing a connection-oriented protocol, the connection is <strong>terminated</strong> if\neither of the following conditions exist after a call to Shutdown :</p>\n<ul>\n<li>Data is in the incoming network buffer waiting to be received.</li>\n<li>More data has arrived.</li>\n</ul>\n</blockquote>\n<p>Based on this, if I wanted to do a graceful shutdown I must try to empty my local receiving buffer before calling Close.</p>\n<p>Is that right or is there a way to guarantee a graceful shutdown occurs?</p>\n"}, {"tags": ["c#", "wpf", "winforms", "xaml"], "comments": [{"owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "edited": false, "score": 0, "creation_date": 1439428511, "post_id": 31975674, "comment_id": 51861879, "body": "Your posted XAML should include all namespaces you&#39;re using with it."}, {"owner": {"reputation": 2799, "user_id": 2185245, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/jHjz4.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2185245/abhishek"}, "edited": false, "score": 0, "creation_date": 1443173636, "post_id": 31975674, "comment_id": 53396598, "body": "how are you adding rows?"}], "owner": {"reputation": 117, "user_id": 4608650, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eba11a18d725bd7dcec4563a7bc664a?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/4608650/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439414638, "creation_date": 1439414638, "question_id": 31975674, "link": "https://stackoverflow.com/questions/31975674/winform-charts-as-a-data-grid-column-in-wpf", "title": "WinForm Charts as a data grid column in WPF", "body": "<p>I am trying to embed a winform chart in a WPF Data Grid using XAML.</p>\n\n<p>XAML for the Data Grid is as follows:</p>\n\n<pre><code>&lt;DataGrid Grid.Row=\"1\" x:Name=\"ResultsDataGrid\" MouseDoubleClick=\"ResultsDataGrid_MouseDoubleClick\" AutoGenerateColumns=\"False\" &gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTemplateColumn Header=\"Whisker Chart\"  IsReadOnly=\"True\" &gt;\n            &lt;DataGridTemplateColumn.CellTemplate &gt;\n                &lt;DataTemplate&gt;\n                    &lt;WindowsFormsHost x:Name=\"host\"&gt;\n                        &lt;winformchart:Chart x:Name=\"test\"&gt;\n                            &lt;winformchart:Chart.Series&gt;\n                                &lt;winformchart:Series Name=\"series\" ChartType=\"BoxPlot\"/&gt;\n                            &lt;/winformchart:Chart.Series&gt;\n                            &lt;winformchart:Chart.ChartAreas&gt;\n                                &lt;winformchart:ChartArea/&gt;\n                            &lt;/winformchart:Chart.ChartAreas&gt;\n                        &lt;/winformchart:Chart&gt;\n                    &lt;/WindowsFormsHost&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>How do I update the chart for every row?\nSince each row will have its own chart, how can i dynamic assign a name to the chart.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "entity-framework", "telerik"], "owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439414479, "creation_date": 1439414479, "question_id": 31975636, "link": "https://stackoverflow.com/questions/31975636/get-values-from-entity-class", "title": "Get values from entity class", "body": "<p>I have a method that has min and max values hard code how could I the values from a entity model class? I want to be about to look up the min and max value so they are not in the code. I have include my code and entity class and sql table. </p>\n\n<p>thanks</p>\n\n<p>code:</p>\n\n<pre><code>        protected void RadGrid1_ItemDataBound(object sender, Telerik.Web.UI.GridItemEventArgs e)\n    {\n        //Is it a GridDataItem\n        if (e.Item is GridDataItem)\n        {\n            //Get the instance of the right type\n            GridDataItem dataBoundItem = e.Item as GridDataItem;\n\n            //Check the formatting condition\n            if (dataBoundItem[\"sample_hour\"].Text == \"4hr YP\")\n            {\n                SetFormatting(dataBoundItem[\"ph\"], 5.72f, 4.75f);\n                SetFormatting(dataBoundItem[\"brix\"], 17.35f, 22.36f);\n                SetFormatting(dataBoundItem[\"temp\"],89.08f, 90.97f);\n                SetFormatting(dataBoundItem[\"bud\"], 3.12f, 40.76f);\n                SetFormatting(dataBoundItem[\"cell_count\"], 41.24f, 177.70f);\n                SetFormatting(dataBoundItem[\"viability\"], 69.18f, 103.08f);\n                SetFormatting(dataBoundItem[\"dp4\"], 2.55f, 10.89f);\n                SetFormatting(dataBoundItem[\"dp3\"], 1.41f, 6.05f);\n                SetFormatting(dataBoundItem[\"maltose\"], 0.41f, 8.28f);\n                SetFormatting(dataBoundItem[\"glucose\"], -0.26f, 6.69f);\n                SetFormatting(dataBoundItem[\"lactic_acid\"], 0.01f, 0.12f);\n                SetFormatting(dataBoundItem[\"glycerol\"], 0.33f, 0.57f);\n                SetFormatting(dataBoundItem[\"acetic_acid\"], 0.07f, 0.17f);\n                SetFormatting(dataBoundItem[\"ethanol\"], .005f, 1.15f);\n            }\n\n        }\n    }\n    private void SetFormatting(TableCell cell, float minValue, float maxValue)\n    {\n        float value = float.Parse(cell.Text);\n\n        if (value &lt; minValue || value &gt; maxValue)\n        {\n            cell.BackColor = Color.Yellow;\n            cell.ForeColor = Color.Black;\n            cell.Font.Bold = true;\n        }\n    }\n</code></pre>\n\n<p>Entity model class:</p>\n\n<pre><code>    public partial class tbl_ferm_validation\n{\n    public int validation_id { get; set; }\n    public string sample_type { get; set; }\n    public Nullable&lt;decimal&gt; val_hi { get; set; }\n    public Nullable&lt;decimal&gt; val_hihi { get; set; }\n    public Nullable&lt;decimal&gt; val_lo { get; set; }\n    public Nullable&lt;decimal&gt; val_lolo { get; set; }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Sql table: </p>\n\n<pre><code>1   ph  5.7200  NULL    4.7500  NULL\n2   brix    17.3500 NULL    22.3600 NULL\n3   temp    89.0800 NULL    90.9700 NULL\n4   level   94.8100 NULL    88.1000 NULL\n5   bud 3.1200  NULL    40.7600 NULL\n6   cell count  41.2400 NULL    177.7000    NULL\n7   viability   69.1800 NULL    103.0800    NULL\n8   dp4 2.5500  NULL    10.8900 NULL\n9   dp3 1.4100  NULL    6.0500  NULL\n10  maltose 0.4100  NULL    8.2800  NULL\n11  glucose -0.2600 NULL    6.6900  NULL\n12  lactic acid 0.0100  NULL    0.1200  NULL\n13  glycerol    0.3300  NULL    0.5700  NULL\n14  acetic acid 0.0700  NULL    0.1700  NULL\n15  ethanol 0.0050  NULL    1.1500  NULL\n</code></pre>\n"}, {"tags": ["c#", "xml", "xsd"], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 2666487, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1379840201/picture?type=large", "display_name": "Anuj Hari", "link": "https://stackoverflow.com/users/2666487/anuj-hari"}, "edited": false, "score": 1, "creation_date": 1439415349, "post_id": 31975735, "comment_id": 51858295, "body": "Marry me? Nah but seriously, just changing that line of code fixed it. Thank you so much haha"}, {"owner": {"reputation": 511, "user_id": 2666487, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1379840201/picture?type=large", "display_name": "Anuj Hari", "link": "https://stackoverflow.com/users/2666487/anuj-hari"}, "edited": false, "score": 0, "creation_date": 1439415375, "post_id": 31975735, "comment_id": 51858302, "body": "and also well explained, now i know why it was throwing the exception and how count() actually works :)"}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 1, "last_activity_date": 1439415262, "last_edit_date": 1439415262, "creation_date": 1439414911, "answer_id": 31975735, "question_id": 31975635, "link": "https://stackoverflow.com/questions/31975635/working-with-null-elements-in-an-xml/31975735#31975735", "title": "Working with null elements in an xml", "body": "<p>Your problem has nothing to do with XML or your <code>Loan</code> element per se.  You appear to be using the Linq extension method <a href=\"https://msdn.microsoft.com/en-us/library/bb338038.aspx\" rel=\"nofollow\"><code>Enumerable.Count&lt;TSource&gt;(this IEnumerable&lt;TSource&gt; source)</code></a> to count the number of loans.  <a href=\"http://referencesource.microsoft.com/#System.Core/System/Linq/Enumerable.cs,41ef9e39e54d0d0b,references\" rel=\"nofollow\">This method</a> intentionally throws an <code>ArgumentNullException</code> if the input sequence is null.  (I believe <em>all</em> Linq <a href=\"https://msdn.microsoft.com/en-us/library/system.linq.enumerable.aspx\" rel=\"nofollow\">extension methods</a> throw on a null input enumerable.)  To work around this, you could make your own extension method to replace <code>Count()</code>, or just do</p>\n\n<pre><code>int loan_count = (fam.Family[i].Loan == null ? 0 : fam.Family[i].Loan.Count());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5909, "user_id": 3562271, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/5522cf83767d944faddd6b36c1de179f?s=128&d=identicon&r=PG&f=1", "display_name": "PhillipH", "link": "https://stackoverflow.com/users/3562271/philliph"}, "is_accepted": false, "score": 0, "last_activity_date": 1439415250, "creation_date": 1439415250, "answer_id": 31975807, "question_id": 31975635, "link": "https://stackoverflow.com/questions/31975635/working-with-null-elements-in-an-xml/31975807#31975807", "title": "Working with null elements in an xml", "body": "<p>MinOccurs=0 means you have to pass a value. That value might, or might not, allow a Null; depending on that elements nillable setting. It can legitimately be \"MinOccurs=0\" and \"Nillable=false\" which means you don't have to pass a value, but if you do, it cannot be Nil. If you have a Null value, and you need to comply with the XSD, just don't pass the value.</p>\n"}], "owner": {"reputation": 511, "user_id": 2666487, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1379840201/picture?type=large", "display_name": "Anuj Hari", "link": "https://stackoverflow.com/users/2666487/anuj-hari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 31975735, "answer_count": 2, "score": 2, "last_activity_date": 1439415798, "creation_date": 1439414475, "last_edit_date": 1439415798, "question_id": 31975635, "link": "https://stackoverflow.com/questions/31975635/working-with-null-elements-in-an-xml", "title": "Working with null elements in an xml", "body": "<p>I am currently working on a data import application on VS2012 which takes XML data and imports it into a database. I have a set xsd schema which the xml document must match against. </p>\n\n<p>Within my xsd, I defined the <code>&lt;Loan&gt;</code> to have <code>minOccurs=0</code>, which obviously means that the Loan element doesn't have to be set. </p>\n\n<p>Now when I'm working with my dummy data and put no  (and it's other elements inside), it returns to me with an error saying value can not be null. I traced this back to my C# code and found that the line it was failing on was:</p>\n\n<pre><code>int loan_count = fam.Family[i].Loan.Count();\n</code></pre>\n\n<p>Even though I have minOccurs set to 0, the Loan element still doesn't allow null values. </p>\n\n<p>Is there anyway to make sure that when there is no <code>&lt;Loan&gt;</code> element, the code above returns 0, not Null.</p>\n\n<p><strong>FIXED! ANSWER IS THE ACCEPTED ANSWER</strong></p>\n"}, {"tags": ["c#", "string", "token"], "comments": [{"owner": {"reputation": 2741, "user_id": 34863, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e23b63b256e17c4f9f6c077572c2b93d?s=128&d=identicon&r=PG", "display_name": "Jason Hernandez", "link": "https://stackoverflow.com/users/34863/jason-hernandez"}, "edited": false, "score": 0, "creation_date": 1439414630, "post_id": 31975628, "comment_id": 51857966, "body": "did you mean -&gt;However, if a $ is contained in an area between underscores, then a token should be created from the [Previous] occurrence of an underscore to the end (ignoring any underscores in this last section)."}, {"owner": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1439421873, "post_id": 31975628, "comment_id": 51860358, "body": "@IllidanS4 I guess it is <code>between</code>."}, {"owner": {"reputation": 237, "user_id": 4926506, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9079996834722df34abfaca233f0d069?s=128&d=identicon&r=PG&f=1", "display_name": "CBrown77", "link": "https://stackoverflow.com/users/4926506/cbrown77"}, "reply_to_user": {"reputation": 2741, "user_id": 34863, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e23b63b256e17c4f9f6c077572c2b93d?s=128&d=identicon&r=PG", "display_name": "Jason Hernandez", "link": "https://stackoverflow.com/users/34863/jason-hernandez"}, "edited": false, "score": 0, "creation_date": 1439473857, "post_id": 31975628, "comment_id": 51884683, "body": "@JasonHernandez good point! The underscores should only appear after the $ I believe though"}, {"owner": {"reputation": 237, "user_id": 4926506, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9079996834722df34abfaca233f0d069?s=128&d=identicon&r=PG&f=1", "display_name": "CBrown77", "link": "https://stackoverflow.com/users/4926506/cbrown77"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1439473920, "post_id": 31975628, "comment_id": 51884722, "body": "@IllidanS4 between, yes"}], "answers": [{"tags": [], "owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "is_accepted": false, "score": 1, "last_activity_date": 1439416128, "creation_date": 1439416128, "answer_id": 31975985, "question_id": 31975628, "link": "https://stackoverflow.com/questions/31975628/c-more-intuitive-way-to-split-a-string-into-tokens/31975985#31975985", "title": "C# More intuitive way to split a string into tokens?", "body": "<p>This method is not efficient or clean, but it gives you a general idea of how to do this:</p>\n\n<ol>\n<li>Split your string into tokens</li>\n<li>Find the index of the first string to contain $</li>\n<li>Return a new array with the first n tokens and the final token is the remaining strings concatenated.</li>\n</ol>\n\n<p>It's probably more useful to take advantage of IEnumerable or do things over a for loop instead of all this Array.Copy stuff... but you get the gist of it.</p>\n\n<pre><code>private string[] SomeMethod(string arg)\n{\n    var strings = arg.Split(new[] { '_' });\n\n    var indexedValue = strings.Select((v, i) =&gt; new { Value = v, Index = i }).FirstOrDefault(x =&gt; x.Value.Contains(\"$\"));\n\n    if (indexedValue != null)\n    {\n        var count = indexedValue.Index + 1;\n\n        string[] final = new string[count];\n        Array.Copy(strings, 0, final, 0, indexedValue.Index);\n        final[indexedValue.Index] = String.Join(\"_\", strings, indexedValue.Index, strings.Length - indexedValue.Index);\n        return final;\n    }\n\n    return strings;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 237, "user_id": 4926506, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9079996834722df34abfaca233f0d069?s=128&d=identicon&r=PG&f=1", "display_name": "CBrown77", "link": "https://stackoverflow.com/users/4926506/cbrown77"}, "edited": false, "score": 0, "creation_date": 1439476078, "post_id": 31976041, "comment_id": 51886326, "body": "It&#39;s nice to see a non-looping version though! nice"}], "tags": [], "owner": {"reputation": 201, "user_id": 5218447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3a8a31f68dacec6867c0ff5b49fd54?s=128&d=identicon&r=PG&f=1", "display_name": "Dave C", "link": "https://stackoverflow.com/users/5218447/dave-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1439420310, "last_edit_date": 1439420310, "creation_date": 1439416375, "answer_id": 31976041, "question_id": 31975628, "link": "https://stackoverflow.com/questions/31975628/c-more-intuitive-way-to-split-a-string-into-tokens/31976041#31976041", "title": "C# More intuitive way to split a string into tokens?", "body": "<p>Here's my version (loops are <em>so</em> last year...)</p>\n\n<pre><code>const char dollar = '$';\nconst char underscore = '_';\n\nvar item = \"Hello_To_The$Great_World\";\nvar aTokens = new List&lt;string&gt;();\n\nint dollarIndex = item.IndexOf(dollar);\nif (dollarIndex &gt;= 0)\n{\n    int lastUnderscoreIndex = item.LastIndexOf(underscore, dollarIndex);\n    if (lastUnderscoreIndex &gt;= 0)\n    {\n        aTokens.AddRange(item.Substring(0, lastUnderscoreIndex).Split(underscore));\n        aTokens.Add(item.Substring(lastUnderscoreIndex + 1));\n    }\n    else\n    {\n        aTokens.Add(item);\n    }\n}\nelse\n{\n    aTokens.AddRange(item.Split(underscore));\n}\n</code></pre>\n\n<p><strong>Edit:</strong> </p>\n\n<p>I should have added, cleaner/more intuitive is very subjective, as you have found out by the variety of answers provided. From a maintainability point of view, it's much more important that the method you write to do the parsing is unit tested! </p>\n\n<p>It's also an interesting exercise to test the performance of the various methods posted here - it quickly becomes apparent that your original version is much faster than using regular expressions! (Although in a real life situation, it's probably quite unlikely that the performance of this method will make any difference to your application!)</p>\n"}, {"tags": [], "owner": {"reputation": 12181, "user_id": 1803777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kY7IS.jpg?s=128&g=1", "display_name": "Ulugbek Umirov", "link": "https://stackoverflow.com/users/1803777/ulugbek-umirov"}, "is_accepted": true, "score": 2, "last_activity_date": 1439417630, "last_edit_date": 1439417630, "creation_date": 1439417305, "answer_id": 31976238, "question_id": 31975628, "link": "https://stackoverflow.com/questions/31975628/c-more-intuitive-way-to-split-a-string-into-tokens/31976238#31976238", "title": "C# More intuitive way to split a string into tokens?", "body": "<p>You can split string by <code>_</code> not having <code>$</code> before them.</p>\n\n<p>For that you can use the following regex:</p>\n\n<pre><code>(?&lt;!\\$.*)_\n</code></pre>\n\n<p>Sample code:</p>\n\n<pre><code>string input = \"Hello_To_The$Great_World\";\nstring[] output = Regex.Split(input, @\"(?&lt;!\\$.*)_\");\n</code></pre>\n\n<p>You also can do the task without regex and without loops, but with the help of 2 splits:</p>\n\n<pre><code>string input = \"Hello_To_The$Great_World\";\nstring[] temp = input.Split(new[] { '$' }, 2);\nstring[] output = temp[0].Split('_');\nif (temp.Length &gt; 1)\n    output[output.Length - 1] = output[output.Length - 1] + \"$\" + temp[1];\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 4926506, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9079996834722df34abfaca233f0d069?s=128&d=identicon&r=PG&f=1", "display_name": "CBrown77", "link": "https://stackoverflow.com/users/4926506/cbrown77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 31976238, "answer_count": 3, "score": 1, "last_activity_date": 1439420310, "creation_date": 1439414455, "question_id": 31975628, "link": "https://stackoverflow.com/questions/31975628/c-more-intuitive-way-to-split-a-string-into-tokens", "title": "C# More intuitive way to split a string into tokens?", "body": "<p>I have a method which takes in a string, which contains various characters, but I'm only concerned about underscores '_' and dollar signs '$'. I want to split up the string into tokens by underscores as each piece b/w the underscores contains important information. </p>\n\n<p>However, if a $ is contained in an area between underscores, then a token should be created from the last occurrence of an underscore to the end (ignoring any underscores in this last section).</p>\n\n<p><strong>Example</strong></p>\n\n<p>input: Hello_To_The$Great_World</p>\n\n<p>expected tokens: Hello, To, The$Great_World</p>\n\n<p><strong>Question</strong></p>\n\n<p>I have a solution below, but I'm wondering is there a cleaner/more intuitive way of doing this than what I have below?</p>\n\n<pre><code>var aTokens = new List&lt;string&gt;();\nvar aPos = 0;\nfor (var aNum = 0; aNum &lt; item.Length; aNum++)\n{\n    if (aNum == item.Length - 1)\n    {\n        aTokens.Add(item.Substring(aPos, item.Length - aPos));\n        break;\n    }               \n    if (item[aNum] == '$')\n    {\n        aTokens.Add(item.Substring(aPos, item.Length - aPos));\n        break;\n    }\n    if (item[aNum] == '_')\n    {\n    aTokens.Add(item.Substring(aPos, aNum - aPos));\n    aPos = aNum + 1;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "model-view-controller", "architecture"], "answers": [{"tags": [], "owner": {"reputation": 5909, "user_id": 3562271, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/5522cf83767d944faddd6b36c1de179f?s=128&d=identicon&r=PG&f=1", "display_name": "PhillipH", "link": "https://stackoverflow.com/users/3562271/philliph"}, "is_accepted": true, "score": 0, "last_activity_date": 1439415660, "creation_date": 1439415660, "answer_id": 31975892, "question_id": 31975565, "link": "https://stackoverflow.com/questions/31975565/working-with-database-architectural-issue/31975892#31975892", "title": "Working with database &amp; architectural issue", "body": "<p>Ok, taking each item in turn;</p>\n\n<p>1) Its perfectly normal to have the Identity of a user checked through one repository and their permissions to your application stored in another. In fact this is the basic idea behind federated identity. Consider that your might extend your application to allow Identity to be provided by Facebook, but permissions by your own application, and you will see that separating them makes sense.</p>\n\n<p>2) Yes, absolutely. What makes you think that a high volume store like Posts is best served by the same repository that you store a low-change-rate set of data like Permissions in ? One might be in Mongo, the other in Active Directory, with the Identity being OAUTH. You see that since your own the whole application you see these as being unnecessary complexities, whereas they represent good architectural separation.</p>\n\n<p>Identity => not owned by your application. Slow change rate.\nPermissions => owned by your application. Slow change rate.\nPosts => owned by your application. Fast change rage.</p>\n\n<p>Just looking at those three use-cases, it seems that using different repositories would be a good idea since they have such different profiles. If ultimately your repositories all map to a SQL Server (or other) implementation, then so be it; but by separating these architecturally you can use the best possible underlying implementation.</p>\n"}], "owner": {"reputation": 23, "user_id": 5166436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde560169acc45e47eb739dd6265ab1d?s=128&d=identicon&r=PG&f=1", "display_name": "maque", "link": "https://stackoverflow.com/users/5166436/maque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 31975892, "answer_count": 1, "score": 1, "last_activity_date": 1439415660, "creation_date": 1439414195, "question_id": 31975565, "link": "https://stackoverflow.com/questions/31975565/working-with-database-architectural-issue", "title": "Working with database &amp; architectural issue", "body": "<p>I'm developing a web app (not ASP.NET), and I encountered a small architectural problem:</p>\n\n<p>So, i have two classes to work with users.</p>\n\n<pre><code>public class User\n{\n    public int Id { get; set; }\n\n    public string Username { get; set; }\n\n    public string Password { get; set; }\n\n    // Other properties...\n}\n\npublic class Profile\n{\n    public int Id { get; set; }\n\n    public string PhotoUrl { get; set; }\n\n    public string DisplayName { get; set; }\n\n    public string FirstName { get; set; }\n\n    public string LastName { get; set; }\n\n    public List&lt;PostItem&gt; Posts { get; set; }\n}\n</code></pre>\n\n<p>I had to split these classes because there is a feature that allows you to view profile of the certain member, and obviously you don't want to retrieve data from database that contains user's password, name and other private stuff (though it's not displayed in view). So i'm storing this data in different tables: table <em>Users</em> contains personal infomation, while table <em>Profiles</em> contains public one (it can be viewed by anyone).</p>\n\n<p>But at the same time, in order not to break <strong>Single responsibility principle</strong>, i had to implement <em>UserRepository</em> and <em>ProfileRepository</em> classes that does some checking, adding and other stuff.</p>\n\n<p>And here they come:</p>\n\n<ul>\n<li><p>Issue 1: code that handles user registration is turned into real hell now, i have to check if record with specific username exists in the two different tables by instantiating two repositories.</p></li>\n<li><p>Issue 2: Also on the page where you can view public data, there is a need to display latest posts, but here is another problem: i can't store complicated values in one column, so i have to store posts in another table too. It means that i need to implement PostRepository and at the same time property <em>Posts</em> in <em>Profile</em> class is useless (though i need it to display latest posts in view), because in order to retrieve latest posts you need to look through other table inside <em>UserRepository</em>, but it should be handled by <em>PostRepository</em>. For example the same goes for comments.</p></li>\n</ul>\n\n<p>So, this is my <em>small</em> problem. Any advices? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "edited": false, "score": 2, "creation_date": 1439414309, "post_id": 31975548, "comment_id": 51857801, "body": "I would guess you that you have a preview of that image or something else open, that already accesses the file."}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 0, "creation_date": 1439415792, "post_id": 31975548, "comment_id": 51858462, "body": "Are you using <code>Image.FromFile()</code>?..."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1439419304, "post_id": 31975548, "comment_id": 51859658, "body": "Bit of code review:  using the <code>Path.Combine</code> method is safer (more refactor-friendly; less error prone) than string concatenation when building file paths:   <code>String filePath = Path.Combine(sourceFolder, fileName);</code>"}, {"owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "reply_to_user": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "edited": false, "score": 0, "creation_date": 1439470961, "post_id": 31975548, "comment_id": 51882442, "body": "@MichaelSander I also assumed that but I am sure the image is neither open nor accessed by anything else."}, {"owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "edited": false, "score": 0, "creation_date": 1439471096, "post_id": 31975548, "comment_id": 51882556, "body": "@RobinHood if you accessed this file before, e.g. with streams, make sure to call <code>Dispose()</code>. Otherwise the file might still be locked until the garbage collector hooks in. Maybe you can share also some other code accessing this file? This would help identifieing the problem."}, {"owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "reply_to_user": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "edited": false, "score": 0, "creation_date": 1439471577, "post_id": 31975548, "comment_id": 51882946, "body": "@MichaelSander Please see my updated code. I&#39;ve posted my full code."}], "answers": [{"comments": [{"owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "edited": false, "score": 0, "creation_date": 1439472300, "post_id": 31989385, "comment_id": 51883521, "body": "It works now. I am surprised I missed that but lesson learnt. Thank you"}, {"owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "edited": false, "score": 0, "creation_date": 1439473404, "post_id": 31989385, "comment_id": 51884362, "body": "Quick question: How can I get only images from the folder? I tired <code>String[] images = Directory.GetFiles(sourceFolder, &quot;*.png&quot; + &quot;*.jpg&quot; + &quot;*.jpeg&quot; + &quot;*.jfif&quot; + &quot;*.bmp&quot; + &quot;*.tif&quot; + &quot;*.tiff&quot; +  &quot;*.gif&quot;);</code>  and <code>String[] images = Directory.GetFiles(sourceFolder, &quot;*.png; *.jpg; *.jpeg; *.jfif; *.bmp;*.tif; *.tiff; *.gif&quot;);</code> but it returns nothing"}, {"owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "reply_to_user": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "edited": false, "score": 0, "creation_date": 1439473518, "post_id": 31989385, "comment_id": 51884444, "body": "<a href=\"http://stackoverflow.com/questions/7039580/multiple-file-extensions-searchpattern-for-system-io-directory-getfiles\">see this</a>"}], "tags": [], "owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "is_accepted": true, "score": 2, "last_activity_date": 1439471814, "creation_date": 1439471814, "answer_id": 31989385, "question_id": 31975548, "link": "https://stackoverflow.com/questions/31975548/the-process-cannot-access-the-file-because-it-is-being-used-by-another-process-e/31989385#31989385", "title": "The process cannot access the file because it is being used by another process error while moving image", "body": "<p>This looks like a missing dispose on the image, try with the following:</p>\n\n<pre><code>private DateTime GetDateTakenFromImage(string path)\n{\n    using (Image myImage = Image.FromFile(path))\n    {\n        PropertyItem propItem = myImage.GetPropertyItem(36867);\n        string dateTaken = new Regex(\":\").Replace(Encoding.UTF8.GetString(propItem.Value), \"-\", 2);\n        return DateTime.Parse(dateTaken);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 31989385, "answer_count": 1, "score": 0, "last_activity_date": 1439471814, "creation_date": 1439414140, "last_edit_date": 1439471546, "question_id": 31975548, "link": "https://stackoverflow.com/questions/31975548/the-process-cannot-access-the-file-because-it-is-being-used-by-another-process-e", "title": "The process cannot access the file because it is being used by another process error while moving image", "body": "<p>I've a folder named <code>testPhotos</code> with some images. Based on the image creation date, I want to create a new folder by image creation year and then move the image to that folder.</p>\n\n<p>For example, <code>testPhotos</code> has image named <code>01.jpg</code> which was created on 2011. So I want to create a folder named <code>2011</code> inside <code>testPhotos</code> like <code>testPhotos\\2011</code> and move image to that folder. While doing this I am getting <code>The process cannot access the file because it is being used by another process. error while moving image from one folder to another.</code></p>\n\n<p>Code:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    var creationDate = new DateTime();\n    var dateList = new List&lt;String&gt;();\n    var fileName = String.Empty;\n    var sourceFolder = @\"C:\\My Stuff\\Test Porjects\\testPhotos\";\n\n    String[] images = Directory.GetFiles(sourceFolder);\n\n    if (images.Count() &gt; 0)\n    {\n        foreach (var imagePath in images)\n        {\n            fileName = Path.GetFileName(imagePath);\n            creationDate = GetDateTakenFromImage(imagePath);\n            var date = creationDate.GetDateTimeFormats()[5].Replace(\"-\", \"/\");\n\n            if (!String.IsNullOrEmpty(date))\n            {\n                var year = date.Substring(0, 4);\n                var destinationFolder = sourceFolder + \"\\\\\" + year;\n\n                if (!Directory.Exists(destinationFolder))\n                {\n                    Directory.CreateDirectory(destinationFolder);\n\n                    String fileToMove = sourceFolder+ \"\\\\\" + fileName;\n                    String moveTo = destinationFolder + \"\\\\\" + fileName;\n\n                    File.Move(fileToMove, moveTo);\n\n                }\n            }\n        }\n    }\n}\n\nprivate DateTime GetDateTakenFromImage(string path)\n{\n    Image myImage = Image.FromFile(path);\n    PropertyItem propItem = myImage.GetPropertyItem(36867);\n    string dateTaken = new Regex(\":\").Replace(Encoding.UTF8.GetString(propItem.Value), \"-\", 2);\n    return DateTime.Parse(dateTaken);\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eVcx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVcx4.png\" alt=\"Screenshot of error\"></a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "string", "winforms"], "comments": [{"owner": {"reputation": 232, "user_id": 1309368, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HNAaV.jpg?s=128&g=1", "display_name": "Taylor Swift", "link": "https://stackoverflow.com/users/1309368/taylor-swift"}, "edited": false, "score": 2, "creation_date": 1439414180, "post_id": 31975531, "comment_id": 51857737, "body": "Set <code>getFileName</code> outside the <code>switch</code>. <code>string getFileName = &quot;&quot;;</code>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 4, "creation_date": 1439414183, "post_id": 31975531, "comment_id": 51857739, "body": "Well you can declare it outside the switch block - but you&#39;ll need to give it some value to use for when you <i>don&#39;t</i> match that case."}, {"owner": {"reputation": 220, "user_id": 2422690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc55e516cefcb6741101f0a00d9b234d?s=128&d=identicon&r=PG", "display_name": "user2422690", "link": "https://stackoverflow.com/users/2422690/user2422690"}, "edited": false, "score": 0, "creation_date": 1439415277, "post_id": 31975531, "comment_id": 51858262, "body": "Thanks for the idea, but  <code>private void button1_Click(object sender, EventArgs e) { try { Process.Start(getFileName); } catch { &#47;&#47;... } }</code>  get an empty value, or so. I build a switch, the user can choose the exe file and the value from the exe will stored in the <i>getFileName</i> but I need the value in a other block."}, {"owner": {"reputation": 220, "user_id": 2422690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc55e516cefcb6741101f0a00d9b234d?s=128&d=identicon&r=PG", "display_name": "user2422690", "link": "https://stackoverflow.com/users/2422690/user2422690"}, "edited": false, "score": 0, "creation_date": 1439416905, "post_id": 31975531, "comment_id": 51858858, "body": "Edit: it seems to work, the string is complete outside from blocks, it was my mistake."}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 5045691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02908cf49b689b00aad13b0590411aff?s=128&d=identicon&r=PG", "display_name": "EJD", "link": "https://stackoverflow.com/users/5045691/ejd"}, "is_accepted": false, "score": 0, "last_activity_date": 1439435657, "creation_date": 1439435657, "answer_id": 31978911, "question_id": 31975531, "link": "https://stackoverflow.com/questions/31975531/using-a-value-from-string-in-the-same-form-which-is-in-a-switch-block/31978911#31978911", "title": "Using a value from string in the same form which is in a switch block", "body": "<p>Declare the variable outside of both the functions so it can be accessed by either function.</p>\n\n<pre><code>private string getFileName = '';\n\nprotected override void SomeFunction(){\n    switch (ofd.ShowDialog())\n    {\n        case DialogResult.OK:\n             getFileName = Path.GetFullPath(ofd.FileName);\n             labelStatus.Text += getFileName;\n             break;\n    }\n}\n\nprivate void button1_Click(object sender, EventArgs e) { \ntry { \n     Process.Start(getFileName); \n    } catch { //... } \n}\n</code></pre>\n\n<p>I suggest you search YouTube for c#.net variable scope to better understand when an where a variable can be accessed :)</p>\n"}], "owner": {"reputation": 220, "user_id": 2422690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc55e516cefcb6741101f0a00d9b234d?s=128&d=identicon&r=PG", "display_name": "user2422690", "link": "https://stackoverflow.com/users/2422690/user2422690"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1439435657, "creation_date": 1439414073, "last_edit_date": 1439414204, "question_id": 31975531, "link": "https://stackoverflow.com/questions/31975531/using-a-value-from-string-in-the-same-form-which-is-in-a-switch-block", "title": "Using a value from string in the same form which is in a switch block", "body": "<p>sorry for the possibly simple question, but I could not find a solution.</p>\n\n<p>I have e.G. a string in a switch, I would like to use the string with its value in a other block, but I get following message \"The name 'getFileName' does not exist in the current context\".</p>\n\n<p>Here's the code:</p>\n\n<pre><code>switch (ofd.ShowDialog())\n{\ncase DialogResult.OK:\nstring getFileName = Path.GetFullPath(ofd.FileName);\nlabelStatus.Text += getFileName;\nbreak;\n}\n</code></pre>\n\n<p>How can I use the string <em>getFileName</em> in a other block with its value (in the same form in different blocks or similar)?</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e) { try { Process.Start(getFileName); } catch { //... } }\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", "xamarin", "custom-controls"], "comments": [{"owner": {"reputation": 335, "user_id": 5183928, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c4dc952cbe6dbdf98b7da05c06f19caf?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5183928/mike"}, "edited": false, "score": 0, "creation_date": 1440001716, "post_id": 31975441, "comment_id": 52096224, "body": "If you minimize the application or move it off screen, and then bring it back does the drawing work?"}, {"owner": {"reputation": 33220, "user_id": 2023316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YF7Rj.png?s=128&g=1", "display_name": "Wosi", "link": "https://stackoverflow.com/users/2023316/wosi"}, "edited": false, "score": 0, "creation_date": 1440005779, "post_id": 31975441, "comment_id": 52098541, "body": "On which platform are you testing?"}, {"owner": {"reputation": 2515, "user_id": 3858689, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c24067910960e39dab4d8364b81a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "KidCode", "link": "https://stackoverflow.com/users/3858689/kidcode"}, "edited": false, "score": 0, "creation_date": 1440006099, "post_id": 31975441, "comment_id": 52098717, "body": "Testing on Andorid using Xamarin Player (Nexus 4) - Using the menu button to select a new app and then coming back to the app does not fix it either."}], "answers": [{"comments": [{"owner": {"reputation": 2515, "user_id": 3858689, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c24067910960e39dab4d8364b81a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "KidCode", "link": "https://stackoverflow.com/users/3858689/kidcode"}, "edited": false, "score": 1, "creation_date": 1440256167, "post_id": 32132413, "comment_id": 52203203, "body": "Number one did the trick. I read through that documentation so many times I have no idea how I missed it."}], "tags": [], "owner": {"reputation": 2529, "user_id": 1117968, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/378e5ff3a1d36f3ecc88f2656d607461?s=128&d=identicon&r=PG", "display_name": "der_michael", "link": "https://stackoverflow.com/users/1117968/der-michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1440131740, "creation_date": 1440131740, "answer_id": 32132413, "question_id": 31975441, "link": "https://stackoverflow.com/questions/31975441/ncontrol-draw-method-not-firing/32132413#32132413", "title": "NControl draw method not firing", "body": "<ol>\n<li>Make sure you call <code>NControlViewRenderer.Init()</code> after <code>Forms.Init()</code></li>\n<li>In <code>public override void Draw(NGraphics.ICanvas canvas, NGraphics.Rect rect)</code> you do not necessarily need to call <code>base.Draw()</code></li>\n<li>Try calling <code>CustomGrid.Invalidate()</code>, that should force a redraw</li>\n<li>Make sure your control is actually on screen, within the view port and has a size bigger then 0,0, you could give it a pink background and see if that shows up anywhere...</li>\n<li>Why do you say <em>it seems great so far.</em> when it clearly doesn't? Like, what part is actually working then?</li>\n<li>Set a break point in your subclass' ctor and see if it actually gets instantiated...</li>\n</ol>\n\n<p>Did any of these help?</p>\n"}], "owner": {"reputation": 2515, "user_id": 3858689, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c24067910960e39dab4d8364b81a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "KidCode", "link": "https://stackoverflow.com/users/3858689/kidcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 32132413, "answer_count": 1, "score": 4, "last_activity_date": 1440131740, "creation_date": 1439413714, "question_id": 31975441, "link": "https://stackoverflow.com/questions/31975441/ncontrol-draw-method-not-firing", "title": "NControl draw method not firing", "body": "<p>I've recently discovered the NGraphics &amp; NControl libraries available to use along side Xamarin.Forms, and it seems great so far.</p>\n\n<p>The problem I'm having is that the draw method never gets called, and I'm not too sure where I'm going wrong. My code is below (I've stripped out all the unnecessary bits), any help is greatly appreciated!</p>\n\n<pre><code>public class CustomGrid : NControlView\n    {\n        public CustomGrid ()\n        {\n            base.Invalidate (); //Invalidating the control doesn't redraw the control\n            Content = new Label {BackgroundColor = Xamarin.Forms.Color.Transparent};\n            BackgroundColor = Xamarin.Forms.Color.Blue;\n        }\n\n\n        public override void Draw (NGraphics.ICanvas canvas, NGraphics.Rect rect)\n        {\n            base.Draw(canvas, rect);\n            //foreach column draw the grid line on the right\n            foreach (CustomColumn c in ColumnCollection) \n            {\n                canvas.DrawLine (c.CoOrds.startX,c.CoOrds.startY, c.CoOrds.EndX, c.CoOrds.EndY,Colors.White);\n            }\n\n            //for each row draw the bottom grid line\n            foreach (CustomRow r in RowCollection) \n            {\n                canvas.DrawLine (r.CoOrds.startX,r.CoOrds.startY, r.CoOrds.EndX, r.CoOrds.EndY,Colors.White);\n            }\n        }\n\n        public List&lt;CustomColumn&gt; ColumnCollection { get; set; }\n        public List&lt;CustomRow&gt; RowCollection { get; set; }\n\n\n    }\n</code></pre>\n\n<p>Just to ensure I wasn't going crazy, I copied and pasted the example found on the <a href=\"https://github.com/chrfalch/NControl/blob/master/NControlDemo/NControlDemo.FormsApp/Controls/RoundedBorderControl.cs\" rel=\"nofollow\">NControl GitHub Repo</a> and that doesn't seem to work either.</p>\n\n<p>Thank You in advance!</p>\n"}, {"tags": ["c#", "entity-framework", "visual-studio-2013", "dbcontext"], "comments": [{"owner": {"reputation": 2890, "user_id": 957902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3527a7863d1fc70114454fa6219c98?s=128&d=identicon&r=PG", "display_name": "user957902", "link": "https://stackoverflow.com/users/957902/user957902"}, "edited": false, "score": 2, "creation_date": 1439413152, "post_id": 31975263, "comment_id": 51857231, "body": "Are you disposing your context object once you are finished using it ?"}, {"owner": {"reputation": 1519, "user_id": 2921935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lckNg.jpg?s=128&g=1", "display_name": "BrianLegg", "link": "https://stackoverflow.com/users/2921935/brianlegg"}, "reply_to_user": {"reputation": 2890, "user_id": 957902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3527a7863d1fc70114454fa6219c98?s=128&d=identicon&r=PG", "display_name": "user957902", "link": "https://stackoverflow.com/users/957902/user957902"}, "edited": false, "score": 0, "creation_date": 1439413300, "post_id": 31975263, "comment_id": 51857314, "body": "most likely I am not, my context is initialized once in the constructor of my repository and my repository is a singleton which lives for the duration of the application. I don&#39;t know where to catch the application stopping so I can dispose of the context."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439413379, "post_id": 31975263, "comment_id": 51857350, "body": "<code>AppDomain.DomainUnload</code> or <code>AppDomain.ProcessExit</code> are two events you can catch to do things when your application is terminating. EDIT: Sorry, DomainUnload is not called in the default domain..."}, {"owner": {"reputation": 2890, "user_id": 957902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3527a7863d1fc70114454fa6219c98?s=128&d=identicon&r=PG", "display_name": "user957902", "link": "https://stackoverflow.com/users/957902/user957902"}, "edited": false, "score": 0, "creation_date": 1439413821, "post_id": 31975263, "comment_id": 51857575, "body": "Can you post some code fragments of how you are creating and using the context in your repository ?"}, {"owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "edited": false, "score": 0, "creation_date": 1439543688, "post_id": 31975263, "comment_id": 51915312, "body": "If you close an application and restart it every object is disposed (also with ASP/MVC but in this case stopping an application is a little bit different). EF is subjected to the same rule. Don&#39;t know what is exactly your problem (could be that you are connecting to 2 different database that happens quite often because EF creates and drop databases without saying anything) but for sure if you stop an application every object is disposed."}, {"owner": {"reputation": 1519, "user_id": 2921935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lckNg.jpg?s=128&g=1", "display_name": "BrianLegg", "link": "https://stackoverflow.com/users/2921935/brianlegg"}, "edited": false, "score": 0, "creation_date": 1439560481, "post_id": 31975263, "comment_id": 51925894, "body": "Thanks bubi, that&#39;s what I thought as well. But my application has been stopped for over 24 hours now and when I start it it is still showing stale data. I&#39;m positive I&#39;m pointing to the correct database and there are no issues with that. If I debug it it will realize the data is stale and it will be refreshed, but it will remain stale until I debug."}], "owner": {"reputation": 1519, "user_id": 2921935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lckNg.jpg?s=128&g=1", "display_name": "BrianLegg", "link": "https://stackoverflow.com/users/2921935/brianlegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439413021, "creation_date": 1439413021, "question_id": 31975263, "link": "https://stackoverflow.com/questions/31975263/how-to-get-entity-framework-dbcontext-to-refresh-after-visual-studio-restart", "title": "How to get Entity Framework dbContext to refresh after Visual Studio restart?", "body": "<p>I can't figure out how to get my DbContext to refresh or re-query the database, even after restarting Visual Studio.</p>\n\n<p>I'm using EF 6.0 database first approach. This means I have an edmx file with a class inheriting from DbContext (MyContext in my case). I instantiate it like any other class - <code>_myContext = new MyContext();</code></p>\n\n<p>The problem is that if I modify data in the database while the program is running the context is never refreshed so it holds on to the stale data. No problem... just stop the program from running and start it up again. Nope, the stale data is still there. After about an hour of stopping and restarting Visual Studio and much debugging it finally realizes the data is stale and refreshes.</p>\n\n<p>My question is 1) how is this possible considering I stopped the program from running? and 2) how can I make sure that every time the application starts it grabs a fresh set of data?</p>\n"}, {"tags": ["c#", "speech-synthesis"], "comments": [{"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 1, "creation_date": 1439413058, "post_id": 31975202, "comment_id": 51857177, "body": "What made you think that <code>Dispose()</code> would reset the object to its initial state?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1439413108, "post_id": 31975202, "comment_id": 51857207, "body": "Dispose basically says &quot;I&#39;m done with this, get rid of it&quot;... You can&#39;t say &quot;no, I want it back&quot; after that. The easiest thing to do would be to assign reader to a new instance, <code>reader = new ...</code> which will set it to an initial state again."}, {"owner": {"reputation": 10677, "user_id": 122195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65228e5118999b6712f54a7076e15776?s=128&d=identicon&r=PG", "display_name": "thepirat000", "link": "https://stackoverflow.com/users/122195/thepirat000"}, "edited": false, "score": 0, "creation_date": 1439414288, "post_id": 31975202, "comment_id": 51857792, "body": "Remove the <code>.Dispose()</code>"}, {"owner": {"reputation": 151, "user_id": 4509678, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PZYjB.jpg?s=128&g=1", "display_name": "manicdrummer", "link": "https://stackoverflow.com/users/4509678/manicdrummer"}, "edited": false, "score": 0, "creation_date": 1439416420, "post_id": 31975202, "comment_id": 51858675, "body": "Thanks for your responses. Ron, the problem with creating a new instance is that I won&#39;t be able to access it from outside the procedure in which I&#39;m trying to stop it from playing. That&#39;s why I created the global instance &quot;SpeechSynthesizer reader = new SpeechSynthesizer();&quot; This seems to be the only way I can control the speech synth&#39;s behavior from anywhere in the app. I know globals aren&#39;t necessarily the smartest approach, but I can&#39;t find a way to write the code for my needs."}], "owner": {"reputation": 151, "user_id": 4509678, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PZYjB.jpg?s=128&g=1", "display_name": "manicdrummer", "link": "https://stackoverflow.com/users/4509678/manicdrummer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 669, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439413491, "creation_date": 1439412828, "last_edit_date": 1439413491, "question_id": 31975202, "link": "https://stackoverflow.com/questions/31975202/how-do-i-get-microsoft-speech-engine-to-stop-instead-of-pause-without-crashing", "title": "How Do I Get Microsoft Speech Engine To Stop Instead Of Pause Without Crashing?", "body": "<p>I'm working on a text to speech app using the Microsoft Speech Engine and SAPI voices and for the most part, it's working the way it should. </p>\n\n<p>First, here's my using statements:</p>\n\n<pre><code>using System;\nusing System.Globalization;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Speech.Synthesis;\n</code></pre>\n\n<p>OK, so I type some text into a text box, click the Play/Pause button and it reads the text aloud. The Play/Pause button seems to be working just fine. </p>\n\n<p>Here's the code for the Play/Pause button:</p>\n\n<pre><code>    private void btnPlayPause_Click(object sender, EventArgs e)\n    {\n        if (btnPlayPause.Text == \"Pause\")\n        {\n            reader.Pause();\n            btnPlayPause.Text = \"Play\";\n        }\n        else if (btnPlayPause.Text == \"Play\")\n        {\n            if (txtTextToSpeak.Text == \"\")\n                MessageBox.Show(\"Please type some text.\", \"OOPS!\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n            else\n            {\n                if (reader.State == SynthesizerState.Paused)\n                    reader.Resume();\n                else\n                {\n                    reader.SelectVoice(cmbxVoices.Text);\n                    reader.SpeakAsync(txtTextToSpeak.Text);\n                    btnPlayPause.Text = \"Pause\";\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>And here's the code for the Stop button's click event:</p>\n\n<pre><code>    private void btnStop_Click(object sender, EventArgs e)\n    {\n        reader.Pause();\n        reader.Dispose();\n        btnPlayPause.Text = \"Play\";\n        glbstrText2BSpoken = \"\";\n    }\n</code></pre>\n\n<p>Here's the problem: When I click the Stop button, I want the reader to reset itself so that the next time I click the Play button, it reads the text from the beginning. I tried reader.Dispose();\" in the Stop button's event handler, but the app crashes with the error \"Cannot access a disposed object.\" This occurs when I click the Stop button and then click the Play button.</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439414398, "post_id": 31975347, "comment_id": 51857860, "body": "Thanks for your help. It&#39;s working, except, the second <code>ComboBox</code> shows items relating to the previous selected value. Example: apple is selected in <code>Combo1</code> and nothing shows in <code>Combo2</code>, when pineapple is selected in <code>Combo1</code>, <code>Combo2</code> then shows &#39;Green, Red etc&#39; (items relating to the first selected value). I&#39;ve debugged and the SelectionChanged runs using the previous selected value from the <code>ComboBox</code> not the latest value. Any suggestions?"}, {"owner": {"reputation": 592, "user_id": 5193205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y3CPD.jpg?s=128&g=1", "display_name": "Nejdi Kroi", "link": "https://stackoverflow.com/users/5193205/nejdi-kroi"}, "reply_to_user": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439414858, "post_id": 31975347, "comment_id": 51858075, "body": "Can you update your code so I can see what is happening?"}, {"owner": {"reputation": 592, "user_id": 5193205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y3CPD.jpg?s=128&g=1", "display_name": "Nejdi Kroi", "link": "https://stackoverflow.com/users/5193205/nejdi-kroi"}, "reply_to_user": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439415483, "post_id": 31975347, "comment_id": 51858347, "body": "Try adding this to the begining of the <code>event e.Handled = true;</code>"}, {"owner": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439415845, "post_id": 31975347, "comment_id": 51858480, "body": "updated the question with the code in the <code>SelectionChanged</code> event. Added <code>e.Handled = true;</code> and it still didn&#39;t work. Thanks for your help, I appreciate it."}, {"owner": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439416050, "post_id": 31975347, "comment_id": 51858552, "body": "I guess it errors when I use <code>.SelectedItem</code> because I&#39;m declaring it as <code>(string)</code> when my <code>ComboBox</code> is populated from class properties? When I use the class type in the brackets though it fails to compile."}, {"owner": {"reputation": 592, "user_id": 5193205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y3CPD.jpg?s=128&g=1", "display_name": "Nejdi Kroi", "link": "https://stackoverflow.com/users/5193205/nejdi-kroi"}, "reply_to_user": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439416183, "post_id": 31975347, "comment_id": 51858594, "body": "Yes you can try this <code>var selection = ComboBox1.SelectedItem;</code>"}, {"owner": {"reputation": 592, "user_id": 5193205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y3CPD.jpg?s=128&g=1", "display_name": "Nejdi Kroi", "link": "https://stackoverflow.com/users/5193205/nejdi-kroi"}, "reply_to_user": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "edited": false, "score": 0, "creation_date": 1439416214, "post_id": 31975347, "comment_id": 51858606, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/86837/discussion-between-nejdi-and-lturner\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 592, "user_id": 5193205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y3CPD.jpg?s=128&g=1", "display_name": "Nejdi Kroi", "link": "https://stackoverflow.com/users/5193205/nejdi-kroi"}, "is_accepted": true, "score": 1, "last_activity_date": 1439414035, "last_edit_date": 1439414035, "creation_date": 1439413364, "answer_id": 31975347, "question_id": 31975176, "link": "https://stackoverflow.com/questions/31975176/combobox2-items-populate-when-combobox1-has-value/31975347#31975347", "title": "ComboBox2 items populate when ComboBox1 has value", "body": "<p>The right event is SelectionChanged.\n       <code>&lt;ComboBox  x:Name=\"combobox1\" SelectionChanged=\"comobox1_SelectionChanged\"/&gt;</code></p>\n\n<p>You can get the selected value in the event like this\n         <code>string value = (string)combobox1.SelectedItem</code>;</p>\n"}], "owner": {"reputation": 2765, "user_id": 4646304, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cb7e0e8a97f18e0cc2ddfb28552ff6d5?s=128&d=identicon&r=PG&f=1", "display_name": "luke_t", "link": "https://stackoverflow.com/users/4646304/luke-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 31975347, "answer_count": 1, "score": 0, "last_activity_date": 1439415768, "creation_date": 1439412731, "last_edit_date": 1439415768, "question_id": 31975176, "link": "https://stackoverflow.com/questions/31975176/combobox2-items-populate-when-combobox1-has-value", "title": "ComboBox2 items populate when ComboBox1 has value", "body": "<p>I am using WPF. I have a LINQ query which populates <code>ComboBox1</code>. The value selected from <code>ComboBox1</code> should then be used in the where clause of a LINQ query which I want to populate <code>ComboBox2</code>.</p>\n\n<p>Is there an event trigger so that when a value has been selected in <code>ComboBox1</code>, <code>ComboBox2</code> will populate with LINQ query results? I've written the LINQ query, but not too sure how to make it run on the event.</p>\n\n<p>This is what I want to run after <code>ComboBox1</code> value has been selected</p>\n\n<pre><code>private void ComboBox2_Loaded(object sender, RoutedEventArgs e)\n{\n    string comboName = ComboBox1.Text;\n    int recipId = RecipID(comboName);\n    ComboBox2.ItemsSource = MainWindow.qryGiftList(recipId);\n    ComboBox2.DisplayMemberPath = \"cGift\";\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>private void ComboBox1_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n    if (_comboSelection.cItem == \"Gift\")\n    {\n        string comboName = ComboBox1.Text;\n        int recipId = RecipID(comboName);\n        ComboBox2.ItemsSource = MainWindow.qryGiftList(recipId);\n        ComboBox2.DisplayMemberPath = \"cGift\";\n    }\n}\n</code></pre>\n\n<p>I also tried instead of using <code>string ComboName = ComboBox1.Text;</code> to use <code>string ComboName = (string)ComboBox1.SelectedItem</code> but this results in a debug of:</p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.InvalidCastException' occurred in myMemory.exe\n   Additional Information: Unable to cast object of type 'myMemory.Name' to type 'System.string'.</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "html-helper"], "comments": [{"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 1, "creation_date": 1439412744, "post_id": 31975152, "comment_id": 51856990, "body": "Run it and find out? This creates a <code>&lt;select id=&quot;Type_Id&quot; name=&quot;Type_Id&quot;&gt;</code> with options based on the <code>listaRoles</code> collection. Most of the HTML helpers are fairly self-explanatory, but <a href=\"http://www.dotnet-tricks.com/Tutorial/mvc/N50P050314-Understanding-HTML-Helpers-in-ASP.NET-MVC.html\" rel=\"nofollow noreferrer\">here&#39;s once reference</a> with a few examples."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4481752, "user_type": "registered", "profile_image": "https://graph.facebook.com/843187431/picture?type=large", "display_name": "Waleed Kasem", "link": "https://stackoverflow.com/users/4481752/waleed-kasem"}, "is_accepted": true, "score": 1, "last_activity_date": 1439413318, "creation_date": 1439413318, "answer_id": 31975334, "question_id": 31975152, "link": "https://stackoverflow.com/questions/31975152/c-asp-net-mvc-what-is-the-html-definitions-for-htmlhelpers/31975334#31975334", "title": "c# ASP.NET MVC What is the HTML definitions for HtmlHelpers", "body": "<p>A good reference for html <a href=\"http://stephenwalther.com/archive/2009/03/03/chapter-6-understanding-html-helpers\" rel=\"nofollow\">http://stephenwalther.com/archive/2009/03/03/chapter-6-understanding-html-helpers</a></p>\n\n<ul>\n<li>Action</li>\n<li>ActionLink</li>\n<li>Url content</li>\n<li>RenderAction</li>\n<li>RenderPartial</li>\n</ul>\n"}], "owner": {"reputation": 279, "user_id": 5121217, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1002775696413818/picture?type=large", "display_name": "Tiago Neto", "link": "https://stackoverflow.com/users/5121217/tiago-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1439806605, "accepted_answer_id": 31975334, "answer_count": 1, "score": -1, "last_activity_date": 1439413318, "creation_date": 1439412644, "question_id": 31975152, "link": "https://stackoverflow.com/questions/31975152/c-asp-net-mvc-what-is-the-html-definitions-for-htmlhelpers", "closed_reason": "Not suitable for this site", "title": "c# ASP.NET MVC What is the HTML definitions for HtmlHelpers", "body": "<p>Can anybody tell me what is the HTML 'translation' for this HTML Helper?</p>\n\n<pre><code>@Html.DropDownList(\"Type_Id\", new SelectList(listaRoles, \"Role_Name\"))&lt;br /&gt;\n</code></pre>\n\n<p>Do you now any website or reference where I can find the HTML definitions for any others HTML Helpers?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio-2010"], "comments": [{"owner": {"reputation": 111, "user_id": 935928, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9debfd35c4d60dbf22009df4546dc35?s=128&d=identicon&r=PG", "display_name": "Steve Hunt", "link": "https://stackoverflow.com/users/935928/steve-hunt"}, "edited": false, "score": 0, "creation_date": 1439412919, "post_id": 31975052, "comment_id": 51857098, "body": "Out of curiosity I deleted the out of date dll&#39;s in the root of the bin folder and when I built again it did generate new ones but now I get an error &quot;Could not load type x.MvcApplication&quot;.   Note that the build output folder set for  this project is Bin\\Release\\"}, {"owner": {"reputation": 335, "user_id": 5183928, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c4dc952cbe6dbdf98b7da05c06f19caf?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5183928/mike"}, "edited": false, "score": 0, "creation_date": 1439427782, "post_id": 31975052, "comment_id": 51861707, "body": "Sometimes you just need to open the .csproj file directly and compare the non-working project to a working one. Could also be in the .sln file."}], "owner": {"reputation": 111, "user_id": 935928, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9debfd35c4d60dbf22009df4546dc35?s=128&d=identicon&r=PG", "display_name": "Steve Hunt", "link": "https://stackoverflow.com/users/935928/steve-hunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439412312, "creation_date": 1439412312, "question_id": 31975052, "link": "https://stackoverflow.com/questions/31975052/changes-to-controller-missing-when-run", "title": "Changes to Controller missing when run", "body": "<p>I have an ASP.NET MVC 4.0 project (under VS2010) which has been working fine for a long time .   Today I added a line to a controller and placed a breakpoint on it.   When I started it in debug mode the breakpoint symbol hollowed out (hovering over it gives the \"source code is different from the original version\" message). I then discovered that I got the same problem if I put a breakpoint anywhere in the file. However,if I removed the new line and then compiled and ran again the breakpoints worked fine.  I also verified that the same problem exists in other controller files within this project but not in any of the class library projects that are included.</p>\n\n<p>Doing a little experimentation I discovered that any change I make to any of the controllers in this project no longer appears to published to the dll. For example, I changed the text of a model variable and when I run it, it shows the previous text which would explain the hollow breakpoint symptom. </p>\n\n<p>I verified that the project's dll and pdb files are being updated (I delete them and when I run in debug mode again, new files are created.   I have tried the usual solutions: removing and re-adding the project, deleting the obj files, switching the configuration between debug and release,deleting the  dev server instances,etc. I also tried deleting the whole temporary asp.net folder to no avail.</p>\n\n<p>I did notice something that seems odd.  In the bin folder there are three copies of the project's dll, one under debug, one under release and one under the root of the bin folder. The dlls in the debug and release folder show today's date but the one in the root of the bin shows yesterday. Curiously, all of the other dll's in the root of the bin folder which are compiled in the solution show today.</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "inotifypropertychanged"], "comments": [{"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 2, "creation_date": 1439412856, "post_id": 31975040, "comment_id": 51857058, "body": "DepedencyProperties don&#39;t belong in ViewModels."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439412879, "post_id": 31975040, "comment_id": 51857078, "body": "That said, <code>Point</code> is a <code>struct</code>. You can&#39;t just change its values and expect anything. Replace the entire <code>Point</code> for a new <code>Point</code>."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1439413128, "post_id": 31975040, "comment_id": 51857218, "body": "@dotNET You should not use dependency properties in view models. There is no reason to do that. Implement INotifyPropertyChanged instead."}, {"owner": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1439413360, "post_id": 31975040, "comment_id": 51857343, "body": "@Clemens: Hmm... Actually I&#39;m not using <code>DependencyProperty</code> in my VM. Those are just normal properties, with a MVVM Light&#39;s <code>ObservableObject</code> and <code>RaisePropertyChanged</code> setup. But the problem at hand still remains unsolved; my normal property is of type <code>Point</code> and I have no way of knowing if someone has assigned a value to a member of <code>Point</code> structure."}], "answers": [{"comments": [{"owner": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "edited": false, "score": 0, "creation_date": 1439413076, "post_id": 31975255, "comment_id": 51857191, "body": "<i>You&#39;ll have to raise PropertyChanged yourself on the Location property each time you modify any properties of Location.</i> How do I do that? Means what in the world tells me if a property inside the Point structure has changed (unless I implement my own <code>Point</code> of course)?"}, {"owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "reply_to_user": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "edited": false, "score": 0, "creation_date": 1439414524, "post_id": 31975255, "comment_id": 51857920, "body": "@dotNET It means you either write your own implementation of the class that does track changes, or you manually go through your code base and find everywhere the property is modified and add code to handle raising the property changed event.  Hopefully it&#39;s clear which method is preferred."}], "tags": [], "owner": {"reputation": 2537, "user_id": 1775528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b1e8208487331ce2ca04bd0024951f3?s=128&d=identicon&r=PG", "display_name": "Tyler Lee", "link": "https://stackoverflow.com/users/1775528/tyler-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1439412979, "creation_date": 1439412979, "answer_id": 31975255, "question_id": 31975040, "link": "https://stackoverflow.com/questions/31975040/property-change-notification-when-property-members-change/31975255#31975255", "title": "Property change notification when property members change", "body": "<p>In MVVM land, your ViewModel is responsible for notifying the View when properties change. The majority of the .NET classes do not implement <code>INotifyPropertyChanged</code> themselves, so you won't get automatic wiring when using them. You'll have to raise <code>PropertyChanged</code> yourself on the <code>Location</code> property each time you modify any properties of <code>Location</code></p>\n\n<p>Alternatively, you could implement your own <code>Point</code> object that implements <code>INotifyPropertyChanged</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1439419177, "creation_date": 1439419177, "answer_id": 31976611, "question_id": 31975040, "link": "https://stackoverflow.com/questions/31975040/property-change-notification-when-property-members-change/31976611#31976611", "title": "Property change notification when property members change", "body": "<p>You can add INotifyPropertyChanged to your class members automatically using either Castle Dynamic Proxy (which wraps your models in a proxy at runtime) or PropertyChanged.Fody (which modifies the model's IL at compile time). Google is your friend.</p>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 1495067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919c92af54e281830a860719d22aebf8?s=128&d=identicon&r=PG", "display_name": "Colin Grealy", "link": "https://stackoverflow.com/users/1495067/colin-grealy"}, "is_accepted": true, "score": 0, "last_activity_date": 1439420050, "creation_date": 1439420050, "answer_id": 31976750, "question_id": 31975040, "link": "https://stackoverflow.com/questions/31975040/property-change-notification-when-property-members-change/31976750#31976750", "title": "Property change notification when property members change", "body": "<p>The fundamental problem is that <code>Point</code> is mutable.</p>\n\n<p>You could write your own <code>ImmutablePoint</code> that allows conversion to and from the existing Point class for API compatibility, but doesn't allow methods like <code>Offset</code>.</p>\n\n<p>It's not an ideal solution, but it gets around the problem of changing the fields on a property rather than the property itself.</p>\n"}], "owner": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 31976750, "answer_count": 3, "score": 0, "last_activity_date": 1439420050, "creation_date": 1439412274, "last_edit_date": 1439415102, "question_id": 31975040, "link": "https://stackoverflow.com/questions/31975040/property-change-notification-when-property-members-change", "title": "Property change notification when property members change", "body": "<p>Say I have a property named <code>Location</code> of type <code>Point</code> in my ViewModel, to which my View binds. I'm using MVVM Light's <code>ObservableObject</code> and <code>RaisePropertyChanged</code> setup to raise property change notifications. The problem is that when I execute the following in the ViewModel:</p>\n\n<pre><code>this.Location = new Point(100,100);\n</code></pre>\n\n<p>my View updates correctly. But if I do:</p>\n\n<pre><code>this.Location.Offset(10,10);\n</code></pre>\n\n<p>my View doesn't update, means the <code>Location</code> property does not notify the View about the change. Why is this so? How do sub-properties of built-in types such as <code>Point</code> or <code>Size</code> deal with change notification?</p>\n"}, {"tags": ["c#", "unit-testing", "dependency-injection", "mocking", "autofac"], "answers": [{"comments": [{"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "edited": false, "score": 0, "creation_date": 1439423955, "post_id": 31976670, "comment_id": 51860910, "body": "Where do these methods go?"}], "tags": [], "owner": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "is_accepted": true, "score": 5, "last_activity_date": 1439419597, "creation_date": 1439419597, "answer_id": 31976670, "question_id": 31974924, "link": "https://stackoverflow.com/questions/31974924/how-to-wire-up-autofac-to-common-logging/31976670#31976670", "title": "How to wire up AutoFac to Common.Logging?", "body": "<p>I can think on 2 ways to achieve it:(well sorry the hour is 1:50 am in my country...)</p>\n\n<ol>\n<li><p>Change your <code>ILog</code> to <code>ILog&lt;T&gt;</code> and then register it as an <a href=\"http://docs.autofac.org/en/latest/register/registration.html#open-generic-components\" rel=\"noreferrer\">Open Generic</a>.</p></li>\n<li><p>Use <a href=\"http://docs.autofac.org/en/latest/register/registration.html#dynamically-provided-registrations\" rel=\"noreferrer\">Dynamic-Providers</a> which allows you to resolve with a context.</p></li>\n</ol>\n\n<p><code>Autofac</code>'s website has an <a href=\"http://docs.autofac.org/en/latest/examples/log4net.html\" rel=\"noreferrer\">example</a> which seems to be the exact thing you were looking for.</p>\n\n<p>Resolve the dependency with a context: </p>\n\n<pre><code>private static void OnComponentPreparing(object sender, PreparingEventArgs e)\n{\n    var t = e.Component.Target.Activator.LimitType;\n    e.Parameters = e.Parameters.Union(\n    new[]\n    {\n      new ResolvedParameter((p, i) =&gt; p.ParameterType == typeof(ILog), \n                            (p, i) =&gt; LogManager.GetLogger(t)),\n    });\n}\n</code></pre>\n\n<p>Attach to:</p>\n\n<pre><code>protected override void AttachToComponentRegistration(IComponentRegistry componentRegistry, IComponentRegistration registration)\n{\n    // Handle constructor parameters.\n    registration.Preparing += OnComponentPreparing;\n\n    // Handle properties.\n    registration.Activated += (sender, e) =&gt; InjectLoggerProperties(e.Instance);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1376, "user_id": 326174, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/44cecdf8f3ed94d8f5bc063d4e8d9d3a?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/326174/dave"}, "edited": false, "score": 0, "creation_date": 1461712896, "post_id": 36637678, "comment_id": 61321416, "body": "How did you get an instance of ILogManager?"}, {"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "reply_to_user": {"reputation": 1376, "user_id": 326174, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/44cecdf8f3ed94d8f5bc063d4e8d9d3a?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/326174/dave"}, "edited": false, "score": 0, "creation_date": 1461790444, "post_id": 36637678, "comment_id": 61365532, "body": "in my IoC wireup, I just do something like: <code>builder.RegisterType&lt;LogManager&gt;().SingleInstance().As&lt;ILogM&zwnj;&#8203;anager&gt;();</code>"}, {"owner": {"reputation": 1376, "user_id": 326174, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/44cecdf8f3ed94d8f5bc063d4e8d9d3a?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/326174/dave"}, "edited": false, "score": 0, "creation_date": 1461794087, "post_id": 36637678, "comment_id": 61367305, "body": "Ah, TIL about RegisterType. Thanks!"}], "tags": [], "owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "is_accepted": false, "score": 1, "last_activity_date": 1460690221, "creation_date": 1460690221, "answer_id": 36637678, "question_id": 31974924, "link": "https://stackoverflow.com/questions/31974924/how-to-wire-up-autofac-to-common-logging/36637678#36637678", "title": "How to wire up AutoFac to Common.Logging?", "body": "<p>So recently I decided the best way to do this was not to inject the <code>ILog</code> interface, but rather the <code>ILogManager</code> interface, like so:</p>\n\n<pre><code>public class Foo\n{\n    private readonly ILog _logger;\n    public Foo(ILogManager logManager)\n    {\n        _logger = logManager.GetLogger&lt;Foo&gt;();\n    }\n}\n</code></pre>\n\n<p>By doing this, I cut out a lot of the headscratching necessary to figure out which logger needed to be referenced.  I defined my <code>ILogManager</code> class once with an <code>SingleInstance</code> lifetime and never looked back.</p>\n"}], "owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 31976670, "answer_count": 2, "score": 1, "last_activity_date": 1460690221, "creation_date": 1439411824, "question_id": 31974924, "link": "https://stackoverflow.com/questions/31974924/how-to-wire-up-autofac-to-common-logging", "title": "How to wire up AutoFac to Common.Logging?", "body": "<p>I have a class like so:</p>\n\n<pre><code>public class LoggedFoo\n{\n    private readonly ILog _logger;\n\n    public LoggedFoo(ILog logger)\n    {\n        this._logger = logger;\n    }\n\n    public DoStuff()\n    {\n        this._logger.Info(i =&gt; i(\"Doing stuff...\"));\n    }\n}\n</code></pre>\n\n<p>One of the business requirements is that logs are being generated for certain functions, so naturally I want to mock out the <code>ILog</code> to verify.</p>\n\n<p>However, Common.Logging library supports type-based loggers, along the lines of:</p>\n\n<pre><code>var logger = LogManager.GetLogger&lt;LoggedFoo&gt;();\n</code></pre>\n\n<p>...or:</p>\n\n<pre><code>var logger = LogManager.GetLogger(typeof(LoggedFoo));\n</code></pre>\n\n<p>The problem is, we are using AutoFac for dependency injection, and I cannot figure out how to instantiate an <code>ILog</code> based upon the class that is being instantiated for injection.</p>\n\n<p>How do I write this?  I am using the latest Nuget version of AutoFac.</p>\n"}, {"tags": ["c#", "asp.net", "azure-web-app-service"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1439411977, "post_id": 31974882, "comment_id": 51856562, "body": "It&#39;s hard to tell what you&#39;re asking (please have an English speaking friend improve your grammar if possible), but I see you posted the loopback IP address of 127.0.0.1. That should probably be replaced with the IP (or ideally, DNS name) of the service you&#39;re trying to communicate with."}, {"owner": {"reputation": 1, "user_id": 5173418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f1445c5f0c5a5161717bb5fe963c2b?s=128&d=identicon&r=PG&f=1", "display_name": "shahzad aslam", "link": "https://stackoverflow.com/users/5173418/shahzad-aslam"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1439444709, "post_id": 31974882, "comment_id": 51866188, "body": "I want to use a web service. This Web service is hosted out side the windows azure portal.  Please gives me any idea how can I consume this web service in Asp.net Web Site. This Asp.net web site is publish in windows azure.                                                                                                          Because when I call this web service with IP  the same error comes."}], "answers": [{"tags": [], "owner": {"reputation": 1605, "user_id": 2478046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/940911b9208162f29d41af61831d7b08?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2478046/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1439460969, "creation_date": 1439460969, "answer_id": 31985415, "question_id": 31974882, "link": "https://stackoverflow.com/questions/31974882/how-to-to-access-web-service-in-asp-net-web-site-whcih-publish-on-windows-azure/31985415#31985415", "title": "How to to access web service in asp.net web site whcih publish on windows azure Web App", "body": "<p>I notice that the port that you have listed is <code>8080</code>. I strongly suspect that port will be blocked by default on the VM firewall. Assuming it's a VM, you should be able to open that up in the Windows Firewall.</p>\n\n<p>Alternatively, move the application to be deployed on port 80 instead, as this will be open by default.</p>\n"}], "owner": {"reputation": 1, "user_id": 5173418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f1445c5f0c5a5161717bb5fe963c2b?s=128&d=identicon&r=PG&f=1", "display_name": "shahzad aslam", "link": "https://stackoverflow.com/users/5173418/shahzad-aslam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439462658, "creation_date": 1439411692, "last_edit_date": 1439462658, "question_id": 31974882, "link": "https://stackoverflow.com/questions/31974882/how-to-to-access-web-service-in-asp-net-web-site-whcih-publish-on-windows-azure", "title": "How to to access web service in asp.net web site whcih publish on windows azure Web App", "body": "<p>I am building a C# web service. It works fine in Visual Studio 2013. I deployed it on IIS in a Windows Azure VM, and this also works fine. This web service is basically used for getting data such as event logs and start/stop service lists from the remote machine. I am consuming this web service in another ASP.NET web site as a Web Reference. This client web site accesses the data from the web service perfectly when debugging locally in Visual Studio. </p>\n\n<p>Now I want to deploy the client web site to another VM on the same live domain which uses the web service in Windows Azure Web Apps. When I do this, it gives the following error:</p>\n\n<blockquote>\n  <p>An attempt was made to access a socket in a way forbidden by its access permissions 127.0.0.1:8080 </p>\n</blockquote>\n\n<p>Is there a way that I can access a web service which is deployed on a domain joined machine in a Windows Azure Web Apps site? </p>\n\n<p>Please help me and give me any suggestions to resolve this error.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "reflection"], "answers": [{"comments": [{"owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1439411859, "post_id": 31974776, "comment_id": 51856498, "body": "Doh. I completely missed that."}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 5, "last_activity_date": 1439416780, "last_edit_date": 1439416780, "creation_date": 1439411321, "answer_id": 31974776, "question_id": 31974653, "link": "https://stackoverflow.com/questions/31974653/convert-funcobject-task-to-funct-task-at-runtime/31974776#31974776", "title": "Convert Func&lt;object, Task&gt; to Func&lt;T, Task&gt; at runtime", "body": "<p>You <em>don't</em> need to do anything special.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bb549151.aspx\" rel=\"nofollow\"><code>Func&lt;in T, out TResult&gt;</code></a> is <a href=\"https://msdn.microsoft.com/en-us/library/dd799517.aspx\" rel=\"nofollow\"><em>contravariant</em></a> on <code>T</code> - its input parameter, and every type inherits from <code>object</code>, which means you can just <em>cast</em> <code>Func&lt;object, Task&gt;</code> to <code>Func&lt;T, Task&gt;</code> for <em>any reference type</em> <code>T</code> - pass it as-is and it will just work.</p>\n\n<p><a href=\"http://ideone.com/pbYvUu\" rel=\"nofollow\">Example</a></p>\n\n<p>Now, this won't work for value types, since those require <em>unboxing</em> beforehand.</p>\n\n<p>So if your <code>T</code> is a value type, you'll have to wrap it in another delegate which will perform a cast.</p>\n\n<p>One simple way would be to define a wrapper method:</p>\n\n<pre><code>private static Func&lt;T, TResult&gt; CastFunc&lt;T, TResult&gt;(Func&lt;object, TResult&gt; fn)\n    =&gt; param =&gt; fn(param);\n</code></pre>\n\n<p>Then create a delegate through reflection:</p>\n\n<pre><code>var result = (Func&lt;int, Task&gt;)typeof(WrapperClass)\n    .GetMethod(nameof(CastFunc), BindingFlags.NonPublic | BindingFlags.Static)\n    .MakeGenericMethod(typeof(int), typeof(Task)).Invoke(null, new object[] { fn });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26524, "user_id": 3213034, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZD3DE.jpg?s=128&g=1", "display_name": "Amir Popovich", "link": "https://stackoverflow.com/users/3213034/amir-popovich"}, "is_accepted": false, "score": 1, "last_activity_date": 1439411856, "creation_date": 1439411856, "answer_id": 31974930, "question_id": 31974653, "link": "https://stackoverflow.com/questions/31974653/convert-funcobject-task-to-funct-task-at-runtime/31974930#31974930", "title": "Convert Func&lt;object, Task&gt; to Func&lt;T, Task&gt; at runtime", "body": "<p>I'd go for reflection using <code>MakeGenericMethod</code></p>\n\n<p>Here's a quick example:</p>\n\n<pre><code>    public class Example\n    {\n        public void Start()\n        {\n             Func&lt;object, Task&gt; func = o =&gt; null;\n             object objFunc = func; // got it from a generic place as an object or something\n             Type type = objFunc.GetType().GetGenericArguments()[0]; // get T in runtime\n             var method = typeof(Example).GetMethod(\"DoSomething\", BindingFlags.Public | BindingFlags.Instance).MakeGenericMethod(type);\n             var result = method.Invoke(this, new object[1] { func });\n        }\n\n        public int DoSomething&lt;T&gt;(Func&lt;T, Task&gt; input)\n        {\n            return 1;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "accepted_answer_id": 31974776, "answer_count": 2, "score": 0, "last_activity_date": 1439416780, "creation_date": 1439410868, "question_id": 31974653, "link": "https://stackoverflow.com/questions/31974653/convert-funcobject-task-to-funct-task-at-runtime", "title": "Convert Func&lt;object, Task&gt; to Func&lt;T, Task&gt; at runtime", "body": "<p>I have a <code>Func&lt;object, Task&gt;</code>. I am trying to pass it as an argument into a function that takes <code>Func&lt;T, Task&gt;</code>. I am using reflection to create a <code>MethodInfo</code> for the function, and the <code>T</code> being filled in is not known until runtime.</p>\n\n<p>How can I do this with reflection?</p>\n"}, {"tags": ["c#", "linq", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1439412334, "post_id": 31974625, "comment_id": 51856763, "body": "This has made Linq to SQL question to  Linq to Entities, thus fetching everything in memory by default"}, {"owner": {"reputation": 19681, "user_id": 4751173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Haz6W.jpg?s=128&g=1", "display_name": "Glorfindel", "link": "https://stackoverflow.com/users/4751173/glorfindel"}, "reply_to_user": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1439412519, "post_id": 31974625, "comment_id": 51856872, "body": "@MrinalKamboj I realized that already, but I didn&#39;t make it clear enough I suppose."}, {"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1439412745, "post_id": 31974625, "comment_id": 51856991, "body": "In my views its clear in your response, but not sure if it works for everyone using EF, who want to keep working with IQueryable"}], "tags": [], "owner": {"reputation": 19681, "user_id": 4751173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Haz6W.jpg?s=128&g=1", "display_name": "Glorfindel", "link": "https://stackoverflow.com/users/4751173/glorfindel"}, "is_accepted": true, "score": 2, "last_activity_date": 1439412481, "last_edit_date": 1439412481, "creation_date": 1439410767, "answer_id": 31974625, "question_id": 31974605, "link": "https://stackoverflow.com/questions/31974605/cant-do-cast-in-linq-with-iqueryable/31974625#31974625", "title": "Can&#39;t do cast in LINQ with IQueryable?", "body": "<p>Apparently, Entity Framework does not know (enough) about the relation between TypeA and TypeB. If you can define it as a <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb738520(v=vs.100).aspx\" rel=\"nofollow\">navigation property</a>, that would solve your problem.</p>\n\n<p>If that is not possible, inserting <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb335435(v=vs.100).aspx\" rel=\"nofollow\"><code>.AsEnumerable()</code></a> should work:</p>\n\n<pre><code>data.AsEnumerable().OrderBy(x =&gt; ((TypeB)x.RelatedObject).Value);\n</code></pre>\n\n<p>What this will do, is having 'normal' LINQ performing the ordering, instead of the database (with an ORDER BY clause in the SQL query). Note that it returns an <code>IEnumerable&lt;TypeA&gt;</code> instead of an <code>IQueryable&lt;TypeA&gt;</code> - depending on what you do with this variable, this might cause more records to be loaded into memory than strictly necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "is_accepted": false, "score": 0, "last_activity_date": 1439472747, "creation_date": 1439472747, "answer_id": 31989750, "question_id": 31974605, "link": "https://stackoverflow.com/questions/31974605/cant-do-cast-in-linq-with-iqueryable/31989750#31989750", "title": "Can&#39;t do cast in LINQ with IQueryable?", "body": "<p>If you know that you're only getting one specific type, you should be able to do something like this, assuming that EF knows about the inheritance.</p>\n\n<pre><code>IQueryable&lt;TypeA&gt; data  = ...;                  \ndata = data.OfType&lt;TypeB&gt;().OrderBy(x =&gt; (x.RelatedObject).Value);\n</code></pre>\n"}], "owner": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 1, "accepted_answer_id": 31974625, "answer_count": 2, "score": 0, "last_activity_date": 1439472747, "creation_date": 1439410703, "last_edit_date": 1439410776, "question_id": 31974605, "link": "https://stackoverflow.com/questions/31974605/cant-do-cast-in-linq-with-iqueryable", "title": "Can&#39;t do cast in LINQ with IQueryable?", "body": "<p>I'm wondering how to get the query below to work:</p>\n\n<pre><code>IQueryable&lt;TypeA&gt; data  = ...;                  \ndata = data.OrderBy(x =&gt; ((TypeB)x.RelatedObject).Value);\n</code></pre>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p>The specified type member 'RelatedObject' is not supported in LINQ to\n  Entities. Only initializers, entity members, and entity navigation\n  properties are supported.</p>\n</blockquote>\n\n<p>I'm very new to C#, I think this is a compile problem because I know <code>RelatedObject</code> is of <code>TypeB</code>.\nThanks!</p>\n"}, {"tags": ["c#", ".net"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2643768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6fbee91036490ab9b4b5470c3a95eb7?s=128&d=identicon&r=PG", "display_name": "Flashheart", "link": "https://stackoverflow.com/users/2643768/flashheart"}, "edited": false, "score": 0, "creation_date": 1439411545, "post_id": 31974783, "comment_id": 51856338, "body": "Tried your suggestion. Didn&#39;t work. Window shows up but is not active. Perhaps I can activate it somehow?"}, {"owner": {"reputation": 10677, "user_id": 122195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65228e5118999b6712f54a7076e15776?s=128&d=identicon&r=PG", "display_name": "thepirat000", "link": "https://stackoverflow.com/users/122195/thepirat000"}, "edited": false, "score": 0, "creation_date": 1439414752, "post_id": 31974783, "comment_id": 51858030, "body": "Add a call to <a href=\"http://pinvoke.net/default.aspx/coredll/SetForegroundWindow.html\" rel=\"nofollow noreferrer\">SetForegroundWindow</a> after the ShowWindow."}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1449522672, "post_id": 31974783, "comment_id": 56034664, "body": "None of that code is <code>unsafe</code>. I know this because the <a href=\"https://msdn.microsoft.com/en-us/library/chfa2zb8.aspx\" rel=\"nofollow noreferrer\"><code>unsafe</code> keyword</a> is not anywhere in the code."}], "tags": [], "owner": {"reputation": 132, "user_id": 5211799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5IIIemMmYI/AAAAAAAAAAI/AAAAAAAAAEg/d6FAsCWYrEE/photo.jpg?sz=128", "display_name": "umut &#246;zkan", "link": "https://stackoverflow.com/users/5211799/umut-%c3%b6zkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1439412203, "last_edit_date": 1439412203, "creation_date": 1439411337, "answer_id": 31974783, "question_id": 31974581, "link": "https://stackoverflow.com/questions/31974581/unable-to-maximize-window-of-an-external-process/31974783#31974783", "title": "Unable to maximize window of an external process", "body": "<p>You can try unsafe method.</p>\n\n<pre><code>// Pinvoke declaration for ShowWindow\nprivate const int SW_SHOWMAXIMIZED = 3;\n\n[DllImport(\"user32.dll\")]\nstatic extern bool ShowWindow(IntPtr hWnd, int nCmdShow);\n\n// Sample usage\nShowWindow(proc.MainWindowHandle, SW_SHOWMAXIMIZED);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 3294088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2LHjF.png?s=128&g=1", "display_name": "Dark Knight", "link": "https://stackoverflow.com/users/3294088/dark-knight"}, "is_accepted": true, "score": 0, "last_activity_date": 1449502959, "creation_date": 1449502959, "answer_id": 34137521, "question_id": 31974581, "link": "https://stackoverflow.com/questions/31974581/unable-to-maximize-window-of-an-external-process/34137521#34137521", "title": "Unable to maximize window of an external process", "body": "<p>You need to use <strong>'ProcessID'</strong> instead of process.</p>\n\n<pre><code>    [DllImport(\"user32.dll\")]\n    private static extern bool ShowWindow(IntPtr hWnd, int nCmdShow);\n\n    private const int SwShowmaximized = 3;\n    private void Run()\n    {\n        Process[] processlist = Process.GetProcesses();\n\n        foreach (Process process in processlist.Where(process =&gt; process.ProcessName == \"wfica32\"))\n        {\n            ShowWindow(Process.GetProcessById(process.Id).MainWindowHandle, SwShowmaximized);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 2643768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6fbee91036490ab9b4b5470c3a95eb7?s=128&d=identicon&r=PG", "display_name": "Flashheart", "link": "https://stackoverflow.com/users/2643768/flashheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 34137521, "answer_count": 2, "score": 0, "last_activity_date": 1449522638, "creation_date": 1439410612, "last_edit_date": 1449522638, "question_id": 31974581, "link": "https://stackoverflow.com/questions/31974581/unable-to-maximize-window-of-an-external-process", "title": "Unable to maximize window of an external process", "body": "<p>I have so far been unsuccessful in maximizing an external window.\nI can get the handle and bring it to the foreground.\nBut it won't maximize.</p>\n\n<pre><code>Process[] processlist = Process.GetProcesses();\nIntPtr handle;\n\nforeach (Process process in processlist)\n{\n    if (process.ProcessName == \"wfica32\")\n    {\n        handle = process.MainWindowHandle;\n        SetForegroundWindow(handle);\n        ShowWindowAsync(handle, 3); // or SW_SHOWMAXIMIZED//  = 3;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "windows-phone-8.1", "windows-8.1", "monogame"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 2355408, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/fd8b0b190907d2dd9ed8910495621efe?s=128&d=identicon&r=PG", "display_name": "uncle_scrooge", "link": "https://stackoverflow.com/users/2355408/uncle-scrooge"}, "edited": false, "score": 0, "creation_date": 1443674609, "post_id": 32085123, "comment_id": 53589886, "body": "Hey Sypros..Could you please tell me how did use this codes in your game.I mean you now have a new vector,how you related this to touchpanel."}], "tags": [], "owner": {"reputation": 281, "user_id": 1741167, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c79c33c78c9a88d626149ef0b4bb9888?s=128&d=identicon&r=PG", "display_name": "Spyros P.", "link": "https://stackoverflow.com/users/1741167/spyros-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1439947792, "creation_date": 1439947792, "answer_id": 32085123, "question_id": 31974569, "link": "https://stackoverflow.com/questions/31974569/touchpanel-in-monogame-reset-after-orientation-change-on-win-8-1/32085123#32085123", "title": "TouchPanel in MonoGame reset after orientation change on Win 8.1", "body": "<p>Not being able to find a solution to this problem, I just decided to handle the touch input differently; instead of setting the TouchPanel.DisplayWidth &amp; Height, I decided to convert the touch (and mouse) position to the virtual screen coordinates using a simple function:</p>\n\n<pre><code>ScreenYScale = GraphicsDevice.PresentationParameters.BackBufferHeight / 1920.0f;\n\npublic Vector2 TranslateCoords(Vector2 coords)\n{\n    return new Vector2(coords.X / ScreenYScale, coords.Y / ScreenYScale);\n}\n</code></pre>\n"}], "owner": {"reputation": 281, "user_id": 1741167, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c79c33c78c9a88d626149ef0b4bb9888?s=128&d=identicon&r=PG", "display_name": "Spyros P.", "link": "https://stackoverflow.com/users/1741167/spyros-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 32085123, "answer_count": 1, "score": 0, "last_activity_date": 1439947792, "creation_date": 1439410577, "last_edit_date": 1439934274, "question_id": 31974569, "link": "https://stackoverflow.com/questions/31974569/touchpanel-in-monogame-reset-after-orientation-change-on-win-8-1", "title": "TouchPanel in MonoGame reset after orientation change on Win 8.1", "body": "<p>I'm creating a Universal (Win 8.1 + Win Phone 8.1) app using C# / Monogame (VS 2013). I'm using MonoGame v3.4.</p>\n\n<p>In my game1.cs initialization code, I set:</p>\n\n<pre><code>TouchPanel.DisplayWidth = _drawState.ScreenBounds.Width;\nTouchPanel.DisplayHeight = _drawState.ScreenBounds.Height;\n</code></pre>\n\n<p>So that touch input is consistent to my game screen size (_drawState.ScreenBounds is a Rectangle containing the dimensions of my virtual screen size). </p>\n\n<p>My game is set to support only portraint orientations: I have picked only the portrait and portrait-flipped orientations in the Package.appxmanifest files for both target (Win and WinPhone), and I have set this in the game1.cs Init method:</p>\n\n<pre><code>graphics.SupportedOrientations = DisplayOrientation.Portrait |\nDisplayOrientation.PortraitDown\n</code></pre>\n\n<p>Testing the game on the Win 8.1 Simulator and on a real Win 8.1 tablet, I found out that after an orientation change (btw, the Simulator rotates and crops the game field, whereas the real device, as expected, keeps the portrait aspect), the TouchPanel has wrong dimensions - it resets to the actual screen dimensions, and so all my touches are off.</p>\n\n<p>This only happens on the Win8.1 target - the Win Phone targets works as intended.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>EDIT:</strong>\nSince I couldn't find what was going on, I just decided to subscribe to the size changed event and set the <code>TouchPanel.DisplayWidth</code> and <code>TouchPanel.DisplayHeight</code> variables:</p>\n\n<pre><code>this.Window.AllowUserResizing = true;\nthis.Window.ClientSizeChanged += Window_ClientSizeChanged;\n</code></pre>\n\n<p>The Window_ClientSizeChanged method is called on the Simulator, but not on the real device.</p>\n\n<p>I tried with:</p>\n\n<pre><code>_window = Windows.UI.Core.CoreWindow.GetForCurrentThread();\n_window.SizeChanged += _window_SizeChanged;\n</code></pre>\n\n<p>Same thing - called on the simulator, not on the device.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5961, "user_id": 3093396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mo36S.png?s=128&g=1", "display_name": "Volkan Paksoy", "link": "https://stackoverflow.com/users/3093396/volkan-paksoy"}, "edited": false, "score": 0, "creation_date": 1439414881, "post_id": 31974547, "comment_id": 51858089, "body": "It worked fine for me. What is the exact exception you&#39;re getting and on which line?"}, {"owner": {"reputation": 11, "user_id": 4946519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756a0d092920491525fa2d3beda2268c?s=128&d=identicon&r=PG&f=1", "display_name": "ryan rizqi", "link": "https://stackoverflow.com/users/4946519/ryan-rizqi"}, "reply_to_user": {"reputation": 5961, "user_id": 3093396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mo36S.png?s=128&g=1", "display_name": "Volkan Paksoy", "link": "https://stackoverflow.com/users/3093396/volkan-paksoy"}, "edited": false, "score": 0, "creation_date": 1439416213, "post_id": 31974547, "comment_id": 51858605, "body": "@Volkan Paksoy 21 This line &quot;gambar.Save(ms,gambar.RawFormat);&quot;  when I run the program it will stop there and asks for value."}, {"owner": {"reputation": 5961, "user_id": 3093396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mo36S.png?s=128&g=1", "display_name": "Volkan Paksoy", "link": "https://stackoverflow.com/users/3093396/volkan-paksoy"}, "edited": false, "score": 0, "creation_date": 1439416725, "post_id": 31974547, "comment_id": 51858788, "body": "Sorry, I cannot reproduce the problem. I don&#39;t quite understand what it is asking. There is nothing to indicate that kind of thing in the code you posted. Or maybe I&#39;m missing something..."}], "owner": {"reputation": 11, "user_id": 4946519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756a0d092920491525fa2d3beda2268c?s=128&d=identicon&r=PG&f=1", "display_name": "ryan rizqi", "link": "https://stackoverflow.com/users/4946519/ryan-rizqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439411343, "creation_date": 1439410491, "last_edit_date": 1439411343, "question_id": 31974547, "link": "https://stackoverflow.com/questions/31974547/cannot-get-the-string-result-from-image-c-windows-form", "title": "Cannot get the string result from image C# Windows Form", "body": "<p>It's always stop at the end of RawFormat, what did I do wrong?</p>\n\n<pre><code> private void genImgBtn_Click(object sender, EventArgs e)\n    {\n\n        if (pictureBox1.Image != null)\n        {\n\n            Image gambar = pictureBox1.Image;\n            using (MemoryStream ms = new MemoryStream())\n            {\n                gambar.Save(ms,gambar.RawFormat);\n                byte[] imageBytes = ms.ToArray();\n                qrtext.Text = Convert.ToBase64String(imageBytes);\n            }\n        }\n        else\n        {\n            MessageBox.Show(\"Silahkan pilih gambar terlebih dahulu\");\n        }\n\n    }\n</code></pre>\n\n<p>The program stops and asks for not giving null value. I don't know what should I do to resolve this.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "membership-provider", "roleprovider"], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 4510859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4eb0b7d8a611bba4c046df9a955c87?s=128&d=identicon&r=PG&f=1", "display_name": "Festim Cahani", "link": "https://stackoverflow.com/users/4510859/festim-cahani"}, "is_accepted": true, "score": 0, "last_activity_date": 1439412002, "creation_date": 1439412002, "answer_id": 31974964, "question_id": 31974539, "link": "https://stackoverflow.com/questions/31974539/how-to-add-a-net-mvc-request-filter-to-prevent-action-calls-based-on-role-membe/31974964#31974964", "title": "How to add a .Net MVC request filter to prevent action calls based on role membership?", "body": "<p>My best solution for this is using:\n    [AuthorizeAttribute]</p>\n\n<p>You can place it as a normal attribute is used in c# mvc, like for ex: </p>\n\n<pre><code> [Authorize]\n public ActionResult AuthenticatedUsers()\n {\n     return View();\n }\n</code></pre>\n\n<p>You can also use it in top of the controller like this:</p>\n\n<pre><code>[Authorize]\n public class HomeController : Controller\n {\n }\n</code></pre>\n\n<p>And if you want it do be depedent on roles, you just simple give one parameter to this attribute like this: </p>\n\n<pre><code>[Authorize(Roles = \"Admin, Super User\")]\n public ActionResult AdministratorsOnly()\n {\n     return View();\n }\n\n [Authorize(Users = \"Betty, Johnny\")]\n public ActionResult SpecificUserOnly()\n {\n     return View();\n }\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute(v=vs.98).aspx\" rel=\"nofollow\">Here</a> is some more detailed information for your question which I'd suggest would help you alot.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 12211, "user_id": 172359, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e175feb0a9092abd02950f4973d376a?s=128&d=identicon&r=PG", "display_name": "ElHaix", "link": "https://stackoverflow.com/users/172359/elhaix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 31974964, "answer_count": 1, "score": 1, "last_activity_date": 1439412002, "creation_date": 1439410466, "last_edit_date": 1495540284, "question_id": 31974539, "link": "https://stackoverflow.com/questions/31974539/how-to-add-a-net-mvc-request-filter-to-prevent-action-calls-based-on-role-membe", "title": "How to add a .Net MVC request filter to prevent action calls based on role membership?", "body": "<p>In .Net MVC5, how would one add a request filter to prevent action calls based on role membership?</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/20293423/how-to-use-a-mvc-webapi-odata-endpoint-securely/20336730?noredirect=1#comment51521651_20336730\">this</a> comment:</p>\n\n<blockquote>\n  <p>wouldn't it make more sense to use a request filter to prevent the\n  action call on the controller in the event that the current user did\n  not have the right role membership instead of trying to mix the auth\n  logic in to the business logic?</p>\n</blockquote>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 1776, "user_id": 1792246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/783726a6519c3be704d07fe3a453afc6?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/1792246/tony"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1439411446, "post_id": 31974476, "comment_id": 51856278, "body": "An existing library only accepts an XmlTextReader, but I used Xml/Linq to build my Xml Document.  I posted a solution below..."}, {"owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 1, "creation_date": 1439413017, "post_id": 31974476, "comment_id": 51857153, "body": "I&#39;d suggest fixing the &#39;existing library&#39; if at all possible.  <code>XmlReader</code> should be the abstraction it accepts - the recommendation has been not to use <code>XmlTextReader</code> since .NET 2 was released."}, {"owner": {"reputation": 1776, "user_id": 1792246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/783726a6519c3be704d07fe3a453afc6?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/1792246/tony"}, "reply_to_user": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "edited": false, "score": 0, "creation_date": 1439469562, "post_id": 31974476, "comment_id": 51881328, "body": "@CharlesMager: That doesn&#39;t surprise me.  As there is an obvious &#39;difference in behavior&#39; between XmlTextReader and XmlNodeReader."}], "answers": [{"tags": [], "owner": {"reputation": 1776, "user_id": 1792246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/783726a6519c3be704d07fe3a453afc6?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/1792246/tony"}, "is_accepted": true, "score": 1, "last_activity_date": 1439411546, "creation_date": 1439411546, "answer_id": 31974836, "question_id": 31974476, "link": "https://stackoverflow.com/questions/31974476/xmltextreader-for-xdocument-source/31974836#31974836", "title": "XmlTextReader for XDocument source", "body": "<p>This seems to work, not sure why I didn't think of it sooner...</p>\n\n<pre><code>var xDoc = new XDocument(...);\nvar textReader = new XmlTextReader(new System.IO.StringReader(xDoc.ToString()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 650, "user_id": 4193860, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/483eb977339ccd48b012da554539f521?s=128&d=identicon&r=PG&f=1", "display_name": "titol", "link": "https://stackoverflow.com/users/4193860/titol"}, "is_accepted": false, "score": 0, "last_activity_date": 1439411759, "creation_date": 1439411759, "answer_id": 31974901, "question_id": 31974476, "link": "https://stackoverflow.com/questions/31974476/xmltextreader-for-xdocument-source/31974901#31974901", "title": "XmlTextReader for XDocument source", "body": "<p>I don't know if this is best way, but if you got <code>XDocument</code> and cant read xml file to anything else, you could change <code>XDocument</code> to <code>MemoryStream</code> and create `XmlTextReader' from this stream:</p>\n\n<pre><code>        var xmlFile = XDocument.Load(uri);\n        Stream stream = new MemoryStream();\n        xmlFile.Save(stream);\n        stream.Position = 0;\n        XmlTextReader reader = new XmlTextReader(stream);\n        while (reader.Read())\n        {\n            //do your stuff with file\n        }\n</code></pre>\n"}], "owner": {"reputation": 1776, "user_id": 1792246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/783726a6519c3be704d07fe3a453afc6?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/1792246/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 31974836, "answer_count": 2, "score": 2, "last_activity_date": 1439414682, "creation_date": 1439410239, "question_id": 31974476, "link": "https://stackoverflow.com/questions/31974476/xmltextreader-for-xdocument-source", "title": "XmlTextReader for XDocument source", "body": "<p>Given an XDocument, how can I obtain an XmlTextReader to its contents?  XDocument.CreateReader() returns a XmlNodeReader, I need an XmlTextReader.</p>\n\n<pre><code>var xDoc = new XDocument(...);\nvar nodeReader = xDoc.CreateReader(); // I need a XmlTextReader\nvar textReader = new XmlTextReader(????xDoc???);\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "owner": {"reputation": 31, "user_id": 5185842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43edf630bc0eac92fda19c516468f646?s=128&d=identicon&r=PG&f=1", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/5185842/long-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439410060, "creation_date": 1439410060, "question_id": 31974423, "link": "https://stackoverflow.com/questions/31974423/listview-not-updating-properly-after-pager-click", "title": "Listview not updating properly after pager click", "body": "<p>I have a list view, pager, and a textbox which allows a user to enter a value to populate the listview. Upon ListView load, If I enter a value to search it works fine. However, if upon load, after I click \"next\" on the pager, my search function doesn't work properly. I have to click my \"Search\" button twice to get the correct results:</p>\n\n<p>aspx:</p>\n\n<pre><code>&lt;asp:ListView ID=\"ReviewCaseStatusListView\" runat=\"server\"  OnPagePropertiesChanging=\"ListEvents_PagePropertiesChanging\" &gt;\n</code></pre>\n\n<p>c#</p>\n\n<pre><code> protected void BindListView()\n    {\n\n            CaseUploadHistoryLabel.Visible = false;\n            using (var Apptestconn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"Apptestconn\"].ConnectionString))\n            {\n                Apptestconn.Open();\n\n                if (CaseStatusDropDownList.SelectedValue == \"\" &amp; CaseNumberTextBox.Text == \"\" &amp; StartDateTextBox.Text == \"\" &amp; EndDateTextBox.Text == \"\")\n                {\n                    using (SqlCommand cmdGetAllCaseInformationSP = new SqlCommand(\"GetAllCaseInformationSP\", Apptestconn))\n                    {\n                        cmdGetAllCaseInformationSP.CommandType = CommandType.StoredProcedure;\n                        cmdGetAllCaseInformationSP.Parameters.AddWithValue(\"@UserName\", \"nguyenlc\");\n                        cmdGetAllCaseInformationSP.ExecuteNonQuery();\n\n                        SqlDataAdapter da = new SqlDataAdapter(cmdGetAllCaseInformationSP);\n                        DataSet ds = new DataSet();\n                        da.Fill(ds, \"GetAllCaseInformationTable\");\n                        ReviewCaseStatusListView.DataSource = ds.Tables[\"GetAllCaseInformationTable\"];\n                        ReviewCaseStatusListView.DataBind();\n\n\n                        if (ds.Tables[\"GetAllCaseInformationTable\"].Rows.Count != 0)\n                        {\n\n                            CaseUploadHistoryLabel.Visible = true;\n\n                        }\n\n                    }\n                }\n\n\n    protected void ListEvents_PagePropertiesChanging(object sender, PagePropertiesChangingEventArgs e)\n    {\n        //set current page startindex, max rows and rebind to false\n        DataPager pager = ReviewCaseStatusListView.FindControl(\"DataPager1\") as DataPager;\n        pager.SetPageProperties(e.StartRowIndex, e.MaximumRows, false);\n\n        //rebind List View\n        BindListView();\n    }\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n\n            BindListView();\n        }\n\n    }\n\n    protected void SearchButton_Click(object sender, EventArgs e)\n    {\n\n            BindListView();\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-injection", "sql-parametrized-query"], "comments": [{"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 1, "creation_date": 1439411715, "post_id": 31974369, "comment_id": 51856412, "body": "You should check out <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">Can we stop using AddWithValue() already?</a> and stop using <code>.AddWithValue()</code> - it can lead to unexpected and surprising results..."}], "answers": [{"comments": [{"owner": {"reputation": 1708, "user_id": 4019002, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/3u4tG.jpg?s=128&g=1", "display_name": "gene", "link": "https://stackoverflow.com/users/4019002/gene"}, "edited": false, "score": 0, "creation_date": 1439410988, "post_id": 31974591, "comment_id": 51856021, "body": "Thank you. When too many people have worked on the same file, I see different techniques of doing the same thing to the point of frustration :)"}, {"owner": {"reputation": 143, "user_id": 1358818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAHeO.jpg?s=128&g=1", "display_name": "AndersJH", "link": "https://stackoverflow.com/users/1358818/andersjh"}, "edited": false, "score": 0, "creation_date": 1483438670, "post_id": 31974591, "comment_id": 70088328, "body": "Don&#39;t use AddWithValue, as the comment on the question says."}], "tags": [], "owner": {"reputation": 686, "user_id": 1394339, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ugIX7.jpg?s=128&g=1", "display_name": "Elliot Rodriguez", "link": "https://stackoverflow.com/users/1394339/elliot-rodriguez"}, "is_accepted": true, "score": 2, "last_activity_date": 1439410643, "creation_date": 1439410643, "answer_id": 31974591, "question_id": 31974369, "link": "https://stackoverflow.com/questions/31974369/adding-parameters-to-stored-procedure-in-c-with-addwithvalue-method/31974591#31974591", "title": "Adding parameters to stored procedure in C# with AddWithValue method", "body": "<p>If you specify the commandType and commandText properties on the command object you dont need to do that. Assuming you're using SQL Server stored procs, try:</p>\n\n<pre><code>   SqlCommand sqlCmd = new SqlCommand();\n   sqlCmd.CommandTimeout = 15;\n   sqlCmd.CommandType = CommandType.StoredProcedure;\n   sqlCmd.CommandText = \"updateSalesReps\"\n</code></pre>\n\n<p>Then add to your parameters collection using AddWithValue.</p>\n\n<p>Reference: <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.commandtype(v=vs.110).aspx\" rel=\"nofollow\">CommandType in MSDN</a></p>\n\n<blockquote>\n  <p>When you set the CommandType property to StoredProcedure, you should set the CommandText property to the name of the stored procedure. The command executes this stored procedure when you call one of the Execute methods.</p>\n</blockquote>\n"}], "owner": {"reputation": 1708, "user_id": 4019002, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/3u4tG.jpg?s=128&g=1", "display_name": "gene", "link": "https://stackoverflow.com/users/4019002/gene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1654, "favorite_count": 0, "accepted_answer_id": 31974591, "answer_count": 1, "score": 0, "last_activity_date": 1439427760, "creation_date": 1439409840, "last_edit_date": 1439427760, "question_id": 31974369, "link": "https://stackoverflow.com/questions/31974369/adding-parameters-to-stored-procedure-in-c-with-addwithvalue-method", "title": "Adding parameters to stored procedure in C# with AddWithValue method", "body": "<p>I'm fixing SQL Injections in the code.\nOne of the method executes stored procedure and append parameters violating SQL Injections rules:</p>\n\n<pre><code>sqlCmd.CommandText = \"updateSalesReps @repNumber='\" + RepNumber + \"', \n@ISONumber='\" + ISONumber + \"', @type='\" + strUpdtType + \"'\";\n</code></pre>\n\n<p>Now, I'm adding parameters:</p>\n\n<pre><code>sqlCmd.Parameters.AddWithValue(\"@rNumber\", RepNumber);\nsqlCmd.Parameters.AddWithValue(\"@isoNumber\", ISONumber);\nsqlCmd.Parameters.AddWithValue(\"@updateType\",strUpdtType);\n</code></pre>\n\n<p>This is my final query:</p>\n\n<pre><code> sqlCmd.CommandText = \"updateSalesReps @repNumber=@repNumber, \n @ISONumber=@isoNumber, @type=@updateType\";\n</code></pre>\n\n<p>My question is if it is OK to have <code>...@repNumber=@repNumber...</code> in my stored procedure or it will create naming ambiguity?</p>\n"}, {"tags": ["c#", "sql-server", "transactions", "integration-testing", "transactionscope"], "answers": [{"tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1439410263, "creation_date": 1439410263, "answer_id": 31974483, "question_id": 31974313, "link": "https://stackoverflow.com/questions/31974313/c-rollback-outer-transactionscope-regardless-of-what-happens-in-nested-transact/31974483#31974483", "title": "C# Rollback Outer TransactionScope Regardless of What Happens In Nested TransactionScopes", "body": "<p>There is no such thing as nested transactions. You can nest scopes but all that the nested scopes do is attach the the already running transaction. You cannot treat an inner scope independently from the other scope (except of course with RequiresNew which simply creates an independent transaction).</p>\n\n<p>The functionality that you want does not exist in <code>System.Transactions</code>.</p>\n\n<p>Savepoints are the only way to create something that looks like nested transactions. But then again SQL Server is prone to kill your entire transaction for arbitrary reasons. It is unpredictable what errors roll back the statement and what errors roll back the transaction. (Yes, this makes no sense.)</p>\n"}], "owner": {"reputation": 665, "user_id": 2513761, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/07d5f048978c91ea9b86e2c2e1bfe541?s=128&d=identicon&r=PG&f=1", "display_name": "Zout", "link": "https://stackoverflow.com/users/2513761/zout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 31974483, "answer_count": 1, "score": 1, "last_activity_date": 1439410263, "creation_date": 1439409649, "last_edit_date": 1495541033, "question_id": 31974313, "link": "https://stackoverflow.com/questions/31974313/c-rollback-outer-transactionscope-regardless-of-what-happens-in-nested-transact", "title": "C# Rollback Outer TransactionScope Regardless of What Happens In Nested TransactionScopes", "body": "<p>First of all, I have read this similar question: <a href=\"https://stackoverflow.com/questions/2741988/nested-child-transactionscope-rollback\">Nested/Child TransactionScope Rollback</a> but the answer didn't provide a solution and our questions are slightly different.</p>\n\n<p>Basically, I have a database integration test which uses a transaction scope (In actuality the scope is managed in setup/teardown in an abstract class)</p>\n\n<pre><code>[Test]\npublic void MyTest()\n{\n    using(var outerScope = new TransactionScope())\n    {\n        Assert.True(_myService.MyMethod());\n        var values = _myService.AnotherMethod();\n    }\n}\n</code></pre>\n\n<p>And MyService.MyMethod also uses a TransactionScope </p>\n\n<pre><code>public bool MyMethod()\n{\n    using(var innerScope = new TransactionScope())\n    using(var con = conFact.GetOpenConnection())\n    {\n        var cmd = con.CreateCommand();\n        //set up and execute command\n        if (isCheck) scope.Complete();\n        return isCheck;\n    }\n}\n</code></pre>\n\n<p>So in theory, MyMethod only commits its changes if isCheck is true, but regardless of whether that transaction commits or not, when the method is tested, it will be rolled back.</p>\n\n<p>It works as expected unless isCheck is false, in which case I get the following exception: <code>System.Transactions.TransactionException : The operation is not valid for the state of the transaction.</code></p>\n\n<p>I think what happened here was that since innerScope used TransactionScopeOption.Required, it joined the transaction used in outerScope. Once innerScope gets disposed when isCheck is false, outerScope is also disposed (This is what I don't want to happen!) so when I try to get another connection after MyMethod has been called, the outerScope is already disposed.</p>\n\n<p>Alternatively, if I specify TransactionOption.RequiresNew, I get this exception: <code>System.Data.SqlClient.SqlException : Timeout expired.</code></p>\n\n<p>I have tried using a SqlTransaction with a specified savepoint, and different combinations of TransactionOption to no avail.</p>\n"}, {"tags": ["c#", "multithreading", "asynchronous", "parallel-processing", "async-await"], "comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439410855, "post_id": 31974300, "comment_id": 51855938, "body": "Why do you require to keep running on the same thread? Is there thread-affinity? In order to achieve this the methods <i>have</i> to cooperate and be willing to have their continuations scheduled on a sync context or task scheduler. Is the library using ConfigureAwait(false)? Then you have lost."}, {"owner": {"reputation": 3435, "user_id": 807064, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef52b1532b7b3f7ac57c9d01201d8f15?s=128&d=identicon&r=PG", "display_name": "daveaglick", "link": "https://stackoverflow.com/users/807064/daveaglick"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439412370, "post_id": 31974300, "comment_id": 51856786, "body": "@usr In the real code, the async methods take some inputs and then operate on those inputs. Some of the inputs I need to pass are not thread-safe (thread-local variables and the like). I can create new instances for each parallel operation, but if the continuation executes on a different thread, things fall apart rapidly. But again, at this point I&#39;m more interested in the question itself than my specific scenario."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439412773, "post_id": 31974300, "comment_id": 51857008, "body": "OK, depends on the actual code in those methods. Is the library using ConfigureAwait(false)?"}, {"owner": {"reputation": 3435, "user_id": 807064, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef52b1532b7b3f7ac57c9d01201d8f15?s=128&d=identicon&r=PG", "display_name": "daveaglick", "link": "https://stackoverflow.com/users/807064/daveaglick"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1439413198, "post_id": 31974300, "comment_id": 51857256, "body": "No, thankfully (in this case)."}, {"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1439453293, "post_id": 31974300, "comment_id": 51870795, "body": "The async-await version of Task.Waitall is Task.WhenAll. This returns a Task, so you can await Task.WenAll and your calling function can be async, thus keeping your calling thread responsive"}], "answers": [{"tags": [], "owner": {"reputation": 3197, "user_id": 4649143, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ogRTL.jpg?s=128&g=1", "display_name": "shay__", "link": "https://stackoverflow.com/users/4649143/shay"}, "is_accepted": false, "score": 2, "last_activity_date": 1439411278, "last_edit_date": 1439411278, "creation_date": 1439409985, "answer_id": 31974401, "question_id": 31974300, "link": "https://stackoverflow.com/questions/31974300/how-to-execute-nested-async-await-code-in-parallel-while-maintaining-the-same-th/31974401#31974401", "title": "How to execute nested async/await code in parallel while maintaining the same thread on await continuations?", "body": "<p>You can create 4 independent threads, each one executes MethodA with a limited-concurrency (actually, no concurrency at all) TaskScheduler. That will ensure that every Task, and continuation Tasks, that the thread creates, will be executed by that thread.   </p>\n\n<pre><code>    public void MyCallingMethod()\n    {\n        CancellationToken csl = new CancellationToken();\n        var threads = Enumerable.Range(0, 4).Select(p =&gt;\n            {\n                var t = new Thread(_ =&gt;\n                    {\n                        Task.Factory.StartNew(() =&gt; MethodA(), csl, TaskCreationOptions.None,\n                            new LimitedConcurrencyLevelTaskScheduler(1)).Wait();\n                    });\n                t.Start();  \n                return t;\n            }).ToArray();\n        //You can block the main thread and wait for the other threads here...\n    }\n</code></pre>\n\n<p>That won't ensure you a 4th degree parallelism, of course. </p>\n\n<p>You can see an implementation of such TaskScheduler in MSDN - <a href=\"https://msdn.microsoft.com/en-us/library/ee789351(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ee789351(v=vs.110).aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 4, "last_activity_date": 1439455779, "last_edit_date": 1439455779, "creation_date": 1439413899, "answer_id": 31975496, "question_id": 31974300, "link": "https://stackoverflow.com/questions/31974300/how-to-execute-nested-async-await-code-in-parallel-while-maintaining-the-same-th/31975496#31975496", "title": "How to execute nested async/await code in parallel while maintaining the same thread on await continuations?", "body": "<p>The methods that you are calling do not use <code>ConfigureAwait(false)</code>. This means that we can force the continuations to resume in a context we like. Options:</p>\n\n<ol>\n<li>Install a single-threaded synchronization context. I believe Nito.Async has that.</li>\n<li>Use a custom <code>TaskScheduler</code>. <code>await</code> looks at <code>TaskScheduler.Current</code> and resumes at that scheduler if it is non-default.</li>\n</ol>\n\n<p>I'm not sure if there are any pros and cons for either option. Option 2 has easier scoping I think. Option 2 would look like:</p>\n\n<pre><code>Task.Factory.StartNew(\n    () =&gt; MethodA()\n    , new ConcurrentExclusiveSchedulerPair().ExclusiveScheduler).Unwrap();\n</code></pre>\n\n<p>Call this once for each parallel invocation and use <code>Task.WaitAll</code> to join all those tasks. Probably you should dispose of that scheduler as well.</p>\n\n<p>I'm (ab)using <code>ConcurrentExclusiveSchedulerPair</code> here to get a single-threaded scheduler.</p>\n\n<p>If those methods are not particularly CPU-intensive you can just use the same scheduler/thread for all of them.</p>\n"}], "owner": {"reputation": 3435, "user_id": 807064, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef52b1532b7b3f7ac57c9d01201d8f15?s=128&d=identicon&r=PG", "display_name": "daveaglick", "link": "https://stackoverflow.com/users/807064/daveaglick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 0, "accepted_answer_id": 31975496, "answer_count": 2, "score": 7, "last_activity_date": 1439455779, "creation_date": 1439409600, "question_id": 31974300, "link": "https://stackoverflow.com/questions/31974300/how-to-execute-nested-async-await-code-in-parallel-while-maintaining-the-same-th", "title": "How to execute nested async/await code in parallel while maintaining the same thread on await continuations?", "body": "<p>This might be the worst StackOverflow title I've ever written. What I'm actually trying to do is execute an asynchronous method that uses the async/await convention (and itself contains additional await calls) from within a synchronous method multiple times in parallel while maintaining the same thread throughout the execution of each branch of the parallel execution, including for all await continuations. To put it another way, I want to execute some async code synchronously, but I want to do it multiple times in parallel. Now you can see why the title was so bad. Perhaps this is best illustrated with some code...</p>\n\n<p>Assume I have the following:</p>\n\n<pre><code>public class MyAsyncCode\n{\n    async Task MethodA()\n    {\n        // Do some stuff...\n        await MethodB();\n        // Some other stuff\n    }\n\n    async Task MethodB()\n    {\n        // Do some stuff...\n        await MethodC();\n        // Some other stuff\n    }\n\n    async Task MethodC()\n    {\n        // Do some stuff...\n    }\n}\n</code></pre>\n\n<p>The caller is synchronous (from a console application). Let me try illustrating what I'm trying to do with an attempt to use <code>Task.WaitAll(...)</code> and wrapper tasks:</p>\n\n<pre><code>public void MyCallingMethod()\n{\n    List&lt;Task&gt; tasks = new List&lt;Task&gt;();\n    for(int c = 0 ; c &lt; 4 ; c++)\n    {\n        MyAsyncCode asyncCode = new MyAsyncCode();\n        tasks.Add(Task.Run(() =&gt; asyncCode.MethodA()));\n    }\n    Task.WaitAll(tasks.ToArray());\n}\n</code></pre>\n\n<p>The desired behavior is for <code>MethodA</code>, <code>MethodB</code>, and <code>MethodC</code> to all be run on the same thread, both before and after the continuation, and for this to happen 4 times in parallel on 4 different threads. To put it yet another way, I want to remove the asynchronous behavior of my <code>await</code> calls since I'm making the calls parallel from the caller.</p>\n\n<p>Now, before I go any further, I do understand that there's a difference between asynchronous code and parallel/multi-threaded code and that the former doesn't imply or suggest the latter. I'm also aware the easiest way to achieve this behavior is to remove the async/await declarations. Unfortunately, I don't have the option to do this (it's in a library) and there are <em>reasons</em> why I need the continuations to all be on the same thread (having to do with poor design of said library). But even more than that, this has piqued my interest and now I want to know from an academic perspective.</p>\n\n<p>I've attempted to run this using PLINQ and immediate task execution with <code>.AsParallel().Select(x =&gt; x.MethodA().Result)</code>. I've also attempted to use the <code>AsyncHelper</code> class found here and there, which really just uses <code>.Unwrap().GetAwaiter().GetResult()</code>. I've also tried some other stuff and I can't seem to get the desired behavior. I either end up with all the calls on the same thread (which obviously isn't parallel) or end up with the continuations executing on different threads.</p>\n\n<p>Is what I'm trying to do even possible, or are async/await and the TPL just too different (despite both being based on <code>Task</code>s)? </p>\n"}, {"tags": ["c#", "wpf", "graph"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5112466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2681ad05e1fec1327adae427e10f8c9c?s=128&d=identicon&r=PG&f=1", "display_name": "anderici", "link": "https://stackoverflow.com/users/5112466/anderici"}, "edited": false, "score": 0, "creation_date": 1439471144, "post_id": 31975059, "comment_id": 51882588, "body": "Yeah, I&#39;ve thought something like this. I&#39;ve tried changing the LayoutAlgorithmType to other types, and it worked. In this case, I used LayoutAlgothimType=&quot;ISOM&quot;.  If someone is getting trouble with this. Consider trying other Layout Algorithm Types.   Thanks for the answer, Glen!"}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": false, "score": 1, "last_activity_date": 1439412326, "creation_date": 1439412326, "answer_id": 31975059, "question_id": 31974283, "link": "https://stackoverflow.com/questions/31974283/how-to-disperse-the-nodes-from-a-graph-using-graphsharp-and-wpf/31975059#31975059", "title": "How to &quot;disperse&quot; the nodes from a graph using Graphsharp and WPF", "body": "<p>The graph is using a force-directed algorithm (You specify LayoutAlgorithmType=\"FR\")\nThe layout algorithm take a parameter of type FRLayoutParametersBase, which has an attractionMultiplier and repulsiveMultiplier. Tweaking those numbers will cause your nodes to space differently.\nI'm not familiar with GraphSharp and have never used it before, so am not sure what is the most appropriate way to go about doing this.</p>\n"}], "owner": {"reputation": 67, "user_id": 5112466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2681ad05e1fec1327adae427e10f8c9c?s=128&d=identicon&r=PG&f=1", "display_name": "anderici", "link": "https://stackoverflow.com/users/5112466/anderici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439412326, "creation_date": 1439409536, "question_id": 31974283, "link": "https://stackoverflow.com/questions/31974283/how-to-disperse-the-nodes-from-a-graph-using-graphsharp-and-wpf", "title": "How to &quot;disperse&quot; the nodes from a graph using Graphsharp and WPF", "body": "<p>everyone. I'm using GraphSharp and WPF to construct a graph which contain many nodes.</p>\n\n<p>The problem is: the nodes usually are disposed one over others, which looks like a \"bold\" named node (see this image, the red box <a href=\"http://postimg.org/image/tl6gt3cfz/\" rel=\"nofollow\">http://postimg.org/image/tl6gt3cfz/</a>).</p>\n\n<p>I want to disperse the nodes through the window, avoiding the nodes being one over other. \nIs there any way to do that?</p>\n\n<p>Here is the Xaml:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:graphsharp=\"clr-namespace:GraphSharp.Controls;assembly=GraphSharp.Controls\"\n    xmlns:zoom=\"clr-namespace:WPFExtensions.Controls;assembly=WPFExtensions\"\n    Title=\"MainWindow\"\n    Height=\"350\" \n    Width=\"525\"\n    x:Name=\"root\"&gt;\n&lt;Grid&gt;\n    &lt;zoom:ZoomControl&gt;\n    &lt;graphsharp:GraphLayout x:Name=\"graphLayout\"\n                           Graph=\"{Binding ElementName=root,Path=GraphToVisualize}\"\n                            LayoutAlgorithmType=\"FR\"\n                            OverlapRemovalAlgorithmType=\"FSA\"\n                            HighlightAlgorithmType=\"Simple\"/&gt;\n    &lt;/zoom:ZoomControl&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is the .cs</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public IBidirectionalGraph&lt;object, IEdge&lt;object&gt;&gt; _graphToVisualize;\n\n    public IBidirectionalGraph&lt;object, IEdge&lt;object&gt;&gt; GraphToVisualize\n    {\n        get { return _graphToVisualize; }\n    }\n\n    public MainWindow(int[,] matrix, string[] names)\n    {\n        CreateGraphToVisualize(matrix, names);\n\n        InitializeComponent();\n    }\n\n    public void CreateGraphToVisualize(int[,] matrix, string[] names)\n    {\n        var g = new BidirectionalGraph&lt;object, IEdge&lt;object&gt;&gt;();\n\n        //add the vertices do the graph\n        string[] vertices = new string[matrix.GetLength(0)];\n\n        for (int i = 0; i &lt; matrix.GetLength(0); i++)\n        {\n            vertices[i] = names[i];\n            g.AddVertex(vertices[i]);\n        }\n\n        for (int i = 0; i &lt; matrix.GetLength(0); i++)\n        {\n            for (int j = 0; j &lt; matrix.GetLength(1); j++)\n            {\n                if (i == j) break;\n\n                if(matrix[i,j]==1) g.AddEdge(new Edge&lt;object&gt;(vertices[i], vertices[j]));\n            }\n        }\n\n        _graphToVisualize = g;\n    }\n}\n</code></pre>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity"], "comments": [{"owner": {"reputation": 13861, "user_id": 1071632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xkf8n.jpg?s=128&g=1", "display_name": "Sam FarajpourGhamari", "link": "https://stackoverflow.com/users/1071632/sam-farajpourghamari"}, "edited": false, "score": 0, "creation_date": 1439409966, "post_id": 31974228, "comment_id": 51855536, "body": "As I understand you have different table with additional user data. And you want fetch current user&#39;s data. Am I right? Are you using Entity Framework? And way you prefer to store those data to another table?"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1439410256, "post_id": 31974228, "comment_id": 51855661, "body": "<code>User</code> is really just an <code>IPrincipal</code> and <code>Identity</code> is just <code>IIdentity</code>. You can easily create your own implementation of <code>User</code> with it&#39;s own implementation of <code>Identity</code>. They just need to adhere to the interfaces."}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1439514535, "post_id": 31974228, "comment_id": 51904896, "body": "Since you&#39;re using Asp.Net Identity, the way to do with is with Claims.  See my answer posted below."}, {"owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "edited": false, "score": 0, "creation_date": 1439555169, "post_id": 31974228, "comment_id": 51922318, "body": "Thanks, I am testing the answers tonight and will accept one then"}], "answers": [{"tags": [], "owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1439410819, "creation_date": 1439410819, "answer_id": 31974644, "question_id": 31974228, "link": "https://stackoverflow.com/questions/31974228/can-you-extend-httpcontext-current-user-identity-properties/31974644#31974644", "title": "Can you extend HttpContext.Current.User.Identity properties", "body": "<p>I found one implementation:</p>\n\n<pre><code>var profile = db.UserProfile.Where(u =&gt; u.UserId == user.Id).FirstOrDefault();\nProfileBase httpProfile = ProfileBase.Create(user.UserName);\nhttpProfile.SetPropertyValue(\"FullName\", profile.FullName);\nhttpProfile.SetPropertyValue(\"FirstName\", profile.FirstName);\nhttpProfile.SetPropertyValue(\"LastName\", profile.LastName);\n</code></pre>\n\n<p>Then to get later...</p>\n\n<pre><code>ProfileBase userProfile = ProfileBase.Create(HttpContext.User.Identity.Name);\nvar fullName = userProfile.GetPropertyValue(\"FullName\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "is_accepted": false, "score": 1, "last_activity_date": 1439410986, "creation_date": 1439410986, "answer_id": 31974691, "question_id": 31974228, "link": "https://stackoverflow.com/questions/31974228/can-you-extend-httpcontext-current-user-identity-properties/31974691#31974691", "title": "Can you extend HttpContext.Current.User.Identity properties", "body": "<p>Absolutely! You need to create your own type that implements from <code>IPrincipal</code>, and take over security yourself. You can authenticate the user in an OWIN step, manually setting <code>context.Request.User</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 336, "user_id": 5198292, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/90a7db332a4154d4319ec61be43b92c0?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Dory", "link": "https://stackoverflow.com/users/5198292/piotr-dory"}, "is_accepted": false, "score": 6, "last_activity_date": 1439417376, "last_edit_date": 1439417376, "creation_date": 1439416370, "answer_id": 31976038, "question_id": 31974228, "link": "https://stackoverflow.com/questions/31974228/can-you-extend-httpcontext-current-user-identity-properties/31976038#31976038", "title": "Can you extend HttpContext.Current.User.Identity properties", "body": "<p>You can put value in HttpContext.Current.Items. \nIt is dictionary which lifetime is single request.</p>\n\n<p>You can use it like this:</p>\n\n<pre><code>public static string CurrentScreenName\n{\n    get\n    {\n        string screenName = (string)HttpContext.Current.Items[\"CurrentScreenName\"];\n\n        if (string.NullOrEmpty(screenName))\n        {\n             screenName = ResolveScreenName();\n             HttpContext.Current.Items[\"CurrentScreenName\"] = screenName;\n        }\n        return screenName;\n    }\n}\n</code></pre>\n\n<p>It will execute ResolveScreenName() only once for single request.</p>\n\n<p>Also you can make extension method to access screen name from IIdentity</p>\n\n<pre><code>public static class Extensions\n{\n    public static string GetScreenName(this IIdentity identity)\n    {\n        return CurrentScreenName;\n    }\n}\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>string screenName = HttpContext.Current.User.Identity.GetScreenName();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1441122500, "post_id": 31976327, "comment_id": 52545900, "body": "Is it possible to override the <code>Name</code> property?"}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "reply_to_user": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1441143947, "post_id": 31976327, "comment_id": 52557306, "body": "@ErwinRooijakkers the <code>Name</code> property of what?  Can you give some more detail?"}, {"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1441179862, "post_id": 31976327, "comment_id": 52568314, "body": "The <code>HttpContext.Current.User.Identity.Name</code>. Also see <a href=\"http://stackoverflow.com/questions/32336360/override-httpcontext-current-user-identity-name/32341483#32341483\">this question I asked</a>."}], "tags": [], "owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "is_accepted": true, "score": 18, "last_activity_date": 1443683582, "last_edit_date": 1443683582, "creation_date": 1439417729, "answer_id": 31976327, "question_id": 31974228, "link": "https://stackoverflow.com/questions/31974228/can-you-extend-httpcontext-current-user-identity-properties/31976327#31976327", "title": "Can you extend HttpContext.Current.User.Identity properties", "body": "<p>If you are using Asp.Net Identity, then this is very easy to do with claims.</p>\n\n<p>In your <code>SignInAsync</code> method (or, wherever you are creating the claims identity), add the <code>GivenName</code> and <code>Surname</code> claim types:</p>\n\n<pre><code>private async Task SignInAsync(ApplicationUser user, bool isPersistent)\n{\n    AuthenticationManager.SignOut(DefaultAuthenticationTypes.ExternalCookie);\n\n    var identity = await UserManager.CreateIdentityAsync(user, DefaultAuthenticationTypes.ApplicationCookie);\n\n    // Add the users primary identity details to the set of claims.\n    var your_profile = GetFromYourProfileTable();\n\n    identity.AddClaim(new Claim(ClaimTypes.GivenName, your_profile == null ? string.Empty : your_profile.FirstName));\n    identity.AddClaim(new Claim(ClaimTypes.Surname, your_profile == null ? string.Empty : your_profile.LastName));\n\n    AuthenticationManager.SignIn(new AuthenticationProperties() { IsPersistent = isPersistent }, identity);\n}\n</code></pre>\n\n<p>You then use an extension method to <code>IIdentity</code> to pull the information out of the claims identity:</p>\n\n<pre><code>public static ProfileName GetIdentityName(this IIdentity identity)\n{\n    if (identity == null)\n        return null;\n\n    var first = (identity as ClaimsIdentity).FirstOrNull(ClaimTypes.GivenName),\n    var last = (identity as ClaimsIdentity).FirstOrNull(ClaimTypes.Surname)\n\n    return string.Format(\"{0} {1}\", first, last).Trim();\n}\n\ninternal static string FirstOrNull(this ClaimsIdentity identity, string claimType)\n{\n    var val = identity.FindFirst(claimType);\n\n    return val == null ? null : val.Value;\n}\n</code></pre>\n\n<p>Then, in your application (in your controller or view), you can just do:</p>\n\n<pre><code>var name = User.Identity.GetIdentityName();\n</code></pre>\n"}], "owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16373, "favorite_count": 5, "accepted_answer_id": 31976327, "answer_count": 4, "score": 12, "last_activity_date": 1443683582, "creation_date": 1439409282, "last_edit_date": 1439410750, "question_id": 31974228, "link": "https://stackoverflow.com/questions/31974228/can-you-extend-httpcontext-current-user-identity-properties", "title": "Can you extend HttpContext.Current.User.Identity properties", "body": "<p>Is there a way to override <code>HttpContext.Current.User.Identity</code> to add another property (screen name)?</p>\n\n<p>My application uses <code>Identity</code> and I've left the unique identity as email. I store user data such as first / last name in a separate <code>\"Profile\"</code> table. Is there a way to store this information somewhere within <code>HttpContext.Current</code>? </p>\n\n<p>It doesn't necessarily need to be within <code>User</code>. I have had a search and noticed there's a <code>HttpContext.Current.ProfileBase</code>. Not sure how to use it though - and I really don't want all the excess stuff that base comes with.</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "gridview"], "answers": [{"comments": [{"owner": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "edited": false, "score": 0, "creation_date": 1439410485, "post_id": 31974280, "comment_id": 51855756, "body": "I&#39;m a bit confused: do you recommend I create two separate data sources, one for each button click function? How do I get the functions to return the data as a List? Finally (Sorry for the long winded comment), how do I get that list into the GridView?"}, {"owner": {"reputation": 13310, "user_id": 49742, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/174bi.png?s=128&g=1", "display_name": "Subliminal Hash", "link": "https://stackoverflow.com/users/49742/subliminal-hash"}, "reply_to_user": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "edited": false, "score": 0, "creation_date": 1439412323, "post_id": 31974280, "comment_id": 51856753, "body": "i am not saying you should create two data sources but i am suggesting you &#39;shape&#39; your query so that you have more functional one. not even mentioning less and re-usable code.. see my edited answer in a minute..."}, {"owner": {"reputation": 13310, "user_id": 49742, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/174bi.png?s=128&g=1", "display_name": "Subliminal Hash", "link": "https://stackoverflow.com/users/49742/subliminal-hash"}, "reply_to_user": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "edited": false, "score": 0, "creation_date": 1439413007, "post_id": 31974280, "comment_id": 51857146, "body": "Ok, please see the edit above. Don&#39;t worry about long comments or anything, please do say or ask whatever is needed to get you going. Although it is now quite late at this part of the world and I am now off to counting sheep, there will be a lot more people to help you here.."}, {"owner": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "edited": false, "score": 0, "creation_date": 1439413406, "post_id": 31974280, "comment_id": 51857365, "body": "Thanks, I appreciate your help! I figured it out with some help from @Norbeto&#39;s answer."}], "tags": [], "owner": {"reputation": 13310, "user_id": 49742, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/174bi.png?s=128&g=1", "display_name": "Subliminal Hash", "link": "https://stackoverflow.com/users/49742/subliminal-hash"}, "is_accepted": false, "score": 1, "last_activity_date": 1439412921, "last_edit_date": 1439412921, "creation_date": 1439409525, "answer_id": 31974280, "question_id": 31974093, "link": "https://stackoverflow.com/questions/31974093/execute-a-sql-select-query-and-display-the-results-in-a-gridview-on-button-click/31974280#31974280", "title": "Execute a SQL SELECT query and display the results in a GridView on button click", "body": "<p><strong>EDIT</strong></p>\n\n<p>considering you use entity framework, </p>\n\n<p>in codebehind:</p>\n\n<pre><code>Public Shared Function getUsers(optional byval userid as integer = 0) as list(of myusers)\n    Using db as new your_user_entity\n        dim users = (from u in db.Users select u)\n            if userid = 0 then\n                return users.toList()\n            else\n                return users.where(function (x) x.userid = userid).toList()\n        End If\n    End Using\nEnd \n</code></pre>\n\n<p>after this, you can call this function on one button click like:</p>\n\n<pre><code>gridview.datasource = getUsers() ' will give you all users\ngridview.databind\n</code></pre>\n\n<p>on another button:</p>\n\n<pre><code>gridview.datasource = getUsers(10) ' will only give you the user with id=10\ngirdview.databind\n</code></pre>\n\n<p>change your logic a little bit. In code behind, create two functions </p>\n\n<ol>\n<li>getSingleUserDetails</li>\n<li>getAllUsers</li>\n</ol>\n\n<p>both functions should return <code>List(of Your_user)</code></p>\n\n<p>then in button click events for both buttons,</p>\n\n<p>e.g. btnGetSingle_Click</p>\n\n<pre><code>gridview.datasource = getSingleUserDetails(10)\ngridview.databind\n</code></pre>\n\n<p>btnGetAllUsers_Click</p>\n\n<pre><code>gridview.datasource = getAllUsers\ngridview.databind\n</code></pre>\n\n<p>Note: I am omitting some facts such as you can use overloaded functions, entity framework etc.. </p>\n"}, {"comments": [{"owner": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "edited": false, "score": 0, "creation_date": 1439412844, "post_id": 31974454, "comment_id": 51857050, "body": "Ah, you&#39;re right! However, just changing this didn&#39;t do it. I needed to also remove the SelectParameters for the &quot;Show All&quot; functionality to work for some odd reason. Thanks for your help though!"}], "tags": [], "owner": {"reputation": 179, "user_id": 4783509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M1WW_uE9dAI/AAAAAAAAAAI/AAAAAAAAGYk/_w6Aco_JyYQ/photo.jpg?sz=128", "display_name": "Norberto Escobar", "link": "https://stackoverflow.com/users/4783509/norberto-escobar"}, "is_accepted": false, "score": 2, "last_activity_date": 1439429904, "last_edit_date": 1439429904, "creation_date": 1439410166, "answer_id": 31974454, "question_id": 31974093, "link": "https://stackoverflow.com/questions/31974093/execute-a-sql-select-query-and-display-the-results-in-a-gridview-on-button-click/31974454#31974454", "title": "Execute a SQL SELECT query and display the results in a GridView on button click", "body": "<p>The problem is that you forgot to assign the DataSource and DataSourceID to the GridView after changing the SelectCommand:</p>\n\n<pre><code>        string selectAll = \"SELECT * FROM tblUser\";        //new query to execute\n        string oldSelect = SqlDataSource1.SelectCommand;    //stores old query in temp variable\n        SqlDataSource1.SelectCommand = selectAll;           //sets the SelectCommand of the DataSource to the new query\n        SqlDataSource1.Select(DataSourceSelectArguments.Empty);    //executes the SelectCommand\n\n        GridView1.DataSourceID = \"\";\n        GridView1.DataSource = SqlDataSource1;\n\n        GridView1.DataBind();                              //binds the GridView to the DataSource\n        SqlDataSource1.SelectCommand = oldSelect;   \n</code></pre>\n\n<p>And to return to your old select, in a different button click event:</p>\n\n<pre><code>SqlDataSource1.Select(DataSourceSelectArguments.Empty);    //executes the SelectCommand\n        GridView1.DataSourceID = \"\";\n        GridView1.DataSource = SqlDataSource1;\n        GridView1.DataBind(); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "is_accepted": true, "score": 0, "last_activity_date": 1439413333, "creation_date": 1439413333, "answer_id": 31975339, "question_id": 31974093, "link": "https://stackoverflow.com/questions/31974093/execute-a-sql-select-query-and-display-the-results-in-a-gridview-on-button-click/31975339#31975339", "title": "Execute a SQL SELECT query and display the results in a GridView on button click", "body": "<p>This is what I had to do:</p>\n\n<p>1) Assign the DataSource and DataSourceID  of the GridView after changing the SelectCommand.</p>\n\n<p>2) Remove the SelectParameter of the search textbox before executing the new SelectCommand, then add it back before doing the regular search.</p>\n\n<p>Here's my code for my button click event for the \"Show All\" button:</p>\n\n<pre><code>    protected void ShowAllUsers(object sender, EventArgs e)\n{\n    UserIDTextBox.Text = \"\";\n    SqlDataSource1.SelectCommand = selectAll;\n    SqlDataSource1.SelectParameters.Remove(SqlDataSource1.SelectParameters[\"UserID\"]);\n\n    GridView1.DataSourceID = \"\";\n    GridView1.DataSource = SqlDataSource1;\n    GridView1.DataBind();\n\n    SqlDataSource1.SelectCommand = selectUser;        \n}\n</code></pre>\n\n<p>And then for my regular search button:</p>\n\n<pre><code>        if (SqlDataSource1.SelectParameters.Count == 0)\n        {\n            SqlDataSource1.SelectParameters.Add(\"UserID\", UserIDTextBox.Text);\n        }\n        SqlDataSource1.SelectCommand = selectUser;\n</code></pre>\n\n<p><code>selectUser</code> and <code>selectAll</code> are the strings holding the SQL querys.</p>\n"}], "owner": {"reputation": 110, "user_id": 5135885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RJ9e.jpg?s=128&g=1", "display_name": "Marcus Stemple", "link": "https://stackoverflow.com/users/5135885/marcus-stemple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7602, "favorite_count": 0, "accepted_answer_id": 31975339, "answer_count": 3, "score": 0, "last_activity_date": 1439429904, "creation_date": 1439408790, "question_id": 31974093, "link": "https://stackoverflow.com/questions/31974093/execute-a-sql-select-query-and-display-the-results-in-a-gridview-on-button-click", "title": "Execute a SQL SELECT query and display the results in a GridView on button click", "body": "<p><strong>Context:</strong> I'm designing a simple ASP.NET webpage where I have a search box where the user can enter a User ID (int) and when they click a search button, a GridView control displays the results of a SQL SELECT query that checks if an entry with the specified User ID exists. This functionality all works and I believe is fairly simple. </p>\n\n<p>I've added another button that I would like to execute a different SQL SELECT query that returns <em>all</em> entries in the table. </p>\n\n<p>Here is the first SELECT query, which is the SelectCommand of the SqlDataSource that the GridView uses: <code>SELECT * FROM [tblUser] WHERE [UserID] = @UserID</code></p>\n\n<p>Here is the new SELECT query that I want to execute when a user clicks the new button: <code>SELECT * FROM  tblUser</code></p>\n\n<p><strong>Question:</strong>  How can I use the \"OnClick\" event (in the code behind) to execute this new query and display the results in the same GridView?</p>\n\n<p><strong>What I've Tried:</strong>  This seems like a pretty logical way of executing the new statement: change the SelectCommand of the SqlDataSource that the GridView control uses, execute that SelectCommand, then display the results of that command in the GridView. Unfortunately it just results in an empty GridView, no column labels or anything.</p>\n\n<pre><code>    string selectAll = \"SELECT * FROM tblUser\";        //new query to execute\n    string oldSelect = SqlDataSource1.SelectCommand;    //stores old query in temp variable\n    SqlDataSource1.SelectCommand = selectAll;           //sets the SelectCommand of the DataSource to the new query\n    SqlDataSource1.Select(DataSourceSelectArguments.Empty);    //executes the SelectCommand\n    GridView1.DataBind();                              //binds the GridView to the DataSource\n    SqlDataSource1.SelectCommand = oldSelect;          //returns the select command to its original value\n</code></pre>\n"}, {"tags": ["c#", "inheritance", "logging"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439414104, "post_id": 31974056, "comment_id": 51857696, "body": "Have you tried overriding the <code>OnActionExecuting</code>, <code>OnActionExecuted</code>, and <code>OnException</code> in the base controller class?"}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439428056, "post_id": 31974056, "comment_id": 51861779, "body": "I didn&#39;t. I was reading on those and I am not very sure how to implement those. Let&#39;s say I add those filters. How do I return the request, response, exception back to the base class?"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439409368, "post_id": 31974159, "comment_id": 51855239, "body": "This way we will have to implement that abstract method in each child class?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439409521, "post_id": 31974159, "comment_id": 51855326, "body": "Yes, without using some kind of IL modification tool like Fody you are going to have to force a pattern here. Being that its marked abstract, it forces every child class to implement it."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439410143, "post_id": 31974159, "comment_id": 51855621, "body": "Postsharp (<a href=\"https://www.postsharp.net/diagnostics/net-logging\" rel=\"nofollow noreferrer\">postsharp.net/diagnostics/net-logging</a>) also has features for logging like this, and is an IL modification tool."}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439411487, "post_id": 31974159, "comment_id": 51856293, "body": "What if these were controllers inheriting from a base class and we need to log all the requests/responses for the action methods? Would it be any different?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439411640, "post_id": 31974159, "comment_id": 51856383, "body": "I think you are adding information that may be very important and should have been in your original post. Is this a web application? Are you wanting to intercept web requests and log the data before its passed on to the controller?"}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "edited": false, "score": 0, "creation_date": 1439411980, "post_id": 31974159, "comment_id": 51856564, "body": "I am sorry but yes. This is a web application and I would like to log each api method request, response, exception. I will edit my original post to include this. Maybe we can add a custom Action Filter that we can decorate on all controllers?"}], "tags": [], "owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1439409013, "creation_date": 1439409013, "answer_id": 31974159, "question_id": 31974056, "link": "https://stackoverflow.com/questions/31974056/request-response-of-an-child-class-api-in-parent-class/31974159#31974159", "title": "Request/Response of an Child class API in Parent Class", "body": "<p>Yes, there is a way to do this but it can become messy. Here is one implementation:</p>\n\n<pre><code>public abstract class BaseClass\n{\n    public void DoSomething(int one, int two, int three)\n    {\n        Log(string.Format(\"Method: DoSomething({0}, {1}, {2})\", one, two, three));\n\n        try\n        {\n            DoSomethingInternal(one, two, three);\n        }\n        catch (Exception ex)\n        {\n            Log(string.Format(\"Method: DoSomething Exception: \" + ex.ToString()));\n            throw ex;\n        }\n    }\n\n    public abstract void DoSomethingInternal(int one, int two, int three);\n}\n\npublic class ChildClass : BaseClass\n{\n    public override void DoSomethingInternal(int one, int two, int three)\n    {\n        throw new Exception(\"I have no idea what to do\");\n    }\n}\n</code></pre>\n\n<p>The methods actually live in the base class which calls an abstract method that the child classes implement. These can be wrapped in try/catches to catch any error that comes through. C#6 makes it easier with exception filters but I'll leave that up to you to decide to use.</p>\n"}], "owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439412040, "creation_date": 1439408639, "last_edit_date": 1439412040, "question_id": 31974056, "link": "https://stackoverflow.com/questions/31974056/request-response-of-an-child-class-api-in-parent-class", "title": "Request/Response of an Child class API in Parent Class", "body": "<p>I have many classes all inheriting from one base class. So I want to log the request (just the input parameters of the methods), the response (if there is one) and any exception (if there is one). </p>\n\n<p>I can go ahead and modify all methods to do this and in future all methods need to implement this.</p>\n\n<p>Or I was thinking if there is a way to log this info in the base class so that I can go and update only the base class and not the child class methods. I am not sure if it is possible to do it this way? If not, whats the best way to do something like this?</p>\n\n<p>EDIT: This is a web application (MVC) and all controllers are inheriting from a base class and I need to log all action method hits (request, response, exception, etc)</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "wpf", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 11270, "user_id": 590088, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed3c16678b7536774b5eef75cee2e764?s=128&d=identicon&r=PG", "display_name": "eran otzap", "link": "https://stackoverflow.com/users/590088/eran-otzap"}, "is_accepted": true, "score": 3, "last_activity_date": 1546186901, "last_edit_date": 1546186901, "creation_date": 1439417881, "answer_id": 31976351, "question_id": 31974034, "link": "https://stackoverflow.com/questions/31974034/how-can-i-hide-remove-a-wpf-columnheaderstyle-column-header/31976351#31976351", "title": "How can I hide/remove a WPF ColumnHeaderStyle column header?", "body": "<p>This is a tricky issue so bear with me.\nThe extra DataGridColumn header is named <strong>PART_FillerColumnHeader</strong>. \nIt is placed behind the ItemsPresenter located within <strong>PART_ColumnHeadersPresenter</strong>.</p>\n\n<p>A <strong>simplification</strong> of a DataGridTemplate ( not really all it contains but just the relevant parts).</p>\n\n<pre><code>  &lt;ControlTemplate&gt;\n      &lt;Grid&gt;\n          &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition Height=\"*\"/&gt;\n          &lt;/Grid.RowDefinitions&gt;\n\n          &lt;DataGridColumnHeadersPresenter x:Name=\"PART_ColumnHeadersPresenter\" \n               Style=\"{StaticResource DataGridColumnHeaderStyle}\"/&gt;                                                                 \n          &lt;ScrollContentPresenter Grid.Row=\"1\" x:Name=\"PART_ScrollContentPresenter\" /&gt;                \n     &lt;/Grid&gt;      \n  &lt;/ControlTemplate&gt;\n</code></pre>\n\n<p>our interest is in <strong>DataGridColumnHeadersPresenter</strong> , lets take a look inside.\n<strong>Simplified</strong></p>\n\n<pre><code> &lt;Style x:Key=\"DataGridColumnHeadersPresenterStyle\" TargetType=\"{x:Type DataGridColumnHeadersPresenter}\"&gt;           \n    &lt;Setter Property=\"Template\"&gt;\n      &lt;Setter.Value&gt;\n         &lt;ControlTemplate TargetType=\"{x:Type DataGridColumnHeadersPresenter}\"&gt;\n            &lt;Grid&gt;                                                                                                                          \n               &lt;DataGridColumnHeader x:Name=\"PART_FillerColumnHeader\" IsHitTestVisible=\"False\" /&gt;\n               &lt;ItemsPresenter /&gt;\n            &lt;/Grid&gt;\n          &lt;/ControlTemplate&gt;\n       &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n  &lt;/Style&gt;\n</code></pre>\n\n<p>Now the ItemContainers of <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.datagridcolumnheaderspresenter%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">DataGridColumnHeadersPresenter</a> are of type DataGridColumnHeader. \nWhen you assign a ColumnHeaderStyle to your DataGrid. It is applied to the Items of DataGridColumnHeaderPresenter and to <strong>PART_FillerColumnHeader</strong> AS WELL.</p>\n\n<p>As shown above <strong>PART_FillerColumnHeader</strong> is placed behind the ItemsPresenter. The Items of ColumnHeadersPresenter are rendered to that ItemsPrsenter (meaning all the other column headers).And that's why you see that extra column header. \nThe extra column header you see behind your column headers. </p>\n\n<p>Now how to get rid of it. simple assign it a style of it's own. </p>\n\n<p></p>\n\n<p>You can just copy paste the default one using Blend.   </p>\n"}], "owner": {"reputation": 33, "user_id": 4262752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a0f667005769fb3704c8b99f6a4f037?s=128&d=identicon&r=PG&f=1", "display_name": "Levente Kovacs", "link": "https://stackoverflow.com/users/4262752/levente-kovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 1, "accepted_answer_id": 31976351, "answer_count": 1, "score": 2, "last_activity_date": 1546186901, "creation_date": 1439408596, "last_edit_date": 1439413780, "question_id": 31974034, "link": "https://stackoverflow.com/questions/31974034/how-can-i-hide-remove-a-wpf-columnheaderstyle-column-header", "title": "How can I hide/remove a WPF ColumnHeaderStyle column header?", "body": "<p>I have a DataGrid ColumnHeaderStyle issue, in my case I wanted to add these components(textblock, button) to the all columns headers, but generated a wrong/fake column header too, so appear columns with their headers( Dosage + Btn, Drug + Btn, Patient + Btn, Date + Btn), and plus a fake column header with no header name, which contains only a button -> \"\" + btn.\nDatagrid has no predefined columns.\nMy question is how can I hide/remove/disable or cancel this fake column header?\nAny suggests?</p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;Window.Resources&gt;\n\n    &lt;Style x:Key=\"dgheaderstyle\" TargetType=\"{x:Type DataGridColumnHeader}\"&gt;\n        &lt;Setter Property=\"Template\"&gt;\n         &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"{x:Type DataGridColumnHeader}\" &gt;\n                    &lt;StackPanel Orientation=\"Horizontal\" &gt;\n                        &lt;TextBlock Text=\"{Binding}\" /&gt;\n                        &lt;Button Content=\"Click\"&gt;&lt;/Button&gt;\n                    &lt;/StackPanel&gt;\n\n                &lt;/ControlTemplate&gt;\n\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n\n&lt;/Window.Resources&gt;\n\n&lt;Grid&gt;\n    &lt;DataGrid ItemsSource=\"{Binding}\"  ColumnHeaderStyle=\"{StaticResource dgheaderstyle}\" HorizontalAlignment=\"Left\" Height=\"262\" Margin=\"10,21,0,0\" VerticalAlignment=\"Top\" Width=\"472\"&gt;        \n    &lt;/DataGrid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Code behind:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n   public MainWindow()\n        {\n            InitializeComponent();\n            DataTable table = new DataTable();\n            table.Columns.Add(\"Dosage\", typeof(int));\n            table.Columns.Add(\"Drug\", typeof(string));\n            table.Columns.Add(\"Patient\", typeof(string));\n            table.Columns.Add(\"Date\", typeof(DateTime));\n\n            table.Rows.Add(25, \"Indocin\", \"David\", DateTime.Now);\n            table.Rows.Add(50, \"Enebrel\", \"Sam\", DateTime.Now);\n            table.Rows.Add(10, \"Hydralazine\", \"Christoff\", DateTime.Now);\n            table.Rows.Add(21, \"Combivent\", \"Janet\", DateTime.Now);\n            table.Rows.Add(100, \"Dilantin\", \"Melanie\", DateTime.Now);\n\n            DataContext = table;\n        }\n }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "visual-studio"], "owner": {"reputation": 397, "user_id": 1049984, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/4487b38eafb48c59344cf2f9fd4b4ff2?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/1049984/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439408564, "creation_date": 1439408564, "question_id": 31974023, "link": "https://stackoverflow.com/questions/31974023/comparing-and-validating-a-date-input-with-a-stored-date", "title": "Comparing and validating a date input with a stored date", "body": "<p>I have a textbox where a user is inputting a date (line date). If the date they input is greater than a related date (header date) I want asp.net to throw an error. I am trying to do this dynamicly but am getting an error saying cannot convert data type to \"date\". </p>\n\n<p>ASP.NET CODE (WHERE I AM DOING THE VALIDATION):</p>\n\n<pre><code>&lt;asp:CompareValidator ID=\"valBidContractEnd\" runat=\"server\" Text=\"*\" \n                            ErrorMessage=\"Error: Bid End Date must be after the effective date of the bid.\" Type=\"Date\"\n                            Display=\"Dynamic\" ValueToCompare='&lt;%#Eval(\"ContractEndDate\", \"{0:d}\")%&gt;' ControlToValidate=\"dtEnd\" Operator=\"GreaterThanEqual\"/&gt;\n</code></pre>\n\n<p>Where I am reading the date it is comparing to, this is called in page load:</p>\n\n<pre><code>private void LoadContractInfo()\n{\n    if (QSContractID.HasValue)\n    {\n        ContractData data = new ContractData();\n        using (IDataReader r = data.ContractGet(QSContractID.Value))\n        {\n            if (r.Read())\n            {\n                lblContractName.Text = r[\"ContractName\"].ToStr();\n                lblContractRefNo.Text = r[\"ContractRefNo\"].ToStr();\n                r[\"ContractEndDate\"].ToDateTime();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "initialization", "usb", "communication"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439409963, "post_id": 31974004, "comment_id": 51855531, "body": "Seeing how this is very specific to a piece of equipment 99.9% of us don&#39;t have, you may not get a lot of help here. I would suggest contacting the people who published the API and ask for help directly."}, {"owner": {"reputation": 31, "user_id": 5220729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68bae490e803292d6c7687edce09edca?s=128&d=identicon&r=PG&f=1", "display_name": "rtyson", "link": "https://stackoverflow.com/users/5220729/rtyson"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439410786, "post_id": 31974004, "comment_id": 51855902, "body": "I&#39;m not looking for a specific set of code. I&#39;m looking for how to open, write, read, and close a USB port. &quot;*IDN?&quot; is just a standard command you send to an instrument to read the identity of the instrument. I&#39;m not looking for exact commands, I&#39;m looking for direction."}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 426386, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cf04e973428150a880deb5f034700301?s=128&d=identicon&r=PG", "display_name": "Florian", "link": "https://stackoverflow.com/users/426386/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1484148547, "last_edit_date": 1484148547, "creation_date": 1446567217, "answer_id": 33503908, "question_id": 31974004, "link": "https://stackoverflow.com/questions/31974004/how-to-connect-to-instrument-through-usb-using-c/33503908#33503908", "title": "How to connect to instrument through USB using c#", "body": "<p>Restart your device once. Clearing the IO also helps. Afterwards following code should work fine:</p>\n\n<pre><code>    string resourceString= \"USB0::xxx::xxx::xxx::0::INSTR\";  \n    ResourceManager manager = new ResourceManager();  \n    FormattedIO488 connection = new FormattedIO488();\n    connection.IO = (IMessage)manager.Open(resourceString, AccessMode.NO_LOCK, 0, \"\");\n    connection.IO.Clear();\n    connection.WriteString(\"*IDN?\", true);\n    string result = connection.ReadString();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 10748180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/266f6663e3deab245bb83bcff903bcdc?s=128&d=identicon&r=PG&f=1", "display_name": "EngineerDude", "link": "https://stackoverflow.com/users/10748180/engineerdude"}, "edited": false, "score": 0, "creation_date": 1544055577, "post_id": 53642746, "comment_id": 94144867, "body": "Also, be sure to see if the specific command you are sending to the specific instrument requires you to wait a specified time to process the command.  This is related to the equipment you are programming and not the programming itself."}], "tags": [], "owner": {"reputation": 41, "user_id": 10748180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/266f6663e3deab245bb83bcff903bcdc?s=128&d=identicon&r=PG&f=1", "display_name": "EngineerDude", "link": "https://stackoverflow.com/users/10748180/engineerdude"}, "is_accepted": false, "score": 2, "last_activity_date": 1544055339, "creation_date": 1544055339, "answer_id": 53642746, "question_id": 31974004, "link": "https://stackoverflow.com/questions/31974004/how-to-connect-to-instrument-through-usb-using-c/53642746#53642746", "title": "How to connect to instrument through USB using c#", "body": "<p>I do what you are asking all of the time and I completely understand how frustrating it can be.  I remember doing Google searches to come up with this code.  The code actually came from some Keysight documentation when I bought the Agilent 82357B USB/GPIB Controller.</p>\n\n<p>This can be adapted for any GPIB instrument, the only difference being the strings that you send to the instrument.  These can be obtained by getting the programming manual for the instrument in which you're interested.</p>\n\n<p>I installed the Keysight (formerly Agilent) I/O Library Suites that is used with the Agilent 82357B.  One thing that is not obvious is that you should disable the 'Auto Discovery' option, as this feature will occasionally put your device in Local mode.</p>\n\n<pre><code>using System.Threading;\nusing System.Runtime.InteropServices;\n// Add reference for VISA-COM 5.9 Type Library\nusing Ivi.Visa.Interop;\n\nnamespace USBCommunications\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Gpib.Write(address: 5, command: \"*IDN?\");\n            bool success = Gpib.Read(address: 5, valueRead: out string valueRead);\n            System.Console.WriteLine($\"The ID is {valueRead}\");\n\n            System.Console.ReadLine();\n        }\n    }\n\n    public class Gpib\n    {\n        static ResourceManager resourceManager;\n        static FormattedIO488 ioObject;\n\n        public static bool Write(byte address, string command)\n        {\n            resourceManager = new ResourceManager();\n            ioObject = new FormattedIO488();\n\n            string addr = $\"GPIB::{address.ToString()}::INSTR\";\n\n            try\n            {\n                ioObject.IO = (IMessage)resourceManager.Open(addr, AccessMode.NO_LOCK, 0, \"\");\n                Thread.Sleep(20);\n                ioObject.WriteString(data: command, flushAndEND: true);\n\n                return true;\n            }\n            catch\n            {\n                return false;\n            }\n            finally\n            {\n                try { ioObject.IO.Close(); }\n                catch { }\n                try { Marshal.ReleaseComObject(ioObject); }\n                catch { }\n                try { Marshal.ReleaseComObject(resourceManager); }\n                catch { }\n            }\n        }\n\n\n        public static bool Read(byte address, out string valueRead)\n        {\n            resourceManager = new ResourceManager();\n            ioObject = new FormattedIO488();\n\n            string addr = $\"GPIB::{address.ToString()}::INSTR\";\n\n            try\n            {\n                ioObject.IO = (IMessage)resourceManager.Open(addr, AccessMode.NO_LOCK, 0, \"\");\n                Thread.Sleep(20);\n                valueRead = ioObject.ReadString();\n\n                return true;\n            }\n            catch\n            {\n                valueRead = \"\";\n                return false;\n            }\n            finally\n            {\n                try { ioObject.IO.Close(); }\n                catch { }\n                try { Marshal.ReleaseComObject(ioObject); }\n                catch { }\n                try { Marshal.ReleaseComObject(resourceManager); }\n                catch { }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Happy programming!!</p>\n"}], "owner": {"reputation": 31, "user_id": 5220729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68bae490e803292d6c7687edce09edca?s=128&d=identicon&r=PG&f=1", "display_name": "rtyson", "link": "https://stackoverflow.com/users/5220729/rtyson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6656, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1556084854, "creation_date": 1439408494, "question_id": 31974004, "link": "https://stackoverflow.com/questions/31974004/how-to-connect-to-instrument-through-usb-using-c", "title": "How to connect to instrument through USB using c#", "body": "<p>I am trying to use the Ivi.Visa.Interop .dll to communicate to a Voltech PM1000+ power meter using USB. I'm relatively new to C# and do not know really where to start. I am using Visual Studio 2015 Community. I have already talked to a different instrument using GPIB and here is the code for that:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing Ivi.Visa.Interop;\n\n\nnamespace commOverIP\n{\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void InitiateIOBtn_Click(object sender, EventArgs e)\n    {\n        ///testing out excel\n        InitiateIOBtn.Text = \"Initializing\";\n\n\n\n        try\n        {\n            // resource manager and message-based session manager\n            Ivi.Visa.Interop.ResourceManager mngr = new Ivi.Visa.Interop.ResourceManager();\n\n            // GPIB address\n            string srcAddress = \"GPIB::27::INSTR\"; // GPIB address of data acquisition\n            //setting up communication\n            Ivi.Visa.Interop.FormattedIO488 instrument = new Ivi.Visa.Interop.FormattedIO488();\n            Ivi.Visa.Interop.IMessage Imsg = (mngr.Open(srcAddress, Ivi.Visa.Interop.AccessMode.NO_LOCK, 1000, \"\") as IMessage);\n            instrument.IO = Imsg;\n\n            instrument.IO.Clear();//clear io buffer\n            instrument.WriteString(\"*RST\", true);//send RST? command to instrument\n            instrument.WriteString(\"*IDN?\", true);//send IDN? command to instrument\n            returnOfCommand.Text = instrument.ReadString();//read IDN? result\n\n            //close communication\n            instrument.IO.Close();\n            System.Runtime.InteropServices.Marshal.ReleaseComObject(instrument);\n            System.Runtime.InteropServices.Marshal.ReleaseComObject(mngr);\n\n            InitiateIOBtn.Text = \"Initialize I/O\";\n            //*/\n        }\n        catch(Exception exp)\n        {\n            MessageBox.Show(exp.Message);\n        }\n        InitiateIOBtn.Text = \"Initialize I/O\";\n    }\n}\n}\n</code></pre>\n\n<p>This works fine but USB seems to be a different beast. The only real lead I found was in the .dll with the:\nIUsb.Init(string, Ivi.Visa.Interop.AccessMode, int, string)\nI tried implementing this but I don't really know where to start. </p>\n\n<p>If anyone could give me an example of how to query a \"*IDN?\" command that would be great. Or, even if there is a better way of doing this than through the Ivi.Visa.Interop dll.</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["c#", "wpf", "collections"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409042, "post_id": 31973983, "comment_id": 51855068, "body": "I&#39;m a bit confused by your MyCollection class. You have a method called DataTransferObjectCollection with no return type, so effectively it is a constructor with the wrong name"}, {"owner": {"reputation": 670, "user_id": 2759538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1817647009/picture?type=large", "display_name": "Prasaanth Neelakandan", "link": "https://stackoverflow.com/users/2759538/prasaanth-neelakandan"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409189, "post_id": 31973983, "comment_id": 51855154, "body": "sorry.. renamed it. that was the constructor."}], "answers": [{"comments": [{"owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "reply_to_user": {"reputation": 670, "user_id": 2759538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1817647009/picture?type=large", "display_name": "Prasaanth Neelakandan", "link": "https://stackoverflow.com/users/2759538/prasaanth-neelakandan"}, "edited": false, "score": 0, "creation_date": 1439449199, "post_id": 31974105, "comment_id": 51868392, "body": "I&#39;d get your server to just return <code>IEnumerable&lt;T&gt;</code> - you can create your custom collection from this using its constructor after the items are retrieved.  I don&#39;t see any particular reason the server needs to depend on the custom collection (in fact, it&#39;s making life complicated!)."}], "tags": [], "owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "is_accepted": true, "score": 2, "last_activity_date": 1439408846, "creation_date": 1439408846, "answer_id": 31974105, "question_id": 31973983, "link": "https://stackoverflow.com/questions/31973983/to-get-current-generic-item-item-inside-of-collectionchanged/31974105#31974105", "title": "to get current generic item item inside of CollectionChanged", "body": "<p><code>OldItems</code> is not generic (it is <code>IList</code> not <code>IList&lt;T&gt;</code>), so you will need to cast the items.</p>\n\n<p>Either:</p>\n\n<pre><code>foreach(T item in e.OldItems)\n{\n    deletedList.Add(item);\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>deletedList.AddRange(e.OldItems.Cast&lt;T&gt;());\n</code></pre>\n\n<p>On tracking additions, you'll want to use <code>NewItems</code>.  As an aside, this will not capture changes occurring during replace (e.g. <code>c[0] = &lt;new item&gt;</code>) or reset (e.g. after <code>Clear</code> is called).</p>\n\n<p>I'd also note your <code>GetAddedChanges</code> could be simplified (And similarly <code>GetDeletedChanges</code>):</p>\n\n<pre><code>return new ObservableCollection&lt;T&gt;(addedList);\n</code></pre>\n\n<p>Though it's not clear why the return type would need to be <code>ObservableCollection&lt;T&gt;</code>.</p>\n"}], "owner": {"reputation": 670, "user_id": 2759538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1817647009/picture?type=large", "display_name": "Prasaanth Neelakandan", "link": "https://stackoverflow.com/users/2759538/prasaanth-neelakandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 31974105, "answer_count": 1, "score": 1, "last_activity_date": 1492895824, "creation_date": 1439408386, "last_edit_date": 1439421773, "question_id": 31973983, "link": "https://stackoverflow.com/questions/31973983/to-get-current-generic-item-item-inside-of-collectionchanged", "title": "to get current generic item item inside of CollectionChanged", "body": "<p>I have a custom collection that inherits IEnumerable.</p>\n\n<pre><code>public class MyCollection&lt;T&gt; : IEnumerable&lt;T&gt;   \n{\n    private ObservableCollection&lt;T&gt; currentList = new ObservableCollection&lt;T&gt;();\n\n    public ObservableCollection&lt;T&gt; Items\n    {\n        get { return currentList; }  \n        set { currentList = value; }\n    }\n\n    private List&lt;T&gt; deletedList = new List&lt;T&gt;();\n    private List&lt;T&gt; addedList = new List&lt;T&gt;();\n\n    public MyCollection(IEnumerable&lt;T&gt; currentList)\n    {\n        this.currentList = new ObservableCollection&lt;T&gt;(currentList);\n        Items.CollectionChanged+=Items_CollectionChanged;\n    }\n}\n</code></pre>\n\n<p>I wish to track which items were added or deleted . Also , My Items is databound to a UI datagrid in WPF. The binding works fine if i bind to the Items instead of MyCollection . However , I want to track the added , removed items as below.\nAm assuming the following event is caught when I add or remove any item from the UI.</p>\n\n<p>As each row gets added to the DataGrid , I wish this even to be called to save the last added entry.</p>\n\n<p>Now how do I get the current added or removed item in this ?</p>\n\n<pre><code>private void Items_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n{  \n    if (e.Action == NotifyCollectionChangedAction.Remove)\n    {\n        //this doesn't work  ( I List is not assignable to IEnumerable T\n        deletedList.AddRange(e.OldItems);\n    }\n\n    if (e.Action == NotifyCollectionChangedAction.Add)\n    {\n        //this doesnt work \n        addedList.AddRange(e.OldItems);\n    }\n}\n</code></pre>\n\n<p>I only get the added or deleted items .</p>\n\n<pre><code>public ObservableCollection&lt;T&gt; GetAddedChanges()\n{\n    var added = new ObservableCollection&lt;T&gt;();\n    addedList.ToList().ForEach(added.Add);\n\n    return added;\n}\n\npublic ObservableCollection&lt;T&gt; GetDeletedChanges()\n{\n    var deleted = new ObservableCollection&lt;T&gt;();\n    deletedList.ToList().ForEach(deleted.Add);\n    return deleted;\n}\n</code></pre>\n\n<p>UPDATE :\nThe initial answer here worked i.e the Cast() option and I was able to get only the added members from my list and save them.</p>\n\n<p>There is another issue . I am getting my server to return MyCollection . The sad thing is that my server when it de serializes to collection objects , it gets caught by the Added event of the Items_CollectionChanged  , hence my added List faultily returns 2 items in added list always .</p>\n\n<p>To solve this :</p>\n\n<p>1) Subscribe to the event after server returns instead of MyCollection constructor. i.e Subscribe in another StartTracking( ).</p>\n\n<p>2) Clear the added, deletd lists after getting the response from server .</p>\n\n<p>Which of these would be better ? And are there any alternate solutions ?</p>\n\n<p>This is the flow basically :</p>\n\n<p>UI -- > OBservableCollection --> MyCollection ( where I track added /del elements )  --> Save to Server    ..   To fetch from server , I have my server side code return MyCollectionwith entries in it.</p>\n"}, {"tags": ["c#", "msbuild", "xcopy", "project-reference", "msbuild-projectreference"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 1076839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3e0d538bbc94294993d1abaf0229f9a?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1076839/clark"}, "edited": false, "score": 0, "creation_date": 1439489940, "post_id": 31974535, "comment_id": 51895319, "body": "I was able to get the process to clean up after itself by using: <code>Exec Command=&quot;taskkill &#47;fi &amp;quot;IMAGENAME eq ProcessToKill.exe&amp;quot; &#47;F&quot;</code> as if the process happened to not be running, an error would be thrown with the /IM switch.  Additionally, adding a reference from Project A to Project C was necessary to keep the DLLs from being deleted.  Thanks for the help!"}], "tags": [], "owner": {"reputation": 201, "user_id": 5218447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3a8a31f68dacec6867c0ff5b49fd54?s=128&d=identicon&r=PG&f=1", "display_name": "Dave C", "link": "https://stackoverflow.com/users/5218447/dave-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1439410448, "creation_date": 1439410448, "answer_id": 31974535, "question_id": 31973961, "link": "https://stackoverflow.com/questions/31973961/conditionally-copy-dependencies-msbuild/31974535#31974535", "title": "Conditionally Copy Dependencies MSBuild", "body": "<p>It sounds like your main problem is that your application doesn't clean up after itself. If your application is starting the processes, it should stop them when it is closed. You should call Process.Kill() on any processes that you've started before your application is closed.</p>\n\n<p>Having said that, both 1) and 2) are possible:</p>\n\n<p>1) You can call any executable from msbuild using the <a href=\"https://msdn.microsoft.com/en-us/library/x8zx72cd.aspx\" rel=\"nofollow\">Exec task</a>. You can use this task to call the \"taskkill\" command.</p>\n\n<pre><code> &lt;Target Name=\"BeforeBuild\"&gt;\n    &lt;Exec Command=\"taskkill /IM ProcessToKill.exe /F\"/&gt;\n&lt;/Target&gt;\n</code></pre>\n\n<p>2) The <a href=\"https://msdn.microsoft.com/en-us/library/3e54c37h.aspx\" rel=\"nofollow\">msbuild Copy task</a> has a \"SkipUnchangedFiles\" parameter that will only copy files if the files are newer than the existing files:</p>\n\n<pre><code>&lt;Target Name=\"AfterBuild\"&gt;\n    &lt;Copy\n        SourceFiles=\"@(DllLocation)\"\n        DestinationFolder=\"@(DllLocation-&gt;'$(OutputDir)%(RecursiveDir)%(Filename)%(Extension)')\"\n        SkipUnchangedFiles=\"true\"\n    /&gt;\n&lt;/Target&gt;\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 1076839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3e0d538bbc94294993d1abaf0229f9a?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1076839/clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 31974535, "answer_count": 1, "score": 0, "last_activity_date": 1439410448, "creation_date": 1439408317, "last_edit_date": 1592644375, "question_id": 31973961, "link": "https://stackoverflow.com/questions/31973961/conditionally-copy-dependencies-msbuild", "title": "Conditionally Copy Dependencies MSBuild", "body": "<p>We have our solution set up so that Project A References Project B, Project B references Project C, and Project C has a .NET wrapper that references native DLLs.</p>\n<p>A -&gt; B -&gt; C -&gt; Native DLLs via .NET Wrapper</p>\n<p>The reason for the convolution is we are dealing with 3rd party hardware, or we would reference the DLLs straight from project B.  Anyway --</p>\n<p>We are trying to get some files (native DLLs) that are referenced in project C, copied over to project A.  <strong>Copy local with build action of &quot;Content&quot; does not work</strong> because MSBuild will fail saying that it cannot overwrite the files as once they start they launch, the processes do not clean up after themselves and remain running.</p>\n<ol>\n<li><p>Is it possible to have MSBuild attempt to kill processes before building?</p>\n<p>OR</p>\n</li>\n<li><p>Is it possible to conditionally copy the native DLLs from project B to project A if they do not exist with MSBuild?  Project A's bin folder is where they launch from, and this is where the build fails (not from project C to B).</p>\n</li>\n</ol>\n"}, {"tags": ["c#", "jquery", ".net", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 2192106, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/vN0NG.jpg?s=128&g=1", "display_name": "ryandonohue", "link": "https://stackoverflow.com/users/2192106/ryandonohue"}, "is_accepted": false, "score": 0, "last_activity_date": 1439408222, "creation_date": 1439408222, "answer_id": 31973935, "question_id": 31973815, "link": "https://stackoverflow.com/questions/31973815/error-500-using-c-webmethod-from-jquery-ajax/31973935#31973935", "title": "Error 500 using C# WebMethod from jQuery ajax", "body": "<p>After more looking I found out that GET and POST are disabled by default in .NET.  I added this to the web.config file:</p>\n\n<pre><code>  &lt;webServices&gt;\n    &lt;protocols&gt;\n      &lt;add name=\"HttpGet\"/&gt;\n      &lt;add name=\"HttpPost\"/&gt;\n    &lt;/protocols&gt;\n  &lt;/webServices&gt;\n</code></pre>\n\n<p>For more information look <a href=\"https://support.microsoft.com/en-us/kb/819267\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 173, "user_id": 2192106, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/vN0NG.jpg?s=128&g=1", "display_name": "ryandonohue", "link": "https://stackoverflow.com/users/2192106/ryandonohue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439581920, "creation_date": 1439407741, "last_edit_date": 1439581791, "question_id": 31973815, "link": "https://stackoverflow.com/questions/31973815/error-500-using-c-webmethod-from-jquery-ajax", "title": "Error 500 using C# WebMethod from jQuery ajax", "body": "<p>I keep getting error 500 from my ajax function when trying to call WebMethod.</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"BookingCalendar.aspx/TestFunction\",\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: function (msg) {\n        alert(msg);\n    },\n    error: function () {\n        alert(\"Error\");\n    }\n});\n\n\n[WebMethod]\npublic static string TestFunction()\n{\n    return DateTime.Now.ToString();\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1439407793, "post_id": 31973786, "comment_id": 51854444, "body": "Your code doesn&#39;t have <code>codetype</code> anywhere."}, {"owner": {"reputation": 39, "user_id": 3802248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739e3c2cbd9fe902dc232e23fa29dea3?s=128&d=identicon&r=PG&f=1", "display_name": "user3802248", "link": "https://stackoverflow.com/users/3802248/user3802248"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1439409431, "post_id": 31973786, "comment_id": 51855274, "body": "I have edit the question"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1439409785, "post_id": 31973786, "comment_id": 51855452, "body": "You shouldn&#39;t access your database directly from the MVC layer (well, not if you don&#39;t want maintenance headaches later on). Create a data layer for your application and centralize all database access in that layer. Your MVC layer should only call the public functions of your data layer. Inside the data layer, you can hide the complexities of database access, stored procedures or even remote web services (since some of your data may come from external services but you don&#39;t want your MVC layer to care about that."}], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 5219524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Jj1N.png?s=128&g=1", "display_name": "Nyhlus", "link": "https://stackoverflow.com/users/5219524/nyhlus"}, "is_accepted": false, "score": 0, "last_activity_date": 1439413555, "last_edit_date": 1439413555, "creation_date": 1439410029, "answer_id": 31974415, "question_id": 31973786, "link": "https://stackoverflow.com/questions/31973786/how-to-use-stored-procedure-with-mvc-in-asp-net/31974415#31974415", "title": "How to use stored procedure with MVC in ASP.NET", "body": "<p>Sample Procedur (Filter the Items in the Procedure with @Code):</p>\n\n<pre><code>IF OBJECT_ID ('Mike', 'IF') IS NOT NULL \n    DROP FUNCTION dbo.Mike;\nGO\nCREATE FUNCTION dbo.Mike(\n    @Code varchar(256)\n) \nRETURNS TABLE\nAS \nRETURN(--Select Whatever Where Code = @Code);\nGO\n</code></pre>\n\n<p>The coresponding Code for Procedure returning single Value in EF6:</p>\n\n<pre><code>public static string GetMike(string parCode) \n{\n    if (parCode == null)\n        throw new ArgumentNullException(\"parCode\", \"parCode cannot be a null reference\");\n\n    string r = null;\n    using (var db = new YourDbContext())\n    {\n        r = db.Mike(parCode).First();\n    }\n    return r;\n}\n</code></pre>\n\n<p>Code for Procedures returning n Rows (For example: load it in predefined BindingSource):</p>\n\n<pre><code>using (var db = new YourDbContext())\n{\n     YourBindingBindingSource.DataSource = db.Mike(parCode).ToList();\n}\n</code></pre>\n\n<p>(for ToList() -> using System.Data.Entity)            </p>\n"}], "owner": {"reputation": 39, "user_id": 3802248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739e3c2cbd9fe902dc232e23fa29dea3?s=128&d=identicon&r=PG&f=1", "display_name": "user3802248", "link": "https://stackoverflow.com/users/3802248/user3802248"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1439413555, "creation_date": 1439407596, "last_edit_date": 1439409321, "question_id": 31973786, "link": "https://stackoverflow.com/questions/31973786/how-to-use-stored-procedure-with-mvc-in-asp-net", "title": "How to use stored procedure with MVC in ASP.NET", "body": "<p>I have tried several ways but could not come up with any solution. \nI have stored procedure in database(it is called 'mike') and it returns single columned list(called 'code'). There is already connection been made in Visual Studio(C#) using ADO.NET EntityDataModel. The code as follows:</p>\n\n<p><strong>In Controller Folder</strong></p>\n\n<pre><code>public class TestController : Controller\n{\n\n    TestContext db = new TestContext();\n    //\n    // GET: /Test/\n\n    public ActionResult Index()\n    {\n\n        var test = (from p in db.Mike() select new TestResult { sample = p.code}).ToList&lt;TestResult&gt;();\n\n        return View(test);\n    }\n</code></pre>\n\n<p><strong>In Model Folder</strong></p>\n\n<pre><code>public class TestResult\n{\n    public string sample { get; set; }\n}\n</code></pre>\n\n<p><strong>Error I am recieving is</strong></p>\n\n<p>Error   1   'string' does not contain a definition for 'code' and no extension method 'code' accepting a first argument of type 'string' could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p><strong>How can i fix it</strong></p>\n"}, {"tags": ["c#", "httpwebrequest", "webrequest"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439407792, "post_id": 31973760, "comment_id": 51854443, "body": "And the error says what?"}, {"owner": {"reputation": 203, "user_id": 4279901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c78217dbfe4e5091ee7ee5876581caed?s=128&d=identicon&r=PG", "display_name": "Josh Brown Kramer", "link": "https://stackoverflow.com/users/4279901/josh-brown-kramer"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1439418440, "post_id": 31973760, "comment_id": 51859360, "body": "@RonBeyer  The content of csv is a page from mint: &lt;h1&gt;Perhaps you took a wrong turn?&lt;/h1&gt; &lt;p&gt;Sorry about this! Here are a few things you can try:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;/login.event&quot;&gt;Log in again&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/overview.event&quot;&gt;Go to your overview&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;"}, {"owner": {"reputation": 440, "user_id": 4670898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHhqI.png?s=128&g=1", "display_name": "James Mart", "link": "https://stackoverflow.com/users/4670898/james-mart"}, "edited": false, "score": 0, "creation_date": 1441684799, "post_id": 31973760, "comment_id": 52761014, "body": "Did you resolve this, Josh? The error you were getting suggests that you weren&#39;t properly logged in."}, {"owner": {"reputation": 203, "user_id": 4279901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c78217dbfe4e5091ee7ee5876581caed?s=128&d=identicon&r=PG", "display_name": "Josh Brown Kramer", "link": "https://stackoverflow.com/users/4279901/josh-brown-kramer"}, "edited": false, "score": 0, "creation_date": 1441801910, "post_id": 31973760, "comment_id": 52819996, "body": "I agree that I wasn&#39;t properly logged in.  I was looking for some insight into why the code I posted wasn&#39;t properly logging in.  In the end, I gave up and downloaded an API someone put together in Python."}, {"owner": {"reputation": 440, "user_id": 4670898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHhqI.png?s=128&g=1", "display_name": "James Mart", "link": "https://stackoverflow.com/users/4670898/james-mart"}, "edited": false, "score": 0, "creation_date": 1441854880, "post_id": 31973760, "comment_id": 52845085, "body": "Alright, I&#39;m working on it in C# now, I&#39;ve found that it&#39;s token based authentication and so I&#39;m working on grabbing and reusing the token. I&#39;ll let you know if I figure this out."}], "owner": {"reputation": 203, "user_id": 4279901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c78217dbfe4e5091ee7ee5876581caed?s=128&d=identicon&r=PG", "display_name": "Josh Brown Kramer", "link": "https://stackoverflow.com/users/4279901/josh-brown-kramer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1552595173, "creation_date": 1439407516, "question_id": 31973760, "link": "https://stackoverflow.com/questions/31973760/logging-in-to-mint-with-c", "title": "Logging in to mint with C#", "body": "<p>I want to get a csv file from mint.com and manipulate it in C#.  I have to log in to do this.  I have followed the suggestions of another post on Stack Overflow and have come up with the following code.  Unfortunately, the result I get is not the intended CSV but instead an error page.  Any insight into what I am doing wrong or how I could do this another way?</p>\n\n<pre><code>    string cookieHeader = CookieHeaderFromMintLogin(\"myusername\",\"mypassword\");\n    string csvURL = \"https://wwws.mint.com/transactionDownload.event?queryNew=&amp;offset=0&amp;filterType=cash&amp;comparableType=8\";\n    string csv = getResponseWithCookies(csvURL, cookieHeader);\n\n    string CookieHeaderFromMintLogin(string username, string password)\n    {\n\n        string formUrl = \"https://wwws.mint.com/loginJumper.event\"; // NOTE: This is the URL the form POSTs to, not the URL of the form (you can find this in the \"action\" attribute of the HTML's form tag\n        string formBuilId = HttpUtility.UrlEncode(\"form-NAjKdtCT8Z5SuyDHTsmRREioaCMXVEJZpt8-9oaSMEY\");\n        string formId = HttpUtility.UrlEncode(\"mint_auth_mint_com_login_form\");\n        username = HttpUtility.UrlEncode(username);\n        password = HttpUtility.UrlEncode(password);\n        string formParams = string.Format(\"username={0}&amp;password={1}&amp;form_build_id={2}&amp;form_id={3}\", username, password, formBuilId,formId);\n        WebRequest req = WebRequest.Create(formUrl);\n        req.ContentType = \"application/x-www-form-urlencoded\";\n        req.Method = \"POST\";\n        byte[] bytes = Encoding.ASCII.GetBytes(formParams);\n        req.ContentLength = bytes.Length;\n        using (Stream os = req.GetRequestStream())\n        {\n            os.Write(bytes, 0, bytes.Length);\n        }\n        WebResponse resp = req.GetResponse();\n\n        return resp.Headers[\"Set-cookie\"];\n    }\n\n    string getResponseWithCookies(string getUrl, string cookieHeader)\n    {\n        string pageSource;\n        WebRequest getRequest = WebRequest.Create(getUrl);\n        getRequest.Headers.Add(\"Cookie\", cookieHeader);\n        WebResponse getResponse = getRequest.GetResponse();\n        using (StreamReader sr = new StreamReader(getResponse.GetResponseStream()))\n        {\n            pageSource = sr.ReadToEnd();\n        }\n\n        return pageSource;\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "datagridview", "telerik", "telerik-grid"], "comments": [{"owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "edited": false, "score": 0, "creation_date": 1439425281, "post_id": 31973753, "comment_id": 51861191, "body": "This would have been a good Code Review question: <a href=\"http://code\" rel=\"nofollow noreferrer\">code</a> review.stackexchange.com"}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439411122, "post_id": 31973886, "comment_id": 51856094, "body": "Thank your this works perfect is much cleaner. Just out of curiosity is there a easy why to get the min and max values from a class within a entity model?"}, {"owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439411256, "post_id": 31973886, "comment_id": 51856161, "body": "I have this entity class and the min and max will be the val_hi and val_lo and there is a row for ph,brix, etc.     public partial class tbl_ferm_validation     {         public int validation_id { get; set; }         public string sample_type { get; set; }         public Nullable&lt;decimal&gt; val_hi { get; set; }         public Nullable&lt;decimal&gt; val_hihi { get; set; }         public Nullable&lt;decimal&gt; val_lo { get; set; }         public Nullable&lt;decimal&gt; val_lolo { get; set; }        }     }"}, {"owner": {"reputation": 120, "user_id": 2043828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f9f9d6bf067c6d1cb5dc6333c7053b?s=128&d=identicon&r=PG", "display_name": "Ben Steeves", "link": "https://stackoverflow.com/users/2043828/ben-steeves"}, "reply_to_user": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439469670, "post_id": 31973886, "comment_id": 51881417, "body": "Not 100% sure what you&#39;re asking. You can get your entity class from the e.Item.DataItem property. var item = e.Item.DataItem as tbl_ferm_validation;"}, {"owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439474345, "post_id": 31973886, "comment_id": 51885027, "body": "Good morning, I am get an exception and the                float value = float.Parse(cellText); for input string was not in a correct format. The input is a float ex. 6.53. What could this be if the the value is null that will be fine right?"}, {"owner": {"reputation": 120, "user_id": 2043828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f9f9d6bf067c6d1cb5dc6333c7053b?s=128&d=identicon&r=PG", "display_name": "Ben Steeves", "link": "https://stackoverflow.com/users/2043828/ben-steeves"}, "reply_to_user": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439474692, "post_id": 31973886, "comment_id": 51885282, "body": "If cell.Text is null you&#39;ll get a ArgumentNullException. See docs here: <a href=\"https://msdn.microsoft.com/en-us/library/2thct5cb(v=vs.110).aspx\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439476410, "post_id": 31973886, "comment_id": 51886561, "body": "I am get a formatexception the values are in a sql table with a datatype decimal(18,3)."}, {"owner": {"reputation": 120, "user_id": 2043828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f9f9d6bf067c6d1cb5dc6333c7053b?s=128&d=identicon&r=PG", "display_name": "Ben Steeves", "link": "https://stackoverflow.com/users/2043828/ben-steeves"}, "reply_to_user": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439477135, "post_id": 31973886, "comment_id": 51887158, "body": "The cell text is not in the valid format if you are getting a format exception. Use your debugger to see what the value of cell.Text is and try and figure out what&#39;s going on. You can also look into <a href=\"https://msdn.microsoft.com/en-us/library/system.single.tryparse(v=vs.110).aspx\" rel=\"nofollow noreferrer\">float.TryParse</a> to validate your cell text value"}], "tags": [], "owner": {"reputation": 120, "user_id": 2043828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f9f9d6bf067c6d1cb5dc6333c7053b?s=128&d=identicon&r=PG", "display_name": "Ben Steeves", "link": "https://stackoverflow.com/users/2043828/ben-steeves"}, "is_accepted": false, "score": 5, "last_activity_date": 1439408561, "last_edit_date": 1439408561, "creation_date": 1439408016, "answer_id": 31973886, "question_id": 31973753, "link": "https://stackoverflow.com/questions/31973753/refactor-multiple-if-statments/31973886#31973886", "title": "Refactor multiple if statments", "body": "<p>All of your if statements are doing the same thing, you can refactor them into a method.</p>\n\n<pre><code>protected void RadGrid1_ItemDataBound(object sender, Telerik.Web.UI.GridItemEventArgs e)\n{\n    //Is it a GridDataItem\n    if (e.Item is GridDataItem)\n    {\n        //Get the instance of the right type\n        GridDataItem dataBoundItem = e.Item as GridDataItem;\n\n        //Check the formatting condition\n        if (dataBoundItem[\"sample_hour\"].Text == \"4hr YP\")\n        {\n            SetFormatting(dataBoundItem[\"ph\"], 5.72, 4.75);\n            SetFormatting(dataBoundItem[\"brix\"], 22.36, 17.35);\n\n            // etc...\n        }\n\n    }\n}\n\nprivate void SetFormatting(TableCell cell, float minValue, float maxValue)\n{\n    float value = float.Parse(cell.Text);\n\n    if (value &gt; minValue || value &lt; maxValue)\n    {\n        cell.BackColor = Color.Yellow;\n        cell.ForeColor = Color.Black;\n        cell.Font.Bold = true;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439490223, "post_id": 31973928, "comment_id": 51895486, "body": "How would i go about getting these  values from a database?"}, {"owner": {"reputation": 5237, "user_id": 2531341, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vhbsU.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2531341/chris"}, "reply_to_user": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "edited": false, "score": 0, "creation_date": 1439493268, "post_id": 31973928, "comment_id": 51897143, "body": "Explaining that takes a lot more space than what I can fit into these comments..! Google and stackoverflow search is your friend."}], "tags": [], "owner": {"reputation": 5237, "user_id": 2531341, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vhbsU.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2531341/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1439408582, "last_edit_date": 1439408582, "creation_date": 1439408195, "answer_id": 31973928, "question_id": 31973753, "link": "https://stackoverflow.com/questions/31973753/refactor-multiple-if-statments/31973928#31973928", "title": "Refactor multiple if statments", "body": "<p>The logic in the if's is identical, so - move that out into a method of it's own:</p>\n\n<pre><code>private void Logic( GridDataItem dataBoundItem, string key, float max, float min )\n{\n    float f = float.Parse( dataBoundItem[key].Text );\n    if( f &gt; max || f &lt; min )\n    {\n         dataBoundItem[key].BackColor = Color.Yellow;\n         dataBoundItem[key].ForeColor = Color.Black;\n         dataBoundItem[key].Font.Bold = true;\n    }\n}\n</code></pre>\n\n<p>Then use like so:</p>\n\n<pre><code>Logic( dataBoundItem, \"ph\", 5.72, 4.75 );\nLogic( dataBoundItem, \"brix\", 22.36, 17.35 );\n...\n</code></pre>\n\n<p>But then, you still have your data mixed with your logic. So, create a class that holds the data for you (i.e. key, max, min, etc). Add a bunch of instances of that class to an array/list, and loop through it running your logic on each one:</p>\n\n<pre><code>class Rule\n{\n    public string Key;\n    public float Min, Max;\n}\n\nprivate Rule[] m_RulesCase1 = new Rule[]\n                              {\n                                  new Rule() { Key = \"ph\", Max = 5.72, Min = 4.75 }\n                                  new Rule() { Key = \"brix\", Max = 22.36, Min = 17.35 }\n                                  ...\n                              };\n\nprivate void ApplyRule( GridDataItem dataBoundItem, Rule r )\n{\n    float f = float.Parse( dataBoundItem[r.Key].Text );\n    if( f &gt; r.Max || f &lt; r.Min )\n    {\n         dataBoundItem[r.Key].BackColor = Color.Yellow;\n         dataBoundItem[r.Key].ForeColor = Color.Black;\n         dataBoundItem[r.Key].Font.Bold = true;\n    }\n}\n\nprivate void ApplyRules( GridDataItem dataBoundItem, IEnumerable&lt;Rule&gt; rules )\n{\n    foreach( var r in rules )\n        ApplyRule( dataBoundItem, r );\n}\n</code></pre>\n\n<p>And, you could always take it further and get the rules from a configuration file or other source, avoiding having it in the code completely.</p>\n"}, {"tags": [], "owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "is_accepted": false, "score": 0, "last_activity_date": 1439408861, "last_edit_date": 1439408861, "creation_date": 1439408242, "answer_id": 31973941, "question_id": 31973753, "link": "https://stackoverflow.com/questions/31973753/refactor-multiple-if-statments/31973941#31973941", "title": "Refactor multiple if statments", "body": "<p>You may create a procedure like this:</p>\n\n<pre><code>private void CellFormat(string column,float min,float max,Color backcolor,Color forecolor,bool bold)\n{\n   if (float.Parse(dataBoundItem[column].Text) &gt; min || float.Parse(dataBoundItem[column].Text) &lt; max5)\n   {\n                    dataBoundItem[column].BackColor = backcolor;\n                    dataBoundItem[column].ForeColor = forecolor;\n                    dataBoundItem[column].Font.Bold = bold;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>What would give :</p>\n\n<pre><code>CellFormat(\"ph\"  , 4.75, 5.72, Color.Yellow,Color.Black,true) ;\nCellFormat(\"brix\",17.35,22.36, Color.Yellow,Color.Black,true) ;\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 4277410, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/75c0fe6ad13b7c7ab5a1142b81bc523e?s=128&d=identicon&r=PG&f=1", "display_name": "llerdal", "link": "https://stackoverflow.com/users/4277410/llerdal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1439408861, "creation_date": 1439407496, "question_id": 31973753, "link": "https://stackoverflow.com/questions/31973753/refactor-multiple-if-statments", "title": "Refactor multiple if statments", "body": "<p>I have a method that includes 14 if statements and I Have to do the exact same thing 12 more times so like 160 if statements. How can I refactor to make this cleaner? I am working with a telerik radgrid and I am apply conditional formatting to the cells but it is different for each column and different depending on a value in a different column. here is the beginning of my method.</p>\n\n<p>fyi: it does work.</p>\n\n<pre><code>protected void RadGrid1_ItemDataBound(object sender, Telerik.Web.UI.GridItemEventArgs e)\n    {\n        //Is it a GridDataItem\n        if (e.Item is GridDataItem)\n        {\n            //Get the instance of the right type\n            GridDataItem dataBoundItem = e.Item as GridDataItem;\n\n            //Check the formatting condition\n            if (dataBoundItem[\"sample_hour\"].Text == \"4hr YP\")\n            {\n                if (float.Parse(dataBoundItem[\"ph\"].Text) &gt; 5.72 || float.Parse(dataBoundItem[\"ph\"].Text) &lt; 4.75)\n                {\n                    dataBoundItem[\"ph\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"ph\"].ForeColor = Color.Black;\n                    dataBoundItem[\"ph\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"brix\"].Text) &gt; 22.36 || float.Parse(dataBoundItem[\"brix\"].Text) &lt; 17.35)\n                {\n                    dataBoundItem[\"brix\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"brix\"].ForeColor = Color.Black;\n                    dataBoundItem[\"brix\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"temp\"].Text) &gt; 91 || float.Parse(dataBoundItem[\"temp\"].Text) &lt; 89)\n                {\n                    dataBoundItem[\"temp\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"temp\"].ForeColor = Color.Black;\n                    dataBoundItem[\"temp\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"bud\"].Text) &gt; 41.76 || float.Parse(dataBoundItem[\"bud\"].Text) &lt; 3.121)\n                {\n                    dataBoundItem[\"bud\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"bud\"].ForeColor = Color.Black;\n                    dataBoundItem[\"bud\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"cell_count\"].Text) &gt; 177.70 || float.Parse(dataBoundItem[\"cell_count\"].Text) &lt; 41.24)\n                {\n                    dataBoundItem[\"cell_count\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"cell_count\"].ForeColor = Color.Black;\n                    dataBoundItem[\"cell_count\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"viability\"].Text) &gt; 69.183 || float.Parse(dataBoundItem[\"viability\"].Text) &lt; 5.65)\n                {\n                    dataBoundItem[\"viability\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"viability\"].ForeColor = Color.Black;\n                    dataBoundItem[\"viability\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"dp4\"].Text) &gt; 10.892 || float.Parse(dataBoundItem[\"dp4\"].Text) &lt; 2.556)\n                {\n                    dataBoundItem[\"dp4\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"dp4\"].ForeColor = Color.Black;\n                    dataBoundItem[\"dp4\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"dp3\"].Text) &gt; 6.052 || float.Parse(dataBoundItem[\"ph\"].Text) &lt; 1.412)\n                {\n                    dataBoundItem[\"bud\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"bud\"].ForeColor = Color.Black;\n                    dataBoundItem[\"bud\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"maltose\"].Text) &gt; 8.285 || float.Parse(dataBoundItem[\"maltose\"].Text) &lt; .419)\n                {\n                    dataBoundItem[\"maltose\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"maltose\"].ForeColor = Color.Black;\n                    dataBoundItem[\"maltose\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"glucose\"].Text) &gt; 6.695 || float.Parse(dataBoundItem[\"glucose\"].Text) &lt; -0.263)\n                {\n                    dataBoundItem[\"glucose\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"glucose\"].ForeColor = Color.Black;\n                    dataBoundItem[\"glucose\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"lactic_acid\"].Text) &gt; .124 || float.Parse(dataBoundItem[\"lactic_acid\"].Text) &lt; .0101)\n                {\n                    dataBoundItem[\"lactic_acid\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"lactic_acid\"].ForeColor = Color.Black;\n                    dataBoundItem[\"lactic_acid\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"glycerol\"].Text) &gt; .574 || float.Parse(dataBoundItem[\"ph\"].Text) &lt; .332)\n                {\n                    dataBoundItem[\"glycerol\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"glycerol\"].ForeColor = Color.Black;\n                    dataBoundItem[\"glycerol\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"acetic_acid\"].Text) &gt; 0.176|| float.Parse(dataBoundItem[\"acetic_acid\"].Text) &lt; -.0756)\n                {\n                    dataBoundItem[\"acetic_acid\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"acetic_acid\"].ForeColor = Color.Black;\n                    dataBoundItem[\"acetic_acid\"].Font.Bold = true;\n\n                }\n                if (float.Parse(dataBoundItem[\"ethanol\"].Text) &gt; 1.159 || float.Parse(dataBoundItem[\"ethanol\"].Text) &lt; .0053)\n                {\n                    dataBoundItem[\"ethanol\"].BackColor = Color.Yellow;\n                    dataBoundItem[\"ethanol\"].ForeColor = Color.Black;\n                    dataBoundItem[\"ethanol\"].Font.Bold = true;\n\n                }\n\n            }\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "xaml", "visual-studio-2015", "win-universal-app"], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1439408117, "post_id": 31973824, "comment_id": 51854599, "body": "+1. Very good! Now it&#39;s copying it. But not to where VS is looking for it (a folder named <code>AppX</code> inside the debug folder). Strange."}, {"owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "reply_to_user": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1439408273, "post_id": 31973824, "comment_id": 51854666, "body": "you know that you can set the build output folders for each build type (debug, release, ...) individually? Maybe you changed just one of them."}], "tags": [], "owner": {"reputation": 2557, "user_id": 564508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keDXe.jpg?s=128&g=1", "display_name": "Michael Sander", "link": "https://stackoverflow.com/users/564508/michael-sander"}, "is_accepted": true, "score": 3, "last_activity_date": 1439407762, "creation_date": 1439407762, "answer_id": 31973824, "question_id": 31973717, "link": "https://stackoverflow.com/questions/31973717/pdb-file-of-library-not-loaded-into-applications-bin-folder/31973824#31973824", "title": "Pdb file of Library not loaded into Application&#39;s bin folder", "body": "<p>You may not have a reference to the project, but to the DLL only.\nTry to delete the reference to the library and add it again. Make sure you don't select the DLL as reference but select the project from from the reference manager:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6CMSW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6CMSW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 1, "accepted_answer_id": 31973824, "answer_count": 1, "score": 2, "last_activity_date": 1439407934, "creation_date": 1439407356, "last_edit_date": 1495541643, "question_id": 31973717, "link": "https://stackoverflow.com/questions/31973717/pdb-file-of-library-not-loaded-into-applications-bin-folder", "title": "Pdb file of Library not loaded into Application&#39;s bin folder", "body": "<p>I have a solution with an application and a library. When debugging - breakpoints don't work and I've found (with the help of <a href=\"https://stackoverflow.com/a/2155997/939213\">this answer</a>) that it's because the <strong>pdb</strong> file of the library isn't copied into the application's <strong>debug</strong> folder.</p>\n\n<p>I can change the output folder manually in Properties - Build - Output. But that seems like the wrong way. Visual Studio is supposed to do that automatically.</p>\n\n<p>So: How do I fix Visual Studio to copy the pdb file? </p>\n"}, {"tags": ["c#", "epoch", "azure-cosmosdb"], "answers": [{"tags": [], "owner": {"reputation": 2297, "user_id": 439719, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e2fa7bbae749f4235a0abf3d57c56791?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/439719/sandman"}, "is_accepted": false, "score": 1, "last_activity_date": 1439411931, "last_edit_date": 1495535493, "creation_date": 1439410207, "answer_id": 31974469, "question_id": 31973710, "link": "https://stackoverflow.com/questions/31973710/datetime-the-epoch-and-documentdb/31974469#31974469", "title": "DateTime, the Epoch and DocumentDb", "body": "<p>In my experience i haven't encountered a more 'established' standard than the UNIX epoch. This being said, some architectural/technological aspects of time storage have been discussed before:\n<a href=\"https://stackoverflow.com/questions/26065928/timestamps-and-time-zone-conversions-in-java-and-mysql/26087578#26087578\">Timestamps and time zone conversions in Java and MySQL</a></p>\n\n<p>I would ask why risk using your own convention? It's a risk because: what if some time you will want to add hours to your day count, maybe to be able to order people based on when exactly during the day they were born. The question can be extended to: what if at some point you want to measure more generic or more fine-grained moments; you would have to translate your entire feature, possibly throughout many layers of your application, to a more generic mechanism/convention. Another (similar) question would be: will you always measure once-in-a-lifetime events for the people in your database or will they be able to create new, unlimited events? As the number of events increases the risk of collision increases too and a day count would not be as suitable as a timestamp measured in seconds or milliseconds.</p>\n\n<p>UNIX time is basically ubiquitous, you have special methods for getting it in most programming languages. The time-keeping architecture i will always support &amp; implement in my projects is this:\n<a href=\"http://www.currentmillis.com/tutorials/system-currentTimeMillis.html\" rel=\"nofollow noreferrer\">http://www.currentmillis.com/tutorials/system-currentTimeMillis.html</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sNca3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNca3.png\" alt=\"Architecture that stores time as a number\"></a></p>\n\n<p>As also stated in my answer to the question linked above, the advantages of storing time as milliseconds since the UNIX epoch are:</p>\n\n<ul>\n<li>architecture clarity: server side works with UTC, client side shows\nthe time through its local timezone</li>\n<li>database simplicity: you store a\nnumber (milliseconds) rather than complex data structures like\nDateTimes</li>\n<li>programming efficiency: in most programming languages you\nhave date/time objects capable of taking milliseconds since Epoch\nwhen constructed (which allows for automatic conversion\nto client-side timezone)</li>\n</ul>\n\n<hr>\n\n<p>Because you mentioned C#, <a href=\"https://msdn.microsoft.com/en-us/library/system.datetime.minvalue(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DateTime.MinValue</a> comes to mind. This would basically be the year 0 (midnight, 1st of January).</p>\n\n<p>Also, this would be some code which would allow you to get the millis since your chosen reference date (whatever it is) but note that 1900 is still different than .NET's 'epoch' (DateTime.MinValue)</p>\n\n<pre><code>// Unix Epoch\n(DateTime.UtcNow - new DateTime (1970, 1, 1)).TotalMilliseconds\n// NTP Epoch\n(DateTime.UtcNow - new DateTime (1900, 1, 1)).TotalMilliseconds\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": false, "score": 3, "last_activity_date": 1452289433, "last_edit_date": 1495540477, "creation_date": 1439441326, "answer_id": 31979714, "question_id": 31973710, "link": "https://stackoverflow.com/questions/31973710/datetime-the-epoch-and-documentdb/31979714#31979714", "title": "DateTime, the Epoch and DocumentDb", "body": "<p><a href=\"https://stackoverflow.com/a/31974469/642706\">The answer by Teo</a> is correct, except that I suspect in terms of being \"well established\", the billions of Microsoft Excel, LibreOffice, and Lotus 1-2-3 spreadsheets with their own epoch may far outnumber Unix Time usage. Or the billion of Apple Cocoa devices and computers with their own epoch.</p>\n\n<p>Be aware that a <a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)#Notable_epoch_dates_in_computing\" rel=\"nofollow noreferrer\">couple dozen different epochs</a> have been used by various computer environments. Unix time is far from being alone or even dominant. </p>\n\n<p>Also be aware that there is no such thing as <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">Unix time</a> exactly. Variations include using whole seconds, milliseconds, microseconds, or nanoseconds.</p>\n\n<p>When possible, use a date-time savvy data type. Be sure to study the doc and experiment to understand clearly it's behavior. </p>\n\n<p>Where not possible to use a data type, fallback to using a string in the various <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. Some of those standard formats are alphabetically chronological in sorting, especially for date-only values: YYYY-MM-DD.</p>\n\n<p>Leap seconds are ignored in every date-time tracking system I know of. Their purpose is to make our hourly clock jive with calendar, so for business purposes the <a href=\"https://en.wikipedia.org/wiki/Leap_second\" rel=\"nofollow noreferrer\">Leap Second</a> is in a sense meant to be ignored.</p>\n\n<p>Date-time work is surprisingly tricky and slippery business. Search StackOverflow to discover the many issues. Try to avoid rolling your own solutions. For C# in particular, look at the <a href=\"http://nodatime.org\" rel=\"nofollow noreferrer\">Noda Time library</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1439495058, "post_id": 31990828, "comment_id": 51898017, "body": "I&#39;ve upvoted all anwers because they were all interesting, but this one answered my question most specifically. Thx."}, {"owner": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "edited": false, "score": 0, "creation_date": 1484559173, "post_id": 31990828, "comment_id": 70543895, "body": "i am saving the date as in this format &quot;2017-01-13T08:00:00+05:30&quot; where the Z is missing as i am keeping the offset in +/- format. When i try to query it back from DocumentDb it is getting converted to timezone where th code is running, what could be the reason"}, {"owner": {"reputation": 8837, "user_id": 965782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ebd55d125712aeadb9df8ba78339d314?s=128&d=identicon&r=PG", "display_name": "Larry Maccherone", "link": "https://stackoverflow.com/users/965782/larry-maccherone"}, "edited": false, "score": 0, "creation_date": 1484573838, "post_id": 31990828, "comment_id": 70552405, "body": "My recommendation is to store it without the offset or with an offset of +00. Then convert it to the correct time zone when rendering."}], "tags": [], "owner": {"reputation": 8837, "user_id": 965782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ebd55d125712aeadb9df8ba78339d314?s=128&d=identicon&r=PG", "display_name": "Larry Maccherone", "link": "https://stackoverflow.com/users/965782/larry-maccherone"}, "is_accepted": true, "score": 18, "last_activity_date": 1483351536, "last_edit_date": 1483351536, "creation_date": 1439475538, "answer_id": 31990828, "question_id": 31973710, "link": "https://stackoverflow.com/questions/31973710/datetime-the-epoch-and-documentdb/31990828#31990828", "title": "DateTime, the Epoch and DocumentDb", "body": "<p>First of all, an update: DocumentDB now supports range indexes on both strings and numbers. You have to set up the indexes correctly for it to work.</p>\n\n<p>Now, to give you a recommendation. I've been successful storing ISO-8601 timestamps as strings. This is the default format used by the DocumentDB SDK for handling DateTime so it's less work than converting to an integer. </p>\n\n<p>ISO-8601 date/time strings have several properties that match your needs. </p>\n\n<ol>\n<li>The alpha-numeric sort order is chronological so it works perfectly as expected with query clauses using >, &lt;, >=, &lt;=, and BETWEEN assuming you have a range index of appropriate precision (-1 for full precision); </li>\n<li>They are human readable so if you are browsing a table, the data makes sense;</li>\n<li>This format allows for the specification of lower granularity date/time. For instance, you should say \"2015-03\" to mean the month of march, or \"2015-03-24\" to mean March 24, 2015. You can then issue a query with this filter \"startedOn >= 2015-03-24 AND startedOn &lt; 2015-03-25\" to find everything that started on March 24, 2015. This works even when startedOn is stored as a full ISO-8601 string like \"2015-03-24T12:34:56.789Z\" due to the nature of string comparison.</li>\n</ol>\n\n<p>I've written about this approach <a href=\"https://gist.github.com/lmaccherone/5371881\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5739, "favorite_count": 1, "accepted_answer_id": 31990828, "answer_count": 3, "score": 5, "last_activity_date": 1483351536, "creation_date": 1439407323, "question_id": 31973710, "link": "https://stackoverflow.com/questions/31973710/datetime-the-epoch-and-documentdb", "title": "DateTime, the Epoch and DocumentDb", "body": "<p>So I read this very interesting blog on working with <a href=\"http://azure.microsoft.com/blog/2014/11/19/working-with-dates-in-azure-documentdb-4/\">datetime in Azure DocumentDb</a>. The problem being that, right now, Azure DocumentDb does not support range search on datetime fields. The reason for that is that DocumentDb is based on json and that has no datetime type, therefore one usually puts it in a string of xml datetime format.</p>\n\n<p>(obviously Mongo does not have that issue, it's bson format adds the datetime type (among others))</p>\n\n<p>Anyway, the article describes storing the datetime in json in an epoch (unix) time, essentially storing the datetime as an amount of seconds since 01-01-1970. One problem of epoch is that it does not take leap seconds into account, but I can live with that for now.</p>\n\n<p>My question is that I would also like to store birth dates in such a format. Now I could just take 01-01-1900 as a start date and store the amount of days since that date in an int. While I am pretty sure this would work well, it feels like epoch is a well established concept, but the one for birthdays feels like I am building my own conventions, which is something I generally like to avoid.</p>\n\n<p>Is there any established standard for standardizing date storage as a number? Which date should be the baseline date? </p>\n"}, {"tags": ["c#", "datagridview"], "comments": [{"owner": {"reputation": 1664, "user_id": 3460275, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DAgQx.jpg?s=128&g=1", "display_name": "kuma  DK", "link": "https://stackoverflow.com/users/3460275/kuma-dk"}, "edited": false, "score": 0, "creation_date": 1439584453, "post_id": 31973696, "comment_id": 51938942, "body": "You may not need to import the data to a third table unless you have some serious requirement. Create a view by joining two tables or join the two tables in your query."}, {"owner": {"reputation": 65, "user_id": 5132313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/63296afb3d774a7c44d10840c5b3ba9d?s=128&d=identicon&r=PG&f=1", "display_name": "KingCundy", "link": "https://stackoverflow.com/users/5132313/kingcundy"}, "reply_to_user": {"reputation": 1664, "user_id": 3460275, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DAgQx.jpg?s=128&g=1", "display_name": "kuma  DK", "link": "https://stackoverflow.com/users/3460275/kuma-dk"}, "edited": false, "score": 0, "creation_date": 1439585327, "post_id": 31973696, "comment_id": 51939351, "body": "You can create views on Datatables in c#?"}], "answers": [{"tags": [], "owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "is_accepted": true, "score": 1, "last_activity_date": 1439409393, "creation_date": 1439409393, "answer_id": 31974255, "question_id": 31973696, "link": "https://stackoverflow.com/questions/31973696/how-to-compare-datatables/31974255#31974255", "title": "How to Compare Datatables", "body": "<p>The best solution would be the following:</p>\n\n<ul>\n<li>Add a \"flag\" column to 3rd table before filling it, </li>\n<li>Put in that column a value indicating wheteher the row was imported or not from 1st table. </li>\n<li>Use the CellFormatting event of the DataGridView to change\ncells backcolor according to the flag column.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5132313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/63296afb3d774a7c44d10840c5b3ba9d?s=128&d=identicon&r=PG&f=1", "display_name": "KingCundy", "link": "https://stackoverflow.com/users/5132313/kingcundy"}, "edited": false, "score": 1, "creation_date": 1439585429, "post_id": 32016597, "comment_id": 51939401, "body": "Thats what I&#39;ve gone with. However only one table came from a db, the other create programatically, so not able to union."}], "tags": [], "owner": {"reputation": 1282, "user_id": 1052495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/24f800d9750220e912c876f011d22ca6?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/1052495/juan"}, "is_accepted": false, "score": 0, "last_activity_date": 1439577114, "creation_date": 1439577114, "answer_id": 32016597, "question_id": 31973696, "link": "https://stackoverflow.com/questions/31973696/how-to-compare-datatables/32016597#32016597", "title": "How to Compare Datatables", "body": "<p>You can use a command named merge to combine the two datatables.</p>\n\n<p>If this data came from a database you may consider a union query or any other option to combine the data or obtain all the data in one call.</p>\n"}], "owner": {"reputation": 65, "user_id": 5132313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/63296afb3d774a7c44d10840c5b3ba9d?s=128&d=identicon&r=PG&f=1", "display_name": "KingCundy", "link": "https://stackoverflow.com/users/5132313/kingcundy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 31974255, "answer_count": 2, "score": 2, "last_activity_date": 1439577114, "creation_date": 1439407246, "last_edit_date": 1439576301, "question_id": 31973696, "link": "https://stackoverflow.com/questions/31973696/how-to-compare-datatables", "title": "How to Compare Datatables", "body": "<h2>Background</h2>\n\n<p>I have a set of numbers between 1000-9999 split between two data tables both with same the Schema. One data table's schema is then cloned, and then filled with the rows from both of the original tables. This third new data table is then displayed in a datagridview.</p>\n\n<h2>Question</h2>\n\n<p>How could I then highlight the rows in the datagridview that contain rows from the first data table?</p>\n\n<h2>Code</h2>\n\n<pre><code> private void combineTables()\n        {\n            bothIdsTbl = UsedIdsTbl.Clone();\n            dataGridView3.DataSource = bothIdsTbl;\n\n\n            for (int i = 0; i &lt;= UnUsedIdsTbl.Rows.Count - 1; ++i)\n            {\n                bothIdsTbl.ImportRow(UnUsedIdsTbl.Rows[i]);\n\n            }\n            for (int i = 0; i &lt;= UsedIdsTbl.Rows.Count - 1; ++i)\n            {\n\n                bothIdsTbl.ImportRow(UsedIdsTbl.Rows[i]);\n            }\n\n           dataGridView3.Sort(this.dataGridView3.Columns[\"stationid\"], ListSortDirection.Ascending);\n\n\n         }\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "tfs", "visual-studio-2015"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1439408964, "post_id": 31973596, "comment_id": 51855029, "body": "When you say &quot;package restore is enabled&quot;, do you mean old-style package restore with a <code>.nuget&#47;NuGet.targets</code> folder? If so, that&#39;s been deprecated for a long time and is very likely a major source of your problems."}, {"owner": {"reputation": 2354, "user_id": 2809478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBinQ.png?s=128&g=1", "display_name": "Mr. B", "link": "https://stackoverflow.com/users/2809478/mr-b"}, "edited": false, "score": 0, "creation_date": 1439408996, "post_id": 31973596, "comment_id": 51855043, "body": "We always just do a &#39;Clean&#39; and then &#39;Rebuild&#39; and the package manager fixes all the discrepancies.  You are saying that is not working for you?"}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 5211799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5IIIemMmYI/AAAAAAAAAAI/AAAAAAAAAEg/d6FAsCWYrEE/photo.jpg?sz=128", "display_name": "umut &#246;zkan", "link": "https://stackoverflow.com/users/5211799/umut-%c3%b6zkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1439412171, "creation_date": 1439412171, "answer_id": 31975014, "question_id": 31973596, "link": "https://stackoverflow.com/questions/31973596/fixing-all-references-with-nuget-and-tfs/31975014#31975014", "title": "Fixing all references with NuGet and TFS", "body": "<p>Use packed manager console. And install missing packed in pm console. Be sure all tfs project members using same version of packed assemblies. </p>\n"}], "owner": {"reputation": 6601, "user_id": 1672458, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/F1hky.png?s=128&g=1", "display_name": "vaindil", "link": "https://stackoverflow.com/users/1672458/vaindil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439412171, "creation_date": 1439406888, "question_id": 31973596, "link": "https://stackoverflow.com/questions/31973596/fixing-all-references-with-nuget-and-tfs", "title": "Fixing all references with NuGet and TFS", "body": "<p>A coworker and I use TFS for managing several web projects in Visual Studio 2015. I just spent the last four hours or so fixing all of the references on my machine from his check-in, and we have problems like this (though to a lesser degree) each time we need to pull from the other's edits. NuGet doesn't get packages like it's supposed to (Package Restore is <strong>enabled</strong>), and most of the time we end up with the standard errors of VS either being unable to find an assembly or mismatching assembly versions.</p>\n\n<p>What is the proper way to handle this situation so our references and packages stay synchronized across our machines?</p>\n"}, {"tags": ["c#", ".net", "google-calendar-api", "google-api-dotnet-client"], "answers": [{"tags": [], "owner": {"reputation": 1087, "user_id": 2554442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H8XWN.jpg?s=128&g=1", "display_name": "carpenter", "link": "https://stackoverflow.com/users/2554442/carpenter"}, "is_accepted": false, "score": 1, "last_activity_date": 1439411527, "last_edit_date": 1439411527, "creation_date": 1439410761, "answer_id": 31974624, "question_id": 31973530, "link": "https://stackoverflow.com/questions/31973530/google-calendar-v3-get-all-users-with-access-to-a-calendar/31974624#31974624", "title": "Google Calendar v3 - Get all users with access to a calendar", "body": "<p>You can view the <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/acl/list\" rel=\"nofollow\">access control list (Acl)</a> with the following API call:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>GET https://www.googleapis.com/calendar/v3/calendars/{calendarId}/acl?key={YOUR_API_KEY}\n</code></pre>\n\n<p>And after you have created your service the C# looks like :</p>\n\n<pre><code>Acl acl = service.Acl.List(\"primary\").Execute();\nforeach (AclRule rule in acl.Items)\n{\n    Console.WriteLine(rule.Id);\n}\n</code></pre>\n\n<p><code>acl.Items</code> is a list of items which you can iterate to get the Id of each user you have shared the calendar with.</p>\n\n<p>If you aren't looking for the default calendar then you can swap <code>\"primary\"</code> to be the id of your calendar.</p>\n"}], "owner": {"reputation": 21, "user_id": 4611896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4iV_om7dSSQ/AAAAAAAAAAI/AAAAAAAAArQ/wjj7RDdZX_w/photo.jpg?sz=128", "display_name": "Mike Kalen", "link": "https://stackoverflow.com/users/4611896/mike-kalen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1439411527, "creation_date": 1439406676, "question_id": 31973530, "link": "https://stackoverflow.com/questions/31973530/google-calendar-v3-get-all-users-with-access-to-a-calendar", "title": "Google Calendar v3 - Get all users with access to a calendar", "body": "<p>This seems like such a basic thing, but I can't for the life of me figure out how to get a simple listing of all users with access to a calendar.  If my understanding of the API is correct, I would have to log in as each user, pull which calendars that user has access to, and repeat for every user.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "xps", "documentpage"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439408539, "post_id": 31973506, "comment_id": 51854803, "body": "I don&#39;t think your service would be receiving any UI notifications. Does you service use Application.Run()?"}, {"owner": {"reputation": 787, "user_id": 322740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UHC39.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/322740/charlie"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439408815, "post_id": 31973506, "comment_id": 51854934, "body": "Correct, it doesn&#39;t receive any UI notifications because it is a web service, so if there&#39;s any event wiring, or additional overhead by Xaml that I can turn off, that&#39;s what I&#39;m looking to do. While I&#39;m building out the visual tree, I want there to be as little overhead as possible."}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409164, "post_id": 31973506, "comment_id": 51855141, "body": "I know what the intent of your service is, what I am saying is that I don&#39;t think there would be a message loop running to receive UI events. Do you use the method Application.Run()?"}, {"owner": {"reputation": 787, "user_id": 322740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UHC39.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/322740/charlie"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409675, "post_id": 31973506, "comment_id": 51855406, "body": "No, I never call Application.Run"}, {"owner": {"reputation": 787, "user_id": 322740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UHC39.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/322740/charlie"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409711, "post_id": 31973506, "comment_id": 51855420, "body": "I do pump the message queue once to achieve page number binding though.  Dispatcher.CurrentDispatcher.Invoke(DispatcherPriority.Syste&zwnj;&#8203;mIdle, new DispatcherOperationCallback(delegate { return null; }), null);"}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1439409782, "post_id": 31973506, "comment_id": 51855451, "body": "Then you are fine. Your service is not processing Windows messages."}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1439409911, "creation_date": 1439409911, "answer_id": 31974382, "question_id": 31973506, "link": "https://stackoverflow.com/questions/31973506/can-i-turn-off-the-interactive-piece-of-xaml-and-keep-the-layout-management/31974382#31974382", "title": "Can I turn off the interactive piece of Xaml and keep the layout management?", "body": "<p>Just make sure you don't call <code>Application.Run</code> in your service and there will be no message loop processing Windows messages.</p>\n"}], "owner": {"reputation": 787, "user_id": 322740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UHC39.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/322740/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 31974382, "answer_count": 1, "score": 0, "last_activity_date": 1439409911, "creation_date": 1439406587, "last_edit_date": 1439408867, "question_id": 31973506, "link": "https://stackoverflow.com/questions/31973506/can-i-turn-off-the-interactive-piece-of-xaml-and-keep-the-layout-management", "title": "Can I turn off the interactive piece of Xaml and keep the layout management?", "body": "<p>I am working on rendering XPS documents in a WCF service and want it to be as fast as possible.</p>\n\n<p><strong>Is it possible to turn off any UI related overhead, since there is no UI interaction necessary in my use case?</strong> I want to just utilize the UI layout management piece of Xaml. Basically, how can I turn off anything unnecessary to the creation of a document?</p>\n\n<p>When I'm done rendering, I'm adding each <code>FrameworkElement</code> to a <code>DocumentPage</code>s to be rendered with a <code>DocumentPaginator</code> and then saving that to an XPS using the <code>XpsDocumentWriter</code>.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1439408641, "post_id": 31973489, "comment_id": 51854851, "body": "I think the problem here is that you don&#39;t have common base classes for your beers. Also, you seem to be using <code>in</code> and <code>out</code> incorrectly (they don&#39;t identify as inputs or return values), they identify covariance and contravariance. If you have your beer types inherit from a base <code>Beer</code> class, this becomes a lot easier."}], "answers": [{"tags": [], "owner": {"reputation": 57165, "user_id": 961526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uAKzB.jpg?s=128&g=1", "display_name": "Rapha&#235;l Althaus", "link": "https://stackoverflow.com/users/961526/rapha%c3%abl-althaus"}, "is_accepted": true, "score": 2, "last_activity_date": 1439408615, "creation_date": 1439408615, "answer_id": 31974046, "question_id": 31973489, "link": "https://stackoverflow.com/questions/31973489/multiple-implementations-of-a-generic-interface-and-extension-method-discovery/31974046#31974046", "title": "Multiple implementations of a generic interface and extension method discovery", "body": "<p>Well, your second implementation has a major difference : it tries to implement two times the generic interface, with different types...  </p>\n\n<p>So you can't anymore access the interface extension method from an instance of the class, but only from an \"explicit instance\" of one of the two interfaces.</p>\n\n<p>Which means you can't use <code>var</code> anymore, but something like</p>\n\n<pre><code>IContains&lt;Coors, SamplerPack&gt; beer = new SamplerPack();\nbeer.CoorsExtensions();\n</code></pre>\n\n<p>or cast beer to the desired interface before calling the desired extension method.</p>\n\n<pre><code>var beer = new SamplerPack();\n((IContains&lt;Coors, SamplerPack&gt;)beer).CoorsExtensions();\n</code></pre>\n\n<p>By the way, I would rather go for  two classes (one for <code>Coors</code>, one for <code>Miller</code>) to avoid these kind of confusions (these two class may inherit from an abstract base class to avoid redundant implementations of Add).</p>\n\n<p>And of course, a theorical explanation on why the compiler doesn't complain would be usefull...</p>\n"}], "owner": {"reputation": 1427, "user_id": 684428, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f7a0a68d9aac05065a35514df679aa6?s=128&d=identicon&r=PG", "display_name": "Jeff Mitchell", "link": "https://stackoverflow.com/users/684428/jeff-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 31974046, "answer_count": 1, "score": 3, "last_activity_date": 1439409187, "creation_date": 1439406532, "last_edit_date": 1439408257, "question_id": 31973489, "link": "https://stackoverflow.com/questions/31973489/multiple-implementations-of-a-generic-interface-and-extension-method-discovery", "title": "Multiple implementations of a generic interface and extension method discovery", "body": "<p>I am having trouble understanding why an extension method for a generic interface is failing to be found if implemented a second time.</p>\n\n<p>Here's a contrived example to illustrate the issue.  Initially, this works.  I will break it in a moment:</p>\n\n<pre><code>public interface IContains&lt;in TBeer, out TPack&gt;\n{\n    TPack Add(TBeer element);\n}\n\npublic class Coors { }\npublic class Miller { }\n\npublic class SamplerPack : IContains&lt;Coors, SamplerPack&gt;\n{\n    public SamplerPack Add(Coors element)\n    {\n        // logic removed for brevity\n        return this;\n    }\n}\n\npublic static class Extension\n{\n    public static TPack CoorsExtension&lt;TPack&gt;(this IContains&lt;Coors, TPack&gt; element)\n    {\n        // logic removed for brevity\n        return (TPack) element;\n    }\n}\n</code></pre>\n\n<p>With this setup the extension method <code>CoorsExtension</code> works:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vgMCi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgMCi.png\" alt=\"Visual Studio screen grab\"></a></p>\n\n<p>If I implement the generic interface again like this:</p>\n\n<pre><code>public class SamplerPack : IContains&lt;Coors, SamplerPack&gt;, IContains&lt;Miller, SamplerPack&gt;\n{\n    public SamplerPack Add(Coors element)\n    {\n        // Add logic removed for brevity\n        return this;\n    }\n\n    public SamplerPack Add(Miller element)\n    {\n        // Add logic removed for brevity\n        return this;\n    }\n}\n</code></pre>\n\n<p>Extension method is no longer found:</p>\n\n<blockquote>\n  <p>'SamplerPack' does not contain a definition for 'CoorsExtension' and no extension method 'CoorsExtension' accepting a first argument of type 'SamplerPack' could be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n\n<p>I would like to understand why this is failing, and if possible, how to fix it.</p>\n"}, {"tags": ["c#", ".net", "wpf", "routed-commands"], "answers": [{"comments": [{"owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "edited": false, "score": 1, "creation_date": 1439407046, "post_id": 31973607, "comment_id": 51854019, "body": "The command can also tunnel (drill down), though that happens less often then bubbling up."}, {"owner": {"reputation": 1699, "user_id": 1743962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9w5zQ.jpg?s=128&g=1", "display_name": "William", "link": "https://stackoverflow.com/users/1743962/william"}, "edited": false, "score": 0, "creation_date": 1439407254, "post_id": 31973607, "comment_id": 51854139, "body": "With bubbling the event will be handled by the youngest child first; and if not handled it will hit the next element up the tree until handled?"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1439407332, "post_id": 31973607, "comment_id": 51854199, "body": "Yes, it will climb the visual tree, from child to parent (or parent to child in the case of tunneling), until it finds something that can handle the command."}, {"owner": {"reputation": 1699, "user_id": 1743962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9w5zQ.jpg?s=128&g=1", "display_name": "William", "link": "https://stackoverflow.com/users/1743962/william"}, "edited": false, "score": 0, "creation_date": 1439407910, "post_id": 31973607, "comment_id": 51854494, "body": "Great thanks for the answer, one last question about MVVM, the CommandBindings Collection is held by a UIElement, which of course is associated with my view, so how do I go about moving the handling logic to my viewmodel? Is it simply a case of replacing the `new ExecutedRoutedEventHandler((x, y) lambda with a method in my viewmodel?"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1439408022, "post_id": 31973607, "comment_id": 51854537, "body": "The typical pattern is having a read only property of <code>ICommand</code> on the viewmodel that returns the actual command instance, then binding the <code>Command</code> of the view&#39;s element to the  <code>Command</code> property of the view model."}, {"owner": {"reputation": 34833, "user_id": 580053, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b8adc801f4e513c5e04d6f1084b9ec0?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/580053/dennis"}, "edited": false, "score": 0, "creation_date": 1439409468, "post_id": 31973607, "comment_id": 51855295, "body": "MVVM&#39;s &quot;native&quot; commands are RelayCommand/DelegateCommand. In fact, there are very rare cases, when you really need to expose RoutedCommand from view models."}], "tags": [], "owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "is_accepted": true, "score": 2, "last_activity_date": 1439407163, "last_edit_date": 1439407163, "creation_date": 1439406934, "answer_id": 31973607, "question_id": 31973487, "link": "https://stackoverflow.com/questions/31973487/what-is-the-benefit-of-using-routedcommands-in-wpf/31973607#31973607", "title": "What is the benefit of using RoutedCommands in WPF", "body": "<p>The main benefit is that it separates the different layers of your application when using MVVM. It puts the code in the ViewModel and doesn't pollute your view.  It also allows commands to <code>Bubble</code> up the visual tree so that container controls can handle commands of their children.</p>\n\n<p>It looks to me from your example code that you aren't really using MVVM, so if you don't need the bubbling (or tunneling) features, you may not get any benefit from using commands.</p>\n"}], "owner": {"reputation": 1699, "user_id": 1743962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9w5zQ.jpg?s=128&g=1", "display_name": "William", "link": "https://stackoverflow.com/users/1743962/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 31973607, "answer_count": 1, "score": 2, "last_activity_date": 1439407163, "creation_date": 1439406525, "question_id": 31973487, "link": "https://stackoverflow.com/questions/31973487/what-is-the-benefit-of-using-routedcommands-in-wpf", "title": "What is the benefit of using RoutedCommands in WPF", "body": "<p>I am struggling to see what the benefits are of using Custom RoutedCommands in WPF over a standard event.</p>\n\n<p>Suppose I have a custom RoutedCommand declared in a static class like so:</p>\n\n<pre><code>public static readonly RoutedCommand Foo = new RoutedCommand();\n</code></pre>\n\n<p>And to hook it up to a UIElement I would do this:</p>\n\n<pre><code>CommandBindings.Add(new CommandBinding(Commands.Foo, new ExecutedRoutedEventHandler((x, y) =&gt; {\n\n            MessageBox.Show(\"Something Happend\");\n\n        })));\n</code></pre>\n\n<p>Ok, normally in a more clean way, but my first question is-How does the routed command track that this particular UI Element has a CommandBinding against it? Is the routedcommand tracking through the entire application tree for commandbindings until it finds a UIElement with the correct routedcommand in its commandbindings list?</p>\n\n<p>I've noticed something still has to fire this command, like a button</p>\n\n<pre><code>btn.Command = Commands.Foo;\n</code></pre>\n\n<p>My next question, what is the point of creating these routedcommands over just a standard event?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "authentication", "adfs"], "answers": [{"tags": [], "owner": {"reputation": 17596, "user_id": 18044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f0136186ca27b7b070b49cf1973885e?s=128&d=identicon&r=PG", "display_name": "MvdD", "link": "https://stackoverflow.com/users/18044/mvdd"}, "is_accepted": false, "score": 1, "last_activity_date": 1439412788, "creation_date": 1439412788, "answer_id": 31975192, "question_id": 31973482, "link": "https://stackoverflow.com/questions/31973482/login-as-different-user-using-adfs-authentication/31975192#31975192", "title": "Login as different user using ADFS Authentication", "body": "<p>You can't really do that. When ADFS authenticates a user it generates a signed token which is sent back to your web application. The <code>WsFederationAuthentication</code> middleware receives this token, validates it and creates a claims principal from it. </p>\n\n<p>Your cookie middleware serializes the claims principal into a cookie that travels back and forth between the application.</p>\n\n<p>To make work what you want, you would need to have ADFS issue a token for someone else. Without their credentials that will not work.</p>\n\n<p>Typically, you have your application change its look and feel based on what <strong>role</strong> a user is in. You can have ADFS do a role lookup against a SQL store and have it issue different role claims for a user. That would allow you to experience the application the same way as someone else in the same role.</p>\n"}, {"tags": [], "owner": {"reputation": 1993, "user_id": 311749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef09970a15a077fcf00b56012f0d96d?s=128&d=identicon&r=PG", "display_name": "WWC", "link": "https://stackoverflow.com/users/311749/wwc"}, "is_accepted": false, "score": 0, "last_activity_date": 1487298476, "last_edit_date": 1487298476, "creation_date": 1487298171, "answer_id": 42288293, "question_id": 31973482, "link": "https://stackoverflow.com/questions/31973482/login-as-different-user-using-adfs-authentication/42288293#42288293", "title": "Login as different user using ADFS Authentication", "body": "<p>Here's how I login as a different user when using ADFS:</p>\n\n<p>With ADFS 2.0 on Windows, you can configure your adfs server to use different authentication methods by changing the order of the local authentication types in the web.config file under c:\\windows\\inetpub\\adfs\\ls directory.</p>\n\n<p>Method 1: When ADFS is authenticating using Windows Authentication</p>\n\n<p>Open the browser using different credentials by holding SHIFT and right clicking the Browser link. Then access your app and you will be logged in with whatever creds the browser is running under.</p>\n\n<p>or </p>\n\n<p>Log out and/or switch user on their workstation.   </p>\n\n<p>Method 2: Change the ADFS server to use Forms based Authentication.\nLog out of the application.  </p>\n\n<p>Sign out of the adfs server, as well, by going to the following link:</p>\n\n<p>https://{DNS_name_of_RP_STS}/adfs/ls/?wa=wsignout1.0</p>\n\n<p>Then, go back to the application and log in.</p>\n"}], "owner": {"reputation": 885, "user_id": 113879, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b10ca47e14e84bc3869a2422c2dc758?s=128&d=identicon&r=PG", "display_name": "doobist", "link": "https://stackoverflow.com/users/113879/doobist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487298476, "creation_date": 1439406510, "question_id": 31973482, "link": "https://stackoverflow.com/questions/31973482/login-as-different-user-using-adfs-authentication", "title": "Login as different user using ADFS Authentication", "body": "<p>I am new to using ADFS in a web application and need some help.</p>\n\n<p>I have created a simple mvc web application and seem to have ADFS working (when I access the website it authenticates via the adfs server and redirects to my site). Now one of the features I want is for admins to be able to impersonate a user, on my site only so that they can see the site as if they were the impersonated user. If I login as John Smith, for example, then my HttpContext.Current.User is John Smith. I was able to do this on my old site quite easily because I could just set the auth cookie.</p>\n\n<p>So the question is is there a way to do this? </p>\n\n<p>Some code that may help understand my setup.</p>\n\n<p>Startup.Auth.cs</p>\n\n<pre><code>public partial class Startup\n{\n    private static string realm = ConfigurationManager.AppSettings[\"ida:Wtrealm\"];\n    private static string adfsMetadata = ConfigurationManager.AppSettings[\"ida:ADFSMetadata\"];\n\n    public void ConfigureAuth(IAppBuilder app)\n    {\n        app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n        app.UseCookieAuthentication(new CookieAuthenticationOptions());\n\n        app.UseWsFederationAuthentication(\n            new WsFederationAuthenticationOptions\n            {\n                Wtrealm = realm,\n                MetadataAddress = adfsMetadata\n            });\n    }\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "signalr"], "comments": [{"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 1, "creation_date": 1455682868, "post_id": 31973452, "comment_id": 58593238, "body": "I wonder if this can be this: <a href=\"https://github.com/SignalR/SignalR/issues/3414\" rel=\"nofollow noreferrer\">github.com/SignalR/SignalR/issues/3414</a>"}, {"owner": {"reputation": 929, "user_id": 2134482, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32b3729d02ecb52422fc85faf60832b3?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/2134482/benoit"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1455693594, "post_id": 31973452, "comment_id": 58597455, "body": "tanks, i did find this on my search. Seem to be signalR problem... I will look for an update ;-)"}], "owner": {"reputation": 929, "user_id": 2134482, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32b3729d02ecb52422fc85faf60832b3?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/2134482/benoit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1455646821, "creation_date": 1439406418, "last_edit_date": 1455646821, "question_id": 31973452, "link": "https://stackoverflow.com/questions/31973452/asp-net-map-runsignalr-thread-block", "title": "asp.net map.RunSignalR thread block", "body": "<p>i have signalR in my asp.net MVC 5 app with .net 4.6 configured to allow cross domain. In debug i use local IIS because i have 3 website that interact with each other.</p>\n\n<p>Sometime when debugging the process IIS Worker Process(w3wp.exe) can't be attached to debug. So i have to end the task and it work ... but i have discover an issue in production when i open 2 window, it seem the thread is blocked until i close the other window.</p>\n\n<p>After attaching a debug session to this process when it dont respond, i have find the thread blocked at map.RunSignalR(hubConfiguration); .</p>\n\n<p>I can't find where the problem is.</p>\n\n<p>If someone can point me on how to debug this, it will be verry nice :)</p>\n\n<p>Version of signalR: 2.2.0\nVersion of Microsoft.Asp.Net.SignalR.Owin : 1.2.2</p>\n\n<p>Declaration of signalR:</p>\n\n<pre><code> private static readonly Lazy&lt;CorsOptions&gt; SignalrCorsOptions = new Lazy&lt;CorsOptions&gt;(() =&gt;\n    {\n        return new CorsOptions\n        {\n            PolicyProvider = new CorsPolicyProvider\n            {\n                PolicyResolver = context =&gt;\n                {\n                    var policy = new CorsPolicy();\n                    policy.AllowAnyOrigin = true;\n                    policy.AllowAnyMethod = true;\n                    policy.AllowAnyHeader = true;\n                    policy.SupportsCredentials = false;\n                    return Task.FromResult(policy);\n                }\n            }\n        };\n    });\n\n    app.Map(\"/signalr\", map =&gt;\n        {\n            // Setup the CORS middleware to run before SignalR.\n            // By default this will allow all origins. You can \n            // configure the set of origins and/or http verbs by\n            // providing a cors options with a different policy.\n\n\n            map.UseCors(SignalrCorsOptions.Value);\n            var hubConfiguration = new HubConfiguration\n            {\n                // You can enable JSONP by uncommenting line below.\n                // JSONP requests are insecure but some older browsers (and some\n                // versions of IE) require JSONP to work cross domain\n                EnableJSONP = true\n            };\n            // Run the SignalR pipeline. We're not using MapSignalR\n            // since this branch already runs under the \"/signalr\"\n            // path.\n            map.RunSignalR(hubConfiguration);\n        });\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I did not find a way to solve this, but i have patched it.\nwhen im in debug, i wrap this in a task like this:</p>\n\n<pre><code>#if (DEBUG)\n    public async void ConfigureSignalR(IAppBuilder app)\n    {\n#else\n    public void ConfigureSignalR(IAppBuilder app)\n    {\n#endif\n\n#if (DEBUG)\n        await Task.Run(() =&gt;\n        {\n#endif\n        app.Map(\"/signalr\", map =&gt;\n                {\n                ...\n                }\n#if (DEBUG)\n        }\n#endif\n</code></pre>\n\n<p>so, this prevent thread block. I can debug my application without to always have to terminate the process. When this bug happen, signalR dont respond. Just remember to terminate the process if you need to debug signalR code ...</p>\n\n<p>hope this help some one.</p>\n\n<p>ps. I am still looking a solution, but this \"Patch\" work ... </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "wpf", "activex"], "comments": [{"owner": {"reputation": 2083, "user_id": 886625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4a7824e9258d3e731678ac8e9839859?s=128&d=identicon&r=PG", "display_name": "Snarf", "link": "https://stackoverflow.com/users/886625/snarf"}, "edited": false, "score": 2, "creation_date": 1439406717, "post_id": 31973418, "comment_id": 51853849, "body": "Java Applets in the browser are as good as dead."}, {"owner": {"reputation": 2944, "user_id": 2234569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9a2p.jpg?s=128&g=1", "display_name": "Abbas Amiri", "link": "https://stackoverflow.com/users/2234569/abbas-amiri"}, "edited": false, "score": 0, "creation_date": 1439408637, "post_id": 31973418, "comment_id": 51854849, "body": "The accepted answer at <a href=\"http://stackoverflow.com/questions/13021723/can-html5-communicate-with-peripherals-like-scanners-and-credit-card-readers\" title=\"can html5 communicate with peripherals like scanners and credit card readers\">stackoverflow.com/questions/13021723/&hellip;</a> might be helpful."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 1, "creation_date": 1439437035, "post_id": 31973418, "comment_id": 51863834, "body": "<code>The problem now is that we are moving into web development</code> - exactly. Web &quot;applications&quot; are not suitable when you require hardware access like that. Keep your desktop app and use the web for what the web is intended  to."}, {"owner": {"reputation": 1188, "user_id": 6412823, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bb70a110c197e7e54decf340daffc072?s=128&d=identicon&r=PG", "display_name": "Samra", "link": "https://stackoverflow.com/users/6412823/samra"}, "edited": false, "score": 0, "creation_date": 1505804254, "post_id": 31973418, "comment_id": 79550038, "body": "m looking for the same any solutions yet?"}], "answers": [{"tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": false, "score": 1, "last_activity_date": 1439408243, "creation_date": 1439408243, "answer_id": 31973942, "question_id": 31973418, "link": "https://stackoverflow.com/questions/31973418/alternatives-for-activex-in-net/31973942#31973942", "title": "Alternatives For ActiveX in .NET", "body": "<p>You can write browser extensions for <a href=\"https://developer.chrome.com/extensions/getstarted\" rel=\"nofollow\">Chrome</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Building_an_Extension\" rel=\"nofollow\">Firefox</a>, and Edge (soon). I'm not sure how much code reuse you'll get across the browsers if you need to target them all, and I'm not sure of the extent to which you can run arbitrary code to connect to devices from your extensions, but it's something you should look into. You can then have your browser extensions communicate with your webpages to pass the necessary data.</p>\n\n<p>Your users would need to install the extension for their browser to receive the functionality.</p>\n"}, {"comments": [{"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439437151, "post_id": 31974265, "comment_id": 51863856, "body": "I don&#39;t think this is a solution. Breaking a single .Net application into separate smaller applications just for the sake of using a crappy web browser is a very poor decision."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439437285, "post_id": 31974265, "comment_id": 51863886, "body": "@HighCore it is a perfectly viable alternative that I have seen companies use. It&#39;s not perfect for every situation, but it&#39;s one possible solution."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439437575, "post_id": 31974265, "comment_id": 51863954, "body": "what advantage does this  approach  provide versus  a full fledged .Net (WPF) app, please?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439438037, "post_id": 31974265, "comment_id": 51864075, "body": "@HighCore the question specifically states they are moving to a web interface instead. I don&#39;t know why. There are plenty of advantages to that. You should be able to think of some of them. For example, perhaps your site should talk to a GPS device, so you leverage existing .NET code to perform the sync, while taking advantage of the web&#39;s ability to run on any device, write once run anywhere. Maybe his new boss likes the web. Or they find it easier to hire web devs than WPF. Like I said, I don&#39;t know the exact reasons for the move to the web, but a little imagination shows there&#39;s reasons."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439439979, "post_id": 31974265, "comment_id": 51864636, "body": "@HighCore if you can&#39;t see the benefits of the web, that&#39;s fine. But you&#39;re not contributing anything to this discussion. I didn&#39;t say the .NET app would run anywhere, I said the web would. In the case of a GPS app, like for example for tracking jogs, then perhaps you want to leverage existing code to perform the sync on a Windows computer, but users should be able to view the day from any computer, tablet, or phone. And the web is write once, run anywhere. Rather than maintaining multiple disparate apps for each platform, now you just need one. There are advantages to this approach."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1439440483, "post_id": 31974265, "comment_id": 51864779, "body": "@HighCore I don&#39;t know what you&#39;re talking about &quot;hack stuff in JavaScript&quot;. You&#39;re not contributing here. There are reasons one may want to switch to a web application from WPF, and there are situations my solution may be suitable. If you&#39;re unable to visualize those situations that&#39;s fine. But don&#39;t go saying &quot;it&#39;s dumb&quot; or &quot;it&#39;s retarded&quot; when you fail to recognize their merits."}], "tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": false, "score": 0, "last_activity_date": 1439409431, "creation_date": 1439409431, "answer_id": 31974265, "question_id": 31973418, "link": "https://stackoverflow.com/questions/31973418/alternatives-for-activex-in-net/31974265#31974265", "title": "Alternatives For ActiveX in .NET", "body": "<p>You can still distribute small \"helper\" applications that are based on a pared down version of your current WPF applications. These would perform the device access, and communicate directly back to your web server. The web site would serve as the interface.</p>\n\n<p>This would allow you to leverage your existing device communication code. On the downside, it requires a separate install on the client, which means one more thing for the user to do and one more thing to keep updated.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3766610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2087, "favorite_count": 0, "closed_date": 1439914574, "answer_count": 2, "score": 6, "last_activity_date": 1439409431, "creation_date": 1439406275, "question_id": 31973418, "link": "https://stackoverflow.com/questions/31973418/alternatives-for-activex-in-net", "closed_reason": "Not suitable for this site", "title": "Alternatives For ActiveX in .NET", "body": "<p>I know that there are a lot of threads talking about this topics but please let me discuss my problem in some details.</p>\n\n<p>In our project, we are using a lot of devices (Cameras, Printers, Fingerprint devices, Smartcard readers) in desktop applications and we have already C# components that are developed to deal with these devices using their SDKs.</p>\n\n<p>The problem now is that we are moving into web development and we are supposed to convert our WPF desktop applications into ASP.NET MVC web applications and also we should use our existing  components for the devices.</p>\n\n<p>The possible solutions to deal with devices from web .Net application are:</p>\n\n<ol>\n<li>Using ActiveX (Which is dead or will die soon and it required some COM experience and very hard to develop).</li>\n<li>Using Silverlight (Also, is dead or will die soon and it is very limited such that we can not add reference to existing C# components).</li>\n<li>Using Java Applets (which require some Java experience and we will rewrite existing c# components in Java).</li>\n</ol>\n\n<p><strong>Is there any other solution so that we can deal with devices from ASP.NET MVC application over Intranet?</strong> </p>\n"}, {"tags": ["c#", "wpf", "windows-phone-8"], "owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439406665, "creation_date": 1439405805, "last_edit_date": 1439406665, "question_id": 31973295, "link": "https://stackoverflow.com/questions/31973295/windows-phone-8-image-flick-event-not-working", "title": "Windows Phone 8 image flick event not working", "body": "<p>I have the following code in my xaml in a Windows phone 8 page..</p>\n\n<pre><code>  &lt;Grid x:Name=\"ContentPanel\" Grid.Row=\"1\" Margin=\"12,0,12,0\"&gt;\n                &lt;StackPanel&gt;\n                    &lt;Image Name=\"img\" Width=\"350\" Height=\"480\" Margin=\"0,40,0,0\"&gt;\n                        &lt;toolkit:GestureService.GestureListener&gt;\n                            &lt;toolkit:GestureListener Flick=\"GestureListener_Flick\"&gt;&lt;/toolkit:GestureListener&gt;\n                        &lt;/toolkit:GestureService.GestureListener&gt;\n                    &lt;/Image&gt;\n                &lt;/StackPanel&gt;\n            &lt;/Grid&gt;\n</code></pre>\n\n<p>CS file code:</p>\n\n<pre><code>public void View()\n        {\n            Dispatcher.BeginInvoke(() =&gt;\n                {\n\n                    pics = new List&lt;string&gt;();\n                    pics = (List&lt;string&gt;)Application.Current.Resources[\"Photolist\"];\n                    img.Source = new BitmapImage(new Uri(\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&amp;photoreference=\" + pics[imagenm] + \"&amp;key=AIzaSyDnoBLK2Zk46LRPb1qRQYJIVRoUvBeo5tA\"));\n                });\n        }\n\n        private void GestureListener_Flick(object sender, FlickGestureEventArgs e)\n        {\n\n            if (e.HorizontalVelocity &gt; 0)\n            {\n                value +=imagenm;\n                img.Source = new BitmapImage(new Uri(\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&amp;photoreference=\" + pics[value] + \"&amp;key=AIzaSyDnoBLK2Zk46LRPb1qRQYJIVRoUvBeo5tA\"));\n            }\n        }\n\n        private void PhoneApplicationPage_Loaded(object sender, RoutedEventArgs e)\n        {\n            try\n            {\n                imagenm = Convert.ToInt32(NavigationContext.QueryString[\"imgname\"]);\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(ex.Message);\n            }\n            View();\n        }\n</code></pre>\n\n<p>Now i am able to display the user selected image from the previous window perfectly. But when I flick right nothing seems to happen. Please help why the flick event on image is not firing. Thanks.</p>\n"}, {"tags": ["c#", ".net", "object", "exception", "methods"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1439405692, "post_id": 31973216, "comment_id": 51853309, "body": "Documentation of <a href=\"https://msdn.microsoft.com/en-us/library/system.argumentexception(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ArgumentException Class</a> states: The exception that is thrown when one of the arguments provided to a method is not valid."}, {"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 0, "creation_date": 1439405741, "post_id": 31973216, "comment_id": 51853338, "body": "If it is from an official Microsoft method, then you can check the MSDN article on the method. In the specific example you gave at the top, it sounds like a poorly worded replacement for an <code>ArgumentNullException</code>."}], "answers": [{"comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1439406351, "post_id": 31973242, "comment_id": 51853665, "body": "Your example should instead be throwing an <a href=\"https://msdn.microsoft.com/en-us/library/system.argumentoutofrangeexception(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ArgumentOutOfRangeException</a> (as stated in the documentation for <code>ArgumentException</code>)."}, {"owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1439406641, "post_id": 31973242, "comment_id": 51853811, "body": "@crashmstr I corrected it. Do you think that the example now is more suitable?"}], "tags": [], "owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "is_accepted": false, "score": 0, "last_activity_date": 1439406379, "last_edit_date": 1439406379, "creation_date": 1439405625, "answer_id": 31973242, "question_id": 31973216, "link": "https://stackoverflow.com/questions/31973216/when-exactly-is-system-argumentexception-thrown/31973242#31973242", "title": "When exactly is System.ArgumentException thrown?", "body": "<p>According to <a href=\"https://msdn.microsoft.com/en-us/library/system.argumentexception(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a>:</p>\n\n<blockquote>\n  <p>The exception that is thrown when one of the arguments provided to a\n  method is not valid.</p>\n</blockquote>\n\n<p>For instance, let that we have the following class</p>\n\n<pre><code>public class Account\n{\n    public decimal Amount { get; set; }\n\n    public Account(decimal amount)\n    {\n        Amount = amount;\n    }\n\n    public decimal CalculateTax(decimal taxAmount)\n    {\n        if(taxAmount&gt;0.8*Amount)\n            throw new ArgumentException(\"The taxAmount should be less than 80% of Amount\", \"percentage\");\n\n        return Amount-taxAmount;\n    }\n}\n</code></pre>\n\n<p>Let now that we create an <code>Account</code> object:</p>\n\n<pre><code>var account = new Account(1000M);\n</code></pre>\n\n<p>If we call the <code>CalculateTax</code> passing as a <code>taxAmount</code> 900M, then an <code>ArgumentException</code> would be thrown.</p>\n"}], "owner": {"reputation": 266, "user_id": 3657661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/419a2b0bf906faee96276ab1a693945d?s=128&d=identicon&r=PG&f=1", "display_name": "user3657661", "link": "https://stackoverflow.com/users/3657661/user3657661"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439406379, "creation_date": 1439405520, "question_id": 31973216, "link": "https://stackoverflow.com/questions/31973216/when-exactly-is-system-argumentexception-thrown", "title": "When exactly is System.ArgumentException thrown?", "body": "<p>Imagine the following error:</p>\n\n<pre><code>SomeObject.someMethod failed with System.ArgumentException: Requested value 'someArgument' was not found.\n</code></pre>\n\n<p>Does that mean the situation is this:</p>\n\n<pre><code>new SomeObject().someMethod(invalid arguments);\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>public class SomeObject\n{\n    public SomeObject() { }\n    public void someMethod(Argument someArgument) { someOtherMethod(invalid arguments); }\n    private void someOtherMethod(Argument someArgument) { /*do something*/ }\n}\n</code></pre>\n\n<p>Normally, I would just manually generate this exception in the debugger but if I hardcode it to happen then it just won't compile, and I have no idea what the end user is doing to cause this exception.  But I can see it happening in the event logs.</p>\n\n<p>Any help would be appreciated, thanks.</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "entity-framework-6", "spatial"], "comments": [{"owner": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "edited": false, "score": 0, "creation_date": 1439407435, "post_id": 31973208, "comment_id": 51854248, "body": "Which version of EF are you using? I believe the namespaces got changed in EF 6."}, {"owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "reply_to_user": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "edited": false, "score": 0, "creation_date": 1439409216, "post_id": 31973208, "comment_id": 51855167, "body": "@Peter I&#39;m using EF 6."}], "answers": [{"tags": [], "owner": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "is_accepted": true, "score": 1, "last_activity_date": 1439410005, "creation_date": 1439410005, "answer_id": 31974406, "question_id": 31973208, "link": "https://stackoverflow.com/questions/31973208/multiple-dbgeography-classes-exists-which-one-is-correct/31974406#31974406", "title": "Multiple DbGeography classes exists, which one is correct?", "body": "<p>If you're using EF 6, then <code>System.Data.Entity.Spatial.DbGeography</code> is the correct one to use. You should also remove any assembly references to <code>System.Data.Entity.dll</code>. </p>\n\n<p>A lot of things got moved from the <code>System.Data</code> namespace to the <code>System.Data.Entity</code> namespace (and moved from the System.Data.Entity.dll to EntityFramework.dll) in EF6.</p>\n"}], "owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 31974406, "answer_count": 1, "score": 1, "last_activity_date": 1439410005, "creation_date": 1439405490, "last_edit_date": 1439409241, "question_id": 31973208, "link": "https://stackoverflow.com/questions/31973208/multiple-dbgeography-classes-exists-which-one-is-correct", "title": "Multiple DbGeography classes exists, which one is correct?", "body": "<p>There's 2 <code>DbGeography</code> classes with these namespaces:</p>\n\n<pre><code>System.Data.Entity.Spatial.DbGeography    (Entity Framework)\nSystem.Data.Spatial.DbGeograph            (.Net Framework)\n</code></pre>\n\n<p>which one should I use?</p>\n"}, {"tags": ["c#", "asp.net", "pdf"], "owner": {"reputation": 7149, "user_id": 26932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7252bb455d7e2b04459b1cb278e09b59?s=128&d=identicon&r=PG", "display_name": "AaronS", "link": "https://stackoverflow.com/users/26932/aarons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439405446, "creation_date": 1439405446, "question_id": 31973194, "link": "https://stackoverflow.com/questions/31973194/return-a-printdocument-as-a-pdf-in-web-project", "title": "Return a PrintDocument() as a PDF in web project", "body": "<p>I have an existing, and very complex, library that generates a System.Drawing.Printing.PrintDocument() that is used to send print jobs directly to a printer.</p>\n\n<p>I now need to take this existing library and generate PDF documents for a web application.</p>\n\n<p>I tried looking into 3rd party libraries such as ABCpdf, Spire.PDF, PDFSharp, etc, and none of them seem to be able to take a PrintDocument as input. At least none of their documentation indicated they could.</p>\n\n<p>There are a couple of other questions here regarding this, but none of them point to an actual solution or library that works.</p>\n\n<p>Installing a print driver such as Bullzip doesn't seem to be an option either as I need to return the rendered PDF through the web application.</p>\n\n<p>What options are there for taking a PrintDocument(), rendering it as a PDF, and then serving it through a web application?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5.2", "c#-6.0"], "comments": [{"owner": {"reputation": 28755, "user_id": 303685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uXNpf.jpg?s=128&g=1", "display_name": "Water Cooler v2", "link": "https://stackoverflow.com/users/303685/water-cooler-v2"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1439406205, "post_id": 31973190, "comment_id": 51853590, "body": "Nope. It&#39;s a different question."}, {"owner": {"reputation": 2944, "user_id": 2234569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9a2p.jpg?s=128&g=1", "display_name": "Abbas Amiri", "link": "https://stackoverflow.com/users/2234569/abbas-amiri"}, "edited": false, "score": 0, "creation_date": 1439406863, "post_id": 31973190, "comment_id": 51853926, "body": "Maybe you can find the answer at <a href=\"http://stackoverflow.com/questions/27968963/c-sharp-6-0-features-not-working-with-visual-studio-2015\" title=\"c sharp 6 0 features not working with visual studio 2015\">stackoverflow.com/questions/27968963/&hellip;</a>"}, {"owner": {"reputation": 9368, "user_id": 5147646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363361e45f7631449119f8897267a271?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Booker", "link": "https://stackoverflow.com/users/5147646/alex-booker"}, "edited": false, "score": 0, "creation_date": 1439408720, "post_id": 31973190, "comment_id": 51854891, "body": "@WaterCoolerv2 Which version of Razor are you using? Also, what version of the .NET framework are you targeting?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1439426797, "post_id": 31973190, "comment_id": 51861495, "body": "Why not just use <code>@Html.TextBoxFor(m =&gt; m.Name, new { @class = &quot;form-control&quot;, new placeholder =&quot;John Doe&quot;)</code>?"}], "owner": {"reputation": 28755, "user_id": 303685, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uXNpf.jpg?s=128&g=1", "display_name": "Water Cooler v2", "link": "https://stackoverflow.com/users/303685/water-cooler-v2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "closed_date": 1439460644, "answer_count": 0, "score": 2, "last_activity_date": 1439405440, "creation_date": 1439405440, "question_id": 31973190, "link": "https://stackoverflow.com/questions/31973190/using-the-null-propagation-operator-in-an-asp-net-mvc-5-2-3-razor-view", "closed_reason": "Duplicate", "title": "Using the null propagation operator in an ASP.NET MVC 5.2.3 Razor view", "body": "<p>I've tried one or two combinations of using the null propagation operator in an ASP.NET MVC 5.2.3 razor view but the compiler doesn't understand this syntax at all.</p>\n\n<pre><code>&lt;input type=\"text\" \n       name=\"Name\" \n       class=\"form-control\" \n       placeholder = \"John Doe\" \n       value = \"@(Model?.Name)\" /&gt;\n</code></pre>\n\n<p>Short of this, I will have to either use a ternary operator or wrap the whole thing in a large <code>if (Model == null)</code> statement with an else block. How do I avoid that?</p>\n"}, {"tags": ["c#", "dataframe", "deedle"], "comments": [{"owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "edited": false, "score": 0, "creation_date": 1439405519, "post_id": 31973143, "comment_id": 51853218, "body": "What is <code>df</code> ? Is it a datatable? If so a column can has only items of the same type."}, {"owner": {"reputation": 238, "user_id": 5050606, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f661a9f4702e5d500129bf07bca6fed6?s=128&d=identicon&r=PG&f=1", "display_name": "alexshchep", "link": "https://stackoverflow.com/users/5050606/alexshchep"}, "reply_to_user": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "edited": false, "score": 0, "creation_date": 1439412397, "post_id": 31973143, "comment_id": 51856800, "body": "Df is a deedle frame."}], "answers": [{"tags": [], "owner": {"reputation": 224912, "user_id": 33518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06834fe3fb105f62b2186aba4a430d5?s=128&d=identicon&r=PG", "display_name": "Tomas Petricek", "link": "https://stackoverflow.com/users/33518/tomas-petricek"}, "is_accepted": true, "score": 1, "last_activity_date": 1439407985, "creation_date": 1439407985, "answer_id": 31973876, "question_id": 31973143, "link": "https://stackoverflow.com/questions/31973143/how-to-deal-with-null-missing-values-in-a-deedle-series-in-c/31973876#31973876", "title": "How to deal with null (missing) values in a deedle series in C#?", "body": "<p>When you are creating a Deedle series, Deedle detects invalid values and treats them as missing automatically - so when you create a series with <code>NaN</code> or <code>null</code>, those are automatically turned into missing values (and this also works for nullables).</p>\n\n<p>Furthermore, the <code>Select</code> method skips over all missing values. For example, consider this series:</p>\n\n<pre><code>Series&lt;int, DateTime?&gt; ds = Enumerable.Range(0, 100).Select(i =&gt; \n  new KeyValuePair&lt;int, DateTime?&gt;(i, i%5==0 ? (DateTime?)null : DateTime.Now.AddHours(i))\n ).ToSeries();\nds.Print();\n</code></pre>\n\n<p>Here, Deedle recognizes that every fifth value is missing. When you call <code>Select</code>, it applies the operation only to valid values and every fifth value remains as a missing value:</p>\n\n<pre><code>  ds.Select(kvp =&gt; kvp.Value.Value.ToString(\"D\")).Print();\n</code></pre>\n\n<p>If you want to do something with the missing values, you could use <code>FillMissing</code> (to fill them with a specified string or to copy the value from previous item in the series) or <code>DropMissing</code> to discard them from the series. You can also use <code>SelectOptional</code> that calls your function with <code>OptionalValue&lt;V&gt;</code> and so you can implement your own custom logic for missing values. </p>\n\n<p>This also means that if you have <code>Series&lt;K, DateTime?&gt;</code>, it is really not very useful, because the <code>null</code> values are all handled by Deedle - so you can turn it into <code>Series&lt;K, DateTime&gt;</code> using <code>Select(kvp =&gt; kvp.Value.Value)</code> and let Deedle handle missing values for you.</p>\n"}], "owner": {"reputation": 238, "user_id": 5050606, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f661a9f4702e5d500129bf07bca6fed6?s=128&d=identicon&r=PG&f=1", "display_name": "alexshchep", "link": "https://stackoverflow.com/users/5050606/alexshchep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 31973876, "answer_count": 1, "score": 0, "last_activity_date": 1439407985, "creation_date": 1439405300, "question_id": 31973143, "link": "https://stackoverflow.com/questions/31973143/how-to-deal-with-null-missing-values-in-a-deedle-series-in-c", "title": "How to deal with null (missing) values in a deedle series in C#?", "body": "<p>How should I deal with missing values in a deedle series? </p>\n\n<p>For example, I have a series with fields <code>Name</code> and <code>BirthDate</code>, where <code>BirthDate</code> is initially <code>DateTime?</code> and I need to convert <code>BirthDate</code> to <code>String</code>.</p>\n\n<pre><code>var newDOB = df.GetColumn&lt;DateTime?&gt;(\"DOB\").Select(x =&gt; x.Value.Value != null ? x.Value.Value.ToString(\"dd/MM/yyyy\") : \" \");\ndf.ReplaceColumn(\"DOB\", newDOB);\n</code></pre>\n\n<p>This is what I tried and it does not work.\nWhat is the best way to convert a missing <code>DateTime?</code> value to <code>string</code> for me?\nAnd what is the best way in general to deal with missing values in Deedle series and Deedle dataframes in C#? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 23604, "user_id": 1043198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fd794fa557e412eefe8aa19251412df8?s=128&d=identicon&r=PG", "display_name": "Ant P", "link": "https://stackoverflow.com/users/1043198/ant-p"}, "edited": false, "score": 3, "creation_date": 1439405376, "post_id": 31973124, "comment_id": 51853137, "body": "You have a <code>public</code> method that accepts argument types (<code>Applications</code> and <code>Link</code>) that are internal."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 2, "creation_date": 1439405386, "post_id": 31973124, "comment_id": 51853143, "body": "<code>Applications</code> and <code>Link</code> are probably not declared <code>public</code> (making them <code>private</code>), wheras they are used in a function that <i>is</i> declared <code>public</code>."}, {"owner": {"reputation": 459, "user_id": 2116210, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/sv24I.png?s=128&g=1", "display_name": "Paul L", "link": "https://stackoverflow.com/users/2116210/paul-l"}, "edited": false, "score": 0, "creation_date": 1439405550, "post_id": 31973124, "comment_id": 51853231, "body": "Changing to internal corrected my error - thank you. I am still new and do not know enough about encapsulation. Anyways thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1201, "user_id": 1513380, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7701772ef9468d89e35dfc8d49f2fb92?s=128&d=identicon&r=PG", "display_name": "Thaina", "link": "https://stackoverflow.com/users/1513380/thaina"}, "is_accepted": true, "score": 3, "last_activity_date": 1439405514, "creation_date": 1439405514, "answer_id": 31973215, "question_id": 31973124, "link": "https://stackoverflow.com/questions/31973124/c-errors-due-to-optional-parameters-or-something-else/31973215#31973215", "title": "C# Errors - due to optional parameters or something else?", "body": "<p>I guess your Applications and Link is your own class which is not a public class</p>\n\n<p>So when you make public void RemovalWorker_Start the public in this line conflict with nonpublic of Applications and Link</p>\n"}], "owner": {"reputation": 459, "user_id": 2116210, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/sv24I.png?s=128&g=1", "display_name": "Paul L", "link": "https://stackoverflow.com/users/2116210/paul-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 31973215, "answer_count": 1, "score": 1, "last_activity_date": 1439405514, "creation_date": 1439405253, "question_id": 31973124, "link": "https://stackoverflow.com/questions/31973124/c-errors-due-to-optional-parameters-or-something-else", "title": "C# Errors - due to optional parameters or something else?", "body": "<p>Here is my code:</p>\n\n<pre><code>    public void RemovalWorker_Start(Applications app = null, Link link = null)\n    {\n        BackgroundWorker RemovalWorker = new BackgroundWorker();\n        RemovalWorker.DoWork += RemovalWorker_DoWork;\n        RemovalWorker.RunWorkerCompleted += RemovalWorker_RunWorkerCompleted;\n        RemovalWorker.WorkerSupportsCancellation = true;\n        RemovalWorker.RunWorkerAsync(arg);\n    }\n    private void RemovalWorker_DoWork(object sender, DoWorkEventArgs e)\n    {\n        var app = e.Argument.GetType();\n        if(app.Name == \"Applications\")\n        {\n            Applications RemovalAppliction = (Applications)e.Argument;\n            RemovalAppliction.RemoveApplication();\n            Dispatcher.Invoke(new Action(() =&gt;\n            {\n                user.RemoveFromMyApps(user._MyApps[listBox_apps.SelectedIndex]);\n            }));\n            e.Result = \"apps\";\n        }\n        else\n        {\n            Link RemovalLink = (Link)e.Argument;\n            RemovalLink.RemoveLink();\n            Dispatcher.Invoke(new Action(() =&gt;\n            {\n                user.RemoveFromMyLinks(user._MyLinks[listBox_links.SelectedIndex]);\n            }));\n            e.Result = \"links\";\n        }\n\n    }\n</code></pre>\n\n<p>I am trying to pass an optional parameter to my RemovalWorker. However, I receive the following errors:</p>\n\n<pre><code>Inconsistent Accessibility: parameter type 'Applications' is less accessible than method 'MainWindow.RemovalWorker_Start(Applications,Link)'\nInconsistent Accessibility: parameter type 'Link' is less accessible than method 'MainWindow.RemovalWorker_Start(Applications,Link)'\n</code></pre>\n\n<p>Why is this happening? Am I declaring my optional parameters incorrectly? How should I go about fixing this? The \"Removal Worker\" is instantiated via button click (hitting delete on a listbox item). The argument I would like to pass is whether it is an \"Applications\" object or a \"Link\" object.</p>\n\n<p>The function is not 100% complete - I still need to declare what my argument will be, however, I currently can not compile.</p>\n\n<p>Thanks All!</p>\n"}, {"tags": ["c#", "asp.net-web-api", "httpresponse"], "owner": {"reputation": 3773, "user_id": 2936486, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/NAC3G.png?s=128&g=1", "display_name": "Mauro Bilotti", "link": "https://stackoverflow.com/users/2936486/mauro-bilotti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519922887, "creation_date": 1439404810, "last_edit_date": 1519922887, "question_id": 31972976, "link": "https://stackoverflow.com/questions/31972976/httpresponsemessage-not-returning-file", "title": "HttpResponseMessage not returning file", "body": "<p>I'm working with a Web Api call that must return an excel file. For that purpose I have an export method which returns the memorystream object corresponding to the list that comes from the body. I could check that the stream returned is well, but I can't open the dialog for the download file. According with <a href=\"https://gist.github.com/joeriks/3714093\" rel=\"nofollow noreferrer\">this</a> post, I'm doing it well, the only difference is that I don't have a path for the file, but I guess that is not necessary.</p>\n\n<pre><code>[HttpPost()]\npublic HttpResponseMessage Export([FromBody]List&lt;SomeClass&gt; someList)\n{\n      HttpResponseMessage response = null;            \n\n      try\n      {\n           MemoryStream memoryStream = _someService.Export(someList);\n\n           response = Request.CreateResponse(HttpStatusCode.OK);\n           response.Content = new StreamContent(memoryStream);\n           response.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/octet-stream\");\n           response.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\n           {\n                FileName = \"LineItemErrors.xlsx\"                    \n           };\n\n      }\n      catch (Exception ex)\n      {\n           response = Request.CreateResponse(HttpStatusCode.BadRequest, ex.Message);\n      }\n\n      return response;\n}\n</code></pre>\n\n<p>The response message comes with the content property filled and everything else. What am I doing wrong?</p>\n"}, {"tags": ["c#", "xaml", "windows-phone", "windows-10"], "answers": [{"tags": [], "owner": {"reputation": 600, "user_id": 2358136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed01c831f75dccf09f48ccb5d6539f6e?s=128&d=identicon&r=PG", "display_name": "ILOABN", "link": "https://stackoverflow.com/users/2358136/iloabn"}, "is_accepted": true, "score": 3, "last_activity_date": 1439409695, "creation_date": 1439409695, "answer_id": 31974328, "question_id": 31972973, "link": "https://stackoverflow.com/questions/31972973/implementing-datepicker-datepickerflyout-on-textbox-tapped/31974328#31974328", "title": "Implementing DatePicker / DatePickerFlyout on TextBox Tapped", "body": "<h2>Background</h2>\n\n<p>The CalendarDatePicker in UWP in an actual UI Control. Which means it got it's own event, UI and ways to be used.</p>\n\n<p>Which means that if I add a simple CalendarDatePicker to my UI like this:</p>\n\n<pre><code>        var picker = new CalendarDatePicker();\n        mainGrid.Children.Add(picker);\n</code></pre>\n\n<p>I would produce a control like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rHdBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHdBM.png\" alt=\"Image showing a closed CalendarDatePicker\"></a></p>\n\n<p>And if I press the \"select a date\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PXaav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXaav.png\" alt=\"Image showing a open CalendarDatePicker calendar view\"></a></p>\n\n<p>My recommendation is to use that instead, since they've already solved a lot of problems and created everything for you. BUT, if you really want to use your own TextBox, nothing is stopping you from doing that. It's just a bit more cumbersome.</p>\n\n<h2>Solving initial problem</h2>\n\n<p>This is one option to use to make a Calendar view show up when you focus a TextBox:</p>\n\n<pre><code>    private void CalendarDatePicker_DateChanged(CalendarDatePicker sender, CalendarDatePickerDateChangedEventArgs args)\n    {\n        calendar.IsCalendarOpen = false;\n        textBox.Text = args.NewDate?.DateTime.ToString(\"dd/MM/yyyy\");\n    }\n\n    private void textBox_GotFocus(object sender, RoutedEventArgs e)\n    {\n        calendar.IsCalendarOpen = true;\n    }\n</code></pre>\n\n<p>And the corresponding XAML:</p>\n\n<pre><code>    &lt;TextBox x:Name=\"textBox\" PlaceholderText=\"Press me!\" Tapped=\"Btn_Tapped\" GotFocus=\"textBox_GotFocus\" Height=\"100\" /&gt;\n    &lt;CalendarDatePicker x:Name=\"calendar\" Width=\"0\" Height=\"0\" DateChanged=\"CalendarDatePicker_DateChanged\" /&gt;\n</code></pre>\n\n<p>PS. The trick is to set the CalendarDatePicker Height and Width to zero, that makes the actual button invisible, but still lets the Calendar flyout be visible when setting <code>IsCalendarOpen = true</code></p>\n\n<p>I hope that helps. Would love to hear feedback or critique about the answer :)</p>\n\n<p>Have a good day!</p>\n"}], "owner": {"reputation": 113, "user_id": 4227727, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14b88665638f457113f652329a59e9be?s=128&d=identicon&r=PG&f=1", "display_name": "shriyanshk", "link": "https://stackoverflow.com/users/4227727/shriyanshk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 1, "accepted_answer_id": 31974328, "answer_count": 1, "score": 2, "last_activity_date": 1439409695, "creation_date": 1439404794, "question_id": 31972973, "link": "https://stackoverflow.com/questions/31972973/implementing-datepicker-datepickerflyout-on-textbox-tapped", "title": "Implementing DatePicker / DatePickerFlyout on TextBox Tapped", "body": "<p>I am working on Windows 10 Universal app and I am confused on how to implement DatePicker on textbox tap. As soon I click on Textbox I want datepicker to showup.\nI have tried Tapped and OnFocus event and call datepicker using C# but that didn't help.\nIs their any other way to implement it.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "edited": false, "score": 0, "creation_date": 1439404729, "post_id": 31972913, "comment_id": 51852768, "body": "passing value of what  to <code>textbox</code>?"}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1439404754, "post_id": 31972913, "comment_id": 51852779, "body": "What text you are referring here?"}], "answers": [{"comments": [{"owner": {"reputation": 2280, "user_id": 1148619, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BBLJP.jpg?s=128&g=1", "display_name": "Ben Sewards", "link": "https://stackoverflow.com/users/1148619/ben-sewards"}, "edited": false, "score": 0, "creation_date": 1439405026, "post_id": 31973010, "comment_id": 51852930, "body": "if the control is inside of a ListView, you have to first find the control in side of the dynamic control."}, {"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "reply_to_user": {"reputation": 2280, "user_id": 1148619, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BBLJP.jpg?s=128&g=1", "display_name": "Ben Sewards", "link": "https://stackoverflow.com/users/1148619/ben-sewards"}, "edited": false, "score": 0, "creation_date": 1439405666, "post_id": 31973010, "comment_id": 51853289, "body": "@BenSewards, absolutely correct. Just didn&#39;t wanted to write the whole statement. Rather thought of pointing what he is missing."}, {"owner": {"reputation": 31, "user_id": 5185842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43edf630bc0eac92fda19c516468f646?s=128&d=identicon&r=PG&f=1", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/5185842/long-nguyen"}, "edited": false, "score": 0, "creation_date": 1439406394, "post_id": 31973010, "comment_id": 51853692, "body": "The textbox is outside of the listview in another &quot;View&quot; and yet I am getting the error: Object reference not set to an instance of an object.. At line: TextBox1.Text = ((LinkButton)this.lstview1.FindControl(&quot;lkbCommandAction&quot;)).&zwnj;&#8203;Text;"}], "tags": [], "owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1439405540, "last_edit_date": 1439405540, "creation_date": 1439404932, "answer_id": 31973010, "question_id": 31972913, "link": "https://stackoverflow.com/questions/31972913/passing-value-for-listview-to-textbox-on-button-click/31973010#31973010", "title": "Passing value for listview to textbox on button click", "body": "<p>If you are talking about text of linkbutton itself then you can use the linkbutton <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.linkbutton.text%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>Text</code></a> property to set to <code>TextBox</code> like (Assuming your ListView name is <code>lstview1</code>)</p>\n\n<pre><code> protected void lkbCommandAction_Command(object sender, CommandEventArgs e)\n{\n    MultiView1.ActiveViewIndex = 1;\n    TextBox1.Text = ((LinkButton)this.lstview1.FindControl(\"lkbCommandAction\")).Text;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5185842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43edf630bc0eac92fda19c516468f646?s=128&d=identicon&r=PG&f=1", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/5185842/long-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439405540, "creation_date": 1439404591, "question_id": 31972913, "link": "https://stackoverflow.com/questions/31972913/passing-value-for-listview-to-textbox-on-button-click", "title": "Passing value for listview to textbox on button click", "body": "<p>My list view has a link button:</p>\n\n<p>Aspx:</p>\n\n<pre><code> &lt;AlternatingItemTemplate&gt;\n                &lt;tr style=\"background-color:#FFF8DC;\"&gt;\n\n                    &lt;td&gt;\n                        &lt;asp:LinkButton ID=\"CaseNumberLabel\" runat=\"server\" Text='&lt;%# Eval(\"CaseNumber\") %&gt;'  CommandArgument='&lt;%# Eval(\"CaseNumber\") %&gt;' OnCommand=\"lkbCommandAction_Command\"  /&gt;\n                    &lt;/td&gt;\n</code></pre>\n\n<p>C#</p>\n\n<pre><code>     protected void lkbCommandAction_Command(object sender, CommandEventArgs e)\n    {\n        MultiView1.ActiveViewIndex = 1;\n        TextBox1.Text = \n    }\n</code></pre>\n\n<p>How can I pass the value to the Textbox1.Text on click? </p>\n"}, {"tags": ["c#", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1439818659, "post_id": 31972910, "comment_id": 52002883, "body": "This project can help you: <a href=\"https://github.com/jcachat/EntityFramework.DynamicFilters\" rel=\"nofollow noreferrer\">github.com/jcachat/EntityFramework.DynamicFilters</a> and works better than accepted answer"}, {"owner": {"reputation": 8679, "user_id": 540352, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/J0Qzp.png?s=128&g=1", "display_name": "Laoujin", "link": "https://stackoverflow.com/users/540352/laoujin"}, "edited": false, "score": 0, "creation_date": 1489703790, "post_id": 31972910, "comment_id": 72800465, "body": "A more fail-proof solution has been posted here: <a href=\"http://stackoverflow.com/questions/12698793/how-can-i-automatically-filter-out-soft-deleted-entities-with-entity-framework\" title=\"how can i automatically filter out soft deleted entities with entity framework\">stackoverflow.com/questions/12698793/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 235, "user_id": 5179198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4438ec9d67a077b8c5ba509283b1e076?s=128&d=identicon&r=PG&f=1", "display_name": "Clay Sills", "link": "https://stackoverflow.com/users/5179198/clay-sills"}, "is_accepted": false, "score": 0, "last_activity_date": 1439818027, "last_edit_date": 1439818027, "creation_date": 1439405138, "answer_id": 31973091, "question_id": 31972910, "link": "https://stackoverflow.com/questions/31972910/entity-framework-isdeleted-or-isdisabled-column/31973091#31973091", "title": "Entity Framework IsDeleted or IsDisabled column", "body": "<p>You could create a view for each table that has that where clause acting as its filter.  Then you can access that view from entity framework instead of the underlying table and not worry about it.  Your users never know about the underlying table, just the view.    </p>\n"}, {"comments": [{"owner": {"reputation": 4209, "user_id": 313072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02df357c5e2309add7416cb366c1c7c2?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/313072/bryan"}, "edited": false, "score": 0, "creation_date": 1439405483, "post_id": 31973117, "comment_id": 51853190, "body": "I know I didn&#39;t say it, but I&#39;d like it to work for more than just a Where. Single, FirstOrDefault, etc"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "reply_to_user": {"reputation": 4209, "user_id": 313072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02df357c5e2309add7416cb366c1c7c2?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/313072/bryan"}, "edited": false, "score": 0, "creation_date": 1439405609, "post_id": 31973117, "comment_id": 51853255, "body": "It can&#39;t.  They&#39;re extension methods and can&#39;t be overridden, else you&#39;d receive an ambiguous call error."}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1439818877, "post_id": 31973117, "comment_id": 52003034, "body": "Every time I see <code>IEnumerable</code> in LINQ next to EF, I smell trouble. I think this might end up with doing filtering in memory rather than filtering in the database. And on a large set it might be very bad for performance. Though I have not tried/confirmed this, but this is something to be aware of."}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1439819486, "post_id": 31973117, "comment_id": 52003458, "body": "Just run a small test and I can confirm that this way of filtering is very inefficient - EF does <code>Select * from tableName</code> and then does the filtering in memory. Which is fine for a tiny data-sets, but very bad on performance and memory consumption on larger sets. So I would not advise on using this way to filter in a production system."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "reply_to_user": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 1, "creation_date": 1439825357, "post_id": 31973117, "comment_id": 52007317, "body": "@trailmax You are absolutely correct and I&#39;ve updated my answer with an efficient alternative.  Unfortunately, the original answer was created to solve the OP&#39;s request for easy reuse of <code>.Where()</code>, but obviously that causes far greater issues."}], "tags": [], "owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1439825304, "last_edit_date": 1439825304, "creation_date": 1439405231, "answer_id": 31973117, "question_id": 31972910, "link": "https://stackoverflow.com/questions/31972910/entity-framework-isdeleted-or-isdisabled-column/31973117#31973117", "title": "Entity Framework IsDeleted or IsDisabled column", "body": "<p>In light of trailmax's comment below, yes, the original answer below does load all data into memory since it's exposing chained enumerables.  </p>\n\n<p>There are two issues that arise when trying to chain <code>IQueryable</code> calls together.</p>\n\n<ol>\n<li>EF does not know how to translate the resulting <code>.Invoke()</code> call</li>\n<li>If you try to maintain a naming convention like <code>.Where()</code>, you will end up picking the wrong extension since <code>IDeletable</code> only exposes a single column on which you can build a predicate.</li>\n</ol>\n\n<p>The following relies on the LinqKit library to chain expressions and the syntax is no longer fluid, but it does avoid any immediate execution.</p>\n\n<pre><code>var users = context.Users.WhereIsNotDeleted(x =&gt; x.Id &gt; 0).ToList();\n\npublic static class Extension\n{\n    public static IEnumerable&lt;T&gt; WhereIsNotDeleted&lt;T&gt;(this IQueryable&lt;T&gt; source,\n        Expression&lt;Func&lt;T, bool&gt;&gt; predicate) where T : IDeletable\n    {\n        var query = source.AsExpandable().Where(x =&gt; !x.IsDeleted);\n        return query.Where(predicate);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Assuming that <code>IDeletable</code> guarantees <code>IsDeleted</code> exists, you can create an extension method that always performs this check for you.</p>\n\n<pre><code>public interface IDeletable\n{\n    bool IsDeleted { get; set; }\n}\n\npublic static class Extension\n{\n    public static IEnumerable&lt;T&gt; WhereNotDeleted&lt;T&gt;(this IEnumerable&lt;T&gt; source, \n        Func&lt;T, bool&gt; predicate) where T : IDeletable\n    {\n        return source.Where(x =&gt; !x.IsDeleted).Where(predicate);\n    }\n}\n</code></pre>\n\n<p>In the following simple test, only two records are returned since the third has been soft-deleted.</p>\n\n<pre><code>void Main()\n{\n    var x = new List&lt;Test&gt;();\n\n    x.Add(new Test{ Number = \"one\" });\n    x.Add(new Test{ Number = \"two\" });\n    x.Add(new Test{ Number = \"three\", IsDeleted = true });\n\n    var y = x.WhereNotDeleted(a =&gt; a != null);\n    y.Count().Dump();\n}\n\npublic class Test : IDeletable\n{\n    public string Number { get; set; }\n    public bool IsDeleted { get; set; }\n}\n</code></pre>\n\n<p>In light of your comment, if you wanted it to work with EXISTING LINQ extension methods, you wouldn't actually be able to, since you'd run into call ambiguity.</p>\n\n<p>If you wanted to call <code>.Where()</code> and have it translate to your condition ONLY for your objects that implement <code>IDeletable</code>, you would need to wrap each LINQ extension method.</p>\n\n<pre><code>public static class Extension\n{\n    public static IEnumerable&lt;IDeletable&gt; Where(this IEnumerable&lt;IDeletable&gt; source, \n        Func&lt;IDeletable, bool&gt; predicate)\n    {\n        return System.Linq.Enumerable.Where(source, (x =&gt; predicate(x) &amp;&amp; !x.IsDeleted));\n    }\n}\n</code></pre>\n\n<p>In these extension methods you have to call the base LINQ methods via instance invocation instead of as an extension method, else you'll run into a stack overflow exception.  </p>\n"}], "owner": {"reputation": 4209, "user_id": 313072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02df357c5e2309add7416cb366c1c7c2?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/313072/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1684, "favorite_count": 1, "accepted_answer_id": 31973117, "answer_count": 2, "score": 1, "last_activity_date": 1439825304, "creation_date": 1439404572, "last_edit_date": 1439405714, "question_id": 31972910, "link": "https://stackoverflow.com/questions/31972910/entity-framework-isdeleted-or-isdisabled-column", "title": "Entity Framework IsDeleted or IsDisabled column", "body": "<p>I never want to delete rows from some of my tables, so I added a IsDeleted column.</p>\n\n<p>The POCS's that represent these tables all implement IDeleteable interface.</p>\n\n<p>When I do something like  - </p>\n\n<pre><code>context.Users.Where(u =&gt; u.Firstname == \"Dave\")\n</code></pre>\n\n<p>I want to get back just the rows that don't have the IsDeleted bit set. </p>\n\n<p>I don't want to add the <code>&amp;&amp; IsDeleted == false</code> to <code>Where</code></p>\n\n<p>I also want this solution to work for <code>Single</code>, <code>First</code>, or just <code>context.Users</code>, etc</p>\n\n<p>I'd like to have something like the solution to this <a href=\"https://stackoverflow.com/questions/7641552/overriding-savechanges-and-setting-modifieddate-but-how-do-i-set-modifiedby\">question</a>.</p>\n"}, {"tags": ["c#", "object", "reference"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1439404952, "post_id": 31972909, "comment_id": 51852890, "body": "<code>CopyFrom</code> will return a new object, it will not modify the existing object."}, {"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "edited": false, "score": 2, "creation_date": 1439405147, "post_id": 31972909, "comment_id": 51852993, "body": "<code>CopyFrom</code> isn&#39;t recursive; if one of the properties on <code>PickUpItemCollection</code> is an object and you change that object on the instance created by <code>CopyFrom</code>, the original property value will change as well, since both instances of <code>PickUpItemCollection</code> will be referencing the same object."}, {"owner": {"reputation": 1079, "user_id": 3980985, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/420d11e24da591e6af471495d6eac9b0?s=128&d=identicon&r=PG", "display_name": "Keith M", "link": "https://stackoverflow.com/users/3980985/keith-m"}, "edited": false, "score": 0, "creation_date": 1439405287, "post_id": 31972909, "comment_id": 51853071, "body": "You would need to probably write a new function instead that does stuff like set the ints, string and such to the same value, and created new instances of any class objects with copied values"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1439405332, "post_id": 31972909, "comment_id": 51853106, "body": "Consider cloning with <code>BinaryFormatter</code> or Json.NET as in the first answer to this question <a href=\"http://stackoverflow.com/questions/78536/deep-cloning-objects\">Deep cloning objects</a>."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1439406165, "post_id": 31972909, "comment_id": 51853571, "body": "For more options, see here: <a href=\"http://stackoverflow.com/questions/852064/faster-deep-cloning\">Faster deep cloning</a>."}], "answers": [{"tags": [], "owner": {"reputation": 881, "user_id": 1494665, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05f1c7807590db96a170f4ae8b8a057f?s=128&d=identicon&r=PG", "display_name": "nepdev", "link": "https://stackoverflow.com/users/1494665/nepdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1439405482, "last_edit_date": 1495541173, "creation_date": 1439405482, "answer_id": 31973206, "question_id": 31972909, "link": "https://stackoverflow.com/questions/31972909/c-how-to-remove-reference-between-object-when-adding-to-list/31973206#31973206", "title": "C# How to remove reference between object when adding to List?", "body": "<p>Without knowing your objects, the general answer is - you need to do a deep copy of your object. This isn't as easy as it looks on the surface if the object is complex.\nSee <a href=\"https://stackoverflow.com/questions/78536/deep-cloning-objects\">StackOverflow - cloning objects</a></p>\n"}, {"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 3, "last_activity_date": 1439406429, "creation_date": 1439406429, "answer_id": 31973456, "question_id": 31972909, "link": "https://stackoverflow.com/questions/31972909/c-how-to-remove-reference-between-object-when-adding-to-list/31973456#31973456", "title": "C# How to remove reference between object when adding to List?", "body": "<p>Since your source and target are not necessarily of the same type (<code>ITransactionItem</code> and <code>TransactionItemModel</code> respectively) and your target object is pre-allocated, you could (recursively) <a href=\"https://stackoverflow.com/questions/78536/deep-cloning-objects\">deep-copy</a> all public properties and fields from the source to the target by serializing to JSON, then populating them in the target with the <a href=\"http://www.newtonsoft.com/json/help/html/PopulateObject.htm\" rel=\"nofollow\"><code>PopulateObject</code></a> method of <a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow\">Json.NET</a>:</p>\n\n<pre><code>public static class ObjectExtensions\n{\n    public static void CopyFrom&lt;TTo, TFrom&gt;(this TTo target, TFrom source) where TTo : class\n    {\n        if (target == null)\n            throw new ArgumentNullException();\n        // Preserve object graph structure and handle polymorphic fields.\n        var settings = new JsonSerializerSettings { PreserveReferencesHandling = PreserveReferencesHandling.All, ReferenceLoopHandling = ReferenceLoopHandling.Serialize, TypeNameHandling = TypeNameHandling.Auto };\n        var json = JsonConvert.SerializeObject(source, settings);\n        JsonConvert.PopulateObject(json, target, settings);\n    }\n}\n</code></pre>\n\n<p>Most other serializers don't support populating an existing object which is why I suggest this particular method.  Deep-copying with <code>BinaryFormatter</code> is a poor choice in this case since it deserializes to a new instance of the exact same type as the serialized type.</p>\n"}], "owner": {"reputation": 301, "user_id": 617427, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4dc85e6fca505f844432739d9a33675a?s=128&d=identicon&r=PG", "display_name": "Quoc Nguyen", "link": "https://stackoverflow.com/users/617427/quoc-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4745, "favorite_count": 0, "accepted_answer_id": 31973456, "answer_count": 2, "score": 0, "last_activity_date": 1439406429, "creation_date": 1439404571, "question_id": 31972909, "link": "https://stackoverflow.com/questions/31972909/c-how-to-remove-reference-between-object-when-adding-to-list", "title": "C# How to remove reference between object when adding to List?", "body": "<p>I have a complex object with a lot of Properties with string, decimal and ObservableColection, List...</p>\n\n<p>I want to do this:</p>\n\n<pre><code>foreach (ITransactionItem transactionItem in Transaction.TransactionItemCollection.ToList())\n                {                    \n                    transactionItem.PickUpQuantity = 0;\n                    transactionItem.IsPickUp = false;\n                    this.PickUpItemCollection.Add(transactionItem);\n                }\n</code></pre>\n\n<p>The problem is, when I change item in PickUpItemCollection, reference item in TransactionItemCollection is changed too and I don't want it.</p>\n\n<p>I tried to use this ExtensionMethod to Copy object from object:</p>\n\n<pre><code>public static T CopyFrom&lt;T&gt;(this T toObject, object fromObject)\n    {\n        var fromObjectType = fromObject.GetType();\n\n        foreach (PropertyInfo toProperty in toObject.GetType().GetProperties())\n        {\n            PropertyInfo fromProperty = fromObjectType.GetProperty(toProperty.Name);\n\n            if (fromProperty != null) // match found\n            {\n                // check types\n                var fromType = Nullable.GetUnderlyingType(fromProperty.PropertyType) ?? fromProperty.PropertyType;\n                var toType = Nullable.GetUnderlyingType(toProperty.PropertyType) ?? toProperty.PropertyType;\n\n                if (toType.IsAssignableFrom(fromType)&amp;&amp; toProperty.CanWrite)\n                {\n                    toProperty.SetValue(toObject, fromProperty.GetValue(fromObject, null), null);\n                }\n            }\n        }\n\n        return toObject;\n    }\n</code></pre>\n\n<p>and implement into this code block as:</p>\n\n<pre><code>foreach (ITransactionItem transactionItem in Transaction.TransactionItemCollection.AsEnumerable().ToList())\n                {\n                    ITransactionItem transactionItemModel = new TransactionItemModel();\n                    transactionItemModel.CopyFrom(transactionItem);\n\n                    transactionItem.PickUpQuantity = 0;\n                    transactionItem.IsPickUp = false;\n                    this.PickUpItemCollection.Add(transactionItemModel);\n                }\n</code></pre>\n\n<p>But problem is still there, I know I can set property of transactionItemModel as property of transactionItem one by one but there are a lot of properties and it has a lot of List/ObservableCollection too. I think it would be have a better idea for this, right?</p>\n\n<p>Please help me.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 9813, "user_id": 2465182, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27dda39f641c68b11b8fc65f65549481?s=128&d=identicon&r=PG", "display_name": "Nathan A", "link": "https://stackoverflow.com/users/2465182/nathan-a"}, "edited": false, "score": 0, "creation_date": 1439404308, "post_id": 31972813, "comment_id": 51852555, "body": "Can you provide the stack trace?"}, {"owner": {"reputation": 940, "user_id": 712202, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61bcbb059c8de08e1e5b333c91a0a8eb?s=128&d=identicon&r=PG", "display_name": "yrahman", "link": "https://stackoverflow.com/users/712202/yrahman"}, "reply_to_user": {"reputation": 9813, "user_id": 2465182, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27dda39f641c68b11b8fc65f65549481?s=128&d=identicon&r=PG", "display_name": "Nathan A", "link": "https://stackoverflow.com/users/2465182/nathan-a"}, "edited": false, "score": 0, "creation_date": 1439404857, "post_id": 31972813, "comment_id": 51852835, "body": "i have put it in the post"}, {"owner": {"reputation": 9813, "user_id": 2465182, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27dda39f641c68b11b8fc65f65549481?s=128&d=identicon&r=PG", "display_name": "Nathan A", "link": "https://stackoverflow.com/users/2465182/nathan-a"}, "edited": false, "score": 0, "creation_date": 1439405170, "post_id": 31972813, "comment_id": 51853007, "body": "Can&#39;t say for sure, but maybe HiddenFor requires a property reference (ex: <code>HiddenFor(m=&gt;m.MyEnumProp)</code>)?"}, {"owner": {"reputation": 2106, "user_id": 1548894, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ba74423fd763ba185557c0737ca9b49?s=128&d=identicon&r=PG", "display_name": "zed", "link": "https://stackoverflow.com/users/1548894/zed"}, "edited": false, "score": 0, "creation_date": 1439405218, "post_id": 31972813, "comment_id": 51853029, "body": "Can you add the definition of your class <code>App.PrivacyLevelEnum</code>"}, {"owner": {"reputation": 940, "user_id": 712202, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61bcbb059c8de08e1e5b333c91a0a8eb?s=128&d=identicon&r=PG", "display_name": "yrahman", "link": "https://stackoverflow.com/users/712202/yrahman"}, "reply_to_user": {"reputation": 2106, "user_id": 1548894, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ba74423fd763ba185557c0737ca9b49?s=128&d=identicon&r=PG", "display_name": "zed", "link": "https://stackoverflow.com/users/1548894/zed"}, "edited": false, "score": 0, "creation_date": 1439405312, "post_id": 31972813, "comment_id": 51853090, "body": "@Zed its an enum having 4 enum values. do you still want to see it?"}, {"owner": {"reputation": 2106, "user_id": 1548894, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ba74423fd763ba185557c0737ca9b49?s=128&d=identicon&r=PG", "display_name": "zed", "link": "https://stackoverflow.com/users/1548894/zed"}, "edited": false, "score": 0, "creation_date": 1439405352, "post_id": 31972813, "comment_id": 51853123, "body": "Just because it is called <code>SomethingEnum</code> it does not mean it is an enum. It should clarify the question."}, {"owner": {"reputation": 537, "user_id": 3329353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fp3C1.jpg?s=128&g=1", "display_name": "Brunno", "link": "https://stackoverflow.com/users/3329353/brunno"}, "edited": false, "score": 0, "creation_date": 1439405524, "post_id": 31972813, "comment_id": 51853221, "body": "[It would not be the same problem?][1]        [1]: <a href=\"http://stackoverflow.com/questions/6580964/html-hiddenfor-with-enum\" title=\"html hiddenfor with enum\">stackoverflow.com/questions/6580964/html-hiddenfor-with-enum</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1439425760, "post_id": 31972813, "comment_id": 51861294, "body": "You need to show your model and the GET method. Your model needs to contain a property for the enum (you cant just have the enum itself as the model)"}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 712202, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61bcbb059c8de08e1e5b333c91a0a8eb?s=128&d=identicon&r=PG", "display_name": "yrahman", "link": "https://stackoverflow.com/users/712202/yrahman"}, "edited": false, "score": 0, "creation_date": 1439405432, "post_id": 31973112, "comment_id": 51853162, "body": "but i am making a generic control which i can use any where in my app. i need to pass enum as model and does not have any property."}, {"owner": {"reputation": 2106, "user_id": 1548894, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1ba74423fd763ba185557c0737ca9b49?s=128&d=identicon&r=PG", "display_name": "zed", "link": "https://stackoverflow.com/users/1548894/zed"}, "edited": false, "score": 0, "creation_date": 1439405553, "post_id": 31973112, "comment_id": 51853233, "body": "For that you could define an EditorTemplate and the use it with <code>EditorFor</code> wherever you like."}], "tags": [], "owner": {"reputation": 1112, "user_id": 1569005, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470953136/picture?type=large", "display_name": "lem2802", "link": "https://stackoverflow.com/users/1569005/lem2802"}, "is_accepted": false, "score": 0, "last_activity_date": 1439405216, "creation_date": 1439405216, "answer_id": 31973112, "question_id": 31972813, "link": "https://stackoverflow.com/questions/31972813/error-while-creating-hidden-field-for-model-in-asp-net-mvc-5/31973112#31973112", "title": "Error while creating hidden field for model in ASP.net MVC 5", "body": "<p>you need to specify the property name:</p>\n\n<pre><code>HiddenFor(m =&gt; m.yourPorperty)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8465, "user_id": 2496702, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/x9F6G.jpg?s=128&g=1", "display_name": "Alex Art.", "link": "https://stackoverflow.com/users/2496702/alex-art"}, "is_accepted": false, "score": 1, "last_activity_date": 1439407883, "creation_date": 1439407883, "answer_id": 31973855, "question_id": 31972813, "link": "https://stackoverflow.com/questions/31972813/error-while-creating-hidden-field-for-model-in-asp-net-mvc-5/31973855#31973855", "title": "Error while creating hidden field for model in ASP.net MVC 5", "body": "<p>Your issue here is not an empty model but an incorrect usage of <code>HiddenFor</code> attribute</p>\n\n<p>The signature of a method is :</p>\n\n<pre><code>HiddenFor&lt;TModel, TProperty&gt;(HtmlHelper&lt;TModel&gt;, Expression&lt;Func&lt;TModel, TProperty&gt;&gt;) \n</code></pre>\n\n<p>where <code>Expression&lt;Func&lt;TModel, TProperty&gt;&gt;</code> specifies a model property for which you are going to generate a hidden input. This expression looks something like <code>model =&gt; model.Name</code>. If I make a long story short, this expression is then used to generate <code>name</code> and <code>id</code> attributes for the generated html input</p>\n\n<p>In your case, the expression that you provide generates an empty name which is invalid. This is the method that throws an exception (from MVC source code):</p>\n\n<pre><code> private static MvcHtmlString InputHelper(HtmlHelper htmlHelper, InputType inputType, ModelMetadata metadata, string name, object value, bool useViewData, bool isChecked, bool setId, bool isExplicitValue, string format, IDictionary&lt;string, object&gt; htmlAttributes)\n        {\n            string fullName = htmlHelper.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldName(name);\n            if (String.IsNullOrEmpty(fullName))\n            {\n                throw new ArgumentException(MvcResources.Common_NullOrEmpty, \"name\");\n            } \n          ... \n         }\n</code></pre>\n\n<p>Now about possible solutions:</p>\n\n<p>1) Decorate your property in model with <code>[HiddenInput(DisplayValue = false)]</code> (<a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.hiddeninputattribute(v=vs.118).aspx\" rel=\"nofollow\">MSDN</a>)- this way you wont have to create a partial view at all. Usage:</p>\n\n<p>2) Create an <code>EditorTemplate</code>. You can call it <code>HiddentEnum.cshtml</code> for \nexample (Make sure to store it under <code>Views/Shared/EditorTemplates</code> folder):</p>\n\n<pre><code>  @model Enum\n\n  @Html.HiddenFor(model=&gt;model)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code> @Html.EditorFor(model =&gt; model.TestEnum, templateName: \"HiddenEnum\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10362, "user_id": 324479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2cea5a3599cdda15644e925735ae9a25?s=128&d=identicon&r=PG", "display_name": "Carter Medlin", "link": "https://stackoverflow.com/users/324479/carter-medlin"}, "is_accepted": false, "score": 1, "last_activity_date": 1482345131, "creation_date": 1482345131, "answer_id": 41269603, "question_id": 31972813, "link": "https://stackoverflow.com/questions/31972813/error-while-creating-hidden-field-for-model-in-asp-net-mvc-5/41269603#41269603", "title": "Error while creating hidden field for model in ASP.net MVC 5", "body": "<p>Since your model datatype is an enum and not a class with properties, you have to specify a name and id when you use it in your display.</p>\n\n<pre><code>@Html.Hidden(\"privacyLevel\", Model, new { @id=\"privacyLevel\"})\n</code></pre>\n"}], "owner": {"reputation": 940, "user_id": 712202, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61bcbb059c8de08e1e5b333c91a0a8eb?s=128&d=identicon&r=PG", "display_name": "yrahman", "link": "https://stackoverflow.com/users/712202/yrahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1977, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1482345131, "creation_date": 1439404260, "last_edit_date": 1439404909, "question_id": 31972813, "link": "https://stackoverflow.com/questions/31972813/error-while-creating-hidden-field-for-model-in-asp-net-mvc-5", "title": "Error while creating hidden field for model in ASP.net MVC 5", "body": "<p>I m trying to render a hidden field in partial view for model which is an enum</p>\n\n<p>my code is </p>\n\n<pre><code>@model App.PrivacyLevelEnum\n@Html.HiddenFor(m=&gt;m);\n</code></pre>\n\n<p>I have checked Model is not empty but i am getting following error while rendering the view</p>\n\n<pre>\nValue cannot be null or empty.\\r\\nParameter name: name\n\nStack trace\n\n   at System.Web.Mvc.Html.InputExtensions.InputHelper(HtmlHelper htmlHelper, InputType inputType, ModelMetadata metadata, String name, Object value, Boolean useViewData, Boolean isChecked, Boolean setId, Boolean isExplicitValue, String format, IDictionary`2 htmlAttributes)\n   at System.Web.Mvc.Html.InputExtensions.HiddenHelper(HtmlHelper htmlHelper, ModelMetadata metadata, Object value, Boolean useViewData, String expression, IDictionary`2 htmlAttributes)\n   at System.Web.Mvc.Html.InputExtensions.HiddenFor[TModel,TProperty](HtmlHelper`1 htmlHelper, Expression`1 expression, IDictionary`2 htmlAttributes)\n   at System.Web.Mvc.Html.InputExtensions.HiddenFor[TModel,TProperty](HtmlHelper`1 htmlHelper, Expression`1 expression)\n   at ASP._Page_Views_Profile_PrivacyLevel_cshtml.Execute() in c:\\TFS\\DEFAULTCOLLECTION\\Gac.Hr\\Development\\Source\\Gac.Hr.Web.Html5\\Views\\Profile\\PrivacyLevel.cshtml:line 58\n   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()\n   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()\n   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)\n   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)\n   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)\n   at System.Web.Mvc.HtmlHelper.RenderPartialInternal(String partialViewName, ViewDataDictionary viewData, Object model, TextWriter writer, ViewEngineCollection viewEngineCollection)\n   at System.Web.Mvc.Html.PartialExtensions.Partial(HtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)\n   at ASP._Page_Views_Profile_ProfileDetailsEditor_cshtml.Execute() in c:\\TFS\\DEFAULTCOLLECTION\\Gac.Hr\\Development\\Source\\Gac.Hr.Web.Html5\\Views\\Profile\\ProfileDetailsEditor.cshtml:line 107\n   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()\n   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()\n   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)\n   at System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)\n   at System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)\n   at GacHrUI.Controllers.ProfileController.StringifyView(String viewName, Object model) in c:\\TFS\\DEFAULTCOLLECTION\\Gac.Hr\\Development\\Source\\Gac.Hr.Web.Html5\\Controllers\\ProfileController.cs:line 62\n   at GacHrUI.Controllers.ProfileController.RenderEditMode() in c:\\TFS\\DEFAULTCOLLECTION\\Gac.Hr\\Development\\Source\\Gac.Hr.Web.Html5\\Controllers\\ProfileController.cs:line 35\n   at lambda_method(Closure , ControllerBase , Object[] )\n   at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)\n   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.ActionInvocation.InvokeSynchronousActionMethod()\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)\n   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)\n   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()\n   at System.Web.Mvc.Async.AsyncResultWrapper.End[TResult](IAsyncResult asyncResult, Object tag)\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.b__3d()\n   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.c__DisplayClass46.b__3f()\n</pre>\n\n<p>Quick help will be really appreciated </p>\n"}, {"tags": ["c#", "sql-server-ce", "windows-mobile-6.5"], "comments": [{"owner": {"reputation": 5853, "user_id": 1479943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d518018828cbe7c98d450f69faac65b6?s=128&d=identicon&r=PG", "display_name": "josef", "link": "https://stackoverflow.com/users/1479943/josef"}, "edited": false, "score": 0, "creation_date": 1439489310, "post_id": 31972790, "comment_id": 51894969, "body": "Beside surrounding the executeReader by try/catch, add an ; at the end of each sql statement."}], "answers": [{"tags": [], "owner": {"reputation": 36579, "user_id": 183934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6458cf59b73b593fa9c9c8194f0a3b15?s=128&d=identicon&r=PG", "display_name": "ErikEJ", "link": "https://stackoverflow.com/users/183934/erikej"}, "is_accepted": true, "score": 1, "last_activity_date": 1439405526, "creation_date": 1439405526, "answer_id": 31973218, "question_id": 31972790, "link": "https://stackoverflow.com/questions/31972790/unspecified-error-when-trying-to-executereader-on-sql-server-ce/31973218#31973218", "title": "Unspecified Error when trying to ExecuteReader on SQL Server CE", "body": "<p>Implement proper error handling for SqlCeExceptions! The error is documented here <a href=\"https://technet.microsoft.com/en-us/library/ms172350(v=sql.110).aspx\" rel=\"nofollow\">https://technet.microsoft.com/en-us/library/ms172350(v=sql.110).aspx</a> </p>\n\n<p>Large objects (ntext and image) cannot be used in ORDER BY clauses. </p>\n\n<p>Maybe you should redefine the column as nvarchar(4000) (it is currently ntext), or rephrase the query using:</p>\n\n<pre><code> ORDER BY CAST(Name as nvarchar(4000))\n</code></pre>\n\n<p>But this will cause a table scan</p>\n"}], "owner": {"reputation": 1717, "user_id": 1158142, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/15OA1.jpg?s=128&g=1", "display_name": "ipohfly", "link": "https://stackoverflow.com/users/1158142/ipohfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 31973218, "answer_count": 1, "score": 0, "last_activity_date": 1439405526, "creation_date": 1439404154, "last_edit_date": 1439405498, "question_id": 31972790, "link": "https://stackoverflow.com/questions/31972790/unspecified-error-when-trying-to-executereader-on-sql-server-ce", "title": "Unspecified Error when trying to ExecuteReader on SQL Server CE", "body": "<p>I had implemented a database storage on my app for Windows Mobile 6.5 using SQL Server CE.</p>\n\n<p>Had managed to install the SQL Server CE CAB file on the device (Motorola MC65).</p>\n\n<p>Managed to create database file, and create tables. Insert also can be executed.</p>\n\n<p>However when I try to run <code>ExecuteReader()</code> to read records, I hit the following error:</p>\n\n<blockquote>\n  <p>Error Code: 80004005<br>\n  Message   : Unspecified error<br>\n  Minor Err.: 25534<br>\n  Source    : SQL Server Compact ADO.NET Data Provider</p>\n</blockquote>\n\n<p>No idea why this is happening. Since <code>insert</code> can be executed I thought this should not be a connection or privilege issue.</p>\n\n<p>The reading code is as below:</p>\n\n<pre><code>openConnection();\nSqlCeCommand cmd = conn.CreateCommand();\ncmd.CommandText = \"SELECT NAME FROM GROUP_INFO ORDER BY NAME \";\n\nSqlCeDataReader reader = cmd.ExecuteReader();\n\nwhile (reader.Read())\n{\n      string groupName = reader.GetString(0);\n      listGroup.Add(groupName);\n}\n</code></pre>\n\n<p>The exception is thrown on the line where <code>cmd.ExecuteReader()</code> is executing.</p>\n\n<p>Any pointers are appreciated. Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "pdf", "itextsharp"], "comments": [{"owner": {"reputation": 439, "user_id": 710533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e6fffdcbc7b08a3630b6d4367915cda?s=128&d=identicon&r=PG", "display_name": "Ulfius", "link": "https://stackoverflow.com/users/710533/ulfius"}, "edited": false, "score": 0, "creation_date": 1439408871, "post_id": 31972783, "comment_id": 51854970, "body": "Looks like saving the file is changing the structure of the fields and they&#39;re going into the XfaForm property.  I&#39;m getting closer by loading the XML using.  \t\t\t\t\t<code>var xform = new XfaForm(reader); \t\t\t\t\tvar xdoc = xform.DomDocument; \t\t\t\t\tvar new_doc = new XmlDocument(); \t\t\t\t\tnew_doc.LoadXml(xdoc.OuterXml);</code>"}, {"owner": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "edited": false, "score": 0, "creation_date": 1439408892, "post_id": 31972783, "comment_id": 51854986, "body": "I don&#39;t have time to go into this too much but your original form has Adobe usage rights enabled and when you save the PDF it does some crazy behind-the-scenes kind of things. See this for <a href=\"http://stackoverflow.com/a/19382679/231316\">checking for usage rights</a>"}, {"owner": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "edited": false, "score": 0, "creation_date": 1439408915, "post_id": 31972783, "comment_id": 51855000, "body": "And see <a href=\"http://stackoverflow.com/a/5267583/231316\">this for further discussion</a>"}, {"owner": {"reputation": 439, "user_id": 710533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e6fffdcbc7b08a3630b6d4367915cda?s=128&d=identicon&r=PG", "display_name": "Ulfius", "link": "https://stackoverflow.com/users/710533/ulfius"}, "reply_to_user": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "edited": false, "score": 0, "creation_date": 1439409168, "post_id": 31972783, "comment_id": 51855148, "body": "I&#39;m not going to be able to remove the usage rights because this is an external form that people will be uploading into my application.  Looks like extracting the data from the XfaForm XML is going to be the route to take."}], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 710533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e6fffdcbc7b08a3630b6d4367915cda?s=128&d=identicon&r=PG", "display_name": "Ulfius", "link": "https://stackoverflow.com/users/710533/ulfius"}, "is_accepted": false, "score": 1, "last_activity_date": 1439409794, "last_edit_date": 1495542583, "creation_date": 1439409794, "answer_id": 31974354, "question_id": 31972783, "link": "https://stackoverflow.com/questions/31972783/form-field-collection-is-null-in-pdf-after-saving-using-itextsharp/31974354#31974354", "title": "form field collection is null in pdf after saving using iTextSharp", "body": "<p>The fields are going into the XfaForm property of the reader.  All I had to do was get the XML from there and then parse to find the data fields I was after.</p>\n\n<p>This post was helpful.  <a href=\"https://stackoverflow.com/questions/14864669/itextsharp-xfa-document-in-c-sharp\">How to get a list of the fields in an XFA form?</a></p>\n\n<p>Data was in the <code>&lt;xfa:datasets&gt;&lt;xfa:data&gt;</code> node.</p>\n"}], "owner": {"reputation": 439, "user_id": 710533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e6fffdcbc7b08a3630b6d4367915cda?s=128&d=identicon&r=PG", "display_name": "Ulfius", "link": "https://stackoverflow.com/users/710533/ulfius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439409794, "creation_date": 1439404134, "question_id": 31972783, "link": "https://stackoverflow.com/questions/31972783/form-field-collection-is-null-in-pdf-after-saving-using-itextsharp", "title": "form field collection is null in pdf after saving using iTextSharp", "body": "<p>I have two PDF forms at the following download location - <a href=\"http://1drv.ms/1Jd1Dnt\" rel=\"nofollow\">PDF Documents</a></p>\n\n<p>These are the same file, with the only exception that version A2 was created by opening version A in Acrobat Pro DC, clicking a checkbox at the top of the form (or fill in any field), then Save As.. </p>\n\n<p>I'm using this code:</p>\n\n<pre><code>                PdfReader reader = new PdfReader(HttpContext.Current.Server.MapPath(\"~/documents/Appendix-A.pdf\"));\n                var form = reader.AcroFields;\n                var fields = form.Fields;\n</code></pre>\n\n<p>When I use Appendix-A.pdf, the fields collection is properly filled.\nWhen I use Appendix-A2.pdf, the fields collection is null.</p>\n\n<p>How can I get the fields and values from the filled in form (Appendix-A2.pdf)?</p>\n\n<p>Note: I noticed that even the preview of the two forms at the link above is different.</p>\n"}, {"tags": ["c#", "algorithm", "roslyn"], "comments": [{"owner": {"reputation": 858, "user_id": 387777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f736482d36218cfbb4c3428f1487a67?s=128&d=identicon&r=PG", "display_name": "David Poeschl", "link": "https://stackoverflow.com/users/387777/david-poeschl"}, "edited": false, "score": 1, "creation_date": 1439410817, "post_id": 31972748, "comment_id": 51855916, "body": "Are you debugging with &quot;Just My Code&quot; enabled in the Debugging Options? If so, try disabling it. If the ArgumentNullException happens while debugging, and &quot;Just My Code&quot; is <b>disabled</b>, and ArgumentNullException is checked in the Exception Settings window, then the debugger should break and you should be able to get the stack of the exception, which could help us diagnose that issue more quickly."}, {"owner": {"reputation": 2565, "user_id": 4154141, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/olQyD.png?s=128&g=1", "display_name": "Kevin Avignon", "link": "https://stackoverflow.com/users/4154141/kevin-avignon"}, "reply_to_user": {"reputation": 858, "user_id": 387777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f736482d36218cfbb4c3428f1487a67?s=128&d=identicon&r=PG", "display_name": "David Poeschl", "link": "https://stackoverflow.com/users/387777/david-poeschl"}, "edited": false, "score": 0, "creation_date": 1439420004, "post_id": 31972748, "comment_id": 51859863, "body": "@DavidPoeschl I checked and it was not enabled."}, {"owner": {"reputation": 35588, "user_id": 573218, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/m5syD.png?s=128&g=1", "display_name": "John Koerner", "link": "https://stackoverflow.com/users/573218/john-koerner"}, "edited": false, "score": 0, "creation_date": 1439433720, "post_id": 31972748, "comment_id": 51863080, "body": "Do you have a stack trace to go along with that exception?"}], "owner": {"reputation": 2565, "user_id": 4154141, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/olQyD.png?s=128&g=1", "display_name": "Kevin Avignon", "link": "https://stackoverflow.com/users/4154141/kevin-avignon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 589, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1439404028, "creation_date": 1439404028, "question_id": 31972748, "link": "https://stackoverflow.com/questions/31972748/removing-and-adding-content-with-code-fix-provider", "title": "Removing and Adding content with Code Fix Provider", "body": "<p>I had that previous question which was intended to resolved the state of a local variable / parameter. It works fine, I tweak it a little bit and it looks like this now : </p>\n\n<pre><code>using Microsoft.CodeAnalysis;\nusing Microsoft.CodeAnalysis.CSharp;\nusing Microsoft.CodeAnalysis.CSharp.Syntax;\nusing Microsoft.CodeAnalysis.Diagnostics;\nusing System.Collections.Immutable;\nusing System.Linq;\n\nnamespace RefactoringEssentials.CSharp.Diagnostics\n{\n    [DiagnosticAnalyzer(LanguageNames.CSharp)]\n    public class LocalVariableNotUsedAnalyzer : DiagnosticAnalyzer\n    {\n        private static readonly DiagnosticDescriptor descriptor = new DiagnosticDescriptor(\n            CSharpDiagnosticIDs.LocalVariableNotUsedAnalyzerID,\n            GettextCatalog.GetString(\"Local variable is never used\"),\n            GettextCatalog.GetString(\"Local variable is never used\"),\n            DiagnosticAnalyzerCategories.RedundanciesInDeclarations,\n            DiagnosticSeverity.Warning,\n            isEnabledByDefault: true,\n            helpLinkUri: HelpLink.CreateFor(CSharpDiagnosticIDs.LocalVariableNotUsedAnalyzerID)\n        );\n\n        public override ImmutableArray&lt;DiagnosticDescriptor&gt; SupportedDiagnostics =&gt; ImmutableArray.Create(descriptor);\n\n        public override void Initialize(AnalysisContext context)\n        {\n            context.RegisterSyntaxNodeAction(\n                (nodeContext) =&gt;\n                {\n                    Diagnostic diagnostic;\n                    if (TryGetDiagnostic(nodeContext, out diagnostic))\n                    {\n                        nodeContext.ReportDiagnostic(diagnostic);\n                    }\n                },\n                SyntaxKind.LocalDeclarationStatement\n            );\n        }\n\n\n        private static bool TryGetDiagnostic(SyntaxNodeAnalysisContext nodeContext, out Diagnostic diagnostic)\n        {\n            diagnostic = default(Diagnostic);\n            if (nodeContext.IsFromGeneratedCode())\n                return false;\n\n            var localDeclarationUnused = nodeContext.Node as LocalDeclarationStatementSyntax;\n            var body = localDeclarationUnused?.Parent as BlockSyntax;\n            if (body == null)\n                return false;\n\n            var dataFlow = nodeContext.SemanticModel.AnalyzeDataFlow(body);\n            var variablesDeclared = dataFlow.VariablesDeclared;\n            var variablesRead = dataFlow.ReadInside.Union(dataFlow.ReadOutside);\n            var unused = variablesDeclared.Except(variablesRead).ToArray();\n            if (unused == null)\n                return false;\n\n            if (localDeclarationUnused.Declaration == null || !localDeclarationUnused.Declaration.Variables.Any())\n                return false; \n\n            var localDeclarationSymbol = nodeContext.SemanticModel.GetDeclaredSymbol(localDeclarationUnused.Declaration.Variables.FirstOrDefault());\n            if (unused.Any())\n            {\n                if (unused.Contains(localDeclarationSymbol))\n                {\n                    diagnostic = Diagnostic.Create(descriptor, localDeclarationUnused.Declaration.GetLocation());\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>I have build a code fix provider which is working around 40% of the time, when checking the success rate of the NUnit test. Even though I know the code is OK, there seem to be some error on my machine that only arrives when the code fix is being run. I know this because I can debug the analyzer for the tests and each one are fine. </p>\n\n<p>When the code fix provider is being run, I have this error that I can't shake for some reason : \"System.ArgumentNullException : Value cannot be null.\nParameter name : declaration\" \nI have tried debugging the code fix provider, but nothing showed me where that declaration parameter could be located.</p>\n\n<p>Moreover, I am used with code fix providers that need to either replace and remove nodes. But I'm not used to fix an error and add content and I'm wondering how to do such a thing. </p>\n\n<p>Here's my code fix provider which does not take care of adding information at the moment : </p>\n\n<pre><code>using Microsoft.CodeAnalysis;\nusing System.Collections.Immutable;\nusing System.Diagnostics;\nusing Microsoft.CodeAnalysis.CodeFixes;\nusing System.Threading.Tasks;\nusing System.Linq;\nusing Microsoft.CodeAnalysis.CSharp;\nusing Microsoft.CodeAnalysis.CSharp.Syntax;\n\nnamespace RefactoringEssentials.CSharp.Diagnostics\n{\n\n    [ExportCodeFixProvider(LanguageNames.CSharp), System.Composition.Shared]\n    public class LocalVariableNotUsedCodeFixProvider : CodeFixProvider\n    {\n        public override ImmutableArray&lt;string&gt; FixableDiagnosticIds\n        {\n            get\n            {\n                return ImmutableArray.Create(CSharpDiagnosticIDs.LocalVariableNotUsedAnalyzerID);\n            }\n        }\n\n        public override FixAllProvider GetFixAllProvider()\n        {\n            return WellKnownFixAllProviders.BatchFixer;\n        }\n\n        public async override Task RegisterCodeFixesAsync(CodeFixContext context)\n        {\n            var document = context.Document;\n            var cancellationToken = context.CancellationToken;\n            var span = context.Span;\n            var diagnostics = context.Diagnostics;\n            var root = await document.GetSyntaxRootAsync(cancellationToken);\n            var diagnostic = diagnostics.First();\n            var node = root.FindNode(context.Span);\n            if (node == null)\n                return;\n            var newRoot = root.RemoveNode(node, SyntaxRemoveOptions.KeepNoTrivia);\n            context.RegisterCodeFix(CodeActionFactory.Create(node.Span, diagnostic.Severity, \"Remove unused local variable\", document.WithSyntaxRoot(newRoot)), diagnostic);\n        }\n    }\n}\n</code></pre>\n\n<p>and here are the tests that I'm using to make sure that the fix is ok. The last two are running just fine :-)</p>\n\n<pre><code>using NUnit.Framework;\nusing RefactoringEssentials.CSharp.Diagnostics;\n\nnamespace RefactoringEssentials.Tests.CSharp.Diagnostics\n{\n    [TestFixture]\n    public class LocalVariableNotUsedTests : CSharpDiagnosticTestBase\n    {\n        [Test]\n        public void TestUnusedVariable()\n        {\n            var input = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        $int i$;\n    }\n}\";\n            var output = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n    }\n}\";\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input, output);\n        }\n\n        [Test]\n        public void TestUnusedVariable2()\n        {\n            var input2 = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        $int i, j$;\n        j = 1;\n    }\n}\";\n            var output2 = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        int j;\n        j = 1;\n    }\n}\";\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input2, output2);\n        }\n\n        [Test]\n        public void TestUsedVariable()\n        {\n            var input1 = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        $int i = 0$;\n    }\n}\";\n            var input2 = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        int i;\n        i = 0;\n    }\n}\";\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input1);\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input2);\n        }\n\n        [Test]\n        public void TestUnusedForeachVariable()\n        {\n            var input = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        var array = new int[10];\n        foreach (var i in array) {\n        }\n    }\n}\";\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input);\n        }\n\n        [Test]\n        public void TestUsedForeachVariable()\n        {\n            var input = @\"\nclass TestClass {\n    void TestMethod ()\n    {\n        var array = new int[10];\n        int j = 0;\n        foreach (var i in array) {\n            j += i;\n        }\n    }\n}\";\n            Analyze&lt;LocalVariableNotUsedAnalyzer&gt;(input);\n        }\n    }\n}\n</code></pre>\n\n<p>Is there is anything that is not clear, I will make sure to update my thread appropriately.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1439403847, "post_id": 31972675, "comment_id": 51852303, "body": "Override the <code>.ToString()</code> method in the person class, and return a string with the data you want to be printed in the console."}], "answers": [{"tags": [], "owner": {"reputation": 4910, "user_id": 1733477, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/911ca1c27eb2f18e0a3cb381ddf8fa6f?s=128&d=identicon&r=PG", "display_name": "Thomas Stringer", "link": "https://stackoverflow.com/users/1733477/thomas-stringer"}, "is_accepted": false, "score": 2, "last_activity_date": 1439403888, "creation_date": 1439403888, "answer_id": 31972713, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c/31972713#31972713", "title": "Detail of class in output using list in c#", "body": "<pre><code>Console.WriteLine(\"Name = {0}, Last Name = {1}, Age = {2}\", item.Name, item.LastName, item.Age);\n</code></pre>\n\n<p>That will output the data you are looking for by going through the properties in the <code>item</code>s and giving you the output you desire.</p>\n\n<p>Likewise, if you are looking for <em>default</em> behavior of generating a string from your class, you can override the <code>ToString()</code> method for your class to give the output you desire.</p>\n\n<pre><code>public override string ToString()\n{\n    return string.Format(\"Name = {0}, Last Name = {1}, Age = {2}\", Name, LastName, Age);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4765, "user_id": 2041231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63751e6983551d1e37a6e6192ae6ccc1?s=128&d=identicon&r=PG", "display_name": "Patrick Kostjens", "link": "https://stackoverflow.com/users/2041231/patrick-kostjens"}, "is_accepted": false, "score": 2, "last_activity_date": 1439403903, "creation_date": 1439403903, "answer_id": 31972717, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c/31972717#31972717", "title": "Detail of class in output using list in c#", "body": "<p>You have to override te <code>ToString</code> method in your <code>Person</code> class. The result of that function is what's printed. Insert the following code into your <code>Person</code> class:</p>\n\n<pre><code>public override string ToString() {\n    return string.Format(\"Name: {0}, LastName: {1}, Age: {2}\", Name, LastName, Age);\n}\n</code></pre>\n\n<p>Alternatively, if you do not want the string representation of your class to change. You could print the string generated with the above code instead of printing the object itself.</p>\n"}, {"tags": [], "owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "is_accepted": true, "score": 4, "last_activity_date": 1439403933, "creation_date": 1439403933, "answer_id": 31972724, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c/31972724#31972724", "title": "Detail of class in output using list in c#", "body": "<p>This is pretty simple.</p>\n\n<pre><code>public class Person\n{\n    public string Name;\n    public string LastName;\n    public int Age;\n\n    public Person()\n    {\n\n    }\n    public Person(string name, string lastName, int age)\n    {\n        Name = name;\n        LastName = lastName;\n        Age = age;\n    }\n    public override string ToString()\n    {\n        return string.Format(\"{0} {1} - {2} Years Old\", Name, LastName, Age);\n    }\n}\n</code></pre>\n\n<p>Which you can use exactly how you were in the original place:</p>\n\n<pre><code>foreach (Person item in personList)\n{\n    Console.WriteLine(item);\n}\n</code></pre>\n\n<p>Which will print out like:</p>\n\n<pre><code>Jane Doe - 23 Years Old\nJohn Doe - 14 Years Old\nJim Doe - 120 Years Old\n</code></pre>\n\n<p>The <code>.ToString()</code> is inherited from <code>Object</code> and is available to override on every class you create. You can use it to return string data that represents the object. By default this just returns the type name <code>ListDemo.Person</code> as you found out, but if you override it, you can return whatever you want.</p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 4149172, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-42OfB2x7smk/AAAAAAAAAAI/AAAAAAAAAH4/CpAhsjZ7lCc/photo.jpg?sz=128", "display_name": "asem mokllati", "link": "https://stackoverflow.com/users/4149172/asem-mokllati"}, "is_accepted": false, "score": 3, "last_activity_date": 1439403967, "creation_date": 1439403967, "answer_id": 31972734, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c/31972734#31972734", "title": "Detail of class in output using list in c#", "body": "<p>Edite your code to be like this</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;Person&gt; personList = new List&lt;Person&gt;();\n\n        personList.Add(new Person { Name = \"Ahmad\", LastName = \"Ashfaq\", Age = 20 });\n        personList.Add(new Person { Name = \"Ali\", LastName = \"Murtza\", Age = 23 });\n\n        foreach (Person item in personList)\n        {\n            Console.WriteLine(item.Name);\nConsole.WriteLine(item.LastName);\nConsole.WriteLine(item.Age);\n        }\n\n        Console.ReadKey();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12523, "user_id": 1835769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kannS.jpg?s=128&g=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/1835769/displayname"}, "edited": false, "score": 0, "creation_date": 1439406505, "post_id": 31973084, "comment_id": 51853745, "body": "The problem with this method is that this code is not determining how a <code>Person</code> would be printed. Instead it is telling how to print a very specific (List&lt;Person&gt;) data type. If someone will try to print a single <code>Person</code>, he&#39;ll get the same output that OP is trying to avoid."}, {"owner": {"reputation": 12429, "user_id": 4995012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a300442854f4caef5cd41a7b3084a6e?s=128&d=identicon&r=PG", "display_name": "Fabjan", "link": "https://stackoverflow.com/users/4995012/fabjan"}, "reply_to_user": {"reputation": 12523, "user_id": 1835769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kannS.jpg?s=128&g=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/1835769/displayname"}, "edited": false, "score": 0, "creation_date": 1439410968, "post_id": 31973084, "comment_id": 51856008, "body": "@displayName And this is exactly why i wrote &quot;<i>with all being said</i>&quot;... OP can use both this method to print <code>List&lt;Person&gt;</code> and <code>ToString()</code> to output single Person instance..."}], "tags": [], "owner": {"reputation": 12429, "user_id": 4995012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a300442854f4caef5cd41a7b3084a6e?s=128&d=identicon&r=PG", "display_name": "Fabjan", "link": "https://stackoverflow.com/users/4995012/fabjan"}, "is_accepted": false, "score": 2, "last_activity_date": 1439411096, "last_edit_date": 1439411096, "creation_date": 1439405130, "answer_id": 31973084, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c/31973084#31973084", "title": "Detail of class in output using list in c#", "body": "<p>Beside of using <code>ToString()</code> method that is useful to output single value i am surprised that no one mentioned that you can create custom extension method for <code>IEnumerable&lt;T&gt;</code> (interface that is implemented by <code>List&lt;T&gt;</code>) to print all your values :</p>\n\n<pre><code>public static class Helper\n{\n    public static void Print(this IEnumerable&lt;Person&gt; people)\n    {\n        foreach(Person p in people) \n           Console.WriteLine(string.Format(\"Name : {0}, Last Name : {1}, Age : {2}\", p.Name, p.LastName, p.Age));\n    }\n}\n</code></pre>\n\n<p>And use it in a way like if it was defined in <code>List&lt;T&gt;</code>  :</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;Person&gt; personList = new List&lt;Person&gt;();\n\n        personList.Add(new Person { Name = \"Ahmad\", LastName = \"Ashfaq\", Age = 20 });\n        personList.Add(new Person { Name = \"Ali\", LastName = \"Murtza\", Age = 23 });\n\n        personList.Print();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4013011, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nIt0A.png?s=128&g=1", "display_name": "AHMAD ASHFAQ", "link": "https://stackoverflow.com/users/4013011/ahmad-ashfaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "accepted_answer_id": 31972724, "answer_count": 5, "score": 3, "last_activity_date": 1439411096, "creation_date": 1439403721, "last_edit_date": 1439407917, "question_id": 31972675, "link": "https://stackoverflow.com/questions/31972675/detail-of-class-in-output-using-list-in-c", "title": "Detail of class in output using list in c#", "body": "<p>Here is my person class:</p>\n\n<pre><code>public class Person\n{\n    public string Name;\n    public string LastName;\n    public int Age;\n\n    public Person()\n    {\n\n    }\n    public Person(string name, string lastName, int age)\n    {\n        Name = name;\n        LastName = lastName;\n        Age = age;\n    }\n}\n</code></pre>\n\n<p>Here is my main program. The current output is <code>ListDemo.Person</code>. ListDemo is my solution name and <code>Person</code> is my class name. How can I get the all details of a person in an output?</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;Person&gt; personList = new List&lt;Person&gt;();\n\n        personList.Add(new Person { Name = \"Ahmad\", LastName = \"Ashfaq\", Age = 20 });\n        personList.Add(new Person { Name = \"Ali\", LastName = \"Murtza\", Age = 23 });\n\n        foreach (Person item in personList)\n        {\n            Console.WriteLine(item);\n        }\n\n        Console.ReadKey();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", "orm", "dbcontext"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1439404589, "post_id": 31972639, "comment_id": 51852698, "body": "It should be reading SCOPE_IDENTITY() for SQL Server identity column. If its guid() or something you set, no need to do the read either. <a href=\"http://stackoverflow.com/questions/5212751/how-can-i-get-id-of-inserted-entity-in-entity-framework\" title=\"how can i get id of inserted entity in entity framework\">stackoverflow.com/questions/5212751/&hellip;</a>"}, {"owner": {"reputation": 2740, "user_id": 4009972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9f96fc16291174858bf8e03c12cd0c1a?s=128&d=identicon&r=PG&f=1", "display_name": "codeMonkey", "link": "https://stackoverflow.com/users/4009972/codemonkey"}, "edited": false, "score": 0, "creation_date": 1439404900, "post_id": 31972639, "comment_id": 51852864, "body": "What is your code for inserting a row?  If you&#39;re using DbSet, you just do: dbSet.Attach(entity); dbContext.Entry(entity).State = EntityState.Added;"}], "owner": {"reputation": 1878, "user_id": 2148090, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6db0f6a8439e1d282a940aa562a08c16?s=128&d=identicon&r=PG", "display_name": "MicroMan", "link": "https://stackoverflow.com/users/2148090/microman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1439403611, "creation_date": 1439403611, "question_id": 31972639, "link": "https://stackoverflow.com/questions/31972639/avoid-read-after-insert-entity-framework", "title": "Avoid Read After Insert Entity Framework", "body": "<p>I am inserting a row into a table via EF 6.0. The table in question has several million rows. Is there a way to prevent EF doing a read after an insert. I.E to prevent EF from getting the ID of the new row inserted, because in this case i do not need it and it is expensive because of all the data in the table.</p>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 3232337, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/013d302bb569fea38edeea0413a53f16?s=128&d=identicon&r=PG&f=1", "display_name": "Jorb", "link": "https://stackoverflow.com/users/3232337/jorb"}, "edited": false, "score": 0, "creation_date": 1439404913, "post_id": 31972701, "comment_id": 51852871, "body": "Thanks, this does what I need."}], "tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": true, "score": 2, "last_activity_date": 1439403831, "creation_date": 1439403831, "answer_id": 31972701, "question_id": 31972605, "link": "https://stackoverflow.com/questions/31972605/get-string-between-a-known-string-and-any-non-alphanumeric-character/31972701#31972701", "title": "Get string between a known string and any non-alphanumeric character", "body": "<p>You can use Regex...   </p>\n\n<pre><code>string input = \"Global.bar1&gt;foobar\";\nvar output = Regex.Match(input, @\"Global.([\\w]+)\").Groups[1].Value;\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 3232337, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/013d302bb569fea38edeea0413a53f16?s=128&d=identicon&r=PG&f=1", "display_name": "Jorb", "link": "https://stackoverflow.com/users/3232337/jorb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 31972701, "answer_count": 1, "score": 0, "last_activity_date": 1439403831, "creation_date": 1439403512, "question_id": 31972605, "link": "https://stackoverflow.com/questions/31972605/get-string-between-a-known-string-and-any-non-alphanumeric-character", "title": "Get string between a known string and any non-alphanumeric character", "body": "<p>I have this code which allows me to get the string between \"Global.\" and \" \".</p>\n\n<pre><code>private string getGlobalVariableName(string text)\n    {\n        int pFrom = text.IndexOf(\"Global.\") + \"Global.\".Length;\n        int pTo = text.LastIndexOf(\" \");\n\n        string name = text.Substring(pFrom, pTo - pFrom);\n\n        return name;\n    }\n</code></pre>\n\n<p>I want to modify it so that it gets the string between \"Global.\" and any non-alphanumeric character. How could I do this?</p>\n\n<p>Example: </p>\n\n<p>this is true for what I have now</p>\n\n<p>getGlobalVariableName(\" foo Global.bar1 foobar\") == \"bar1\"</p>\n\n<p>this is what I want to be able to do</p>\n\n<p>getGlobalVariableName(\" foo Global.bar1>foobar\") == \"bar1\"</p>\n"}]