[{"tags": ["c#", ".net", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 975, "user_id": 890266, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iGHDm.gif?s=128&g=1", "display_name": "Bill Roberts", "link": "https://stackoverflow.com/users/890266/bill-roberts"}, "edited": false, "score": 2, "creation_date": 1570665593, "post_id": 58313653, "comment_id": 102988139, "body": "Have a look here: <a href=\"https://stackoverflow.com/questions/5212751/how-can-i-get-id-of-inserted-entity-in-entity-framework\" title=\"how can i get id of inserted entity in entity framework\">stackoverflow.com/questions/5212751/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 583, "user_id": 6114993, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c41844ba1526acb0ecf3072a35ec2d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Learn AspNet", "link": "https://stackoverflow.com/users/6114993/learn-aspnet"}, "edited": false, "score": 0, "creation_date": 1570680738, "post_id": 58314056, "comment_id": 102991141, "body": "If I try to get Values again, will it contain the new Ids?"}], "tags": [], "owner": {"reputation": 94, "user_id": 7851226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f29cd667db8dfdf62c6540af259c01a2?s=128&d=identicon&r=PG&f=1", "display_name": "Moe Jallaq", "link": "https://stackoverflow.com/users/7851226/moe-jallaq"}, "is_accepted": true, "score": 3, "last_activity_date": 1570669263, "creation_date": 1570669263, "answer_id": 58314056, "question_id": 58313653, "link": "https://stackoverflow.com/questions/58313653/get-list-of-identity-ids-inserted-in-ef-core/58314056#58314056", "title": "Get list of Identity Ids inserted in EF Core", "body": "<p>You should be able to retrieve all Ids after calling SaveChaning in that context. The id will be automatically filled for you:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>using(var ctx = new DataReviewContext2())\r\n{\r\n   foreach(var value in values)\r\n   {\r\n       value.Username = user;\r\n       value.Changed = DateTime.Now;\r\n       ctx.ChangeLog.Add(value);\r\n   }\r\n   ctx.SaveChanges();\r\n   \r\n   // Add this to get all userIs \r\n   var Ids = values.Select(c=&gt;c.UserId).ToList();\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 583, "user_id": 6114993, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c41844ba1526acb0ecf3072a35ec2d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Learn AspNet", "link": "https://stackoverflow.com/users/6114993/learn-aspnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 58314056, "answer_count": 1, "score": 0, "last_activity_date": 1570669263, "creation_date": 1570665336, "question_id": 58313653, "link": "https://stackoverflow.com/questions/58313653/get-list-of-identity-ids-inserted-in-ef-core", "title": "Get list of Identity Ids inserted in EF Core", "body": "<p>I have a list that I am adding to a table through EF core. Table also has an identity column. I need the values of list of identity values once saveChanges is called. This function can be called my multiple progams at the same time. </p>\n\n<pre><code>using(var ctx = new DataReviewContext2())\n{\n   foreach(var value in values)\n   {\n       value.Username = user;\n       value.Changed = DateTime.Now;\n       ctx.ChangeLog.Add(value);\n   }\n   ctx.SaveChanges();\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "authorization", "asp.net-core-3.0"], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 6347620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19249d5ef29c29b7e75e9f4a82318de1?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6347620/mike"}, "edited": false, "score": 0, "creation_date": 1570765961, "post_id": 58313659, "comment_id": 103025159, "body": "This doesn&#39;t apply to AspNet Core, but thanks for the link."}, {"owner": {"reputation": 1964, "user_id": 11843739, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kaKuhwUHPr8/AAAAAAAAAAI/AAAAAAAAAC0/HCb_rFE1EG0/photo.jpg=k-s128", "display_name": "fenixil", "link": "https://stackoverflow.com/users/11843739/fenixil"}, "reply_to_user": {"reputation": 407, "user_id": 6347620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19249d5ef29c29b7e75e9f4a82318de1?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6347620/mike"}, "edited": false, "score": 0, "creation_date": 1570766378, "post_id": 58313659, "comment_id": 103025219, "body": "Authorise attribute sources are from webapi, second link is to core docs, why this does not apply? You may need to override different methods in core but the approach is applicable. Feel free to propose an edit if so."}], "tags": [], "owner": {"reputation": 1964, "user_id": 11843739, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kaKuhwUHPr8/AAAAAAAAAAI/AAAAAAAAAC0/HCb_rFE1EG0/photo.jpg=k-s128", "display_name": "fenixil", "link": "https://stackoverflow.com/users/11843739/fenixil"}, "is_accepted": false, "score": 0, "last_activity_date": 1570665370, "creation_date": 1570665370, "answer_id": 58313659, "question_id": 58313356, "link": "https://stackoverflow.com/questions/58313356/authorization-attribute-dependent-on-runtime-configuration/58313659#58313659", "title": "Authorization Attribute Dependent on Runtime Configuration", "body": "<p><a href=\"https://github.com/aspnet/AspNetWebStack/blob/master/src/System.Web.Http/AuthorizeAttribute.cs\" rel=\"nofollow noreferrer\">AuthorizeAttribute</a> is just an implementation of <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-3.0#authorization-filters\" rel=\"nofollow noreferrer\">AuthorizationFilterAttribute</a> . You can create your own implementation that will bypass authentication for certain environments:</p>\n\n<pre><code>[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = true, AllowMultiple = false)]\npublic class EnvironmentSpecificAutorizeAttribute : AuthorizeAttribute\n{\n    public string AllowAnonymousEnvironment { get; set; }\n\n    protected override void HandleUnauthorizedRequest(HttpActionContext actionContext)\n    {\n        // if currentEnv == AllowAnonymousEnvironment \n        //    return \n        // else\n        //    base.HandleUnauthorizedRequest(actionContext);\n    }\n    public override void OnAuthorization(HttpActionContext actionContext)\n    {\n        // same logic as above\n        base.OnAuthorization(actionContext);\n    }\n\n    public override Task OnAuthorizationAsync(HttpActionContext actionContext, CancellationToken cancellationToken)\n    {\n        // same logic as above\n        return base.OnAuthorizationAsync(actionContext, cancellationToken);\n    }\n}\n</code></pre>\n\n<p>You may find other suggestions in <a href=\"https://stackoverflow.com/questions/41577389/net-core-api-conditional-authentication-attributes-for-development-production\">this thread</a></p>\n"}, {"comments": [{"owner": {"reputation": 407, "user_id": 6347620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19249d5ef29c29b7e75e9f4a82318de1?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6347620/mike"}, "edited": false, "score": 0, "creation_date": 1570666658, "post_id": 58313692, "comment_id": 102988348, "body": "I have already tried that but athentication would still be required."}, {"owner": {"reputation": 407, "user_id": 6347620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19249d5ef29c29b7e75e9f4a82318de1?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6347620/mike"}, "edited": false, "score": 0, "creation_date": 1570766101, "post_id": 58313692, "comment_id": 103025181, "body": "This is essentially the answer, but to make it work fully, a new AuthorizationPolicyBuilder needs to be created for the DefaultPolicy without RequireAuthenticatedUser."}], "tags": [], "owner": {"reputation": 94, "user_id": 7851226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f29cd667db8dfdf62c6540af259c01a2?s=128&d=identicon&r=PG&f=1", "display_name": "Moe Jallaq", "link": "https://stackoverflow.com/users/7851226/moe-jallaq"}, "is_accepted": true, "score": 0, "last_activity_date": 1570666293, "last_edit_date": 1570666293, "creation_date": 1570665642, "answer_id": 58313692, "question_id": 58313356, "link": "https://stackoverflow.com/questions/58313356/authorization-attribute-dependent-on-runtime-configuration/58313692#58313692", "title": "Authorization Attribute Dependent on Runtime Configuration", "body": "<p>If I understand your question then you could create a custom attribute and always grant the user access when the application is running in a certain env? </p>\n\n<pre><code>   public class CustomEnvRequirement : AuthorizationHandler&lt;CustomEnvRequirement&gt;, IAuthorizationRequirement\n    {\n        protected override Task HandleRequirementAsync(AuthorizationHandlerContext context, CustomEnvRequirement requirement)\n        {\n            string currentEnv = Environment.GetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\");\n\n            // Allow Anonymous when the current env is development.\n            if (currentEnv.ToLowerInvariant().Equals(\"development\"))\n            {\n                context.Succeed(requirement);\n            }\n            else if (currentEnv.ToLowerInvariant().Equals(\"production\"))\n            {\n                // TODO: add more authorization logic.\n\n            }\n            return Task.CompletedTask;\n        }\n    }\n</code></pre>\n\n<p>And here's the Custom attribute to be added</p>\n\n<pre><code> [Authorize(Policy = \"CustomEnv\")]\n\n        public IActionResult Index()\n        {\n            return this.View();\n        }\n</code></pre>\n\n<p>Also, make sure to configure it in the startup.cs</p>\n\n<pre><code>  services.AddAuthorization(options =&gt;\n            {\n                options.AddPolicy(\"CustomEnv\",\n                    policy =&gt; policy.Requirements.Add(new CustomEnvRequirement()));\n            });\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 6347620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19249d5ef29c29b7e75e9f4a82318de1?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6347620/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 58313692, "answer_count": 2, "score": 0, "last_activity_date": 1570666293, "creation_date": 1570662125, "question_id": 58313356, "link": "https://stackoverflow.com/questions/58313356/authorization-attribute-dependent-on-runtime-configuration", "title": "Authorization Attribute Dependent on Runtime Configuration", "body": "<p>I have a .Net Core 3.0 Web API that is configured with as such:</p>\n\n<pre><code>services.AddAuthentication(x =&gt;\n  {\n    x.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n    x.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n  })\n  .AddJwtBearer(x =&gt;\n  {\n    ...\n  });\n\nservices.AddAuthorizationCore(options =&gt;\n  {\n    options.FallbackPolicy = new AuthorizationPolicyBuilder()\n      .RequireAuthenticatedUser()\n      .Build();\n  });\n</code></pre>\n\n<p>And I enable it in the controller like:</p>\n\n<pre><code>[Authorize(Roles = \"Admin,Technician\")]\npublic IActionResult CreateFoo([FromBody] Foo foo)\n</code></pre>\n\n<p>Some api endpoints are also disabled using the <code>[AllowAnonymous]</code>. </p>\n\n<p>This product is supporting multiple environments, and one endpoint needs to be either anonymous or authorized dependent on the runtime variable; currently using custom \"ASPNETCORE_ENVIRONMENT\" options.</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/a/31465227/6347620\">this</a> comment from .net security person, but if I implement a custom policy, it disallows anonymous access. </p>\n\n<p><em>What is the easiest way to allow anonymous access if the application is running in a certain environment?</em></p>\n"}, {"tags": ["c#", "visual-studio-code", "path"], "answers": [{"tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": false, "score": 1, "last_activity_date": 1570662265, "creation_date": 1570662265, "answer_id": 58313372, "question_id": 58313341, "link": "https://stackoverflow.com/questions/58313341/file-path-issue-with-visual-studio-code/58313372#58313372", "title": "File path issue with Visual Studio Code", "body": "<blockquote>\n  <p>after I created a new workspace on Visual studio code. I type dotnet run</p>\n</blockquote>\n\n<p>That is expected.  VS Code does not create a new project for you automatically.  You must run <code>dotnet new &lt;project type&gt;</code> to create a project.  After creating a project then <code>dotnet run</code> should perform as expected.</p>\n"}], "owner": {"reputation": 1, "user_id": 12191751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218f0f85fdfc2de5fa9f5b5d8cc4c133?s=128&d=identicon&r=PG&f=1", "display_name": "Cam11", "link": "https://stackoverflow.com/users/12191751/cam11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570813420, "creation_date": 1570662031, "last_edit_date": 1570813420, "question_id": 58313341, "link": "https://stackoverflow.com/questions/58313341/file-path-issue-with-visual-studio-code", "title": "File path issue with Visual Studio Code", "body": "<p>After I created a new workspace on Visual studio code. I type <code>dotnet run</code> in the powershell terminal. I get </p>\n\n<blockquote>\n  <p>couldn't find a project to run, ensure the project exist in \"C:\\Users\\Desktop\\Sample workspace\" or pass the path to the project using --project.</p>\n</blockquote>\n\n<p>we used <code>dotnet run --project</code>, <code>dotnet restore</code>, and <code>dotnet new console</code> all this does is create hello world.</p>\n\n<blockquote>\n  <p>\"couldn't find a project to run, ensure the project exist in C:\\Users\\Desktop\\Sample workspace\"</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "enums", "combobox", "binding"], "answers": [{"tags": [], "owner": {"reputation": 339, "user_id": 8636736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47e91bc3f3c72ca16f7def7be5e6678?s=128&d=identicon&r=PG&f=1", "display_name": "danielm", "link": "https://stackoverflow.com/users/8636736/danielm"}, "is_accepted": true, "score": 1, "last_activity_date": 1570673314, "creation_date": 1570673314, "answer_id": 58314487, "question_id": 58313298, "link": "https://stackoverflow.com/questions/58313298/wpf-c-binding-enum-to-combobox/58314487#58314487", "title": "WPF C# - Binding Enum to ComboBox", "body": "<p>The issue is that setting ComboBox.SelectedItem doesn't work unless the ComboBox contains the item you are setting it to. In your case your ComboBox is filled with three ComboBoxItem objects which have their Content property set to a string. So ComboBox.SelectedItem is a ComboBoxItem. You are trying to set the ComboBox.SelectedItem to a string, which will not equal any of the objects contained in the ComboBox. Therefore, nothing happens.</p>\n\n<p>I would suggest setting up Binding for your ComboBox like here:</p>\n\n<pre><code>&lt;ComboBox ItemsSource=\"{Binding DeleteModes}\" SelectedItem=\"{Binding SelectedDeleteMode}\"  /&gt;\n</code></pre>\n\n<p>And then create a ViewModel to bind to. If you bind an Enum to a ComboBox it will display correctly so you won't need to call DeleteMode.ToString():</p>\n\n<pre><code>public class ViewModel : INotifyPropertyChanged\n{\n    public ViewModel()\n    {\n        DeleteModes = new ObservableCollection&lt;DeleteMode&gt;\n        { DeleteMode.HardDelete, DeleteMode.SoftDelete,\n          DeleteMode.MoveToDeletedItems };\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    DeleteMode _selected_delete_mode;\n    public DeleteMode SelectedDeleteMode {\n        get { return _selected_delete_mode; }\n        set {\n            _selected_delete_mode = value;\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(\"SelectedDeleteMode\"));\n        }\n    }\n\n    ObservableCollection&lt;DeleteMode&gt; _delete_modes;\n    public ObservableCollection&lt;DeleteMode&gt; DeleteModes {\n        get { return _delete_modes; }\n        set {\n            _delete_modes = value;\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(\"DeleteModes\"));\n        }\n    }\n\n    public void update_mode(DeleteMode mode) =&gt; SelectedDeleteMode = mode;\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5484582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa5a0a342711195736c6dc4a85d26db6?s=128&d=identicon&r=PG&f=1", "display_name": "mtfalcon31", "link": "https://stackoverflow.com/users/5484582/mtfalcon31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 2, "accepted_answer_id": 58314487, "answer_count": 1, "score": 0, "last_activity_date": 1571757838, "creation_date": 1570661715, "last_edit_date": 1571757838, "question_id": 58313298, "link": "https://stackoverflow.com/questions/58313298/wpf-c-binding-enum-to-combobox", "title": "WPF C# - Binding Enum to ComboBox", "body": "<p>I have a combobox with the following options: \"HardDelete\", \"SoftDelete\", \"MoveToDeletedItems\"</p>\n\n<p>I want the default selection to match with the following property of an EmailAction object: </p>\n\n<pre><code>public DeleteMode DeleteMode { get; set; }\n</code></pre>\n\n<p>Here is the line of code I'm using to try to set this:</p>\n\n<pre><code>cmboDelMode.SelectedItem = emailActionInstance.DeleteMode.ToString();\n</code></pre>\n\n<p>Related XAML:</p>\n\n<pre><code>&lt;ComboBox x:Name=\"cmboDelMode\" HorizontalAlignment=\"Left\" Margin=\"149,218,0,0\" VerticalAlignment=\"Top\" Width=\"120\"&gt;\n    &lt;ComboBoxItem Content=\"HardDelete\" HorizontalAlignment=\"Left\" Width=\"118\"/&gt;\n    &lt;ComboBoxItem Content=\"SoftDelete\" HorizontalAlignment=\"Left\" Width=\"118\"/&gt;\n    &lt;ComboBoxItem Content=\"MoveToDeletedItems\" HorizontalAlignment=\"Left\" Width=\"118\"/&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>Currently the combobox is defaulting to being empty so is not working as expected.  I am able to use \"emailActionInstance.DeleteMode.ToString();\" to view the data in a text box, so it seems I might just be setting the selected item incorrectly?</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11357908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejPF2.jpg?s=128&g=1", "display_name": "DT74", "link": "https://stackoverflow.com/users/11357908/dt74"}, "edited": false, "score": 0, "creation_date": 1570662692, "post_id": 58313358, "comment_id": 102987604, "body": "Thanks, this worked perfect, I guess I was looking too far into it with my validation statement."}], "tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": true, "score": 1, "last_activity_date": 1570662130, "creation_date": 1570662130, "answer_id": 58313358, "question_id": 58313293, "link": "https://stackoverflow.com/questions/58313293/asp-net-validation-for-a-textbox-must-have-minimum-of-1-number-but-want-to-all/58313358#58313358", "title": "ASP.Net Validation for a textbox - must have minimum of 1 number but want to allow special characters &amp; letters", "body": "<p>I haven't tested it, but something along these lines should fulfill your requirements:</p>\n\n<pre><code>.*?\\d.*?\n</code></pre>\n\n<p>This says allow any character sequence of 0 or more characters, require at least a single digit, and then allow any character sequence of 0 or more characters.</p>\n"}], "owner": {"reputation": 21, "user_id": 11357908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ejPF2.jpg?s=128&g=1", "display_name": "DT74", "link": "https://stackoverflow.com/users/11357908/dt74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 58313358, "answer_count": 1, "score": 1, "last_activity_date": 1570662130, "creation_date": 1570661693, "question_id": 58313293, "link": "https://stackoverflow.com/questions/58313293/asp-net-validation-for-a-textbox-must-have-minimum-of-1-number-but-want-to-all", "title": "ASP.Net Validation for a textbox - must have minimum of 1 number but want to allow special characters &amp; letters", "body": "<p>I am trying to figure out the ASP.Net validation sequence that requires a user to input at least 1 number in the text box.  I also want allow the entry of multiple numbers, characters, and any special character.  Currently, I have the following validation entry:</p>\n\n<pre><code>ValidationExpression=\"(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{1,20})$\"\n</code></pre>\n\n<p>Right now, it passes if the user inputs 1 number and 1 letter but fires if they put in a special character at all.  Thanks for any help you can provide, it is greatly appreciated.</p>\n"}, {"tags": ["c#", "wpf", "datetime", "datetimepicker", "livecharts"], "comments": [{"owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "edited": false, "score": 0, "creation_date": 1570678612, "post_id": 58313257, "comment_id": 102990666, "body": "your link to download your solution is bugged"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "edited": false, "score": 0, "creation_date": 1570690216, "post_id": 58313257, "comment_id": 102993969, "body": "@Frenchy added the code to the post."}, {"owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "edited": false, "score": 0, "creation_date": 1570776021, "post_id": 58313257, "comment_id": 103027790, "body": "Could you show your class relaycommand...?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "edited": false, "score": 0, "creation_date": 1570812774, "post_id": 58313257, "comment_id": 103046098, "body": "@Frenchy it&#39;s a part of the <code>MVVMLight</code> toolkit. If you install it via nuget you can simply use the command. <a href=\"http://www.mvvmlight.net/\" rel=\"nofollow noreferrer\">mvvmlight.net</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1570813167, "post_id": 58336781, "comment_id": 103046255, "body": "The second approach is clean and concise. I really like it, thanks!"}], "tags": [], "owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "is_accepted": true, "score": 1, "last_activity_date": 1570782929, "last_edit_date": 1570782929, "creation_date": 1570780821, "answer_id": 58336781, "question_id": 58313257, "link": "https://stackoverflow.com/questions/58313257/livecharts-set-datetime-x-axis-minvalue-and-maxvalue-in-order-to-zoom-in-out/58336781#58336781", "title": "LiveCharts set DateTime X-Axis MinValue and MaxValue in order to zoom in/out", "body": "<p>Yes, you had a part of answer when you said the problem was between double and datetime for Min and Max value for Axis X:</p>\n\n<p>You have two solutions: either using Converter, either separate the value between datepicker and min/max value: here the second solution:</p>\n\n<p>in xaml file:</p>\n\n<pre><code>        &lt;lvc:CartesianChart.AxisX&gt;\n            &lt;lvc:Axis LabelFormatter=\"{Binding Formatter}\"\n                  PreviewRangeChangedCommand=\"{Binding XRangeChangedCommand}\"\n                  MinValue=\"{Binding TimeStampMinX, Mode=TwoWay}\"\n                  MaxValue=\"{Binding TimeStampMaxX, Mode=TwoWay}\"/&gt;\n        &lt;/lvc:CartesianChart.AxisX&gt;\n</code></pre>\n\n<p>in cs.file:</p>\n\n<pre><code>    private double _timeStampMinX;\n    public double TimeStampMinX\n    {\n        get\n        {\n            return _timeStampMinX;\n        }\n\n        set\n        {\n            if (_timeStampMinX == value)\n                return;\n            _timeStampMinX = value;\n            OnPropertyChanged(\"TimeStampMinX\");\n        }\n    }\n\n    private double _timeStampMaxX;\n    public double TimeStampMaxX\n    {\n        get\n        {\n            return _timeStampMaxX;\n        }\n\n        set\n        {\n            if (_timeStampMaxX == value)\n                return;\n            _timeStampMaxX = value;\n            OnPropertyChanged(\"TimeStampMaxX\");\n        }\n    }\n    private DateTime _timeStampMin;\n    public DateTime TimeStampMin\n    {\n        get\n        {\n            return _timeStampMin;\n        }\n\n        set\n        {\n            if (_timeStampMin == value)\n                return;\n            _timeStampMin = value;\n            TimeStampMinX = value.Ticks;\n            OnPropertyChanged(\"TimeStampMin\");\n        }\n    }\n\n    private DateTime _timeStampMax;\n    public DateTime TimeStampMax\n    {\n        get\n        {\n            return _timeStampMax;\n        }\n\n        set\n        {\n            if (_timeStampMax == value)\n                return;\n            _timeStampMax = value;\n            TimeStampMaxX = value.Ticks;\n            OnPropertyChanged(\"TimeStampMax\");\n        }\n    }\n</code></pre>\n\n<p>the link between DateTime and double value is the DateTime.Ticks.</p>\n\n<hr>\n\n<p>the solution with a converter:</p>\n\n<p>The class converter:</p>\n\n<pre><code>public class DateTimeConverter : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return ((DateTime)value).Ticks;\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return null;\n    }\n}\n</code></pre>\n\n<p>the integration of converter in xaml file (change the namespace WpfApp2 with your namespace)</p>\n\n<pre><code>    xmlns:dc=\"clr-namespace:WpfApp2\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n&lt;Window.Resources&gt;\n    &lt;dc:DateTimeConverter x:Key=\"DateTimeConverter\"&gt;&lt;/dc:DateTimeConverter&gt;\n&lt;/Window.Resources&gt;\n                        :\n                        :\n        &lt;lvc:CartesianChart.AxisX&gt;\n            &lt;lvc:Axis LabelFormatter=\"{Binding Formatter}\"\n                  PreviewRangeChangedCommand=\"{Binding XRangeChangedCommand}\"\n                  MinValue=\"{Binding TimeStampMin, Mode=TwoWay,Converter={StaticResource DateTimeConverter}}\"\n                  MaxValue=\"{Binding TimeStampMax, Mode=TwoWay,Converter={StaticResource DateTimeConverter}}\"/&gt;\n        &lt;/lvc:CartesianChart.AxisX&gt;\n</code></pre>\n\n<p>in this case no need to separate the binding value, the converter does the job.</p>\n"}], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "accepted_answer_id": 58336781, "answer_count": 1, "score": 1, "last_activity_date": 1570782929, "creation_date": 1570661356, "last_edit_date": 1570690195, "question_id": 58313257, "link": "https://stackoverflow.com/questions/58313257/livecharts-set-datetime-x-axis-minvalue-and-maxvalue-in-order-to-zoom-in-out", "title": "LiveCharts set DateTime X-Axis MinValue and MaxValue in order to zoom in/out", "body": "<p>I have a <code>WPF</code> application using <code>LiveCharts</code> where I plot a <code>LineGraph</code> with X-Axis being <code>DateTime</code>. My end goal here is to achieve a 'two-way' zoom. That is, I have two <code>DateTimePicker</code> controls (from <a href=\"https://github.com/xceedsoftware/wpftoolkit/wiki/DateTimePicker\" rel=\"nofollow noreferrer\">WPF Toolkit</a>) on my application that represent the minimum and maximum <code>DateTime</code> of the <em>currently displayed area</em> of the graph, and if I use scroll wheel on the graph area to zoom in/out, the updated range should be reflected on the said controls, and (this is the part I'm struggling with) conversely, if I set min/max on the <code>DateTimePicker</code> controls, the graph should zoom in/out accordingly.</p>\n\n<p>My <code>XAML</code> is pretty simple:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition/&gt;\n        &lt;RowDefinition Height=\"Auto\"/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;lvc:CartesianChart Name=\"MyChart\"\n                        Series=\"{Binding SeriesCollection}\"\n                        Zoom=\"X\"&gt;\n        &lt;lvc:CartesianChart.AxisX&gt;\n            &lt;lvc:Axis LabelFormatter=\"{Binding Formatter}\"\n                      PreviewRangeChangedCommand=\"{Binding XRangeChangedCommand}\"\n                      MinValue=\"{Binding TimeStampMin, Mode=TwoWay}\"\n                      MaxValue=\"{Binding TimeStampMax, Mode=TwoWay}\"/&gt;\n        &lt;/lvc:CartesianChart.AxisX&gt;\n    &lt;/lvc:CartesianChart&gt;\n    &lt;StackPanel Grid.Row=\"1\" Orientation=\"Horizontal\" HorizontalAlignment=\"Center\"&gt;\n        &lt;xceed:DateTimePicker Margin=\"4\" Width=\"160\" Name=\"dtpMinX\"\n                              Format=\"Custom\" FormatString=\"yyyy/MM/dd HH:mm:ss\"\n                              Value=\"{Binding TimeStampMin, Mode=TwoWay}\"/&gt;\n        &lt;xceed:DateTimePicker Margin=\"4\" Width=\"160\" Name=\"dtpMaxX\"\n                              Format=\"Custom\" FormatString=\"yyyy/MM/dd HH:mm:ss\"\n                              Value=\"{Binding TimeStampMax, Mode=TwoWay}\"/&gt;\n    &lt;/StackPanel&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Here's my <code>DataPoint</code> class:</p>\n\n<pre><code>public class DataPoint\n{\n    public DataPoint() { }\n\n    public DataPoint(DateTime timeStamp, double value)\n    {\n        TimeStamp = timeStamp;\n        Value = value;\n    }\n\n    public double Value { get; set; }\n    public DateTime TimeStamp { get; set; }\n}\n</code></pre>\n\n<p>And here's my <code>PlotGraph()</code> method that does all the plotting work. I'll include my entire <code>MainWindow()</code> code at the bottom of this post if you want to reproduce this application.</p>\n\n<pre><code>private void PlotGraph()\n{\n    var mapper = Mappers.Xy&lt;DataPoint&gt;()\n        .X(dp =&gt; dp.TimeStamp.Ticks)\n        .Y(dp =&gt; dp.Value);\n    SeriesCollection = new SeriesCollection(mapper);\n\n    var lineSeries = new LineSeries\n    {\n        Values = DataPoints.AsChartValues(),\n        Fill = Brushes.Transparent\n    };\n    SeriesCollection.Add(lineSeries);\n\n    TimeStampMin = DataPoints.FirstOrDefault().TimeStamp;\n    TimeStampMax = DataPoints.LastOrDefault().TimeStamp;\n\n    Formatter = value =&gt; new DateTime((long)value).ToString(\"MM/dd/yy HH:mm:ss\");\n\n    DataContext = this;\n}\n</code></pre>\n\n<p>Now when I run this and zoom in/out using mouse, the updated end value of my time stamps will be reflected on the <code>DateTimePicker</code> controls just fine. However if I try to set the value in the <code>DateTimePicker</code> controls in order to zoom in/out, it won't co-operate. When I try, in my <code>Output</code> window, I get the following two binding related error messages:</p>\n\n<blockquote>\n  <p>System.Windows.Data Error: 5 : Value produced by BindingExpression is\n  not valid for target property.; Value='10/09/2019 15:50:41'\n  BindingExpression:Path=TimeStampMin; DataItem='MainWindow' (Name='');\n  target element is 'Axis' (Name=''); target property is 'MinValue'\n  (type 'Double') </p>\n  \n  <p>System.Windows.Data Error: 5 : Value produced by\n  BindingExpression is not valid for target property.; Value='10/09/2019\n  16:00:54' BindingExpression:Path=TimeStampMax; DataItem='MainWindow'\n  (Name=''); target element is 'Axis' (Name=''); target property is\n  'MaxValue' (type 'Double')</p>\n</blockquote>\n\n<p>This tells me that the problem is in binding, that <code>Axis.MinValue</code> and <code>Axis.MaxValue</code> are expecting a double whereas my <code>TimeStampMin</code> and <code>TimeStampMax</code> are, obviously, <code>DateTime</code> objects. How would I do the conversion so that I can achieve the two-way zoom?</p>\n\n<hr>\n\n<p><a href=\"https://dotnetfiddle.net/YWtp37\" rel=\"nofollow noreferrer\">Here</a> is my entire <code>MainWindow</code> code if you want to reproduce it. I'm using <code>MVVMLight</code> toolkit for commands etc., so you might have to get the <code>NuGet</code> package if you want to run this as is.</p>\n\n<p>Looks like some people can't access the link so here's the full code:</p>\n\n<pre><code>public partial class MainWindow : Window, INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n    protected virtual void OnPropertyChanged(string propertyName)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n\n    public SeriesCollection SeriesCollection\n    {\n        get;\n        set;\n    }\n\n    public Func&lt;double, string&gt; Formatter\n    {\n        get;\n        set;\n    }\n\n    private DateTime _timeStampMin;\n    public DateTime TimeStampMin\n    {\n        get\n        {\n            return _timeStampMin;\n        }\n\n        set\n        {\n            if (_timeStampMin == value)\n                return;\n            _timeStampMin = value;\n            OnPropertyChanged(\"TimeStampMin\");\n        }\n    }\n\n    private DateTime _timeStampMax;\n    public DateTime TimeStampMax\n    {\n        get\n        {\n            return _timeStampMax;\n        }\n\n        set\n        {\n            if (_timeStampMax == value)\n                return;\n            _timeStampMax = value;\n            OnPropertyChanged(\"TimeStampMax\");\n        }\n    }\n\n    public List&lt;DataPoint&gt; DataPoints\n    {\n        get;\n        set;\n    }\n\n    public RelayCommand&lt;PreviewRangeChangedEventArgs&gt; XRangeChangedCommand\n    {\n        get;\n        private set;\n    }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        XRangeChangedCommand = new RelayCommand&lt;PreviewRangeChangedEventArgs&gt;(e =&gt; XRangeChanged(e));\n        InitializeData();\n        PlotGraph();\n    }\n\n    private void InitializeData()\n    {\n        var now = DateTime.Now;\n        DataPoints = new List&lt;DataPoint&gt;{new DataPoint()\n        {Value = 1, TimeStamp = now.AddMinutes(1)}, new DataPoint()\n        {Value = 4, TimeStamp = now.AddMinutes(2)}, new DataPoint()\n        {Value = 9, TimeStamp = now.AddMinutes(3)}, new DataPoint()\n        {Value = 16, TimeStamp = now.AddMinutes(4)}, new DataPoint()\n        {Value = 25, TimeStamp = now.AddMinutes(5)}, new DataPoint()\n        {Value = 36, TimeStamp = now.AddMinutes(6)}, new DataPoint()\n        {Value = 49, TimeStamp = now.AddMinutes(7)}, new DataPoint()\n        {Value = 64, TimeStamp = now.AddMinutes(8)}, new DataPoint()\n        {Value = 81, TimeStamp = now.AddMinutes(9)}, new DataPoint()\n        {Value = 100, TimeStamp = now.AddMinutes(10)}, new DataPoint()\n        {Value = 11 * 11, TimeStamp = now.AddMinutes(11)}, new DataPoint()\n        {Value = 12 * 12, TimeStamp = now.AddMinutes(12)}, new DataPoint()\n        {Value = 13 * 13, TimeStamp = now.AddMinutes(13)}, new DataPoint()\n        {Value = 14 * 14, TimeStamp = now.AddMinutes(14)}, new DataPoint()\n        {Value = 15 * 15, TimeStamp = now.AddMinutes(15)}, new DataPoint()\n        {Value = 16 * 16, TimeStamp = now.AddMinutes(16)}, new DataPoint()\n        {Value = 17 * 17, TimeStamp = now.AddMinutes(17)}, new DataPoint()\n        {Value = 18 * 18, TimeStamp = now.AddMinutes(18)}, new DataPoint()\n        {Value = 19 * 19, TimeStamp = now.AddMinutes(19)}, new DataPoint()\n        {Value = 20 * 20, TimeStamp = now.AddMinutes(20)}, };\n    }\n\n    private void PlotGraph()\n    {\n        var mapper = Mappers.Xy&lt;DataPoint&gt;().X(dp =&gt; dp.TimeStamp.Ticks).Y(dp =&gt; dp.Value);\n        SeriesCollection = new SeriesCollection(mapper);\n        var lineSeries = new LineSeries{Values = DataPoints.AsChartValues(), Fill = Brushes.Transparent};\n        SeriesCollection.Add(lineSeries);\n        TimeStampMin = DataPoints.FirstOrDefault().TimeStamp;\n        TimeStampMax = DataPoints.LastOrDefault().TimeStamp;\n        Formatter = value =&gt; new DateTime((long)value).ToString(\"MM/dd/yy HH:mm:ss\");\n        DataContext = this;\n    }\n\n    public void XRangeChanged(PreviewRangeChangedEventArgs e)\n    {\n        TimeStampMin = DateTime.FromBinary((long)e.PreviewMinValue);\n        TimeStampMax = DateTime.FromBinary((long)e.PreviewMaxValue);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1570662466, "post_id": 58313168, "comment_id": 102987551, "body": "It&#39;s almost working but some problem. The new created objects if I selected 20 gameobjects he create 40. The first 20 are ok in the right position. In the screenshot in the link the top one is in the right position and rotation. But under it he created another new one and with wrong position and rotation. Each new created object have another one under it. And when I select the new ones then some are Clone in right position rotation some are not clone also in right rotation position. In screenshot all black ones are new : <a href=\"https://imgur.com/a/l71RFhD\" rel=\"nofollow noreferrer\">imgur.com/a/l71RFhD</a>"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1570662782, "post_id": 58313168, "comment_id": 102987631, "body": "It seems you are you doing this within a prefab. <code>Clone</code> usually are those objects created by <code>Instantiate</code> since you don&#39;t change their names afterwards."}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": false, "score": 1, "last_activity_date": 1570662974, "last_edit_date": 1570662974, "creation_date": 1570660629, "answer_id": 58313168, "question_id": 58313118, "link": "https://stackoverflow.com/questions/58313118/why-the-new-instantiated-prefabs-are-not-in-the-same-positions-of-the-original-s/58313168#58313168", "title": "Why the new Instantiated prefabs are not in the same positions of the original selected gameobjects?", "body": "<p>Just fyi in general: The position and rotation displayed in the Inspector is always the <strong>local</strong> one so relative to the parent</p>\n\n<hr>\n\n<p>Then in your script you used <code>position</code> and <code>rotation</code> for storing the values</p>\n\n<pre><code>trnfrm[i].pos = tranformToSave[i].transform.position;\ntrnfrm[i].rot = tranformToSave[i].transform.rotation;\n</code></pre>\n\n<p>but later <code>localPosition</code> and <code>localRotation</code> when \"loading\"</p>\n\n<pre><code>loadedTransforms[i].localPosition = savedTransforms[i].pos;\nloadedTransforms[i].localRotation = savedTransforms[i].rot;\n</code></pre>\n\n<p>or when using</p>\n\n<pre><code>Instantiate(prefab, savedTransforms[i].pos, savedTransforms[i].rot, savedTransforms[i].parent);\n</code></pre>\n\n<p>it uses <code>position</code> and <code>rotation</code> again.</p>\n\n<p>You should either use <code>position</code> and <code>rotation</code> or <code>localPosition</code> and <code>localRotation</code> in both cases - but consistently.</p>\n\n<hr>\n\n<p>Second if using the local versions you should debug your code and make really sure that </p>\n\n<pre><code>savedTransforms[i].parent;\n</code></pre>\n\n<p>doesn't maybe return <code>null</code>. Otherwise all your objects are moved to the root level and might simply be positioned differently.</p>\n\n<p>I'm pretty sure you can't use it like that and that <code>UnityEngine.Transform</code> isn't serializable. At least I know that e.g. <code>GameObject</code> is not. But I don't know how your <code>JsonHelper</code> works.</p>\n\n<hr>\n\n<p>You know also that in the case of</p>\n\n<pre><code>UnityEngine.Object.Instantiate(prefab, savedTransforms[i].pos, savedTransforms[i].rot, savedTransforms[i].parent);\n</code></pre>\n\n<p>you don't write anything to the <code>loadedTransforms</code> so it will return an array with only <code>null</code> entries.</p>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570662974, "creation_date": 1570660331, "question_id": 58313118, "link": "https://stackoverflow.com/questions/58313118/why-the-new-instantiated-prefabs-are-not-in-the-same-positions-of-the-original-s", "title": "Why the new Instantiated prefabs are not in the same positions of the original selected gameobjects?", "body": "<p>This is the script that save the selected gameobjects transforms information to json file. And also loading them back by Instantiated prefabs from a one selected prefab. And it should put the new Instantiated prefabs in the position,rotation,scale of the original selected gameobjects but it's not.</p>\n\n<p>I can see that the new Instantiated prefabs have the same position as the original gameobjects in the inspector but still the new Instantiated prefabs are in other position/s in the scene not close to the original ones.</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing UnityEngine.SceneManagement;\n\npublic static class TransformSaver\n{\n    [System.Serializable]\n    public class Transform\n    {\n        public string sceneName;\n        public string name;\n        public UnityEngine.Transform parent;\n        public Vector3 pos;\n        public Quaternion rot;\n        public Vector3 scale;\n    }\n\n    //Save Transform\n    public static void SaveTransform(UnityEngine.GameObject[] tranformToSave)\n    {\n        Transform[] trnfrm = new Transform[tranformToSave.Length];\n        for (int i = 0; i &lt; trnfrm.Length; i++)\n        {\n            trnfrm[i] = new Transform();\n\n            trnfrm[i].sceneName = tranformToSave[i].gameObject.scene.name;\n            trnfrm[i].name = tranformToSave[i].name;\n            trnfrm[i].parent = tranformToSave[i].transform.parent;\n            trnfrm[i].pos = tranformToSave[i].transform.position;\n            trnfrm[i].rot = tranformToSave[i].transform.rotation;\n            trnfrm[i].scale = tranformToSave[i].transform.localScale;\n        }\n\n        string jsonTransform = JsonHelper.ToJson(trnfrm, true);\n        File.WriteAllText(@\"e:\\json\\json.txt\", jsonTransform);\n    }\n\n    public static Transform[] LoadTransforms()\n    {\n        //string jsonTransform = PlayerPrefs.GetString(\"transform\");\n        string jsonTransform = File.ReadAllText(@\"e:\\json\\json.txt\");\n        if (jsonTransform == null)\n        {\n            return null;\n        }\n\n        Transform[] savedTransforms = JsonHelper.FromJson&lt;Transform&gt;(jsonTransform);\n\n        return savedTransforms;\n    }\n\n    //Load Transform\n    public static UnityEngine.Transform[] LoadTransform(bool usePrefab, GameObject prefab, bool useSceneName, string sceneName)\n    {\n        string jsonTransform = File.ReadAllText(@\"e:\\json\\json.txt\");\n        if (jsonTransform == null)\n        {\n            return null;\n        }\n\n        Transform[] savedTransforms = JsonHelper.FromJson&lt;Transform&gt;(jsonTransform);\n        GameObject[] gameObjects = new GameObject[savedTransforms.Length];\n        UnityEngine.Transform[] loadedTransforms = new UnityEngine.Transform[savedTransforms.Length];\n\n        for (int i = 0; i &lt; gameObjects.Length; i++)\n        {\n            try\n            {\n                if (useSceneName)\n                {\n                    SceneManager.SetActiveScene(SceneManager.GetSceneByName(sceneName));\n                }\n                else\n                {\n                    SceneManager.SetActiveScene(SceneManager.GetSceneByName(savedTransforms[i].sceneName));\n                }\n            }\n            catch\n            {\n\n            }\n            if (usePrefab == true &amp;&amp; prefab != null)\n            {\n                UnityEngine.Object.Instantiate(prefab, savedTransforms[i].pos,\n                    savedTransforms[i].rot, savedTransforms[i].parent);\n            }\n            else\n            {\n                gameObjects[i] = new GameObject();\n\n                loadedTransforms[i] = gameObjects[i].transform;\n\n                loadedTransforms[i].name = savedTransforms[i].name;\n                loadedTransforms[i].parent = savedTransforms[i].parent;\n                loadedTransforms[i].localPosition = savedTransforms[i].pos;\n                loadedTransforms[i].localRotation = savedTransforms[i].rot;\n                loadedTransforms[i].localScale = savedTransforms[i].scale;\n            }\n        }\n        return loadedTransforms;\n    }\n}\n</code></pre>\n\n<p>And editorwindow script for selecting a prefab selection gameobjects to get information and save load buttons :</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEditor;\nusing UnityEngine;\n\npublic class SaveTransformsInfo : EditorWindow\n{\n    public GameObject source;\n\n    [MenuItem(\"Tools/Save Transforms\")]\n    private static void CreateReplaceWithPrefab()\n    {\n        const int width = 340;\n        const int height = 70;\n\n        var x = (Screen.currentResolution.width - width) / 2;\n        var y = (Screen.currentResolution.height - height) / 2;\n\n        GetWindow&lt;SaveTransformsInfo&gt;().position = new Rect(x, y, width, height);\n    }\n\n    private void OnGUI()\n    {\n        EditorGUILayout.BeginHorizontal();\n        EditorGUILayout.LabelField(\"Select Prefab\", GUILayout.Width(80));\n        source = (GameObject)EditorGUILayout.ObjectField(source, typeof(GameObject), true, GUILayout.ExpandWidth(true));\n        EditorGUILayout.EndHorizontal();\n\n        GUILayout.Space(35);\n\n        if (GUILayout.Button(\"Save Transforms\"))\n        {\n            TransformSaver.SaveTransform(Selection.gameObjects);\n        }\n\n        GUILayout.Space(2);\n\n        if (GUILayout.Button(\"Load Transforms\"))\n        {\n            TransformSaver.LoadTransform(true, source, false, \"\");\n        }\n\n    }\n}\n</code></pre>\n\n<p>I tried also local in the position and rotation of the gameobjects transforms but it didn't help much if it's local or not.</p>\n"}, {"tags": ["c#", "exchangewebservices"], "comments": [{"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1570659589, "post_id": 58312999, "comment_id": 102986946, "body": "Is this an on prem exchange server? It&#39;s not O365 is it?"}, {"owner": {"reputation": 1891, "user_id": 2891081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c9047f1344aed308ca82e4f64fc9d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2891081/dave"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1570713681, "post_id": 58312999, "comment_id": 103006481, "body": "Yeah, it is O365."}], "answers": [{"comments": [{"owner": {"reputation": 1891, "user_id": 2891081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c9047f1344aed308ca82e4f64fc9d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2891081/dave"}, "edited": false, "score": 0, "creation_date": 1570715475, "post_id": 58313691, "comment_id": 103007645, "body": "Hi Glen, I agree that this should be the path forward, unfortunately this will involve more decision makers and extend the timeline beyond what is currently feasible. It should be possible to access a shared O365 mailbox through EWS, right?"}, {"owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "reply_to_user": {"reputation": 1891, "user_id": 2891081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c9047f1344aed308ca82e4f64fc9d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2891081/dave"}, "edited": false, "score": 0, "creation_date": 1570748394, "post_id": 58313691, "comment_id": 103021911, "body": "If your specify the credentials in the code sure (then your using Basic Auth) , but using WIA (windows integrated Authentication) like your trying not sure . Configuring an application registration in Azure so you can use oAuth is less then 10 minutes work. Be careful because your building something that you know will fail and require code changes to fix in less then a year (liabilities etc)"}], "tags": [], "owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "is_accepted": false, "score": 0, "last_activity_date": 1570665641, "creation_date": 1570665641, "answer_id": 58313691, "question_id": 58312999, "link": "https://stackoverflow.com/questions/58312999/cant-access-shared-mailbox-via-ews-401-unauthorized-in-c/58313691#58313691", "title": "Can&#39;t access shared mailbox via EWS. 401 Unauthorized in C#", "body": "<p>I'd suggest you look at using Modern Authentication (which is what Outlook should be using also). To use the currently logged on credential you need to use the MSAL library and following <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/wiki/Integrated-Windows-Authentication\" rel=\"nofollow noreferrer\">https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/wiki/Integrated-Windows-Authentication</a></p>\n\n<p>Once you have the token then use</p>\n\n<pre><code> ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2016);\n service.Url = new Uri(\"https://outlook.office365.com/ews/exchange.asmx\");\n service.Credentials = new OAuthCredentials(TokenResult.AccessToken);\n service.HttpHeaders.Add(\"X-AnchorMailbox\", MailboxName);\n</code></pre>\n\n<p>Basic authentication is going away next year so using OAuth will be a hard requirement in the future.</p>\n"}], "owner": {"reputation": 1891, "user_id": 2891081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c9047f1344aed308ca82e4f64fc9d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2891081/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570665641, "creation_date": 1570659410, "question_id": 58312999, "link": "https://stackoverflow.com/questions/58312999/cant-access-shared-mailbox-via-ews-401-unauthorized-in-c", "title": "Can&#39;t access shared mailbox via EWS. 401 Unauthorized in C#", "body": "<p>I have a <strong>shared mailbox</strong> that I am trying to connect to in EWS. I am able to access the mailbox just fine from my Outlook 2016 instance without having to provide credentials. When I try to access it via EWS, I get the following error: </p>\n\n<blockquote>\n  <p>\"The request failed. The remote server returned an error: (401) Unauthorized.\"</p>\n</blockquote>\n\n<p>I am running this code under my AD account, which has access to this mailbox. Why would I not have access in this instance? Below is the problematic code. </p>\n\n<pre><code>        service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\n        service.Url = new Uri(\"https://outlook.office365.com/EWS/Exchange.asmx\");\n\n        service.UseDefaultCredentials = true;\n\n        var shared_mailbox = new FolderId(WellKnownFolderName.Inbox, \"mailbox@mydomain.com); \n        FindItemsResults&lt;Item&gt; results = service.FindItems(shared_mailbox, dateTimeFilter, view); //401 is thrown here. \n</code></pre>\n\n<p>Does anyone see anything wrong or missing? </p>\n"}, {"tags": ["javascript", "c#", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11076373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qe-JEwd7wAc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOOJAqYMYLdkLi86GpVygV-ya9uGw/mo/photo.jpg?sz=128", "display_name": "Advanced Novice", "link": "https://stackoverflow.com/users/11076373/advanced-novice"}, "edited": false, "score": 1, "creation_date": 1570677183, "post_id": 58313917, "comment_id": 102990337, "body": "Okay, it is working now, I replaced this: <code>data:image&#47;xxx;base64,</code> and parse the remaining data as a string but converted to bytes[] before inserting in the database."}], "tags": [], "owner": {"reputation": 4602, "user_id": 230983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Db3BL.png?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/230983/victor"}, "is_accepted": true, "score": 2, "last_activity_date": 1570667764, "creation_date": 1570667764, "answer_id": 58313917, "question_id": 58312935, "link": "https://stackoverflow.com/questions/58312935/how-to-pass-base64-encoded-image-to-wcf-rest-endpoint/58313917#58313917", "title": "How to pass Base64 encoded image to WCF REST endpoint", "body": "<p>If you want to send the file as JSON, you have to take into account two things:</p>\n\n<ul>\n<li>The value of <code>e.target.result</code> is a data URI.</li>\n<li>You cannot convert Blob to JSON using the <code>stringify</code> method.</li>\n</ul>\n\n<p>So, to fix it, you just should replace <code>'Photo': new Blob([file], {type : 'image/png'})</code> with <code>'Photo': file</code>.</p>\n\n<p>Keep in mind that in your case, the variable <code>file</code> is a data URI. If you want to submit only the Base64 value you have to remove the <code>data:image/xxx;base64,</code> prefix.</p>\n"}], "owner": {"reputation": 45, "user_id": 11076373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qe-JEwd7wAc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOOJAqYMYLdkLi86GpVygV-ya9uGw/mo/photo.jpg?sz=128", "display_name": "Advanced Novice", "link": "https://stackoverflow.com/users/11076373/advanced-novice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58313917, "answer_count": 1, "score": 1, "last_activity_date": 1570667764, "creation_date": 1570658946, "question_id": 58312935, "link": "https://stackoverflow.com/questions/58312935/how-to-pass-base64-encoded-image-to-wcf-rest-endpoint", "title": "How to pass Base64 encoded image to WCF REST endpoint", "body": "<p>I am attempting to select an image on my computer and pass the data to a REST endpoint using the file element.</p>\n\n<p><code>&lt;input type=\"file\" id=\"input\"&gt;</code></p>\n\n<p>I am able to render the image and display it in the browser. However, I get an empty string or object when passing the image to the endpoint as shown in the code below.</p>\n\n<pre><code>(function () {\n\nconst inputElement = document.getElementById(\"input\");\n\ninputElement.addEventListener(\"change\", handleFiles, false);\nfunction handleFiles() {\n\n        const reader = new FileReader();\n        reader.onload = (function() {\n\n            return function(e) {\n                sendFile(e.target.result);\n            };\n\n        })();\n        reader.readAsDataURL(this.files[0]);\n    }\n\n\nfunction sendFile(file) {\n\n    let img = {\n        'Photo': new Blob([file], {type : 'image/png'})\n    };\n\n    const xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {\n            alert(xhr.responseText);\n        }\n    };\n\n    xhr.open('POST', 'http://localhost/example/service.svc/AddPhoto/', true);\n    xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');\n    xhr.send(JSON.stringify(img));\n\n}})();\n</code></pre>\n\n<p>Service looks like this:</p>\n\n<pre><code>    [OperationContract]\n    [WebInvoke(UriTemplate = \"/AddPhoto/\", Method = \"POST\", \n     RequestFormat = WebMessageFormat.Json, ResponseFormat = \n     WebMessageFormat.Json)]\n     void AddPhoto(BlogEntityModel blogEntityModel);\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 2, "creation_date": 1570657846, "post_id": 58312746, "comment_id": 102986516, "body": "You&#39;re computing the difference before you parse the guess."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 7, "creation_date": 1570658027, "post_id": 58312746, "comment_id": 102986570, "body": "This is a <i>great</i> opportunity to familiarize yourself with the use of a debugger.  Using your debugger you can set a breakpoint in the code to pause execution on that line, then step through the code line by line as it executes.  When you do this, you can pause on any line you like, you can observe the behavior of the code live, you can observe the changing values of the variables, etc.  When you do this, what specific line of code first produces an unexpected result?  What were the values at the time?  What result was produced?  What result was expected?  Why?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1570658743, "post_id": 58312746, "comment_id": 102986744, "body": "<b><a href=\"https://msdn.microsoft.com/en-us/library/y740d9d3.aspx\" rel=\"nofollow noreferrer\">Using the free, built-in Step Debugger</a></b> to debug your own code is easier than you think"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1570658753, "post_id": 58312746, "comment_id": 102986746, "body": "Just want to point out that random.Next(1,100) returns a number in the range 1 to 99 - it will never return 100, so the &quot;I&#39;m thinking of..&quot; text is slightly inaccurate. It&#39;s fairly inconsequential here, but worth remembering for the next time you use <code>Next(int,int)</code>"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1570659012, "post_id": 58312746, "comment_id": 102986807, "body": "Another thing, just in terms of code tidiness, you don&#39;t need to check that the number is <code>&gt;=50</code> then <code>&lt; 50 AND &gt;= 20</code> because if it&#39;s greater than 50 then the first if will trigger, so if it gets to the second if the <code>&lt;50</code> is already true and doesn&#39;t need to be tested. You can hence say <code>if &gt;=50 .. if &gt;=20 .. if &gt;=10 .. else ..</code>"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1570659596, "post_id": 58312746, "comment_id": 102986947, "body": "@penno195 You can remove <code>message</code> and add <code>Console.WriteLine</code> instead. Otherwise I got the won the first time ... but not the 5 times after."}, {"owner": {"reputation": 9, "user_id": 11368627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e35a195a4d885f78065bf7f2bad32a99?s=128&d=identicon&r=PG&f=1", "display_name": "penno195", "link": "https://stackoverflow.com/users/11368627/penno195"}, "edited": false, "score": 0, "creation_date": 1570660766, "post_id": 58312746, "comment_id": 102987225, "body": "Thanks everyone, yeah beginner here so I will learn to use the debugger. Problem solved with the Console.WriteLine however I used Console.WriteLine(message) just once before exiting the while loop, This sorted it.  Some condensation here, be aware not everyone may be aware of debuggers starting out and you are coming here to help no?  All help is appreciated and I hope to be able to pay it forward in a year or two."}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1570661495, "last_edit_date": 1570661495, "creation_date": 1570661066, "answer_id": 58313223, "question_id": 58312746, "link": "https://stackoverflow.com/questions/58312746/random-number-guessing-game-not-working-c/58313223#58313223", "title": "Random number guessing game not working C#", "body": "<blockquote>\n  <p><em>\"it doesn't give the you won message when you enter the correct number\"</em></p>\n</blockquote>\n\n<p>Actually, it does! But then the program exits so quickly that you never see it. To solve this, add a line that waits for the user to press a key at the end of your <code>Main</code> method, so you can see the final result:</p>\n\n<pre><code>// Add this as the last line of the main method:\nConsole.ReadKey();\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>\"the hint feature does not give the feed back it is supposed too\"</em></p>\n</blockquote>\n\n<p>This is because you never output the hint message! At the end of your <code>while</code> loop, add a line to do so:</p>\n\n<pre><code>// Add this as the last line of the while loop:\nConsole.WriteLine(message);\n</code></pre>\n\n<p>These things can be found easily if you simply set a breakpoint in your code (in Vistal Studio, click the left margin next to one of the lines and a red dot will appear (or press F9)). Then you can step through the code using <code>F10</code> and you can watch the values of local variables change and see what is happening step-by-step.</p>\n\n<hr>\n\n<p>Another way to help avoid problems (and to narrow down where they occur) is to take out chunks of code that does something specific and put it in a method. This will make it easier to debug in the long run.</p>\n\n<p>For example, we can write methods that take in a string to display to the user as a prompt for input, and return a strongly-typed value based on their entry. We can also have these methods take in an optional validation method that can be used to validate that the input they entered falls within a valid range (like a number from 1 to 100, or a name that's not longer than 25 characters):</p>\n\n<pre><code>public static string GetStringFromUser(string prompt, \n    Func&lt;string, bool&gt; validator = null)\n{\n    string result;\n    var cursorTop = Console.CursorTop;\n\n    do\n    {\n        ClearSpecificLineAndWrite(cursorTop, prompt);\n        result = Console.ReadLine();\n    } while (!(validator?.Invoke(result) ?? true));\n\n    return result;\n}\n\npublic static int GetIntFromUser(string prompt, \n    Func&lt;int, bool&gt; validator = null)\n{\n    int result;\n    var cursorTop = Console.CursorTop;\n\n    do\n    {\n        ClearSpecificLineAndWrite(cursorTop, prompt);\n    } while (!int.TryParse(Console.ReadLine(), out result) ||\n                !(validator?.Invoke(result) ?? true));\n\n    return result;\n}\n\nprivate static void ClearSpecificLineAndWrite(int cursorTop, \n    string message)\n{\n    Console.SetCursorPosition(0, cursorTop);\n    Console.Write(new string(' ', Console.WindowWidth));\n    Console.SetCursorPosition(0, cursorTop);\n    Console.Write(message);\n}\n</code></pre>\n\n<p>We can also write a helper method to get our \"difference string\", which could take in the guess, the number, and the min and max values, then calculate a percentage of how close they were and then return the appropriate string:</p>\n\n<pre><code>public static string GetDifferenceString(int guess, int number, \n    int minVal, int maxVal)\n{\n    var percentAway = \n        Math.Abs(guess - number) / (double)(maxVal - minVal) * 100;\n    var direction = guess - number &gt; 0 ? \"High\" : \"Low\";\n\n    if (percentAway &lt; 10) return $\"Very close, but {direction}\";\n    if (percentAway &lt; 20) return $\"Just a little {direction}\";\n    if (percentAway &lt; 30) return $\"Somewhat {direction}\";\n    if (percentAway &lt; 40) return $\"Moderately {direction}\";\n    if (percentAway &lt; 50) return $\"{direction}\";\n    return $\"Very {direction}\";\n}\n</code></pre>\n\n<p>This simplifies our main code by removing the loops and checking results from there, and lets us focus on our main tasks:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var randomNumber = new Random().Next(1, 101);\n    var maxAttempts = 5;\n    var guess = 0;\n\n    Console.WriteLine(\"I'm thinking of a number between 1 and 100.\");\n\n    for (int attempt = 0; attempt &lt; maxAttempts; attempt++)\n    {\n        Console.WriteLine($\"You have {maxAttempts - attempt} \" + \n            $\"out of {maxAttempts} attempts remaining.\");\n\n        guess = GetIntFromUser(\"Please enter your guess (1 - 100): \", \n            i =&gt; i &gt; 0 &amp;&amp; i &lt; 101);\n\n        if (guess == randomNumber)\n        {\n            Console.WriteLine($\"You have won in {attempt + 1} tries!\");\n            break;\n        }\n\n        Console.WriteLine(GetDifferenceString(guess, randomNumber, 1, 100));\n    }\n\n    if (guess != randomNumber)\n    {\n        Console.WriteLine(\"Sorry, you lose! The number was: \" + \n            $\"{randomNumber}\");\n    }\n\n    GetKeyFromUser(\"\\nDone! Press any key to exit...\");\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11368627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e35a195a4d885f78065bf7f2bad32a99?s=128&d=identicon&r=PG&f=1", "display_name": "penno195", "link": "https://stackoverflow.com/users/11368627/penno195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "closed_date": 1570672843, "answer_count": 1, "score": -2, "last_activity_date": 1570683152, "creation_date": 1570657609, "last_edit_date": 1570683152, "question_id": 58312746, "link": "https://stackoverflow.com/questions/58312746/random-number-guessing-game-not-working-c", "closed_reason": "Not suitable for this site", "title": "Random number guessing game not working C#", "body": "<p>I am trying to get this random number guessing game working. The program runs, but it doesn't give the \"you won\" message when you enter the correct number, and the hint feature does not give the feed back it is supposed to. Any help appreciated.</p>\n\n<pre><code>using System;\n\nnamespace randomNumberGame\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Random r = new Random();\n            var val = r.Next(1, 100);\n            var guess = 0;\n            bool correct = false;\n            var attemptsLeft = 5;\n            Console.WriteLine(\"I'm thinking of a number between 1 and 100.\");\n            while (!correct &amp;&amp; attemptsLeft &gt;=  1)\n            { \n                Console.Write(\"You have \" + attemptsLeft + \" lives left. Please enter your Guess: \");\n                string input = Console.ReadLine();\n                var message = \"\";\n                var difference = val - guess;\n                if (!int.TryParse(input, out guess))\n                {\n                    Console.WriteLine(\"That's not a number.\");\n                    continue;\n                }\n                if (difference == 0)\n                {\n                    Console.WriteLine(\"You have won\");\n                    correct = true;\n                }\n                else\n                {\n                    if (Math.Abs(difference) &gt;= 50)\n                    {\n                        message = Math.Sign(difference) == -1 ? \"Very High\" : \"Very Low\";\n                    }\n                    else if (Math.Abs(difference) &lt; 50 &amp;&amp; Math.Abs(difference) &gt;= 20)\n                    {\n                        message = Math.Sign(difference) == -1 ? \"High\" : \"Low\";\n                    }\n                    else if (Math.Abs(difference) &lt; 20 &amp;&amp; Math.Abs(difference) &gt;= 10)\n                    {\n                        message = Math.Sign(difference) == -1 ? \"Moderatley High\" : \"Moderately Low\";\n                    }\n                    else if (Math.Abs(difference) &lt; 10)\n                    {\n                        message = Math.Sign(difference) == -1 ? \"Somewhat High\" : \"Somewhat Low\";\n                    }\n                    else Console.WriteLine(\"???\");\n                }\n                attemptsLeft--;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "httpclient"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1570657903, "post_id": 58312745, "comment_id": 102986530, "body": "If you&#39;re trying to reuse it, don&#39;t dispose of it until you&#39;re done with it."}, {"owner": {"reputation": 37, "user_id": 3592191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37ec48af45ad1ba72533d452e7e64b6b?s=128&d=identicon&r=PG&f=1", "display_name": "cjros", "link": "https://stackoverflow.com/users/3592191/cjros"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1570700377, "post_id": 58312745, "comment_id": 102998989, "body": "@LasseV&#229;gs&#230;therKarlsen it seems that the part i don&#39;t understand. how do i not dispose of it?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1570704873, "post_id": 58312745, "comment_id": 103001406, "body": "Don&#39;t use <code>using (client)</code> ? Do you know what that statement does? If not, perhaps we should try to cover that for you."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 3592191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37ec48af45ad1ba72533d452e7e64b6b?s=128&d=identicon&r=PG&f=1", "display_name": "cjros", "link": "https://stackoverflow.com/users/3592191/cjros"}, "edited": false, "score": 0, "creation_date": 1570700302, "post_id": 58312837, "comment_id": 102998942, "body": "okay, i believe i understand the instantiating a new client each time but how do i keep the same instance if i wanted to? could you explain a bit more on how to do that?"}, {"owner": {"reputation": 3922, "user_id": 2606962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb147c196e95aea1d164e82ac859c6ae?s=128&d=identicon&r=PG", "display_name": "UweB", "link": "https://stackoverflow.com/users/2606962/uweb"}, "reply_to_user": {"reputation": 37, "user_id": 3592191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37ec48af45ad1ba72533d452e7e64b6b?s=128&d=identicon&r=PG&f=1", "display_name": "cjros", "link": "https://stackoverflow.com/users/3592191/cjros"}, "edited": false, "score": 0, "creation_date": 1570708557, "post_id": 58312837, "comment_id": 103003363, "body": "Your <code>HttpClientHandler</code> and <code>HttpClient</code> instances are already static variables in your Program class, which means they will be there as long as the program is running. Simply leaving out the <code>using(...)</code> statement should be everything that is needed."}], "tags": [], "owner": {"reputation": 3922, "user_id": 2606962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb147c196e95aea1d164e82ac859c6ae?s=128&d=identicon&r=PG", "display_name": "UweB", "link": "https://stackoverflow.com/users/2606962/uweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1570658285, "creation_date": 1570658285, "answer_id": 58312837, "question_id": 58312745, "link": "https://stackoverflow.com/questions/58312745/objectdisposedexception-even-after-setting-client-handler-to-false-so-im-not-di/58312837#58312837", "title": "ObjectDisposedException even after setting client handler to false so I&#39;m not disposing and using the same instance", "body": "<p>You are missing that both your methods are disposing your <code>HttpClient</code> making it unusable in further calls, like any disposed object (Streams, ...)</p>\n\n<p>You either want to instantiate a new <code>HttpClient</code> each time, if used inside <code>using</code> (not a good idea according to <a href=\"https://docs.microsoft.com/de-de/dotnet/api/system.net.http.httpclient\" rel=\"nofollow noreferrer\">the documentation</a> if high load is expected), or keep the instance until the application shuts down.</p>\n"}], "owner": {"reputation": 37, "user_id": 3592191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37ec48af45ad1ba72533d452e7e64b6b?s=128&d=identicon&r=PG&f=1", "display_name": "cjros", "link": "https://stackoverflow.com/users/3592191/cjros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570658285, "creation_date": 1570657606, "question_id": 58312745, "link": "https://stackoverflow.com/questions/58312745/objectdisposedexception-even-after-setting-client-handler-to-false-so-im-not-di", "title": "ObjectDisposedException even after setting client handler to false so I&#39;m not disposing and using the same instance", "body": "<p>From reading other posts on stackoverflow, I'm trying to reuse the same httpclient for multiple methods but i'm still getting the error:</p>\n\n<p><code>System.ObjectDisposedException: Cannot access a disposed object. Object name: 'System.Net.Http.HttpClient'.</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Program\n{\n    private readonly static HttpClientHandler handler = new HttpClientHandler();\n    private readonly static HttpClient client = new HttpClient(handler, false);\n\n    public Program()\n    {\n        client.BaseAddress = new Uri();\n        client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    }\n\n\n    public async IDictionary&lt;string, object&gt; GetCustomer(string customerId)\n    {\n        using (client)\n        {\n            try\n            {\n                 var response = await client.GetAsync().ConfigureAwait(false);\n                 response.EnsureSuccessStatusCode();\n                 var responseContent = await.result.Content.ReadAsStringAsync();\n                 return JsonConvert.DeserializeObject&lt;IDictionary&lt;string, object&gt;(responseContent);\n            }\n            catch { }\n        }\n\n    }\n\n    public async IDictionary&lt;string, object&gt; GetOrdersByCustomerId(string customerId)\n    {\n        using (client)\n        {\n            try\n            {\n                 var response = await client.GetAsync().ConfigureAwait(false);\n                 response.EnsureSuccessStatusCode();\n                 var responseContent = await.result.Content.ReadAsStringAsync();\n                 return JsonConvert.DeserializeObject&lt;IDictionary&lt;string, object&gt;(responseContent);\n            }\n            catch { }\n        }\n\n    }\n}\n</code></pre>\n\n<p>In a separate file, I'm calling these two methods one right after the other as such:</p>\n\n<pre><code>var customer = programInstance.GetCustomer().GetAwaiter().GetResult();\nvar orders = programInstance.GetOrdersByCustomerId().GetAwaiter().GetResult();\n</code></pre>\n\n<p>When I call <code>GetCustomer()</code>, the response is 200 OK and I'm able to retrieve the information I want but as soon as I call <code>GetOrdersByCustomerId()</code>, I then get the error message stated earlier.</p>\n\n<p>I've been reading about whether httpclient needs to be dispose or how some people got rid of the error by grabbing the handler and setting dispose to false but it doesn't look like it's working out for me.</p>\n\n<p>Is there something I'm missing here?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1570657180, "post_id": 58312609, "comment_id": 102986329, "body": "you want the title of the page the link was dragged from, or the title of the page the link is pointing to? I&#39;ll guess the latter, from what you&#39;ve said? In either case, I don&#39;t think a simple hyperlink tag will contain that information. It&#39;s just a URL. If you&#39;re lucky, the <i>link itself</i> might have a title or other descriptive text, but that doesn&#39;t tell you anything about the page it links to. To get that, you&#39;d have to make a HTTP request to the URL and then parse the resulting HTML response (assuming the URL actually returns a HTML page, and not something else)."}, {"owner": {"reputation": 47, "user_id": 5647016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgWAS.jpg?s=128&g=1", "display_name": "Dutch2", "link": "https://stackoverflow.com/users/5647016/dutch2"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570663027, "post_id": 58312609, "comment_id": 102987677, "body": "Edit: I should have been more clear, I mean the link in the address bar of a browser. It seems the information is available in the text/x-moz-url format, I just don&#39;t know how to retrieve it."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570697432, "post_id": 58312609, "comment_id": 102997384, "body": "if &quot;text/x-moz-url&quot; is one of the formats specified (by running <code>e.Data.GetFormats()</code> I assume?), then I&#39;d expect you get the data via <code>e.Data.GetData(&quot;text&#47;x-moz-url&quot;)</code>. You might need <code>.ToString()</code> on the end as well. You can check all the other specified formats in the same way to see what&#39;s inside them, if you need to. N.B. I haven&#39;t used this feature at all but that&#39;s my understanding just from reading the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.idataobject?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation</a>. If it works let me know and I&#39;ll write it up as a proper answer :-)"}, {"owner": {"reputation": 47, "user_id": 5647016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgWAS.jpg?s=128&g=1", "display_name": "Dutch2", "link": "https://stackoverflow.com/users/5647016/dutch2"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570719029, "post_id": 58312609, "comment_id": 103009865, "body": "I tried e.Data.GetData(&quot;text/x-moz-url&quot;).ToString() and I get &quot;System.IO.MemoryStream&quot;. I then used var data = e.Data.GetData(&quot;text/x-moz-url&quot;); and set a breakpoint to examine data. It contains a buffer with information... any suggestions on how I could retrieve that buffer?"}, {"owner": {"reputation": 47, "user_id": 5647016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgWAS.jpg?s=128&g=1", "display_name": "Dutch2", "link": "https://stackoverflow.com/users/5647016/dutch2"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570723663, "post_id": 58312609, "comment_id": 103012406, "body": "Thanks @ADyson for your assistance. I&#39;m answering my question below."}], "answers": [{"tags": [], "owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "is_accepted": false, "score": 1, "last_activity_date": 1570657086, "creation_date": 1570657086, "answer_id": 58312667, "question_id": 58312609, "link": "https://stackoverflow.com/questions/58312609/how-to-get-url-and-title-from-link-dragged-from-browser/58312667#58312667", "title": "How to get URL and Title from link dragged from browser", "body": "<p>The link does not contain the title. You will have to do a HTTP request and parse the HTML to get the title:</p>\n\n<pre><code>&lt;title&gt;Ask a Question - Stack Overflow&lt;/title&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 5647016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgWAS.jpg?s=128&g=1", "display_name": "Dutch2", "link": "https://stackoverflow.com/users/5647016/dutch2"}, "is_accepted": true, "score": 1, "last_activity_date": 1570724042, "creation_date": 1570724042, "answer_id": 58327156, "question_id": 58312609, "link": "https://stackoverflow.com/questions/58312609/how-to-get-url-and-title-from-link-dragged-from-browser/58327156#58327156", "title": "How to get URL and Title from link dragged from browser", "body": "<p>The page title and URL are available in the \"text/x-moz-url\" data format. This works for the current versions of the Chrome and Firefox browsers.</p>\n\n<pre><code>if (e.Data.GetDataPresent(\"text/x-moz-url\"))    //Chrome, Firefox\n {\n      MemoryStream data = (MemoryStream)e.Data.GetData(\"text/x-moz-url\");\n      string dataStr = Encoding.Unicode.GetString(data.ToArray());\n      string[] parts = dataStr.Split(((char)10));\n      for (int i = 0; i &lt; parts.Count(); i++ )\n      {\n          listBox1.Items.Add(parts[i]);\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5647016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgWAS.jpg?s=128&g=1", "display_name": "Dutch2", "link": "https://stackoverflow.com/users/5647016/dutch2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 58327156, "answer_count": 2, "score": 0, "last_activity_date": 1570724042, "creation_date": 1570656731, "last_edit_date": 1570661700, "question_id": 58312609, "link": "https://stackoverflow.com/questions/58312609/how-to-get-url-and-title-from-link-dragged-from-browser", "title": "How to get URL and Title from link dragged from browser", "body": "<p>I'd like my application to accept a link dragged and dropped from a browser and then display the URL and Title of the link.</p>\n\n<p>Edit: I should have been more clear, I mean the link in the address bar of a browser.</p>\n\n<pre><code>private void test_DragEnter(object sender, DragEventArgs e)\n{\n     e.Effect = DragDropEffects.Copy;\n}\n\nprivate void test_DragDrop(object sender, DragEventArgs e)\n{\n     string text = string.Empty;\n     if (e.Data.GetDataPresent(DataFormats.UnicodeText))\n     {\n          text = e.Data.GetData(DataFormats.UnicodeText).ToString();\n          Console.WriteLine(\"text: {0}\", text);\n     }\n}\n</code></pre>\n\n<p>With this code I can get the URL, like <a href=\"https://stackoverflow.com/questions/ask\">https://stackoverflow.com/questions/ask</a> but not the page title like \"Ask a question\".</p>\n\n<p>There are many DataFormats available like DragContext, DragImageBits, text/x-moz-url, FileGroupDescriptorW, FileContents, UniformResourceLocatorW, UniformResourceLocator, System.String, UnicodeText, and Text.</p>\n\n<p>Which one is the best one to use, and how do I extract the information?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570657625, "post_id": 58312566, "comment_id": 102986452, "body": "does removing a claim get triggered from within the edit user modal to begin with? Are you firing the removeUserClaim method via AJAX, or a regular postback? in one part of the method you are potentially returning a whole view, yet later in a different case you want to return a partial. That makes no sense. Returning a full view only makes sense via a full page refresh (postback or clicking a link), whereas returning a partial only makes sense from an AJAX request, where you then add the partial content to the rest of the existing page."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570657725, "post_id": 58312566, "comment_id": 102986477, "body": "Without sufficient contextual info it&#39;s hard to say, but potentially this remove claim method might be better being called via AJAX, and set it simply to return some JSON saying if it succeeded or failed? Then you simply display the result on screen (or take some other action, if need be) when you receive the response in your JS code. That way there&#39;s no need to worry about returning partial views, or model data etc since it&#39;ll all still be there in the page. I may have misread the situation, but that&#39;s a potential approach you could consider."}, {"owner": {"reputation": 45, "user_id": 11346965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b831bcd4a4dc36d0ad79a8b96f032c?s=128&d=identicon&r=PG&f=1", "display_name": "S. Kellar", "link": "https://stackoverflow.com/users/11346965/s-kellar"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570658005, "post_id": 58312566, "comment_id": 102986564, "body": "@ADyson, the removeUserClaim is being fired from a button click within the EditUser modal using ASP. I should have removed the other returnView because I just have not edited that line of code right now. I am going to correct it with the answer I get.   When the RemoveUserClaim succeeds, I want it to return back to the EditUser partial view."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1570659429, "post_id": 58312566, "comment_id": 102986907, "body": "Ok. So if you just want it to return back to the edit user partial from which it came then follow the suggestion in my second comment"}], "owner": {"reputation": 45, "user_id": 11346965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b831bcd4a4dc36d0ad79a8b96f032c?s=128&d=identicon&r=PG&f=1", "display_name": "S. Kellar", "link": "https://stackoverflow.com/users/11346965/s-kellar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570657124, "creation_date": 1570656486, "question_id": 58312566, "link": "https://stackoverflow.com/questions/58312566/return-partial-view-from-different-method-in-same-controller", "title": "Return Partial view from different method in same controller", "body": "<p>I am trying to return a partial view (modal) from another method but I am unsure of how to get the object from the Edit User model into RemoveUserClaim method. When I delete a claim from a user, I want it to return back to the Edit User Modal, right now - I can only get it to redirect to the home maintenance screen.</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>[HttpPost]\n        public async Task&lt;IActionResult&gt; RemoveUserClaim(UserClaimsViewModel model, string userid, string claimtype)\n        {\n            var user = await userManager.FindByIdAsync(model.UserId);\n\n            if (user == null)\n            {\n                ViewBag.ErrorMessage = $\"User with Id = {model.UserId} cannot be found\";\n                return View(\"~/Views/Administration/Users/UserMaint.cshtml\");\n            }\n\n            var claims = await userManager.GetClaimsAsync(user);\n\n            foreach (var claimtypething in claims)\n            {\n                if (claimtypething.Type == claimtype)\n                {\n                    var results = await userManager.RemoveClaimAsync(user, claimtypething);\n                    break;\n                }\n            }\n\n\n//Right here is where I want to return back to EditUser's modal -----------\n\n            return PartialView(\"~/Views/Modals/_EditUserModalPartial.cshtml\");\n\n        }\n\n\n\n\n\n   [HttpGet]\n        public async Task&lt;IActionResult&gt; EditUser(string id)\n        {\n            var user = await userManager.FindByIdAsync(id);\n            if (user == null)\n            {\n                ViewBag.ErrorMessage = $\"User with Id = {id} cannot be found\";\n                return View(\"NotFound\");\n            }\n\n            var userClaims = await userManager.GetClaimsAsync(user);\n            var userRoles = await userManager.GetRolesAsync(user);\n\n            var model = new EditUserViewModel\n            {\n                Id = user.Id,\n                Email = user.Email,\n                UserName = user.UserName,\n                City = user.City, \n\n            };\n\n            //GET LIST OF ROLES (RoleID, RoleName)\n            foreach (var RoleName in userRoles)\n            {\n                //Execute identiy method to get full information for the Role and store into an object (fullroleinfo)\n                var fullRoleInfo = await roleManager.FindByNameAsync(RoleName);\n\n                //Store this inforamtion into the Role list in the viewmodel\n                var roleinfo = new EditUserViewModel.Role\n                {\n                    RoleName = fullRoleInfo.Name,\n                    RoleID = fullRoleInfo.Id\n                };\n                model.Roles.Add(roleinfo);\n            };\n\n            //GET LIST OF CLAIMS\n               foreach (var ClaimName in userClaims)\n            {\n\n                var fullClaimInfo = ClaimName;\n\n                var claiminfo = new EditUserViewModel.Claim\n                {\n                    ClaimType = fullClaimInfo.Type,\n                    ClaimID = fullClaimInfo.Value\n                };\n                ViewBag.ClaimType = fullClaimInfo.Type;\n                model.Claims.Add(claiminfo);\n            };\n            ViewBag.UserModel = model;\n            return PartialView(\"~/Views/Modals/_EditUserModalPartial.cshtml\", model);\n         }\n\n</code></pre>\n"}, {"tags": ["c#", ".net", "asynchronous"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1570656238, "post_id": 58312479, "comment_id": 102986016, "body": "Maybe, it depends on the what the context is doing but it is considered bad practice. Why would you not want to use the code you have above?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1570656271, "post_id": 58312479, "comment_id": 102986023, "body": "Reference <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Async/Await - Best Practices in Asynchronous Programming</a>"}, {"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 4, "creation_date": 1570656395, "post_id": 58312479, "comment_id": 102986061, "body": "if you want one line just simply wrap your async call ... return (await myDbContext.Cars.FindAsync(carId))?.Owner"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 2, "creation_date": 1570656492, "post_id": 58312479, "comment_id": 102986091, "body": "What&#39;s the return type of <code>FindAsync(carId)</code>? Assuming it&#39;s a <code>Task&lt;Car&gt;</code> then <code>await myDbContext.Cars.FindAsync(carId).Result.Owner</code> won&#39;t typecheck. If you&#39;re asking how to convert your method into a one-liner you can use <code>return ( await myDbContext.Cars.FindAsync(carId)).Owner;</code>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1570656647, "post_id": 58312479, "comment_id": 102986151, "body": "Looks like some clarification is needed. The question in its current state is also incomplete and therefore unclear."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 4, "creation_date": 1570662386, "post_id": 58312479, "comment_id": 102987537, "body": "Not sure why this was closed. The question in the title has a clear answer. <b>YES</b>.  The answer to the question at the bottom of the question is &quot;maybe you&#39;ll deadlock, maybe you&#39;ll just freeze the UI, or maybe something else bad will happen, or maybe nothing bad will happen; how lucky do you feel today?&quot;.  <b>The correct thing to do to an awaitable is to await it.</b>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1570662459, "post_id": 58312479, "comment_id": 102987548, "body": "If you want a one-liner, you can have a one-liner: <code>public async Task&lt;Owner&gt; GetOwnerAsync(int c) =&gt; (await context.Cars.FindAsync(c)).Owner;</code>, done. <code>await</code> is an operator like any other operator; it obeys the rules of parentheses."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1570662285, "post_id": 58312880, "comment_id": 102987520, "body": "That&#39;s one reason why it is discouraged, but the more important reason is: <b>the asynchronous operation that is being synchronously waited might have been scheduled to execute in the future on the thread you just blocked</b>.  Obviously the thread will then wait forever, as it is sleeping <i>until it does work in the future and wakes itself up</i>, which never happens."}], "tags": [], "owner": {"reputation": 3922, "user_id": 2606962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb147c196e95aea1d164e82ac859c6ae?s=128&d=identicon&r=PG", "display_name": "UweB", "link": "https://stackoverflow.com/users/2606962/uweb"}, "is_accepted": false, "score": 1, "last_activity_date": 1570658604, "creation_date": 1570658604, "answer_id": 58312880, "question_id": 58312479, "link": "https://stackoverflow.com/questions/58312479/is-accessing-async-result-considered-as-bad-practice/58312880#58312880", "title": "Is accessing async .Result considered as bad practice?", "body": "<p>The difference between your current code and using <code>.Result</code> is that, currently, the caller of the <code>Get(...)</code> method will be able to continue, until awaiting themselves.</p>\n\n<p>Using <code>.Result</code> in the <code>Get(...)</code> method will block any caller at that point, until the result is available, and is therefore discouraged.</p>\n"}], "owner": {"reputation": 11486, "user_id": 1765862, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3a746ea2091abf7d4373f86136d83091?s=128&d=identicon&r=PG", "display_name": "user1765862", "link": "https://stackoverflow.com/users/1765862/user1765862"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "closed_date": 1570658592, "answer_count": 1, "score": 0, "last_activity_date": 1570658604, "creation_date": 1570656076, "question_id": 58312479, "link": "https://stackoverflow.com/questions/58312479/is-accessing-async-result-considered-as-bad-practice", "closed_reason": "Needs details or clarity", "title": "Is accessing async .Result considered as bad practice?", "body": "<p>If I have following</p>\n\n<pre><code>  public async Task&lt;Owner&gt; Get(int carId)\n  {\n     var car = await myDbContext.Cars.FindAsync(carId);\n     return car.Owner;\n  }\n</code></pre>\n\n<p>I cannot access the Owner property in the first line cause it's a async call.</p>\n\n<p>If I access it using await <code>myDbContext.Cars.FindAsync(carId).Result.Owner</code> does that mean that I'll get stuck in a deadlock sometime or does it have some other side effects?</p>\n"}, {"tags": ["c#", ".net-core", "bitmap", "console", "assembly-references"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570656540, "post_id": 58312466, "comment_id": 102986115, "body": "I&#39;ve added System.Drawing like this: Bubble_generation&gt;Dependencies&gt;Assemblies&gt;System.Drawing, but it doesn&#39;t work this way either"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570656634, "post_id": 58312466, "comment_id": 102986147, "body": "I don&#39;t understand what is <code>Bubble_generation&gt;Dependencies</code>. Did you use the <code>Add reference</code> submenu item of the popup menu of the <code>References</code> section that is under the <code>Properties</code> in the project tree in the solution explorer?"}, {"owner": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570656750, "post_id": 58312466, "comment_id": 102986189, "body": "Yes, I think: I&#39;ve right clicked on Dependecies, the I clicked Add Reference, then it was empty, so I&#39;ve clicked browse, after that I&#39;ve searched for System.Drawing, then choose the one with .dll extension"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570656831, "post_id": 58312466, "comment_id": 102986213, "body": "I added links in the answer. You must use the section <code>Assemblies&#47;Framework</code> (GAC). Not dll import."}, {"owner": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570657578, "post_id": 58312466, "comment_id": 102986442, "body": "I don&#39;t find /Framework, but here&#39;s a screenshot <a href=\"https://imgur.com/a/UJCqypB\" rel=\"nofollow noreferrer\">imgur.com/a/UJCqypB</a> aybe It helps better understanding the situation"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570657688, "post_id": 58312466, "comment_id": 102986469, "body": "Ok. What is your Visual Studio version and the target (.NET Framework, .NET Core, .NET Standard...)?"}, {"owner": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "edited": false, "score": 0, "creation_date": 1570722758, "post_id": 58312466, "comment_id": 103011956, "body": "I use VS2019, and .NET Core 2.1"}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": true, "score": 1, "last_activity_date": 1570723410, "last_edit_date": 1570723410, "creation_date": 1570656002, "answer_id": 58312466, "question_id": 58312447, "link": "https://stackoverflow.com/questions/58312447/bitmap-declaration-error-in-vs19-after-copying-code-c/58312466#58312466", "title": "Bitmap declaration error in VS19 after copying code (c#)", "body": "<p>If you are in console mode, you must add this framework assembly reference in  the <code>References</code>section of the project in the solution explorer:</p>\n\n<pre><code>System.Drawing\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/40892189/net-core-and-system-drawing\">.NET Core and System.Drawing</a></p>\n\n<p><a href=\"https://www.nuget.org/packages/System.Drawing.Common/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/System.Drawing.Common/</a></p>\n"}], "owner": {"reputation": 9, "user_id": 10625179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8xX1yCnUSfU/AAAAAAAAAAI/AAAAAAAAAJ0/vIQVmN4Bxkg/photo.jpg?sz=128", "display_name": "L\u0151rinc Ott&#243;", "link": "https://stackoverflow.com/users/10625179/l%c5%91rinc-ott%c3%b3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "closed_date": 1570657385, "accepted_answer_id": 58312466, "answer_count": 1, "score": 0, "last_activity_date": 1570723410, "creation_date": 1570655887, "last_edit_date": 1570723331, "question_id": 58312447, "link": "https://stackoverflow.com/questions/58312447/bitmap-declaration-error-in-vs19-after-copying-code-c", "closed_reason": "Duplicate", "title": "Bitmap declaration error in VS19 after copying code (c#)", "body": "<p>I made a program that generated images, then I copied the code to a new project, but the Bitmap declaration show's this error message: \n<strong>Severity  Code    Description Project File    Line    Suppression State\nError   CS1069  The type name 'Bitmap' could not be found in the namespace 'System.Drawing'. This type has been forwarded to assembly 'System.Drawing.Common, Version=0.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51' Consider adding a reference to that assembly.  Bubble_generation   E:\\Programok\\Bubble_generation\\Bubble_generation\\Program.cs</strong><br>\nI also tried adding the system.drawing.dll manually, but even that didn't work. Here's a screenshot: <a href=\"https://imgur.com/a/UJCqypB\" rel=\"nofollow noreferrer\">https://imgur.com/a/UJCqypB</a>  , and here's the code:</p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing System.Drawing;\nusing System.IO;\n\nnamespace Bubble_generation\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {\n            Bitmap image = new Bitmap(\"input.png\");\n            int r_mem = 0;\n            int g_mem = 0;\n            int b_mem = 0;\n            Color color_mem;\n            for (int w = 0; w &lt; image.Width; w++)\n            {\n                for (int h = 0; h &lt; image.Height; h++)\n                {\n                    r_mem = image.GetPixel(w, h).R;\n                    g_mem = image.GetPixel(w, h).G;\n                    b_mem = image.GetPixel(w, h).B;\n                    color_mem = Color.FromArgb(r_mem, r_mem, r_mem);\n                    image.SetPixel(w, h, color_mem);\n                }\n            }\n            string time = System.DateTime.Now.ToString(\"HH_mm_ss\");\n            image.Save(\"output_\" + time + \".png\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", "asp.net-core"], "comments": [{"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570655895, "post_id": 58312309, "comment_id": 102985916, "body": "You can configure all your entities in the DbContex&#39;s OnConfiguring override."}], "answers": [{"tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": false, "score": 1, "last_activity_date": 1570674610, "creation_date": 1570674610, "answer_id": 58314632, "question_id": 58312309, "link": "https://stackoverflow.com/questions/58312309/hasone-with-onetomany-mapping-relationship/58314632#58314632", "title": "HasOne with OneToMany mapping relationship", "body": "<p>For <code>IEntityTypeConfiguration</code>, it allows configuration for an entity type to be factored into a separate class, and you could not use it for different model. </p>\n\n<p>In general, there are two ways to configure the model, <code>IEntityTypeConfiguration</code> in separted file and configuring in <code>OnModelCreating</code> directly.</p>\n\n<p>Where there are many models, it is recommended to use <code>IEntityTypeConfiguration</code> for eparate configurations which is easy to configure. If you just want to avoid configure <code>modelBuilder.ApplyConfiguration(new CarConfiguration());</code>, you could try like <code>modelBuilder.ApplyEntityTypeConfigurations(Assembly.GetExecutingAssembly());</code>.</p>\n\n<p>If you want to have one place to configure, you could follow <code>OnModelCreating</code> like </p>\n\n<pre><code>    protected override void OnModelCreating(ModelBuilder builder)\n    {\n            base.OnModelCreating(builder);\n            builder.Entity&lt;Car&gt;(c =&gt;\n            {\n            c.ToTable(\"Car\");\n            c.HasKey(x =&gt; x.Id);\n            c.Property(x =&gt; x.Id).HasColumnName(\"Id\").ValueGeneratedOnAdd();\n            c.HasOne(x =&gt; x.Owner);\n            });\n    }\n</code></pre>\n"}], "owner": {"reputation": 11486, "user_id": 1765862, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3a746ea2091abf7d4373f86136d83091?s=128&d=identicon&r=PG", "display_name": "user1765862", "link": "https://stackoverflow.com/users/1765862/user1765862"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570674610, "creation_date": 1570655183, "question_id": 58312309, "link": "https://stackoverflow.com/questions/58312309/hasone-with-onetomany-mapping-relationship", "title": "HasOne with OneToMany mapping relationship", "body": "<pre><code>public class Car\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public Owner Owner { get; set; }\n}\n\npublic class Owner\n{\n   public int Id { get; set; }\n   public string Name { get; set; }\n   public IEnumerable&lt;Country&gt; VisitedCountries { get; set; }\n}\n\npublic class Country\n{\n   public int Id { get; set; }\n   public string Name { get; set; \n   public Owner Owner { get; set; }       \n}\n</code></pre>\n\n<p>I map this relationship as</p>\n\n<pre><code>public class CarConfiguration : IEntityTypeConfiguration&lt;Car&gt;\n{\n   public void Configure(EntityTypeBuilder&lt;Car&gt; builder)\n   {\n       builder.ToTable(\"Car\");\n       builder.HasKey(x =&gt; x.Id);\n       builder.Property(x =&gt; x.Id).HasColumnName(\"Id\").ValueGeneratedOnAdd();\n       builder.HasOne(x =&gt; x.Owner);\n   }\n}\n</code></pre>\n\n<p>As for now, I added OwnerConfiguration file as a separate configuration file </p>\n\n<pre><code>public void Configure(EntityTypeBuilder&lt;Owner&gt; builder)\n{\n     builder.ToTable(\"Owner\");\n     builder.HasMany(x =&gt; x.VisitedCountries);\n     ...\n}\n</code></pre>\n\n<blockquote>\n  <p>My question is: How can I refactor this and use only on map\n  configuration file (CarConfiguration for example) and delete\n  OwnerConfiguration file?</p>\n</blockquote>\n"}, {"tags": ["c#", "list", "methods", "active-directory"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 10624812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922b3e027d151b5d3ef62a8984bb0c7f?s=128&d=identicon&r=PG&f=1", "display_name": "rad_", "link": "https://stackoverflow.com/users/10624812/rad"}, "edited": false, "score": 0, "creation_date": 1570671175, "post_id": 58313206, "comment_id": 102989111, "body": "Thank you for this! This was very well wrote out and I appreciate the help. I plan on modifying the canonicalName value to take out the name of the object itself. I will not be able to test this until tomorrow, but I will respond to this once I do. I was unaware of the <code>SearchResultCollection</code> class not releasing all of its unmanaged resources, thank you for this information. The last thing I want is a memory leak that I would&#39;ve had to dig through 1,000&#39;s of lines of code to find."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 161, "user_id": 10624812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922b3e027d151b5d3ef62a8984bb0c7f?s=128&d=identicon&r=PG&f=1", "display_name": "rad_", "link": "https://stackoverflow.com/users/10624812/rad"}, "edited": false, "score": 0, "creation_date": 1570723896, "post_id": 58313206, "comment_id": 103012524, "body": "No problem. Happy to help. I have documented a few other tips here, although nothing more that you can apply in this specific case: <a href=\"https://www.gabescode.com/active-directory/2018/12/15/better-performance-activedirectory.html\" rel=\"nofollow noreferrer\">Active Directory: Better performance</a>"}, {"owner": {"reputation": 161, "user_id": 10624812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922b3e027d151b5d3ef62a8984bb0c7f?s=128&d=identicon&r=PG&f=1", "display_name": "rad_", "link": "https://stackoverflow.com/users/10624812/rad"}, "edited": false, "score": 0, "creation_date": 1570734230, "post_id": 58313206, "comment_id": 103017073, "body": "Great read. Very detailed and organized for these types of scenario&#39;s. Thank you."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 1, "last_activity_date": 1570660980, "creation_date": 1570660980, "answer_id": 58313206, "question_id": 58312129, "link": "https://stackoverflow.com/questions/58312129/list-not-outputting-any-data-system-directoryservices/58313206#58313206", "title": "List not outputting any data (System.DirectoryServices)", "body": "<p>You do have a few things that need to be corrected:</p>\n\n<ol>\n<li>There is no <code>computerName</code> attribute. The attribute you're after is called <a href=\"https://docs.microsoft.com/en-us/windows/win32/adschema/a-samaccountname\" rel=\"nofollow noreferrer\"><code>sAMAccountName</code></a>, which is the same attribute used for the username for user accounts. However, for computers, it is the computer name followed by the <code>$</code> character. So your search should look like this:</li>\n</ol>\n\n\n\n<pre><code>(&amp;(objectClass=computer)(sAMAccountName=MACHINE_NAME$))\n</code></pre>\n\n<ol start=\"2\">\n<li>Attribute names never have spaces. You want the <a href=\"https://docs.microsoft.com/en-us/windows/win32/adschema/a-canonicalname\" rel=\"nofollow noreferrer\"><code>canonicalName</code></a> attribute. I see you are assigning it to a property called <code>OU</code>. Just be aware that the <code>canonicalName</code> includes the name of the object itself at the end, not just the OU.</li>\n</ol>\n\n\n\n<pre><code>search.PropertiesToLoad.Add(\"canonicalName\");\n...\nobjSurveyComputers.OU = (String)result.Properties[\"canonicalName\"][0];\n</code></pre>\n\n<ol start=\"3\">\n<li>You are calling <code>.Dispose()</code> on a couple objects, which is fine (although not absolutely needed). But the most important one to dispose is <code>resultCol</code>, because the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.searchresultcollection?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation for <code>SearchResultCollection</code></a> says:</li>\n</ol>\n\n<blockquote>\n  <p>Due to implementation restrictions, the SearchResultCollection class cannot release all of its unmanaged resources when it is garbage collected. To prevent a memory leak, you must call the Dispose method when the SearchResultCollection object is no longer needed.</p>\n</blockquote>\n\n<p>You can also put it in a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement\" rel=\"nofollow noreferrer\"><code>using</code> statement</a> instead of calling <code>.Dispose()</code> manually, which would have the same effect.</p>\n"}], "owner": {"reputation": 161, "user_id": 10624812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922b3e027d151b5d3ef62a8984bb0c7f?s=128&d=identicon&r=PG&f=1", "display_name": "rad_", "link": "https://stackoverflow.com/users/10624812/rad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58313206, "answer_count": 1, "score": 0, "last_activity_date": 1570660980, "creation_date": 1570654418, "last_edit_date": 1570655048, "question_id": 58312129, "link": "https://stackoverflow.com/questions/58312129/list-not-outputting-any-data-system-directoryservices", "title": "List not outputting any data (System.DirectoryServices)", "body": "<p>I currently have a method that queries for Canonical Name and the CN of a specified machine. Although, when validating the data within the method, nothing is outputted. I'm not sure if I've formatted something incorrectly or didn't filter properly. I've tried a number of things (changing the format of <code>search.Filter</code>), etc., to no avail. Below is the latest code I have. I'm hoping someone will see something that I am missing.</p>\n\n<pre><code>    public class ComputersCheck\n    {\n        public string OU { get; set; }\n        public string ComputerName { get; set; }\n\n        public override string ToString()\n        {\n            return OU + \" \" + \" \" + ComputerName;\n        }\n    }\n    public List&lt;ComputersCheck&gt; GetOU(string PCName)\n    {\n            List&lt;ComputersCheck&gt; Computers = new List&lt;ComputersCheck&gt;().ToList();\n            string DomainPath = \"LDAP://DC=DOMAIN,DC=COM\"; \n            DirectoryEntry searchRoot = new DirectoryEntry(DomainPath); \n            DirectorySearcher search = new DirectorySearcher(searchRoot);\n            search.Filter = \"(&amp;(objectClass=Computer)(computerName=MACHINE_NAME))\"; \n            search.PropertiesToLoad.Add(\"CN\");\n            search.PropertiesToLoad.Add(\"Canonical Name\"); \n            SearchResult result;\n            SearchResultCollection resultCol = search.FindAll();\n\n            if (resultCol != null)\n            {\n                for (int counter = 0; counter &lt; resultCol.Count; counter++)\n                {\n                    string ComputerNameOUString = string.Empty;\n                    result = resultCol[counter];\n                    if(result.Properties.Contains(\"CN\") &amp;&amp;\n                       result.Properties.Contains(\"Canonical Name\"))\n                    {\n                        ComputersCheck objSurveyComputers = new ComputersCheck();\n                        objSurveyComputers.ComputerName = (String)result.Properties[\"CN\"][0];\n                        objSurveyComputers.OU = (String)result.Properties[\"Canonical Name\"][0];\n                        Computers.Add(objSurveyComputers);\n                    }\n                }\n            }\n\n        foreach (ComputersCheck computer in Computers)\n        {\n            Console.WriteLine(computer);\n\n        }\n        search.Dispose();\n        searchRoot.Dispose();\n        return Computers;\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1570658052, "post_id": 58311967, "comment_id": 102986576, "body": "what&#39;s <code>playRate</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1570661028, "post_id": 58311967, "comment_id": 102987286, "body": "<code>playRate</code> it&#39;s a float to determine the delta time to execute sounds, particle systems etc.."}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1570660134, "post_id": 58312227, "comment_id": 102987072, "body": "Even then the <code>Input.GetMouseButtonUp(1)</code> case might not be catched if it happens in a frame during <code>yield return new WaitForSeconds(playRate);</code>. And you can&#39;t simply nest the lines wrapped by it into the <code>else</code> block because the <code>else</code> block is also executed if <code>energyLevel &gt;= energyMax</code> ..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "edited": false, "score": 0, "creation_date": 1570661437, "post_id": 58312227, "comment_id": 102987393, "body": "it&#39;s working, thanks. the only thing is I need to store the accumulated energy and on mouse up release only that value. how can I do that without having to use `tempEnergy?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1570662570, "post_id": 58312227, "comment_id": 102987573, "body": "@derHugo The secondary condition doesn&#39;t really affect things, because the stuff you&#39;d be adding to the <code>else</code> would/should still include the check for <code>GetMouseButtonUp</code>: if they&#39;re above max energy the attack still won&#39;t fire until that release happens."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1570662607, "post_id": 58312227, "comment_id": 102987580, "body": "@bibrosko You can use a variable within the function scope. It looks like you have <code>tempEnergy</code> declared at the class level: you don&#39;t need to do that. Coroutines maintain local scope even through a <code>yield</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "edited": false, "score": 0, "creation_date": 1570663424, "post_id": 58312227, "comment_id": 102987741, "body": "@Draco18s I understand but my problem now is that the energy level (and/or energyTemp) doesn&#39;t reset when I release the button. what I need is to store the energy level, put this value in the attack value of the children object, than reset all the energy levels. if I accumulate energyMax this value should be used, but if I accumulate only 1 the value of 1 should be used instead"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1570667345, "post_id": 58312227, "comment_id": 102988473, "body": "@bibrosko I think this is because your statements are out of order. It should be <code>&lt;ParticleCollision&gt;().attackValue  = energyLevel</code> first, only after you do that should you set <code>energyLevel</code> back to zero."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "edited": false, "score": 0, "creation_date": 1570722863, "post_id": 58312227, "comment_id": 103012016, "body": "@Draco. yes you were right. Anw, I made some change and I updated the code in the answer. My <code>energyLevel</code> doesn&#39;t reset when <code>energyLevel &lt; energyMax</code>"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1570723152, "post_id": 58312227, "comment_id": 103012167, "body": "@bibrosko You shouldn&#39;t edit your question with your fixed code, it makes it so that future readers can&#39;t understand what your problem is and why the answers address it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "edited": false, "score": 0, "creation_date": 1570723421, "post_id": 58312227, "comment_id": 103012284, "body": "oh, I see. I tried to paste the new code in a comment but it was too long. the system suggested me to edit my answer instead. how can I correctly add updated code?"}], "tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": true, "score": 3, "last_activity_date": 1570655718, "last_edit_date": 1570655718, "creation_date": 1570654826, "answer_id": 58312227, "question_id": 58311967, "link": "https://stackoverflow.com/questions/58311967/chargin-energy-and-released-it-while-mouse-button-is-held-down/58312227#58312227", "title": "Chargin energy and released it while mouse button is held down", "body": "<p><strong><code>GetMouseButtonUp</code> only returns true on the <em>single frame</em> that the button was released. Your code <code>yields</code> then.</strong></p>\n\n<p>Lets walk through it:</p>\n\n<pre><code>if (Input.GetMouseButton(1) ...\n</code></pre>\n\n<p>The user has let go of their mouse as they wish to attack, so this is false.</p>\n\n<pre><code>else {\n    yield return null;\n}\n</code></pre>\n\n<p>So you yield and wait for the next frame. Then when execution resumes:</p>\n\n<pre><code>if (Input.GetMouseButtonUp(1))\n</code></pre>\n\n<p>This is false because the user released the mouse button <em>last</em> frame. You should nest this entire block inside the else-statement <em>above</em> the <code>yield return null</code> line.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12014800"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58312227, "answer_count": 1, "score": 1, "last_activity_date": 1570722573, "creation_date": 1570653555, "last_edit_date": 1570722573, "question_id": 58311967, "link": "https://stackoverflow.com/questions/58311967/chargin-energy-and-released-it-while-mouse-button-is-held-down", "title": "Chargin energy and released it while mouse button is held down", "body": "<p>I need to accumulate a certain amount of energy and release it when the mouse button is Released. Right now when the energy level reaches the maximum, the energy level is set to 0 and the function just restarts accumulating from the beginning creating a loop. </p>\n\n<pre><code>IEnumerator AttackCharge()\n{\n    while (true)\n    {\n        if (Input.GetMouseButton(1) &amp;&amp; energyLevel &lt; energyMax)\n        {\n            energyLevel += 1;\n\n            yield return new WaitForSeconds(playRate);\n        }\n\n        if (Input.GetMouseButtonUp(1))\n        {\n            if (energyLevel == energyMax)\n            {\n                FxPlayerAttack.Stop();\n                FxPlayerAttack.Play();\n                shootSound.PlayOneShot(attackSound);\n\n                GetComponentInChildren&lt;ParticleCollision&gt;().attackValue = energyLevel;\n                yield return new WaitForSeconds(2);\n\n                energyLevel = 0;\n                GetComponentInChildren&lt;ParticleCollision&gt;().attackValue = energyLevel;\n            }\n\n            if (energyLevel &lt; energyMax)\n            {\n                yield return new WaitForSeconds(2);\n                energyLevel = 0;\n            }\n        }\n        yield return null;\n    }\n}\n</code></pre>\n\n<p>I need to accumulate the energy while the button is held down. When the button is Up the energy should be released with the max value reached during the charging phase, the energy level should return to 0 and the accumulation should stop until the button is pressed again.</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1570654516, "post_id": 58311818, "comment_id": 102985412, "body": "Can you use <code>System.Xml.Linq</code>? It&#39;d be super easy."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570721945, "post_id": 58312244, "comment_id": 103011528, "body": "Thank you @Sach ! I tried this before, but it wasn&#39;t fetching any data. Therefore I removed namespace from xml and then parsed the xml. It is working now. I have posted my solution."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570725639, "post_id": 58312244, "comment_id": 103013384, "body": "That&#39;s a bad approach. You shouldn&#39;t remove namespaces in order to process <code>XML</code>. This example works with namespaces as it is."}, {"owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570725922, "post_id": 58312244, "comment_id": 103013514, "body": "it wasn&#39;t working for me. I have updated the xml that I posted above. I have two namespaces in the root element."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570728128, "post_id": 58312244, "comment_id": 103014434, "body": "@aaycee see the edit. Removing namespaces is never a good idea, instead you must work with them."}, {"owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570732220, "post_id": 58312244, "comment_id": 103016236, "body": "Thank you ! I have changed my code to keep namespace."}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 1, "last_activity_date": 1570728107, "last_edit_date": 1570728107, "creation_date": 1570654874, "answer_id": 58312244, "question_id": 58311818, "link": "https://stackoverflow.com/questions/58311818/not-able-to-get-values-of-all-elements-in-xml-using-xmlnodelist-and-xmlnamespace/58312244#58312244", "title": "Not able to get values of all elements in XML using XmlNodeList and XmlNamespaceManager", "body": "<p>Using <code>System.Xml.Linq</code>:</p>\n\n<pre><code>var xmlFile = @\"myxml.xml\";\nvar xDoc = XDocument.Load(xmlFile);\nvar infos = xDoc.Descendants(\"Info\");\nforeach (var info in infos)\n{\n    var email = info.Element(\"emailAddress\").Value;\n}\n</code></pre>\n\n<hr>\n\n<h2>EDIT: How to work with namespaces</h2>\n\n<p>If you have multiple namespaces and want to work with that, then you must specify the namespaces like below. Removing namespaces from the file is hardly a good idea.</p>\n\n<pre><code>var xmlFile = @\"C:\\Users\\gurudeniyas\\Desktop\\myxml.xml\";\nXNamespace ns = \"http://schemas.datacontract.org/2004/07/Services.Models\";\nXNamespace nsi = \"http://www.w3.org/2001/XMLSchema-instance\";\nvar xDoc = XDocument.Load(xmlFile);\nvar infos = xDoc.Descendants(ns + \"Info\");\nforeach (var info in infos)\n{\n    var email = info.Descendants(ns + \"emailAddress\").FirstOrDefault().Value;\n    Console.WriteLine(email);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570722039, "post_id": 58314949, "comment_id": 103011591, "body": "Thank you @jdweng ! I tried this before, but it wasn&#39;t fetching any data. Therefore I removed namespace from xml and then used this method. It is working now."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570724914, "post_id": 58314949, "comment_id": 103013004, "body": "You should not be modifying the xml and removing the namespaces.  The xml posted works.  Is the posted xml exactly the same and the one you are running?  I can easily fix code if I had the xml that is failing."}, {"owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570725621, "post_id": 58314949, "comment_id": 103013373, "body": "I just updated the xml with another namespace. The xml that I have is more like it."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "edited": false, "score": 0, "creation_date": 1570728243, "post_id": 58314949, "comment_id": 103014476, "body": "I updated code.  It took me about 30 seconds to fix."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1570728222, "last_edit_date": 1570728222, "creation_date": 1570677405, "answer_id": 58314949, "question_id": 58311818, "link": "https://stackoverflow.com/questions/58311818/not-able-to-get-values-of-all-elements-in-xml-using-xmlnodelist-and-xmlnamespace/58314949#58314949", "title": "Not able to get values of all elements in XML using XmlNodeList and XmlNamespaceManager", "body": "<p>Use xml linq :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XDocument doc = XDocument.Load(FILENAME);\n            XNamespace ns = doc.Root.GetDefaultNamespace();\n\n            var results = doc.Descendants(ns + \"Info\").Select(x =&gt; new\n            {\n                desc = (string)x.Element(ns + \"desc\"),\n                email = (string)x.Element(ns + \"emailAddress\"),\n                orgNum = (string)x.Element(ns + \"orgNum\"),\n                type = (string)x.Element(ns + \"type\")\n            }).ToList();\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570725009, "post_id": 58326493, "comment_id": 103013054, "body": "DO NOT REMOVE NAMESPACES.  IT IS NOT NECESSARY.  Namespace are in the XML so exceptions will occur if the data is corrupt (or not valid). Removing namespaces allows bad data to be processed."}], "tags": [], "owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "is_accepted": false, "score": 0, "last_activity_date": 1570721710, "creation_date": 1570721710, "answer_id": 58326493, "question_id": 58311818, "link": "https://stackoverflow.com/questions/58311818/not-able-to-get-values-of-all-elements-in-xml-using-xmlnodelist-and-xmlnamespace/58326493#58326493", "title": "Not able to get values of all elements in XML using XmlNodeList and XmlNamespaceManager", "body": "<p>The main challenge I was facing in parsing xml was the namespace attribute in the root element. It was preventing my code to parse the usual way and that was the reason why I tried using 'XmlNamespaceManager'. I decided to remove the namespace from the xml. </p>\n\n<p>I used below recursive method to remove namespace from xml and everything worked!! I am not sure if this is the optimal way, but I was able to achieve what I wanted.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public XElement RemoveAllNamespaces(XElement root)\n        {\n            return new XElement(\n                root.Name.LocalName,\n                root.HasElements ?\n                    root.Elements().Select(x =&gt; RemoveAllNamespaces(x)) :\n                    (object)root.Value\n\n                );\n        }\n</code></pre>\n\n<p>Calling Code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>XElement noNsDoc = RemoveAllNamespaces(XElement.Parse(xmlString));\n\nvar xDoc = XDocument.Parse(noNsDoc.ToString());\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5393251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff241894623b709fe5a6ca4f856bc38?s=128&d=identicon&r=PG&f=1", "display_name": "aaycee", "link": "https://stackoverflow.com/users/5393251/aaycee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58314949, "answer_count": 3, "score": 0, "last_activity_date": 1570728222, "creation_date": 1570652936, "last_edit_date": 1570725465, "question_id": 58311818, "link": "https://stackoverflow.com/questions/58311818/not-able-to-get-values-of-all-elements-in-xml-using-xmlnodelist-and-xmlnamespace", "title": "Not able to get values of all elements in XML using XmlNodeList and XmlNamespaceManager", "body": "<p>I am parsing below XML. I need value 'x2@email.com'.I am able to get the list of nodes successfully, but the problem is that with each iteration I am still getting 'x1@email.com' from the first group of 'Info' element.</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;ClaimAdminContact xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.datacontract.org/2004/07/Services.Models\"&gt;\n  &lt;claimAdminID&gt;T1&lt;/claimAdminID&gt;\n  &lt;contactInfo&gt;\n    &lt;Info&gt;\n      &lt;desc&gt;Level 1 Notifications&lt;/desc&gt;\n      &lt;emailAddress&gt;x1@email.com&lt;/emailAddress&gt;\n      &lt;orgNum&gt;1234&lt;/orgNum&gt;\n      &lt;type&gt;T2&lt;/type&gt;\n    &lt;/Info&gt;\n    &lt;Info&gt;\n      &lt;desc&gt;Level 2 Notifications&lt;/desc&gt;\n      &lt;emailAddress&gt;x2@email.com&lt;/emailAddress&gt;\n      &lt;orgNum i:nil=\"true\"/&gt;\n      &lt;type&gt;T2&lt;/type&gt;\n    &lt;/Info&gt;\n    &lt;Info&gt;\n      &lt;desc&gt;Level 3 Notifications&lt;/desc&gt;\n      &lt;emailAddress&gt;x3@email.com&lt;/emailAddress&gt;\n      &lt;orgNum i:nil=\"true\"/&gt;\n      &lt;type&gt;T2&lt;/type&gt;\n    &lt;/Info&gt;\n  &lt;/contactInfo&gt;\n&lt;/ClaimAdminContact&gt;\n</code></pre>\n\n<p>I have tried full xpath but still not able to get the next set of values. Below is the code that I am using to parse xml.</p>\n\n<p>Code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>      XmlNamespaceManager nsmgr = new XmlNamespaceManager(xmlEmail.NameTable);\n            nsmgr.AddNamespace(\"MsBuild\", xmlns);\n            var contactInfo = xmlEmail.SelectNodes(\"/MsBuild:ClaimAdminContact/MsBuild:contactInfo/*\", nsmgr);\n\n            foreach (XmlNode item in contactInfo)\n            {\n                _notificationDesc = item.SelectSingleNode(\"//MsBuild:desc\", nsmgr).InnerText;\n                _reviewEmail = item.SelectSingleNode(\"//MsBuild:emailAddress\", nsmgr).InnerText;\n                _orgNum = item.SelectSingleNode(\"//MsBuild:orgNum\", nsmgr).InnerText;\n            }\n\n</code></pre>\n\n<p>Please </p>\n"}, {"tags": ["c#", "asp.net", ".net", "entity-framework"], "comments": [{"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1570653278, "post_id": 58311801, "comment_id": 102984912, "body": "Have you tried catching the exception?  Or stepping through in debugger?"}, {"owner": {"reputation": 3, "user_id": 12191278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019ce7a8f3ede855194e3061c3e0f95?s=128&d=identicon&r=PG&f=1", "display_name": "TuTapes", "link": "https://stackoverflow.com/users/12191278/tutapes"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1570653688, "post_id": 58311801, "comment_id": 102985069, "body": "@devlincarnate there&#39;s no exceptions being thrown and the debugger shows the Players list being updated within my put method. However, when I call a get route they update is no longer there."}, {"owner": {"reputation": 309, "user_id": 4954137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6054fa53ba3f226fa8349aa4676779?s=128&d=identicon&r=PG&f=1", "display_name": "kd345205", "link": "https://stackoverflow.com/users/4954137/kd345205"}, "edited": false, "score": 0, "creation_date": 1570653700, "post_id": 58311801, "comment_id": 102985074, "body": "In the method where you are selecting the items, you could use .AsNoTracking() if you dont intend to iterate or modify any of the items returned within the same scope/context (ie selecting for view only). asnotracking will force EF to go to the database and get fresh data and not register anything in the changetracker"}, {"owner": {"reputation": 317, "user_id": 3629247, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ea01bdab42f04a182eff6ce401e3e63?s=128&d=identicon&r=PG&f=1", "display_name": "MustangManiac", "link": "https://stackoverflow.com/users/3629247/mustangmaniac"}, "edited": false, "score": 0, "creation_date": 1570653892, "post_id": 58311801, "comment_id": 102985173, "body": "check the output window and see the query generated."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12191278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019ce7a8f3ede855194e3061c3e0f95?s=128&d=identicon&r=PG&f=1", "display_name": "TuTapes", "link": "https://stackoverflow.com/users/12191278/tutapes"}, "edited": false, "score": 0, "creation_date": 1570655043, "post_id": 58312178, "comment_id": 102985607, "body": "The id for the team isn&#39;t null. I tried the code you had posted but unfortunately it didn&#39;t work"}, {"owner": {"reputation": 1, "user_id": 7064538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RlZVV.jpg?s=128&g=1", "display_name": "Hamed Ghenaatkar", "link": "https://stackoverflow.com/users/7064538/hamed-ghenaatkar"}, "reply_to_user": {"reputation": 3, "user_id": 12191278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019ce7a8f3ede855194e3061c3e0f95?s=128&d=identicon&r=PG&f=1", "display_name": "TuTapes", "link": "https://stackoverflow.com/users/12191278/tutapes"}, "edited": false, "score": 0, "creation_date": 1570656660, "post_id": 58312178, "comment_id": 102986158, "body": "see <a href=\"http://kerryritter.com/updating-or-replacing-entities-in-entity-framework-6/\" rel=\"nofollow noreferrer\">this</a>. i hope it will be helpful"}], "tags": [], "owner": {"reputation": 1, "user_id": 7064538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RlZVV.jpg?s=128&g=1", "display_name": "Hamed Ghenaatkar", "link": "https://stackoverflow.com/users/7064538/hamed-ghenaatkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654636, "creation_date": 1570654636, "answer_id": 58312178, "question_id": 58311801, "link": "https://stackoverflow.com/questions/58311801/microsoft-entity-framework-list-property-on-model-is-not-updated-in-database-af/58312178#58312178", "title": "Microsoft Entity Framework: List property on Model is not updated in database after adding data and saving", "body": "<p>maybe the 'id' property of the 'team' entity is null. check it and if it wasn't null, try this :</p>\n\n<pre><code>team.Players.Add(player);\ncontext.SaveChanges();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12191278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019ce7a8f3ede855194e3061c3e0f95?s=128&d=identicon&r=PG&f=1", "display_name": "TuTapes", "link": "https://stackoverflow.com/users/12191278/tutapes"}, "edited": false, "score": 0, "creation_date": 1570667260, "post_id": 58312379, "comment_id": 102988458, "body": "I&#39;ve implemented your advice, but still to no success. Though, I think I&#39;ve narrowed down the issue to certain methods having different context, I just need to find a way to make sure all methods are dealing with the same context"}], "tags": [], "owner": {"reputation": 204, "user_id": 1838837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449d2e64b9bc5bd98509b34d0918c1e2?s=128&d=identicon&r=PG", "display_name": "Johannes Krackowizer", "link": "https://stackoverflow.com/users/1838837/johannes-krackowizer"}, "is_accepted": true, "score": 0, "last_activity_date": 1570705778, "last_edit_date": 1570705778, "creation_date": 1570655536, "answer_id": 58312379, "question_id": 58311801, "link": "https://stackoverflow.com/questions/58311801/microsoft-entity-framework-list-property-on-model-is-not-updated-in-database-af/58312379#58312379", "title": "Microsoft Entity Framework: List property on Model is not updated in database after adding data and saving", "body": "<p>Try to use <code>ICollection&lt;T&gt;</code> instead of <code>List&lt;T&gt;</code> and make <code>PlayerList</code> a property instead of a field by adding <code>{ get; set; }</code></p>\n\n<pre><code>public class Player\n{\n    public long Id { get; set; }\n\n    [Required(ErrorMessage = \"Player FirstName is required\")]\n    public string FirstName { get; set; }\n\n    [Required(ErrorMessage = \"Team Name is required\")]\n    public string LastName { get; set; }\n\n    public Team Team { get; set; }\n}\n\npublic class Team\n{\n    public long Id { get; set; }\n\n    [Required(ErrorMessage =\"Team Name is required\")]\n    public string Name { get; set; }\n\n    [Required(ErrorMessage = \"Team Location is required\")]\n    public string Location { get; set; }\n\n    public ICollection&lt;Player&gt; PlayerList { get; set; }\n}\n</code></pre>\n\n<p>To add a <code>Player</code> to a <code>Team</code> something like that is needed:</p>\n\n<pre><code>var team =  await context.Teams.FindAsync (teamId);\nvar player = new Player { FirstName = \"firstname\", LastName = \"lastname\" };\n\nteam.PlayerList.Add (player);\ncontext.SaveChanges ();\n\n</code></pre>\n\n<p>You don't need to set the <code>team</code> state to <code>Modified</code> because nothing has changed that needs to be commited to the database. Only the <code>player</code> will be inserted in the database.</p>\n\n<p>EDIT - for your comment on multiple contexts:</p>\n\n<p>It's important that you call <code>context.SaveChanges ()</code> on all contexts. Only the instance of <code>context</code> knowns what has been changed and can generate the sql insert/update/delete statements. To make sure that different contexts (or even when you use only one context) will made database changes atomic you can use <code>TransactionScope</code> to make sure either all changes are written to the database or nothing happens at all. Example:</p>\n\n<pre><code>public void DoWork ()\n{\n    // make sure you have MSDTC configured otherwise the TransactionScope will not work.\n    using (var scope = new TransactionScope ()) \n    {\n        Action1 ();\n        Action2 ();\n\n        // This will persist it to the database - COMMIT\n        scope.Complete (); \n    } \n}\n\npublic void Action1 ()\n{\n    using (var context = new DbContext ()) \n    {\n        // Do some work...\n\n        context.SaveChanges ();\n    }\n}\n\npublic void Action2 ()\n{\n    using (var otherContext = new DbContext ()) \n    {\n        // Do some work...\n\n        otherContext.SaveChanges ();\n    }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12191278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0019ce7a8f3ede855194e3061c3e0f95?s=128&d=identicon&r=PG&f=1", "display_name": "TuTapes", "link": "https://stackoverflow.com/users/12191278/tutapes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58312379, "answer_count": 2, "score": 0, "last_activity_date": 1570705778, "creation_date": 1570652842, "last_edit_date": 1570656916, "question_id": 58311801, "link": "https://stackoverflow.com/questions/58311801/microsoft-entity-framework-list-property-on-model-is-not-updated-in-database-af", "title": "Microsoft Entity Framework: List property on Model is not updated in database after adding data and saving", "body": "<p>Been stuck on this longer than I'd like to admit. I have a data model which contains a list of objects. In the method where I'm adding objects to the list it shows that the data is being stored, however once I tried to get the data from another method it isn't there anymore. Changes to other properties of the data will update, therefore my guess is that there is in issue where EF isn't registering the updated data within the list.</p>\n\n<p>This is the data Model I'm trying to update</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code> public long Id { get; set; }\n [Required(ErrorMessage =\"Team Name is required\")]\n public string Name { get; set; }\n [Required(ErrorMessage = \"Team Location is required\")]\n public string Location { get; set; }\n public List&lt;Player&gt; Players = new List&lt;Player&gt;();\n</code></pre>\n\n<p>And here is how I'm adding data to the list property</p>\n\n<pre><code>  team.Players.Add(player);\n  context.Entry(team).State = EntityState.Modified;\n  context.SaveChanges();\n</code></pre>\n\n<p>I've tried everything else I could find online, but nothing worked. I'm newer to EF so hopefully this is a easy error on my part</p>\n\n<p>EDIT: Clarification</p>\n\n<p>DataModel for Player:</p>\n\n<pre><code>  public class Player\n    {\n        public long Id { get; set; }\n        [Required(ErrorMessage = \"Player FirstName is required\")]\n        public string FirstName { get; set; }\n        [Required(ErrorMessage = \"Team Name is required\")]\n\n        public string LastName { get; set; }\n    }\n}\n</code></pre>\n\n<p>DataModel Team</p>\n\n<pre><code>public class Team\n    {\n        public long Id { get; set; }\n        [Required(ErrorMessage =\"Team Name is required\")]\n        public string Name { get; set; }\n        [Required(ErrorMessage = \"Team Location is required\")]\n        public string Location { get; set; }\n        public List&lt;Player&gt; PlayerList = new List&lt;Player&gt;();\n    }\n}\n</code></pre>\n\n<p>Data Base Context:</p>\n\n<pre><code> public class TeamListContext : DbContext\n    {\n        public TeamListContext(DbContextOptions&lt;TeamListContext&gt; options) : base(options)\n        {\n        }\n\n        public DbSet&lt;Team&gt; Teams { get; set; }\n        public DbSet&lt;Player&gt; Players { get; set; }\n    }\n</code></pre>\n\n<p>Endpoint to create team(player is virtually the same)</p>\n\n<pre><code> public async Task&lt;ActionResult&lt;Team&gt;&gt; CreateTeam(Team team)\n        {\n            //save team to Teams set in teamlistcontext \n            context.Teams.Add(team);\n            await context.SaveChangesAsync();\n            return team;\n\n        }\n</code></pre>\n\n<p>Snippets from method where I'm trying to add player to team</p>\n\n<pre><code> Team team =  await context.Teams.FindAsync(teamId);\n Player player =  await context.Players.FindAsync(playerId);\n\n//other logic not affecting issue\n\n//\nteam.PlayerList.Add(player);\ncontext.Entry(team).State = EntityState.Modified\ncontext.SaveChanges();\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin", "slider", "custom-renderer"], "comments": [{"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1571299116, "post_id": 58311746, "comment_id": 103196421, "body": "Hi , have you solved it . If workaround be helpful , thnaks for marking in advance."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "edited": false, "score": 0, "creation_date": 1570793980, "post_id": 58314989, "comment_id": 103036182, "body": "Thanks for the answer, the interesting thing is that the OnControlValueChanged is triggered but the Slider_TouchDragExit is never reached. I have no idea why. Do you have any idea where shall I start to debug? Thanks!"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "edited": false, "score": 0, "creation_date": 1571034533, "post_id": 58314989, "comment_id": 103091796, "body": "@TheElderWisedom Sorry for not working about this method in Xamain.iOS after testing in local project. However there is a workaround to invoke Drag Complete method , I will update the answer ."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "edited": false, "score": 0, "creation_date": 1571127310, "post_id": 58314989, "comment_id": 103126871, "body": "@TheElderWisedom Hi ,I also have submitted it in GitHub . You also can follow it up <a href=\"https://github.com/xamarin/Xamarin.Forms/issues/8017\" rel=\"nofollow noreferrer\">here</a> ."}, {"owner": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "edited": false, "score": 0, "creation_date": 1571402725, "post_id": 58314989, "comment_id": 103239985, "body": "Hello, yes I was able to solve it thanks to your post. You triggered an idea what I implemented and seems to work fine. I will update this thread with the solution I implemented and I will check the post you submitted to GitHub."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "edited": false, "score": 0, "creation_date": 1571624899, "post_id": 58314989, "comment_id": 103290401, "body": "@TheElderWisedom Glad found the solution . Later when sharing in answer, I will refer to it."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1571034968, "last_edit_date": 1571034968, "creation_date": 1570677760, "answer_id": 58314989, "question_id": 58311746, "link": "https://stackoverflow.com/questions/58311746/xamarin-slider-custom-renderer-dragcompleted-event/58314989#58314989", "title": "Xamarin slider custom renderer DragCompleted event", "body": "<p>There are some <a href=\"https://docs.microsoft.com/en-us/dotnet/api/uikit.uislider?view=xamarin-ios-sdk-12#events\" rel=\"nofollow noreferrer\"><strong>Events</strong></a> can be invoked in <strong>UISlider</strong> :</p>\n\n<ul>\n<li><strong>TouchDragExit</strong> : Raised on TouchDragExit events.</li>\n<li><strong>TouchUpInside</strong> : Raised on TouchUpInside events.</li>\n<li><strong>TouchUpOutside</strong> : Raised on TouchUpOutside events.</li>\n</ul>\n\n<p>You can invoke one of them to have a try as follow :</p>\n\n<pre><code>Control.TouchDragExit += Slider_TouchDragExit;\n\nprivate void Slider_TouchDragExit(object sender, EventArgs e)\n{\n    throw new NotImplementedException();\n}\n</code></pre>\n\n<p>===================================Update====================================</p>\n\n<p>After testing in local project , above three methods only <code>TouchUpInside</code> works ,and not finding the reason why other methods not working in iOS renderer . I also test renderer methods in Android, it works . It is a strange phenomenon.</p>\n\n<p>However , I found a <strong>workaround</strong> to invoke methods something as drag ended function.</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(CustomSlider), typeof(CustomSliderRenderer))]\nnamespace App8.iOS\n{\n    public class CustomSliderRenderer : SliderRenderer\n    {\n\n    protected override void OnElementChanged(ElementChangedEventArgs&lt;Slider&gt; e)\n    {\n        base.OnElementChanged(e);\n\n        if (null != Control)\n        {\n            CustomSlider customSlider = (CustomSlider)e.NewElement;\n\n            customSlider.DragCompleted += CustomSlider_DragCompleted;\n\n        }\n    }\n\n\n    private void CustomSlider_DragCompleted(object sender, EventArgs e)\n    {\n        Console.WriteLine(\"------CustomSlider_DragCompleted-------\");\n    }\n\n}\n</code></pre>\n\n<p>Here , <code>CustomSlider</code> is my custom Slider in Xamarin.Forms . If later find the reason why <code>TouchDragExit</code> not woking will update here.</p>\n"}], "owner": {"reputation": 43, "user_id": 5946230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f4d97bad02f87b245e182f0fc0e600?s=128&d=identicon&r=PG&f=1", "display_name": "TheElderWisedom", "link": "https://stackoverflow.com/users/5946230/theelderwisedom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571034968, "creation_date": 1570652569, "question_id": 58311746, "link": "https://stackoverflow.com/questions/58311746/xamarin-slider-custom-renderer-dragcompleted-event", "title": "Xamarin slider custom renderer DragCompleted event", "body": "<p>I am trying to put in function an IOS custom renderer for Slider control. Due to wrapping class SlideriOS the event are not firing and I need DragCompleted event. Somebody has an idea how to trigger/route the event to the control?</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(CustomGradientSlider), typeof(CustomGradientSliderRenderer))]\nnamespace HealMate.iOS.Renderers\n{\n    public class CustomGradientSliderRenderer : SliderRenderer\n    {\n        public CGColor StartColor { get; set; }\n        public CGColor CenterColor { get; set; }\n        public CGColor EndColor { get; set; }\n        private UIImage GradImage { get; set; }\n        public string SelectionColor1 { get; set; }\n        public string SelectionColor2 { get; set; }\n\n    protected override void OnElementChanged(ElementChangedEventArgs&lt;Slider&gt; e)\n    {\n\n        if (Control == null)\n        {\n            var customSlider = e.NewElement as CustomGradientSlider;\n            StartColor = customSlider.StartColor.ToCGColor();\n            CenterColor = customSlider.CenterColor.ToCGColor();\n            EndColor = customSlider.EndColor.ToCGColor();\n\n\n              var slider = new SlideriOS\n            {\n                Continuous = true,\n\n                Height = (nfloat)customSlider.HeightRequest\n            };\n\n            SetNativeControl(slider);\n            Control.ValueChanged += OnControlValueChanged;\n\n        }\n\n        base.OnElementChanged(e);\n    }\n\n...\n\n   public class SlideriOS : UISlider\n    {\n        public nfloat Height { get; set; }\n\n        public override CGRect TrackRectForBounds(CGRect forBounds)\n        {\n            var rect = base.TrackRectForBounds(forBounds);\n            return new CGRect(rect.X, rect.Y, rect.Width, Height);\n        }\n        }\n}\n</code></pre>\n\n<p>How can I fire the DragCompleted event for the slider control ?\nThanks!</p>\n"}, {"tags": ["c#", "algorithm", "geometry", "gmap.net"], "comments": [{"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1570652603, "post_id": 58311579, "comment_id": 102984644, "body": "What are the units of <code>SEC.diameter</code>? I very much doubt that they are in degrees as you can&#39;t possibly represent a circle on the earth like that. Consider near the north pole. A circle on the earth is not a circle in lat/long angles."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1570653007, "post_id": 58311579, "comment_id": 102984807, "body": "If the circle is small enough and you aren&#39;t near the equator you might be able to approximate it by finding the approximate angle your circle represents for a cone based at the origin of the sphere. And since sin(x) ~= x for very small x, you might be able to divide your distance by the circumference of the earth and multiply by 360 to get an approximate angle to use in your current incorrect, but maybe good enough, circle code."}, {"owner": {"reputation": 25, "user_id": 11965785, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxIeGIWwW5c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcO50mslztwO0UA96fB7MnmzsVRKw/photo.jpg?sz=128", "display_name": "jay jay", "link": "https://stackoverflow.com/users/11965785/jay-jay"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1570653087, "post_id": 58311579, "comment_id": 102984836, "body": "After executing smallest enclosing circle, I will assign the centerpoint and diameter to the variable in SEC class. Center point in this case is <i>0,0</i>.  The formula using segments are what I got from stackoverflow to draw the circle on the GMap."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1570653318, "post_id": 58311579, "comment_id": 102984926, "body": "What is the diameter measured in? meters? kilometers? You need to convert it to an angular measure: <code>angle = distance &#47; circumference of earth x 2 * PI</code> and hope your circle is small enough that it&#39;s a good approximation. See <a href=\"https://math.stackexchange.com/a/1218805/31304\">math.stackexchange.com/a/1218805/31304</a> for how complex this really is if you want to do it exactly."}], "owner": {"reputation": 25, "user_id": 11965785, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxIeGIWwW5c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcO50mslztwO0UA96fB7MnmzsVRKw/photo.jpg?sz=128", "display_name": "jay jay", "link": "https://stackoverflow.com/users/11965785/jay-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570655167, "creation_date": 1570651845, "last_edit_date": 1570655167, "question_id": 58311579, "link": "https://stackoverflow.com/questions/58311579/i-am-getting-strange-value-when-i-tried-to-calculate-the-points-to-draw-a-circle", "title": "I am getting strange value when I tried to calculate the points to draw a circle using diameter and center point", "body": "<p>These are very simple inputs and I got the correct center point and diameter from the algorithm called Crystal-Pierce. <em>Center point</em> is <em>0,0</em> and <em>diameter</em> is <em>2.82...</em>. \nUltimate goal is to draw the circle using this on the GmapController, when I tried it with the result, it did not encircle the all convex hull points. \nThinking about this will be drawn on the map, do I have consider any other factors? like how much GMAp is zoomed in?</p>\n\n<p><strong>inputs</strong></p>\n\n<pre><code>1,1\n1,-1\n-1, -1\n-1, 1\n\n</code></pre>\n\n<p><strong>this is the result I am getting</strong></p>\n\n<pre><code>Lat: 0|| Lon: 0|| diameter: 2.82842712474619\na: 1.4142135623731 || b: 0\na: 1.34499702392791 || b: 0.437016024448821\na: 1.14412280563537 || b: 0.831253875554907\na: 0.831253875554907 || b: 1.14412280563537\na: 0.437016024448821 || b: 1.34499702392791\na: 8.65956056235493E-17 || b: 1.4142135623731\na: -0.437016024448821 || b: 1.34499702392791\na: -0.831253875554907 || b: 1.14412280563537\na: -1.14412280563537 || b: 0.831253875554907\na: -1.34499702392791 || b: 0.437016024448821\na: -1.4142135623731 || b: 1.73191211247099E-16\na: -1.34499702392791 || b: -0.437016024448821\na: -1.14412280563537 || b: -0.831253875554907\na: -0.831253875554907 || b: -1.14412280563537\na: -0.437016024448821 || b: -1.34499702392791\na: -2.59786816870648E-16 || b: -1.4142135623731\na: 0.437016024448821 || b: -1.34499702392791\na: 0.831253875554907 || b: -1.14412280563537\na: 1.14412280563537 || b: -0.831253875554907\na: 1.34499702392791 || b: -0.437016024448821\n\n</code></pre>\n\n<p><strong>This is the code for circling</strong></p>\n\n<pre><code>static void Main (string[] args) {\n            PlaceOfInterest p1 = new PlaceOfInterest (1, 1, 1, \"\");\n            PlaceOfInterest p2 = new PlaceOfInterest (1, 1, -1, \"\");\n            PlaceOfInterest p3 = new PlaceOfInterest (1, -1, 1, \"\");\n            PlaceOfInterest p4 = new PlaceOfInterest (1, -1, -1, \"\");\n            PlaceOfInterest p5 = new PlaceOfInterest (1, 0, 0, \"\");\n            // PlaceOfInterest p6 = new PlaceOfInterest (1, 2, 2, \"\");\n            List&lt;PlaceOfInterest&gt; list  = new List&lt;PlaceOfInterest&gt;();\n            list.Add(p1);\n            list.Add(p2);\n            list.Add(p3);\n            list.Add(p4);\n            list.Add(p5);\n             // list.Add(p6);\n            List&lt;PlaceOfInterest&gt; hull = new List&lt;PlaceOfInterest&gt;();\n            hull = ConvexHull.GrahmConvexHull(list);\n            SEC.SmallestEnclosingCircle(hull);\n            double x = SEC.centerPoint.Latitude;\n            double y = SEC.centerPoint.Longitude;\n            double diameter = SEC.diameter;\n            Console.WriteLine(\"Lat: {0}|| Lon: {1}|| diameter: {2}\", x, y, diameter);\n            int segments = 20;\n\n            double seg = Math.PI * 2 / segments;\n            double aspect = 1;\n            for (int i = 0; i &lt; segments; i++)\n            {\n                double theta = seg * i;\n                double radius = SEC.diameter / 2;\n                double a = SEC.centerPoint.Latitude + Math.Cos(theta) * radius* aspect;\n                double b = SEC.centerPoint.Longitude + Math.Sin(theta) * radius;\n                Console.WriteLine(\"a: {0} || b: {1}\", a,b);\n            }\n\n\n\n        }\n\n</code></pre>\n"}, {"tags": ["c#", "scope", "variable-declaration"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1570651835, "post_id": 58311552, "comment_id": 102984381, "body": "You&#39;re re-declaring both variables within both of your nested ifs."}], "answers": [{"comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 2, "creation_date": 1570651878, "post_id": 58311568, "comment_id": 102984391, "body": "The reason why this works is because <code>bool</code> is declaring a new variable, whereas without it you&#39;re just <i>assigning to</i> the variable further up in the scope."}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 3, "last_activity_date": 1570652455, "last_edit_date": 1570652455, "creation_date": 1570651802, "answer_id": 58311568, "question_id": 58311552, "link": "https://stackoverflow.com/questions/58311552/i-have-the-error-cs0136-but-i-cant-find-a-solution/58311568#58311568", "title": "I have the error CS0136, but I can&#39;t find a solution", "body": "<p>It is because you already declared the variables.</p>\n\n<p>Remove the <code>bool</code> from the inner scopes in <code>if</code>:</p>\n\n<pre><code>bool facingLeft = true;\nbool facingRight = false;\n</code></pre>\n\n<p>And add a else between the <code>if</code> to avoid collision.</p>\n\n<p>But perhaps you better want to use differents names to have a better code smell, depending of the goal.</p>\n\n<p><a href=\"http://www.blackwasp.co.uk/CSharpVariableScopes.aspx\" rel=\"nofollow noreferrer\">C# Variable Scopes</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12191208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDXfZkfpLdM-bm7nUBOlKL1HKucMaU7oQfMLUUHOw=k-s128", "display_name": "Joost Krijn Buursink", "link": "https://stackoverflow.com/users/12191208/joost-krijn-buursink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1570652455, "creation_date": 1570651715, "last_edit_date": 1570651899, "question_id": 58311552, "link": "https://stackoverflow.com/questions/58311552/i-have-the-error-cs0136-but-i-cant-find-a-solution", "title": "I have the error CS0136, but I can&#39;t find a solution", "body": "<p>I have an error saying: (error CS0136: A local or parameter named 'facingRight' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter). I'm a kind of new to this so I don't know what it says and I haven't been able to find anything about it online. It would be nice if any of you could help me out here</p>\n\n<p>I'm trying to make an animation flip in Unity, but I don't specifically remember what I've tried</p>\n\n<pre><code>    bool facingRight = true;\n    bool facingLeft = false;\n\n    if (facingRight == true &amp;&amp; facingLeft == false)\n    {\n        if (Input.GetKey(\"a\"))\n        {\n            transform.localScale = new Vector3(-transform.localScale.x, transform.localScale.y, transform.localScale.z);\n            bool facingRight = true;\n            bool facingLeft = false;\n        }\n    }\n\n    if (facingLeft == true &amp;&amp; facingRight == false)\n    {\n        if (Input.GetKey(\"a\"))\n        {\n            transform.localScale = new Vector3(-transform.localScale.x, transform.localScale.y, transform.localScale.z);\n            bool facingLeft = true;\n            bool facingRight = false;\n        }\n    }\n</code></pre>\n\n<p>The expected result is for my animation to turn around when pressing the a key and then when pressing the d key it turns around again.</p>\n"}, {"tags": ["c#", "bitmap", "gdi"], "comments": [{"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1570652008, "post_id": 58311503, "comment_id": 102984429, "body": "If <code>FocusImage</code> is a field in your class, then a) you probably don&#39;t want to initialize it to a <code>new Bitmap</code>, and b) you certainly should <code>Dispose</code> it <i>before</i> assigning <code>screenshot</code> to it."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1570652358, "post_id": 58311503, "comment_id": 102984548, "body": "Do try to be more precise: Instead of tallking about &#39;crashing&#39; tell us the exact error message and the line the causes it along with the error stack! Where exactly are you storing all those images?"}, {"owner": {"reputation": 1, "user_id": 12191133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45badb64f2873254646324159c993b92?s=128&d=identicon&r=PG&f=1", "display_name": "Xynosural", "link": "https://stackoverflow.com/users/12191133/xynosural"}, "edited": false, "score": 0, "creation_date": 1570653827, "post_id": 58311503, "comment_id": 102985143, "body": "FocusImage.Dispose();  FocusImage = screenshot;  Seems todo the trick, sadly I cannot fully test it right now since bedtime, but ill stress test it tomorrow when im back from work."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12191133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45badb64f2873254646324159c993b92?s=128&d=identicon&r=PG&f=1", "display_name": "Xynosural", "link": "https://stackoverflow.com/users/12191133/xynosural"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654671, "creation_date": 1570654671, "answer_id": 58312187, "question_id": 58311503, "link": "https://stackoverflow.com/questions/58311503/c-bitmap-and-graphic-memory-issues-and-storing-screenshots-in-memory/58312187#58312187", "title": "C# Bitmap and Graphic, memory issues and storing screenshots in memory", "body": "<p>The answer came from a comment of GSerg.</p>\n\n<p>Before reassigning the value to FocusImage i had to Dispose it first, this seems to fix the issue, memory is nice and stable at a fixed value.</p>\n\n<p>[Edit] Because someone was so triggered to downvote my question, i got the feeling i know who and why, so here is the response to it:</p>\n\n<p>There were no error messages, it crashed and that was it.\n0 information from visual studio in this regard, i am assuming it was because i ran out of memory at that stage.</p>\n"}], "owner": {"reputation": 1, "user_id": 12191133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45badb64f2873254646324159c993b92?s=128&d=identicon&r=PG&f=1", "display_name": "Xynosural", "link": "https://stackoverflow.com/users/12191133/xynosural"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570654671, "creation_date": 1570651429, "last_edit_date": 1570652086, "question_id": 58311503, "link": "https://stackoverflow.com/questions/58311503/c-bitmap-and-graphic-memory-issues-and-storing-screenshots-in-memory", "title": "C# Bitmap and Graphic, memory issues and storing screenshots in memory", "body": "<p>To start off with, to give a clear picture.</p>\n\n<p>On top of my class I have:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Color FocusArea;\nBitmap FocusImage = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height);\n</code></pre>\n\n<p>and a small function to make screenshots  </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void Screenshot()\n{\n    Bitmap screenshot = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height);\n    Graphics g = Graphics.FromImage(screenshot);\n    g.CopyFromScreen(startscanx, startscany, 0, 0, scanarea, CopyPixelOperation.SourceCopy);\n    g.Dispose();\n    FocusImage = screenshot;\n    //screenshot.Dispose(); // Shit happens when Disposing this one, wtf ?\n}\n</code></pre>\n\n<p>After a minute or so (+- 3 to 6 screenshots per second) the memory has build up to around 4 to 10gb and crashes obviously.</p>\n\n<p>the line it points out when crashing is :</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Bitmap screenshot = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height);\n</code></pre>\n\n<p>I tried to dispose it after putting screenshot in <code>FocusImage</code>, but then it crashes right away when using <code>ForusImage</code> in my application, I guess I am doing something horrible wrong here, I just cannot figure out what yet, I hope you can help me pointing out what I'm doing wrong?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570651243, "post_id": 58311438, "comment_id": 102984174, "body": "Does the leaked memory get freed if you close the form containing the CheckedListBox?"}, {"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570651966, "post_id": 58311438, "comment_id": 102984414, "body": "I&#39;m honestly not sure of the best way to test this! I <i>believe</i> so, but that&#39;s based on Task Manager, which I&#39;ve heard is unreliable."}, {"owner": {"reputation": 511, "user_id": 4713574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f23080a648869aadb2ce61d0a16c15?s=128&d=identicon&r=PG", "display_name": "Rovann Linhalis", "link": "https://stackoverflow.com/users/4713574/rovann-linhalis"}, "edited": false, "score": 0, "creation_date": 1570678807, "post_id": 58311438, "comment_id": 102990712, "body": "enable on task manager, object identifiers column and see how many objects the application have created"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1570714803, "post_id": 58311438, "comment_id": 103007198, "body": "1.3 MB is peanuts, you&#39;re not close to even filling gen#0.  Hunting down <i>unmanaged</i> memory usage is never that simple, bitmaps are the usual cause but I don&#39;t see any.  The more obvious candidate is the Scintilla library wrapper, it is unmanaged code with a friendly C# interface.  If you keep adding lines but never remove any then you&#39;ll inevitably consume more and more memory."}, {"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1570731235, "post_id": 58311438, "comment_id": 103015782, "body": "@HansPassant Peanuts indeed! The total memory, though, is more worrying. I&#39;m simply re-assigning the <code>Scintilla.Text</code> variable to change displayed text, but I may have some other nefarious code lying around with it... I&#39;ll check it out"}, {"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1570825927, "post_id": 58311438, "comment_id": 103051344, "body": "@HansPassant I did just find something of interest in <a href=\"https://github.com/jacobslusser/ScintillaNET/issues/254#issuecomment-227621143\" rel=\"nofollow noreferrer\">this Github issue</a>. He says every time you call <code>get</code> on <code>Scintilla.Text</code>, it allocates a new string. In order to do a lot of operations I reference <code>Scintilla.Text</code>. Could this be it?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1570827764, "post_id": 58311438, "comment_id": 103051939, "body": "No, you only use 1.3 MB"}, {"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "edited": false, "score": 0, "creation_date": 1571691679, "post_id": 58311438, "comment_id": 103317998, "body": "Somewhat interesting update: I used FastColoredTextBox as a drop-in replacement to ScintillaNET and a similar climb in unmanaged memory happened. I&#39;m going to test with a ListBox or something else built-in to see whether that exhibits the same behavior."}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "edited": false, "score": 0, "creation_date": 1570715350, "post_id": 58323153, "comment_id": 103007548, "body": "Thank you for that! I&#39;ll see whether that helps. Out of curiosity, must users typically manually <code>Dispose()</code> events like this? Will the program just increase in memory infinitely without doing this? Also, would I include this bit of code in the constructor for the form? What&#39;s the best practice there? (Sorry for the slew of questions)"}, {"owner": {"reputation": 511, "user_id": 4713574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f23080a648869aadb2ce61d0a16c15?s=128&d=identicon&r=PG", "display_name": "Rovann Linhalis", "link": "https://stackoverflow.com/users/4713574/rovann-linhalis"}, "reply_to_user": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "edited": false, "score": 0, "creation_date": 1570716254, "post_id": 58323153, "comment_id": 103008132, "body": "Usually using () blocks are used, at the end of them the object is discarded, but only used within the specific block. In the case of controls, GarbageCollector does this work, but only when the object will no longer be used (no reference to it anymore). In your case, since there are many controls in a loop, it is best to release them soon or memory will increase until an exception is raised. You can put in the constructor or associate the event in the visual studio design editor (Properties&gt; Events&gt; etc ..)"}, {"owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "edited": false, "score": 0, "creation_date": 1570731080, "post_id": 58323153, "comment_id": 103015716, "body": "I&#39;m coming from Python, so the <code>using()</code> block reminds me of <code>with()</code>!  I&#39;ve added your suggestion from the designer on the <code>ControlRemoved</code> event, saying <code>e.Control.Dispose()</code> in the function, but the same memory usage climb is occurring. However, there are a lot more GC events showing in Process Memory portion of Visual Studio...<a href=\"https://i.imgur.com/5LyB8MZ.png\" rel=\"nofollow noreferrer\">i.imgur.com/5LyB8MZ.png</a>  I also removed the duplicate <code>toAdd</code> variable to no avail.  I&#39;m going to check to see whether I&#39;m misusing the Scintilla control per Hans&#39; comment and report back!"}], "tags": [], "owner": {"reputation": 511, "user_id": 4713574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f23080a648869aadb2ce61d0a16c15?s=128&d=identicon&r=PG", "display_name": "Rovann Linhalis", "link": "https://stackoverflow.com/users/4713574/rovann-linhalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1570711333, "creation_date": 1570711333, "answer_id": 58323153, "question_id": 58311438, "link": "https://stackoverflow.com/questions/58311438/increasing-memory-usage-from-checkedlistbox-is-this-normal/58323153#58323153", "title": "Increasing memory usage from CheckedListBox -- Is this normal?", "body": "<p>On Code:</p>\n\n<pre><code>CheckListItem toAdd = CountMatches(item, splitFileContents);\n    if (toAdd.Display != string.Empty)\n        checkedListBoxMore.Items.Add(CountMatches(item, splitFileContents));\n</code></pre>\n\n<p>You have created <code>toAdd</code> object, but before don't add to check list, you create more one.\nUse same object to add on check list:</p>\n\n<pre><code>CheckListItem toAdd = CountMatches(item, splitFileContents);\n    if (toAdd.Display != string.Empty)\n        checkedListBoxMore.Items.Add(toAdd);\n</code></pre>\n\n<p>You can also free the object from memory, using <code>Dispose</code> method, on <code>ControlRemoved</code> event:</p>\n\n<pre><code>checkedListBoxMore.ControlRemoved += (ss, ee) =&gt; {\n            ee.Control.Dispose();\n        };\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 7770440, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zpFS-Lora0M/AAAAAAAAAAI/AAAAAAAAAW8/x6ZpQUf6ldw/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/7770440/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570711333, "creation_date": 1570651102, "last_edit_date": 1570654659, "question_id": 58311438, "link": "https://stackoverflow.com/questions/58311438/increasing-memory-usage-from-checkedlistbox-is-this-normal", "title": "Increasing memory usage from CheckedListBox -- Is this normal?", "body": "<p>I'm developing a C# tool to assist me in analyzing log files for my work, and I'm using Winforms to create the interface. I've noticed that every time I check or un-check an item in a <code>CheckedListBox</code>, the memory usage of my program jumps a bit (a few hundred kilobytes at most). Repeatedly checking and unchecking items causes the program to climb in memory usage from something like 50MB to 150MB, and it just keeps rising from there. </p>\n\n<p>I've monitored the memory usage through Visual Studio's profiling tools, dotMemory, and Task Manager. Each confirms that the memory is climbing, but I'm not sure why.</p>\n\n<p>Here's dotMemory:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0EWSm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0EWSm.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am unable to locate the \"leak\" in my code, so I tested checking / unchecking a blank Winform with a number of identical items in a <code>CheckedListBox</code> and noticed that the <strong>memory climbs similarly</strong> (albeit to a lesser degree)!</p>\n\n<p>I'm obviously a novice when it comes to C# and memory management. I'm not sure whether this is something that I should be worried about, or whether I'm being impatient with the garbage collector. Though the problem appears to be un-managed memory... </p>\n\n<p>The full <strike>spaghetti</strike> source is <a href=\"https://github.com/Naught0/LogMeIn-Log-Analyzer\" rel=\"nofollow noreferrer\">here</a> if you're at all interested.</p>\n"}, {"tags": ["c#", "excel", "epplus"], "comments": [{"owner": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "edited": false, "score": 0, "creation_date": 1570650872, "post_id": 58311256, "comment_id": 102984022, "body": "Two questions - are you sure the .xlsm shouldn&#39;t be .xlsx? And, where does ExcelPackage come from?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570650875, "post_id": 58311256, "comment_id": 102984024, "body": "Are you sure it&#39;s valid XLSM file to start with?  Try making a copy of the file, rename the extension to .zip. Is it a valid zip file? Can you unzip it and go into it? What happens if you create a brand new XLSM file with Excel, and save it, and then try to open it with EPPlus?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "edited": false, "score": 1, "creation_date": 1570650910, "post_id": 58311256, "comment_id": 102984042, "body": "@n8wrl XLSX is a macro enabled Excel file. ExcelPackage comes from the EPPlus library, which is tagged in the question."}, {"owner": {"reputation": 173, "user_id": 11908993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oqCsciqzOp4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzP6HAPTn_eoxvHrTI-9kXuNOsfQ/photo.jpg?sz=128", "display_name": "drkmtr", "link": "https://stackoverflow.com/users/11908993/drkmtr"}, "edited": false, "score": 0, "creation_date": 1570650931, "post_id": 58311256, "comment_id": 102984050, "body": "Does it still fail if you hardcode the file path?"}, {"owner": {"reputation": 55, "user_id": 5718130, "user_type": "registered", "profile_image": "https://graph.facebook.com/544235245727465/picture?type=large", "display_name": "Michal Rickwood", "link": "https://stackoverflow.com/users/5718130/michal-rickwood"}, "reply_to_user": {"reputation": 18731, "user_id": 37710, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/80b9bce2ab2ae2602d75894c966b4fa5?s=128&d=identicon&r=PG", "display_name": "n8wrl", "link": "https://stackoverflow.com/users/37710/n8wrl"}, "edited": false, "score": 0, "creation_date": 1570651311, "post_id": 58311256, "comment_id": 102984206, "body": "@n8wrl Why should it need to be .xlsx? ExcelPackage is from the EPPPlus library"}, {"owner": {"reputation": 55, "user_id": 5718130, "user_type": "registered", "profile_image": "https://graph.facebook.com/544235245727465/picture?type=large", "display_name": "Michal Rickwood", "link": "https://stackoverflow.com/users/5718130/michal-rickwood"}, "reply_to_user": {"reputation": 173, "user_id": 11908993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oqCsciqzOp4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzP6HAPTn_eoxvHrTI-9kXuNOsfQ/photo.jpg?sz=128", "display_name": "drkmtr", "link": "https://stackoverflow.com/users/11908993/drkmtr"}, "edited": false, "score": 0, "creation_date": 1570651322, "post_id": 58311256, "comment_id": 102984211, "body": "@drkmtr I just tried putting in one of the paths as static and it still failed"}, {"owner": {"reputation": 55, "user_id": 5718130, "user_type": "registered", "profile_image": "https://graph.facebook.com/544235245727465/picture?type=large", "display_name": "Michal Rickwood", "link": "https://stackoverflow.com/users/5718130/michal-rickwood"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570651326, "post_id": 58311256, "comment_id": 102984213, "body": "@mason I have a unedited version of all the files and they are fine. No problem with opening them."}, {"owner": {"reputation": 173, "user_id": 11908993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oqCsciqzOp4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzP6HAPTn_eoxvHrTI-9kXuNOsfQ/photo.jpg?sz=128", "display_name": "drkmtr", "link": "https://stackoverflow.com/users/11908993/drkmtr"}, "edited": false, "score": 0, "creation_date": 1570651629, "post_id": 58311256, "comment_id": 102984308, "body": "If the sheet at this position in the index exists I&#39;m out of ideas, I think if it was me I&#39;d look at creating a new file in code, writing to a single cell... then gradually working this code in step-by-step."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1570652323, "post_id": 58311256, "comment_id": 102984536, "body": "Download the OpenXML Productivity Tool from the Microsoft site.  It has an option to check the validity of a file and point out errors"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1570652840, "post_id": 58311256, "comment_id": 102984746, "body": "<code>EPPlus</code> doesn&#39;t support <code>XLSM</code>. You&#39;ll need to go another path: <a href=\"https://stackoverflow.com/questions/11175343/convert-xlsm-to-xlsx\" title=\"convert xlsm to xlsx\">stackoverflow.com/questions/11175343/convert-xlsm-to-xlsx</a>"}, {"owner": {"reputation": 55, "user_id": 5718130, "user_type": "registered", "profile_image": "https://graph.facebook.com/544235245727465/picture?type=large", "display_name": "Michal Rickwood", "link": "https://stackoverflow.com/users/5718130/michal-rickwood"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1570653976, "post_id": 58311256, "comment_id": 102985204, "body": "@Sach I used it to edit xlsm files."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1570654219, "post_id": 58311256, "comment_id": 102985306, "body": "You can edit but since EPPlus doesn&#39;t handle it properly, when saving it corrupts the file. Try doing the same thing but use <code>.xlsx</code> extension and it&#39;ll work."}], "owner": {"reputation": 55, "user_id": 5718130, "user_type": "registered", "profile_image": "https://graph.facebook.com/544235245727465/picture?type=large", "display_name": "Michal Rickwood", "link": "https://stackoverflow.com/users/5718130/michal-rickwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570650780, "creation_date": 1570650355, "last_edit_date": 1570650780, "question_id": 58311256, "link": "https://stackoverflow.com/questions/58311256/file-wont-open-after-saving", "title": "File wont open after saving", "body": "<p>I have some code that is suppose to enter some values into several excel workbooks. Right now the program doesn't even put any values into the workbooks and only saves them. Even like this i get this error when opening the files: Excel cannot open the file **.xlsm because the file format or file extension is not valid. Verify that the file has been corrupted and that the file extension matches the format of the file. </p>\n\n<p>I have writen many programs that work with excel files and never had this problem. In the code you can see that i basically just go through a for loop and save the file.</p>\n\n<pre><code>try\n{\n   fileInfo = new FileInfo(Path.GetDirectoryName(Application.StartupPath) + '\\\\' + partners[partner].partnerName + @\"\\PDP_ExSumm_\" + partners[partner].partnerName + \".xlsm\");\n   using (ExcelPackage excelPackage = new ExcelPackage(fileInfo))\n   {\n         ExcelWorksheet worksheet = excelPackage.Workbook.Worksheets[1];\n         for (int cell = 0; cell &lt; ExSummCells.Count; cell++)\n         {\n             if (ExSummCells[cell] != \"\")\n             {\n             // worksheet.Cells[ExSummCells[cell]].Value = partners[partner].exSummData[partner];\n             }\n   excelPackage.Save();\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 2, "creation_date": 1570650504, "post_id": 58311193, "comment_id": 102983890, "body": "What does the value of <code>time</code> look like when you&#39;re debugging?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1570651885, "post_id": 58311193, "comment_id": 102984396, "body": "The variable <code>time</code> in your code appears to be a SQL query rather than a date string. I&#39;m guessing what you really intended was to use the <i>result</i> of that query rather than the query itself - see Caius&#39; answer below for the simplest way to achieve that."}, {"owner": {"reputation": 1, "user_id": 8442052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fb4d25909877670877be3a33a169c1?s=128&d=identicon&r=PG&f=1", "display_name": "wsmith42", "link": "https://stackoverflow.com/users/8442052/wsmith42"}, "edited": false, "score": 0, "creation_date": 1570652504, "post_id": 58311193, "comment_id": 102984596, "body": "Oh okay. yea i am meaning to use the result instead of the query. and okay thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1570652038, "last_edit_date": 1570652038, "creation_date": 1570651186, "answer_id": 58311455, "question_id": 58311193, "link": "https://stackoverflow.com/questions/58311193/how-to-properly-convert-query-into-datetime-in-asp-net/58311455#58311455", "title": "How to properly convert query into DateTime in asp.net?", "body": "<p>Just try to read the value as a <strong>proper, native</strong> <code>DateTime</code> type like this (assuming that the <code>DATE</code> column in SQL Server is in fact a <code>DATETIME</code> or similar datatype - not a string - hopefully!):</p>\n\n<pre><code>using (SqlDataReader timereader = timecommand.ExecuteReader())\n{\n    while (timereader.Read())\n    {\n        // just read the DateTime value as such\n        DateTime dt = timereader.GetDateTime(0);\n\n        // then do whatever you need to do with this DateTime value .....\n    }\n    connection.Close();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8442052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fb4d25909877670877be3a33a169c1?s=128&d=identicon&r=PG&f=1", "display_name": "wsmith42", "link": "https://stackoverflow.com/users/8442052/wsmith42"}, "edited": false, "score": 1, "creation_date": 1570652815, "post_id": 58311476, "comment_id": 102984736, "body": "Huh that is interesting. Ive never heard of Dapper. Probably because im fairly new. But i will definitely look into it!"}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": false, "score": 2, "last_activity_date": 1570651934, "last_edit_date": 1570651934, "creation_date": 1570651313, "answer_id": 58311476, "question_id": 58311193, "link": "https://stackoverflow.com/questions/58311193/how-to-properly-convert-query-into-datetime-in-asp-net/58311476#58311476", "title": "How to properly convert query into DateTime in asp.net?", "body": "<p>Your query selects a single value. Use ExecuteScalar and cast it to a DateTime (it's already a DateTime, but boxed inside an <code>object</code>):</p>\n\n<pre><code>string time = \"Select top(1) DATE from SERVICE order by DATE desc\"; \n\nSqlCommand command = new SqlCommand(time, connection);\nconnection.Open();\nDateTime d = (DateTime)command.ExecuteScalar();\nconnection.Close();\n</code></pre>\n\n<p>After you do this, and before you embark on some long mission of this protracted way of getting data out of a database, converting it to objects for use in your app etc, take a look at least at an ORM called Dapper, if not Entity Framework. Dapper's basically what you're doing now, but it auto converts your queries to objects and back and saves a lot of tedious code. With Dapper it'd look more like:</p>\n\n<pre><code>using (var connection = new SqlConnection(\"connstr\"))\n{   \n  var d = connection.QuerySingle&lt;DateTime&gt;(\"SELECT TOP 1 Date FROM ...\");\n}\n</code></pre>\n\n<p>Yes, it's not much of a saving over what you have now, right? But what if you have a list of Order that themselves have 20 properties:</p>\n\n<pre><code>using (var connection = new SqlConnection(\"connstr\"))\n{   \n  var orders = connection.Query&lt;Order&gt;(\"SELECT * FROM order WHERE customerID = @custid\", new {custid = 123}).ToList();\n}\n</code></pre>\n\n<p>Orders is now a list of Order objects for customer 123, parameterized, injection safe, quick and a one liner to read and populate your orders; doing that in a datareader is going to take at least 25 lines of boring code</p>\n\n<p><a href=\"http://dapper-tutorial.net\" rel=\"nofollow noreferrer\">http://dapper-tutorial.net</a> and spend 2 minutes reading; I'll lay bets you'll be glad you did</p>\n"}], "owner": {"reputation": 1, "user_id": 8442052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fb4d25909877670877be3a33a169c1?s=128&d=identicon&r=PG&f=1", "display_name": "wsmith42", "link": "https://stackoverflow.com/users/8442052/wsmith42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1570652038, "creation_date": 1570650052, "last_edit_date": 1570651056, "question_id": 58311193, "link": "https://stackoverflow.com/questions/58311193/how-to-properly-convert-query-into-datetime-in-asp-net", "title": "How to properly convert query into DateTime in asp.net?", "body": "<p>In my app, I am trying to grab a date from the database and compare it against local time. Right now I am getting an error when I am converting to date incorrectly.</p>\n\n<p>I have tried:</p>\n\n<ul>\n<li><code>Convert.ToDateTime()</code></li>\n<li><code>DateTime.ParseExact()</code></li>\n</ul>\n\n<p>My code:</p>\n\n<pre><code>string time = \"Select top(1) DATE from SERVICE order by DATE desc\"; \n\nSqlCommand command = new SqlCommand(time, connection);\nconnection.Open();\n\nusing (SqlDataReader timereader = timecommand.ExecuteReader())\n{\n    while (timereader.Read())\n    {\n        if (DateTime.ParseExact(time, \"yyyy-MM-dd HH:mm:ss\", null).AddMinutes(10) &gt; currenttime)\n        {\n            // code\n        }\n    }\n    connection.Close();\n}\n</code></pre>\n\n<p>I am hoping when I retrieve this value from the database, I can convert it into a proper <code>datetime</code> value and compare against local time and run other code after that.</p>\n\n<p>At the moment I am just getting this error: </p>\n\n<blockquote>\n  <p>The string was not recognized as a valid DateTime. There is an unknown word starting at index 0.</p>\n</blockquote>\n\n<p>I'm probably just dumb and missing something obvious..</p>\n"}, {"tags": ["c#", "unit-testing", ".net-core"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1570650172, "post_id": 58311146, "comment_id": 102983762, "body": "Do you mean make an instance of <code>access</code> a constant or do you mean create a constant inside the <code>access</code> type?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1570650217, "post_id": 58311146, "comment_id": 102983777, "body": "From the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/const\" rel=\"nofollow noreferrer\">documentation</a>: &quot;Constants can be numbers, Boolean values, strings, or a null reference&quot; (<i>in case you were wanting to create an instance of <code>access</code> a constant</i>)"}, {"owner": {"reputation": 5, "user_id": 7101553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lnNjoq4BsB8/AAAAAAAAAAI/AAAAAAAABUY/YayawlqZ4ac/photo.jpg?sz=128", "display_name": "user215", "link": "https://stackoverflow.com/users/7101553/user215"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1570650602, "post_id": 58311146, "comment_id": 102983919, "body": "Edited my question to show what i am looking for. I mean I want to restrict creating an object to that class other then my list"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1570650872, "post_id": 58311146, "comment_id": 102984021, "body": "A constant value is a compile time substitution of value. So what actually happens at compile time is that any where you reference <code>user.ID</code> in your code it will be replaced with <code>1</code> so if you look at the compiled IL code you will see <code>1</code> and not <code>user.ID</code> in those locations. Apply that to what you are now asking..."}, {"owner": {"reputation": 5, "user_id": 7101553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lnNjoq4BsB8/AAAAAAAAAAI/AAAAAAAABUY/YayawlqZ4ac/photo.jpg?sz=128", "display_name": "user215", "link": "https://stackoverflow.com/users/7101553/user215"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1570652240, "post_id": 58311146, "comment_id": 102984512, "body": "@Igor Thank you for your explanation. The documentation is really helpful."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7101553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lnNjoq4BsB8/AAAAAAAAAAI/AAAAAAAABUY/YayawlqZ4ac/photo.jpg?sz=128", "display_name": "user215", "link": "https://stackoverflow.com/users/7101553/user215"}, "edited": false, "score": 0, "creation_date": 1570652211, "post_id": 58311499, "comment_id": 102984502, "body": "Thank you it worked.I had to make the list static readonly in order to access it from other classes. If not, i am getting &quot;An object reference is required for the non-static field, method, or property&quot; error."}, {"owner": {"reputation": 617, "user_id": 9595496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpsxC.gif?s=128&g=1", "display_name": "MikeLimaSierra", "link": "https://stackoverflow.com/users/9595496/mikelimasierra"}, "reply_to_user": {"reputation": 5, "user_id": 7101553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lnNjoq4BsB8/AAAAAAAAAAI/AAAAAAAABUY/YayawlqZ4ac/photo.jpg?sz=128", "display_name": "user215", "link": "https://stackoverflow.com/users/7101553/user215"}, "edited": false, "score": 0, "creation_date": 1571999236, "post_id": 58311499, "comment_id": 103432717, "body": "@vanis if this answer solved your problem then please accept it to help others find the solution faster."}], "tags": [], "owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "is_accepted": false, "score": 1, "last_activity_date": 1570651398, "creation_date": 1570651398, "answer_id": 58311499, "question_id": 58311146, "link": "https://stackoverflow.com/questions/58311146/how-to-declare-class-variables-as-constants/58311499#58311499", "title": "How to declare class variables as constants", "body": "<p>Well, you could mark the fields as <code>readonly</code>, and supply a constructor:</p>\n\n<pre><code>public class access\n{\n    public readonly Boolean edit;\n    public readonly Boolean delete;\n    public readonly int siteid;\n    public access(Boolean e, Boolean d, int s)\n    {\n        edit = e;\n        delete = d;\n        sideid = s;\n    }\n}\n</code></pre>\n\n<p>And then in your <code>user</code> class:</p>\n\n<pre><code>public readonly List&lt;access&gt; p  = new List&lt;access&gt;(){\n    new access(true, true, 123),\n    new access(true, false, 234)\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7101553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lnNjoq4BsB8/AAAAAAAAAAI/AAAAAAAABUY/YayawlqZ4ac/photo.jpg?sz=128", "display_name": "user215", "link": "https://stackoverflow.com/users/7101553/user215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570652835, "creation_date": 1570649839, "last_edit_date": 1570652835, "question_id": 58311146, "link": "https://stackoverflow.com/questions/58311146/how-to-declare-class-variables-as-constants", "title": "How to declare class variables as constants", "body": "<p>I am new to writing unit test files in .Net Core. I have a constant file where I need to create a list of objects for a class.</p>\n\n<p>Below code is working. </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class user\n{\n    public const Int ID = \"1\";\n    public const String Name = \"FakeUserId1\";\n    public readonly List&lt;access&gt; p  = new List&lt;access&gt;(){\n        new access {\n            edit = true,\n            edit = true,\n            siteid = 123\n        },\n        new access {\n            edit = true,\n            edit = false,\n            siteid = 234\n        }\n    };\n}\n\npublic class access\n{\n    public Boolean edit;\n    public Boolean delete;\n    public int siteid;\n}\n</code></pre>\n\n<p>Is it possible to declare access class variables as constants and initialize them in the list?</p>\n\n<p>Something like this</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class access\n{\n  public const Boolean edit;\n  public const  Boolean delete;\n  public const int siteid;\n}\n</code></pre>\n"}, {"tags": ["c#", "string", "format-string"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1570649922, "post_id": 58311139, "comment_id": 102983659, "body": "Can you describe more in details of the problem you are facing?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1570649985, "post_id": 58311139, "comment_id": 102983688, "body": "You don&#39;t have a placeholder for the string <code>tank.GetDisplayString()</code>. Try <code>string output = string.Format(&quot;MK: {0} MDL: {1} WGT: {2} CLR: {3} MPG: {4} {5}&quot;,                 make, model, weight, color, mpg, tank.GetDisplayString());</code>"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1570650025, "post_id": 58311139, "comment_id": 102983700, "body": "It seems that you are passing 6 additional parameters to the <code>string.Format</code>, but you are only using <code>{0]</code> to <code>{4}</code> missing <code>{5}</code>."}, {"owner": {"reputation": 5, "user_id": 12055696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e57d6749a2917534b6547f7ea8c49f0?s=128&d=identicon&r=PG&f=1", "display_name": "Minh Phan", "link": "https://stackoverflow.com/users/12055696/minh-phan"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1570650099, "post_id": 58311139, "comment_id": 102983735, "body": "@Ruzihm THANK YOU SO MUCH. That would&#39;ve been the last thing I would&#39;ve tried. I was definitely making the problem way more complicated than it needed to be."}, {"owner": {"reputation": 96, "user_id": 4866314, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xHHj-_kI1WE/AAAAAAAAAAI/AAAAAAAAASk/Qm4jDdPBbyM/photo.jpg?sz=128", "display_name": "Di&#243;genes Fran&#231;a", "link": "https://stackoverflow.com/users/4866314/di%c3%b3genes-fran%c3%a7a"}, "edited": false, "score": 0, "creation_date": 1570650140, "post_id": 58311139, "comment_id": 102983750, "body": "Can you explain better in which method is the issue? From where this variables (make, model, weight, color, mpg, tank.GetDisplayString()) come? Is tank a object of the type GasTank? How is it instantiated?"}], "answers": [{"tags": [], "owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1570651305, "creation_date": 1570651305, "answer_id": 58311474, "question_id": 58311139, "link": "https://stackoverflow.com/questions/58311139/how-do-i-call-a-string-thats-displayed-within-a-method-into-another-class/58311474#58311474", "title": "How do I call a string thats displayed within a method into another class?", "body": "<p>Your problem is bad design. Class should have as least responsibilities as possible, so displaying itself to user shouldn't be one of them.</p>\n\n<p>Also, in <code>Vehicle.Display</code> method, you don't use <code>tank.GetDisplayString()</code></p>\n\n<p>Also you have \"display\" methods, which are unnecessary, i.e. <code>ToString</code> method, inherited from <code>object</code> should return \"string presentation\" of your object, so you should override it.</p>\n\n<p>I suggest cleaner approach:</p>\n\n<p>Vehicle</p>\n\n<pre><code>public override string ToString()\n{\n    // where tank.ToString() should go? It is not used here...\n    return string.Format(\"MK: {0} MDL: {1} WGT: {2} CLR: {3} MPG: {4} \",\n        make, model, weight, color, mpg, tank.ToString());\n    // also you can use interpolated string\n    // return $\"MK: {make} MDL: {model} WGT: {weight} CLR: {color} MPG: {mpg} \";\n}\n</code></pre>\n\n<p>GasTank</p>\n\n<pre><code>public override string ToString()\n{\n    return string.Format(\"TANK: Cap: {0} LEVEL: {1}\", tankCapacity, tankLevel);\n}\n\npublic void display()\n{\n   System.Console.WriteLine(GetDisplayString());\n}\n</code></pre>\n\n<p>Then, to display your classes, you can use simply:</p>\n\n<pre><code>Console.WriteLine(myVahicle.ToString());\nConsole.WriteLine(myGasTank.ToString());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "is_accepted": false, "score": 0, "last_activity_date": 1570651335, "creation_date": 1570651335, "answer_id": 58311481, "question_id": 58311139, "link": "https://stackoverflow.com/questions/58311139/how-do-i-call-a-string-thats-displayed-within-a-method-into-another-class/58311481#58311481", "title": "How do I call a string thats displayed within a method into another class?", "body": "<p>The <code>string.Format</code>'s format string, in your <code>Vehicle</code> class's display method, is missing the 5th argument symbol, <code>{5}</code>. To fix this you can either just append <code>{5}</code> to the format string:</p>\n\n<pre><code>string output = string.Format(\"MK: {0} MDL: {1} WGT: {2} CLR: {3} MPG: {4} {5}\",\n                make, model, weight, color, mpg, tank.GetDisplayString());\n</code></pre>\n\n<p>add it separately:</p>\n\n<pre><code>string output = string.Format(\"MK: {0} MDL: {1} WGT: {2} CLR: {3} MPG: {4} \",\n                make, model, weight, color, mpg) + tank.GetDisplayString();\n</code></pre>\n\n<p>or format it using <code>$</code>:</p>\n\n<pre><code>string output = $\"MK: {make} MDL: {model} WGT: {weight} CLR: {color} MPG: {mpg} {tank.GetDisplayString()}\"; //This is the same as string.Format just a bit more condensed\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12055696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e57d6749a2917534b6547f7ea8c49f0?s=128&d=identicon&r=PG&f=1", "display_name": "Minh Phan", "link": "https://stackoverflow.com/users/12055696/minh-phan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1570651359, "creation_date": 1570649809, "last_edit_date": 1570651359, "question_id": 58311139, "link": "https://stackoverflow.com/questions/58311139/how-do-i-call-a-string-thats-displayed-within-a-method-into-another-class", "title": "How do I call a string thats displayed within a method into another class?", "body": "<p>I am having trouble displaying a method that contains a string into a different class.</p>\n\n<p>Main Program </p>\n\n<pre><code> Vehicle car = new Vehicle(\"Toyota\", \"Camry\", 500, \"Red\", 30, 3, 2);\n            car.Display();\n</code></pre>\n\n<p>Vehicle </p>\n\n<pre><code>public void Display()\n{\n    string output = string.Format(\"MK: {0} MDL: {1} WGT: {2} CLR: {3} MPG: {4} \",\n                make, model, weight, color, mpg, tank.GetDisplayString());\n\n    System.Console.WriteLine(output);\n}\n</code></pre>\n\n<p>GasTank</p>\n\n<pre><code>public string GetDisplayString()\n{\n    string output = string.Format(\"TANK: Cap: {0} LEVEL: {1}\", tankCapacity, tankLevel);\n\n    return output;  \n}\n\npublic void display()\n{\n    System.Console.WriteLine(GetDisplayString());\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "unity3d-editor", "unity-editor"], "answers": [{"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 1, "last_activity_date": 1570652245, "last_edit_date": 1570652245, "creation_date": 1570650392, "answer_id": 58311269, "question_id": 58311086, "link": "https://stackoverflow.com/questions/58311086/why-in-editorwindow-i-dont-see-anymore-the-save-load-buttons-and-there-is-no-bu/58311269#58311269", "title": "Why in editorwindow I don&#39;t see anymore the save/load buttons and there is no button to select prefab at the EditorGUI.ObjectField?", "body": "<blockquote>\n  <p>There should be a small dot near the field</p>\n</blockquote>\n\n<p>On the right edge of your picture you can still see the \"dot\" you are missing. It is simply too far on the right!</p>\n\n<hr>\n\n<p>That is caused by you using <code>EditorGUI.ObjectField</code> with a fixed <code>Rect</code> for its position and size that simply doesn't fit into the window size. Mostly it is caused by</p>\n\n<pre><code>position.width - 1\n</code></pre>\n\n<p>this <code>- 1</code> gives you 1 pixel .. which is the 1 pixel of the dot you can see in your Screenshot. You <strong>could</strong> use </p>\n\n<pre><code>position.width - 10\n</code></pre>\n\n<p>so you can see the full dot. (I would then also recommend to not use <code>20</code> for the field height but rather <code>EditorGUIUtility.singleLineHeight</code>).</p>\n\n<p>so like</p>\n\n<pre><code>source = (GameObject)EditorGUI.ObjectField(new Rect(10, 30, position.width - 10, EditorGUIUtility.singleLineHeight), \"Select Prefab\", source, typeof(GameObject), true);\n</code></pre>\n\n<p>However this will still behave strange once the width gets actually smaller then the x position of the field. Also note that you can't mix <code>EditorGUI</code> and <code>GUILayout</code> .. your buttons would be displayed on top of the <code>ObjectField</code>. So you would also need to use <code>GUI.Button</code> with accordingly calculated <code>Rect</code>s .. I wouldn't recommend it.</p>\n\n<hr>\n\n<p>Instead you should rather simply use the <a href=\"https://docs.unity3d.com/ScriptReference/EditorGUILayout.ObjectField.html\" rel=\"nofollow noreferrer\"><code>EditorGUILayout</code></a> variant which uses the automatic Inspector Layout</p>\n\n<pre><code>source = (GameObject)EditorGUILayout.ObjectField(\"Select Prefab\", source, typeof(GameObject), true);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Fi76i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fi76i.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mGRy2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGRy2.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<blockquote>\n  <p>The ObjectField the text description and the field too far from each other.</p>\n</blockquote>\n\n<p>The distance between the automatic label and the field could be changed by using <a href=\"https://docs.unity3d.com/ScriptReference/EditorGUIUtility-labelWidth.html\" rel=\"nofollow noreferrer\"><code>EditorGUIUtility.labelWidth</code></a> and set a shorter width (you'll either have to calculate it or find the best one via trial and error) e.g.</p>\n\n<pre><code>EditorGUIUtility.labelWidth = 80;\nsource = (GameObject)EditorGUILayout.ObjectField(\"Select Prefab\", source, typeof(GameObject), true);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XsJq9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XsJq9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note however that this will apply to the entire EditorWindow not only that specific field because usually you want all your fields start aligned.</p>\n\n<p>Or alternatively if you don't want to affect all fields you can do what apparently you tried already and use <code>BeginHorizontal</code> and <code>EndHorizontal</code> and move the label to a <code>LabelField</code> with fixed width</p>\n\n<pre><code>EditorGUILayout.BeginHorizontal();\nEditorGUILayout.LabelField(\"Select Prefab\", GUILayout.Width(80));\nsource = (GameObject)EditorGUILayout.ObjectField(source, typeof(GameObject), true, GUILayout.ExpandWidth(true));\nEditorGUILayout.EndHorizontal();\n</code></pre>\n\n<p>Note here, however, that this label is no longer \"linked\" to the field &rightarrow; it won't turn blue when the field is selected nor bold when it is changed.</p>\n\n<hr>\n\n<p>Finally to</p>\n\n<blockquote>\n  <p>The save/load buttons not show. </p>\n</blockquote>\n\n<p>the code says</p>\n\n<pre><code>if (Selection.transforms.Length &gt; 0)\n</code></pre>\n\n<p>so my guess is that you don't have anything selected <strong>in the Scene</strong> </p>\n\n<p>see <a href=\"https://docs.unity3d.com/ScriptReference/Selection-transforms.html\" rel=\"nofollow noreferrer\"><code>Selection.transforms</code></a></p>\n\n<blockquote>\n  <p>Returns the top level selection, <strong>excluding Prefabs</strong>.</p>\n  \n  <p>This is the most common selection type when working with <strong>Scene objects</strong>.</p>\n</blockquote>\n\n<p>once you have it should work just fine:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5x4Y1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5x4Y1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 58311269, "answer_count": 1, "score": 0, "last_activity_date": 1570716574, "creation_date": 1570649583, "last_edit_date": 1570716574, "question_id": 58311086, "link": "https://stackoverflow.com/questions/58311086/why-in-editorwindow-i-dont-see-anymore-the-save-load-buttons-and-there-is-no-bu", "title": "Why in editorwindow I don&#39;t see anymore the save/load buttons and there is no button to select prefab at the EditorGUI.ObjectField?", "body": "<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEditor;\nusing UnityEngine;\n\npublic class SaveTransformsInfo : EditorWindow\n{\n    public GameObject source;\n\n    [MenuItem(\"Tools/Save Transforms\")]\n    private static void CreateReplaceWithPrefab()\n    {\n        const int width = 340;\n        const int height = 420;\n\n        var x = (Screen.currentResolution.width - width) / 2;\n        var y = (Screen.currentResolution.height - height) / 2;\n\n        GetWindow&lt;SaveTransformsInfo&gt;().position = new Rect(x, y, width, height);\n    }\n\n    private void OnGUI()\n    {\n        //EditorGUILayout.BeginHorizontal();\n        source = (GameObject)EditorGUI.ObjectField( new Rect(10, 30, position.width - 1, 20),\n            \"Select Prefab\", source, typeof(GameObject), true);\n        //EditorGUILayout.EndHorizontal();\n\n        if (Selection.transforms.Length &gt; 0)\n        {\n            if (GUILayout.Button(\"Save Transforms\"))\n            {\n                TransformSaver.SaveTransform(Selection.transforms);\n            }\n\n            if (GUILayout.Button(\"Load Transforms\"))\n            {\n                TransformSaver.LoadTransform(true, source, false, \"\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Screenshot :</p>\n\n<p><a href=\"https://i.stack.imgur.com/QaedK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QaedK.jpg\" alt=\"Mess\"></a></p>\n\n<p>The save/load buttons not show. </p>\n\n<p>The ObjectField the text description and the field too far from each other.</p>\n\n<p>I can't select a prefab or a gameobject. There should be a small dot near the field pressing on it should open a window with all prefabs/gameobjects.</p>\n\n<p>How can I organize all that ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y1fKQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1fKQ.jpg\" alt=\"Doors\"></a></p>\n"}, {"tags": ["c#", "smartsheet-api"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11399463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9021df8dc5225a51341bd37f41094540?s=128&d=identicon&r=PG&f=1", "display_name": "Mike H", "link": "https://stackoverflow.com/users/11399463/mike-h"}, "edited": false, "score": 0, "creation_date": 1571313406, "post_id": 58415271, "comment_id": 103204632, "body": "Hi - thanks for the response.  I am a System Admin.  Does anyone know what the syntax would be for retrieving Last Login?"}], "tags": [], "owner": {"reputation": 186, "user_id": 4898170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e43b48c52b02e62aad45a76daa1a3cd?s=128&d=identicon&r=PG&f=1", "display_name": "Etienne Mermillod", "link": "https://stackoverflow.com/users/4898170/etienne-mermillod"}, "is_accepted": false, "score": 0, "last_activity_date": 1571234675, "creation_date": 1571234675, "answer_id": 58415271, "question_id": 58311074, "link": "https://stackoverflow.com/questions/58311074/how-to-retrieve-lastlogin-using-smartsheet-api-and-c/58415271#58415271", "title": "How to retrieve lastLogin using Smartsheet API and c#", "body": "<p>The LastLogin will be included only if : </p>\n\n<pre><code>the request is submitted by a system administrator, and\nthe returned IndexResult object that contains a maximum of 100 User objects.\n</code></pre>\n\n<p>Maybe you're using a regular smartsheet acocunt and not a system admin one.</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 6231188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76051b3a4cb428f22c4f1ab5d4e29b77?s=128&d=identicon&r=PG&f=1", "display_name": "timwells", "link": "https://stackoverflow.com/users/6231188/timwells"}, "is_accepted": false, "score": 0, "last_activity_date": 1571757279, "creation_date": 1571757279, "answer_id": 58507371, "question_id": 58311074, "link": "https://stackoverflow.com/questions/58311074/how-to-retrieve-lastlogin-using-smartsheet-api-and-c/58507371#58507371", "title": "How to retrieve lastLogin using Smartsheet API and c#", "body": "<p>not sure if you ever got an answer to this, but for others looking for a solution: There is an overload to the ListUsers method that takes a list of response <code>includes</code> with the only currently supported value being <code>LAST_LOGIN</code>:</p>\n\n<pre><code>            PaginatedResult&lt;User&gt; usersX = smartsheet.UserResources.ListUsers(null, \n                new List&lt;ListUserInclusion&gt; { ListUserInclusion.LAST_LOGIN },\n                new PaginationParameters(true, null, null));\n\n            foreach (User tmpUser in usersX.Data)\n            {\n                Console.WriteLine(tmpUser.LastLogin); \n            }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11399463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9021df8dc5225a51341bd37f41094540?s=128&d=identicon&r=PG&f=1", "display_name": "Mike H", "link": "https://stackoverflow.com/users/11399463/mike-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571757279, "creation_date": 1570649542, "question_id": 58311074, "link": "https://stackoverflow.com/questions/58311074/how-to-retrieve-lastlogin-using-smartsheet-api-and-c", "title": "How to retrieve lastLogin using Smartsheet API and c#", "body": "<p>I am attempting to pull all user's lastLogin from Smartsheet using c# and the SS API.  The values come back null.  I posted this on Smartsheet Community and someone indicated that I need to add include=lastLogin to my code.  I have reviewed the Smartsheet API code and searched through the web for syntax on this, but have had no luck.  When in C# and I use .ListUsers, the help syntax indicates it only accepts 2 arguments (email, paging), which is all I can find anywhere, too.  Any help is appreciated...thanks.</p>\n\n<p>Smartsheet API code examples: <a href=\"https://smartsheet-platform.github.io/api-docs/#list-users\" rel=\"nofollow noreferrer\">https://smartsheet-platform.github.io/api-docs/#list-users</a></p>\n\n<p>Simplified code that returns null for all lastLogins:</p>\n\n<pre><code>PaginatedResult&lt;User&gt; usersX = smartsheet.UserResources.ListUsers(null, new PaginationParameters(true, null, null));\n\nforeach (User tmpUser in usersX.Data)\n{ Console.WriteLine(tmpUser.LastLogin); }\n</code></pre>\n"}, {"tags": ["c#", ".net", "nexus"], "comments": [{"owner": {"reputation": 1130, "user_id": 4353251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ML8O.png?s=128&g=1", "display_name": "Lorenzo Isidori", "link": "https://stackoverflow.com/users/4353251/lorenzo-isidori"}, "edited": false, "score": 0, "creation_date": 1570692205, "post_id": 58311071, "comment_id": 102994818, "body": "Any error message attached to the BadRequest response?"}, {"owner": {"reputation": 1, "user_id": 1957933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf65d5644fe34d89a8791134c8cb46c8?s=128&d=identicon&r=PG", "display_name": "usman.faruki", "link": "https://stackoverflow.com/users/1957933/usman-faruki"}, "reply_to_user": {"reputation": 1130, "user_id": 4353251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ML8O.png?s=128&g=1", "display_name": "Lorenzo Isidori", "link": "https://stackoverflow.com/users/4353251/lorenzo-isidori"}, "edited": false, "score": 0, "creation_date": 1570723996, "post_id": 58311071, "comment_id": 103012574, "body": "Hi, this is the error I get: {StatusCode: 400, ReasonPhrase: &#39;Bad Request&#39;, Version: 1.1, Content: System.Net.Http.StreamContent, Headers: {   X-Frame-Options: SAMEORIGIN   X-Content-Type-Options: nosniff   Date: Thu, 10 Oct 2019 16:12:33 GMT   Server: Nexus/2.14.12-02   Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V8   Content-Length: 114   Content-Type: text/html; charset=ISO-8859-1 }}"}, {"owner": {"reputation": 1, "user_id": 1957933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf65d5644fe34d89a8791134c8cb46c8?s=128&d=identicon&r=PG", "display_name": "usman.faruki", "link": "https://stackoverflow.com/users/1957933/usman-faruki"}, "reply_to_user": {"reputation": 1130, "user_id": 4353251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ML8O.png?s=128&g=1", "display_name": "Lorenzo Isidori", "link": "https://stackoverflow.com/users/4353251/lorenzo-isidori"}, "edited": false, "score": 1, "creation_date": 1571157882, "post_id": 58311071, "comment_id": 103143937, "body": "So I fixed it myself. There was typo in the repository key in app settings."}], "owner": {"reputation": 1, "user_id": 1957933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf65d5644fe34d89a8791134c8cb46c8?s=128&d=identicon&r=PG", "display_name": "usman.faruki", "link": "https://stackoverflow.com/users/1957933/usman-faruki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570657795, "creation_date": 1570649526, "last_edit_date": 1570657795, "question_id": 58311071, "link": "https://stackoverflow.com/questions/58311071/400-bad-request-when-trying-to-submit-a-post-request-to-upload-artifacts-in-nexu", "title": "400 Bad Request when trying to submit a POST request to upload artifacts in nexus", "body": "<p>I am trying to upload artifacts using .net HttpClient but getting 400 Bad Request. I am giving a zip file in the request content. This is my code.</p>\n\n<p>I was able to do this via the curl command and transformed the curl command to.net code.</p>\n\n<p>curl -v -F r=release-folder -F hasPom=false -F g=release-group -F a=artifact-01 -F v=1.0 -F p=zip -F file=@P:\\test.zip -u username:password <a href=\"https://localhost:80/nexus/service/local/artifact/maven/content\" rel=\"nofollow noreferrer\">https://localhost:80/nexus/service/local/artifact/maven/content</a> --insecure</p>\n\n<p>Please help pinpoint what I am doing wrong here.</p>\n\n<pre><code>var handler = new HttpClientHandler();                        \nusing (var httpClient = new HttpClient(handler))\n{\n    using (var request = new HttpRequestMessage(new HttpMethod(\"POST\"),  \n    ConfigurationManager.AppSettings[\"nexusUrl\"]))\n    {\n        var base64authorization = Convert.ToBase64String \n        (Encoding.ASCII.GetBytes(\"username:password\"));\n        request.Headers.TryAddWithoutValidation(\"Authorization\",   \n$\"Basic   \n    {base64authorization}\");\n\n    var multipartContent = new MultipartFormDataContent();\n    multipartContent.Add(new StringContent \n    (ConfigurationManager.AppSettings[\"repository\"]), \"r\");\n    multipartContent.Add(new StringContent(\"false\"), \"hasPom\");\n    multipartContent.Add(new StringContent \n    (ConfigurationManager.AppSettings[\"group\"]), \"g\");\n    multipartContent.Add(new StringContent(\"artifact-01), \"a\");\n    multipartContent.Add(new StringContent(\"1.0\"), \"v\");\n    multipartContent.Add(new StringContent(\"zip\"), \"p\");\n    multipartContent.Add(new StringContent(\"zip\"), \"e\");\n    multipartContent.Add(new ByteArrayContent(File.ReadAllBytes\n    (@\"P:\\test.zip\")), \"file\", Path.GetFileName(@\"P:\\test.zip\"));\n    request.Content = multipartContent;\n\n    var response = await httpClient.SendAsync \n    (request);                   \n    }                                \n}\n</code></pre>\n"}, {"tags": ["c#", ".net-core", "wsdl", "svcutil.exe"], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 1307126, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/861d9fece72ec64444f57605cab28520?s=128&d=identicon&r=PG", "display_name": "Ahuman", "link": "https://stackoverflow.com/users/1307126/ahuman"}, "is_accepted": false, "score": 1, "last_activity_date": 1570650056, "creation_date": 1570650056, "answer_id": 58311194, "question_id": 58311048, "link": "https://stackoverflow.com/questions/58311048/how-to-combine-multiple-wsdl-proxies-into-one-class-in-net-core/58311194#58311194", "title": "How to combine multiple WSDL proxies into one class in .net core?", "body": "<p>Here is the solution that worked for me. Follow the steps mentioned in this article <a href=\"https://docs.microsoft.com/en-us/dotnet/core/additional-tools/wcf-web-service-reference-guide\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/core/additional-tools/wcf-web-service-reference-guide</a>.</p>\n\n<p>This will generate ConnectedService.json file. Edit that file to include multiple WSDL files like below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\"ExtendedData\": {\r\n    \"inputs\": [\r\n      \"C:/Users/Bogus/Downloads/Bogus1.wsdl\",\r\n      \"C:/Users/Bogus/Downloads/Bogus2.wsdl\"\r\n    ],\r\n    \"collectionTypes\": [\r\n      \"System.Array\",\r\n      \"System.Collections.Generic.Dictionary`2\"\r\n    ],\r\n    \"namespaceMappings\": [\r\n      \"*, Bogus.Namespace\"\r\n    ],</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Once modified, update the service reference by right-clicking the target connected service.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3490048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52bebf000aaf221e5fa17e5418def43?s=128&d=identicon&r=PG&f=1", "display_name": "Sabarinathan Arthanari", "link": "https://stackoverflow.com/users/3490048/sabarinathan-arthanari"}, "is_accepted": false, "score": 1, "last_activity_date": 1594744596, "creation_date": 1594744596, "answer_id": 62899844, "question_id": 58311048, "link": "https://stackoverflow.com/questions/58311048/how-to-combine-multiple-wsdl-proxies-into-one-class-in-net-core/62899844#62899844", "title": "How to combine multiple WSDL proxies into one class in .net core?", "body": "<p>This is based upon @Ahuman answer. But more detailed.</p>\n<p>Step 1: Create single wsdl files for each service from existing WCF services.\nFor example if your Web service address is http://localhost:50286/EcomService.svc you can create your wsdl file form the  http://localhost:50286/EcomService.svc?singleWsdl</p>\n<p>Step2: Create a connected service reference using standard way by selecting one of the generated wsdl file. This will create a ConnectedService.json file under &quot;Connected Services&quot; -&gt; &quot;Your namespace name&quot;</p>\n<p>Step3: Edit the ConnectedService.json file and include additional wsdl files under &quot;inputs&quot;.</p>\n<pre><code>  &quot;ProviderId&quot;: &quot;Microsoft.VisualStudio.ConnectedService.Wcf&quot;,\n  &quot;Version&quot;: &quot;15.0.40203.910&quot;,\n  &quot;ExtendedData&quot;: {\n    &quot;inputs&quot;: [\n      &quot;../../wsdl/EcomService.wsdl&quot;,\n      &quot;../../wsdl/ProfileService.wsdl&quot;\n    ], ...\n</code></pre>\n<p><strong>Disadvantage</strong>: Whenever there is a change in the WCF services, you have to manually generate the wsdl files at your ASP.NET Core project, before updating the Connected Service.</p>\n"}], "owner": {"reputation": 709, "user_id": 1307126, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/861d9fece72ec64444f57605cab28520?s=128&d=identicon&r=PG", "display_name": "Ahuman", "link": "https://stackoverflow.com/users/1307126/ahuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1594744596, "creation_date": 1570649426, "question_id": 58311048, "link": "https://stackoverflow.com/questions/58311048/how-to-combine-multiple-wsdl-proxies-into-one-class-in-net-core", "title": "How to combine multiple WSDL proxies into one class in .net core?", "body": "<p>I have a few WSDL files sharing the same set of classes/types behind with different service contracts. I would like to reuse the types across the service contract proxies. All the examples I find online are related to .net framework, not for .net core.</p>\n\n<p>This documentation helps me to create a proxy for a single WSDL. Not for multiple.\n<a href=\"https://docs.microsoft.com/en-us/dotnet/core/additional-tools/wcf-web-service-reference-guide\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/core/additional-tools/wcf-web-service-reference-guide</a></p>\n"}, {"tags": ["c#", ".net", "ecdh", "kdf"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 12852914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf75d9cc857725b44ebe6c4fd46520c?s=128&d=identicon&r=PG", "display_name": "Muaath", "link": "https://stackoverflow.com/users/12852914/muaath"}, "edited": false, "score": 0, "creation_date": 1613472033, "post_id": 58354400, "comment_id": 117079064, "body": "Don&#39;t put this as answer, Update your question and add this info"}], "tags": [], "owner": {"reputation": 11, "user_id": 12190965, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0LlohunXcTo/AAAAAAAAAAI/AAAAAAAAAAA/Z1HUHtjLSu4/photo.jpg?sz=128", "display_name": "Matze28", "link": "https://stackoverflow.com/users/12190965/matze28"}, "is_accepted": false, "score": 0, "last_activity_date": 1570885102, "creation_date": 1570885102, "answer_id": 58354400, "question_id": 58311046, "link": "https://stackoverflow.com/questions/58311046/ecdh-secp256r1-nist-sp-800-56a-concatenation-kdf-using-net-really-not-possi/58354400#58354400", "title": "ECDH (secp256r1) + NIST SP 800-56A Concatenation KDF using .NET really not possible in C#?", "body": "<p>BTW: I only had an issue with my Test Environment... The Code ist exactly doing what it should and I rechecked with bouncycastle. :)</p>\n\n<p>For those who are also looking for Something like this..</p>\n\n<p>Regards\nMatze </p>\n"}], "owner": {"reputation": 11, "user_id": 12190965, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0LlohunXcTo/AAAAAAAAAAI/AAAAAAAAAAA/Z1HUHtjLSu4/photo.jpg?sz=128", "display_name": "Matze28", "link": "https://stackoverflow.com/users/12190965/matze28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570885102, "creation_date": 1570649422, "question_id": 58311046, "link": "https://stackoverflow.com/questions/58311046/ecdh-secp256r1-nist-sp-800-56a-concatenation-kdf-using-net-really-not-possi", "title": "ECDH (secp256r1) + NIST SP 800-56A Concatenation KDF using .NET really not possible in C#?", "body": "<p>I know that there are similiar questions here but still I didn't find a clear answer. Is it possible to derive the session key with the .NET library with the given concatenation function without using bouncy castle? \nIt seems that there are some differences as I am not getting the same session key on both sides (second part: Embedded implementation). </p>\n\n<p>This is how I am currently trying (TempPubKeySCC is the pubkey in raw uncompressed format which I receive and ECDHtempPublicKey will be sent to the other party):</p>\n\n<pre><code>        byte[] blobMagic = new byte[4] { 0x45, 0x43, 0x4B, 0x31 }; \n        byte[] eccBlob = new byte[8 + 64];\n        byte[] lengthData = new byte[4] { 0x20, 0x0, 0x0, 0x0 };\n\n        Buffer.BlockCopy(blobMagic, 0, eccBlob, 0, 4);\n        Buffer.BlockCopy(lengthData, 0, eccBlob, 4, 4);\n        Buffer.BlockCopy(TempPubKeySCC, 1, eccBlob, 8, 64);\n        CngKey PubKeyBySCC = CngKey.Import(eccBlob, CngKeyBlobFormat.EccPublicBlob);\n\n        byte[] SharedSecret;\n        byte[] ECDHtempPublicKey = new byte[65];\n\n        using (ECDiffieHellmanCng TempECDH = new ECDiffieHellmanCng(ECCurve.NamedCurves.nistP256)) \n        {\n            byte[] secpre = new byte[4] { 0x00, 0x00, 0x00, 0x01 };\n            byte[] secpost = new byte[3] { 0x01, 0x55, 0x56 };\n\n            TempECDH.HashAlgorithm = CngAlgorithm.Sha256;\n            TempECDH.KeyDerivationFunction = ECDiffieHellmanKeyDerivationFunction.Hash;\n            TempECDH.SecretPrepend = secpre;\n            TempECDH.SecretAppend = secpost;\n\n            ECDHtempPublicKey[0] = 0x04;\n            Buffer.BlockCopy(TempECDH.PublicKey.ToByteArray(), 8, ECDHtempPublicKey, 1, 64);\n\n            SharedSecret = TempECDH.DeriveKeyMaterial(PubKeyBySCC);\n        }\n</code></pre>\n\n<p>So my question? Is there something wrong or will I need to invest some time with bouncycastle?\nsecp256r1 &amp; concatenated KDF (NIST SP 800-56A) need to be used.</p>\n\n<p>Thanks a lot =)</p>\n\n<p>Regards\nMatze</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 1, "creation_date": 1570649875, "post_id": 58311039, "comment_id": 102983637, "body": "<code>public Span&lt;byte&gt; Data =&gt; CompileBytes();</code> in which context is this? Can you provide a full, compilable example? It looks like a property somewhere and I doubt a Span property is allowed."}, {"owner": {"reputation": 2335, "user_id": 3453041, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/024667382dfea30a6c96bed77f8b5c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Water", "link": "https://stackoverflow.com/users/3453041/water"}, "reply_to_user": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1570652199, "post_id": 58311039, "comment_id": 102984497, "body": "@ThomasWeller Added an implementation example."}], "answers": [{"tags": [], "owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "is_accepted": true, "score": 2, "last_activity_date": 1570654546, "last_edit_date": 1570654546, "creation_date": 1570654223, "answer_id": 58312084, "question_id": 58311039, "link": "https://stackoverflow.com/questions/58311039/is-returning-a-spanbyte-from-a-temporary-byte-dangerous-will-generate-an-ex/58312084#58312084", "title": "Is returning a Span&lt;byte&gt; from a temporary byte[] dangerous (will generate an exception possibly on usage)?", "body": "<p>Having a reference to a managed array in a <code>Span&lt;T&gt;</code> is safe, even if it is the only reference to it.<br>\nAs described in the article <a href=\"https://msdn.microsoft.com/en-us/magazine/mt814808.aspx\" rel=\"nofollow noreferrer\">All About Span: Exploring a New .NET Mainstay</a>, <code>Span&lt;T&gt;</code> uses a special way of storing these references, a <code>ByReference&lt;T&gt;</code>, which is implemented as a JIT intrinsic.</p>\n\n<p>Quoting the linked article (section <strong>How Is <code>Span&lt;T&gt;</code> Implemented?</strong>):</p>\n\n<blockquote>\n  <p><code>Span&lt;T&gt;</code> is actually written to use a special internal type in the runtime that\u2019s treated as a just-in-time (JIT) intrinsic, with the JIT generating for it the equivalent of a ref T field</p>\n</blockquote>\n\n<p>And section <strong>What Is <code>Memory&lt;T&gt;</code> and Why Do You Need It?</strong></p>\n\n<blockquote>\n  <p><code>Span&lt;T&gt;</code> is a ref-like type as it contains a ref field, and ref fields can refer not only to the beginning of objects like arrays, but also to the middle of them [...] These references are called interior pointers, and tracking them is a relatively expensive operation for the .NET runtime\u2019s garbage collector.</p>\n</blockquote>\n\n<p>The last part of that quote clarifies that the reference stored in <code>Span&lt;T&gt;</code> is indeed tracked by the GC, so it will not clean up memory that is still being referenced</p>\n"}], "owner": {"reputation": 2335, "user_id": 3453041, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/024667382dfea30a6c96bed77f8b5c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Water", "link": "https://stackoverflow.com/users/3453041/water"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58312084, "answer_count": 1, "score": 0, "last_activity_date": 1570654546, "creation_date": 1570649404, "last_edit_date": 1570652179, "question_id": 58311039, "link": "https://stackoverflow.com/questions/58311039/is-returning-a-spanbyte-from-a-temporary-byte-dangerous-will-generate-an-ex", "title": "Is returning a Span&lt;byte&gt; from a temporary byte[] dangerous (will generate an exception possibly on usage)?", "body": "<p>In a .NET Core 3.0 project, I have an interface that return a <code>Span&lt;byte&gt;</code>. This works for a large set of classes except one particular implementation which can generate its data on the fly (due to not caching it).</p>\n\n<p>The implementation looks like:</p>\n\n<pre><code>public Span&lt;byte&gt; Data =&gt; CompileBytes();\n</code></pre>\n\n<p>where it would be something like (this is abstract code but pretty close to a use case)</p>\n\n<pre><code>public byte[] CompileBytes()\n{\n    using (MemoryStream stream = new MemoryStream())\n    {\n        foreach (IDataSource data in DataSources)\n            stream.Write(data.ByteArray);\n        return stream.ToArray();\n    }\n}\n</code></pre>\n\n<p>I have been looking around online to see if there's a guarantee that this is safe to do but haven't found any.</p>\n\n<p>My worry is that <code>Span</code> is a very thin layer around the data that the GC will ignore such that the GC assumes we will not let the span outlive the underlying buffer, and the temporary byte array that is created will eventually get GC'd, which means I could potentially have a ticking time bomb on my hands if it for some reason does a GC while someone other code is using the span. Is this the case? Can I return a <code>Span&lt;&gt;</code> for a temporary object and be perfectly okay (under the assumption it is properly used by staying in the bounds of the span)?</p>\n\n<p>The definition seems to be implementation dependent so I can't figure out with my limited knowledge if it holds onto the reference or not... because if so, then I am safe and my question is answered.</p>\n\n<p>The MSDN says 'memory safe' but I am unsure the exact specifics by which they define memory safe and if it covers my definition. As such, if it does, then this question is answered.</p>\n\n<p>I am not using any <code>unsafe</code> code.</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570651355, "post_id": 58311019, "comment_id": 102984226, "body": "What you explained is an inner join in relational database terms. If you where to use a join instead it would filter as desired. See here: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/join-clause#inner-join\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570653405, "post_id": 58311019, "comment_id": 102984948, "body": "How do I use the join instead of the include? This is an error:"}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570653417, "post_id": 58311019, "comment_id": 102984959, "body": "var q = from b in _myContext.Customers             .Where(b =&gt; b.Name == &quot;XYZ&quot;).Join(&quot;OrderDetails&quot;)             select b;"}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570711226, "post_id": 58311019, "comment_id": 103004933, "body": "just to be clear, are you trying to return customers with no orders? Or are you trying to return only customers that have orders?"}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570714067, "post_id": 58311019, "comment_id": 103006743, "body": "I am trying to include customers that have no orders. Its a one to many relationship. I was hoping I could just simply change the .Include to a .Join somehow."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570713279, "post_id": 58323404, "comment_id": 103006209, "body": "Could you show me the equivalent lambda expression for the left join as well. I will give this a try."}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570713962, "post_id": 58323404, "comment_id": 103006670, "body": "I&#39;m trying to add DefaultIfEmpty(new Customer()) but it does not recognize the Defaultempty for my class."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "reply_to_user": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570714117, "post_id": 58323404, "comment_id": 103006773, "body": "<code>DefaultIfEmpty</code> is part of Linq so make sure you have a reference to it: <code>using System.Linq</code>"}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570714489, "post_id": 58323404, "comment_id": 103006987, "body": "When I run the above join query then do a .ToList() I&#39;m getting the following error: The entity or complex type cannot be constructed in a LINQ to Entities query"}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "reply_to_user": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570716473, "post_id": 58323404, "comment_id": 103008264, "body": "@HALO try using <code>customerGroup.DefaultIfEmpty()</code>. If you still get the same error, please include your code in the post."}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570719109, "post_id": 58323404, "comment_id": 103009905, "body": "var q = from customer in _context.Customers     join order in _context.OrderDetails on customer.Id equals order.Id into customerGroup     from record in customerGroup.DefaultIfEmpty(new Customer())     select customer;      q.ToList();"}, {"owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "edited": false, "score": 0, "creation_date": 1570807536, "post_id": 58323404, "comment_id": 103043720, "body": "Actually I added this line of code to enable logging of the SQL query : myContext.Database.Log = s =&gt; System.Diagnostics.Debug.WriteLine(s);  This showed that my query with the .Include was actually doing the left join by default for Entity Framework. Here is a useful link that illustrates this: <a href=\"https://melontech.com/blog/2015/left-joins-with-entity-framework\" rel=\"nofollow noreferrer\">melontech.com/blog/2015/left-joins-with-entity-framework</a>"}], "tags": [], "owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570712081, "creation_date": 1570712081, "answer_id": 58323404, "question_id": 58311019, "link": "https://stackoverflow.com/questions/58311019/ef-related-entities-not-showing-when-empty/58323404#58323404", "title": "EF related entities not showing when empty", "body": "<p>Use an inner join to ensure customer records returned are linked to an order. If a customer has no matching orders, that customer will not appear in the results.</p>\n\n<pre><code>from customer in myContext.Customers\njoin order in myContext.OrderDetails on order.CustID equals customer.CustID\nselect customer;\n</code></pre>\n\n<p>Use a left outer join if you intend on returning customer records even when not linked to any orders.</p>\n\n<pre><code>from customer in myContext.Customers\njoin order in myContext.OrderDetails on order.CustID equals customer.CustID into customerGroup\nfrom record in customerGroup.DefaultIfEmpty(new Customer())\nselect customer;\n</code></pre>\n\n<blockquote>\n  <p>In a left outer join, all the elements in the left source sequence are\n  returned, even if no matching elements are in the right sequence. To\n  perform a left outer join in LINQ, use the DefaultIfEmpty method in\n  combination with a group join to specify a default right-side element\n  to produce if a left-side element has no matches. You can use null as\n  the default value for any reference type, or you can specify a\n  user-defined default type.</p>\n</blockquote>\n\n<p>Lastly, you are mixing Linq and Lambda in your example. As a best practice, you may want to use one or the other; in case you prefer, here is the lambda equivalent for the inner join example:</p>\n\n<pre><code>myContext.Customers\n         .Join(myContext.OrderDetails, \n               customer =&gt; customer.CustID, \n               order =&gt; order.CustID, \n               (customer, order) =&gt; customer);\n</code></pre>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 51, "user_id": 5413748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b48b60e742bb149cc4ae61eafafc13d?s=128&d=identicon&r=PG&f=1", "display_name": "HALO", "link": "https://stackoverflow.com/users/5413748/halo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570712081, "creation_date": 1570649339, "last_edit_date": 1570654367, "question_id": 58311019, "link": "https://stackoverflow.com/questions/58311019/ef-related-entities-not-showing-when-empty", "title": "EF related entities not showing when empty", "body": "<p>I have a context that links two DbSets. They are linked by an CustID. If the CustID does not exist in the related table then the query does not return the entry at all. For example, I have a CustID shown in one grid and the order details of the CustID in another grid. If the CustID does not have an orders the CustID columns does not show up in the first grid.</p>\n\n<p>Here I have tried to use the DefaultIfEmpty method on the include but that is not working. I'm not sure how to show if there are no related entities.</p>\n\n<pre><code>var q = from b in _myContext.Customers\n            .Where(b =&gt; b.Name == \"XYZ\").Include(\"OrderDetails\")\n            select b;\n\n\n</code></pre>\n"}, {"tags": ["c#", "sql", "asp.net"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1570649153, "post_id": 58310913, "comment_id": 102983333, "body": "The uploaded file has always the same name? Or it is a different name every time you load it? Do you load it many times in a day or just one time a day?"}, {"owner": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 0, "creation_date": 1570649177, "post_id": 58310913, "comment_id": 102983345, "body": "Create a unique constraint, or avoid multiple uploads."}, {"owner": {"reputation": 36, "user_id": 8848361, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KQiZGm9nbVw/AAAAAAAAAAI/AAAAAAAAABg/S29DdHqwLao/photo.jpg?sz=128", "display_name": "gowthami srinivasan", "link": "https://stackoverflow.com/users/8848361/gowthami-srinivasan"}, "edited": false, "score": 0, "creation_date": 1570649383, "post_id": 58310913, "comment_id": 102983426, "body": "Uploaded file name can be anything which the user uploads. We will load it many times a day."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1570650051, "post_id": 58310913, "comment_id": 102983714, "body": "You could try to extract  a checksum of the uploaded file and verify it against a table where you store all the files uploaded and their checksum"}], "answers": [{"tags": [], "owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "is_accepted": false, "score": 1, "last_activity_date": 1570649475, "creation_date": 1570649475, "answer_id": 58311060, "question_id": 58310913, "link": "https://stackoverflow.com/questions/58310913/how-to-restrict-duplicate-excel-file-upload/58311060#58311060", "title": "How to restrict duplicate excel file upload?", "body": "<p>Either you can have a unique constraint/make an autoincrement primary key column to avoid duplicates. Moreover, you can also have a date column if you want your records to be inserted once per each date etc.</p>\n\n<p>If you are doing your load via some command then you can run a post command after the load so as to rename the file or move the file once the loads done</p>\n"}], "owner": {"reputation": 36, "user_id": 8848361, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KQiZGm9nbVw/AAAAAAAAAAI/AAAAAAAAABg/S29DdHqwLao/photo.jpg?sz=128", "display_name": "gowthami srinivasan", "link": "https://stackoverflow.com/users/8848361/gowthami-srinivasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570649475, "creation_date": 1570648835, "question_id": 58310913, "link": "https://stackoverflow.com/questions/58310913/how-to-restrict-duplicate-excel-file-upload", "title": "How to restrict duplicate excel file upload?", "body": "<p>I have a file upload functionality. On upload click, I am inserting the excel data directly into sql table. My sql table doesn't have any unique column. </p>\n\n<p>So whenever the same file uploaded multiple times, the records are duplicating. </p>\n\n<p>How to restrict this duplicate excel file upload? </p>\n"}, {"tags": ["c#", "tryparse"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1570649070, "post_id": 58310909, "comment_id": 102983301, "body": "TryParse() returns true if it succeeds, false if it fails. Instead of ignoring the return value, do something like <code>if (!Int32.TryParse(Console.ReadLine(), out myNum)) { &#47;* report error *&#47; } else { &#47;* do whatever else *&#47; }</code>. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.int32.tryparse?view=netframework-4.8\" rel=\"nofollow noreferrer\">They document these things</a>, you know."}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 4, "last_activity_date": 1570649108, "creation_date": 1570649108, "answer_id": 58310971, "question_id": 58310909, "link": "https://stackoverflow.com/questions/58310909/number-guessing-game-using-tryparse/58310971#58310971", "title": "Number guessing game using TryParse", "body": "<p>You're not capturing the <code>bool</code> output of <code>TryParse</code> so you have no idea if a non-numeric value was entered. Try something like this:</p>\n\n<pre><code>bool isValid;\ndo\n{\n     Console.Write(\"\\n\\tGuess a number between 1 and 20: \");\n     isValid = Int32.TryParse(Console.ReadLine(), out myNum);\n     if(!isValid)\n     {\n         Console.WriteLine(\"\\n\\tInvalid input detected. Please try again.\");\n     }\n} while(!isValid)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 580, "user_id": 9475977, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gur Galler", "link": "https://stackoverflow.com/users/9475977/gur-galler"}, "is_accepted": false, "score": 1, "last_activity_date": 1570649471, "creation_date": 1570649471, "answer_id": 58311059, "question_id": 58310909, "link": "https://stackoverflow.com/questions/58310909/number-guessing-game-using-tryparse/58311059#58311059", "title": "Number guessing game using TryParse", "body": "<p>The <code>TryParse</code> method can only put integers in the passed variable (as it is of type <code>int</code>), so if the value passed to it can't be parsed into an integer, the default value of <code>int</code> (0) will be assigned to the variable.</p>\n\n<p>The way <code>TryParse</code> tell you if it successfully parsed the number or not, is by returning a boolean indicator.</p>\n\n<p>You can try this:</p>\n\n<pre><code>while (true)\n{\n    bool valid = int.TryParse(Console.ReadLine(), out myNum);\n    if(valid)\n        break;\n    Console.WriteLine(\"Input invalid. Please try again\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 1, "creation_date": 1570651308, "post_id": 58311251, "comment_id": 102984204, "body": "You don&#39;t show how to exit the infinite loop. Also this is basically a duplicate of Stanleys answer which was written 15 minutes earlier than this one."}], "tags": [], "owner": {"reputation": 41, "user_id": 4268162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bf1da0e9134a9df2df4db46cc3c03c?s=128&d=identicon&r=PG&f=1", "display_name": "Nandan", "link": "https://stackoverflow.com/users/4268162/nandan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570662126, "last_edit_date": 1570662126, "creation_date": 1570650338, "answer_id": 58311251, "question_id": 58310909, "link": "https://stackoverflow.com/questions/58310909/number-guessing-game-using-tryparse/58311251#58311251", "title": "Number guessing game using TryParse", "body": "<p>You should use the <code>bool</code> returned by <code>TryParse</code>. Something that looks like this:</p>\n\n<p>Updated answer:</p>\n\n<pre><code>        static void Main(string[] args)\n        {\n            Random random = new Random();\n            int guessNum = random.Next(1, 21);\n\n            while(true)\n            {\n                Console.WriteLine(\"Guess the number between 1 and 21.\");\n\n                if (Int32.TryParse(Console.ReadLine(), out int input))\n                {\n                    if (input == guessNum)\n                    {\n                        Console.WriteLine($\"You guessed it right. The number is {input}\");\n                        if(ShouldContinue())\n                        {\n                            guessNum = random.Next();\n                            continue;\n                        }\n                        else\n                        {\n                            break;\n                        }\n                    }\n\n                    if (input &lt; guessNum)\n                        Console.WriteLine(\"The number you guessed is smaller.\");\n                    else\n                        Console.WriteLine(\"The number you guessed is bigger\");\n\n                }\n                else\n                {\n                    Console.WriteLine(\"Please enter a number between 1 and 21 as your guess\");\n                }\n            }\n        }\n\n        static bool ShouldContinue()\n        {\n            while (true)\n            {\n                Console.WriteLine($\"Do you want to continue playing? (y/n)\");\n                string continueInput = Console.ReadLine().Trim().ToLower();\n                if (continueInput == \"y\")\n                    return true;\n                else if (continueInput == \"n\")\n                    return false;\n                else\n                    Console.WriteLine(\"Invalid input!. Please choose 'y' or 'n'.\");\n            }\n        }\n</code></pre>\n\n<p>Old answer:</p>\n\n<pre><code>while (true)\n{\n    if (Int32.TryParse(inputInt, out int myNum))\n    {\n       // your logic goes here, too low/high or correct answer.   \n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "is_accepted": false, "score": 0, "last_activity_date": 1570650683, "creation_date": 1570650683, "answer_id": 58311339, "question_id": 58310909, "link": "https://stackoverflow.com/questions/58310909/number-guessing-game-using-tryparse/58311339#58311339", "title": "Number guessing game using TryParse", "body": "<p><code>TryParse</code> returns a Boolean which indicates if the input string was successfully parsed or not. Both of the answers above are correct on how to handle a invalid input but, here is a cleaner version which will also uphold the <em>rule</em>, <code>between 1 and 20</code>:</p>\n\n<pre><code>while (true)\n{    \n    Console.Write(\"\\n\\tGuess a number between 1 and 20: \");\n\n    //Checks to see if the input was successfully parsed to a integer also, performs a Trim on the input as to remove any accidental white spaces that a user might have typed in, e.g. \"1000 \"\n    if (int.TryParse(Console.ReadLine().Trim(), out myNum))\n    {\n        //Checks to see if the parsed number is in the specified range\n        if ((myNum &gt; 0) &amp;&amp; (myNum &lt; 21))\n        {\n            break;\n        }\n        Console.WriteLine(\"\\tThe input number was out of the specified range.\");\n    }\n    else\n    {\n        Console.WriteLine(\"\\tFailed to parse the input text.\");\n    }\n    //Optional, makes the thread sleep so the user has the time to read the error message.\n    Thread.Sleep(1500);\n\n    //Optional, clears the console as to not create duplicates of the error message and the value of Console.Write\n    Console.Clear();\n}\n\n// Continue here, if (myNum &lt; guessNum) . . .\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 12190888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d72f7c11038572612b98f45097a6aa?s=128&d=identicon&r=PG&f=1", "display_name": "ziNo", "link": "https://stackoverflow.com/users/12190888/zino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1570662126, "creation_date": 1570648819, "question_id": 58310909, "link": "https://stackoverflow.com/questions/58310909/number-guessing-game-using-tryparse", "title": "Number guessing game using TryParse", "body": "<p>I\u00b4m having problems with getting my code to work while using TryParse to catch if the user where to input a string instead of a int. If I use it as it looks now I only get the base value of 0 if something other than an int is input. I want it to show an error message to the user.</p>\n\n<p>Have tried messing around with a number of different ways of using TryParse but none of them has really been helpfull.</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n\n        Random r = new Random();\n        int speltal = r.Next(1,21);\n        bool play = false;\n        int myNum;\n\n        while (!play)\n        {\n            Console.Write(\"\\n\\tGuess a number between 1 and 20: \");\n            Int32.TryParse(Console.ReadLine(), out myNum);\n\n            if (myNum &lt; guessNum)\n            {\n                Console.WriteLine(\"\\tThe number you have guessed is to low\");\n                Console.ReadLine();\n            }\n\n            if (myNum &gt; guessNum)\n            {\n                Console.WriteLine(\"\\tThe number you have guessed is to high\");\n                Console.ReadLine();\n            }\n\n            if (myNum == guessNum)\n            {\n                Console.WriteLine(\"\\tCongratulations you guessed the right number!\");\n                Console.ReadLine();\n            }\n</code></pre>\n\n<p>I want it show an error message to the user if they put in anything other than a int. It also have to include TryParse according to my teatcher</p>\n"}, {"tags": ["c#", "datetime", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1570803588, "post_id": 58310907, "comment_id": 103041526, "body": "Can you post the rendered HTML from your input tag? Using the <code>asp-format</code> attribute."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "reply_to_user": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1570857541, "post_id": 58310907, "comment_id": 103056493, "body": "@mxmissile See update 2. The fomat is correct in the HTML, but the datepicker in Chrome displays &quot;mm/dd/yyyy --:-- --&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570650494, "post_id": 58311155, "comment_id": 102983881, "body": "That changes the content of the input field from &quot;10/09/2019 09:45 PM&quot; to &quot;mm/dd/yyyy --:-- --&quot;."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570651565, "post_id": 58311155, "comment_id": 102984292, "body": "The desired content is a full <code>DateTime</code>, date and time, but no seconds or milliseconds, with 24 hours time format. Like so: &quot;10/09/2019 22:05&quot;"}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570651991, "post_id": 58311155, "comment_id": 102984424, "body": "<code>asp-format=&quot;{0:dd&#47;MM&#47;yyyy HH:mm}&quot;</code> displays <code>09&#47;10&#47;2019 14:12</code>"}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570652891, "post_id": 58311155, "comment_id": 102984761, "body": "Not for me. Could there be something else interfering with the formatting? Chrome? My computer&#39;s system settings? I don&#39;t have any formatting decoration in the viewmodel."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570653132, "post_id": 58311155, "comment_id": 102984852, "body": "More than likely culture settings. It&#39;s really just a matter of finding the <code>formatstring</code> that works with your culture. Replace <code>dd&#47;MM&#47;yyyy HH:mm</code> with the correct string."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570654427, "post_id": 58311155, "comment_id": 102985380, "body": "I&#39;m sorry &quot;, kl&quot; should not be in there. I just use that for displaying the dt in plain text. The format for the input field should be <code>dd&#47;MM&#47;yyyy HH:mm</code>. But no matter - that doesn&#39;t work for me either."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570655033, "post_id": 58311155, "comment_id": 102985602, "body": "What does this output? <code>DateTime.Now.ToString(&quot;dd&#47;MM&#47;yyyy HH:mm&quot;, new CultureInfo(&quot;en-us&quot;))</code>"}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570655329, "post_id": 58311155, "comment_id": 102985725, "body": "The correct formatting: &quot;09/10/2019 23:08&quot;. But the property for the inputfield is a <code>DateTime</code>, not a <code>string</code>... I should add that the time is stored in the database as 24 hour format."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570655977, "post_id": 58311155, "comment_id": 102985942, "body": "Right I get that, however that proves that your culture setting is not compatible with that formatstring, we forced the culture to US which format&#39;s it correctly. Don&#39;t force your culture in your app, this was just a test."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570656076, "post_id": 58311155, "comment_id": 102985969, "body": "What culture is your app running under? Probably a good place to start. <code>CultureInfo.CurrentCulture</code> should tell you."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570656354, "post_id": 58311155, "comment_id": 102986047, "body": "<code>nb-NO</code>, which is the right one, and the standard date format for that culture is the one I&#39;m trying to display."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570657064, "post_id": 58311155, "comment_id": 102986291, "body": "Try  <code>&quot;dd.MM.yyyy HH:mm&quot;</code>"}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570657417, "post_id": 58311155, "comment_id": 102986397, "body": "Nope. Same result. Just clears out the data. Format remains the same."}, {"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "reply_to_user": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570657548, "post_id": 58311155, "comment_id": 102986435, "body": "I forced my culture to nb-NO and it worked for me. I just don&#39;t know enough about culture settings and such, sorry I wasn&#39;t more help. I&#39;ll keep this answer here for the time being, so no one else tries the same thing, might ring a bell with someone that knows more. Be interesting to see the outcome."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "edited": false, "score": 0, "creation_date": 1570657649, "post_id": 58311155, "comment_id": 102986459, "body": "Thank you for your efforts! Much appreciated!"}], "tags": [], "owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "is_accepted": false, "score": 1, "last_activity_date": 1603522832, "last_edit_date": 1603522832, "creation_date": 1570649875, "answer_id": 58311155, "question_id": 58310907, "link": "https://stackoverflow.com/questions/58310907/how-do-i-control-the-time-format-in-an-input-field/58311155#58311155", "title": "How do I control the time format in an input field?", "body": "<p>Use <code>asp-format</code> tag helper attribute, for example:</p>\n<p><code>asp-format=&quot;{0:yyyy-MM-ddTHH:mm}&quot;</code></p>\n<pre><code>&lt;input asp-for=&quot;ProjectStart&quot; class=&quot;form-control&quot; asp-format=&quot;{0:yyyy-MM-ddTHH:mm}&quot; /&gt;\n</code></pre>\n<p>The format string must adhere to the subset of ISO-8601 date formats specified in <a href=\"https://www.w3.org/TR/NOTE-datetime\" rel=\"nofollow noreferrer\">this W3C document</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "is_accepted": false, "score": 0, "last_activity_date": 1570780340, "last_edit_date": 1570780340, "creation_date": 1570684361, "answer_id": 58315823, "question_id": 58310907, "link": "https://stackoverflow.com/questions/58310907/how-do-i-control-the-time-format-in-an-input-field/58315823#58315823", "title": "How do I control the time format in an input field?", "body": "<p>When you apply the <code>[DataType(DataType.Date)]</code> attribute, Razor renders the input with a type of \"date\". This is an HTML 5 input type, it will be rendered as a browser control (the calendar you get by default). However, the browser control  forces that the date will be displayed localized (i.e. <code>MM/dd/yyyy</code> in the U.S.).That is to say,the format shown in the broswer depends on the local date format.</p>\n\n<p>So,if you want to show the format <code>dd/MM/yyyy</code>,you need to change your local system date format.You could refer to the following link to learn how to change the local date format.</p>\n\n<p>Reference:<a href=\"https://www.moore.co.uk/msuk/moore-stephens-south/news/may-2016/has-upgrading-to-windows-10-affected-your-date-for\" rel=\"nofollow noreferrer\">https://www.moore.co.uk/msuk/moore-stephens-south/news/may-2016/has-upgrading-to-windows-10-affected-your-date-for</a></p>\n"}], "owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2094, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1603522832, "creation_date": 1570648815, "last_edit_date": 1570920972, "question_id": 58310907, "link": "https://stackoverflow.com/questions/58310907/how-do-i-control-the-time-format-in-an-input-field", "title": "How do I control the time format in an input field?", "body": "<p>My model has a datetime-field:</p>\n\n<pre><code>public DateTime ProjectStart { get; set; }\n</code></pre>\n\n<p>If I want the time to be displayed in 24-hours format, as plain text in a view, I can do this (with capital HH):</p>\n\n<pre><code>@Model.ProjectStart.ToString(\"dd/MM/yyyy HH:mm\")\n</code></pre>\n\n<p>But how do I control the time format in an input field?</p>\n\n<pre><code>&lt;input asp-for=\"ProjectStart\" class=\"form-control\" /&gt;\n</code></pre>\n\n<p>The time is stored in the database 24 hour formatted. It is just the input field that is displaying it wrong. It should display date and time in this format:</p>\n\n<blockquote>\n  <p>dd/MM/yyyy HH:mm (e.g. 28/02/2019 17:45)</p>\n</blockquote>\n\n<p>My app's culture (<code>CultureInfo.CurrentCulture</code>) is <code>nb-NO</code>, which is correct. The standard format for date and time in this culture is the one I'm trying to display in the input fields. (<a href=\"https://en.wikipedia.org/wiki/Date_and_time_notation_in_Norway\" rel=\"nofollow noreferrer\">Norwegian date and time formats</a>)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have tried two solutions, with no luck:</p>\n\n<p>Decorating the property in the viewmodel:</p>\n\n<pre><code>[DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:dd/MM/yyyy HH:mm}\")]\n</code></pre>\n\n<p>Adding the tag helper attribute <code>asp-format</code> in the input tag:</p>\n\n<pre><code>&lt;!-- I tried several variations of this: --&gt;\n&lt;input asp-for=\"ProjectStart\" asp-format=\"{0:dd/MM/yyyy HH:mm}\" class=\"form-control\" /&gt;\n&lt;input asp-for=\"ProjectStart\" asp-format=\"{0:dd.MM.yyyy HH:mm}\" class=\"form-control\" /&gt;\n&lt;input asp-for=\"ProjectStart\" asp-format=\"{0:dd-MM-yyyy HH:mm}\" class=\"form-control\" /&gt;\n</code></pre>\n\n<p>Both solutions just cleared out the value in the input field, displaying only \"mm/dd/yyyy --:-- --\", i.e. the format was not changed, and the data disappeared.</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>This is the rendered HTML of the input tag with the <code>asp-format</code>-attribute:</p>\n\n<pre><code>&lt;input class=\"form-control\" \n       type=\"datetime-local\" \n       data-val=\"true\" \n       data-val-required=\"The Starttidspunkt field is required.\" \n       id=\"ProjectStart\" \n       name=\"ProjectStart\"\n       value=\"12.10.2019 07:12\" /&gt;\n</code></pre>\n\n<p>As you can see, the format is correct, and the data is there. But in my browser, the datepicker displays \"mm/dd/yyyy --:-- --\".</p>\n"}, {"tags": ["c#", "wpf", "path", "shapes"], "answers": [{"comments": [{"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1570650751, "post_id": 58310983, "comment_id": 102983980, "body": "Do you know why the Path&#39;s Width/Height were 0 and the rectangle&#39;s not?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 1, "creation_date": 1570656526, "post_id": 58310983, "comment_id": 102986113, "body": "@Themelis Width and Height are properties you set explicitly (sometimes). Generally you do NOT set them so the thing can be sized based on the content. In the case of the rectangle, you set them explicitly. For the path, you didn&#39;t... its implied by the stuff inside of it. Thus Width/Height will be NaN and the real sizes will be in Actual*\u2026 you should NEVER use Width/Height for UI calculations. Always use Actual* to consider scaling, transformations and other factors like size to content setups."}, {"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1570656573, "post_id": 58310983, "comment_id": 102986125, "body": "Thanks that helps"}], "tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": true, "score": 3, "last_activity_date": 1570649584, "last_edit_date": 1570649584, "creation_date": 1570649175, "answer_id": 58310983, "question_id": 58310861, "link": "https://stackoverflow.com/questions/58310861/why-i-cant-move-a-path-in-wpf/58310983#58310983", "title": "Why I can&#39;t move a Path in WPF?", "body": "<p>Use ActualWidth and ActualHeight instead. Width and Height, if you check, are NaN.</p>\n"}], "owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58310983, "answer_count": 1, "score": 1, "last_activity_date": 1570649584, "creation_date": 1570648635, "question_id": 58310861, "link": "https://stackoverflow.com/questions/58310861/why-i-cant-move-a-path-in-wpf", "title": "Why I can&#39;t move a Path in WPF?", "body": "<p>I tried to move (hold the left mouse button and drag) a <code>UIElement</code> on a <code>Canvas</code> in Wpf.</p>\n\n<p>It worked for a <code>Rectangle</code> but when I tried the same to a <code>Path</code> shape it does not move.</p>\n\n<p>Here is <strong>the layout</strong>, just 2 elements inside a canvas:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Canvas Background='Beige'\n            Name='canvas'&gt;\n        &lt;Rectangle Width='50'\n                   Height='50'\n                   Fill='LightPink'\n                   Canvas.Left='350'\n                   Canvas.Top='175'\n                   MouseMove='OnMouseMove'\n                   Name='square' /&gt;\n\n        &lt;Path Fill=\"Cyan\"\n              Stroke=\"Black\"\n              MouseMove='OnMouseMove'&gt;\n            &lt;Path.Data&gt;\n                &lt;GeometryGroup&gt;\n                    &lt;EllipseGeometry Center=\"20, 40\"\n                                     RadiusX=\"20\"\n                                     RadiusY=\"40\" /&gt;\n                    &lt;EllipseGeometry Center=\"20, 40\"\n                                     RadiusX=\"10\"\n                                     RadiusY=\"30\" /&gt;\n                &lt;/GeometryGroup&gt;\n            &lt;/Path.Data&gt;\n        &lt;/Path&gt;\n    &lt;/Canvas&gt;\n</code></pre>\n\n<p>And here is the <strong>code-behind</strong>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void OnMouseMove(object sender, MouseEventArgs e)\n        {\n            if (e.Source is Shape shape)\n            {\n                if (e.LeftButton == MouseButtonState.Pressed)\n                {\n                    Point p = e.GetPosition(canvas);\n                    Canvas.SetLeft(shape, p.X - shape.Width / 2);\n                    Canvas.SetTop(shape, p.Y - shape.Height / 2);\n                }\n            }\n        }\n</code></pre>\n\n<p>The <code>Path</code> is a <code>Shape</code> like the <code>Rectangle</code> and <code>OnMouseMove</code> is executed for both controls. </p>\n\n<p>Why only the <code>Rectangle</code> is moving and the <code>Path</code> isn't?</p>\n"}, {"tags": ["c#", "asp.net", "iis"], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "edited": false, "score": 0, "creation_date": 1570705751, "post_id": 58314981, "comment_id": 103001831, "body": "Jalpa, see edits and original comments.  I rebuilt the solution with VS2019 and do not want to change the type of web so not using CodeFile."}, {"owner": {"reputation": 5185, "user_id": 11147346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BET7m.jpg?s=128&g=1", "display_name": "Jalpa Panchal", "link": "https://stackoverflow.com/users/11147346/jalpa-panchal"}, "reply_to_user": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "edited": false, "score": 0, "creation_date": 1571219713, "post_id": 58314981, "comment_id": 103164517, "body": "you could try to use URL rewrite module instead of using a virtual directory."}], "tags": [], "owner": {"reputation": 5185, "user_id": 11147346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BET7m.jpg?s=128&g=1", "display_name": "Jalpa Panchal", "link": "https://stackoverflow.com/users/11147346/jalpa-panchal"}, "is_accepted": false, "score": 0, "last_activity_date": 1570677746, "creation_date": 1570677746, "answer_id": 58314981, "question_id": 58310701, "link": "https://stackoverflow.com/questions/58310701/why-am-igetting-the-error-could-not-load-type-cade-main-index-on-a-new-serv/58314981#58314981", "title": "Why am Igetting the error &quot;Could not load type &#39;CADE.main.index&#39;.&quot; on a new server when I&#39;m using the same code on all other instances, how fix it?", "body": "<p>These errors occur if the .aspx page or the Global.asax page contains a reference to a code-behind module and if the application has not been built. </p>\n\n<p>You could try the below method to build the application:</p>\n\n<p>Use the C# command-line compiler (CSC.exe) to run the following command:</p>\n\n<pre><code>csc /t:library /r:System.web.dll /out:mydll.dll myfile.cs\n</code></pre>\n\n<p>OR</p>\n\n<p>In Microsoft Visual Studio .NET, click Build on the Build menu.</p>\n\n<p>Also try changing <strong>CodeBehind=\"index.aspx.cs\"</strong> to <strong>CodeFile=\"index.aspx.cs\"</strong>. This change is required when you change project type from website to webapplication or vice versa.</p>\n\n<p>make sure you install the .ne framework feature of iis. </p>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "is_accepted": true, "score": 0, "last_activity_date": 1584265251, "creation_date": 1584265251, "answer_id": 60691530, "question_id": 58310701, "link": "https://stackoverflow.com/questions/58310701/why-am-igetting-the-error-could-not-load-type-cade-main-index-on-a-new-serv/60691530#60691530", "title": "Why am Igetting the error &quot;Could not load type &#39;CADE.main.index&#39;.&quot; on a new server when I&#39;m using the same code on all other instances, how fix it?", "body": "<p>I actually created a brand new web that used a Virtual Directory for it's codebase that is the same code as the other webs.  </p>\n\n<p>Index.aspx resides in the /lmw/main directory.  I had created an Application on that folder when I was creating the other applications in the web.  So, I removed the \"Application\" from /lmw/main and it worked.  </p>\n"}], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 60691530, "answer_count": 2, "score": 0, "last_activity_date": 1584265251, "creation_date": 1570648078, "last_edit_date": 1584128099, "question_id": 58310701, "link": "https://stackoverflow.com/questions/58310701/why-am-igetting-the-error-could-not-load-type-cade-main-index-on-a-new-serv", "title": "Why am Igetting the error &quot;Could not load type &#39;CADE.main.index&#39;.&quot; on a new server when I&#39;m using the same code on all other instances, how fix it?", "body": "<p>I just checked out my \"mixed\" (asp classic and .Net) web site source from SVN on a new Windows 2019 Server.  When I go to the logon page (.asp classic), it's fine but when you logon and call the main page (.aspx) it throws the error: \"Could not load type 'CADE.main.index'\" and displays:</p>\n\n<pre><code>Line 1:  &lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"index.aspx.cs\" Inherits=\"CADE.main.index\" %&gt;\n</code></pre>\n\n<p>This SVN code is running on 15+ servers, including one 2019 Server. The code behind looks like:</p>\n\n<pre><code>namespace CADE.main\n{\n    public partial class index : BasePage  // Override with BasePage\n    {\n</code></pre>\n\n<p>IIS and everything under Application Development is installed. IIS serves .asp, .txt, .gif, .png, even .Net handlers (.ashx) and web services (.asmx), just not the aspx pages. </p>\n\n<p>So, I rebuilt the solution with VS2019 and published it, gave administrator permissions on the app pool, gave \"Everyone\" full permissions on the entire web, deleted the bin directories in both the source and web locations, ensured output path was bin/, cleaned the project, don't think I should change CodeBehind to CodeFile, and tried about every other thing that people have suggested on this web site but nothing has eliminated the error.</p>\n\n<p>Question: How do I fix this error so the .aspx pages loads?</p>\n\n<p>EDIT #1: 15 hours after post\nI'm not sure but with this information maybe this should be a new post.</p>\n\n<p>This error ONLY happens on the second web site. IIS is serving two web sites, separating them by host name (web1.com vs. web2.com) in bindings.  They both point at the same file structure.  Web1's subdirectories are natural while Web2's subdirectories are virtual directories that point to Web1's.</p>\n\n<p>Web1: Normal IIS web\nwwwroot</p>\n\n<ul>\n<li>LMW (subweb, LMW/Main/index.aspx is page in question, but works here)</li>\n</ul>\n\n<p>Web2: Second web in IIS, based on host name, uses Web1's folders as virtual directories.</p>\n\n<p>wwwroot</p>\n\n<ul>\n<li>WEB2 (folder under wwwroot)</li>\n<li>LMW (virtual directory points to Web1/wwwroot/LMW.  LMW/Main/index.aspx gives the error here)</li>\n</ul>\n\n<p>Question: Why doesn't the .aspx work when it's a virtual directory?... it's the same file as is in Web 1?</p>\n\n<p>EDIT #2\nIt is working but I don't know what I did to fix it.  I'm sure I changed something but I don't know what it was.  So, I created another web like web #2, New web folder under wwwroot with LMW a virtual directory pointing to Web1/wwwroot/LMW!  I'm seriously missing something, Any ideas?</p>\n"}, {"tags": ["c#", "wpf", "sqlite", "xaml", "listcollectionview"], "comments": [{"owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 0, "creation_date": 1570667431, "post_id": 58310673, "comment_id": 102988493, "body": "Can&#39;t run the code, but what if you set (ListCollectionView)CollectionViewSource.GetDefaultView(data&zwnj;&#8203;Grid.DataContext) instead of (ListCollectionView)CollectionViewSource.GetDefaultView(data&zwnj;&#8203;Grid.ItemsSource)?"}, {"owner": {"reputation": 7, "user_id": 6748985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be102b92597f67e53cd7306b40e0edc?s=128&d=identicon&r=PG&f=1", "display_name": "Fox243", "link": "https://stackoverflow.com/users/6748985/fox243"}, "reply_to_user": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 0, "creation_date": 1570734080, "post_id": 58310673, "comment_id": 103017004, "body": "i tried that also and it had the same outcome. but thanks for the try."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6748985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be102b92597f67e53cd7306b40e0edc?s=128&d=identicon&r=PG&f=1", "display_name": "Fox243", "link": "https://stackoverflow.com/users/6748985/fox243"}, "edited": false, "score": 0, "creation_date": 1570734098, "post_id": 58317583, "comment_id": 103017012, "body": "ill give this a shot. ill have to do some research on it. thanks"}], "tags": [], "owner": {"reputation": 142, "user_id": 8424730, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-juioh3KM0Os/AAAAAAAAAAI/AAAAAAAAAOE/Cs8eoxmPaOA/photo.jpg?sz=128", "display_name": "Prashant Manjule", "link": "https://stackoverflow.com/users/8424730/prashant-manjule"}, "is_accepted": true, "score": 0, "last_activity_date": 1570692460, "creation_date": 1570692460, "answer_id": 58317583, "question_id": 58310673, "link": "https://stackoverflow.com/questions/58310673/datagrid-customsorting-bindinglistcollectionview-to-type-listcollectionview-erro/58317583#58317583", "title": "datagrid customsorting BindingListCollectionView to type ListCollectionView error", "body": "<p>If you want custom sorting with full control without any future error, I suggest just bind the datamodel but not viewsource,try it with remove all datasources and Resources to viewmodel from .xaml, create custom function for GettingSortedData(), LoadingSortedDataInDatagrid() with event handler </p>\n"}], "owner": {"reputation": 7, "user_id": 6748985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be102b92597f67e53cd7306b40e0edc?s=128&d=identicon&r=PG&f=1", "display_name": "Fox243", "link": "https://stackoverflow.com/users/6748985/fox243"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 58317583, "answer_count": 1, "score": 0, "last_activity_date": 1570692460, "creation_date": 1570647960, "last_edit_date": 1570656544, "question_id": 58310673, "link": "https://stackoverflow.com/questions/58310673/datagrid-customsorting-bindinglistcollectionview-to-type-listcollectionview-erro", "title": "datagrid customsorting BindingListCollectionView to type ListCollectionView error", "body": "<p>So i'm trying to learn wpf and recoding a c# .net forms project to wpf. at the same time i'm trying to fix issues that i had with the forms project. one of which is column not sorting correctly. there is a column that is alphanumeric for \"filenames\" primary column.\ni found a package that i thought would work <a href=\"https://github.com/lezhkin11/wpf-extensions/wiki/DataGrid-Columns-Custom-Sorter\" rel=\"nofollow noreferrer\">DataGrid CustomSorting</a>\nbut in use case it errors out and i don't know if its caused by how i'm binding to datagrid or what. \nthe project doesn't have much documentation. </p>\n\n<p>the line of code erroring out</p>\n\n<pre><code>var listCollectionView = (ListCollectionView)CollectionViewSource.GetDefaultView(dataGrid.ItemsSource);\n</code></pre>\n\n<p>the error</p>\n\n<pre><code>'Unable to cast object of type 'System.Windows.Data.BindingListCollectionView' to type 'System.Windows.Data.ListCollectionView'.'\n</code></pre>\n\n<p>Full block of code</p>\n\n<pre><code>private static void HandleCustomSorting(object sender, DataGridSortingEventArgs e)\n        {\n            var dataGrid = (DataGrid)sender;\n\n            if (!GetUseCustomSort(dataGrid))\n            {\n                return;\n            }\n\n            if (string.IsNullOrEmpty(e.Column.SortMemberPath))\n            {\n                return;\n            }\n\n            var listCollectionView = (ListCollectionView)CollectionViewSource.GetDefaultView(dataGrid.ItemsSource);\n            IComparer sorter = GetCustomSorter(e.Column);\n\n            if (sorter == null)\n            {\n                return;\n            }\n\n            listCollectionView.CustomSort = new ColumnComparer(sorter, e.Column);\n\n            e.Handled = true;\n        }\n</code></pre>\n\n<p>loading datagrid</p>\n\n<pre><code>private void PricingActiveCatagory_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            string Dir1 = string.Format(\"{0}/Displays/{1}/{2}\", SV.appPath, PricingActiveDisplay.SelectedValue.ToString(), PricingActiveCatagory.SelectedItem.ToString());\n            string[] fileList1 = Directory.GetFiles(Dir1);\n            if (fileList1.Length &gt; 0)\n            {\n                var conn = new SQLiteConnection(string.Format(\"data source ={0}/database/{1}.sqlite;Version=3;New=True;Compress=True;\", SV.appPath, PricingActiveDisplay.SelectedValue.ToString()));\n                dt.Clear();\n                dt.Columns.Clear();\n                dt = new DataTable();\n                try\n                {\n                    SQLiteCommandBuilder builder = new SQLiteCommandBuilder(da);\n                    using (conn)\n                    {\n                        conn.Open();\n                        dt.Rows.Clear();\n                        if (Sqlite.TableExists(PricingActiveCatagory.SelectedItem.ToString(), conn))\n                        {\n                            var sql = (\"SELECT * FROM \\\"\" + PricingActiveCatagory.SelectedItem.ToString() + \"\\\"\");\n                            using (SQLiteCommand cmdDataGrid = new SQLiteCommand(sql, conn))\n                            {\n                                da.SelectCommand = cmdDataGrid;\n                                da.Fill(dt);\n                                Pricing_view.DataContext = dt.DefaultView;\n                            }\n                        }\n                    }\n                }\n                catch (Exception ex)\n                {\n                    System.Windows.Forms.MessageBox.Show(ex.ToString());\n                }\n\n            }\n        }\n</code></pre>\n\n<p>xaml datagrid</p>\n\n<pre><code>&lt;DataGrid Grid.Row=\"1\" Name=\"Pricing_view\" AutoGenerateColumns=\"false\" local:DataGridHelpers.UseCustomSort=\"True\" ItemsSource=\"{Binding}\"  &gt;\n                                    &lt;DataGrid.Columns&gt;\n                                        &lt;DataGridTextColumn  Binding=\"{Binding Filename}\"  Header=\"File Name\" SortDirection=\"Ascending\" local:DataGridHelpers.CustomSorterType=\"{x:Type local:StrLogicalComparer}\"&gt;\n                                            &lt;DataGridTextColumn.ElementStyle&gt;\n                                                &lt;Style TargetType=\"TextBlock\"&gt;\n                                                    &lt;Setter Property=\"HorizontalAlignment\" Value=\"Center\" /&gt;\n                                                &lt;/Style&gt;\n                                            &lt;/DataGridTextColumn.ElementStyle&gt;\n                                        &lt;/DataGridTextColumn&gt;\n                                        &lt;DataGridTextColumn  Binding=\"{Binding FileTimeStamp}\"  Header=\"File Time Stamp\"/&gt;\n                                        &lt;DataGridTextColumn  Binding=\"{Binding dir}\" Header=\"image Dir\"/&gt;\n                                        &lt;DataGridTextColumn  Binding=\"{Binding upc}\"  Header=\"Upc Dir\"/&gt;\n                                        &lt;DataGridTextColumn  Binding=\"{Binding price}\"  Header=\"Price\"/&gt;\n                                    &lt;/DataGrid.Columns&gt;\n                                &lt;/DataGrid&gt;\n</code></pre>\n\n<p>Any assistants is greatly appreciated\n<a href=\"https://i.stack.imgur.com/XeRH5.jpg\" rel=\"nofollow noreferrer\">the reason im trying to setup custom sort</a></p>\n"}, {"tags": ["c#", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "edited": false, "score": 1, "creation_date": 1570760171, "post_id": 58310644, "comment_id": 103024180, "body": "How many <i>concurrent</i> users are you expecting at any given time? Unless it&#39;s in the thousands you shouldn&#39;t need to worry about port exhaustion. Don&#39;t take the advice to extremes. You don&#39;t want to create an <code>HttpClient</code> instance per <i>request</i>, but you should be fine with an instance per <i>user</i>."}, {"owner": {"reputation": 3922, "user_id": 2606962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb147c196e95aea1d164e82ac859c6ae?s=128&d=identicon&r=PG", "display_name": "UweB", "link": "https://stackoverflow.com/users/2606962/uweb"}, "reply_to_user": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "edited": false, "score": 0, "creation_date": 1570970415, "post_id": 58310644, "comment_id": 103078333, "body": "I am starting to think you are right, despite the seemingly strict advice in Microsoft&#39;s documentation. The thing is, since my code will not necessarily run inside a service class, I can&#39;t necessarily take their example code as template. Worse comes to worst, I can always handle authentication/cookies/redirects myself, if resources are becoming an issue.  Thank you!"}], "owner": {"reputation": 3922, "user_id": 2606962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb147c196e95aea1d164e82ac859c6ae?s=128&d=identicon&r=PG", "display_name": "UweB", "link": "https://stackoverflow.com/users/2606962/uweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570647803, "creation_date": 1570647803, "question_id": 58310644, "link": "https://stackoverflow.com/questions/58310644/httpclient-usage-pattern-vs-multiple-users-cookies", "title": "HttpClient Usage Pattern vs Multiple Users&#39; Cookies", "body": "<p>According to <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client</a>:</p>\n\n<blockquote>\n  <p>HttpClient is intended to be instantiated once and reused throughout the life of an application.\n  The following conditions can result in SocketException errors:</p>\n  \n  <ul>\n  <li>Creating a new HttpClient instance per request.</li>\n  <li>Server under heavy load.</li>\n  </ul>\n</blockquote>\n\n<p>I want to follow that guideline and allow multiple users to share that sole <code>HttpClient</code> instance, however the REST-service requires <strong>user-specific cookies</strong> (authentication purposes).</p>\n\n<p>Then I found this in the comments on <a href=\"https://stackoverflow.com/a/12374486/2606962\">StackOverflow</a>:</p>\n\n<blockquote>\n  <p>However, in discussions on the .NET GitHub it was brought to my attention that the problem does not lie in the HttpClient being disposed, but rather the HttpClientHandler.</p>\n</blockquote>\n\n<p>That would mean that you <em>can</em> instantiate/dispose <code>HttpClient</code> often as long as you ensure that you are not wasteful with your <code>HttpClientHandler</code> instances. Keeping one <code>HttpClientHandler</code> per user would allow me to keep different users' cookies apart, but it also wouldn't eliminate the problem described above...</p>\n\n<p>So I guess my question is:<br>\n<strong>Is the following <em>really</em> the only way to do this?</strong> (idea again taken from a <a href=\"https://stackoverflow.com/a/13287224/2606962\">StackOverflow</a> response)</p>\n\n<ul>\n<li>Use one global <code>new HttpClient(new HttpClientHandler { UseCookies = false }}</code></li>\n<li>Pluck the <code>Set-Cookie</code> value from the HTTP header of the authentication response and store it on a per-user basis (\"session object\")</li>\n<li>Pass those cookies along with every individual request?</li>\n</ul>\n\n<p>This seems terribly inconvenient...</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1570647368, "post_id": 58310513, "comment_id": 102982560, "body": "You&#39;re going to need to parse them into some kind of tuple or array of integers and sort those."}, {"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1570647381, "post_id": 58310513, "comment_id": 102982563, "body": "Assuming they&#39;re strings, split them into components and sort by component."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1570647392, "post_id": 58310513, "comment_id": 102982573, "body": "First split on period, then parse each to an <code>int</code>, then order by the first, then second, and so on."}, {"owner": {"reputation": 65, "user_id": 474847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff066061699278e123c7fa87dbaf7fb?s=128&d=identicon&r=PG", "display_name": "Microcontroleur", "link": "https://stackoverflow.com/users/474847/microcontroleur"}, "edited": false, "score": 0, "creation_date": 1570647395, "post_id": 58310513, "comment_id": 102982578, "body": "Exact, but I need to sort them numerically."}, {"owner": {"reputation": 3716, "user_id": 1971438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5862k.jpg?s=128&g=1", "display_name": "fnostro", "link": "https://stackoverflow.com/users/1971438/fnostro"}, "edited": false, "score": 1, "creation_date": 1570647593, "post_id": 58310513, "comment_id": 102982675, "body": "best way is to sort integers, but if you must deal with strings then rewrite each entry as 2 digit strings such that <code>1.10</code> becomes <code>01.10</code>, <code>1.2</code> becomes <code>01.02</code> etc"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1570647688, "post_id": 58310513, "comment_id": 102982710, "body": "<code>when trying to sort 1.10. will come right before 1.2</code> that hapens when they are not numbers but strings (numerals).  There are several great posts here on &#39;Natural Sort&#39; and even how to call/use the one built into Windows"}], "answers": [{"comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1570648225, "post_id": 58310702, "comment_id": 102982918, "body": "This doesn&#39;t address the issue in the question: There is a collection of strings in the form &quot;1.10.1.&quot;, &quot;1.2.1.&quot;, etc. OP knows how to perform a default sort. The question is how to make &quot;1.10.1.&quot; sort <b><i>after</i></b> &quot;1.2.1.&quot;"}], "tags": [], "owner": {"reputation": 303, "user_id": 9973108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnFtHpUYg_w/AAAAAAAAAAI/AAAAAAAAADM/wvP6q6c-R_s/photo.jpg?sz=128", "display_name": "Hairon Chaviano", "link": "https://stackoverflow.com/users/9973108/hairon-chaviano"}, "is_accepted": false, "score": -1, "last_activity_date": 1570648079, "creation_date": 1570648079, "answer_id": 58310702, "question_id": 58310513, "link": "https://stackoverflow.com/questions/58310513/how-to-sort-a-numbered-list/58310702#58310702", "title": "How to sort a numbered list", "body": "<p>you can use Sort method of the List</p>\n\n<pre><code> List&lt;int&gt; lista = new List&lt;int&gt;() {2,6,1,2,4,9,0,3};\n                lista.Sort();\n\n                foreach (var item in lista)\n                {\n                    Console.WriteLine(item);\n                }\n\n                Console.ReadKey();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1570648224, "post_id": 58310709, "comment_id": 102982916, "body": "That doesn&#39;t even compile.  What if <code>compared</code> is 0?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1570648258, "post_id": 58310709, "comment_id": 102982934, "body": "@juharr What doesn&#39;t compile about it? It does on my computer. If <code>compared</code> is 0 it loops again and checks the next value."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1570648286, "post_id": 58310709, "comment_id": 102982947, "body": "Not all paths have a return."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1570648312, "post_id": 58310709, "comment_id": 102982956, "body": "@juharr Did you <i>try</i> to compile it? All paths have a return value."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1570648386, "post_id": 58310709, "comment_id": 102982991, "body": "Did not realize the compiler would be smart enough to figure that out."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1570648584, "post_id": 58310709, "comment_id": 102983084, "body": "Although this will crash when comparing &quot;1.2.&quot; to &quot;1.2.1.&quot; since you cannot parse an empty string into an <code>int</code>."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1570648687, "post_id": 58310709, "comment_id": 102983139, "body": "@juharr Thanks, I&#39;ve edited my answer to address that."}, {"owner": {"reputation": 4137, "user_id": 5519709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3tpv.jpg?s=128&g=1", "display_name": "Selim Yildiz", "link": "https://stackoverflow.com/users/5519709/selim-yildiz"}, "edited": false, "score": 0, "creation_date": 1570648946, "post_id": 58310709, "comment_id": 102983254, "body": "This will still crash when comparing &quot;1&quot; to &quot;1.5.7&quot;."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 4137, "user_id": 5519709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3tpv.jpg?s=128&g=1", "display_name": "Selim Yildiz", "link": "https://stackoverflow.com/users/5519709/selim-yildiz"}, "edited": false, "score": 0, "creation_date": 1570654114, "post_id": 58310709, "comment_id": 102985257, "body": "@SelimY\u0131ld\u0131z It shouldn&#39;t. When <code>i</code> is 1, the <code>if (xParts.Length &lt; i &amp;&amp; yParts.Length &gt;= i)</code> will evaluate to true and -1 will be returned. What are you seeing that I&#39;m not?"}], "tags": [], "owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "is_accepted": false, "score": 1, "last_activity_date": 1570648673, "last_edit_date": 1570648673, "creation_date": 1570648091, "answer_id": 58310709, "question_id": 58310513, "link": "https://stackoverflow.com/questions/58310513/how-to-sort-a-numbered-list/58310709#58310709", "title": "How to sort a numbered list", "body": "<p>You can create an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.icomparer-1?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>IComparer&lt;T&gt;</code></a> class to help the sorter do what you want:</p>\n\n<pre><code>class MyComparer : IComparer&lt;string&gt;\n{\n    public int Compare(string x, string y)\n    {\n        string[] xParts = x.Split(new[] { '.' }, StringSplitOptions.RemoveEmptyEntries);\n        string[] yParts = y.Split(new[] { '.' }, StringSplitOptions.RemoveEmptyEntries);\n\n        for (int i = 0;;i++)\n        {\n            if (xParts.Length &gt;= i &amp;&amp; yParts.Length &lt; i)\n                return 1;\n            if (xParts.Length &lt; i &amp;&amp; yParts.Length &gt;= i)\n                return -1;\n            if (xParts.Length &lt; i &amp;&amp; yParts.Length &lt; i)\n                return 0;\n\n            int compared = int.Parse(xParts[i]).CompareTo(int.Parse(yParts[i]));\n            if (compared != 0)\n                return compared;\n        }\n    }\n}\n</code></pre>\n\n<p>Then you can sort your values like so:</p>\n\n<pre><code>var sorted = values.OrderBy(s =&gt; s, new MyComparer()).ToList();\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 474847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff066061699278e123c7fa87dbaf7fb?s=128&d=identicon&r=PG", "display_name": "Microcontroleur", "link": "https://stackoverflow.com/users/474847/microcontroleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1570648965, "answer_count": 2, "score": 1, "last_activity_date": 1570648673, "creation_date": 1570647263, "last_edit_date": 1570647332, "question_id": 58310513, "link": "https://stackoverflow.com/questions/58310513/how-to-sort-a-numbered-list", "closed_reason": "Duplicate", "title": "How to sort a numbered list", "body": "<p>So I have this numbered list that I need to sort numerically: </p>\n\n<pre><code>1\n1.1.\n1.1.1.\n1.1.2.\n1.1.3.\n1.1.4.\n1.1.5.\n1.1.6.\n1.1.7.\n1.2.\n1.2.1.\n1.2.2.\n1.2.3.\n1.2.4.\n1.2.5.\n1.2.6.\n1.3.\n1.3.1.\n1.3.2.\n1.3.3.\n1.3.4.\n1.4.\n1.4.1.\n1.4.2.\n1.4.3.\n1.5.\n1.5.1.\n1.5.2.\n1.5.3.\n1.6.\n1.6.1.\n1.6.1.1.\n1.6.1.2.\n1.6.2.\n1.6.2.1.\n1.6.2.2.\n1.6.2.3.\n1.6.2.4.\n1.6.2.5.\n1.6.2.6.\n1.6.3.\n1.6.3.1.\n1.6.3.2.\n1.6.3.3.\n1.6.3.4.\n1.6.3.5.\n1.6.4.\n1.6.5.\n1.7.\n1.7.1.\n1.7.1.1.\n1.7.1.2.\n1.7.1.3.\n1.7.2.\n1.7.3.\n1.7.4.\n1.7.5.\n1.7.5.1.\n1.7.5.2.\n1.7.6.\n1.7.7.\n1.7.8.\n1.7.9.\n1.8.\n1.9.\n1.10.\n</code></pre>\n\n<p>Issue is when trying to sort 1.10. will come right before 1.2. instead of after 1.9.</p>\n\n<p>Any Idea how I can achieve this using C# or linq?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "jquery-ui"], "comments": [{"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1570685657, "post_id": 58310450, "comment_id": 102992229, "body": "It might help to add <code>ValidationGroup</code> to the validator to separate which controls are affected."}, {"owner": {"reputation": 1, "user_id": 12190497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/276c3b9a9b5733530daf93c1edae0db9?s=128&d=identicon&r=PG&f=1", "display_name": "utsav gundaraniya", "link": "https://stackoverflow.com/users/12190497/utsav-gundaraniya"}, "reply_to_user": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1570734301, "post_id": 58310450, "comment_id": 103017110, "body": "it was because jquery was loading twice got it fixed .In master page Jquery was used twice jquery.min and jquery-3.3.1 was included as well took one off and it worked"}], "owner": {"reputation": 1, "user_id": 12190497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/276c3b9a9b5733530daf93c1edae0db9?s=128&d=identicon&r=PG&f=1", "display_name": "utsav gundaraniya", "link": "https://stackoverflow.com/users/12190497/utsav-gundaraniya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570646955, "creation_date": 1570646955, "question_id": 58310450, "link": "https://stackoverflow.com/questions/58310450/jquery-autocomplete-with-asp-validation", "title": "Jquery AutoComplete with ASP validation", "body": "<p>I am new to webforms and i ran into problem i have two different text box one used jQuery auto complete and other has asp:validation . so when i add asp:validation to TextBoxProjectName my jquery autocomplete for SearchTxt fails and if i remove my validation from TextBoxProjectName the jquery fires perfectly for SearchTxt   </p>\n\n<p>\n        </p>\n\n<pre><code>        &lt;asp:Label ID=\"searchlabel\" Text=\"Search \" runat=\"server\"&gt;&lt;/asp:Label&gt;\n        &lt;asp:TextBox ID=\"SearchTxt\" runat=\"server\" CssClass=\"form-control txtSearchProgram\" Width=\"90%\" AutoPostBack=\"true\" Text=\"\"&gt;&lt;/asp:TextBox&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-1 w-100 mt-3\" style=\"display: inline-block\"&gt;\n        &lt;asp:LinkButton ID=\"ShowAdd\" runat=\"server\" CausesValidation=\"true\" Text=\"Add\" CssClass=\"btn btn-main \" OnClientClick=\" return BtnSend_Click()\" align=\"center\"&gt;&lt;i class=\"fas fa-plus\"&gt;&lt;/i&gt; Add&lt;/asp:LinkButton&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n\n\n&lt;div class=\"row  m-4 \" id=\"ShowOnClick\" style=\"display: none\"&gt;\n    &lt;div class=\"col-4 w-100\"&gt;\n        &lt;asp:Label ID=\"LabelProjectName\" Text=\"Add Project Name \" runat=\"server\"&gt;&lt;/asp:Label&gt;\n        &lt;asp:TextBox ID=\"TextBoxProjectName\" runat=\"server\" Text=\"\" CssClass=\"form-control \" Width=\"90%\"&gt;&lt;/asp:TextBox&gt;\n       &lt;%-- &lt;asp:RequiredFieldValidator ID=\"TextBoxProjectNameRequiredFieldValidator\" runat=\"server\" ControlToValidate=\"TextBoxProjectName\" CssClass=\"invalid-feedback elementToValidate\"\n            Display=\"Dynamic\" ErrorMessage=\"Required\" ValidationGroup=\"txt\"&gt;Required&lt;/asp:RequiredFieldValidator&gt;--%&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=\"col-4 w-100\"&gt;\n        &lt;asp:Label ID=\"LabelProjectLink\" Text=\"Add Project Link Use Format  &lt;span style='color:red'&gt;*&lt;/span&gt;(https://google.com)&lt;span style='color:red'&gt;*&lt;/span&gt;\" runat=\"server\" Style=\"display: block\"&gt;&lt;/asp:Label&gt;\n        &lt;asp:TextBox ID=\"TextBoxProjectLink\" runat=\"server\" CssClass=\"form-control\" AutoPostBack=\"false\" Width=\"90%\" &gt;&lt;/asp:TextBox&gt;\n\n    &lt;/div&gt;\n     &lt;div class=\"col-4 w-100\"&gt;\n       &lt;asp:Label ID=\"LabelGroupName\" Text=\"Add Group Name \" runat=\"server\"&gt;&lt;/asp:Label&gt;\n        &lt;asp:TextBox ID=\"TextBoxGroupName\" runat=\"server\" Text=\"\" CssClass=\"form-control \" Width=\"79%\" Style=\"display: inline-block\"&gt;&lt;/asp:TextBox&gt;\n          &lt;asp:LinkButton ID=\"AddButton\" runat=\"server\" ValidationGroup=\"txt\" CausesValidation=\"true\" Text=\"Add\" CssClass=\"btn btn-main\" OnClick=\"Add_NewProject\" align=\"center\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt; Save&lt;/asp:LinkButton&gt;\n    &lt;/div&gt;\n\n    &lt;asp:RegularExpressionValidator \n    ID=\"RegularExpressionValidator1\"\n    runat=\"server\" \n    Display=\"Dynamic\"\n    ForeColor=\"Red\"\n    ValidationExpression=\"http(s)?://([\\w-]+\\.)+[\\w-]+(/[\\w- ./?%&amp;=]*)?\"\n    ControlToValidate=\"TextBoxProjectLink\"\n    ErrorMessage=\"Input valid Internet URL!\"\n    &gt;&lt;/asp:RegularExpressionValidator&gt;--%&gt;\n</code></pre>\n\n<p>\n    </p>\n"}, {"tags": ["c#", "html", "asp.net", "datatable", "dropdown"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570647226, "post_id": 58310214, "comment_id": 102982498, "body": "Since you&#39;re apparently using ASP.NET MVC, why not just use <code>Html.DropDownListFor</code>? See <a href=\"https://stackoverflow.com/q/3057873/215552\">How to write a simple Html.DropDownListFor()?</a>"}, {"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1570655655, "post_id": 58310214, "comment_id": 102985839, "body": "Where is the function <code>myFilter</code> ?"}, {"owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "reply_to_user": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1570657831, "post_id": 58310214, "comment_id": 102986511, "body": "@EGC there&#39;s no myFilter function sorry about the copy&amp;paste, do you have any suggestion about that function?"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "edited": false, "score": 0, "creation_date": 1570655277, "post_id": 58310412, "comment_id": 102985704, "body": "Sorry sir but I dont understand how to implement this, can you please throw an example?"}, {"owner": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "reply_to_user": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "edited": false, "score": 0, "creation_date": 1570709862, "post_id": 58310412, "comment_id": 103004099, "body": "This code already pretty much is an example. Just put that ajax call into a function in javascript that gets called whenever you want it to, customize the variables in the data section of the ajax call to be whatever you need them to be, and that&#39;s it. I&#39;ve added comments to the code to make it a little more clear. Hope this helps!"}], "tags": [], "owner": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "is_accepted": false, "score": 1, "last_activity_date": 1570710101, "last_edit_date": 1570710101, "creation_date": 1570646809, "answer_id": 58310412, "question_id": 58310214, "link": "https://stackoverflow.com/questions/58310214/grab-c-variable-value-from-a-html-dropdown-menu-to-pass-parameter-to-variable-i/58310412#58310412", "title": "Grab C# variable value from a HTML dropdown-menu to pass parameter to variable in Controller Object", "body": "<p>The best way to do this is to set up an ajax call in a javascript function and send the data you need to your controller through an endpoint. So basically something like this:</p>\n\n<p>Javascript:</p>\n\n<pre><code>$.ajax({\n   type: \"POST\",\n   url: \"Home/GetInfo\", //The controller class name (minus 'Controller') + '/' + Function Name\n   data: {\n      var: optionValue, //var being the name of the variable in the c# function and optionValue being the value of the dropdown\n      date: date\n   },\n   success: function () {\n      // Do whatever you want when the function returns successfully\n      alert(\"Successfully sent data\")\n   },\n   error: function (xhr, status, error) {\n      // If something went wrong in making the call \n      // (it couldnt find the endpoint or an exception got called in the c# function), \n      // do something with the error data\n      alert(error);\n   }\n});\n</code></pre>\n\n<p>C# function in HomeController</p>\n\n<pre><code>public void GetInfo(string var, DateTime date){\n   string myVar = var;\n   DateTime myDate = date;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "is_accepted": true, "score": 1, "last_activity_date": 1570658763, "creation_date": 1570658763, "answer_id": 58312905, "question_id": 58310214, "link": "https://stackoverflow.com/questions/58310214/grab-c-variable-value-from-a-html-dropdown-menu-to-pass-parameter-to-variable-i/58312905#58312905", "title": "Grab C# variable value from a HTML dropdown-menu to pass parameter to variable in Controller Object", "body": "<p>You could give something like this a go?</p>\n\n<p>I referred to these existing answers for some code parts: <a href=\"https://stackoverflow.com/a/16112308/11700321\">html select (dropdown) control selected index changed event in asp.net</a> &amp; <a href=\"https://forums.asp.net/t/1684883.aspx?Dropdown%20selected%20index%20changed%20event%20not%20firing%20up\" rel=\"nofollow noreferrer\">Dropdown selected index changed event not firing up</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"col-lg-2 col-md-3 form-group pull-right\"&gt;\n    &lt;label&gt;Sucursal:&lt;/label&gt;\n    &lt;select id=\"sucursalTabla\" OnSelectedIndexChanged=\"ddl_SelectedIndexChanged\" AutoPostBack=\"True\" class=\"form-control\"&gt;\n        &lt;option value=\"\" selected&gt;Filtrar..&lt;/option&gt;\n        &lt;option value=\"MY\"&gt;Monterrey&lt;/option&gt;\n        &lt;option value=\"GD\"&gt;Guadalajara&lt;/option&gt;\n        &lt;option value=\"MX\"&gt;Mexico&lt;/option&gt;\n        &lt;option value=\"PB\"&gt;Puebla&lt;/option&gt;\n        &lt;option value=\"VR\"&gt;Veracruz&lt;/option&gt;\n        &lt;option value=\"MD\"&gt;Merida&lt;/option&gt;\n        &lt;option value=\"SA\"&gt;Saltillo&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>using dependencies;\n\nnamespace Automata.Controllers\n{\n    public class HomeController : Controller\n    {\n        protected void ddl_SelectedIndexChanged(object sender, EventArgs e)\n       {\n            //code here\n       }\n\n        public System.Data.DataTable dt_PagosRecibidos = new System.Data.DataTable();\n        public ActionResult PagosRecibidos()\n        {\n            cargarPagosRecibidos();\n            return View();\n        }\n        public void cargarPagosRecibidos()\n        {\n            string myVar = \"\";\n            String SentaiAppServer = System.Configuration.ConfigurationManager.AppSettings[\"SentaiAppServer\"].ToString();\n            string sURL = SentaiAppServer + (\"app/interfaces/bbva/sp_EstadoCuenta.html?fecha_ini=07/16/19&amp;fecha_fin=07/16/19&amp;interfazado=no&amp;Sucursal=\" + myVar + \"&amp;\");\n            System.Data.DataSet ds = clsUtilerias.ObtenerDSInterfaceSentai(sURL);\n            dt_PagosRecibidos = ds.Tables[1];\n        }\n    }\n}\n</code></pre>\n\n<p>To access the element specifically from the <code>EventArgs e</code> value, refer to the official documentation: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.htmlcontrols.htmlselect?view=netframework-4.8\" rel=\"nofollow noreferrer\">HtmlSelect Class</a> &amp; <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.dropdownlist.selectedindex?view=netframework-4.8\" rel=\"nofollow noreferrer\">DropDownList.SelectedIndex Property</a></p>\n\n<p>Goodluck!</p>\n"}], "owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 58312905, "answer_count": 2, "score": 0, "last_activity_date": 1570710101, "creation_date": 1570645846, "last_edit_date": 1570655226, "question_id": 58310214, "link": "https://stackoverflow.com/questions/58310214/grab-c-variable-value-from-a-html-dropdown-menu-to-pass-parameter-to-variable-i", "title": "Grab C# variable value from a HTML dropdown-menu to pass parameter to variable in Controller Object", "body": "<p>I have a question and I have no idea how to even start. I have this controller:</p>\n\n<p>HomeController.cs</p>\n\n<pre><code>using dependencies;\n\nnamespace Automata.Controllers\n{\n    public class HomeController : Controller\n    {\n        public System.Data.DataTable dt_PagosRecibidos = new System.Data.DataTable();\n        public ActionResult PagosRecibidos()\n        {\n            cargarPagosRecibidos();\n            return View();\n        }\n        public void cargarPagosRecibidos()\n        {\n            string myVar = \"\";\n            String SentaiAppServer = System.Configuration.ConfigurationManager.AppSettings[\"SentaiAppServer\"].ToString();\n            string sURL = SentaiAppServer + (\"app/interfaces/bbva/sp_EstadoCuenta.html?fecha_ini=07/16/19&amp;fecha_fin=07/16/19&amp;interfazado=no&amp;Sucursal=\" + myVar + \"&amp;\");\n            System.Data.DataSet ds = clsUtilerias.ObtenerDSInterfaceSentai(sURL);\n            dt_PagosRecibidos = ds.Tables[1];\n        }\n    }\n}\n</code></pre>\n\n<p>I also have my HTML dropdown:</p>\n\n<pre><code>&lt;div class=\"col-lg-2 col-md-3 form-group pull-right\"&gt;\n    &lt;label&gt;Sucursal:&lt;/label&gt;\n    &lt;select id=\"sucursalTabla\" onchange=\"myFilter()\" class=\"form-control\"&gt;\n        &lt;option value=\"\" selected&gt;Filtrar..&lt;/option&gt;\n        &lt;option value=\"MY\"&gt;Monterrey&lt;/option&gt;\n        &lt;option value=\"GD\"&gt;Guadalajara&lt;/option&gt;\n        &lt;option value=\"MX\"&gt;Mexico&lt;/option&gt;\n        &lt;option value=\"PB\"&gt;Puebla&lt;/option&gt;\n        &lt;option value=\"VR\"&gt;Veracruz&lt;/option&gt;\n        &lt;option value=\"MD\"&gt;Merida&lt;/option&gt;\n        &lt;option value=\"SA\"&gt;Saltillo&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I make the <code>option value=\"XX\"</code> equal to <code>myVar</code> in my controller?</p>\n\n<p>Or is there any other way I can use a dropdown to change a variable in the object I have inside my Controller?</p>\n\n<p>I will need to do the same thing with the date, </p>\n\n<pre><code>(\"app/interfaces/bbva/sp_EstadoCuenta.html?fecha_ini=07/16/19&amp;fecha_fin=07/16/19&amp;interfazado=no&amp;Sucursal=\" + myVar + \"&amp;\");\n\nfecha_ini=07/16/19\nfecha_fin=07/16/19\n</code></pre>\n\n<p>those might be variables also such as </p>\n\n<pre><code>starte_date = picker.startdate\nend_date = picker.enddate\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "rest", "web-services", "soap"], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 3518066, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ucrJo.jpg?s=128&g=1", "display_name": "nullpointer", "link": "https://stackoverflow.com/users/3518066/nullpointer"}, "edited": false, "score": 0, "creation_date": 1570651747, "post_id": 58311385, "comment_id": 102984354, "body": "Thanks for your reply Austin, but no, I have them both in the same project. In that project I need to consume the SOAP service while I expose the REST service."}, {"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "reply_to_user": {"reputation": 430, "user_id": 3518066, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ucrJo.jpg?s=128&g=1", "display_name": "nullpointer", "link": "https://stackoverflow.com/users/3518066/nullpointer"}, "edited": false, "score": 0, "creation_date": 1570653802, "post_id": 58311385, "comment_id": 102985130, "body": "The code I gave is for connecting (consuming) a SOAP service. Can you connect / instantiate the soap service with the approach I gave?"}, {"owner": {"reputation": 430, "user_id": 3518066, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ucrJo.jpg?s=128&g=1", "display_name": "nullpointer", "link": "https://stackoverflow.com/users/3518066/nullpointer"}, "edited": false, "score": 0, "creation_date": 1570654335, "post_id": 58311385, "comment_id": 102985354, "body": "Yes, it works. But when I do soapService.operation(), then I get that exception. I created a separate project, and can consume the SOAP web service there with no problem."}], "tags": [], "owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "is_accepted": false, "score": 0, "last_activity_date": 1570650914, "creation_date": 1570650914, "answer_id": 58311385, "question_id": 58310095, "link": "https://stackoverflow.com/questions/58310095/make-a-rest-service-that-uses-another-soap-service-c/58311385#58311385", "title": "Make a REST service that uses another SOAP service C#", "body": "<p>Yep, that's exactly how it will work by default!</p>\n\n<p>But you can override those settings pretty easily.</p>\n\n<pre><code>        var soapService = new SoapClass.SoapService(\n            new BasicHttpBinding(BasicHttpSecurityMode.Transport), //Pick the right mode here\n            new EndpointAddress(mySoapUrl));\n</code></pre>\n\n<p>My assumption being you have multiple projects, and the Soap is being added to the wrong config.</p>\n\n<p>The other choice, would be to move the correct config settings to the correct config.</p>\n"}], "owner": {"reputation": 430, "user_id": 3518066, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ucrJo.jpg?s=128&g=1", "display_name": "nullpointer", "link": "https://stackoverflow.com/users/3518066/nullpointer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570650914, "creation_date": 1570645291, "last_edit_date": 1570648376, "question_id": 58310095, "link": "https://stackoverflow.com/questions/58310095/make-a-rest-service-that-uses-another-soap-service-c", "title": "Make a REST service that uses another SOAP service C#", "body": "<p>I have made a simple <strong>REST</strong> service (<strong>WCF</strong>) that will be using another <strong>SOAP</strong> service.</p>\n\n<p>My <strong>REST</strong> service works fine, but when I add the <strong>SOAP</strong> service (<strong>Added as a Service Reference</strong>), it adds data to the <strong>Web.config</strong> file.</p>\n\n<p>One thing I want to highlight is that I do not want to expose the <strong>SOAP</strong> service, I'll be just consuming it.</p>\n\n<p>But when I try to invoke an operation, I get this error:</p>\n\n<blockquote>\n  <p>The endpoint at <em>www.myaddress.com</em> does not have a Binding with the\n  None MessageVersion. 'System.ServiceModel.Description.WebHttpBehavior'\n  is only intended for use with WebHttpBinding or similar bindings.</p>\n</blockquote>\n\n<p>Looking on the internet, people have issues with the config file, but they're exposing two services. I am just exposing one service, and consuming the other. For now, the <strong>REST</strong> service I am consuming through <strong>localhost</strong>, and the <strong>SOAP</strong> service uses <strong>SAML ADFS authentication</strong></p>\n\n<p>This is how my config file look, can someone please suggest a fix?</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;configuration&gt;\n\n      &lt;appSettings&gt;\n        &lt;add key=\"aspnet:UseTaskFriendlySynchronizationContext\" value=\"true\" /&gt;\n      &lt;/appSettings&gt;\n      &lt;system.web&gt;\n        &lt;compilation debug=\"true\" targetFramework=\"4.5.2\" /&gt;\n        &lt;httpRuntime targetFramework=\"4.5.2\"/&gt;\n      &lt;/system.web&gt;\n      &lt;system.serviceModel&gt;\n        &lt;bindings&gt;\n          &lt;ws2007FederationHttpBinding&gt;\n            &lt;binding name=\"WS2007FederationHttpBinding_mySOAPService\"&gt;\n              &lt;security mode=\"TransportWithMessageCredential\"&gt;\n                &lt;message&gt;\n                  &lt;issuer address=\"issuer.address\"/&gt;\n                  &lt;issuerMetadata address=\"issuer.metadata.address\" /&gt;\n                  &lt;tokenRequestParameters&gt;\n                    .\n                    .\n                    .\n                  &lt;/tokenRequestParameters&gt;\n                &lt;/message&gt;\n              &lt;/security&gt;\n            &lt;/binding&gt;\n          &lt;/ws2007FederationHttpBinding&gt;\n          &lt;ws2007HttpBinding&gt;\n            &lt;binding name=\"binding.address\"&gt;\n              &lt;security mode=\"TransportWithMessageCredential\"&gt;\n                &lt;transport clientCredentialType=\"None\" /&gt;\n                &lt;message clientCredentialType=\"UserName\" establishSecurityContext=\"false\" /&gt;\n              &lt;/security&gt;\n            &lt;/binding&gt;\n          &lt;/ws2007HttpBinding&gt;\n        &lt;/bindings&gt;\n        &lt;client&gt;\n          &lt;endpoint address=\"endpoint.address\"\n            binding=\"ws2007FederationHttpBinding\" bindingConfiguration=\"WS2007FederationHttpBinding_mySOAPService\"\n            contract=\"ServiceReference1.mySOAPService\" name=\"WS2007FederationHttpBinding_mySOAPService\" /&gt;\n        &lt;/client&gt;\n        &lt;behaviors&gt;\n          &lt;serviceBehaviors&gt;\n            &lt;behavior&gt;\n              &lt;!-- To avoid disclosing metadata information, set the values below to false before deployment --&gt;\n              &lt;serviceMetadata httpGetEnabled=\"true\" httpsGetEnabled=\"true\"/&gt;\n              &lt;!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information --&gt;\n              &lt;serviceDebug includeExceptionDetailInFaults=\"false\"/&gt;\n            &lt;/behavior&gt;\n          &lt;/serviceBehaviors&gt;\n          &lt;endpointBehaviors&gt;\n            &lt;behavior&gt;\n              &lt;webHttp/&gt;\n            &lt;/behavior&gt;\n          &lt;/endpointBehaviors&gt;\n        &lt;/behaviors&gt;\n        &lt;protocolMapping&gt;\n            &lt;add binding=\"webHttpBinding\" scheme=\"http\" /&gt;\n            &lt;add binding=\"basicHttpsBinding\" scheme=\"https\" /&gt;\n        &lt;/protocolMapping&gt;    \n        &lt;serviceHostingEnvironment aspNetCompatibilityEnabled=\"true\" multipleSiteBindingsEnabled=\"true\" /&gt;\n      &lt;/system.serviceModel&gt;\n      &lt;system.webServer&gt;\n        &lt;modules runAllManagedModulesForAllRequests=\"true\"/&gt;\n        &lt;!--\n            To browse web app root directory during debugging, set the value below to true.\n            Set to false before deployment to avoid disclosing web app folder information.\n          --&gt;\n        &lt;directoryBrowse enabled=\"true\"/&gt;\n      &lt;/system.webServer&gt;\n\n    &lt;/configuration&gt;\n</code></pre>\n"}, {"tags": ["c#", "file", "path", "copy", "backup"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 2, "creation_date": 1570645266, "post_id": 58310038, "comment_id": 102981664, "body": "I recommending taking a look at our <a href=\"https://stackoverflow.com/help\">help center</a> . There, it explains why this question is not a good one for StackOverflow. You have shown that you have done no research or made attempts on your own, which is a big part of StackOverflow. How can we help you with your code, if there is no code to help with? If you do have code, please, share it!"}, {"owner": {"reputation": 1017, "user_id": 9860690, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PmtRc21IbPI/AAAAAAAAAAI/AAAAAAAAAg0/bNw1g9vhJIM/photo.jpg?sz=128", "display_name": "Nafis Islam", "link": "https://stackoverflow.com/users/9860690/nafis-islam"}, "edited": false, "score": 0, "creation_date": 1570645304, "post_id": 58310038, "comment_id": 102981683, "body": "() =&gt; <a href=\"https://stackoverflow.com/questions/3360324/check-last-modified-date-of-file-in-c-sharp\" title=\"check last modified date of file in c sharp\">stackoverflow.com/questions/3360324/&hellip;</a>"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1570645523, "post_id": 58310038, "comment_id": 102981787, "body": "This lacks a crucial piece of information. Modified since when? Since the last read?"}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1570648718, "last_edit_date": 1570648718, "creation_date": 1570648388, "answer_id": 58310786, "question_id": 58310038, "link": "https://stackoverflow.com/questions/58310038/c-when-file-txt-is-modified-save-a-copy-to-archive-folder/58310786#58310786", "title": "C# When file.txt is modified save a copy to archive folder", "body": "<p>It appears that what you need is an algorithm to copy files with file names appropriately incremented. This will do what you're looking for.</p>\n\n<p>Say these are you file and archive directory names.</p>\n\n<pre><code>var file = @\"Data/A.txt\";\nvar archive = @\"Data/Archive\";\n</code></pre>\n\n<p>We see if the last write time condition is satisfied. If so, we enumerate <em>all</em> files in your destination directory that match your original file patter. That is, it must start with <code>A</code>, then it may or may not have <code>(1)</code> etc. So all files such as <code>A.txt</code>, <code>A(1).txt</code>, <code>A(2).txt</code> are enumerated. Then we get the last of those files in order (and here we must be careful to sort by length, if you simply sort by value, <code>A.txt</code> will come after all others). Then using a <code>Regex</code> we get the last file's number, increment, and copy file with the new name.</p>\n\n<pre><code>if (File.GetLastWriteTime(file) &gt; DateTime.Today)\n{\n    var fileNameOnly = Path.GetFileNameWithoutExtension(file);\n    var ext = Path.GetExtension(file);\n    var pattern = fileNameOnly + \"*\" + ext;\n\n    var lastCopy = Directory.EnumerateFiles(archive, pattern, System.IO.SearchOption.TopDirectoryOnly)\n        .OrderBy(x =&gt; x.Length)\n        .LastOrDefault();\n\n    var newName = fileNameOnly + ext;\n    if (lastCopy != null)\n    {\n        var lastCopyNameOnly = Path.GetFileNameWithoutExtension(lastCopy);\n        var match = Regex.Match(lastCopyNameOnly, @\"(.+)\\((\\d+)\\)\");\n        int lastNum = 1;\n        if (match.Success)\n        {\n            int.TryParse(match.Groups[2].Value, out lastNum);\n            lastNum++;\n        }\n        newName = string.Format(\"{0}({1}){2}\", fileNameOnly, lastNum, ext);\n    }\n\n    var dest = Path.Combine(archive, newName);\n    File.Copy(file, dest);\n}\n</code></pre>\n\n<hr>\n\n<h2>Note</h2>\n\n<p>Be careful about <code>var lastNum = 1;</code> initializatin as well. You must initialize to <code>1</code>, not <code>zero</code>. Because if the <code>match.Success == false</code>, that mean you have only the <code>A.txt</code> file in the destination, so then your next file will be <code>A(1).txt</code>. If you initialized it to <code>zero</code>, then your next file will be <code>A(0).txt</code> which isn't what your desired output is.</p>\n"}], "owner": {"reputation": 11, "user_id": 11574553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f07da9da5d2ebc56e4af165c8d0ae89?s=128&d=identicon&r=PG&f=1", "display_name": "AppDev", "link": "https://stackoverflow.com/users/11574553/appdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1570648718, "creation_date": 1570645018, "last_edit_date": 1570646688, "question_id": 58310038, "link": "https://stackoverflow.com/questions/58310038/c-when-file-txt-is-modified-save-a-copy-to-archive-folder", "title": "C# When file.txt is modified save a copy to archive folder", "body": "<p>How can I identify when the file have been modified. If the file is modified save a copy each time to \"archive\" folder. The file name will increment: file (1).txt , file (2).txt .....</p>\n\n<p>My code below stop increment on 2. </p>\n\n<pre><code>FileInfo fileSettings = new FileInfo(@\"c:\\path\\file.txt\");\nstring archive = @\"C:\\Users\\Desktop\\archive\\\";`\n\nif ( fileSettings.LastWriteTime &gt; DateTime.Today )\n{\n  int count = 1;\n  string woExtension = Path.GetFileNameWithoutExtension(@\"c:\\path\\file.txt\");\n  string extension = Path.GetExtension(@\"c:\\path\\file.txt\");\n\n  string tempFilename = string.Format(\"{0} ({1})\", woExtension, count++);\n  fileSettings.CopyTo(Path.Combine(archive + tempFilename + extension));\n}\n</code></pre>\n"}, {"tags": ["c#", "numbers", "format"], "answers": [{"tags": [], "owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570644997, "creation_date": 1570644997, "answer_id": 58310031, "question_id": 58309919, "link": "https://stackoverflow.com/questions/58309919/how-do-i-have-a-variable-determine-how-many-decimal-points-to-display-c/58310031#58310031", "title": "How do I have a variable determine how many decimal points to display? c#", "body": "<p>Try <code>.ToString(string Format)</code>:</p>\n\n<pre><code>Console.WriteLine(\"{0} added to {1} is {2}\", Num1, Num2, Answer.ToString(\"F\" + DP));\n</code></pre>\n\n<p>This will pass <code>\"F\" + DP</code> for the format provider. So, if <code>DP = 2</code>, then it would write the <code>Answer</code> as <code>Answer.ToString(\"F2\")</code> (2 decimal places).</p>\n"}], "owner": {"reputation": 1, "user_id": 12190586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ddfd56d8624424d9a85fef2decdadf?s=128&d=identicon&r=PG&f=1", "display_name": "Kronos", "link": "https://stackoverflow.com/users/12190586/kronos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1570645310, "answer_count": 1, "score": 0, "last_activity_date": 1570646518, "creation_date": 1570644551, "last_edit_date": 1570646518, "question_id": 58309919, "link": "https://stackoverflow.com/questions/58309919/how-do-i-have-a-variable-determine-how-many-decimal-points-to-display-c", "closed_reason": "Duplicate", "title": "How do I have a variable determine how many decimal points to display? c#", "body": "<p>I want to have the user say how many decimal points they want to display, I am trying to use format specifiers like <code>{0:F2}</code> but when I try something like</p>\n\n<pre><code>Console.WriteLine(\"{0} added to {1} is {2:F{3}}\", Num1, Num2, Answer, DP);\n</code></pre>\n\n<p>it doesn't work, how do I do it?</p>\n"}, {"tags": ["c#", ".net", "reflection"], "comments": [{"owner": {"reputation": 905, "user_id": 9287029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5cd72ac1361a607ea6c2d1206e040f?s=128&d=identicon&r=PG", "display_name": "Chris Yungmann", "link": "https://stackoverflow.com/users/9287029/chris-yungmann"}, "edited": false, "score": 0, "creation_date": 1570644587, "post_id": 58309739, "comment_id": 102981349, "body": "Related: <a href=\"https://stackoverflow.com/q/2693881/9287029\">stackoverflow.com/q/2693881/9287029</a>"}, {"owner": {"reputation": 498, "user_id": 2959415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001780151841/picture?type=large", "display_name": "Vitalii Ilchenko", "link": "https://stackoverflow.com/users/2959415/vitalii-ilchenko"}, "edited": false, "score": 0, "creation_date": 1570644617, "post_id": 58309739, "comment_id": 102981367, "body": "Please use search before creating new question: <a href=\"https://stackoverflow.com/questions/2693881/can-i-use-reflection-to-inspect-the-code-in-a-method\" title=\"can i use reflection to inspect the code in a method\">stackoverflow.com/questions/2693881/&hellip;</a>"}, {"owner": {"reputation": 1885, "user_id": 2742614, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SnKQs.jpg?s=128&g=1", "display_name": "DevEstacion", "link": "https://stackoverflow.com/users/2742614/devestacion"}, "edited": false, "score": 1, "creation_date": 1570645543, "post_id": 58309739, "comment_id": 102981795, "body": "Just for context, why are you doing this?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 498, "user_id": 2959415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001780151841/picture?type=large", "display_name": "Vitalii Ilchenko", "link": "https://stackoverflow.com/users/2959415/vitalii-ilchenko"}, "edited": false, "score": 1, "creation_date": 1570645986, "post_id": 58309739, "comment_id": 102982004, "body": "@VitaliiIlchenko I don&#39;t think OP is asking for detailed information &quot;body of the method Y is different between those 2 files&quot; - simple diff as suggested by Chris Yungmann answer does satisfy that requirement... While indeed OP may be actually looking for something different this feels clear and complete enough to stay as separate question for me... (Lack of research can be indicated by downvote...)"}, {"owner": {"reputation": 59, "user_id": 3787885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893077d248568e425cc9855e08bb4677?s=128&d=identicon&r=PG&f=1", "display_name": "Neffarion", "link": "https://stackoverflow.com/users/3787885/neffarion"}, "reply_to_user": {"reputation": 1885, "user_id": 2742614, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SnKQs.jpg?s=128&g=1", "display_name": "DevEstacion", "link": "https://stackoverflow.com/users/2742614/devestacion"}, "edited": false, "score": 0, "creation_date": 1570646080, "post_id": 58309739, "comment_id": 102982045, "body": "@DevEstacion Just analyzing code and comparing differences. Thought if done this way it could make it easier"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3787885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893077d248568e425cc9855e08bb4677?s=128&d=identicon&r=PG&f=1", "display_name": "Neffarion", "link": "https://stackoverflow.com/users/3787885/neffarion"}, "edited": false, "score": 0, "creation_date": 1570645981, "post_id": 58310083, "comment_id": 102982000, "body": "Thank you, I guess I just have to try something else that&#39;s different"}], "tags": [], "owner": {"reputation": 905, "user_id": 9287029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5cd72ac1361a607ea6c2d1206e040f?s=128&d=identicon&r=PG", "display_name": "Chris Yungmann", "link": "https://stackoverflow.com/users/9287029/chris-yungmann"}, "is_accepted": true, "score": 2, "last_activity_date": 1570645270, "creation_date": 1570645270, "answer_id": 58310083, "question_id": 58309739, "link": "https://stackoverflow.com/questions/58309739/comparing-2-assembly-methods-using-reflection/58310083#58310083", "title": "Comparing 2 assembly methods using reflection", "body": "<p>You can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.methodbase.getmethodbody?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>MethodBase.GetMethodBody</code></a> followed by <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.methodbody.getilasbytearray?view=netframework-4.8#System_Reflection_MethodBody_GetILAsByteArray\" rel=\"nofollow noreferrer\"><code>MethodBody.GetILAsByteArray</code></a> in order to get the MSIL for the method body as an array of bytes. As the second link notes, however,</p>\n\n<blockquote>\n  <p>Parsing method bodies requires a thorough understanding of metadata and MSIL instruction formats. Information can be found in the Common Language Infrastructure (CLI) documentation, especially \"Partition II: Metadata Definition and Semantics\" and \"Partition III: CIL Instruction Set\". The documentation is available online; see ECMA C# and Common Language Infrastructure Standards on MSDN and Standard ECMA-335 - Common Language Infrastructure (CLI) on the Ecma International Web site.</p>\n</blockquote>\n\n<p>Even if the two methods have the same MSIL, they did not necessarily originate with the same C# source code. You could attempt to decompile the MSIL into C# source code using something like <a href=\"https://www.nuget.org/packages/Mono.Cecil/\" rel=\"nofollow noreferrer\">Mono.Cecil</a>, <a href=\"https://www.nuget.org/packages/DelegateDecompiler/\" rel=\"nofollow noreferrer\">DelegateDecompiler</a>, or <a href=\"https://www.nuget.org/packages/ICSharpCode.Decompiler/\" rel=\"nofollow noreferrer\">ICSharpCode.Decompiler</a>, but I would not recommend going down that road and instead suggest reconsidering your approach.</p>\n"}], "owner": {"reputation": 59, "user_id": 3787885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893077d248568e425cc9855e08bb4677?s=128&d=identicon&r=PG&f=1", "display_name": "Neffarion", "link": "https://stackoverflow.com/users/3787885/neffarion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58310083, "answer_count": 1, "score": 0, "last_activity_date": 1570645270, "creation_date": 1570643785, "question_id": 58309739, "link": "https://stackoverflow.com/questions/58309739/comparing-2-assembly-methods-using-reflection", "title": "Comparing 2 assembly methods using reflection", "body": "<p>Is it possible to compare 2 methods using reflection in a deeper way?</p>\n\n<p>For instance, I have file1.dll and file2.dll. They both have the Class X which has a method Y that is named the same and do the same thing.<br>\nSo my question is if its possible to see the body of the method Y is different between those 2 files using reflection?</p>\n"}, {"tags": ["c#", "ef-core-3.0"], "comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1570644592, "post_id": 58309678, "comment_id": 102981353, "body": "That exception is a result of something going wrong with the change tracking. In general, you should not be adding an entity created via a post into your context, especially for an update. Pull the existing entity from the database, and then map over the posted values on to that."}, {"owner": {"reputation": 1, "user_id": 12190436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0360d61d4c0c5181752133a71e557417?s=128&d=identicon&r=PG&f=1", "display_name": "goalie05", "link": "https://stackoverflow.com/users/12190436/goalie05"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1570652090, "post_id": 58309678, "comment_id": 102984455, "body": "Hey @ChrisPratt, thanks for the comment. I am not sure what you mean by post, the UpdateAsync is a call within a repository class. I did adjust my code to create both objects first, then call <code>public async Task&lt;T&gt; AddAsync(T entity)         {             _context.Set&lt;T&gt;().Add(entity);             await _context.SaveChangesAsync();             return entity;         }</code> This did create both the parent and the child. However I do need the call to be an update. Is there something up with 3.0 and change tracking when updating a parent to have a new child as mentioned in the code above?"}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1570740092, "post_id": 58309678, "comment_id": 103019418, "body": "Which version are you updating from?"}, {"owner": {"reputation": 1, "user_id": 12190436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0360d61d4c0c5181752133a71e557417?s=128&d=identicon&r=PG&f=1", "display_name": "goalie05", "link": "https://stackoverflow.com/users/12190436/goalie05"}, "edited": false, "score": 0, "creation_date": 1570799556, "post_id": 58309678, "comment_id": 103039116, "body": "I found the <a href=\"https://stackoverflow.com/questions/57923422/ef-core-3-0-adding-connected-entity-to-collection-fails-in-one-to-many-relations?rq=1\">Answer Here</a> Seems like it was a breaking change."}], "owner": {"reputation": 1, "user_id": 12190436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0360d61d4c0c5181752133a71e557417?s=128&d=identicon&r=PG&f=1", "display_name": "goalie05", "link": "https://stackoverflow.com/users/12190436/goalie05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570739524, "creation_date": 1570643538, "last_edit_date": 1570739524, "question_id": 58309678, "link": "https://stackoverflow.com/questions/58309678/child-record-not-created-when-updating-existing-parent", "title": "Child record not created when updating existing parent", "body": "<p>I am new to the forum and C# so forgive me for any misunderstandings! Anyhow, since upgrading our product to .net core 3.0 we are having some issues when creating a child record when updating and existing parent record. The child object is visible on the parent before the update call, however I get the exception after:</p>\n\n<blockquote>\n  <p>One or more errors occurred. (Database operation expected to affect 1\n  row(s) but actually affected 0 row(s). Data may have been modified or\n  deleted since entities were loaded.</p>\n</blockquote>\n\n<p>If I manually create the child record in the db before running the update command the child updates and the parent updates.  Please see the update code below:</p>\n\n<pre><code>public async Task UpdateAsync(T entity)\n{            \n    _context.Entry(entity).State = EntityState.Modified;            \n    await _context.SaveChangesAsync();          \n}\n</code></pre>\n\n<p>Is this exception due to <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/13552\" rel=\"nofollow noreferrer\">this breaking change</a>?</p>\n\n<p>Any thoughts on what I would need to change to get the child record to create when updating the parent?</p>\n"}, {"tags": ["c#", ".net-assembly", "self-contained"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 5832662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nOZdc.png?s=128&g=1", "display_name": "Syntony", "link": "https://stackoverflow.com/users/5832662/syntony"}, "edited": false, "score": 1, "creation_date": 1572184354, "post_id": 58311213, "comment_id": 103474640, "body": "DependencyContext.Default.GetRuntimeAssemblyNames(RuntimeEnv&zwnj;&#8203;ironment.GetRuntimeI&zwnj;&#8203;dentifier())"}, {"owner": {"reputation": 1809, "user_id": 2908793, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c8af77fbf1b7c58c923d1c80fce2097a?s=128&d=identicon&r=PG", "display_name": "Etki", "link": "https://stackoverflow.com/users/2908793/etki"}, "reply_to_user": {"reputation": 163, "user_id": 5832662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nOZdc.png?s=128&g=1", "display_name": "Syntony", "link": "https://stackoverflow.com/users/5832662/syntony"}, "edited": false, "score": 0, "creation_date": 1572195747, "post_id": 58311213, "comment_id": 103477464, "body": "seems like it&#39;s not available on .net standard 2.0 =/"}, {"owner": {"reputation": 163, "user_id": 5832662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nOZdc.png?s=128&g=1", "display_name": "Syntony", "link": "https://stackoverflow.com/users/5832662/syntony"}, "edited": false, "score": 0, "creation_date": 1572331157, "post_id": 58311213, "comment_id": 103516517, "body": "use NuGet package Microsoft.Extensions.DependencyModel ... it seems to support .Net Standard Version &gt;= 1.3"}], "tags": [], "owner": {"reputation": 1809, "user_id": 2908793, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c8af77fbf1b7c58c923d1c80fce2097a?s=128&d=identicon&r=PG", "display_name": "Etki", "link": "https://stackoverflow.com/users/2908793/etki"}, "is_accepted": false, "score": 1, "last_activity_date": 1570650152, "creation_date": 1570650152, "answer_id": 58311213, "question_id": 58309565, "link": "https://stackoverflow.com/questions/58309565/locating-included-assemblies-in-trimmed-self-contained-deployment/58311213#58311213", "title": "Locating included assemblies in trimmed self-contained deployment", "body": "<p>One of the solutions would be install <code>Microsoft.Extensions.DependencyModel</code> and use <code>DependencyContext.Default</code>. The correct way is:</p>\n\n<pre><code>var assemblies = DependencyContext.Default.GetRuntimeAssemblyNames(runtimeIdentifier);\n</code></pre>\n\n<p>I'm not sure how to properly resolve <code>runtimeIdentifier</code>, but using non-existing identifier (e.g. <code>String.Empty</code>) will fall back to default set of assembly names, which was sufficient for me.</p>\n"}], "owner": {"reputation": 1809, "user_id": 2908793, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c8af77fbf1b7c58c923d1c80fce2097a?s=128&d=identicon&r=PG", "display_name": "Etki", "link": "https://stackoverflow.com/users/2908793/etki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570650152, "creation_date": 1570643079, "last_edit_date": 1570646539, "question_id": 58309565, "link": "https://stackoverflow.com/questions/58309565/locating-included-assemblies-in-trimmed-self-contained-deployment", "title": "Locating included assemblies in trimmed self-contained deployment", "body": "<p>I'm learning C# and it's related stack and trying to build trimmed self-contained executable. The problem is in that some assemblies are not directly referenced and are implied to be used via Managed Extensibility Framework, thus trimmer doesn't count them as used. I'm including them in scd using <code>&lt;TrimmerRootAssembly Include=\"x\"/&gt;</code>), but they are not \"visible\" to code, even though they are referenced in the project. Here is my csproj:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n\n    &lt;PropertyGroup&gt;\n        &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n        &lt;TargetFramework&gt;netcoreapp3.0&lt;/TargetFramework&gt;\n        &lt;RuntimeIdentifier&gt;linux-x64&lt;/RuntimeIdentifier&gt;\n        &lt;PublishReadyToRun&gt;true&lt;/PublishReadyToRun&gt;\n        &lt;PublishTrimmed&gt;true&lt;/PublishTrimmed&gt;\n        &lt;PublishSingleFile&gt;true&lt;/PublishSingleFile&gt;\n    &lt;/PropertyGroup&gt;\n\n    &lt;ItemGroup&gt;\n      &lt;TrimmerRootAssembly Include=\"Ayte.Tool.Toolkit.Handler.*\" /&gt;\n      &lt;ProjectReference Include=\"..\\Ayte.Tool.Toolkit.Core\\Ayte.Tool.Toolkit.Core.csproj\" /&gt;\n      &lt;ProjectReference Include=\"..\\Ayte.Tool.Toolkit.Handler.DotNet\\Ayte.Tool.Toolkit.Handler.DotNet.csproj\" /&gt;\n      &lt;ProjectReference Include=\"..\\Ayte.Tool.Toolkit.Handler.JVM\\Ayte.Tool.Toolkit.Handler.JVM.csproj\" /&gt;\n      &lt;ProjectReference Include=\"..\\Ayte.Tool.Toolkit.Handler.Toolkit\\Ayte.Tool.Toolkit.Handler.Toolkit.csproj\" /&gt;\n    &lt;/ItemGroup&gt;\n\n&lt;/Project&gt;\n\n</code></pre>\n\n<p><code>Ayte.Tool.Toolkit.Handler.Toolkit</code> is successfully included in SCD and is accessible by my application:</p>\n\n<pre><code>public static void Main(string[] args)\n{            \n    Console.WriteLine(Assembly.Load(\"Ayte.Tool.Toolkit.Handler.Toolkit\"));\n}\n\n// Ayte.Tool.Toolkit.Handler.Toolkit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\n</code></pre>\n\n<p>But without direct usage of assembly classes / explicit by-name load it doesn't appear neither in <code>AppDomain.CurrentDomain.GetAssemblies()</code> or <code>Assembly.GetExecutingAssembly().GetReferencedAssemblies()</code>:</p>\n\n<pre><code>Current domain assemblies:\nSystem.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\nAyte.Tool.Toolkit.CLI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\nSystem.Console, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\nExecuting assembly references:\nSystem.Runtime, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\nSystem.Console, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\nSystem.Runtime.Extensions, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\nSystem.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\n</code></pre>\n\n<p>How can i get list of all assemblies that are contained within SCD to eagerly load them? Any direct reference by name, class load or anything else breaks the whole MEF concept, so i would like not to do it in any by-hand method.</p>\n"}, {"tags": ["c#", "arrays", "loops"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 3, "creation_date": 1570643082, "post_id": 58309515, "comment_id": 102980631, "body": "Welcome to Stack Overflow. What does &quot;deserialziedobject.open [0-13] to array&quot; mean? Please try to describe in more detail what your goal is. Repeating yourself isn&#39;t more detail. You need to say it differently."}, {"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 0, "creation_date": 1570643146, "post_id": 58309515, "comment_id": 102980655, "body": "Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (on dotnetfiddle for example) with an example of input and output"}, {"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1570643769, "post_id": 58309515, "comment_id": 102980941, "body": "I think that what you need is <code>var RsiClose = deserializedObjectRsi.Select(x =&gt; Convert.ToDecimal(x.Close)).ToList();</code>. It looks like you are using the kind of data where you should use the <code>decimal</code> type: <a href=\"https://stackoverflow.com/q/1165761/1115360\">decimal vs double! - Which one should I use and when?</a>"}, {"owner": {"reputation": 3, "user_id": 12190201, "user_type": "registered", "profile_image": "https://graph.facebook.com/2920541337973552/picture?type=large", "display_name": "Maximilian Sanktjohanser", "link": "https://stackoverflow.com/users/12190201/maximilian-sanktjohanser"}, "edited": false, "score": 0, "creation_date": 1570697213, "post_id": 58309515, "comment_id": 102997240, "body": "I updated my question, hope now its a bit clrearer."}], "answers": [{"tags": [], "owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "is_accepted": true, "score": 1, "last_activity_date": 1570731559, "creation_date": 1570731559, "answer_id": 58328921, "question_id": 58309515, "link": "https://stackoverflow.com/questions/58309515/c-foreach-iteration-through-objects-and-save-float-array/58328921#58328921", "title": "c# foreach Iteration through objects and save float array", "body": "<p>You can use <a href=\"https://en.wikipedia.org/wiki/Language_Integrated_Query\" rel=\"nofollow noreferrer\">LINQ</a> to process the data for you in a declarative way. There will be an implied loop in it.</p>\n\n<pre><code>var arrRSI14 = deserializedObjectRsi.Select(x =&gt; Convert.ToSingle(x.Close)).ToArray();\n</code></pre>\n\n<p>What that does is, for each value (represented as <code>x</code>, but you can use any name which makes sense) in <code>deserializedObjectRsi</code>, convert it to a single, and put the results into an array. The <code>var</code> keyword makes the compiler figure out what the type is; you could write <code>float[]</code> if you really wanted to.</p>\n\n<p>In C#, the <code>float</code> keyword is an alias of the .NET Framework <code>Single</code> type (please see <a href=\"https://stackoverflow.com/q/272013/1115360\">C# Float vs. VB.net Single - Namin' complainin'</a> for more information), which is why the .NET Convert method shown uses ToSingle instead of ToFloat.</p>\n\n<hr>\n\n<p>I wish to add a note on the data type used: a Single, or float, is often a poor choice for monetary data as its precision is small enough that noticeable errors accumulate quickly if they are used in calculations. I recommend using the Decimal type when it is important that numbers are not approximated to binary fractions behind the scenes, for example 0.1 in decimal is a recurring binary fraction and cannot be represented exactly in a Single or Double.</p>\n\n<p>For an informative read: <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 12190201, "user_type": "registered", "profile_image": "https://graph.facebook.com/2920541337973552/picture?type=large", "display_name": "Maximilian Sanktjohanser", "link": "https://stackoverflow.com/users/12190201/maximilian-sanktjohanser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 58328921, "answer_count": 1, "score": -2, "last_activity_date": 1570731559, "creation_date": 1570642852, "last_edit_date": 1570729975, "question_id": 58309515, "link": "https://stackoverflow.com/questions/58309515/c-foreach-iteration-through-objects-and-save-float-array", "title": "c# foreach Iteration through objects and save float array", "body": "<p>I am really new in c# programming. I searched several hours, but can't find a solution or I don't understand how can I solve this problem. I deserialized objects from  a dataset\n.\nmy objects have trading specific values for example open high low close.\nI want to iterate through my objects and get some values in a float array. \nthe array should look like this float[] rsi14 ={ 7520.5, 7535.0, 7530.5, ...}</p>\n\n<p>Like this: </p>\n\n<pre><code>deserialziedObjectRsi[0].open + desirializedObjectRsi[1].open + ... to array.\n</code></pre>\n\n<p>These values are already from type float.</p>\n\n<p>I want this in a loop, so I don't have to write this 50 times or more.</p>\n\n<p>Here is some code that I have tried:</p>\n\n<pre><code>    var deserializedObjectRsi = \n        JsonConvert.DeserializeObject&lt;List&lt;HistoricPricesRsi&gt;&gt;(stochDataRSI);\n\n       List&lt;float&gt; RsiClose = new List&lt;float&gt;();\n            RsiClose.Add(deserializedObjectRsi[0].close);\n            RsiClose.Add(deserializedObjectRsi[1].close);\n            RsiClose.Add(deserializedObjectRsi[2].close);\n            RsiClose.Add(deserializedObjectRsi[3].close);\n            RsiClose.Add(deserializedObjectRsi[4].close);\n            RsiClose.Add(deserializedObjectRsi[5].close);\n            RsiClose.Add(deserializedObjectRsi[6].close);\n            RsiClose.Add(deserializedObjectRsi[7].close);\n            RsiClose.Add(deserializedObjectRsi[8].close);\n            RsiClose.Add(deserializedObjectRsi[9].close);\n            RsiClose.Add(deserializedObjectRsi[10].close);\n            RsiClose.Add(deserializedObjectRsi[11].close);\n            RsiClose.Add(deserializedObjectRsi[12].close);\n            RsiClose.Add(deserializedObjectRsi[13].close);\n\n            float[] arrRSI14 = RsiClose.ToArray();\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 875, "user_id": 2196124, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RHBt9.png?s=128&g=1", "display_name": "zdimension", "link": "https://stackoverflow.com/users/2196124/zdimension"}, "edited": false, "score": 1, "creation_date": 1570642484, "post_id": 58309391, "comment_id": 102980374, "body": "The syntax for the ternary operator is <code>condition ? ifTrue : ifFalse</code>. You forgot to put the <code>: ifFalse</code> part in your <code>Where</code> call."}, {"owner": {"reputation": 353, "user_id": 8179257, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/05fd4f9463535a7e3bd7cb1ee15137f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/8179257/sami"}, "reply_to_user": {"reputation": 875, "user_id": 2196124, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RHBt9.png?s=128&g=1", "display_name": "zdimension", "link": "https://stackoverflow.com/users/2196124/zdimension"}, "edited": false, "score": 0, "creation_date": 1570642590, "post_id": 58309391, "comment_id": 102980426, "body": "True. Thank you zdimension. Thing is I don&#39;t want anything to happen, not even null. I want the whole condition to be ignored, as if it didn&#39;t exist, if the Column1 is null, not sure how to phrase the syntax for that."}, {"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1570642636, "post_id": 58309391, "comment_id": 102980440, "body": "You wouldn&#39;t use a ternary operator then, just use a regular old-fashioned if clause."}, {"owner": {"reputation": 875, "user_id": 2196124, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RHBt9.png?s=128&g=1", "display_name": "zdimension", "link": "https://stackoverflow.com/users/2196124/zdimension"}, "edited": false, "score": 0, "creation_date": 1570642687, "post_id": 58309391, "comment_id": 102980460, "body": "@Sami you can then replace the whole ternary operator by a <code>&amp;&amp;</code> operator: <code>Column1 != null &amp;&amp; a.GetType().[...].ToString() == values[i]</code>. This is called short-circuiting, it means that if Column1 is indeed null, then the second operand will not be evaluated at all."}, {"owner": {"reputation": 353, "user_id": 8179257, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/05fd4f9463535a7e3bd7cb1ee15137f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/8179257/sami"}, "edited": false, "score": 0, "creation_date": 1570642720, "post_id": 58309391, "comment_id": 102980478, "body": "I guess the question is how to write a Func&lt;Snowman, bool&gt; predicate which is what the where clause seems to process. i am not familiar with Func&lt;T,bool&gt; though"}, {"owner": {"reputation": 875, "user_id": 2196124, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RHBt9.png?s=128&g=1", "display_name": "zdimension", "link": "https://stackoverflow.com/users/2196124/zdimension"}, "edited": false, "score": 0, "creation_date": 1570642796, "post_id": 58309391, "comment_id": 102980506, "body": "Try using the code I wrote in my comment, if I understood what you&#39;re trying to do then it should solve your problem"}], "answers": [{"tags": [], "owner": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "is_accepted": false, "score": 0, "last_activity_date": 1570642798, "creation_date": 1570642798, "answer_id": 58309497, "question_id": 58309391, "link": "https://stackoverflow.com/questions/58309391/dynamic-conditions-in-where-clause-of-linq-c/58309497#58309497", "title": "dynamic conditions in where clause of Linq c#", "body": "<p>If I'm understanding the question correctly, you can do this:</p>\n\n<pre><code>var chosenOnes = snowmen;\n\nif (Column1 != null)\n    chosenOnes = chosenOnes.Where(a =&gt; a.GetType().GetProperty(Column1 + \"Prop\").GetValue(a, null).ToString() == values[i]);\n\nif (Column2 != null)\n    chosenOnes = chosenOnes.Where(a =&gt; a.GetType().GetProperty(Column2 + \"Prop\").GetValue(a, null).ToString() == values[i+1]);\n\nif (Column3 != null)\n    chosenOnes = chosenOnes.Where(a =&gt; a.GetType().GetProperty(Column3 + \"Prop\").GetValue(a, null).ToString() == values[i+2]);\n</code></pre>\n\n<p>Just apply the <code>Where</code> clauses for each column if they aren't <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1570643186, "creation_date": 1570643186, "answer_id": 58309594, "question_id": 58309391, "link": "https://stackoverflow.com/questions/58309391/dynamic-conditions-in-where-clause-of-linq-c/58309594#58309594", "title": "dynamic conditions in where clause of Linq c#", "body": "<pre><code>var chosenOnes = snowmen\n    .Where(a =&gt;\n        (Column1 == null || a.GetType().GetProperty(Column1 + \"Prop\").GetValue(a, null).ToString() == values[i])\n        &amp;&amp; (Column2 == null || a.GetType().GetProperty(Column2 + \"Prop\").GetValue(a, null).ToString() == values[i+1])\n        &amp;&amp; (Column3 == null || GetType().GetProperty(Column3 + \"Prop\").GetValue(a, null).ToString() == values[i+2])\n    );\n</code></pre>\n\n<p>...or use collections to DRY this up:</p>\n\n<pre><code>var filters = new Dictionary&lt;string, object&gt; \n{\n    { \"Appearance\", \"Joyous\" },\n    { \"Colour\",     \"White\" }\n};\n\nvar chosenOnes = snowmen;\nforeach(var filter in filters)\n{\n    chosenOnes = chosenOnes.Where(a =&gt; \n        a.GetType()\n         .GetProperty(filter.Key + \"Prop\")\n         .GetValue(a, null) == filter.Value\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 8179257, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/05fd4f9463535a7e3bd7cb1ee15137f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/8179257/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58309594, "answer_count": 2, "score": 0, "last_activity_date": 1570643186, "creation_date": 1570642308, "last_edit_date": 1570642413, "question_id": 58309391, "link": "https://stackoverflow.com/questions/58309391/dynamic-conditions-in-where-clause-of-linq-c", "title": "dynamic conditions in where clause of Linq c#", "body": "<p>So I have a class:</p>\n\n<pre><code>public class Snowman\n{\n\n    public Snowman(string Appearance, string Colour, string Name)\n    {\n        this.AppearanceProp = Appearance;\n        this.ColourProp = Colour;\n        this.NameProp = Name;\n    }\n    public string AppearanceProp { get; set; }\n    public string ColourProp { get; set; }\n\n    public string NameProp\n    { get; set; }\n}\n</code></pre>\n\n<p>a list of snowmen objects:</p>\n\n<pre><code>List&lt;Snowman&gt; snowmen = new List&lt;Snowman&gt;()\n{\n    new Snowman(\"Proud\", \"White\", \"Jose\"),\n    new Snowman(\"Dreamer\", \"Silver\", \"Mark\"),\n    new Snowman(\"Dreamer\", \"Silver\", \"James\"),\n    new Snowman(\"Jaded\", \"White\", \"Jerry\"),\n    new Snowman(\"Joyous\", \"White\", \"Mark\"),\n    new Snowman(\"Joyous\", \"White\", \"Jose\"),\n    new Snowman(\"Joyous\", \"White\", \"James\")\n};\n</code></pre>\n\n<p>and a list of columns I want to filter the list of snowmen (the list updates dynamically at runtime):</p>\n\n<pre><code>var Column1 = \"Appearance\";\nvar Column2 = \"Colour\";\nstring Column3 = null;\n</code></pre>\n\n<p>so I should be able to dynamically filter using a dynamic linq with a dynamic where clause, something like this:</p>\n\n<pre><code>var chosenOnes = snowmen\n    .Where(a =&gt;\n           Column1 != null ? a.GetType().GetProperty(Column1 + \"Prop\").GetValue(a, null).ToString() == values[i]  &amp;&amp;\n           Column2 != null ? a.GetType().GetProperty(Column1 + \"Prop\").GetValue(a, null).ToString() == values[i+1] \n                );\n</code></pre>\n\n<p>This gives a syntax error, </p>\n\n<blockquote>\n  <p>expecting :</p>\n</blockquote>\n\n<p>Not sure what I am missing</p>\n\n<p>values is :</p>\n\n<pre><code>List&lt;string&gt; values = new List&lt;string&gt;() { \"joyous\", \"white\" };\n</code></pre>\n"}, {"tags": ["c#", "winforms", "events", "click", "drag"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570645634, "post_id": 58309366, "comment_id": 102981830, "body": "If you say (with SendMessage) that the MouseDown (<code>WM_NCLBUTTONDOWN</code>) is on the Caption (<code>HT_CAPTION</code>), or in a <code>WM_NCHITTEST</code> (WndProc) you return <code>IntPtr(2)</code> = <code>HTCAPTION</code>, then the mouse events are no longer directed to your Form. You can use one of the other answers, using the MouseDown and MouseMove events. BTW, you don&#39;t need to PInvoke <code>ReleaseCapture()</code>, can set <code>this.Capture = false;</code>, same thing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12190339"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570646116, "post_id": 58309366, "comment_id": 102982065, "body": "@Jimi is jay_t55 answer&#39;s valid?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570646227, "post_id": 58309366, "comment_id": 102982121, "body": "Yes, it&#39;s one of the possible ways. I assume you want to move your Form clicking anywhere on it, so you don&#39;t have a <i>fake</i> title bar."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12190339"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570646426, "post_id": 58309366, "comment_id": 102982201, "body": "@Jimi If I want a specific location in the form to be clicked in order to move it (and all the rest will not have that functionality), is that possible? I know it is not part of the question but just I tried to do it and it didn&#39;t work out"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570657711, "post_id": 58309366, "comment_id": 102986474, "body": "Of course. You can use another control (a Label, for example) and handle the <code>MouseDown</code>, <code>MouseMove</code> events of this control. Or you can define an area, as a Rectangle, and determine whether the current mouse position is included in this area using the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.rectangle.contains\" rel=\"nofollow noreferrer\">Rectangle.Contains(Point)</a> method."}], "owner": {"user_type": "does_not_exist", "display_name": "user12190339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570649148, "creation_date": 1570642176, "question_id": 58309366, "link": "https://stackoverflow.com/questions/58309366/how-to-have-an-onclick-event-after-enabling-mobility-of-borderless-form", "title": "How to have an OnClick event after enabling mobility of borderless form", "body": "<p>I have a borderless form that I want to be movable. I have used <a href=\"https://stackoverflow.com/questions/1592876/make-a-borderless-form-movable\">@Joey's solution</a> In order to do that. but after I did it I have noticed that my <code>Click</code> event is no longer activated when my form <code>Form1</code> is clicked. How can I have both the functionality of the mobile borderless form <strong>and</strong> the ability to activate the function <code>form1_Click()</code> onclick?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8524075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwOIo.jpg?s=128&g=1", "display_name": "rosudel", "link": "https://stackoverflow.com/users/8524075/rosudel"}, "edited": false, "score": 0, "creation_date": 1570657403, "post_id": 58312349, "comment_id": 102986395, "body": "I&#39;ve done this by right_click -&gt; create -&gt; c# script again. But don&#39;t fix the issue.I do this only by deleting the previous. I don&#39;t understand what &quot;try to re-build the assembly&quot; mean.I&#39;ve tried several hours but can&#39;t fix. please help me. @Erik"}, {"owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "reply_to_user": {"reputation": 31, "user_id": 8524075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwOIo.jpg?s=128&g=1", "display_name": "rosudel", "link": "https://stackoverflow.com/users/8524075/rosudel"}, "edited": false, "score": 0, "creation_date": 1570657793, "post_id": 58312349, "comment_id": 102986497, "body": "Do you currently have a script attached to your gameObject @rosudel"}, {"owner": {"reputation": 422, "user_id": 10179776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FMh88.png?s=128&g=1", "display_name": "phantasm", "link": "https://stackoverflow.com/users/10179776/phantasm"}, "edited": false, "score": 0, "creation_date": 1570690889, "post_id": 58312349, "comment_id": 102994247, "body": "MonoBehavior not MonoBehaviour :D"}, {"owner": {"reputation": 31, "user_id": 8524075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwOIo.jpg?s=128&g=1", "display_name": "rosudel", "link": "https://stackoverflow.com/users/8524075/rosudel"}, "edited": false, "score": 0, "creation_date": 1570695037, "post_id": 58312349, "comment_id": 102996169, "body": "No, I&#39;m begginer in unity. And it is first time I am attaching. @ErikOverflow"}, {"owner": {"reputation": 31, "user_id": 8524075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwOIo.jpg?s=128&g=1", "display_name": "rosudel", "link": "https://stackoverflow.com/users/8524075/rosudel"}, "reply_to_user": {"reputation": 422, "user_id": 10179776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FMh88.png?s=128&g=1", "display_name": "phantasm", "link": "https://stackoverflow.com/users/10179776/phantasm"}, "edited": false, "score": 0, "creation_date": 1570695104, "post_id": 58312349, "comment_id": 102996205, "body": "I&#39;ve tried by MonoBehavior. but not working. @phantasm"}], "tags": [], "owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1570655352, "creation_date": 1570655352, "answer_id": 58312349, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d/58312349#58312349", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>This is typically caused when a script is created outside of the Unity project. If you created the script with visual studio, file explorer, or simply copy/pasting the file, it may not be included in the Unity project.</p>\n\n<p>Rather than try to re-build the assembly, simply create a new \"PlayerMovement.cs\" script using the Unity editor (right-click > create script) and write your code in that file.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 11668651, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kheYZ5kDpM0/AAAAAAAAAAI/AAAAAAAAAAc/NRRdnZu0iV4/photo.jpg?sz=128", "display_name": "Nandan Wewhare", "link": "https://stackoverflow.com/users/11668651/nandan-wewhare"}, "is_accepted": false, "score": 0, "last_activity_date": 1589272777, "creation_date": 1589272777, "answer_id": 61747303, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d/61747303#61747303", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>It is a common issue and can be solved if you rename your c# script to PlayerMovement.cs and then build the solution again. No need to create a new script.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 12599853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1aAnOM9l0Oj-dXWVcDNMN4jnvIwJxJfMyQzr9JQ=k-s128", "display_name": "Chirag Pranami", "link": "https://stackoverflow.com/users/12599853/chirag-pranami"}, "is_accepted": false, "score": 1, "last_activity_date": 1592838782, "creation_date": 1592838782, "answer_id": 62517645, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d/62517645#62517645", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>This happens because your script is treated to be not belonging to the project. In Visual Studio you'll find that your script would be labelled as <strong>Miscellaneous file</strong>.</p>\n<p>Follow this --&gt;\nEdit &gt;&gt; Preferences &gt;&gt; External Tools &gt;&gt; External Script Editor : <em>Select</em> &quot; Visual Studio &quot;</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 13078825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xfQBb.jpg?s=128&g=1", "display_name": "Delphoenyx", "link": "https://stackoverflow.com/users/13078825/delphoenyx"}, "is_accepted": false, "score": 0, "last_activity_date": 1592975478, "creation_date": 1592975478, "answer_id": 62548083, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d/62548083#62548083", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>I think I've gotten a special case for this error. No common solution worked or applied for me, but I was able to solve it in an unexpected way.</p>\n<p>To make the story short, the problem was that the <strong>path</strong> of my project was <strong>too large</strong>. (like, above 250 chars long, approx)</p>\n<p>So, you could try moving your project to some <em>short-pathed-place</em> like your desktop (or renaming folders to make the route shorter) and, after that, delete your old script and creating a new one. (That worked for me)</p>\n<p>For more info about this problem and the solution, take a look at this question and its first comment:\n<a href=\"https://gamedev.stackexchange.com/questions/168959/directorynotfoundexception-for-an-existing-file-path-on-unity-startup\">DirectoryNotFoundException for an existing file path on Unity startup</a></p>\n<p>Note that if you aren\u00b4t having ^ that error, this answer probably won\u00b4t help you. How to know if you have it? Check the console or just the bottom part of Unity when you open it to see if there is some error like that one.</p>\n<p>I hope that helps, good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 636, "user_id": 6525417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/CwzRp.jpg?s=128&g=1", "display_name": "Epsilon47", "link": "https://stackoverflow.com/users/6525417/epsilon47"}, "is_accepted": false, "score": 0, "last_activity_date": 1593810309, "creation_date": 1593810309, "answer_id": 62722682, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d/62722682#62722682", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>I have just deleted the script, created a new one, waited a few seconds, and linked it again - it is (as far as I am concerned) some problem with sync between Visual Studio and Unity.</p>\n"}], "owner": {"reputation": 31, "user_id": 8524075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwOIo.jpg?s=128&g=1", "display_name": "rosudel", "link": "https://stackoverflow.com/users/8524075/rosudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2968, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1593810309, "creation_date": 1570642026, "question_id": 58309331, "link": "https://stackoverflow.com/questions/58309331/why-getting-cant-add-script-behavior-assemblyinfo-cs-in-unity3d", "title": "why getting &quot;Cant add script behavior AssemblyInfo.cs&quot; in unity3d", "body": "<p>I am trying to add a script with my object in unity. But it seems \"Cant add script behavior AssemblyInfo.cs. The script needs to derive from MonoBehavior\".\nHow can I fix the problem please..</p>\n\n<p>I have already checked the script and class name which are same already.Moreover I've copy and pasted the code in another file but it didn't fix.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class PlayerMovement : MonoBehaviour\n{\n\nvoid Start()\n{\n\n}\nvoid Update()\n{\n\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "image", "xaml", "uwp", "virtualization"], "answers": [{"comments": [{"owner": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "edited": false, "score": 0, "creation_date": 1570674968, "post_id": 58309714, "comment_id": 102989876, "body": "I am very glad that you have found a solution. You can mark your reply as an answer. This will help more people, thank you."}], "tags": [], "owner": {"reputation": 77, "user_id": 10465700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_SYYvr0VQmQ/AAAAAAAAAAI/AAAAAAAAGkE/1_WjLvQOR9U/photo.jpg?sz=128", "display_name": "Junk_Se7en", "link": "https://stackoverflow.com/users/10465700/junk-se7en"}, "is_accepted": false, "score": 0, "last_activity_date": 1570643720, "creation_date": 1570643720, "answer_id": 58309714, "question_id": 58309261, "link": "https://stackoverflow.com/questions/58309261/frameworkelement-loaded-method-for-an-image-in-a-virtualized-listview/58309714#58309714", "title": "FrameworkElement.Loaded method for an image in a virtualized listview", "body": "<p>The answer is to use the ImageOpened method as I open a placeholder image if the actual one does not exist. So I check in the ImageOpened method that the opened image is the placeholder and call my CreateImage method from there.</p>\n"}], "owner": {"reputation": 77, "user_id": 10465700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_SYYvr0VQmQ/AAAAAAAAAAI/AAAAAAAAGkE/1_WjLvQOR9U/photo.jpg?sz=128", "display_name": "Junk_Se7en", "link": "https://stackoverflow.com/users/10465700/junk-se7en"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570643720, "creation_date": 1570641763, "question_id": 58309261, "link": "https://stackoverflow.com/questions/58309261/frameworkelement-loaded-method-for-an-image-in-a-virtualized-listview", "title": "FrameworkElement.Loaded method for an image in a virtualized listview", "body": "<p>In my ListView I have an Image in my DataTemplate which uses a Converter to load the Image. If the image being loaded dose not exist, the converter loads a placeholder image. Next, in the Image's FrameworkElement.Loaded method I create the missing image and it shows on screen asynchronously. It all works great... except for one thing. </p>\n\n<p>The Loaded Method does not seem to get called for every missing image - that I can tell. And sometimes it will load with null value for the DataContext - but only sometimes? Sometimes The image for image1 is loaded, for example, for image 33. </p>\n\n<p>What usually happens is, for most of the missing images on screen, they will be created and load correctly, but then it just stops near the end of the images on screen. I believe this is due to the way virtualisation works in uwp, as this same method in a wpf app, with virtualisation turned off works as expected. </p>\n\n<p>So my question is:</p>\n\n<p>How do I get access to each image when loaded in the DataTemplate of the ListView? If Loaded is the wrong method, what would the right one be?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1570641871, "post_id": 58309157, "comment_id": 102980079, "body": "Did you try debugging? Is the tag correct? Is <code>OnTriggerEnter</code> called at all?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1570645746, "post_id": 58309157, "comment_id": 102981894, "body": "Oh and your script is attached to the player object right?"}, {"owner": {"reputation": 71, "user_id": 11724198, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01gKd.png?s=128&g=1", "display_name": "HSN720", "link": "https://stackoverflow.com/users/11724198/hsn720"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1570654897, "post_id": 58309157, "comment_id": 102985554, "body": "@derHugo I&#39;ve tried debugging and <code>OnTriggerEnter</code> isn&#39;t called at all.  Firstly, my script was only attached to collider cube but now that you mention it I attached it to both but still no progress."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1570655381, "post_id": 58309157, "comment_id": 102985745, "body": "It has to be attached to the object which is not a trigger. If both colliders are triggers it won&#39;t work at all - one of them has to be not a trigger"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11009757, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V3-do1_IGcs/AAAAAAAAAAI/AAAAAAAAC4w/CTbT3nx48IU/photo.jpg?sz=128", "display_name": "Horion Raphael", "link": "https://stackoverflow.com/users/11009757/horion-raphael"}, "is_accepted": true, "score": 1, "last_activity_date": 1570694590, "creation_date": 1570694590, "answer_id": 58318132, "question_id": 58309157, "link": "https://stackoverflow.com/questions/58309157/how-to-teleport-player-to-different-scene-via-trigger/58318132#58318132", "title": "How to teleport player to different scene via trigger?", "body": "<p>to make OnTriggerStay2D you need to have an collider 2D set to trigger on the object who as the script TeleportToScene and a Rigidbody2D </p>\n\n<p>So you scene will be, 2 object:</p>\n\n<p>1.Player with\n - Deplacement\n - Collider2D(not trigger)\n - Tag \"Player\"</p>\n\n<p>2.Teleporter with\n - TeleportToScene.cs\n - Collider2D (trigger)\n - Rigidbody2D (kinematic)</p>\n\n<p>Hope that help ! </p>\n"}], "owner": {"reputation": 71, "user_id": 11724198, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01gKd.png?s=128&g=1", "display_name": "HSN720", "link": "https://stackoverflow.com/users/11724198/hsn720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58318132, "answer_count": 1, "score": 0, "last_activity_date": 1570694590, "creation_date": 1570641257, "question_id": 58309157, "link": "https://stackoverflow.com/questions/58309157/how-to-teleport-player-to-different-scene-via-trigger", "title": "How to teleport player to different scene via trigger?", "body": "<p>I have used the most traditional method of doing this but it doesn't work. No response is initiated. </p>\n\n<p>I've attached a rigidbody2d collider (with 0.0001 mass and no drag or gravity) to my player sprite and a box collider 2d with is trigger checked. </p>\n\n<p>Sidenote:  Outdoor1\" is the name of the scene I want to teleport my player to.</p>\n\n<pre><code>using System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\npublic class TeleportToScene : MonoBehaviour\n{\n    [SerializeField] private string newScene;\n\n    void OnTriggerStay2D(Collider2D other)\n    {\n        if (other.CompareTag (\"Player\"))\n        {\n                SceneManager.LoadScene(\"Outdoor1\"); \n</code></pre>\n\n<p>I expect it to go over the box collider and change scenes but nothing happens. No error messages either.</p>\n"}, {"tags": ["c#", "controls"], "comments": [{"owner": {"reputation": 1335, "user_id": 1146533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/de3099d842a985b3fb51df8d27178abd?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1146533/max"}, "edited": false, "score": 1, "creation_date": 1570642615, "post_id": 58309135, "comment_id": 102980436, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1260296/how-to-access-controls-that-is-in-the-panel-in-c-sharp\">How to access controls that is in the panel in c#</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3571, "user_id": 2018731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134baab491cb1a3ebff752e5ea96dcaa?s=128&d=identicon&r=PG", "display_name": "RogerN", "link": "https://stackoverflow.com/users/2018731/rogern"}, "is_accepted": false, "score": 0, "last_activity_date": 1570647694, "creation_date": 1570647694, "answer_id": 58310616, "question_id": 58309135, "link": "https://stackoverflow.com/questions/58309135/how-to-access-to-a-control-added-to-a-panel/58310616#58310616", "title": "How to access to a Control added to a panel?", "body": "<p>You can find a control using its Name property:</p>\n\n<pre><code>MyLabel.Name = \"label1\";\nMyPanel.Controls.Add(MyLabel);\n...\nMyPanel.Controls[\"label1\"].Text = \"updated text\";\n</code></pre>\n\n<p>However, this approach can lead to problems later if you make changes to your user interface. If you moved the label to another panel, or changed its name, then the code which tries to find it using the name would still compile but cause an error at runtime. For long-term projects it's preferable to store references to controls as properties:</p>\n\n<pre><code>public class PanelEx : Panel {\n    ...\n    public Label MyLabel { get; set; }\n}\n\npublic PanelEx nameoffunction() {\n    ...\n    MyPanel.MyLabel = MyLabel;\n    return MyPanel;\n}\n</code></pre>\n\n<p>And then you can access the Label directly from the panel object:</p>\n\n<pre><code>MyPanel.MyLabel.Text = \"updated text\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12190235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gqJXrFJL_dY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfj9d0AVfOoj8GhiynpnMZurN7bgg/photo.jpg?sz=128", "display_name": "david bonillo", "link": "https://stackoverflow.com/users/12190235/david-bonillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570647904, "creation_date": 1570641136, "last_edit_date": 1570647904, "question_id": 58309135, "link": "https://stackoverflow.com/questions/58309135/how-to-access-to-a-control-added-to-a-panel", "title": "How to access to a Control added to a panel?", "body": "<p>I`m trying to modify on job the Text of a label (label.Text) that I have previously added to a panel (MyPanel.Controls.Add(MyLabel). </p>\n\n<p>I add the label to the panel in a function:</p>\n\n<pre><code>public PanelEx nameoffunction()\n{\n.\n.\nMyPanel.Controls.Add(MyLabel);\nreturn MyPanel;\n.\n.\n}\nMyPanelWithControl = nameoffunction();\n</code></pre>\n\n<p>Now I have in <code>MyPanelWithControl</code> the panel with a label. How can I now access to the label previously added to modify one of its fields?</p>\n"}, {"tags": ["c#", "casting"], "comments": [{"owner": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "edited": false, "score": 0, "creation_date": 1570641305, "post_id": 58309129, "comment_id": 102979801, "body": "What is the return type of <code>SomeMethod.SearchProduct</code>?"}, {"owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "reply_to_user": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "edited": false, "score": 0, "creation_date": 1570641421, "post_id": 58309129, "comment_id": 102979855, "body": "bibligraphicinformation object"}, {"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 0, "creation_date": 1570641502, "post_id": 58309129, "comment_id": 102979900, "body": "Why not explicitly cast it? <code>(object)SomeMethod.SearchProduct(inputForSearch, facetName, facetValue);</code>"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 3, "creation_date": 1570641536, "post_id": 58309129, "comment_id": 102979916, "body": "Do you absolutely have to initialize <code>productSearchCollection</code> before the query?"}, {"owner": {"reputation": 28480, "user_id": 1137199, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/41GR5.png?s=128&g=1", "display_name": "dotNET", "link": "https://stackoverflow.com/users/1137199/dotnet"}, "edited": false, "score": 0, "creation_date": 1570641554, "post_id": 58309129, "comment_id": 102979928, "body": "Share the signature of <code>SomeMethod.SearchProduct</code> with us."}, {"owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "edited": false, "score": 0, "creation_date": 1570641663, "post_id": 58309129, "comment_id": 102979978, "body": "Hi Dortimer , it gives error in explicit cast cannot convert explicit type &#39;object&#39; to &#39;IType&lt;Search&gt;&#39; object"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 3, "creation_date": 1570641682, "post_id": 58309129, "comment_id": 102979986, "body": "<code>initialising interface object</code>? No, that&#39;s not an object. It&#39;s a <i>reference</i> which isn&#39;t referring to anything because you initialize it to null. A reference to an object is not an object. Sounds pedantic, but the distinction is very important. Also, &quot;interface object&quot; is a somewhat misleading term as well; there are objects which implement interfaces, however."}, {"owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "edited": false, "score": 0, "creation_date": 1570641735, "post_id": 58309129, "comment_id": 102980017, "body": "public EPiServer.Find.ITypeSearch&lt;Ipp.SearchIndexing.Common.Bibliog&zwnj;&#8203;raphicInformation&gt; SomeMethod(SearchInput inputForSearch, string facetName, string facetValue)"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 1, "creation_date": 1570641786, "post_id": 58309129, "comment_id": 102980040, "body": "@Dortimer I dont think thats a very good idea."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1570641873, "post_id": 58309129, "comment_id": 102980081, "body": "Why not explicitly declare <code>ITypeSearch&lt;Searchingindex.common.bibligraphicinformation&gt; productSearchCollection;</code>? Or let the compiler figure out the type; don&#39;t declare it beforehand, just write <code>var productSearchCollection = SomeMethod.SearchProduct(inputForSearch, facetName, facetValue);</code>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1570641919, "post_id": 58309129, "comment_id": 102980110, "body": "What&#39;s the variance set to on <code>ITypeSearch</code>&#39;s generic type parameter? I&#39;m guessing it&#39;s invariant. If it were Covariant, you would be able to assign a more derived parameter to a more base one."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1570641976, "post_id": 58309129, "comment_id": 102980141, "body": "@JonathonChase Source <a href=\"https://world.episerver.com/documentation/class-library/?documentId=find/8/5D7F3093\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "edited": false, "score": 0, "creation_date": 1570641999, "post_id": 58309129, "comment_id": 102980149, "body": "The reason i can&#39;t declare explicitly is there are different objects assigned on runtime to this ITypeSearch&lt;Object&gt; productSearchCollection = null"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1570642063, "post_id": 58309129, "comment_id": 102980180, "body": "@dinesh &quot;Because I&#39;m trying to do something else equally impossible&quot; won&#39;t make it possible to do something impossible. I suggest doing something possible instead. You need to show us a lot more of your code, so we can help you solve that underlying problem that brought you to this dismal pass."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1570642172, "post_id": 58309129, "comment_id": 102980230, "body": "@dinesh there really isnt a good way to do what you are asking, I <i>strongly</i> suggest refactoring the code.  Its not really plausible to initialize references to generic types when the generic type parameter could be different. Using <code>object</code> is a really, really bad way to try and circumvent that"}, {"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1570642276, "post_id": 58309129, "comment_id": 102980283, "body": "@maccettura Oh, for sure it&#39;s a bad idea, but based on what little information we&#39;ve been provided, it&#39;s hard to suggest any good ideas."}, {"owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1570642321, "post_id": 58309129, "comment_id": 102980301, "body": "@Ed , its old code , i thought if any way i can find solution"}], "owner": {"reputation": 11, "user_id": 7070166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f614cfcb843d20410bf10813c9f9d2?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/7070166/dinesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570641633, "creation_date": 1570641104, "last_edit_date": 1570641633, "question_id": 58309129, "link": "https://stackoverflow.com/questions/58309129/casting-concrete-object-to-object-in-c", "title": "Casting concrete object to &#39;Object&#39; in C#", "body": "<p>Below code has compile time error </p>\n\n<pre><code>ITypeSearch&lt;Object&gt; productSearchCollection = null; // initialising interface object with null\nproductSearchCollection = SomeMethod.SearchProduct(inputForSearch, facetName, facetValue); \n</code></pre>\n\n<blockquote>\n  <p>Compile time error : cannot implicitly convert type 'Episerver.Find.ITypeSearch&lt;Searchingindex.common.bibligraphicinformation&gt;' to 'Episerver.Find.ITypeSearch&lt;object&gt;' object . An explicity conversion exists (are you missing cast)</p>\n</blockquote>\n"}, {"tags": ["c#", "file", "filereader", "streamreader"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1570641182, "post_id": 58309090, "comment_id": 102979751, "body": "Read the file once, then grab the lines you want from that array"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1570641405, "post_id": 58309090, "comment_id": 102979844, "body": "I would say just read the whole thing into memory (<code>File.ReadAllLines()</code>) and just grabbing by index"}, {"owner": {"reputation": 779, "user_id": 858431, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8823be888d90b83bbe5f99660179be0a?s=128&d=identicon&r=PG", "display_name": "Tizz", "link": "https://stackoverflow.com/users/858431/tizz"}, "edited": false, "score": 0, "creation_date": 1570641945, "post_id": 58309090, "comment_id": 102980125, "body": "I would need lots of RAM to beable to store the whole file into memory. What if the file is 10GB?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1570647824, "post_id": 58309090, "comment_id": 102982768, "body": "<b>Stop using text files as databases and start using databases as databases</b>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570647980, "post_id": 58309090, "comment_id": 102982830, "body": "But that said: do you know anything about the list? For instance, do you know that it will have many &quot;duplicates&quot; (your &quot;4, 4&quot; scenario for instance), or hardly any duplicates? Do you know roughly what fraction of the original lines will be fetched? You seem to imply that it is about 0.1%; is that accurate? And so on.  Building a scalable solution often involves taking advantage of known features of the inputs."}, {"owner": {"reputation": 779, "user_id": 858431, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8823be888d90b83bbe5f99660179be0a?s=128&d=identicon&r=PG", "display_name": "Tizz", "link": "https://stackoverflow.com/users/858431/tizz"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570689425, "post_id": 58309090, "comment_id": 102993637, "body": "@EricLippert Its actually an export from a database, we have to convert to a new data format (xml transformation along with other translations) then import into the new database. There are many files created to accomplish this nearly 1TB data update and transfer."}, {"owner": {"reputation": 779, "user_id": 858431, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8823be888d90b83bbe5f99660179be0a?s=128&d=identicon&r=PG", "display_name": "Tizz", "link": "https://stackoverflow.com/users/858431/tizz"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570689640, "post_id": 58309090, "comment_id": 102993730, "body": "@EricLippert There will be multiple duplicates, not necessarily in succession. The list will be smaller than the original list, but depending on the file, it could be anywhere from 0.1% to 80%. Trying to optimize the new file to remove unneeded information (and repetitions are required i.e. one old object into two new objects both needing the same field and value)"}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1570648177, "post_id": 58309190, "comment_id": 102982903, "body": "This is a good attempt, however it would be better to have <i>three</i> data structures: your dictionary, your index list, <i>and an index set</i>.  The problem here is that the <code>indexesNew.Contains(index)</code> check is O(n).  If you initialize a <code>HashSet&lt;int&gt;</code> from <code>indexesNew</code> then checking the containment in the hash set is O(1)."}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570648516, "post_id": 58309190, "comment_id": 102983057, "body": "I&#39;m not used to using HashSet, thanks. Answer updated. Found that: <a href=\"https://stackoverflow.com/questions/150750/hashset-vs-list-performance\" title=\"hashset vs list performance\">stackoverflow.com/questions/150750/hashset-vs-list-performan&zwnj;&#8203;ce</a>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570649474, "post_id": 58309190, "comment_id": 102983466, "body": "See my answer for some thoughts on how you can make this code much shorter and easier to follow."}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570650268, "post_id": 58309190, "comment_id": 102983793, "body": "But <code>indexesNew</code> can&#39;t be a <code>HashSet</code> because of duplicates, isn&#39;t it?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570650376, "post_id": 58309190, "comment_id": 102983840, "body": "Right, you need all three: the original list, out of order and containing duplicates, the de-duplicated fast-search set built from that list, and the dictionary."}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1570650478, "post_id": 58309190, "comment_id": 102983878, "body": "Replacing <code>Contains</code> calls on the <code>List</code> for a <code>HashSet</code> is a great idea. The difference is enormous for big collections as <code>HashSet</code> remains at the same speed while <code>List</code> grows and grows in time!"}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 2, "last_activity_date": 1570650770, "last_edit_date": 1570650770, "creation_date": 1570641424, "answer_id": 58309190, "question_id": 58309090, "link": "https://stackoverflow.com/questions/58309090/read-multiple-lines-from-a-large-file-in-non-ascending-order/58309190#58309190", "title": "Read multiple lines from a large file in non-ascending order", "body": "<p>You may use a <code>StreamReader</code> and <code>ReadLine</code> method to read line by line without shocking the memory:</p>\n\n<pre><code>var lines = new Dictionary&lt;int, string&gt;();\nvar indexesProcessed = new HashSet&lt;int&gt;();\nvar indexesNew = new List&lt;int&gt; { 2, 4, 4, 1 };\n\nusing ( var reader = new StreamReader(@\"c:\\\\file.txt\") )\n  for ( int index = 1; index &lt;= indexesNew.Count; index++ )\n    if ( reader.Peek() &gt;= 0 )\n    {\n      string line = reader.ReadLine();\n      if ( indexesNew.Contains(index) &amp;&amp; !indexesProcessed.Contains(index) )\n      {\n        lines[index] = line;\n        indexesProcessed.Add(index);\n      }\n    }\n\nusing ( var writer = new StreamWriter(@\"c:\\\\file-new.txt\", false) )\n  foreach ( int index in indexesNew )\n    if ( indexesProcessed.Contains(index) )\n      writer.WriteLine(lines[index]);\n</code></pre>\n\n<p>It reads the file and select the desired indexes then save them in the desired order.</p>\n\n<p>We use a HashSet to store processed indexes to speedup Contains calls as you indicate the file can be over 1GB.</p>\n\n<p>The code is made to avoid index out of bound in case of mismatches between the source file and the desired indexes, but it slows down the process. You can optimize if you are sure that there will be no problem. In this case you can remove all usage of <code>indexesProcessed</code>.</p>\n\n<p>Output:</p>\n\n<pre><code>some text here\nblah blah\nblah blah\nogfile line 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": -2, "last_activity_date": 1570643184, "last_edit_date": 1570643184, "creation_date": 1570641488, "answer_id": 58309201, "question_id": 58309090, "link": "https://stackoverflow.com/questions/58309090/read-multiple-lines-from-a-large-file-in-non-ascending-order/58309201#58309201", "title": "Read multiple lines from a large file in non-ascending order", "body": "<p>One way to do this would be to simply read the input file once (and store the result in a variable), and then grab the lines you need and write them to the output file.</p>\n\n<p>Since the line number is <code>1</code>-based and arrays are <code>0</code>-based (i.e. line number <code>1</code> is array index <code>0</code>), we subtract <code>1</code> from the line number when specifying the array index:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var inputFile = @\"f:\\private\\temp\\temp.txt\";\n    var outputFile = @\"f:\\private\\temp\\temp2.txt\";\n\n    var fileLines = File.ReadAllLines(inputFile);\n    var linesToDisplay = new[] {2, 4, 4, 1};\n\n    // Write each specified line in linesToDisplay from fileLines to the outputFile\n    File.WriteAllLines(outputFile, \n        linesToDisplay.Select(lineNumber =&gt; fileLines[lineNumber - 1]));\n\n    GetKeyFromUser(\"\\n\\nDone! Press any key to exit...\");\n}\n</code></pre>\n\n<p>Another way to do this that should be more efficient is to only read the file up to the maximum line number (using the <code>ReadLines</code> method), rather than reading the whole file (using the <code>ReadAllLines</code> method), and save just the lines we care about in a dictionary that maps the line number to the line text:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var inputFile = @\"f:\\private\\temp\\temp.txt\";\n    var outputFile = @\"f:\\private\\temp\\temp2.txt\";\n\n    var linesToDisplay = new[] {2, 4, 4, 1};\n    var maxLineNumber = linesToDisplay.Max();\n    var fileLines = new Dictionary&lt;int, string&gt;(linesToDisplay.Distinct().Count());\n\n    // Start lineNumber at 1 instead of 0\n    int lineNumber = 1;\n\n    // Just read up to the largest line number we need \n    // and save the lines we care about in our dictionary\n    foreach (var line in File.ReadLines(inputFile))\n    {\n        if (linesToDisplay.Contains(lineNumber))\n        {\n            fileLines[lineNumber] = line;\n        }\n\n        // Increment our lineNumber and break if we're done\n        if (++lineNumber &gt; maxLineNumber) break;\n    }\n\n    // Write the output to our file\n    File.WriteAllLines(outputFile, linesToDisplay.Select(line =&gt; fileLines[line]));\n\n    GetKeyFromUser(\"\\n\\nDone! Press any key to exit...\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570649789, "post_id": 58309214, "comment_id": 102983599, "body": "As I noted in the comments to the other answer that gives this solution: the problem is that the check for containment in the list can be inefficient if the list is large. See my answer for some ways you can make this code shorter, faster, and easier to follow."}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1570650991, "post_id": 58309214, "comment_id": 102984076, "body": "@EricLippert thanks for the tip. I edited it to use a HashSet. You&#39;ve got very good points in your answer, upvoted it."}], "tags": [], "owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "is_accepted": false, "score": 3, "last_activity_date": 1570710352, "last_edit_date": 1570710352, "creation_date": 1570641549, "answer_id": 58309214, "question_id": 58309090, "link": "https://stackoverflow.com/questions/58309090/read-multiple-lines-from-a-large-file-in-non-ascending-order/58309214#58309214", "title": "Read multiple lines from a large file in non-ascending order", "body": "<p>Use a <code>StreamReader</code>, so you don't have to read the entire file, just until the last desired line, and store them in a Dictionary, for later fast search.</p>\n\n<p>Edit: Thanks to Erick Lippert, I included a HashSet for fast lookup.</p>\n\n<pre><code>List&lt;int&gt; lineNumbers = new List&lt;int&gt;{2,4,4,1};\nHashSet&lt;int&gt; lookUp = new HashSet&lt;int&gt;(lineNumbers);\nDictionary&lt;int,string&gt; lines = new Dictionary&lt;int,string&gt;();\n\nusing(StreamReader sr = new StreamReader(inputFile)){\n    int lastLine = lookUp.Max();\n    for(int currentLine=1;currentLine&lt;=lastLine;currentLine++){\n        if(lookUp.Contains(currentLine)){\n            lines[currentLine]=sr.ReadLine();\n        }\n        else{\n            sr.ReadLine();\n        }       \n    }   \n}\nusing(StreamWriter sw = new StreamWriter(outputFile)){\n    foreach(var line in lineNumbers){\n        sw.WriteLine(lines[line]);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "edited": false, "score": 0, "creation_date": 1570695198, "post_id": 58311025, "comment_id": 102996256, "body": "If you wanted to save memory, wouldn&#39;t it make sense to use <code>File.ReadLines</code> instead of <code>File.ReadAllLines</code> as the former will iterate over the file line by line instead of reading it into memory all at once?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "edited": false, "score": 0, "creation_date": 1570714400, "post_id": 58311025, "comment_id": 103006936, "body": "@germi: Yes, and I intended to write it as you suggest, and do not know why my fingers did not obey!"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 5, "last_activity_date": 1570714414, "last_edit_date": 1570714414, "creation_date": 1570649353, "answer_id": 58311025, "question_id": 58309090, "link": "https://stackoverflow.com/questions/58309090/read-multiple-lines-from-a-large-file-in-non-ascending-order/58311025#58311025", "title": "Read multiple lines from a large file in non-ascending order", "body": "<p>The high-order bit here is: you are trying to solve a database problem using text files. Databases are designed to solve big data problems; text files, as you've discovered, are terrible at random access. <strong>Use a database, not a text file</strong>.</p>\n\n<p>If you are hell-bent upon using a text file, what you have to do is <em>take advantage of stuff you know about the likely problem parameters</em>. For example, if you know that, as you imply, there are ~1M lines, each line is ~1KB, and the set of lines to extract is ~0.1% of the total lines, then you can come up with an efficient solution like this:</p>\n\n<ul>\n<li>Make a set containing the line numbers to be read. The set must be fast to check for membership.</li>\n<li>Make a dictionary that maps from line numbers to line contents.  This must be fast to look up by key and fast to add new key/value pairs.</li>\n<li>Read each line of the file one at a time; if the line number is in the set, add the contents to the dictionary.</li>\n<li>Now iterate the list of line numbers and map the dictionary contents; now we have a sequence of strings.</li>\n<li>Dump that sequence to the destination file.</li>\n</ul>\n\n<p>We have five operations, so hopefully it is around five lines of code.</p>\n\n<pre><code>void DoIt(string pathIn, IEnumerable&lt;int&gt; lineNumbers, string pathOut)\n{\n  var lines = new HashSet&lt;int&gt;(lineNumbers);\n  var dict = File.ReadLines(pathIn)\n    .Select((lineText, index) =&gt; new KeyValuePair&lt;int, string&gt;(index, lineText))\n    .Where(p =&gt; lines.Contains(p.Key))\n    .ToDictionary(p =&gt; p.Key, p =&gt; p.Value);\n  File.WriteAllLines(pathOut, lineNumbers.Select(i =&gt; dict[i]));\n}\n</code></pre>\n\n<p>OK, got it in six. Pretty good.</p>\n\n<hr>\n\n<p>Notice that I made use of all those assumptions; <strong>if the assumptions are violated then this stops being a good solution</strong>.  In particular we assume that the dictionary is going to be small compared to the size of the input file. If that is not true, then you'll need a more sophisticated technique to get efficiencies.</p>\n\n<p>Conversely, can we extract additional efficiencies?  <strong>Yes, provided we know facts about likely inputs</strong>. Suppose for example we know that the same file will be iterated several times but with different line number sets, but those sets are likely to have overlap. In that case <em>we can re-use dictionaries</em> instead of rebuilding them. That is, suppose a previous operation has left a <code>Dictionary&lt;int, string&gt;</code> computed for lines (10, 20, 30, 40) and file X.  If a request then comes in for lines (30, 20, 10) for file X, we already have the dictionary in memory.  </p>\n\n<p>The key thing I want to get across in this answer is that you <em>must</em> know something about the inputs in order to build an efficient solution; the more restrictions you can articulate on the inputs, the more efficient a solution you can build. Take advantage of all the knowledge you have about the problem domain.</p>\n"}], "owner": {"reputation": 779, "user_id": 858431, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8823be888d90b83bbe5f99660179be0a?s=128&d=identicon&r=PG", "display_name": "Tizz", "link": "https://stackoverflow.com/users/858431/tizz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1570714414, "creation_date": 1570640870, "question_id": 58309090, "link": "https://stackoverflow.com/questions/58309090/read-multiple-lines-from-a-large-file-in-non-ascending-order", "title": "Read multiple lines from a large file in non-ascending order", "body": "<p>I have a very large text file, over 1GB, and I have a list of integers that represent line numbers, and the need is to produce another file containing the text of the original files line numbers in the new file.</p>\n\n<p>Example of original large file:</p>\n\n<pre><code>ogfile line 1\nsome text here\nanother line\nblah blah\n</code></pre>\n\n<p>So when I get a List of \"2,4,4,1\" the output file should read:</p>\n\n<pre><code>some text here\nblah blah\nblah blah\nogfile line 1\n</code></pre>\n\n<p>I have tried\n<code>string lineString = File.ReadLines(filename).Skip(lineNumList[i]-1).Take(1).First();</code></p>\n\n<p>but this takes way to long as the file has to be read in, skipped to the line in question, then reread the next time... and we are talking millions of lines in the 1GB file and my <code>List&lt;int&gt;</code> is thousands of line numbers.</p>\n\n<p>Is there a better/faster way to read a single line, or have the reader skip to a specific line number without \"skipping\" line by line?</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570640681, "post_id": 58309026, "comment_id": 102979525, "body": "Are you talking about the last row being displayed, or the last row in the data?"}, {"owner": {"reputation": 43, "user_id": 6580768, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c213b7fd9ffc1d137e242e4d6bf71e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Miggy", "link": "https://stackoverflow.com/users/6580768/miggy"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570640800, "post_id": 58309026, "comment_id": 102979588, "body": "the last row being displayed. All the rows are being displayed perfectly fine. It&#39;s the horizontal grid lines that I have a problem with. Currently it&#39;s set to transparent but I need it to be transparent except for the last row. I&#39;m trying to get the bottom grid line of the last row to show."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6580768, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c213b7fd9ffc1d137e242e4d6bf71e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Miggy", "link": "https://stackoverflow.com/users/6580768/miggy"}, "edited": false, "score": 0, "creation_date": 1570643560, "post_id": 58309521, "comment_id": 102980852, "body": "The DataGrid gets called each time a new row is built so I can&#39;t wrap it with a border. It&#39;ll give every row a bottom grid line, if I did so."}], "tags": [], "owner": {"reputation": 89, "user_id": 11481474, "user_type": "registered", "profile_image": "https://graph.facebook.com/1883991938372274/picture?type=large", "display_name": "Ben Walton", "link": "https://stackoverflow.com/users/11481474/ben-walton"}, "is_accepted": false, "score": 0, "last_activity_date": 1570642877, "creation_date": 1570642877, "answer_id": 58309521, "question_id": 58309026, "link": "https://stackoverflow.com/questions/58309026/wpf-datagrid-transparent-horizontal-grid-lines-except-for-bottom-horizontal-li/58309521#58309521", "title": "WPF DataGrid - Transparent Horizontal Grid Lines except for bottom horizontal line of the last row", "body": "<p>Can you wrap the datagrid itself in a border?</p>\n\n<pre><code>&lt;Grid&gt;\n  &lt;Border BorderBrush=\"#CDCDCD\" BorderThickness=\"0,0,0,1\"&gt;\n  &lt;DataGrid&gt;\n    &lt;DataGrid.Columns&gt;\n      ...\n    &lt;DataGrid.Columns/&gt;\n  &lt;DataGrid/&gt;\n&lt;Border/&gt;\n&lt;Grid/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 6580768, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c213b7fd9ffc1d137e242e4d6bf71e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Miggy", "link": "https://stackoverflow.com/users/6580768/miggy"}, "edited": false, "score": 0, "creation_date": 1570650110, "post_id": 58310605, "comment_id": 102983743, "body": "Tried to implement it, and it still has the bottom border missing. I also tried wrapping the 2nd grid within a Border, but the border seemed to shrink; needs resizing."}], "tags": [], "owner": {"reputation": 170, "user_id": 6142378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593e89e4256dd201a541c13e29abdf5d?s=128&d=identicon&r=PG&f=1", "display_name": "Dammer15", "link": "https://stackoverflow.com/users/6142378/dammer15"}, "is_accepted": false, "score": 0, "last_activity_date": 1570647662, "creation_date": 1570647662, "answer_id": 58310605, "question_id": 58309026, "link": "https://stackoverflow.com/questions/58309026/wpf-datagrid-transparent-horizontal-grid-lines-except-for-bottom-horizontal-li/58310605#58310605", "title": "WPF DataGrid - Transparent Horizontal Grid Lines except for bottom horizontal line of the last row", "body": "<pre><code>&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition/&gt;\n        &lt;ColumnDefinition/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition/&gt;\n        &lt;RowDefinition/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;DataGrid GridLinesVisibility=\"Vertical\"\n              BorderBrush=\"Black\"\n              Background=\"White\"\n              BorderThickness=\"0 0 0 1\"\n              DataContext=\"{Binding ElementName=win}\"\n              ItemsSource=\"{Binding itemList}\"\n              CanUserAddRows=\"False\"\n              HorizontalAlignment=\"Left\"&gt;\n    &lt;/DataGrid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sa6el.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sa6el.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 43, "user_id": 6580768, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c213b7fd9ffc1d137e242e4d6bf71e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Miggy", "link": "https://stackoverflow.com/users/6580768/miggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570647662, "creation_date": 1570640563, "last_edit_date": 1570643919, "question_id": 58309026, "link": "https://stackoverflow.com/questions/58309026/wpf-datagrid-transparent-horizontal-grid-lines-except-for-bottom-horizontal-li", "title": "WPF DataGrid - Transparent Horizontal Grid Lines except for bottom horizontal line of the last row", "body": "<p>I'm not too familiar with C# or XAML, but I have a DataGrid that sets the Horizontal Grid Lines to be transparent. However, I would need to have the last row's bottom grid line of the DataGrid to be a solid line and not Transparent.</p>\n\n<p>DataGrid is within a Grid and I tried setting the Border thickness value to be \"0,0,0,1\" on the off chance that it would work, but didn't.\nTried to add some conditional statements to check for the last row of the DataGrid, but the way the code is built, there's no particular way to determine if it is the last row.</p>\n\n<p>Current Style for the DataGrid</p>\n\n<pre><code>&lt;Style x:Key=\"OrderViewDataGridStyle\" TargetType=\"DataGrid\"&gt;\n    &lt;Setter Property=\"SelectionMode\"  Value=\"Single\"/&gt;\n    &lt;Setter Property=\"SelectionUnit\" Value=\"FullRow\" /&gt;\n    &lt;Setter Property=\"CanUserSortColumns\" Value=\"True\"/&gt;\n    &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"True\"/&gt;\n    &lt;Setter Property=\"ScrollViewer.VerticalScrollBarVisibility\" Value=\"Auto\"/&gt;\n    &lt;Setter Property=\"ScrollViewer.HorizontalScrollBarVisibility\" Value=\"Auto\"/&gt;\n    &lt;Setter Property=\"AlternationCount\" Value=\"2\"/&gt;\n    &lt;Setter Property=\"IsReadOnly\" Value=\"True\"/&gt;\n    &lt;Setter Property=\"HorizontalGridLinesBrush\" Value=\"Transparent\"/&gt;\n    &lt;Setter Property=\"VerticalGridLinesBrush\" Value=\"#CDCDCD\"/&gt;\n    &lt;Setter Property=\"ColumnHeaderStyle\" Value=\"{StaticResource DatagridColumnHeaderStyle}\"/&gt;\n    &lt;Setter Property=\"ItemContainerStyle\" Value=\"{StaticResource OrderViewDatagridRowStyle}\"/&gt;\n    &lt;Setter Property=\"CanUserReorderColumns\" Value=\"False\"/&gt;\n    &lt;Setter Property=\"CanUserResizeColumns\" Value=\"True\"/&gt;\n    &lt;Setter Property=\"Background\" Value=\"#F6F6F6\"/&gt;\n    &lt;Setter Property=\"BorderBrush\" Value=\"#CDCDCD\"/&gt;\n    &lt;Setter Property=\"AutoGenerateColumns\" Value=\"False\"/&gt;\n    &lt;Setter Property=\"RowHeaderWidth\" Value=\"0\" /&gt;\n    &lt;Setter Property=\"HorizontalAlignment\"  Value=\"Stretch\" /&gt;\n    &lt;Setter Property=\"VerticalAlignment\"  Value=\"Stretch\" /&gt;\n    &lt;Setter Property=\"VirtualizingStackPanel.VirtualizationMode\"  Value=\"Recycling\" /&gt;\n    &lt;Setter Property=\"VirtualizingStackPanel.IsVirtualizing\"  Value=\"True\" /&gt;\n    &lt;Setter Property=\"EnableRowVirtualization\" Value=\"True\"/&gt;\n    &lt;Setter Property=\"EnableColumnVirtualization\" Value=\"False\"/&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>DataGrid</p>\n\n<pre><code>&lt;Grid&gt;\n  &lt;Grid&gt;\n    &lt;Border&gt;\n      ...\n    &lt;Border/&gt;\n    &lt;DataGrid&gt;\n      &lt;DataGrid.Columns&gt;\n        ...\n      &lt;DataGrid.Columns/&gt;\n    &lt;DataGrid/&gt;\n    &lt;DataGrid&gt;\n      &lt;DataGrid.Columns&gt;\n        ...\n      &lt;DataGrid.Columns/&gt;\n    &lt;DataGrid/&gt;\n    &lt;DataGrid&gt;\n      &lt;DataGrid.Columns&gt;\n        ...\n      &lt;DataGrid.Columns/&gt;\n    &lt;DataGrid/&gt;\n  &lt;Grid/&gt;\n&lt;Grid/&gt;\n</code></pre>\n\n<p>I'm trying to see if there's a better way of implementing the one line at the bottom side of the last row without conditional xaml statements.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "performance", "automapper"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1570640659, "post_id": 58308944, "comment_id": 102979515, "body": "You realize that the linked article is from 2015, and that there have probably been many updates to that library since then, yes?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1570641266, "post_id": 58308944, "comment_id": 102979785, "body": "So you tried mapping one object first. What happens if you map 10000 objects first? I bet it&#39;s just as slow, suggesting it does some one-time setup. I&#39;ve never used Automapper, but that&#39;s the first thing I&#39;d look into."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570641637, "post_id": 58308944, "comment_id": 102979963, "body": "@mason I thought so too. I have updated my question. Please take a look."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1570643688, "post_id": 58308944, "comment_id": 102980906, "body": "@KennethK. I just updated the automapper to the latest version. Same result."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1570643934, "post_id": 58308944, "comment_id": 102981014, "body": "You didn&#39;t reset your stopwatch between the first two runs."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1570644326, "post_id": 58308944, "comment_id": 102981192, "body": "@KennethK. same result even if i do"}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1570684330, "post_id": 58308944, "comment_id": 102991878, "body": "You&#39;re using an old version. Upgrade to the latest and check your results again."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1570727927, "post_id": 58308944, "comment_id": 103014355, "body": "@LucianBargaoanu I did. It still takes more time for the first mapping."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1570731295, "post_id": 58308944, "comment_id": 103015812, "body": "Check <a href=\"https://docs.automapper.org/en/latest/Understanding-your-mapping.html\" rel=\"nofollow noreferrer\">the execution plan</a>. That shouldn&#39;t even be AM code, just compiling the expression. But only profiling would tell."}], "answers": [{"comments": [{"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570643662, "post_id": 58309344, "comment_id": 102980899, "body": "I wrote the entire logging code block twice and got almost same result"}, {"owner": {"reputation": 1098, "user_id": 4852369, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lGsbO.png?s=128&g=1", "display_name": "KryptoBeard", "link": "https://stackoverflow.com/users/4852369/kryptobeard"}, "reply_to_user": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570644039, "post_id": 58309344, "comment_id": 102981056, "body": "Another user said you forgot to reset the watch. Once you reset the watch you will notice its correct."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570644341, "post_id": 58309344, "comment_id": 102981201, "body": "same result even if i do"}, {"owner": {"reputation": 1098, "user_id": 4852369, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lGsbO.png?s=128&g=1", "display_name": "KryptoBeard", "link": "https://stackoverflow.com/users/4852369/kryptobeard"}, "reply_to_user": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570644435, "post_id": 58309344, "comment_id": 102981253, "body": "Its not. I copied your code and put the correct reset on the timer and &#39;AutoMapper with 1: is 0..."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570644569, "post_id": 58309344, "comment_id": 102981341, "body": "I just tried: `  Stopwatch watch = new Stopwatch();             watch.Start();             program.RunMapper(1);             watch.Stop();             Console.WriteLine(string.Format(&quot;AutoMapper with {0}: {1}&quot;, 1, watch.ElapsedMilliseconds));`  Got 200+ ms"}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570645811, "post_id": 58309344, "comment_id": 102981926, "body": "Oh. Thanks. I am disappointed though. I was planing on using it in my project. But it seems that it has a lot of overhead. It&#39;s  30 ms on your machine. 100ms on mine. It doesn&#39;t matter if it takes 0 ms for consecutive requests. 100ms is a deal breaker."}, {"owner": {"reputation": 1098, "user_id": 4852369, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lGsbO.png?s=128&g=1", "display_name": "KryptoBeard", "link": "https://stackoverflow.com/users/4852369/kryptobeard"}, "reply_to_user": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1570646312, "post_id": 58309344, "comment_id": 102982156, "body": "Yeah, with the convenience comes a cost."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1570647330, "post_id": 58309344, "comment_id": 102982536, "body": "<a href=\"http://docs.automapper.org/en/latest/Configuration.html#configuration-compilation\" rel=\"nofollow noreferrer\">docs.automapper.org/en/latest/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1098, "user_id": 4852369, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lGsbO.png?s=128&g=1", "display_name": "KryptoBeard", "link": "https://stackoverflow.com/users/4852369/kryptobeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1570644564, "last_edit_date": 1570644564, "creation_date": 1570642082, "answer_id": 58309344, "question_id": 58308944, "link": "https://stackoverflow.com/questions/58308944/why-is-mapping-a-single-object-with-automapper-takes-more-time-than-mapping-10-o/58309344#58309344", "title": "Why is mapping a single object with Automapper takes more time than mapping 10 or 100?", "body": "<p>If you reflect into the Mapper.Map method,I believe there is some caching going on with the first call, so after the first call, which caches the expression (taking more time) the rest do not have that overhead.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0FyBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0FyBQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The above is from the MappingEngine class, which is referenced on the Mapper.Map calls.</p>\n\n<pre><code>var program = new Program();\nMapper.CreateMap&lt;Customer, CustomerViewItem&gt;();\n\nStopwatch watch = new Stopwatch();\n\nfor (int x = 1; x &lt;= 100000; x *= 10)\n{\n    program.PopulateCustomers(x);\n\n    watch.Start();\n    program.RunMapper(x);\n    watch.Stop();\n    Console.WriteLine(string.Format(\"INITIAL :AutoMapper with {0}: {1}\", x, watch.ElapsedMilliseconds));\n\n\n    watch.Reset();\n    program.PopulateCustomers(x);\n\n    watch.Start();\n    program.RunMapper(x);\n    watch.Stop();\n    Console.WriteLine(string.Format(\"AutoMapper with {0}: {1}\", x, watch.ElapsedMilliseconds));\n\n    watch.Reset();\n\n    watch.Start();\n    program.RunManual(x);\n    watch.Stop();\n    Console.WriteLine(string.Format(\"Manual Map with {0}: {1}\", x, watch.ElapsedMilliseconds));\n}\n\nConsole.ReadLine();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cPmkF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPmkF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570644564, "creation_date": 1570640277, "last_edit_date": 1570641612, "question_id": 58308944, "link": "https://stackoverflow.com/questions/58308944/why-is-mapping-a-single-object-with-automapper-takes-more-time-than-mapping-10-o", "title": "Why is mapping a single object with Automapper takes more time than mapping 10 or 100?", "body": "<p><strong>Code used for Analysis:</strong></p>\n\n<pre><code>    using System;\n    using System.Collections.Generic;\n    using System.Diagnostics;\n    using AutoMapper;\n\n    using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing AutoMapper;\n\nnamespace Automapper\n{\n    class Program\n    {\n        private List&lt;Customer&gt; _customers = new List&lt;Customer&gt;();\n\n        static void Main(string[] args)\n        {\n            var program = new Program();\n            Mapper.CreateMap&lt;Customer, CustomerViewItem&gt;();\n\n            Stopwatch watch = new Stopwatch();\n\n            for (int x = 1; x &lt;= 100000; x *= 10)\n            {\n                program.PopulateCustomers(x);\n\n                watch.Start();\n                program.RunMapper(x);\n                watch.Stop();\n                Console.WriteLine(string.Format(\"INITIAL :AutoMapper with {0}: {1}\", x, watch.ElapsedMilliseconds));\n\n\n\n                program.PopulateCustomers(x);\n\n                watch.Start();\n                program.RunMapper(x);\n                watch.Stop();\n                Console.WriteLine(string.Format(\"AutoMapper with {0}: {1}\", x, watch.ElapsedMilliseconds));\n\n                watch.Reset();\n\n                watch.Start();\n                program.RunManual(x);\n                watch.Stop();\n                Console.WriteLine(string.Format(\"Manual Map with {0}: {1}\", x, watch.ElapsedMilliseconds));\n            }\n\n            Console.ReadLine();\n        }\n\n        private void PopulateCustomers(int count)\n        {\n            for (int x = 0; x &lt; count; x++)\n            {\n                Customer customer = GetCustomerFromDB();\n                _customers.Add(customer);\n            }\n        }\n\n        private void RunMapper(int count)\n        {\n            List&lt;CustomerViewItem&gt; customers = new List&lt;CustomerViewItem&gt;();\n            foreach (Customer customer in _customers)\n            {\n                CustomerViewItem customerViewItem =\n                    Mapper.Map&lt;Customer, CustomerViewItem&gt;(customer);\n\n                customers.Add(customerViewItem);\n            }\n        }\n\n        private void RunManual(int count)\n        {\n            List&lt;CustomerViewItem&gt; customers = new List&lt;CustomerViewItem&gt;();\n            foreach (Customer customer in _customers)\n            {\n                CustomerViewItem customerViewItem = new CustomerViewItem()\n                {\n                    FirstName = customer.FirstName,\n                    LastName = customer.LastName,\n                    DateOfBirth = customer.DateOfBirth,\n                    NumberOfOrders = customer.NumberOfOrders,\n                };\n\n                customers.Add(customerViewItem);\n            }\n        }\n\n        private Customer GetCustomerFromDB()\n        {\n            return new Customer()\n            {\n                DateOfBirth = new DateTime(1987, 11, 2),\n                FirstName = \"Andriy\",\n                LastName = \"Buday\",\n                NumberOfOrders = 7\n            };\n        }\n    }\n\n    public class Customer\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public DateTime DateOfBirth { get; set; }\n\n        public int NumberOfOrders { get; set; }\n    }\n\n    public class CustomerViewItem\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public DateTime DateOfBirth { get; set; }\n\n        public int NumberOfOrders { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong>\n <a href=\"https://i.stack.imgur.com/D2ZRv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D2ZRv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is would it take more time to map a single object than 10 or 100 even a 1000 objects? \n<a href=\"https://www.codeproject.com/Articles/987284/Automapper-Performance-Testing\" rel=\"nofollow noreferrer\">Source</a></p>\n"}, {"tags": ["c#", "excel", "excel-formula"], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 2218713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/185c8037bf740bad821fb76760443785?s=128&d=identicon&r=PG", "display_name": "Yair I", "link": "https://stackoverflow.com/users/2218713/yair-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1570656618, "creation_date": 1570656618, "answer_id": 58312590, "question_id": 58308913, "link": "https://stackoverflow.com/questions/58308913/how-to-format-number-in-excel-by-using-c-and-documentformat-openxml-nuget-packa/58312590#58312590", "title": "How to format number in Excel by using C# and DocumentFormat.OpenXml nuget package?", "body": "<p>You need to set the style for the selected column that you want:</p>\n\n<pre><code>sheet.Column(columnIndex).Style.Numberformat.Format = \"#,##0.00\";\n</code></pre>\n\n<p>I think you can also do this for cells.</p>\n"}], "owner": {"reputation": 1, "user_id": 10906714, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6hil08ULbrY/AAAAAAAAAAI/AAAAAAAAACE/YKYIHK_Si90/photo.jpg?sz=128", "display_name": "Abdul naveed", "link": "https://stackoverflow.com/users/10906714/abdul-naveed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571489822, "creation_date": 1570640159, "last_edit_date": 1571489822, "question_id": 58308913, "link": "https://stackoverflow.com/questions/58308913/how-to-format-number-in-excel-by-using-c-and-documentformat-openxml-nuget-packa", "title": "How to format number in Excel by using C# and DocumentFormat.OpenXml nuget package?", "body": "<p>I want to display number 3123.45 as 3,123.45 by using C# as follow coding. I tried many codes but didn't find good example and code.</p>\n\n<pre><code>    public static void CreateSpreadsheetWorkbook(string filepath)\n    {\n        // Create a spreadsheet document by supplying the filepath.\n        // By default, AutoSave = true, Editable = true, and Type = xlsx.\n        SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.Create(filepath, SpreadsheetDocumentType.Workbook);\n\n        // Add a WorkbookPart to the document.\n        WorkbookPart workbookpart = spreadsheetDocument.AddWorkbookPart();\n        workbookpart.Workbook = new Workbook();\n\n        // Add a WorksheetPart to the WorkbookPart.\n        WorksheetPart worksheetPart = workbookpart.AddNewPart&lt;WorksheetPart&gt;();\n        worksheetPart.Worksheet = new Worksheet(new SheetData());\n\n        // Add Sheets to the Workbook.\n        Sheets sheets = spreadsheetDocument.WorkbookPart.Workbook.AppendChild&lt;Sheets&gt;(new Sheets());\n\n        // Append a new worksheet and associate it with the workbook.\n        Sheet sheet = new Sheet() { Id = spreadsheetDocument.WorkbookPart.GetIdOfPart(worksheetPart), SheetId = 1, Name = \"mySheet\" };\n\n        sheets.Append(sheet);\n\n        workbookpart.Workbook.Save();\n\n        // Close the document.\n        spreadsheetDocument.Close();\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "razor", "editorfor"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570640735, "post_id": 58308833, "comment_id": 102979556, "body": "When you delete an item from an array all the items above the deleted item will move one index down.  So 1) A 2) B 3) C 4) D 5) E.  When you remove item 3 you get 1) A 2) B 3) D 4) E."}, {"owner": {"reputation": 11, "user_id": 2665182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d15ef79926a3532485f1bde516fd2b?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2665182/john"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570640966, "post_id": 58308833, "comment_id": 102979657, "body": "@jdweng Right, but even if I cast the list (after removing an item) to a new list and pass that into the View, the original items still display.  The EditorFor doesn&#39;t match what the Model contains."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570672773, "post_id": 58308833, "comment_id": 102989457, "body": "Then the model when data was created and model when cast are not the same."}, {"owner": {"reputation": 11, "user_id": 2665182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d15ef79926a3532485f1bde516fd2b?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2665182/john"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570727029, "post_id": 58308833, "comment_id": 103013983, "body": "@jdweng When I&#39;m debugging and viewing the Model in the View, it does not contain the name that was removed in the controller.  Yet it still generates the name that was removed."}, {"owner": {"reputation": 11, "user_id": 2665182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d15ef79926a3532485f1bde516fd2b?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2665182/john"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1571418825, "post_id": 58308833, "comment_id": 103248040, "body": "I figured it out -- I had to <a href=\"https://stackoverflow.com/a/9144621/2665182\">clear the ModelState</a>, after that it worked."}], "owner": {"reputation": 11, "user_id": 2665182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d15ef79926a3532485f1bde516fd2b?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2665182/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570639835, "creation_date": 1570639835, "question_id": 58308833, "link": "https://stackoverflow.com/questions/58308833/after-calling-removeat-on-a-list-appears-to-work-but-when-the-editorfor-rende", "title": "After calling RemoveAt() on a List appears to work, but when the EditorFor renders the updated list, the removed field still displays", "body": "<p>I'm trying to set up a view where the user can add to and delete from a list of people.  When I'm debugging, after deleting an item with <code>RemoveAt(i)</code>, the list gets updated correctly, and when I inspect the Model while the View is being created, the removed item is not there.  However, after I call <code>EditorFor(x =&gt; name)</code> in the <code>for</code> loop that displays each item in the list, the correct number of items is rendered, but the values are not the same as what the Model contained.  </p>\n\n<p>I'm using the techniques in <a href=\"https://stackoverflow.com/a/26284038/2665182\">this answer</a> to display each item.  </p>\n\n<p>Relevant code: </p>\n\n<p>Controller:</p>\n\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\npublic ActionResult Persons(IList&lt;Person&gt; persons, string command)\n{\n    if (!ModelState.IsValid &amp;&amp; !command.StartsWith(\"Delete\"))\n        return View(persons);\n    if (command == \"AddNew\")\n    {\n        List&lt;Person&gt; newPersons = persons?.ToList() ?? new List&lt;Person&gt;();\n        newPersons.Add(new Person());\n        return View(newPersons);\n    }\n    if (command.StartsWith(\"Delete\"))\n    {\n        if (int.TryParse(command.Substring(6), out int i))\n            persons.RemoveAt(i);\n        else\n            ModelState.AddModelError(\"\", \"There was an error deleting the person.\");\n        return View(persons);\n    }\n    return RedirectToAction(command == \"Back\" ? \"Index\" : \"Summary\");\n}\n</code></pre>\n\n<p>Person.cs (model)</p>\n\n<pre><code>private string firstName;\nprivate string middleName;\nprivate string lastName;\n\n[Required(AllowEmptyStrings = false)]\n[Display(Name = \"First Name\")]\npublic string FirstName\n{\n    get =&gt; firstName;\n    set =&gt; firstName = value?.Trim();\n}\n\n[Display(Name = \"Middle Name\")]\npublic string MiddleName\n{\n    get =&gt; middleName;\n    set =&gt; middleName = value?.Trim();\n}\n\n[Required(AllowEmptyStrings = false)]\n[Display(Name = \"Last Name\")]\npublic string LastName\n{\n    get =&gt; lastName;\n    set =&gt; lastName = value?.Trim();\n}\n</code></pre>\n\n<p>Persons.cshtml:</p>\n\n<pre><code>@model IEnumerable&lt;Person&gt;\n&lt;div class=\"text-center\"&gt;\n    &lt;button type=\"submit\" name=\"command\" value=\"AddNew\" class=\"btn btn-primary btn-lg\"&gt;\n        Add another person\n    &lt;/button&gt;\n&lt;/div&gt;\n{\n    int i = 0;\n    foreach (Person person in Model)\n    {\n        @Html.EditorFor(x =&gt; person, \"PersonTemplate\", $\"Persons[{i++}]\")\n    }\n}\n&lt;script type=\"text/javascript&gt;\n$(document).on(\"click\", \"button[value='Delete']\", function() {\n    const r = $(this).parent().prev().find(\"select\").attr(\"name\");\n    const s = r.substring(8, r.indexOf(\"]\"));\n    $(this).val(`Delete${s}`);\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>PersonTemplate.cshtml:</p>\n\n<pre><code>&lt;div class=\"row px-3 pb-3\"&gt;\n    &lt;div class=\"col-lg-3 col-md-6\"&gt;\n        @Html.LabelFor(x =&gt; x.FirstName, new { @class = \"required\" })\n        @Html.EditorFor(x =&gt; x.FirstName, new { htmlattributes = new { @class = \"form-control\" } })\n        @Html.ValidationMessageFor(x =&gt; x.FirstName)\n    &lt;/div&gt;\n    &lt;div class=\"col-lg-3 col-md-6\"&gt;\n        @Html.LabelFor(x =&gt; x.MiddleName)\n        @Html.EditorFor(x =&gt; x.MiddleName, new { htmlattributes = new { @class = \"form-control\" } })\n    &lt;/div&gt;\n    &lt;div class=\"col-lg-4 col-md-7\"&gt;\n        @Html.LabelFor(x =&gt; x.LastName, new { @class = \"required\" })\n        @Html.EditorFor(x =&gt; x.LastName, new { htmlattributes = new { @class = \"form-control\" } })\n        @Html.ValidationMessageFor(x =&gt; x.LastName)\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;button type=\"submit\" name=\"command\" value=\"Delete\" class=\"btn btn-outline-danger\"&gt;\n    Delete\n&lt;/button&gt;\n</code></pre>\n\n<p>Adding a new blank item to the list works fine.  Deleting an item seems to work, all the way up until the EditorFor command.  Here's an example of a scenario I go through: </p>\n\n<ul>\n<li>the screen shows 3 names: Bob Smith, Larry Jones, Anne Walker. </li>\n<li>I click the \"Delete\" button next to Larry Jones</li>\n<li>As I step through the controller action, <code>command</code> = \"Delete1\", so I know the javascript that identifies which one to delete works.  </li>\n<li>The <code>int.TryParse()</code> returns <code>i = 1</code>, so I know that part works too.  </li>\n<li>When I inspect the <code>persons</code> object after the <code>RemoveAt(i)</code> line, there are two Person objects in the list: Bob Smith and Anne Walker. </li>\n<li>When I step into the View, and inspect the Model object, there are two <code>Person</code> objects:  Bob Smith and Anne Walker. </li>\n<li>In the <code>for</code> loop, when <code>EditorFor()</code> gets called, the first <code>Person</code> object that gets sent into the template is Bob Smith.  The second <code>Person</code> object is Anne Walker.  </li>\n<li>Here's the crucial point that I don't understand: in PersonTemplate.cshtml, <code>this.Model</code> has <code>FirstName = \"Anne\"</code> and <code>LastName = \"Walker\"</code>, but the MvcHtmlString that gets generated by <code>@Html.EditorFor(x =&gt; x.FirstName)</code> returns the following: </li>\n</ul>\n\n<pre><code>&lt;input class=\"text-box single-line\" id=\"Persons_1__FirstName\" name=\"Persons[1].FirstName\" type=\"text\" value=\"Larry\" /&gt;\n</code></pre>\n\n<ul>\n<li><code>@Html.EditorFor(x =&gt; x.LastName)</code> returns:</li>\n</ul>\n\n<pre><code>&lt;input class=\"text-box single-line\" id=\"Persons_1__LastName\" name=\"Persons[1].LastName\" type=\"text\" value=\"Jones\" /&gt;\n</code></pre>\n\n<p>What happened to Anne Walker?  In PersonTemplate, <code>this.Model</code> still shows <code>FirstName = \"Anne\"</code> and <code>LastName = \"Walker\"</code>, but the input values use Larry Jones instead.  </p>\n\n<p>This happens no matter which one I delete in the list.  If I have 5 people in the list, and I delete person #1, then the view displays persons 1, 2, 3, and 4.  If I delete Person 4, it still displays persons 1, 2, 3, and 4.  If I delete Person 5, it displays persons 1, 2, 3, and 4.  Why doesn't it render the correct value from the model?  </p>\n"}, {"tags": ["c#", "ajax", "asp.net-core", "razor-pages", "iis-10"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570639481, "post_id": 58308655, "comment_id": 102979007, "body": "404 is a credential issue.  Server probably wants HTTPS (secure SSL) and you are not going performing SSL.  See : <a href=\"https://www.codeproject.com/Articles/1000189/A-Working-TCP-Client-and-Server-With-SSL\" rel=\"nofollow noreferrer\">codeproject.com/Articles/1000189/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 12189734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vQ97UrxKCsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVFfSAhgd7Mus_HhjaQvHlKexq0g/photo.jpg?sz=128", "display_name": "user12189734", "link": "https://stackoverflow.com/users/12189734/user12189734"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570639730, "post_id": 58308655, "comment_id": 102979117, "body": "@jdweng But why would it only happen with Ajax Post requests? I have also disabled SSL for the project and removed app.UseHttpsRedirection(); in the Startup configuration, since I do not yet need https at this stage"}, {"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570640335, "post_id": 58308655, "comment_id": 102979369, "body": "Is your app hosted on a virtual application under IIS, if yes the path should contain that virtual application name."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570640440, "post_id": 58308655, "comment_id": 102979406, "body": "Use a sniffer like wireshark or fiddler and compare the headers in first request with working and non-working."}, {"owner": {"reputation": 11, "user_id": 12189734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vQ97UrxKCsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVFfSAhgd7Mus_HhjaQvHlKexq0g/photo.jpg?sz=128", "display_name": "user12189734", "link": "https://stackoverflow.com/users/12189734/user12189734"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570799606, "post_id": 58308655, "comment_id": 103039142, "body": "@jdweng The headers seem to be the same, except for <code>Accept-Encoding: gzip, deflate</code>, which is <code>Accept-Encoding: gzip, deflate, br</code> on the working version, but from what I see this is browser-related and not something I can change via Ajax?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570800138, "post_id": 58308655, "comment_id": 103039443, "body": "Look for the word &quot;Header&quot; on following : <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/caching/response?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/performance/caching/&hellip;</a>  and <a href=\"https://stackoverflow.com/questions/10093053/add-header-in-ajax-request-with-jquery\" title=\"add header in ajax request with jquery\">stackoverflow.com/questions/10093053/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 12189734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vQ97UrxKCsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVFfSAhgd7Mus_HhjaQvHlKexq0g/photo.jpg?sz=128", "display_name": "user12189734", "link": "https://stackoverflow.com/users/12189734/user12189734"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570800764, "post_id": 58308655, "comment_id": 103039807, "body": "@jdweng I know how to change header values, but &#39;Accept-Encoding&#39; in particular is an unsafe header which cannot be changed <a href=\"https://stackoverflow.com/a/3778750/12189734\">stackoverflow.com/a/3778750/12189734</a>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570801462, "post_id": 58308655, "comment_id": 103040184, "body": "That posting is referring Browsers.  Are you using a Browser or HTTP method in Net?  HTTP in Net does not automatically add anything.  See : <a href=\"https://social.msdn.microsoft.com/Forums/en-US/f4a079ef-ec12-41ae-879a-84d881392ed9/does-httpclient-add-header-aceptencoding-is-gzip-deflate-automatically?forum=winappswithcsharp\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}, {"owner": {"reputation": 7217, "user_id": 475766, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Pm674.jpg?s=128&g=1", "display_name": "Ortund", "link": "https://stackoverflow.com/users/475766/ortund"}, "edited": false, "score": 0, "creation_date": 1616488699, "post_id": 58308655, "comment_id": 118010795, "body": "2 years and no answer... did you ever get this right?"}], "owner": {"reputation": 11, "user_id": 12189734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vQ97UrxKCsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVFfSAhgd7Mus_HhjaQvHlKexq0g/photo.jpg?sz=128", "display_name": "user12189734", "link": "https://stackoverflow.com/users/12189734/user12189734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 877, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570639064, "creation_date": 1570639064, "question_id": 58308655, "link": "https://stackoverflow.com/questions/58308655/razor-pages-post-handler-returns-404-on-iis", "title": "Razor Pages POST handler returns 404 on IIS", "body": "<p>I am working on an ASP.NET Core 2.1 application. I need to call a named page handler through ajax.</p>\n\n<p>The method works correctly while in debug/release, but fails once it is published to IIS.</p>\n\n<h3>What I have tried</h3>\n\n<ul>\n<li>I am now using @page \"{handler?}\" instead of specifying the handler as a query parameter</li>\n<li>I have made sure that the request url is correct, and that the form contains the \"__RequestVerificationToken\"</li>\n<li>I have changed the IIS Application Pool CLR Version to \"No Managed Code\"</li>\n<li>I have modified my web.config to look like this:</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n    &lt;location path=\".\" inheritInChildApplications=\"false\"&gt;\n        &lt;system.webServer&gt;\n            &lt;modules runAllManagedModulesForAllRequests=\"true\" /&gt;\n            &lt;handlers&gt;\n                &lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" modules=\"AspNetCoreModule\" resourceType=\"Unspecified\" /&gt;\n            &lt;/handlers&gt;\n            &lt;aspNetCore processPath=\"dotnet\" arguments=\".\\MyApp.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" /&gt;\n        &lt;/system.webServer&gt;\n    &lt;/location&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<h3>Code:</h3>\n\n<p>This is the handler method, there are similar ones in other pages and none of them is found by the ajax request (but again, this only happens once it is deployed to IIS):</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HttpPost]\npublic IActionResult OnPostExampleHandler([FromForm]ExampleHandlerModel model)\n{\n    // ...\n\n    return new JsonResult(new { data, message });\n}\n</code></pre>\n\n<p>This is the javascript code which is called on submit:</p>\n\n<pre><code>function submitForm()\n{\n    return $.ajax(\n        {\n            type: \"POST\",\n            url: \"/relativeURL/ExampleHandler\",\n            data: $('#ExampleHandlerForm').serialize(),\n            dataType: \"json\",\n\n            complete: function (res)\n            {\n                // do something on completion\n            }\n        });\n}\n</code></pre>\n\n<p>And lastly this is the Html/Razor code, I am using the 'form' TagHelper which ensures the AntiForgeryToken is present when the form is serialized:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form method=\"post\" asp-page-handler=\"ExampleHandler\" id=\"ExampleHandlerForm\"&gt;\n\n    &lt;div class=\"modal-content\"&gt;\n        &lt;div class=\"modal-header\"&gt;\n            &lt;h5 class=\"modal-title\"&gt;@Model.Details.Description&lt;/h5&gt;\n            &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;\n                &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-body form-row\"&gt;\n\n            @* Input Fields *@\n\n        &lt;/div&gt;\n        &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;@Lang.Operations.Close&lt;/button&gt;\n            &lt;button type=\"button\" onclick=\"submitForm();\" class=\"btn btn-primary\"&gt;@Lang.Operations.Save&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<h3>Error Message</h3>\n\n<pre><code>POST http://root:port/relativeURL/ExampleHandler 404 (Not Found)\nsend    @   jquery.min.js:2\najax    @   jquery.min.js:2\nsubmitForm  @   VM106:13\nonclick @   5:1\n</code></pre>\n"}, {"tags": ["c#", "winapi"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 2, "creation_date": 1570639295, "post_id": 58308650, "comment_id": 102978922, "body": "Well there&#39;s <a href=\"https://docs.microsoft.com/en-gb/windows/win32/api/winuser/nf-winuser-getguithreadinfo?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">GetGUIThreadInfo</a>.."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 3, "creation_date": 1570640579, "post_id": 58308650, "comment_id": 102979469, "body": "That assumes that the application uses native controls. <b>Many modern applications don&#39;t use native controls at all</b>! For example, anything using WPF, Qt, Electron will not have any native controls at all. Native controls are essentially obsolete on Windows, and new code shouldn&#39;t normally be worrying about them. For purposes of automation, you may wish to use accessibility APIs, since those are supported by the popular GUI application development frameworks."}, {"owner": {"reputation": 5, "user_id": 12190037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAjyBOMU_rKH1pTtXRq3kEejs_5LVrDOgco5dtq=k-s128", "display_name": "Diego Jota", "link": "https://stackoverflow.com/users/12190037/diego-jota"}, "edited": false, "score": 0, "creation_date": 1570646828, "post_id": 58308650, "comment_id": 102982352, "body": "Well, using IAccessible Interface didn&#39;t get a result as I expected.   I can tell when a control is in focus, but I would like to know the type of that control. For example, if the focus control is of type Password or Text"}, {"owner": {"reputation": 6168, "user_id": 10611792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r727s.jpg?s=128&g=1", "display_name": "Drake Wu", "link": "https://stackoverflow.com/users/10611792/drake-wu"}, "edited": false, "score": 0, "creation_date": 1570685380, "post_id": 58308650, "comment_id": 102992159, "body": "For getting the type of control, use <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getclassname\" rel=\"nofollow noreferrer\"><code>GetClassName()</code></a> with the control handle."}], "owner": {"reputation": 5, "user_id": 12190037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAjyBOMU_rKH1pTtXRq3kEejs_5LVrDOgco5dtq=k-s128", "display_name": "Diego Jota", "link": "https://stackoverflow.com/users/12190037/diego-jota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570639047, "creation_date": 1570639047, "question_id": 58308650, "link": "https://stackoverflow.com/questions/58308650/get-control-focus-in-other-application", "title": "Get control focus in other application", "body": "<p>So far only can know how to get the Handle of the window that is in focus, using this:</p>\n\n<pre><code>[DllImport(\"user32.dll\")]\nstatic extern IntPtr GetFocus();\n</code></pre>\n\n<p>I want to know if, besides that, is there any way to know which control of this application is in focus.</p>\n"}, {"tags": ["c#", "internet-explorer", "selenium-webdriver", "webdriver", "selenium-iedriver"], "answers": [{"tags": [], "owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1570685422, "creation_date": 1570685422, "answer_id": 58316010, "question_id": 58308485, "link": "https://stackoverflow.com/questions/58308485/c-selenium-ie-driver-opens-child-window-which-looks-like-its-fully-loaded-but/58316010#58316010", "title": "C# Selenium IE Driver opens child window which looks like it&#39;s fully loaded but is in fact a blank HTML page", "body": "<p>I suggest you to check the <strong>Explicit Wait</strong>.</p>\n\n<p>Explicit waits are available to Selenium clients for imperative, procedural languages. They allow your code to halt program execution, or freeze the thread, until the condition you pass it resolves. The condition is called with a certain frequency until the timeout of the wait is elapsed. This means that for as long as the condition returns a falsy value, it will keep trying and waiting.</p>\n\n<p>With the helps of that you can try to pause the code until any specific control on that window get visible.</p>\n\n<p>Sample C# example:</p>\n\n<pre><code> WebDriverWait wait = new WebDriverWait(_driver, TimeSpan.FromSeconds(4));\n\n            // Test the autocomplete response - Explicit Wait\n            IWebElement autocomplete = wait.Until(x =&gt; x.FindElement(By.ClassName(\"ac-row-110457\")));\n</code></pre>\n\n<p>Another example:</p>\n\n<pre><code>// The timespan determines how long to wait for any 'condition' to return a value\n// If it is exceeded an exception is thrown.\nWebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(5.0));\n\n// Set the 'condition' as an anonymous function returning a boolean\nwait.Until&lt;Boolean&gt;(delegate(IWebDriver d)\n{\n    // Check if our global variable is initialized by running a little JS\n    return (Boolean)((IJavaScriptExecutor)d).ExecuteScript(\"return typeof(window.TestReady) !== 'undefined' &amp;&amp; window.TestReady === true\");\n});\n</code></pre>\n\n<p>References:</p>\n\n<p>(1) <a href=\"https://stackoverflow.com/questions/11001030/how-i-can-check-whether-a-page-is-loaded-completely-or-not-in-web-driver\">How I can check whether a page is loaded completely or not in web driver?</a></p>\n\n<p>(2) <a href=\"https://seleniumhq.github.io/docs/site/nl/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">Explicit wait</a></p>\n\n<p>(3) <a href=\"https://deanhume.com/selenium-webdriver-wait-for-an-element-to-load/\" rel=\"nofollow noreferrer\">Selenium Webdriver - Wait for an element to load</a></p>\n"}], "owner": {"reputation": 65, "user_id": 7932384, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/011bee9b9f1453eccce10366e73b835a?s=128&d=identicon&r=PG&f=1", "display_name": "Mina", "link": "https://stackoverflow.com/users/7932384/mina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570685422, "creation_date": 1570638426, "last_edit_date": 1570639192, "question_id": 58308485, "link": "https://stackoverflow.com/questions/58308485/c-selenium-ie-driver-opens-child-window-which-looks-like-its-fully-loaded-but", "title": "C# Selenium IE Driver opens child window which looks like it&#39;s fully loaded but is in fact a blank HTML page", "body": "<p>I perform such steps in an automated test case: </p>\n\n<ul>\n<li>Login to an application</li>\n<li>Switch to a frame with title \"Main Menu\" (example)</li>\n<li>Select and click desired element from: \"Main Menu > Sub Menu 1> Sub Menu 2 > Search\": When \"Search\" is clicked then a new child window with it's own url is opened. The \"Search\" click also changes frame in the background, it triggers a page reload and so \"Main Menu\" changes into \"Detailed Menu\".</li>\n<li>When some id is given on child window and search button on child window is clicked, then child window will be closed and \"Detailed Menu\" will be updated with information for this particular id.</li>\n</ul>\n\n<p>Problem:</p>\n\n<p>When IE driver (version 3.14.0.0) clicks search button from \"Main Menu > Sub Menu 1> Sub Menu 2 > Search\" then child window which is opened does not contain all information. It looks like it's ok, but after looking at it's properties the url indicates that it's a blank html page. Because it's blank/disabled I cannot switch to it, find any element or click any button.</p>\n\n<p>I managed to do above test steps with ChromeDriver, but the test must be executed using IE driver (application requirements).</p>\n\n<p>I also tried setting capabilities of IE driver as stated in:\n<a href=\"https://stackoverflow.com/questions/20115474/how-can-i-start-internetexplorerdriver-using-selenium-webdriver\">How can I start InternetExplorerDriver using Selenium WebDriver</a>\nbut I can't modify any Internet Explorer security options, because these options are disabled.</p>\n\n<p>I noticed that when I use the following code after driver performs \"Main Menu > Sub Menu 1> Sub Menu 2 > Search\":</p>\n\n<pre><code>  foreach (var process in Process.GetProcessesByName(\"IEDriverServer\"))\n        {\n            process.Kill();\n\n        }\n</code></pre>\n\n<p>Then child window becomes fully operational, but of course driver session is over, so I can't proceed with later steps anyway.</p>\n\n<p>Question:</p>\n\n<p>Is there a way to pause driver's processes after it performs click, wait for child window to be fully loaded, then resume processes so it can switch to a child window etc?\nIf not is there a way to attach this window to current browser session?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1570638986, "post_id": 58308476, "comment_id": 102978806, "body": "Show startup code for windows service."}], "answers": [{"comments": [{"owner": {"reputation": 2237, "user_id": 208642, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/abb0d6cd02a0218c07d17544ff55a952?s=128&d=identicon&r=PG", "display_name": "John Korsnes", "link": "https://stackoverflow.com/users/208642/john-korsnes"}, "edited": false, "score": 0, "creation_date": 1578992773, "post_id": 58309251, "comment_id": 105610226, "body": "Do you have any links to documentation showing that the Worker SDK does include appsettings.json files by default?"}], "tags": [], "owner": {"reputation": 2175, "user_id": 210609, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5de956c64904e84474978fad16a14abb?s=128&d=identicon&r=PG", "display_name": "awright18", "link": "https://stackoverflow.com/users/210609/awright18"}, "is_accepted": false, "score": 1, "last_activity_date": 1570641781, "last_edit_date": 1570641781, "creation_date": 1570641737, "answer_id": 58309251, "question_id": 58308476, "link": "https://stackoverflow.com/questions/58308476/get-appsettings-json-values-on-net-core-3-0-worker-service-after-publish-as-win/58309251#58309251", "title": "Get appsettings.json values on .net core 3.0 worker service after publish as windows service", "body": "<p>There are a few ways to handle this. </p>\n\n<ol>\n<li>you can use the dotnet new worker template </li>\n</ol>\n\n<p><code>dotnet new worker</code></p>\n\n<ol start=\"2\">\n<li>Manually change your project type to Microsoft.NET.Sdk.Worker in your .csproj</li>\n</ol>\n\n<p><code>&lt;Project Sdk=\"Microsoft.NET.Sdk.Worker\"&gt;</code></p>\n\n<ol start=\"3\">\n<li>In your .csproj add your appsettings.json file and have it copied to the output directory </li>\n</ol>\n\n<pre><code>  &lt;ItemGroup&gt;\n    &lt;None Update=\"appsettings.json\"&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n    &lt;/None&gt;\n  &lt;/ItemGroup&gt;\n</code></pre>\n\n<p>If you have an existing project I'd recommend #2 convert your csproj to us the Worker Sdk, alternatively if its simple to just create a new project use #1.  #3 is a terrible hack just to copy out the appsettings.json file to your output, I don't recommend this. </p>\n"}, {"comments": [{"owner": {"reputation": 5242, "user_id": 601862, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-2Y6YEzkNuKo/AAAAAAAAAAI/AAAAAAAAIsI/fpM-2_aHwnk/photo.jpg?sz=128", "display_name": "Franva", "link": "https://stackoverflow.com/users/601862/franva"}, "edited": false, "score": 0, "creation_date": 1596948710, "post_id": 58309474, "comment_id": 111971911, "body": "this solved my issue. I missed: <code>Microsoft.Extensions.Hosting.WindowsServices</code> and <code>.UseWindowsService()</code> I wasted 3 hours on this.... I thought after create a Worker Service project, I would be able to start running the webservice. It does run when testing with VS, but after added the exe and starting the exe in the Services window in Windows 10, it always said, Error1503 not respond timely...."}], "tags": [], "owner": {"reputation": 51, "user_id": 12189140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZ2ZTyA7pvEUnLg7fg-HA5BgInm3WGzLNE6EHBQA=k-s128", "display_name": "Gustavo Lipi", "link": "https://stackoverflow.com/users/12189140/gustavo-lipi"}, "is_accepted": false, "score": 1, "last_activity_date": 1570642715, "creation_date": 1570642715, "answer_id": 58309474, "question_id": 58308476, "link": "https://stackoverflow.com/questions/58308476/get-appsettings-json-values-on-net-core-3-0-worker-service-after-publish-as-win/58309474#58309474", "title": "Get appsettings.json values on .net core 3.0 worker service after publish as windows service", "body": "<p>Due to lack of experience with .NET core 3.0, I stopped adding a package to the project, and following a documentation from the Microsoft website I found the solution.\nI solved the problem as follows</p>\n\n<p>In the Program.cs file, I added .UseWindowsService () and added the Microsoft.Extensions.Hosting.WindowsServices package as documented in the link below.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/windows-service?view=aspnetcore-3.0&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/windows-service?view=aspnetcore-3.0&amp;tabs=visual-studio</a></p>\n"}], "owner": {"reputation": 51, "user_id": 12189140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZ2ZTyA7pvEUnLg7fg-HA5BgInm3WGzLNE6EHBQA=k-s128", "display_name": "Gustavo Lipi", "link": "https://stackoverflow.com/users/12189140/gustavo-lipi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5343, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1570679411, "creation_date": 1570638399, "last_edit_date": 1570679411, "question_id": 58308476, "link": "https://stackoverflow.com/questions/58308476/get-appsettings-json-values-on-net-core-3-0-worker-service-after-publish-as-win", "title": "Get appsettings.json values on .net core 3.0 worker service after publish as windows service", "body": "<p>Following the answer:\n<a href=\"https://stackoverflow.com/questions/58288674/net-core-3-worker-service-settings-dependency-injection/58305931#58305931\">.NET Core 3 Worker Service Settings Dependency Injection</a></p>\n\n<p>I can get the settings in Debug or in Release, at class Worker.cs\nBut when deployed as Windows Service, this values return as null</p>\n\n<p>Worker.cs</p>\n\n<pre><code>public class Worker : BackgroundService\n{\n    private readonly ILogger&lt;Worker&gt; _logger;\n    private readonly ServiceSettings _serviceSettings;\n    private readonly ServiceConfigurations _serviceConfigurations;\n\n    public Worker(ILogger&lt;Worker&gt; logger, IOptions&lt;ServiceConfigurations&gt; serviceConfigurations, IOptions&lt;ServiceSettings&gt; serviceSettings) \n    {\n        _logger = logger;\n        _serviceConfigurations = serviceConfigurations.Value;\n\n        _logger.LogInformation($\"Worker running at: {DateTime.Now}\");\n        _serviceSettings = serviceSettings.Value;\n\n        string retornoPathLog = null;\n        string PathLog = _serviceSettings.PathLog;\n\n        if (!Directory.Exists(PathLog))\n        {\n            retornoPathLog = \"Diret\u00f3rio de LOG \" + PathLog;\n            Directory.CreateDirectory(PathLog);\n        }\n\n        //Configure Serilo for Logging\n        Log.Logger = new LoggerConfiguration()\n            .MinimumLevel.Information()\n            .Enrich.FromLogContext()\n            .WriteTo.File(PathLog + \"log.txt\", rollingInterval: RollingInterval.Day)\n            .CreateLogger();\n\n        if (string.IsNullOrEmpty(retornoPathLog) == false)\n        {\n            Log.Information(\"[WFoneService - Watch Event] \" + retornoPathLog);\n        }\n    }\n}\n</code></pre>\n\n<p>appsettings.json:</p>\n\n<pre><code>{\n  \"ConnectionStrings\": {\n    \"WFoneConnection\": \"\"\n  },\n  \"ServiceConfigurations\": {\n    \"UrlSignalrNotification\": \"urlValue\",\n    \"WatchIp\": \"ipValue\",\n    \"WatchPort\": \"portValue\"\n  },\n  \"ServiceSettings\": {\n    \"PathLog\": \"C:\\\\Log\\\\\"\n  },\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft\": \"Warning\",\n      \"Microsoft.Hosting.Lifetime\": \"Information\"\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1570639038, "post_id": 58308407, "comment_id": 102978826, "body": "You don&#39;t seem to have any navigation properties relating to the members other than the Captain? - I&#39;d expect to see an ICollection&lt;Memeber&gt; on your Team class. Not sure that&#39;ll make any difference, but perhaps EF is assuming that the rows are orphaned."}, {"owner": {"reputation": 225, "user_id": 6528261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1b9e9488617ee98ef4c23745eea101?s=128&d=identicon&r=PG&f=1", "display_name": "Mads", "link": "https://stackoverflow.com/users/6528261/mads"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1570641393, "post_id": 58308407, "comment_id": 102979840, "body": "@Sam I&#39;d actually like to have that, but when I set <code>public IList&lt;Member&gt; Members { get; set; }</code> in the Team class, I get a navigation property error. Don&#39;t know why. I&#39;ve done that a hundred times before. Maybe I can&#39;t have two Member relations in the same class?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1570642486, "post_id": 58308407, "comment_id": 102980375, "body": "You have to configure the relationships with fluent config. Since you&#39;ll end up having both a one to one and a one to many to the same two types, you need to tell EF explicitly which properties on one side correspond to which properties on the other side."}, {"owner": {"reputation": 225, "user_id": 6528261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1b9e9488617ee98ef4c23745eea101?s=128&d=identicon&r=PG&f=1", "display_name": "Mads", "link": "https://stackoverflow.com/users/6528261/mads"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1570642650, "post_id": 58308407, "comment_id": 102980448, "body": "Thanks @ChrisPratt, I&#39;ll look into that. But is that the answer to the question too?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1570644315, "post_id": 58308407, "comment_id": 102981188, "body": "Probably not, but I don&#39;t see anything obvious here to explain it. Regardless, I&#39;d make sure the relationships are set up correctly first, as that could potentially be an problem."}, {"owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "edited": false, "score": 0, "creation_date": 1570690930, "post_id": 58308407, "comment_id": 102994260, "body": "If i using your model,i could not add two members with the same TeamId.So how did you add this successfully?From your database,the relationship between team and member should be one-to-many,so you should change` Member` to <code>List&lt;Member&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 6528261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1b9e9488617ee98ef4c23745eea101?s=128&d=identicon&r=PG&f=1", "display_name": "Mads", "link": "https://stackoverflow.com/users/6528261/mads"}, "edited": false, "score": 0, "creation_date": 1570702544, "post_id": 58317102, "comment_id": 103000184, "body": "This would probably work and that&#39;s what I&#39;m working on right now. I&#39;d just like to query a single Member (the captain) instead of all the members and then filter them to find the captain. I need this several places, eg. in a list of teams that also shows the Captain. Still I don&#39;t get why all other members in the Team are deleted when updating the captain..."}], "tags": [], "owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "is_accepted": true, "score": 0, "last_activity_date": 1570690536, "creation_date": 1570690536, "answer_id": 58317102, "question_id": 58308407, "link": "https://stackoverflow.com/questions/58308407/why-is-some-records-deleted-when-updating-others/58317102#58317102", "title": "Why is some records deleted when updating others?", "body": "<p>Here is a simple working demo like below:</p>\n\n<p>1.DbContext:</p>\n\n<pre><code>public class SO1010testContext : DbContext\n{\n    public SO1010testContext (DbContextOptions&lt;SO1010testContext&gt; options)\n        : base(options)\n    {\n    }\n    public DbSet&lt;Team&gt; Teams { get; set; }\n    public DbSet&lt;Member&gt; Members { get; set; }\n}\n</code></pre>\n\n<p>2.Model(From your database data,one team contains several members,so you need to change the <code>Member</code> to <code>List&lt;Member&gt;</code> in class <code>Team</code>):</p>\n\n<pre><code>public class Team\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime CreatedAt { get; set; }\n    public int Status { get; set; } // -1 = deleted, 0 = incomplete, 1 = completed (signup)\n    public List&lt;Member&gt; Captain { get; set; }\n}\npublic class Member\n{\n    public int Id { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public bool Captain { get; set; }\n    public int Status { get; set; } // -1 = deleted, 0 = inactive, 1 = active\n    public int TeamId { get; set; }\n    [ForeignKey(\"TeamId\")]\n    public Team Team { get; set; }\n}\n</code></pre>\n\n<p>3.Method:</p>\n\n<pre><code>public class IndexModel : PageModel\n{\n    private readonly SO1010testContext _context;\n\n    public IndexModel(SO1010testContext context)\n    {\n        _context = context;\n    }\n    public async Task&lt;IActionResult&gt; OnGetAsync()\n    {\n        var incompletedTeams =  _context.Teams.Include(x =&gt; x.Captain)\n            .Where(x =&gt; x.Status == 0 &amp;&amp; (DateTime.Now - x.CreatedAt).Minutes &gt; 30)\n            .ToList();\n        foreach (var team in incompletedTeams)\n        {\n            var member = team.Captain;\n            var captain = member.Where(m =&gt; m.Captain).ToList();\n            foreach (var c in captain)\n            {\n                team.Status = -1;\n                c.Status = -1;\n            }\n\n        }\n        await _context.SaveChangesAsync();\n        return Page();\n    }\n}\n</code></pre>\n\n<p>4.Result:\n<a href=\"https://i.stack.imgur.com/hD7uq.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hD7uq.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 225, "user_id": 6528261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1b9e9488617ee98ef4c23745eea101?s=128&d=identicon&r=PG&f=1", "display_name": "Mads", "link": "https://stackoverflow.com/users/6528261/mads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58317102, "answer_count": 1, "score": 0, "last_activity_date": 1570690536, "creation_date": 1570638123, "last_edit_date": 1570638556, "question_id": 58308407, "link": "https://stackoverflow.com/questions/58308407/why-is-some-records-deleted-when-updating-others", "title": "Why is some records deleted when updating others?", "body": "<p>I have a strange problem, where updating some records in my database automatically deletes others.</p>\n\n<p>Models:</p>\n\n<pre><code>public DbSet&lt;Team&gt; Teams { get; set; }\npublic DbSet&lt;Member&gt; Members { get; set; }\n\npublic class Team\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime CreatedAt { get; set; }\n    public int Status { get; set; } // -1 = deleted, 0 = incomplete, 1 = completed (signup)\n    public Member Captain { get; set; }\n}\n\npublic class Member\n{\n    public int Id { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public bool Captain { get; set; }\n    public int Status { get; set; } // -1 = deleted, 0 = inactive, 1 = active\n    public int TeamId { get; set; }\n\n    [ForeignKey(\"TeamId\")]\n    public Team Team { get; set; }\n}\n</code></pre>\n\n<p>Teams in the database:</p>\n\n<pre><code>Id      Name      CreatedAt                  Status\n1       Team 1    2019-07-10 09:32:12.123    1 \n2       Team 2    2019-07-10 11:24:39.456    0\n</code></pre>\n\n<p>Members in the database:</p>\n\n<pre><code>Id      FirstName    LastName    Captain    Status    TeamId\n1       John         Doe         True       1         1\n2       Jone         Doe         False      1         1\n3       Foo          Bar         True       0         2\n</code></pre>\n\n<p>In the team signup process a new Team is assigned Status 0, and when payment is received, they are updated with Status 1. When the team signup is completed, the Captain can invite other Members to join the team.</p>\n\n<p>Once a day I do a check for incompleted teams (Status 0), and I set the Team and related Member (Captain) to Status -1:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; OnGetAsync()\n{\n\n    var incompletedTeams = await _context.Teams.Include(x =&gt; x.Captain).Where(x =&gt; x.Status == 0 &amp;&amp; (DateTime.Now - x.CreatedAt).Minutes &gt; 30 &amp;&amp; x.Captain.Captain).ToListAsync();\n\n    foreach (var team in incompletedTeams)\n    {\n        team.Status = -1;\n        team.Captain.Status = -1;\n    }\n\n    await _context.SaveChangesAsync();\n\n    [...]\n\n}\n</code></pre>\n\n<p>The strange thing is, that when I save these changes, the Member that is not Captain, is removed from the database. The Team og Member (Captain) status is updated correctly.</p>\n\n<p>How is that even possible - and how to avoid it?</p>\n"}, {"tags": ["c#", "html", "asp.net", ".net"], "comments": [{"owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "edited": false, "score": 0, "creation_date": 1570638977, "post_id": 58308266, "comment_id": 102978802, "body": "Are you using paging? Have you inspected <code>listResult</code>, does it contain an empty item?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10109680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620df5fa29b211ee7c9197555e704e9e?s=128&d=identicon&r=PG", "display_name": "Khlifi", "link": "https://stackoverflow.com/users/10109680/khlifi"}, "edited": false, "score": 0, "creation_date": 1570799804, "post_id": 58313052, "comment_id": 103039265, "body": "thx in fact the showFooter in my HTML code was &quot;true&quot; so that was the problem"}], "tags": [], "owner": {"reputation": 288, "user_id": 12161656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e2ca091be88dfad60911f9fba02478?s=128&d=identicon&r=PG&f=1", "display_name": "JobesK", "link": "https://stackoverflow.com/users/12161656/jobesk"}, "is_accepted": true, "score": 0, "last_activity_date": 1570659785, "creation_date": 1570659785, "answer_id": 58313052, "question_id": 58308266, "link": "https://stackoverflow.com/questions/58308266/why-do-i-have-an-empty-row-at-the-end-of-my-gridview/58313052#58313052", "title": "Why do I have an empty row at the end of my GridView?", "body": "<p>Confirm that headers/footers/pagers (if used) aren't affecting the count. Run the SQL separately to confirm dataset count. </p>\n"}], "owner": {"reputation": 3, "user_id": 10109680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620df5fa29b211ee7c9197555e704e9e?s=128&d=identicon&r=PG", "display_name": "Khlifi", "link": "https://stackoverflow.com/users/10109680/khlifi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 58313052, "answer_count": 1, "score": -2, "last_activity_date": 1570659785, "creation_date": 1570637568, "last_edit_date": 1570638843, "question_id": 58308266, "link": "https://stackoverflow.com/questions/58308266/why-do-i-have-an-empty-row-at-the-end-of-my-gridview", "title": "Why do I have an empty row at the end of my GridView?", "body": "<p>I have always an empty row in the end of my GridView </p>\n\n<pre><code> gv_remboursement.DataSource = listResult;\n gv_remboursement.VirtualItemCount = iTotal;\n gv_remboursement.DataBind();\n listResultContent.Visible = isVisible;\n</code></pre>\n\n<p><code>listResult</code> contains the list that I fill from the database.</p>\n"}, {"tags": ["c#", "entity-framework", ".net-core", ".net-core-3.0"], "comments": [{"owner": {"reputation": 133, "user_id": 7523633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c8e61158e0bff1e2d0f2bbd76935bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Wouter", "link": "https://stackoverflow.com/users/7523633/wouter"}, "edited": false, "score": 0, "creation_date": 1579698565, "post_id": 58308237, "comment_id": 105852427, "body": "I have the same problem."}], "owner": {"reputation": 281, "user_id": 4346183, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f76aad02b43e9570acc46a42c5c0a37a?s=128&d=identicon&r=PG&f=1", "display_name": "Inagnikai", "link": "https://stackoverflow.com/users/4346183/inagnikai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570637456, "creation_date": 1570637456, "question_id": 58308237, "link": "https://stackoverflow.com/questions/58308237/microsoft-entityframeworkcore-design-disappearing-not-being-detected-when-attemp", "title": "Microsoft.EntityFrameworkCore.Design disappearing/not being detected when attempting to scaffold from a database in .NET Core 3.0", "body": "<p>I'd like to scaffold a number of tables from an existing database to work with them in a .NET Core 3.0 Web API. Under previous versions of .NET Core, having references to <code>Microsoft.EntityFrameworkCore</code>, <code>Microsoft.EntityFrameworkCore.SqlServer</code>, and <code>Microsoft.EntityFrameworkCore.Design</code> has been sufficient when scaffolding from this database. However, in .NET Core 3.0, when I attempt to scaffold from my database, the following sequence of events happens</p>\n\n<ul>\n<li>The command prompt hangs</li>\n<li>The references to the necessary NuGet packages (most notably <code>Microsoft.EntityFrameworkCore.Design</code>) disappear in the Solution Explorer for my project in Visual Studio</li>\n<li>I get the error message <code>Your startup project '[project name]' doesn't reference Microsoft.EntityFrameworkCore.Design. This package is required for the Entity Framework Core Tools to work. Ensure your startup project is correct, install the package, and try again</code></li>\n</ul>\n\n<p>To scaffold, I'm running the following command</p>\n\n<p><code>dotnet ef dbcontext scaffold \"[connection string]\" microsoft.entityframeworkcore.sqlserver</code></p>\n\n<p>Connection string omitted since it's very likely not related to the issue.</p>\n\n<p>I've installed Entity Framework as a global tool, as described <a href=\"https://stackoverflow.com/a/57070108/4346183\">here</a>, as well as adding package references to the 3 aforementioned NuGet packages, as well as <code>Microsoft.EntityFrameworkCore.Tools</code>, within my project.</p>\n\n<p>What do I need to do differently in order to get these tables to scaffold correctly?</p>\n"}, {"tags": ["c#", "akka.net", "orleans", "actor-model"], "comments": [{"owner": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "edited": false, "score": 0, "creation_date": 1570684976, "post_id": 58308230, "comment_id": 102992056, "body": "decouple your mind from actor and database.  pretend you only have a persistence actor (maybe its a storage is a relational database, maybe its a no-sql... or something more exotic)"}, {"owner": {"reputation": 67, "user_id": 10712228, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rpvu2c1Iyzc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gMxG5iSfo2N-HybMx7fN0cJVjX7g/mo/photo.jpg?sz=128", "display_name": "Ivan  avn ", "link": "https://stackoverflow.com/users/10712228/ivan-avn"}, "reply_to_user": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "edited": false, "score": 0, "creation_date": 1570703502, "post_id": 58308230, "comment_id": 103000704, "body": "@BozoJoe Do you mean If all the state of the app is presented by actors that are kept in database (I don&#39;t mean per business entity but like akka.persistence)? But If I want to have some relational storage then I just need to find a way to sync the &quot;app state&quot; (persistent actors) and my relational storage? Is it correct?"}, {"owner": {"reputation": 67, "user_id": 10712228, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rpvu2c1Iyzc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gMxG5iSfo2N-HybMx7fN0cJVjX7g/mo/photo.jpg?sz=128", "display_name": "Ivan  avn ", "link": "https://stackoverflow.com/users/10712228/ivan-avn"}, "reply_to_user": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "edited": false, "score": 0, "creation_date": 1570704129, "post_id": 58308230, "comment_id": 103001041, "body": "@BozoJoe Is it correct to think that the state is maintained by the app itself (actors)? And If we need then we synchronize the state with other kinds of storages (maybe using event sourcing)."}, {"owner": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "edited": false, "score": 0, "creation_date": 1570718840, "post_id": 58308230, "comment_id": 103009769, "body": "you&#39;re starting to get it"}, {"owner": {"reputation": 67, "user_id": 10712228, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rpvu2c1Iyzc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gMxG5iSfo2N-HybMx7fN0cJVjX7g/mo/photo.jpg?sz=128", "display_name": "Ivan  avn ", "link": "https://stackoverflow.com/users/10712228/ivan-avn"}, "reply_to_user": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "edited": false, "score": 0, "creation_date": 1570743503, "post_id": 58308230, "comment_id": 103020638, "body": "@BozoJoe thanks a lot"}], "answers": [{"tags": [], "owner": {"reputation": 1821, "user_id": 188138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a82790a733d2e5c6b052db9633545bf1?s=128&d=identicon&r=PG", "display_name": "Brad Irby", "link": "https://stackoverflow.com/users/188138/brad-irby"}, "is_accepted": false, "score": 2, "last_activity_date": 1572185833, "creation_date": 1572185833, "answer_id": 58580191, "question_id": 58308230, "link": "https://stackoverflow.com/questions/58308230/orleans-akka-net-problem-with-understanding-the-actor-model/58580191#58580191", "title": "Orleans. Akka.net. Problem with understanding the actor model", "body": "<p>There are a couple ideas you\u2019re missing here, but let\u2019s take the questions in order.</p>\n\n<blockquote>\n  <p>Should I create one actor per user account? I'm pretty sure that I\n  need because how then I can implement thousands of transactions\n  between different accounts.</p>\n</blockquote>\n\n<p>I assume the alternative you\u2019re considering is multiple actors per user account, and this would be wrong.  There can be only one actor per user account or else you will run into the problem you describe that simultaneous requests can withdraw the same money twice.</p>\n\n<blockquote>\n  <p>How can I associate the user account with the AccountActor? </p>\n</blockquote>\n\n<p>You are missing a UserActor which owns the AccountActors.  An account cannot exist without an owner, otherwise we don\u2019t know who owns the money in an account.  In the real world, one typically does not send money to a random account.  They want to send it to a person, and uses the senders User persona account to do so.</p>\n\n<blockquote>\n  <p>Is it correct If I load the data from database using repository before\n  actor's activation/start and set up the state?</p>\n</blockquote>\n\n<p>Yes, in fact that is mandatory.  Without the state in the actor, the actor is not good for much.</p>\n\n<blockquote>\n  <p>What is the best approach to save these changes to database? I read\n  that If I use calls to the database directly from the actor, I will\n  lose all the benefits because of blocked operations. Should I create\n  one more actor to process messages from other actors and writes\n  changes to database using repositories?</p>\n</blockquote>\n\n<p>You\u2019re on the right track but not quite there yet. Saves of actor state are done with asynchronous methods to write to the DB.  With an async method, the main thread does not block waiting for the DB write to happen, thus the processing thread can continue with its business.</p>\n\n<p>When only one actor is involved in an action, it can save its own state via the async method.  In banking registers there are always 2 accounts involved and writes to both must succeed or fail, never one succeed and one fail.  Therefore, the TransactionActor will open a DB transaction and tell each AccountActor to save its state using that DB transaction.  If either fails, it aborts the transaction and both fail.  Note that this method is a private async method on the TransactionActor so you get the benefits of parallel processing.</p>\n\n<p>BTW, you can't find any examples of writing to the DB in Orleans because that is all handled for you by the framework.  The save methods are automatically async and they interact with the DB.  All you do in Orleans is reference the Actor and the state is automatically pulled from the DB for you.</p>\n"}], "owner": {"reputation": 67, "user_id": 10712228, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rpvu2c1Iyzc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gMxG5iSfo2N-HybMx7fN0cJVjX7g/mo/photo.jpg?sz=128", "display_name": "Ivan  avn ", "link": "https://stackoverflow.com/users/10712228/ivan-avn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572549872, "creation_date": 1570637432, "last_edit_date": 1572549872, "question_id": 58308230, "link": "https://stackoverflow.com/questions/58308230/orleans-akka-net-problem-with-understanding-the-actor-model", "title": "Orleans. Akka.net. Problem with understanding the actor model", "body": "<p>If you don't know C# but you are familiar with the actor model please read my problem below as it is more about architecture and data management.</p>\n\n<p>I'm a very junior C# developer and trying to understand what the actor model is. I'm kind of done with it but it's left one point that I cannot get.</p>\n\n<p>Before I tell you a problem let me describe the context in order to provide you with better undersrtanding.</p>\n\n<p>As a test example I want to build an app for an imaginary bank. I'm going to implement this application by using both akka.net and Orleans on learning purpose and to be able to compare them.</p>\n\n<p>Use cases:</p>\n\n<ul>\n<li>As a user I want to be able to create a new account;</li>\n<li>As a user I want to be able to login to the app using my account unique number;</li>\n<li>As a user I want to be able to deposit money to my account;</li>\n<li>As a user I want to be able to select another user and transfer a specified sum of money to their account;</li>\n<li>As a user I want to be able to withdraw a sum of money from my account.</li>\n</ul>\n\n<p>So, there are the following entities:</p>\n\n<ul>\n<li>User;</li>\n<li>Account.</li>\n</ul>\n\n<p>Identifying one to one relationship between the user and their account. \nI'm going to use ORM to store this data in my Database. Obviously the models look something like this:</p>\n\n<pre><code>public class User\n{\n    public Guid Id { get; set; }\n    public string FullName { get; set; }\n    ....\n}\n\npublic class Account\n{\n    public Guid Id { get; set; }\n    public string UniqueNumber { get; set; }\n    public string Balance { get; set; }\n    ...\n}\n</code></pre>\n\n<p>And I also want to have two actors/grains:</p>\n\n<ol>\n<li>AccountActor;</li>\n<li>TransactionService;</li>\n</ol>\n\n<p>Their interfaces:</p>\n\n<pre><code>//Or IAccountGrain\npublic interface IAccountActor\n{\n    void Deposit(Money amount);\n    void Withdraw(Money amount);\n}\n\n//Or ITransactionGrain\npublic interface ITransactionActor\n{\n    void Transfer(IAccountActor from, IAccountActor to, Money amount);\n}\n</code></pre>\n\n<p>The thing that I don't understand is how to treat the data in the relation database.\nLet's imagine the following scenario:</p>\n\n<p>50 users are online and vigorously making request via the client app to the REST API of the app.\nThey are withdrawing, depositing and transferring money almost without any pauses.</p>\n\n<p>The question is:</p>\n\n<ol>\n<li>Should I create one actor per user account? I'm pretty sure that I\nneed because how then I can implement thousands of transactions\nbetween different accounts.</li>\n<li>How can I associate the user account with the AccountActor? Is it correct If I load the data from database using repository before\nactor's activation/start and set up the state?</li>\n</ol>\n\n<p>And the main problem:\n<strong>How to save state back to the database?</strong></p>\n\n<p>Let's image an account A that has 1000$.\nAnd It occurs about 100 transactions initiated by the users where this account is involved.\nAccount A changes its state from message to message.</p>\n\n<p>What is the best approach to save these changes to database? I read that If I use calls to the database directly from the actor, I will lose all the benefits because of blocked operations.</p>\n\n<p>Should I create one more actor to process messages from other actors and writes changes to database using repositories?</p>\n\n<p>I mean I can send from AccountActor messages about the account changes to the new actor where I will call the appropriate repository. But, Isn't it a bottleneck? Let's imagine 1000 users online and about 100 000 transactions between accounts. Then the actor that is responsible for saving accounts changes to the database can have too many messages to process. </p>\n\n<p>Sorry for the long text. I tried to find examples of applications that use Orleans or Akka.net but I haven't found anything what utilizes a database.</p>\n\n<p>Thank you for you attention.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1570637457, "post_id": 58308184, "comment_id": 102978096, "body": "Use : object[,] ar"}, {"owner": {"reputation": 555, "user_id": 10530657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579795355ca191f27fdeff4ebc208e44?s=128&d=identicon&r=PG&f=1", "display_name": "eusataf", "link": "https://stackoverflow.com/users/10530657/eusataf"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570639820, "post_id": 58308184, "comment_id": 102979148, "body": "@jdweng How to get <code>Color</code> from an array? See <code>Update-1</code>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1570640535, "post_id": 58308184, "comment_id": 102979449, "body": "cast the object to a Color."}, {"owner": {"reputation": 555, "user_id": 10530657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579795355ca191f27fdeff4ebc208e44?s=128&d=identicon&r=PG&f=1", "display_name": "eusataf", "link": "https://stackoverflow.com/users/10530657/eusataf"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570641054, "post_id": 58308184, "comment_id": 102979687, "body": "@jdweng So? <code>Color color = (Color)arr[i,3];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 10004621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQhZ7.png?s=128&g=1", "display_name": "A Redfearn", "link": "https://stackoverflow.com/users/10004621/a-redfearn"}, "is_accepted": false, "score": 0, "last_activity_date": 1570713028, "last_edit_date": 1570713028, "creation_date": 1570637838, "answer_id": 58308330, "question_id": 58308184, "link": "https://stackoverflow.com/questions/58308184/how-to-create-an-array-with-strings-string-string-color-clr-color-black/58308330#58308330", "title": "How to create an array with strings - string, string, Color Clr = Color.Black?", "body": "<p>Store the colors in the array as strings e.g. \"Black\" and use <code>ColorConverter</code></p>\n\n<pre><code>public void Backlight(MatchCollection matchCollection, String Clr)\n        {    \n            foreach (Match m in matchCollection)\n            {\n                codeRichTextBox.SelectionStart = m.Index;\n                codeRichTextBox.SelectionLength = m.Length;\n\n                ColorConverter conv = new ColorConverter();\n                Color color = (Color)conv.ConvertFromString(Clr);\n\n                codeRichTextBox.SelectionColor = color;\n                // codeRichTextBox.SelectionColor = Color.Brown;\n                // codeRichTextBox.SelectionColor = Color.FromArgb(255, 100, 10, 16);\n                // codeRichTextBox.SelectionColor = Color.FromArgb(color);\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 1, "last_activity_date": 1570638224, "last_edit_date": 1570638224, "creation_date": 1570637847, "answer_id": 58308334, "question_id": 58308184, "link": "https://stackoverflow.com/questions/58308184/how-to-create-an-array-with-strings-string-string-color-clr-color-black/58308334#58308334", "title": "How to create an array with strings - string, string, Color Clr = Color.Black?", "body": "<p>Instead of an array, you can use a list of items like that.</p>\n\n<p>Define a class Item and change this name by what you want:</p>\n\n<pre><code>public class Item\n{\n  public string Property { get; set; }\n  public string Description { get; set; }\n  public Color Color { get; set; }\n}\n</code></pre>\n\n<p>Change members names by what you need.</p>\n\n<p>Use it like that:</p>\n\n<pre><code>var list = new List&lt;Item&gt;();\n\nlist.Add(new Item \n         { \n           Property = keyw.Strings_prop, \n           Description = \"strings\", \n           Color = Color.Black \n         });\n</code></pre>\n\n<p>Then to pass the color to the method use this:</p>\n\n<pre><code>Backlight(collection, list[index].Color);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "is_accepted": false, "score": 1, "last_activity_date": 1570639068, "creation_date": 1570639068, "answer_id": 58308658, "question_id": 58308184, "link": "https://stackoverflow.com/questions/58308184/how-to-create-an-array-with-strings-string-string-color-clr-color-black/58308658#58308658", "title": "How to create an array with strings - string, string, Color Clr = Color.Black?", "body": "<p>One option could be to pass the color's name as a string and use the <code>FromName</code> method to get the <code>Color</code> object on the other side.</p>\n\n<p>...</p>\n\n<pre><code>string color = Color.Red.Name; //  set colors name\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Color Clr =  Color.FromName(color); // convert color name to Color\n</code></pre>\n\n<p>...</p>\n"}], "owner": {"reputation": 555, "user_id": 10530657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579795355ca191f27fdeff4ebc208e44?s=128&d=identicon&r=PG&f=1", "display_name": "eusataf", "link": "https://stackoverflow.com/users/10530657/eusataf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1570713028, "creation_date": 1570637283, "last_edit_date": 1570639802, "question_id": 58308184, "link": "https://stackoverflow.com/questions/58308184/how-to-create-an-array-with-strings-string-string-color-clr-color-black", "title": "How to create an array with strings - string, string, Color Clr = Color.Black?", "body": "<p>There is an array.<br>\nWe loop through the array lines and send to the method.<br>\nI need to pass \"Color.Black\" and other colors to the method.    </p>\n\n<p><strong>Question.</strong><br>\n1. How to make such an array in which you can store \"Color Clr\"?<br>\n2. Or other ways to accomplish the task?  </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>public string[,] FillArray()\n        {           \n            Keywords keyw = new Keywords();\n\n            string[,] ar = {   /*\u041f\u043e\u043b\u0435 - `keywords`  // \u041f\u043e\u043b\u0435 - `typeMatchCollection` // \u041f\u043e\u043b\u0435 - `color`*/ \n                                { keyw.Keywords_prop, \"keywords\", \"Blue\"}                 \n                               , {keyw.Types_prop,    \"types\",    \"DarkCyan\" }\n                               , {keyw.Comments_prop, \"comments\", \"Green\" }\n                               // , {keyw.Strings_prop,  \"strings\",  \"Brown\" }\n                               , {keyw.Strings_prop,  \"strings\",  Color Clr = Color.Black }\n                                };\n\n            return ar;\n        }     \n\n public void Backlight(MatchCollection matchCollection, Color Clr)\n        {\n\n            foreach (Match m in matchCollection)\n            {\n                codeRichTextBox.SelectionStart = m.Index;\n                codeRichTextBox.SelectionLength = m.Length;\n                codeRichTextBox.SelectionColor = Clr;\n                // codeRichTextBox.SelectionColor = Color.Brown;\n                // codeRichTextBox.SelectionColor = Color.FromArgb(255, 100, 10, 16);\n                // codeRichTextBox.SelectionColor = Color.FromArgb(color);\n            }\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OZQvh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZQvh.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h2>Update 1</h2>\n\n<p>This update is based on comments from @jdweng -> Use: <code>object [,] ar</code>.  </p>\n\n<p>I try to use <code>object [,] ar</code><br>\nResult.  </p>\n\n<pre><code>public void General_2()\n        {\n            object[,] arr;\n\n            arr = FillArray_1();\n\n            int rows = arr.GetUpperBound(0) + 1;\n            int columns = arr.Length / rows;\n            // \u0438\u043b\u0438 \u0442\u0430\u043a\n            // int columns = mas.GetUpperBound(1) + 1;\n\n            for (int i = 0; i &lt; rows; i++)\n            {                \n                string keywords = arr[i, 1].ToString();\n                string typeMatchCollection = arr[i, 2].ToString();\n                Color color = arr[i, 3] as Color;\n\n                MatchCollection matchCollection = null;\n                matchCollection = CreateCollectionMatchcollection(keywords, typeMatchCollection);\n\n                Backlight_1(matchCollection, color);\n            }\n        }\n</code></pre>\n\n<p>I have an error in the line <code>Color color = arr [i, 3] as Color;</code></p>\n\n<p><strong>Update 1. Question.</strong><br>\n1. How to get <code>Color</code> from an array?</p>\n"}, {"tags": ["c#", "memorystream", "gzipinputstream"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 3, "creation_date": 1570636970, "post_id": 58308066, "comment_id": 102977863, "body": "any time you call <code>stream.Read</code> <b>without</b> reading the result: that&#39;s almost certainly the error; <code>Read</code> <b>does not</b> guarantee to read <code>uncompressedIntSize</code> bytes; it is only required to read 0 bytes if the stream is empty, or <b>any number</b> &lt;= <code>uncompressedIntSize</code> otherwise; it could read 1 byte each time; you need to either loop, or call <code>decompressStream.CopyTo(outputStream);</code> instead?"}], "answers": [{"comments": [{"owner": {"reputation": 4417, "user_id": 1120092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5677677496ae72bb84f363cb7a3c4dc3?s=128&d=identicon&r=PG", "display_name": "Pete Garafano", "link": "https://stackoverflow.com/users/1120092/pete-garafano"}, "edited": false, "score": 0, "creation_date": 1570643269, "post_id": 58308228, "comment_id": 102980716, "body": "It is worth noting that <code>ArrayPool</code> is only available in .NET Core and .NETStandard 2.1+"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 4417, "user_id": 1120092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5677677496ae72bb84f363cb7a3c4dc3?s=128&d=identicon&r=PG", "display_name": "Pete Garafano", "link": "https://stackoverflow.com/users/1120092/pete-garafano"}, "edited": false, "score": 0, "creation_date": 1570648262, "post_id": 58308228, "comment_id": 102982939, "body": "@pete nope, that&#39;s wrong. It goes to net45 and netstandard1.1 (plus some UAP etc), which means &quot;almost anything&quot; <a href=\"https://www.nuget.org/packages/System.Buffers/\" rel=\"nofollow noreferrer\">nuget.org/packages/System.Buffers</a>"}, {"owner": {"reputation": 4417, "user_id": 1120092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5677677496ae72bb84f363cb7a3c4dc3?s=128&d=identicon&r=PG", "display_name": "Pete Garafano", "link": "https://stackoverflow.com/users/1120092/pete-garafano"}, "edited": false, "score": 0, "creation_date": 1570656860, "post_id": 58308228, "comment_id": 102986222, "body": "I was just going off the documentation here: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.buffers.arraypool-1.rent\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 4417, "user_id": 1120092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5677677496ae72bb84f363cb7a3c4dc3?s=128&d=identicon&r=PG", "display_name": "Pete Garafano", "link": "https://stackoverflow.com/users/1120092/pete-garafano"}, "edited": false, "score": 0, "creation_date": 1570657524, "post_id": 58308228, "comment_id": 102986428, "body": "@PeteGarafano the <i>kind</i> way for me to interpret that page would be to say: the documentation is incomplete; I suspect the more fair way of interpreting the page would be to say: the documentation is wrong"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 2, "last_activity_date": 1570637417, "creation_date": 1570637417, "answer_id": 58308228, "question_id": 58308066, "link": "https://stackoverflow.com/questions/58308066/c-memorystream-gzipinputstream-cant-read-more-than-256-bytes/58308228#58308228", "title": "C# MemoryStream &amp; GZipInputStream: Can&#39;t .Read more than 256 bytes", "body": "<p>You need to <em>loop</em> when reading from a stream; the <em>lazy</em> way is probably:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>decompressStream.CopyTo(outputStream);\n</code></pre>\n\n<p>(but this doesn't guarantee to stop after <code>uncompressedIntSize</code> bytes - it'll try to read to the end of <code>decompressStream</code>)</p>\n\n<p>A more manual version (that respects an imposed length limit) would be:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>const int BUFFER_SIZE = 1024; // whatever\nvar buffer = ArrayPool&lt;byte&gt;.Shared.Rent(BUFFER_SIZE);\ntry\n{\n    int remaining = uncompressedIntSize, bytesRead;\n    while (remaining &gt; 0 &amp;&amp; // more to do, and making progress\n        (bytesRead = decompressStream.Read(\n        buffer, 0, Math.Min(remaining, buffer.Length))) &gt; 0)\n    {\n        outputStream.Write(buffer, 0, bytesRead);\n        remaining -= bytesRead;\n    }\n    if (remaining != 0) throw new EndOfStreamException();\n}\nfinally\n{\n    ArrayPool&lt;byte&gt;.Shared.Return(buffer);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10947666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W0eNapQm4rQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMp1D2zKtr8axcomYmlCZPFXckd4g/mo/photo.jpg?sz=128", "display_name": "sega", "link": "https://stackoverflow.com/users/10947666/sega"}, "is_accepted": false, "score": 0, "last_activity_date": 1570705102, "creation_date": 1570705102, "answer_id": 58321335, "question_id": 58308066, "link": "https://stackoverflow.com/questions/58308066/c-memorystream-gzipinputstream-cant-read-more-than-256-bytes/58321335#58321335", "title": "C# MemoryStream &amp; GZipInputStream: Can&#39;t .Read more than 256 bytes", "body": "<p>The issue turned out to be an oversight I'd made earlier in the posted code:</p>\n\n<p>The file I'm working with has 27 sections which are GZipped, but they each have a header which will break the Gzip decompression if the GZipInput stream hits any of them. When opening the base file, it was starting from the beginning (adjusted by 6 to avoid the first header) each time instead of going to the next post-head offset:</p>\n\n<p>brg.BaseStream.Seek(6, SeekOrigin.Begin);</p>\n\n<p>Instead of:</p>\n\n<p>brg.BaseStream.Seek(absoluteSectionOffset, SeekOrigin.Begin);</p>\n\n<p>This meant that the extracted compressed data was an amalgam of the first headerless section + part of the 2nd section along with its header. As the first section is 256 bytes long without its header, this part was being decompressed correctly by the GZipInput stream. But after that is 6-bytes of header which breaks it, resulting in the rest of the output being 00s.</p>\n\n<p>There was no explicit error being thrown by the GZipInput stream when this happened, so I'd incorrectly assumed that the cause was the .Read or something in the stream retaining data from the previous pass. Sorry for the hassle.</p>\n"}], "owner": {"reputation": 33, "user_id": 10947666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W0eNapQm4rQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMp1D2zKtr8axcomYmlCZPFXckd4g/mo/photo.jpg?sz=128", "display_name": "sega", "link": "https://stackoverflow.com/users/10947666/sega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1570705102, "creation_date": 1570636851, "last_edit_date": 1570641602, "question_id": 58308066, "link": "https://stackoverflow.com/questions/58308066/c-memorystream-gzipinputstream-cant-read-more-than-256-bytes", "title": "C# MemoryStream &amp; GZipInputStream: Can&#39;t .Read more than 256 bytes", "body": "<p>I'm having a problem with writing an uncompressed GZIP stream using SharpZipLib's GZipInputStream. I only seem to be able to get 256 bytes worth of data with the rest not being written to and left zeroed. The compressed stream (compressedSection) has been checked and all data is there (1500+ bytes). The snippet of the decompression process is below:</p>\n\n<pre><code>int msiBuffer = 4096;\nusing (Stream msi = new MemoryStream(msiBuffer))\n{\n    msi.Write(compressedSection, 0, compressedSection.Length);\n    msi.Position = 0;\n    int uncompressedIntSize = AllMethods.GetLittleEndianInt(uncompressedSize, 0); // Gets little endian value of uncompressed size into an integer\n\n    // SharpZipLib GZip method called\n    using (GZipInputStream decompressStream = new GZipInputStream(msi, uncompressedIntSize))\n    {\n        using (MemoryStream outputStream = new MemoryStream(uncompressedIntSize))\n        {\n            byte[] buffer = new byte[uncompressedIntSize];\n            decompressStream.Read(buffer, 0, uncompressedIntSize); // Stream is decompressed and read         \n            outputStream.Write(buffer, 0, uncompressedIntSize);\n            using (var fs = new FileStream(kernelSectionUncompressed, FileMode.Create, FileAccess.Write))\n            {\n                fs.Write(buffer, 0, buffer.Length);\n                fs.Close();\n            }\n            outputStream.Close();\n        }\n        decompressStream.Close();\n</code></pre>\n\n<p>So in this snippet:</p>\n\n<p>1) The compressed section is passed in, ready to be decompressed.</p>\n\n<p>2) The expected size of the uncompressed output (which is stored in a header with the file as a 2-byte little-endian value) is passed through a method to convert it to integer. The header is removed earlier as it is not part of the compressed GZIP file.</p>\n\n<p>3) SharpLibZip's GZIP stream is declared with the compressed file stream (msi) and a buffer equal to int uncompressedIntSize (have tested with a static value of 4096 as well).</p>\n\n<p>4) I set up a MemoryStream to handle writing the output to a file as GZipInputStream doesn't have Read/Write; it takes the expected decompressed file size as the argument (capacity).</p>\n\n<p>5) The Read/Write of the stream needs byte[] array as the first argument, so I set up a byte[] array with enough space to take all the bytes of the decompressed output (3584 bytes in this case, derived from uncompressedIntSize).</p>\n\n<p>6) int GzipInputStream decompressStream uses .Read with the buffer as first argument, from offset 0, using the uncompressedIntSize as the count. Checking the arguments in here, the buffer array still has a capacity of 3584 bytes but has only been given 256 bytes of data. The rest are zeroes.</p>\n\n<p>It looks like the output of .Read is being throttled to 256 bytes but I'm not sure where. Is there something I've missed with the Streams, or is this a limitation with .Read?</p>\n"}, {"tags": ["c#", "math", "numbers"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1570637038, "post_id": 58308033, "comment_id": 102977899, "body": "Get the GCD of the first two numbers, then get the GCD of that with the third number."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11436496"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1570637156, "post_id": 58308033, "comment_id": 102977949, "body": "Hey i already tried with but if 2 first numbers are same there is a error because of this code     r = z1 % z2;  the rest is 0!"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1570637300, "post_id": 58308033, "comment_id": 102978022, "body": "If your divisor is zero you should return the dividend, you&#39;ll need to do this check to avoid dividing by zero."}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1570641017, "last_edit_date": 1570641017, "creation_date": 1570640241, "answer_id": 58308935, "question_id": 58308033, "link": "https://stackoverflow.com/questions/58308033/how-to-calculate-the-greatest-common-divisor-between-three-numbers/58308935#58308935", "title": "How to calculate the greatest common divisor between three numbers", "body": "<p>You can write a method that gets the GCD from 2 numbers, and after calling it with 2 numbers, continue to call it with that result and the next number until there are no more numbers left.</p>\n\n<p>For example, we can write a method to get the GCD of two numbers (borrowed from <a href=\"http://www.vcskicks.com/euclidean-gcd.php\" rel=\"nofollow noreferrer\">this site</a>):</p>\n\n<pre><code>public static int GCD(int first, int second)\n{\n    while (first != 0 &amp;&amp; second != 0)\n    {\n        if (first &gt; second) first %= second;\n        else second %= first;\n    }\n\n    return first == 0 ? second : first;\n}\n</code></pre>\n\n<p>Then we can write another method that takes in a variable number of <code>int</code> arguments (using a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/params\" rel=\"nofollow noreferrer\"><code>params</code></a> array), which gets the result of the first 2 numbers, and then continues to update that value by passing it along with the next number to our GCD method:</p>\n\n<pre><code>public static int GCD(params int[] numbers)\n{\n    // Do some argument validation and return 0 or throw an exception\n    if (numbers == null || numbers.Length == 0) return 0;\n\n    // Start with the result being just the first number\n    var result = numbers[0];\n\n    // Then get the GCD of the result and the next number \n    // and store that back in the result variable\n    for(int i = 1; i &lt; numbers.Length;i++)\n    {\n        result = GCD(result, numbers[i]);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Now we can call the method with as many numbers as we like:</p>\n\n<pre><code>Console.WriteLine(GCD(9, 18, 27));              // Output: 9\nConsole.WriteLine(GCD(4, 8));                   // Output: 4\nConsole.WriteLine(GCD(25, 15, 100, 30, 9000));  // Output: 5\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11436496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 58308935, "answer_count": 1, "score": 1, "last_activity_date": 1570641017, "creation_date": 1570636669, "last_edit_date": 1570639070, "question_id": 58308033, "link": "https://stackoverflow.com/questions/58308033/how-to-calculate-the-greatest-common-divisor-between-three-numbers", "title": "How to calculate the greatest common divisor between three numbers", "body": "<p><strong>I have to write a program which calculates the gcd with three numbers using the euclid algorithms</strong></p>\n\n<p>I have already written the program with 2 numbers which works very well but I have no idea how can I do the same with three numbers \n(The big problem is it should be with the euclid algorithms)</p>\n\n<pre><code>if (z1==z2)\n{\n    Console.WriteLine($\"The gcd of two number is {z1}\");\n}\nelse { \n    do\n    {\n        r = z1 % z2;\n        gcd = z1;\n        z1 = z2;\n        z2 = r;\n    } while (r != 0);\n    Console.WriteLine($\"The gcd of two number is {gcd}\");\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "devexpress"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570670578, "post_id": 58307847, "comment_id": 102989014, "body": "You could easily test yourself what the order is yourself if you have doubts. No need to waste time asking a question. Just attach your debugger and set breakpoints. Or add logging."}, {"owner": {"reputation": 406, "user_id": 549722, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/670708044a91e680937ee2decf464e80?s=128&d=identicon&r=PG", "display_name": "HomeMade", "link": "https://stackoverflow.com/users/549722/homemade"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570687358, "post_id": 58307847, "comment_id": 102992762, "body": "I did, have not find anything except the things I mentioned, something might be happening behind which is not obvious going through debugging"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570709844, "post_id": 58307847, "comment_id": 103004091, "body": "If you set breakpoints, you would find clear answers to your questions about whether the order changes with different browsers."}, {"owner": {"reputation": 406, "user_id": 549722, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/670708044a91e680937ee2decf464e80?s=128&d=identicon&r=PG", "display_name": "HomeMade", "link": "https://stackoverflow.com/users/549722/homemade"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570710256, "post_id": 58307847, "comment_id": 103004339, "body": "Of course, I set those and the order is the same, but the values are not, and how does a browser affect what&#39;s on the serverside?"}, {"owner": {"reputation": 406, "user_id": 549722, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/670708044a91e680937ee2decf464e80?s=128&d=identicon&r=PG", "display_name": "HomeMade", "link": "https://stackoverflow.com/users/549722/homemade"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1570786710, "post_id": 58307847, "comment_id": 103032636, "body": "I&#39;ve solved this, and the answer is bellow."}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 549722, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/670708044a91e680937ee2decf464e80?s=128&d=identicon&r=PG", "display_name": "HomeMade", "link": "https://stackoverflow.com/users/549722/homemade"}, "is_accepted": true, "score": 0, "last_activity_date": 1570786685, "last_edit_date": 1592644375, "creation_date": 1570695548, "answer_id": 58318383, "question_id": 58307847, "link": "https://stackoverflow.com/questions/58307847/control-not-initialized-in-edge-ie-on-page-init/58318383#58318383", "title": "Control not initialized in Edge/IE on Page_Init()", "body": "<p>I am still struggling to get this working on Edge/IE but so far I have discovered what's causing the trouble. DevExpress captcha component might not be working when you access the page via HTTP instead of HTTP protocol IF inside the web.config requireSSL is set to true. So for now, everything shows up using HTTP, it just doesn't transfer the initialized value of the captcha UI-serverside wise in Edge, but it does in Chrome and Firefox.</p>\n<p>I can't access the site using HTTPS.</p>\n<blockquote>\n<p><strong>ASPxCaptcha does not work with HTTP when RequireSSL is set in the web.config</strong></p>\n<p>ASPxCaptcha does not work with HTTP when RequireSSL is set to True in the web.config, because cookies are secured in this case and ASPxCaptcha cannot get the session ID that is stored in them.\nThus, it is necessary to use HTTPS in this case.</p>\n</blockquote>\n<p>For all those having a similar problem go check out this link for other possible solutions:\n<a href=\"https://www.devexpress.com/Support/Center/Question/Details/KA18582/how-to-resolve-issues-with-aspxcaptcha\" rel=\"nofollow noreferrer\">https://www.devexpress.com/Support/Center/Question/Details/KA18582/how-to-resolve-issues-with-aspxcaptcha</a></p>\n<p>One of the things that helped is going to project properties &gt; Web &gt; Servers and replacing Project URL's HTTP to HTTPS from the URL of the project. Than VS asked me to install SSL certificate. Accessing the site via https and everything works!</p>\n"}], "owner": {"reputation": 406, "user_id": 549722, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/670708044a91e680937ee2decf464e80?s=128&d=identicon&r=PG", "display_name": "HomeMade", "link": "https://stackoverflow.com/users/549722/homemade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58318383, "answer_count": 1, "score": -1, "last_activity_date": 1570786685, "creation_date": 1570636040, "last_edit_date": 1570648178, "question_id": 58307847, "link": "https://stackoverflow.com/questions/58307847/control-not-initialized-in-edge-ie-on-page-init", "title": "Control not initialized in Edge/IE on Page_Init()", "body": "<p>Is there a different order of calling the constructors for controls depending on the browser brand?</p>\n\n<p>In my project there is a DevExpress Captcha control, it's rendered in a MyForm.aspx page. When I open the app in Chrome/Firefox, it works fine, there is a random string inside Code property, but when I open the same page in Edge/IE, it is always null (even inside Page_Init), so it returns false always.</p>\n\n<p>I thought maybe there is different order of calling the constructor for this control depending on the browser, what else could be the reason that this control is not initialized in some browsers and others yes?</p>\n\n<pre><code>public partial class MyForm: System.Web.UI.Page\n{\n    private string CaptchaCode { get; set; }\n\n    protected void Page_Init(object sender, EventArgs e)\n    {\n        CaptchaCode = Captcha.Code;\n    }\n\n    protected void btnPurchaseCardSecurity_Click(object sender, EventArgs e)\n    {\n        // line breaks added for readability. [ed]\n        Captcha.IsValid = string.Equals(Request.Params[\"Captcha$TB\"]\n            .Replace('o', '0').Replace('i', 'l'), CptCode,   \n            StringComparison.CurrentCultureIgnoreCase);\n    }\n</code></pre>\n\n<p>Bellow is the control in aspx</p>\n\n<pre><code>&lt;dx:ASPxCaptcha ID=\"Captcha\" runat=\"server\"&gt;\n    &lt;ChallengeImage /&gt;\n&lt;/dx:ASPxCaptcha&gt;\n</code></pre>\n"}, {"tags": ["javascript", "c#", "html", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 8778465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOMtV.jpg?s=128&g=1", "display_name": "johnmikelridzz", "link": "https://stackoverflow.com/users/8778465/johnmikelridzz"}, "reply_to_user": {"reputation": 49, "user_id": 3595455, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4d5a2a0c91e7266b451bc2f857c0c49?s=128&d=identicon&r=PG&f=1", "display_name": "Ashraf", "link": "https://stackoverflow.com/users/3595455/ashraf"}, "edited": false, "score": 0, "creation_date": 1570716423, "post_id": 58309931, "comment_id": 103008228, "body": "Can you make a codepen for it? Or paste the code that you made? Check the console.log as well and what errors are you getting?"}], "tags": [], "owner": {"reputation": 321, "user_id": 8778465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOMtV.jpg?s=128&g=1", "display_name": "johnmikelridzz", "link": "https://stackoverflow.com/users/8778465/johnmikelridzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570644622, "creation_date": 1570644622, "answer_id": 58309931, "question_id": 58307835, "link": "https://stackoverflow.com/questions/58307835/copy-html-textbox-value-from-contentplaceholder2-to-asp-net-textbox-value-on-con/58309931#58309931", "title": "Copy HTML textbox value from ContentPlaceHolder2 to asp.net textbox value on ContentPlaceHolder1", "body": "<p>You can use jQuery, you have already created the reference to an OnClientClick function callled Copy anyway</p>\n\n<pre><code>function Copy() {\n\n$(\u2018&lt;%= txtIngredientName.ClientID %&gt;\u2019).val($(\u2018#txtIngName_new\u2019).val());\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 3595455, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4d5a2a0c91e7266b451bc2f857c0c49?s=128&d=identicon&r=PG&f=1", "display_name": "Ashraf", "link": "https://stackoverflow.com/users/3595455/ashraf"}, "edited": false, "score": 0, "creation_date": 1570716279, "post_id": 58310287, "comment_id": 103008144, "body": "txtIngName_new is an html control it is not going to work like this"}], "tags": [], "owner": {"reputation": 288, "user_id": 12161656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e2ca091be88dfad60911f9fba02478?s=128&d=identicon&r=PG&f=1", "display_name": "JobesK", "link": "https://stackoverflow.com/users/12161656/jobesk"}, "is_accepted": false, "score": 0, "last_activity_date": 1570646207, "creation_date": 1570646207, "answer_id": 58310287, "question_id": 58307835, "link": "https://stackoverflow.com/questions/58307835/copy-html-textbox-value-from-contentplaceholder2-to-asp-net-textbox-value-on-con/58310287#58310287", "title": "Copy HTML textbox value from ContentPlaceHolder2 to asp.net textbox value on ContentPlaceHolder1", "body": "<p>I think this will work from the code behind, get the text from txtIngredientName and set the text for txtIngName_new :</p>\n\n<pre><code>protected void btnCopyIng_OnClick(object sender, EventArgs e)\n{\n     txtIngName_new.Text = txtIngredientName.Text; \n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 3595455, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4d5a2a0c91e7266b451bc2f857c0c49?s=128&d=identicon&r=PG&f=1", "display_name": "Ashraf", "link": "https://stackoverflow.com/users/3595455/ashraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570646207, "creation_date": 1570635997, "last_edit_date": 1570643863, "question_id": 58307835, "link": "https://stackoverflow.com/questions/58307835/copy-html-textbox-value-from-contentplaceholder2-to-asp-net-textbox-value-on-con", "title": "Copy HTML textbox value from ContentPlaceHolder2 to asp.net textbox value on ContentPlaceHolder1", "body": "<p>I need to copy HTML textbox value from ContentPlaceHolder2 to and ASP.NET textbox value on ContentPlaceHolder1. </p>\n\n<p>The reason for that I need to pass this asp.net textbox as a parameter for a storedprocedure on ContentPlaceHolder1 (Which I can't do it from ContentPlaceHolder2)</p>\n\n<p>I have tried to do that with in code bedind using Request.Form but it didn't work. I think because the button control can't access ContentPlaceHolder2?</p>\n\n<pre><code>&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceHolder1\" runat=\"Server\"&gt;\n    &lt;asp:Button ID=\"btnCopyIng\" runat=\"server\" OnClientClick=\"Copy()\" OnClick=\"btnCopyIng_OnClick\" Text=\"Copy\" /&gt;\n    &lt;asp:TextBox ID=\"txtIngredientName\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n    &lt;input id=\"txtIngValue\" name=\"Ing Value\" type=\"text\" /&gt;\n&lt;/asp:Content&gt;\n\n&lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"ContentPlaceHolder2\" runat=\"Server\"&gt;\n    &lt;strong&gt;Ingredient Name: &lt;/strong&gt;\n    &lt;input id=\"txtIngName_new\" type=\"text\" onkeyup=\"sync()\" kendo-text-box=\"txtIngName\" class=\"k-input k-textbox TextCtrlReqBgImage\" name=\"Ingredinet name\" style=\"width: 350px;\" required=\"required\" ng-click=\"txtIngNameClick()\" ng-readonly=\"ingNameReadOnly\" ng-model=\"selectedIng.Ingredients_Name\"&gt;\n&lt;/asp:Content&gt;\n</code></pre>\n\n<p>Code Behind:</p>\n\n<pre><code>protected void btnCopyIng_OnClick(object sender, EventArgs e)\n{\n    string name = Request.Form[\"Ingredinet name\"].ToString();\n    txtIngredientName.Text = name; \n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1570675518, "post_id": 58307820, "comment_id": 102989992, "body": "Sure, I think you will give a fixed height to TableView in the UIViewController and once the RowHeight grows, the content inside TableView will be scrollable. Actually, UITableViewController is a  UIViewController with a TableView which height is the height of screen, it&#39;s the same."}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 1, "creation_date": 1570677855, "post_id": 58307820, "comment_id": 102990500, "body": "Welcome to Stack Overflow memyselfandi! It&#39;s not possible to have a class that inherits from two different classes in C#. Could you please share the code of the class in question? If you want to set the row height, then generally in the class that inherits from the UITableViewSource, you will override the <code>GetHeightForRow()</code> function similar to this: <code>public override nfloat GetHeightForRow(UITableView tableView, NSIndexPath indexPath)        {    return new nfloat(66);}</code>"}, {"owner": {"reputation": 79, "user_id": 12186827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c13e43be6371a6a25a2076abca27b4?s=128&d=identicon&r=PG&f=1", "display_name": "memyselfandi", "link": "https://stackoverflow.com/users/12186827/memyselfandi"}, "edited": false, "score": 0, "creation_date": 1570704717, "post_id": 58307820, "comment_id": 103001336, "body": "Hello Saamer! Thank you so muchh!!!!!! It worked! :D :D :D"}, {"owner": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "reply_to_user": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 0, "creation_date": 1570712893, "post_id": 58307820, "comment_id": 103005959, "body": "@Saamer you should post the comment as an answer so memyselfandi can mark it as the valid answer. That will help others in the future."}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "reply_to_user": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 1, "creation_date": 1570717775, "post_id": 58307820, "comment_id": 103009097, "body": "@pinedax thanks, updated. I just wasn&#39;t sure what the problem was initially"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 12186827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c13e43be6371a6a25a2076abca27b4?s=128&d=identicon&r=PG&f=1", "display_name": "memyselfandi", "link": "https://stackoverflow.com/users/12186827/memyselfandi"}, "edited": false, "score": 0, "creation_date": 1571143592, "post_id": 58325296, "comment_id": 103135628, "body": "hello. I&#39;m sorry to bother again but how can I adjust the row height to fit my labels? I&#39;m going to update the question to show you my code. The value that I wanted is the &quot;test&quot; but I am not being able to send it to the &quot;override nfloat GetHeightForRow&quot;"}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "reply_to_user": {"reputation": 79, "user_id": 12186827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c13e43be6371a6a25a2076abca27b4?s=128&d=identicon&r=PG&f=1", "display_name": "memyselfandi", "link": "https://stackoverflow.com/users/12186827/memyselfandi"}, "edited": false, "score": 0, "creation_date": 1571148051, "post_id": 58325296, "comment_id": 103138500, "body": "There&#39;s multiple ways of doing this. One way is to DequeueReusableCell and figure out which cell type you are showing. Once you figure that out, just place a switch-case depending on the cell type and adjust height accordingly."}], "tags": [], "owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "is_accepted": true, "score": 1, "last_activity_date": 1570717748, "creation_date": 1570717748, "answer_id": 58325296, "question_id": 58307820, "link": "https://stackoverflow.com/questions/58307820/is-it-possible-to-define-the-height-of-a-row-in-a-uitableview-without-an-uitable/58325296#58325296", "title": "Is it possible to define the height of a row in a UITableView without an UITableViewController?", "body": "<p>If you want to set the row height, then generally in the class that inherits from the <code>UITableViewSource</code>, you will override the <code>GetHeightForRow()</code> function similar to this: </p>\n\n<pre><code>public override nfloat GetHeightForRow(UITableView tableView, NSIndexPath indexPath) \n{ \n    return new nfloat(66);\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 12186827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c13e43be6371a6a25a2076abca27b4?s=128&d=identicon&r=PG&f=1", "display_name": "memyselfandi", "link": "https://stackoverflow.com/users/12186827/memyselfandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58325296, "answer_count": 1, "score": 1, "last_activity_date": 1571149123, "creation_date": 1570635947, "last_edit_date": 1571149123, "question_id": 58307820, "link": "https://stackoverflow.com/questions/58307820/is-it-possible-to-define-the-height-of-a-row-in-a-uitableview-without-an-uitable", "title": "Is it possible to define the height of a row in a UITableView without an UITableViewController?", "body": "<p>I've created a class that inherits from UITableViewSource and another one from UITableViewCell. I'm not using an UITableViewController, because I am adding other views in an UIViewController. I was wondering if I could change the height of the rows because my height is kinda large because it has a \"preview information\" in it. But it is currently very small, and the solutions that I've found all include an UITableViewController because it has: </p>\n\n<pre><code>TableView.RowHeight = UITableView.AutomaticDimension;\nTableView.EstimatedRowHeight = 40f; \n</code></pre>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["c#", "docx", "xceed"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10216583"}, "edited": false, "score": 0, "creation_date": 1570640422, "post_id": 58307708, "comment_id": 102979399, "body": "Try to save the image on your file system temporarily before you add it to the docx as file path or FileStream. Might solve the problem. I suspect that the MemoryStream object is being disposed too early. Just a hunch."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 12189567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCS1JD85plnVAZpA0Qx-Me9o-5uoOx1vjVC82MmEg=k-s128", "display_name": "Gianfranco D&#237;az", "link": "https://stackoverflow.com/users/12189567/gianfranco-d%c3%adaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570654975, "creation_date": 1570654975, "answer_id": 58312262, "question_id": 58307708, "link": "https://stackoverflow.com/questions/58307708/i-cant-place-an-image-on-a-docx-document-programmatically-generated/58312262#58312262", "title": "I can&#39;t place an image on a docx document programmatically generated", "body": "<p>I did it! Here's the solution</p>\n\n<pre><code>SaveFileDialog saveFileDialog = new SaveFileDialog\n{\n    Filter = \"Documento Word (*.docx)|*.docx\",\n    FileName = \"Documento \" + obj_eObra.ProcesoDeSeleccion + \".docx\",\n    DefaultExt = \".docx\"\n};\n\nif (saveFileDialog.ShowDialog() == true)\n{\n    DocX document = DocX.Create(saveFileDialog.FileName);\n    Stream Logo = new MemoryStream(obj_eEmpresa.Logo);\n    Xceed.Document.NET.Image image = document.AddImage(Logo);\n\n    document.AddHeaders();\n    document.AddFooters();\n\n    // Force the first page to have a different Header and Footer.\n    document.DifferentFirstPage = true;\n\n    // Force odd &amp; even pages to have different Headers and Footers.\n    document.DifferentOddAndEvenPages = true;\n\n    // Insert a Paragraph &amp; image into the first Header.\n    var picture = image.CreatePicture();\n    var p = document.Headers.First.InsertParagraph(\"\");\n    p.AppendPicture(picture);\n    p.SpacingAfter(30);\n\n    // Insert a Paragraph into this document.\n    Paragraph CiudadYFecha = document.InsertParagraph();\n\n    // Append some text and add formatting.\n    CiudadYFecha.Append(\"\\n\\n\\n\" + obj_eObra.Ciudad + \", \" + obj_eObra.FechaActual + \".\\n\\nSe\u00f1ores: \" + \"\\n\" + obj_eObra.Cliente + \"\\n\\nAtt.: Comit\u00e9 de Selecci\u00f3n \" + \"\\nRef.: \" + \"&lt;Insertar adjudicacion&gt; \" + \"N\u00b0 \" + obj_eObra.ProcesoDeSeleccion)\n    .Font(new Font(\"Times New Roman\"))\n    .FontSize(12)\n    .SpacingAfter(40);\n\n    Paragraph Cuerpo = document.InsertParagraph(\"De nuestra consideraci\u00f3n: \\n\\n\" + \"Es grato dirigirnos a ustedes en atenci\u00f3n al proceso de selecci\u00f3n de la referencia, para alcanzarles nuestra oferta t\u00e9cnico \u2013 econ\u00f3mica.\\n\\n\" + \"Sin otro particular, nos suscribimos de ustedes,\\n\\n\" + \"Atentamente,\\n\");\n    Cuerpo.Font(new Font(\"Times New Roman\"))\n    .FontSize(12)\n    .SpacingAfter(40);\n\n    document.Save();\n}                    \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12189567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCS1JD85plnVAZpA0Qx-Me9o-5uoOx1vjVC82MmEg=k-s128", "display_name": "Gianfranco D&#237;az", "link": "https://stackoverflow.com/users/12189567/gianfranco-d%c3%adaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 932, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570654975, "creation_date": 1570635598, "question_id": 58307708, "link": "https://stackoverflow.com/questions/58307708/i-cant-place-an-image-on-a-docx-document-programmatically-generated", "title": "I can&#39;t place an image on a docx document programmatically generated", "body": "<p>I am building a desktop application that generates a .docx document with data that I pull from an SQLite database. I am using Xceed's DocX Nuget package to build it, and I can write text without any complication.</p>\n\n<p>However, my application needs to place an image ON THE HEADER. I pull the image with ease from the database, but I fail when I try to send it to the .docx file.</p>\n\n<pre><code>SaveFileDialog saveFileDialog = new SaveFileDialog\n{\n     Filter = \"Documento Word (*.docx)|*.docx\",\n     FileName = \"Documento \" + obj_eObra.ProcesoDeSeleccion + \".docx\",\n     DefaultExt = \".docx\"\n};\n\nif (saveFileDialog.ShowDialog() == true)\n{\n     DocX document = DocX.Create(saveFileDialog.FileName);\n     Stream Logo = new MemoryStream(obj_eEmpresa.Logo);\n     Xceed.Document.NET.Image image = document.AddImage(Logo);\n\n     document.AddHeaders();\n     document.AddFooters();\n\n     // Force the first page to have a different Header and Footer.\n     document.DifferentFirstPage = true;\n\n     // Force odd &amp; even pages to have different Headers and Footers.\n     document.DifferentOddAndEvenPages = true;\n\n     // Insert a Paragraph into the first Header.\n     document.Headers.First.Images.Add(image);\n\n     // Insert a Paragraph into this document.\n     var p = document.InsertParagraph();\n\n     // Append some text and add formatting.\n     p.Append(\"This is a simple formatted red bold paragraph\")\n     .Font(new Font(\"Arial\"))\n     .FontSize(25)\n     .Color(System.Drawing.Color.Red)\n     .Bold()\n     .Append(\" containing a blue italic text.\").Font(new Font(\"Times New             Roman\")).Color(System.Drawing.Color.Blue).Italic()\n     .SpacingAfter(40);\n\n     document.Save();\n}\n</code></pre>\n\n<p>I expect to see a file that has an image in the header and the following paragraph in the body of the document:</p>\n\n<p>\"This is a simple formatted red bold paragraph containing a blue italic text.</p>\n\n<p>But my file only has text, no image.</p>\n"}, {"tags": ["c#", "dependency-injection", "graphql", "azure-functions"], "comments": [{"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570635726, "post_id": 58307569, "comment_id": 102977223, "body": "You can implement/inject a factory and through that factory required schema instance can be created."}, {"owner": {"reputation": 83, "user_id": 6837209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Yf16.jpg?s=128&g=1", "display_name": "Jacq", "link": "https://stackoverflow.com/users/6837209/jacq"}, "reply_to_user": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570636149, "post_id": 58307569, "comment_id": 102977444, "body": "Sorry I&#39;m a bit new to c# and design patterns in general, is the factory just another class that will then be instantiated come time?"}, {"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570636274, "post_id": 58307569, "comment_id": 102977517, "body": "Yes, you can check the similar discussion in <a href=\"https://stackoverflow.com/questions/39174989/how-to-register-multiple-implementations-of-the-same-interface-in-asp-net-core\" title=\"how to register multiple implementations of the same interface in asp net core\">stackoverflow.com/questions/39174989/&hellip;</a> thread"}, {"owner": {"reputation": 83, "user_id": 6837209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Yf16.jpg?s=128&g=1", "display_name": "Jacq", "link": "https://stackoverflow.com/users/6837209/jacq"}, "reply_to_user": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570636924, "post_id": 58307569, "comment_id": 102977845, "body": "I&#39;ll take a look and report back."}, {"owner": {"reputation": 2175, "user_id": 210609, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5de956c64904e84474978fad16a14abb?s=128&d=identicon&r=PG", "display_name": "awright18", "link": "https://stackoverflow.com/users/210609/awright18"}, "edited": false, "score": 0, "creation_date": 1570642344, "post_id": 58307569, "comment_id": 102980316, "body": "You don&#39;t have to depend on interfaces could just register SchemaOne and SchemaaTwo as concrete classes right?"}, {"owner": {"reputation": 83, "user_id": 6837209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Yf16.jpg?s=128&g=1", "display_name": "Jacq", "link": "https://stackoverflow.com/users/6837209/jacq"}, "edited": false, "score": 0, "creation_date": 1570650637, "post_id": 58307569, "comment_id": 102983931, "body": "When attempting to register as concrete classes I get an error when I attempt to hit the azure function. <code>unable to resolve service for type GraphQL.Types.Schema while attempting to activate $azEndpoint</code>   this is how I registered the schema concretely(?) <code>builder.Services.AddTransient&lt;SchemaOne&gt;(_ =&gt; new SchemaOne(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))));</code>"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 6837209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Yf16.jpg?s=128&g=1", "display_name": "Jacq", "link": "https://stackoverflow.com/users/6837209/jacq"}, "is_accepted": true, "score": 0, "last_activity_date": 1570651375, "creation_date": 1570651375, "answer_id": 58311494, "question_id": 58307569, "link": "https://stackoverflow.com/questions/58307569/can-i-use-dependency-injection-for-multiple-graphql-schemas/58311494#58311494", "title": "Can I use dependency injection for multiple GraphQL Schemas?", "body": "<p>After taking a look at the <a href=\"https://stackoverflow.com/questions/39174989/how-to-register-multiple-implementations-of-the-same-interface-in-asp-net-core\">link</a> provided by @user1672994, I opted to create my own interface and then inject that into the azure function. The reason I opted to do this was because I wanted to provide the azure function with the opportunity to choose the schema that is used. I was unable to find a solution to that use case in the link provided. </p>\n\n<p><strong>Azure Function Dependency injection code</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>builder.Services.AddTransient&lt;ISchemaMapper&gt;(_ =&gt; new SchemaMapper(new Dictionary&lt;string,ISchema&gt; {\n{\"SchemaOne\", new SchemaOne(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))) },\n{\"SchemaTwo\", new SchemaTwo(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))) } }));\n</code></pre>\n\n<p><strong>Interface Used</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface ISchemaMapper\n{\n  ISchema GetSchema(string schema);\n}\n</code></pre>\n\n<p><strong>Implementation of interface</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class SchemaMapper : ISchemaMapper\n{\n   public Dictionary&lt;string, ISchema&gt; mappedSchema;\n   public SchemaMapper(Dictionary&lt;string, ISchema&gt; mappedSchemas)\n   {\n      this.mappedSchema = mappedSchemas;\n   }\n\n   public ISchema GetSchema(string schema)\n   {\n      return mappedSchema[schema];\n   }\n}\n</code></pre>\n\n<p>At this point in time it is a hacky way around conflicting dependency injections, but I will update if I either find a better way or it is chugging along strong in the future. </p>\n"}], "owner": {"reputation": 83, "user_id": 6837209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Yf16.jpg?s=128&g=1", "display_name": "Jacq", "link": "https://stackoverflow.com/users/6837209/jacq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 58311494, "answer_count": 1, "score": 1, "last_activity_date": 1570651375, "creation_date": 1570635117, "question_id": 58307569, "link": "https://stackoverflow.com/questions/58307569/can-i-use-dependency-injection-for-multiple-graphql-schemas", "title": "Can I use dependency injection for multiple GraphQL Schemas?", "body": "<p>I currently have two available schema's that resolve to completely different queries. At this time the azure function startup file when going through the process of dependency injection it only takes the most recent schema added. So the query only resolves to the most recently added Schema. I believe it's a naming conflict with the interface being used but I don't actually know how to get around it. </p>\n\n<p>I tried adding the services as both a transient and scoped.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>builder.Services.AddTransient&lt;ISchema&gt;(_ =&gt; new SchemaOne(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))));\nbuilder.Services.AddTransient&lt;ISchema&gt;(_ =&gt; new SchemaTwo(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))));\n</code></pre>\n\n<p>or </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>builder.Services.AddScoped&lt;ISchema&gt;(_ =&gt; new SchemaOne(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))));\nbuilder.Services.AddScoped&lt;ISchema&gt;(_ =&gt; new SchemaTwo(new FuncDependencyResolver(type =&gt; (IGraphType)_.GetRequiredService(type))));\n</code></pre>\n\n<p>The goal is to be able to have both queries resolve to their respective schemas. At this time <code>{ queryOne { name } }</code> returns the error <code>\"message\": \"Cannot query field \\\"queryOne\\\" on type \\\"QueryTwoType\\\".\",</code></p>\n"}, {"tags": ["c#", ".net-core", "asp.net-core-webapi", "asp.net-core-3.0"], "answers": [{"comments": [{"owner": {"reputation": 3655, "user_id": 459102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kD5u7.jpg?s=128&g=1", "display_name": "Aaron Hudon", "link": "https://stackoverflow.com/users/459102/aaron-hudon"}, "edited": false, "score": 0, "creation_date": 1580770584, "post_id": 58307732, "comment_id": 106199992, "body": "This answer, plus @ronald-swaine below is perfect.  The appsettings are excluded from the bundled exe, and the publishing task places the appsettings files alongside the bundled exe."}, {"owner": {"reputation": 2233, "user_id": 685590, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8bfc28769485f5a754c4415ae146d7b3?s=128&d=identicon&r=PG", "display_name": "user685590", "link": "https://stackoverflow.com/users/685590/user685590"}, "edited": false, "score": 0, "creation_date": 1598327441, "post_id": 58307732, "comment_id": 112415005, "body": "I had the same error. My problem was actually at the deployment stage - I have changed appSettings.json to appsettings.json but Github commit did not care about that case change (needed to change local settings, just something to check)"}, {"owner": {"reputation": 713, "user_id": 26923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZuKX.jpg?s=128&g=1", "display_name": "John Baughman", "link": "https://stackoverflow.com/users/26923/john-baughman"}, "edited": false, "score": 1, "creation_date": 1599165370, "post_id": 58307732, "comment_id": 112697869, "body": "I&#39;ve been fighting this for a few days now. Thanks for your solution. I do feel it&#39;s a bit of an odd workaround for something that should &quot;just work&quot;. And everything behaves much differently in .NET 5 vs .NET Core 3.1. This: Path.Combine(AppContext.BaseDirectory, Assembly.GetExecutingAssembly().ManifestModule.Name) works in the VS2019 preview in debug, but after publishing to a single file (no trimming, no Ready-To-Run) it returns &quot; System.IO.FileNotFoundException: The system cannot find the file specified. (0x80070002)&quot;. Seems something is missing to me..."}, {"owner": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 0, "creation_date": 1601387123, "post_id": 58307732, "comment_id": 113387607, "body": "This needs to be fixed. We should not write the code to determine also the Environment and read up/aggregate each appsettings json files. Not good. This is not a good work around. Must look up and update or create a new GitHub issue at MS."}, {"owner": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 0, "creation_date": 1601584786, "post_id": 58307732, "comment_id": 113461342, "body": "ever changing behavior of .net core system call, changes btw sub-versions of net core <a href=\"https://github.com/dotnet/runtime/issues/3704#issuecomment-607103702\" rel=\"nofollow noreferrer\">github.com/dotnet/runtime/issues/3704#issuecomment-607103702</a> meaning this runtime is not-usable under shared environment setup unlike full .net fw version (which does not break main fw apis/services)"}, {"owner": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 0, "creation_date": 1601959116, "post_id": 58307732, "comment_id": 113560448, "body": "MS: &quot;This issue is fixed in .net5&quot; - So .NET 3.1 is let down?  REF: <a href=\"https://github.com/dotnet/runtime/issues/3704#issuecomment-651210020\" rel=\"nofollow noreferrer\">github.com/dotnet/runtime/issues/3704#issuecomment-651210020</a>"}], "tags": [], "owner": {"reputation": 771, "user_id": 272529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0588e8c020e39118abe5cb5e689c9ed0?s=128&d=identicon&r=PG", "display_name": "Jason Yandell", "link": "https://stackoverflow.com/users/272529/jason-yandell"}, "is_accepted": true, "score": 39, "last_activity_date": 1570638386, "last_edit_date": 1570638386, "creation_date": 1570635674, "answer_id": 58307732, "question_id": 58307558, "link": "https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/58307732#58307732", "title": "How can I get my .NET Core 3 single file app to find the appsettings.json file?", "body": "<p>I found an issue on GitHub <a href=\"https://github.com/aspnet/AspNetCore/issues/12621\" rel=\"noreferrer\">here</a> titled <code>PublishSingleFile excluding appsettings not working as expected</code>.</p>\n\n<p>That pointed to another issue <a href=\"https://github.com/dotnet/core-setup/issues/7491\" rel=\"noreferrer\">here</a> titled <code>single file publish: AppContext.BaseDirectory doesn't point to apphost directory</code></p>\n\n<p>In it, a solution was to try <code>Process.GetCurrentProcess().MainModule.FileName</code></p>\n\n<p>The following code configured the application to look at the directory that the single-executable application was run from, rather than the place that the binaries were extracted to.</p>\n\n<pre><code>config.SetBasePath(GetBasePath());\nconfig.AddJsonFile(\"appsettings.json\", false);\n</code></pre>\n\n<p>The <code>GetBasePath()</code> implementation:</p>\n\n<pre><code>private string GetBasePath()\n{\n    using var processModule = Process.GetCurrentProcess().MainModule;\n    return Path.GetDirectoryName(processModule?.FileName);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 3764198, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1312173339/picture?type=large", "display_name": "Paul Cohen", "link": "https://stackoverflow.com/users/3764198/paul-cohen"}, "edited": false, "score": 0, "creation_date": 1573285426, "post_id": 58591346, "comment_id": 103839756, "body": "How does Views\\Test.cshtml in your example get on the target computer? I have image and dictionary files that I need to open based on Culture,"}, {"owner": {"reputation": 169, "user_id": 11683349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l8lOD8b-Q6U/AAAAAAAAAAI/AAAAAAAAAMw/2ou2jb16F7M/photo.jpg?sz=128", "display_name": "Ronald Swaine", "link": "https://stackoverflow.com/users/11683349/ronald-swaine"}, "reply_to_user": {"reputation": 191, "user_id": 3764198, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1312173339/picture?type=large", "display_name": "Paul Cohen", "link": "https://stackoverflow.com/users/3764198/paul-cohen"}, "edited": false, "score": 0, "creation_date": 1573657297, "post_id": 58591346, "comment_id": 103953944, "body": "@PaulCohen I would typically deploy all files from the published output location using SCP. With only the changes in csproj (first example) any APIs that are using the default root content directory will need to have their files available in the working directory.  It sounds like you need to use the 2nd example, to get the real path of the extracted content, so that way you can access the images from a full path, or by having the content root set correctly so that ~/... paths to images can be used in razor."}, {"owner": {"reputation": 191, "user_id": 3764198, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1312173339/picture?type=large", "display_name": "Paul Cohen", "link": "https://stackoverflow.com/users/3764198/paul-cohen"}, "edited": false, "score": 0, "creation_date": 1573688255, "post_id": 58591346, "comment_id": 103968042, "body": "My background is in embedded applications so a single binary is usually burned into rom. What I am realizing is there the Exe that I share in some kind of self extracting \u201czip like\u201d file. All my data files are in there and when the application is run everything is extracted to a temp directly. If I find that I can find my data files. It also means I need some logic so I can Debug in VS where the data is somewhere else."}, {"owner": {"reputation": 190, "user_id": 9531483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef23158736b58da2b37372b08c9f2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Going-gone", "link": "https://stackoverflow.com/users/9531483/going-gone"}, "edited": false, "score": 1, "creation_date": 1580164139, "post_id": 58591346, "comment_id": 106000772, "body": "I have this setup currently, and it randomly stopped finding the files."}, {"owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "edited": false, "score": 0, "creation_date": 1595541111, "post_id": 58591346, "comment_id": 111519522, "body": "&quot;var realPath&quot;  You rock the suburbs.  I&#39;ve added an answer to expound on where to set the value.......but wow..this was a lifesaver.  Thanks."}, {"owner": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 1, "creation_date": 1601584009, "post_id": 58591346, "comment_id": 113461062, "body": "First solution, keeping appsettings file outside is what I use and it does not work as expected. When you have single file, it extracts on to a temp location under User profile in windows, and there it also has appsettings file extracted as well as to the original location; but the run-path at exec time is set to the temp directory&#39;s location; and therefore kills the purpose. SingleFile is just a cosmetic change; rather I would avoid it at the server environment."}], "tags": [], "owner": {"reputation": 169, "user_id": 11683349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l8lOD8b-Q6U/AAAAAAAAAAI/AAAAAAAAAMw/2ou2jb16F7M/photo.jpg?sz=128", "display_name": "Ronald Swaine", "link": "https://stackoverflow.com/users/11683349/ronald-swaine"}, "is_accepted": false, "score": 16, "last_activity_date": 1573657826, "last_edit_date": 1573657826, "creation_date": 1572267389, "answer_id": 58591346, "question_id": 58307558, "link": "https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/58591346#58591346", "title": "How can I get my .NET Core 3 single file app to find the appsettings.json file?", "body": "<p>If you're okay with having files used at runtime outside of the executable, then you could just flag the files you want outside, in csproj. This method allows for live changes and such in a known location.</p>\n\n<pre><code>&lt;ItemGroup&gt;\n    &lt;None Include=\"appsettings.json\"&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n      &lt;CopyToPublishDirectory&gt;Always&lt;/CopyToPublishDirectory&gt;\n      &lt;ExcludeFromSingleFile&gt;true&lt;/ExcludeFromSingleFile&gt;\n    &lt;/None&gt;\n    &lt;None Include=\"appsettings.Development.json;appsettings.QA.json;appsettings.Production.json;\"&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n      &lt;CopyToPublishDirectory&gt;Always&lt;/CopyToPublishDirectory&gt;\n      &lt;DependentUpon&gt;appsettings.json&lt;/DependentUpon&gt;\n      &lt;ExcludeFromSingleFile&gt;true&lt;/ExcludeFromSingleFile&gt;\n    &lt;/None&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;None Include=\"Views\\Test.cshtml\"&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n      &lt;ExcludeFromSingleFile&gt;true&lt;/ExcludeFromSingleFile&gt;\n    &lt;/None&gt;\n  &lt;/ItemGroup&gt;\n</code></pre>\n\n<p>If this is not acceptable, and must have ONLY a single file, I pass the single-file-extracted path as the root path in my host setup. This allows configuration, and razor (which I add after), to find its files as normal.</p>\n\n<pre><code>// when using single file exe, the hosts config loader defaults to GetCurrentDirectory\n            // which is where the exe is, not where the bundle (with appsettings) has been extracted.\n            // when running in debug (from output folder) there is effectively no difference\n            var realPath = Directory.GetParent(System.Reflection.Assembly.GetExecutingAssembly().Location).FullName;\n\n            var host = Host.CreateDefaultBuilder(args).UseContentRoot(realPath);\n</code></pre>\n\n<p>Note, to truly make a single file, and no PDB, you'll also need:</p>\n\n<pre><code>&lt;DebugType&gt;None&lt;/DebugType&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4457984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1366849b57a81c1525c74ef4fa9971?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang Gallo", "link": "https://stackoverflow.com/users/4457984/wolfgang-gallo"}, "is_accepted": false, "score": 2, "last_activity_date": 1588691586, "creation_date": 1588691586, "answer_id": 61616490, "question_id": 58307558, "link": "https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/61616490#61616490", "title": "How can I get my .NET Core 3 single file app to find the appsettings.json file?", "body": "<p>My application is on .NET Core 3.1, is published as a single file and runs as a Windows Service (which may or may not have an impact on the issue).</p>\n\n<p>The proposed solution with <code>Process.GetCurrentProcess().MainModule.FileName</code> as the content root works for me, but only if I set the content root in the right place: </p>\n\n<p>This works:</p>\n\n<pre><code>Host.CreateDefaultBuilder(args)\n    .UseWindowsService()\n    .ConfigureWebHostDefaults(webBuilder =&gt;\n    {\n        webBuilder.UseContentRoot(...);\n        webBuilder.UseStartup&lt;Startup&gt;();\n    });\n</code></pre>\n\n<p>This does not work:</p>\n\n<pre><code>Host.CreateDefaultBuilder(args)\n    .UseWindowsService()\n    .UseContentRoot(...)\n    .ConfigureWebHostDefaults(webBuilder =&gt;\n    {\n        webBuilder.UseStartup&lt;Startup&gt;();\n    });\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21384, "user_id": 214977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fmJRN.png?s=128&g=1", "display_name": "granadaCoder", "link": "https://stackoverflow.com/users/214977/granadacoder"}, "is_accepted": false, "score": -1, "last_activity_date": 1595595633, "last_edit_date": 1595595633, "creation_date": 1595541060, "answer_id": 63063621, "question_id": 58307558, "link": "https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/63063621#63063621", "title": "How can I get my .NET Core 3 single file app to find the appsettings.json file?", "body": "<p>this is the &quot;piggy back&quot; answer(s) area.</p>\n<p>First, upvote the above answer by &quot;RS&quot; that I reference in this answer.  That was the magic.</p>\n<p>Short answer is &quot;use RS's answer AND set that value in all the right places.&quot;.  I show the 2 places to SET the values below.</p>\n<p>My specific ADDITION (not mentioned anywhere else) is:</p>\n<pre><code>            IConfigurationBuilder builder = new ConfigurationBuilder()\n            /* IMPORTANT line below */\n                    .SetBasePath(realPath)\n</code></pre>\n<p>Longer answer is:</p>\n<p>I needed the above answers AND I have some additions.</p>\n<p>In my output (i'll show code later), here is the difference between the 2 answers above.</p>\n<pre><code>    GetBasePath='/mybuilddir/myOut'\n\n  \n  realPath='/var/tmp/.net/MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne/jhvc5zwc.g25'\n</code></pre>\n<p>where '/mybuilddir/myOut' was the location here I published my single file..in my docker definition file.</p>\n<p>GetBasePath did NOT work when using PublishSingleFile</p>\n<p>&quot;realPath&quot; was the way I finally got it to work.  Aka, the answer above.  :  <a href=\"https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/58591346#58591346\">How can I get my .NET Core 3 single file app to find the appsettings.json file?</a></p>\n<p>and when you see the value of &quot;realPath&quot;...then it all makes sense.  the singleFile is being extracted ~somewhere....and RS figured out the magic sauce on where that extraction place is.</p>\n<p>I will show my entire Program.cs, that will give context to everything.</p>\n<p>Note, I had to set &quot;realPath&quot; in TWO places.</p>\n<p>I marked the important things with</p>\n<pre><code>/* IMPORTANT\n</code></pre>\n<p>Full code below, which (again) borrows from RS's answer : <a href=\"https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file/58591346#58591346\">How can I get my .NET Core 3 single file app to find the appsettings.json file?</a></p>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.Extensions.Logging;\n\nusing Serilog;\n\nnamespace MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne\n{\n    public static class Program\n    {\n        public static async Task&lt;int&gt; Main(string[] args)\n        {\n            /* easy concrete logger that uses a file for demos */\n            Serilog.ILogger lgr = new Serilog.LoggerConfiguration()\n                .WriteTo.Console()\n                .WriteTo.File(&quot;MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne.log.txt&quot;, rollingInterval: Serilog.RollingInterval.Day)\n                .CreateLogger();\n\n            try\n            {\n                /* look at the Project-Properties/Debug(Tab) for this environment variable */\n                string environmentName = Environment.GetEnvironmentVariable(&quot;ASPNETCORE_ENVIRONMENT&quot;);\n                Console.WriteLine(string.Format(&quot;ASPNETCORE_ENVIRONMENT='{0}'&quot;, environmentName));\n                Console.WriteLine(string.Empty);\n\n                string basePath = Directory.GetCurrentDirectory();\n                basePath = GetBasePath();\n\n                Console.WriteLine(string.Format(&quot;GetBasePath='{0}'&quot;, basePath));\n                Console.WriteLine(string.Empty);\n\n                // when using single file exe, the hosts config loader defaults to GetCurrentDirectory\n                // which is where the exe is, not where the bundle (with appsettings) has been extracted.\n                // when running in debug (from output folder) there is effectively no difference\n                /* IMPORTANT 3 lines below */\n                string realPath = Directory.GetParent(System.Reflection.Assembly.GetExecutingAssembly().Location).FullName;\n                Console.WriteLine(string.Format(&quot;realPath='{0}'&quot;, realPath));\n                Console.WriteLine(string.Empty);\n\n\n                IConfigurationBuilder builder = new ConfigurationBuilder()\n                /* IMPORTANT line below */\n                        .SetBasePath(realPath)\n                        .AddJsonFile(&quot;appsettings.json&quot;)\n                        .AddJsonFile($&quot;appsettings.{environmentName}.json&quot;, true, true)\n                        .AddEnvironmentVariables();\n\n                IConfigurationRoot configuration = builder.Build();\n\n\n                IHost host = Host.CreateDefaultBuilder(args)\n                /* IMPORTANT line below */\n                      .UseContentRoot(realPath)\n                    .UseSystemd()\n                    .ConfigureServices((hostContext, services) =&gt; AppendDi(services, configuration, lgr)).Build();\n\n                await host.StartAsync();\n\n                await host.WaitForShutdownAsync();\n            }\n            catch (Exception ex)\n            {\n                string flattenMsg = GenerateFullFlatMessage(ex, true);\n                Console.WriteLine(flattenMsg);\n            }\n\n            Console.WriteLine(&quot;Press ENTER to exit&quot;);\n            Console.ReadLine();\n\n            return 0;\n        }\n\n        private static string GetBasePath()\n        {\n            using var processModule = System.Diagnostics.Process.GetCurrentProcess().MainModule;\n            return Path.GetDirectoryName(processModule?.FileName);\n        }\n\n        private static string GenerateFullFlatMessage(Exception ex)\n        {\n            return GenerateFullFlatMessage(ex, false);\n        }\n\n        private static void AppendDi(IServiceCollection servColl, IConfiguration configuration, Serilog.ILogger lgr)\n        {\n            servColl\n                .AddSingleton(lgr)\n                .AddLogging();\n\n            servColl.AddHostedService&lt;TimedHostedService&gt;(); /* from https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-3.1&amp;tabs=visual-studio and/or https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/fundamentals/host/hosted-services/samples/3.x/BackgroundTasksSample/Services/TimedHostedService.cs */\n\n            servColl.AddLogging(blder =&gt;\n            {\n                blder.AddConsole().SetMinimumLevel(LogLevel.Trace);\n                blder.SetMinimumLevel(LogLevel.Trace);\n                blder.AddSerilog(logger: lgr, dispose: true);\n            });\n\n            Console.WriteLine(&quot;Using UseInMemoryDatabase&quot;);\n            servColl.AddDbContext&lt;WorkerServiceExampleOneDbContext&gt;(options =&gt; options.UseInMemoryDatabase(databaseName: &quot;WorkerServiceExampleOneInMemoryDatabase&quot;));\n        }\n\n        private static string GenerateFullFlatMessage(Exception ex, bool showStackTrace)\n        {\n            string returnValue;\n\n            StringBuilder sb = new StringBuilder();\n            Exception nestedEx = ex;\n\n            while (nestedEx != null)\n            {\n                if (!string.IsNullOrEmpty(nestedEx.Message))\n                {\n                    sb.Append(nestedEx.Message + System.Environment.NewLine);\n                }\n\n                if (showStackTrace &amp;&amp; !string.IsNullOrEmpty(nestedEx.StackTrace))\n                {\n                    sb.Append(nestedEx.StackTrace + System.Environment.NewLine);\n                }\n\n                if (ex is AggregateException)\n                {\n                    AggregateException ae = ex as AggregateException;\n\n                    foreach (Exception aeflatEx in ae.Flatten().InnerExceptions)\n                    {\n                        if (!string.IsNullOrEmpty(aeflatEx.Message))\n                        {\n                            sb.Append(aeflatEx.Message + System.Environment.NewLine);\n                        }\n\n                        if (showStackTrace &amp;&amp; !string.IsNullOrEmpty(aeflatEx.StackTrace))\n                        {\n                            sb.Append(aeflatEx.StackTrace + System.Environment.NewLine);\n                        }\n                    }\n                }\n\n                nestedEx = nestedEx.InnerException;\n            }\n\n            returnValue = sb.ToString();\n\n            return returnValue;\n        }\n    }\n}\n</code></pre>\n<p>and my toplayer csproj contents:</p>\n<pre><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp3.1&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;!-- allows one line of code to get a txt file logger #simple #notForProduction --&gt;\n    &lt;PackageReference Include=&quot;Serilog&quot; Version=&quot;2.9.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Serilog.Sinks.Console&quot; Version=&quot;3.1.1&quot; /&gt;\n    &lt;PackageReference Include=&quot;Serilog.Sinks.File&quot; Version=&quot;4.1.0&quot; /&gt;\n    &lt;PackageReference Include=&quot;Serilog.Extensions.Logging&quot; Version=&quot;3.0.1&quot; /&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Logging.Console&quot; Version=&quot;3.1.6&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.EntityFrameworkCore.InMemory&quot; Version=&quot;3.1.6&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Configuration.EnvironmentVariables&quot; Version=&quot;3.1.6&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Configuration.Json&quot; Version=&quot;3.1.6&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Hosting.Systemd&quot; Version=&quot;3.1.6&quot; /&gt;\n  &lt;/ItemGroup&gt;\n\n\n\n  &lt;ItemGroup&gt;\n    &lt;None Update=&quot;appsettings.Development.json&quot;&gt;\n      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;\n    &lt;/None&gt;\n    &lt;None Update=&quot;appsettings.json&quot;&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n    &lt;/None&gt;\n  &lt;/ItemGroup&gt;\n\n\n\n&lt;/Project&gt;\n</code></pre>\n<p>and my docker file for kicks:</p>\n<pre><code># See https://hub.docker.com/_/microsoft-dotnet-core-sdk/\nFROM mcr.microsoft.com/dotnet/core/sdk:3.1 AS buildImage\nWORKDIR /mybuilddir\n\n\n# Copy sln and csprojs and restore as distinct layers\nCOPY ./src/Solutions/MyCompany.MyExamples.WorkerServiceExampleOne.sln ./src/Solutions/\n\nCOPY ./src/ConsoleOne/*.csproj ./src/ConsoleOne/\n\n\nRUN dotnet restore ./src/Solutions/MyCompany.MyExamples.WorkerServiceExampleOne.sln\n\nCOPY ./src ./src\n\n\n\nRUN dotnet publish &quot;./src/ConsoleOne/MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne.csproj&quot; -c Release -o myOut -r linux-x64 /p:PublishSingleFile=true /p:DebugType=None  --framework netcoreapp3.1\n\n# See https://hub.docker.com/_/microsoft-dotnet-core-runtime/\nFROM mcr.microsoft.com/dotnet/core/runtime:3.1 AS runtime\nWORKDIR /myrundir\nCOPY --from=buildImage /mybuilddir/myOut ./\n\n# this line is wrong for  PublishSingleFile  ### ENTRYPOINT [&quot;dotnet&quot;, &quot;MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne.dll&quot;]\n\n#below is probably right...i was still working on this at time of posting this answer\n ./myOut/MyCompany.MyExamples.WorkerServiceExampleOne.ConsoleOne\n</code></pre>\n"}], "owner": {"reputation": 771, "user_id": 272529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0588e8c020e39118abe5cb5e689c9ed0?s=128&d=identicon&r=PG", "display_name": "Jason Yandell", "link": "https://stackoverflow.com/users/272529/jason-yandell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11487, "favorite_count": 6, "accepted_answer_id": 58307732, "answer_count": 4, "score": 28, "last_activity_date": 1595595633, "creation_date": 1570635092, "last_edit_date": 1570807205, "question_id": 58307558, "link": "https://stackoverflow.com/questions/58307558/how-can-i-get-my-net-core-3-single-file-app-to-find-the-appsettings-json-file", "title": "How can I get my .NET Core 3 single file app to find the appsettings.json file?", "body": "<p>How should a single-file .Net Core 3.0 Web API application be configured to look for the <code>appsettings.json</code> file that is in the same directory that the single-file application is built to?</p>\n\n<p>After running</p>\n\n<pre><code>dotnet publish -r win-x64 -c Release /p:PublishSingleFile=true\n</code></pre>\n\n<p>The directory looks like this:</p>\n\n<pre><code>XX/XX/XXXX  XX:XX PM    &lt;DIR&gt;          .\nXX/XX/XXXX  XX:XX PM    &lt;DIR&gt;          ..\nXX/XX/XXXX  XX:XX PM               134 appsettings.json\nXX/XX/XXXX  XX:XX PM        92,899,983 APPNAME.exe\nXX/XX/XXXX  XX:XX PM               541 web.config\n               3 File(s)     92,900,658 bytes\n</code></pre>\n\n<p>However, attempting to run <code>APPNAME.exe</code> results in the following error </p>\n\n<pre><code>An exception occurred, System.IO.FileNotFoundException: The configuration file 'appsettings.json' was not found and is not optional. The physical path is 'C:\\Users\\USERNAME\\AppData\\Local\\Temp\\.net\\APPNAME\\kyl3yc02.5zs\\appsettings.json'.\n   at Microsoft.Extensions.Configuration.FileConfigurationProvider.HandleException(ExceptionDispatchInfo info)\n   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)\n   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load()\n   at Microsoft.Extensions.Configuration.ConfigurationRoot..ctor(IList`1 providers)\n   at Microsoft.Extensions.Configuration.ConfigurationBuilder.Build()\n   at Microsoft.AspNetCore.Hosting.WebHostBuilder.BuildCommonServices(AggregateException&amp; hostingStartupErrors)\n   at Microsoft.AspNetCore.Hosting.WebHostBuilder.Build()\n...\n</code></pre>\n\n<p>I tried solutions from a <a href=\"https://stackoverflow.com/questions/39157781/the-configuration-file-appsettings-json-was-not-found-and-is-not-optional\">similar, but distinct question</a>, as well as other Stack Overflow questions. </p>\n\n<p>I attempted to pass the following to <code>SetBasePath()</code></p>\n\n<ul>\n<li><p><code>Directory.GetCurrentDirectory()</code></p></li>\n<li><p><code>environment.ContentRootPath</code></p></li>\n<li><p><code>Path.GetDirectoryName(Assembly.GetEntryAssembly().Location)</code></p></li>\n</ul>\n\n<p>Each led to the same error.</p>\n\n<p>The root of the issue is that the <code>PublishSingleFile</code> binary is unzipped and run from a <code>temp</code> directory.  </p>\n\n<p>In the case of this single file app, the location it was looking <code>appsettings.json</code> was the following directory:</p>\n\n<pre><code>C:\\Users\\USERNAME\\AppData\\Local\\Temp\\.net\\APPNAME\\kyl3yc02.5zs\n</code></pre>\n\n<p>All of the above methods point to the place that the file is unzipped to, which is different than the place it was run from.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 18804, "user_id": 3225, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cplXg.png?s=128&g=1", "display_name": "kenny", "link": "https://stackoverflow.com/users/3225/kenny"}, "edited": false, "score": 0, "creation_date": 1570635629, "post_id": 58307523, "comment_id": 102977176, "body": "give the ComboBox and name, you can add them in code behind. If you&#39;re using MVVM, then make the list your view model."}, {"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1570636184, "post_id": 58307523, "comment_id": 102977466, "body": "If you are looking for a dynamic/MVVM solution then you can explore DataTemplate and DataTemplateSelector."}, {"owner": {"reputation": 1, "user_id": 8866112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNiAC.jpg?s=128&g=1", "display_name": "Muhammad Mustafa", "link": "https://stackoverflow.com/users/8866112/muhammad-mustafa"}, "edited": false, "score": 0, "creation_date": 1570639695, "post_id": 58307523, "comment_id": 102979103, "body": "Dear sir, Actually a want some/few lines of code behind ... as a hint... Anyways thank you ... Let me try..."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8866112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNiAC.jpg?s=128&g=1", "display_name": "Muhammad Mustafa", "link": "https://stackoverflow.com/users/8866112/muhammad-mustafa"}, "edited": false, "score": 0, "creation_date": 1570717124, "post_id": 58316081, "comment_id": 103008673, "body": "This is what I needed. Worked. Thank you so much dear sir..."}], "tags": [], "owner": {"reputation": 343, "user_id": 2458980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wJIv8.png?s=128&g=1", "display_name": "mdziadowiec", "link": "https://stackoverflow.com/users/2458980/mdziadowiec"}, "is_accepted": false, "score": 1, "last_activity_date": 1570685885, "creation_date": 1570685885, "answer_id": 58316081, "question_id": 58307523, "link": "https://stackoverflow.com/questions/58307523/in-wpf-how-to-put-some-comboboxes-and-text-inside-the-contents-of-a-textblock/58316081#58316081", "title": "In WPF, how to put some ComboBox(es) and text inside the Contents of a TextBlock?", "body": "<p>There you go:</p>\n\n<pre><code> public MainWindow()\n        {\n            InitializeComponent();\n\n            var textBlock = new TextBlock(){ TextWrapping = TextWrapping.Wrap};\n            var run1 = new Run { Text = \"text text1 text1\" };\n            var run2 = new Run { Text = \"text2 text2 text2\" };\n            var run3 = new Run { Text = \"text3 text3 text3\" };\n            var combo1 = new ComboBox(){Items = { \"item1\", \"item2\" , \"item3\" }};\n            var combo2 = new ComboBox(){Items = { \"item1\", \"item2\" , \"item3\" } };\n\n            textBlock.Inlines.Add(run1);\n            textBlock.Inlines.Add(combo1);\n            textBlock.Inlines.Add(run2);\n            textBlock.Inlines.Add(combo2);\n            textBlock.Inlines.Add(run3);\n\n            MyGrid.Children.Add(textBlock);\n        }\n</code></pre>\n\n<p>And don't forget to name your Grid accordingly:</p>\n\n<pre><code>&lt;Window\n    x:Class=\"WpfApp1.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:WpfApp1\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    mc:Ignorable=\"d\"&gt;\n    &lt;Grid x:Name=\"MyGrid\" /&gt;\n&lt;/Window&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8866112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNiAC.jpg?s=128&g=1", "display_name": "Muhammad Mustafa", "link": "https://stackoverflow.com/users/8866112/muhammad-mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1570687047, "answer_count": 1, "score": 0, "last_activity_date": 1570685885, "creation_date": 1570634972, "last_edit_date": 1570635072, "question_id": 58307523, "link": "https://stackoverflow.com/questions/58307523/in-wpf-how-to-put-some-comboboxes-and-text-inside-the-contents-of-a-textblock", "closed_reason": "Needs more focus", "title": "In WPF, how to put some ComboBox(es) and text inside the Contents of a TextBlock?", "body": "<p>In WPF, I want to dynamically put some ComboBox(es) and text inside the Contents of a TextBlock as shown in the picture. How can I do this dynamically using code? I made this using following XAML in design window. Thank you all...</p>\n\n<pre><code>        &lt;Window x:Class=\"WpfApp1.MainWindow\"\n                xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n                xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n                xmlns:local=\"clr-namespace:WpfApp1\"\n                mc:Ignorable=\"d\"\n                Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n            &lt;Grid&gt;\n                 &lt;TextBlock x:Name=\"tb\" TextWrapping=\"Wrap\" VerticalAlignment=\"Top\" FontSize=\"20\"&gt;\n                      I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture.\n    &lt;ComboBox &gt;\n            &lt;ComboBoxItem Content=\"One\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Two\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Three\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n    &lt;/ComboBox&gt;\n    How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture.\n    &lt;ComboBox &gt;\n            &lt;ComboBoxItem Content=\"One\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Two\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Three\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n    &lt;/ComboBox&gt;\n     How I can do this.I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture. How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture. How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. \n    &lt;ComboBox &gt;\n            &lt;ComboBoxItem Content=\"One\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Two\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n            &lt;ComboBoxItem Content=\"Three\" HorizontalAlignment=\"Left\" Width=\"147\"/&gt;\n     &lt;/ComboBox&gt;\n     As shown in this picture. How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture. How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture. How I can do this. I want to put a ComboBox inside the contents of a TextBlock dynamically. As shown in this picture. How I can do this.\n\n    &lt;/TextBlock&gt;     \n  &lt;/Grid&gt;\n &lt;/Window&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ltj2E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ltj2E.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d", "enums"], "answers": [{"comments": [{"owner": {"reputation": 2641, "user_id": 1253609, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2b4d12192192700b048e20c679da3b2e?s=128&d=identicon&r=PG", "display_name": "incutonez", "link": "https://stackoverflow.com/users/1253609/incutonez"}, "edited": false, "score": 0, "creation_date": 1605592193, "post_id": 58307889, "comment_id": 114690312, "body": "Very cool solution.  Exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 3446, "user_id": 5520131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b1a21a95beb29e669c9174d20f025e1?s=128&d=identicon&r=PG&f=1", "display_name": "Innat3", "link": "https://stackoverflow.com/users/5520131/innat3"}, "is_accepted": true, "score": 1, "last_activity_date": 1570989406, "last_edit_date": 1570989406, "creation_date": 1570636158, "answer_id": 58307889, "question_id": 58307515, "link": "https://stackoverflow.com/questions/58307515/custom-unity-c-script-editor-with-dynamic-enum-field/58307889#58307889", "title": "Custom Unity C# Script Editor with dynamic Enum Field", "body": "<p><s>I fixed it by adding a placeholder field to store the enum value.</p>\n\n<pre><code>public class Item : MonoBehaviour\n{\n    [HideInInspector]\n    public Section Section;\n\n    [HideInInspector]\n    public System.Enum Value;\n\n    [HideInInspector]\n    public SectionA a;\n\n    [HideInInspector]\n    public SectionB b;\n}\n\nswitch (item.Section)\n{\n    case Section.A:\n        item.Value = EditorGUILayout.EnumPopup(item.a = (SectionA)(item.Value ?? item.a));\n        break;\n    case Section.B:\n        item.Value = EditorGUILayout.EnumPopup(item.b = (SectionB)(item.Value ?? item.b));\n        break;\n}\n</code></pre>\n\n<p></s></p>\n\n<p>The previous solution often fails to save values when you switch scenes. This works properly.</p>\n\n<pre><code>public class Item : MonoBehaviour\n{ \n    public Section section;\n    public SectionA sectionA;\n    public SectionB sectionB;\n\n    public System.Enum Value\n    {\n        get\n        {\n            switch(section)\n            {\n                case Section.A:\n                    return sectionA;\n                case Section.B:\n                    return sectionB;\n                default:\n                    return null;\n            }\n        }\n    }\n}\n\n[CustomEditor(typeof(Item))]\npublic class ItemEditor : Editor\n{\n    SerializedProperty section;\n    SerializedProperty sectionA;\n    SerializedProperty sectionB;\n\n    void OnEnable()\n    {\n        section = serializedObject.FindProperty(\"section\");\n        sectionA = serializedObject.FindProperty(\"sectionA\");\n        sectionB = serializedObject.FindProperty(\"sectionB\");\n    }\n\n    public override void OnInspectorGUI()\n    {        \n        serializedObject.Update();\n        EditorGUILayout.PropertyField(section);\n        switch ((Section)section.enumValueIndex)\n        {\n            case Section.A:\n                EditorGUILayout.PropertyField(sectionA);\n                break;\n            case Section.B:\n                EditorGUILayout.PropertyField(sectionB);\n                break;\n        }   \n        serializedObject.ApplyModifiedProperties();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3446, "user_id": 5520131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b1a21a95beb29e669c9174d20f025e1?s=128&d=identicon&r=PG&f=1", "display_name": "Innat3", "link": "https://stackoverflow.com/users/5520131/innat3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "accepted_answer_id": 58307889, "answer_count": 1, "score": 2, "last_activity_date": 1571012075, "creation_date": 1570634947, "last_edit_date": 1571012075, "question_id": 58307515, "link": "https://stackoverflow.com/questions/58307515/custom-unity-c-script-editor-with-dynamic-enum-field", "title": "Custom Unity C# Script Editor with dynamic Enum Field", "body": "<p>Let's say we have the following Enums</p>\n\n<pre><code>public enum Section\n{\n    A,\n    B\n}\n\npublic enum SectionA\n{\n    A1,\n    A2,\n    A3\n}\n\npublic enum SectionB\n{\n    B1,\n    B2,\n    B3\n}\n</code></pre>\n\n<p>I would like to make a script with two public Enum fields, with selectable values as dropdowns from the Unity Editor. The first one serves to select the Section (A or B), while the second one should be an Enum of type SectionA or SectionB depending what the selected value on the first field is. </p>\n\n<p>I made the following scripts for this:</p>\n\n<pre><code>public class Item : MonoBehaviour\n{\n    [HideInInspector]\n    public Section Section;\n\n    [HideInInspector]\n    public System.Enum Value;\n}\n\n\n[CustomEditor(typeof(Item))]\npublic class ItemEditor : Editor\n{\n    public override void OnInspectorGUI()\n    {\n        base.OnInspectorGUI();\n        Item item = target as Item;\n\n        item.Section = (Section)EditorGUILayout.EnumPopup(item.Section);\n\n        switch (item.Section)\n        {\n            case Section.A:\n                item.Value = (SectionA)EditorGUILayout.EnumPopup(item.Value);\n                break;\n            case Section.B:\n                item.Value = (SectionB)EditorGUILayout.EnumPopup(item.Value);\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>But it triggers an Exception stating that <code>item.Value</code> is null. </p>\n\n<p>I also tried replacing </p>\n\n<pre><code>item.Value = (SectionA)EditorGUILayout.EnumPopup(item.Value);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>item.Value = (SectionA)EditorGUILayout.EnumPopup(item.Value ?? SectionA.A1);\n</code></pre>\n\n<p>to try to give it an \"Initial Value\" but then the value <code>A1</code> overrides the selected one when I press Play. Any ideas?</p>\n"}, {"tags": ["c#", "sql-server", "sqlcommand"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570634655, "post_id": 58307394, "comment_id": 102976610, "body": "Database is Quantity and c# is Qty."}, {"owner": {"reputation": 2018, "user_id": 2695832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/545a40b98661d8107196b72935bed082?s=128&d=identicon&r=PG", "display_name": "Onkel Toob", "link": "https://stackoverflow.com/users/2695832/onkel-toob"}, "edited": false, "score": 1, "creation_date": 1570634657, "post_id": 58307394, "comment_id": 102976612, "body": "It seems you&#39;re lacking the final parenthesis at the end of your SQL statement"}, {"owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570634743, "post_id": 58307394, "comment_id": 102976654, "body": "@jdweng i change it to quantity too but still did not work"}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1570634760, "post_id": 58307394, "comment_id": 102976664, "body": "Have you tried using first SQL Server Profiler ?...look how the query come to your database"}, {"owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "reply_to_user": {"reputation": 2018, "user_id": 2695832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/545a40b98661d8107196b72935bed082?s=128&d=identicon&r=PG", "display_name": "Onkel Toob", "link": "https://stackoverflow.com/users/2695832/onkel-toob"}, "edited": false, "score": 0, "creation_date": 1570634779, "post_id": 58307394, "comment_id": 102976676, "body": "@OnkelToob i still do now know what is the problem i searched before i post but did not get anything"}, {"owner": {"reputation": 2672, "user_id": 1084036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0e5053ed25dc99ef48d12ff8d46a5d2?s=128&d=identicon&r=PG", "display_name": "Azhar Khorasany", "link": "https://stackoverflow.com/users/1084036/azhar-khorasany"}, "edited": false, "score": 1, "creation_date": 1570634795, "post_id": 58307394, "comment_id": 102976690, "body": "Are you looking down on the answers?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1570634909, "post_id": 58307394, "comment_id": 102976759, "body": "There are also some dubious and suboptimal things there.  A) Storing something like the total which is easily calculated is a bad idea, B) <code>Add(string, dbType).Value= ...</code> is to be preferred over  AddWithValue C) YOur DB Provider objects will gladly and easily updates your db for you without code fishing thru the DGV.  Good job on parameters though - nice to see"}, {"owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1570635010, "post_id": 58307394, "comment_id": 102976816, "body": "@\u0147\u024fssaP&#248;ngj\u01e3rdenlarp thanks for the suggestions i will try  they found my problem thanks guys"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1570635186, "post_id": 58307394, "comment_id": 102976916, "body": "You should use Parameters.Add instead of AddWithValue. It can do some really interesting things from time to time. <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">blogs.msmvps.com/jcoehoorn/blog/2014/05/12/&hellip;</a> Also you should wrap your iDisposable objects (connections, commands etc) in the USING statement to make sure they are properly handled."}, {"owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1570635484, "post_id": 58307394, "comment_id": 102977083, "body": "@SeanLange thanks i am gonna try that in future"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "edited": false, "score": 0, "creation_date": 1570634928, "post_id": 58307443, "comment_id": 102976771, "body": ":( i did not notice that  well thanks too much for the help"}, {"owner": {"reputation": 321, "user_id": 1052110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6677c709b702169754e7a50754a8b3a?s=128&d=identicon&r=PG", "display_name": "LinkOps", "link": "https://stackoverflow.com/users/1052110/linkops"}, "edited": false, "score": 1, "creation_date": 1570635190, "post_id": 58307443, "comment_id": 102976921, "body": "Good spot @azhar-khorasany"}], "tags": [], "owner": {"reputation": 2672, "user_id": 1084036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0e5053ed25dc99ef48d12ff8d46a5d2?s=128&d=identicon&r=PG", "display_name": "Azhar Khorasany", "link": "https://stackoverflow.com/users/1084036/azhar-khorasany"}, "is_accepted": true, "score": 3, "last_activity_date": 1570634684, "creation_date": 1570634684, "answer_id": 58307443, "question_id": 58307394, "link": "https://stackoverflow.com/questions/58307394/insert-into-data-to-database-error-parameters/58307443#58307443", "title": "Insert into data to database Error Parameters", "body": "<p>You have not closed the round bracket in your SQL statement.</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 12113837, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD8YldLtnjbBm0b2XYksD22aU5T5-cZj_Lr3ea6=k-s128", "display_name": "QuestionGuyBob", "link": "https://stackoverflow.com/users/12113837/questionguybob"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634839, "creation_date": 1570634839, "answer_id": 58307491, "question_id": 58307394, "link": "https://stackoverflow.com/questions/58307394/insert-into-data-to-database-error-parameters/58307491#58307491", "title": "Insert into data to database Error Parameters", "body": "<p>From your code it looks like you're missing a \")\" in your Insert statement.  </p>\n"}], "owner": {"reputation": 1, "user_id": 10772121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kwfu7LcisaY/AAAAAAAAAAI/AAAAAAAAABI/cHw7kK3ELMA/photo.jpg?sz=128", "display_name": "Mhamad Commander", "link": "https://stackoverflow.com/users/10772121/mhamad-commander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1570635882, "accepted_answer_id": 58307443, "answer_count": 2, "score": -2, "last_activity_date": 1570637534, "creation_date": 1570634498, "last_edit_date": 1570637534, "question_id": 58307394, "link": "https://stackoverflow.com/questions/58307394/insert-into-data-to-database-error-parameters", "closed_reason": "Not suitable for this site", "title": "Insert into data to database Error Parameters", "body": "<p>I want to insert my DataGridView datas to my database i used parametrs </p>\n\n<p>these are my database fileds</p>\n\n<pre><code>    CREATE TABLE [dbo].[Tbl_Order] (\n    [Name]     VARCHAR (50) NULL,\n    [Price]    INT          NULL,\n    [Quantity] INT          NULL,\n    [Total]    INT          NULL\n);\n</code></pre>\n\n<p>and these are my codes </p>\n\n<pre><code>SqlConnection con = new SqlConnection(\"Data Source=DESKTOP-R34C6VV\\\\SQL;Initial Catalog=Student_Databse_2019_HW1;Integrated Security=True\");\n\n     con.Open();\n     for (int i = 0; i &lt; dataGridView1.Rows.Count - 1; i++ )\n            {\n                SqlCommand cmd = new SqlCommand(\"INSERT INTO Tbl_Order(Name, Price, Quantity, Total) values(@Name, @Price, @Qty, @Total\",con);\n                cmd.Parameters.AddWithValue(\"@Name\", dataGridView1.Rows[i].Cells[0].Value);\n                cmd.Parameters.AddWithValue(\"@Price\", dataGridView1.Rows[i].Cells[1].Value);\n                cmd.Parameters.AddWithValue(\"@Qty\", dataGridView1.Rows[i].Cells[2].Value);\n                cmd.Parameters.AddWithValue(\"@Total\", dataGridView1.Rows[i].Cells[3].Value);\n                cmd.ExecuteNonQuery();\n            }\n    con.Close();\n    dataGridView1.Rows.Clear();\n</code></pre>\n\n<p>I have an error on this code cmd.ExecuteNonQuery();</p>\n\n<p>it says \n<strong>An unhandled exception of type 'System.Data.SqlClient.SqlException' occurred in System.Data.dll\nAdditional information: Incorrect syntax near '@Total'.</strong></p>\n\n<p>I have 4 fields in my DataGridView<br>\n<code>Name , Price , Qty , Total</code></p>\n\n<p>any one know what is the problem?</p>\n"}, {"tags": ["c#", "roslyn"], "owner": {"reputation": 11, "user_id": 12189485, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17EpqGB6Pac/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4eXAC8jts-75FcRdFcDCAXQep-w/photo.jpg?sz=128", "display_name": "Kabilan Kannan8", "link": "https://stackoverflow.com/users/12189485/kabilan-kannan8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570696222, "creation_date": 1570634416, "last_edit_date": 1570696222, "question_id": 58307370, "link": "https://stackoverflow.com/questions/58307370/how-to-solve-step-no-6-contain-nullvalue-for-step-6-why-does-step-6-cont", "title": "How to solve step No.6? contain nullvalue for step 6....... why does step 6 contain empty value(Nullexception)?", "body": "<pre class=\"lang-cs prettyprint-override\"><code>namespace consoleApp6 {\n    public class Person {\n        public int Add() {\n            return 400;\n        }\n        static void main() {\n            string solutionPath = @\"C:\\Users\\sslindia\\source\\repos\\ConsoleApp6\\ConsoleApp6.sln\";\n            var msWorkspace = MSBuildWorkspace.Create();\n            var solution = msWorkspace.OpenSolutionAsync(solutionPath).Result;\n            var methodProjectComp = solution.Projects.Single(x = &gt;x.Name == \"ConsoleApp6\").GetCompilationAsync().Result;\n            var classWithMethodToSearchFor = methodProjectComp.GetTypeByMetadataName(\"ConsoleApp6.Person\");\n            var methodToSearchFor = classWithMethodToSearchFor.GetMembers(\"Add\").First() as IMethodSymbol; //why this step contain empty value(Nullexception)\n            //Nullexception for above step(MethodTosearchFor)\n            var references = SymbolFinder.FindReferencesAsync(methodToSearchFor, solution).Result;\n            var callers = SymbolFinder.FindCallersAsync(methodToSearchFor, solution).Result;\n            int c = references.Select(x = &gt;x.Locations.Count()).Sum();\n            Console.WriteLine(c);\n        }\n    }\n}\n</code></pre>\n\n<p>This is a Roslyn project using symbolfinder class. How to get references to a method using symbolfinder class?</p>\n"}, {"tags": ["c#", "logging", "dependency-injection", "azure-application-insights"], "comments": [{"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1570635445, "post_id": 58307327, "comment_id": 102977062, "body": "What type of project? Dotnet core web app?"}, {"owner": {"reputation": 151, "user_id": 3881814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000058267882/picture?type=large", "display_name": "Eduard G", "link": "https://stackoverflow.com/users/3881814/eduard-g"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1570635929, "post_id": 58307327, "comment_id": 102977330, "body": "A simple C# Console App, as I wrote in the second paragraph. I want to start from there before moving to more complicated things."}], "answers": [{"comments": [{"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1570680113, "post_id": 58311281, "comment_id": 102991009, "body": "Afaik the config file is not used anymore with a .net core project."}, {"owner": {"reputation": 151, "user_id": 3881814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000058267882/picture?type=large", "display_name": "Eduard G", "link": "https://stackoverflow.com/users/3881814/eduard-g"}, "edited": false, "score": 0, "creation_date": 1570696422, "post_id": 58311281, "comment_id": 102996856, "body": "In a NETCore app, adding an &quot;ApplicationInsights.config&quot; solved it, adding the ApplicationInsightsResourceId did nothing. Anyway, you sir are a God amongst men, thank you."}, {"owner": {"reputation": 21979, "user_id": 13687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83fd7d4059fec16d3f138f4f351b6423?s=128&d=identicon&r=PG", "display_name": "John Gardner", "link": "https://stackoverflow.com/users/13687/john-gardner"}, "edited": false, "score": 0, "creation_date": 1570728702, "post_id": 58311281, "comment_id": 103014669, "body": "yes, the config file isn&#39;t used by the project itself, but this &quot;tricks&quot; the tooling into thinking it is a supported project"}, {"owner": {"reputation": 945, "user_id": 1418178, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff9cca65cf3bc28fc704c706761fa8d8?s=128&d=identicon&r=PG", "display_name": "Bharathi", "link": "https://stackoverflow.com/users/1418178/bharathi"}, "edited": false, "score": 0, "creation_date": 1604372121, "post_id": 58311281, "comment_id": 114321668, "body": "#2 did it for me.. Probably, emphasize more on restarting visual studio. It made me go crazy for a few hours after making this change and trying to make it work without restarting vs."}], "tags": [], "owner": {"reputation": 21979, "user_id": 13687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83fd7d4059fec16d3f138f4f351b6423?s=128&d=identicon&r=PG", "display_name": "John Gardner", "link": "https://stackoverflow.com/users/13687/john-gardner"}, "is_accepted": true, "score": 4, "last_activity_date": 1570650420, "creation_date": 1570650420, "answer_id": 58311281, "question_id": 58307327, "link": "https://stackoverflow.com/questions/58307327/unable-to-get-application-insights-to-show-debugging-telemetry/58311281#58311281", "title": "Unable to get Application Insights to show debugging telemetry", "body": "<p>I used to work on this stuff and the way it generally works, the extension tries to figure out if it <em>should</em> watch for debug output, and if it doesn't recognize the project type, we do nothing (to avoid doign work in the debugger when we don't need to).  in this case, console apps aren't a \"known\" supported project type.</p>\n\n<p>IIRC, to get debug output I believe you need to do 2 things, of which you've done 1: </p>\n\n<p>1) add an <code>ApplicationInsights.config</code> file at the root of that project</p>\n\n<p>2) add an application insight resource id to to the csproj:</p>\n\n<pre><code> &lt;ApplicationInsightsResourceId&gt;/subscriptions/abc&lt;/ApplicationInsightsResourceId&gt;\n</code></pre>\n\n<p>i don't <em>think</em> the resource id even needs to be valid, but if it does even better, because then other things can light up, like exceptions codelens, various links to the portal/etc.</p>\n\n<p>you migth only need to do #2?</p>\n\n<p>i <em>think</em> that if you do the above and restart vs/reload the solution, you should see the debugger integration try to do work when the debugger starts.  (it used to!)</p>\n"}], "owner": {"reputation": 151, "user_id": 3881814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000058267882/picture?type=large", "display_name": "Eduard G", "link": "https://stackoverflow.com/users/3881814/eduard-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "accepted_answer_id": 58311281, "answer_count": 1, "score": 0, "last_activity_date": 1570650420, "creation_date": 1570634264, "question_id": 58307327, "link": "https://stackoverflow.com/questions/58307327/unable-to-get-application-insights-to-show-debugging-telemetry", "title": "Unable to get Application Insights to show debugging telemetry", "body": "<p>I am a total noob with Application Insights, and sadly for a whole day of trying I have been unable to get it working at all. I tried with the following code:</p>\n\n<pre><code>this.telemetryClient = new TelemetryClient(TelemetryConfiguration.CreateDefault());\nthis.telemetryClient.TrackTrace($\"Test\", Microsoft.ApplicationInsights.DataContracts.SeverityLevel.Warning);\n</code></pre>\n\n<p>But when I go to the application insights window and show all telemetry from the current debugging session there is nothing logged. One user said an ApplicationInsights.config file is missing (and that an empty one would do fine for debugging), I created one but it changed nothing.</p>\n\n<p>Then I tried the simplest console app I could find - <a href=\"https://docs.microsoft.com/en-us/azure/azure-monitor/app/console\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/azure-monitor/app/console</a> . I don't have an instrumentation key, and from the hundreds of forums I read today, if you leave it blank it should still appear in the debugging telemetry. Alas, still nothing in Application Insights.</p>\n\n<p>How can I get it working? I just want to see a single Trace message in the Visual Studio Application Insights window when queried for \"debugging telemetry\".</p>\n"}, {"tags": ["c#", ".net", "mongodb"], "comments": [{"owner": {"reputation": 370, "user_id": 5255770, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b1af98b2157df469413918fdc3f40ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Rafalsonn", "link": "https://stackoverflow.com/users/5255770/rafalsonn"}, "edited": false, "score": 0, "creation_date": 1570634162, "post_id": 58307270, "comment_id": 102976356, "body": "That should help: <a href=\"https://stackoverflow.com/questions/13310934/mongodb-equivalent-of-sql-top\" title=\"mongodb equivalent of sql top\">stackoverflow.com/questions/13310934/&hellip;</a>"}, {"owner": {"reputation": 3311, "user_id": 4664094, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/hqdQX.jpg?s=128&g=1", "display_name": "Jay Gould", "link": "https://stackoverflow.com/users/4664094/jay-gould"}, "reply_to_user": {"reputation": 370, "user_id": 5255770, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b1af98b2157df469413918fdc3f40ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Rafalsonn", "link": "https://stackoverflow.com/users/5255770/rafalsonn"}, "edited": false, "score": 0, "creation_date": 1570634193, "post_id": 58307270, "comment_id": 102976377, "body": "@Rafalsonn taking the <code>limit(1)</code> is what I&#39;m already doing above. I&#39;m looking to run a single query to get the top most document for <i>each IMEI</i> in a single query, as opposed to looping through and selecting a <code>limit(1)</code> on a single IMEI then adding that to a collection."}, {"owner": {"reputation": 2619, "user_id": 8330148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EeOB2.jpg?s=128&g=1", "display_name": "ChW", "link": "https://stackoverflow.com/users/8330148/chw"}, "edited": false, "score": 1, "creation_date": 1570635023, "post_id": 58307270, "comment_id": 102976824, "body": "What happens in <code>GetImeiFilter()</code> and <code>GetImeiSort()</code>? What are each results and how are the classes setup? My approach would be to reach the goal with LINQ-to-Object with where and group clauses. If all conditions are explained and maybe some example data was provided sb. could help you to build a fitting query."}, {"owner": {"reputation": 3584, "user_id": 4368485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WnyN.png?s=128&g=1", "display_name": "\u0110\u0135 \u039d\u03b9\u0393\u039e\u0397\u039b\u03c8\u039a", "link": "https://stackoverflow.com/users/4368485/%c4%90%c4%b5-%ce%9d%ce%b9%ce%93%ce%9e%ce%97%ce%9b%cf%88%ce%9a"}, "edited": false, "score": 0, "creation_date": 1570667080, "post_id": 58307270, "comment_id": 102988432, "body": "posting sample data (from mongo collection) would help. also mention what indexes you&#39;ve created."}], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 8751796, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD_hb6e2afEnCrB4S8EYRN4GTVW3VZSHzeKKNPl=k-s128", "display_name": "Ahmed Msaouri", "link": "https://stackoverflow.com/users/8751796/ahmed-msaouri"}, "is_accepted": false, "score": 0, "last_activity_date": 1570635817, "last_edit_date": 1570635817, "creation_date": 1570635421, "answer_id": 58307649, "question_id": 58307270, "link": "https://stackoverflow.com/questions/58307270/find-top-1-for-each-id-in-array/58307649#58307649", "title": "Find TOP (1) for each ID in array", "body": "<p>have tried using the LINQ <strong>Take</strong> function?</p>\n\n<p><pre>\n        List documents = new List();</p>\n\n<code>    foreach(var config in imeiConfigs)\n    {\n        var filter = GetImeiFilter(config.IMEI);\n        var sort = GetImeiSort();\n        var data = _historyCollection.Find(filter).Sort(sort).Take(1).FirstOrDefault();\n\n        documents.Add(data);\n    }\n</code></pre>\n\n<p></p>\n\n<p>\n<a href=\"https://docs.microsoft.com/es-es/dotnet/api/system.linq.enumerable.take?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/es-es/dotnet/api/system.linq.enumerable.take?view=netframework-4.8</a>\n</p>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "is_accepted": false, "score": 0, "last_activity_date": 1570639386, "creation_date": 1570639386, "answer_id": 58308733, "question_id": 58307270, "link": "https://stackoverflow.com/questions/58307270/find-top-1-for-each-id-in-array/58308733#58308733", "title": "Find TOP (1) for each ID in array", "body": "<p>I think bad performance come from \"Sort(sort)\", because the sorting forces it to go through all the collection.</p>\n\n<p>But perhaps  you can improuve time performance with parallel.</p>\n\n<pre><code>List&lt;BsonDocument&gt; documents;\n\ndocuments =  imeiConfigs.AsParallel().Select((config) =&gt;\n{\n    var filter = GetImeiFilter(config.IMEI);\n    var sort = GetImeiSort();\n    var data = _historyCollection.Find(filter).Sort(sort).Limit(1).FirstOrDefault();\n\n    return data;\n}).ToList();\n</code></pre>\n"}], "owner": {"reputation": 3311, "user_id": 4664094, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/hqdQX.jpg?s=128&g=1", "display_name": "Jay Gould", "link": "https://stackoverflow.com/users/4664094/jay-gould"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570639386, "creation_date": 1570634033, "question_id": 58307270, "link": "https://stackoverflow.com/questions/58307270/find-top-1-for-each-id-in-array", "title": "Find TOP (1) for each ID in array", "body": "<p>I have a large (60m+) document collection, whereby each ID has many records in time series.  Each record has an IMEI identifier, and I'm looking to select the most recent record for each IMEI in a given <code>List&lt;Imei&gt;</code>.</p>\n\n<p>The brute force method is what is currently happening, whereby I create a loop for each IMEI and <code>yield</code> out the top most record, then return a complete collection after the loop completes. As such:</p>\n\n<pre><code>        List&lt;BsonDocument&gt; documents = new List&lt;BsonDocument&gt;();\n\n        foreach(var config in imeiConfigs)\n        {\n            var filter = GetImeiFilter(config.IMEI);\n            var sort = GetImeiSort();\n            var data = _historyCollection.Find(filter).Sort(sort).Limit(1).FirstOrDefault();\n\n            documents.Add(data);\n        }\n</code></pre>\n\n<p>The end result is a <code>List&lt;BsonDocument&gt;</code> which contains the most recent <code>BsonDocument</code> for each <code>IMEI</code>, but it's not massively performant. If <code>imeiConfigs</code> is too large, the query takes a long time to run and return as the documents are rather large.</p>\n\n<p>Is there a way to select the <code>TOP 1</code> for each <code>IMEI</code> in a single query, as opposed to brute forcing like I am above?</p>\n"}, {"tags": ["c#", "unity3d", "game-physics"], "comments": [{"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570638117, "post_id": 58307264, "comment_id": 102978402, "body": "have you set up transitions conditions in your animator?"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570651441, "post_id": 58307264, "comment_id": 102984252, "body": "I added but still won&#39;t work as I want"}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570651912, "post_id": 58307264, "comment_id": 102984405, "body": "Can i see the conditions on your transition? are you sure about the value of speedPercent?"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570652406, "post_id": 58307264, "comment_id": 102984568, "body": "I&#39;m not sure of value I don&#39;t know what should be the proper value give me sec I will upload it"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570652570, "post_id": 58307264, "comment_id": 102984623, "body": "<a href=\"https://ibb.co/56TD7Nb\" rel=\"nofollow noreferrer\">ibb.co/56TD7Nb</a>"}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570653728, "post_id": 58307264, "comment_id": 102985091, "body": "so i see you are using walkspeed as the condition but since you set it to 20 in the animator controller and never change it in your code it will always be true. You should use the speedPercent since its the value you are changing. Check if the exiting transition of the run animation also have conditions and that they are correct. Also check on your animation that the loop box is checked so it loop the animation"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570733420, "post_id": 58307264, "comment_id": 103016729, "body": "I&#39;m not sure what value should I use cause SpeedPercent its from 0-1 and its slowing animation maybe I should exchange range from 1-10 and this will change smth I&#39;m not sure."}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570772397, "post_id": 58307264, "comment_id": 103026586, "body": "what do you mean by slowing the animation? isnt the value only use to makes transition?"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570860736, "post_id": 58307264, "comment_id": 103056984, "body": "When I change value of speedpercent animation look like slow motions , yes"}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1570861946, "post_id": 58307264, "comment_id": 103057175, "body": "Maybe try to uncheck Has Exit Time on all The transitions(it will transit from one state to another faster). So just to be sure after reading again all this discussion, When you say that it only repeats one animation, do you mean it only do the idle animation? or if you try to jump it will jump once and never do it again?"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1571056489, "post_id": 58307264, "comment_id": 103102549, "body": "hi I worked on somthing maybe its less optimilaized but work somhow there is one trouble with code cause still animaton won&#39;t stopw when I dont press any key link to code its to long to paste <a href=\"https://textuploader.com/1klai\" rel=\"nofollow noreferrer\">textuploader.com/1klai</a>"}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1571108458, "post_id": 58307264, "comment_id": 103120539, "body": "This is because instead of using the animator controller(or in addition i would say), you are using <code>animator.Play(&quot;walk&quot;);</code> to start the walk animation but you are not stopping it anywhere so this is why it probably keeps walking even when you are not touching any buttons. I would suggest to debug your animator controller since it is clearer than hardcoded animation. You can debug it easily by Opening your animator controller,pressing play, click on your character that has the animator controller in your hierarchy, you will now see which state is being executed."}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1571108503, "post_id": 58307264, "comment_id": 103120549, "body": "Check that every state has the right animation, the animation set to loop. if the conditions are not right, you will see that it plays the wrong state and it will show you if it gets stuck somewhere"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1571208274, "post_id": 58307264, "comment_id": 103158520, "body": "The trouble was with conditions it was not declared in key what State will break the loop and start another I created new code more complicated but less chaotic"}, {"owner": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 0, "creation_date": 1571251619, "post_id": 58307264, "comment_id": 103182011, "body": "good if you found out what the problem was, is it working as intended now?"}, {"owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "reply_to_user": {"reputation": 382, "user_id": 5623147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da068ffce1337828392e929ed1e3921c?s=128&d=identicon&r=PG&f=1", "display_name": "Matriac", "link": "https://stackoverflow.com/users/5623147/matriac"}, "edited": false, "score": 1, "creation_date": 1571339112, "post_id": 58307264, "comment_id": 103218150, "body": "yes it all working I made some mistake and I started again. there is still some trouble but it work somehow"}], "owner": {"reputation": 1, "user_id": 11571970, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Yzw0E7w85gY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdmETclYSCEyUa0Xxy4Q6Bey2AOIg/mo/photo.jpg?sz=128", "display_name": "Maciej Ozorkiewicz", "link": "https://stackoverflow.com/users/11571970/maciej-ozorkiewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1570635951, "creation_date": 1570634018, "last_edit_date": 1570635951, "question_id": 58307264, "link": "https://stackoverflow.com/questions/58307264/unity-character-controller-animation-problem", "title": "Unity Character Controller animation problem", "body": "<p>I just started my adventure with unity and I got stuck.</p>\n\n<p>I need to make my character turn on animation walk when I press \"W\" and when there is no any key pressed stop and do Idle animation for being not moved (Sorry for my english I'm not a native speaker) and then when I press space char should jump and use jump anim my char actually move and jump but repeat only one animation even when I don't press any key. </p>\n\n<p>Further, I want to make Climbing, Ledge Climb, character falling from the edge, etc smth like in Assassin's Creed. I want to animation play on keypress.<a href=\"https://i.stack.imgur.com/4sdiP.png\" rel=\"nofollow noreferrer\">I just start to figure it out using transition but still luck of results </a></p>\n\n<p>I'm not sure what should I change, need a help.</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class PlayerController2 : MonoBehaviour\n{\n\n    public float walkSpeed = 20;\n    public float runSpeed = 40;\n    public float gravity = -80;\n    public float jumpHeight = 15;\n    [Range(0, 1)]\n    public float airControlPercent;\n\n    public float turnSmoothTime = 0.2f;\n    float turnSmoothVelocity;\n\n    public float speedSmoothTime = 0.1f;\n    float speedSmoothVelocity;\n    float currentSpeed;\n    float velocityY;\n\n    Animator animator;\n    Transform cameraT;\n    CharacterController controller;\n\n    void Start()\n    {\n        animator = GetComponent&lt;Animator&gt;();\n        cameraT = Camera.main.transform;\n        controller = GetComponent&lt;CharacterController&gt;();\n    }\n\n    void Update()\n    {\n        // input\n        Vector2 input = new Vector2(Input.GetAxisRaw(\"Horizontal\"), Input.GetAxisRaw(\"Vertical\"));\n        Vector2 inputDir = input.normalized;\n        bool running = Input.GetKey(KeyCode.LeftShift);\n\n        Move(inputDir, running);\n\n        if (Input.GetKeyDown(KeyCode.Space))\n        {\n            Jump();\n        }\n        // animator\n        float animationSpeedPercent = ((running) ? currentSpeed / runSpeed : currentSpeed / walkSpeed * .5f);\n        animator.SetFloat(\"speedPercent\", animationSpeedPercent, speedSmoothTime, Time.deltaTime);\n\n    }\n\n    void Move(Vector2 inputDir, bool running)\n    {\n        if (inputDir != Vector2.zero)\n        {\n            float targetRotation = Mathf.Atan2(inputDir.x, inputDir.y) * Mathf.Rad2Deg + cameraT.eulerAngles.y;\n            transform.eulerAngles = Vector3.up * Mathf.SmoothDampAngle(transform.eulerAngles.y, targetRotation, ref turnSmoothVelocity, GetModifiedSmoothTime(turnSmoothTime));\n        }\n\n        float targetSpeed = ((running) ? runSpeed : walkSpeed) * inputDir.magnitude;\n        currentSpeed = Mathf.SmoothDamp(currentSpeed, targetSpeed, ref speedSmoothVelocity, GetModifiedSmoothTime(speedSmoothTime));\n\n        velocityY += Time.deltaTime * gravity;\n        Vector3 velocity = transform.forward * currentSpeed + Vector3.up * velocityY;\n\n        controller.Move(velocity * Time.deltaTime);\n        currentSpeed = new Vector2(controller.velocity.x, controller.velocity.z).magnitude;\n\n        if (controller.isGrounded)\n        {\n            velocityY = 0;\n        }\n\n    }\n\n    void Jump()\n    {\n        if (controller.isGrounded)\n        {\n            float jumpVelocity = Mathf.Sqrt(-2 * gravity * jumpHeight);\n            velocityY = jumpVelocity;\n        }\n    }\n\n    float GetModifiedSmoothTime(float smoothTime)\n    {\n        if (controller.isGrounded)\n        {\n            return smoothTime;\n        }\n\n        if (airControlPercent == 0)\n        {\n            return float.MaxValue;\n        }\n        return smoothTime / airControlPercent;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "ms-word", "openxml-sdk"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1570634077, "post_id": 58307215, "comment_id": 102976302, "body": "you&#39;ll have to convert the html into the properly formatted word format. the ooxml sdk doesn&#39;t do that for you"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1570634269, "post_id": 58307215, "comment_id": 102976419, "body": "The linked question has nothing to do with <i>your</i> question. That one asks how to <i>generate</i> HTML from a Word document. You&#39;re asking for the opposite thing - how to <i>parse HTML</i> and generate the equivalent styling in Word. <a href=\"https://stackoverflow.com/questions/37154495/generating-docx-file-from-html-file-using-openxml\">This is a better question</a>. Both answers shows how to use <code>altChunk</code> to import HTML chunks into a document. There&#39;s no guarantee you&#39;ll get the same look though - HTML styles aren&#39;t Word styles"}, {"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1575839688, "post_id": 58307215, "comment_id": 104691278, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/37154495/generating-docx-file-from-html-file-using-openxml\">Generating docx file from HTML file using OpenXML</a>"}, {"owner": {"reputation": 1, "user_id": 2485555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c1f421eef37a91b6c1aa3c6d89c35b?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/2485555/jamie"}, "edited": false, "score": 0, "creation_date": 1575985087, "post_id": 58307215, "comment_id": 104744295, "body": "thanks but that&#39;s the same article linked by P Kanavos above which I used to figure it out  - my answer is posted below"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2485555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c1f421eef37a91b6c1aa3c6d89c35b?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/2485555/jamie"}, "is_accepted": true, "score": 0, "last_activity_date": 1570709149, "last_edit_date": 1570709149, "creation_date": 1570708626, "answer_id": 58322384, "question_id": 58307215, "link": "https://stackoverflow.com/questions/58307215/how-can-i-create-a-word-header-from-a-html-string/58322384#58322384", "title": "How can i create a word header from a html string", "body": "<p>So the code below uses an altChunk to add html into the header. It's not perfect as I get validation errors when I use the OpenXmlValidator to validate the generated document although the doc still opens ok in word but I'm posting it here as an answer as it does do what I asked above &amp; it might help others:</p>\n\n<pre><code>static void GenerateHeaderPartContent(MainDocumentPart mainPart, HeaderPart headerPart, string headerHtml)\n        {\n            Header header1 = new Header() { MCAttributes = new MarkupCompatibilityAttributes() { Ignorable = \"w14 wp14\" } };\n            header1.AddNamespaceDeclaration(\"wpc\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas\");\n            header1.AddNamespaceDeclaration(\"mc\", \"http://schemas.openxmlformats.org/markup-compatibility/2006\");\n            header1.AddNamespaceDeclaration(\"o\", \"urn:schemas-microsoft-com:office:office\");\n            header1.AddNamespaceDeclaration(\"r\", \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\");\n            header1.AddNamespaceDeclaration(\"m\", \"http://schemas.openxmlformats.org/officeDocument/2006/math\");\n            header1.AddNamespaceDeclaration(\"v\", \"urn:schemas-microsoft-com:vml\");\n            header1.AddNamespaceDeclaration(\"wp14\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing\");\n            header1.AddNamespaceDeclaration(\"wp\", \"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing\");\n            header1.AddNamespaceDeclaration(\"w10\", \"urn:schemas-microsoft-com:office:word\");\n            header1.AddNamespaceDeclaration(\"w\", \"http://schemas.openxmlformats.org/wordprocessingml/2006/main\");\n            header1.AddNamespaceDeclaration(\"w14\", \"http://schemas.microsoft.com/office/word/2010/wordml\");\n            header1.AddNamespaceDeclaration(\"wpg\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup\");\n            header1.AddNamespaceDeclaration(\"wpi\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingInk\");\n            header1.AddNamespaceDeclaration(\"wne\", \"http://schemas.microsoft.com/office/word/2006/wordml\");\n            header1.AddNamespaceDeclaration(\"wps\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingShape\");\n\n            Paragraph paragraph1 = new Paragraph();\n            ParagraphProperties paragraphProperties1 = new ParagraphProperties();\n            ParagraphStyleId paragraphStyleId1 = new ParagraphStyleId() { Val = \"Header\" };\n\n            paragraphProperties1.Append(paragraphStyleId1);\n            paragraph1.Append(paragraphProperties1);\n\n            string altChunkId = \"AltChunkId1\";\n            AlternativeFormatImportPart chunk = headerPart.AddAlternativeFormatImportPart(\n                AlternativeFormatImportPartType.Html, altChunkId);\n\n            // Note that headerHtml should be full html, not just a snippet\n            // eg. &lt;html&gt;&lt;h1&gt;My Header&lt;/h1&gt;&lt;/html&gt; is OK\n            // &lt;h1&gt;My Header&lt;/h1&gt; is not OK\n            MemoryStream ms = new MemoryStream(new UTF8Encoding(true).GetPreamble().Concat(Encoding.UTF8.GetBytes(headerHtml)).ToArray());\n\n            chunk.FeedData(ms);\n\n            AltChunk altChunk = new AltChunk();\n            altChunk.Id = altChunkId;\n\n            Run run1 = new Run();\n            RunProperties runProps = new RunProperties();\n            NoProof noProof1 = new NoProof();\n            runProps.Append(noProof1);\n\n            run1.Append(runProps);\n            run1.Append(altChunk);\n\n            paragraph1.Append(run1);\n            header1.Append(paragraph1);\n\n            headerPart.Header = header1;\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2485555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c1f421eef37a91b6c1aa3c6d89c35b?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/2485555/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58322384, "answer_count": 1, "score": 0, "last_activity_date": 1575839626, "creation_date": 1570633832, "last_edit_date": 1575839626, "question_id": 58307215, "link": "https://stackoverflow.com/questions/58307215/how-can-i-create-a-word-header-from-a-html-string", "title": "How can i create a word header from a html string", "body": "<p>I'm generating a word docx file from a html string and using various articles I've found how to add simple headers and footers to that document. \nWhat I now need to do is generate the header from a html string too but I'm struggling to find an example of how this is done. \nThe author of this question:\n<a href=\"https://stackoverflow.com/q/46603717/2485555\">Export docx/doc First Header and Footer as docx File Using openXML</a> \nsays he has done it but unfortunately he hasn't posted an example.</p>\n\n<p>My code below successfully adds a header but as you can see from the code it will only add the html as text in the header, whereas I want to pass in a html string and that to appear in the header as formatted html.</p>\n\n<p>Has anyone done this?</p>\n\n<pre><code>static void AddHeaderPart(MainDocumentPart mainPart, string headerHtml, Encoding encoding)\n        {\n            if (mainPart == null || string.IsNullOrEmpty(headerHtml))\n            {return;}\n\n            // Create a new header part.\n            HeaderPart headerPart = mainPart.AddNewPart&lt;HeaderPart&gt;();\n\n            // Get Id of the headerPart.\n            string rId = mainPart.GetIdOfPart(headerPart);\n\n\n            // Call GenerateHeaderPartContent\n            GenerateHeaderPartContent(mainPart, headerPart, headerHtml, encoding);\n\n            // Get SectionProperties and Replace HeaderReference with new Id.\n            IEnumerable&lt;SectionProperties&gt; sectPrs = mainPart.Document.Body.Elements&lt;SectionProperties&gt;();\n            foreach (var sectPr in sectPrs)\n            {\n                // Delete existing references to headers.\n                sectPr.RemoveAllChildren&lt;HeaderReference&gt;();\n\n                // Create the new header reference node.\n                sectPr.PrependChild&lt;HeaderReference&gt;(new HeaderReference() { Id = rId, Type = HeaderFooterValues.Default });\n            }\n\n        }\n\nstatic void GenerateHeaderPartContent(MainDocumentPart mainPart, HeaderPart headerPart, string headerHtml, Encoding encoding)\n        {\n            Header header1 = new Header() { MCAttributes = new MarkupCompatibilityAttributes() { Ignorable = \"w14 wp14\" } };\n            header1.AddNamespaceDeclaration(\"wpc\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas\");\n            header1.AddNamespaceDeclaration(\"mc\", \"http://schemas.openxmlformats.org/markup-compatibility/2006\");\n            header1.AddNamespaceDeclaration(\"o\", \"urn:schemas-microsoft-com:office:office\");\n            header1.AddNamespaceDeclaration(\"r\", \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\");\n            header1.AddNamespaceDeclaration(\"m\", \"http://schemas.openxmlformats.org/officeDocument/2006/math\");\n            header1.AddNamespaceDeclaration(\"v\", \"urn:schemas-microsoft-com:vml\");\n            header1.AddNamespaceDeclaration(\"wp14\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing\");\n            header1.AddNamespaceDeclaration(\"wp\", \"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing\");\n            header1.AddNamespaceDeclaration(\"w10\", \"urn:schemas-microsoft-com:office:word\");\n            header1.AddNamespaceDeclaration(\"w\", \"http://schemas.openxmlformats.org/wordprocessingml/2006/main\");\n            header1.AddNamespaceDeclaration(\"w14\", \"http://schemas.microsoft.com/office/word/2010/wordml\");\n            header1.AddNamespaceDeclaration(\"wpg\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup\");\n            header1.AddNamespaceDeclaration(\"wpi\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingInk\");\n            header1.AddNamespaceDeclaration(\"wne\", \"http://schemas.microsoft.com/office/word/2006/wordml\");\n            header1.AddNamespaceDeclaration(\"wps\", \"http://schemas.microsoft.com/office/word/2010/wordprocessingShape\");\n\n            Paragraph paragraph1 = new Paragraph();\n\n            ParagraphProperties paragraphProperties1 = new ParagraphProperties();\n            ParagraphStyleId paragraphStyleId1 = new ParagraphStyleId() { Val = \"Header\" };\n\n            paragraphProperties1.Append(paragraphStyleId1);\n\n            //This adds the headerHtml as text - how to add it as html?\n            Run run1 = new Run();\n            Text text1 = new Text();\n            text1.Text = headerHtml;\n\n            run1.Append(text1);\n\n            paragraph1.Append(paragraphProperties1);\n            paragraph1.Append(run1);\n\n            header1.Append(paragraph1);\n\n            headerPart.Header = header1;\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "elmah"], "comments": [{"owner": {"reputation": 4296, "user_id": 758765, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f3fed18422c9db37c455728ecf3f880c?s=128&d=identicon&r=PG", "display_name": "ThomasArdal", "link": "https://stackoverflow.com/users/758765/thomasardal"}, "edited": false, "score": 0, "creation_date": 1570690464, "post_id": 58307202, "comment_id": 102994059, "body": "Might be a dumb question, but doesn&#39;t ELMAH include the stack trace of the thrown exception?"}, {"owner": {"reputation": 216, "user_id": 10590099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wndIR.jpg?s=128&g=1", "display_name": "Dominick", "link": "https://stackoverflow.com/users/10590099/dominick"}, "reply_to_user": {"reputation": 4296, "user_id": 758765, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f3fed18422c9db37c455728ecf3f880c?s=128&d=identicon&r=PG", "display_name": "ThomasArdal", "link": "https://stackoverflow.com/users/758765/thomasardal"}, "edited": false, "score": 0, "creation_date": 1570726082, "post_id": 58307202, "comment_id": 103013591, "body": "@ThomasArdal  Yes, all the other exceptions caught include a stack trace that is included in the &quot;detail&quot; property of the &lt;error&gt; tag.  But for this issue, the &quot;detail&quot; property only says &quot;System.Exception: Inner exception is null&quot;.  That is why I&#39;m having so much trouble debugging because I can&#39;t figure out where it is being thrown from."}, {"owner": {"reputation": 4296, "user_id": 758765, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f3fed18422c9db37c455728ecf3f880c?s=128&d=identicon&r=PG", "display_name": "ThomasArdal", "link": "https://stackoverflow.com/users/758765/thomasardal"}, "edited": false, "score": 0, "creation_date": 1570830404, "post_id": 58307202, "comment_id": 103052670, "body": "Ah yeah that was what you wrote ;) have you tried searching for \u201cInner exception is null\u201d in your code? It isn\u2019t something that ELMAH logs to my knowledge."}, {"owner": {"reputation": 216, "user_id": 10590099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wndIR.jpg?s=128&g=1", "display_name": "Dominick", "link": "https://stackoverflow.com/users/10590099/dominick"}, "reply_to_user": {"reputation": 4296, "user_id": 758765, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f3fed18422c9db37c455728ecf3f880c?s=128&d=identicon&r=PG", "display_name": "ThomasArdal", "link": "https://stackoverflow.com/users/758765/thomasardal"}, "edited": false, "score": 0, "creation_date": 1571144548, "post_id": 58307202, "comment_id": 103136241, "body": "I finally managed to find it.  There was a piece of code buried somewhere deep in one of the referenced libraries which was writing the exception, which is why I was unable to find it using the Find control in VS.  Turns out it was designed to write &quot;Inner exception is null&quot; to the database whenever a 404 error was returned from the WCF service - don&#39;t ask me why though, because I have no idea...lol.  Thanks for trying to assist."}, {"owner": {"reputation": 4296, "user_id": 758765, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f3fed18422c9db37c455728ecf3f880c?s=128&d=identicon&r=PG", "display_name": "ThomasArdal", "link": "https://stackoverflow.com/users/758765/thomasardal"}, "edited": false, "score": 0, "creation_date": 1571152575, "post_id": 58307202, "comment_id": 103141216, "body": "That was my point. That someone was throwing an exception with that message :) Happy you found the cause \ud83d\udc4d"}], "owner": {"reputation": 216, "user_id": 10590099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wndIR.jpg?s=128&g=1", "display_name": "Dominick", "link": "https://stackoverflow.com/users/10590099/dominick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570633794, "creation_date": 1570633794, "question_id": 58307202, "link": "https://stackoverflow.com/questions/58307202/exception-handling-with-elmah-inner-exception-is-null", "title": "Exception Handling with ELMAH - Inner Exception is NULL", "body": "<p>I just recently got put on a project at my company which uses ELMAH in an C# MVC project that uses .NET 4.6.2.  I've never used ELMAH before so this question may be dumb but I haven't been able to find any answer to this specific issue on this site or via Google.</p>\n\n<p>The project uses ELMAH to log exceptions to a SQL database.  The database table contains fields for the application, host, exception type, source, message, and an AllXml column (among others).  The vast majority of the logged errors I understand and I'm working to debug.</p>\n\n<p>However, semi-regularly there is an exception that is logged with the type <strong>System.Exception</strong>, the source column empty, and the message is simply <strong>Inner exception is null</strong>.  If I check the XML it contains this at the beginning:</p>\n\n<pre><code>&lt;error   host=\"*hostname*\"   \n         type=\"System.Exception\"   \n         message=\"Inner exception is null\"   \n         detail=\"System.Exception: Inner exception is null\"   \n         user=\"*logged in user*\"   \n         time=\"2019-10-09T10:44:07.9624247Z\"&gt;\n</code></pre>\n\n<p>If I dig through the XML more, I can find the exact controller, and method, that is throwing the exception.  However, the specific method does not have a <code>try-catch</code> block.  So I'm assuming that occasional this method is causing an exception which is being caught globally from ELMAH.</p>\n\n<p>My question is, is there some way that I can modify the ELMAH configuration (either from the web.config file, initialization code, etc.) so that if the inner exception is <code>null</code> I can find out what the real exception is?  With the above error information (i.e. just <code>System.Exception</code> and a message of <code>Inner exception is null</code>) I have no way of determine what the cause is.</p>\n\n<p>Any help, suggestions, or links to similarly report issues being resolved, would be greatly appreciated.  Thanks in advance.</p>\n"}, {"tags": ["c#", "fonts"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1570633848, "post_id": 58307171, "comment_id": 102976179, "body": "I&#39;m voting to close this question as off-topic because it is asking for a better way to do working code. ask on <a href=\"https://codereview.stackexchange.com\">Code Review</a>"}, {"owner": {"reputation": 1391, "user_id": 5178801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exq4J.jpg?s=128&g=1", "display_name": "J. Murray", "link": "https://stackoverflow.com/users/5178801/j-murray"}, "edited": false, "score": 0, "creation_date": 1570634004, "post_id": 58307171, "comment_id": 102976258, "body": "@viahero - this seems like an obvious candidate for a loop (0-31) where you use the loop value in the new statement."}], "answers": [{"tags": [], "owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "is_accepted": true, "score": 1, "last_activity_date": 1570634959, "last_edit_date": 1570634959, "creation_date": 1570634762, "answer_id": 58307471, "question_id": 58307171, "link": "https://stackoverflow.com/questions/58307171/how-to-use-fontfamily-in-a-concise-manner/58307471#58307471", "title": "How to Use FontFamily in a concise manner", "body": "<p>You could use a loop as recommended. You could also use <code>Enumerable.Range</code>, which basically creates a loop under the covers, but will put the code into one line. Something like:</p>\n\n<pre><code>using System.Linq;\n\npublic FontFamily[] FontFamilyExt()\n{\n  return Enumerable.Range(0, 32).Select(x =&gt; new FontFamily(_fnt[x])).ToArray();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634879, "creation_date": 1570634879, "answer_id": 58307505, "question_id": 58307171, "link": "https://stackoverflow.com/questions/58307171/how-to-use-fontfamily-in-a-concise-manner/58307505#58307505", "title": "How to Use FontFamily in a concise manner", "body": "<p>You can try this:</p>\n\n<pre><code>public FontFamily[] FontFamilyExt()\n{\n  FontFamily[] f = new FontFamily[32];\n  for ( int index = 0; index &lt;= 31; index++ )\n    f[index] = new FontFamily(_fnt[index]);\n  return f;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12189342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e45c290397653c1c36b61a2c431471f7?s=128&d=identicon&r=PG&f=1", "display_name": "viahero", "link": "https://stackoverflow.com/users/12189342/viahero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58307471, "answer_count": 2, "score": 0, "last_activity_date": 1570634959, "creation_date": 1570633664, "last_edit_date": 1570633859, "question_id": 58307171, "link": "https://stackoverflow.com/questions/58307171/how-to-use-fontfamily-in-a-concise-manner", "title": "How to Use FontFamily in a concise manner", "body": "<p>I'm new to C# programming and I have a function involving FontFamily. The code seems to work fine but I wanted it written in a more concise manner. </p>\n\n<p>I searched online but seems unable to get the right solution. The following code is what I currently have.</p>\n\n<pre><code>public FontFamily[] FontFamilyExt()\n    {\n\n        FontFamily[] f = \n           {new FontFamily(_fnt[0]),\n            new FontFamily(_fnt[1]),\n            new FontFamily(_fnt[2]),\n            new FontFamily(_fnt[3]),\n            new FontFamily(_fnt[4]),\n            new FontFamily(_fnt[5]),\n            new FontFamily(_fnt[6]),\n            new FontFamily(_fnt[7]),\n            new FontFamily(_fnt[8]),\n            new FontFamily(_fnt[9]),\n            new FontFamily(_fnt[10]),\n            new FontFamily(_fnt[11]),\n            new FontFamily(_fnt[12]),\n            new FontFamily(_fnt[13]),\n            new FontFamily(_fnt[14]),\n            new FontFamily(_fnt[15]),\n            new FontFamily(_fnt[16]),\n            new FontFamily(_fnt[17]),\n            new FontFamily(_fnt[18]),\n            new FontFamily(_fnt[19]),\n            new FontFamily(_fnt[20]),\n            new FontFamily(_fnt[21]),\n            new FontFamily(_fnt[22]),\n            new FontFamily(_fnt[23]),\n            new FontFamily(_fnt[24]),\n            new FontFamily(_fnt[25]),\n            new FontFamily(_fnt[26]),\n            new FontFamily(_fnt[27]),\n            new FontFamily(_fnt[28]),\n            new FontFamily(_fnt[29]),\n            new FontFamily(_fnt[30]),\n            new FontFamily(_fnt[31])\n        };\n\n        return f;\n    }\n</code></pre>\n\n<p>I am looking for something that works similarly but uses less codes. Thank you in advance.</p>\n"}, {"tags": ["c#", "class", "oop", "memory", "memory-address"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 2, "creation_date": 1570633525, "post_id": 58307085, "comment_id": 102976026, "body": "its a method call for properties. the values are already in memory there so the clr will just read that one value from memory"}, {"owner": {"reputation": 1163, "user_id": 1169354, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/057265b1085750dc49f9981844434ef6?s=128&d=identicon&r=PG", "display_name": "Filip Vondr&#225;\u0161ek", "link": "https://stackoverflow.com/users/1169354/filip-vondr%c3%a1%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1570633865, "post_id": 58307085, "comment_id": 102976187, "body": "I think you&#39;ve mixed up a few concepts. The class is already in memory, so that&#39;s no issue. It is true, however, that when you want to access a property, the whole class gets loaded into the CPU cache which might cause cache misses."}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 1, "creation_date": 1570634268, "post_id": 58307085, "comment_id": 102976418, "body": "As a general rule, you should not worry about micro-optimizations, such as worrying about the performance of accessing variables from classes and memory. Instead, think about algorithm performance when the data set has the potential to be very large (e.g. millions of records), and benchmark performance when things slow down to potentially optimize those small parts of the program. That&#39;s it. Beyond those situations, code for readability and maintainability alone."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1570635594, "post_id": 58307085, "comment_id": 102977158, "body": "You were told a large number of very wrong or misleading things apparently. I don&#39;t understand what you mean by &quot;read the class into memory&quot;. Can you explain? You seem to be concerned about the time it takes to do things; your best course of action is to <i>measure</i> the amount of time a thing takes if you are concerned about it. But the most important thing here is: you&#39;ve been learning about C# from someone who is teaching you falsehoods. Find a better teacher!"}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "reply_to_user": {"reputation": 1163, "user_id": 1169354, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/057265b1085750dc49f9981844434ef6?s=128&d=identicon&r=PG", "display_name": "Filip Vondr&#225;\u0161ek", "link": "https://stackoverflow.com/users/1169354/filip-vondr%c3%a1%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1570636701, "post_id": 58307085, "comment_id": 102977736, "body": "@FilipVondr&#225;\u0161ek Yeah it&#39;s my bad, I am still trying to learn the terms and the differences between them."}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "reply_to_user": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1570636876, "post_id": 58307085, "comment_id": 102977820, "body": "@Slothario I know that I should optimize my code only when necessary, but I always try to get to the &quot;perfect code&quot; that is highly optimized (It would never happen, but I can&#39;t seem to help it \ud83d\ude05)."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1570652092, "post_id": 58307085, "comment_id": 102984457, "body": "@SagiZiv: Then you&#39;re optimizing for the wrong thing. Remember, when you are writing code professionally the goal is not to make the fastest code or the shortest code. It is to make <i>the code that produces the most value for the least cost</i>. Spending an hour of coding making an operation that takes 10000000 nanoseconds two nanoseconds faster is a bad use of time. Spending an hour of coding making an operation 0.0001% slower but more robust against failure on the user&#39;s machine is a good use of time."}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1570732453, "post_id": 58307085, "comment_id": 103016328, "body": "@SagiZiv If you&#39;re interested in optimizing things I would recommend doing a side project where performance is critical and really measure the heck out of everything to get a sense of what matters and what doesn&#39;t. When performance doesn&#39;t matter (e.g. the piece of code you work on takes only 1% of total processing time), code for readability. Otherwise you&#39;re kind of &quot;cargo cult&quot; programming and not basing assumptions on actual data or experience. I don&#39;t mean to sound rude -- it&#39;s an easy trap to fall into!"}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "edited": false, "score": 0, "creation_date": 1570636424, "post_id": 58307695, "comment_id": 102977602, "body": "Thanks for the detailed answer, it really helped. I didn&#39;t know that C# works this way, I am going to do some more research about it. Thanks again for the great answer"}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": true, "score": 7, "last_activity_date": 1570639091, "last_edit_date": 1570639091, "creation_date": 1570635568, "answer_id": 58307695, "question_id": 58307085, "link": "https://stackoverflow.com/questions/58307085/does-accessing-a-variable-in-c-class-reads-the-entire-class-from-memory/58307695#58307695", "title": "Does accessing a variable in C# class reads the entire class from memory?", "body": "<p><strong>Short answer</strong></p>\n\n<p>No. </p>\n\n<p><strong>Less short answer</strong></p>\n\n<p>The compiler creates members tables when it creates intermediate language code (the .NET assembly language or IL) and when you access a class member, it indicates in the code the exact offset to be added to the reference (the memory base address of the instance) of this member.</p>\n\n<p>For example (in simplified shorthand), if the reference of an instance of an object is at the memory address 0x12345600, and the offset of a member <code>int Value</code> is 0x00000010, then the CLR will get an instruction to execute to fetch the contents of the zone in 0x12345610.</p>\n\n<p>So it is not needed to parse the entire class structure in the memory.</p>\n\n<p><strong>Long answer</strong></p>\n\n<p>Here is the IL code of your Main method from ILSpy:</p>\n\n<pre><code>// Method begins at RVA 0x2e64\n// Code size 30 (0x1e)\n.maxstack 1\n.locals init (\n  [0] class ConsoleApp.Program/MainClass main\n)\n\n// (no C# code)\nIL_0000: nop\n// MainClass mainClass = new MainClass(new Test());\nIL_0001: newobj instance void ConsoleApp.Program/Test::.ctor()\nIL_0006: newobj instance void ConsoleApp.Program/MainClass::.ctor(class ConsoleApp.Program/Test)\nIL_000b: stloc.0\n// Console.WriteLine(mainClass.test.toAccess);\nIL_000c: ldloc.0\nIL_000d: ldfld class ConsoleApp.Program/Test ConsoleApp.Program/MainClass::test\nIL_0012: ldfld int32 ConsoleApp.Program/Test::toAccess\nIL_0017: call void [mscorlib]System.Console::WriteLine(int32)\n// (no C# code)\nIL_001c: nop\n// }\nIL_001d: ret\n</code></pre>\n\n<p>As you can see, the WriteLine instruction get the value to write using:</p>\n\n<pre><code>IL_000d: ldfld class ConsoleApp.Program/Test ConsoleApp.Program/MainClass::test\n</code></pre>\n\n<p>=> Here it loads the base memory address of the <code>test</code> instance (a reference is an hidden pointer to forget to manage it)</p>\n\n<pre><code>IL_0012: ldfld int32 ConsoleApp.Program/Test::toAccess\n</code></pre>\n\n<p>=> Here it loads the offset of the memory address of the <code>toAccess</code> field.    </p>\n\n<p>Next the <code>WriteLine</code> is called by passing the parameter needed that is the content of the <code>base + offset</code> Int32 memory zone: the value is pushed in the stack (ldfld) and the called method will pop this stack to get the parameter (ldarg).</p>\n\n<p>In the WriteLine you will have this instruction to get the parameter value:</p>\n\n<pre><code>ldarg.1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "edited": false, "score": 0, "creation_date": 1570636509, "post_id": 58307832, "comment_id": 102977648, "body": "Thank you for the great and detailed answer, it really helps me. I guess I need to do some more research about C#."}, {"owner": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 0, "creation_date": 1570720342, "post_id": 58307832, "comment_id": 103010629, "body": "&quot;... adding the <code>in</code> modifier on a parameter can <i>introduce</i> copying if the input type is a <code>struct</code> that is not marked <code>readonly</code> ...&quot;. But if you do not use the <code>in</code> modifier, wouldn&#39;t the struct be copied anyway?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 1, "creation_date": 1570722021, "post_id": 58307832, "comment_id": 103011581, "body": "@LucaCremonesi true, indeed; I guess what I mean is: &quot;don&#39;t <i>assume</i> that <code>in</code> always avoids the copy&quot; - in fact, just the other day I changed some &quot;<code>in this</code>&quot;  extension methods to &quot;<code>ref this</code>&quot;, because the <code>struct</code> in questions wasn&#39;t <code>readonly</code> on all my targeted TFMs (<code>ArraySegment&lt;T&gt;</code>, IIRC)"}, {"owner": {"reputation": 3525, "user_id": 1440433, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/mKFTJ.jpg?s=128&g=1", "display_name": "Joker_vD", "link": "https://stackoverflow.com/users/1440433/joker-vd"}, "edited": false, "score": 0, "creation_date": 1570736235, "post_id": 58307832, "comment_id": 103017938, "body": "What goes for &quot;big struct&quot; nowadays? 128 bytes and larger?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 3525, "user_id": 1440433, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/mKFTJ.jpg?s=128&g=1", "display_name": "Joker_vD", "link": "https://stackoverflow.com/users/1440433/joker-vd"}, "edited": false, "score": 0, "creation_date": 1570737200, "post_id": 58307832, "comment_id": 103018332, "body": "@Joker_vD depends on how &quot;hot&quot; a path it is, and what measurement shows"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 9, "last_activity_date": 1570657949, "last_edit_date": 1570657949, "creation_date": 1570635993, "answer_id": 58307832, "question_id": 58307085, "link": "https://stackoverflow.com/questions/58307085/does-accessing-a-variable-in-c-class-reads-the-entire-class-from-memory/58307832#58307832", "title": "Does accessing a variable in C# class reads the entire class from memory?", "body": "<p>For <em>classes</em>, this literally doesn't make any difference; you're always just dealing with a reference and an offset from that reference. Passing a reference is plenty cheap.</p>\n\n<p>When it <em>does</em> start to matter is with <em>structs</em>. Note that this doesn't impact <em>calling methods on the type</em> - that is a ref-based static call, typically; but when the struct <em>is a parameter</em> to a method, it matters.</p>\n\n<p>(edit: actually, it also matters when calling methods on structs <em>if</em> you're calling them via a boxing operation, as a box is also a copy; that's a great reason to avoid boxed calls!)</p>\n\n<p>Disclaimer: you <em>probably</em> shouldn't be routinely using structs.</p>\n\n<p>For structs, the value takes that much space <strong>wherever it is used as a value</strong>, which could be as a field, a local on the stack, a <em>parameter</em> to a method, etc. This also means that <em>copying</em> the struct (for example, to pass as a parameter) can be expensive. But if we take an example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>struct MyBigStruct {\n   // lots of fields here\n}\n\nvoid Foo() {\n    MyBigStruct x = ...\n    Bar(x);\n}\nvoid Bar(MyBigStruct s) {...}\n</code></pre>\n\n<p>then at the point when we call <code>Bar(x)</code>, we <strong>copy</strong> the struct on the stack. Likewise whenever a local is used for storage (assuming it isn't boiled away by the compiler):</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>MyBigStruct x = ...\nMyBigStruct asCopy = x;\n</code></pre>\n\n<p>But! we can fix these things... by passing a <em>reference</em> around instead. In current versions of C#, this is done most appropriately using <code>in</code>, <code>ref readonly</code>, and <code>readonly struct</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>readonly struct MyBigStruct {\n   // lots of readonly fields here\n}\nvoid Foo() {\n    MyBigStruct x = ...\n    Bar(x); // note that \"in\" is implicit when needed, unlike \"ref\" or \"out\"\n    ref readonly MyBigStruct asRef = ref x;\n}\nvoid Bar(in MyBigStruct s) {...}\n</code></pre>\n\n<p>Now there are <em>zero</em> actual copies. Everything here is dealing with references to the original <code>x</code>. The fact that it is <code>readonly</code> means that the runtime knows that it can trust the <code>in</code> declaration on the parameter, without needing a defensive copy of the value.</p>\n\n<p>Ironically, perhaps: adding the <code>in</code> modifier on a parameter can <em>introduce</em> copying if the input type is a <code>struct</code> that is not marked <code>readonly</code>, as the compiler and runtime need to guarantee that changes made inside <code>Bar</code> won't be visible to the caller. Those changes need not be obvious - any method call (which includes property getters and some operators) can mutate the value, if the type is evil. As an evil example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>struct Evil\n{\n    private int _count;\n    public int Count =&gt; _count++;\n}\n</code></pre>\n\n<p>The job of the compiler and runtime is to work predictably <em>even if</em> you are evil, hence it adds a defensive copy of the struct. The same code with the <code>readonly</code> modifier on the struct <em>will not compile</em>.</p>\n\n<hr>\n\n<p>You can also do something similar to <code>in</code> with <code>ref</code> if the type isn't <code>readonly</code>, but then you need to be aware that if <code>Bar</code> mutates the value (deliberately or as a side-effect), those changes will be visible to <code>Foo</code>.</p>\n"}], "owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 58307695, "answer_count": 2, "score": 2, "last_activity_date": 1572952209, "creation_date": 1570633362, "last_edit_date": 1572952209, "question_id": 58307085, "link": "https://stackoverflow.com/questions/58307085/does-accessing-a-variable-in-c-class-reads-the-entire-class-from-memory", "title": "Does accessing a variable in C# class reads the entire class from memory?", "body": "<p>I am pretty new to c# and I have one question the bothers me for a while.</p>\n\n<p>When I learned C# I was taught that a class shouldn't contain a lot of variables because then reading a variable (or invoking a method from it) would be slow.</p>\n\n<p>I was told that when I access a variable in class C# it would read the entire class from memory in order to read the variable data, but it sounds weird and wrong to me.</p>\n\n<p>For example, if I have this class:</p>\n\n<pre><code>public class Test\n{\n    public int toAccess; // 32 bit\n    private byte someValue; // 8 bit\n    private short anotherValue; // 16 bit\n} \n</code></pre>\n\n<p>Then accessing it from main:</p>\n\n<pre><code>public class MainClass\n{\n    private Test test;\n    public MainClass(Test test)\n    {\n        this.test = test;\n    }\n    public static void Main(string[] args)\n    {\n        var main = new MainClass(new Test());\n        Console.WriteLine(main.test.toAccess); // Would read all 56 bit of the class\n    }\n}\n</code></pre>\n\n<p><strong>My questions is: Is it actually true\u00bf Does the entire class is read when accessing a variable\u00bf</strong></p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 587, "user_id": 1071368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514a073c0b27d605db1f3fcccf9d8993?s=128&d=identicon&r=PG", "display_name": "Serdar", "link": "https://stackoverflow.com/users/1071368/serdar"}, "edited": false, "score": 0, "creation_date": 1570636477, "post_id": 58307062, "comment_id": 102977633, "body": "What is the return type of <code>_userManager.GetUserAsync(HttpContext.User);</code> ? Is it task? Also, are you that the error occures in this code? Can you debug and make sure it ?"}], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "edited": false, "score": 0, "creation_date": 1570635470, "post_id": 58307104, "comment_id": 102977078, "body": "When I did this <code>ViewData[&quot;ProductId&quot;] = new SelectList(_context.Products.Where(p =&gt; p.applicationUserId == currentUser.Id), &quot;ProductId&quot;, &quot;ProductName&quot;); </code>  I got error <code>operator &quot;==&quot; cannot be applied to operand &#39;string&#39; and &#39;int&#39; </code>"}, {"owner": {"reputation": 587, "user_id": 1071368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514a073c0b27d605db1f3fcccf9d8993?s=128&d=identicon&r=PG", "display_name": "Serdar", "link": "https://stackoverflow.com/users/1071368/serdar"}, "reply_to_user": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "edited": false, "score": 0, "creation_date": 1570635701, "post_id": 58307104, "comment_id": 102977213, "body": "I believe your applicationUserId defined as string then? So you can do something like <code>string userId = currentUser.Id.ToString(); ViewData[&quot;ProductId&quot;] = new SelectList(_context.Products.Where(p =&gt; p.applicationUserId == userId), &quot;ProductId&quot;, &quot;ProductName&quot;);</code>"}, {"owner": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "edited": false, "score": 0, "creation_date": 1570635838, "post_id": 58307104, "comment_id": 102977281, "body": "Now I am matching the store id and the current userId. It works for one but when I added the other selectlist code,  I got `InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.&#39;"}, {"owner": {"reputation": 587, "user_id": 1071368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514a073c0b27d605db1f3fcccf9d8993?s=128&d=identicon&r=PG", "display_name": "Serdar", "link": "https://stackoverflow.com/users/1071368/serdar"}, "reply_to_user": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "edited": false, "score": 0, "creation_date": 1570635909, "post_id": 58307104, "comment_id": 102977315, "body": "Can you update the question with the code? It will be more easy to follow up"}], "tags": [], "owner": {"reputation": 587, "user_id": 1071368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514a073c0b27d605db1f3fcccf9d8993?s=128&d=identicon&r=PG", "display_name": "Serdar", "link": "https://stackoverflow.com/users/1071368/serdar"}, "is_accepted": false, "score": 3, "last_activity_date": 1570633449, "creation_date": 1570633449, "answer_id": 58307104, "question_id": 58307062, "link": "https://stackoverflow.com/questions/58307062/how-to-get-selectlist-for-the-current-user/58307104#58307104", "title": "How to get SelectList for the current user", "body": "<p>The foreign key you used in your query is wrong.</p>\n\n<pre><code>ViewData[\"ProductId\"] = new SelectList(_context.Products.Where(p =&gt; p.ProductId == currentUser.Id), \"ProductId\", \"ProductName\");\n</code></pre>\n\n<p>instead of this it should be like,</p>\n\n<pre><code>ViewData[\"ProductId\"] = new SelectList(_context.Products.Where(p =&gt; p.UserId == currentUser.Id), \"ProductId\", \"ProductName\");\n</code></pre>\n\n<p>The field name depends on your table structure.</p>\n"}, {"comments": [{"owner": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "edited": false, "score": 0, "creation_date": 1570639424, "post_id": 58308054, "comment_id": 102978978, "body": "Thanks, Its working fine now. I added updated the return to async Task <code>public async Task&lt;IActionResult&gt; Create()</code>"}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1570636796, "creation_date": 1570636796, "answer_id": 58308054, "question_id": 58307062, "link": "https://stackoverflow.com/questions/58307062/how-to-get-selectlist-for-the-current-user/58308054#58308054", "title": "How to get SelectList for the current user", "body": "<p>The problem is that you're not awaiting the first query, so the subsequent queries are being issued before the first has been completed. In other words, you need to add the <code>await</code> keyword.</p>\n\n<pre><code>var currentUser = await _userManager.GetUserAsync(HttpContext.User);\n</code></pre>\n\n<p>However, since all you're after here is the user's id, it's not necessary to go to the database for that. Just do:</p>\n\n<pre><code>var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "is_accepted": false, "score": 0, "last_activity_date": 1570639687, "creation_date": 1570639687, "answer_id": 58308799, "question_id": 58307062, "link": "https://stackoverflow.com/questions/58307062/how-to-get-selectlist-for-the-current-user/58308799#58308799", "title": "How to get SelectList for the current user", "body": "<p>Thanks,\nThe two suggestions from @serdar and @chris-pratt helped me to fix my code.</p>\n\n<p>I later came out with</p>\n\n<pre><code>  public async Task&lt;IActionResult&gt; Create()\n        {\n            var currentUser = await _userManager.GetUserAsync(HttpContext.User);\n\n            string userId = currentUser.Id.ToString();\n            ViewData[\"CustomerId\"] = new SelectList(_context.Customers.Where(c =&gt; c.ApplicationUserId == userId), \"ID\", \"Name\");\n\n            ViewData[\"CategoryId\"] = new SelectList(_context.Categories.Where(p =&gt; p.ApplicationUserId == userId), \"CategoryId\", \"CategoryName\");\n\n            ViewData[\"ProductId\"] = new SelectList(_context.Products.Where(p =&gt; p.ApplicationUserId == userId), \"ProductId\", \"ProductName\");\n\n\n\n            return View();\n        }\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 11042820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3703fd5964805e800b35272e29a33ce1?s=128&d=identicon&r=PG&f=1", "display_name": "techstack", "link": "https://stackoverflow.com/users/11042820/techstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1570639687, "creation_date": 1570633276, "last_edit_date": 1570636209, "question_id": 58307062, "link": "https://stackoverflow.com/questions/58307062/how-to-get-selectlist-for-the-current-user", "title": "How to get SelectList for the current user", "body": "<p>I am trying to get the selectlist of customers/products/categories from the database. the selectlist will only show the selectlist of customer/product/categories of the current user/current logged in user.</p>\n\n<p>But I am only getting the first item belonging to the current logged user.</p>\n\n<p>In the database, each users has applicationUserId</p>\n\n<p>I am supposed to get all the list of customer/category/product of the current user in a selectlist</p>\n\n<pre><code> public IActionResult Create()\n        {\n            var currentUser = _userManager.GetUserAsync(HttpContext.User);\n\n            ViewData[\"CustomerId\"] = new SelectList(_context.Customers.Where(c =&gt; c.ID == currentUser.Id), \"ID\", \"Name\") ;\n\n\n            ViewData[\"ProductId\"] = new SelectList(_context.Products.Where(p =&gt; p.ProductId == currentUser.Id), \"ProductId\", \"ProductName\");\n\n\n            ViewData[\"CategoryId\"] = new SelectList(_context.Categories.Where(p =&gt;p.CategoryId == currentUser.Id) , \"CategoryId\", \"CategoryName\");\n\n            return View();\n        }\n</code></pre>\n\n<p>Updated code</p>\n\n<pre><code> public IActionResult Create()\n        {\n            var currentUser = _userManager.GetUserAsync(HttpContext.User);\n\n            string userId = currentUser.Id.ToString();\n            ViewData[\"CustomerId\"] = new SelectList(_context.Customers.Where(c =&gt; c.ApplicationUserId == userId), \"ID\", \"Name\");\n\n            ViewData[\"ProductId\"] = new SelectList(_context.Categories.Where(p =&gt; p.ApplicationUserId == userId), \"ProductId\", \"ProductName\");\n\n            ViewData[\"ProductId\"] = new SelectList(_context.Products.Where(p =&gt; p.ApplicationUserId == userId), \"ProductId\", \"ProductName\");\n\n            return View();\n        }\n</code></pre>\n\n<p>after updating the code, I got</p>\n\n<pre><code>InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.\n</code></pre>\n"}, {"tags": ["c#", "winforms", "windows-services"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1570633269, "post_id": 58307022, "comment_id": 102975891, "body": "<i>Someone have any idea why it doesn&#39;t work ?</i> Because it is running as different user than logged? Because it doesn&#39;t have &quot;interaction with desktop&quot;(or something like this) check checked?"}, {"owner": {"reputation": 436, "user_id": 10863293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54999e205074410edff75a2756950d82?s=128&d=identicon&r=PG&f=1", "display_name": "user10863293", "link": "https://stackoverflow.com/users/10863293/user10863293"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1570633579, "post_id": 58307022, "comment_id": 102976046, "body": "It&#39;s my first Windows service I don&#39;t know where can I do that ?"}, {"owner": {"reputation": 7529, "user_id": 47733, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8d29a2ec53709fb1a607e6203a6210fa?s=128&d=identicon&r=PG", "display_name": "lsalamon", "link": "https://stackoverflow.com/users/47733/lsalamon"}, "edited": false, "score": 0, "creation_date": 1570635152, "post_id": 58307022, "comment_id": 102976894, "body": "Try using impersonation to launch app."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1570637791, "post_id": 58307022, "comment_id": 102978273, "body": "You&#39;re going in the wrong direction; Services have no UIs and cannot interact with users. If you told us why you think you need to do this we may be able to point you in the correct direction."}, {"owner": {"reputation": 436, "user_id": 10863293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54999e205074410edff75a2756950d82?s=128&d=identicon&r=PG&f=1", "display_name": "user10863293", "link": "https://stackoverflow.com/users/10863293/user10863293"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1570693905, "post_id": 58307022, "comment_id": 102995608, "body": "@DourHighArch I need to have a timeout in my service to ask every 10min to the user if the user is active or not with a windows form"}], "answers": [{"tags": [], "owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634831, "creation_date": 1570634831, "answer_id": 58307488, "question_id": 58307022, "link": "https://stackoverflow.com/questions/58307022/how-to-launch-a-windows-form-in-an-application-from-windows-service/58307488#58307488", "title": "How to launch a windows form in an application from Windows service?", "body": "<p>Windows services are not allowed to interact with the desktop <a href=\"https://docs.microsoft.com/en-us/windows/win32/services/interactive-services\" rel=\"nofollow noreferrer\"> since Windows Vista. </a>  This was for many reasons.  The checkbox is a legacy thing.</p>\n\n<p>How do you launch stuff from a service then? You don't. That isn't how a service is supposed to work.  </p>\n\n<p>On the other hand, you can run a background process as the user to accomplish the same thing.</p>\n\n<p>You can do this by starting your \"service\" via the registry, startup folder, or task scheduler.</p>\n"}], "owner": {"reputation": 436, "user_id": 10863293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54999e205074410edff75a2756950d82?s=128&d=identicon&r=PG&f=1", "display_name": "user10863293", "link": "https://stackoverflow.com/users/10863293/user10863293"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572550711, "creation_date": 1570633118, "last_edit_date": 1572550711, "question_id": 58307022, "link": "https://stackoverflow.com/questions/58307022/how-to-launch-a-windows-form-in-an-application-from-windows-service", "title": "How to launch a windows form in an application from Windows service?", "body": "<p>I create a windows form application and a windows service, I can start my service from my windows form but if I try too launch the windows form application it doesn't work.</p>\n\n<p>To launch my application I use <code>System.Process.Start</code>, I see in <strong>Task Manager</strong> in tab <strong>processes</strong> my windows form application name but it doesn't show my form.</p>\n\n<pre><code>public partial class testService: ServiceBase\n{\n    Timer tm = new Timer();\n    int n = 0;\n\n    public testService()\n    {\n        InitializeComponent();\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        tm.Interval = 10000;\n        tm.Elapsed += Tm_Elapsed;\n        tm.Start();\n    }\n\n    private void Tm_Elapsed(object sender, ElapsedEventArgs e)\n    {\n        if (n == 2)\n        {\n            try\n            {\n               ProcessStartInfo info = new ProcessStartInfo(@\"pathName\\appName.exe\");\n               info.WorkingDirectory = Path.GetDirectoryName(@\"pathName\");\n               Process.Start(info);\n            }\n            catch (Exception exception)\n            {\n                Log.writeEventLog(exception.Message);\n            }\n\n            var service = new ServiceController(\"testService\");\n            service.Stop();\n        }\n        n++;\n    }\n\n    protected override void OnStop()\n    {\n        tm.Stop();\n    }\n}\n</code></pre>\n\n<p>Someone have any idea why it doesn't work ?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I need to do that because I have to ask with a windows form every 10min if the user is active or not.</p>\n"}, {"tags": ["c#", "winforms", "listview"], "comments": [{"owner": {"reputation": 2672, "user_id": 1084036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0e5053ed25dc99ef48d12ff8d46a5d2?s=128&d=identicon&r=PG", "display_name": "Azhar Khorasany", "link": "https://stackoverflow.com/users/1084036/azhar-khorasany"}, "edited": false, "score": 0, "creation_date": 1570632560, "post_id": 58306790, "comment_id": 102975467, "body": "instead of SelectedItems[0], check whether you can grab the index from the EventArgs e. Something like e.Index or something else? and use it in SelectedItems[e.Index]"}, {"owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "reply_to_user": {"reputation": 2672, "user_id": 1084036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0e5053ed25dc99ef48d12ff8d46a5d2?s=128&d=identicon&r=PG", "display_name": "Azhar Khorasany", "link": "https://stackoverflow.com/users/1084036/azhar-khorasany"}, "edited": false, "score": 0, "creation_date": 1570632887, "post_id": 58306790, "comment_id": 102975671, "body": "I am going to give this a try, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 0, "creation_date": 1570632836, "post_id": 58306893, "comment_id": 102975643, "body": "that&#39;s what I thought, but it seems like white space clicks are handled by the is not null check, I just do it a little differently.  I am definitely making a selection on a list view item."}, {"owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 0, "creation_date": 1570632990, "post_id": 58306893, "comment_id": 102975732, "body": "oh wait, I see what you mean. Because the declaration is failing it never makes it to the null check."}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "reply_to_user": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 1, "creation_date": 1570633302, "post_id": 58306893, "comment_id": 102975903, "body": "@Ray Delien: you are trying to get <code>0</code>th item from the <i>empty</i> collection, since the collection <i>doesn&#39;t have</i> <code>0</code>th item (it&#39;s empty) you have the exception thrown"}, {"owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 0, "creation_date": 1570633545, "post_id": 58306893, "comment_id": 102976035, "body": "[not challenging just learning] How could the collection be empty when the event is triggered by selecting a list box item?"}, {"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "reply_to_user": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 1, "creation_date": 1570633746, "post_id": 58306893, "comment_id": 102976133, "body": "@Ray Delien: please, note, that event is <code>SelectedIndexChanged</code>, so when you <i>unselect</i> an item <code>SelectedIndex</code> <i>changes</i> from, say, <code>123</code> (previously selected item index) to <code>-1</code> (no items are selected) and the event will be fired (with empty <code>list.SelectedItems</code> collection)"}, {"owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "edited": false, "score": 0, "creation_date": 1570706934, "post_id": 58306893, "comment_id": 103002458, "body": "You were right, I am now able to select items normally."}], "tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1570707487, "last_edit_date": 1570707487, "creation_date": 1570632723, "answer_id": 58306893, "question_id": 58306790, "link": "https://stackoverflow.com/questions/58306790/error-when-selecting-second-item-from-listview-c/58306893#58306893", "title": "Error when selecting second item from ListView C#", "body": "<p>It's possible, that <em>no items</em> are selected, and thus <code>list.SelectedItems</code> is <em>empty</em>; you are tring to get <code>0</code>th item from the <em>empty</em> collection and thus have the <em>exception thrown</em>. The quick patch is</p>\n\n<pre><code> // instead of original\n // ListViewItem selection = listInstruments.SelectedItems[0];\n ListViewItem selection = list.SelectedItems.Count &gt; 0 \n   ? listInstruments.SelectedItems[0] // the collection has at least one item\n   : null;                            // if the collection is empty\n</code></pre>\n\n<p>Or we can check if we have a selection and <code>return</code> when there's none </p>\n\n<pre><code> private void ListInstruments_SelectedIndexChanged(object sender, EventArgs e)\n {\n    if (list.SelectedItems.Count &lt;= 0)   \n        return; \n\n    listViewItem selection = listInstruments.SelectedItems[0];\n\n    string strSelection = selection.Name;\n    SelectedInstrumentID = Convert.ToDecimal(strSelection);\n    LoadSelectedInstrument();  \n }\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10256922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsaSg5pWp1I/AAAAAAAAAAI/AAAAAAAAADM/pdzlKn55GLI/photo.jpg?sz=128", "display_name": "Ray Delien", "link": "https://stackoverflow.com/users/10256922/ray-delien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570707487, "creation_date": 1570632409, "last_edit_date": 1570634389, "question_id": 58306790, "link": "https://stackoverflow.com/questions/58306790/error-when-selecting-second-item-from-listview-c", "title": "Error when selecting second item from ListView C#", "body": "<p>I have a list view with the multiselect property set to false. When the user clicks on it, I take the NAME property of the list view item and convert it to a decimal then feed that to a method that loads the correct record. </p>\n\n<p>The code below works perfectly when I select one item regardless of how many items are in the list and regardless of which item I select. </p>\n\n<pre><code>        private void ListInstruments_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            ListViewItem selection = listInstruments.SelectedItems[0];\n            if (selection != null)\n            {\n                 string strSelection = selection.Name;\n                 SelectedInstrumentID = Convert.ToDecimal(strSelection);\n                 LoadSelectedInstrument();                \n            }\n        }\n</code></pre>\n\n<p>When I make a second selection (not multi-select, but a different selection from the listbox) I get an error referencing <code>listInstruments.SelectedItems[0]</code>.</p>\n\n<blockquote>\n  <p>System.ArgumentOutOfRangeException Message=InvalidArgument=Value of\n  '0' is not valid for 'index'. Parameter name: index\n  Source=System.Windows.Forms</p>\n</blockquote>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "config"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "edited": false, "score": 0, "creation_date": 1570633418, "post_id": 58306903, "comment_id": 102975968, "body": "Is there really no better way to do this than manually? Seems to negate the efficiency in using .Bind() in the first place."}, {"owner": {"reputation": 1958, "user_id": 1105777, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/67b4f0afef130aee5571760e60ad16b2?s=128&d=identicon&r=PG", "display_name": "Vincent", "link": "https://stackoverflow.com/users/1105777/vincent"}, "reply_to_user": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "edited": false, "score": 0, "creation_date": 1570633648, "post_id": 58306903, "comment_id": 102976081, "body": "I feel you. But i think at some point you do have to validate somehow anyway..."}], "tags": [], "owner": {"reputation": 1958, "user_id": 1105777, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/67b4f0afef130aee5571760e60ad16b2?s=128&d=identicon&r=PG", "display_name": "Vincent", "link": "https://stackoverflow.com/users/1105777/vincent"}, "is_accepted": true, "score": 0, "last_activity_date": 1570633489, "last_edit_date": 1570633489, "creation_date": 1570632761, "answer_id": 58306903, "question_id": 58306713, "link": "https://stackoverflow.com/questions/58306713/forcing-iconfigurationbuilder-bind-to-throw-an-error-when-it-fails-to-bind-an/58306903#58306903", "title": "Forcing IConfigurationBuilder.Bind() to throw an error when it fails to Bind an object", "body": "<p>Validate the object \"By Hand\" before binding the object.</p>\n\n<p>Loop through the values of the config as string first. See if they match an existing item in the enum. Using the IsDefined function.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.enum.isdefined?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.enum.isdefined?view=netframework-4.8</a></p>\n\n<p>If not throw an exception.</p>\n\n<p>If all items are in the enum use the Bind method as usual.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public static bool ValidateConfig(object jsonConfig)\n    {\n         foreach (string item in jsonConfig) // loop through the config items as string\n         {\n             if (!Enum.IsDefined(typeof(CustomItem), item))\n             {\n                  throw new Exception(\"Enum value does not exist.\");\n             }\n         }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "edited": false, "score": 0, "creation_date": 1570644859, "post_id": 58307112, "comment_id": 102981486, "body": "Thank you for the article ref, its definitely helpful, although i wish the part where he said it throws an error were actually true :( But based on this though I&#39;d still have to change the property to be of type string in order to get the Bind to work initially, and then check if that string matches the enum right? And then id have to convert it to the enum whenever I want to use it in code"}], "tags": [], "owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634092, "last_edit_date": 1570634092, "creation_date": 1570633475, "answer_id": 58307112, "question_id": 58306713, "link": "https://stackoverflow.com/questions/58306713/forcing-iconfigurationbuilder-bind-to-throw-an-error-when-it-fails-to-bind-an/58307112#58307112", "title": "Forcing IConfigurationBuilder.Bind() to throw an error when it fails to Bind an object", "body": "<p>Based on this <a href=\"https://andrewlock.net/adding-validation-to-strongly-typed-configuration-objects-in-asp-net-core/\" rel=\"nofollow noreferrer\">post</a>:</p>\n\n<blockquote>\n  <p>The ASP.NET Core configuration system is very flexible and allows you\n  to use strongly typed settings. However, partly due to this\n  flexibility, it's possible to have configuration errors that only\n  appear in certain environments. By default, these errors will only be\n  discovered when your code attempts to use an invalid configuration\n  value (if at all). </p>\n  \n  <p>You could use an <code>IStartupFilter</code> to validate your settings when your\n  app starts up. This ensures you learn about configuration errors as\n  soon as possible, instead of at run-time.</p>\n</blockquote>\n\n<p>So at first you need to create an <code>interface</code> like this:</p>\n\n<pre><code>public interface IValidatable\n{\n    void Validate();\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>public class SettingValidationStartupFilter : IStartupFilter\n{\n    readonly IEnumerable&lt;IValidatable&gt; _validatableObjects;\n    public SettingValidationStartupFilter(IEnumerable&lt;IValidatable&gt; validatableObjects)\n    {\n        _validatableObjects = validatableObjects;\n    }\n\n    public Action&lt;IApplicationBuilder&gt; Configure(Action&lt;IApplicationBuilder&gt; next)\n    {\n        foreach (var validatableObject in _validatableObjects)\n        {\n            validatableObject.Validate();\n        }\n\n        //don't alter the configuration\n        return next;\n    }\n}\n</code></pre>\n\n<p>Then you need to register the filter with the DI container:</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)  \n{\n    services.AddTransient&lt;IStartupFilter, SettingValidationStartupFilter&gt;()\n    // other service configuration\n}\n</code></pre>\n\n<p>And finally, you need to implement the <code>IValidatable</code> interface on your settings that you want to validate at startup:</p>\n\n<pre><code>public class myObject : IValidatable\n{\n    public CustomEnum myEnum { get; set; }\n\n    public void Validate()\n    {\n        //Do your validation here\n        Validator.ValidateObject(this, new ValidationContext(this), validateAllProperties: true);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Whichever approach you use, the Validate() method throws an exception if there is a problem with your configuration and binding.</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 9870924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d92ecd7a64b92ed1eaf335bca88c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Awk11", "link": "https://stackoverflow.com/users/9870924/awk11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 58306903, "answer_count": 2, "score": 0, "last_activity_date": 1570729377, "creation_date": 1570632150, "last_edit_date": 1570729377, "question_id": 58306713, "link": "https://stackoverflow.com/questions/58306713/forcing-iconfigurationbuilder-bind-to-throw-an-error-when-it-fails-to-bind-an", "title": "Forcing IConfigurationBuilder.Bind() to throw an error when it fails to Bind an object", "body": "<p>I have a console app where I'm trying to bind a config section into a list of a custom object type as such:</p>\n\n<pre><code>List&lt;myObject&gt; myObjectList = new List&lt;myObject&gt;();\nconfig.GetSection(\"Objects\").Bind(myObjectList);\n</code></pre>\n\n<pre><code>public enum CustomEnum{\n     One,\n     Two\n}\n\npublic class myObject{\n    public CustomEnum myEnum { get; set; }\n}\n</code></pre>\n\n<p>My issue is that if in the config file, you don't give a proper enum value for that property (ie Three instead of One or Two as shown above), it will fail to bind the object, and wont throw an error telling you that it failed. So basically how can I make it so I know a bind failed because of an improper config value? Right now it just doesn't bind those specific ones that fail, meaning there's no real way to know there are items missing.</p>\n\n<p>Example config that successfully binds one object but fails and ignores the other:</p>\n\n<pre><code>{\n   \"Objects\": [\n      {\n         \"myEnum\": \"One\"\n      },\n      {\n         \"myEnum\": \"Three\"\n      }\n   ]\n}\n</code></pre>\n\n<p>EDIT: So for future reference for anyone finding this, there basically is no good solution. You just need a manual check, or to not use enums at all in your config.</p>\n"}, {"tags": ["c#", "c++", "wcf", "ssl"], "comments": [{"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1570632557, "post_id": 58306664, "comment_id": 102975465, "body": "use a library like openssl or crypto++"}, {"owner": {"reputation": 1, "user_id": 11535559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7040ba483fddb80215f09f4791144188?s=128&d=identicon&r=PG&f=1", "display_name": "Viralkumar", "link": "https://stackoverflow.com/users/11535559/viralkumar"}, "reply_to_user": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1570635320, "post_id": 58306664, "comment_id": 102976990, "body": "Thanks Alan for your suggestion.  i used Openssl but i am facing issue to read PFX as it is created with private key. how to use password with openssl API X509_ptr cert(PEM_read_bio_X509(input.get(), NULL, 0, NULL), X509_free);"}, {"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1570637972, "post_id": 58306664, "comment_id": 102978342, "body": "pass a password callback into <a href=\"https://www.openssl.org/docs/man1.1.0/man3/PEM_read_bio_X509.html\" rel=\"nofollow noreferrer\">PEM_read_bio_X509</a>"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "edited": false, "score": 0, "creation_date": 1570700864, "post_id": 58306664, "comment_id": 102999272, "body": "Please refer to the below link, it might be useful to you. <a href=\"https://stackoverflow.com/questions/8058510/access-x509-certificate-store-with-unmanaged-c\" title=\"access x509 certificate store with unmanaged c\">stackoverflow.com/questions/8058510/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 11535559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7040ba483fddb80215f09f4791144188?s=128&d=identicon&r=PG&f=1", "display_name": "Viralkumar", "link": "https://stackoverflow.com/users/11535559/viralkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570633871, "creation_date": 1570631963, "last_edit_date": 1570633871, "question_id": 58306664, "link": "https://stackoverflow.com/questions/58306664/how-to-read-pfx-file-into-x509-in-native-c-and-pass-this-certificate-to-c-app", "title": "How to read PFX file into X509 in Native C++ and pass this certificate to c# application", "body": "<p>I have a client-server application where my client application is in C# (WPF) written and the server application is a WCF service.</p>\n\n<p>Client application uses SSL certificate with WCF service call and WCF service uses the same certificate to authenticate the client.</p>\n\n<p>I am using in C# API <code>X509Certificate2(byte[] rawData, SecureString password)</code> to read <code>PFX</code> file and pass this certificate instance in each WCF service call. It is working fine.</p>\n\n<p>My requirement is to move certificate creation logic to native C++.<br>\ni.e.: <em>Read PFX in C++, generate certificate object and pass it to C# application.</em></p>\n\n<p><code>C# Application ---&gt; C++ CLI ---&gt; C++ Native</code></p>\n\n<p>Please help me how can I make it possible.</p>\n\n<p>Thanks,<br>\nViralkumar Mistry</p>\n"}, {"tags": ["c#", ".net", "class", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "edited": false, "score": 0, "creation_date": 1570633562, "post_id": 58306721, "comment_id": 102976040, "body": "It would have been, but I have to work with what was provided to me lol. I got a System.FormatExeption: &quot;String was not recognized as a valid DateTime&quot;."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "reply_to_user": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "edited": false, "score": 0, "creation_date": 1570634149, "post_id": 58306721, "comment_id": 102976348, "body": "Try with a single <code>M</code> as you don&#39;t have leading zeros on the month part."}, {"owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "edited": false, "score": 0, "creation_date": 1570645706, "post_id": 58306721, "comment_id": 102981876, "body": "No luck with the single month, the date string is holding <code>10&#47;2&#47;2019 12:00:00 AM</code> and I am using <code>MM&#47;dd&#47;yyyy hh:mm:ss tt</code> for the second parameter. I even tried a single <code>d</code>"}, {"owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "edited": false, "score": 0, "creation_date": 1570713516, "post_id": 58306721, "comment_id": 103006372, "body": "I got your solution to work, so it orders the list by the save date and gets the last value. I am also trying to compare the price as well. That way I can get the last date the price changed, not the last date an item was entered in the database."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570730724, "post_id": 58306721, "comment_id": 103015534, "body": "Technically this is Not correct, the OP stated that &quot;I am trying to pull out the last date a price changed.&quot;  You are just getting the last date regardless of whether the price changed."}], "tags": [], "owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "is_accepted": false, "score": 1, "last_activity_date": 1570632165, "creation_date": 1570632165, "answer_id": 58306721, "question_id": 58306655, "link": "https://stackoverflow.com/questions/58306655/get-the-last-date-that-an-items-price-changed/58306721#58306721", "title": "Get the Last Date that an Item&#39;s Price Changed", "body": "<p>It would have been nice if <code>saved</code> was actually a <code>DateTime</code> but we can convert it whilst sorting.</p>\n\n<pre><code>var inStock = Model.MyInvData\n    .OrderBy(x=&gt;DateTime.ParseExact(x.saved, \"dd/MM/yyyy\", CultureInfo.InvariantCulture))\n    .LastOrDefault();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570730929, "post_id": 58328584, "comment_id": 103015634, "body": "You&#39;re wasting iterations, it would be quicker to do this in reverse"}, {"owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570734100, "post_id": 58328584, "comment_id": 103017014, "body": "What about adding <code>break;</code> after printing the results. Wouldn&#39;t that achieve the same thing? (Asking because it is what I did in my project and am curious about doing it in reverse now)"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570735813, "post_id": 58328584, "comment_id": 103017758, "body": "No, it wouldn&#39;t do the same this.  If you do it in reverse you&#39;d  just be looking for the first change. Say you have 100 records and the 99th was the change you&#39;d only have to iterate over 1 record instead of 99"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570735837, "post_id": 58328584, "comment_id": 103017768, "body": "Adding break would save some but not as much as reverse with a break"}, {"owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570737955, "post_id": 58328584, "comment_id": 103018601, "body": "Ohh gotcha! That depends on how the data is ordered, the data from the DB is already sorted by save in descending order. Technically, I am starting at the end of the list already since it has the most recent in the front of the list rather than the end."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570740058, "post_id": 58328584, "comment_id": 103019405, "body": "in that case you should definetly be using a break statement"}], "tags": [], "owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "is_accepted": true, "score": 1, "last_activity_date": 1570798694, "last_edit_date": 1570798694, "creation_date": 1570730062, "answer_id": 58328584, "question_id": 58306655, "link": "https://stackoverflow.com/questions/58306655/get-the-last-date-that-an-items-price-changed/58328584#58328584", "title": "Get the Last Date that an Item&#39;s Price Changed", "body": "<p>Solved it!! :)</p>\n\n<pre><code>//Iterate through the List\nfor (int i = 0; i &lt; inv.Count-1; i++)\n{   \n    //Compare current index to next index\n    if (inv[i].price != inv[i + 1].price)\n    {   \n        //Print results                                   \n        Console.WriteLine(inv[i].saved);\n        break;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>8/7/2019 12:01:01 AM\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11869986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc86d959d65b35496bb519c7171c5be6?s=128&d=identicon&r=PG&f=1", "display_name": "DotNetFullStack", "link": "https://stackoverflow.com/users/11869986/dotnetfullstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 58328584, "answer_count": 2, "score": -1, "last_activity_date": 1571083996, "creation_date": 1570631942, "last_edit_date": 1571083996, "question_id": 58306655, "link": "https://stackoverflow.com/questions/58306655/get-the-last-date-that-an-items-price-changed", "title": "Get the Last Date that an Item&#39;s Price Changed", "body": "<p>I have 3 columns, Stock, Price and Saved that come from a DB. We store the prices daily regardless of price change and I am trying to pull out the last date a price changed.</p>\n\n<p>What I Tried:</p>\n\n<ul>\n<li><p>Using a foreach loop to iterate on inv and match the prices but I am getting lost somewhere along the lines. </p></li>\n<li><p>Using LINQ, I am getting the date of the last update to the database, not the last price update.</p></li>\n<li><p>Duplicating the list and comparing the arr[0] with arr2[1], when the numbers do not match print date.</p></li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>namespace StackOverFlowQ2\n{\n    class Program\n    {\n        public class Data\n        {\n            public List&lt;Inventory&gt; myInv { get; set; }\n        }\n\n        public class Inventory\n        {\n            public string stock { get; set; }\n            public string price { get; set; }\n            public string saved { get; set; }\n        }\n\n        static void Main(string[] args)\n        {\n            var inv = new List&lt;Inventory&gt;\n            {\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"31\", saved = \"8/10/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"31\", saved = \"8/9/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"31\", saved = \"8/8/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"31\", saved = \"8/7/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"28\", saved = \"8/6/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\",  price = \"28\", saved = \"8/5/2019 12:01:01 AM\"\n                },\n                new Inventory\n                {\n                    stock = \"Apple\", price = \"28\", saved = \"8/4/2019 12:01:01 AM\"\n                }\n            };\n\n            #region Solution\n            //Iterate through the List\n            for (int i = 0; i &lt; inv.Count - 1; i++)\n            {   \n                //Compare current index to next index\n                if (inv[i].price != inv[i + 1].price)\n                {   \n                    //Print results                                   \n                    Console.WriteLine(inv[i].saved);\n                    break;\n                }\n            }\n            #endregion\n        }\n    }\n}\n</code></pre>\n\n<p>Current Output: <code>8/10/2019 12:01:01 AM</code></p>\n\n<p>Expected Output: <code>8/7/2019 12:01:01 AM</code></p>\n"}, {"tags": ["c#", "http", "pdf", "encoding", "multipartform-data"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1570632224, "post_id": 58306607, "comment_id": 102975288, "body": "had you tried use <code>HttpClient</code>  with <code>MultipartFormDataContent</code>?"}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1570633312, "post_id": 58306607, "comment_id": 102975908, "body": "<a href=\"https://stackoverflow.com/questions/2934295/c-sharp-save-a-file-from-a-http-request\" title=\"c sharp save a file from a http request\">stackoverflow.com/questions/2934295/&hellip;</a>"}, {"owner": {"reputation": 85, "user_id": 3185279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ffed535d6d2ee55497f0c46e37d0df5?s=128&d=identicon&r=PG&f=1", "display_name": "amitakartok", "link": "https://stackoverflow.com/users/3185279/amitakartok"}, "reply_to_user": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1570633830, "post_id": 58306607, "comment_id": 102976172, "body": "@DavidTansey Stream.CopyTo() does not work either, web service rejects it as invalid POST data."}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 3185279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ffed535d6d2ee55497f0c46e37d0df5?s=128&d=identicon&r=PG&f=1", "display_name": "amitakartok", "link": "https://stackoverflow.com/users/3185279/amitakartok"}, "is_accepted": false, "score": 0, "last_activity_date": 1570716489, "creation_date": 1570716489, "answer_id": 58324897, "question_id": 58306607, "link": "https://stackoverflow.com/questions/58306607/pdf-upload-encoding-issue/58324897#58324897", "title": "PDF upload encoding issue", "body": "<p>Problem solved, my bad. The multipart form header and the binary data were both correct but were in the wrong order because I didn't <code>Flush()</code> the <code>StreamWriter</code> before writing the binary data into the request stream with <code>Stream.CopyTo()</code>.</p>\n\n<p>Moral of the story: if you're writing into the same <code>Stream</code> with more than one Writer at the same time, <em>always <code>Flush()</code> before doing anything with the next Writer</em>.</p>\n"}], "owner": {"reputation": 85, "user_id": 3185279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ffed535d6d2ee55497f0c46e37d0df5?s=128&d=identicon&r=PG&f=1", "display_name": "amitakartok", "link": "https://stackoverflow.com/users/3185279/amitakartok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570716489, "creation_date": 1570631782, "question_id": 58306607, "link": "https://stackoverflow.com/questions/58306607/pdf-upload-encoding-issue", "title": "PDF upload encoding issue", "body": "<p>I'll get straight to the point: how to upload PDF files from a C# backend into a HTTP web service inside a <code>multipart/form-data</code> request without the contents being mangled to the point of the file becoming unreadable? The web service documentation only states that text files should be <code>text/plain</code> and image files should be binary; PDF files are only mentioned as \"also supported\", with no mention of what format or encoding they should be in.</p>\n\n<p>The code I'm using to create the request:</p>\n\n<pre><code>HttpWebRequest request;\nstring boundary = \"---------------------------\" + DateTime.Now.Ticks.ToString(\"x\");\nrequest.ContentType = \"multipart/form-data; boundary=\" + boundary;\n\nusing (StreamWriter sw = new StreamWriter(request.GetRequestStream())) {\n    sw.WriteLine(\"--\" + boundary);\n\n    sw.WriteLine(\"Content-Disposition: form-data; name=\\\"files\\\"; filename=\\\"\" + Path.GetFileName(filePath) + \"\\\"\");\n\n    sw.WriteLine(filePath.EndsWith(\".pdf\") ? \"Content-Type: application/pdf\" : \"Content-Type: text/plain\");\n\n    sw.WriteLine();\n    if (filePath.EndsWith(\".pdf\")) {\n\n        // write PDF content into the request stream\n    }\n    else sw.WriteLine(File.ReadAllText(filePath));\n    sw.Write(\"--\" + boundary);\n    sw.Write(\"--\");\n    sw.Flush();\n}\n</code></pre>\n\n<p>For simple text files, this code works just fine. However, I have trouble uploading a PDF file.</p>\n\n<ul>\n<li>Writing the file into the request body using <code>StreamWriter.WriteLine</code> with either <code>File.ReadAllText</code> or <code>Encoding.UTF8.GetString(File.ReadAllBytes)</code> results in the uploaded file being unreadable due to .NET having replaced all the non-UTF-8 bytes with squares (which somehow also increased file size by over 100 kB). Same result with UTF-7 and ANSI, but UTF-8 results in the closest match to the original file's contents.</li>\n<li>Writing the file into the request body as binary data using either <code>BinaryWriter</code> or <code>Stream.Write</code> results in the web service rejecting it outright as invalid POST data. <code>Content-Transfer-Encoding: binary</code> (indicated by the documentation as necessary for <code>application/http</code>, hence why I tried) also causes rejection.</li>\n</ul>\n\n<p>What alternative options are available? How can I encode PDF without .NET silently replacing the invalid bytes with placeholder characters? Note that I have no control over what kind of content the web service accepts; if I did, I'd already have moved on to base64.</p>\n"}]