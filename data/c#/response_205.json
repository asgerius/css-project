[{"tags": ["c#", "json", "asp.net-core", "json.net", "amazon-sqs"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1544665818, "post_id": 53753111, "comment_id": 94360579, "body": "Can you share the json you are receiving in the message? It will be the same json structure from ask the sqs messages?"}], "owner": {"reputation": 2952, "user_id": 123213, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2499627fdcc5c7e1965e239964ed2094?s=128&d=identicon&r=PG", "display_name": "SidC", "link": "https://stackoverflow.com/users/123213/sidc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1479, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1544671306, "creation_date": 1544658603, "last_edit_date": 1544671306, "question_id": 53753111, "link": "https://stackoverflow.com/questions/53753111/how-to-parse-a-sqs-message-body-to-json", "title": "How to Parse a SQS Message Body to JSON?", "body": "<p>I'm building a .NET Core 2.2 web application that uses SQS to obtain information from a queue.  Instead of sending the entire message output to my view, I just want to send specific elements to the view.  It's my understanding that NewtonSoft.JSON can convert a list into JSON, but am unsure how to parse out certain portions of that list.</p>\n\n<p>My controller logic is as follows:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Index()\n    {\n        //List&lt;MessageModel&gt; models = new List&lt;MessageModel&gt;();\n        MessageModel model = new MessageModel();\n        List&lt;MessageModel&gt; models = new List&lt;MessageModel&gt;();\n        models = await ListTemplatesAsync(models);\n\n        await StartEnvironmentAsync(models);\n        return View(models);\n    }\n\n    private async Task&lt;List&lt;MessageModel&gt;&gt; ListTemplatesAsync(List&lt;MessageModel&gt; models)\n    {\n        var request = await GetEnvironments.GetAWSTemplatesAsync();\n        var response = await GetEnvironments.OnMessageReceiptAsync();\n        //models = new List&lt;MessageModel&gt;();\n\n        foreach (var msg in response)\n        {\n            models.Add(new MessageModel(msg.MessageId, msg.Body, msg.MessageAttributes, msg.ReceiptHandle));\n            string json = JsonConvert.SerializeObject(models, Formatting.None);\n        }\n\n        return models;\n    }\n</code></pre>\n\n<p>I'm obtaining the MessageModel list through the following:</p>\n\n<pre><code> try\n        {\n            AWSConfigs.LoggingConfig.LogMetrics = false;\n            AWSConfigs.LoggingConfig.LogResponses = ResponseLoggingOption.OnError;\n            AWSConfigs.LoggingConfig.LogTo = LoggingOptions.Console;\n            AWSConfigs.LoggingConfig.LogMetricsFormat = LogMetricsFormatOption.Standard;\n\n            IAmazonSQS client = options.CreateServiceClient&lt;IAmazonSQS&gt;();\n            var request =  new ReceiveMessageRequest{};\n\n            List&lt;string&gt; AttributesList = new List&lt;string&gt;\n            {\n                \"sourcemessageId\",\n                \"status\",\n                \"status_message\"\n            };\n            request.MessageAttributeNames = AttributesList;\n            request.QueueUrl = recvQueueUrl;\n            request.MaxNumberOfMessages = 10;\n\n            ReceiveMessageResponse response = await client.ReceiveMessageAsync(request);\n\n            if (response.HttpStatusCode == HttpStatusCode.Accepted)\n            {\n                Console.WriteLine(\"Read Response OK\");\n            }\n            else\n            {\n                Console.WriteLine(\"Read Response Failed\");\n            }\n\n            string FoundHandle = null;\n\n            var messages = response.Messages;\n            var list = new List&lt;Message&gt;();\n\n            messages.ForEach(delegate(Message m)\n            {\n                Console.WriteLine(\"Read MessageId\");\n                Console.WriteLine(m.MessageId);\n                Console.Write(\"Body\");\n                Console.WriteLine(m.Body);\n                var curAttributes = m.MessageAttributes;\n                var allattrib = curAttributes.GetEnumerator();\n\n\n                while (allattrib.MoveNext())\n                {\n                    var pair = allattrib.Current;\n\n                    Console.Write(pair.Key);\n                    Console.Write(\"=\");\n                    Console.WriteLine(pair.Value.StringValue);\n                }\n\n                FoundHandle = m.ReceiptHandle;\n\n            });\n            foreach (var message in messages)\n            {\n                list.Add(message);\n            }\n\n            string json = JsonConvert.SerializeObject(list, Formatting.Indented);\n            return list;\n        }\n        catch(AmazonSQSException ex)\n        {\n            Console.WriteLine(ex.Message);\n            throw new AmazonSQSException(ex.Message);\n        }\n</code></pre>\n\n<p>The response body in part is as follows:</p>\n\n<pre><code>Message Body\n{\"Templates\": [{\"TemplateID\": \"1\", \"TemplateName\": \"Metasploitable3\", \n \"TemplateDesc\": \"Vulnerable Windows 2008 R2 Distribution\"},\n</code></pre>\n\n<p>My view contains a simple, for now, HTML table structure as follows:</p>\n\n<pre><code>@model IEnumerable&lt;MessageModel&gt;;\n    }\n&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n     &lt;th&gt;\n       @Html.DisplayNameFor(model =&gt; model.Message)\n     &lt;/th&gt;\n     &lt;th&gt;\n       @Html.DisplayNameFor(model =&gt; model.Body)\n     &lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n &lt;tbody&gt;\n    @foreach (var item in Model)\n    {\n       &lt;tr&gt;\n         &lt;td&gt;@Html.DisplayFor(modelItem =&gt; item.Message)&lt;/td&gt;\n         &lt;td&gt;@Html.DisplayFor(modelItem =&gt; item.Body)&lt;/td&gt;\n       &lt;/tr&gt;\n    }\n &lt;/tbody&gt;\n</code></pre>\n\n<p>\nHow would I convert my list into JSON to obtain just the Template Name and Description segments from the message body above?  Is it best practice to store in a database table and have the controller pull the table contents via the ModelMessage class?  This current class is only in memory and does not write the message responses to a physical database table.</p>\n"}, {"tags": ["c#", "asp.net", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 547, "user_id": 4659694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c0620bd0630493b6b8b41237f4914582?s=128&d=identicon&r=PG&f=1", "display_name": "Kos", "link": "https://stackoverflow.com/users/4659694/kos"}, "edited": false, "score": 0, "creation_date": 1544659390, "post_id": 53753066, "comment_id": 94359290, "body": "Where are you making the request?! This is just registering service..."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544666741, "post_id": 53753066, "comment_id": 94360767, "body": "If it works locally, then your code is fine. Are you sure you can actually reach that web service (my_url:3001) from the server you deployed this to?"}, {"owner": {"reputation": 328, "user_id": 5434784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af79fb7820b2f4c2ab3c9bf98dbd5545?s=128&d=identicon&r=PG&f=1", "display_name": "lizzy91", "link": "https://stackoverflow.com/users/5434784/lizzy91"}, "reply_to_user": {"reputation": 547, "user_id": 4659694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c0620bd0630493b6b8b41237f4914582?s=128&d=identicon&r=PG&f=1", "display_name": "Kos", "link": "https://stackoverflow.com/users/4659694/kos"}, "edited": false, "score": 0, "creation_date": 1544712492, "post_id": 53753066, "comment_id": 94380513, "body": "@kos making the request in JS, the call returns <code>500</code> @gabriel, i can make the same api call in postman from the same device, so i can definitely access it. It seems the be the failing on any <code>HttpClient&#39;s</code> <code>PostAsync</code> or <code>GetAsync</code>, depending on which call i make"}, {"owner": {"reputation": 547, "user_id": 4659694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c0620bd0630493b6b8b41237f4914582?s=128&d=identicon&r=PG&f=1", "display_name": "Kos", "link": "https://stackoverflow.com/users/4659694/kos"}, "edited": false, "score": 0, "creation_date": 1544753580, "post_id": 53753066, "comment_id": 94397014, "body": "That might be issue with that my_url:3001 service. In production you are requesting something that make it die. I would try to use some tool to capture the request like fiddler to investigate furder..."}, {"owner": {"reputation": 328, "user_id": 5434784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af79fb7820b2f4c2ab3c9bf98dbd5545?s=128&d=identicon&r=PG&f=1", "display_name": "lizzy91", "link": "https://stackoverflow.com/users/5434784/lizzy91"}, "reply_to_user": {"reputation": 547, "user_id": 4659694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c0620bd0630493b6b8b41237f4914582?s=128&d=identicon&r=PG&f=1", "display_name": "Kos", "link": "https://stackoverflow.com/users/4659694/kos"}, "edited": false, "score": 1, "creation_date": 1544819453, "post_id": 53753066, "comment_id": 94424539, "body": "@Kos thanks. I figured out a work around which is probably a good solution of its own. I had to change the IP to an internal IP (10.200.x.xx) for my server code and keep using the public IP in client side code. I was basically trying to access the same server on a different port. learning is fun =D"}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 5434784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af79fb7820b2f4c2ab3c9bf98dbd5545?s=128&d=identicon&r=PG&f=1", "display_name": "lizzy91", "link": "https://stackoverflow.com/users/5434784/lizzy91"}, "is_accepted": true, "score": 1, "last_activity_date": 1545844534, "creation_date": 1545844534, "answer_id": 53935037, "question_id": 53753066, "link": "https://stackoverflow.com/questions/53753066/httpclient-fails-to-respond-after-a-period-of-time/53935037#53935037", "title": "HttpClient fails to respond after a period of time", "body": "<p>Since I am communicating with the same machine but different port, I changed the public IP in my server code to an internal IP and my problem was resolved.</p>\n\n<p>I've made it a rule of thumb to use internal IP in server code and public IP in client code. If this is bad practice, let me know.</p>\n"}], "owner": {"reputation": 328, "user_id": 5434784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af79fb7820b2f4c2ab3c9bf98dbd5545?s=128&d=identicon&r=PG&f=1", "display_name": "lizzy91", "link": "https://stackoverflow.com/users/5434784/lizzy91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2831, "favorite_count": 0, "accepted_answer_id": 53935037, "answer_count": 1, "score": 2, "last_activity_date": 1545844534, "creation_date": 1544658261, "last_edit_date": 1544712570, "question_id": 53753066, "link": "https://stackoverflow.com/questions/53753066/httpclient-fails-to-respond-after-a-period-of-time", "title": "HttpClient fails to respond after a period of time", "body": "<p>I have a Asp.Net Core (2.1) website using <a href=\"https://aspnetboilerplate.com/\" rel=\"nofollow noreferrer\">Asp.Net Boilerplate</a>.</p>\n\n<p>I'm trying to make a API call using <code>HttpClient</code>, which works locally, but throws an error when deployed to IIS. </p>\n\n<p>I created a <code>TypedClient</code></p>\n\n<pre><code>public class FormsHttpClient : IFormsHttpClient\n{\n    private const string url = \"my_url:3001/\";\n    private readonly HttpClient _client;\n\n    public FormsHttpClient(HttpClient httpClient)\n    {\n        httpClient.BaseAddress = new Uri(url);\n\n        _client = httpClient;\n    }\n    ....\n}\n</code></pre>\n\n<p>In my <code>startup.cs</code> file, I added: </p>\n\n<p><code>services.AddHttpClient&lt;IFormsHttpClient, FormsHttpClient&gt;();</code></p>\n\n<p>The error i get when i deploy: </p>\n\n<blockquote>\n  <p>ERROR 2018-12-12 18:30:29,509 [11   ] Mvc.ExceptionHandling.AbpExceptionFilter - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond\n  System.Net.Http.HttpRequestException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond\n     at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)\n     --- End of inner exception stack trace ---</p>\n</blockquote>\n\n<p>The network call normally takes 1800ms to finish, it seems to timeout around 21000ms.</p>\n\n<p>I came across the code <code>AppContext.SetSwitch(\"System.Net.Http.useSocketsHttpHandler\", false);</code>, thought i wasn't sure where to put it, i tossed it in the constructor of my <code>startup.cs</code> class but it doesn't seem to have any effect.</p>\n\n<p>Is there something else im missing?</p>\n\n<p>E: The code that calls the api is in JS: </p>\n\n<pre><code>   app.forms.token = {\n    generate: function () {\n        Formio.logout();\n        abp.services.app.forms.generateFormToken().done(function (e) {\n            Formio.setToken(e);\n        });\n    },\n    clear: function () {\n        Formio.logout();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "oracle", "plsql"], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 6217919, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-tWCTr2LsX9A/AAAAAAAAAAI/AAAAAAAAAPI/o14G1bahjfQ/photo.jpg?sz=128", "display_name": "Jacob Alley", "link": "https://stackoverflow.com/users/6217919/jacob-alley"}, "edited": false, "score": 0, "creation_date": 1544659051, "post_id": 53753119, "comment_id": 94359188, "body": "Awesome....Killing the &quot;//&quot; and wrapping in a begin/end seems to have done the trick. Thank you!"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 646, "user_id": 6217919, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-tWCTr2LsX9A/AAAAAAAAAAI/AAAAAAAAAPI/o14G1bahjfQ/photo.jpg?sz=128", "display_name": "Jacob Alley", "link": "https://stackoverflow.com/users/6217919/jacob-alley"}, "edited": false, "score": 1, "creation_date": 1544659282, "post_id": 53753119, "comment_id": 94359253, "body": "@JacobAlley nice question"}], "tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1544658691, "creation_date": 1544658691, "answer_id": 53753119, "question_id": 53753061, "link": "https://stackoverflow.com/questions/53753061/plsql-oracle-command-does-not-allow-multiple-exceptions-in-the-same-command/53753119#53753119", "title": "PLSQL Oracle Command does not allow multiple exceptions in the same command", "body": "<p>Using <code>OracleCommand</code>, You can execute only 1 SQL statement or 1 Stored Procedure or 1 Anonymous block (your case). But you passed 2 anonymous blocks. Hence the error. Try pack all into 1 block</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>begin\n   begin \n     EXECUTE IMMEDIATE . . . \n     EXECUTE IMMEDIATE . . . \n   exception when\n   end;\n\n   begin\n     EXECUTE IMMEDIATE . . . \n     EXECUTE IMMEDIATE . . . \n   exception when\n   end;\nend;\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 6217919, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-tWCTr2LsX9A/AAAAAAAAAAI/AAAAAAAAAPI/o14G1bahjfQ/photo.jpg?sz=128", "display_name": "Jacob Alley", "link": "https://stackoverflow.com/users/6217919/jacob-alley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 53753119, "answer_count": 1, "score": 3, "last_activity_date": 1544658768, "creation_date": 1544658230, "last_edit_date": 1544658768, "question_id": 53753061, "link": "https://stackoverflow.com/questions/53753061/plsql-oracle-command-does-not-allow-multiple-exceptions-in-the-same-command", "title": "PLSQL Oracle Command does not allow multiple exceptions in the same command", "body": "<p>I am storing the following script in a C# <code>OracleCommand</code>. When I execute it I get </p>\n\n<blockquote>\n  <p>\"encountered the symbol \"/\" when expecting one of the following: \" errors. </p>\n</blockquote>\n\n<p>I am trying to mass create a lot of tables while checking to see if they exist first and dropping if they do. </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>BEGIN\nEXECUTE IMMEDIATE 'DROP TABLE allexact';\nEXCEPTION\nWHEN OTHERS THEN NULL;\nEXECUTE IMMEDIATE '\nCREATE TABLE allexact\n(\nt_long long NULL,\nt_binFloat binary_float NULL,\nt_binDbl binary_double NULL,\nt_rowid rowid NULL,\nt_date date NULL,\nt_blob BLOB NULL,\nt_CLOB CLOB NULL,\nt_NCLOB NCLOB NULL\n)';\nEND;//\nBEGIN\nEXECUTE IMMEDIATE 'DROP TABLE chr_1';\nEXCEPTION\nWHEN OTHERS THEN NULL;\nEXECUTE IMMEDIATE '\nCREATE TABLE chr_1\n(\nchr_1 char(1) NULL,\nchr_2 char(2) NULL,\nchr_3 char(3) NULL,\nchr_4 char(4) NULL,\n...\nchr_60 char(60) NULL\n)';\nEND;//\n</code></pre>\n\n<p>This command works fine in plsql developer, but not when being executed as a command in C#. If I only have 1 exception at the bottom of all of the code it works fine, but as soon as the exception is hit, then (as expected) the rest of the code is skipped. How do I put multiple exception statements into a plsql command that is stored in a C# OracleCommand variable? </p>\n"}, {"tags": ["c#", "azure", "azure-storage", "azure-functions"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9717261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y8-VKbTTOqE/AAAAAAAAAAI/AAAAAAAAAH0/Gu9kY1D7gLo/photo.jpg?sz=128", "display_name": "Tomas Goffa", "link": "https://stackoverflow.com/users/9717261/tomas-goffa"}, "edited": false, "score": 0, "creation_date": 1544682206, "post_id": 53755419, "comment_id": 94364492, "body": "You&#39;re right. Everything is working now. Thank you. Thank you very much :)  I also deleted that &quot;try-catch&quot; block and mesages are still being deleted :D"}, {"owner": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "reply_to_user": {"reputation": 27, "user_id": 9717261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y8-VKbTTOqE/AAAAAAAAAAI/AAAAAAAAAH0/Gu9kY1D7gLo/photo.jpg?sz=128", "display_name": "Tomas Goffa", "link": "https://stackoverflow.com/users/9717261/tomas-goffa"}, "edited": false, "score": 0, "creation_date": 1544682653, "post_id": 53755419, "comment_id": 94364629, "body": "@TomasGoffa Great, could you accept my explanation as an answer to close your question?"}, {"owner": {"reputation": 27, "user_id": 9717261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y8-VKbTTOqE/AAAAAAAAAAI/AAAAAAAAAH0/Gu9kY1D7gLo/photo.jpg?sz=128", "display_name": "Tomas Goffa", "link": "https://stackoverflow.com/users/9717261/tomas-goffa"}, "edited": false, "score": 0, "creation_date": 1544686738, "post_id": 53755419, "comment_id": 94366280, "body": "Sure ;) Thanks again."}], "tags": [], "owner": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "is_accepted": true, "score": 1, "last_activity_date": 1544678552, "creation_date": 1544678552, "answer_id": 53755419, "question_id": 53753029, "link": "https://stackoverflow.com/questions/53753029/azure-function-not-getting-messages-from-storage-queue/53755419#53755419", "title": "Azure Function not getting messages from Storage Queue", "body": "<p>Queue Trigger will delete the incoming message automatically at the end of function execution, hence you don't need to delete it on your own. Your code actually creates a new message which has same message content as the one comes into function, and tries to delete the new message which doesn't exist in the queue.</p>\n\n<p>The reason the code doesn't work on Azure is that you may have forgotten to add <code>StorageConnectionString</code> in Application settings. <code>local.settings.json</code> is not published to Azure as it's only for local development.</p>\n"}], "owner": {"reputation": 27, "user_id": 9717261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y8-VKbTTOqE/AAAAAAAAAAI/AAAAAAAAAH0/Gu9kY1D7gLo/photo.jpg?sz=128", "display_name": "Tomas Goffa", "link": "https://stackoverflow.com/users/9717261/tomas-goffa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 53755419, "answer_count": 1, "score": 0, "last_activity_date": 1544678574, "creation_date": 1544657965, "last_edit_date": 1544678574, "question_id": 53753029, "link": "https://stackoverflow.com/questions/53753029/azure-function-not-getting-messages-from-storage-queue", "title": "Azure Function not getting messages from Storage Queue", "body": "<p>I have created test Azure function with queue trigger.\nWhen I run this function in local emulator it works. But when I deploy it on Azure, it looks like it's not working (messages are not being deleted from queue).</p>\n\n<p><strong>Function</strong></p>\n\n<pre><code>[FunctionName(\"Function1\")]\n    public static void Run([QueueTrigger(\"azurefunc\", Connection = \"StorageConnectionString\")]string myQueueItem, TraceWriter log)\n    {\n        log.Info($\"C# Queue trigger function processed: {myQueueItem}\");\n\n        // PERFORMANCE TEST\n        for (int i = 0; i &lt; 10000; i++)\n        {\n            for (int j = 0; j &lt; 9000; j++)\n            {\n                // Do nothing.\n                // Or do something\n                string myAwesomeTempString = \"How are you\";\n                myAwesomeTempString += \"?\";\n            }\n        }\n\n        try\n        {\n            var queueMessage = new CloudQueueMessage (myQueueItem);\n            QueueApi.DeleteMessage (QueueApi.AzureFunctionStorageQueue, queueMessage);\n        }\n        catch\n        {\n\n        }\n    }\n</code></pre>\n\n<p><strong>local.settings.json</strong></p>\n\n<pre><code>{\"IsEncrypted\": false,\n  \"Values\": {\n    \"AzureWebJobsStorage\": \"AZURE_STORAGE_CONNECTION_STRING\",\n    \"AzureWebJobsDashboard\": \"AZURE_STORAGE_CONNECTION_STRING\",\n    \"StorageConnectionString\": \"AZURE_STORAGE_CONNECTION_STRING\",\n    \"serviceBusAccount\": \"SERVICE_BUS_CONNECTION_STRING\"\n  }}\n</code></pre>\n\n<p><strong>Part of QueueApi</strong></p>\n\n<pre><code>/// &lt;summary&gt;\n    /// Creates instance of Queue Storage\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"queueName\"&gt;Name of queue storage&lt;/param&gt;\n    /// &lt;returns&gt;The instance of queue storage&lt;/returns&gt;\n    private static CloudQueue CreateStorageQueue (string queueName)\n    {\n        CloudStorageAccount storageAccount = CloudStorageAccount.Parse (\"AZURE_STORAGE_CONNECTION_STRING\");\n        CloudQueueClient queueClient = storageAccount.CreateCloudQueueClient ();\n        CloudQueue queue = queueClient.GetQueueReference (queueName);\n        queue.CreateIfNotExists ();\n        return queue;\n    }\n\n    /// &lt;summary&gt;\n    /// Deletes message from queue.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"queue\"&gt;The queue storage instance&lt;/param&gt;\n    /// &lt;param name=\"message\"&gt;Message to be deleted&lt;/param&gt;\n    public static void DeleteMessage (CloudQueue queue, CloudQueueMessage message)\n    {\n        CheckInstances ();\n\n        if (message != null)\n        {\n            queue.DeleteMessage (message);\n        }\n    }\n</code></pre>\n\n<p>I created <em>Azure Service Bus</em> account just to test another approach, but I would really rather use <em>Azure Storage Queue</em>.</p>\n\n<p>Can anyone please help me?</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["c#", "mysql", "entity-framework", "datetime"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544670202, "post_id": 53753027, "comment_id": 94361538, "body": "The column in the table is <code>NOT NULL</code>, but is the view doing a join or something where it could end up being null?"}, {"owner": {"reputation": 371, "user_id": 2025125, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a63cf829f004d74d7b36f5bb25c32192?s=128&d=identicon&r=PG", "display_name": "Ian W", "link": "https://stackoverflow.com/users/2025125/ian-w"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544686066, "post_id": 53753027, "comment_id": 94365974, "body": "That is something I did not think of. I thought my view was written to stop this. However looking at the definition in MySQL the view is allowing Null for the TicketDate, not certain how to stop this. I have add the the view code to the original question. Any ideas please?"}], "owner": {"reputation": 371, "user_id": 2025125, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a63cf829f004d74d7b36f5bb25c32192?s=128&d=identicon&r=PG", "display_name": "Ian W", "link": "https://stackoverflow.com/users/2025125/ian-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544685988, "creation_date": 1544657952, "last_edit_date": 1544685988, "question_id": 53753027, "link": "https://stackoverflow.com/questions/53753027/converting-system-datetime-to-system-datetime-in-entityframework-mapped-class", "title": "Converting System.Datetime? to System.DateTime in EntityFramework Mapped Class", "body": "<p>I have a project in C# Visual Studio that uses EF to connect to a MySQL Database. The EF mapper has given me a class <code>\"enteredtickets\"</code> mapped from a MySQL view. My issue is that there is a property call <code>TicketDate</code> were the Data type is System.DateTime? as is MySQL and the date may be a null. The problem is I would like a System.DateTime. </p>\n\n<p>So I would like to change the factory code of the EF mapped class to make the  finished property <code>TicketDate</code> a System.DateTime. However I am cautious of what to change in case I break the code!</p>\n\n<p>From reading I am guessing I need a statement like</p>\n\n<pre><code>datetime??new DateTime(2000,1,1)\n</code></pre>\n\n<p>So my questions are</p>\n\n<ol>\n<li>Should I be changing the Factory EF mapped code in the first place?</li>\n<li>How should I build in the conversion to the EF mapped code?</li>\n</ol>\n\n<p>The EF mapped factory code is</p>\n\n<pre><code> public Nullable&lt;global::System.DateTime&gt; TicketDate\n    {\n        get\n        {\n            return _TicketDate;\n        }\n        set\n        {\n            OnTicketDateChanging(value);\n            ReportPropertyChanging(\"TicketDate\");\n            _TicketDate = StructuralObject.SetValidValue(value);\n            ReportPropertyChanged(\"TicketDate\");\n            OnTicketDateChanged();\n        }\n    }\n    private Nullable&lt;global::System.DateTime&gt; _TicketDate;\n    partial void OnTicketDateChanging(Nullable&lt;global::System.DateTime&gt; value);\n    partial void OnTicketDateChanged();\n</code></pre>\n\n<p>The column property in the MySQL table the view is based on is</p>\n\n<pre><code>TABLE `ticket` CHANGE `created` `created` DATETIME NOT NULL; \n</code></pre>\n\n<p>***Additional information****\nFor further clarification the details of the MySQL view are</p>\n\n<pre><code>select `a`.`ticket_id` AS `ticket_id`,`a`.`status` AS `status`,`a`.`number` AS `number`,`b`.`subject` AS `subject`,`b`.`timespent` AS `timespent`,`a`.`staff_id` AS `staff_id`,`a`.`user_id` AS `user_id`,(case when isnull(`b`.`dayoffset`) then `a`.`created` else (`a`.`created` + interval ceiling(`b`.`dayoffset`) day) end) AS `TicketDate`,`b`.`sysdowntime` AS `sysdowntime`,`b`.`CliDowntime` AS `CliDowntime`,`b`.`TelDowntime` AS `TelDowntime`,`b`.`NetDowntime` AS `NetDowntime`,date_format((case when isnull(`b`.`dayoffset`) then `a`.`created` else (`a`.`created` + interval ceiling(`b`.`dayoffset`) day) end),'%Y%m%d') AS `groupingdate`,`b`.`priority_id` AS `priority_id` from (`ost`.`ost_ticket` `a` join `ost`.`ost_ticket__cdata` `b` on((`a`.`ticket_id` = `b`.`ticket_id`)))\n</code></pre>\n\n<p>However looking at the definition in MySQL the view is allowing Null for the <code>TicketDate</code>, not certain how to stop this</p>\n\n<p><a href=\"https://i.stack.imgur.com/HkAaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HkAaK.png\" alt=\"MySQL View Definition\"></a></p>\n"}, {"tags": ["c#", ".net", "oop"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1544657967, "post_id": 53753002, "comment_id": 94358899, "body": "Since the fields of <code>class Item1</code> are public, given an <code>Item1</code> object, code in an <code>Item2</code> method can just reference the field."}], "answers": [{"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": -1, "last_activity_date": 1544658391, "creation_date": 1544658391, "answer_id": 53753091, "question_id": 53753002, "link": "https://stackoverflow.com/questions/53753002/c-how-to-access-a-brother-class-from-within-a-class-function/53753091#53753091", "title": "C# How to access a brother class from within a class function?", "body": "<p>'just do it'</p>\n\n<pre><code>var i1 = new Item1();\nvar i2 = new Item2();\n\ni1.id = i2.id;\n</code></pre>\n\n<p>Now others will argue that you should use properties rather than public fields. But what you have at the moment allows you to do exactly what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 3669, "user_id": 1709104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50b25e2d6830b5fcb2d19ee368df96d?s=128&d=identicon&r=PG", "display_name": "Lawrence Johnson", "link": "https://stackoverflow.com/users/1709104/lawrence-johnson"}, "edited": false, "score": 0, "creation_date": 1544893537, "post_id": 53753101, "comment_id": 94440448, "body": "IMO, I think the approach of having sister objects access each other is not structurally a good idea. In theory, the two objects are distinct because they shouldn&#39;t be aware of each others&#39; existence. It would normally be the job of the parent to manage its children."}], "tags": [], "owner": {"reputation": 3669, "user_id": 1709104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50b25e2d6830b5fcb2d19ee368df96d?s=128&d=identicon&r=PG", "display_name": "Lawrence Johnson", "link": "https://stackoverflow.com/users/1709104/lawrence-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1544658477, "creation_date": 1544658477, "answer_id": 53753101, "question_id": 53753002, "link": "https://stackoverflow.com/questions/53753002/c-how-to-access-a-brother-class-from-within-a-class-function/53753101#53753101", "title": "C# How to access a brother class from within a class function?", "body": "<p>The fastest and easiest way to do this would be to pass in <code>parent</code> into the function in which <code>itemX</code> would need to access a property from <code>itemY</code>.</p>\n\n<p>For instance:</p>\n\n<pre><code>class Item1\n{\n    public string id;\n    public string id_alt;\n    public string item1_code;\n    public Item1()\n    {\n        id = \"\";\n        item1_code = \"\";\n    }\n}\nclass Item2\n{\n    public string id;\n    public string id_alt;\n    public Item2()\n    {\n        id = \"\";\n    }\n    public void AccessItem1Prop(Parent parent) {\n        string item1ID = parent.items1[0].id;\n    }\n}\n</code></pre>\n\n<p>You could also pass in <code>parent</code> to the individual items constructor and attach it to the item as an object property, but I'd avoid that approach if you can simply to keep things cleaner.</p>\n"}, {"tags": [], "owner": {"reputation": 1141, "user_id": 1367497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c1ab83696683e53a9940cd2a8c480894?s=128&d=identicon&r=PG", "display_name": "peeyush singh", "link": "https://stackoverflow.com/users/1367497/peeyush-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1544664863, "creation_date": 1544664863, "answer_id": 53753820, "question_id": 53753002, "link": "https://stackoverflow.com/questions/53753002/c-how-to-access-a-brother-class-from-within-a-class-function/53753820#53753820", "title": "C# How to access a brother class from within a class function?", "body": "<p>As mentioned in other answers you can access it directly. Since you are maintaining a relationship, I assume you want to do it via the relationship</p>\n\n<pre><code>            var test = new List&lt;String&gt;();            \n            foreach (Item2 my_item2 in parent.items2)\n            {\n                foreach (var item in parent.Item1_to_Item2_Relationships)\n                {\n                    //implement your own equality comparision if it should be differernt\n                    if (item.item2.id_alt == my_item2.id)\n                    {\n                        test.Add(item.item1.item1_code);\n                    }\n                }\n            }\n</code></pre>\n\n<p>Few important points:</p>\n\n<ol>\n<li>You are dealing with list and nested loops, the performance of the\napproach is not best.</li>\n<li>To improve the performance the relationship data structure should be\nchosen wisely, is it possible to convert it to <code>Dictionary</code>, thus\ngiving quicker lookup times.</li>\n<li>The code currently will add blank string since you do not add the Code in the relationship, but you can always search for object using the id, that means another search in list, this is the reason I am saying that you might want to change the underlying data structure.</li>\n<li>It might be better to store the individual objects also in a dictionary if their item code is the primary key.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "is_accepted": false, "score": 0, "last_activity_date": 1544665639, "creation_date": 1544665639, "answer_id": 53753908, "question_id": 53753002, "link": "https://stackoverflow.com/questions/53753002/c-how-to-access-a-brother-class-from-within-a-class-function/53753908#53753908", "title": "C# How to access a brother class from within a class function?", "body": "<p>I'm not a fan of how the code is structured... but here's the simple answer.</p>\n\n<p>You're adding two different item types to two different collections.</p>\n\n<p>You're making a relationship item, that relates the two based on id.  </p>\n\n<p>Although your code screams help the idea is logical and a good way to relate items such as working with a database.</p>\n\n<p>We can do this simply with Linq but I would rather stick closer to how you're writing the question. </p>\n\n<p>First iterate your items like you're doing, then iterate your relationships.  Based on Id comparison you then iterate the other items and based on that final Id comparison you get your answer.</p>\n\n<pre><code>foreach (Item2 my_item2 in parent.items2)\n{\n    foreach (Item1_to_Item2_Relationship relatedItem in parent.Item1_to_Item2_Relationships)\n    {\n        if (my_item2.id == relatedItem.item2.id_alt)\n        {\n            foreach (Item1 item1 in parent.items1)\n            {\n                if (relatedItem.item1.id_alt == item1.id)\n                {\n                    Console.WriteLine(item1.item1_code);\n                }\n            }\n        }\n    }\n}\n\n//Outputs\n//CODE_01\n//CODE_02\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 7792598, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/73b327ef530c6c862739a31a4b98359a?s=128&d=identicon&r=PG&f=1", "display_name": "user7792598", "link": "https://stackoverflow.com/users/7792598/user7792598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1544665639, "creation_date": 1544657745, "question_id": 53753002, "link": "https://stackoverflow.com/questions/53753002/c-how-to-access-a-brother-class-from-within-a-class-function", "title": "C# How to access a brother class from within a class function?", "body": "<p>I have a code structured like the one below. I simplified it with just the strictly needed to pose the question. </p>\n\n<p>I have a Parent class, which includes an Item1 class, Item2 class, Item1_to_Item2_relationship class. I must keep this structure for reasons not relevant to this problem. </p>\n\n<p>How can I access a value in Item1 from Item2?\nThe code explains better what needs to be done.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApp3\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Parent parent = new Parent();\n\n            // Adding item1 values\n            Item1 item1_01 = new Item1();\n            item1_01.id = \"item1_01\";\n            item1_01.item1_code = \"CODE_01\";\n            parent.items1.Add(item1_01);\n            Item1 item1_02 = new Item1();\n            item1_02.id = \"item1_02\";\n            item1_02.item1_code = \"CODE_02\";\n            parent.items1.Add(item1_02);\n\n            // Adding item2 values\n            Item2 item2 = new Item2();\n            item2.id = \"item2_01\";\n            parent.items2.Add(item2);\n\n            // Adding relationships\n            Item1_to_Item2_Relationship item1_to_Item2_Relationship = new Item1_to_Item2_Relationship();\n            item1_to_Item2_Relationship.item1.id_alt = item1_01.id;\n            item1_to_Item2_Relationship.item2.id_alt = item2.id;\n            parent.Item1_to_Item2_Relationships.Add(item1_to_Item2_Relationship);\n\n            item1_to_Item2_Relationship = new Item1_to_Item2_Relationship();\n            item1_to_Item2_Relationship.item1.id_alt = item1_02.id;\n            item1_to_Item2_Relationship.item2.id_alt = item2.id;\n            parent.Item1_to_Item2_Relationships.Add(item1_to_Item2_Relationship);\n\n            // How to make the code below return a List&lt;string&gt; with the values \"CODE_01\" and \"CODE_02\"?\n            foreach (Item2 my_item2 in parent.items2)\n            {\n                my_item2.item1_codes;\n            }\n\n\n        }\n    }\n\n    class Parent\n    {\n        public List&lt;Item1&gt; items1;\n        public List&lt;Item2&gt; items2;\n        public List&lt;Item1_to_Item2_Relationship&gt; Item1_to_Item2_Relationships;\n\n        public Parent()\n        {\n            items1 = new List&lt;Item1&gt;();\n            items2 = new List&lt;Item2&gt;();\n            Item1_to_Item2_Relationships = new List&lt;Item1_to_Item2_Relationship&gt;();\n        }\n\n    }\n    class Item1\n    {\n        public string id;\n        public string id_alt;\n        public string item1_code;\n        public Item1()\n        {\n            id = \"\";\n            item1_code = \"\";\n        }\n    }\n    class Item2\n    {\n        public string id;\n        public string id_alt;\n        public Item2()\n        {\n            id = \"\";\n        }\n    }\n    class Item1_to_Item2_Relationship\n    {\n        public Item1 item1;\n        public Item2 item2;\n\n        public Item1_to_Item2_Relationship()\n        {\n            item1 = new Item1();\n            item2 = new Item2();\n        }\n    }\n}\n</code></pre>\n\n<p>At the moment, I would have to right a static function which receives a Parent parameter and do the logic there. But I believe there should be a better more intuitive way. How can I make the above code work?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc"], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 3562405, "user_type": "registered", "profile_image": "https://graph.facebook.com/680800373/picture?type=large", "display_name": "Ivan Valadares", "link": "https://stackoverflow.com/users/3562405/ivan-valadares"}, "is_accepted": false, "score": 1, "last_activity_date": 1544667210, "creation_date": 1544667210, "answer_id": 53754110, "question_id": 53752896, "link": "https://stackoverflow.com/questions/53752896/trimming-request-body-before-reaching-action-method-for-model-binding-in-xml/53754110#53754110", "title": "Trimming Request.Body before reaching action method, for model binding in XML", "body": "<p>You are trying to do that with a ActionFilter, i would recomend a custom Binder and the use of regex to extract de xml from the request.</p>\n\n<p>Register the new custom xml binder in WebApiConfig.cs</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{\n    config.Services.Insert(typeof(ModelBinderProvider), 0,\n    new SimpleModelBinderProvider(typeof(XDocument), new XmlCustomBinder()));\n}\n</code></pre>\n\n<p>Create a custom binder that will get the content body and extract only the xml </p>\n\n<pre><code>public class XmlCustomBinder : IModelBinder\n{\n    public bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext)\n    {\n        try\n        {\n            var parsedXml = actionContext.Request.Content.ReadAsStringAsync().Result;\n            Regex regex = new Regex(@\"&lt;\\?xml.*&gt;\", RegexOptions.Singleline);\n            Match match = regex.Match(parsedXml);\n            if (!match.Success) return false;\n            parsedXml = match.Groups[0].Value;\n            TextReader textReader = new StringReader(parsedXml);\n            XDocument xDocument = XDocument.Load(textReader);\n            bindingContext.Model = xDocument;\n            return true;\n        }\n        catch(Exception ex)\n        {\n            bindingContext.ModelState.AddModelError(\"XmlCustomBinder\", ex);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>Controller code, get a XDocument (XML) value</p>\n\n<pre><code>[HttpPost]\n[OwServer]\npublic IActionResult Post([ModelBinder(typeof(XmlCustomBinder))] XDocument xDocument)\n{\n     return Ok(\"Working\");\n}\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.linq.xdocument?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.xml.linq.xdocument?view=netframework-4.7.2</a></p>\n"}, {"comments": [{"owner": {"reputation": 770, "user_id": 6427829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6771e877ae37c2d5573f5cc0be1a576e?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/6427829/marcel"}, "edited": false, "score": 0, "creation_date": 1544729653, "post_id": 53758624, "comment_id": 94389574, "body": "Wow thanks! I did not know how the file looks in a http request, which makes a lot of sense"}, {"owner": {"reputation": 547, "user_id": 3562405, "user_type": "registered", "profile_image": "https://graph.facebook.com/680800373/picture?type=large", "display_name": "Ivan Valadares", "link": "https://stackoverflow.com/users/3562405/ivan-valadares"}, "edited": false, "score": 0, "creation_date": 1544738617, "post_id": 53758624, "comment_id": 94393285, "body": "@itminus just one note : public bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext) is the modelbinder for WebapiController and BindModelAsync(ModelBindingContext bindingContext) is for the MVC Controller, i thought in this case was webapi because of [ApiController] [Route(&quot;api/[controller]&quot;)] but i didn&#39;t saw the extend &quot; : Controller&quot; instead of &quot;: ApiController&quot;. in that case dont forget to register the Modelbinder in global.asax :  ModelBinders.Binders.Add(typeof(XDocument), new XmlCustomBinder());"}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "reply_to_user": {"reputation": 547, "user_id": 3562405, "user_type": "registered", "profile_image": "https://graph.facebook.com/680800373/picture?type=large", "display_name": "Ivan Valadares", "link": "https://stackoverflow.com/users/3562405/ivan-valadares"}, "edited": false, "score": 1, "creation_date": 1544739927, "post_id": 53758624, "comment_id": 94393699, "body": "@IvanValadares Hi, I&#39;m afraid that you didn&#39;t notice that the OP is using <code>ASP.NET Core</code> instead of ASP.NET ( Classic )"}, {"owner": {"reputation": 547, "user_id": 3562405, "user_type": "registered", "profile_image": "https://graph.facebook.com/680800373/picture?type=large", "display_name": "Ivan Valadares", "link": "https://stackoverflow.com/users/3562405/ivan-valadares"}, "edited": false, "score": 0, "creation_date": 1544744325, "post_id": 53758624, "comment_id": 94395036, "body": "did not, webapicontroller does not exists anymore :)"}], "tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": true, "score": 1, "last_activity_date": 1544693172, "creation_date": 1544693172, "answer_id": 53758624, "question_id": 53752896, "link": "https://stackoverflow.com/questions/53752896/trimming-request-body-before-reaching-action-method-for-model-binding-in-xml/53758624#53758624", "title": "Trimming Request.Body before reaching action method, for model binding in XML", "body": "<p>The request body indicates that the embedded software is posting a multipart data. And the following <code>content-disposition</code> means that it's sending a file of <code>details.xml</code>:</p>\n\n<pre><code>------------------------------3cbec9ce8f05\nContent-Disposition: form-data; name=\"ServerData\"; filename=\"details.xml\"\nContent-Type: text/plain\n</code></pre>\n\n<p>So you don't need to manually remove the boundary of '------------------------------3cbec9ce8f05' and <code>Content-Type=...</code>.  <strong>Simply use <code>Request.Form.Files</code>.</strong></p>\n\n<p>Also, as suggested by <a href=\"https://stackoverflow.com/a/53754110/10091607\">@ivan-valadares</a>, you can use a Model binder to lift the heavy things . But it seems that he is treating all the request body as string and then construct an <code>XDocument</code> . A much more elegant way is use <code>XmlSerializer</code> to create a strongly-typed object. Also, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.imodelbinder?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">IModelBinder Interface</a> doesn't have a method of <code>public bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext)</code>. We should use <code>BindModelAsync(ModelBindingContext bindingContext)</code> instead.</p>\n\n<p>So create a model binder as below :</p>\n\n<pre><code>public class EmbededServerDataBinder&lt;T&gt; : IModelBinder\n{\n    public Task BindModelAsync(ModelBindingContext bindingContext)\n    {\n        if (bindingContext == null) { throw new ArgumentNullException(nameof(bindingContext)); }\n        var modelName = bindingContext.BinderModelName ?? \"ServerData\";\n\n        XmlSerializer serializer = new XmlSerializer(typeof(T));\n        var data= bindingContext.HttpContext.Request.Form.Files[modelName];\n        if(data == null){ \n            bindingContext.ModelState.AddModelError(modelName,\"invalid error\");\n            return Task.CompletedTask;\n        }\n        using(var stream = data.OpenReadStream()){\n            var o = serializer.Deserialize(stream);\n            bindingContext.Result = ModelBindingResult.Success(o);\n        }\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n\n<p>Now you can use it in the Action method:</p>\n\n<pre><code>    [HttpPost]\n    public IActionResult Post([ModelBinder(typeof(EmbededServerDataBinder&lt;Ow_ServerModel&gt;))] Ow_ServerModel ServerData)\n    {\n        return Ok(\"Working\");\n    }\n</code></pre>\n\n<p>Note the name of <code>ServerData</code> matters. The model binder will seek this name within content-disposition.</p>\n\n<p>I test it with your payload , and it works as expected for me :</p>\n\n<p><a href=\"https://i.stack.imgur.com/M8Ije.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8Ije.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 770, "user_id": 6427829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6771e877ae37c2d5573f5cc0be1a576e?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/6427829/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 53758624, "answer_count": 2, "score": 1, "last_activity_date": 1544693172, "creation_date": 1544656896, "last_edit_date": 1544673736, "question_id": 53752896, "link": "https://stackoverflow.com/questions/53752896/trimming-request-body-before-reaching-action-method-for-model-binding-in-xml", "title": "Trimming Request.Body before reaching action method, for model binding in XML", "body": "<p>I have an Ethernet to 1-Wire interface that periodically sends out an HTTP post with sensors data. The data body is in XML, except it's not fully valid XML. I can not change the HTTP body because it's in an embedded software. The complete request body looks like this:</p>\n\n<pre><code> ------------------------------3cbec9ce8f05\n Content-Disposition: form-data; name=\"ServerData\"; filename=\"details.xml\"\n Content-Type: text/plain\n\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;Devices-Detail-Response xmlns=\"http://www.example.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n &lt;PollCount&gt;2739&lt;/PollCount&gt;\n &lt;DevicesConnected&gt;1&lt;/DevicesConnected&gt;\n &lt;LoopTime&gt;1.022&lt;/LoopTime&gt;\n &lt;DevicesConnectedChannel1&gt;0&lt;/DevicesConnectedChannel1&gt;\n &lt;DevicesConnectedChannel2&gt;0&lt;/DevicesConnectedChannel2&gt;\n &lt;DevicesConnectedChannel3&gt;1&lt;/DevicesConnectedChannel3&gt;\n &lt;DataErrorsChannel1&gt;0&lt;/DataErrorsChannel1&gt;\n &lt;DataErrorsChannel2&gt;0&lt;/DataErrorsChannel2&gt;\n &lt;DataErrorsChannel3&gt;0&lt;/DataErrorsChannel3&gt;\n &lt;VoltageChannel1&gt;4.91&lt;/VoltageChannel1&gt;\n &lt;VoltageChannel2&gt;4.92&lt;/VoltageChannel2&gt;\n &lt;VoltageChannel3&gt;4.92&lt;/VoltageChannel3&gt;\n &lt;VoltagePower&gt;5.16&lt;/VoltagePower&gt;\n &lt;DeviceName&gt;Unit 3 OW2&lt;/DeviceName&gt;\n &lt;HostName&gt;EDSOWSERVER2&lt;/HostName&gt;\n &lt;MACAddress&gt;00:00:00:00:00:00&lt;/MACAddress&gt;\n &lt;DateTime&gt;2018-12-12 16:44:48&lt;/DateTime&gt;\n &lt;owd_DS18B20 Description=\"Programmable resolution thermometer\"&gt;\n &lt;Name&gt;DS18B20&lt;/Name&gt;\n &lt;Family&gt;28&lt;/Family&gt;\n &lt;ROMId&gt;F70000024D85E528&lt;/ROMId&gt;\n &lt;Health&gt;7&lt;/Health&gt;\n &lt;Channel&gt;3&lt;/Channel&gt;\n &lt;RawData&gt;C6004B467FFF0A102A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&lt;/RawData&gt;\n &lt;PrimaryValue&gt;12.3750 Deg C&lt;/PrimaryValue&gt;\n &lt;Temperature Units=\"Centigrade\"&gt;12.3750&lt;/Temperature&gt;\n &lt;UserByte1 Writable=\"True\"&gt;75&lt;/UserByte1&gt;\n &lt;UserByte2 Writable=\"True\"&gt;70&lt;/UserByte2&gt;\n &lt;Resolution&gt;12&lt;/Resolution&gt;\n &lt;PowerSource&gt;0&lt;/PowerSource&gt;\n &lt;/owd_DS18B20&gt;\n &lt;/Devices-Detail-Response&gt;\n\n ------------------------------3cbec9ce8f05--\n</code></pre>\n\n<p>So i'm trying to remove the '--------...' and Content-Type, and the '-------..' at the end before it hits the action method.</p>\n\n<p>Here's my controller:</p>\n\n<pre><code> using Microsoft.AspNetCore.Mvc;\n using Microsoft.AspNetCore.Mvc.Filters;\n using Microsoft.Extensions.Logging;\n using Monitor.Models;\n using System;\n using System.IO;\n\n namespace Monitor.Controllers\n {\n     [ApiController]\n     [Route(\"api/[controller]\")]\n     public class SensorController : Controller\n     {\n         private readonly ILogger _log;\n\n         public SensorController(ILogger&lt;SensorController&gt; logger)\n         {\n             _log = logger;\n         }\n\n         [HttpPost]\n         [OwServer]\n         public IActionResult Post([FromBody] Ow_ServerModel model)\n         {\n             return Ok(\"Working\");\n         }\n     }\n\n     public class OwServer : Attribute, IResourceFilter\n     {\n         public void OnResourceExecuting(ResourceExecutingContext context)\n         {\n             context.HttpContext.Request.Headers[\"Content-Type\"] = \"application/xml\";\n\n             using (StreamReader stream = new StreamReader(context.HttpContext.Request.Body))\n             {\n                 string body = stream.ReadToEnd();\n\n                 int start = body.IndexOf('&lt;');\n                 int last = body.LastIndexOf('&gt;') + 1;\n\n                 string parsedBody = body.Substring(start, (last - start));\n\n\n                 // context.HttpContext.Request.Body = \n             }\n\n         }\n\n         public void OnResourceExecuted(ResourceExecutedContext context)\n         {\n         }\n     }\n }\n\n\n using System;\n using System.Xml.Serialization;\n\n namespace Monitor.Models\n {\n     [Serializable]\n     [XmlRoot(\"Devices-Detail-Response\", Namespace = \"http://www.example.com\")]\n     public class Ow_ServerModel\n     {\n         public int PollCount { get; set; }\n     }\n }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "controltemplate"], "comments": [{"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1544656904, "post_id": 53752855, "comment_id": 94358579, "body": "What do you mean by &quot;access&quot;.  What are you trying to accomplish?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uq9Zk.jpg?s=128&g=1", "display_name": "Roman Tabachuk", "link": "https://stackoverflow.com/users/8111056/roman-tabachuk"}, "edited": false, "score": 0, "creation_date": 1544708194, "post_id": 53757082, "comment_id": 94377788, "body": "Thank you very much! It works, but i had to call ApplyTemplate() for my controls, because FindName() returned null."}], "tags": [], "owner": {"reputation": 620, "user_id": 2409617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxMIC.jpg?s=128&g=1", "display_name": "Pratius Dubey", "link": "https://stackoverflow.com/users/2409617/pratius-dubey"}, "is_accepted": true, "score": 0, "last_activity_date": 1544686782, "creation_date": 1544686782, "answer_id": 53757082, "question_id": 53752855, "link": "https://stackoverflow.com/questions/53752855/accessing-grid-inside-controltemplate/53757082#53757082", "title": "Accessing Grid inside ControlTemplate", "body": "<p>Pomah welcome to stack-overflow.</p>\n\n<p>Here is simple code how to access or get grid details in code side.</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;ControlTemplate x:Name=\"myControl\" TargetType=\"ContentControl\" x:Key=\"CertificatesTable\"&gt;\n        &lt;Grid Margin=\"5\" x:Name=\"grv\"&gt;\n            ...\n        &lt;/Grid&gt;\n    &lt;/ControlTemplate&gt;\n&lt;/Window.Resources&gt;\n</code></pre>\n\n<p>C# Code to access grid details-</p>\n\n<pre><code>ar template = myControl.Template;\nvar myControl = (Grid)template.FindName(\"grv\", myControl);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uq9Zk.jpg?s=128&g=1", "display_name": "Roman Tabachuk", "link": "https://stackoverflow.com/users/8111056/roman-tabachuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53757082, "answer_count": 1, "score": 0, "last_activity_date": 1544686782, "creation_date": 1544656631, "question_id": 53752855, "link": "https://stackoverflow.com/questions/53752855/accessing-grid-inside-controltemplate", "title": "Accessing Grid inside ControlTemplate", "body": "<p>I have ControlTemplate with Grid inside. But i can't find any way to access this Grid in controls, that contain my template :(</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;ControlTemplate TargetType=\"ContentControl\" x:Key=\"CertificatesTable\"&gt;\n        &lt;Grid Margin=\"5\"&gt;\n            ...\n        &lt;/Grid&gt;\n    &lt;/ControlTemplate&gt;\n&lt;/Window.Resources&gt;\n...\n&lt;Border Grid.Row=\"2\" Grid.ColumnSpan=\"100\" BorderThickness=\"1,0,1,1\" BorderBrush=\"#99000000\"&gt;\n    &lt;ContentControl Name=\"Certificates1\" Template=\"{StaticResource CertificatesTable}\"/&gt;\n&lt;/Border&gt;\n&lt;Border Grid.Row=\"4\" Grid.ColumnSpan=\"100\" BorderThickness=\"1,0,1,1\" BorderBrush=\"#99000000\"&gt;\n    &lt;ContentControl Name=\"Certificates2\" Template=\"{StaticResource CertificatesTable}\"/&gt;\n&lt;/Border&gt;\n&lt;Border Grid.Row=\"6\" Grid.ColumnSpan=\"100\" BorderThickness=\"1,0,1,1\" BorderBrush=\"#99000000\"&gt;\n    &lt;ContentControl Name=\"Certificates3\" Template=\"{StaticResource CertificatesTable}\"/&gt;\n&lt;/Border&gt;\n...\n</code></pre>\n"}, {"tags": ["c#", "angularjs", "umbraco", "umbraco7", "umbraco8"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10783234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3787c8146baeacb7f6daf5b7dd159?s=128&d=identicon&r=PG&f=1", "display_name": "JokaKlintan", "link": "https://stackoverflow.com/users/10783234/jokaklintan"}, "is_accepted": false, "score": 2, "last_activity_date": 1545318458, "creation_date": 1545318458, "answer_id": 53871248, "question_id": 53752780, "link": "https://stackoverflow.com/questions/53752780/how-to-upload-file-from-umbraco-backoffice-to-media-section/53871248#53871248", "title": "How to upload file from umbraco backoffice to media section?", "body": "<p>If anyone is stumbling accross this issue this is how I managed to solve it:</p>\n\n<p>edit.html:</p>\n\n<pre><code>&lt;umb-control-group label=\"Response File\" description=\"File to upload\"&gt;\n      &lt;input type=\"file\" id=\"myFile\" ng-multiple=\"false\" /&gt;\n&lt;/umb-control-group&gt;\n</code></pre>\n\n<p>edit.controller.js:</p>\n\n<pre><code> if ($element.find('#myFile')[0].files[0] !== undefined) {\n                var fd = new FormData();\n                fd.append('file', $element.find('#myFile')[0].files[0]);\n                $http.post(\"backoffice/Messages/MessagesApi/PostSaveFile\", fd, {\n                    transformRequest: angular.identity,\n                    headers: { 'Content-Type': undefined }\n                }).success(function (response) {\n                    console.log(response);\n                });\n            }\n</code></pre>\n\n<p>MessagesApiController.cs:</p>\n\n<pre><code>public string PostSaveFile()\n{\n    var file = HttpContext.Current.Request.Files[\"file\"];\n    return file.FileName;\n}\n</code></pre>\n\n<p>Variable file is now an HttpPostedFile and you can use it for whatever you want like saving it into the media section.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 13654021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc84cd057b0fc724beaca8ddc81f5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Arjan", "link": "https://stackoverflow.com/users/13654021/arjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1590946561, "creation_date": 1590946561, "answer_id": 62120100, "question_id": 53752780, "link": "https://stackoverflow.com/questions/53752780/how-to-upload-file-from-umbraco-backoffice-to-media-section/62120100#62120100", "title": "How to upload file from umbraco backoffice to media section?", "body": "<p>For those of you who are struggling with file uploads in custom sections in Umbraco 8 here's my solution:</p>\n\n<p>View:</p>\n\n<pre><code>&lt;input type=\"file\" class=\"umb-textstring\" ngf-select=\"\" ng-model=\"files\" ng-multiple=\"false\" ngf-change=\"fileSelected(files)\" required /&gt;\n&lt;umb-button action=\"vm.clickUploadButton()\"\n            type=\"button\"\n            button-style=\"info\"\n            label=\"Upload\"&gt;\n&lt;/umb-button&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>function Controller($scope, Upload) {\n    var vm = this;\n    vm.clickUploadButton = clickUploadButton;\n\n    $scope.fileSelected = function (files) {\n        $scope.file = files;\n    };\n\n    function clickUploadButton() {\n        if (!$scope.file)\n            return false;\n\n        Upload.upload({\n            url: \"backoffice/api/Upload/UploadFile\",\n            fields: {\n                \"field1\": \"value1\",\n                \"field2\": \"value2\"\n            },\n            file: $scope.file\n        }).success(function (data, status, headers, config) {\n            console.log(status);\n            console.log(data);\n        }).error(function (evt, status, headers, config) {\n            console.log(evt.Message);\n        });\n    }\n}\n</code></pre>\n\n<p>API controller:</p>\n\n<pre><code>public class UploadController : UmbracoAuthorizedApiController\n{\n    [HttpPost]\n    public HttpResponseMessage UploadFile()\n    {\n        var files = HttpContext.Current.Request.Files;\n        var field1 = HttpContext.Current.Request.Form[\"field1\"];\n        var field2 = HttpContext.Current.Request.Form[\"field2\"];\n\n        return Request.CreateResponse(HttpStatusCode.OK, new { fileCount = files.Count, field1, field2 }) ;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10783234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3787c8146baeacb7f6daf5b7dd159?s=128&d=identicon&r=PG&f=1", "display_name": "JokaKlintan", "link": "https://stackoverflow.com/users/10783234/jokaklintan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1591017480, "creation_date": 1544656166, "last_edit_date": 1591017480, "question_id": 53752780, "link": "https://stackoverflow.com/questions/53752780/how-to-upload-file-from-umbraco-backoffice-to-media-section", "title": "How to upload file from umbraco backoffice to media section?", "body": "<p>I am using a custom section within umbraco for displaying messages sent by users. I want the admins to be able to answer these messages by uploading a file to the message itself. This way I will know which file belongs to which message. I have followed some guides and recommendations most notably this one \n<a href=\"https://our.umbraco.com/forum/extending-umbraco-and-using-the-api/81065-file-upload-in-backoffice-custom-section\" rel=\"nofollow noreferrer\">file-upload-in-backoffice-custom-section</a> on how to upload files from umbraco backoffice.</p>\n\n<p>Problem with my code however is that it does not seem to send the whole file with the post request just the path of the file which becomes something similar to: C:\\fakepath\\file.pdf</p>\n\n<p>My question would be how do I send the whole file in the post request and how can i catch/convert the file into an HttpPostedFileBase inside of the API function. If I can get the file as HttpPostedFileBase I will know how to upload it to the media section of umbraco.</p>\n\n<p>Code below:</p>\n\n<p>edit.html:</p>\n\n<pre><code>                    &lt;umb-control-group label=\"File\" description=\"File to upload\"&gt;\n                        &lt;input type=\"file\" class=\"umb-editor umb-textstring\" ng-model=\"files\" ng-change=\"fileSelected(files)\" ng-multiple=\"false\" /&gt;\n                    &lt;/umb-control-group&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/umb-editor-container&gt;\n\n    &lt;umb-editor-footer&gt;\n        &lt;umb-editor-footer-content-right&gt;\n            &lt;div class=\"umb-button ng-scope\"&gt;           \n                &lt;button ng-click=\"OnSave()\" class=\"btn umb-button__button btn-success umb-button--\"&gt;\n                    &lt;span class=\"umb-button__content\"&gt;\n                        Save\n                    &lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/umb-editor-footer-content-right&gt;\n    &lt;/umb-editor-footer&gt;\n</code></pre>\n\n<p>edit.controller.js:</p>\n\n<pre><code>$scope.fileSelected = function (files) {\n        $scope.file = files;\n    };\n\n\n    $scope.OnSave = function () {\n            var request = {\n                file: $scope.file\n            };\n            return $http({\n                method: 'POST',\n                url: \"backoffice/Messages/MessagesApi/PostSaveFile\",\n                headers: { 'Content-Type': undefined },\n                transformRequest: function (data) {\n                    var formData = new FormData();\n                    formData.append(\"file\", data.file);\n                    return formData;\n                },\n                data: request\n            }).then(function (response) {\n                if (response) {\n                    var fileName = response.data;\n                    return fileName;\n                } else {\n                    return false;\n                }\n            });\n\n    };\n</code></pre>\n\n<p>MessagesApiController.cs:</p>\n\n<pre><code>public HttpResponseMessage PostSaveFile(HttpPostedFileBase file)\n{\n    var files = HttpContext.Current.Request;\n\n    if (files != null &amp;&amp; files.ContentLength &gt; 0)\n    {\n        StreamReader reader = new StreamReader(files.InputStream);\n        string responseFromServer = reader.ReadToEnd();\n    }\n    return Request.CreateResponse(HttpStatusCode.OK);\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "xamarin.ios", "csproj"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1544662994, "post_id": 53752766, "comment_id": 94360014, "body": "what happens when you click the green triangle?"}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1544664352, "post_id": 53752766, "comment_id": 94360254, "body": "It says that Visual Studio can&#39;t start the debugger because Debugging is not enabled for this configuration (as expected)."}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1544687545, "post_id": 53752766, "comment_id": 94366637, "body": "Could your project run on simulator?"}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1544697957, "post_id": 53752766, "comment_id": 94372039, "body": "@LucasZhang-MSFT The project can indeed run on a simulator; this is actually what I am using when developing &amp; debugging the application (Debug|iPhoneSimulator). However it is <b>not</b> working in the configuration (Ad-hoc|iPhone) as the simulator is not part of the provisioned devices. And, on top on that, I can&#39;t deploy it either (Ad-hoc|iPhoneSimulator).."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 13936840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af9e304b129d1aa457bb3d0702b19cf?s=128&d=identicon&r=PG", "display_name": "Gabriel Mazzocca", "link": "https://stackoverflow.com/users/13936840/gabriel-mazzocca"}, "is_accepted": false, "score": 1, "last_activity_date": 1594832124, "last_edit_date": 1594832124, "creation_date": 1594828773, "answer_id": 62918982, "question_id": 53752766, "link": "https://stackoverflow.com/questions/53752766/why-am-i-unable-to-deploy-a-xamarin-ios-app-to-my-device/62918982#62918982", "title": "Why am I unable to deploy a xamarin.ios app to my device?", "body": "<p>Please check <a href=\"https://docs.microsoft.com/en-us/xamarin/cross-platform/troubleshooting/questions/deploy-checkboxes\" rel=\"nofollow noreferrer\">Deploy checkboxes disabled in Configuration Manager</a></p>\n<p>Since Xamarin 3.5, Xamarin.iOS projects deployed automatically whenever you press the Start toolbar button or pick the Debug &gt; Start Debugging menu item. You will still need to set the desired Xamarin.iOS app project as the StartUp Project before running either of those commands.</p>\n"}], "owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1611475162, "creation_date": 1544656090, "last_edit_date": 1611475162, "question_id": 53752766, "link": "https://stackoverflow.com/questions/53752766/why-am-i-unable-to-deploy-a-xamarin-ios-app-to-my-device", "title": "Why am I unable to deploy a xamarin.ios app to my device?", "body": "<p>I am working on an iOS application (using Visual Studio on Windows 10 running in Parallels on macOS X) and I have setup a configuration used for <code>Ad-hoc</code> deployment. Somehow, I am unable to deploy the application to my iOS device: the deploy menu item is simply not there.</p>\n<p>As recommended in different answers from different websites, the solution usually consists in checking the Deploy option in the Configuration Manager. However, I am faced with the following dialog box:</p>\n<p><a href=\"https://i.stack.imgur.com/9eaxP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9eaxP.png\" alt=\"Configuration Manager\" /></a></p>\n<p>The Deploy option is disabled.</p>\n<p>As shown below, I can see that my Visual Studio instance is successfully connected to the iOS agent and that my phone is visible:</p>\n<p><a href=\"https://i.stack.imgur.com/PG2jW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PG2jW.png\" alt=\"Setup\" /></a></p>\n<p>I looked into the <code>Ad-hoc</code> configuration part from the iOS <code>csproj</code> file but I did not see anything obvious that would allow the option to be enabled:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Ad-Hoc|iPhone' &quot;&gt;\n    &lt;DebugType&gt;none&lt;/DebugType&gt;\n    &lt;Optimize&gt;true&lt;/Optimize&gt;\n    &lt;OutputPath&gt;bin\\iPhone\\Ad-Hoc&lt;/OutputPath&gt;\n    &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;\n    &lt;WarningLevel&gt;4&lt;/WarningLevel&gt;\n    &lt;ConsolePause&gt;False&lt;/ConsolePause&gt;\n    &lt;MtouchArch&gt;ARM64&lt;/MtouchArch&gt;\n    &lt;CodesignEntitlements&gt;Entitlements.plist&lt;/CodesignEntitlements&gt;\n    &lt;BuildIpa&gt;false&lt;/BuildIpa&gt;\n    &lt;CodesignProvision&gt;Demo (Ad-hoc)&lt;/CodesignProvision&gt;\n    &lt;CodesignKey&gt;iPhone Distribution: Christophe --- (X---)&lt;/CodesignKey&gt;\n    &lt;MtouchExtraArgs&gt;-v -v -v -v --linkskip=Microsoft.EntityFrameworkCore\n        --linkskip=Microsoft.EntityFrameworkCore.Relational --linkskip=Microsoft.EntityFrameworkCore.Sqlite\n        --linkskip=Remotion.Linq --linkskip=Microsoft.Data.Sqlite.Core\n        --linkskip=Microsoft.EntityFrameworkCore.Sqlite.Core\n        --linkskip=Microsoft.Extensions.DependencyInjection.Abstractions\n        --linkskip=Microsoft.Extensions.DependencyInjection --linkskip=Microsoft.Extensions.Logging.Abstractions\n        --linkskip=Microsoft.Extensions.Logging --linkskip=Microsoft.Extensions.Caching.Abstractions\n        --linkskip=Microsoft.Extensions.Caching.Memory --linkskip=Microsoft.Extensions.Options\n        --linkskip=Microsoft.Extensions.Primitives --linkskip=System.Reflection --linkskip=System.Reflection.Primitives\n        --linkskip=System.Linq --linkskip=System.Linq.Expressions --linkskip=System.Linq.Queryable&lt;/MtouchExtraArgs&gt;\n&lt;/PropertyGroup&gt;\n</code></pre>\n<p><strong>Question</strong></p>\n<p>Why is the Deploy option disabled and is it possible to enabled it?</p>\n"}, {"tags": ["c#", "firebase", "unity3d", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10782343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikfXX.jpg?s=128&g=1", "display_name": "DuKe", "link": "https://stackoverflow.com/users/10782343/duke"}, "edited": false, "score": 0, "creation_date": 1544666531, "post_id": 53753834, "comment_id": 94360730, "body": "Thanks, @TrungBui. I think I came across this bit of code before. What isn&#39;t clear for me is how, in this case, I would set the value for the &quot;DataSnapshot dbSnapshot&quot; variable (the one I declared right at the start of the code). I&#39;m filling in for the &quot;database guy&quot; so everything related to Firebase is still kind of arcane to me."}, {"owner": {"reputation": 91, "user_id": 8730238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e5ab4451b87386e54c8cea25778188?s=128&d=identicon&r=PG&f=1", "display_name": "Trung Bui", "link": "https://stackoverflow.com/users/8730238/trung-bui"}, "reply_to_user": {"reputation": 19, "user_id": 10782343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikfXX.jpg?s=128&g=1", "display_name": "DuKe", "link": "https://stackoverflow.com/users/10782343/duke"}, "edited": false, "score": 0, "creation_date": 1544675644, "post_id": 53753834, "comment_id": 94362645, "body": "I&#39;m not sure understand your question. You want to set the value dbSnapshot variable on the firebase? Just used SetRawJsonValueAsync like:  FirebaseDatabase.DefaultInstance.GetReference(&quot;Leaders&quot;).Chi&zwnj;&#8203;ld(&quot;User&quot;).Child(use&zwnj;&#8203;r id).SetRawJsonValueAsync(userData).ContinueWith(task =&gt; ... )"}], "tags": [], "owner": {"reputation": 91, "user_id": 8730238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e5ab4451b87386e54c8cea25778188?s=128&d=identicon&r=PG&f=1", "display_name": "Trung Bui", "link": "https://stackoverflow.com/users/8730238/trung-bui"}, "is_accepted": false, "score": 1, "last_activity_date": 1544664967, "creation_date": 1544664967, "answer_id": 53753834, "question_id": 53752759, "link": "https://stackoverflow.com/questions/53752759/how-to-get-a-data-snapshot-from-firebase-once-and-only-once-using-c/53753834#53753834", "title": "How to get a data Snapshot from Firebase once and only once (using C#)?", "body": "<p>Bellow example how i get leaderboard, this get data only one.</p>\n\n<pre><code>FirebaseDatabase.DefaultInstance\n           .GetReference(\"Leaders\").OrderByChild(\"Score\")\n           .GetValueAsync().ContinueWith(task =&gt;\n           {\n               if (task.IsFaulted)\n               {\n                   Debug.LogError(\"Get faulted\");\n                   return;\n               }\n               if (task.Result != null &amp;&amp; task.Result.ChildrenCount &gt; 0)\n               {\n                   Debug.Log(\"Get data success!\");\n                   ...\n               }\n           });\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10782343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikfXX.jpg?s=128&g=1", "display_name": "DuKe", "link": "https://stackoverflow.com/users/10782343/duke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544665028, "creation_date": 1544656052, "last_edit_date": 1544665028, "question_id": 53752759, "link": "https://stackoverflow.com/questions/53752759/how-to-get-a-data-snapshot-from-firebase-once-and-only-once-using-c", "title": "How to get a data Snapshot from Firebase once and only once (using C#)?", "body": "<p>I'm working with Unity, using C#, and need to get a snapshot at the beggining of the scene. But I need to get the snapshot <strong>once and only once</strong>.\nSo far, all exemples I found use some sort of event listener to get the snapshot, and it means that the snapshot can be overwritten by some event.\nAfter I created the event listener (following a tutorial), I worked around the problem with an if-statement.</p>\n\n<p>The code I'm using:</p>\n\n<pre><code>DataSnapshot dbSnapshot; // &lt;-- the snapshot I need to use later\n\nvoid Start(){\n    StartListener();\n    // Other stuff happens...\n}\n\nprotected void StartListener() {\n    dbRoot.ValueChanged += (\n    object sender2, ValueChangedEventArgs e2) =&gt; {\n        if (e2.DatabaseError != null) {\n            Debug.LogError(e2.DatabaseError.Message);\n            return;\n        }\n        Debug.Log(\"ValueChangedEventArgs\");\n        if (e2.Snapshot != null || e2.Snapshot.Value != null){\n            if (dbSnapshot == null){\n            //  This happens once, and prevents the dbSnapshot from being overwritten\n                dbSnapshot = e2.Snapshot;\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>It seems to work but I would like to know if it's possible to get the snapshot without an event listener or, at least, if there is a more elegant solution.</p>\n"}, {"tags": ["c#", "excel", "office-interop", "excel-interop"], "answers": [{"tags": [], "owner": {"reputation": 5503, "user_id": 1558392, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XDG8X.jpg?s=128&g=1", "display_name": "ElliotSchmelliot", "link": "https://stackoverflow.com/users/1558392/elliotschmelliot"}, "is_accepted": false, "score": 1, "last_activity_date": 1546449311, "creation_date": 1546449311, "answer_id": 54010500, "question_id": 53752745, "link": "https://stackoverflow.com/questions/53752745/ms-excel-interop-prevent-sign-in-modal-when-opening-a-restricted-access-workbo/54010500#54010500", "title": "MS Excel Interop - Prevent Sign In Modal When Opening a Restricted Access Workbook", "body": "<p>I'm not particularly happy with this solution, but I have found a workaround for avoiding MS sign-in modals (and many other modals) prior to opening an Excel document.</p>\n\n<p>Before opening the Excel document with MS Excel Interop, I conduct a \"zip test\" where I zip up the file into a temporary directory, attempt to extract it, and then immediately delete that directory.</p>\n\n<pre><code>private void ZipTest(string xlsxFilePath, string tempDirectoryPath)\n{\n    try\n    {\n        Directory.CreateDirectory(tempDirectoryPath);\n        string zipPath = ZipFile(xlsxFilePath, tempDirectoryPath);\n        using (ZipArchive zip = System.IO.Compression.ZipFile.Open(zipPath, ZipArchiveMode.Update))\n        {\n            zip.ExtractToDirectory(tempDirectoryPath);\n        }\n        Directory.Delete(tempDirectoryPath, true);\n    }\n    catch (Exception ex)\n    {\n        if (Directory.Exists(tempDirectoryPath))\n        {\n            Directory.Delete(tempDirectoryPath, true);\n        }\n        throw ex; // Do whatever you want\n    }\n}\n\nprivate string ZipFile(string filePath, string destinationDirectory)\n{\n    string fileName = Path.GetFileName(filePath);\n    string zipFileName = Path.ChangeExtension(fileName, \".zip\");\n    string destinationPath = $\"{destinationDirectory}\\\\{zipFileName}\";\n    File.Copy(filePath, destinationPath, false);\n    return destinationPath;\n}\n</code></pre>\n\n<p>Zipping and extracting the file will fail if the workbook has restricted access, is password protected, or otherwise can't be written to. This prevents the MS sign-in modal because the excel doc is never opened.</p>\n\n<p>Note that this only works on xlsx files. Any xls files need to be converted to xlsx first.</p>\n"}], "owner": {"reputation": 5503, "user_id": 1558392, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XDG8X.jpg?s=128&g=1", "display_name": "ElliotSchmelliot", "link": "https://stackoverflow.com/users/1558392/elliotschmelliot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546449311, "creation_date": 1544655938, "last_edit_date": 1545164326, "question_id": 53752745, "link": "https://stackoverflow.com/questions/53752745/ms-excel-interop-prevent-sign-in-modal-when-opening-a-restricted-access-workbo", "title": "MS Excel Interop - Prevent Sign In Modal When Opening a Restricted Access Workbook", "body": "<p>I am using MS Excel Interop to parse information from a collection of Excel files. If one of these Excel files has <a href=\"https://support.office.com/en-us/article/information-rights-management-in-office-c7a70797-6b1e-493f-acf7-92a39b85e30c\" rel=\"nofollow noreferrer\">restricted access</a>, a Windows sign-in modal opens and pauses my program. I would like to skip over these files so that this modal does not appear.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JstCQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JstCQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My current code, with various settings to block any Excel warnings:</p>\n\n<pre><code>var application = new Microsoft.Office.Interop.Excel.Application();\napplication.DisplayAlerts = false;\napplication.AutomationSecurity = Microsoft.Office.Core.MsoAutomationSecurity.msoAutomationSecurityForceDisable;\nvar workbook = application.Workbooks.Open(filePath, UpdateLinks: 0, ReadOnly: true, IgnoreReadOnlyRecommended: true, Password: \"fakePassword\");\n</code></pre>\n\n<p>I encountered a similar issue with password protected Excel documents, but was able to prevent the enter password modal by setting a fake password in the <code>.Open</code> code above. This causes an exception to be thrown when a file is password protected, which I then catch and the program continues on to the next Excel file.</p>\n\n<p>I was hoping the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.office.interop.excel.workbooks.open?view=excel-pia\" rel=\"nofollow noreferrer\">WriteResPassword</a> option for the Open method would work similarly, but even if I specify this, the Windows sign in still appears.</p>\n\n<p>Any help greatly appreciated!</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10783233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KvG2z.jpg?s=128&g=1", "display_name": "Catman1000", "link": "https://stackoverflow.com/users/10783233/catman1000"}, "edited": false, "score": 0, "creation_date": 1544656852, "post_id": 53752707, "comment_id": 94358566, "body": "Thanks, that worked!"}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 1, "last_activity_date": 1544656302, "last_edit_date": 1544656302, "creation_date": 1544655699, "answer_id": 53752707, "question_id": 53752679, "link": "https://stackoverflow.com/questions/53752679/unity-nullreferenceexception-object-reference-not-set-to-an-instance-of-an-obje/53752707#53752707", "title": "UNITY NullReferenceException: Object reference not set to an instance of an object .txt file to UI text", "body": "<p>You need to initialize <code>contents</code>. You are trying to reference into an array that hasn't been allocated.</p>\n\n<pre><code>contents = new string[20];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10783233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KvG2z.jpg?s=128&g=1", "display_name": "Catman1000", "link": "https://stackoverflow.com/users/10783233/catman1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "closed_date": 1544655758, "answer_count": 1, "score": -2, "last_activity_date": 1544656302, "creation_date": 1544655521, "question_id": 53752679, "link": "https://stackoverflow.com/questions/53752679/unity-nullreferenceexception-object-reference-not-set-to-an-instance-of-an-obje", "closed_reason": "Duplicate", "title": "UNITY NullReferenceException: Object reference not set to an instance of an object .txt file to UI text", "body": "<p>I'm trying to make a readable book in Unity. I have a folder with .txt files for pages. I want to put the text from these files on a Text UI element. The idea is that the script finds the number of files, and based on that populates an array of strings. Then the script finds out on which UI Text element to put the text. I will have a button that changes bookSectionOne and bookSectionTwo and restarts the script, so that the new page gets loaded.</p>\n\n<p>Unity is giving me an error: </p>\n\n<blockquote>\n  <p>NullReferenceException: Object reference not set to an instance of an\n  object (wrapper stelemref) object:stelemref (object,intptr,object)\n  BookTextAppender.Start () (at\n  Assets/Scripts/Book/BookTextAppender.cs:35)</p>\n</blockquote>\n\n<pre><code>using UnityEngine;\nusing System.IO;\nusing UnityEngine.UI;\n\npublic class BookTextAppender : MonoBehaviour\n{\n    public int bookSectionOne;\n    public int bookSectionTwo;\n    public Text Text1;\n    public Text Text2;\n    public string txtFile;\n\n    string bookResourcesPath;\n    int fileNumber;\n    string[] contents;\n\n    // Use this for initialization\n    void Start ()\n    {\n        bookResourcesPath = Application.dataPath + \"/Resources/BookText/\";\n        print(\"Directory: \" + bookResourcesPath);\n\n        fileNumber = Directory.GetFiles(bookResourcesPath).Length;\n        fileNumber /= 2;\n        print(\"FileNum: \" + fileNumber);\n\n        for (int i = 1; i &lt;= fileNumber; i++)\n        {\n            txtFile = txtFile + i.ToString() + \".txt\";\n            print(\"FileName: \" + txtFile);\n\n\n            print(\"Path:\" + bookResourcesPath + txtFile);\n\n            contents[i] = File.ReadAllText(bookResourcesPath + txtFile);\n\n            print(\"Content\" + i + \": \" + contents[i]);\n\n\n            if (bookSectionTwo == i)\n            {\n                Text2.text = contents[i];\n                print(\"Text2: \" + contents[i]);\n            }\n            else if (bookSectionOne == i)\n            {\n                Text1.text = contents[i];\n                print(\"Text1: \" + contents[i]);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The line that is giving problems:</p>\n\n<pre><code>contents[i] = File.ReadAllText(bookResourcesPath + txtFile);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2"], "answers": [{"tags": [], "owner": {"reputation": 3131, "user_id": 782152, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/be4713c0e4c310bd556795465586d8c1?s=128&d=identicon&r=PG", "display_name": "mameesh", "link": "https://stackoverflow.com/users/782152/mameesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1545054760, "creation_date": 1545054760, "answer_id": 53816640, "question_id": 53752552, "link": "https://stackoverflow.com/questions/53752552/webapi-remove-zanytype-element-from-xml-results/53816640#53816640", "title": "WebAPI Remove z:anyType Element from XML Results", "body": "<p>I ended up changing this up a bit to instead use a custom serializer like the following answer\n<a href=\"https://stackoverflow.com/questions/18951521/web-api-dynamic-to-xml-serialization\">Web API - Dynamic to XML serialization</a></p>\n\n<p>This provided me with the greatest flexibility as it allows you to output exactly what the class looks like in XML without any of the attributes on the class</p>\n"}], "owner": {"reputation": 3131, "user_id": 782152, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/be4713c0e4c310bd556795465586d8c1?s=128&d=identicon&r=PG", "display_name": "mameesh", "link": "https://stackoverflow.com/users/782152/mameesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 53816640, "answer_count": 1, "score": 1, "last_activity_date": 1545054760, "creation_date": 1544654748, "question_id": 53752552, "link": "https://stackoverflow.com/questions/53752552/webapi-remove-zanytype-element-from-xml-results", "title": "WebAPI Remove z:anyType Element from XML Results", "body": "<p>I have an interface as follows</p>\n\n<pre><code>public interface IResponse\n{\n    IResponse GetSuccessResponse();\n    IResponse GetErrorResponse();\n}\n</code></pre>\n\n<p>I then have various classes that implement logic as follows</p>\n\n<pre><code>[KnownType(typeof(DefaultResponse))]\n[DataContract(Namespace = \"\")]\npublic class DefaultResponse : IResponse\n{\n    [DataMember(Order = 0)]\n    public string Status { get; set; }\n\n    [DataMember(Order = 1)]\n    public string Info { get; set; }\n\n    public IResponse GetSuccessResponse()\n    {\n        return new DefaultResponse()\n        {\n            Status = \"Accept\",\n            Info = \"Success\"\n        };\n    }\n\n    public IResponse GetErrorResponse()\n    {\n        return new DefaultResponse()\n        {\n            Status = \"Reject\",\n            Info = \"Fail\"\n        };\n    }\n}\n</code></pre>\n\n<p>When returning a response in my WebAPI, I am using a factory pattern to get the IResponse type needed, and calling IResponse.GetErrorResponse. The problem is this always generates XML like the following</p>\n\n<pre><code>&lt;z:anyType xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"\" i:type=\"DefaultResponse\" xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\"&gt;\n    &lt;Status&gt;Reject&lt;/Status&gt;\n    &lt;Info&gt;Fail&lt;/Info&gt;\n&lt;/z:anyType&gt;\n</code></pre>\n\n<p>Is there any way to get rid of the z:anyType element and replace it with the actual class name. It works if I use the class directly, but not with the interface involved.</p>\n\n<p>I am creating the response using the following type of code:</p>\n\n<pre><code>return request.CreateResponse(HttpStatusCode.InternalServerError, responseType.GetErrorResponse());\n</code></pre>\n"}, {"tags": ["c#", "node.js", "windows", "puppeteer"], "comments": [{"owner": {"reputation": 493, "user_id": 4616125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080e2938da348f9045d1ee6e521c2b9f?s=128&d=identicon&r=PG", "display_name": "Raul Rueda", "link": "https://stackoverflow.com/users/4616125/raul-rueda"}, "edited": false, "score": 0, "creation_date": 1544733149, "post_id": 53752449, "comment_id": 94391088, "body": "Im sure is related to path relative. When you include puppeteer require(&#39;puppeteer&#39;) try to put the full path e.g. &quot;C:/docs/node_modules/puppeteer&quot;"}, {"owner": {"reputation": 93, "user_id": 3439626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1739df40f2a67d2b5bd710d764f08bc7?s=128&d=identicon&r=PG&f=1", "display_name": "peterbh", "link": "https://stackoverflow.com/users/3439626/peterbh"}, "reply_to_user": {"reputation": 493, "user_id": 4616125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080e2938da348f9045d1ee6e521c2b9f?s=128&d=identicon&r=PG", "display_name": "Raul Rueda", "link": "https://stackoverflow.com/users/4616125/raul-rueda"}, "edited": false, "score": 0, "creation_date": 1545191627, "post_id": 53752449, "comment_id": 94536476, "body": "I wish to avoid any dependency between the script and the location of the puppeteer modules. Besides the definition of the node_path environment variable is sufficient (in the case of a batch file) and is at least partly sufficient when node is run as a spawned process as the error is quite different if the node_path variable is not defined"}], "owner": {"reputation": 93, "user_id": 3439626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1739df40f2a67d2b5bd710d764f08bc7?s=128&d=identicon&r=PG&f=1", "display_name": "peterbh", "link": "https://stackoverflow.com/users/3439626/peterbh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544654275, "creation_date": 1544654275, "question_id": 53752449, "link": "https://stackoverflow.com/questions/53752449/running-nde-js-puppeteer-as-a-spawned-process-on-windows-gives-error-puppeteer", "title": "Running nde.js &amp; puppeteer as a spawned process on windows gives error puppeteer.launch is not a function", "body": "<p>I have a c# program that runs node.js as a separate process using puppeteer to convert html text to pdf.</p>\n\n<p>If the script is in the same directory as the node_modules  directory containing puppeteer then all works fine.</p>\n\n<p>If I define the node_path environment variable to reference the node_modules directory and the script is located elsewhere then node.js returns the error \"puppeteer.launch is not a function\"</p>\n\n<p>The same node command works fine in a batch file.</p>\n"}, {"tags": ["c#", "wpf", "datagrid"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544656928, "post_id": 53752789, "comment_id": 94358591, "body": "Thanks for your answer. I&#39;m setting my binding source like this:          comparisonGridLeft.ItemsSource = myDataTable.AsDataView(); The compiler is happy with me setting the Match property on myDataTable, but nothing appears to get updated. Do you know what kind of other changes I&#39;d need to make for that to work?"}, {"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544657049, "post_id": 53752789, "comment_id": 94358633, "body": "Your side note seems much simpler- I&#39;d need to have the DataGridRow instead of DataRowView though, right? I tried going that route but iterating through the DataGridRows seems to be tough/ugly to pull off"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544657763, "post_id": 53752789, "comment_id": 94358841, "body": "@ThomasGales myDataTable is an actual DataTable type? Because that isn&#39;t a DependencyObject either. Your code wouldn&#39;t build if you did that. What kind of object is it?"}, {"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544657875, "post_id": 53752789, "comment_id": 94358876, "body": "it&#39;s definitely an actual DataTable type so I&#39;m not sure why it&#39;s compiling then."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544657999, "post_id": 53752789, "comment_id": 94358909, "body": "@ThomasGales... if I try to write: DataTable dt = new DataTable();\t\t\tCustomProperties.SetMatch(dt, true); it doesn&#39;t compile on the &#39;dt&#39; not being a DependencyObject. Can you edit your question to show more of the code involved?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544658162, "post_id": 53752789, "comment_id": 94358952, "body": "@ThomasGales but regardless... it doesn&#39;t matter... you wouldn&#39;t be able to use the DataTable to set DPs on the rows."}, {"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544658191, "post_id": 53752789, "comment_id": 94358961, "body": "Ah, my bad. I was putting a DataGrid into SetMatch(), not a DataTable so that&#39;s why it compiled fine  Also, for some reason &quot;@SledgeHammer&quot; isn&#39;t working for me.."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544658547, "post_id": 53752789, "comment_id": 94359063, "body": "@ThomasGales That makes more sense :). You wouldn&#39;t be able to use the DataGrid to hold a AP since you need one for each row. How are you creating the DataTable?"}, {"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544741186, "post_id": 53752789, "comment_id": 94394113, "body": "I&#39;m getting my DataTable from a SQLiteDataAdapter"}], "tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1544658887, "last_edit_date": 1544658887, "creation_date": 1544656197, "answer_id": 53752789, "question_id": 53752420, "link": "https://stackoverflow.com/questions/53752420/how-to-set-background-color-of-datarowview-based-on-dependencyproperty/53752789#53752789", "title": "How to set background color of DataRowView based on DependencyProperty?", "body": "<p>You can't set an attached property on a DataRowView since as you see, it's not a DependencyObject which is a requirement for attached properties. What is the binding source for the DataGrids? If you control that object, you could stick the Match property in that object.</p>\n\n<p>Just a side note... to me, your loop could just set the background color, there isn't really a need for an attached property.</p>\n\n<p>EDIT: from the sound of things, I wouldn't get the data in a data table, but rather your own POCO:</p>\n\n<pre><code>class MyPoco\n{\n  string PropA {get;set}\n  string PropB {get;set}\n  Color Background {get;set}\n}\n</code></pre>\n\n<p>Then have a <code>List&lt;MyPoco&gt;</code> and set the ItemsSource to that. Instead of auto binding, you'd have to define the columns yourself and bind those to the POCO properties:</p>\n\n<pre><code>&lt;DataGrid ItemsSource={Binding Pocos}&gt;\n  &lt;DataGrid.Columns&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding PropA}\" /&gt;\n</code></pre>\n\n<p>Now you can add your styling property to the POCO, the Background property. Then you would define a DataGrid.RowStyle that sets the Background by binding to the Background property.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "edited": false, "score": 0, "creation_date": 1544718926, "post_id": 53754291, "comment_id": 94384528, "body": "Thanks for your answer. Important to note for others looking at this answer that I needed to add my converters to Window.Resources as seen [here][1]. I was able to get it working with 2 Converters: one for the left table and one for the right table.  [1]: <a href=\"http://wpftutorial.net/ValueConverters.html\" rel=\"nofollow noreferrer\">wpftutorial.net/ValueConverters.html</a>"}], "tags": [], "owner": {"reputation": 5118, "user_id": 1288545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fa1a4d6db4dbf552c915e4a8d88c18?s=128&d=identicon&r=PG", "display_name": "Cinchoo", "link": "https://stackoverflow.com/users/1288545/cinchoo"}, "is_accepted": true, "score": 0, "last_activity_date": 1544668690, "creation_date": 1544668690, "answer_id": 53754291, "question_id": 53752420, "link": "https://stackoverflow.com/questions/53752420/how-to-set-background-color-of-datarowview-based-on-dependencyproperty/53754291#53754291", "title": "How to set background color of DataRowView based on DependencyProperty?", "body": "<p>You can't use the attached property in this case. This is how you can attack the problem</p>\n\n<ol>\n<li>Define cache, holding non matching datarows</li>\n</ol>\n\n<blockquote>\n<pre><code>static class CacheService\n{\n    public static readonly HashSet&lt;DataRowView&gt; Cache = new HashSet&lt;DataRowView&gt;();\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Do the comparison, build cache of differences</li>\n</ol>\n\n<blockquote>\n<pre><code>HashSet&lt;DataRowView&gt; _cache = CacheService.Cache;\nforeach (DataRowView leftRow in leftGrid.ItemsSource)\n{\n  foreach (DataRowView rightRow in rightGrid.ItemsSource)\n  {\n      bool foundMatch = DetermineIfMatch(leftRow, rightRow);\n      if (!foundMatch)\n          _cache.Add(leftRow);\n  }\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>Tweak the XAML</li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;DataGrid Name=\"comparisonGridLeft\" ItemsSource=\"{Binding}\" Margin=\"3\" CanUserResizeRows=\"False\"&gt;\n    &lt;DataGrid.RowStyle&gt;\n        &lt;Style TargetType=\"DataGridRow\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"{Binding Path=., Converter={StaticResource MatchToBrushConverter}}\" /&gt;\n        &lt;/Style&gt;\n    &lt;/DataGrid.RowStyle&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>The converter</li>\n</ol>\n\n<blockquote>\n<pre><code>public class MatchToBrushConverter : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        HashSet&lt;DataRowView&gt; _cache = CacheService.Cache; //Get the cache\n\n        return _cache.Contains(value) ? Brushes.Red : Brushes.Transparent;\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>FYI, I've not tested it. </p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 53754291, "answer_count": 2, "score": -1, "last_activity_date": 1544668690, "creation_date": 1544654101, "question_id": 53752420, "link": "https://stackoverflow.com/questions/53752420/how-to-set-background-color-of-datarowview-based-on-dependencyproperty", "title": "How to set background color of DataRowView based on DependencyProperty?", "body": "<p>The end goal of my application is for a user to compare 2 DataTables. I have 2 DataGrids displayed side-by-side showing the DataTables, with the rows already rearranged so that any matching rows between the 2 tables are aligned.</p>\n\n<p>My desire is that I want any <em>non-matching</em> rows to have a red background, like this: <a href=\"https://i.stack.imgur.com/te4Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/te4Vo.png\" alt=\"Yes I know this screenshot was made in WinForms\"></a></p>\n\n<p>I have my XAML set up similar to <a href=\"https://stackoverflow.com/questions/18053281/how-to-set-datagrids-row-background-based-on-a-property-value-using-data-bindi\">this question</a>:</p>\n\n<pre><code>&lt;DataGrid Name=\"comparisonGridLeft\" ItemsSource=\"{Binding}\" Margin=\"3\" CanUserResizeRows=\"False\"&gt;\n    &lt;DataGrid.RowStyle&gt;\n        &lt;Style TargetType=\"DataGridRow\"&gt;\n            &lt;Style.Triggers&gt;\n                &lt;DataTrigger Binding=\"{Binding Match}\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"Background\" Value=\"Red\"&gt;&lt;/Setter&gt;\n                &lt;/DataTrigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/DataGrid.RowStyle&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>With my DependencyProperty \"Match\" defined similar to <a href=\"https://stackoverflow.com/a/7149200/5011382\">this answer</a>:</p>\n\n<pre><code>public class CustomProperties\n{\n  public static DependencyProperty MatchProperty =\n        DependencyProperty.RegisterAttached(\"Match\",\n                                            typeof(bool),\n                                            typeof(CustomProperties),\n                                            new PropertyMetadata(null));\n  public static void SetMatch(DependencyObject obj, bool value)\n  {\n     obj.SetValue(MatchProperty, value);\n  }\n  public static bool GetMatch(DependencyObject obj)\n  {\n     return (bool)(obj.GetValue(MatchProperty));\n  }\n}\n</code></pre>\n\n<p>My final roadblock is that when I iterate through the DataGrids to set the \"Match\" property to the correct value, I get an error:</p>\n\n<blockquote>\n  <p>error CS1503: Argument 1: cannot convert from 'System.Data.DataRowView' to 'System.Windows.DependencyObject'</p>\n</blockquote>\n\n<pre><code>foreach (DataRowView leftRow in leftGrid.ItemsSource)\n{\n  foreach (DataRowView rightRow in rightGrid.ItemsSource)\n  {\n     bool foundMatch = DetermineIfMatch(leftRow, rightRow);\n     if (foundMatch)\n     {\n        //Throws the compile-time error\n        CustomProperties.SetMatch(leftRow, true);\n        foundCloseMatch = true;\n        break;\n     }\n  }\n}\n</code></pre>\n\n<p>Thanks in advance for any help. New to WPF and have been working on this all day to no avail \ud83d\ude29</p>\n"}, {"tags": ["javascript", "c#", "razor", "asp.net-core"], "comments": [{"owner": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 1, "creation_date": 1544654874, "post_id": 53752384, "comment_id": 94357944, "body": "Razor is going to generate static HTML.  Is that modal in a partial view or something separate from the for loop?"}, {"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "reply_to_user": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 0, "creation_date": 1544655663, "post_id": 53752384, "comment_id": 94358207, "body": "It is just at the bottom of the page after the for loop ends."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 3, "creation_date": 1544656371, "post_id": 53752384, "comment_id": 94358439, "body": "<code>onclick=&quot;@Model.ClickedId=@item.Id&quot;</code> Razor will evaluate that on the server before anything is rendered to the client. But the <code>onclick</code> is a client-side event handler. You cannot mix that. If you want your client-side modal to do something, you will have to use client-side logic for that."}, {"owner": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 1, "creation_date": 1544660806, "post_id": 53752384, "comment_id": 94359602, "body": "If you&#39;re bundling in Jquery I&#39;d probably fire off an AJAX call with the ID and return the modal body as a partial view.  But, there&#39;s plenty of ways to approach this."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "edited": false, "score": 0, "creation_date": 1544722678, "post_id": 53753370, "comment_id": 94386427, "body": "After a few minor tweaks I was able to get the first way working - thank you very much!!"}], "tags": [], "owner": {"reputation": 335, "user_id": 236339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooMsg.jpg?s=128&g=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/236339/kelvin"}, "is_accepted": true, "score": 1, "last_activity_date": 1544660894, "creation_date": 1544660894, "answer_id": 53753370, "question_id": 53752384, "link": "https://stackoverflow.com/questions/53752384/change-a-variable-when-a-link-is-clicked/53753370#53753370", "title": "Change a variable when a link is clicked", "body": "<p>There are a couple of ways I've done this in the past. Either:</p>\n\n<ol>\n<li>Get all the information that all rows need and dump it on the page (maybe in hidden elements), then when the user interacts with your rows show/hide the relevant extra information. Depending on how much extra info you need there can be a bit of overhead with this.</li>\n</ol>\n\n<p>Put the 'StackTraceErrorMessage' on the page somewhere like</p>\n\n<pre><code>&lt;td class=\"open-modal\" data-itemId=\"@item.Id\"&gt;\n    View\n    &lt;input type=\"hidden\" value=\"@item.StackTraceErrorMessage\" /&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Then in JS look for when the 'View' text is clicked, move the StackTraceErrorMessage from the hidden area to the modal html and display the modal html</p>\n\n<pre><code>$(document).ready(function() {\n    $(\".open-modal\").click(function() {\n        // get the item id from the clicked on element\n        var itemId = $(this).data(\"itemId\");\n        // get the relevant StackTraceErrorMessage and put in the modal html\n        var message = $(this).find('input').val();\n        $('.modal-body').html(message);\n        // show the modal html (presumably this has styles associated to make it look like a dialog)\n        $('.modal).show();\n    });\n)};\n</code></pre>\n\n<ol start=\"2\">\n<li>The second options is, put the basic information on the page and then when the user interacts with it go back to the server-side to request more details and then display that. There's a bit more back-and-forth and setup for this method.</li>\n</ol>\n\n<p>The link in your row would look something like this:</p>\n\n<pre><code>&lt;td data-itemId=\"@item.Id\" class=\"show-row-details\"&gt;View&lt;/td&gt;\n</code></pre>\n\n<p>Where the item id is stored as an attribute in the element and a class is attached so we can watch for clicks.\nIn your js you would then look for any clicks like :</p>\n\n<pre><code>$(document).ready(function() {\n    $(\".show-row-details\").click(function() {\n        // get the item id from the clicked on element\n        var itemId = $(this).data(\"itemId\");\n        // make a request to the backend for more info\n        $.ajax({\n          url: baseUrl + \"YourController/YourAction\",\n          data: { itemId : itemId  },\n          success: function (data) {\n             // put the data returned into the popup element on our page and make it visible\n             $('#popup').html(data);\n             $('#popup').show();\n          }\n        })\n    });\n)};\n</code></pre>\n\n<p>So to support this on your page you would need an elment ready to recieve data from the backend</p>\n\n<pre><code>&lt;div id=\"popup\" style=\"display:none\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and also you would need a controller and action on your backend that is going to return the Html that you want to display in the popup div (pretty much just an action that loads a partial view (i.e. no layout) with your 'modal code' in it).</p>\n\n<p>Note: I haven't actually tried the above code, so there may be some syntax errors etc</p>\n"}], "owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 53753370, "answer_count": 1, "score": 0, "last_activity_date": 1544660894, "creation_date": 1544653892, "question_id": 53752384, "link": "https://stackoverflow.com/questions/53752384/change-a-variable-when-a-link-is-clicked", "title": "Change a variable when a link is clicked", "body": "<p>I have a page that loads the last 25 rows from a database and displays them in a table. I want to be able to click a link and have a modal popup that contains more information. I've got everything working except for knowing which row Id was clicked. Below is currently what I have. <code>Model.ClickedId</code> never changes from the default value so the popup has the same message everytime.</p>\n\n<p>How can I make it so <code>ClickedId</code> on the backend is set to <code>item.Id</code> when the link is clicked?</p>\n\n<p>Backend:</p>\n\n<pre><code>public int ClickedId { get; set; } = 0;\n</code></pre>\n\n<p>Front end:</p>\n\n<pre><code>@foreach (var item in Model.SFException)\n   {\n      &lt;tr&gt;\n         &lt;td&gt;\n            &lt;a href=\"#\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onclick=\"@Model.ClickedId=@item.Id\"&gt;View&lt;/a&gt; &lt;!-- Set ID to item.ID? --&gt;\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectType)\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectKeyProperty)\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectKeyValue)\n         &lt;/td&gt;\n          ...\n</code></pre>\n\n<p>And the modal code where I am trying to display more information:</p>\n\n<pre><code>&lt;div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\"&gt;\n    &lt;div class=\"modal-dialog modal-dialog-centered\" role=\"document\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;h5 class=\"modal-title\" id=\"exampleModalCenterTitle\"&gt;Exception Details&lt;/h5&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n                    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                @Html.DisplayFor(model =&gt; model.SFException[Model.ClickedId].StackTraceErrorMessage)\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "visual-studio"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1544653964, "post_id": 53752343, "comment_id": 94357584, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.datetime.timeofday\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/system.datetime.timeofda&zwnj;&#8203;y</a>"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1544655834, "post_id": 53752412, "comment_id": 94358256, "body": "Thank you. I think the first option is a bit outside my current understanding so I may just have to use the full constructor to set times instead of Parse. I&#39;ll have to do some more research first."}], "tags": [], "owner": {"reputation": 132, "user_id": 10744181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358865093f5c5c5aa76b626de108417d?s=128&d=identicon&r=PG&f=1", "display_name": "VitezslavSimon", "link": "https://stackoverflow.com/users/10744181/vitezslavsimon"}, "is_accepted": false, "score": 0, "last_activity_date": 1544654056, "creation_date": 1544654056, "answer_id": 53752412, "question_id": 53752343, "link": "https://stackoverflow.com/questions/53752343/c-net-how-to-ignore-eliminate-date-value-from-datetimepicker-altogether/53752412#53752412", "title": "C#.net How to ignore/eliminate date value from datetimepicker altogether?", "body": "<p>Try this:</p>\n\n<p>1/</p>\n\n<pre><code>DateTime dt = /*...*/;\nlong ticks = dt.TimeOfDay.Ticks;\nDateTime dt2 = new DateTime(ticks);\n</code></pre>\n\n<p>But part of days can remain there (I am not fully sure about this).</p>\n\n<p>2/ Another aproach is to write it in full constructor for DateTime:</p>\n\n<pre><code>TimeSpan ts = dt.TimeOfDay;\nDateTime dt3 = new DateTime(0, 0, 0, ts.Hours, ts.Minutes, ts.Seconds, ts.Milliseconds);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1544655288, "post_id": 53752549, "comment_id": 94358086, "body": "Hi, sorry, I&#39;m not quite sure how to use that? I&#39;m really extremely new to all of this and have zero formal training so I&#39;m probably missing knowledge of basic principles and stuff here. Where would I be using this exactly? Right now I simply get a timespan by subtracting one datetimepicker.value from another and then i get the total hours of that timespan and compare it to some numbers in an if statement to do stuff. Sometimes I set the value programatically by using DateTime.Parse(&quot;12:00&quot;)  and then recalculate, and this is when it will store the wrong date occasionally."}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1544654732, "creation_date": 1544654732, "answer_id": 53752549, "question_id": 53752343, "link": "https://stackoverflow.com/questions/53752343/c-net-how-to-ignore-eliminate-date-value-from-datetimepicker-altogether/53752549#53752549", "title": "C#.net How to ignore/eliminate date value from datetimepicker altogether?", "body": "<p>You can simply use this:</p>\n\n<pre><code>date.TimeOfDay\n</code></pre>\n\n<p>More information here: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.datetime.timeofday?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_DateTime_TimeOfDay\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.datetime.timeofday?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_DateTime_TimeOfDay</a></p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 6580972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52734a23ecbc8a2fd4d17ab05c059247?s=128&d=identicon&r=PG&f=1", "display_name": "nemanja228", "link": "https://stackoverflow.com/users/6580972/nemanja228"}, "is_accepted": false, "score": 0, "last_activity_date": 1544664645, "last_edit_date": 1544664645, "creation_date": 1544664308, "answer_id": 53753749, "question_id": 53752343, "link": "https://stackoverflow.com/questions/53752343/c-net-how-to-ignore-eliminate-date-value-from-datetimepicker-altogether/53753749#53753749", "title": "C#.net How to ignore/eliminate date value from datetimepicker altogether?", "body": "<p>I've written this class recently for similar purposes, maybe it can be useful to you as a basis. You can modify the constructor to add parameters for example.</p>\n\n<p>It uses TimeOfDay property as other answer mentioned, but via TimeSpan public property, it completely ignores the date and also can be databound.</p>\n\n<pre><code>public class TimeSpanPicker : DateTimePicker\n{\n    public TimeSpanPicker()\n    { \n        Format = System.Windows.Forms.DateTimePickerFormat.Time;\n    }\n\n    public TimeSpan Time\n    {\n        get\n        {\n            return this.Value.TimeOfDay;\n        }\n        set\n        {\n            this.Value = DateTime.Today.Add(value);\n        }\n    }\n\n    protected override void OnValueChanged(EventArgs eventargs)\n    {\n        base.OnValueChanged(eventargs);\n        OnNotifyPropertyChanged(\"Time\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545901923, "creation_date": 1544653680, "last_edit_date": 1545901923, "question_id": 53752343, "link": "https://stackoverflow.com/questions/53752343/c-net-how-to-ignore-eliminate-date-value-from-datetimepicker-altogether", "title": "C#.net How to ignore/eliminate date value from datetimepicker altogether?", "body": "<p>I'm new here...</p>\n\n<p>I'm using a bunch of DateTimePickers for a schedule form, but date is completely irrelevant. Only time is needed.</p>\n\n<p>I've already edited the custom format to HH:mm and show the up/down arrows and everything. Removing the Calendar/date picker visually isn't the problem.</p>\n\n<p>The problem is that there is still a date value stored in the back end. This is causing other problems in the rest of my code when I'm simply trying to compare timespans, as it will occasionally have a different date stored and miscalculate the total hours between times selected. </p>\n\n<p>I've set the pickers to 00:00 by default and it seems to be picking today's date by default as well. I have some functions that change the picker values to certain times (by using DateTime.Parse(\"15:00\") for example) and later found out that they are also changing the date value to the same date as the day I wrote that function (for instance, I use a message box to show me the value and it will say 12/7/18 when I call that same function).</p>\n\n<p>Is there a way to make the whole thing ignore date altogether? Make it not exist anymore? Not store any date?</p>\n\n<p>Or do I just need to set those DateTime.Parse things to use current date and whatever time? </p>\n\n<hr>\n\n<p>edit: The answers didn't really help because I don't think I explained myself well enough for what I needed. I found a solution to the issue that prompted this question, though. I was setting default values for these pickers within Design view properties window, so the hidden date wasn't current. I just made a function to set them all to 00:00 with the current date when the form load by using DateTime.Parse(\"00:00\"). This isn't quite the answer to my question but it fixed the problem I was having at least. I'm sure I'll understand these answers better when I have some more experience.</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "is_accepted": true, "score": 3, "last_activity_date": 1544654043, "creation_date": 1544654043, "answer_id": 53752409, "question_id": 53752278, "link": "https://stackoverflow.com/questions/53752278/rename-file-20181207-prodandpressuresexport-csv-to-prodandpressuresexport-csv/53752409#53752409", "title": "Rename file 20181207_ProdAndPressuresExport.csv to ProdAndPressuresExport.csv", "body": "<p>Always use <code>Path.Combine</code> to construct paths, rather than string concatenation.</p>\n\n<pre><code>string newName = DIRECTORY_PATH + filePath.Split('_')[1];\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>string newName = Path.Combine(DIRECTORY_PATH, filePath.Split('_')[1]);\n</code></pre>\n\n<p>Otherwise you miss the directory separator character, and your file will end up in the parent folder <em>above your intended folder</em> with an unintentionally concatenated name.</p>\n"}], "owner": {"reputation": 85, "user_id": 10509232, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ADOdImoicS0/AAAAAAAAAAI/AAAAAAAAABk/nF1An4PdeVM/photo.jpg?sz=128", "display_name": "Brian Tran", "link": "https://stackoverflow.com/users/10509232/brian-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 53752409, "answer_count": 1, "score": 0, "last_activity_date": 1544654051, "creation_date": 1544653293, "last_edit_date": 1544654051, "question_id": 53752278, "link": "https://stackoverflow.com/questions/53752278/rename-file-20181207-prodandpressuresexport-csv-to-prodandpressuresexport-csv", "title": "Rename file 20181207_ProdAndPressuresExport.csv to ProdAndPressuresExport.csv", "body": "<p>I have the following C# code but having issues renaming the file to what I want (ProdAndPressuresExport.csv).  It is renaming the file as ProdAndPressuresExportProdAndPressuresExport.csv and also moving the rename file up 1 folder.  I would like for it to stay in its original file path C:\\TEMP\\CSVFile\\ProdAndPressuresExport.  Please help.</p>\n\n<pre><code>namespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            const string DIRECTORY_PATH = @\"C:\\TEMP\\CSVFile\\ProdAndPressuresExport\";\n\n            const string FILE_NAME_TEMPLATE = \"*_ProdAndPressuresExport.CSV\";\n\n            if (Directory.Exists(DIRECTORY_PATH))\n            {\n                string[] filePathList = Directory.GetFiles(DIRECTORY_PATH, FILE_NAME_TEMPLATE);\n\n                foreach (string filePath in filePathList)\n                {\n                    if (File.Exists(filePath))\n                    {\n                        string newName = DIRECTORY_PATH + filePath.Split('_')[1];\n                        File.Move(filePath, newName);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1544653019, "post_id": 53752135, "comment_id": 94357210, "body": "Homework question? Looks to me as if the logic of your code isn&#39;t quite right. You are looping 5 times asking for a number, then looping again 5 times within that.  Have another look at how you&#39;ve structured what you&#39;re doing and follow it in the debugger"}, {"owner": {"reputation": 3, "user_id": 10783161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m9mcX8I2QO0/AAAAAAAAAAI/AAAAAAAAAeM/sLpy5rtpi2A/photo.jpg?sz=128", "display_name": "jig murphy", "link": "https://stackoverflow.com/users/10783161/jig-murphy"}, "edited": false, "score": 0, "creation_date": 1544653081, "post_id": 53752135, "comment_id": 94357233, "body": "That question is about a string array and doesn&#39;t show how to check each element as it is entered to see if it is new or exists"}, {"owner": {"reputation": 2471, "user_id": 1481690, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0f0c254614dbc3ea9542407643e35c87?s=128&d=identicon&r=PG", "display_name": "Peru", "link": "https://stackoverflow.com/users/1481690/peru"}, "edited": false, "score": 0, "creation_date": 1544653249, "post_id": 53752135, "comment_id": 94357306, "body": "@jigmurphy minor corrections will solve this.  array[i] = int.Parse(Console.ReadLine());  why are you reading here ? and also change logic if it exists print exist and then loop is over and it is not there set as new. may be you can add a flag"}, {"owner": {"reputation": 3, "user_id": 10783161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m9mcX8I2QO0/AAAAAAAAAAI/AAAAAAAAAeM/sLpy5rtpi2A/photo.jpg?sz=128", "display_name": "jig murphy", "link": "https://stackoverflow.com/users/10783161/jig-murphy"}, "edited": false, "score": 0, "creation_date": 1544653285, "post_id": 53752135, "comment_id": 94357321, "body": "I&#39;m having trouble comparing the new element to the elements in the array. I&#39;ve removed the second loop as it is unnecessary. Will something like this work?          if (array[i] != array[a])"}, {"owner": {"reputation": 236, "user_id": 7631293, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b62581f0cfce4b924a3ccd1643daa9a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alessio Raddi", "link": "https://stackoverflow.com/users/7631293/alessio-raddi"}, "edited": false, "score": 0, "creation_date": 1544653537, "post_id": 53752135, "comment_id": 94357416, "body": "@jigmurphy I don&#39;t understand what problem you are facing. In the code you provided you are adding the element to the array before checking if it already exists."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1544653890, "post_id": 53752135, "comment_id": 94357557, "body": "The questions is beyond close enough to a duplicate. The answer to it can be trivially adapted to answer this one."}], "answers": [{"comments": [{"owner": {"reputation": 2471, "user_id": 1481690, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0f0c254614dbc3ea9542407643e35c87?s=128&d=identicon&r=PG", "display_name": "Peru", "link": "https://stackoverflow.com/users/1481690/peru"}, "edited": false, "score": 5, "creation_date": 1544653305, "post_id": 53752262, "comment_id": 94357328, "body": "looks like a home work question..couple of hints might help him get started rather than giving solutions ?"}], "tags": [], "owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "is_accepted": false, "score": 0, "last_activity_date": 1544653200, "creation_date": 1544653200, "answer_id": 53752262, "question_id": 53752135, "link": "https://stackoverflow.com/questions/53752135/entering-elements-into-an-array-and-checking-to-see-if-the-element-already-exist/53752262#53752262", "title": "Entering elements into an array and checking to see if the element already exists", "body": "<p>A couple of issues with your code. You should only increment the array index if successful - otherwise the missing values will be zero. It's also a good idea to validate the input in case the user entered an invalid value. You can use linq to check if the value already exists in the array: </p>\n\n<p>Here's an example: </p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        int[] array = new int[5];\n        var index = 0; \n        while (index &lt; array.Length)\n        {\n            Console.WriteLine(\"Enter a number:\");\n            var input = Console.ReadLine();\n            var value = 0;\n            if (!int.TryParse(input, out value))\n            {\n                Console.WriteLine(\"Error - value entered was not a number\");\n            }\n            else\n            {\n                var match = array.Where(a =&gt; a == value);\n                if (match.Any())\n                {\n                    Console.WriteLine(\"exists\\n\");\n                }\n                else\n                {\n                    array[index] = value;\n                    Console.WriteLine(\"new\\n\");\n                    index++;\n                }\n            }\n        }\n\n        foreach (var item in array)\n        {\n            Console.WriteLine(item);\n        }\n\n        Console.ReadKey();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 575, "user_id": 6640527, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sOvD7Ka3vJI/AAAAAAAAAAI/AAAAAAAAACE/yOQmIH1L_54/photo.jpg?sz=128", "display_name": "Diego Osornio", "link": "https://stackoverflow.com/users/6640527/diego-osornio"}, "is_accepted": false, "score": 1, "last_activity_date": 1544653833, "last_edit_date": 1544653833, "creation_date": 1544653260, "answer_id": 53752271, "question_id": 53752135, "link": "https://stackoverflow.com/questions/53752135/entering-elements-into-an-array-and-checking-to-see-if-the-element-already-exist/53752271#53752271", "title": "Entering elements into an array and checking to see if the element already exists", "body": "<p>First of all try thinking about a solution before you actually start writing some code, couple of hints </p>\n\n<ol>\n<li>You expect some user input, we will use a variable to save the user input</li>\n<li>You need to validate that the values does not exist in you array or structure, this can be done using the <code>Contains</code> method.</li>\n<li>If it exists we continue to the next user input and print the required message.</li>\n<li>If the value does not exists we add the value and print the new message</li>\n</ol>\n\n<p>We will do this until the <code>Count</code> of the structure is equal to 5.</p>\n\n<p>for reference use this <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/while\" rel=\"nofollow noreferrer\">While loop</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.hashset-1.contains?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Hashset.Contains</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.hashset-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Hashset</a></p>\n\n<p>try this:</p>\n\n<pre><code>var numbers = new HashSet&lt;int&gt;();   \n    while(numbers.Count &lt; 5)\n    {\n         Console.WriteLine(\"Enter a number:\"); //1.\n         var number = Convert.ToInt32(Console.ReadLine());\n\n        if (numbers.Contains(number)) // 2.\n        {\n             Console.WriteLine(\"exists\\n\"); //3.\n             continue;\n        }\n\n        Console.WriteLine(\"new\\n\"); //4.\n        numbers.Add(number);\n    }\n\n    foreach (var n in numbers)\n    {\n        Console.WriteLine(n);\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544653755, "post_id": 53752296, "comment_id": 94357504, "body": "But this will only add one item to the array if they enter the same number 5 times. OP needs to add 5 items..."}, {"owner": {"reputation": 3, "user_id": 10783161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m9mcX8I2QO0/AAAAAAAAAAI/AAAAAAAAAeM/sLpy5rtpi2A/photo.jpg?sz=128", "display_name": "jig murphy", "link": "https://stackoverflow.com/users/10783161/jig-murphy"}, "edited": false, "score": 0, "creation_date": 1544654706, "post_id": 53752296, "comment_id": 94357876, "body": "Thank you so much! This is exactly what i was looking for. I&#39;ll spend the next while figuring out how each part works but cheers for this!"}, {"owner": {"reputation": 1028, "user_id": 6529286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCRmG.jpg?s=128&g=1", "display_name": "VBorisoff", "link": "https://stackoverflow.com/users/6529286/vborisoff"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544655701, "post_id": 53752296, "comment_id": 94358220, "body": "@RufusL OP doesn&#39;t state this anywhere, but I added an edit that does it. Thanks!"}], "tags": [], "owner": {"reputation": 1028, "user_id": 6529286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCRmG.jpg?s=128&g=1", "display_name": "VBorisoff", "link": "https://stackoverflow.com/users/6529286/vborisoff"}, "is_accepted": true, "score": 0, "last_activity_date": 1544655607, "last_edit_date": 1544655607, "creation_date": 1544653440, "answer_id": 53752296, "question_id": 53752135, "link": "https://stackoverflow.com/questions/53752135/entering-elements-into-an-array-and-checking-to-see-if-the-element-already-exist/53752296#53752296", "title": "Entering elements into an array and checking to see if the element already exists", "body": "<p>Use <code>.Any()</code> in <code>System.Linq</code>. Also, you don't need to continuously grab user input in your loop:</p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n  // Main method begins execution of C# application\n  public static void Main(string[] args)\n  {\n    int[] array = new int[5];\n\n    for (int i = 0; i &lt; array.Length; i++)\n    {\n      Console.WriteLine(\"Enter a number:\");\n      // Get user input and convert to integer:\n      int input = Convert.ToInt32(Console.ReadLine());\n\n      // Check if given input is already in the array: \n      if (! array.Any(number =&gt; number == input))\n      {\n          array[i] = input;\n          Console.WriteLine(\"new\\n\");\n      }\n      else \n      {\n          Console.WriteLine(\"exists\\n\");\n      }\n    }\n\n    // Print the contents of array separated by ','\n    Console.WriteLine(string.Join(\", \", array));\n    Console.ReadKey();\n  }\n}\n</code></pre>\n\n<p>Edit: Another variant if you want the user to fill the array completely:</p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n  public static void Main(string[] args)\n  {\n    // Btw, if this is not an array of nullables,\n    // we will not be able to insert a zero later, as\n    // we will treat them as duplicates.\n    int?[] array = new int?[5];\n\n    for (int i = 0; i &lt; array.Length; i++)\n    {\n      Console.WriteLine(\"Enter a number:\");\n\n      int input = 0;\n      bool duplicateAttempt = false;\n      do {\n        // Get and convert the input.\n        input = Convert.ToInt32(Console.ReadLine());\n        // See if this number is already in.\n        duplicateAttempt = array.Contains(input);\n        // Report if we attempt to insert a duplicate.\n        if (duplicateAttempt) Console.WriteLine(\"exists\");\n      } \n      while (duplicateAttempt); // Keep asking while we don't get a unique number.\n\n      array[i] = input; // Store the number\n      Console.WriteLine(\"new\");\n    }\n\n    // Print the contents of array separated by ','\n    Console.WriteLine(string.Join(\", \", array));\n    Console.ReadKey();\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 6627478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db79663b0478fbf8cc129d92a355b25f?s=128&d=identicon&r=PG&f=1", "display_name": "William Prevett", "link": "https://stackoverflow.com/users/6627478/william-prevett"}, "is_accepted": false, "score": 0, "last_activity_date": 1544653902, "creation_date": 1544653902, "answer_id": 53752390, "question_id": 53752135, "link": "https://stackoverflow.com/questions/53752135/entering-elements-into-an-array-and-checking-to-see-if-the-element-already-exist/53752390#53752390", "title": "Entering elements into an array and checking to see if the element already exists", "body": "<p>This appears to be a homework question, so I think it's more helpful to explain what you've done wrong and tell you what you should do...</p>\n\n<p>It won't help you learn to copy and paste other people's answers.</p>\n\n<pre><code>using System;\n\npublic class Program\n{\n   // Main method begins execution of C# application\n   public static void Main(string[] args)\n   {\n      int[] array = new int[5];\n\n      for (int i = 0; i &lt; array.Length; i++)\n      {\n         Console.WriteLine(\"Enter a number:\");\n// you are putting the value into your array here.  so it will always 'exist' below\n         array[i] = Convert.ToInt32(Console.ReadLine());  \n\n// you need to do this check before you insert the number into the array\n// put the ReadLine into a variable, not directly into the array.  \n// then check if it's in the array already \n         for (int a = 0; a &lt; 5; a++)\n         {\n\n            if (array[i] != array[a])\n            {\n// here you are trying to read another value from the user.  \n// Console.ReadLine() will always wait for user input\n// use the variable from above.  but only after you have looped through all the items.\n// and verified that it is not present\n               array[i] = int.Parse(Console.ReadLine());\n               Console.WriteLine(\"new\\n\");\n            }\n\n         }\n// this is the third time you have assigned the number to the array\n// and the third time you've asked for user input per loop\n         array[i] = int.Parse(Console.ReadLine());\n         Console.WriteLine(\"exists\\n\");\n      }\n\n      Console.WriteLine(array);\n      Console.ReadKey();\n   }\n} // end class\n</code></pre>\n\n<p>To summarize:</p>\n\n<p>you need a for loop that runs 5 times.</p>\n\n<p>The for loop will do the following:</p>\n\n<ul>\n<li>assign the user input to a variable</li>\n<li>loop through your array (second loop) and see if it contains this variable</li>\n<li>if the number is found, set a boolean to true. (found)</li>\n<li>if after the loop is over, found = false, then print false</li>\n<li>also add the number to the array (at the index of the outer loop is fine)</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 10783161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m9mcX8I2QO0/AAAAAAAAAAI/AAAAAAAAAeM/sLpy5rtpi2A/photo.jpg?sz=128", "display_name": "jig murphy", "link": "https://stackoverflow.com/users/10783161/jig-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2047, "favorite_count": 0, "closed_date": 1544653899, "accepted_answer_id": 53752296, "answer_count": 4, "score": -2, "last_activity_date": 1544655607, "creation_date": 1544652528, "question_id": 53752135, "link": "https://stackoverflow.com/questions/53752135/entering-elements-into-an-array-and-checking-to-see-if-the-element-already-exist", "closed_reason": "Duplicate", "title": "Entering elements into an array and checking to see if the element already exists", "body": "<p>I'm working on a problem and i've tried it every way I can think of with a for loop but i can't figure out how to make it work as I only started on c# and programming as a whole a few weeks ago.</p>\n\n<p>Write an app that inputs five numbers. As each number is read search the array if the number doesn\u2019t exist in the array output the word \u201cnew\u201d and insert the number into the array. If the number does exist in the array output \u201cexists\u201d. Once all five numbers have been entered output the content of the array.</p>\n\n<p>This is what I have so far. Thanks for any help</p>\n\n<pre><code>using System;\n\npublic class Program\n{\n   // Main method begins execution of C# application\n   public static void Main(string[] args)\n   {\n      int[] array = new int[5];\n\n      for (int i = 0; i &lt; array.Length; i++)\n      {\n         Console.WriteLine(\"Enter a number:\");\n         array[i] = Convert.ToInt32(Console.ReadLine());\n\n         for (int a = 0; a &lt; 5; a++)\n         {\n\n            if (array[i] != array[a])\n            {\n               array[i] = int.Parse(Console.ReadLine());\n               Console.WriteLine(\"new\\n\");\n            }\n\n         }\n\n         array[i] = int.Parse(Console.ReadLine());\n         Console.WriteLine(\"exists\\n\");\n      }\n\n      Console.WriteLine(array);\n      Console.ReadKey();\n   }\n} // end class\n</code></pre>\n"}, {"tags": ["c#", "textbox", "mscorlib", "argumentnullexception"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1544652450, "post_id": 53752042, "comment_id": 94356976, "body": "Are you running the debugger with break on all exceptions?"}, {"owner": {"reputation": 11, "user_id": 7934185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcf7383f720effbca759bf22c1011bf?s=128&d=identicon&r=PG&f=1", "display_name": "Les N", "link": "https://stackoverflow.com/users/7934185/les-n"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1544657662, "post_id": 53752042, "comment_id": 94358823, "body": "@JSteward I&#39;m not sure -- I didn&#39;t find that as an option under debugging.  Is it something which is set elsewhere?"}, {"owner": {"reputation": 11, "user_id": 7934185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcf7383f720effbca759bf22c1011bf?s=128&d=identicon&r=PG&f=1", "display_name": "Les N", "link": "https://stackoverflow.com/users/7934185/les-n"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1544658729, "post_id": 53752042, "comment_id": 94359107, "body": "@JSteward I didn&#39;t find &quot;break on all exceptions&quot; but I did find the exception settings &quot;Break when thrown&quot;.  All exceptions aren&#39;t checked in the list but all of the Common Language Runtime Exceptions are checked -- those include both exceptions which were thrown."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7934185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcf7383f720effbca759bf22c1011bf?s=128&d=identicon&r=PG&f=1", "display_name": "Les N", "link": "https://stackoverflow.com/users/7934185/les-n"}, "is_accepted": true, "score": 1, "last_activity_date": 1550621761, "creation_date": 1550621761, "answer_id": 54776892, "question_id": 53752042, "link": "https://stackoverflow.com/questions/53752042/argumentnullexception-platformnotsupportedexception-from-mscorlib-only-in-debugg/54776892#54776892", "title": "ArgumentNullException/PlatformNotSupportedException from mscorlib only in debugger", "body": "<p>This problem has vanished after upgrading to Visual Studio 2017.</p>\n"}], "owner": {"reputation": 11, "user_id": 7934185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcf7383f720effbca759bf22c1011bf?s=128&d=identicon&r=PG&f=1", "display_name": "Les N", "link": "https://stackoverflow.com/users/7934185/les-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 54776892, "answer_count": 1, "score": 0, "last_activity_date": 1550621761, "creation_date": 1544652080, "question_id": 53752042, "link": "https://stackoverflow.com/questions/53752042/argumentnullexception-platformnotsupportedexception-from-mscorlib-only-in-debugg", "title": "ArgumentNullException/PlatformNotSupportedException from mscorlib only in debugger", "body": "<p>I have been seeing a pair of exceptions when debugging (VS 2015) which occur when clicking in a Textbox.  They do not always occur but they always seem to occur under the same circumstances (I can't find a pattern which would explain it).  They also only seem to occur once -- if I proceed on, ignoring them, I do not see them happen again.  They also don't seem to be related to a specific Textbox.  My code is a hybrid of existing code and add-on code and the same problem occurs in the code I haven't touched.</p>\n\n<p>I tried creating a very simple project with just a Textbox in a window but I haven't seen the problem there (but again, it doesn't occur in all cases, anyway).</p>\n\n<p>I cannot catch them in a try-catch -- the debugger detects them when they are thrown but it would appear that Microsoft is catching them internally and not throwing out of their code.  If I try running outside the debugger my try-catch catches nothing and the code works with no apparent problems.  </p>\n\n<p>The first is a ArgumentNullException thrown by mscorlib.dll.  If I continue after that is thrown, a PlatformNotSupportedException is thrown by PresentationCore.dll.  If I continue after that, my code seems to run fine.</p>\n\n<p>I will put details below but I am wondering, since they appear to be handled internally in Microsoft's code (and seem unrelated to my code) should I just presume it was something I was never intended to see?  If that isn't the case can anyone suggest what might be happening here or how I might debug it?</p>\n\n<p>My platform is Windows 7, I am building with \"Any CPU\" and the current target framework is .Net 4.5.2 (but I tried it with frameworks up to 4.6.1 with no apparent change).</p>\n\n<p>The initial exception:</p>\n\n<pre><code>System.ArgumentNullException occurred\n  HResult=-2147467261\n  Message=Value cannot be null.\nParameter name: type\n  ParamName=type\n  Source=mscorlib\n  StackTrace:\n       at System.Runtime.InteropServices.WindowsRuntime.WindowsRuntimeMarshal.GetActivationFactory(Type type)\n  InnerException: \n</code></pre>\n\n<p>A portion of the call stack when this is thrown:</p>\n\n<pre><code>mscorlib.dll!System.Runtime.InteropServices.WindowsRuntime.WindowsRuntimeMarshal.GetActivationFactory(System.Type type) Line 1279   C#\n    PresentationCore.dll!MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane.GetWinRtActivationFactory(bool forceInitialization) Unknown\n    PresentationCore.dll!MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane.InputPane() Unknown\n    [Native to Managed Transition]  \n    [Managed to Native Transition]  \n    PresentationCore.dll!MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane.GetForWindow(System.Windows.Interop.HwndSource source = {System.Windows.Interop.HwndSource})    Unknown\n    PresentationCore.dll!MS.Internal.Interop.TipTsfHelper.Show(System.Windows.DependencyObject focusedObject)   Unknown\n    PresentationCore.dll!System.Windows.UIElement.Focus()   Unknown\n    PresentationFramework.dll!System.Windows.Documents.TextEditorMouse.MoveFocusToUiScope(System.Windows.Documents.TextEditor This = {System.Windows.Documents.TextEditor}) Unknown\n    PresentationFramework.dll!System.Windows.Documents.TextEditorMouse.OnMouseDown(object sender, System.Windows.Input.MouseButtonEventArgs e = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationFramework.dll!System.Windows.Controls.Primitives.TextBoxBase.OnMouseDown(System.Windows.Input.MouseButtonEventArgs e)   Unknown\n    PresentationCore.dll!System.Windows.UIElement.OnMouseDownThunk(object sender = {System.Windows.Controls.TextBox}, System.Windows.Input.MouseButtonEventArgs e = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationCore.dll!System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(System.Delegate genericHandler, object genericTarget) Unknown\n    PresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)   Unknown\n    PresentationCore.dll!System.Windows.RoutedEventHandlerInfo.InvokeHandler(object target, System.Windows.RoutedEventArgs routedEventArgs) Unknown\n    PresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source = {System.Windows.Controls.Grid}, System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs}, bool reRaised = false) Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender = {System.Windows.Controls.Grid}, System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseTrustedEvent(System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs})  Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseEvent(System.Windows.RoutedEventArgs args, bool trusted) Unknown\n    PresentationCore.dll!System.Windows.Input.InputManager.ProcessStagingArea() Unknown\n    PresentationCore.dll!System.Windows.Input.InputManager.ProcessInput(System.Windows.Input.InputEventArgs input)  Unknown\n    PresentationCore.dll!System.Windows.Input.InputProviderSite.ReportInput(System.Windows.Input.InputReport inputReport)   Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.ReportInput(System.IntPtr hwnd, System.Windows.Input.InputMode mode, int timestamp, System.Windows.Input.RawMouseActions actions, int x, int y, int wheel)   Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.FilterMessage(System.IntPtr hwnd = {System.IntPtr}, MS.Internal.Interop.WindowMessage msg = WM_LBUTTONDOWN, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false)    Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndSource.InputFilterMessage(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false)    Unknown\n    WindowsBase.dll!MS.Win32.HwndWrapper.WndProc(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false) Unknown\n    WindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Unknown\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source = {System.Windows.Threading.Dispatcher}, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler = null)  Unknown\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)   Unknown\n    WindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr})  Unknown\n    [Native to Managed Transition]  \n</code></pre>\n\n<p>The mscorlib code throwing the exception (due to a null type parameter) is this:</p>\n\n<pre><code>        [SecurityCritical]\n        public static IActivationFactory GetActivationFactory(Type type)\n        {\n            if (type == null)\n                throw new ArgumentNullException(\"type\");\n\n            if (type.IsWindowsRuntimeObject &amp;&amp; type.IsImport)\n            {\n                return (IActivationFactory)Marshal.GetNativeActivationFactory(type);\n            }\n            else\n            {\n#if FEATURE_COMINTEROP_WINRT_MANAGED_ACTIVATION\n                return GetManagedActivationFactory(type);\n#else \n                // Managed factories are not supported so as to minimize public surface (and test effort)\n                throw new NotSupportedException();\n#endif\n            }\n        }\n</code></pre>\n\n<p>If I proceed beyond this exception it throws the following:</p>\n\n<pre><code>  System.PlatformNotSupportedException occurred\n  HResult=-2146233031\n  Message=Operation is not supported on this platform.\n  Source=PresentationCore\n  StackTrace:\n       at MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane..ctor(Nullable`1 hwnd)\n  InnerException: \n</code></pre>\n\n<p>And a partial call stack at that point:</p>\n\n<pre><code>PresentationCore.dll!MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane.InputPane(System.IntPtr? hwnd)  Unknown\n    PresentationCore.dll!MS.Internal.WindowsRuntime.Windows.UI.ViewManagement.InputPane.GetForWindow(System.Windows.Interop.HwndSource source)  Unknown\n    PresentationCore.dll!MS.Internal.Interop.TipTsfHelper.Show(System.Windows.DependencyObject focusedObject)   Unknown\n    PresentationCore.dll!System.Windows.UIElement.Focus()   Unknown\n    PresentationFramework.dll!System.Windows.Documents.TextEditorMouse.MoveFocusToUiScope(System.Windows.Documents.TextEditor This = {System.Windows.Documents.TextEditor}) Unknown\n    PresentationFramework.dll!System.Windows.Documents.TextEditorMouse.OnMouseDown(object sender, System.Windows.Input.MouseButtonEventArgs e = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationFramework.dll!System.Windows.Controls.Primitives.TextBoxBase.OnMouseDown(System.Windows.Input.MouseButtonEventArgs e)   Unknown\n    PresentationCore.dll!System.Windows.UIElement.OnMouseDownThunk(object sender = {System.Windows.Controls.TextBox}, System.Windows.Input.MouseButtonEventArgs e = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationCore.dll!System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(System.Delegate genericHandler, object genericTarget) Unknown\n    PresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)   Unknown\n    PresentationCore.dll!System.Windows.RoutedEventHandlerInfo.InvokeHandler(object target, System.Windows.RoutedEventArgs routedEventArgs) Unknown\n    PresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source = {System.Windows.Controls.Grid}, System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs}, bool reRaised = false) Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender = {System.Windows.Controls.Grid}, System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs})    Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseTrustedEvent(System.Windows.RoutedEventArgs args = {System.Windows.Input.MouseButtonEventArgs})  Unknown\n    PresentationCore.dll!System.Windows.UIElement.RaiseEvent(System.Windows.RoutedEventArgs args, bool trusted) Unknown\n    PresentationCore.dll!System.Windows.Input.InputManager.ProcessStagingArea() Unknown\n    PresentationCore.dll!System.Windows.Input.InputManager.ProcessInput(System.Windows.Input.InputEventArgs input)  Unknown\n    PresentationCore.dll!System.Windows.Input.InputProviderSite.ReportInput(System.Windows.Input.InputReport inputReport)   Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.ReportInput(System.IntPtr hwnd, System.Windows.Input.InputMode mode, int timestamp, System.Windows.Input.RawMouseActions actions, int x, int y, int wheel)   Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.FilterMessage(System.IntPtr hwnd = {System.IntPtr}, MS.Internal.Interop.WindowMessage msg = WM_LBUTTONDOWN, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false)    Unknown\n    PresentationCore.dll!System.Windows.Interop.HwndSource.InputFilterMessage(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false)    Unknown\n    WindowsBase.dll!MS.Win32.HwndWrapper.WndProc(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr}, ref bool handled = false) Unknown\n    WindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Unknown\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown\n    WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source = {System.Windows.Threading.Dispatcher}, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler = null)  Unknown\n    WindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)   Unknown\n    WindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(System.IntPtr hwnd = {System.IntPtr}, int msg = 513, System.IntPtr wParam = {System.IntPtr}, System.IntPtr lParam = {System.IntPtr})  Unknown\n    [Native to Managed Transition]  \n    [Managed to Native Transition]\n</code></pre>\n\n<p>Proceeding from there, everything runs as expected.</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1544656543, "post_id": 53751962, "comment_id": 94358484, "body": "I would suggest testing/benchmarking it first. If the cost of initializing the proxies is expensive then you do not want to be creating a new instance every time it is needed. So I guess it boils down to <i>it depends</i>."}], "answers": [{"tags": [], "owner": {"reputation": 605, "user_id": 3337035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ce98a649c36304ccbf3c3c90cbfde54?s=128&d=identicon&r=PG&f=1", "display_name": "Bjego", "link": "https://stackoverflow.com/users/3337035/bjego"}, "is_accepted": false, "score": 0, "last_activity_date": 1544771813, "creation_date": 1544771813, "answer_id": 53775069, "question_id": 53751962, "link": "https://stackoverflow.com/questions/53751962/should-a-wcf-client-proxy-be-singleton-or-transient-in-net-core-api-app/53775069#53775069", "title": "Should a wcf client proxy be Singleton or Transient in .net core API app", "body": "<p>Interesting question.\nYou should use a singleton I think.\nThis article from the asp.net monsters could be helpful: \n<a href=\"https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/\" rel=\"nofollow noreferrer\">https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/</a> \nWith best regards</p>\n"}], "owner": {"reputation": 21, "user_id": 5424049, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153677941849399/picture?type=large", "display_name": "Stef&#225;n J. Arngr&#237;msson", "link": "https://stackoverflow.com/users/5424049/stef%c3%a1n-j-arngr%c3%admsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1544771813, "creation_date": 1544651687, "question_id": 53751962, "link": "https://stackoverflow.com/questions/53751962/should-a-wcf-client-proxy-be-singleton-or-transient-in-net-core-api-app", "title": "Should a wcf client proxy be Singleton or Transient in .net core API app", "body": "<p>We are consuming wcf services in a high volume API. (up to 10.000rpm)</p>\n\n<p>In the startup.cs file I have registered the services as a Singleton, but not sure if they should be Transient.</p>\n\n<p>The wcf proxy classes were generated by the svcutil.</p>\n\n<p>The recommended way for httpclient is to use Singleton, but does that same apply for wcf clients?</p>\n\n<p>All endpoints are stateless.</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1544650860, "post_id": 53751769, "comment_id": 94356220, "body": "That error message sounds pretty definitive.  Just a thought, but why not try installing .NET Core 2.2 anyway?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1544651284, "post_id": 53751769, "comment_id": 94356440, "body": "What&#39;s the output of <code>dotnet --list-runtimes</code>? Does it include Microsoft.NETCore.App 2.2.0?"}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1544652243, "post_id": 53751769, "comment_id": 94356895, "body": "@Robert Harvey\u2666 I installed .Net Core 2.2(x64), got different error &quot;System.BadImageFormatException: Could not load file or assembly &#39;xxxxx&#39;. An attempt was made to load a program with an incorrect format.&quot;. My project&#39;s platform target is x86, should execute the program under .Net Core 2.2(x86). I think the problem is system did not recognize that x86 .Net Core was installed."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1544652265, "post_id": 53751769, "comment_id": 94356905, "body": "Aha.  Now we&#39;re getting somewhere."}, {"owner": {"reputation": 1745, "user_id": 3086836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/AHhRH.jpg?s=128&g=1", "display_name": "Aman B", "link": "https://stackoverflow.com/users/3086836/aman-b"}, "edited": false, "score": 0, "creation_date": 1544652382, "post_id": 53751769, "comment_id": 94356943, "body": "can you also share your .csproj? and which assembly is it complaining about?"}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1544652557, "post_id": 53751769, "comment_id": 94357027, "body": "@Jonathon Chase, it shows Microsoft.NETCore.App 2.2.0, which I just installed according to  Robert Harvey\u2666 suggestion. But it did not show .Net Core 2.2(x86) version."}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "reply_to_user": {"reputation": 1745, "user_id": 3086836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/AHhRH.jpg?s=128&g=1", "display_name": "Aman B", "link": "https://stackoverflow.com/users/3086836/aman-b"}, "edited": false, "score": 0, "creation_date": 1544653150, "post_id": 53751769, "comment_id": 94357265, "body": "@Aman B post has been updated. Thanks. I am suspecting the project file too."}, {"owner": {"reputation": 1745, "user_id": 3086836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/AHhRH.jpg?s=128&g=1", "display_name": "Aman B", "link": "https://stackoverflow.com/users/3086836/aman-b"}, "edited": false, "score": 0, "creation_date": 1544653331, "post_id": 53751769, "comment_id": 94357343, "body": "@wltz thanks, I&#39;m suspecting some nuget packages need updating. Have you tried updating the installed nuget packages?"}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "edited": false, "score": 0, "creation_date": 1544654164, "post_id": 53751769, "comment_id": 94357674, "body": "@All my nuget packages are up to date, except 1 third-party dll. I doubt that&#39;s the issue. I find it&#39;s weird in the csproj file, the TargetFramework section only mentioned netcoreapp2.2, how could this tell it&#39;s based on Net Core x86 or x64!"}, {"owner": {"reputation": 1962, "user_id": 3390350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYkxe.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/3390350/greg"}, "edited": false, "score": 0, "creation_date": 1616419998, "post_id": 53751769, "comment_id": 117988615, "body": "Recently, after a windows update, I had to run such an install, and indeed afterwards everything worked again."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "edited": false, "score": 0, "creation_date": 1544720754, "post_id": 53754847, "comment_id": 94385446, "body": "thanks for the response. I&#39;ve add these two lines to the section &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Release|x86&#39;&quot;&gt;, cause the platform target is x86. After rebuild and deploying, I still got the error &quot;System.BadImageFormatException: Could not load file or assembly&quot;. .Net Core 2.2(x86) still not in my runtime list. I think I will get .Net Core x86 installed properly first."}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "edited": false, "score": 0, "creation_date": 1544723907, "post_id": 53754847, "comment_id": 94386986, "body": "it seem to be a known issue for .Net Core installation, <a href=\"https://github.com/dotnet/core-setup/issues/4350\" rel=\"nofollow noreferrer\">github.com/dotnet/core-setup/issues/4350</a>. I have to uninstall all .Net Core packages, both x64 and x86, then reinstalled .Net Core x86 package. And that solved the problem."}], "tags": [], "owner": {"reputation": 787, "user_id": 3769942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f6deebd5776bdea3f8a745467080566?s=128&d=identicon&r=PG", "display_name": "Khai Nguyen", "link": "https://stackoverflow.com/users/3769942/khai-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1544673729, "creation_date": 1544673729, "answer_id": 53754847, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram/53754847#53754847", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>Can you change .csproj to add <code>RunCommand</code> like below:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Debug|AnyCPU'\"&gt;\n    &lt;Prefer32Bit&gt;false&lt;/Prefer32Bit&gt;\n    &lt;PlatformTarget&gt;x86&lt;/PlatformTarget&gt;\n    &lt;Optimize&gt;false&lt;/Optimize&gt;\n    &lt;RunCommand Condition=\"'$(PlatformTarget)' == 'x86'\"&gt;$(MSBuildProgramFiles32)\\dotnet\\dotnet&lt;/RunCommand&gt;\n    &lt;RunCommand Condition=\"'$(PlatformTarget)' == 'x64'\"&gt;$(ProgramW6432)\\dotnet\\dotnet&lt;/RunCommand&gt;\n  &lt;/PropertyGroup&gt;\n\n&lt;/Project&gt;\n</code></pre>\n\n<p>Maybe you need to add 2 line of <code>RunCommand</code> and update the correct path of dotnet on your laptop. </p>\n\n<p>This issue happens when you are on windows 64bit and run x86 application.</p>\n"}, {"comments": [{"owner": {"reputation": 4415, "user_id": 1128336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a483a1a66515656998918dc5504067e5?s=128&d=identicon&r=PG", "display_name": "sam yi", "link": "https://stackoverflow.com/users/1128336/sam-yi"}, "edited": false, "score": 0, "creation_date": 1602640708, "post_id": 53769207, "comment_id": 113782371, "body": "i&#39;m using VSCode and when i switch to x86, it won&#39;t let me debug."}, {"owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "reply_to_user": {"reputation": 4415, "user_id": 1128336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a483a1a66515656998918dc5504067e5?s=128&d=identicon&r=PG", "display_name": "sam yi", "link": "https://stackoverflow.com/users/1128336/sam-yi"}, "edited": false, "score": 1, "creation_date": 1602734738, "post_id": 53769207, "comment_id": 113815488, "body": "@samyi I was using Visual Studio for this project. Maybe give Visual Studio a shot?"}], "tags": [], "owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "is_accepted": true, "score": 3, "last_activity_date": 1544731021, "creation_date": 1544731021, "answer_id": 53769207, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram/53769207#53769207", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>It seem to be a known issue for .Net Core installation, <a href=\"http://github.com/dotnet/core-setup/issues/4350\" rel=\"nofollow noreferrer\">github.com/dotnet/core-setup/issues/4350</a></p>\n\n<p>I have to uninstall all .Net Core packages, both x64 and x86, then reinstalled .Net Core x86 package. And that solved the problem. </p>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 967151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EFqOv.jpg?s=128&g=1", "display_name": "Ali Rasouli", "link": "https://stackoverflow.com/users/967151/ali-rasouli"}, "is_accepted": false, "score": 0, "last_activity_date": 1580219892, "creation_date": 1580219892, "answer_id": 59950439, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram/59950439#59950439", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>you only needed to install your .net core SDK version in your computer or your server.\nthis <a href=\"https://dotnet.microsoft.com/download/dotnet-core\" rel=\"nofollow noreferrer\">link</a> has all version of .NET Core SDK. download and install it and run and test your app again.</p>\n"}, {"tags": [], "owner": {"reputation": 206, "user_id": 983085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ecda89995e88a28cc021af0041e787?s=128&d=identicon&r=PG", "display_name": "Matias Beckerle", "link": "https://stackoverflow.com/users/983085/matias-beckerle"}, "is_accepted": false, "score": 6, "last_activity_date": 1587756856, "creation_date": 1587756856, "answer_id": 61416127, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram/61416127#61416127", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>Some months ago a Visual Studio update broke my capability of running tests. One of the issues was exactly this error. I have the x64 version of the SDK installed but VS tests runner was attempting to use the x86 version. The fix is just changing a setting inside the Test Explorer: <code>Processor Architecture for AnyCPU Projects -&gt; x64</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gDatG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gDatG.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3151, "user_id": 546411, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HVODr.jpg?s=128&g=1", "display_name": "workabyte", "link": "https://stackoverflow.com/users/546411/workabyte"}, "edited": false, "score": 0, "creation_date": 1614962475, "post_id": 66082809, "comment_id": 117554254, "body": "fixed my issue using core 5 / ef5, good catch"}], "tags": [], "owner": {"reputation": 31, "user_id": 10394849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e3ae410e15d8715bc9f3ead43661913?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/10394849/omar"}, "is_accepted": false, "score": 2, "last_activity_date": 1612711505, "last_edit_date": 1612711505, "creation_date": 1612651925, "answer_id": 66082809, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram/66082809#66082809", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>I ran into the same problem.</p>\n<p>After searching up through Microsoft's documentations, I saw that I was missing an extra necessary Nuget Package.</p>\n<p>The documentation says:</p>\n<blockquote>\n<p>Before you can use the tools on a specific project, you'll need to add\nthe Microsoft.EntityFrameworkCore.Design package to it.</p>\n</blockquote>\n<p>Which is what I did by adding the package</p>\n<p><code>dotnet add package Microsoft.EntityFrameworkCore.Design</code></p>\n<p>That's it. Hope it helps someone out there!</p>\n"}], "owner": {"reputation": 329, "user_id": 1403955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9254a9eaf7f3932cb8bb8dab32ec3290?s=128&d=identicon&r=PG", "display_name": "wltz", "link": "https://stackoverflow.com/users/1403955/wltz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18694, "favorite_count": 0, "accepted_answer_id": 53769207, "answer_count": 5, "score": 7, "last_activity_date": 1612711505, "creation_date": 1544650756, "last_edit_date": 1544653074, "question_id": 53751769, "link": "https://stackoverflow.com/questions/53751769/it-was-not-possible-to-find-any-compatible-framework-version-the-specified-fram", "title": "It was not possible to find any compatible framework version. The specified framework &#39;Microsoft.NETCore.App&#39;, version &#39;2.2.0&#39; was not found", "body": "<p>I had a .Net Core console app built and deployed. </p>\n\n<p>The project's Platform target is x86. </p>\n\n<p>Target framework is .Net Core 2.2(x86). </p>\n\n<p>Although .Net Core 2.2 (x86) SDK is installed, I get following error after executing the command dotnet myapp.dll in Developer Command Prompt VS2017.</p>\n\n<pre><code>It was not possible to find any compatible framework version\nThe specified framework 'Microsoft.NETCore.App', version '2.2.0' was not found.\n- The following versions are installed:\n2.0.7 at [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n2.0.9 at [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n2.1.5 at [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n</code></pre>\n\n<p>The .Net Core 2.2(x86) SDK was installed under path \"C:\\Program Files (x86)\\dotnet\\shared\", and System Environment Variables contains \"C:\\Program Files (x86)\\dotnet\\\". </p>\n\n<p>Any suggestion? Thanks!</p>\n\n<p>~~~Update1</p>\n\n<p>Following are part of .csproj info, sorry can't show whole thing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\r\n\r\n  &lt;PropertyGroup&gt;\r\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\r\n    &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\r\n    &lt;Platforms&gt;AnyCPU;x86;x64&lt;/Platforms&gt;\r\n  &lt;/PropertyGroup&gt;\r\n\r\n  &lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Release|AnyCPU'\"&gt;\r\n    &lt;PlatformTarget&gt;x86&lt;/PlatformTarget&gt;\r\n    &lt;Prefer32Bit&gt;true&lt;/Prefer32Bit&gt;\r\n  &lt;/PropertyGroup&gt;\r\n\r\n  &lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Release|x64'\"&gt;\r\n    &lt;PlatformTarget&gt;x64&lt;/PlatformTarget&gt;\r\n    &lt;Prefer32Bit&gt;true&lt;/Prefer32Bit&gt;\r\n  &lt;/PropertyGroup&gt;\r\n\r\n  &lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Release|x86'\"&gt;\r\n    &lt;PlatformTarget&gt;x86&lt;/PlatformTarget&gt;\r\n  &lt;/PropertyGroup&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "generics", "static-methods"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544651891, "post_id": 53751764, "comment_id": 94356702, "body": "When you say &quot;Load static classes individually&quot; what do you mean? You cannot have an instance of a <code>static</code> class. Do you have 12 different static types, or 12 instances of the same type?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544651935, "post_id": 53751764, "comment_id": 94356722, "body": "It&#39;s also not clear to me what problem you&#39;re trying to solve. In what way is your current code not working?"}, {"owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652086, "post_id": 53751764, "comment_id": 94356811, "body": "@RufusL I know that I can&#39;t create instances, and when I say <i>load static classes individually</i> it means by calling <code>Textures.Initialize()</code> then <code>Models.Initialize()</code> and so on and so forth."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652087, "post_id": 53751764, "comment_id": 94356814, "body": "Is <code>Textures</code> a collection class (since the name is plural)?"}, {"owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652136, "post_id": 53751764, "comment_id": 94356833, "body": "@RufusL My code works fine as it currently sits, but I have described my concern quite thoroughly, I wish to call a common method across several <code>static</code> classes."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652190, "post_id": 53751764, "comment_id": 94356866, "body": "Oh, wow, that makes sense. That comment ^ was so clear and easy to understand. You should edit you question and replace everything with that!"}, {"owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652217, "post_id": 53751764, "comment_id": 94356879, "body": "<code>Textures</code> contains a laundry list of static <code>Texture2D</code> objects representing common textures used in my application."}, {"owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544652253, "post_id": 53751764, "comment_id": 94356902, "body": "@RufusL If I were to replace my entire post with that single comment it would probably be deleted. :D"}, {"owner": {"reputation": 983, "user_id": 9555136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9063a5e70f81677d2e3b6090efe6326?s=128&d=identicon&r=PG&f=1", "display_name": "Adam G", "link": "https://stackoverflow.com/users/9555136/adam-g"}, "edited": false, "score": 6, "creation_date": 1544652563, "post_id": 53751764, "comment_id": 94357031, "body": "Have you considered using the Singleton pattern rather than statics? The advantage from your use case&#39;s perspective is that Singletons can implement an interface with this method signature or even inherit from a common abstract base class."}, {"owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "reply_to_user": {"reputation": 983, "user_id": 9555136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9063a5e70f81677d2e3b6090efe6326?s=128&d=identicon&r=PG&f=1", "display_name": "Adam G", "link": "https://stackoverflow.com/users/9555136/adam-g"}, "edited": false, "score": 0, "creation_date": 1544654239, "post_id": 53751764, "comment_id": 94357702, "body": "@AdamG That is a very good suggestion! If you wouldn&#39;t mind writing up a brief answer on it I will mark it as accepted. That is definitely a better approach than full <code>static</code> classes. I&#39;ve already located a detailed article on implementation in various scenarios but an overview for future readers would be nice to have here."}], "answers": [{"tags": [], "owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "is_accepted": false, "score": 0, "last_activity_date": 1544651989, "creation_date": 1544651989, "answer_id": 53752023, "question_id": 53751764, "link": "https://stackoverflow.com/questions/53751764/calling-a-common-method-across-multiple-static-classes/53752023#53752023", "title": "Calling a common method across multiple static classes?", "body": "<p>Though I hope there is a much better and more detailed answer than this; I've come up with a basic solution. I created a separate <code>Queue&lt;Type&gt;</code> where I add the <code>static</code> classes. I then call their <code>Initialize</code> method with the following:</p>\n\n<pre><code>Type t = typesToInit.Dequeue();\nt.GetMethod(\"Initialize\").Invoke(null, new object[] { 0 });\n</code></pre>\n\n<p>This works well and is rather clean, but I can't help but wonder if there is a better way to do this?</p>\n"}, {"tags": [], "owner": {"reputation": 983, "user_id": 9555136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9063a5e70f81677d2e3b6090efe6326?s=128&d=identicon&r=PG&f=1", "display_name": "Adam G", "link": "https://stackoverflow.com/users/9555136/adam-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1544707287, "creation_date": 1544707287, "answer_id": 53762824, "question_id": 53751764, "link": "https://stackoverflow.com/questions/53751764/calling-a-common-method-across-multiple-static-classes/53762824#53762824", "title": "Calling a common method across multiple static classes?", "body": "<blockquote>\n  <p>I have currently considered two options:</p>\n  \n  <ul>\n  <li>Load static classes individually.</li>\n  <li>Convert static classes to instance classes and call them with the queue.</li>\n  </ul>\n</blockquote>\n\n<p>A third compromise approach relates to your second idea above, but uses a design pattern known as the Singleton Pattern. Like static classes, there can only be one of them in your process and everyone gets that same thing, however unlike static classes, Singletons can implement interfaces or even descend from other classes.</p>\n\n<p>For this example, I will use the interface approach. </p>\n\n<pre><code>public interface IInitializable\n{\n    void Initialize();\n}\n</code></pre>\n\n<p>All the interface does is to enforce that its implementer has an Initialize method.</p>\n\n<p>My next step is to create a Singleton class. There are a couple of rules to implement the Singleton pattern. Your class must be sealed. Its constructor must be private. It must have a static method or property to return the single instance. That method/property must be threadsafe.</p>\n\n<p>I have used Lazy to do the heavy lifting for me</p>\n\n<pre><code>public sealed class Foo : IInitializable\n{\n    public void Initialize()\n    {\n        // Initialize my foo\n    }\n\n    private Foo()\n    {\n    }\n\n    private static Lazy&lt;Foo&gt; fooLazy = new Lazy&lt;Foo&gt;(() =&gt; new Foo());\n\n    public static Foo Instance =&gt; fooLazy.Value;\n}\n</code></pre>\n\n<p>There are some minor differences to what you were doing with static classes. If Foo was a static class, you would call <code>Foo.Initialize();</code> As it is Singleton, you would call <code>Foo.Instance.Initialize();</code></p>\n\n<p>Any other methods or properties would most likely be non-static.</p>\n\n<p>Pulling it all together, you could write code like this. Your queue does not need to know about the classes it holds. You don't actually care. You only want to know that it has the Initialize() method</p>\n\n<pre><code>   public class YourClass\n    {\n        private Queue&lt;IInitializable&gt; objectsToLoad = new Queue&lt;IInitializable&gt;();\n\n        public void Enqueue(IInitializable obj)\n        {\n            this.objectsToLoad.Enqueue(obj);\n        }\n\n        public void LoadOrUpdate()\n        {\n            // Update Method\n            if (objectsToLoad.Count &gt; 0)\n            {\n                IInitializable obj = objectsToLoad.Dequeue();\n                obj.Initialize();\n            }\n            else\n            {\n                // Loading complete.\n            }\n        }\n    }\n</code></pre>\n\n<p>This class could then be used like this</p>\n\n<pre><code>    YourClass yourClass = new YourClass();\n    yourClass.Enqueue(Foo.Instance);\n    yourClass.LoadOrUpdate();\n</code></pre>\n"}], "owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 53762824, "answer_count": 2, "score": 0, "last_activity_date": 1544709117, "creation_date": 1544650730, "last_edit_date": 1544709117, "question_id": 53751764, "link": "https://stackoverflow.com/questions/53751764/calling-a-common-method-across-multiple-static-classes", "title": "Calling a common method across multiple static classes?", "body": "<h2>A Quick Note</h2>\n\n<p>The code in this post is built on top of a in-house built <code>DirectX-11</code> engine which means it follows the strict pattern of:</p>\n\n<pre><code>Initialize\nwhile (Running) {\n    Update\n    Render\n}\n</code></pre>\n\n<p>However, do not let this deter you as the problem is not related to the <code>DirectX</code> code but instead <code>static</code> classes and methods.</p>\n\n<hr>\n\n<h2>Overview</h2>\n\n<p>I have a class called <code>RenderObject</code> which contains a method called <code>Initialize</code>. This method is responsible for building the object's mesh, assigning textures, shaders, and more.</p>\n\n<pre><code>public class RenderObject {\n    public virtual void Initialize() { }\n}\n</code></pre>\n\n<p>I also have a few <code>static</code> classes that hold reusable assets such as common textures, shaders, models, and meshes. This way I don't have to reload them later. All of these <code>static</code> classes also contain a method called <code>Initialize</code> which is responsible for creating these reusable assets. For this question I will limit this to just the <code>Textures</code> class.</p>\n\n<pre><code>public static class Textures {\n    public static Texture2D Dirt { get; private set; }\n    public static Texture2D Grass { get; private set; }\n    public static void Initialize() {\n        Dirt = new Texture2D(...);\n        Grass = new Texture2D(...);\n    }\n}\n</code></pre>\n\n<p>Finally, I have a class called <code>LoadingSystem</code> which is responsible for loading reusable assets and initializing objects. I initialize this class inside of the <code>Initialize</code> method of my engine, and then call the class' <code>Update</code> method in the <code>Update</code> method of the engine respectively. The <code>LoadingSystem</code>'s <code>Update</code> method is responsible for loading and initializing objects using a <code>Queue</code> which is useful for supplying smooth visual feedback.</p>\n\n<pre><code> public class LoadingSystem {\n     public bool Loading { get; private set; } = true;\n     private Queue&lt;RenderObject&gt; objectsToRender;\n     public void AddForLoad(RenderObject obj) =&gt; objectsToRender.Enqueue(obj);\n     public void Update() {\n         if (objectsToRender.Count &gt; 0) {\n             RenderObject obj = objectsToLoad.Dequeue();\n             obj.Initialize();\n         } else Loading = false;\n     }\n }\n</code></pre>\n\n<hr>\n\n<h2>The Problem</h2>\n\n<p>I would like to call the method <code>Initialize</code> on these <code>static</code> classes with the same process used for the <code>RenderObject</code> queue. Currently I'm forced to do:</p>\n\n<pre><code>CurrentMessage = \"Loading Textures\";\nRender();\nPresent();\nTextures.Initialize();\nProgress = ++objectsLoaded / objectsToLoad;\nCurrentMessage = \"Loading Shaders\";\nRender();\nPresent();\nShaders.Initialize();\nProgress = ++objectsLoaded / objectsToLoad;\nCurrentMessage = \"Loading Models\";\nRender();\nPresent();\nModels.Initialize();\nProgress = ++objectsLoaded / objectsToLoad;\n</code></pre>\n\n<p>I've slimmed it down to a method that handles the repetitive setting of the message, and calls to <code>Render</code> and <code>Present</code> but this is still tedious and it should go through the <code>Update</code> method once per object to remain consistent with the rest of the code.</p>\n\n<hr>\n\n<h2>My Thoughts</h2>\n\n<p>I understand that a <code>static</code> class cannot inherit from a <code>class</code> or implement an <code>interface</code> so I am wondering if there is a way to provide a <code>static</code> class and call its <code>Initialize</code> method in a similar manner; even if this means creating a separate method to accomplish it.</p>\n\n<p>I have currently considered two options:</p>\n\n<ul>\n<li>Load static classes individually.</li>\n<li>Convert static classes to instance classes and call them with the queue.</li>\n</ul>\n\n<p>The problem with the first option is that I have 12 <code>static</code> classes and would have to update progress and feedback messages, raise events, and re-render the scene for each one.</p>\n\n<p>The problem with the second option is that these <code>static</code> classes only contain <code>static</code> properties and thus by definition should be <code>static</code> as there is no need to ever inherit from them or create an instance of them.</p>\n\n<hr>\n\n<h2>The Question</h2>\n\n<p>Is there a way to call a common method across multiple static classes?</p>\n\n<ul>\n<li>Perhaps a way to call the method if it exists with generic types like <code>object</code> or <code>T</code>?</li>\n<li>Perhaps the <code>dynamic</code> type may work (though you can't create an instance of <code>static</code> classes)?</li>\n</ul>\n"}, {"tags": ["c#", "sql-server", "visual-studio", "entity-framework"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1544650768, "post_id": 53751688, "comment_id": 94356181, "body": "Try adding <code>[key]</code> attribute in addition to the DatabaseGenerateOption or change the field to classname + Id (TransactionHistoriesId)"}, {"owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1544651146, "post_id": 53751688, "comment_id": 94356363, "body": "I tried to put [key] attribute but still not working. Btw changing class name would matter for this issue?"}, {"owner": {"reputation": 79, "user_id": 10099932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060a856175bf4411037afeddb014f413?s=128&d=identicon&r=PG&f=1", "display_name": "Giollia", "link": "https://stackoverflow.com/users/10099932/giollia"}, "edited": false, "score": 0, "creation_date": 1544652288, "post_id": 53751688, "comment_id": 94356911, "body": "Do you have access to the database and if so is it SQL? and if that is also the case do you have SSMS installed? also you have a typo in your Amount display name"}, {"owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "edited": false, "score": 0, "creation_date": 1544653520, "post_id": 53751688, "comment_id": 94357413, "body": "I am using SSMS and retrieved data form SSMS server into visual studio when I created the data models."}, {"owner": {"reputation": 740, "user_id": 5228912, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b65cc5edea47e71fd246344dbdb799f8?s=128&d=identicon&r=PG", "display_name": "Batuhan", "link": "https://stackoverflow.com/users/5228912/batuhan"}, "edited": false, "score": 0, "creation_date": 1544654494, "post_id": 53751688, "comment_id": 94357805, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1334012/cannot-insert-explicit-value-for-identity-column-in-table-table-when-identity\">Cannot insert explicit value for identity column in table &#39;table&#39; when IDENTITY_INSERT is set to OFF</a>"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1544660627, "post_id": 53751688, "comment_id": 94359552, "body": "However you are inserting, make sure you do not supply the ID. let the database generate it."}, {"owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "edited": false, "score": 0, "creation_date": 1544668972, "post_id": 53751688, "comment_id": 94361275, "body": "I put up my code.. I am not sure whether I am supplying ID myself."}, {"owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "edited": false, "score": 0, "creation_date": 1544669217, "post_id": 53751688, "comment_id": 94361326, "body": "I put the values into properties in TransactionHistories except id value."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "edited": false, "score": 0, "creation_date": 1544654957, "post_id": 53752219, "comment_id": 94357971, "body": "Could you mention where I should exactly go to change that option?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1544660525, "post_id": 53752219, "comment_id": 94359532, "body": "You pretty much only want to do that when seeding the database. It is irresponsible to tell someone to turn identity insert on."}, {"owner": {"reputation": 740, "user_id": 5228912, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b65cc5edea47e71fd246344dbdb799f8?s=128&d=identicon&r=PG", "display_name": "Batuhan", "link": "https://stackoverflow.com/users/5228912/batuhan"}, "reply_to_user": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "edited": false, "score": 0, "creation_date": 1544684516, "post_id": 53752219, "comment_id": 94365333, "body": "@Gideok Seong in your sql ui ,you should write this command to command line"}, {"owner": {"reputation": 740, "user_id": 5228912, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b65cc5edea47e71fd246344dbdb799f8?s=128&d=identicon&r=PG", "display_name": "Batuhan", "link": "https://stackoverflow.com/users/5228912/batuhan"}, "edited": false, "score": 0, "creation_date": 1544691213, "post_id": 53752219, "comment_id": 94368297, "body": "Here is Gideok want to add auto-increment column in database and you telling it is seeding database and it is irresponsible. We are focus on problems and this problem will be fix this solution &#39;SET IDENT\u0130TY_INSERT &quot;table&quot; ON&#39;"}], "tags": [], "owner": {"reputation": 740, "user_id": 5228912, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b65cc5edea47e71fd246344dbdb799f8?s=128&d=identicon&r=PG", "display_name": "Batuhan", "link": "https://stackoverflow.com/users/5228912/batuhan"}, "is_accepted": false, "score": -1, "last_activity_date": 1544653372, "last_edit_date": 1544653372, "creation_date": 1544652987, "answer_id": 53752219, "question_id": 53751688, "link": "https://stackoverflow.com/questions/53751688/how-to-enable-is-identity-in-entity-framework/53752219#53752219", "title": "How to enable Is identity in entity framework?", "body": "<p><a href=\"https://stackoverflow.com/questions/1334012/cannot-insert-explicit-value-for-identity-column-in-table-table-when-identity\">Cannot insert explicit value for identity column in table &#39;table&#39; when IDENTITY_INSERT is set to OFF</a></p>\n\n<blockquote>\n  <p>SET IDENTITY_INSERT \"table\" ON</p>\n</blockquote>\n"}], "owner": {"reputation": 33, "user_id": 9011945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34b2984bdbfc976f4aba53c5852741?s=128&d=identicon&r=PG&f=1", "display_name": "Gideok Seong", "link": "https://stackoverflow.com/users/9011945/gideok-seong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544669024, "creation_date": 1544650408, "last_edit_date": 1544669024, "question_id": 53751688, "link": "https://stackoverflow.com/questions/53751688/how-to-enable-is-identity-in-entity-framework", "title": "How to enable Is identity in entity framework?", "body": "<p><a href=\"https://i.stack.imgur.com/u2YDG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2YDG.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to make TransactionId increased using Is Identity in my code. But it shows this following error : </p>\n\n<blockquote>\n  <p>SqlException: Cannot insert explicit value for identity column in\n  table 'TransactionHistories' when IDENTITY_INSERT is set to OFF.</p>\n</blockquote>\n\n<p>I tried to put <code>[DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]</code> syntax. But it didn't work. </p>\n\n<pre><code>public partial class TransactionHistories\n    {\n        [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n        public int TransactionId { get; set; }\n\n        public DateTime? TransactionDate { get; set; }\n        public long? CheckingAccountNumber { get; set; }\n        public long? SavingAccountNumber { get; set; }\n        [DisplayName(\"Transffered Amount\")]\n        public decimal? Amount { get; set; }\n        public decimal? Transactionfee { get; set; }\n        public long? TransactionTypeId { get; set; }\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>            TransactionHistories = new TransactionHistories();\n            TransactionTypes = new TransactionTypes();\n\n            if (!ModelState.IsValid)\n            {\n                return Page();\n            }\n\n            SavingAccounts.Balance = SavingAccounts.Balance - Amount;\n            CheckingAccounts.Balance = CheckingAccounts.Balance + Amount;\n\n            //TransactionHistories.TransactionId = TransactionHistories.TransactionId + 1;\n            TransactionHistories.TransactionDate = DateTime.Now;\n            TransactionHistories.CheckingAccountNumber = CheckingAccounts.CheckingAccountNumber;\n            TransactionHistories.SavingAccountNumber = SavingAccounts.SavingAccountNumber;\n            TransactionHistories.Amount = Amount;\n            TransactionHistories.Transactionfee = 0;\n            TransactionHistories.TransactionType = \"SavingToChecking\";\n</code></pre>\n\n<p>Above is my model class and TransactionId is primary key which is the value I am trying to make it increase by 1 using Is Identity. How can I make this work? Please give me any advice and help. </p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1544650471, "post_id": 53751664, "comment_id": 94356061, "body": "Well, you are serializing a List, which the <code>[ ]</code> brackets represent. It looks like you want to just serialize the item directly, however."}, {"owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 0, "creation_date": 1544650503, "post_id": 53751664, "comment_id": 94356074, "body": "I update my question"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1544650507, "post_id": 53751664, "comment_id": 94356076, "body": "Remove the list and serialize the object directly.  Why are you adding a model to a list before serializing it if the endpoint doesn&#39;t expect a list of entities?"}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 0, "creation_date": 1544650673, "post_id": 53751726, "comment_id": 94356138, "body": "Your answer works, but is there any way to send query using list collection?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 1, "creation_date": 1544650737, "post_id": 53751726, "comment_id": 94356167, "body": "@Dim if the server wont accept a collection there is not much else you can do. Send the single item."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 1, "creation_date": 1544650789, "post_id": 53751726, "comment_id": 94356188, "body": "@Dim It is up to the service to take or to reject the request in a specific format. If you modify the service running at <code>http:&#47;&#47;localhost:49826&#47;api&#47;Account&#47;Register</code> to accept arrays, passing JSON arrays would work. Currently, though, it looks like the service is programmed to reject JSON arrays."}, {"owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 0, "creation_date": 1544650859, "post_id": 53751726, "comment_id": 94356218, "body": "What if i want to send multiple elements (multiple emails)? should i send them directly? without using list?"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 1, "creation_date": 1544651104, "post_id": 53751726, "comment_id": 94356345, "body": "@Dim From what I can tell, it looks like you need to send them one-by-one in a loop."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 4, "last_activity_date": 1544650561, "creation_date": 1544650561, "answer_id": 53751726, "question_id": 53751664, "link": "https://stackoverflow.com/questions/53751664/asp-net-cannot-accept-json-with-brackets/53751726#53751726", "title": "Asp net cannot accept json with brackets [ ]", "body": "<p>It looks like you are passing a single-element array to the server, while the server expects a single element coming by itself. This can be addressed by serializing the object without adding it to the list:</p>\n\n<pre><code>var json = JsonConvert.SerializeObject(new RegisterBindingModel {\n    Email = email,\n    Password = password,\n    ConfirmPassword = confirmPassword\n});\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544663014, "creation_date": 1544650267, "last_edit_date": 1544663014, "question_id": 53751664, "link": "https://stackoverflow.com/questions/53751664/asp-net-cannot-accept-json-with-brackets", "title": "Asp net cannot accept json with brackets [ ]", "body": "<p>Here is my method how i create a register into Asp net </p>\n\n<pre><code> public class RegisterBindingModel\n    {\n\n        public string Email { get; set; }\n        public string Password { get; set; }\n        public string ConfirmPassword { get; set; }\n    }\n    async void Register(string email,string password, string confirmPassword)\n    {\n        List&lt;RegisterBindingModel&gt; mItems = new List&lt;RegisterBindingModel&gt;();\n        mItems.Add(new RegisterBindingModel { Email = email, Password = password, ConfirmPassword = confirmPassword });\n\n        var json = JsonConvert.SerializeObject(mItems);\n        using (var client = new HttpClient())\n        {\n            client.Timeout = TimeSpan.FromMilliseconds(20000);\n            var response = await client.PostAsync(\"http://localhost:49826/api/Account/Register\", new StringContent(json, Encoding.UTF8, \"application/json\"));\n\n            if (response.IsSuccessStatusCode)\n            {\n                string content = await response.Content.ReadAsStringAsync();\n                Console.Write((int)response.StatusCode);\n\n            }\n            else\n            {\n                string content = await response.Content.ReadAsStringAsync();\n                Console.Write((int)response.StatusCode);\n\n            }\n        }\n\n    }\n    private void button1_Click(object sender, EventArgs e)\n    {\n        Register(\"dimitris2@in.gr\", \"Password1?\", \"Password1?\");\n    }\n</code></pre>\n\n<p>I am getting error 400 Invalid request Cannot deserialize the current json array eg 1,2,3... If i will remove first and last bracket from string , then it works. But it is not standar json format. How can fix this?</p>\n\n<p>This is how my string looks like:</p>\n\n<p><code>[{\"Email\":\"dimitris2@in.gr\",\"Password\":\"Password1?\",\"ConfirmPassword\":\"Password1?\"}]</code></p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-web-api"], "comments": [{"owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "edited": false, "score": 0, "creation_date": 1544650875, "post_id": 53751614, "comment_id": 94356229, "body": "your IIS is on a different server or the same server?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9120125"}, "edited": false, "score": 0, "creation_date": 1544710929, "post_id": 53752354, "comment_id": 94379490, "body": "Thanks Scott.You were right i didn&#39;t import the key to the destination server."}], "tags": [], "owner": {"reputation": 16, "user_id": 7530560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e564856106ef2dc3abb8991ed63148?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Underwood", "link": "https://stackoverflow.com/users/7530560/scott-underwood"}, "is_accepted": true, "score": 0, "last_activity_date": 1544653737, "creation_date": 1544653737, "answer_id": 53752354, "question_id": 53751614, "link": "https://stackoverflow.com/questions/53751614/aspnet-regiis-encryption-of-connection-string-in-web-config-not-working-after-pu/53752354#53752354", "title": "ASPNET_REGIIS encryption of connection string in web config not working after publish on IIS8", "body": "<p>Without more details, my first thought would be that the keys have not been imported onto the destination server.  You may be able to find more details on this StackOverflow question:  <a href=\"https://stackoverflow.com/questions/9721568/deploying-pre-encrypted-configuration-files-to-a-production-environment\">Deploying Pre-Encrypted Configuration Files to a Production Environment</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9120125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 53752354, "answer_count": 1, "score": 0, "last_activity_date": 1544653737, "creation_date": 1544650006, "question_id": 53751614, "link": "https://stackoverflow.com/questions/53751614/aspnet-regiis-encryption-of-connection-string-in-web-config-not-working-after-pu", "title": "ASPNET_REGIIS encryption of connection string in web config not working after publish on IIS8", "body": "<p>I did the encryption of connection string in web config using ASPNET_REGIIS technique. \nIt is working fine when i run my web Api locally. \nWhen i publish it to IIS8 i get 500 internal server error. \nI am using entity framework for db connection.\nFollowing is my web config after encryption on server. \nPlease help</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  For more information on how to configure your ASP.NET application, please visit\n  https://go.microsoft.com/fwlink/?LinkId=301879\n  --&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n  &lt;/configSections&gt;\n  &lt;appSettings&gt;&lt;/appSettings&gt;\n  &lt;system.web&gt;\n    &lt;compilation targetFramework=\"4.6.1\" /&gt;\n    &lt;httpRuntime targetFramework=\"4.6.1\" /&gt;\n  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;handlers&gt;\n      &lt;remove name=\"ExtensionlessUrlHandler-Integrated-4.0\" /&gt;\n      &lt;remove name=\"OPTIONSVerbHandler\" /&gt;\n      &lt;remove name=\"TRACEVerbHandler\" /&gt;\n      &lt;add name=\"ExtensionlessUrlHandler-Integrated-4.0\" path=\"*.\" verb=\"*\" type=\"System.Web.Handlers.TransferRequestHandler\" preCondition=\"integratedMode,runtimeVersionv4.0\" /&gt;\n    &lt;/handlers&gt;\n  &lt;/system.webServer&gt;\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-11.0.0.0\" newVersion=\"11.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Helpers\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-3.0.0.0\" newVersion=\"3.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Mvc\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-5.2.4.0\" newVersion=\"5.2.4.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.WebPages\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-3.0.0.0\" newVersion=\"3.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n  &lt;system.codedom&gt;\n    &lt;compilers&gt;\n      &lt;compiler language=\"c#;cs;csharp\" extension=\".cs\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:default /nowarn:1659;1699;1701\" /&gt;\n      &lt;compiler language=\"vb;vbs;visualbasic;vbscript\" extension=\".vb\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:default /nowarn:41008 /define:_MYTYPE=\\&amp;quot;Web\\&amp;quot; /optionInfer+\" /&gt;\n    &lt;/compilers&gt;\n  &lt;/system.codedom&gt;\n  &lt;connectionStrings configProtectionProvider=\"RsaProtectedConfigurationProvider\"&gt;\n    &lt;EncryptedData Type=\"http://www.w3.org/2001/04/xmlenc#Element\" xmlns=\"http://www.w3.org/2001/04/xmlenc#\"&gt;\n      &lt;EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#tripledes-cbc\" /&gt;\n      &lt;KeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n        &lt;EncryptedKey xmlns=\"http://www.w3.org/2001/04/xmlenc#\"&gt;\n          &lt;EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#rsa-1_5\" /&gt;\n          &lt;KeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n            &lt;KeyName&gt;Rsa Key&lt;/KeyName&gt;\n          &lt;/KeyInfo&gt;\n          &lt;CipherData&gt;\n            &lt;CipherValue&gt;b5kY1n7Zp1P1FEEDi5nYlM0rdtU6gtpKm0AfudUqsCeF7Hzc6Q93SbXlwX06tfVMWK/HntfqJ28Y6DgRJth/PIewupMsETLF/tnHHyuHWuHetiup1P5e0q24WyqlrsaNWD6NYzl+XYW6C6lNuun3UXkp+B6UJPl+553tUq5TKeQ=&lt;/CipherValue&gt;\n          &lt;/CipherData&gt;\n        &lt;/EncryptedKey&gt;\n      &lt;/KeyInfo&gt;\n      &lt;CipherData&gt;\n        &lt;CipherValue&gt;QhdAFCWmfEVRrsQrfwpFDgWyLQa2Oymicsf5Hp3BDgELJUjAeUOfBzSp2x20gEClqPNkBXQhkCgJht5ZmzqavxHjDTVVClzPQRNjcI6Rec1D6NDwkfCbY2zPU7150cX9AC0J48bwblOc7DuxSR6+A97D0SSWmFaexYMQZxsfq4fMcRGTKUrKL83bXELP0rUo14U22J1dpnRwQiS2Lu0ctR1OjvLVD+YKt3R7mpkPHJPOcikOeL65P4dy2UZwj8EBWzgSrEDLvYqVk5H7BGP4KxpL+mX4krUTQqlDmriUZ4Q3+YmpfVHVAsx9XcudA6PaFjlFTfkBL5RTKMv/EYeITLApfIRnPSWla38NGqC5pMV76df7DQXWoSb+22vTjyCAvQlpApDwKR0tATdDJagwZcXSeE/82VHYOqyFVSY9gZkTsauXSYOW4eQPb1yhgp1jwWAVmKNU6qCgKbJUCE8FlxOUrQ1AjOsLBZthzogaTZQRLdnzX1vBRl0vv+E6uvBAwujHGeC9Dh6skbckVD8vAqG6hRXvBV0y17egjmAS0miLKpHzt0TV74UD1aRiqEt/zRRhYPMBCMs1NJ2vtMpDk1stJqnAfj8IEhAQ+GAFLxhV9eXvXg8zE3s309mG738btGircXn9ErgdABi8qF/YU4U7yklA/xF6STVN8wlij2AUO+k38L9H1/AFgAOYSBh6RQkEIXFlhhrIMtiJQOUIpmKrs4qrIzVWnp9Usz3bnNoO3XkwclzATZv+9OSHg3uLnRUbhire61o9l3hDJzD+MijZ3dD28g579BCymzF3XFO/92Y7gWaXn/nOAzplluUj0gsGvNlAebephxS0PovMENGtGCLsWI5qRR0qri46AiEq3i549LN/PaLH9cU/LL0uAXI5UXjrqZbPPmCo4eIYbkHp3vPE/BJHXfD4sPqIoxeuqJ4MYLWcJ6Z7i++n5tXj2svLaPU8GlV8/9tkYtevRs1a3KsMNu2Owmz7dLEUrXGsB3zxIj7Al7aaWfTKA8um+NAfzlZMuQjADv4XZX1RIn120Fp5PEpueK409ej2YI75B9Ob6Btu4srsM55QzkRwOldSeJToS8Z5P2/22FXu75TnKM+olLJCu/SeyxmE1vxntSkpGlFRxCQOvMTdjndLJM3pStY8jtY=&lt;/CipherValue&gt;\n      &lt;/CipherData&gt;\n    &lt;/EncryptedData&gt;\n  &lt;/connectionStrings&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework\"&gt;\n      &lt;parameters&gt;\n        &lt;parameter value=\"mssqllocaldb\" /&gt;\n      &lt;/parameters&gt;\n    &lt;/defaultConnectionFactory&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n&lt;/configuration&gt;\n&lt;!--ProjectGuid: 866D7495-35B3-4EE8-9806-8A547E5AA3D2--&gt;\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "windows-services", "multitasking"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 1, "creation_date": 1544650955, "post_id": 53751590, "comment_id": 94356266, "body": "Maybe use a concurrent queue and just deque from it? Now your code is just doing a busy loop and it will always use lots of CPU."}, {"owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1544652905, "post_id": 53751590, "comment_id": 94357167, "body": "thanks for suggesting <code>ConcurrentQueue</code>, updated the sender code, but no changes on CPU usage."}, {"owner": {"reputation": 66, "user_id": 1597678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88cc221e8f5a041138e1cc261dfe3359?s=128&d=identicon&r=PG", "display_name": "Deniz Tasdogen", "link": "https://stackoverflow.com/users/1597678/deniz-tasdogen"}, "edited": false, "score": 0, "creation_date": 1544658176, "post_id": 53751590, "comment_id": 94358957, "body": "i am not that familiar with windows services but the while loop seems like it will loop until service is stopped. So it will always run with 100% cpu even though there is nothing to dequeue. Maybe you can make it time triggered."}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1544680054, "post_id": 53751590, "comment_id": 94363790, "body": "Did you remove the check for length and just use Deque? That will wait until there is an item available and no need to check for length or lock"}, {"owner": {"reputation": 593, "user_id": 6028633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caeb2d5ad7d8f81029a18ade6b8fffef?s=128&d=identicon&r=PG&f=1", "display_name": "KBO", "link": "https://stackoverflow.com/users/6028633/kbo"}, "edited": false, "score": 0, "creation_date": 1544686202, "post_id": 53751590, "comment_id": 94366045, "body": "Your <code>DequeueTask</code> and <code>EnqueueTask</code> methods run continously in a while loop in parallel and occupy the CPU completely. You should add wait/sleep in the while loops. You should also use the <code>CancellationToken</code> structure as an constructor argument and class field to the <code>NotificationSender</code> class, do not access the <code>CancellationTokenSource</code> directly from the <code>NotificationSender</code> object. When creating the tasks, use <code>TaskCreationOptions.LongRunning</code>."}, {"owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "edited": false, "score": 0, "creation_date": 1544699538, "post_id": 53751590, "comment_id": 94372914, "body": "many thanks, I used <code>TaskCreationOptions.LongRunning</code> when creating the tasks, also regarding the token, it is now passed as an argument to the sender class. you can see these changes on my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "edited": false, "score": 0, "creation_date": 1544707816, "post_id": 53760488, "comment_id": 94377580, "body": "After Installed and started the service, it does nothing, seems it is not accessing the database and not sending.  I used a tool (ProcessExplorer) to investigate, i did not see any threads associted with my service. But when I edit <code>Program.cs</code> to manually call <code>OnStart</code> and run from visual studio, everything works well."}, {"owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "edited": false, "score": 0, "creation_date": 1544716464, "post_id": 53760488, "comment_id": 94383113, "body": "It seems the service was starting and stopping directly and there was nothing to wait for, so there was no time for tasks to run. I used to add <code>System.Threading.Thread.Sleep(System.Threading.Timeout.Infin&zwnj;&#8203;ite);</code> when running from visual studio. But for the real service I solved it by adding <code>await Task.WhenAll(enqueueTask);</code> to the end of the <code>NotificationSender.StartSending</code> which kept the service running. I hope someone can find my post helpful."}], "tags": [], "owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "is_accepted": true, "score": 0, "last_activity_date": 1544699284, "creation_date": 1544699284, "answer_id": 53760488, "question_id": 53751590, "link": "https://stackoverflow.com/questions/53751590/how-to-reduce-cpu-usage-in-a-db-based-multi-threaded-notification-email-sender/53760488#53760488", "title": "How to reduce CPU usage in a db-based multi threaded notification/email sender", "body": "<p>I think I could finally do good changes to maintain the CPU usage using wait handlers and a timer.</p>\n\n<p><code>EnqueueTask</code> will wait 5 seconds before trying to fetch data again from the notifications table if no notifications fetched. If no notifications fetched, it will start the timer and reset the wait handle. The timer elapsed callback will then set the wait handle.</p>\n\n<p>Also <code>DequeueTask</code> is now using a wait handle. If no more items in the queue, it will reset the wait handle to stop dequeue-ing empty queue. <code>EnqueueTask</code> will set this wait handle when it adds items to the queue.</p>\n\n<p>CPU usage is now &lt;= 10%</p>\n\n<p>And here is the updated <code>NotificationSender</code> code:</p>\n\n<pre><code>static class NotificationSender\n{\n    static ConcurrentQueue&lt;NotificationDelivery&gt; deliveryQueue = null;\n    static Task enqueueTask = null;\n    static Task[] dequeueTasks = null;\n\n    static ManualResetEvent enqueueSignal = null;\n    static ManualResetEvent dequeueSignal = null;\n\n    static System.Timers.Timer enqueueTimer = null;\n\n    public static void StartSending(CancellationToken token)\n    {\n        PushService.InitServices();\n\n        using (DSTeckWebPushNotificationsContext db = new DSTeckWebPushNotificationsContext())\n        {\n            NotificationDelivery[] queuedDeliveries = db.NotificationDeliveries\n                        .Where(nd =&gt; nd.Status == NotificationDeliveryStatus.Queued)\n                        .ToArray();\n\n            foreach (NotificationDelivery delivery in queuedDeliveries)\n            {\n                delivery.Status = NotificationDeliveryStatus.Pending;\n            }\n\n            db.SaveChanges();\n        }\n\n        enqueueSignal = new ManualResetEvent(true);\n        dequeueSignal = new ManualResetEvent(false);\n\n        enqueueTimer = new System.Timers.Timer();\n        enqueueTimer.Elapsed += EnqueueTimerCallback;\n        enqueueTimer.Interval = 5000;\n        enqueueTimer.AutoReset = false;\n        enqueueTimer.Stop();\n\n        enqueueTask = new Task(EnqueueTask, token, TaskCreationOptions.LongRunning);\n        enqueueTask.Start();\n\n        deliveryQueue = new ConcurrentQueue&lt;NotificationDelivery&gt;();\n\n        int dequeueTasksCount = 10;\n        dequeueTasks = new Task[dequeueTasksCount];\n        for (int i = 0; i &lt; dequeueTasksCount; i++)\n        {\n            dequeueTasks[i] = new Task(DequeueTask, token, TaskCreationOptions.LongRunning);\n            dequeueTasks[i].Start();\n        }\n    }\n\n    public static void EnqueueTimerCallback(Object source, ElapsedEventArgs e)\n    {\n        enqueueSignal.Set();\n        enqueueTimer.Stop();\n    }\n\n    public static void EnqueueTask(object state)\n    {\n        CancellationToken token = (CancellationToken)state;\n\n        using (DSTeckWebPushNotificationsContext db = new DSTeckWebPushNotificationsContext())\n        {\n            while (!token.IsCancellationRequested)\n            {\n                if (enqueueSignal.WaitOne())\n                {\n                    int toEnqueue = 100 - deliveryQueue.Count;\n\n                    if (toEnqueue &gt; 0)\n                    {\n                        // fetch some records from db to be enqueued\n                        NotificationDelivery[] deliveries = db.NotificationDeliveries\n                            .Include(\"Subscription\")\n                            .Include(\"Notification\")\n                            .Include(\"Notification.NotificationLanguages\")\n                            .Include(\"Notification.NotificationLanguages.Language\")\n                            .Where(nd =&gt; nd.Status == NotificationDeliveryStatus.Pending &amp;&amp; DateTime.Now &gt;= nd.StartSendingAt)\n                            .OrderBy(nd =&gt; nd.StartSendingAt)\n                            .Take(toEnqueue)\n                            .ToArray();\n\n                        foreach (NotificationDelivery delivery in deliveries)\n                        {\n                            delivery.Status = NotificationDeliveryStatus.Queued;\n                            deliveryQueue.Enqueue(delivery);\n                        }\n\n                        if (deliveries.Length &gt; 0)\n                        {\n                            // save Queued state, so not fetched again the next loop\n                            db.SaveChanges();\n\n                            // signal the DequeueTask\n                            dequeueSignal.Set();\n                        }\n                        else\n                        {\n                            // no more notifications, wait 5 seconds before try fetching again\n                            enqueueSignal.Reset();\n                            enqueueTimer.Start();\n                        }\n                    }\n\n                    // save any changes made by the DequeueTask\n                    // an event may be used here to know if any changes made\n                    db.SaveChanges();\n                }\n            }\n\n            Task.WaitAll(dequeueTasks);\n            db.SaveChanges();\n        }\n    }\n\n    public async static void DequeueTask(object state)\n    {\n        CancellationToken token = (CancellationToken)state;\n\n        while (!token.IsCancellationRequested)\n        {\n            if (dequeueSignal.WaitOne()) // block untill we have items in the queue\n            {\n                NotificationDelivery delivery = null;\n\n                if (deliveryQueue.TryDequeue(out delivery))\n                {\n                    NotificationDeliveryStatus ns = NotificationDeliveryStatus.Pending;\n                    if (delivery.Subscription.Status == SubscriptionStatus.Subscribed)\n                    {\n                        PushResult result = await PushService.DoPushAsync(delivery);\n\n                        switch (result)\n                        {\n                            case PushResult.Pushed:\n                                ns = NotificationDeliveryStatus.Delivered;\n                                break;\n                            case PushResult.Error:\n                                ns = NotificationDeliveryStatus.FailureError;\n                                break;\n                            case PushResult.NotSupported:\n                                ns = NotificationDeliveryStatus.FailureNotSupported;\n                                break;\n                            case PushResult.UnSubscribed:\n                                ns = NotificationDeliveryStatus.FailureUnSubscribed;\n                                delivery.Subscription.Status = SubscriptionStatus.UnSubscribed;\n                                break;\n                        }\n                    }\n                    else\n                    {\n                        ns = NotificationDeliveryStatus.FailureUnSubscribed;\n                    }\n\n                    delivery.Status = ns;\n                    delivery.DeliveredAt = DateTime.Now;\n                }\n                else\n                {\n                    // empty queue, no more items\n                    // stop dequeueing untill new items added by EnqueueTask\n                    dequeueSignal.Reset();\n                }\n            }\n        }\n    }\n\n    public static void Wait()\n    {\n        Task.WaitAll(enqueueTask);\n        Task.WaitAll(dequeueTasks);\n\n        enqueueTask.Dispose();\n        for(int i = 0; i &lt; dequeueTasks.Length; i++)\n        {\n            dequeueTasks[i].Dispose();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4620731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8637830405b01d051108321f7a43ed?s=128&d=identicon&r=PG&f=1", "display_name": "anwar", "link": "https://stackoverflow.com/users/4620731/anwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 53760488, "answer_count": 1, "score": 0, "last_activity_date": 1544699284, "creation_date": 1544649885, "last_edit_date": 1544652808, "question_id": 53751590, "link": "https://stackoverflow.com/questions/53751590/how-to-reduce-cpu-usage-in-a-db-based-multi-threaded-notification-email-sender", "title": "How to reduce CPU usage in a db-based multi threaded notification/email sender", "body": "<p>I am trying to develop a windows service to send notifications to subscriptions.\nThe data is saved in a SQL server database.</p>\n\n<p>Notifications are created by making a web POST request to a REST API endpoint and saved in a database table.</p>\n\n<p>The service starts one Task that keeps reading notifications from this db table and add them to a queue.</p>\n\n<p>Also the service starts few Tasks that keep reading from the queue and do the actual send process.</p>\n\n<p>The code is working good and doing the job needed, but the problem is that CPU usage is 100% when running the service.</p>\n\n<p>I tried to use Thread.Sleep or Task.Delay but neither helped me to reduce the CPU usage.</p>\n\n<p>I have read in this codeprojct <a href=\"https://www.codeproject.com/Questions/175229/Threading-and-CPU-usage\" rel=\"nofollow noreferrer\">page</a>, that I need to use wait handlers and should wait on some condition. I could not have this working properly.</p>\n\n<p>so can anyone advise what can I do to reduce CPU usage for <code>EnqueueTask</code> and <code>DequeueTask</code> ?</p>\n\n<p>Here is the sender code:</p>\n\n<pre><code>static class NotificationSender\n{\n    static ConcurrentQueue&lt;NotificationDelivery&gt; deliveryQueue = null;\n    static Task enqueueTask = null;\n    static Task[] dequeueTasks = null;\n\n    public static void StartSending(ServiceState serviceState)\n    {\n        PushService.InitServices();\n\n        enqueueTask = Task.Factory.StartNew(EnqueueTask, serviceState);\n\n        deliveryQueue = new ConcurrentQueue&lt;NotificationDelivery&gt;();\n\n        int dequeueTasksCount = 10;\n        dequeueTasks = new Task[dequeueTasksCount];\n        for (int i = 0; i &lt; dequeueTasksCount; i++)\n        {\n            dequeueTasks[i] = Task.Factory.StartNew(DequeueTask, serviceState);\n        }\n    }\n\n    public static void EnqueueTask(object state)\n    {\n        ServiceState serviceState = (ServiceState)state;\n\n        using (DSTeckWebPushNotificationsContext db = new DSTeckWebPushNotificationsContext())\n        {\n            while (!serviceState.CancellationTokenSource.Token.IsCancellationRequested)\n            {\n                int toEnqueue = 100 - deliveryQueue.Count;\n\n                if (toEnqueue &gt; 0)\n                {\n                    // fetch some records from db to be enqueued\n                    NotificationDelivery[] deliveries = db.NotificationDeliveries\n                        .Include(\"Subscription\")\n                        .Include(\"Notification\")\n                        .Include(\"Notification.NotificationLanguages\")\n                        .Include(\"Notification.NotificationLanguages.Language\")\n                        .Where(nd =&gt; nd.Status == NotificationDeliveryStatus.Pending &amp;&amp; DateTime.Now &gt;= nd.StartSendingAt)\n                        .OrderBy(nd =&gt; nd.StartSendingAt)\n                        .Take(toEnqueue)\n                        .ToArray();\n\n                    foreach (NotificationDelivery delivery in deliveries)\n                    {\n                        delivery.Status = NotificationDeliveryStatus.Queued;\n                        deliveryQueue.Enqueue(delivery);\n                    }\n\n                    if (deliveries.Length &gt; 0)\n                    {\n                        db.SaveChanges(); // save Queued state, so not fetched again the next loop\n                    }\n                }\n\n                // save any changes made by the DequeueTask\n                // an event may be used here to know if any changes made\n                db.SaveChanges();\n            }\n\n            Task.WaitAll(dequeueTasks);\n            db.SaveChanges();\n        }\n    }\n\n    public async static void DequeueTask(object state)\n    {\n        ServiceState serviceState = (ServiceState)state;\n\n        while (!serviceState.CancellationTokenSource.Token.IsCancellationRequested)\n        {\n            NotificationDelivery delivery = null;\n\n            if (deliveryQueue.TryDequeue(out delivery))\n            {\n                NotificationDeliveryStatus ns = NotificationDeliveryStatus.Pending;\n                if (delivery.Subscription.Status == SubscriptionStatus.Subscribed)\n                {\n                    PushResult result = await PushService.DoPushAsync(delivery);\n\n                    switch (result)\n                    {\n                        case PushResult.Pushed:\n                            ns = NotificationDeliveryStatus.Delivered;\n                            break;\n                        case PushResult.Error:\n                            ns = NotificationDeliveryStatus.FailureError;\n                            break;\n                        case PushResult.NotSupported:\n                            ns = NotificationDeliveryStatus.FailureNotSupported;\n                            break;\n                        case PushResult.UnSubscribed:\n                            ns = NotificationDeliveryStatus.FailureUnSubscribed;\n                            delivery.Subscription.Status = SubscriptionStatus.UnSubscribed;\n                            break;\n                    }\n                }\n                else\n                {\n                    ns = NotificationDeliveryStatus.FailureUnSubscribed;\n                }\n\n                delivery.Status = ns;\n                delivery.DeliveredAt = DateTime.Now;\n            }\n        }\n    }\n\n    public static void Wait()\n    {\n        Task.WaitAll(enqueueTask);\n        Task.WaitAll(dequeueTasks);\n\n        enqueueTask.Dispose();\n        for(int i = 0; i &lt; dequeueTasks.Length; i++)\n        {\n            dequeueTasks[i].Dispose();\n        }\n    }\n}\n</code></pre>\n\n<p>An object of type <code>ServiceState</code> is used to maintain starting and stopping the service, and here is the code for this type:</p>\n\n<pre><code>class ServiceState\n{\n    public CancellationTokenSource CancellationTokenSource { get; set; }\n\n    public void Start()\n    {\n        CancellationTokenSource = new CancellationTokenSource();\n\n        NotificationSender.StartSending(this);\n    }\n\n    public void Stop()\n    {\n        CancellationTokenSource.Cancel();\n\n        NotificationSender.Wait();\n        CancellationTokenSource.Dispose();\n    }\n}\n</code></pre>\n\n<p>Here is the service start and stop code:</p>\n\n<pre><code>protected override void OnStart(string[] args)\n{\n    _serviceState = new ServiceState();\n    _serviceState.Start();\n}\n\nprotected override void OnStop()\n{\n    _serviceState.Stop();\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "edited": false, "score": 0, "creation_date": 1544650141, "post_id": 53751571, "comment_id": 94355919, "body": "SO is not for code review. consider <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "edited": false, "score": 0, "creation_date": 1544650673, "post_id": 53751571, "comment_id": 94356137, "body": "How <code>item.f&#225;jlba()</code> is defined? Could you paste code for this method?"}, {"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544650776, "post_id": 53751571, "comment_id": 94356184, "body": "Yes, in CsMarvel, like this:  <code>public virtual string f&#225;jlba()         {             return this.cim + &quot;;&quot; + this.iro + &quot;;&quot; + this.rajzolo + &quot;;&quot; + this.megjelenes + &quot;;&quot; + this.ar;         }</code>"}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "edited": false, "score": 0, "creation_date": 1544650822, "post_id": 53751571, "comment_id": 94356207, "body": "@Gary so none of those parameters are arrays or something?"}, {"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544650925, "post_id": 53751571, "comment_id": 94356251, "body": "these are all parameters.strings and ints"}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "edited": false, "score": 0, "creation_date": 1544650969, "post_id": 53751571, "comment_id": 94356272, "body": "@Gary Moreover, why do you have this code <code>if (cbKiado.Text.Equals(&quot;DC&quot;));</code>? It will make so that everything underneath will run any way."}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "edited": false, "score": 0, "creation_date": 1544651177, "post_id": 53751571, "comment_id": 94356386, "body": "I would say you are doing a loooot of reading and a few times. That is probably not needed. But I can&#39;t say what exactly, because I don&#39;t know your needs."}, {"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544651197, "post_id": 53751571, "comment_id": 94356398, "body": "It&#39;s for a ComboBox, which leads to an other form. I&#39;m real beginner, so it seem the only way to make a ComboBox situation."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1544651354, "post_id": 53751571, "comment_id": 94356474, "body": "You have too many mistakes. You have to <a href=\"https://stackoverflow.com/help/mcve\">separate your code into simple steps</a> and <a href=\"https://ericlippert.com/2014/03/21/find-a-simpler-problem/\" rel=\"nofollow noreferrer\">fix each step one by one</a>. Do not try to solve two problems at the same time"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1544655645, "post_id": 53751571, "comment_id": 94358201, "body": "A couple of tips... If someone indicates that more information is required (like the definition of <code>f&#225;jlba</code>) it&#39;s worth putting that in the question so that everyone can see it, and it formats correctly. Secondly: StreamReader and StreamWriter are both IDisposable so variables of those types are best declared as local variables in a <code>using</code> block. Once you&#39;ve done that, you don&#39;t need the Close, as the implicit Dispose will call Close as it exits the block."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544651652, "post_id": 53751900, "comment_id": 94356611, "body": "That was really helpful, now those codes run separately. The <code>Index was outside the bounds of the arrays</code> problem is still on, and the StreamWriter just write to ListBox, not to the file."}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "reply_to_user": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544652185, "post_id": 53751900, "comment_id": 94356862, "body": "@Gary In DC case you are reading line and trying to take s[5] value. Suppose something could be wrong there."}, {"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544652442, "post_id": 53751900, "comment_id": 94356972, "body": "DC has more parameter, That&#39;s why I used 5 not 4."}, {"owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "reply_to_user": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544652523, "post_id": 53751900, "comment_id": 94357010, "body": "@Gary So you writing in two different ways? Because you showed only one which is not dependent on DC or not."}, {"owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "edited": false, "score": 0, "creation_date": 1544652702, "post_id": 53751900, "comment_id": 94357091, "body": "Maybe now can be seen. Updated question."}], "tags": [], "owner": {"reputation": 732, "user_id": 796236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0115463729e5526978249b298f5ae182?s=128&d=identicon&r=PG", "display_name": "Belurd", "link": "https://stackoverflow.com/users/796236/belurd"}, "is_accepted": false, "score": 0, "last_activity_date": 1544651371, "creation_date": 1544651371, "answer_id": 53751900, "question_id": 53751571, "link": "https://stackoverflow.com/questions/53751571/streamwriter-and-streamreader-and-array-problems/53751900#53751900", "title": "StreamWriter and StreamReader and array problems", "body": "<p>I think you got duplicates because of <code>if...</code> in <code>cbKiado_SelectedIndexChanged()</code></p>\n\n<pre><code>if (cbKiado.Text.Equals(\"DC\"));\n{\n...\n}\n</code></pre>\n\n<p>You need to remove <code>;</code> if you would like to run <code>{...}</code> code block only if text is <code>DC</code>. You have now situation when you run empty block in true case and run <code>{...}</code> always. It will make reading of file twice, I suppose.</p>\n"}], "owner": {"reputation": 17, "user_id": 10782997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128ff78a19852cf0f41160cde43bc013?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10782997/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544652668, "creation_date": 1544649806, "last_edit_date": 1544652668, "question_id": 53751571, "link": "https://stackoverflow.com/questions/53751571/streamwriter-and-streamreader-and-array-problems", "title": "StreamWriter and StreamReader and array problems", "body": "<pre><code>I have this very long code, which is works more or less.\n</code></pre>\n\n<p>The problem is it's not writing into text file, and when I open <code>FrmDc</code> <code>FrmMarvel</code> also opens. Some reason while I'm closing <code>FrmDc</code> <code>Index was outside the bounds of the arrays</code> message is shown. What could be wrong? \nThe reading is works more or less also, because when I write some information to a textbox, and the source file contains details, it duplicates the existing texts.</p>\n\n<p>I think I can remove some part of the code, but I'm not sure which.</p>\n\n<pre><code>namespace Kepregenybolt\n    {\n        public partial class Form1 : Form\n        {\n            List&lt;CsMarvel&gt; kLista = new List&lt;CsMarvel&gt;();\n            StreamWriter sW;\n\n            public Form1()\n            {\n                InitializeComponent();\n                cbKiado.Items.Add(\"Marvel\");\n                cbKiado.Items.Add(\"DC\");\n                try\n                {\n                    StreamReader sR = new StreamReader(\"kepregenyek.txt\", Encoding.UTF8);\n                    while (!sR.EndOfStream)\n                    {\n                        string sor = sR.ReadLine();\n                        string[] s = sor.Split(';');\n                        if (s.Length == 5)\n                        {\n                            CsMarvel h = new CsMarvel(s[0],\n                                s[1],\n                                s[2],\n                                Convert.ToInt32(s[3]),\n                                Convert.ToInt32(s[4]));\n                            kLista.Add(h);\n                        }\n                        else\n                        {\n                            CsDc h = new CsDc(s[0],\n                               s[1],\n                               s[2],\n                               Convert.ToInt32(s[3]),\n                               Convert.ToInt32(s[4]),\n                               s[5]);\n                            kLista.Add(h);\n                        }\n                    }\n                    sR.Close();\n                    foreach (CsMarvel item in kLista)\n                    {\n                        listBox1.Items.Add(item.list\u00e1ba());\n                    }\n                }\n                catch (Exception ex)\n                {\n                    MessageBox.Show(ex.Message);\n                }\n            }\n\n            private void cbKiado_SelectedIndexChanged(object sender, EventArgs e)\n            {\n                FrmMarvel a = new FrmMarvel(kLista);\n\n                if (cbKiado.Text.Equals(\"Marvel\")) ;\n\n\n\n                a.ShowDialog();\n                try\n                {\n                    StreamReader sR = new StreamReader(\"kepregenyek.txt\", Encoding.UTF8);\n                    while (!sR.EndOfStream)\n                    {\n                        string sor = sR.ReadLine();\n                        string[] s = sor.Split(';');\n                        CsMarvel l = new CsMarvel(s[0], s[1], s[2], Convert.ToInt32(s[3]), Convert.ToInt32(s[4]));\n                        kLista.Add(l);\n                    }\n\n                    sR.Close();\n                    foreach (CsMarvel item in kLista)\n                    {\n                        listBox1.Items.Add(item.list\u00e1ba());\n                    }\n                }\n                catch (Exception ex)\n                {\n                    MessageBox.Show(ex.Message);\n                } \n\n                if (cbKiado.Text.Equals(\"DC\"));\n                {\n                    FrmDc b = new FrmDc(kLista);\n                    b.ShowDialog();\n                    try\n                    {\n                        StreamReader sR = new StreamReader(\"kepregenyek.txt\", Encoding.UTF8);\n                        while (!sR.EndOfStream)\n                        {\n                            string sor = sR.ReadLine();\n                            string[] s = sor.Split(';');\n                            CsDc l = new CsDc(s[0], s[1], s[2], Convert.ToInt32(s[3]), Convert.ToInt32(s[4]), s[5]);\n                            kLista.Add(l);\n                        }\n\n                        sR.Close();\n                        foreach (CsDc item in kLista)\n                        {\n                            listBox1.Items.Add(item.list\u00e1ba());\n                        }\n                    }\n                    catch (Exception ex)\n                    {\n                        MessageBox.Show(ex.Message);\n\n                    }\n                }\n            }\n\n\n            private void FrmMarvel_FormClosing(object sender, FormClosedEventArgs e)\n            {\n\n                sW = new StreamWriter(\"kepregenyek.txt\", false, Encoding.UTF8);\n                foreach (CsMarvel item in kLista)\n                {\n                    sW.WriteLine(item.f\u00e1jlba());\n                }\n                sW.Close();\n            }\n\n            private void btnClose_Click(object sender, EventArgs e)\n            {\n                this.Close();\n            }\n        }\n    }\n</code></pre>\n\n<p>The CsMarvel is the following: </p>\n\n<pre><code>    public class CsMarvel\n        {\n            string cim;\n            string iro;\n            string rajzolo;\n            int megjelenes;\n            int ar;\n\n\n\n\n            public CsMarvel(string cim, string iro, string rajzolo, int megjelenes, int ar)\n            {\n                this.cim = cim;\n                this.iro = iro;\n                this.rajzolo = rajzolo;\n                this.megjelenes = megjelenes;\n                this.ar = ar;\n\n            }\n            public virtual string f\u00e1jlba()\n            {\n                return this.cim + \";\" + this.iro + \";\" + this.rajzolo + \";\" + this.megjelenes + \";\" + this.ar;\n            }\n            public virtual string list\u00e1ba()\n            {\n                return this.cim + \":\" + this.iro + \" \" + this.rajzolo + \" kiad\u00f3 Kiadva:\" + this.megjelenes + \" \" + this.ar + \" Ft\";\n            }\n            public string Cim\n            {\n                get\n                {\n                    return cim;\n\n                }\n                set\n                {\n                    cim = value;\n                }\n            }\n            public string Iro\n            {\n                get\n                {\n                    return iro;\n\n                }\n                set\n                {\n                    iro = value;\n                }\n            }\n            public string Rajzolo\n            {\n                get\n                {\n                    return rajzolo;\n\n                }\n                set\n                {\n                    rajzolo = value;\n                }\n            }\n            public int Megjelenes\n            {\n                get\n                {\n                    return megjelenes;\n\n                }\n                set\n                {\n                    megjelenes = value;\n                }\n            }\n            public int Ar\n            {\n                get\n                {\n                    return ar;\n\n                }\n                set\n                {\n                    ar = value;\n                }\n            }\n        }\n\n}\n</code></pre>\n\n<p>And the CsDc has one extra array.</p>\n"}, {"tags": ["c#", "google-translate", "system.net"], "comments": [{"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 1, "creation_date": 1544649808, "post_id": 53751495, "comment_id": 94355752, "body": "What is the downloaded content? If it has your translation in it, there you go - just adjust your pattern matching. If it doesn&#39;t, what does it have? What is the response body?"}, {"owner": {"reputation": 11, "user_id": 10633748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea51de029112966456c8b57ac88d5?s=128&d=identicon&r=PG&f=1", "display_name": "nooblet", "link": "https://stackoverflow.com/users/10633748/nooblet"}, "reply_to_user": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1544651382, "post_id": 53751495, "comment_id": 94356489, "body": "@cwharris the problem is, the downloaded string does not have the translation in it. It&#39;s pretty much just some javascript code, judging by the fact that it&#39;s inside  &lt;script&gt; tags, but the translation is nowhere to be found."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1544651514, "post_id": 53751495, "comment_id": 94356556, "body": "We can help you if you provide more information. Please edit your post to include an example response."}, {"owner": {"reputation": 11, "user_id": 10633748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea51de029112966456c8b57ac88d5?s=128&d=identicon&r=PG&f=1", "display_name": "nooblet", "link": "https://stackoverflow.com/users/10633748/nooblet"}, "reply_to_user": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1544655086, "post_id": 53751495, "comment_id": 94358015, "body": "@cwharris edited the post now"}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1544656327, "post_id": 53751495, "comment_id": 94358424, "body": "The page responds with a JavaScript application which sends an XHR to recieve the translation response. The app then presents that data to the user. Google is intentionally locking this service down. Bypassing security violates the terms of service. I strongly recommend taking a look at the official API."}], "owner": {"reputation": 11, "user_id": 10633748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea51de029112966456c8b57ac88d5?s=128&d=identicon&r=PG&f=1", "display_name": "nooblet", "link": "https://stackoverflow.com/users/10633748/nooblet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544655063, "creation_date": 1544649467, "last_edit_date": 1544655063, "question_id": 53751495, "link": "https://stackoverflow.com/questions/53751495/string-translation-through-google-translate-stopped-working", "title": "String translation through Google Translate stopped working", "body": "<p>Some time ago I used a simple method to translate a dictionary from one language to another using Google Translate (without the cloud translation API). It looked similar to this:</p>\n\n<pre><code>private static Dictionary&lt;string, string&gt; StringTranslator(Dictionary&lt;string, string&gt; input)\n{\n    var output = new Dictionary&lt;string, string&gt;();\n    var LanguagePair = \"en|fr\"; //let's take English to French as an example\n\n    using (var web = new WebClient())\n    {\n        foreach (var pair in input)\n        {\n            var url = string.Format(@\"http://www.google.com/translate_t?hl=en&amp;ie=UTF8&amp;text={0}&amp;langpair={1}\", pair.Value, LanguagePair);\n\n            var w = web.DownloadString(url);\n\n            w = w.Substring(w.IndexOf(@\"&lt;span title=\"\"&gt;\") + @\"&lt;span title=\"\"&gt;\".Length);\n            w = w.Substring(w.IndexOf(\"&gt;\") + 1);\n            w = w.Substring(0, w.IndexOf(\"&lt;/span&gt;\"));\n\n            output.Add(pair.Key, w.Trim());\n        }\n    }\n\n    return output;\n}\n</code></pre>\n\n<p>In this example, the dictionary's key will be the string name (irrelevant here) and value is the text to be translated.\nThe code worked fine until very recently, when Google changed the layout of Translator (I think). Now the output is always the full downloaded webpage, instead of just the translated text. Debugging shows that the </p>\n\n<pre><code>&lt;span title=\"\"&gt;\n</code></pre>\n\n<p>is nowhere to be found in the downloaded page, and neither is the translated text. Is there a way to fix it, or maybe another way to kind of implement an autotranslate like this one? Cheers.</p>\n\n<p>EDIT: providing some more context\nusing the method in question:</p>\n\n<pre><code>private static void Main()\n{\n    var strings = new Dictionary&lt;string, string&gt;()\n        {\n            {\"str1\", \"one\" },\n            {\"str2\", \"two\" },\n            { \"strTest\", \"This is just nothing but a test message that will soon be translated into another language.\" }\n        };\n\n    var test = StringTranslator(strings);\n}\n</code></pre>\n\n<p>All output strings in the dictionary look similar to this: <a href=\"https://pastebin.com/h4ahMRCb\" rel=\"nofollow noreferrer\">https://pastebin.com/h4ahMRCb</a> (pretty long and poorly formatted, but that's what it looks like when I get it)</p>\n"}, {"tags": ["c#", "asp.net", ".net", "regex"], "comments": [{"owner": {"reputation": 8053, "user_id": 4094678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9cbde609375e8b2ee26a0b6602c81b?s=128&d=identicon&r=PG", "display_name": "cantSleepNow", "link": "https://stackoverflow.com/users/4094678/cantsleepnow"}, "edited": false, "score": 1, "creation_date": 1544649431, "post_id": 53751465, "comment_id": 94355615, "body": "English is not my first language, but when you say &quot;skip&quot; you mean &quot;escape&quot; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9795291"}, "reply_to_user": {"reputation": 8053, "user_id": 4094678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9cbde609375e8b2ee26a0b6602c81b?s=128&d=identicon&r=PG", "display_name": "cantSleepNow", "link": "https://stackoverflow.com/users/4094678/cantsleepnow"}, "edited": false, "score": 0, "creation_date": 1544649619, "post_id": 53751465, "comment_id": 94355680, "body": "@cantSleepNow soryy, its not my mother lanquage too, I corrected. tnx"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1544649653, "post_id": 53751465, "comment_id": 94355694, "body": "What are you trying to accomplish? In C# if you use a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/verbatim\" rel=\"nofollow noreferrer\">verbatim string literal</a> then you must double up <code>&quot;</code> marks inside it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9795291"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1544739259, "post_id": 53751465, "comment_id": 94393486, "body": "how can I see the other question ? so I can compare it with mine @NetMage"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1544741957, "post_id": 53751465, "comment_id": 94394368, "body": "It is listed at the top of your question when you refresh."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9795291"}, "edited": false, "score": 0, "creation_date": 1544650808, "post_id": 53751522, "comment_id": 94356193, "body": "Thank you so much Jonathon"}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 4, "last_activity_date": 1544649928, "last_edit_date": 1544649928, "creation_date": 1544649619, "answer_id": 53751522, "question_id": 53751465, "link": "https://stackoverflow.com/questions/53751465/how-to-escape-quotation-marks-in-multiple-line-of-string-c/53751522#53751522", "title": "How To Escape Quotation Marks in Multiple Line Of String? C#", "body": "<p>To escape double quotes in a verbatim string (ie, a string declared with the <code>@</code> prefix), simply double the quotes up (<code>\"\"</code>). This is in contrast to how you would normally escape a double quote in a string, <code>\\\"</code>.</p>\n\n<pre><code>var stringHolder = @\" book book \"\"book\"\"\nten ten \"\"book\"\" book pen\npen \"\"hook book\"\" dook\nbeer poor \"\"111\"\" cat map\";\nConsole.WriteLine(stringHolder);\n/*Output:\n book book \"book\"\nten ten \"book\" book pen\npen \"hook book\" dook\nbeer poor \"111\" cat map\n*/\n</code></pre>\n\n<p>When the indentation matters, you may have to fight the normal tabbing in your editor a bit, which can lead to some odd looking declarations.</p>\n\n<pre><code>namespace MyNamespace {\n    public class Foo {\n        public string GetString() =&gt; @\"Hello\nWorld\"; // Returns a string that looks like\n        // Hello\n        // World\n\n        public string GetString2() =&gt; @\"Hello\n            World\"; // Returns a string that looks like\n                    // Hello\n                    //             World\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9795291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "closed_date": 1544651559, "accepted_answer_id": 53751522, "answer_count": 1, "score": 2, "last_activity_date": 1544739563, "creation_date": 1544649356, "last_edit_date": 1544739563, "question_id": 53751465, "link": "https://stackoverflow.com/questions/53751465/how-to-escape-quotation-marks-in-multiple-line-of-string-c", "closed_reason": "Duplicate", "title": "How To Escape Quotation Marks in Multiple Line Of String? C#", "body": "<p>I have a string with multiple lines, each line contains number of Quotation  mark (\"),these Quotations are too much in my string and some of them even I cant skip with back slash() also.\nI tried to use 31d party website ( <a href=\"https://www.freeformatter.com/java-dotnet-escape.html#ad-output\" rel=\"nofollow noreferrer\">click here</a> ) which will do Escapeing but its reforming the lines which I need my string in its line format so I can regex them  line by line.\nQuestion is there any way to skip all these quotations in easy way?</p>\n\n<p>bellow is mock of my string</p>\n\n<pre><code>var stringHolder = @\" book book \"book\"\nten ten \"book\" book pen\npen \"hook book\" dook\nbeer poor \"111\" cat map\"\n</code></pre>\n\n<p>Tnx alot in advance</p>\n"}, {"tags": ["c#", "graphics", "picturebox"], "comments": [{"owner": {"reputation": 3263, "user_id": 3706778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IpRV8.png?s=128&g=1", "display_name": "Major", "link": "https://stackoverflow.com/users/3706778/major"}, "edited": false, "score": 1, "creation_date": 1544651377, "post_id": 53751461, "comment_id": 94356486, "body": "In your first example if you have using() block for FileStream then you don&#39;t need to call Close(), Dispose(). As I see in the first example you are calling Clone() so you have an another object but the second disposes the object. Check out these: <a href=\"https://stackoverflow.com/questions/25723855/outofmemoryexception-out-of-memory-system-drawing-graphics-fromimagehttps://social.msdn.microsoft.com/Forums/en-US/4aac43fa-cccb-4bf7-b37e-58ec5351ab80/outofmemoryexception-when-using-graphicsfromimage?forum=csharplanguage\" title=\"outofmemoryexception out of memory system drawing graphics fromimagehttps%3a\">stackoverflow.com/questions/25723855/&hellip;</a>"}, {"owner": {"reputation": 3263, "user_id": 3706778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IpRV8.png?s=128&g=1", "display_name": "Major", "link": "https://stackoverflow.com/users/3706778/major"}, "edited": false, "score": 0, "creation_date": 1544651413, "post_id": 53751461, "comment_id": 94356497, "body": "I think the solution is this:  In Graphics, &quot;out of memory&quot; Exception mostly occurred when the image.propertyitems throws some exception. At that, time we need to store the image in stream and again get the image from the stream."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10782613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ml4xx.jpg?s=128&g=1", "display_name": "Mister Crabs", "link": "https://stackoverflow.com/users/10782613/mister-crabs"}, "edited": false, "score": 0, "creation_date": 1544696643, "post_id": 53759195, "comment_id": 94371289, "body": "Thanks,the first way help me =)"}], "tags": [], "owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1544720032, "last_edit_date": 1544720032, "creation_date": 1544695120, "answer_id": 53759195, "question_id": 53751461, "link": "https://stackoverflow.com/questions/53751461/there-is-not-enough-memory-for-the-picture-when-using-graphics-c/53759195#53759195", "title": "There is not enough memory for the picture when using Graphics, C#", "body": "<p>You have 3 alternatives:  </p>\n\n<p>1) Assign the <code>Image.FromStream()</code> result without cloning it: the PictureBox Control preferes to act on its own on the underlying stream (see the <a href=\"https://referencesource.microsoft.com/#System.Windows.Forms/winforms/Managed/System/WinForms/PictureBox.cs,567\" rel=\"nofollow noreferrer\">.Net Source about the PictureBox.Load()</a> method). </p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    using (FileStream stream = File.OpenRead(FullName))\n    {\n        pictureBox1.Image = Bitmap.FromStream(stream);\n    }\n    using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n    {\n        g.Clear(Color.FromArgb(0, 255, 255, 255));\n    }\n}  \n</code></pre>\n\n<p>2) Perform all the operations inside the using block. The stream will still be valid at this point:<br></p>\n\n<pre><code>using (FileStream stream = File.OpenRead(FullName)\n{\n    pictureBox1.Image = (Image)Image.FromStream(stream).Clone();\n    using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n    {\n        g.Clear(Color.FromArgb(0, 255, 255, 255));\n    }\n}\n</code></pre>\n\n<p>3) Use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.picturebox.load?f1url=https%3A%2F%2Fmsdn.microsoft.com%2Fquery%2Fdev15.query%3FappId%3DDev15IDEF1%26l%3DEN-US%26k%3Dk(System.Windows.Forms.PictureBox.Load);k(TargetFrameworkMoniker-.NETFramework%26f%3D255%26MSPPError%3D-2147217396&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Load()</a> method directly.<br></p>\n\n<pre><code>    pictureBox1.Load(FullName);\n</code></pre>\n\n<p>All methods will end up using the PictureBox Control internal <a href=\"https://referencesource.microsoft.com/#System.Windows.Forms/winforms/Managed/System/WinForms/PictureBox.cs,519\" rel=\"nofollow noreferrer\">InstallNewImage()</a> (.Net source) method. See how the Image <code>stream</code> is treated.</p>\n\n<p>Calling <code>Graphics.FromImage()</code> will not raise an exception anymore.<br></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10782613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ml4xx.jpg?s=128&g=1", "display_name": "Mister Crabs", "link": "https://stackoverflow.com/users/10782613/mister-crabs"}, "edited": false, "score": 0, "creation_date": 1544696599, "post_id": 53759557, "comment_id": 94371269, "body": "Oh,the answer above (which I didn&#39;t notice right away) looks more detailed. That answer doesn&#39;t make much sense anymore."}], "tags": [], "owner": {"reputation": 11, "user_id": 10782613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ml4xx.jpg?s=128&g=1", "display_name": "Mister Crabs", "link": "https://stackoverflow.com/users/10782613/mister-crabs"}, "is_accepted": false, "score": 1, "last_activity_date": 1544696294, "creation_date": 1544696294, "answer_id": 53759557, "question_id": 53751461, "link": "https://stackoverflow.com/questions/53751461/there-is-not-enough-memory-for-the-picture-when-using-graphics-c/53759557#53759557", "title": "There is not enough memory for the picture when using Graphics, C#", "body": "<p>So the problem is in stream,used by Graphics.FromImage. <a href=\"https://docs.microsoft.com/en-ca/dotnet/api/system.drawing.image.fromstream?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Documentation</a> says,that stream open from Graphics.FromImage must remain open throughout the work with the image. Okay,we can use MemoryStream: </p>\n\n<pre><code>    MemoryStream ms;\n\nprivate void button1_Click(object sender, EventArgs e)\n{\n\n    ms = new MemoryStream();\n    using (FileStream stream = File.OpenRead(FullName))\n    {\n        stream.CopyTo(ms);\n        pictureBox1.Image = Bitmap.FromStream(ms);\n    }\n}        \n\n\nprivate void button2_Click(object sender, EventArgs e)\n{\n    using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n    {\n        g.Clear(Color.FromArgb(0, 255, 255, 255));\n    }     \n}\n</code></pre>\n\n<p>And image.Clone() need to remove, because stream must have a ref to the same image, not to their copies for correct work. (To be honest, that simply programm can work without MemoryStream)</p>\n"}], "owner": {"reputation": 11, "user_id": 10782613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ml4xx.jpg?s=128&g=1", "display_name": "Mister Crabs", "link": "https://stackoverflow.com/users/10782613/mister-crabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544720032, "creation_date": 1544649331, "question_id": 53751461, "link": "https://stackoverflow.com/questions/53751461/there-is-not-enough-memory-for-the-picture-when-using-graphics-c", "title": "There is not enough memory for the picture when using Graphics, C#", "body": "<p>The code is very simple: I Press the button, the picture is loaded into the PictureBox.</p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n{\n        using (FileStream stream = File.OpenRead(FullName))\n        {\n            pictureBox1.Image = (Bitmap)Bitmap.FromStream(stream).Clone();\n            stream.Close();\n            stream.Dispose();\n        }\n}\n</code></pre>\n\n<p>But when from other function\\events I use Graphics on PictureBox'e, it swears that there is not enough memory on Graphics.FromImage. No matter what I do with this schedule. Example:</p>\n\n<pre><code>    using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n{\n    g.Clear(Color.FromArgb(0, 255, 255, 255));\n    pictureBox1.Invalidate();\n}\n</code></pre>\n\n<p>The question is, why can I do anything I want with Graphics before uploading a picture to the PictureBox:cut, fill,draw; but after uploading a picture I can't? p.s. Picture tried different sizes. The same picture works before uploading(it was already in the default pictureBox) and does not work after uploading to the pictureBox. Walked quite a lot of forums on this subject, but my case(or the most similar case) is not found.</p>\n"}, {"tags": ["c#", "ssl", ".net-core", "tls1.2"], "comments": [{"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 2, "creation_date": 1545006191, "post_id": 53751435, "comment_id": 94463861, "body": "At first glance it looks like Kestrel uses Streams, including SslStream, to feed its Pipes. That&#39;s roughly covered in <a href=\"https://blog.marcgravell.com/2018/07/pipe-dreams-part-2.html\" rel=\"nofollow noreferrer\">Mark Gravell&#39;s blog on Pipes</a> - see the &#39;Pumping the pipe&#39; section, and &#39;Here&#39;s one I made earlier&#39; which explicitly mentions TLS."}, {"owner": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "reply_to_user": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 1, "creation_date": 1545049723, "post_id": 53751435, "comment_id": 94478640, "body": "Interesting, but given that pro-Pipelines arguments are somewhats negative towards Stream, doesnt it defeat its purpose?"}, {"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1549021914, "post_id": 53751435, "comment_id": 95764671, "body": "There are a few things to be noted. 1. System.IO.Pipelines is just the first step of the overall development, so there are no APIs available to act as endpoints for System.IO.Pipelines (such as dotnetty, Kestrel or .NET sockets which directly accepts the data and pumps it in there). THey are planned for the future though, but the .NET Core team needs first to design a clean api around it and find the time to implemente these,"}, {"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1549021964, "post_id": 53751435, "comment_id": 95764690, "body": "2. The pipes are there to solve a specific problem of receiving chunked data that needs to be parsed in a most efficient and easy to use way, where the users of this api do not have to worry about how to pool continues buffers or glue together the chunks and the memory management behind it. and 3. to allow the process in the background to process the data as it comes from the wire (i.e. start parsing the heads as soon as we get the first bytes)"}], "answers": [{"tags": [], "owner": {"reputation": 336, "user_id": 6707213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gJ9hPdOwU1I/AAAAAAAAAAI/AAAAAAAAAOo/01Y8E4M8iAo/photo.jpg?sz=128", "display_name": "Daniel Lambert", "link": "https://stackoverflow.com/users/6707213/daniel-lambert"}, "is_accepted": true, "score": 8, "last_activity_date": 1545325595, "creation_date": 1545325595, "answer_id": 53873155, "question_id": 53751435, "link": "https://stackoverflow.com/questions/53751435/tls-ssl-with-system-io-pipelines/53873155#53873155", "title": "TLS/SSL with System.IO.Pipelines", "body": "<p>Named pipes are a network protocol, just as HTTP, FTP, and SMTP are. Lets look at the .net Framework for some quick examples:</p>\n\n<ul>\n<li>SSL is leveraged by HTTP connections automatically,\ndepending on the base URI. If the URI beings with \"HTTPS:\", SSL is\nused. </li>\n<li>SSL is leveraged by FTP connections manually, by setting the\nEnableSsl property to true prior to calling GetResponse().</li>\n<li>SSL is leveraged by SMTP in the same way as FTP.</li>\n</ul>\n\n<p>But what if we are using a different network protocol, such as pipes? Right off the bat we know there is nothing similar to an \"HTTPS\" prefix. Furthermore, we can read the documentation for System.IO.Piplines and see that there is no \"EnableSsl\" method. However, in both .NET Framework and .NET Core, the SslStream class is available. This class allows you to build a SslStream out of almost any available Stream. </p>\n\n<p>Also available in both .NET Framework and .NET Core is the System.IO.Pipes Namespace. The classes available in the Pipes namespace are pretty helpful. </p>\n\n<ul>\n<li>AnonymousPipeClientStream   </li>\n<li>AnonymousPipeServerStream</li>\n<li>NamedPipeClientStream     </li>\n<li>NamedPipeServerStream   </li>\n<li>PipeStream    </li>\n</ul>\n\n<p>All of these classes return some kind of object which inherits from Stream, and can thus be used in the constructor for a SslStream. </p>\n\n<p>How does this relate back to the System.IO.Piplines Namespace? Well... it doesn't. None of the Classes, Structs, or Interfaces defined in the System.IO.Pipelines namespace inherit from Stream. So we can not use the SslStream class directly. </p>\n\n<p>Instead, we have access to PipeReaders and PipeWriters. Sometimes we only have one of these available to us, but lets consider a bi-directional pipe so that we have access to both at the same time. </p>\n\n<p>The System.IO.Piplines namespace helpfully provides an IDuplexPipe interface. If we want to wrap the PipeReader and PipeWriters in an SSL stream, we will need to define a new type that implements IDuplexPipe. </p>\n\n<p>In this new type:</p>\n\n<ul>\n<li>We will define an SslStream.</li>\n<li>We will use generic pipes as input and output buffers. </li>\n<li>The PipeReader will use the reader of the input buffer. We will use this input buffer to get data from the SSL stream.</li>\n<li>The PipeWriter will use the writer of the output buffer. We will use this output buffer to send data to the SSL stream.</li>\n</ul>\n\n<p>Here is an example in pseudocode:</p>\n\n<pre><code>SslStreamDuplexPipe : IDuplexPipe\n{ \n    SslStream sslStream;\n    Pipe inputBuffer;\n    Pipe outputBuffer;\n\n    public PipeReader Input = inputBuffer.Reader;\n    public PipeWriter Output = outputBuffer.Writer;\n\n    ReadDataFromSslStream()\n    {\n        int bytes = sslStream.Read(new byte[2048], 0, 2048);\n        inputBuffer.Writer.Advance(bytes)\n        inputBuffer.Writer.Flush();\n    }\n\n    //and the reverse to write to the SslStream \n }\n</code></pre>\n\n<p>As you can see, we are still using the SslStream class from the System.Net.Security namespace, it just took us a few more steps. </p>\n\n<p>Does this mean that you are basically still using streams? Yep! But, once you have fully implemented your SslStreamDuplexPipe class, you get to work with only pipes. No need to wrap an SslStream around everything. </p>\n\n<p>Marc Gravell wrote a much, much, more detailed explanation of this. The first of the 3 parts can be found here: <a href=\"https://blog.marcgravell.com/2018/07/pipe-dreams-part-1.html\" rel=\"noreferrer\">https://blog.marcgravell.com/2018/07/pipe-dreams-part-1.html</a></p>\n\n<p>Additionally, you can read about the various .NET classes mentioned:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.pipelines.pipe?view=dotnet-plat-ext-2.1\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.io.pipelines.pipe?view=dotnet-plat-ext-2.1</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/network-programming/using-secure-sockets-layer\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/network-programming/using-secure-sockets-layer</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.security.sslstream?view=netcore-2.2\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.net.security.sslstream?view=netcore-2.2</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.pipes?view=netcore-2.2\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.io.pipes?view=netcore-2.2</a></li>\n</ul>\n"}], "owner": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2060, "favorite_count": 5, "accepted_answer_id": 53873155, "answer_count": 1, "score": 14, "last_activity_date": 1545325595, "creation_date": 1544649205, "question_id": 53751435, "link": "https://stackoverflow.com/questions/53751435/tls-ssl-with-system-io-pipelines", "title": "TLS/SSL with System.IO.Pipelines", "body": "<p>I have noticed the new System.IO.Pipelines and are trying to port existing, stream based, code over to it. The problems with streams are well understood, but at the same time it features a rich echosystem of related classes.</p>\n\n<p>From the example provided here, there is a small tcp echo server.\n<a href=\"https://blogs.msdn.microsoft.com/dotnet/2018/07/09/system-io-pipelines-high-performance-io-in-net/\" rel=\"noreferrer\">https://blogs.msdn.microsoft.com/dotnet/2018/07/09/system-io-pipelines-high-performance-io-in-net/</a></p>\n\n<p>A snippet of the code is attached here:</p>\n\n<pre><code>    private static async Task ProcessLinesAsync(Socket socket)\n    {\n        Console.WriteLine($\"[{socket.RemoteEndPoint}]: connected\");\n\n        var pipe = new Pipe();\n        Task writing = FillPipeAsync(socket, pipe.Writer);\n        Task reading = ReadPipeAsync(socket, pipe.Reader);\n\n        await Task.WhenAll(reading, writing);\n\n        Console.WriteLine($\"[{socket.RemoteEndPoint}]: disconnected\");\n    }\n\n    private static async Task FillPipeAsync(Socket socket, PipeWriter writer)\n    {\n        const int minimumBufferSize = 512;\n\n        while (true)\n        {\n            try\n            {\n                // Request a minimum of 512 bytes from the PipeWriter\n                Memory&lt;byte&gt; memory = writer.GetMemory(minimumBufferSize);\n\n                int bytesRead = await socket.ReceiveAsync(memory, SocketFlags.None);\n                if (bytesRead == 0)\n                {\n                    break;\n                }\n\n                // Tell the PipeWriter how much was read\n                writer.Advance(bytesRead);\n            }\n            catch\n            {\n                break;\n            }\n\n            // Make the data available to the PipeReader\n            FlushResult result = await writer.FlushAsync();\n\n            if (result.IsCompleted)\n            {\n                break;\n            }\n        }\n\n        // Signal to the reader that we're done writing\n        writer.Complete();\n    }\n\n    private static async Task ReadPipeAsync(Socket socket, PipeReader reader)\n    {\n        while (true)\n        {\n            ReadResult result = await reader.ReadAsync();\n\n            ReadOnlySequence&lt;byte&gt; buffer = result.Buffer;\n            SequencePosition? position = null;\n\n            do\n            {\n                // Find the EOL\n                position = buffer.PositionOf((byte)'\\n');\n\n                if (position != null)\n                {\n                    var line = buffer.Slice(0, position.Value);\n                    ProcessLine(socket, line);\n\n                    // This is equivalent to position + 1\n                    var next = buffer.GetPosition(1, position.Value);\n\n                    // Skip what we've already processed including \\n\n                    buffer = buffer.Slice(next);\n                }\n            }\n            while (position != null);\n\n            // We sliced the buffer until no more data could be processed\n            // Tell the PipeReader how much we consumed and how much we left to process\n            reader.AdvanceTo(buffer.Start, buffer.End);\n\n            if (result.IsCompleted)\n            {\n                break;\n            }\n        }\n\n        reader.Complete();\n    }\n\n    private static void ProcessLine(Socket socket, in ReadOnlySequence&lt;byte&gt; buffer)\n    {\n        if (_echo)\n        {\n            Console.Write($\"[{socket.RemoteEndPoint}]: \");\n            foreach (var segment in buffer)\n            {\n                Console.Write(Encoding.UTF8.GetString(segment.Span));\n            }\n            Console.WriteLine();\n        }\n    }\n</code></pre>\n\n<p>When using streams, you could easily add SSL/TLS to your code just by wrapping it in SslStream. How is this intended to be solved with Pipelines?</p>\n"}, {"tags": ["c#", "arrays", "generics"], "comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1544649102, "post_id": 53751336, "comment_id": 94355476, "body": "How are you expecing to be able to &#39;access&#39; the value within the function?"}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 1, "creation_date": 1544649140, "post_id": 53751336, "comment_id": 94355491, "body": "Sounds like you want a series of overloads."}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1544649267, "post_id": 53751336, "comment_id": 94355553, "body": "@Lee one could do something disgusting like have a series of <code>if ( value is int )</code> ... <code>if ( value is List&lt;double&gt; )</code> etc. - and it&#39;d work - but it&#39;d go against the whole point of having generics in the first place."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 2, "creation_date": 1544649999, "post_id": 53751336, "comment_id": 94355842, "body": "Expanding on @WaiHaLee&#39;s comment, have <code>MustBeOfType&lt;T&gt;(T value)</code> and <code>MustBeOfType&lt;T&gt;(T[] value)</code> and the appropriate one will be called based on the passed in type."}], "answers": [{"tags": [], "owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1544649509, "creation_date": 1544649509, "answer_id": 53751498, "question_id": 53751336, "link": "https://stackoverflow.com/questions/53751336/generics-and-types-and-arrays/53751498#53751498", "title": "Generics and Types and Arrays", "body": "<p>You could...but, I'm not sure you should:</p>\n\n<pre><code>void MustBeOfType&lt;T&gt;(T value)\n{\n  Array array = value as Array;\n  if (array != null) //It is an array\n  {\n    foreach (var arrayItem in array)\n    {\n    }\n\n    for (int i = 0; i &lt; array.Length; i++)\n    {\n      var arrayItem = array.GetValue(i);\n    }\n  }\n  else //It is not an array\n  {\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": false, "score": 1, "last_activity_date": 1544649583, "creation_date": 1544649583, "answer_id": 53751508, "question_id": 53751336, "link": "https://stackoverflow.com/questions/53751336/generics-and-types-and-arrays/53751508#53751508", "title": "Generics and Types and Arrays", "body": "<p>I am not sure what you are trying to do but Generic types can be anything. You can put restrictions to your generic type with <code>where</code> clause, but this is up to you and up to functionality and context.</p>\n\n<p>Lets take List as example. Let say that we have List inside List. Then we define it as:</p>\n\n<pre><code>List&lt;List&lt;string&gt;&gt; myListOfList = new List&lt;List&lt;string&gt;&gt;();\n</code></pre>\n\n<p>your must be of type can also be anything ( if you didnt put restriction with where clause)</p>\n\n<pre><code>MustBeOfType&lt;int[][]&gt;()\nMustBeOfType&lt;List&lt;List&lt;string&gt;&gt;&gt;()\nMustBeOfType&lt;AnyOtherGenericClass&lt;List&lt;string&gt;&gt;&gt;()\n</code></pre>\n\n<p>and to be able to access it:</p>\n\n<pre><code>class MustBeOfType&lt;T&gt;\n{\n    private T _value;\n    MustBeofType(T value)\n    {\n         _value = value;\n    }\n\n}\n</code></pre>\n\n<p>to be able to make operation on , you can use reflection or if you put where restriction and your where restriction has Type, then you can see properties of that Type.</p>\n"}], "owner": {"reputation": 240, "user_id": 4480612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NaR5v.jpg?s=128&g=1", "display_name": "return true", "link": "https://stackoverflow.com/users/4480612/return-true"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1544649583, "creation_date": 1544648745, "question_id": 53751336, "link": "https://stackoverflow.com/questions/53751336/generics-and-types-and-arrays", "title": "Generics and Types and Arrays", "body": "<p>Can a 'generic type' be an array? </p>\n\n<p>And in the cases where it is, how can one access that array?</p>\n\n<p>Can you access a given generic type T as an array, when it is one, and as a non-array when it is not one?</p>\n\n<p>For instance:</p>\n\n<p>If I had a method like -> </p>\n\n<pre><code>void MustBeOfType&lt;T&gt;(T value){}\n</code></pre>\n\n<p>Can I have -> </p>\n\n<pre><code>MustBeOfType&lt;int&gt;(10); \n</code></pre>\n\n<p>And Also -> </p>\n\n<pre><code>MustBeOfType&lt;int[]&gt;( new int[] { 1, 2, 3 } );\n</code></pre>\n\n<p>And within those generic methods, can they access the values as one would expect? - one as an int and one as an int[]?</p>\n\n<p>I think there might be something with typeof(T).IsArray()... but I just can't for the life of me figure out how to cast the parameter as an array when it is one.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1544651937, "post_id": 53751317, "comment_id": 94356723, "body": "my guess is that the link is using javascript to trigger download. If thats the case you would need to read their js code and find out how they are doing it."}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 9359783, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mist", "link": "https://stackoverflow.com/users/9359783/mist"}, "edited": false, "score": 0, "creation_date": 1544650352, "post_id": 53751414, "comment_id": 94356005, "body": "contents variable just hold the html string not excel file content. just load the url which i have mention here in browser then must notice that when page load then a excel file also start downloading. just tell me how could i start download of that excel file invoking the above url?"}, {"owner": {"reputation": 192, "user_id": 10012683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mczbT.png?s=128&g=1", "display_name": "i.do.stuff", "link": "https://stackoverflow.com/users/10012683/i-do-stuff"}, "reply_to_user": {"reputation": 605, "user_id": 9359783, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mist", "link": "https://stackoverflow.com/users/9359783/mist"}, "edited": false, "score": 0, "creation_date": 1544651055, "post_id": 53751414, "comment_id": 94356319, "body": "The webpage uses javascript to push the download automatically.  The javascript won&#39;t run using WebClient.   The URL to actually download the excel spreadsheet is not the same as in your question.   I haven&#39;t been able to figure out the exact url.   But you can follow the example in the link I gave you using the correct URL to get the spreadsheet through C# code."}], "tags": [], "owner": {"reputation": 192, "user_id": 10012683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mczbT.png?s=128&g=1", "display_name": "i.do.stuff", "link": "https://stackoverflow.com/users/10012683/i-do-stuff"}, "is_accepted": false, "score": 0, "last_activity_date": 1544651215, "last_edit_date": 1544651215, "creation_date": 1544649111, "answer_id": 53751414, "question_id": 53751317, "link": "https://stackoverflow.com/questions/53751317/file-download-does-not-start-when-invoke-or-execute-an-url/53751414#53751414", "title": "File download does not start when invoke or execute an URL", "body": "<p>DownloadString returns the contents into a variable aka in memory.  A file will not get saved on the system.  If that is what you intended, there's a small change you need to make in your code:</p>\n\n<pre><code>string address = \"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\";\nusing (WebClient client = new WebClient())\n{\n    string contents = client.DownloadString(address);\n}\n</code></pre>\n\n<p>The variable \"contents\" will contain html of the URL in your question.  If you want it as a file, then I you need to use DownloadFile method instead.  The spreadsheet itself is a different URL.  </p>\n\n<p>There's an example at the end of this <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.webclient.downloadfile?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 605, "user_id": 9359783, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mist", "link": "https://stackoverflow.com/users/9359783/mist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544651215, "creation_date": 1544648677, "last_edit_date": 1544649384, "question_id": 53751317, "link": "https://stackoverflow.com/questions/53751317/file-download-does-not-start-when-invoke-or-execute-an-url", "title": "File download does not start when invoke or execute an URL", "body": "<p>If anyone load this url <a href=\"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\" rel=\"nofollow noreferrer\">https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06</a> into browser then a excel file start download. so when i invoke the same url by <strong>HttpWebRequest</strong> then excel file does not start download. this code example i tried.</p>\n\n<pre><code>string address = \"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\";\nusing (WebClient client = new WebClient())\n{\n    client.DownloadString(address);\n}\n</code></pre>\n\n<p>again i tried this one too.</p>\n\n<pre><code>string url = \"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\";\nWebRequest request = HttpWebRequest.Create(url);\nWebResponse response = request.GetResponse();\nStreamReader reader = new StreamReader(response.GetResponseStream());\nstring responseText = reader.ReadToEnd();\n</code></pre>\n\n<p>but failed to reach my goal. code successfully executed but no excel file start downloading which i am trying to achieve.</p>\n\n<p>when i tried to load this url <a href=\"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\" rel=\"nofollow noreferrer\">https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06</a> into webbrowser control then also saw same problem no excel file start download. here is code which i tried.</p>\n\n<pre><code>webBrowser1.Navigate(\"https://de.visiblealpha.com/links/80488d55-ae41-4def-9452-bae3ac2e2b06\");\nwebBrowser1.ScriptErrorsSuppressed = true;\n</code></pre>\n\n<p>i just do not understand why excel file is not getting download when invoke or execute the same very url.</p>\n\n<p>so please some one tell me what i need to do as a result the moment i will execute the url excel file will start downloading in client pc.</p>\n\n<p>please share some working code example.          </p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1544650282, "post_id": 53751394, "comment_id": 94355973, "body": "This is like the implementation of <code>let</code>, only with <code>ValueTuple</code> instead of anonymous objects."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1544650540, "post_id": 53751394, "comment_id": 94356083, "body": "@NetMage Well, yes one can use anonymous types as well. included for completeness."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1544651172, "post_id": 53751394, "comment_id": 94356383, "body": "What I meant was in LINQ Query Syntax, the <code>let</code> operator is implemented by projecting (<code>Select</code>) to an anonymous type."}, {"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544659645, "post_id": 53751394, "comment_id": 94359353, "body": "@Aomine Good approach! :)"}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1544650541, "last_edit_date": 1544650541, "creation_date": 1544649035, "answer_id": 53751394, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq/53751394#53751394", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>first project to a tuple then project to your custom object:</p>\n\n<pre><code> myList.Select(s =&gt; (tSample: myList.Count(c=&gt; c.UserId == s.UserId), \n       eSample : myList.Count(c=&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)))\n      .Select(x =&gt; new DtoTest\n      {\n             TotalSamples = x.tSample,\n             EvaluatedSamples = x.eSample,\n             PercentageRealized = (x.tSample / x.eSample) * 100 \n     });\n</code></pre>\n\n<p>or use an anonymous type:</p>\n\n<pre><code>myList.Select(s =&gt; new \n      {\n        tSample = myList.Count(c=&gt; c.UserId == s.UserId),\n        eSample = myList.Count(c=&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)\n      })\n      .Select(x =&gt; new DtoTest\n      {\n            TotalSamples = x.tSample,\n            EvaluatedSamples = x.eSample,\n            PercentageRealized = (x.tSample / x.eSample) * 100 \n     });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544652477, "post_id": 53751397, "comment_id": 94356987, "body": "Maybe! I thought about it, but the problem with doing this in the class is that it is a DTO (in my project they do not have any rule / calculation)."}, {"owner": {"reputation": 58616, "user_id": 20126, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/22fc146c1512cdb4d381222dcbc8b9f8?s=128&d=identicon&r=PG", "display_name": "Amr Elgarhy", "link": "https://stackoverflow.com/users/20126/amr-elgarhy"}, "reply_to_user": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 1, "creation_date": 1544654550, "post_id": 53751397, "comment_id": 94357823, "body": "Yes, I understand your point, make sense, in this case I will go with Nkosi solution <a href=\"https://stackoverflow.com/a/53751408/20126\">stackoverflow.com/a/53751408/20126</a>"}], "tags": [], "owner": {"reputation": 58616, "user_id": 20126, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/22fc146c1512cdb4d381222dcbc8b9f8?s=128&d=identicon&r=PG", "display_name": "Amr Elgarhy", "link": "https://stackoverflow.com/users/20126/amr-elgarhy"}, "is_accepted": false, "score": 2, "last_activity_date": 1544649044, "creation_date": 1544649044, "answer_id": 53751397, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq/53751397#53751397", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>If <code>PercentageRealized</code>  is that simple calculations, why not have the calculation in the property in the class, something like this inside the class DTOTest:</p>\n\n<pre><code>public float PercentageRealized =&gt; (TotalSamples / EvaluatedSamples) * 100;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544657662, "post_id": 53751408, "comment_id": 94358824, "body": "It was exactly what I understood ... how to create &quot;variables&quot; within the LINQ statement. Thanks for the answer!"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 3, "last_activity_date": 1544649085, "creation_date": 1544649085, "answer_id": 53751408, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq/53751408#53751408", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>Change the function delegate to use the already calculated values</p>\n\n<pre><code>myList.Select(s =&gt; {\n    var result = new DtoTest() {\n        TotalSamples = myList.Count(c =&gt; c.UserId == s.UserId),\n        EvaluatedSamples = myList.Count(c =&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)\n    };\n    result.PercentageRealized = (result.TotalSamples / result.EvaluatedSamples) * 100;\n    return result;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3797, "user_id": 3194005, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/500059610/picture?type=large", "display_name": "Derrick Moeller", "link": "https://stackoverflow.com/users/3194005/derrick-moeller"}, "is_accepted": false, "score": 3, "last_activity_date": 1544711629, "last_edit_date": 1544711629, "creation_date": 1544649129, "answer_id": 53751417, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq/53751417#53751417", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>If you were using an anonymous type this would be more complicated, but since <code>DtoTest</code> is a class, you could always move your math into the property.</p>\n\n<pre><code>public class DtoTest\n{\n    public float PercentageRealized\n    {\n        get { return (TotalSamples / EvaluatedSamples) * 100; }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544659221, "post_id": 53751841, "comment_id": 94359238, "body": "Thank you so much for taking care of each point, and putting together a more &quot;dedicated&quot; answer! In fact I need a <code>GroupBy</code> statement (I had forgotten to ask the question). On the calculation, yes we had identified that we would need to convert the result obtained through the function <code>.Count ()</code> (we are using the properties with <code>float</code>). One last note, I need to populate the <code>UserId</code> of  <code>DtoTest</code>, is there any problem in using <code>new DtoTest { ... UserId = s.FirstOrDefault().UserId</code>? Thank you for your help!"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544659307, "post_id": 53751841, "comment_id": 94359259, "body": "@Igor since the <code>GroupBy</code> is by <code>UserId</code>, you can just use <code>sg.Key</code> to get the <code>UserId</code> of the group for the <code>DtoTest</code>. I will edit the answer."}, {"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544659827, "post_id": 53751841, "comment_id": 94359399, "body": "Well, for this property it works fine (<code>Key</code>)... but the problem is that I have more properties that needed <code>.FirstOrDefault()</code> (like: UserName, etc). I do not see problem, because they will always be the same, ie I could group by any of these properties. Right?"}, {"owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 0, "creation_date": 1544660154, "post_id": 53751841, "comment_id": 94359464, "body": "Like: <code>.GroupBy(gb =&gt; new {gb =&gt; gb.UserId, gb.UserName})</code> ... <code>new DtoTest { ... UserId = s.Key.UserId, s.Key.UserName</code>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "edited": false, "score": 1, "creation_date": 1544727253, "post_id": 53751841, "comment_id": 94388527, "body": "@Igor Yes, you could <code>GroupBy</code> the additional properties, but I would suggest using <code>FirstOrDefault()</code> in that case like you originally intended for the additional properties."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1544659381, "last_edit_date": 1544659381, "creation_date": 1544651070, "answer_id": 53751841, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq/53751841#53751841", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>What you are doing seems extremely questionable to me - you are making multiple passes over the source data to re-compute the same thing over and over again (per occurrence of <code>UserId</code>), when it seems like what you should want is to compute once per <code>UserId</code>, like so:</p>\n\n<pre><code>var ans2 = myList.GroupBy(s =&gt; s.UserId)\n                .Select(sg =&gt; {\n                    var ts = sg.Count();\n                    var es = sg.Count(c =&gt; c.Status == Status.OK);\n                    return new DtoTest { UserId = sg.Key, TotalSamples = ts, EvaluatedSamples = es, PercentageRealized = (int)(100.0 * ts / es) };\n                });\n</code></pre>\n\n<p>Also, your percentage calculation will use C# integer division and not be close to correct, unless you convert to <code>double</code> first. You can cast back to <code>int</code> after the math.</p>\n\n<p>If you really intended to return multiple results, and want to be efficient (and since I love extension methods), creating an extension method to count chained predicates for one pass:</p>\n\n<pre><code>public static class IEnumerableExt {\n    public static (int Cond1Count, int Cond2Count) Count2Chained&lt;T&gt;(this IEnumerable&lt;T&gt; src, Func&lt;T, bool&gt; cond1, Func&lt;T, bool&gt; cond2) {\n        int cond1Count = 0;\n        int cond2Count = 0;\n        foreach (var s in src) {\n            if (cond1(s)) {\n                ++cond1Count;\n                if (cond2(s))\n                    ++cond2Count;\n            }\n        }\n        return (cond1Count, cond2Count);\n    }\n}\n</code></pre>\n\n<p>Now you can count the sub-values in one pass and compute the third value:</p>\n\n<pre><code>var ans3 = myList.Select(s =&gt; {\n            var (ts, es) = myList.Count2Chained(c =&gt; c.UserId == s.UserId, c =&gt; c.Status == Status.OK);\n            return new DtoTest { UserId = s.UserId, TotalSamples = ts, EvaluatedSamples = es, PercentageRealized = (int)(100.0 * ts / es) };\n        });\n</code></pre>\n\n<p>Of course, depending on the size of <code>myList</code>, you may still be better off calculating each answer once and then repeating them for the final answer:</p>\n\n<pre><code>var ansd = myList.GroupBy(s =&gt; s.UserId)\n                 .Select(sg =&gt; {\n                     var ts = sg.Count();\n                     var es = sg.Count(c =&gt; c.Status == Status.OK);\n                     return new { sg.Key, ts, es };\n                 })\n                 .ToDictionary(ste =&gt; ste.Key, ste =&gt; new DtoTest {\n                    UserId = ste.Key,\n                    TotalSamples = ste.ts,\n                    EvaluatedSamples = ste.es,\n                    PercentageRealized = (int)(100.0 * ste.ts / ste.es) });\nvar ans4 = myList.Select(s =&gt; ansd[s.UserId]);\n</code></pre>\n"}], "owner": {"reputation": 2223, "user_id": 2145555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Kc4Ez.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/2145555/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 53751841, "answer_count": 5, "score": 1, "last_activity_date": 1544711629, "creation_date": 1544648675, "last_edit_date": 1544648824, "question_id": 53751316, "link": "https://stackoverflow.com/questions/53751316/better-way-calculate-percentage-from-class-properties-using-linq", "title": "Better way calculate percentage from class properties using LINQ", "body": "<p>We have the following definition LINQ:</p>\n\n<pre><code>myList.Select(s=&gt; new DtoTest()\n{\n    TotalSamples = myList.Count(c=&gt; c.UserId == s.UserId),\n    EvaluatedSamples = myList.Count(c=&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)\n    PercentageRealized = (myList.Count(c=&gt; c.UserId == s.UserId) / myList.Count(c=&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)) * 100\n});\n</code></pre>\n\n<p>Is there a way where you can assign the property value \"PercentageRealized\" without using the same functions previously used in: \"TotalSamples\" &amp; \"EvaluatedSamples\"?</p>\n\n<p>Something like that:</p>\n\n<pre><code>myList.Select(s=&gt; new DtoTest()\n{\n    TotalSamples = myList.Count(c=&gt; c.UserId == s.UserId),\n    EvaluatedSamples = myList.Count(c=&gt; c.UserId == s.UserId &amp;&amp; c.Status == Status.OK)\n    PercentageRealized = (TotalSamples / EvaluatedSamples) * 100 //&lt;-!Not possible!\n});\n</code></pre>\n\n<p>Any other tips?</p>\n"}, {"tags": ["c#", "oop", "inheritance", "task", "abstract-class"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1544648768, "post_id": 53751251, "comment_id": 94355337, "body": "So why are you writing your own task object instead of using <code>System.Threading.Tasks.Task</code>?  You even tagged the TPL as being related, yet you&#39;re...not using it."}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1544649403, "post_id": 53751251, "comment_id": 94355603, "body": "@Servy I have a program that&#39;s basically a bot, which runs loads of different tasks. That&#39;s why, I need a more complex structure than TPL task. Oh, by the way, I use the TPL tasks too, when I run the &quot;job&quot; inside the custom task."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1544649569, "post_id": 53751251, "comment_id": 94355663, "body": "And yet your &quot;task&quot; doesn&#39;t actually do anything that the TPL task doesn&#39;t do.  Your problem is best solved by having a method that does the work and returns a regular TPL <code>Task</code>.  If there&#39;s anything you need to do that that doesn&#39;t cover, you certainly haven&#39;t shown it."}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1544650120, "post_id": 53751251, "comment_id": 94355906, "body": "@Servy there would be too much of code to show. I made it as simple as possible, but I ensure you that it does more than TPL task does."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1544650277, "post_id": 53751251, "comment_id": 94355969, "body": "Well then without even knowing what it&#39;s supposed to do, no one can really say how the class should be designed or implemented.  Of what you&#39;ve shown, your requirements are best met by using the TPL task.  If there&#39;s something you need to do that you don&#39;t know how to do with TPL tasks, you&#39;ll need to describe what it is to get useful help solving it."}, {"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544650318, "post_id": 53751251, "comment_id": 94355991, "body": "This whole implementation is based around the fact that the set must be private, the set being private means you just can&#39;t set the job to Runnig=false becasue that value can&#39;t be changed. If you do it via a function it override the problem of that value being changed froum outside because the function can be change. But the CustomTaks inherits from BotTaks which should be able to access IsRunning as its not from outside its from inside. So changing the private set to protected set would solve all this problems"}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "reply_to_user": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544650453, "post_id": 53751251, "comment_id": 94356053, "body": "@npo you are right. However, I just want <code>BotTask</code> to handle the <code>Running</code> flag."}, {"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544650810, "post_id": 53751251, "comment_id": 94356198, "body": "@garryman That would be impossible unless you add some stop function or an event for job done.  But an event would be overkill and i don&#39;t think at all necessary for your case"}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1544650947, "post_id": 53751251, "comment_id": 94356262, "body": "@Servy added some more code logic to the question. Check it out"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1544651091, "post_id": 53751251, "comment_id": 94356340, "body": "@garryman Still not seeing any reason to not just have a method that returns a <code>Task</code>.  A TPL task has an error, it can have a cancellation token, it has a status.  You can write a method that checks a cancellation token and runs an asynchronous operation while it&#39;s not canceled, and such a method can return a <code>Task</code> providing as much information to a caller of such an asynchronous method as your version of <code>Task</code> does.  (With the advantages that a TPL task has more features, and will work with various task-aware features in .NET and C#.)"}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544648732, "post_id": 53751285, "comment_id": 94355323, "body": "Sorry, but not my needing. Look at the edit, please. I want to access <code>Running</code> from outside to only <code>get</code> it, not <code>set</code>."}, {"owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "reply_to_user": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544648969, "post_id": 53751285, "comment_id": 94355422, "body": "@garryman As you have it implemented currently, you cannot even <code>get</code> it from outside of the <code>BotTask</code> class. Sounds like you should change it to protected but with a private setter."}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544649090, "post_id": 53751285, "comment_id": 94355472, "body": "That&#39;s what I did in the edit. Anyways check the other answer and look at my comment, see if you can figure it out"}, {"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544650422, "post_id": 53751285, "comment_id": 94356041, "body": "Any reason why you can&#39;t do a protected set instead of a private set ?"}], "tags": [], "owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "is_accepted": false, "score": 0, "last_activity_date": 1544650901, "last_edit_date": 1544650901, "creation_date": 1544648534, "answer_id": 53751285, "question_id": 53751251, "link": "https://stackoverflow.com/questions/53751251/task-start-stop-handling-using-abstract-classes/53751285#53751285", "title": "Task start/stop handling using abstract classes", "body": "<p>Make Running set protected instead of private. This way it cant be accessed from outside but it can accessed by entities who inherit from BotTask</p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544648925, "post_id": 53751335, "comment_id": 94355404, "body": "That was exactly the road I started approaching at the beginning. However, <code>Action job</code> is a task itself. A task with subtasks, all of which must make use of the cancellation token. Could you edit your answer and make an implementation of that, supposing <code>Action job</code> is a private Task method defined in <code>CustomTask</code> class? I got stuck at the part of implementing the <code>Task.Run </code> method in the base class ( also note that that it must run in a thread pool, I don&#39;t want the UI stuck."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "reply_to_user": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544649147, "post_id": 53751335, "comment_id": 94355494, "body": "Can you show a code example of that in your question. It&#39;s sounding more and more like you want an actual <code>Task</code> from the TPL. Right now your <code>BotTask</code> isn&#39;t connected to any work so it&#39;s unclear how these could be nested as you describe."}, {"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1544649262, "post_id": 53751335, "comment_id": 94355552, "body": "Check the edit on Start override, and maybe you&#39;ll understand, if not, let&#39;s have a chat."}], "tags": [], "owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "is_accepted": true, "score": 0, "last_activity_date": 1544648745, "creation_date": 1544648745, "answer_id": 53751335, "question_id": 53751251, "link": "https://stackoverflow.com/questions/53751251/task-start-stop-handling-using-abstract-classes/53751335#53751335", "title": "Task start/stop handling using abstract classes", "body": "<p>You could rewrite your abstract class to have an internal start method that can know when your job completes. Assuming your job is synchronous and takes no parameters:</p>\n\n<pre><code>public abstract class BotTask\n{\n\n    private bool Running { get; set; }\n\n    public CancellationToken Token =&gt; _tokenSource.Token;\n\n    private CancellationTokenSource _tokenSource;\n\n    public abstract void Start();\n\n    protected void InternalStart(Action job)\n    {\n        _tokenSource = new CancellationTokenSource();\n        Running = true;\n        job();\n        Running = false;\n    }\n}\n\npublic class CustomTask : BotTask\n{\n    public override void Start()\n    {\n        InternalStart(MyJob);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 53751335, "answer_count": 2, "score": -2, "last_activity_date": 1546804261, "creation_date": 1544648363, "last_edit_date": 1546804261, "question_id": 53751251, "link": "https://stackoverflow.com/questions/53751251/task-start-stop-handling-using-abstract-classes", "title": "Task start/stop handling using abstract classes", "body": "<p>I have this code logic to handle my tasks:</p>\n\n<pre><code>public abstract class BaseJob{\n\n    public bool Running { get; private set; }\n\n    public CancellationToken Token =&gt; _tokenSource.Token;\n\n    private CancellationTokenSource _tokenSource;\n\n    public virtual void Start()\n    {\n        _tokenSource = new CancellationTokenSource();\n        Running = true; \n    }\n}\n</code></pre>\n\n<p>now when I inherit <code>BaseJob</code> I will have this situation:</p>\n\n<pre><code>public class CustomJob: BaseJob{\n\npublic MyEnum Status {get; private set;}\n\npublic StopRequested { get; set;}\n\npublic override async void Start(){\n\n    base.Start();\n    while(!StopRequested){\n        await MyLongRunningMethod();\n    }\n\n    //base.Running = true but I can't access it here!\n}\n\npublic async Task&lt;bool&gt; MyLongRunningMethod(){  \n            await Task.Run(()=&gt;{\n                //more work\n            },this.Token);\n            //someWork\n\n    return false;\n}\n}\n</code></pre>\n\n<p>As you can see I can't access <code>Running</code> to set it to false as soon as <code>myJob</code> finishes, and I want <code>BaseJob</code> to handle that.</p>\n\n<p>What code logic changes must I bring to the base class in order to automatically detect when <code>myJob</code> finishes, and then finalize the task with <code>Running = false</code> without accessing the least from the inherited classes?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 1, "creation_date": 1544648119, "post_id": 53751155, "comment_id": 94355079, "body": "<code>IndexOf(&#39;1&#39;)</code> returns the index of the first <code>1</code>; then use <code>Substring</code>"}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1544648316, "post_id": 53751155, "comment_id": 94355161, "body": "What have you tried so far? Where are you stuck? Stack is not a code-service."}, {"owner": {"reputation": 35, "user_id": 10210421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0221163aae3e10c4ce54f87f2d2d0d29?s=128&d=identicon&r=PG&f=1", "display_name": "CZA", "link": "https://stackoverflow.com/users/10210421/cza"}, "reply_to_user": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1544648731, "post_id": 53751155, "comment_id": 94355322, "body": "Hi @HimBromBeere, I know my question description is a little bit long. But If you read it carefully, I already said I tried TrimStart(). More that, I tried  Remove(), SubString(). Neither of them can get what I want. I think I will following the answers and have a try. But thank you let me know Stack is not a code-service."}], "answers": [{"tags": [], "owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "is_accepted": false, "score": 0, "last_activity_date": 1544648116, "creation_date": 1544648116, "answer_id": 53751199, "question_id": 53751155, "link": "https://stackoverflow.com/questions/53751155/how-to-remove-character-from-string/53751199#53751199", "title": "How to remove character from string?", "body": "<p>I think you what you need is <code>string.Remove</code> method. See MSDN documentation here: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.remove?view=netframework-4.7.2#System_String_Remove_System_Int32_System_Int32_\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.string.remove?view=netframework-4.7.2#System_String_Remove_System_Int32_System_Int32_</a></p>\n\n<p>If you don't know where is your character, at first call <code>string.IndexOf</code> to find it. If this call returns nonnegaive number, call <code>Remove</code> to remove it. Just note that string is immutable so it will always create a new object.</p>\n"}, {"tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 4, "last_activity_date": 1544648155, "creation_date": 1544648155, "answer_id": 53751208, "question_id": 53751155, "link": "https://stackoverflow.com/questions/53751155/how-to-remove-character-from-string/53751208#53751208", "title": "How to remove character from string?", "body": "<p>You could use <code>Remove</code> and <code>IndexOf</code>.</p>\n\n<pre><code>var str = \"01123456\";\nvar i = str.IndexOf('1'); // IndexOf returns -1 when there is no element found, so we need to handle that when calling remove.\nvar res = (i &gt;= 0) ? str.Remove(i, 1) : str;\nConsole.WriteLine(res); // 0123456\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544648274, "post_id": 53751214, "comment_id": 94355139, "body": "What is RemoveAt it doesn&#39;t exist does it?"}, {"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544648372, "post_id": 53751214, "comment_id": 94355180, "body": "And what if the string you are searching for doesn&#39;t exist? You will get an error as indexof will return -1"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1544648427, "post_id": 53751214, "comment_id": 94355201, "body": "Well, if you want to remove a &#39;1&#39; from a string with a &#39;1&#39;, that&#39;s how you do it. If you want to remove any character from a string and have error checking, then try catch it, I suppose"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1544648584, "post_id": 53751214, "comment_id": 94355268, "body": "How about that? Single line, no extra variables, etc etc"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1544648753, "post_id": 53751214, "comment_id": 94355330, "body": "I don&#39;t believe you need to create 2 variables every time you need to remove a character from a string"}], "tags": [], "owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "is_accepted": false, "score": 0, "last_activity_date": 1544648569, "last_edit_date": 1544648569, "creation_date": 1544648184, "answer_id": 53751214, "question_id": 53751155, "link": "https://stackoverflow.com/questions/53751155/how-to-remove-character-from-string/53751214#53751214", "title": "How to remove character from string?", "body": "<pre><code>yourstring = yourstring.IndexOf('1') != -1 ? yourstring.Remove(yourstring.IndexOf('1'), 1) : yourstring;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1544649782, "last_edit_date": 1544649782, "creation_date": 1544649098, "answer_id": 53751412, "question_id": 53751155, "link": "https://stackoverflow.com/questions/53751155/how-to-remove-character-from-string/53751412#53751412", "title": "How to remove character from string?", "body": "<p>Another way would be to use a combination of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.contains?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Contains</code></a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.remove?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Remove</code></a>, and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.indexof?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>IndexOf</code></a>:</p>\n\n<pre><code>if (userInput.Contains('1')) userInput = userInput.Remove(userInput.IndexOf('1'), 1);\n</code></pre>\n\n<p>Or if you want to be Linq-y...</p>\n\n<pre><code>userInput = string.Concat(userInput.TakeWhile(chr =&gt; chr != '1')\n    .Concat(userInput.SkipWhile(chr =&gt; chr != '1').Skip(1)));\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10210421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0221163aae3e10c4ce54f87f2d2d0d29?s=128&d=identicon&r=PG&f=1", "display_name": "CZA", "link": "https://stackoverflow.com/users/10210421/cza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53751208, "answer_count": 4, "score": 0, "last_activity_date": 1544649782, "creation_date": 1544647915, "question_id": 53751155, "link": "https://stackoverflow.com/questions/53751155/how-to-remove-character-from-string", "title": "How to remove character from string?", "body": "<p>I have a string which is getting from a userInput. What I want to do now is removing a unique character from this string but only remove it once. The main problem is that this unique character doesn't have a unique index. For example:\nUser has input a string like : \"0123456\", and now I want to remove the first '1',so the string will be output like \"023456\". How ever, if a user input a string like \"01123456\", how can I remove the first '1' and make it looks like \"0123456\"? I am looking for a method that can be used for both of situation. I was using string.TrimStart(), but doesn't get what I want. How can I do this?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544648983, "post_id": 53751095, "comment_id": 94355428, "body": "is it at all possible something else is changing it? For instance, if you comment out <code>camera.transform.eulerAngles = vNew;</code> does this still occur?  Does it still occur if you uncomment and hardcode it to <code>camera.transform.eulerAngles = new Vector3(10f,0f,0f);</code> ?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1544649450, "post_id": 53751095, "comment_id": 94355625, "body": "Another question - Are any of the ancestors of this GameObject rotated? You are setting the <code>eulerAngles</code> but that will result in different <code>localEulerAngles</code> which are indicated by the red box in your image. If the object has any ancestors that are rotated, they will probably not match!"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544649648, "post_id": 53751095, "comment_id": 94355691, "body": "@Ruzihm Thank you so much!!! Yes, the parent is rotated. Now that I replaced eulerAngles with localEulerAngles, it works perfectly fine. Thank you!!!!"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544651070, "post_id": 53751095, "comment_id": 94356328, "body": "@Ruzihm Could you post your Quaternion.Slerp solution? That would avoid weird rotations at &quot;high&quot; initial rotations."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544651105, "post_id": 53751095, "comment_id": 94356346, "body": "I originally copied my comment to an answer but I reconsidered advising <code>localEulerAngles</code>. Instead, I recommend using <code>Quaternion.Slerp</code> to rotate to the destination. This handles wrapping around from 359 to 0 degrees and also in case you decide to change the camera&#39;s y or z rotation in the future (such as if you decide to add camera shake).  It is shown below now :)"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544651162, "post_id": 53751095, "comment_id": 94356372, "body": "Yes, could you post this as an answer?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544651459, "post_id": 53751095, "comment_id": 94356517, "body": "<a href=\"https://stackoverflow.com/a/53751556/1092820\">it&#39;s already posted</a>. stack overflow might be a bit slow today so you might need to refresh the page or something."}], "answers": [{"comments": [{"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544649819, "post_id": 53751553, "comment_id": 94355759, "body": "I want to set the camera&#39;s rotation (what is shown in the Inspector) to exactely 10, 0, 0 within 0.5 seconds. The camera is parented to an object which is rotated."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544649946, "post_id": 53751553, "comment_id": 94355811, "body": "Ok fair enough. Like now?"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544649996, "post_id": 53751553, "comment_id": 94355837, "body": "Ruzihm wrote something that has totally helped me and which resolved the problem. Should I rater use the approach that you&#39;re proposing?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544650071, "post_id": 53751553, "comment_id": 94355875, "body": "I think it is basically doing the same so you might actually prefer localEulerAngles for readability reasons"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544650376, "post_id": 53751553, "comment_id": 94356017, "body": "@tmighty The problem with this is that it won&#39;t always take the shortest path to rotate to <code>(10,0,0)</code>. If the camera is at 364 degrees <code>x</code>, it will rotate negatively instead of positively. <code>Quaternion.Slerp</code> would always take the shortest path."}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544650429, "post_id": 53751553, "comment_id": 94356043, "body": "I was wrong: Your code immediately sets the camera to the final position. I still need to debug what&#39;s going on here."}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544650571, "post_id": 53751553, "comment_id": 94356092, "body": "Could you re-write your solution so that the camera rotation&#39;s current X value is the start value?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1544650749, "post_id": 53751553, "comment_id": 94356173, "body": "could you check again now? after changing the roration part I forgot to also adapt the calculation ;)"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544650893, "post_id": 53751553, "comment_id": 94356237, "body": "Yes, it works now, but you have to use Mathf.Lerp. Also, I&#39;ve now stumbled over this &quot;364 degrees&quot; problem that you spoke about. Is it possible that you also post this Quaternion.Slerp solution that doesn&#39;t show this problem?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 1, "creation_date": 1544650975, "post_id": 53751553, "comment_id": 94356280, "body": "@tmighty no, thats Ruzihm&#39;s solution so why should I replicate it? If the other answer fits your needs better than accept that one ;)"}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": false, "score": 2, "last_activity_date": 1544650948, "last_edit_date": 1544650948, "creation_date": 1544649727, "answer_id": 53751553, "question_id": 53751095, "link": "https://stackoverflow.com/questions/53751095/eulerangles-from-vector3-results-in-strange-rotation/53751553#53751553", "title": "eulerAngles from Vector3 results in strange rotation", "body": "<p>Unity uses two representation of rotation, position, eulerAngles, etc</p>\n\n<ul>\n<li>one is in worldspace</li>\n<li>the other is in local space</li>\n</ul>\n\n<p>The values not including <code>local</code> in their name are in world space.\nIf your object has than any parents that are rotated/scaled/translated you won't see the values you set in Unity since the <code>Transform</code> inspector displays the local coordinates.</p>\n\n<p>If you want to set the <code>local</code> coordinates to the exact values instead use <code>localPosition</code>, <code>localRotation</code> or <code>localEulerAngles</code> instead.</p>\n\n<p>For me it looks like you want to rotate the Camera around its local <code>x</code> axis by 10\u00b0 in 0.5 secons.</p>\n\n<p>So I think you could instead do it like</p>\n\n<pre><code>private IEnumerator LerpCameraNormalRot()\n{\n    float duration = 0.5f;\n\n    float initialRotationX = camera.transform.localEulerAngles.x;\n    float targetRotationX = 10;\n\n    for (float t = 0f; t &lt; duration; t += Time.deltaTime)\n    {\n        float currentX = Mathf.Lerp(initialRotationX, targetRotationX, t / duration);\n\n        camera.transform.localEulerAngles = new Vector3(currentX , 0, 0);\n\n        // Which would be the same as using \n        // camera.transform.localRotation = Quaternion.Euler(new Vector3(currentX, 0, 0));\n\n        yield return null;\n    }\n\n    // to be sure you have no overshooting you could set the target rotation fix here as well\n    camera.transform.localEulerAngles = new Vector3(targetRotation, 0 ,0);\n\n    // or\n    // camera.transform.localRotation = Quaternion.Euler(new Vector3(targetRotation, 0, 0));\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1544651131, "post_id": 53751556, "comment_id": 94356354, "body": "yeah I guess <code>Quaternion.Slerp</code> is actually a more acurate solution"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1544651350, "post_id": 53751556, "comment_id": 94356472, "body": "@derHugo You had a really good point about using Quaternions instead of directly changing euler angles in an earlier version of your answer! It wasn&#39;t until you mentioned it that I realized that a lone lerp wouldn&#39;t do the job."}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1544651811, "post_id": 53751556, "comment_id": 94356672, "body": "@Ruzihm Thank you!! Yes, Stackoverflow was slow, I didn&#39;t see your solution at first."}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 2, "last_activity_date": 1544650742, "last_edit_date": 1544650742, "creation_date": 1544649739, "answer_id": 53751556, "question_id": 53751095, "link": "https://stackoverflow.com/questions/53751095/eulerangles-from-vector3-results-in-strange-rotation/53751556#53751556", "title": "eulerAngles from Vector3 results in strange rotation", "body": "<p>You are setting the <code>eulerAngles</code> but that will result in different <code>localEulerAngles</code> which are indicated by the red box in your image. If the object has any ancestors that are rotated, they will probably not match!</p>\n\n<p>To fix your immediate problem, you could use <code>localEulerAngles</code> instead of <code>eulerAngles</code>:</p>\n\n<pre><code>float f = Mathf.Lerp(camera.transform.localEulerAngles.x, 10, t / duration);\nVector3 vNew = new Vector3(f, 0, 0);\ncamera.transform.localEulerAngles= vNew;\n</code></pre>\n\n<p>The problem with this is that it does not account for the ability to go from 359 degrees around to 0 degrees. Better yet would be to use <code>Quaternion.Euler</code> and <code>Quaternion.Slerp</code> to use Quaternions rather than Euler angles:</p>\n\n<pre><code>private IEnumerator LerpCameraNormalRot()\n{\n    float duration = 0.5f;\n    Quaternion startRotation = camera.transform.localRotation;\n    Quaternion goalRotation = Quaternion.Euler(10f, 0f, 0f);\n\n    for (float t = 0f; t &lt; duration; t += Time.deltaTime)\n    {   \n        camera.transform.localRotation = Quaternion.Slerp(startRotation, goalRotation, t/duration);\n        yield return 0;\n    }\n\n    camera.transform.localRotation = goalRotation;\n}\n</code></pre>\n"}], "owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 53751556, "answer_count": 2, "score": 2, "last_activity_date": 1544650948, "creation_date": 1544647640, "last_edit_date": 1544649899, "question_id": 53751095, "link": "https://stackoverflow.com/questions/53751095/eulerangles-from-vector3-results-in-strange-rotation", "title": "eulerAngles from Vector3 results in strange rotation", "body": "<p>I'm trying to change the eulerAngle X of a camera rotation while keeping y and z at 0.</p>\n\n<p>However, the following IEnumerator results in strange eulerAngles like 10, -74.653, 0. </p>\n\n<p><a href=\"https://i.stack.imgur.com/f734N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f734N.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't understand how the y value can change within the following function:</p>\n\n<pre><code>private IEnumerator LerpCameraNormalRot()\n{\n    float duration = 0.5f;\n\n    for (float t = 0f; t &lt; duration; t += Time.deltaTime)\n    {\n        float f = Mathf.Lerp(camera.transform.eulerAngles.x, 10, t / duration);\n        Vector3 vNew = new Vector3(f, 0, 0);\n        camera.transform.eulerAngles = vNew;\n        yield return 0;\n    }\n}\n</code></pre>\n\n<p>Isn't this strange? I never change the Y and Z values!</p>\n\n<p>I only want to change the X rotation (eulerAngle.x) from its current value to 10.</p>\n\n<p>Thank you for the help!</p>\n"}, {"tags": ["c#", "json", "parsing", "json.net", "mapping"], "comments": [{"owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "edited": false, "score": 0, "creation_date": 1544648735, "post_id": 53751059, "comment_id": 94355325, "body": "Since you&#39;re using iextrading, have you considered using a library already built so that you don&#39;t have to build structures? see <a href=\"https://www.codepoc.io/blog/web-api/5297/get-stock-historical-data-based-on-it-stock-symbol-iextrading-api-c\" rel=\"nofollow noreferrer\">codepoc.io/blog/web-api/5297/&hellip;</a>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1544651000, "post_id": 53751059, "comment_id": 94356294, "body": "Deserialize to a <code>Dictionary&lt;string, Stock&gt;</code> as shown in <a href=\"https://stackoverflow.com/a/24536564/3744182\">How can I parse a JSON string that would cause illegal C# identifiers?</a> or <a href=\"https://stackoverflow.com/a/34213724/3744182\">Create a strongly typed c# object from json object with ID as the name</a> or <a href=\"https://stackoverflow.com/q/34202496\">Parsing JSON Object with variable properties into strongly typed object</a>."}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1544651999, "post_id": 53751059, "comment_id": 94356759, "body": "You can create your classes like follows: public class AAPL         {             [JsonProperty(&quot;quote&quot;)]             public Quote Quote;         }             public class Root         {             [JsonProperty(&quot;AAPL&quot;)]             public AAPL Appl;         }          public class Quote         {             [JsonProperty(&quot;symbol&quot;)]             public string Symbol;             // other properties ..         }"}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1544652038, "post_id": 53751059, "comment_id": 94356783, "body": "The method which gets the data from your API: static async Task&lt;String&gt; getStocks()         {             HttpClient client = new HttpClient();             HttpResponseMessage response = await client.GetAsync(&quot;<a href=\"https://api.iextrading.com/1.0/stock/market/batch?symbols=aapl,fb,googl&amp;types=quote,chart&amp;range=1m&quot;\" rel=\"nofollow noreferrer\">api.iextrading.com/1.0/stock/market/&hellip;</a>);             response.EnsureSuccessStatusCode();             string responseBody = await response.Content.ReadAsStringAsync();               return responseBody;         }"}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1544652137, "post_id": 53751059, "comment_id": 94356836, "body": "I&#39;ve created a simple console app, you can make conversion like this in the Main method: static void Main(string[] args)         {             var data = getStocks().GetAwaiter().GetResult();                           var res = JsonConvert.DeserializeObject&lt;Root&gt;(data);                  // another method to get deserialized data              dynamic stuff = JsonConvert.DeserializeObject(data);             var obj1 = stuff.AAPL;             var obj2 = stuff.AAPL.quote;             var obj3 = stuff.AAPL.quote.symbol;         }"}, {"owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "edited": false, "score": 0, "creation_date": 1544652197, "post_id": 53751059, "comment_id": 94356870, "body": "I&#39;m not able to add my answer cuz the question has been blocked but hope it helps. Cheers"}], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "is_accepted": true, "score": 2, "last_activity_date": 1544648363, "creation_date": 1544648363, "answer_id": 53751250, "question_id": 53751059, "link": "https://stackoverflow.com/questions/53751059/mapping-json-to-c-classes-when-there-are-multiple-keys/53751250#53751250", "title": "Mapping JSON to C# classes when there are multiple keys", "body": "<p>Your problem is that your class models don't match the json schema of the API output.  The output isn't a list of stocks, it is a mapping of StockName: Stock</p>\n\n<p>You can deserialize it as a <code>Dictionary&lt;string, Stock&gt;</code> rather than a <code>Root</code> and that should get you where you need to be.</p>\n"}], "owner": {"reputation": 710, "user_id": 6252787, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1cdf78c7695129916eb225138aecee61?s=128&d=identicon&r=PG&f=1", "display_name": "Thijs van der Heijden", "link": "https://stackoverflow.com/users/6252787/thijs-van-der-heijden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "closed_date": 1544651184, "accepted_answer_id": 53751250, "answer_count": 1, "score": 0, "last_activity_date": 1544651215, "creation_date": 1544647449, "question_id": 53751059, "link": "https://stackoverflow.com/questions/53751059/mapping-json-to-c-classes-when-there-are-multiple-keys", "closed_reason": "Duplicate", "title": "Mapping JSON to C# classes when there are multiple keys", "body": "<p>I am currently trying to parse the JSON data that I get back from the IEX api, which consists of stocks and their information. The problem I am running into is that depending on which stocks/symbols (ie AAPL, GOOGL etc) you request the keys that are returned change to that symbol. An example of the returned JSON can be seen here: <a href=\"https://api.iextrading.com/1.0/stock/market/batch?symbols=aapl,fb,googl&amp;types=quote,chart&amp;range=1m\" rel=\"nofollow noreferrer\">https://api.iextrading.com/1.0/stock/market/batch?symbols=aapl,fb,googl&amp;types=quote,chart&amp;range=1m</a></p>\n\n<p>To deserialize this I am using JSON.NET and the following classes:</p>\n\n<pre><code>public class Stock  {\n    public quote Quote { get; set;}\n    public chart Chart { get; set;}\n}\n\npublic class Root {\n    public Stock[] Stock;\n}\n</code></pre>\n\n<p>And then I also have classes for the quote and chart objects. I then deserialize the JSON using:</p>\n\n<pre><code>var stocks =  JsonConvert.DeserializeObject&lt;Root&gt;(jsonstring);\n</code></pre>\n\n<p>However, this does not work, but this does work when renaming the 'Stock' class to one of the symbol names, but then only that symbols JSON is parsed. I have no idea what's going on here so any help is greatly appreciated!</p>\n"}, {"tags": ["c#", "asp.net", "linq", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 2622, "user_id": 172729, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/148a0b2a8165c62f8e15cf28f9891154?s=128&d=identicon&r=PG", "display_name": "Dabbas", "link": "https://stackoverflow.com/users/172729/dabbas"}, "edited": false, "score": 3, "creation_date": 1544648560, "post_id": 53751053, "comment_id": 94355261, "body": "You need to provide more details about your DB&#39;s tables and relations between them."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 0, "creation_date": 1544649422, "post_id": 53751444, "comment_id": 94355614, "body": "I&#39;m not doing any of the serialization myself, it&#39;s all being done by ASP when it returns it as an ActionResult. It just gives up and then returns until the point before it gave up and doesn&#39;t bother to fix the markup."}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 1, "creation_date": 1544649708, "post_id": 53751444, "comment_id": 94355711, "body": "I know. But you should. Choose one: configure JSON serializer globally to handle circular references, serialize data by yourself or convert entities to DTO."}, {"owner": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 0, "creation_date": 1544649873, "post_id": 53751444, "comment_id": 94355779, "body": "It&#39;s using the scaffolded API controller, which I can imagine is the &quot;correct&quot; way to do things."}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 1, "creation_date": 1544650396, "post_id": 53751444, "comment_id": 94356026, "body": "1) scaffolder is just a very basic tool. many things are absent that should be in real controller (logging, telemetry, sql server message parsing, rowversion support, many to many support etc ). 2)  &quot;circular references&quot; is a fundamental serialization problem. no one programmer can&#39;t avoid it."}, {"owner": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 0, "creation_date": 1544709793, "post_id": 53751444, "comment_id": 94378774, "body": "I just don&#39;t get why the circular reference is there at all. The docs say that if I want to include a level, I need to include it because it won&#39;t be automatically sent, yet it just seems to magically send it."}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "edited": false, "score": 0, "creation_date": 1544710218, "post_id": 53751444, "comment_id": 94379051, "body": "Need to load all navigations consistently is obvious when we track entities and not obvious when we do not need tracking. But EF is about tracking otherwise we could use e.g. linq for sql."}], "tags": [], "owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "is_accepted": false, "score": 2, "last_activity_date": 1544653205, "last_edit_date": 1544653205, "creation_date": 1544649254, "answer_id": 53751444, "question_id": 53751053, "link": "https://stackoverflow.com/questions/53751053/using-include-in-a-database-query-creates-an-infinite-loop-of-data/53751444#53751444", "title": "Using .Include() in a database query creates an infinite loop of data", "body": "<p>This is JSON serialization problem.\nSearch how to solve \"circulare references\" problem in your JSON stream serializer documentation.\nDifferent stream serializers provide different solutions:</p>\n\n<ol>\n<li>configure max depth</li>\n<li>history based on references cache</li>\n<li>configure specific types serializers to do not use \"navigation properties\"</li>\n</ol>\n\n<p>Other solution - do not use stream serializers - configure serializer function at place.</p>\n\n<p>And another one - use DTO classes (where there are no circular references).</p>\n\n<p>You can also try to detach your entities and set null to every navigation property you want to ignore but this is ugly and can't be recommended. </p>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 1392711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6510029507241cb478d1b0b961d0b0?s=128&d=identicon&r=PG", "display_name": "Paul Schroeder", "link": "https://stackoverflow.com/users/1392711/paul-schroeder"}, "edited": false, "score": 0, "creation_date": 1574110139, "post_id": 53769305, "comment_id": 104106767, "body": "This works, but it doesn&#39;t scale well when dealing with a large number of complex classes.  I took a crack at using reflection for this issue before and it got messy.  Not to mention that the additional processing takes away from performance."}], "tags": [], "owner": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "is_accepted": true, "score": 1, "last_activity_date": 1544731521, "creation_date": 1544731521, "answer_id": 53769305, "question_id": 53751053, "link": "https://stackoverflow.com/questions/53751053/using-include-in-a-database-query-creates-an-infinite-loop-of-data/53769305#53769305", "title": "Using .Include() in a database query creates an infinite loop of data", "body": "<p>Fixed! I took the model that came from the database with the relationship included, then used a foreach to null out the reverse reference.</p>\n\n<pre><code>var blog = await _context.Blog\n    .Include(x =&gt; x.Posts)\n    .SingleAsync(x =&gt; x.Id == id);\n\nforeach (Post post in blog.Posts)\n{\n    post.Blog = null;\n}\nreturn Ok(blog);\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 10376937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067eeec7bd75eccbeddaa50d72ca0a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Bacon", "link": "https://stackoverflow.com/users/10376937/josh-bacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 53769305, "answer_count": 2, "score": 1, "last_activity_date": 1544981043, "creation_date": 1544647427, "last_edit_date": 1544981043, "question_id": 53751053, "link": "https://stackoverflow.com/questions/53751053/using-include-in-a-database-query-creates-an-infinite-loop-of-data", "title": "Using .Include() in a database query creates an infinite loop of data", "body": "<p><strong>The problem</strong>: I'm using a LINQ to query against an Entity Framework context to a relational database. Following along with <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/relationships\" rel=\"nofollow noreferrer\">EFCore Relationships</a>, I made a database with a few relationships, but when I sent the data to the server using ASP.NET, I got null values for these relationships. </p>\n\n<p>With a little more digging, I found that I needed to use <code>_context.Post.Include(\"Blog\")</code> to send the data since it uses lazy loading. However, by doing this, it created an \"infinite loop\" in the JsonResult. </p>\n\n<p>The data that ends up getting returned appears to be cut in half and I get JSON parse errors when loading it because it's missing the second half of the JSON data. </p>\n\n<p>Example return value</p>\n\n<pre><code>{\"id\": 0, \"blogId\": 1, \"blog\": {\"postId\":0\n</code></pre>\n\n<p>That's all it returns, as anything after that postId would be a reference back to the original post, which in turn has a reference to the blog. Is there any way that I can use LINQ to exclude the post object in the return, similar to how the blog was included in the first place?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 4, "creation_date": 1544647135, "post_id": 53750958, "comment_id": 94354676, "body": "<code>var list = Number.ToList()</code>"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1544647320, "post_id": 53750958, "comment_id": 94354742, "body": "&quot;The txt file have 126 lines but I need only 125 of them&quot;. You do need all 126 of them. From 0 to 125, there is 126 elements, not 125, because you are counting from 0."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1544647427, "post_id": 53750958, "comment_id": 94354789, "body": "don&#39;t use <code>magic</code> numbers,  just use <code>Number.Length</code> or <code>Number.Length-1</code> (whichever is most appropriate) instead of <code>i&lt;125</code>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1544649308, "post_id": 53750958, "comment_id": 94355571, "body": "Rather than reading an array and converting to a <code>List&lt;string&gt;</code> you could create the list directly by using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.readlines?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>File.ReadLines()</code></a>, e.g. <code>var listNumbers = File.ReadLines(&quot;Numbers.txt&quot;).Take(125).ToList();</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544650712, "post_id": 53750958, "comment_id": 94356155, "body": "The only thing technically wrong with your code is that you&#39;ve hard-coded the upper bounds of the array in your <code>for</code> loop. If you&#39;re going to loop through an array, use it&#39;s <code>Length</code> property as the upper bounds to avoid an <code>IndexOutOfRangeException</code>: <code>for (int i = 0; i &lt; Number.Length; i++)</code>. And if you really do want to restrict the number of items to a maximum of 125, you can just add that to the condition: <code>for (int i = 0; i &lt; Math.Min(Number.Length, 125); i++)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 5, "last_activity_date": 1544647253, "last_edit_date": 1544647253, "creation_date": 1544647173, "answer_id": 53750992, "question_id": 53750958, "link": "https://stackoverflow.com/questions/53750958/convert-string-to-liststring-in-c/53750992#53750992", "title": "Convert string[] to List&lt;string&gt; in c#", "body": "<p>just call <code>ToList()</code>:</p>\n\n<pre><code>myArray.ToList();\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>var list = new List&lt;string&gt;(myArray);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 2, "creation_date": 1544647649, "post_id": 53750995, "comment_id": 94354893, "body": "If you&#39;re using Linq, you could use the newer <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.readlines?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">File.ReadLines()</a> method instead, although as the OP is buffering all the lines anyway, it&#39;ll make little difference in this use case."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1544647184, "creation_date": 1544647184, "answer_id": 53750995, "question_id": 53750958, "link": "https://stackoverflow.com/questions/53750958/convert-string-to-liststring-in-c/53750995#53750995", "title": "Convert string[] to List&lt;string&gt; in c#", "body": "<p>An <code>Array&lt;string&gt;</code> implements <code>IEnumerable&lt;string&gt;</code>, so if you use <code>System.Linq</code>, a bunch of convenient extension methods are available.</p>\n\n<pre><code>using System.Linq;\n\n// ...\n\nvar listNumbers = System.IO.File\n    .ReadAllLines(\"Numbers.txt\")\n    .Take(125)\n    .ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1544689708, "post_id": 53751031, "comment_id": 94367575, "body": "Oh, of course, that makes sense. Removing comment... :)"}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": false, "score": 0, "last_activity_date": 1544690935, "last_edit_date": 1544690935, "creation_date": 1544647347, "answer_id": 53751031, "question_id": 53750958, "link": "https://stackoverflow.com/questions/53750958/convert-string-to-liststring-in-c/53751031#53751031", "title": "Convert string[] to List&lt;string&gt; in c#", "body": "<p>List has an <code>AddRange()</code> method that takes an enumerable (such as your array) and adds all the items in it, to the list. It's useful because it doesn't require LINQ, and unlike passing the array into the List constructor, it can be used if the list is constructed elsewhere/already instantiated by some other process</p>\n\n<pre><code>    //if your list is constructed elsewhere \n     List&lt;string&gt; listNumbers = new List&lt;string&gt;(); \n\n    //addrange can still be used to populate it \n    string[] lines = System.IO.File.ReadAllLines(\"Numbers.txt\");\n    listNumbers.AddRange(lines);\n</code></pre>\n\n<p>A similar InsertRange can be used to put all the values from an enumerable, into the list at a particular position</p>\n\n<p>If you have a requirement to only put a certain number of items into the list, the most compact method is probably to use linq:</p>\n\n<pre><code>var list = lines.Take(125).ToList();\n</code></pre>\n\n<p>The next most compact is to do as you have done, with a for loop</p>\n"}], "owner": {"reputation": 11, "user_id": 10782877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e419169dddec4914044ea4654614cac8?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10782877/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "closed_date": 1544647450, "answer_count": 3, "score": 0, "last_activity_date": 1544690935, "creation_date": 1544647023, "last_edit_date": 1544647529, "question_id": 53750958, "link": "https://stackoverflow.com/questions/53750958/convert-string-to-liststring-in-c", "closed_reason": "Duplicate", "title": "Convert string[] to List&lt;string&gt; in c#", "body": "<p>I have been working on a small project and I have ran into this issue. I have a txt file full of lines and I need to store them in a List. Is there any elegant way of doing it?  This is my code, however, it won\u00b4t work because something is out of bonds. The txt file have 126 lines but I need only 125 of them. Thank you for your time, any help is appreciated :)</p>\n\n<pre><code>string[] Number = System.IO.File.ReadAllLines(\"Numbers.txt\");\nList&lt;string&gt; listNumbers = new List&lt;string&gt;(); //place where all numbers will be stored\nfor (int i = 0; i&lt;125; i++)\n{\n    listNumbers[i] = Number[i];\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 8320640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb3ffd1efb18cc38c50070b611dbf41?s=128&d=identicon&r=PG&f=1", "display_name": "sjohn285", "link": "https://stackoverflow.com/users/8320640/sjohn285"}, "edited": false, "score": 0, "creation_date": 1544710556, "post_id": 53753732, "comment_id": 94379244, "body": "This was exactly the issue, thank you!  Good explanation, too."}], "tags": [], "owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "is_accepted": true, "score": 2, "last_activity_date": 1544664111, "creation_date": 1544664111, "answer_id": 53753732, "question_id": 53750940, "link": "https://stackoverflow.com/questions/53750940/error-when-trying-to-set-up-custom-validation-in-mvc-5/53753732#53753732", "title": "Error when trying to set up custom validation in MVC 5", "body": "<p>The problem seem coming from controller name declared inside <code>RemoteAttribute</code> like this:</p>\n\n<pre><code>[Remote(\"IsAssetAvailable\", \"ItemController\", ErrorMessage = \"Asset # already exists.\")]\npublic string Asset_Tag_Nbr { get; set; }\n</code></pre>\n\n<p>which you're using <code>RouteAttribute</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.remoteattribute.-ctor?view=aspnet-mvc-5.2#System_Web_Mvc_RemoteAttribute__ctor_System_String_System_String_\" rel=\"nofollow noreferrer\">with 2 overloads</a>:</p>\n\n<pre><code>public RemoteAttribute (string action, string controller)\n</code></pre>\n\n<p>The <code>controller</code> parameter refers to the controller name which contains corresponding action method name, without using <code>Controller</code> suffix. Hence, you should use <code>RouteAttribute</code> parameter like example below:</p>\n\n<pre><code>[Display(Name = \"Asset Tag #\")]\n[Remote(\"IsAssetAvailable\", \"Item\", ErrorMessage = \"Asset # already exists.\")]\npublic string Asset_Tag_Nbr { get; set; }\n</code></pre>\n\n<p>Related issue:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39574129/error-based-on-remote-validation-in-mvc\">Error based on Remote Validation in mvc</a></p>\n"}], "owner": {"reputation": 305, "user_id": 8320640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb3ffd1efb18cc38c50070b611dbf41?s=128&d=identicon&r=PG&f=1", "display_name": "sjohn285", "link": "https://stackoverflow.com/users/8320640/sjohn285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 53753732, "answer_count": 1, "score": 1, "last_activity_date": 1544664111, "creation_date": 1544646947, "last_edit_date": 1544647617, "question_id": 53750940, "link": "https://stackoverflow.com/questions/53750940/error-when-trying-to-set-up-custom-validation-in-mvc-5", "title": "Error when trying to set up custom validation in MVC 5", "body": "<p>I get the error message \"The controller for path '/ItemController/IsAssetAvailable' was not found or does not implement IController\" when trying to submit my form that has the custom validation set for it in the model using DataAnnotations.</p>\n\n<p><strong>Controller Layout:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/SXfsK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SXfsK.png\" alt=\"Controller design\"></a></p>\n\n<p><strong>Controller Code:</strong></p>\n\n<pre><code>public ActionResult IsAssetAvailable(string Asset_Tag_Nbr)\n    {\n        using (db)\n        {\n            try\n            {\n                var asset = db.Items.Single(i =&gt; i.Asset_Tag_Nbr == Asset_Tag_Nbr);\n                return Json(false, JsonRequestBehavior.AllowGet);\n            }\n            catch (Exception)\n            {\n                return Json(true, JsonRequestBehavior.AllowGet);\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>Data Annotations:</strong></p>\n\n<pre><code>[Display(Name = \"Asset Tag #\")]\n[Remote(\"IsAssetAvailable\", \"ItemController\", ErrorMessage = \"Asset # already exists.\")]\npublic string Asset_Tag_Nbr { get; set; }\n</code></pre>\n\n<p><strong>View:</strong></p>\n\n<pre><code>&lt;div class=\"form-group col-sm-4\"&gt;\n     @Html.LabelFor(model =&gt; model.Asset_Tag_Nbr, new { @class = \"control-label col-md-12\" })\n     &lt;div class=\"col-md-10\"&gt;\n         @Html.EditorFor(model =&gt; model.Asset_Tag_Nbr, new { htmlAttributes = new { @class = \"form-control\" } })\n         @Html.ValidationMessageFor(model =&gt; model.Asset_Tag_Nbr)\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "acumatica"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6895942, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9ed708efd89c282f6547682388a71951?s=128&d=identicon&r=PG&f=1", "display_name": "Slottaje", "link": "https://stackoverflow.com/users/6895942/slottaje"}, "edited": false, "score": 0, "creation_date": 1545075020, "post_id": 53764690, "comment_id": 94492306, "body": "Do you know if it&#39;s possible to manually trigger the lost focus event via code? I&#39;m pretty comfortable with customization projects and manipulating the framework."}, {"owner": {"reputation": 6955, "user_id": 7376238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8IBj.jpg?s=128&g=1", "display_name": "Hugues Beaus&#233;jour", "link": "https://stackoverflow.com/users/7376238/hugues-beaus%c3%a9jour"}, "reply_to_user": {"reputation": 55, "user_id": 6895942, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9ed708efd89c282f6547682388a71951?s=128&d=identicon&r=PG&f=1", "display_name": "Slottaje", "link": "https://stackoverflow.com/users/6895942/slottaje"}, "edited": false, "score": 0, "creation_date": 1545080711, "post_id": 53764690, "comment_id": 94494653, "body": "RaiseFieldUpdated method will do similar operation but I believe the issue is UI related. If that&#39;s the case, value entered in UI is lost and inaccessible from the BLC graph."}], "tags": [], "owner": {"reputation": 6955, "user_id": 7376238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8IBj.jpg?s=128&g=1", "display_name": "Hugues Beaus&#233;jour", "link": "https://stackoverflow.com/users/7376238/hugues-beaus%c3%a9jour"}, "is_accepted": false, "score": 0, "last_activity_date": 1544713408, "creation_date": 1544713408, "answer_id": 53764690, "question_id": 53750936, "link": "https://stackoverflow.com/questions/53750936/acumatica-mobile-field-change-not-committing-on-action-press/53764690#53764690", "title": "Acumatica mobile - Field change not committing on action press", "body": "<blockquote>\n  <p>If I enter a value in the text box, click out of the field, and then\n  press the button, the change is committed to the cache, and I can\n  access the new value in my code. However, if I enter a value in the\n  text box and press the button without clicking out of the text box,\n  the change is not committed to the cache so I can't access the new\n  value.</p>\n</blockquote>\n\n<p>This is the description of a bug caused by UI event handlers. I've noticed it in the desktop browser website too. Actions can get away with it by calling Save explicitly before doing their thing. Unfortunately I don't know of a workaround for mobile, consider filling in a bug report.</p>\n\n<p>The proper fix would be better handling of focus events. There is only a single UI element focused at all time. When you give focus to another element the currently focused one receives a lost focus event. This is the event that triggers the CommitChanges. I suspect the bug is that clicking on the button doesn't remove focus from the text box thus never invoking lost focus event and preventing CommmitChanges.</p>\n"}], "owner": {"reputation": 55, "user_id": 6895942, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9ed708efd89c282f6547682388a71951?s=128&d=identicon&r=PG&f=1", "display_name": "Slottaje", "link": "https://stackoverflow.com/users/6895942/slottaje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544713408, "creation_date": 1544646926, "last_edit_date": 1544647306, "question_id": 53750936, "link": "https://stackoverflow.com/questions/53750936/acumatica-mobile-field-change-not-committing-on-action-press", "title": "Acumatica mobile - Field change not committing on action press", "body": "<p>On my mobile app page I have a simple text field for a location. Beneath the field is a button. When the button gets pressed, it navigates to a new container, and the value from this text box is supposed to be copied over to a different text box in the container. If I enter a value in the text box, click out of the field, and then press the button, the change is committed to the cache, and I can access the new value in my code. However, if I enter a value in the text box and press the button without clicking out of the text box, the change is not committed to the cache so I can't access the new value.</p>\n\n<p>The strange thing is that if I mimic these steps in the web browser, no matter what, the change is always committed to the cache.</p>\n\n<p>I have the \"CommitChanges\" property set to True for the button and the field on the web page, but that's not a possibility in the mobile app page.</p>\n\n<p>Is there any way I can force the page to commit the changes for this field when I run the action? I've tried refreshing the view and raising the field updated event, but neither worked.</p>\n\n<p>This is how my action is declared in my msd file.</p>\n\n<pre><code>add recordAction \"RedirectLocationMobileFrom\"{\n    behavior = Record\n    Redirect = True\n    RedirectToContainer = \"CreateNewAddress\"\n    DisplayName = \"Create Location from this address\"\n   }\n</code></pre>\n"}, {"tags": ["c#", "moq"], "answers": [{"comments": [{"owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "edited": false, "score": 0, "creation_date": 1544647584, "post_id": 53750960, "comment_id": 94354859, "body": "Oh, argument matching in the <code>Returns</code> statement, gotcha."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "reply_to_user": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "edited": false, "score": 1, "creation_date": 1544651668, "post_id": 53750960, "comment_id": 94356619, "body": "@HristoYankov An equivalent way to call this generic overload of <code>.Returns</code> is to give the type parameter explicitly, so: <code>.Returns&lt;Func&lt;Guid&gt;&gt;(func =&gt; func())</code>"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 3, "last_activity_date": 1544647736, "last_edit_date": 1544647736, "creation_date": 1544647024, "answer_id": 53750960, "question_id": 53750934, "link": "https://stackoverflow.com/questions/53750934/setup-a-method-to-return-the-return-value-of-a-function-passed-as-an-argument/53750960#53750960", "title": "Setup a method to return the return value of a function passed as an argument", "body": "<p>Get the passed argument in the <code>Returns</code> delegate and invoke that</p>\n\n<pre><code>this.mockService\n    .Setup(_ =&gt; _.MethodNameHere(It.IsAny&lt;Func&lt;Guid&gt;&gt;()))\n    .Returns((Func&lt;Guid&gt; func) =&gt; func());\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>this.mockService\n    .Setup(_ =&gt; _.MethodNameHere(It.IsAny&lt;Func&lt;Guid&gt;&gt;()))\n    .Returns((Func&lt;Guid&gt; func) =&gt; func.Invoke());\n</code></pre>\n\n<p>Reference <a href=\"https://github.com/Moq/moq4/wiki/Quickstart\" rel=\"nofollow noreferrer\">Moq Quickstart</a></p>\n\n<pre><code>// access invocation arguments when returning a value\nmock.Setup(x =&gt; x.DoSomethingStringy(It.IsAny&lt;string&gt;()))\n        .Returns((string s) =&gt; s.ToLower());\n// Multiple parameters overloads available\n</code></pre>\n"}], "owner": {"reputation": 3768, "user_id": 253266, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f8be1907b4d9c4d1c4a6a4b0556bc7?s=128&d=identicon&r=PG", "display_name": "hyankov", "link": "https://stackoverflow.com/users/253266/hyankov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53750960, "answer_count": 1, "score": 2, "last_activity_date": 1544647736, "creation_date": 1544646918, "question_id": 53750934, "link": "https://stackoverflow.com/questions/53750934/setup-a-method-to-return-the-return-value-of-a-function-passed-as-an-argument", "title": "Setup a method to return the return value of a function passed as an argument", "body": "<p>I have:</p>\n\n<pre><code>public T MethodNameHere&lt;T&gt;(Func&lt;T&gt; func)\n{\n  return func.Invoke();\n}\n</code></pre>\n\n<p>How do I setup a mock for that method. Something along the lines of:</p>\n\n<pre><code>this.mockService.Setup(a =&gt; a.MethodNameHere(It.IsAny&lt;Func&lt;Guid&gt;&gt;())).Returns(...?...);\n</code></pre>\n\n<p>How do I <code>Returns</code> whatever the <code>Func</code> has returned?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-identity", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1544646786, "post_id": 53750819, "comment_id": 94354532, "body": "Cause you return an empty hash? an empty password do not generate an empty hash"}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "reply_to_user": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1544648637, "post_id": 53750819, "comment_id": 94355289, "body": "@Tseng I updated and tested with a hash of &quot;asdf&quot;. Same result."}, {"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1544648916, "post_id": 53750819, "comment_id": 94355399, "body": "again, unless you generate the algorithm with the exact same password hasher, it will be different than what you are checking. See for some background information <a href=\"https://andrewlock.net/exploring-the-asp-net-core-identity-passwordhasher/\" rel=\"nofollow noreferrer\">andrewlock.net/&hellip;</a> (may be slightly different now, linked article is 2 years old)"}], "answers": [{"comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1544651829, "post_id": 53751930, "comment_id": 94356681, "body": "You could just take an instance of <code>IPasswordHasher&lt;MyIdentityUser&gt;</code> through DI to save the worry expressed in your last statement."}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1544729399, "post_id": 53751930, "comment_id": 94389462, "body": "@KirkLarkin Would you care to explain how to get a <code>IPasswordHasher&lt;MyIdentityUser&gt;</code> instance through dependency injection? I am a seasoned developer but new to AspnetCore."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1544731225, "post_id": 53751930, "comment_id": 94390282, "body": "Just add a constructor parameter of <code>IPasswordHasher&lt;MyIdentityUser&gt;</code>, assign the incoming argument to a field of your store and then use that in your <code>GetPasswordHashAsync</code> implementation."}], "tags": [], "owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "is_accepted": true, "score": 1, "last_activity_date": 1544651519, "creation_date": 1544651519, "answer_id": 53751930, "question_id": 53750819, "link": "https://stackoverflow.com/questions/53750819/simple-iuserstore-iuserpasswordstore-implementation-gives-invalid-login-attempt/53751930#53751930", "title": "Simple IUserStore, IUserPasswordStore implementation gives Invalid login attempt", "body": "<p>You were returning an empty string as hash</p>\n\n<pre><code>public Task&lt;string&gt; GetPasswordHashAsync(MyIdentityUser user, CancellationToken cancellationToken)\n{\n    return Task.FromResult(string.Empty);\n}\n</code></pre>\n\n<p>But even an empty password, do not results in an empty hash string. On top of that, there are different algorithms used (which can be configured in Startup.cs, when adding Identity). </p>\n\n<p>You will have to return a real, calculated hash from a specific password if you want it succeed, otherwise it will recognized the entered password returns a different hash then the \"stored\" one and will cause a failure in login. </p>\n\n<p>Just because you are faking/implementing the user store do not mean the hash validations won't be performed. </p>\n\n<pre><code>public Task&lt;string&gt; GetPasswordHashAsync(MyIdentityUser user, CancellationToken cancellationToken)\n{\n    var hash = new PasswordHasher&lt;MyIdentityUser&gt;().HashPassword(user, \"asdf\");\n    return Task.FromResult(hash)\n}\n</code></pre>\n\n<p>Will do, though beware that if you change the password hash algorithm it may fail, since you are <code>new</code>ing it, which means it uses the default options for password hashing. </p>\n"}], "owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 53751930, "answer_count": 1, "score": 1, "last_activity_date": 1545778128, "creation_date": 1544646372, "last_edit_date": 1545778128, "question_id": 53750819, "link": "https://stackoverflow.com/questions/53750819/simple-iuserstore-iuserpasswordstore-implementation-gives-invalid-login-attempt", "title": "Simple IUserStore, IUserPasswordStore implementation gives Invalid login attempt", "body": "<p>I am experimenting with Aspnet Core 2.2 and have replaced the standard <code>IdentityUser</code> with my <code>MyIdentityUser</code>. When I try to log on I get \"Invalid login attempt.\"</p>\n\n<p>What is it I have missed to implement to allow me to log in?</p>\n\n<hr>\n\n<p>The <code>ConfigureServices</code> method sets up Identity with my <code>MyIdentiyUser</code> and <code>MyIUserStore</code> like so:</p>\n\n<pre><code>services.AddDefaultIdentity&lt;MyIdentityUser&gt;()\n    .AddDefaultUI(UIFramework.Bootstrap4)\n    .AddUserStore&lt;MyUserStore&gt;();\n</code></pre>\n\n<p>By implementing all <code>IUserStore</code> and <code>IUserPasswordStore</code> methods as sparingly as possbile (I started with every method throwing <code>NotImplementedException</code> and then implementing the ones that were called) I got to this: </p>\n\n<pre><code>public class MyUserStore : IUserStore&lt;MyIdentityUser&gt;, IUserPasswordStore&lt;MyIdentityUser&gt;\n{\n    public void Dispose() { }\n\n    public Task&lt;MyIdentityUser&gt; FindByNameAsync(string normalizedUserName, CancellationToken cancellationToken)\n    {\n        var ret = new MyIdentityUser\n        {\n            Id = \"1\",\n            UserName = normalizedUserName\n        };\n        return Task.FromResult(ret);\n    }\n\n    public Task&lt;string&gt; GetUserIdAsync(MyIdentityUser user, CancellationToken cancellationToken)\n    {\n        return Task.FromResult(user.UserName);\n    }\n\n    public Task&lt;string&gt; GetPasswordHashAsync(MyIdentityUser user, CancellationToken cancellationToken)\n    {\n        return Task.FromResult(\"asdf\");\n    }\n    ... the rest of the methods throws exception.\n}\n</code></pre>\n\n<p>For the sake of being complete here is my <code>MyIdentityUser</code></p>\n\n<pre><code>public class MyIdentityUser\n{\n    public string Id {get;set;}\n    public string UserName {get;set}\n}\n</code></pre>\n\n<p>and start of <code>_LoginPartial.cshtml</code></p>\n\n<pre><code>@using Microsoft.AspNetCore.Identity\n@inject SignInManager&lt;MyIdentityUser&gt; SignInManager\n@inject UserManager&lt;MyIdentityUser&gt; UserManager\n</code></pre>\n"}, {"tags": ["c#", ".net", "retry-logic"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 2, "creation_date": 1544646482, "post_id": 53750802, "comment_id": 94354396, "body": "How about <a href=\"https://github.com/App-vNext/Polly\" rel=\"nofollow noreferrer\">Polly</a>"}, {"owner": {"reputation": 2237, "user_id": 4441879, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d31e6dc28f59813540fafb902902070?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/4441879/sachin"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1544646703, "post_id": 53750802, "comment_id": 94354484, "body": "@npo , its not a duplicate , those didn&#39;t check for duration of the overall retry ."}, {"owner": {"reputation": 2237, "user_id": 4441879, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d31e6dc28f59813540fafb902902070?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/4441879/sachin"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1544646982, "post_id": 53750802, "comment_id": 94354611, "body": "@JSteward I was checking if there is a better way other than using 3rdparty plugins , thanks."}, {"owner": {"reputation": 454, "user_id": 4502198, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-W1UpugF1JVY/AAAAAAAAAAI/AAAAAAAAAIo/f_JGBlIcztc/photo.jpg?sz=128", "display_name": "TheBeardedQuack", "link": "https://stackoverflow.com/users/4502198/thebeardedquack"}, "edited": false, "score": 0, "creation_date": 1544647884, "post_id": 53750802, "comment_id": 94354996, "body": "This seems like it&#39;ll do what you want just fine, it could perhaps be tidied up a bit by removing the first try at the top and initialising your counter to 0, so your first try is including in the while loop. I think you could also just use DateTime.Now() to get the current time and store it in a variable and do the same later to get the elapsed time. I&#39;m not sure if their&#39;s any pros/cons with using Stopwatch?  On more of an implementation note, most libraries I&#39;ve encountered will throw System.TimeoutException when a desired function can&#39;t be completed within a specified timeout."}], "owner": {"reputation": 2237, "user_id": 4441879, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d31e6dc28f59813540fafb902902070?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/4441879/sachin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1544646611, "answer_count": 0, "score": 0, "last_activity_date": 1544646908, "creation_date": 1544646258, "last_edit_date": 1544646908, "question_id": 53750802, "link": "https://stackoverflow.com/questions/53750802/best-way-to-implement-retry-logic-with-a-duration-in-c", "closed_reason": "Duplicate", "title": "Best way to implement retry logic with a duration in c#", "body": "<p>I tried to create a retry logic that has a time limit lets say 6 seconds  with a retry count of 6 times (including the first try) and if a retry is failed before 1sec , it will sleep for the rest of the second and try the request in the next second only . I don't know if there is a better way to achieve this other than the one below . </p>\n\n<p>What I tried is </p>\n\n<pre><code>  public bool RetryFunc(Func&lt;Response,bool&gt; function, DataModel data)\n    {\n        int duration=6; //in seconds\n        int retryCount=5; \n        bool success = false;\n        Stopwatch totalRetryDurationWatch = new Stopwatch();// begin request\n        totalRetryDurationWatch.Start();// first try\n        success = function(data);\n        int count = 1;\n        while (!success &amp;&amp; count &lt;= retryCount)\n        {\n            Stopwatch thisRetryDurationWatch = new Stopwatch();// Begining of this retry\n            thisRetryDurationWatch.Start();\n            success = function(data);//End this retry\n            thisRetryDurationWatch.Stop();\n            if (totalRetryDurationWatch.Elapsed.Seconds&gt;=duration)\n            {\n                return false;\n            }\n            else if (!success) {\n   // To wait for the second to complete before starting another retry\n                if (thisRetryDurationWatch.ElapsedMilliseconds &lt; 1000) \n                    System.Threading.Thread.Sleep((int)(1000 - thisRetryDurationWatch.ElapsedMilliseconds));\n            }\n            count++;\n        }\n        totalRetryDurationWatch.Stop();//To end the retry time duration watch\n        return success;\n    }\n</code></pre>\n\n<p>Any help is much appreciated , Thanks .</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1544646268, "post_id": 53750778, "comment_id": 94354315, "body": "Select the file, press F4, you should see a properties window. Under Advanced -&gt; Build Action click Compile and change it to None"}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544646690, "post_id": 53750778, "comment_id": 94354475, "body": "Maybe you want this : Right Click &gt; Exclude From Project"}, {"owner": {"reputation": 301, "user_id": 9265735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vs52m.png?s=128&g=1", "display_name": "glitchwizard", "link": "https://stackoverflow.com/users/9265735/glitchwizard"}, "reply_to_user": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1544647081, "post_id": 53750778, "comment_id": 94354658, "body": "@YuriyFaktorovich that&#39;s what I&#39;ve been reading, but once I&#39;m in properties there is no &quot;Advanced&quot; section&quot;.   you can see the properties list here, am I missing something?<a href=\"https://imgur.com/a/ksr4chz\" rel=\"nofollow noreferrer\">imgur.com/a/ksr4chz</a>"}, {"owner": {"reputation": 301, "user_id": 9265735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vs52m.png?s=128&g=1", "display_name": "glitchwizard", "link": "https://stackoverflow.com/users/9265735/glitchwizard"}, "reply_to_user": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544647218, "post_id": 53750778, "comment_id": 94354710, "body": "@Shim-Sao I want these files to be posted to the repo, but not compiled. Excluding them from the project would mean they would no longer be tracked by Git right? Thus no longer tracked by the repo?"}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544647406, "post_id": 53750778, "comment_id": 94354777, "body": "No they will not be part of the project but still in the directory. Git and Visual Studio are not the same things."}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544647783, "post_id": 53750778, "comment_id": 94354953, "body": "On the top of the list there is button to show/hide files that are not part of the project and you can add file you want (reverse)"}, {"owner": {"reputation": 301, "user_id": 9265735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vs52m.png?s=128&g=1", "display_name": "glitchwizard", "link": "https://stackoverflow.com/users/9265735/glitchwizard"}, "reply_to_user": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544647858, "post_id": 53750778, "comment_id": 94354987, "body": "@Shim-Sao so there&#39;s no way to tell the compiler to ignore the .SQL files though?"}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544648160, "post_id": 53750778, "comment_id": 94355092, "body": "You can change action generation in the properties of a file. But exclude is not a problem, Git is a monitor : you can make a branch with a file in the project and exclude it in another branch."}, {"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1544648222, "post_id": 53750778, "comment_id": 94355123, "body": "Why is the compiler looking to compile those files? They&#39;re at the solution level, it shouldn&#39;t care. What&#39;s the error you&#39;re seeing?"}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544648312, "post_id": 53750778, "comment_id": 94355155, "body": "To ignore files in Git it&#39;s in .gitignore or in .git/info/exclude (local) . It&#39;s why Visual Studio and Git is not the same thing."}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1544648607, "post_id": 53750778, "comment_id": 94355279, "body": "I don&#39;t know, I have try to add sql and for me by default action generation is on content. Maybe yours are in compile instead of content. But if your files are not content of the application (no need to copy them) and are just here for you, exclude them."}], "owner": {"reputation": 301, "user_id": 9265735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vs52m.png?s=128&g=1", "display_name": "glitchwizard", "link": "https://stackoverflow.com/users/9265735/glitchwizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544646103, "creation_date": 1544646103, "question_id": 53750778, "link": "https://stackoverflow.com/questions/53750778/how-do-i-ignore-files-from-a-visual-studio-2017-solution-items-folder", "title": "How do I ignore files from a Visual Studio 2017 solution items folder?", "body": "<p>I have some exported SQL files that are just there for recordkeeping, but they're not something I want to compiler to throw errors on. They're in the Solution Items folder. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GOhdx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOhdx.png\" alt=\"An image showing the files throwing compiler errors\"></a></p>\n\n<p>The SQL files are making it so my program can't compile. I've read about the Build Action ignore, but when I try to select the properties of those files, or this folder, I can't find how to ignore these files from the compiler anywhere.</p>\n\n<p>Also, I'm pretty new to a lot of this, so in depth explanations would be appreciated. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 3, "creation_date": 1544645789, "post_id": 53750693, "comment_id": 94354103, "body": "Welcome to Stack Overflow! Please edit your question to include your code, and show where you&#39;re having your challenges. And also please show some sample input data (and expected / actual output).  Without code, and without anything showing example strings you&#39;re parsing, it&#39;s really difficult to attempt to answer such a question."}, {"owner": {"reputation": 11, "user_id": 10782816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2138047109550014/picture?type=large", "display_name": "Berhan Ay", "link": "https://stackoverflow.com/users/10782816/berhan-ay"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1544646759, "post_id": 53750693, "comment_id": 94354515, "body": "For Example  input : hello, i have a guitar, and my guitar is blue output: Do you love guitar i use split method but &quot;guitar,&quot; is not equal &quot;guitar&quot;"}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 1, "creation_date": 1544646855, "post_id": 53750693, "comment_id": 94354562, "body": "Ok, great - please <i>edit your question</i> though - it is pretty difficult to read code as unformatted text in a comment. Also, great you shared some input data, as well as how you plan on using it. Please also share code you&#39;ve written, and where you&#39;re stuck. You mentioned having split into words; it would be super helpful to show that. Otherwise, this reads as &quot;please write code for me&quot; (which is off-topic)."}, {"owner": {"reputation": 616, "user_id": 6764710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eqBxt.png?s=128&g=1", "display_name": "Yosh", "link": "https://stackoverflow.com/users/6764710/yosh"}, "edited": false, "score": 0, "creation_date": 1544646979, "post_id": 53750693, "comment_id": 94354609, "body": "You just want to remove the punctuation from the string? This could be done with <a href=\"https://docs.microsoft.com/de-de/dotnet/api/system.string.replace?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">String.Replace</a>"}], "answers": [{"tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1544686962, "last_edit_date": 1544686962, "creation_date": 1544646952, "answer_id": 53750946, "question_id": 53750693, "link": "https://stackoverflow.com/questions/53750693/how-can-i-ignore-14-punctuation-marks/53750946#53750946", "title": "How can i ignore 14 punctuation marks", "body": "<p>I suggest <em>extracting</em> words instead of <em>splitting</em> (when you have as many as <strong>14</strong> punctuation marks already there's a possibility that there's a <strong>15th</strong> one, say <code>\u055c</code> - <code>U+055C</code> <em>Armenian Exclamation Mark</em>); try using <em>regular expressions</em> for this:</p>\n\n<pre><code>  using System.Text.RegularExpressions;\n\n  ...\n\n  string source = @\"A lot of words: there're some Russian ones (\u0440\u0443\u0441\u0441\u043a\u0438\u0435 \u0441\u043b\u043e\u0432\u0430).\";\n\n  string[] words = Regex\n    .Matches(source, @\"[\\p{L}']+\") // word is composed from letters and apostrophes\n    .OfType&lt;Match&gt;()\n    .Select(match =&gt; match.Value)\n    .ToArray();\n\n  Console.Write(string.Join(Environment.NewLine, words)); \n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>A\nlot\nof\nwords\nthere're\nsome\nRussian\nones\n\u0440\u0443\u0441\u0441\u043a\u0438\u0435\n\u0441\u043b\u043e\u0432\u0430\n</code></pre>\n\n<p>If you want to find out the <em>same</em> (repeated) words, add <em>grouping</em> (<code>GroupBy</code>) in order to get rid of stop words - <em>filtering</em> (<code>Where</code>):</p>\n\n<pre><code>  HashSet&lt;string&gt; stopWords = \n    new HashSet&lt;string&gt;(StringComparer.CurrentCultureIgnoreCase) {\n      \"is\", \"a\", //TODO: put stopwords here \n  };\n\n  string[] repeatedWords = Regex\n    .Matches(source, @\"[\\p{L}']+\") // word is composed from letters and apostrophes\n    .OfType&lt;Match&gt;()\n    .Select(match =&gt; match.Value)\n    .Where(word =&gt; !stopWords.Contains(word)) // not a stopword\n    .GroupBy(word =&gt; word, StringComparer.CurrentCultureIgnoreCase)\n    .Where(group =&gt; group.Count() &gt; 2) // appeared more than 2 times\n    .Select(group =&gt; group.Key)\n    .ToArray();\n</code></pre>\n\n<p><strong>Edit:</strong> How many punctuation mark do we actually have? </p>\n\n<pre><code>  int count = Enumerable\n    .Range(0, char.MaxValue)\n    .Count(c =&gt; char.IsPunctuation((char)c));\n\n  Console.Write(count);\n</code></pre>\n\n<p>It may surprise you, but as many as <strong>593</strong> (not even close to <strong>14</strong>)</p>\n"}], "owner": {"reputation": 11, "user_id": 10782816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2138047109550014/picture?type=large", "display_name": "Berhan Ay", "link": "https://stackoverflow.com/users/10782816/berhan-ay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1544664448, "answer_count": 1, "score": -3, "last_activity_date": 1544686962, "creation_date": 1544645699, "last_edit_date": 1544661955, "question_id": 53750693, "link": "https://stackoverflow.com/questions/53750693/how-can-i-ignore-14-punctuation-marks", "closed_reason": "Needs details or clarity", "title": "How can i ignore 14 punctuation marks", "body": "<p>I need to find the same words in the string, I split it into words with the split method but I get the error because <code>berhan</code> is not the same as <code>berhan,</code>. I keep the punctuation marks in a series how can I remove them If a word X (except stop words) appears more than 2 times in the text, the computer asks &quot;Do you love X? Assume that stop words are stored in the following array: </p>\n\n<pre><code>string[] stop_words = {\u2033a\u2033, \u2033after\u2033, \u2033again, \u2033all\u2033, \u2033am\u2033, \u2033and\u2033, \u2033any\u2033, \u2033are\u2033, \u2033as\u2033, \u2033at\u2033, \u2033be\u2033, \u2033been\u2033, \u2033before\u2033, \u2033between\u2033, \u2033both\u2033, \u2033but\u2033, \u2033by\u2033, \u2033can\u2033, \u2033could\u2033, \u2033for\u2033, \u2033from\u2033, \u2033had\u2033, \u2033has\u2033, \u2033he\u2033, \u2033her\u2033, \u2033here\u2033, \u2033him\u2033, \u2033in\u2033, \u2033into\u2033, \u201dI\u201d, \u2033is\u2033, \u2033it\u2033, \u2033me\u2033, \u2033my\u2033, \u2033of\u2033, \u2033on\u2033, \u2033our\u2033, \u2033she\u2033, \u2033so\u2033, \u2033such\u2033, \u2033than\u2033, \u2033that\u2033, \u2033the\u2033, \u2033then\u2033, \u2033they\u2033, \u2033this\u2033, \u2033to\u2033, \u2033until\u2033, \u2033we\u2033, \u2033was\u2033, \u2033were\u2033, \u2033with\u2033, \u2033you\u2033} \n</code></pre>\n\n<p>For Example input:</p>\n\n<blockquote>\n  <p>hello, i have a guitar, and my guitar is blue output: Do you love guitar </p>\n</blockquote>\n\n<p>i use split method but \"guitar,\" is not equal \"guitar\"</p>\n"}, {"tags": ["c#", ".net", "regex"], "comments": [{"owner": {"reputation": 1089, "user_id": 5522140, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8853de315cadaea571eed4c98e7f7d74?s=128&d=identicon&r=PG&f=1", "display_name": "Manprit Singh Sahota", "link": "https://stackoverflow.com/users/5522140/manprit-singh-sahota"}, "edited": false, "score": 0, "creation_date": 1544645687, "post_id": 53750672, "comment_id": 94354062, "body": "Is the character length till WK is fixed?"}, {"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 2, "creation_date": 1544645723, "post_id": 53750672, "comment_id": 94354078, "body": "Try it with a positive lookbehind <code>(?&lt;=WK)[0-9]+</code> <a href=\"https://regex101.com/r/0QgccF/1\" rel=\"nofollow noreferrer\">Demo</a>"}, {"owner": {"reputation": 87, "user_id": 8267531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0a152f471124d3b59f6d35c055d800?s=128&d=identicon&r=PG&f=1", "display_name": "James Schuler", "link": "https://stackoverflow.com/users/8267531/james-schuler"}, "edited": false, "score": 0, "creation_date": 1544645772, "post_id": 53750672, "comment_id": 94354097, "body": "Nope. The only guarantee is &quot;WK&quot; and then a two digit number."}, {"owner": {"reputation": 87, "user_id": 8267531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0a152f471124d3b59f6d35c055d800?s=128&d=identicon&r=PG&f=1", "display_name": "James Schuler", "link": "https://stackoverflow.com/users/8267531/james-schuler"}, "reply_to_user": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 1, "creation_date": 1544645856, "post_id": 53750672, "comment_id": 94354141, "body": "@Thefourthbird That seems to work perfectly thanks!"}, {"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "edited": false, "score": 1, "creation_date": 1544646340, "post_id": 53750672, "comment_id": 94354341, "body": "Another option you have is to use WK([0-9)]+ and access the first capture group. The postiive lookbehind should work for this purpose for sure, but capture groups are definitely something you can keep in mind for future reference. i.e. if you wanted the number that follows TF_#### AND WK##, you could capture both within the same expression. Food for thought."}], "answers": [{"tags": [], "owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "is_accepted": true, "score": 2, "last_activity_date": 1544647397, "creation_date": 1544647397, "answer_id": 53751045, "question_id": 53750672, "link": "https://stackoverflow.com/questions/53750672/regex-help-trying-to-get-numbers-following-a-specific-string/53751045#53751045", "title": "Regex Help: Trying to get numbers following a specific string", "body": "<p>So you ar looking for digits after WK and you expect any number:</p>\n\n<p>(?&lt;=WK)\\d+ will do. This means: Look for any digit numbers preceeded with WK</p>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 4502198, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-W1UpugF1JVY/AAAAAAAAAAI/AAAAAAAAAIo/f_JGBlIcztc/photo.jpg?sz=128", "display_name": "TheBeardedQuack", "link": "https://stackoverflow.com/users/4502198/thebeardedquack"}, "is_accepted": false, "score": 0, "last_activity_date": 1544648365, "creation_date": 1544648365, "answer_id": 53751252, "question_id": 53750672, "link": "https://stackoverflow.com/questions/53750672/regex-help-trying-to-get-numbers-following-a-specific-string/53751252#53751252", "title": "Regex Help: Trying to get numbers following a specific string", "body": "<p>Sorry, your question is a little ambiguous, if you expand on your description we may be able to help more.</p>\n\n<p>I've read this as you're trying to capture only the numbers? In which case you can do a named capture. The regex will parse the whole string and name the capture group containing the numbers so you can refer to it later in code.</p>\n\n<pre><code>var regex = new Regex(\"WK(?&lt;numbers&gt;\\d+)\");\nvar results = regex.Match(\"TF_6502BoM_WK47.xlsx\");\nSystem.WriteLine(\"Matched numbers: {0}\", results.Groups[\"numbers\"]);\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8267531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0a152f471124d3b59f6d35c055d800?s=128&d=identicon&r=PG&f=1", "display_name": "James Schuler", "link": "https://stackoverflow.com/users/8267531/james-schuler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53751045, "answer_count": 2, "score": 0, "last_activity_date": 1544648365, "creation_date": 1544645631, "question_id": 53750672, "link": "https://stackoverflow.com/questions/53750672/regex-help-trying-to-get-numbers-following-a-specific-string", "title": "Regex Help: Trying to get numbers following a specific string", "body": "<p>I'm trying to get the number that follows the string \"WK\" in a string like \"TF_6502BoM_WK47.xlsx\". So far I have this regex pattern /WK[0-9]+/ but I'm only getting \"WK47\".</p>\n"}, {"tags": ["c#", "neo4j", "cypher"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1544645946, "post_id": 53750628, "comment_id": 94354175, "body": "According to this blog <a href=\"https://neo4j.com/blog/dotnet-developers-neo4jclient-is-back/\" rel=\"nofollow noreferrer\">neo4j.com/blog/dotnet-developers-neo4jclient-is-back</a> The answer is not yet."}, {"owner": {"reputation": 1013, "user_id": 7536864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cabd23035f69f6d95474f5396cd13e3?s=128&d=identicon&r=PG&f=1", "display_name": "Gy&#246;rgy Guly&#225;s", "link": "https://stackoverflow.com/users/7536864/gy%c3%b6rgy-guly%c3%a1s"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1544646489, "post_id": 53750628, "comment_id": 94354399, "body": "Thx for the info. It is a 3 years old blogpost, Waht do you think, is there any changes according this question?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1544646635, "post_id": 53750628, "comment_id": 94354454, "body": "I searched the site, but nothing else came up with support for <code>linq</code>"}], "owner": {"reputation": 1013, "user_id": 7536864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cabd23035f69f6d95474f5396cd13e3?s=128&d=identicon&r=PG&f=1", "display_name": "Gy&#246;rgy Guly&#225;s", "link": "https://stackoverflow.com/users/7536864/gy%c3%b6rgy-guly%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544645388, "creation_date": 1544645388, "question_id": 53750628, "link": "https://stackoverflow.com/questions/53750628/use-expressionfunct-bool-filter-in-cypher-query-neo4j", "title": "Use Expression&lt;Func&lt;T, bool&gt;&gt; filter in Cypher Query Neo4j", "body": "<p>Is there a built in way which creates Cyhper <code>WHERE</code> condition or a <code>MATCH</code> condition form <code>Expression&lt;Func&lt;T, bool&gt;&gt; filter</code> ?</p>\n\n<p>I uses <code>Neo4j.Driver</code> not <code>Neo4jClient</code>.</p>\n\n<p>I can do it myself with <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.expressions.expressionvisitor?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">ExpressionVisitor</a> or just walk all the expression in the tree recursively. But It would be great if where there are any support for it already?</p>\n\n<p>Some example what wold be great result:</p>\n\n<pre><code> c#: CypherWhere&lt;Person&gt;( p =&gt; p.Age &gt; 30 ) ==&gt;\n Cypher: WHERE p.Age &gt; 30\n</code></pre>\n\n<p>or</p>\n\n<pre><code> c#: CypherWhere&lt;Person&gt;( p =&gt; p.Age &gt; 30 &amp; p.Sex == Sex.Female  ) ==&gt;\n Cypher: WHERE p.Age &gt; 30 AND p.Sex = 1\n</code></pre>\n\n<p>If there is no any support, and I have to is from scratch, then it would be grate if somebody links the similar functionality which ask from JSON, because the syntax and the meaning is little but similar.</p>\n\n<p>Maybe the <code>Neo4jClient</code> driver has a similar code in it?</p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1544645504, "post_id": 53750621, "comment_id": 94353977, "body": "You need to handle <code>WM_NCHITTEST</code>"}, {"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 1, "creation_date": 1544645603, "post_id": 53750621, "comment_id": 94354026, "body": "Please explain why do you want a big invisible click-thru window. It seems that you want to rape the basic concept of Windows UI. Instead, you can achive what you want with a small fully visible Window which you will dynamically move."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 1, "creation_date": 1544650500, "post_id": 53750621, "comment_id": 94356073, "body": "@AlKepp I&#39;ve had to do similar work.  I once developed titles that scrolled on screen, while using other apps, in WinForms.  You want to click through the region that&#39;s not text.  I understand the question to understand it; so that you can help better solve the problem, but &#39;rape the basic concept of Windows UI&#39;?  That&#39;s a bit bold. Windows UI is built on a common interface but meant to be customizable at it&#39;s roots."}], "answers": [{"comments": [{"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544650612, "post_id": 53751520, "comment_id": 94356106, "body": "You&#39;re on the right track here.  You can actually paint the path of the Window however you want; masking it to only be clickable where it&#39;s visible."}, {"owner": {"reputation": 177, "user_id": 7089629, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b01fd55fd6cc7f3d5e373b45dcfc160?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/7089629/jacob"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544651213, "post_id": 53751520, "comment_id": 94356407, "body": "@MichaelPuckettII Can you give me a bit more detail on this, please? What do you mean by &quot;masking it to only be clickable where it&#39;s visible,&quot; in particular? This sounds like exactly what I want to do, but I have never heard of the concept."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544653949, "post_id": 53751520, "comment_id": 94357576, "body": "It&#39;s been a long time since I&#39;ve done WinForms; because everything you&#39;re wanting to do is accomplished so much easier and performs better with WPF and XAML (hint if you can switch you&#39;ll love it) but I have written applications that do this masking many apps.  I&#39;ll have to pull up those old projects to give you details on how but you&#39;re on the right track with overriding the pain, using transparency key, etc."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544654092, "post_id": 53751520, "comment_id": 94357646, "body": "I made one app where the Window was a specific shape and only that portion was clickable / draggable.  Another where it presented information on the screen above other apps via text and transitions off screen animated (not clickable), and I injected a trial banner into an app that scrolled on the screen above other apps, but you could see through it to be non-obtrusive as possible, and that clicking opened the trial information ETC. Anything is possible... What would you like to accomplish?  I may be able to provide exact code if I find the time."}, {"owner": {"reputation": 177, "user_id": 7089629, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b01fd55fd6cc7f3d5e373b45dcfc160?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/7089629/jacob"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544656627, "post_id": 53751520, "comment_id": 94358508, "body": "Short version: Imagine a drawing of a stick figure that sits in the corner of the screen. My goal is to let the user interact with the stick figure by mousing over it, but NOT by mousing over (for example) the space between the stick figure&#39;s arm and body. Any mouse movements that don&#39;t intersect the stick figure should just be passed down to windows below the figure. I&#39;m planning on making a custom control to take an image and carefully let the user only interact with said image, not the square around it, but I don&#39;t know how yet."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544657186, "post_id": 53751520, "comment_id": 94358677, "body": "Exactly and it can be done. \ud83d\ude0e You&#39;re on the right track.  One way is to get a jpg (not png) of the image you want. Then make the Window the size of the image, whatever you want to click through on the image give it the same color as the  transparency key of the Window. Use the paint method to draw the image onto the form and nothing else.  If you&#39;re image is a stick man you&#39;ll see just the stick man and be able to click through the rest."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1544657362, "post_id": 53751520, "comment_id": 94358740, "body": "You don&#39;t have to use an image, you can actually draw the font as any string you want or draw a path from another file or programmatically."}], "tags": [], "owner": {"reputation": 177, "user_id": 7089629, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b01fd55fd6cc7f3d5e373b45dcfc160?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/7089629/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1544649616, "creation_date": 1544649616, "answer_id": 53751520, "question_id": 53750621, "link": "https://stackoverflow.com/questions/53750621/how-to-make-a-window-partially-clickthrough/53751520#53751520", "title": "How to make a window partially clickthrough?", "body": "<p>So, I managed to figure it out through trial and error, and I apologize for taking people's time. </p>\n\n<p>The solution here is to: </p>\n\n<ul>\n<li><p>Override <code>OnPaintBackground</code> to be an empty method, so nothing actually gets painted on the back</p></li>\n<li><p>Set the style so it supports Transparent as a back color, then set the back color and <code>TransparencyKey</code> to Transparent</p></li>\n<li><p>Set <code>FormBorderStyle</code> to None, <code>TopMost</code> to True, <code>ControlBox</code> to False, <code>ShowInTaskbar</code> to False, and <code>Text</code> to <code>String.Empty</code></p></li>\n</ul>\n\n<p>End result: A form that is completely invisible and that can be clicked through, while still letting the user interact with any controls placed on the form.</p>\n"}], "owner": {"reputation": 177, "user_id": 7089629, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b01fd55fd6cc7f3d5e373b45dcfc160?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/7089629/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544649616, "creation_date": 1544645356, "last_edit_date": 1544646535, "question_id": 53750621, "link": "https://stackoverflow.com/questions/53750621/how-to-make-a-window-partially-clickthrough", "title": "How to make a window partially clickthrough?", "body": "<p>I'm attempting to create a window with the following properties: </p>\n\n<ul>\n<li>Completely invisible except for a small, moving region</li>\n<li>Can be clicked through to windows below it, EXCEPT if you click in that small region</li>\n<li>Doesn't show up on the taskbar (although this one isn't as pressing at the moment)</li>\n</ul>\n\n<p>I can figure out how to make the WHOLE window transparent (partially or entirely) and click-through using <code>WS_EX_LAYERED</code> and <code>WS_EX_TRANSPARENT</code>, setting <code>TopMost</code>, and changing the opacity, but I can't figure out how to make these requirements true for the window EXCEPT for a limited part. Any idea where to start?</p>\n\n<p>EDIT: It's been pointed out to me that making a huge, invisible window is rather pointless, and it would be smarter to create a <em>small</em> window and use <code>FormBorderStyle.FixedToolWindow</code> and <code>ShowInTaskbar</code> to make it borderless and not present on the task bar, then move it around. I still need to figure out how to make the \"background\" of the window transparent and click-through, so I'm leaving this question up.</p>\n"}, {"tags": ["c#", "c++"], "comments": [{"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1544662192, "post_id": 53750602, "comment_id": 94359878, "body": "I suggest you not attempt interop on C++ <code>std</code> classes at all, unless there is no other way (such as changing your C++ code). The memory layout of <code>std::bitset</code> is not guaranteed at all. Different versions of the compiler might produce incompatible layouts of the class."}, {"owner": {"reputation": 1024, "user_id": 2556818, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9fa20d61c8736ada3483cbeb812aacb?s=128&d=identicon&r=PG", "display_name": "Noobie3001", "link": "https://stackoverflow.com/users/2556818/noobie3001"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1544690034, "post_id": 53750602, "comment_id": 94367713, "body": "Thanks for the info.  I don&#39;t own the C++ code and have no control over it."}], "answers": [{"comments": [{"owner": {"reputation": 1024, "user_id": 2556818, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9fa20d61c8736ada3483cbeb812aacb?s=128&d=identicon&r=PG", "display_name": "Noobie3001", "link": "https://stackoverflow.com/users/2556818/noobie3001"}, "edited": false, "score": 0, "creation_date": 1544661207, "post_id": 53751410, "comment_id": 94359682, "body": "Thanks.  I&#39;ve updated the question and found a solution based on your suggestion to use byte arrays to represent the bitset."}, {"owner": {"reputation": 11, "user_id": 10773476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AhL8t.png?s=128&g=1", "display_name": "Ed By Day", "link": "https://stackoverflow.com/users/10773476/ed-by-day"}, "reply_to_user": {"reputation": 1024, "user_id": 2556818, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9fa20d61c8736ada3483cbeb812aacb?s=128&d=identicon&r=PG", "display_name": "Noobie3001", "link": "https://stackoverflow.com/users/2556818/noobie3001"}, "edited": false, "score": 0, "creation_date": 1545176639, "post_id": 53751410, "comment_id": 94533509, "body": "I&#39;m glad this helped.  Interop is always kind of a drag."}], "tags": [], "owner": {"reputation": 11, "user_id": 10773476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AhL8t.png?s=128&g=1", "display_name": "Ed By Day", "link": "https://stackoverflow.com/users/10773476/ed-by-day"}, "is_accepted": false, "score": 1, "last_activity_date": 1544649086, "creation_date": 1544649086, "answer_id": 53751410, "question_id": 53750602, "link": "https://stackoverflow.com/questions/53750602/using-cs-marshal-ptrtostructure-on-a-c-struct-containing-two-bitsets/53751410#53751410", "title": "Using C#&#39;s Marshal.PtrToStructure on a C++ struct containing two bitsets", "body": "<p>We use interop a lot where I work, and though I haven't had to handle this situation, I suggest you treat your bitsets as byte arrays (<code>byte[]</code> in C#, I believe <code>char[]</code> in C++ unless you're aliasing <code>char</code>).  After all 512 bits is just 64 contiguous bytes.</p>\n\n<p>I admit I haven't given you a full explanation of the syntax, my apologies, but I hope this gets you pointed in the right direction.</p>\n\n<p>If your C# end needs to use them as <code>BitArray</code> instances, you could create properties on your struct there and just make them calculated, based on your <code>byte[]</code>s.  That does no harm for interop; the marshaller doesn't try to convert them across code boundaries in either direction.</p>\n"}], "owner": {"reputation": 1024, "user_id": 2556818, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9fa20d61c8736ada3483cbeb812aacb?s=128&d=identicon&r=PG", "display_name": "Noobie3001", "link": "https://stackoverflow.com/users/2556818/noobie3001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544660915, "creation_date": 1544645248, "last_edit_date": 1544660915, "question_id": 53750602, "link": "https://stackoverflow.com/questions/53750602/using-cs-marshal-ptrtostructure-on-a-c-struct-containing-two-bitsets", "title": "Using C#&#39;s Marshal.PtrToStructure on a C++ struct containing two bitsets", "body": "<p>I'm trying to use my existing code to map a C++ structure containing std::bitsets to a C# version of it.  </p>\n\n<p>My code works great on these simple objects:</p>\n\n<pre><code>// C++ struct\nstruct log_t \n{\n    uint16 current;\n    bool   complete[64];\n};\n\nC# struct\n[StructLayout(LayoutKind.Sequential)]\npublic struct Log\n{\n    public UInt16 current;\n    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 64, ArraySubType = UnmanagedType.Struct)]\n    public byte[] complete;\n}\n\n// Convert the C# struct back to bytes for the C++ app to use\nprivate byte[] GetObjectBytes(object obj)\n{\n    int size = Marshal.SizeOf(obj);\n    byte[] arr = new byte[size];\n    IntPtr ptr = Marshal.AllocHGlobal(size);\n    Marshal.StructureToPtr(obj, ptr, true);\n    Marshal.Copy(ptr, arr, 0, size);\n    Marshal.FreeHGlobal(ptr);\n    return arr;\n}\n</code></pre>\n\n<p>How do I map the following C++ structs to C# structs that contains two std::bitsets? I wish to use them in the same manner as above.</p>\n\n<pre><code>struct items_table\n{\n    std::bitset&lt;512&gt; keyList;\n    std::bitset&lt;512&gt; seenList;\n};\n\nstruct items\n{\n    std::array&lt;items_table, 7&gt; tables;\n};\n</code></pre>\n\n<p>SOLUTION</p>\n\n<p>I used byte[] arrays in C# to represent the bitsets in C++.  I then had to access each bit like this:</p>\n\n<pre><code>    private void AddItem(int ItemId, KeyItems keyitems)\n    {\n        decimal byteIndex = (ItemId % 512) / 8;\n        decimal bitInByteIndex = (ItemId % 512) % 8;\n        keyitems.tables[ItemId / 512].keyList[(int)byteIndex] |= (byte)(1 &lt;&lt; (byte)bitInByteIndex);\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1544645182, "post_id": 53750528, "comment_id": 94353846, "body": "You need to pass instances of the classes."}, {"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 0, "creation_date": 1544645356, "post_id": 53750528, "comment_id": 94353918, "body": "What exactly do you mean by use? Should this properties be also properties on third class ? Use this properties from class1 and 2 in the third class meaning access them and od operations with them but they would still be properties of class 1 and 2 ? Or something else?"}, {"owner": {"reputation": 11, "user_id": 10782722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93f36e938bd61a0d6f0dfd5de49c78?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10782722/michal"}, "edited": false, "score": 0, "creation_date": 1544646023, "post_id": 53750528, "comment_id": 94354207, "body": "In general I would like to call these variables (from class 1 and 2) - in the third class"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1544654410, "post_id": 53750528, "comment_id": 94357769, "body": "Please provide a sample of how you <i>want</i> third class to work (some non-compiling code basically). Its still unclear what you wan the behavior of that to be."}, {"owner": {"reputation": 11, "user_id": 10782722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93f36e938bd61a0d6f0dfd5de49c78?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10782722/michal"}, "edited": false, "score": 0, "creation_date": 1544726935, "post_id": 53750528, "comment_id": 94388398, "body": "Third class will be a test class with Selenium so it would be better to have option to call ale variables"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10782722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93f36e938bd61a0d6f0dfd5de49c78?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10782722/michal"}, "edited": false, "score": 0, "creation_date": 1544646322, "post_id": 53750781, "comment_id": 94354337, "body": "Thank you but It looks that it is necessary - to declare all variables as public (separately for all variables in class).  Is there any other option that will make that all variables from the class will be public ?"}, {"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 0, "creation_date": 1544646697, "post_id": 53750781, "comment_id": 94354481, "body": "Josu&#233; please don&#39;t use bold text style like this, especially when your statement is not literally correct. Also internal fields are accessible, as well as protected in some cases and a few other special cases also exist."}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "reply_to_user": {"reputation": 11, "user_id": 10782722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93f36e938bd61a0d6f0dfd5de49c78?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10782722/michal"}, "edited": false, "score": 0, "creation_date": 1544646870, "post_id": 53750781, "comment_id": 94354567, "body": "@Michal, nop, sorry, in C# you cant do that (in C++ you can). Instance fields of a class are private by default, unless you explicitly tell the compiler otherwise. The full set of visibility modifiers are private, protected, internal and public. You could declare the entity as struct, instead of class, in that case fields are public by default, but I strongly recommend you to not do that because structs are very different from classes: you cant inherit from them, they are copied by value (classes are copied by reference), etc"}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "reply_to_user": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 0, "creation_date": 1544647440, "post_id": 53750781, "comment_id": 94354797, "body": "@AlKepp are you talking about using Reflection?? if thats the case, then you are right, but the dude seems to be starting at learning C#. Besides, i think using Reflection for accesing private/protected fields is a violation of the OOP paradigm principles and must be used sparingly."}], "tags": [], "owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "is_accepted": false, "score": 2, "last_activity_date": 1544646114, "creation_date": 1544646114, "answer_id": 53750781, "question_id": 53750528, "link": "https://stackoverflow.com/questions/53750528/how-to-import-specified-class-or-varaibles-from-this-class-to-another-class/53750781#53750781", "title": "How to import specified class (or varaibles from this class) to another class?", "body": "<p>If you want to use those variables outside of First_class, they <strong>must</strong> be declared as <em>public</em> variables.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class First_class\n{\n    public static int variable_1 = 1; // This can be accessed from outside\n    public int variable_2 = 1; // This can be accessed from outside too\n    int variable_3 = 3; // This can not be accessed from outside\n    string variable_4 = \"test1\"; // This also can not be accessed from outside\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var o = new First_class();\n        Console.Writeline(First_class.variable_1);\n        Console.Writeline(o.variable_2);\n        Console.Writeline(o.variable_3); // Error: variable_3 is private\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": false, "score": 0, "last_activity_date": 1544647697, "last_edit_date": 1544647697, "creation_date": 1544647300, "answer_id": 53751021, "question_id": 53750528, "link": "https://stackoverflow.com/questions/53750528/how-to-import-specified-class-or-varaibles-from-this-class-to-another-class/53751021#53751021", "title": "How to import specified class (or varaibles from this class) to another class?", "body": "<p>1.Here you have two possibilities:</p>\n\n<p>a) To use all variables from First class in Third Class you have to make all of them public.</p>\n\n<p>b) You can make all of them static and public or protected but in such case, the Program class needs to inherit\nfrom the First class so it would look like:</p>\n\n<pre><code>public class First_class\n{\n    protected static int variable_1 = 1;\n    protected static int variable_2 = 1;\n    protected static int variable_3 = 3;\n    protected static string variable_4 = \"test1\";\n}\n\nclass Program: First_class\n{\n    static void Main(string[] args)\n    {\n        Console.WriteLine(variable_1);\n        Console.WriteLine(variable_2);\n        Console.WriteLine(variable_3);\n        Console.WriteLine(variable_4);\n    }\n }\n</code></pre>\n\n<p>2.The example:</p>\n\n<pre><code>class Second_class\n{\n    int variable_5 = 5;\n    int variable_6 = 6;\n    int variable_7 = 7;\n    public string varaible_8 = \"test_2\"; //only this field can be accessed\n}\n\npublic class First_class\n{\n    public int variable_1 = 1;\n    public int variable_2 = 1;\n    protected int variable_3 = 3; // can be accessed via inheritance\n    private string variable_4 = \"test1\"; // cannot be accessed due to privacy level\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var obj1 = new First_class();\n        Console.WriteLine(obj1.variable_1);\n        Console.WriteLine(obj1.variable_2);\n\n        var obj2 = new Second_class();\n        Console.WriteLine(obj2.varaible_8);\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10782722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c93f36e938bd61a0d6f0dfd5de49c78?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/10782722/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1544671348, "answer_count": 2, "score": 0, "last_activity_date": 1544647697, "creation_date": 1544644894, "question_id": 53750528, "link": "https://stackoverflow.com/questions/53750528/how-to-import-specified-class-or-varaibles-from-this-class-to-another-class", "closed_reason": "Needs details or clarity", "title": "How to import specified class (or varaibles from this class) to another class?", "body": "<p>I have 3 classes:\nFirst and second class - have variables as listed below:</p>\n\n<p><strong>First class</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Project_1\n{\n    class First_class\n    {\n        int variable_1 = 1;\n        int variable_2 = 1;\n        int variable_3 = 3;\n        string variable_4 = \"test1\"\n\n    }\n}\n</code></pre>\n\n<p><strong>Second class</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Project_1\n{\n    class Second_class\n    {\n        int variable_5 = 5;\n        int variable_6 = 6;\n        int variable_7 = 7;\n        string varaible_8 = \"test_2\"\n\n    }\n}\n</code></pre>\n\n<p><strong>Third class is empty:</strong>:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Project_1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li><p>What should I do to have possibility to use all variables from First class - in Third Class ?</p></li>\n<li><p>What should I do to have possibility to use only some variables from First class and only some variables from Second class - in Third Class ?</p></li>\n</ol>\n"}, {"tags": ["c#", "angularjs", "asp.net-mvc", "file-upload", "ng-file-upload"], "comments": [{"owner": {"reputation": 558, "user_id": 10722096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N5NilX_PtyM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j9-_XeOltZnf8NoX-55gsKVkiyQA/mo/photo.jpg?sz=128", "display_name": "Roma Ruzich", "link": "https://stackoverflow.com/users/10722096/roma-ruzich"}, "edited": false, "score": 0, "creation_date": 1544646864, "post_id": 53750524, "comment_id": 94354565, "body": "Look <a href=\"https://stackoverflow.com/questions/35286152/how-to-upload-file-using-angularjs-in-mvc\" title=\"how to upload file using angularjs in mvc\">stackoverflow.com/questions/35286152/&hellip;</a>"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1544655993, "post_id": 53750524, "comment_id": 94358312, "body": "See <a href=\"https://stackoverflow.com/questions/17063000/ng-model-for-input-type-file-with-directive-demo/43074638?r=SearchResults&amp;s=1|62.5618#43074638\">ng-model for <code>&lt;input type=\u201cfile\u201d&#47;&gt;</code> (with directive DEMO)</a>."}], "owner": {"reputation": 47, "user_id": 10391105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638ef6a11a754d99b2bcb00ba297c094?s=128&d=identicon&r=PG&f=1", "display_name": "TonySader", "link": "https://stackoverflow.com/users/10391105/tonysader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "closed_date": 1544656286, "answer_count": 0, "score": 0, "last_activity_date": 1544656327, "creation_date": 1544644861, "last_edit_date": 1544645299, "question_id": 53750524, "link": "https://stackoverflow.com/questions/53750524/upload-file-to-database-using-c-asp-net-and-angularjs", "closed_reason": "Duplicate", "title": "Upload file to database using c# asp.net and angularjs", "body": "<p>I am building a web application using c# and angularjs.  I am trying to find a way to upload a file with my form.</p>\n\n<pre><code>&lt;form name=\"myForm\" ng-if=\"!arabic\"&gt;\n &lt;label&gt;title &lt;/label&gt;\n &lt;input ng-model=\"Book.title \"&gt;\n &lt;button type=\"submit\" ng-click=\"AddBook(Book)\" &gt;Add&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This is a quick idea of my view. I have other inputs in my form and I want to make an input to upload a file.</p>\n\n<p>Here is my code.</p>\n\n<p>In the angularjs controller:</p>\n\n<pre><code>$scope.AddBook = function (book) {\n             viewModelHelper.apiPost('book/book_Add', book,\n                    function (result) {\n                        if (result.data.state == \"false\") { notify.notify(result.data.msg, \"warning\"); }\n                        else { notify.notify(result.data.msg, \"success\"); }\n\n                    });\n\n\n        }\n</code></pre>\n\n<p>This is my asp.net book controller:</p>\n\n<pre><code>BookModels obj = new BookModels();\n public JsonResult book_add(BookModels data)\n        {\n            status = obj.book_add(data);\n            return Json(new { msg = status[1], state = status[0] }, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n\n<p>And this is the code from BookModels:</p>\n\n<pre><code>public string title { get; set; }\n  public string[] book_add(BookModels data)\n        {\ntry\n            {\n                OpenCon();\n InitilizeProcedure(\"book_add\");\n   cmd.Parameters.AddWithValue(\"@title\", data.title);\n cmd.ExecuteNonQuery();\n status[0] = \"true\";\n                status[1] = \" Successfully Added\";\n                return status;\n            }\n            catch (Exception e)\n            {\n\n                status[0] = \"false\";\n                status[1] = e.Message.ToString();\n                return status;\n            }\n            finally\n            {\n                con.Close();\n            }\n        }\n</code></pre>\n\n<p>I want someone to help me add file-input to my form and insert it to database in this way. </p>\n"}, {"tags": ["c#", "puppeteer", "webautomation", "puppeteer-sharp"], "comments": [{"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1544704574, "post_id": 53750513, "comment_id": 94375628, "body": "I used that same code on a public site and it worked for me."}, {"owner": {"reputation": 11, "user_id": 1737740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fbf8a2d47d051e9815b35c03d87ce93?s=128&d=identicon&r=PG", "display_name": "RED-C0DE", "link": "https://stackoverflow.com/users/1737740/red-c0de"}, "reply_to_user": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1544807925, "post_id": 53750513, "comment_id": 94419910, "body": "@hardkoded but what&#39;s wrong with my code?! the page completely loaded but the event not fired! could u please post a sample code?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1737740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fbf8a2d47d051e9815b35c03d87ce93?s=128&d=identicon&r=PG", "display_name": "RED-C0DE", "link": "https://stackoverflow.com/users/1737740/red-c0de"}, "edited": false, "score": 0, "creation_date": 1544912548, "post_id": 53794402, "comment_id": 94445205, "body": "I don&#39;t understand!!! everything is the same but the images still loaded!! I used it in Windows Form (.net framework 4.7)  the only difference is:  <code>var browser = await Puppeteer.LaunchAsync(new LaunchOptions             {                 Headless = false,                 ExecutablePath = @&quot;c:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;             });</code>"}, {"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "reply_to_user": {"reputation": 11, "user_id": 1737740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fbf8a2d47d051e9815b35c03d87ce93?s=128&d=identicon&r=PG", "display_name": "RED-C0DE", "link": "https://stackoverflow.com/users/1737740/red-c0de"}, "edited": false, "score": 0, "creation_date": 1544969176, "post_id": 53794402, "comment_id": 94454420, "body": "Try removing your ExecutablePath argument and call <code>await new BrowserFetcher().DownloadAsync(BrowserFetcher.DefaultRevisio&zwnj;&#8203;n);</code> before. Maybe is your Chrome version"}, {"owner": {"reputation": 1183, "user_id": 869415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5afec58bedc1f72588c0ca631164b05?s=128&d=identicon&r=PG", "display_name": "Ray", "link": "https://stackoverflow.com/users/869415/ray"}, "edited": false, "score": 0, "creation_date": 1567780947, "post_id": 53794402, "comment_id": 102078392, "body": "I have the exact same issue.  Same code but yet images are still downloaded.  Did you ever figure this out?"}], "tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": false, "score": 3, "last_activity_date": 1544886120, "creation_date": 1544886120, "answer_id": 53794402, "question_id": 53750513, "link": "https://stackoverflow.com/questions/53750513/how-to-disable-images-in-puppeteer-sharp/53794402#53794402", "title": "how to disable images in puppeteer sharp?", "body": "<p>This code will load www.kayak.com with no images:</p>\n\n<pre><code>using (var browser = await Puppeteer.LaunchAsync(new LaunchOptions { Headless = false }))\nusing (var page = await browser.NewPageAsync())\n{\n    await page.SetRequestInterceptionAsync(true);\n\n    // disable images to download\n    page.Request += (sender, e) =&gt;\n    {\n        if (e.Request.ResourceType == ResourceType.Image)\n            e.Request.AbortAsync();\n        else\n            e.Request.ContinueAsync();\n    };\n    await page.GoToAsync(\"https://www.kayak.com\");\n    Console.ReadLine();\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1737740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fbf8a2d47d051e9815b35c03d87ce93?s=128&d=identicon&r=PG", "display_name": "RED-C0DE", "link": "https://stackoverflow.com/users/1737740/red-c0de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1607335345, "creation_date": 1544644802, "last_edit_date": 1607335345, "question_id": 53750513, "link": "https://stackoverflow.com/questions/53750513/how-to-disable-images-in-puppeteer-sharp", "title": "how to disable images in puppeteer sharp?", "body": "<p>im using this code to disable images in the page loading, but doesn't work:</p>\n\n<pre><code>_page = await _browser.NewPageAsync();\n\nawait _page.SetRequestInterceptionAsync(true);\n\n// disable images to download\n_page.Request += (sender, e) =&gt;\n{\n    if (e.Request.ResourceType == ResourceType.Image)\n        e.Request.AbortAsync();\n    else\n        e.Request.ContinueAsync();\n};\n</code></pre>\n\n<p>how can I do that?</p>\n"}, {"tags": ["c#", ".net", "datetime", "iis"], "comments": [{"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 3, "creation_date": 1544644986, "post_id": 53750458, "comment_id": 94353769, "body": "Why does this matter? Where is it causing a problem? I ask because, if you&#39;re using actual <code>DateTime</code> values, <b>there is no format</b>. It&#39;s a binary (not human-readable) value. You only see a format as a convenience in the bugger or when converting to a string. Of course, the SOAP calls are using a string value over the wire, but that&#39;s different from what either the wcf service or the asp.net application are doing internally."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1544645218, "post_id": 53750458, "comment_id": 94353863, "body": "<code>My WCF soap services uses the soapUi tool</code> &lt;= When serializing / deserializing <code>DateTime</code> values you should always ensure the library responsible for this is doing it using <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO8601</a> format. Other than that, like Joel Coehoorn already mentioned, you should always be using <code>DateTime</code> instances which do not have a format. This also holds true when working with persistence layers many of which also allow for a Date or DateTime type."}], "owner": {"reputation": 29, "user_id": 10400977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd28c73ddbfaaf7f49cd90debee44fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Rathore", "link": "https://stackoverflow.com/users/10400977/rahul-rathore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544644932, "creation_date": 1544644583, "last_edit_date": 1544644932, "question_id": 53750458, "link": "https://stackoverflow.com/questions/53750458/datetime-format-issue-in-c-for-multiple-application-on-same-iis-server", "title": "DateTime Format Issue in c# for multiple Application on same IIS server", "body": "<p>I deployed my ASP.Net web application and WCF web service to the same default web site on the same IIS server with the same application pool. When I use the web application I see the <code>DateTime.UtcNow</code> value in <code>dd/mm/yyyy</code> format. When I use the WCF web service I see the <code>DateTime.UtcNow</code> value in <code>mm/dd/yyyy</code> format.</p>\n\n<p>How can I make the two agree on the same format? Ideally it should get the local machine time format, which is <code>mm/dd/yyyy</code>. Is there any kind of settings is provided in the web.config file or machine config file or IIS settings so that all the application are able to fetch the correct date time format?  </p>\n\n<p>My WCF soap services uses the soapUi tool.</p>\n\n<p>Below are the observed DateTime formats for each application:</p>\n\n<pre>\nmain App: dd/mm/yyyy\nwcf webservices: mm/dd/yyyy\nlocal machine : mm/dd/yyyy\napplicationPool:  asp.net4.5\n</pre>\n"}, {"tags": ["c#", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1544644638, "post_id": 53750403, "comment_id": 94353614, "body": "You came to the same answer as me with different documentation. +1 The OP could use <code>Transient</code> as well instead of <code>singleton</code>, but that&#39;s up to them."}], "tags": [], "owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "is_accepted": true, "score": 3, "last_activity_date": 1558866963, "last_edit_date": 1558866963, "creation_date": 1544644338, "answer_id": 53750403, "question_id": 53750332, "link": "https://stackoverflow.com/questions/53750332/entity-framework-core-disposed-when-trying-to-run-2nd-query/53750403#53750403", "title": "Entity Framework Core - disposed when trying to run 2nd Query", "body": "<p>I think it may have to do with how you're registering it. Try registering it with <code>AddSingleton</code> instead of <code>AddScoped</code></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2#service-lifetimes-and-registration-options\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2#service-lifetimes-and-registration-options</a></p>\n\n<p><strong>Scoped</strong></p>\n\n<p>Scoped lifetime services are created once per request.</p>\n\n<p>Warning</p>\n\n<p>When using a scoped service in a middleware, inject the service into the Invoke or <code>InvokeAsync</code> method. Don't inject via constructor injection because it forces the service to behave like a singleton. For more information, see ASP.NET Core Middleware.</p>\n\n<p><strong>Singleton</strong></p>\n\n<p>Singleton lifetime services are created the first time they're requested (or when <code>ConfigureServices</code> is run and an instance is specified with the service registration). Every subsequent request uses the same instance. If the app requires singleton behaviour, allowing the service container to manage the service's lifetime is recommended. Don't implement the singleton design pattern and provide user code to manage the object's lifetime in the class.</p>\n\n<p>Warning</p>\n\n<p>It's dangerous to resolve a scoped service from a singleton. It may cause the service to have incorrect state when processing subsequent requests.</p>\n"}, {"comments": [{"owner": {"reputation": 1079, "user_id": 2915851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8a61564ebac683a8e74510cc2d12ee?s=128&d=identicon&r=PG", "display_name": "veuncent", "link": "https://stackoverflow.com/users/2915851/veuncent"}, "edited": false, "score": 0, "creation_date": 1590769641, "post_id": 53750440, "comment_id": 109816278, "body": "I&#39;m not sure if this is true. The lifetime of a single request is not the same as a single call to the database."}], "tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1597754905, "last_edit_date": 1597754905, "creation_date": 1544644493, "answer_id": 53750440, "question_id": 53750332, "link": "https://stackoverflow.com/questions/53750332/entity-framework-core-disposed-when-trying-to-run-2nd-query/53750440#53750440", "title": "Entity Framework Core - disposed when trying to run 2nd Query", "body": "<p><code>.AddScoped</code> will dispose after lifetime of the request, try changing to <code>singleton</code> or <code>transient</code>:</p>\n<p>Please see documentation:\n<a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2</a></p>\n<p>At this section:</p>\n<blockquote>\n<p>In the sample app, the IMyDependency service is registered with the\nconcrete type MyDependency. The registration scopes the service\nlifetime to the lifetime of a single request. Service lifetimes are\ndescribed later in this topic.</p>\n</blockquote>\n<p>Warning</p>\n<blockquote>\n<p>When using a scoped service in a middleware, inject the service into\nthe Invoke or InvokeAsync method. Don't inject via constructor\ninjection because it forces the service to behave like a singleton.\nFor more information, see ASP.NET Core Middleware.</p>\n</blockquote>\n"}], "owner": {"reputation": 61, "user_id": 769743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae5d91765ba12e04c0b51460261ec25?s=128&d=identicon&r=PG", "display_name": "simon Whale", "link": "https://stackoverflow.com/users/769743/simon-whale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4736, "favorite_count": 1, "accepted_answer_id": 53750403, "answer_count": 2, "score": 3, "last_activity_date": 1597754905, "creation_date": 1544643984, "last_edit_date": 1544649564, "question_id": 53750332, "link": "https://stackoverflow.com/questions/53750332/entity-framework-core-disposed-when-trying-to-run-2nd-query", "title": "Entity Framework Core - disposed when trying to run 2nd Query", "body": "<p>I have an issue with a database context being disposed. I have set up the databases like the below in the Configure services method. The code has been simplified to hopefully make it easier to read.</p>\n\n<pre><code>public void ConfigureServices(IServicesCollection services)\n{\n      Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"Database1\")));\n      Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"Database2\")));\n      Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"Database3\")));\n      Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"Database4\")));\n\n      Services.AddScoped&lt;IQueryService1, ConcreteService1&gt;();\n      Services.AddScoped&lt;IQueryService1, ConcreteService2&gt;();\n      Services.AddScoped&lt;IQueryService1, ConcreteService3&gt;();\n      Services.AddScoped&lt;IQueryService1, ConcreteService4&gt;();\n}\n</code></pre>\n\n<p>Now in one of the controllers I inject the relevant services that are required.</p>\n\n<pre><code>[Produces(\"application/json\")]\n[Route(\"api/[controller]/[action]\npublic class DigitalFinesController : Controller\n{\n      private readonly IQueryService1 _Service1;\n\n      public DigitalFinesController(IConfiguration configuration, IQueryServices1 QueryService1)\n      {\n         _Service1 = QueryService1;\n      }\n\n      [Authorize]\n      [HttpPost]\n      [ActionName(\"SubmitFine\")]\n      [ProducesResponseType(200)]\n      [ProducesResponseType(401)]\n      public async Task&lt;IActionResult&gt; SubmitFine([FromBody] Models.DigitalFine fine)\n      {\n         //This is a simple version of my issue\n         var vehicles = _Service1.Vehicles.FirstOrDefault(p=&gt; p.vrm == \"OX7 DFG\");\n         if(vehicle == null)\n         {\n            return BadRequest(\"Vehicle is missing\");\n         }\n\n         var fleet = _Service1.Fleets.FirstOrDefault(p=&gt; p.Code = \"MyCode\");\n      }\n}\n</code></pre>\n\n<p>And once I get to the second query I get the following exception</p>\n\n<blockquote>\n  <p>System.ObjectDisposedException: 'Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.</p>\n</blockquote>\n\n<p>And I am stumped to understand why this is happening. Can anyone please give me a pointer to fix this?</p>\n\n<p>Many thanks\nSimon</p>\n"}, {"tags": ["c#", "wcf", "ssl", "certificate", "wshttpbinding"], "comments": [{"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544646483, "post_id": 53750262, "comment_id": 94354397, "body": "If you double click on the cert in MMC does it give you any error messages under the Certificate Information header? Are you able to browse the service  from your client in a browser? If that is a wildcard cert (*.mydomain) then you have to access your service from from a url that has the domain, you can emulate that locally by messing around with your hosts file."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544647901, "post_id": 53750262, "comment_id": 94355003, "body": "@Popo cert status is &quot;This certificate is OK.&quot; and I checked it via C# in another app if its valid. Cert is verified for local computer. I am able to browse service from client browser. It is not wildcart cert it is exactly without www just &quot;mydomain.com&quot;."}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544652252, "post_id": 53750262, "comment_id": 94356901, "body": "looks like you may need to update your wsHttpBinding on both the host and client to use <code>mode=&quot;TransportWithMessageCredential&quot;</code> since your assigning the cert in IIS it will expect it to be HTTPS. You may also need to assign the cert in the client for the message. Your using a customUserNamePasswordValidator and a cert for credentials based on what your service behavior shows."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544652518, "post_id": 53750262, "comment_id": 94357006, "body": "@Popo ok I will try to use that mode. Anyway I dont use customUserNamePasswordValidator.. that&#39;s different behavior!"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544653237, "post_id": 53750262, "comment_id": 94357303, "body": "ah, your right, in that case, you probably just need to use something like <code>&lt;security mode=&quot;Transport&quot;&gt;                          &lt;message clientCredentialType=&quot;None&quot; &#47;&gt;                     &lt;&#47;security&gt;</code>"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544653829, "post_id": 53750262, "comment_id": 94357533, "body": "@Popo ok I set it like this. I also changed due Transport mode client endpoind to use &quot;https&quot; but I get dunno why error &quot;The provided URI scheme &#39;https&#39; is invalid; expected &#39;http&#39;&quot;"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544654281, "post_id": 53750262, "comment_id": 94357717, "body": "did you assign the cert to an https binding in IIS for your service, or are just trying to go over http and use the cert as an identity? <code>mode=&quot;Transport&quot;</code> is for https, <code>&lt;security mode=&quot;None&quot; &#47;&gt;</code> no security and over http. Your bindings have to match for both client and host."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544654867, "post_id": 53750262, "comment_id": 94357940, "body": "@Popo yes I did assign it in IIS. Double checked that. I use security mode Trasnport as you mentioned. Bindings are matching.. I will edit my main post to show you my actual bindings and give u screen from IIS"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544655882, "post_id": 53750262, "comment_id": 94358270, "body": "are you still getting the same error?"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544656663, "post_id": 53750262, "comment_id": 94358520, "body": "@Pepo yes it keeping saying that https is invalid"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544657882, "post_id": 53750262, "comment_id": 94358879, "body": "you are missing the  <code>bindingConfiguration=&quot;WSHttpBinding_IMyService&quot;</code> in your client config. you can browse the service though right?"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544696271, "post_id": 53750262, "comment_id": 94371083, "body": "Yea I could browse it. I added missing bindingConfiguration and now I am getting &quot;Could not establish trust relationship for the SSL/TLS secure channel with authority &quot; with innerException &quot;AuthenticationException: The remote certificate is invalid according to the validation procedure&quot;. I guess something is wrong with certificate"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544696397, "post_id": 53750262, "comment_id": 94371153, "body": "I guess its problem because certificate is valid for DNS=mydomain.com not to localhost."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544697324, "post_id": 53750262, "comment_id": 94371678, "body": "Well I think I made it all wrong. I want to use wsHttpBinding but I should not use &lt;identity&gt;&lt;dns&gt; because I want to use IP address instead dns because I cant run in browser <a href=\"https://mydomain:8001\" rel=\"nofollow noreferrer\">mydomain:8001</a>. What should I use instead dns certificate for internal purposes?"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544698949, "post_id": 53750262, "comment_id": 94372611, "body": "I should go TCP binding if my scenario is WCF to service application in same internal network. Is that correct?"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544715997, "post_id": 53750262, "comment_id": 94382833, "body": "netTcpBinding would be fine for what you are trying to do."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544718135, "post_id": 53750262, "comment_id": 94384074, "body": "Okay.. anyway I still need certificate or dont? If service is going to be internal can I use self-signed certificate? And how certificate works without DNS? I would like to use IP"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544720998, "post_id": 53750262, "comment_id": 94385563, "body": "You might want to review this article: <a href=\"http://dotnetmentors.com/wcf/when-to-use-which-binding-in-wcf.aspx\" rel=\"nofollow noreferrer\">dotnetmentors.com/wcf/when-to-use-which-binding-in-wcf.aspx</a>  and this SO answer: <a href=\"https://stackoverflow.com/questions/2536522/wcf-nettcpbinding-security-how-does-it-work\" title=\"wcf nettcpbinding security how does it work\">stackoverflow.com/questions/2536522/&hellip;</a>"}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544727168, "post_id": 53750262, "comment_id": 94388494, "body": "I read it, discovered I can use Windows clientCredentialType. Works perfectly on localhost but both WCF and client are run by same user. Can I allow WCF (user A) to get call from Client (user B)?"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544727831, "post_id": 53750262, "comment_id": 94388779, "body": "I am not sure how to do that locally, we use a dev server to set up/deploy our services/sites for testing."}, {"owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "reply_to_user": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544730976, "post_id": 53750262, "comment_id": 94390169, "body": "Oh solved by using wcfClient.ClientCredentials.Windows.ClientCredential.UserNam&zwnj;&#8203;e. If u want to write post as answer I will accept it :) Many thanks for help!"}, {"owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "edited": false, "score": 0, "creation_date": 1544742004, "post_id": 53750262, "comment_id": 94394383, "body": "glad to hear you got if figured out, hope I did not lead you too far astray. I will keep a note about  <code>wcfClient.ClientCredentials.Windows.ClientCredential.UserNam&zwnj;&#8203;e</code> in case I have to do the same in the future."}], "answers": [{"tags": [], "owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "is_accepted": true, "score": 1, "last_activity_date": 1544741920, "creation_date": 1544741920, "answer_id": 53771264, "question_id": 53750262, "link": "https://stackoverflow.com/questions/53750262/wcf-soap-security-negotiation-after-changing-certificate/53771264#53771264", "title": "WCF SOAP security negotiation after changing certificate", "body": "<p>Here a few resources to review to help determine if NetTcpBinding would work for you, it sounds like it would since you are consuming the web service internally.</p>\n\n<p><a href=\"http://dotnetmentors.com/wcf/when-to-use-which-binding-in-wcf.aspx\" rel=\"nofollow noreferrer\">NetTcpBinding</a>\nnetTcpBinding is best when WCF service and its clients are in intranet infrastructure. As it supports only TCP protocol and not HTTP, so service cannot be accessed over internet.</p>\n\n<p>This is secure binding is used to send binary encoded SOAP messages with in intranet computers. It supports reliability, transaction and security. If your using netTcpBinding and host WCF service in IIS, you need to make some settings on system and IIS <a href=\"http://dotnetmentors.com/hosting-wcf-service-with-nettcpbinding-or-netnamedpipebinding-in-iis.aspx\" rel=\"nofollow noreferrer\">this article</a> will help you for required settings.</p>\n\n<p>A few tips for troubleshooting related issues:</p>\n\n<ul>\n<li>Double click on the cert in MMC does it give you any error messages\nunder the Certificate Information header?</li>\n<li>Are you able to browse the service from your client in a browser?</li>\n<li>Is the cert assigned in IIS </li>\n<li>Do you have the correct binding</li>\n<li>Is the client using the same binding as the service host?</li>\n<li>Does your endpoint reference the correct binding and service behavior</li>\n</ul>\n\n<p>Additional helpful information about NetTcpBinding:</p>\n\n<p><a href=\"https://stackoverflow.com/a/3375161/2016162\">https://stackoverflow.com/a/3375161/2016162</a></p>\n"}], "owner": {"reputation": 905, "user_id": 1085907, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/99c22393ddead409e57746d7ec0b73a7?s=128&d=identicon&r=PG", "display_name": "user1085907", "link": "https://stackoverflow.com/users/1085907/user1085907"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 53771264, "answer_count": 1, "score": 1, "last_activity_date": 1544741920, "creation_date": 1544643691, "last_edit_date": 1544655096, "question_id": 53750262, "link": "https://stackoverflow.com/questions/53750262/wcf-soap-security-negotiation-after-changing-certificate", "title": "WCF SOAP security negotiation after changing certificate", "body": "<p>After I changed self-signed certificate \"localhost\" (DNS=localhost) to \"Cloudflare Origin Certificate\" (dns=mydomain.com) I get following error:</p>\n\n<pre><code>SOAP security negotiation with 'http://localhost:8000/MyService.svc' for target 'http://localhost:8000/MyService.svc' failed. See inner exception for more details.\n</code></pre>\n\n<p>Inner exception:</p>\n\n<pre><code>Either the client credential was invalid or there was an error collecting the client credentials by the SSPI.\n</code></pre>\n\n<p>What I noticed is after I start up client I get window to enter credentials. Dunno why.</p>\n\n<p>What I did exactly:</p>\n\n<ol>\n<li>Generated certificate request in IIS</li>\n<li>Completed certificate on CloudFlare</li>\n<li>Received key pasted into text file with CloudFlare Root CA</li>\n<li>Completed certificate in IIS (Personal, LocalMachine)</li>\n<li>In MMC added to Trusted Publishers CloudFlare Root CA (LocalMachine)</li>\n<li>For WCF website changed SSL certificate to CloudFlare</li>\n<li>Changed in client  value from \"localhost\" to \"mydomain.com\"</li>\n<li>Changed in server  value from \"localhost\" to \"mydomain.com\"</li>\n<li>Changed findValue for </li>\n</ol>\n\n<p>WCF web.config</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;client /&gt;\n    &lt;behaviors&gt;\n      &lt;serviceBehaviors&gt;\n        &lt;behavior name=\"authBehavior\"&gt;\n          &lt;serviceAuthorization principalPermissionMode=\"UseWindowsGroups\"&gt;\n            &lt;authorizationPolicies&gt;\n              &lt;add policyType=\"WCF.Common.AuthorizationPolicy, WCF\" /&gt;\n            &lt;/authorizationPolicies&gt;\n          &lt;/serviceAuthorization&gt;\n          &lt;serviceCredentials&gt;\n            &lt;userNameAuthentication userNamePasswordValidationMode=\"Custom\" customUserNamePasswordValidatorType=\"WCF.Common.IdentityValidator, WCF\" /&gt;\n            &lt;serviceCertificate findValue=\"CloudFlare Origin Certificate\" storeLocation=\"LocalMachine\" x509FindType=\"FindBySubjectName\" storeName=\"My\" /&gt;\n          &lt;/serviceCredentials&gt;\n          &lt;serviceMetadata httpGetEnabled=\"true\" httpsGetEnabled=\"true\" /&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"true\" /&gt;\n        &lt;/behavior&gt;\n        &lt;behavior name=\"svcBehavior\"&gt;\n          &lt;serviceMetadata httpGetEnabled=\"true\" httpsGetEnabled=\"true\" /&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"true\" /&gt;\n        &lt;/behavior&gt;\n        &lt;behavior name=\"\"&gt;\n          &lt;serviceMetadata httpGetEnabled=\"true\" httpsGetEnabled=\"true\" /&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"true\" /&gt;\n        &lt;/behavior&gt;\n      &lt;/serviceBehaviors&gt;\n    &lt;/behaviors&gt;\n    &lt;bindings&gt;\n      &lt;basicHttpsBinding&gt;\n        &lt;binding name=\"basicHttpsEndpointBinding\" maxReceivedMessageSize=\"1073741824\" maxBufferSize=\"1073741824\" maxBufferPoolSize=\"1073741824\"&gt;\n          &lt;readerQuotas maxDepth=\"32\" maxArrayLength=\"1073741824\" maxStringContentLength=\"1073741824\" /&gt;\n          &lt;security mode=\"Transport\"&gt;\n            &lt;transport clientCredentialType=\"Windows\" /&gt;\n          &lt;/security&gt;\n        &lt;/binding&gt;\n      &lt;/basicHttpsBinding&gt;\n      &lt;wsHttpBinding&gt;\n        &lt;binding name=\"wsHttpEndpointBinding\"&gt;&lt;/binding&gt;\n      &lt;/wsHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;services&gt;\n      &lt;service name=\"WCF.MyService\" behaviorConfiguration=\"svcBehavior\"&gt;\n        &lt;endpoint address=\"\" binding=\"wsHttpBinding\" bindingConfiguration=\"wsHttpEndpointBinding\" contract=\"WCF.IMyService\"&gt;\n          &lt;identity&gt;\n            &lt;dns value=\"mydomain.com\" /&gt;\n          &lt;/identity&gt;\n        &lt;/endpoint&gt;\n        &lt;endpoint address=\"mex\" binding=\"mexHttpBinding\" contract=\"IMetadataExchange\" /&gt;\n      &lt;/service&gt;\n    &lt;/services&gt;\n    &lt;serviceHostingEnvironment aspNetCompatibilityEnabled=\"true\" multipleSiteBindingsEnabled=\"true\" /&gt;\n  &lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>Client app.config</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n        &lt;bindings&gt;\n            &lt;wsHttpBinding&gt;\n                &lt;binding name=\"MessageAndUserName\"&gt;\n                    &lt;security mode=\"Message\"&gt;\n                        &lt;message clientCredentialType=\"UserName\" /&gt;\n                    &lt;/security&gt;\n                &lt;/binding&gt;\n                &lt;binding name=\"WSHttpBinding_IMyService\" /&gt;\n            &lt;/wsHttpBinding&gt;\n        &lt;/bindings&gt;\n        &lt;client&gt;\n            &lt;endpoint address=\"http://localhost:8777/MyService.svc\"\n                binding=\"wsHttpBinding\" contract=\"WCF.IMyService\"\n                name=\"WSHttpBinding_IMyService\"&gt;\n                &lt;identity&gt;\n                    &lt;dns value=\"mydomain.com\" /&gt;\n                &lt;/identity&gt;\n            &lt;/endpoint&gt;\n        &lt;/client&gt;\n\n      &lt;behaviors&gt;  \n        &lt;serviceBehaviors&gt;  \n          &lt;behavior name=\"DefaultServiceBehavior\"&gt;  \n            &lt;serviceMetadata httpGetEnabled=\"true\" /&gt;  \n            &lt;serviceDebug includeExceptionDetailInFaults=\"true\" /&gt;  \n          &lt;/behavior&gt;  \n        &lt;/serviceBehaviors&gt;  \n      &lt;/behaviors&gt;  \n    &lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>I host addional services in my WCF and also I host some services in Client but none of them are needed.</p>\n\n<p>I use wsHttpBindings between WCF and Client. What can I do to get rid of this error?</p>\n\n<p>What is purpose of ussing wsHttpBinding etc...: Allow only this Client to communicate with MyService.. no one else will be allowed. Client app will run on multiple computers in domain. Do you suggest ussing different approach?</p>\n\n<p>Thanks for any idea!</p>\n\n<p>EDIT: Computer with error is not running in domain. Neither work for computer in domain :/</p>\n\n<p>EDIT2: Security mode transport\nWCF web.config bindings:</p>\n\n<pre><code>&lt;wsHttpBinding&gt;\n        &lt;binding name=\"wsHttpEndpointBinding\"&gt;\n          &lt;security mode=\"Transport\"&gt;\n            &lt;message clientCredentialType=\"None\" /&gt;\n          &lt;/security&gt;\n        &lt;/binding&gt;\n      &lt;/wsHttpBinding&gt;\n</code></pre>\n\n<p>Client side config bindings:</p>\n\n<pre><code>&lt;bindings&gt;\n            &lt;wsHttpBinding&gt;\n              &lt;binding name=\"WSHttpBinding_IMyService\"&gt;\n                &lt;security mode=\"Transport\"&gt;\n                  &lt;message clientCredentialType=\"None\" /&gt;\n                &lt;/security&gt;\n              &lt;/binding&gt;\n            &lt;/wsHttpBinding&gt;\n        &lt;/bindings&gt;\n        &lt;client&gt;\n            &lt;endpoint address=\"https://localhost:8001/MyService.svc\"\n                binding=\"wsHttpBinding\" contract=\"WCF.IMyService\"\n                name=\"WSHttpBinding_IMyService\"&gt;\n                &lt;identity&gt;\n                    &lt;dns value=\"mydomain.com\" /&gt;\n                &lt;/identity&gt;\n            &lt;/endpoint&gt;\n        &lt;/client&gt;\n</code></pre>\n\n<p>IIS:\n<a href=\"https://i.stack.imgur.com/grIby.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/grIby.png\" alt=\"Certificate\"></a></p>\n"}, {"tags": ["c#", "json", "neo4j", "cypher"], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 8804400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1543579089043023/picture?type=large", "display_name": "Banned007", "link": "https://stackoverflow.com/users/8804400/banned007"}, "is_accepted": false, "score": 0, "last_activity_date": 1568070639, "creation_date": 1568070639, "answer_id": 57862172, "question_id": 53750229, "link": "https://stackoverflow.com/questions/53750229/how-can-i-get-json-from-neo4j-using-neo4j-driver/57862172#57862172", "title": "How Can I get JSON from Neo4j using Neo4j.Driver", "body": "<p>You could use a JSON serializer/deserializer library such as <code>Newtosoft.Json</code>, or the native <code>System.Web.Script.Serialization.JavaScriptSerializer</code> class, using it as</p>\n\n<pre><code>string jsonData = new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(record)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>string jsonData = Newtonsoft.Json.JsonConvert.SerializeObject(record)\n</code></pre>\n"}], "owner": {"reputation": 1013, "user_id": 7536864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cabd23035f69f6d95474f5396cd13e3?s=128&d=identicon&r=PG&f=1", "display_name": "Gy&#246;rgy Guly&#225;s", "link": "https://stackoverflow.com/users/7536864/gy%c3%b6rgy-guly%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568070639, "creation_date": 1544643524, "last_edit_date": 1544681590, "question_id": 53750229, "link": "https://stackoverflow.com/questions/53750229/how-can-i-get-json-from-neo4j-using-neo4j-driver", "title": "How Can I get JSON from Neo4j using Neo4j.Driver", "body": "<p>I use the <code>Neo4j.Driver</code> nuget package, and I want my result as a JSON object.</p>\n\n<p>When I use The Neo4j Console, I can see the result in JSON format. And I can  build a Cyper query which returns in it, But How Can I get in C#? Here is the Query:</p>\n\n<pre><code> MATCH (p:Person) \n WHERE p.PersonId = '12345'\nRETURN p AS PersonData\n</code></pre>\n\n<p>It works well, but when I use this command in <code>session.Run()</code> the return value is a <code>IStatementResult</code> which is contains <code>IRecord</code> or list of <code>IRecord</code>.</p>\n\n<p>I Can read all element from record like this:</p>\n\n<pre><code>string id = record[\"PersonId\"];\nstring name = record[\"Name\"];\n</code></pre>\n\n<p>But I want it in JSON :)</p>\n\n<pre><code> string jsonData = MagicFunction_WhichReturn_WithJSON( record );\n</code></pre>\n\n<p>It must be possible, beacuse some post are write about it like <a href=\"https://community.neo4j.com/t/query-neo4j-to-return-json-data-using-the-c-driver/1961\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://stackoverflow.com/questions/24751399/how-to-get-result-from-cypher-query-in-json-using-neo4j-c-sharp-client\">this</a>. Just a mechanism is not described.</p>\n\n<p>I feel it must be very simple solution, Just I did not found it :(</p>\n"}, {"tags": ["c#", "uwp", "hololens", "background-audio"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 3662481, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/bec6e48916c7c04450b27562bc672659?s=128&d=identicon&r=PG&f=1", "display_name": "Sabarish", "link": "https://stackoverflow.com/users/3662481/sabarish"}, "is_accepted": false, "score": 1, "last_activity_date": 1544722665, "creation_date": 1544722665, "answer_id": 53767327, "question_id": 53750227, "link": "https://stackoverflow.com/questions/53750227/uwp-background-audio-not-working-when-switched-to-holographic-mode/53767327#53767327", "title": "UWP Background audio not working when switched to Holographic mode", "body": "<p>Found out the <code>MediaPlayer.AudioCategory</code> was not set to Media. This was restricting audio to override the gamemedia streams from the holographic app. </p>\n\n<p>This SOLVED the problem !</p>\n"}], "owner": {"reputation": 126, "user_id": 3662481, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/bec6e48916c7c04450b27562bc672659?s=128&d=identicon&r=PG&f=1", "display_name": "Sabarish", "link": "https://stackoverflow.com/users/3662481/sabarish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544722665, "creation_date": 1544643500, "last_edit_date": 1544671067, "question_id": 53750227, "link": "https://stackoverflow.com/questions/53750227/uwp-background-audio-not-working-when-switched-to-holographic-mode", "title": "UWP Background audio not working when switched to Holographic mode", "body": "<p>I'm quite new to UWP. The app I'm designing in a tester app (2D) that launches a Holographic App (using deep link - LaunchUriAsync) followed by some audio playback. The audio playback mechanism is done through a background task. I have followed the essential documentation from microsoft but it appears the audio won't play when I am in holographic view. If the replace the holographic app with a another 2D UWP app, I can hear the audio. </p>\n\n<p>Snippet for background task. </p>\n\n<pre><code>protected async override void OnBackgroundActivated(BackgroundActivatedEventArgs args)\n{\n\n    base.OnBackgroundActivated(args);\n\n    IBackgroundTaskInstance taskInstance = args.TaskInstance;\n\n    System.Diagnostics.Debug.WriteLine(\"Background activated Requested...\");\n\n    await Task.Delay(10000);\n    MediaPlayer player = new MediaPlayer();\n    player.AutoPlay = true;\n    SystemMediaTransportControls systemMediaTransportControls = player.SystemMediaTransportControls;\n    systemMediaTransportControls.IsPlayEnabled = true;\n\n\n    var synth = new Windows.Media.SpeechSynthesis.SpeechSynthesizer();\n    Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream = await synth.SynthesizeTextToStreamAsync(\"Play video\");\n    player.SetStreamSource(stream);\n    player.Play(); // audio playback doesn't work in holographic mode\n\n}\n</code></pre>\n\n<p>Here is most of the code. I'm willing to share the whole project as well. </p>\n"}, {"tags": ["c#", "image", "encoding", "binary", "byte"], "comments": [{"owner": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544643843, "post_id": 53750124, "comment_id": 94353266, "body": "When you say &quot;converting a 2bpp greyscale image to compressed byte array&quot;, you mean you expect each pixel to take up two bits, and therefore each byte in your output should contain 4 pixels, yes?  So &quot;packed&quot; rather than &quot;compressed&quot;?"}, {"owner": {"reputation": 140, "user_id": 5863274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38ac9651bbbdccc321d92840325afbb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowblitz16", "link": "https://stackoverflow.com/users/5863274/shadowblitz16"}, "reply_to_user": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544671513, "post_id": 53750124, "comment_id": 94361848, "body": "sorry yes, each pixel holds a value from 0-3 ceilinged to a 8x8 tile grid. so if the image was 12x8 it would fill empty zero&#39;s until it was 16x8"}, {"owner": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544694228, "post_id": 53750124, "comment_id": 94369884, "body": "Hmm, something still doesn&#39;t make sense.  Your source image is 16x8 pixels, with the Ceiling applied to <code>imageHMax</code> it&#39;s effectively 16x16 pixels which is 256 pixels.  Even packing them at 4 pixels per byte, that&#39;s still 64 bytes in the expected output as I see it, not the 4 you have posted.  Are you sure <code>byteCount</code> is correct?  If <code>imageDepth</code> is in bits, to convert to bytes you should divide by 8, not 256."}, {"owner": {"reputation": 140, "user_id": 5863274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38ac9651bbbdccc321d92840325afbb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowblitz16", "link": "https://stackoverflow.com/users/5863274/shadowblitz16"}, "reply_to_user": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544737070, "post_id": 53750124, "comment_id": 94392725, "body": "oh I didn&#39;t realize i was ceiling it by a 16x16 grid it was supposed to be a 8x8 grid. also imageDepth is the number of colors per pixel not the bits per pixel."}, {"owner": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544737542, "post_id": 53750124, "comment_id": 94392933, "body": "Even if the grid is 8x8, you still have a source image of 16x8 pixels = 128 pixels, at 2 bits per pixel, that&#39;s 256 bits of data in your source.  The output you have posted is only 32 bits of data (4 bytes at 8 bits per byte), and you haven&#39;t explained what your method is for squeezing 256 bits of data into 32 bits.  If your intention is to create a packed, byte array of the raw bitmap data, then your code isn&#39;t far off that, except that it contains several errors.  Could you edit your question to explain what you&#39;re trying to achieve a little more?"}, {"owner": {"reputation": 140, "user_id": 5863274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38ac9651bbbdccc321d92840325afbb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowblitz16", "link": "https://stackoverflow.com/users/5863274/shadowblitz16"}, "reply_to_user": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544740240, "post_id": 53750124, "comment_id": 94393813, "body": "I edited the question a bit more to explain what i want to do. hopefully its more clear."}, {"owner": {"reputation": 140, "user_id": 5863274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38ac9651bbbdccc321d92840325afbb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowblitz16", "link": "https://stackoverflow.com/users/5863274/shadowblitz16"}, "reply_to_user": {"reputation": 1191, "user_id": 8915494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SxkZ189HRPU/AAAAAAAAAAI/AAAAAAAAACA/TARA_2EOMX8/photo.jpg?sz=128", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8915494/trevor"}, "edited": false, "score": 0, "creation_date": 1544754823, "post_id": 53750124, "comment_id": 94397279, "body": "@Travor oh i think i see what your saying. I think your math is wrong 2 bits can store a value of 4 while the rest of the bits are used for the pixel position of the current tile. idk though i&#39;m not quite sure if my math is correct either."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1552312120, "post_id": 53750124, "comment_id": 96949402, "body": "I checked that PNG&#39;s header chunk, and it&#39;s RGB (<a href=\"http://www.libpng.org/pub/png/spec/1.2/PNG-Chunks.html\" rel=\"nofollow noreferrer\">color type 2</a>), not 2bpp greyscale."}], "owner": {"reputation": 140, "user_id": 5863274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/38ac9651bbbdccc321d92840325afbb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowblitz16", "link": "https://stackoverflow.com/users/5863274/shadowblitz16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544740709, "creation_date": 1544643128, "last_edit_date": 1544740709, "question_id": 53750124, "link": "https://stackoverflow.com/questions/53750124/convert-2bpp-greyscale-image-to-compressed-byte-array", "title": "Convert 2bpp greyscale image to compressed byte array", "body": "<p>can someone tell me whats wrong when converting a 2bpp greyscale image to compressed byte array?\nthe compressed format would be W * H * Color.</p>\n\n<p>currently I am taking this image..\n<a href=\"https://i.stack.imgur.com/CyFX4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyFX4.png\" alt=\"enter image description here\"></a></p>\n\n<p>running it through this..</p>\n\n<pre><code>  public byte[] ToBytes(ImageData imageData)\n  {\n      byte imageDepth  = 4;\n      int  imageWMin   = imageData.GetWidth();\n      int  imageHMin   = imageData.GetHeight();\n      int  imageWMax   = (int)Math.Ceiling((double)imageData.GetWidth()  / 16) * 16;\n      int  imageHMax   = (int)Math.Ceiling((double)imageData.GetHeight() / 16) * 16;\n      int  byteCount   = ((imageWMax + imageHMax * imageWMax) * imageDepth) / 256;\n      byte[] data = new byte[byteCount];\n\n      //Loop though tiles\n      for (int ty = 0; ty &lt; imageHMax/8; ty++)\n      for (int tx = 0; tx &lt; imageWMax/8; tx++)\n      {\n          //Loop through pixels\n          for (int py = 0; py &lt; 8; py++)\n          for (int px = 0; px &lt; 8; px++)\n          {      \n              int pixelX     = tx + px;\n              int pixelY     = ty + py;\n              int pixelColor = 0;\n              int pixelByte  = ((pixelX + pixelY * imageWMax) * imageDepth) / 256;\n\n              if (pixelX &lt; imageWMin &amp;&amp; pixelY &lt; imageHMin)\n                  pixelColor = Math.Min((imageData.GetPixel(pixelX, pixelY).intValue0 / 64), 3);\n\n              Console.WriteLine(\"{ \" + pixelX.ToString() + \", \" + pixelY.ToString() + \" } = \" + pixelColor.ToString() + \" at byte: \" + pixelByte.ToString());\n              data[pixelByte] = (byte)((data[pixelByte] &amp; ~(byte)0x4) | ((byte)pixelColor &amp; (byte)0x4));\n          }\n      }\n      return data;\n  }\n\n    public override void Load() //runs on boot\n    {\n        imageData = Image.NewImageData(\"test.png\");\n        image     = Graphics.NewImage(imageData);\n        image.SetFilter(FilterMode.Nearest, FilterMode.Nearest, 1);\n        bytes     = ToBytes(imageData);\n\n        Console.WriteLine(\"saving to \" + AppDomain.CurrentDomain.BaseDirectory + \"test.txt\");\n        if (!System.IO.File.Exists(AppDomain.CurrentDomain.BaseDirectory + \"test.txt\")) Console.WriteLine(\"file: \" + AppDomain.CurrentDomain.BaseDirectory + \"test.txt does not exist!\");\n        System.IO.File.WriteAllBytes(AppDomain.CurrentDomain.BaseDirectory+\"test.txt\", bytes);\n    }\n\n    static void Main(string[] arg)\n    {\n        Boot.Run(new Test2BPP());\n    }\n</code></pre>\n\n<p>and getting the decoded binary output as this.. </p>\n\n<p><code>04 04 00 00\n</code></p>\n\n<p>which I am guessing it should be 2 bytes instead of 4 because 16*8*4 = 512 or a integer value of 2 bytes</p>\n\n<p>so just to be clear i want to save each 8x8 part of the image top left to bottom right as a byte or 2 bits per pixel (TILEWIDTH * TILEHEIGHT * COLORSPERPIXEL). </p>\n\n<p>if the image is less then a power of 8 on the x or y axis then it defaults the remaining values as 0.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 1233, "user_id": 6159500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lmIjG.png?s=128&g=1", "display_name": "Iskander Raimbaev", "link": "https://stackoverflow.com/users/6159500/iskander-raimbaev"}, "edited": false, "score": 1, "creation_date": 1544643078, "post_id": 53750017, "comment_id": 94352847, "body": "Could you share some code to describe your problem?"}, {"owner": {"reputation": 3884, "user_id": 1701463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e27e87b40bc3c624c85816c6adc155?s=128&d=identicon&r=PG", "display_name": "MikeH", "link": "https://stackoverflow.com/users/1701463/mikeh"}, "edited": false, "score": 0, "creation_date": 1544643084, "post_id": 53750017, "comment_id": 94352854, "body": "Are <code>add1</code> and <code>add2</code> public?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1544644761, "post_id": 53750017, "comment_id": 94353670, "body": "Can you provide us your code on how you are mapping these? As for the link you referred on why <code>Post</code> have a property of <code>Blog</code> it&#39;s a navigational property."}], "answers": [{"tags": [], "owner": {"reputation": 2080, "user_id": 1647159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAJ3y.png?s=128&g=1", "display_name": "djones", "link": "https://stackoverflow.com/users/1647159/djones"}, "is_accepted": false, "score": 2, "last_activity_date": 1544646716, "creation_date": 1544646716, "answer_id": 53750889, "question_id": 53750017, "link": "https://stackoverflow.com/questions/53750017/entity-framework-related-data-foreign-keys/53750889#53750889", "title": "Entity Framework Related Data Foreign Keys", "body": "<p>If you define your model as: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class DeliverNote {\n    public int Id { get; set; }\n    public Adress addr1 { get; set; }\n    public Adress addr2 { get; set; }\n}\n\npublic class Adress {\n    public int Id { get; set; }\n}\n</code></pre>\n\n<p>You can then call: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>context.notes.Include(dn =&gt; dn.addr1).Include(dn =&gt; dn.addr2);\n</code></pre>\n\n<p>Which will include the related data.</p>\n\n<p>Your model doesn't define foreign keys for addr1 or addr2 so EF Core will create shadow properties for you, i.e. columns that exist in the table but not as properties in the c# model. </p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 10647851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d751b77eeeb6c175aa3a7ef4617f14ca?s=128&d=identicon&r=PG&f=1", "display_name": "DFENS", "link": "https://stackoverflow.com/users/10647851/dfens"}, "edited": false, "score": 0, "creation_date": 1544732030, "post_id": 53758610, "comment_id": 94390617, "body": "I just ended up making it work manually, but i&#39;m definitely come gonna come back to this post next time im using EF."}], "tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": true, "score": 1, "last_activity_date": 1544693124, "creation_date": 1544693124, "answer_id": 53758610, "question_id": 53750017, "link": "https://stackoverflow.com/questions/53750017/entity-framework-related-data-foreign-keys/53758610#53758610", "title": "Entity Framework Related Data Foreign Keys", "body": "<p>So you have a database with a table of <code>Addresses</code> and a table of <code>DeliveryNotes</code>. Every <code>DeliveryNote</code> has two foreign keys to the <code>Addresses</code>: one <code>From</code> and one <code>To</code> (you call it addr1 and addr2)</p>\n\n<p>If you follow the <a href=\"http://www.entityframeworktutorial.net/code-first/code-first-conventions.aspx\" rel=\"nofollow noreferrer\">entity framework code first conventions</a>, you'll have something like this:</p>\n\n<pre><code>class Address\n{\n     public int Id {get; set;}\n     ... // other properties\n\n     // every Address has sent zero or more delivery Notes (one-to-many)\n     public virtual ICollection&lt;DeliveryNote&gt; SentNotes {get; set};\n\n     // every Address has received zero or more delivery Notes (one-to-many)\n     public virtual ICollection&lt;DeliveryNote&gt; ReceivedNotes {get; set};\n}\n\nclass DeliveryNote\n{\n     public int Id {get; set;}\n     ... // other properties\n\n     // every DeliveryNote comes from an Address, using foreign key\n     public int FromId {get; set;}\n     public virtual Address FromAddress {get; set;}\n\n     // every DeliverNote is sent to an Address, using foreign key:\n     public int ToId {get; set;}\n     public virtual Address ToAddress {get; set;}\n}\n</code></pre>\n\n<blockquote>\n  <p>In entity framework the columns of the tables are represented by non-virtual properties. The virtual properties represent the relations between the tables.   </p>\n</blockquote>\n\n<p>Note that the ICollection and FromAddress / ToAddress are virtual and thus not columns into your columns. If desired you can leave them out of your classes. However, if you have these virtual properties, you don't have to do the (Group)Joins yourself.</p>\n\n<blockquote>\n  <p>I can load adresses by themselves just fine, but I can't load a DeliveryNote, because EF doesn't load the related data by default ... I </p>\n</blockquote>\n\n<p>From this it is not easy to detect what kind of queries you want.</p>\n\n<p>One of the slower parts of database queries is the transport of the selected data from your DBMS to your local process. Hence it is wise to minimize the data being transported.</p>\n\n<p>If you use <code>Include</code>, then the complete object is transported, inclusive the foreign keys and all properties you don't need. If you have a database with Schools and Students, then every Student will have a foreign key to the School he attends. If you ask for a 'School with his 1000 Students' of school with Id 4, using Include, you don't want to transport the foreign key SchoolId a 1000 times, because you already know it will have value 4</p>\n\n<blockquote>\n  <p>In entity framework only use Include if you want to change / update the fetched item, otherwise use Select</p>\n</blockquote>\n\n<p><strong>Given a bunch of DeliveryNotes, give me some AddressDetails of it:</strong></p>\n\n<pre><code>IQueryable&lt;DeliveryNote&gt; deliveryNotes = dbContext.DeliveryNotes\n   .Where (deliveryNote =&gt; ...) // probably something with Id, or Date, or subject\n   .Select(deliveryNote =&gt; new\n   {\n       // select only the delivery note properties you actually plan to use\n       Subject = deliveryNote.Subject,\n       DeliveryDate = deliveryNote.DeliveryDate,\n       ...\n\n       From = new\n       {\n           // select only the From properties you plan to use\n           Id = deliveryNote.FromAddress.Id,\n           Name = deliveryNote.FromAddress.Name,\n           Address = deliveryNote.FromAddress.Address,\n           ...\n       }\n\n       To = new\n       {\n            // again: only properties you'll use\n            Name = deliveryNote.ToAddress.Name,\n            ...\n       },\n   });\n</code></pre>\n\n<p>Entity framework knows the one-to-many relationship and will perform the proper join for you.</p>\n\n<p><strong>Given a bunch of Addresses give me some of the DeliveryNotes they received</strong></p>\n\n<pre><code>var query = dbContext.Addresses\n    .Where(address =&gt; address.City == \"New York\" &amp;&amp; ...)\n    .Select(address =&gt; new\n    {\n         // only properties you plan to use\n         Id = address.Id,\n         Name = address.Name,\n\n         ReceivedNotes = address.ReceivedNotes\n             .Where(note =&gt; note.DeliveryDate.Year == 2018)\n             .Select(note =&gt; new\n             {\n                 // only properties you plan to use:\n                 Title = note.Title,\n                 ...\n\n                 // no need for this, you know it equals Id\n                 // AddressId = note.FromId,\n             }),\n    });\n</code></pre>\n\n<p>Entity framework knows the one-to-many relationship and will do the proper groupjoin for you.</p>\n\n<blockquote>\n  <p>If you have a one-to-many relationship and you want the \"item with its many sub-items\", start on the one-side and use the virtual ICollection. If you want the sub-item with the item that it belongs to, start with the many-side and use the virtual property to the one-side</p>\n</blockquote>\n"}], "owner": {"reputation": 159, "user_id": 10647851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d751b77eeeb6c175aa3a7ef4617f14ca?s=128&d=identicon&r=PG&f=1", "display_name": "DFENS", "link": "https://stackoverflow.com/users/10647851/dfens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 53758610, "answer_count": 2, "score": 1, "last_activity_date": 1544693124, "creation_date": 1544642691, "last_edit_date": 1544647554, "question_id": 53750017, "link": "https://stackoverflow.com/questions/53750017/entity-framework-related-data-foreign-keys", "title": "Entity Framework Related Data Foreign Keys", "body": "<p>I have an entity that consists only of foreign keys of other Entities.\nMy simplified class looks like this:</p>\n\n<pre><code> DeliverNote\n     Adress add1 {get; set;}\n     Adress add2 {get; set;} \n</code></pre>\n\n<p>I can load adresses by themselves just fine, but I can't load a DeliveryNote, because EF doesn't load the related data by default, I think.\nSo I saw solutions, mainly with context.notes.Include(dn => dn.Adresses), but I just can't figure out how I tell the note or the adress class how they're related to each other. Basically when I type \"dn.\" nothing shows up.</p>\n\n<p>The simplest, probably working, solution I saw was from microsoft. In the github from this page <a href=\"https://docs.microsoft.com/de-de/ef/core/querying/related-data\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/de-de/ef/core/querying/related-data</a> you can see the Blog and the Post classes. To me the Post class looks flawed though, why would a Post have to know about the Blog it is in? This will mess up the database too in code first solutions. What if the same post is gonna be posted in several blogs?</p>\n\n<p>Most solutions also seem to be lists of some kind, I don't have a list, just simple single objects. 1-1 relationship, I think.</p>\n"}, {"tags": ["c#", "azure", "app-config", "azure-webjobs", "azure-web-app-service"], "answers": [{"tags": [], "owner": {"reputation": 2466, "user_id": 6565271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829b9502a55752f79a54080a91ca06c9?s=128&d=identicon&r=PG", "display_name": "Itay Podhajcer", "link": "https://stackoverflow.com/users/6565271/itay-podhajcer"}, "is_accepted": false, "score": 2, "last_activity_date": 1544682495, "creation_date": 1544682495, "answer_id": 53756130, "question_id": 53749995, "link": "https://stackoverflow.com/questions/53749995/using-configurationbuilder-in-c-net-framework-where-did-my-app-service-setting/53756130#53756130", "title": "Using ConfigurationBuilder in C# .NET Framework where did my App Service settings go?", "body": "<p>Take a look at the following links, it seems they address issues similar to what you are describing:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/projectkudu/kudu/issues/1847\" rel=\"nofollow noreferrer\">Azure App Settings don't override external config files in WebJobs #1847</a></p></li>\n<li><p><a href=\"https://github.com/projectkudu/kudu/issues/1571\" rel=\"nofollow noreferrer\">Read web.config XML in Azure Web Jobs #1571 </a></p></li>\n</ul>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 5396273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBlcI.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/5396273/martin"}, "is_accepted": true, "score": 1, "last_activity_date": 1589531930, "last_edit_date": 1589531930, "creation_date": 1589310996, "answer_id": 61760142, "question_id": 53749995, "link": "https://stackoverflow.com/questions/53749995/using-configurationbuilder-in-c-net-framework-where-did-my-app-service-setting/61760142#61760142", "title": "Using ConfigurationBuilder in C# .NET Framework where did my App Service settings go?", "body": "<p>As it turns out there are a few things to consider and some assumptions to be made before had a possible route to go. I ended up writing my own configuration builder with help of the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.configuration.configurationbuilder?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>Given that .NETFramework is used and not AspNetCore (specifically .NETFramework 4.7.1 in this case). It seems that App Services provisioned by Azure does use some kind of configuration builder out-of-the-box. It seems like <code>Web.config</code> without any specified configuration builder will include all Azure App Services settings. It will even add settings that aren't present in the <code>Web.config</code>. So scaffolding isn't used; This would probably have made things a tad bit easier to grasp, but Microsoft probably had good reasons for not implementing things that way. Adding a configuration builder of your own will make any settings read from Azure App Services to not be read anymore. Probably, I'm assuming, because you just replaced a \"hidden\" configuration builder and need to do this work yourself now.</p>\n\n<p>Looking into the <a href=\"https://github.com/aspnet/MicrosoftConfigurationBuilders/tree/master/src\" rel=\"nofollow noreferrer\">source code</a> I did another relevant discovery that help me quite a bit in writing my own configuration builder. There seems to be two typical modes of operation in how configuration builders work: Greedy or \"strict\". I would advise against using both at the same time. A greedy mode implies that all settings found in, let's say, environment variables are added regardless of whether the key was initially present in <code>Web.config</code>. A \"strict\" mode implies it only replaces the value for keys present from the start.</p>\n\n<p>I ended up reading relevant settings from the environment variables. But it was a bit tricky to find solid documentation of the appropriate prefixes used (it is possible to read all the variables though). But the most common ones <a href=\"https://docs.microsoft.com/sv-se/azure/app-service/configure-common\" rel=\"nofollow noreferrer\">are roughly</a> (I think):</p>\n\n<ul>\n<li><code>APPSETTING_</code> (believe these correspond to App Services settings, if I recall correctly)</li>\n<li><code>SQLServerSQLCONNSTR_</code></li>\n<li><code>SQLAZURECONNSTR_</code></li>\n</ul>\n\n<p>Anyway, I my particular scenario I was running both an App Service Web App and a WebJob in the same slot. Having settings from the Web App appended for the WebJob seemed unattractive and unnecessary. So I wrote a \"strict\" configuration builder that cascades all the setting in a careful manner from the sources. This means any setting specified in Azure App Services would also have to be defined in <code>Web.config</code>. If no such setting next any transformed values for a chosen configuration was included. Lastly, the default value value in <code>Web.config</code> was used.</p>\n\n<p>In summary, <em>if you're writing your own configuration builder in .NETFramework</em>, you may need to do a little work to include the App Service app settings or connection strings. You might want to investigate the <code>ConfigurationBuilder</code>-class and their respective methods <code>ProcessConfigurationSection</code> for typed classes or <code>ProcessRawXml</code> and perhaps checkout some <a href=\"https://github.com/aspnet/MicrosoftConfigurationBuilders/blob/master/src/AzureAppConfig/AzureAppConfigurationBuilder.cs\" rel=\"nofollow noreferrer\">real world examples</a>.</p>\n"}], "owner": {"reputation": 350, "user_id": 5396273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBlcI.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/5396273/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "accepted_answer_id": 61760142, "answer_count": 2, "score": 0, "last_activity_date": 1589531930, "creation_date": 1544642548, "question_id": 53749995, "link": "https://stackoverflow.com/questions/53749995/using-configurationbuilder-in-c-net-framework-where-did-my-app-service-setting", "title": "Using ConfigurationBuilder in C# .NET Framework where did my App Service settings go?", "body": "<p>I'm trying to combine a <em>environment-specific variables in source code</em> to an existing configuration of an <em>App.config-file</em> and <em>AppSettings and ConnectionStrings in Azure App Services</em> for an Azure WebJob (.NET Framework). Having all environment variables in App Services can be quite time-consuming when making changes.</p>\n\n<p>After going through a bunch of blogs and posts on the subject of App.config-tranformations and Azure WebJobs it seems like adding a ConfigurationBuilder is fairly recent way to override environment specific (non-secret) settings. If I'm not mistaken it was added in .NET 4.7.1. It seemed more promising than SlowCheetah and scripting. </p>\n\n<p>But after adding a custom ConfigurationBuilder (similarly to mentioned on link 1) <strong>the app settings specified in app service were no longer included in the result</strong>. I ended up with only entries from app.config-file and custom ConfigurationBuilder. Do I need to retrieve these app setting while making custom entries in the configuration entries? Or should I expand the EnvironmentVariables and modify those XmlNode-entries?</p>\n\n<ol>\n<li><a href=\"https://jeffreyfritz.com/2017/11/modern-configuration-for-asp-net-4-7-1-with-configurationbuilders/\" rel=\"nofollow noreferrer\">https://jeffreyfritz.com/2017/11/modern-configuration-for-asp-net-4-7-1-with-configurationbuilders/</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.configuration.configurationbuilder?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.configuration.configurationbuilder?view=netframework-4.7.2</a></li>\n</ol>\n"}, {"tags": ["c#", ".net", "visual-studio-2017", "vsto", "word-addins"], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 9983780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d45575df2d4d1c7c266109bd138581?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick M", "link": "https://stackoverflow.com/users/9983780/patrick-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1544643736, "creation_date": 1544643736, "answer_id": 53750272, "question_id": 53749959, "link": "https://stackoverflow.com/questions/53749959/targetdir-empty-for-microsoft-word-add-in-project-in-visual-studio-2017/53750272#53750272", "title": "$(TargetDir) empty for Microsoft Word Add-In project in Visual Studio 2017", "body": "<p>Updating the file properties for TestSchema.xsd to:</p>\n\n<p><strong>Build Action:</strong> Content</p>\n\n<p><strong>Copy to Output Directory:</strong> Copy if newer</p>\n\n<p>Seems to have done the trick.</p>\n"}], "owner": {"reputation": 62, "user_id": 9983780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d45575df2d4d1c7c266109bd138581?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick M", "link": "https://stackoverflow.com/users/9983780/patrick-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544643736, "creation_date": 1544642418, "question_id": 53749959, "link": "https://stackoverflow.com/questions/53749959/targetdir-empty-for-microsoft-word-add-in-project-in-visual-studio-2017", "title": "$(TargetDir) empty for Microsoft Word Add-In project in Visual Studio 2017", "body": "<p>The $(TargetDir) property seems to be disabled for Word Add-In projects on Visual Studio 2017.</p>\n\n<p>I'm creating a Microsoft Word Add-In project in Visual Studio 2017 using C# and .NET. I need my Add-In to access an XSD schema file in order to validate a user-loaded XML. My first thought was to copy the XSD file from my project directory to the target directory using the following post-build event:</p>\n\n<pre><code>xcopy \"$(MSBuildProjectDirectory)TestSchema.xsd\" \"$(TargetDir)\"\n</code></pre>\n\n<p>but this seems to be impossible since the $(TargetDir) property is an empty string.</p>\n\n<p>Is there another way to achieve this behavior?</p>\n"}, {"tags": ["c#", ".net", "automation"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 2, "creation_date": 1544642064, "post_id": 53749793, "comment_id": 94352366, "body": "Get Telerik Fiddler and start playing with that.  It will tell you what sort of things are required for logging into a given website.  Just turn it on, do a normal login, and it will record the interactions over the wire in detail for you to inspect."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1544642900, "post_id": 53749793, "comment_id": 94352762, "body": "You need all the <code>input</code> elements of the Form (hidden and not), add a value to the elements that require a User value (text and password types, mainly, but you might have checkboxes and captcha) and send them back as a <code>List&lt;KeyValuePair&gt;</code>, using a <code>FormUrlEncodedContent</code> class (this one you have already)."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1544648614, "post_id": 53749793, "comment_id": 94355283, "body": "The answers to this question depend completely on the web site and how it is programmed. Sometimes they design the login page specifically to make it difficult to do what you are attempting."}, {"owner": {"reputation": 46, "user_id": 9693979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58eb651c0c9c43f5fb71064c3b68720?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Nizar", "link": "https://stackoverflow.com/users/9693979/noor-nizar"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1544704999, "post_id": 53749793, "comment_id": 94375867, "body": "@RobertHarvey ,  thanks for the suggestion ! ,"}, {"owner": {"reputation": 46, "user_id": 9693979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58eb651c0c9c43f5fb71064c3b68720?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Nizar", "link": "https://stackoverflow.com/users/9693979/noor-nizar"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1544705187, "post_id": 53749793, "comment_id": 94375966, "body": "@John Wu i was looking for the general way of doing this or good sources that teach different approaches against different website architects , and such"}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 9693979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58eb651c0c9c43f5fb71064c3b68720?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Nizar", "link": "https://stackoverflow.com/users/9693979/noor-nizar"}, "edited": false, "score": 0, "creation_date": 1544705096, "post_id": 53762053, "comment_id": 94375920, "body": "forgot to mention i needed a couple more inputs beside the email and username, but that wasn&#39;t the main issue"}], "tags": [], "owner": {"reputation": 46, "user_id": 9693979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58eb651c0c9c43f5fb71064c3b68720?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Nizar", "link": "https://stackoverflow.com/users/9693979/noor-nizar"}, "is_accepted": true, "score": 0, "last_activity_date": 1544704774, "creation_date": 1544704774, "answer_id": 53762053, "question_id": 53749793, "link": "https://stackoverflow.com/questions/53749793/how-to-login-to-a-website-using-csharp-httpclient/53762053#53762053", "title": "How to Login To A Website Using Csharp.HttpClient", "body": "<p>After using fiddler for a bit comparing between headers and cookies between my manual website login and login from csharp , i found that i need to firstly send a get request get the cookies the website provide. then add the xsrf token from the cookies to client headers i use to send the post request, heres what i added to my code to get it working</p>\n\n<pre><code>var getString = await client.GetStringAsync(\"doLogin\");\n\n    foreach (var xar in Cookies.GetCookies(baseUrl).Cast&lt;Cookie&gt;())\n    {\n        if (xar.Name == \"XSRF-TOKEN\")Token = xar.Value;\n    }\n\n    client.DefaultRequestHeaders.Add(\"X-XSRF-TOKEN\", Token);\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 9693979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58eb651c0c9c43f5fb71064c3b68720?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Nizar", "link": "https://stackoverflow.com/users/9693979/noor-nizar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1544717340, "accepted_answer_id": 53762053, "answer_count": 1, "score": 0, "last_activity_date": 1544704774, "creation_date": 1544641715, "question_id": 53749793, "link": "https://stackoverflow.com/questions/53749793/how-to-login-to-a-website-using-csharp-httpclient", "closed_reason": "Needs more focus", "title": "How to Login To A Website Using Csharp.HttpClient", "body": "<p>so i was trying to under what are requests like post and get and other network concepts like headers and cookies. so i thought why not try to logging into a website using POST and cSharp so i tried to Login to A website in this case \"accounts.epicgames.com/login\"</p>\n\n<p>i tried the following code but it didn't redirect me to the correct page </p>\n\n<pre><code>handler = new HttpClientHandler() { CookieContainer = Cookies };\n        client = new HttpClient(handler) { BaseAddress = baseUrl };\n\n        var formParams = new Dictionary&lt;string, string&gt;()\n        {\n            { \"epic_username\", \"x\" },\n            { \"password\" ,   \"y\" }\n        };\n\n\n\n        var formFormat = new FormUrlEncodedContent(dic);\n        var response = await client.PostAsync(\"login/doLogin\", formFormat);\n\n        var responseString = await response.Content.ReadAsStringAsync();\n</code></pre>\n\n<p>While im sure im missing alot , indeed the response indicated that im still in the same page. \nnow i have a couple of question. \n1-do i need to send all form parameters for the post request to be accepted ?\n2- if i need to send all params , if a parameter requires clientId how can i send that?  </p>\n\n<p>so what is the correct way of making this work. this is my first attempt at networking and i cant find a good place to learn it if theres a good course or book covering this please mention it in the comments. </p>\n"}, {"tags": ["c#", "xmlserializer"], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 1922303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c123eb16ea3991aa30cbdc30ea9553?s=128&d=identicon&r=PG", "display_name": "alfvaen", "link": "https://stackoverflow.com/users/1922303/alfvaen"}, "is_accepted": true, "score": 0, "last_activity_date": 1544649713, "creation_date": 1544649713, "answer_id": 53751548, "question_id": 53749788, "link": "https://stackoverflow.com/questions/53749788/using-xmlserializer-to-deserialize-in-an-extensible-fashion-with-arbitrary-eleme/53751548#53751548", "title": "Using XmlSerializer to deserialize in an extensible fashion with arbitrary elements", "body": "<p>I have determined one way to do this, though of course there may be better ones.</p>\n\n<p>As I mentioned above, set up a handler for OnUnknownElement:</p>\n\n<pre><code>XmlDeserializationEvents events = new XmlDeserializationEvents();\nevents.OnUnknownElement = delegate(object sender, XmlElementEventArgs args)\n{\n    if (args.Element.Name == \"office\")\n    {\n        var data = (Data) args.ObjectBeingDeserialized;\n        var item = new Office(args.Element);\n        data.ExtensionObjects.Add(item);\n    }\n};\nvar response = (Response) serializer.Deserialize(xmlReader, events);\n</code></pre>\n\n<p>Then all you need do is implement the constructor to turn that XmlElement into your object.  There may be a cleaner way to do it, but considering this is a simple object (just \"name\" and \"id\" properties) I'm just assuming the element is just a flat list of named elements.</p>\n\n<pre><code>public Office(XmlElement e)\n{\n    var valDict = e.ChildNodes.Cast&lt;XmlNode&gt;().Where(n =&gt; n is XmlElement)\n                   .ToDictionary(x =&gt; x.Name, x =&gt; x.InnerText);\n\n    Name = valDict[\"name\"];\n    Id = valDict[\"id\"];\n}\n</code></pre>\n\n<p>If there's a better way to do this that can go through the XmlSerializer again, I was unable to find it, since I couldn't convert an XmlElement to an XmlReader or anything else that the Deserialize method could take in.  I suppose I could probably serialize it to text again and then reparse it, but that seems kludgy.</p>\n"}], "owner": {"reputation": 335, "user_id": 1922303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c123eb16ea3991aa30cbdc30ea9553?s=128&d=identicon&r=PG", "display_name": "alfvaen", "link": "https://stackoverflow.com/users/1922303/alfvaen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53751548, "answer_count": 1, "score": 0, "last_activity_date": 1544649713, "creation_date": 1544641671, "last_edit_date": 1544647082, "question_id": 53749788, "link": "https://stackoverflow.com/questions/53749788/using-xmlserializer-to-deserialize-in-an-extensible-fashion-with-arbitrary-eleme", "title": "Using XmlSerializer to deserialize in an extensible fashion with arbitrary elements", "body": "<p>I am using XmlSerializer to deserialize XML responses from a remote API.  There are a number of standard predefined classes, and I have built up classes for these.  The key part of the response looks like this:</p>\n\n<pre><code>&lt;data&gt;\n    &lt;employee&gt;\n        &lt;name&gt;John Doe&lt;/name&gt;\n        &lt;id&gt;E1&lt;/id&gt;\n        ....\n    &lt;/employee&gt;\n    &lt;employee&gt;\n        ....\n    &lt;/employee&gt;\n    ....\n&lt;/data&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;data&gt;\n    &lt;customer&gt;\n        &lt;name&gt;Yoyodyne Systems&lt;/name&gt;\n        &lt;id&gt;C1&lt;/id&gt;\n        ....\n    &lt;/customer&gt;\n    &lt;customer&gt;\n        ....\n    &lt;/customer&gt;\n    ....\n&lt;/data&gt;\n</code></pre>\n\n<p>So I have Customer and Employee classes, and the Data class has properties defined like this:</p>\n\n<pre><code>    [XmlElement(\"customer\", typeof(Customer))]\n    public List&lt;Customer&gt; Customers { get; set; }\n\n    [XmlElement(\"employee\", typeof(Employee))]\n    public List&lt;Employee&gt; Employees { get; set; }\n</code></pre>\n\n<p>The data element only contains one type of tag per result, and I generally know which one is expected to be returned from a given request, so I just access that property and ignore the other ones which are left empty.</p>\n\n<p>But I want to make this more extensible; in particular there may be different instances of the remote application with custom classes in them, and I don't want to put them all into the base code package.  I was hoping I could add a property to the Data class something like</p>\n\n<pre><code>    public List&lt;object&gt; ExtensionObjects { get; set; }\n</code></pre>\n\n<p>and then use the <code>XmlSerializer(Type, Type[])</code> constructor to supply the actual types I want to deserialize.  However, I don't know how to tell it to apply this to any unknown tags, or even to specify the tags.  For instance, if I have a custom Office class, how can I make it that <code>&lt;office&gt;...&lt;/office&gt;</code> tags get deserialized into it?  Is there a way I can do this with XmlSerializer without having to go all the way back to parsing everything as an XDocument?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>One thing that seems promising is trying to handle the OnUnknownElement event; I can create a delegate for it and then pass it in via an XmlDeserializationEvents object to the Deserialize method call.  Now I just have to figure out the best way to turn those unknown elements into instances of my extension classes.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.mac"], "answers": [{"comments": [{"owner": {"reputation": 3324, "user_id": 1231925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/87536e65cd08274bada37158cbcb0629?s=128&d=identicon&r=PG", "display_name": "Jwosty", "link": "https://stackoverflow.com/users/1231925/jwosty"}, "edited": false, "score": 0, "creation_date": 1544725364, "post_id": 53756317, "comment_id": 94387763, "body": "Good to know about that UWP control... so basically, a custom renderer is the way to go?"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 3324, "user_id": 1231925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/87536e65cd08274bada37158cbcb0629?s=128&d=identicon&r=PG", "display_name": "Jwosty", "link": "https://stackoverflow.com/users/1231925/jwosty"}, "edited": false, "score": 0, "creation_date": 1544750023, "post_id": 53756317, "comment_id": 94396315, "body": "@Jwosty Answer is still creating a forms application, just doing a viewrenderer on UWP.(<a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/custom-renderer/view\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fund&zwnj;&#8203;amentals/&hellip;</a>)."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 2, "last_activity_date": 1544750264, "last_edit_date": 1544750264, "creation_date": 1544683382, "answer_id": 53756317, "question_id": 53749773, "link": "https://stackoverflow.com/questions/53749773/xamarin-forms-platform-indepenent-application-menu/53756317#53756317", "title": "Xamarin.Forms: Platform-indepenent application menu", "body": "<p>Although,Xamain forms can not directly use you said methods to do.</p>\n\n<blockquote>\n  <p>Package Microsoft.Toolkit.Uwp.UI.Controls 5.0.0 is not compatible with netstandard2.0 >>(.NETStandard,Version=v2.0). </p>\n</blockquote>\n\n<p>However, add this NuGet Package to UWP, you can try to use custom <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/custom-renderer/view\" rel=\"nofollow noreferrer\">ViewRenderer</a> to do this.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/windows/communitytoolkit/controls/menu\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/communitytoolkit/controls/menu</a></p>\n\n<p>Code like this:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;controls:Menu&gt;\n        &lt;controls:MenuItem Name=\"FileMenu\"\n    controls:Menu.InputGestureText=\"Alt+F\"\n    Header=\"File\"&gt;\n\n            &lt;MenuFlyoutSubItem Text=\"New\"&gt;\n                &lt;MenuFlyoutItem controls:Menu.InputGestureText=\"Ctrl+Shift+N\"\n            Text=\"Project\" /&gt;\n\n                &lt;MenuFlyoutItem controls:Menu.InputGestureText=\"Ctrl+N\"\n            Text=\"File\" /&gt;\n            &lt;/MenuFlyoutSubItem&gt;\n        &lt;/controls:MenuItem&gt;\n    &lt;/controls:Menu&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/wvY0v.png\" alt=\"enter image description here\"></p>\n\n<p>The final result is like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/q4LnW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4LnW.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3324, "user_id": 1231925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/87536e65cd08274bada37158cbcb0629?s=128&d=identicon&r=PG", "display_name": "Jwosty", "link": "https://stackoverflow.com/users/1231925/jwosty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1544750264, "creation_date": 1544641603, "question_id": 53749773, "link": "https://stackoverflow.com/questions/53749773/xamarin-forms-platform-indepenent-application-menu", "title": "Xamarin.Forms: Platform-indepenent application menu", "body": "<p>I'm writing a Xamarin.Forms desktop application, and I'll ultimately want to target MacOS and Windows. Does Xamarin.Forms have any platform independent mechanisms which you can use to build the application menu (i.e. the one where you find \"File\", \"Edit\", \"View\", etc; and which appears in the MacOS menu bar at the top of the screen)? The most I've found is the <code>Xamarin.Forms.Menu</code> and <code>Xamarin.Forms.MenuItem</code> classes, but I'm not clear on what they actually do or how to use them.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1544641519, "post_id": 53749743, "comment_id": 94352117, "body": "You can sort the array, then display the first one"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 3, "creation_date": 1544641645, "post_id": 53749743, "comment_id": 94352175, "body": "Welcome to StackOverflow! There are a lot of ways to accomplish that, but I think you would learn nothng if someone provides these complete solutions here. It would be better to <i>show</i> what you have tried, so we could spot the mistakes you made."}, {"owner": {"reputation": 692, "user_id": 6538434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f5b8f4c88a2ad0bcedcad56fa3efc26?s=128&d=identicon&r=PG&f=1", "display_name": "eye_am_groot", "link": "https://stackoverflow.com/users/6538434/eye-am-groot"}, "edited": false, "score": 0, "creation_date": 1544641646, "post_id": 53749743, "comment_id": 94352176, "body": "Can you provide one of the ways you have tried?  Learning why your approach didn&#39;t work may be a valuable experience"}, {"owner": {"reputation": 3723, "user_id": 1169091, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/5vE4L.jpg?s=128&g=1", "display_name": "nicomp", "link": "https://stackoverflow.com/users/1169091/nicomp"}, "edited": false, "score": 1, "creation_date": 1544641646, "post_id": 53749743, "comment_id": 94352178, "body": "Please post a minimal, complete, and verifiable example of your code."}, {"owner": {"reputation": 33, "user_id": 10179543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBvQ9.jpg?s=128&g=1", "display_name": "CPrecius", "link": "https://stackoverflow.com/users/10179543/cprecius"}, "edited": false, "score": 0, "creation_date": 1544641690, "post_id": 53749743, "comment_id": 94352196, "body": "Thank you for the answer firstly. But I don&#39;t need smallest number, I need the first negative number in the array. If I understood you wrong, sorry"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 3723, "user_id": 1169091, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/5vE4L.jpg?s=128&g=1", "display_name": "nicomp", "link": "https://stackoverflow.com/users/1169091/nicomp"}, "edited": false, "score": 1, "creation_date": 1544641707, "post_id": 53749743, "comment_id": 94352202, "body": "@nicomp You can use a <a href=\"https://meta.stackexchange.com/questions/92060/add-data-se-style-magic-links-to-comments\">magic link</a> to automatically link to the MCVE docs.  Use <code>[mcve]</code> in your comment."}, {"owner": {"reputation": 145, "user_id": 2709212, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96ba8ac0472384fbb04edceae61e5eda?s=128&d=identicon&r=PG", "display_name": "Chris Akridge", "link": "https://stackoverflow.com/users/2709212/chris-akridge"}, "edited": false, "score": 0, "creation_date": 1544641806, "post_id": 53749743, "comment_id": 94352260, "body": "@CPrecius Does &quot;first negative number in an array&quot; mean that the array <code>{0, 4, -1, 8, -204}</code> should return <code>-1</code> and not <code>-204</code>? Or the first negative number you happen to come across in a given array?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1544642247, "post_id": 53749743, "comment_id": 94352459, "body": "<code>Console.WriteLine(numbers.First(n =&gt; n &lt; 0));</code>"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1544642418, "post_id": 53749743, "comment_id": 94352540, "body": "@itsme86 -- why are you putting an answer in a comment?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 1, "creation_date": 1544642450, "post_id": 53749743, "comment_id": 94352561, "body": "@Hogan Because I don&#39;t feel like fleshing it out into a good answer."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1544642757, "post_id": 53749818, "comment_id": 94352702, "body": "IMHO - this is a  better answer than mine :)."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1544642148, "last_edit_date": 1544642148, "creation_date": 1544641828, "answer_id": 53749818, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array/53749818#53749818", "title": "How to write first negative number in array?", "body": "<p>You're close, you'll just need to <code>break</code> as soon as you find the first negative number. i.e.</p>\n\n<pre><code>if (numbers[i] &lt; 0) {\n     firstminus[0] = numbers[i];\n     break; // terminate the loop\n}\n</code></pre>\n\n<p>btw, I'd use an <code>int</code> variable instead of constructing an array to store the result.</p>\n\n<p>i.e.</p>\n\n<pre><code>int firstminus = 0;\nfor (int i = 0; i &lt; numbers.Length; i++)\n{\n   if (numbers[i] &lt; 0) {\n      firstminus = numbers[i];\n      break; // terminate the loop\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>on another note, the simplest way would be via LINQ:</p>\n\n<pre><code>numbers.FirstOrDefault(x =&gt; x &lt; 0);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10179543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBvQ9.jpg?s=128&g=1", "display_name": "CPrecius", "link": "https://stackoverflow.com/users/10179543/cprecius"}, "edited": false, "score": 1, "creation_date": 1544642859, "post_id": 53749822, "comment_id": 94352739, "body": "Thank you so much for that detaily explanation. I understood my fault and I learned news. I am so glad."}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 4, "last_activity_date": 1544642167, "last_edit_date": 1544642167, "creation_date": 1544641837, "answer_id": 53749822, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array/53749822#53749822", "title": "How to write first negative number in array?", "body": "<p>To correct your attempt add a <code>break</code> after you found the number. That will terminate the loop and you'll have the first negative number in the array.</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++)\n{\n    if (numbers[i] &lt; 0) \n    {\n        firstminus[0] = numbers[i];\n        break;\n    }\n}\n</code></pre>\n\n<p>Notice 2 things:</p>\n\n<ul>\n<li>There is no need for an array <code>firstminus</code> - better just have it a simple <code>int</code>.</li>\n<li>The loop runs to <code>10</code>. This is a <strong>magic number</strong>. Instead run until array's length. Please take the time to read this: <a href=\"https://stackoverflow.com/q/47882/6400526\">What is a magic number, and why is it bad?</a></li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>int firstMinus;\nfor (int i = 0; i &lt; numbers.Length; i++)\n{\n    if (numbers[i] &lt; 0) \n    {\n        firstminus = numbers[i];\n        break;\n    }\n}\n</code></pre>\n\n<p>And last, if you are familiar with linq then just use <code>.FirstOrDefault</code> which returns the first item in the collection that matches a predicate (or the <code>default</code> of the type if none meet the predicate):</p>\n\n<pre><code>var firstMinus = numbers.FirstOrDefault(i =&gt; i &lt; 0);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2030, "user_id": 5649626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Bfz5h.jpg?s=128&g=1", "display_name": "Miamy", "link": "https://stackoverflow.com/users/5649626/miamy"}, "is_accepted": false, "score": 0, "last_activity_date": 1544642558, "last_edit_date": 1544642558, "creation_date": 1544641865, "answer_id": 53749830, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array/53749830#53749830", "title": "How to write first negative number in array?", "body": "<pre><code>int[] numbers = new int[] {13, 22, -5, 94, 66, -38, 41, -79, -1, 53};\n\nfor (int i = 0; i &lt; 10; i++)\n{\n    if (numbers[i] &lt; 0)\n    {\n        Console.WriteLine(numbers[i]);\n        break;\n    }     \n}\nConsole.ReadLine();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10179543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBvQ9.jpg?s=128&g=1", "display_name": "CPrecius", "link": "https://stackoverflow.com/users/10179543/cprecius"}, "edited": false, "score": 0, "creation_date": 1544642910, "post_id": 53749865, "comment_id": 94352766, "body": "Hmm I didn&#39;t even think about while loops, thanks a lot"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 33, "user_id": 10179543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBvQ9.jpg?s=128&g=1", "display_name": "CPrecius", "link": "https://stackoverflow.com/users/10179543/cprecius"}, "edited": false, "score": 0, "creation_date": 1544650132, "post_id": 53749865, "comment_id": 94355911, "body": "@CPrecius -- next time think of the poor forgotten <code>while</code> loop!  It gets to much competition from foreach and linq!"}], "tags": [], "owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "is_accepted": false, "score": 1, "last_activity_date": 1544642169, "last_edit_date": 1544642169, "creation_date": 1544642013, "answer_id": 53749865, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array/53749865#53749865", "title": "How to write first negative number in array?", "body": "<p>I would use a while loop -- it just makes sense for the problem.</p>\n\n<p>Also -- remember the use case where there is no neg -- you have to handle that too.</p>\n\n<pre><code>int[] numbers = new int[] {13, 22, -5, 94, 66, -38, 41, -79, -1, 53};\nint index = 0\n\nwhile (index &lt; numbers.Length &amp; numbers[index] &gt;= 0)\n index++;\n\n\nif (index &lt; numbers.Length &amp; numbers[index] &lt; 0)\n    Console.WriteLine(numbers[index]);\nelse \n    Console.WriteLing(\"No neg.\");\n\n    Console.ReadLine();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1544642537, "post_id": 53749974, "comment_id": 94352614, "body": "I&#39;d say it&#39;s worth explaining why linq is &quot;better&quot; :)"}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1544642719, "post_id": 53749974, "comment_id": 94352692, "body": "Yeah good point. Well it avoids a loop, it&#39;s less code and it&#39;s more &#39;C#-ish&#39;. It <i>should</i> perform better."}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1544642777, "post_id": 53749974, "comment_id": 94352710, "body": "best to add it properly to the answer. (about performance I wouldn&#39;t say so.. it probably compiles to very similar code in this case)"}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1544643501, "post_id": 53749974, "comment_id": 94353093, "body": "@GiladGreen - You make a <i>great</i> point. In fact - on my box the loop runs faster than linq. See updated code above."}], "tags": [], "owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "is_accepted": false, "score": 0, "last_activity_date": 1544643456, "last_edit_date": 1544643456, "creation_date": 1544642461, "answer_id": 53749974, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array/53749974#53749974", "title": "How to write first negative number in array?", "body": "<p>A 'better' solution is to use linq: </p>\n\n<pre><code>int[] numbers = new int[] { 13, 22, -5, 94, 66, -38, 41, -79, -1, 53 };\nint[] firstminus = new int[1];\nfirstminus[0] = numbers.FirstOrDefault(n =&gt; n &lt; 0);\n</code></pre>\n\n<p>Update - in response to Gilad Green's comment about performance - great point! When I run the following, I find that the loop actually performs about 1/2 second faster on my box: </p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        var stopWatch = new Stopwatch(); \n        Console.WriteLine(\"Linq method\");\n        stopWatch.Start();\n        for (var i = 0; i &lt; 10000000; i++)\n        {\n            LinqMethod(); \n        }\n        stopWatch.Stop();\n        Console.WriteLine($\"Elapsed time: {stopWatch.Elapsed}\");\n        stopWatch.Reset();\n\n        Console.WriteLine(\"Loop method\");\n        stopWatch.Start();\n        for (var i = 0; i &lt; 10000000; i++)\n        {\n            LoopMethod();\n        }\n        stopWatch.Stop();\n        Console.WriteLine($\"Elapsed time: {stopWatch.Elapsed}\");\n\n        Console.ReadLine();\n    }\n\n    private static void LinqMethod()\n    {\n        int[] numbers = new int[] { 13, 22, -5, 94, 66, -38, 41, -79, -1, 53 };\n        int[] firstminus = new int[1];\n        firstminus[0] = numbers.FirstOrDefault(n =&gt; n &lt; 0);\n    }\n\n    private static void LoopMethod()\n    {\n        int[] numbers = new int[] { 13, 22, -5, 94, 66, -38, 41, -79, -1, 53 };\n        int[] firstminus = new int[1];\n        for (int i = 0; i &lt; 10; i++)\n        {\n            if (numbers[i] &lt; 0)\n            {\n                firstminus[0] = numbers[i];\n                break; \n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10179543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBvQ9.jpg?s=128&g=1", "display_name": "CPrecius", "link": "https://stackoverflow.com/users/10179543/cprecius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 53749822, "answer_count": 5, "score": 3, "last_activity_date": 1544643456, "creation_date": 1544641483, "last_edit_date": 1544641980, "question_id": 53749743, "link": "https://stackoverflow.com/questions/53749743/how-to-write-first-negative-number-in-array", "title": "How to write first negative number in array?", "body": "<p>I am just new in programming so excuse me for this 'easy' question. </p>\n\n<p>I have a array list which have negative and positive numbers. It's in C#. I want to write on console, first negative number in this array list. How can do it? I tried a few things but it's writing all negative numbers or only the last negative number. I can't write the first one. Can anyone help me, please?</p>\n\n<p>Here is my example of code :</p>\n\n<pre><code>int[] numbers = new int[] {13, 22, -5, 94, 66, -38, 41, -79, -1, 53};\nint[] firstminus = new int[1];    \n\nfor (int i = 0; i &lt; 10; i++)\n{\n    if (numbers[i] &lt; 0)\n        firstminus[0] = numbers[i];\n}\n\nConsole.WriteLine(firstminus[0]);\nConsole.ReadLine();\n</code></pre>\n"}, {"tags": ["c#", "android", "iis", ".net-core-2.0"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544671376, "post_id": 53749742, "comment_id": 94361824, "body": "Are you trying <code>http:&#47;&#47;169.254.80.80:8080&#47;api&#47;</code> from your own computer where the web service is hosted? Do you using a web proxy for normal internet traffic? A 503 is what a proxy would give you if it can&#39;t complete the request."}, {"owner": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544700499, "post_id": 53749742, "comment_id": 94373480, "body": "I am doing it on my local machine. Don&#39;t use any proxy. Maybe emulator uses a proxy? How can I check it?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544703486, "post_id": 53749742, "comment_id": 94375101, "body": "Is that your public IP? To use your own public IP to connect to your own machine, your router or ISP needs to be setup to loop back the traffic, which it may not."}, {"owner": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544712249, "post_id": 53749742, "comment_id": 94380347, "body": "No, 169.* is not my public IP. My public IP (on router) is 217.*. My public IP in home net is 192.168.*"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544712542, "post_id": 53749742, "comment_id": 94380543, "body": "Can you try using <code>http:&#47;&#47;169.254.80.80:8080&#47;api&#47;</code> in Postman? Does it give you 503 there too? If so, is there any body to the message (with an error message)?"}, {"owner": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1544727205, "post_id": 53749742, "comment_id": 94388505, "body": "Yes, this is giving me 503 as well. But no additional info. Just &quot;HTTP Error 503. The service is unavailable.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "edited": false, "score": 0, "creation_date": 1544737315, "post_id": 53768486, "comment_id": 94392836, "body": "OMG! You&#39;re GREAT! I&#39;ve been fighting with this for days and even wanted to give up mobiles! Thank you veeeeery much!"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "edited": false, "score": 0, "creation_date": 1544740332, "post_id": 53768486, "comment_id": 94393838, "body": "No problem :) I have fought with bindings before too. I just didn&#39;t notice it at first since I don&#39;t usually look at the bindings from that view."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 1, "last_activity_date": 1544727673, "creation_date": 1544727673, "answer_id": 53768486, "question_id": 53749742, "link": "https://stackoverflow.com/questions/53749742/503-service-unavailable-iis-localhost-webapi-vs-android-emulator-net-core/53768486#53768486", "title": "503 service unavailable IIS + localhost + WebAPI + VS Android Emulator .Net Core 2", "body": "<p>Your IIS binding is wrong: <code>http:*:8080:localhost</code></p>\n\n<p>You have \"localhost\" in the 'Host name' field. That means that IIS will only send traffic to that site if \"localhost\" is used as the domain name. Since you are trying to access by IP, IIS doesn't know which site to send it to and gives you a 503.</p>\n\n<p>Your binding should look like this (leave the 'Host name' blank):</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8BYd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8BYd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1496, "user_id": 5330895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040324449335628/picture?type=large", "display_name": "Adam Jachocki", "link": "https://stackoverflow.com/users/5330895/adam-jachocki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 53768486, "answer_count": 1, "score": 0, "last_activity_date": 1544727673, "creation_date": 1544641481, "question_id": 53749742, "link": "https://stackoverflow.com/questions/53749742/503-service-unavailable-iis-localhost-webapi-vs-android-emulator-net-core", "title": "503 service unavailable IIS + localhost + WebAPI + VS Android Emulator .Net Core 2", "body": "<p>I don't have any other idea.</p>\n\n<p>I have WebAPI (.NetCore 2) running on my localhost on IIS. When I connect to it using Postman, everything works fine. But when I try to connect from VS Android Emulator I am getting only 503 errors. I think I tried everything.</p>\n\n<p>My settings are:\n- WebApi is running on port 8080</p>\n\n<p><a href=\"https://i.stack.imgur.com/6vMha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vMha.png\" alt=\"Application settings\"></a></p>\n\n<p>My VS Emulator networks settings are:\n<a href=\"https://i.stack.imgur.com/4Cdjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Cdjd.png\" alt=\"Emulator network settings\"></a></p>\n\n<p>I am connecting to WebApi using:\n    <a href=\"http://169.254.80.80:8080/api/\" rel=\"nofollow noreferrer\">http://169.254.80.80:8080/api/</a></p>\n\n<p>On localhost (for example from Postman) is:\n    <a href=\"http://localhost:8080/api/\" rel=\"nofollow noreferrer\">http://localhost:8080/api/</a></p>\n\n<p>I have added Incoming Rule to my windows defender allowing connections for TCP port 8080.</p>\n\n<p>This is my SITES section from applicationhost.</p>\n\n<pre><code>&lt;sites&gt;\n  &lt;site name=\"WebSite1\" id=\"1\" serverAutoStart=\"true\"&gt;\n    &lt;application path=\"/\"&gt;\n      &lt;virtualDirectory path=\"/\" physicalPath=\"%IIS_SITES_HOME%\\WebSite1\" /&gt;\n    &lt;/application&gt;\n    &lt;bindings&gt;\n      &lt;binding protocol=\"http\" bindingInformation=\":8080:localhost\" /&gt;\n    &lt;/bindings&gt;\n  &lt;/site&gt;\n  &lt;site name=\"Nerdolando.Boomerang.WebAPI\" id=\"2\"&gt;\n    &lt;application path=\"/\" applicationPool=\"Clr4IntegratedAppPool\"&gt;\n      &lt;virtualDirectory path=\"/\" physicalPath=\"D:\\projekty\\cs\\Boomerang\\source\\webapi\\Nerdolando.Boomerang.WebAPI\" /&gt;\n    &lt;/application&gt;\n    &lt;bindings&gt;\n      &lt;binding protocol=\"http\" bindingInformation=\"*:50628:localhost\" /&gt;\n      &lt;binding protocol=\"http\" bindingInformation=\"*:50628:169.254.80.80\" /&gt;\n      &lt;binding protocol=\"http\" bindingInformation=\"169.254.80.80:8080\" /&gt;\n      &lt;binding protocol=\"http\" bindingInformation=\"*:8080:169.254.80.80\" /&gt;\n    &lt;/bindings&gt;\n  &lt;/site&gt;\n  &lt;siteDefaults&gt;\n    &lt;logFile logFormat=\"W3C\" directory=\"%IIS_USER_HOME%\\Logs\" /&gt;\n    &lt;traceFailedRequestsLogging directory=\"%IIS_USER_HOME%\\TraceLogFiles\" enabled=\"true\" maxLogFileSizeKB=\"1024\" /&gt;\n  &lt;/siteDefaults&gt;\n  &lt;applicationDefaults applicationPool=\"Clr4IntegratedAppPool\" /&gt;\n  &lt;virtualDirectoryDefaults allowSubDirConfig=\"true\" /&gt;\n&lt;/sites&gt;\n</code></pre>\n\n<p>As you can see, I tried different bindings. And still getting 503 error. What can I do more?</p>\n"}, {"tags": ["c#", ".net", "iis", "registry", "installation"], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 4997192, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3eba2ffc536f600cc8e0290ce9e6f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "amindomeniko", "link": "https://stackoverflow.com/users/4997192/amindomeniko"}, "edited": false, "score": 0, "creation_date": 1545250333, "post_id": 53754651, "comment_id": 94564779, "body": "The issue here is not listing the available websites in a IIS but rather how to link a particular website&#39;s virtual directory with its installer product name.   For instance you can install a web application on your machine named &quot;ABC DEF&quot; but during installation you can rename the virtual directory of this program to &quot;XYZ&quot;. I can find both names but I don&#39;t know how to relate them. When you uninstall the program &quot;ABC DEF&quot;, Windows knows how to remove the associated files from the related virtual directory &quot;XYZ&quot;. So this must be saved somewhere!"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 367, "user_id": 4997192, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3eba2ffc536f600cc8e0290ce9e6f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "amindomeniko", "link": "https://stackoverflow.com/users/4997192/amindomeniko"}, "edited": false, "score": 0, "creation_date": 1545251518, "post_id": 53754651, "comment_id": 94565232, "body": "This code lists the virtual directories in a specific website. And if you can see the properties of a virtual directory, then you can read the physical path."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 0, "last_activity_date": 1544671981, "creation_date": 1544671981, "answer_id": 53754651, "question_id": 53749688, "link": "https://stackoverflow.com/questions/53749688/how-to-correctly-link-the-installed-web-application-name-and-its-virtual-directo/53754651#53754651", "title": "How to correctly link the installed web application name and its virtual directory name?", "body": "<p>You can use <code>DirectoryEntry</code> to browse the IIS configuration. Here is an example pulled from <a href=\"https://stackoverflow.com/a/13696452/1202807\">another question</a>:</p>\n\n<pre><code>void ListVirtualDirectories(string serverName, int siteId) {            \n   DirectoryEntry iisServer = new DirectoryEntry(\"IIS://\" + serverName + \"/W3SVC/\" + siteId + \"/ROOT\");\n\n   foreach (DirectoryEntry webDir in iisServer.Children) {\n       if (webDir.SchemaClassName.Equals(\"IIsWebVirtualDir\"))\n               Console.WriteLine(\"Found virtual directory {0}\", webDir.Name);\n   }\n}\n</code></pre>\n\n<p>The <code>siteId</code> is a numerical value corresponding to each site listed in IIS. This method forces you to provide it, but you could find all the sites on the server too if you wanted. Just search Google for that if you need it. But this should get you started.</p>\n"}], "owner": {"reputation": 367, "user_id": 4997192, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3eba2ffc536f600cc8e0290ce9e6f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "amindomeniko", "link": "https://stackoverflow.com/users/4997192/amindomeniko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544671981, "creation_date": 1544641268, "question_id": 53749688, "link": "https://stackoverflow.com/questions/53749688/how-to-correctly-link-the-installed-web-application-name-and-its-virtual-directo", "title": "How to correctly link the installed web application name and its virtual directory name?", "body": "<p>Using ServerManager, I can get the list of virtual directories for my installed web applications. I can also verify if a specific web application is installed using registry key search. I am, however, unable to locate the web application physical path that is usually in inetpub\\wwwroot.</p>\n\n<p>InstallLocation field in the related registry does not have any value. How can I achieve this? </p>\n"}, {"tags": ["c#", ".net", "sdk", "quickbooks"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1544641400, "post_id": 53749682, "comment_id": 94352056, "body": "It&#39;s an attribute being applied to that method parameter (<code>lpMsg</code>) - <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1544642501, "post_id": 53749930, "comment_id": 94352592, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/arrays/\" rel=\"nofollow noreferrer\">Not always</a>.  <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/indexers/\" rel=\"nofollow noreferrer\">See also</a>."}, {"owner": {"reputation": 101, "user_id": 6217526, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-L2dyL_dT5Zs/AAAAAAAAAAI/AAAAAAAAAHs/x1lUIwVp04Y/photo.jpg?sz=128", "display_name": "Julius Alvarado", "link": "https://stackoverflow.com/users/6217526/julius-alvarado"}, "edited": false, "score": 0, "creation_date": 1544646777, "post_id": 53749930, "comment_id": 94354528, "body": "For this particular line of code I believe that&#39;s what it is. Thanks jri"}], "tags": [], "owner": {"reputation": 86, "user_id": 3735740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd4b2eb7d3b2eca8ae895d3c41b41487?s=128&d=identicon&r=PG&f=1", "display_name": "jri", "link": "https://stackoverflow.com/users/3735740/jri"}, "is_accepted": true, "score": 1, "last_activity_date": 1544643021, "last_edit_date": 1544643021, "creation_date": 1544642282, "answer_id": 53749930, "question_id": 53749682, "link": "https://stackoverflow.com/questions/53749682/what-does-in-function-signature-do-in-c/53749930#53749930", "title": "What does [] in function signature do in C#", "body": "<p>In this case, the code between <code>[]</code> are attributes. See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.inattribute?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">InAttribute</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.outattribute?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">OutAttribute</a> for more information.</p>\n"}], "owner": {"reputation": 101, "user_id": 6217526, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-L2dyL_dT5Zs/AAAAAAAAAAI/AAAAAAAAAHs/x1lUIwVp04Y/photo.jpg?sz=128", "display_name": "Julius Alvarado", "link": "https://stackoverflow.com/users/6217526/julius-alvarado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53749930, "answer_count": 1, "score": 0, "last_activity_date": 1544643021, "creation_date": 1544641234, "question_id": 53749682, "link": "https://stackoverflow.com/questions/53749682/what-does-in-function-signature-do-in-c", "title": "What does [] in function signature do in C#", "body": "<p>I am studying QuickBooks SDK code and saw this line:</p>\n\n<pre><code>[DllImport(\"user32.dll\")]\nstatic extern bool TranslateMessage([In] ref MSG lpMsg);\n</code></pre>\n\n<blockquote>\n  <p>What is confusing me is the <strong>[In]</strong> in the function signature</p>\n</blockquote>\n\n<hr>\n\n<p>I don't know where to look to learn what this is.\nCan someone explain it or point me to the docs to read about it? </p>\n\n<p>I am studying the code from \n<a href=\"https://github.com/IntuitDeveloper/QBXML_SDK13_Samples/tree/master/qbdt/c-sharp/qbXML/SubscribeAndHandleQBEvent_vs03\" rel=\"nofollow noreferrer\">SubscribeAndHandleQBEvent_vs03</a></p>\n\n<p>The line is in the SubscribeAndHandleQBEvent_vs03.cs file </p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-identity", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1544690654, "post_id": 53749631, "comment_id": 94368004, "body": "@TanvirArjel I&#39;ve rolled back your edit that makes it look like the OP asked to also change the type of the Role type, seeing as how that was not the case."}], "answers": [{"comments": [{"owner": {"reputation": 840, "user_id": 985197, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/J5jZk.png?s=128&g=1", "display_name": "djack109", "link": "https://stackoverflow.com/users/985197/djack109"}, "edited": false, "score": 0, "creation_date": 1569682467, "post_id": 53749671, "comment_id": 102679307, "body": "Ok, there must be something missing because this doesn&#39;t work. When I create my migration the ID on User is still a string."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 840, "user_id": 985197, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/J5jZk.png?s=128&g=1", "display_name": "djack109", "link": "https://stackoverflow.com/users/985197/djack109"}, "edited": false, "score": 0, "creation_date": 1569685218, "post_id": 53749671, "comment_id": 102679952, "body": "@djack109 Maybe you&#39;ve previously built the tables with <code>string</code> type instead of <code>int</code> type. Try deleting all of you migrations and creating it from scratch with the type as <code>int</code>. If this doesn&#39;t work, then please create a new question with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "tags": [], "owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "is_accepted": false, "score": 5, "last_activity_date": 1544690294, "last_edit_date": 1544690294, "creation_date": 1544641190, "answer_id": 53749671, "question_id": 53749631, "link": "https://stackoverflow.com/questions/53749631/change-id-type-of-asp-net-core-2-2-identityuser/53749671#53749671", "title": "Change Id type of asp.net core 2.2 IdentityUser", "body": "<p>You can write your own implementation that derives from <code>IdentityUser</code></p>\n\n<pre><code>public class AppUser : IdentityUser&lt;int&gt; \n{\n\n}\n</code></pre>\n\n<p>Then register it:</p>\n\n<pre><code>services.AddDefaultIdentity&lt;AppUser&gt;()\n</code></pre>\n\n<p>This is also useful if you want to add additional properties to your user model.</p>\n\n<p>Remember that because you are changing primary key of the tables, so you will need to recreate these tables instead of updating them. </p>\n"}, {"comments": [{"owner": {"reputation": 1452, "user_id": 8930751, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/150736446582c901ffe2e4f397f39b73?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/8930751/crazycoder"}, "edited": false, "score": 0, "creation_date": 1551711199, "post_id": 53810304, "comment_id": 96729254, "body": "When I add &quot;.AddDefaultUI(UIFramework.Bootstrap4)&quot;  in Identity, it is giving me error &quot;The name UIFramweork does not exist in current context&quot;. What should I download or install for this?"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 1452, "user_id": 8930751, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/150736446582c901ffe2e4f397f39b73?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/8930751/crazycoder"}, "edited": false, "score": 0, "creation_date": 1551752338, "post_id": 53810304, "comment_id": 96745744, "body": "@CrazyCoder <code>.AddDefaultUI(UIFramework.Bootstrap4)</code> is in the .net core 2.2 template."}, {"owner": {"reputation": 1585, "user_id": 404089, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdce59930b6fd7c716269b85512dd104?s=128&d=identicon&r=PG", "display_name": "Evil Pigeon", "link": "https://stackoverflow.com/users/404089/evil-pigeon"}, "edited": false, "score": 0, "creation_date": 1556877280, "post_id": 53810304, "comment_id": 98585555, "body": "The command from the package manager console is <i>Add-Migration</i> e.g <code>Add-Migration AspIdentity</code> To apply the changes to your database: <code>Update-Database</code> <a href=\"https://docs.microsoft.com/en-us/ef/core/managing-schemas/migrations/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/managing-schemas/migrations</a>"}, {"owner": {"reputation": 4750, "user_id": 4367683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee4128897e5b55ba4c43cb5ac1c3206e?s=128&d=identicon&r=PG", "display_name": "Machado", "link": "https://stackoverflow.com/users/4367683/machado"}, "edited": false, "score": 0, "creation_date": 1590673808, "post_id": 53810304, "comment_id": 109773570, "body": "I would also recommend you reading <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/customize-identity-model?view=aspnetcore-3.1#change-the-primary-key-type\" rel=\"nofollow noreferrer\">the docs</a> for instructions for making it work with SignInManager and other Idenitty services seamsly."}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": false, "score": 8, "last_activity_date": 1545030038, "creation_date": 1545030038, "answer_id": 53810304, "question_id": 53749631, "link": "https://stackoverflow.com/questions/53749631/change-id-type-of-asp-net-core-2-2-identityuser/53810304#53810304", "title": "Change Id type of asp.net core 2.2 IdentityUser", "body": "<p>For changing IdentityUser key type from string to int, you also need to change the <code>IdentityDbContext</code> to <code>IdentityDbContext&lt;IdentityUser&lt;int&gt;,IdentityRole&lt;int&gt;,int&gt;</code>.      </p>\n\n<ol>\n<li><p>Startup.cs    </p>\n\n<pre><code>services.AddDefaultIdentity&lt;IdentityUser&lt;int&gt;&gt;()\n    .AddDefaultUI(UIFramework.Bootstrap4)\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();\n</code></pre></li>\n<li><p><code>ApplicationDbContext</code>  </p>\n\n<pre><code>public class ApplicationDbContext : IdentityDbContext&lt;IdentityUser&lt;int&gt;,IdentityRole&lt;int&gt;,int&gt;\n{\n    public ApplicationDbContext(DbContextOptions&lt;ApplicationDbContext&gt; options)\n        : base(options)\n    {\n    }\n}\n</code></pre></li>\n<li><p>Remove <code>Migrations</code> folder and delete the existing database</p></li>\n<li><p>Run command to add and update the database</p></li>\n</ol>\n"}], "owner": {"reputation": 251, "user_id": 5679516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b368e234c403d64d0cca50ab81d06913?s=128&d=identicon&r=PG&f=1", "display_name": "Owen", "link": "https://stackoverflow.com/users/5679516/owen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6510, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1545030038, "creation_date": 1544640999, "last_edit_date": 1544690562, "question_id": 53749631, "link": "https://stackoverflow.com/questions/53749631/change-id-type-of-asp-net-core-2-2-identityuser", "title": "Change Id type of asp.net core 2.2 IdentityUser", "body": "<p>I'm new to dot-net core 2.x, so...</p>\n\n<p>I would like to change the type of the Id in asp.net core 2.2 IdentityUser from string to int.</p>\n\n<p>All the examples I've found via google (and the stackoverflow search facility) are giving me examples of asp.net core 2.0 which provides an ApplicationUser when you scaffold Identity (which 2.2 did not provide).</p>\n\n<p>SO, I'm at a loss..  The first thing I tried (which I had high hopes for) was:</p>\n\n<pre><code>services.AddDefaultIdentity&lt;IdentityUser&lt;int&gt;&gt;()\n  .AddRoles&lt;IdentityRole&gt;()\n  .AddDefaultTokenProviders()\n  .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();\n</code></pre>\n\n<p>But, I get the following error when I try to Add-Migration InitialCreate -Context ApplicationDbContext:</p>\n\n<blockquote>\n  <p>An error occurred while accessing the IWebHost on class 'Program'. Continuing without the application service provider. Error: GenericArguments[0], 'Microsoft.AspNetCore.Identity.IdentityUser`1[System.Int32]', on 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[TUser,TRole,TContext,TKey,TUserClaim,TUserRole,TUserLogin,TUserToken,TRoleClaim]' violates the constraint of type 'TUser'</p>\n</blockquote>\n\n<p>Thoughts? Ideas? Documentation I can read?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544641396, "post_id": 53749626, "comment_id": 94352053, "body": "It may be an initialization error, can you show us the main() function? The problem happens when you set [...].m_speed = 20f, right?"}, {"owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "reply_to_user": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544641515, "post_id": 53749626, "comment_id": 94352116, "body": "I get object refererence not set to instance of object and I dragged my tank prefab onto the gameobject. I want to boost the player speed normal is 12f i want 20f when collides."}, {"owner": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544641891, "post_id": 53749626, "comment_id": 94352297, "body": "There should two possibilities: Or you are not calling the adequate instance or you didn\u2019t initialize the object. This is why I asked to see the main code, so we can see where did you declare the instance and where were you trying to asign the value."}, {"owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "reply_to_user": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544643302, "post_id": 53749626, "comment_id": 94352977, "body": "I added my scripts but I dont get it should it not be fine how i got the script but still not working as intended only when i change it to static again but that is bad practice i found out"}, {"owner": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544643655, "post_id": 53749626, "comment_id": 94353174, "body": "Ok, then I\u2019m sure it is an initialization problem. You still didn\u2019t post the \u201cmain()\u201d function. There, you should first declare Tank t = new Tank();, and then you shall set t.m_speed = 20f;. Understood? tell me if it works and I post an answer!"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 1, "creation_date": 1544644030, "post_id": 53749626, "comment_id": 94353360, "body": "@J.Francis There is no <code>main</code> function when you are coding for the unity engine."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544644157, "post_id": 53749626, "comment_id": 94353420, "body": "@Jerry Does the colliding <code>GameObject</code> tagged with <code>Player</code> have the <code>TankMovement</code> script you are interested in accessing?"}, {"owner": {"reputation": 155, "user_id": 8346755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nzTZcuuDC0M/AAAAAAAAAAI/AAAAAAAAAYQ/dlKqbRvXmBU/photo.jpg?sz=128", "display_name": "J. Francis", "link": "https://stackoverflow.com/users/8346755/j-francis"}, "edited": false, "score": 0, "creation_date": 1544644169, "post_id": 53749626, "comment_id": 94353427, "body": "Damn, my bad. I thought it had the same behavior. My apologizes!"}, {"owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544648525, "post_id": 53749626, "comment_id": 94355245, "body": "Yes it does @Ruzihm"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1544650627, "post_id": 53749626, "comment_id": 94356112, "body": "I think there&#39;s a typo in your question. You never seem to call <code>FindWithTag</code> so it&#39;s unclear where the exception occurs."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "edited": false, "score": 0, "creation_date": 1544648962, "post_id": 53750451, "comment_id": 94355417, "body": "If I were to reset the boost in update with a boolean becoming false how would you then reference this I posted what I did in edit and im getting a null reference error"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "edited": false, "score": 0, "creation_date": 1544649297, "post_id": 53750451, "comment_id": 94355565, "body": "Please edit your question to show which line you&#39;re getting the null reference error on, so I can better understand where the problem is."}, {"owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "edited": false, "score": 0, "creation_date": 1544650160, "post_id": 53750451, "comment_id": 94355927, "body": "Edited, I am just confused cause my Tank is instantieted which means it spawns in so its not there from the beginning."}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 0, "last_activity_date": 1544644534, "creation_date": 1544644534, "answer_id": 53750451, "question_id": 53749626, "link": "https://stackoverflow.com/questions/53749626/how-to-change-player-speed-with-public-float-from-another-script/53750451#53750451", "title": "How to change player speed with public float from another script", "body": "<p>Since the <code>TankMovement</code> component you need to access is attached to the <code>GameObject</code> that is colliding with the power, you can get the <code>TankMovement</code> component you need to change by using <code>other.gameObject.GetComponent&lt;TankMovement&gt;()</code>:</p>\n\n<pre><code>private void OnTriggerEnter(Collider other)\n{\n    if (other.gameObject.CompareTag(\"Player\"))\n    {\n        if (!boosting)\n        {\n            // stuff\n            TankMovement collidedMovement = other.gameObject.GetComponent&lt;TankMovement&gt;();\n            collidedMovement.m_Speed = 20f;\n            // more stuff\n        }    \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10782539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14386d5aed7f99b21775886063249a76?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10782539/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544649890, "creation_date": 1544640977, "last_edit_date": 1544649890, "question_id": 53749626, "link": "https://stackoverflow.com/questions/53749626/how-to-change-player-speed-with-public-float-from-another-script", "title": "How to change player speed with public float from another script", "body": "<p>Hey I am trying to change a float when my player collides with a object. I tried many ways of reference but only got null when trying to debug I came up with this so far. I want to get the gameobject that contains the player script meaning the player and after I want to get the component script tankmovement to change the variable in it.</p>\n\n<p>Getting the null reference error in the powerups script line 79 reset function <code>Tank=GameObject.FindWithTag(\"Player\")</code></p>\n\n<pre><code>        using System.Collections.Generic;\n    using UnityEngine;\n    public class PowerUp : MonoBehaviour {\n\n        public bool boosting = false;\n        public GameObject effect;\n        public AudioSource clip;\n        public GameObject Tank;\n        private void Start()\n        {\n           Tank  = GameObject.Find(\"Tank(Clone)\");\n          TankMovement script = GetComponent&lt;TankMovement&gt;();\n        }\n\n        private void OnTriggerEnter(Collider other)\n        {\n            if (other.gameObject.CompareTag(\"Player\"))\n            {\n                if (!boosting)\n                {\n                    clip.Play();\n                    GameObject explosion = Instantiate(effect, transform.position, transform.rotation);\n                    Destroy(explosion, 2);\n                    GetComponent&lt;MeshRenderer&gt;().enabled = false;\n                    GetComponent&lt;Collider&gt;().enabled = false;\n                    Tank.GetComponent&lt;TankMovement&gt;().m_Speed = 20f;\n                    //TankMovement.m_Speed = 20f;\n                    boosting = true;\n                    Debug.Log(boosting);\n                    StartCoroutine(coolDown());\n                }\n\n\n            }\nprivate IEnumerator coolDown()\n    {\n        if (boosting == true)\n        {\n            yield return new WaitForSeconds(4);\n            {\n                boosting = false;\n                GetComponent&lt;MeshRenderer&gt;().enabled = true;\n                GetComponent&lt;Collider&gt;().enabled = true;\n                Debug.Log(boosting);\n               // Destroy(gameObject);\n\n            }\n        }\n    }\n\n    void reset()\n    {\n        //TankMovement.m_Speed = 12f;\n        TankMovement collidedMovement = Tank.gameObject.GetComponent&lt;TankMovement&gt;();\n        collidedMovement.m_Speed = 12f;\n        //TankMovement1.m_Speed1 = 12f;\n    }\n\n        }\n        }\n</code></pre>\n\n<p>Trying to call on my m_Speed float in the player script to boost the speed of my player when he collides with it. How would you get a proper reference since my player is a prefab.</p>\n\n<p>Tank script</p>\n\n<pre><code>  using UnityEngine;\n\n    public class TankMovement : MonoBehaviour\n    {\n        public int m_PlayerNumber = 1;         \n        public float m_Speed = 12f;            \n        public float m_TurnSpeed = 180f;       \n        public AudioSource m_MovementAudio;    \n        public AudioClip m_EngineIdling;       \n        public AudioClip m_EngineDriving;      \n        public float m_PitchRange = 0.2f;\n\n\n        private string m_MovementAxisName;     \n        private string m_TurnAxisName;         \n        private Rigidbody m_Rigidbody;         \n        private float m_MovementInputValue;    \n        private float m_TurnInputValue;        \n        private float m_OriginalPitch;         \n\n\n        private void Awake()\n        {\n            m_Rigidbody = GetComponent&lt;Rigidbody&gt;();\n        }\n\n\n        private void OnEnable ()\n        {\n            m_Rigidbody.isKinematic = false;\n            m_MovementInputValue = 0f;\n            m_TurnInputValue = 0f;\n        }\n\n\n        private void OnDisable ()\n        {\n            m_Rigidbody.isKinematic = true;\n        }\n\n\n        private void Start()\n        {\n            m_MovementAxisName = \"Vertical\" + m_PlayerNumber;\n            m_TurnAxisName = \"Horizontal\" + m_PlayerNumber;\n\n            m_OriginalPitch = m_MovementAudio.pitch;\n        }\n\n        private void Update()\n        {\n            // Store the player's input and make sure the audio for the engine is playing.\n            m_MovementInputValue = Input.GetAxis(m_MovementAxisName);\n            m_TurnInputValue = Input.GetAxis(m_TurnAxisName);\n\n            EngineAudio();\n        }\n\n\n        private void EngineAudio()\n        {\n            // Play the correct audio clip based on whether or not the tank is moving and what audio is currently playing.\n\n            if (Mathf.Abs(m_MovementInputValue) &lt; 0.1f &amp;&amp; Mathf.Abs(m_TurnInputValue) &lt; 0.1f)\n            {\n                if (m_MovementAudio.clip == m_EngineDriving)\n\n                {\n                    m_MovementAudio.clip = m_EngineIdling;\n                    m_MovementAudio.pitch = Random.Range(m_OriginalPitch - m_PitchRange, m_OriginalPitch + m_PitchRange);\n                    m_MovementAudio.Play();\n                }\n            }\n            else\n            {\n                if (m_MovementAudio.clip == m_EngineIdling)\n\n                {\n                    m_MovementAudio.clip = m_EngineDriving;\n                    m_MovementAudio.pitch = Random.Range(m_OriginalPitch - m_PitchRange, m_OriginalPitch + m_PitchRange);\n                    m_MovementAudio.Play();\n                }\n            }\n        }\n\n\n        private void FixedUpdate()\n        {\n            // Move and turn the tank.\n            Move();\n            Turn();\n        }\n\n\n        private void Move()\n        {\n            // Adjust the position of the tank based on the player's input.\n            Vector3 movement = transform.forward * m_MovementInputValue * m_Speed * Time.deltaTime;\n\n            m_Rigidbody.MovePosition(m_Rigidbody.position + movement);\n        }\n\n\n        private void Turn()\n        {\n            // Adjust the rotation of the tank based on the player's input.\n            float turn = m_TurnInputValue * m_TurnSpeed * Time.deltaTime;\n\n            Quaternion turnRotation = Quaternion.Euler(0f, turn, 0);\n\n            m_Rigidbody.MoveRotation(m_Rigidbody.rotation * turnRotation);\n        }\n\n\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 1710, "user_id": 5278004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OruJk.jpg?s=128&g=1", "display_name": "Wes Doyle", "link": "https://stackoverflow.com/users/5278004/wes-doyle"}, "edited": false, "score": 0, "creation_date": 1544641006, "post_id": 53749600, "comment_id": 94351868, "body": "<a href=\"https://stackoverflow.com/questions/802329/how-to-combine-where-clause-and-group-by-in-linq\" title=\"how to combine where clause and group by in linq\">stackoverflow.com/questions/802329/&hellip;</a>"}, {"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 1, "creation_date": 1544641284, "post_id": 53749600, "comment_id": 94352000, "body": "Why would the users table have multiple users with the same id?"}, {"owner": {"reputation": 33, "user_id": 10102279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d959dcacd9957b1e05b807e04b65eb?s=128&d=identicon&r=PG&f=1", "display_name": "dee dee", "link": "https://stackoverflow.com/users/10102279/dee-dee"}, "edited": false, "score": 0, "creation_date": 1544641350, "post_id": 53749600, "comment_id": 94352028, "body": "sorry I do not get your question. A user have many projects, I want to list all projects from any user that is important"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10102279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d959dcacd9957b1e05b807e04b65eb?s=128&d=identicon&r=PG&f=1", "display_name": "dee dee", "link": "https://stackoverflow.com/users/10102279/dee-dee"}, "edited": false, "score": 0, "creation_date": 1544641847, "post_id": 53749789, "comment_id": 94352270, "body": "Thanks for the suggestion. What I would like to get is something like  User1&gt; //list of projects User 2&gt;project1,project45,project44"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "reply_to_user": {"reputation": 33, "user_id": 10102279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d959dcacd9957b1e05b807e04b65eb?s=128&d=identicon&r=PG&f=1", "display_name": "dee dee", "link": "https://stackoverflow.com/users/10102279/dee-dee"}, "edited": false, "score": 1, "creation_date": 1544642124, "post_id": 53749789, "comment_id": 94352396, "body": "@deedee - you already have that in your object - just project it to the specific desired output"}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": false, "score": 2, "last_activity_date": 1544641671, "creation_date": 1544641671, "answer_id": 53749789, "question_id": 53749600, "link": "https://stackoverflow.com/questions/53749600/linq-select-group-by-where-syntax/53749789#53749789", "title": "Linq select group by where syntax", "body": "<p>As you use navigation properties and the projects are already properties of your <code>User</code> class then you do not need to group by anything. Just retrieve the users where <code>Important</code> is true:</p>\n\n<pre><code> var result = await _dbContext.Users.Include(p =&gt; p.Proyectos)\n                              .Where(u =&gt; u.IsImportant);\n</code></pre>\n\n<p><em>(And of course you can add the projection to the <code>usuariosRobotViewModel</code> object)</em></p>\n"}, {"comments": [{"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1544642419, "post_id": 53749878, "comment_id": 94352541, "body": "Apparently it&#39;s not, except for some more explanation about SQL vs. LINQ. I was typing my answer and only noticed yours after I saved."}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 2, "creation_date": 1544642598, "post_id": 53749878, "comment_id": 94352654, "body": "I will leave it there just in case the explanation is useful to anybody, but +1 to yours."}, {"owner": {"reputation": 33, "user_id": 10102279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d959dcacd9957b1e05b807e04b65eb?s=128&d=identicon&r=PG&f=1", "display_name": "dee dee", "link": "https://stackoverflow.com/users/10102279/dee-dee"}, "edited": false, "score": 0, "creation_date": 1544644434, "post_id": 53749878, "comment_id": 94353532, "body": "I have a question...If I do not need to group by, how can I present the data into my view, grouped by user id?"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1544646375, "post_id": 53749878, "comment_id": 94354354, "body": "That&#39;s a presentation matter. The data is already grouped by <code>User</code> (i.e. each <code>User</code> has a list of <code>Proyectos</code> objects. They way you present it is up to you. For example, you can use master/details view. If you have some issue with presentation, open a new question and provide your code."}], "tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": true, "score": 1, "last_activity_date": 1544642067, "creation_date": 1544642067, "answer_id": 53749878, "question_id": 53749600, "link": "https://stackoverflow.com/questions/53749600/linq-select-group-by-where-syntax/53749878#53749878", "title": "Linq select group by where syntax", "body": "<p>The problem with LINQ is that developers are still thinking in the SQL way and trying to convert it to LINQ Which sometimes doesn't work and sometimes is not optimal. In your case, you're using a navigation property when you're including the <code>Proyectos</code> object, and LINQ already knows the relationship between the <code>User</code> and <code>Proyectos</code> objects, so you don't need to group or do anything else:</p>\n\n<pre><code>var usuariosRobotVmInDb = await _dbContext.Users.Include(p =&gt; p.Proyectos)\n        .Where(u =&gt; u.IsImportant) //Same as u.IsImportant == true\n        .Select(x =&gt; new usuariosRobotViewModel {\n            Id = x.Key,\n            Nombre = x.Nombre,\n            ...\n        }).ToListAsync();\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10102279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d959dcacd9957b1e05b807e04b65eb?s=128&d=identicon&r=PG&f=1", "display_name": "dee dee", "link": "https://stackoverflow.com/users/10102279/dee-dee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 53749878, "answer_count": 2, "score": 1, "last_activity_date": 1544642067, "creation_date": 1544640886, "last_edit_date": 1544641701, "question_id": 53749600, "link": "https://stackoverflow.com/questions/53749600/linq-select-group-by-where-syntax", "title": "Linq select group by where syntax", "body": "<p>I have these classes:</p>\n\n<pre><code>User {\n    //identity user class\n    public IList&lt;Proyecto&gt; Proyectos { get; set; }\n    public bool IsImportant { get; set }\n}\n\nProyecto\n{\n   public Guid Id { get; set; }\n   // more properties here    \n}\n</code></pre>\n\n<p>What I am trying to do is to group by userId all the projects they have created and where <code>IsImportant</code> is true.</p>\n\n<p>I have tried this</p>\n\n<pre><code>  var usuariosRobotVmInDb =await  _dbContext.Users.Include(p=&gt;p.Proyectos)\n            .groupby(u=&gt;u.id)\n            .Where(u =&gt; u.IsImportant== True)\n            .Select(x=&gt; new usuariosRobotViewModel\n            {\n                Id=x.Id,\n                Name=x.Name,\n                LastName=x.LastName,\n                Phone=x.Phone,\n                Email=x.Email,\n                proyectosVms=x.Proyectos.Select(a=&gt;new ProyectosVm {Id=a.Id,Date=a.Date})\n\n            }).ToListAsync();\n</code></pre>\n\n<p>But it seems I can not use a groupBy and a where clause...How can I fix this? thanks</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1544641020, "post_id": 53749593, "comment_id": 94351875, "body": "your special character always to be at last ?"}, {"owner": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1544642813, "post_id": 53749593, "comment_id": 94352718, "body": "what if I say may be yes or may be it is in between or may be it is on start."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1544642881, "post_id": 53749593, "comment_id": 94352753, "body": "check answer. i think i have covered all the cases"}], "answers": [{"comments": [{"owner": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "edited": false, "score": 1, "creation_date": 1544644666, "post_id": 53749685, "comment_id": 94353624, "body": "The forth bird provide its answer in c# thats why I accepted it. Thanks for your time. I upvote your answer as I know there is no need to downvote your answer."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1544644778, "post_id": 53749685, "comment_id": 94353679, "body": "But are these are not included in special characters ?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "edited": false, "score": 0, "creation_date": 1544644899, "post_id": 53749685, "comment_id": 94353725, "body": "@Ahmer was just curious to know if I missed something thats it. It doesn&#39;t matter vpvote or down vote I am here just to learn :)"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 1, "last_activity_date": 1544644806, "last_edit_date": 1544644806, "creation_date": 1544641248, "answer_id": 53749685, "question_id": 53749593, "link": "https://stackoverflow.com/questions/53749593/c-how-to-filtered-datatable-rows-which-containing-alphanumeric-with-special-cha/53749685#53749685", "title": "C# How to filtered datatable rows which containing alphanumeric with special characters using Regex", "body": "<p><strong>You can try this based on your example patterns this will serve</strong></p>\n\n<pre><code>^(?=.*\\d)(?=.*[A-Za-z])(?=.*[!@#$&amp;()\\\\-`.+,\\/\\\"]).*$\n</code></pre>\n\n<blockquote>\n  <p>Explanation</p>\n</blockquote>\n\n<ul>\n<li><code>^</code> - Anchor to start of string.</li>\n<li><code>(?=.*\\d)</code> - Condition for checking at least one digit must be there in match.</li>\n<li><code>(?=.*[A-Za-z])</code> - Condition for checking at least one character must be there in match.</li>\n<li><code>(?=.*[!@#$&amp;()\\\\-</code>.+,/\\\"])` - Condition for checking at least one special must be there in match.</li>\n<li><code>.*</code>  - Match anything except newline.</li>\n<li><code>$</code> - End of string.</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/xWquhV/8\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "edited": false, "score": 0, "creation_date": 1544643522, "post_id": 53750162, "comment_id": 94353104, "body": "This is what I&#39;m looking for."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "edited": false, "score": 0, "creation_date": 1544643754, "post_id": 53750162, "comment_id": 94353222, "body": "@AhmerAliAhsan my regex was same only. i don&#39;t see any difference ?"}, {"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1544644348, "post_id": 53750162, "comment_id": 94353500, "body": "@CodeManiac The question of the OP is to match  Alphanumeric with special characters. The solution you posted also matches <a href=\"https://regex101.com/r/IuUGnS/1\" rel=\"nofollow noreferrer\">A1@&#195;\u0192&#198;</a>. Note that <code>[A-z]</code> matches more than <code>[A-Za-z]</code>"}], "tags": [], "owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": false, "score": 1, "last_activity_date": 1544643248, "creation_date": 1544643248, "answer_id": 53750162, "question_id": 53749593, "link": "https://stackoverflow.com/questions/53749593/c-how-to-filtered-datatable-rows-which-containing-alphanumeric-with-special-cha/53750162#53750162", "title": "C# How to filtered datatable rows which containing alphanumeric with special characters using Regex", "body": "<p>In your regex you are using a single chararacter class which will only select one out of many, but your have 3 requirements.</p>\n\n<p>In your second regex, everything is optional due to the <code>*</code> and the <code>?</code></p>\n\n<p>You could use 3 positive lookaheads to assert your requirements:</p>\n\n<pre><code>^(?=.*\\d)(?=.*[!@#$&amp;()`.+,\\/\\-])(?=.*[A-Z])[A-Z\\d!@#$&amp;()`.+,\\/\\-]+$\n</code></pre>\n\n<p>In C#:</p>\n\n<pre><code>string pattern = @\"^(?=.*\\d)(?=.*[!@#$&amp;()`.+,\\/\\-])(?=.*[a-zA-Z])[a-zA-Z\\d!@#$&amp;()`.+,\\/-]+$\";\n</code></pre>\n\n<p>That will match:</p>\n\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?=.*\\d)</code> Assert a digit</li>\n<li><code>(?=.*[!@#$&amp;()</code>.+,/-])` Assert a special character</li>\n<li><code>(?=.*[A-Za-z])</code> Assert a lowercase or uppercase character</li>\n<li><code>[A-Za-z\\d!@#$&amp;()</code>.+,/-]+` Match 1+ times only the allowed characters</li>\n<li><code>$</code> End of the string</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/ZKuWnC/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/2QpNqT\" rel=\"nofollow noreferrer\">C# Demo</a></p>\n"}], "owner": {"reputation": 4038, "user_id": 5869145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8efUF.jpg?s=128&g=1", "display_name": "Ahmer Ali Ahsan", "link": "https://stackoverflow.com/users/5869145/ahmer-ali-ahsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 53749685, "answer_count": 2, "score": 0, "last_activity_date": 1544644806, "creation_date": 1544640860, "last_edit_date": 1544643952, "question_id": 53749593, "link": "https://stackoverflow.com/questions/53749593/c-how-to-filtered-datatable-rows-which-containing-alphanumeric-with-special-cha", "title": "C# How to filtered datatable rows which containing alphanumeric with special characters using Regex", "body": "<p>I have below data in my C# Datatable</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xe3Ly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xe3Ly.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want is to filter those data which has Alphanumeric with special characters like:</p>\n\n<p><code>HOAUD039#</code>\n<code>HOAUD00$</code></p>\n\n<p>So I try below regex in my linq query:</p>\n\n<pre><code>var matches =\n    dt.AsEnumerable()\n    .Where(row =&gt; Regex.IsMatch(row[\"Empolyee_CRC\"].ToString(),\n                                \"^[a-zA-Z0-9!@#$&amp;()\\\\-`.+,/\\\"]*$\"))\n    .CopyToDataTable();\n</code></pre>\n\n<p>which returns me both Alphanumeric result and Alphanumeric with characters like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/duGmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/duGmo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now my question is simple and clear what is the right way to show results only having Alphanumeric with special characters.</p>\n\n<p>I've also tried this regex but it is also not work\n<code>^(?:[\\d,\\/().]*[a-zA-Z][a-zA-Z\\d,\\/().]*)?$</code></p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 1020, "user_id": 5195490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28201712e0c088d2418f41f38f8afa?s=128&d=identicon&r=PG", "display_name": "npo", "link": "https://stackoverflow.com/users/5195490/npo"}, "edited": false, "score": 3, "creation_date": 1544641687, "post_id": 53749556, "comment_id": 94352192, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34442419/getting-the-variable-name-for-nullreferenceexception\">Getting the variable name for NullReferenceException</a>"}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 1, "creation_date": 1544643889, "post_id": 53749556, "comment_id": 94353285, "body": "This is almost certainly a debugger feature not a runtime feature since even debug builds don&#39;t include local variable names."}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1544644400, "post_id": 53749556, "comment_id": 94353520, "body": "Where are the parameters in the above code segment? The method has none."}, {"owner": {"reputation": 19, "user_id": 10782438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vvP0ugoaNko/AAAAAAAAAAI/AAAAAAAAAOI/ApN0J7Qp_Lc/photo.jpg?sz=128", "display_name": "shubham tunkikar", "link": "https://stackoverflow.com/users/10782438/shubham-tunkikar"}, "edited": false, "score": 0, "creation_date": 1544864569, "post_id": 53749556, "comment_id": 94432973, "body": "Actually it was just a demo... No parameters are required... I have just reproduced... Nullreference exception..."}], "owner": {"reputation": 19, "user_id": 10782438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vvP0ugoaNko/AAAAAAAAAAI/AAAAAAAAAOI/ApN0J7Qp_Lc/photo.jpg?sz=128", "display_name": "shubham tunkikar", "link": "https://stackoverflow.com/users/10782438/shubham-tunkikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1544641032, "creation_date": 1544640725, "question_id": 53749556, "link": "https://stackoverflow.com/questions/53749556/vs-2017-c-nullreference-exception", "title": "Vs 2017 C# nullreference exception", "body": "<p>I am curious about a very interesting thing, can give my query by a senario.\nSupposed I have written this code in my test method</p>\n\n<pre><code>[TestMethod]\nPublic void test method()\n{\n    String userId = null;\n    Int lenght = userId.length;\n}\n</code></pre>\n\n<p>In visual studio 2017 (as I am using this only)</p>\n\n<p>It will throw nullreference exception through a pop-up which will say  \"userId was null\".</p>\n\n<p>As I have not handled through try and catch purposely.</p>\n\n<p>Now I am curious about it that where did it get the parameter name (\"userId\") which was null... And if anyone knows about it please let me know if I can get the parameter name which was null in my catch block\nAs in\n catch(Exception ex){ex.how_can_i_get_null_parameter}</p>\n\n<p>. True help will be much appreciated may be a perfect answer can get a treat from me...\nFor more details I will also attach screen shot of the pop-up as soon as I reach my work place. </p>\n"}, {"tags": ["c#", ".net", "methods", "struct"], "comments": [{"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 1, "creation_date": 1544640565, "post_id": 53749465, "comment_id": 94351616, "body": "yea, why not? its called callBack"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 0, "creation_date": 1544655676, "post_id": 53749465, "comment_id": 94358213, "body": "@PhilM You realize that is for C++ and not the C# in this question, right?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1544656222, "post_id": 53749465, "comment_id": 94358387, "body": "Do all the methods in question return a <code>Dictionary&lt;string,string&gt;</code> ? What is the type of <code>replacements</code>? Do all the <code>struct</code>s have the same type?"}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 0, "creation_date": 1544657132, "post_id": 53749465, "comment_id": 94358663, "body": "Ah, failure to read tags, my old foe. Apologies."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1544657063, "creation_date": 1544657063, "answer_id": 53752919, "question_id": 53749465, "link": "https://stackoverflow.com/questions/53749465/can-i-pass-a-method-name-parameter-to-a-method-that-can-be-used-by-a-class-or-st/53752919#53752919", "title": "Can I pass a method-name parameter to a method that can be used by a class or struct?", "body": "<p>Assuming there is one global <code>replacements</code> <code>struct</code> (??) and assuming the unspecified types, you can pass in a lambda to specify the member method to call.</p>\n\n<pre><code>public void CreatePart(Func&lt;ReplacementMap, Dictionary&lt;string, string&gt;&gt; getReplacementMap) {\n    CreateTextPart(\"DefaultText.txt\",\n        (string text) =&gt; {\n            var mapd = getReplacementMap(replacements);\n            Regex regex = new Regex(string.Join(\"|\", mapd.Keys.Select(x =&gt; Regex.Escape(x))));\n            string replaced = regex.Replace(text, m =&gt; mapd[m.Value]);\n            return replaced;\n        }\n    );\n}\n</code></pre>\n\n<p>Then you just call <code>CreatePart</code> for each part:</p>\n\n<pre><code>public void CreateTextFile() {\n    CreatePart(r =&gt; r.DefaultText());\n    CreatePart(r =&gt; r.RedText());\n    CreatePart(r =&gt; r.EndText());\n}\n</code></pre>\n\n<p>But, why do all this when you can just pass in the method call result directly?</p>\n\n<pre><code>public void CreatePart(Dictionary&lt;string, string&gt; mapd) {\n    CreateTextPart(\"DefaultText.txt\",\n        (string text) =&gt; {\n            Regex regex = new Regex(string.Join(\"|\", mapd.Keys.Select(x =&gt; Regex.Escape(x))));\n            string replaced = regex.Replace(text, m =&gt; mapd[m.Value]);\n            return replaced;\n        }\n    );\n}\n\npublic void CreateTextFile() {\n    CreatePart(replacements.DefaultText());\n    CreatePart(replacements.RedText());\n    CreatePart(replacements.EndText());\n}\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 9616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd372729d752196e0634e2be4711063?s=128&d=identicon&r=PG&f=1", "display_name": "Jacce", "link": "https://stackoverflow.com/users/9616687/jacce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53752919, "answer_count": 1, "score": 0, "last_activity_date": 1544657063, "creation_date": 1544640355, "last_edit_date": 1544646921, "question_id": 53749465, "link": "https://stackoverflow.com/questions/53749465/can-i-pass-a-method-name-parameter-to-a-method-that-can-be-used-by-a-class-or-st", "title": "Can I pass a method-name parameter to a method that can be used by a class or struct?", "body": "<p>Currently I have this method: </p>\n\n<pre><code> public void CreateDefaultTextPart(Func&lt;string&gt; methodName)\n {\n    CreateTextPart(\"DefaultText.txt\", (string text)  =&gt;\n    {\n        Regex regex = new Regex(string.Join(\"|\", replacements.DefaultText().Keys.Select(x =&gt; Regex.Escape(x))));\n        string replaced = regex.Replace(text, m =&gt; replacements.DefaultText()[m.Value]);\n        return replaced;\n    }\n    );\n }\n</code></pre>\n\n<p>where <code>replacements</code> is a struct. </p>\n\n<p>I have a bunch of these methods that is fairly similiar, only difference is the part of the code were the <code>replacement</code> struct is calling its methods. So instead of having to repeat the <code>CreateTextPart</code> method for every method that is in the struct I would like to just call a generic method name like this: </p>\n\n<pre><code>replacements.methodName()\n</code></pre>\n\n<p>Where <code>methodname()</code> can be any valid method that I pass in, that is existing in the struct.\nSo I then can pass in the <code>methodname</code> parameter directly into <code>CreateTextPart</code> , instead of having multiple methods doing basically the same thing. </p>\n\n<p>Currently I am calling the methods like this:</p>\n\n<pre><code>  public void CreateTextFile()\n  {\n    CreateDefaultTextPart(SomeTestMethod); //\"SomeTestMethod\" is not used by any means here.\n    CreateRedTextPart();\n    CreateEndTextPart();\n  }\n</code></pre>\n\n<p>And I would like to just do it like this if possible:</p>\n\n<pre><code> public void CreateTextFile()\n  {\n    CreateDefaultTextPart(DefaultText);\n    CreateDefaultTextPart(RedText);\n    CreateDefaultTextPart(EndText);\n  }\n</code></pre>\n\n<p>The resulting method should then look like this:</p>\n\n<pre><code>public void CreateDefaultTextPart(Func&lt;string&gt; methodName)\n {\n    CreateTextPart(\"DefaultText.txt\", (string text)  =&gt;\n    {\n        Regex regex = new Regex(string.Join(\"|\", replacements.methodName().Keys.Select(x =&gt; Regex.Escape(x))));\n        string replaced = regex.Replace(text, m =&gt; replacements.methodName()[m.Value]);\n        return replaced;\n    }\n    );\n }\n</code></pre>\n\n<p>With a better suiting name of course. </p>\n\n<p>I know that I can't use <code>Func</code> here like I'm doing but is it possible to achieve this in some other way?\nThanks!</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1544639591, "post_id": 53749244, "comment_id": 94351129, "body": "This just means your Namespace table has an identity column. Something like <code>PRIMARY KEY IDENTITY (1, 1)</code> and your save is trying to write to that column which SQL server does not like."}, {"owner": {"reputation": 501, "user_id": 238917, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5caac2780ec003dc94ceba91a1e7137?s=128&d=identicon&r=PG", "display_name": "cabird", "link": "https://stackoverflow.com/users/238917/cabird"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1544639783, "post_id": 53749244, "comment_id": 94351230, "body": "I understand that&#39;s what it means.  I&#39;m asking how to get EFC to understand that it shouldn&#39;t write it again since the entity was already added to the DB."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1544639885, "post_id": 53749244, "comment_id": 94351274, "body": "nope. I think you are still misunderstanding what it means. It means you should NEVER write to that column (unless you are trying to copy data with identity), not that you shouldnt write to it again."}, {"owner": {"reputation": 501, "user_id": 238917, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5caac2780ec003dc94ceba91a1e7137?s=128&d=identicon&r=PG", "display_name": "cabird", "link": "https://stackoverflow.com/users/238917/cabird"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1544640181, "post_id": 53749244, "comment_id": 94351417, "body": "OK.  I think I am misunderstanding.  I&#39;m not explicitly trying to write to that column.  I&#39;m creating the Namespace entity and in the first call to context.SaveChanges(), it successfully saves the Namespace entity.  Then the second SaveChanges() (which is trying to write the Type entity) is where the failure occurs.  I&#39;m not trying to write that column and I&#39;m not sure what I&#39;m doing that makes EFC try to write to that column."}, {"owner": {"reputation": 1769, "user_id": 7313749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aJ3Rw.jpg?s=128&g=1", "display_name": "obl", "link": "https://stackoverflow.com/users/7313749/obl"}, "edited": false, "score": 0, "creation_date": 1544640259, "post_id": 53749244, "comment_id": 94351460, "body": "I think you should take a look at <a href=\"https://stackoverflow.com/questions/25441027/how-do-i-stop-entity-framework-from-trying-to-save-insert-child-objects\" title=\"how do i stop entity framework from trying to save insert child objects\">stackoverflow.com/questions/25441027/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 3, "last_activity_date": 1544647735, "creation_date": 1544647735, "answer_id": 53751115, "question_id": 53749244, "link": "https://stackoverflow.com/questions/53749244/entity-framework-inserting-entity-twice-in-two-different-contexts/53751115#53751115", "title": "Entity Framework inserting entity twice in two different contexts", "body": "<blockquote>\n  <p>I thought EFC would recognize that the id is not 0 and not try to save it.</p>\n</blockquote>\n\n<p>The problem is that you are using <code>Add</code> method which marks all reachable and not tracked entities as new, regardless of the key value (this is to allow the identity insert scenarios). This is explained in the <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/disconnected-entities#all-newall-existing-entities\" rel=\"nofollow noreferrer\">Disconnected Entities - Working with graphs - All new/all existing entities</a>. While your screnario falls into <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/disconnected-entities#mix-of-new-and-existing-entities\" rel=\"nofollow noreferrer\">Mix of new and existing entities</a>.</p>\n\n<blockquote>\n  <p>Any idea how to get EFC to recognize (in the second <code>context.SaveChanges</code>) that <code>myType</code> should be inserted into the database, but <code>myType.Namespace</code> should not because it's already there? Both of the entities have an <code>int</code> id that is autogenerated by the DB and the id of Namespace is set to the database value after the first call to <code>SaveChanges</code>.</p>\n</blockquote>\n\n<p>Actually there is a simple solution explained in the second documentation link:</p>\n\n<blockquote>\n  <p>With auto-generated keys, Update can again be used for both inserts and updates, even if the graph contains a mix of entities that require inserting and those that require updating</p>\n</blockquote>\n\n<p>where \"again\" refers to <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/disconnected-entities#saving-single-entities\" rel=\"nofollow noreferrer\">Saving single entities</a>:</p>\n\n<blockquote>\n  <p>The Update method normally marks the entity for update, not insert. However, if the entity has a auto-generated key, and no key value has been set, then the entity is instead automatically marked for insert.</p>\n</blockquote>\n\n<p>Luckily your entities use auto-generated keys, so simply use <code>Update</code> instead of <code>Add</code>:</p>\n\n<pre><code>if (dbType == null)\n{\n    dbType = myType;\n    context.Update(dbType); // &lt;--\n}\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 238917, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5caac2780ec003dc94ceba91a1e7137?s=128&d=identicon&r=PG", "display_name": "cabird", "link": "https://stackoverflow.com/users/238917/cabird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1544647735, "creation_date": 1544639418, "last_edit_date": 1544647606, "question_id": 53749244, "link": "https://stackoverflow.com/questions/53749244/entity-framework-inserting-entity-twice-in-two-different-contexts", "title": "Entity Framework inserting entity twice in two different contexts", "body": "<p>I'm using Entity Framework Core to store an object graph in a database.  At various times while I'm building the graph, I create an entity, store it to the database, and the release the context.  However, I'm running into an issue where EFC is trying to insert an entity that has already been inserted when it is connected to a new entity.  This is best explained with code.  Here's a short repro piece of code (this is straight line code, but the two uses of contexts happen at different times and places in the code).</p>\n\n<p>In the second call to <code>context.SaveChanges()</code>, I get the following exception:</p>\n\n<p>SqlException: </p>\n\n<blockquote>\n  <p>Cannot insert explicit value for identity column in table 'Namespace' when IDENTITY_INSERT is set to OFF.</p>\n</blockquote>\n\n<p>When I look at the SQL being executed, it is trying to insert the namespace entity again, presumably because myType is being saved to the DB and it has a reference to the <code>dbNamespace</code> entity.</p>\n\n<pre><code>// see if namespace is in the db and add it if not\nstring someNamespaceString = \"foobar\";\nCodeDatabase.Models.Namespace dbNamespace;\nusing (var context = new CodeFactsContext())\n{\n    dbNamespace = context.Namespace.FirstOrDefault(ns =&gt; ns.Namespace1 == someNamespaceString);\n    if (dbNamespace == null)\n    {\n        dbNamespace = new Namespace() { Namespace1 = someNamespaceString };\n        context.Namespace.Add(dbNamespace);\n    }\n    context.SaveChanges();\n}\n\n// Type entity created somewhere from the code\nvar myType = new CodeDatabase.Models.Type()\n{\n    FullName = \"foobar.mytype\",\n    ShortName = \"mytype\",\n    Namespace = dbNamespace // this is already in the DB\n};\n\n// check if myType is in the db and add it if not\nusing (var context = new CodeFactsContext())\n{\n    var dbType = context.Type.FirstOrDefault(t =&gt; t.FullName == myType.FullName);\n    if (dbType == null)\n    {\n        dbType = myType;\n        context.Add(dbType);\n    }\n    context.SaveChanges(); // throws exception\n}\n</code></pre>\n\n<p>Any idea how to get EF Core to recognize (in the second <code>context.SaveChanges()</code>) that <code>myType</code> should be inserted into the database, but <code>myType.Namespace</code> should not because it's already there?  Both of the entities have an int id that is autogenerated by the DB and the id of Namespace is set to the database value after the first call to <code>SaveChanges</code>.  I thought EF Core would recognize that the id is not 0 and not try to save it.  Any help/suggestions very welcomed.</p>\n"}, {"tags": ["c#", "winforms", "azure-active-directory", "adal"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1544639766, "post_id": 53749090, "comment_id": 94351225, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/37341121/getting-javascript-errors-when-authenticating-using-adal\">this</a> SO question?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1544640707, "post_id": 53749090, "comment_id": 94351712, "body": "Permanently enable the IE11 compatibility mode and extended features: <a href=\"https://stackoverflow.com/questions/38514184/how-can-i-get-the-webbrowser-control-to-show-modern-contents?answertab=active#tab-top\">How can I get the WebBrowser control to show modern contents?</a> -- <a href=\"https://stackoverflow.com/a/28626667/7444103\">Web browser control emulation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10473696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8478610875f9812f37701ed1fc9c81?s=128&d=identicon&r=PG&f=1", "display_name": "Rany Morkas", "link": "https://stackoverflow.com/users/10473696/rany-morkas"}, "edited": false, "score": 0, "creation_date": 1544649900, "post_id": 53749146, "comment_id": 94355789, "body": "Not its not in a webBrowser. Am using &quot;Microsoft.Identity.Client&quot; to open Microsoft authentication form"}], "tags": [], "owner": {"reputation": 1, "user_id": 10703009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e104a1fec151b3f10ad7267e3100c9?s=128&d=identicon&r=PG&f=1", "display_name": "MinisBett", "link": "https://stackoverflow.com/users/10703009/minisbett"}, "is_accepted": false, "score": 0, "last_activity_date": 1544639004, "creation_date": 1544639004, "answer_id": 53749146, "question_id": 53749090, "link": "https://stackoverflow.com/questions/53749090/getting-javascript-errors-when-authenticating-winform-app-using-adal/53749146#53749146", "title": "Getting JavaScript-errors when authenticating Winform App using ADAL", "body": "<p>Is the authentification in a <code>WebBrowser</code>?\nIf yes you can block them by setting <code>ScriptErrorsSuppressed</code> to true.\nI don't know if it blocks any importent javascript scripts.</p>\n\n<p>Solution from here: <a href=\"https://stackoverflow.com/questions/2476360/disable-javascript-error-in-webbrowser-control\">Disable JavaScript error in WebBrowser control</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10473696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8478610875f9812f37701ed1fc9c81?s=128&d=identicon&r=PG&f=1", "display_name": "Rany Morkas", "link": "https://stackoverflow.com/users/10473696/rany-morkas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544639223, "creation_date": 1544638755, "last_edit_date": 1544639223, "question_id": 53749090, "link": "https://stackoverflow.com/questions/53749090/getting-javascript-errors-when-authenticating-winform-app-using-adal", "title": "Getting JavaScript-errors when authenticating Winform App using ADAL", "body": "<p>Am using winforms and I am using Microsoft Graph API (ADAL) to authenticate our users. Everthing was working good. Starting from yesterday I start getting this JS error and when you click Yes or No its still working fine, Can any one know why this start showing?</p>\n\n<p>Thanks</p>\n\n<p><img src=\"https://i.stack.imgur.com/A8xa1.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "sql", "tsql", "odbc", "progress-db"], "comments": [{"owner": {"reputation": 67968, "user_id": 584192, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBSIc.png?s=128&g=1", "display_name": "Samuel Liew", "link": "https://stackoverflow.com/users/584192/samuel-liew"}, "edited": false, "score": 0, "creation_date": 1544833233, "post_id": 53749074, "comment_id": 94428447, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/185277/discussion-on-question-by-smitty-werben-jager-manjenson-progress-odbc-tsql-case\">moved to chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 0, "creation_date": 1544646442, "post_id": 53750499, "comment_id": 94354385, "body": "You&#39;re the best! I wasn&#39;t aware you could use multiple <code>WHEN</code> statements in a <code>CASE</code> statement.  Ended up using  <code>SELECT  CASE  WHEN (table1_qty_comp = 0) THEN &#39;Pending&#39;  WHEN (table1_qty_comp &gt;= table2_qty_req) THEN &#39;Completed&#39; ELSE &#39;In-Process&#39; END Status</code>"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 1, "creation_date": 1544646708, "post_id": 53750499, "comment_id": 94354487, "body": "@Smitty-Werben-Jager-Manjenson Well, yea. I kind of let that slide because I thought, your code is PSEUDO-code, which partially true, and which just shows your NEED to have sub-case. Yea, if you don&#39;t need id - as you found out... At that point I was solving issue of some sort of bug that shortened data rather than ask you id you NEED this sub-case. I think, value of your question is in the data cutting rather than that you can use multiple WHEN"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 0, "creation_date": 1544647157, "post_id": 53750499, "comment_id": 94354682, "body": "@Smitty-Werben-Jager-Manjenson can you still try this syntax and see if it works?"}, {"owner": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 0, "creation_date": 1544647244, "post_id": 53750499, "comment_id": 94354713, "body": "It is mostly pseudo code... I didn&#39;t want to give out the actual fields/tables of our clients&#39; database, and there are more complex JOINS and such but the string truncation was really breaking my brain.  I really appreciate all of your time and help with this problem!"}, {"owner": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 0, "creation_date": 1544647602, "post_id": 53750499, "comment_id": 94354866, "body": "I tried the latest syntax and it gives me a syntax error.  One of the bad things with the ODBC driver and the ODBC Query Tool program is they don&#39;t give you much information as to why the error occurred or what caused it.  &quot;Syntax error&quot; is about as good as it gets."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "edited": false, "score": 0, "creation_date": 1544649293, "post_id": 53750499, "comment_id": 94355563, "body": "Well. don&#39;t want to push it but it works for me in Sql Server, Oracle and Mysql. Because this is just standard SQL"}], "tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1544647090, "last_edit_date": 1544647090, "creation_date": 1544644756, "answer_id": 53750499, "question_id": 53749074, "link": "https://stackoverflow.com/questions/53749074/progress-odbc-tsql-case-statement-for-dynamic-column-is-truncating-data/53750499#53750499", "title": "Progress-ODBC-TSQL CASE Statement for Dynamic Column is Truncating Data", "body": "<p>To clarify this answer. While the OP problem could be solved with multiple <code>WHEN</code> in <code>CASE</code>, my understanding was that this is pseudo-code and OP <strong>needs</strong> sub-case. In this context there is a bug [I think] that truncates string data. The below syntax is to solve that issue. I think, value of this question is in the data cutting rather than that you can use multiple <code>WHEN</code></p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n    CASE \n       WHEN myCol = 0 THEN 'Pending' \n        WHEN myCol = 1 THEN 'Completed' \n        ELSE 'In-Process' \n    END  Status\nFROM\n  (SELECT \n       CASE \n           WHEN (table1_qty_comp = 0) THEN 0 \n           ELSE \n               CASE WHEN (table1_qty_comp &gt;= table2_qty_req) THEN 1       \n               ELSE 2 \n               END\n       END AS myCol\n    FROM \n        table1 LEFT JOIN table2 ON table1_part = table2_part) t1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11356, "user_id": 123238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0WXOq.jpg?s=128&g=1", "display_name": "Tom Bascom", "link": "https://stackoverflow.com/users/123238/tom-bascom"}, "is_accepted": true, "score": 1, "last_activity_date": 1545667090, "creation_date": 1545667090, "answer_id": 53915482, "question_id": 53749074, "link": "https://stackoverflow.com/questions/53749074/progress-odbc-tsql-case-statement-for-dynamic-column-is-truncating-data/53915482#53915482", "title": "Progress-ODBC-TSQL CASE Statement for Dynamic Column is Truncating Data", "body": "<p>The Progress database stores all values as variable length and does not honor any width attribute.</p>\n\n<p>The Progress 4GL is perfectly happy dealing with \"over stuffed\" fields.  This is normal for a Progress application but it gives fits to SQL clients.</p>\n\n<p>You are running Progress version 9 (which is ancient, obsolete and unsupported) so your only options are to either deal with it on the client (as seen in the post and the answer by T.S.) or to run the provided \"dbtool\" utility.  The dbtool utility will scan the database and find any fields that have been over stuffed and then adjust the \"sql width\" so that SQL clients have an accurate picture of the actual data width.</p>\n\n<p>This might be helpful:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11998342/fixing-sql-length-error-in-progress-4gl-10-2b\">Fixing sql length error in progress 4gl 10.2B</a></p>\n\n<p>(that answer is for OpenEdge 10.2b but it will work just as well with Progress 9.1e)</p>\n"}], "owner": {"reputation": 258, "user_id": 4669311, "user_type": "registered", "profile_image": "https://graph.facebook.com/882802561765599/picture?type=large", "display_name": "Smitty-Werben-Jager-Manjenson", "link": "https://stackoverflow.com/users/4669311/smitty-werben-jager-manjenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 53915482, "answer_count": 2, "score": 1, "last_activity_date": 1545667090, "creation_date": 1544638679, "last_edit_date": 1545666334, "question_id": 53749074, "link": "https://stackoverflow.com/questions/53749074/progress-odbc-tsql-case-statement-for-dynamic-column-is-truncating-data", "title": "Progress-ODBC-TSQL CASE Statement for Dynamic Column is Truncating Data", "body": "<p>I am using an ODBC driver to connect to a Progress database via a Windows C# application.  The problem I am having is my data is being truncated.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n    CASE \n        WHEN (table1_qty_comp = 0) THEN 'Pending' \n        ELSE \n            CASE WHEN (table1_qty_comp &gt;= table2_qty_req) THEN 'Completed'       \n            ELSE 'In-Process' \n            END\n       END AS 'Status'\nFROM \n    table1 LEFT JOIN table2 ON table1_part = table2_part\n</code></pre>\n\n<p>Only 8 characters will appear in my 'Status' column so 'In-Process' turns into 'In-Proce'.<br>\nI've tried various casts/converts such as</p>\n\n<pre><code>cast('In-Process' as varchar)\ncast('In-Process' as varchar(12))\ncast('In-Process' as nvarchar)\ncast('In-Process' as nvarchar(12))\nconvert(varchar(12), 'In-Process')\nconvert(nvarchar(12), 'In-Process')\nstr('In-Process')\n</code></pre>\n\n<p>to no avail.  How can I get the full 'In-Process' to appear in my column?</p>\n\n<p>Here is how I query the Progress database from C#</p>\n\n<pre><code>DataTable dt = new DataTable();\ntry\n{\n    using (OdbcConnection conn = new OdbcConnection(GetConnectionString(db)))\n    {\n        OdbcCommand cmd = new OdbcCommand(qry, conn);\n\n        conn.Open();\n        OdbcDataAdapter adpt = new OdbcDataAdapter(cmd);\n        adpt.Fill(dt);\n    }                \n }\n catch (OdbcException e)\n {\n\n }\n\n return dt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I wanted to append my question with what may be useful information...  This is ODBC driver: Vendor=DataDirect, Progress SQL92 v9.1E, version 4.10.01.  Here are some resources for this particular driver provided by another user in the comments, <a href=\"https://community.progress.com/community_groups/openedge_general/w/openedgegeneral/1777.9-1e-sql-92-guide-and-reference\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://community.progress.com/community_groups/openedge_general/w/openedgegeneral/1775.9-1e-odbc-driver-guide\" rel=\"nofollow noreferrer\">here</a>   Also, I was able to solve my issue by not using nested <code>CASE</code> statements like:</p>\n\n<pre><code>SELECT \n        CASE \n            WHEN (table1_qty_comp = 0) THEN 'Pending'                 \n            WHEN (table1_qty_comp &gt;= table2_qty_req) THEN 'Completed'       \n            ELSE 'In-Process'               \n        END AS 'Status'\n    FROM \n        table1 LEFT JOIN table2 ON table1_part = table2_part\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "jwt", "asp.net-identity", "asp.net-core-2.1"], "answers": [{"comments": [{"owner": {"reputation": 74696, "user_id": 130015, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/13871016e7ff62f95d47c0eeb9194674?s=128&d=identicon&r=PG", "display_name": "chobo2", "link": "https://stackoverflow.com/users/130015/chobo2"}, "edited": false, "score": 0, "creation_date": 1544722359, "post_id": 53757308, "comment_id": 94386280, "body": "yea I understand storing their role in the jwt token but what about individual claims of that role like &quot;can_read&quot; or something like that. Or is it better to just query that stuff later?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "reply_to_user": {"reputation": 74696, "user_id": 130015, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/13871016e7ff62f95d47c0eeb9194674?s=128&d=identicon&r=PG", "display_name": "chobo2", "link": "https://stackoverflow.com/users/130015/chobo2"}, "edited": false, "score": 0, "creation_date": 1544750712, "post_id": 53757308, "comment_id": 94396443, "body": "@chobo2 This is role info, you can add that in JWT token ."}], "tags": [], "owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "is_accepted": false, "score": 0, "last_activity_date": 1544687788, "creation_date": 1544687788, "answer_id": 53757308, "question_id": 53748958, "link": "https://stackoverflow.com/questions/53748958/do-i-add-added-claims-from-aspnetuserclaims-to-jwtsecuritytoken/53757308#53757308", "title": "Do I add Added Claims from AspNetUserClaims to JwtSecurityToken?", "body": "<p>Usually we store identifier claims like userid/username , role info like guest/admin in JWT tokens . You can click <a href=\"https://stackoverflow.com/a/38906429/5751404\">here</a> for more details about claims in JWT token.</p>\n\n<p>You can add user's claims which are small , important to your client to JWT token . If doing that , be careful with the size and better not include sensitive information.</p>\n\n<p>But I would recommend not to keep the user profile info into claims . You can use the token to make Api call on server to get the user's profile information by looking up the database .</p>\n"}], "owner": {"reputation": 74696, "user_id": 130015, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/13871016e7ff62f95d47c0eeb9194674?s=128&d=identicon&r=PG", "display_name": "chobo2", "link": "https://stackoverflow.com/users/130015/chobo2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544687788, "creation_date": 1544638203, "question_id": 53748958, "link": "https://stackoverflow.com/questions/53748958/do-i-add-added-claims-from-aspnetuserclaims-to-jwtsecuritytoken", "title": "Do I add Added Claims from AspNetUserClaims to JwtSecurityToken?", "body": "<p>I am using Asp.net Identity Core and made some claims in \"AspNetUserClaims\". Now I am wondering if I should add all these claims to the JwtSecurityToken when a user logs in?</p>\n\n<p>Or should I be grabbing them another way?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639440, "post_id": 53748924, "comment_id": 94351061, "body": "well your <code>Main</code> method is <code>static</code> and the <code>PopImg</code> value is non-static -&gt; the static method Main can not access it. Note that in Unities <code>MonoBehaviour</code> there is no such thing as <code>public static Main</code> usually. You rather want to use <code>private void Awake()</code> or <code>private void Start()</code> instead"}, {"owner": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639699, "post_id": 53748924, "comment_id": 94351193, "body": "@derHugo I edited the script, can you please provide new feedback?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639728, "post_id": 53748924, "comment_id": 94351205, "body": "Wow wait now you changed the entire script ... please avoid doing that and rather close the question and open a new one"}, {"owner": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639802, "post_id": 53748924, "comment_id": 94351235, "body": "@derHugo Will keep in mind. Can you please help me with the current one?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544640024, "post_id": 53748924, "comment_id": 94351346, "body": "well, it compiles now ..."}, {"owner": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544643063, "post_id": 53748924, "comment_id": 94352842, "body": "@derHugo It compiles but how do I pass the information about which gameobject I am talking about?"}], "answers": [{"comments": [{"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "reply_to_user": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "edited": false, "score": 0, "creation_date": 1544641669, "post_id": 53749188, "comment_id": 94352184, "body": "@GiorgiQutateladze are you still getting compile errors with your edited code?"}, {"owner": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "edited": false, "score": 0, "creation_date": 1544643088, "post_id": 53749188, "comment_id": 94352856, "body": "It compiles but how do I pass the information about which gameobject I am talking about?"}, {"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "reply_to_user": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "edited": false, "score": 0, "creation_date": 1544644950, "post_id": 53749188, "comment_id": 94353752, "body": "The same way you would pass along any other value: through class variables."}], "tags": [], "owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "is_accepted": false, "score": 0, "last_activity_date": 1544641654, "last_edit_date": 1544641654, "creation_date": 1544639188, "answer_id": 53749188, "question_id": 53748924, "link": "https://stackoverflow.com/questions/53748924/unable-to-compile-script-for-setting-image-active-inactive-because-of-non-static/53749188#53749188", "title": "Unable to compile script for setting image active/inactive because of non-static member", "body": "<h1>Edit</h1>\n\n<p>Your edited code should now be compiling. You should not be getting any more errors with this file.</p>\n\n<hr>\n\n<h1>Original</h1>\n\n<p>You will want to take a look at Unity's <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.html\" rel=\"nofollow noreferrer\">MonoBehaviour</a> class and its lifecycle and methods. You do not use <code>static void Main()</code> as an entry point into the script.</p>\n"}], "owner": {"reputation": 23, "user_id": 9471862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1730777440280344/picture?type=large", "display_name": "Giorgi Qutateladze", "link": "https://stackoverflow.com/users/9471862/giorgi-qutateladze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1554787356, "creation_date": 1544638068, "last_edit_date": 1554787356, "question_id": 53748924, "link": "https://stackoverflow.com/questions/53748924/unable-to-compile-script-for-setting-image-active-inactive-because-of-non-static", "title": "Unable to compile script for setting image active/inactive because of non-static member", "body": "<p>I'm new to Unity and I'm trying to make a script which when triggered will set an image active and then if triggered again will set it inactive.</p>\n\n<pre><code>using UnityEngine;\nusing UnityEngine.UI;\nusing System.Collections;\n\npublic class PopImage : MonoBehaviour\n{\n\n    public GameObject PopImg;\n    static void Main() {\n    if (PopImg.activeSelf) {\n        PopImg.SetActive(false);\n    }\n    else {\n        PopImg.SetActive(true);\n    }\n}\n</code></pre>\n\n<p><code>PopImage</code> is the script name, <code>PopImg</code> is the image name that needs to be activated/deactivated.</p>\n\n<p>I receive the following errors.</p>\n\n<blockquote>\n  <p>Assets/PopImage.cs(10,6): error CS0120: An object reference is required to access non-static member `PopImage.PopImg'</p>\n  \n  <p>Assets/PopImage.cs(11,5): error CS0120: An object reference is required to access non-static member `PopImage.PopImg'</p>\n  \n  <p>Assets/PopImage.cs(14,5): error CS0120: An object reference is required to access non-static member `PopImage.PopImg'</p>\n</blockquote>\n"}, {"tags": ["c#", "angular", "datetime", "asp.net-core-2.1"], "comments": [{"owner": {"reputation": 558, "user_id": 10722096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N5NilX_PtyM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j9-_XeOltZnf8NoX-55gsKVkiyQA/mo/photo.jpg?sz=128", "display_name": "Roma Ruzich", "link": "https://stackoverflow.com/users/10722096/roma-ruzich"}, "edited": false, "score": 0, "creation_date": 1544645397, "post_id": 53748919, "comment_id": 94353936, "body": "Hi, JED. I think it is better to save datetime in UTC on server side. And then convert to local on client-side (you may use moment.js). In all my projects I use such case."}], "answers": [{"comments": [{"owner": {"reputation": 3050, "user_id": 66207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3f205b245a05bb42534079e3b39167e?s=128&d=identicon&r=PG", "display_name": "keuleJ", "link": "https://stackoverflow.com/users/66207/keulej"}, "edited": false, "score": 0, "creation_date": 1544641883, "post_id": 53749771, "comment_id": 94352292, "body": "I think you&#39;re mixing IANA time zones and Windows time zones here. TimeZoneInfo works with the timeZoneId from Windows. Something Like &quot;W. Europe Standard Time&quot;. And &quot;Europe/Berlin&quot; is a IANA time zone."}, {"owner": {"reputation": 1028, "user_id": 6529286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCRmG.jpg?s=128&g=1", "display_name": "VBorisoff", "link": "https://stackoverflow.com/users/6529286/vborisoff"}, "reply_to_user": {"reputation": 3050, "user_id": 66207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3f205b245a05bb42534079e3b39167e?s=128&d=identicon&r=PG", "display_name": "keuleJ", "link": "https://stackoverflow.com/users/66207/keulej"}, "edited": false, "score": 0, "creation_date": 1544644261, "post_id": 53749771, "comment_id": 94353468, "body": "@keuleJ Thanks! You&#39;re right - happened to work for me because of my OS. Edited to use TimeZoneConverter."}], "tags": [], "owner": {"reputation": 1028, "user_id": 6529286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCRmG.jpg?s=128&g=1", "display_name": "VBorisoff", "link": "https://stackoverflow.com/users/6529286/vborisoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1544644202, "last_edit_date": 1544644202, "creation_date": 1544641602, "answer_id": 53749771, "question_id": 53748919, "link": "https://stackoverflow.com/questions/53748919/angular-5-and-net-core-2-1-api-getting-current-time-in-users-timezone/53749771#53749771", "title": "Angular 5 and .NET Core 2.1 API: Getting current time in user&#39;s timezone", "body": "<p>You can install <a href=\"https://github.com/mj1856/TimeZoneConverter\" rel=\"nofollow noreferrer\">TimeZoneConverter</a> via NuGet.<br/> \nThen, if you manage to pass in your header a timezone information like <code>Europe/Berlin</code>, you could do the following in your backend:</p>\n\n<pre><code>using TimeZoneConverter;\n...\nstring timezoneString = \"Europe/Berlin\";\nTimeZoneInfo timezone = TZConvert.GetTimeZoneInfo(timezoneString);\nConsole.WriteLine(TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, timezone));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "edited": false, "score": 0, "creation_date": 1544642517, "post_id": 53749876, "comment_id": 94352602, "body": "That&#39;s what I&#39;ve been debating... and that&#39;s what my app actually does. However, I&#39;m fond of the idea of being able to send back DateTimes in the client&#39;s local time because some API calling services like Postman don&#39;t have the functionality to make the conversions for you. Obviously if the end-user is creating their own interface for the API, then they should be able to make the conversions themselves. It&#39;s just something I&#39;ve been mulling over."}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "edited": false, "score": 0, "creation_date": 1544642750, "post_id": 53749876, "comment_id": 94352700, "body": "However, being that I specifically asked this question about Angular, you&#39;re probably correct!"}], "tags": [], "owner": {"reputation": 3050, "user_id": 66207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3f205b245a05bb42534079e3b39167e?s=128&d=identicon&r=PG", "display_name": "keuleJ", "link": "https://stackoverflow.com/users/66207/keulej"}, "is_accepted": true, "score": 0, "last_activity_date": 1544642058, "creation_date": 1544642058, "answer_id": 53749876, "question_id": 53748919, "link": "https://stackoverflow.com/questions/53748919/angular-5-and-net-core-2-1-api-getting-current-time-in-users-timezone/53749876#53749876", "title": "Angular 5 and .NET Core 2.1 API: Getting current time in user&#39;s timezone", "body": "<p>Make shure that you send every Timestamp as UTC to the client. Something like \"2018-12-12T20:13:00.000Z\". If you convert that to a JavaScript Date it should display automatically in the local time zone of the Browser.</p>\n"}], "owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4414, "favorite_count": 1, "accepted_answer_id": 53749876, "answer_count": 2, "score": 3, "last_activity_date": 1544644202, "creation_date": 1544638052, "question_id": 53748919, "link": "https://stackoverflow.com/questions/53748919/angular-5-and-net-core-2-1-api-getting-current-time-in-users-timezone", "title": "Angular 5 and .NET Core 2.1 API: Getting current time in user&#39;s timezone", "body": "<p>This works but I was wondering if anyone has a better method.</p>\n\n<p><strong>Goal:</strong> </p>\n\n<p>Get client's DateTime offset and return DateTime values in client's local time.</p>\n\n<p><strong>What I did:</strong> </p>\n\n<p>On the front-end, I created a custom header and passed it in the request.</p>\n\n<pre><code>export class ItemService {\n  baseUrl = environment.apiUrl;\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json',\n      'TimeZone-Offset': `${new Date().getTimezoneOffset()}`\n    })\n  }\n\n  constructur(private authHttp: HttpClient) { }\n\n  getItems() {\n    return this.authHttp.get&lt;Item[]&gt;(this.baseUrl + 'items', \n      { headers: this.httpOptions.headers });\n  }\n}\n</code></pre>\n\n<p>Then on the back-end, I pulled in the header value, converted it to an integer, then converted UTC time to local using the <code>AddMinutes</code> functionality.</p>\n\n<pre><code>public class ItemsController : Controller\n{\n  [HttpGet]\n  public async Task&lt;IActionResult&gt; GetItems()\n  {\n    var currentTime = DateTime.UtcNow.AddMinutes(int.Parse(\n      Request.Headers[\"TimeZone-Offset\"] != StringValues.Empty\n        ? Request.Headers[\"TimeZone-Offset\"][0] : \"0\"));\n\n    // ...logic to return items\n  }\n</code></pre>\n\n<p>So, if the TimeZone-Offset header is added, the server will be able to convert DateTimes to the client's local time, otherwise, the DateTimes will be given in UTC. Is there a better way? Should I just leave everything UTC on the server, and then do a UTC to Local conversion on the client-side?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "user-experience"], "comments": [{"owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1544638398, "post_id": 53748814, "comment_id": 94350525, "body": "Please provide complete details including the code that you used to navigate to other page and the code you are executing on the other pages Load. Help us understanding your problem. Because particular problem you are asking might need us to check your code in multiple places."}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "reply_to_user": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1544638718, "post_id": 53748814, "comment_id": 94350686, "body": "I am just using Navigiation.PushAsync(new MyNewPage()), where MyNewPage is loading quite long (it doesnt matter) and I want to display preview with Label  while this page is loading."}, {"owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1544638849, "post_id": 53748814, "comment_id": 94350741, "body": "You page is loading data from WebService ? or Other heavy UI ? They are all Async? Are you using MVVM ?"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "reply_to_user": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 0, "creation_date": 1544638951, "post_id": 53748814, "comment_id": 94350803, "body": "Loading data from api (async) and quite heavy UI and yes I am using MVVM."}, {"owner": {"reputation": 198, "user_id": 8133327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8c8c964c837ea26557cebf2f489fa3be?s=128&d=identicon&r=PG&f=1", "display_name": "Reihaneh Khaksaran", "link": "https://stackoverflow.com/users/8133327/reihaneh-khaksaran"}, "edited": false, "score": 0, "creation_date": 1560753782, "post_id": 53748814, "comment_id": 99824274, "body": "Have you been able to find any solutions?"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544640232, "post_id": 53749293, "comment_id": 94351445, "body": "Thank you for your answer. I have few images on my Page. Loading them last so long (I just  checked it). I would like to display label loading untill all images will be loaded. Do you have any idea?"}, {"owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "reply_to_user": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544640364, "post_id": 53749293, "comment_id": 94351518, "body": "Oh! So you want to display the Placeholder in the Image while the Image is being downloaded ? But you said, you have your BackEnd API that needs to be run longer while showing indicator !"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544640675, "post_id": 53749293, "comment_id": 94351686, "body": "I would rather display something like this untill all images will be loaded, <a href=\"https://ibb.co/X2FYjr9\" rel=\"nofollow noreferrer\">ibb.co/X2FYjr9</a>"}, {"owner": {"reputation": 1509, "user_id": 3872145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a86e47e060299b6ba95a6d914084cf1?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3872145/tom"}, "reply_to_user": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544692298, "post_id": 53749293, "comment_id": 94368899, "body": "@BartekChy\u017cy In that case, replace the <code>ActivityIndicator</code> with a <code>Label</code>, and make it centre screen."}], "tags": [], "owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "is_accepted": false, "score": 2, "last_activity_date": 1544639627, "creation_date": 1544639627, "answer_id": 53749293, "question_id": 53748814, "link": "https://stackoverflow.com/questions/53748814/display-text-while-page-is-loading-in-xamarin-forms/53749293#53749293", "title": "Display text while Page is loading in Xamarin Forms", "body": "<p>Based on your comments, you just want to display Busy indicator while you are loading the Data from your Api. You didn't posted your UI but I hope you understand how to use the below:</p>\n\n<pre><code>&lt;Grid&gt;\n     &lt;YOUR-UI&gt;\n         .....\n         .........\n     &lt;/YOUR-UI&gt;\n\n     &lt;ActivityIndicator VerticalOptions=\"Center\" IsVisible=\"{Binding IsBusy}\" IsRunning=\"{Binding IsBusy}\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>In your ViewModel, Add IsBusy Property as below:</p>\n\n<pre><code>private bool _isBusy;\npublic bool IsBusy\n{\n    get{return _isBusy;}\n    set { _isBusy=value; RaisePropertyChanged(); }\n}\n</code></pre>\n\n<p>Then when you are Calling the API to load your Data do something like:</p>\n\n<pre><code>public async void LoadDataFromApi()\n{\n    IsBusy=true;  //Show the Indicator\n    var response= await YourService.Method();  //this is where you calling your api\n    //do other stuffs if you need to do;\n    IsBusy=false;   //Hide the Indicator\n}\n</code></pre>\n\n<p>Let me know if you need anymore help.</p>\n"}, {"tags": [], "owner": {"reputation": 597, "user_id": 578190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7405cd281c53abcce5d9d6fc7ac1fac?s=128&d=identicon&r=PG", "display_name": "chkn", "link": "https://stackoverflow.com/users/578190/chkn"}, "is_accepted": false, "score": 0, "last_activity_date": 1544641395, "creation_date": 1544641395, "answer_id": 53749715, "question_id": 53748814, "link": "https://stackoverflow.com/questions/53748814/display-text-while-page-is-loading-in-xamarin-forms/53749715#53749715", "title": "Display text while Page is loading in Xamarin Forms", "body": "<p>I have a project for advanced page transitions in Xamarin.Forms that may help you. Try this:</p>\n\n<ol>\n<li>Install this nuget: <a href=\"http://www.nuget.org/packages/Xamarin.Forms.Segues\" rel=\"nofollow noreferrer\">http://www.nuget.org/packages/Xamarin.Forms.Segues</a> (it is currently only prerelease, so you'll need to check the box to see it)</li>\n<li>Add this sample to your project: <a href=\"https://github.com/chkn/Xamarin.Forms.Segues/blob/master/Sample/Shared/Custom%20Segues/SpinnerSegue.cs\" rel=\"nofollow noreferrer\">https://github.com/chkn/Xamarin.Forms.Segues/blob/master/Sample/Shared/Custom%20Segues/SpinnerSegue.cs</a></li>\n<li>In the <code>DoWork</code> method of <code>SpinnerSegue</code> add the code to load the data.</li>\n<li>In your code that navigates to the other page, replace <code>Navigiation.PushAsync(new MyNewPage())</code> with <code>new SpinnerSegue().ExecuteAsync(this, new MyNewPage())</code></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544734389, "post_id": 53753346, "comment_id": 94391602, "body": "Thank you for response! Unfortunetely I still have to wait till the page is fully loaded (during this time I see old Page Content) and the frame doesnt appear.  I Have constructor like: Ctor() { InitializeComponent(); this.IsBusy=true; BindingContext = this; MyHeavyTabbedView.Source = GetHeavySource(); this.IsBusy = false; }"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544735484, "post_id": 53753346, "comment_id": 94392070, "body": "Maybe sould I do something like: GoToNextPage(){ this.LoadingFrame.IsVisible = true: await Navigation.PushAsync(new HeavyPage()) this.LoadingFrame.IsVisible=false }  In page that push my heavy page?"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1544736392, "post_id": 53753346, "comment_id": 94392464, "body": "It works fine for second time, but it still dosnt work for first loading. The page have few heavy images that are loading quite long , for second time those images are stored in cache so it works fine (I think images couse this but I am not sure). Do you have any idea how to achive it for first loading too?"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545050830, "post_id": 53753346, "comment_id": 94479255, "body": "pastebin.com/se0fhmyQ I want to display ActivityInicator or simple page with label untill ProvidersPage as long as this page with all images is loaded"}, {"owner": {"reputation": 2482, "user_id": 5663397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISWG.png?s=128&g=1", "display_name": "TaiT&#39;s", "link": "https://stackoverflow.com/users/5663397/taits"}, "reply_to_user": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545087417, "post_id": 53753346, "comment_id": 94497251, "body": "Just to make sure, is it <code>GetTabItemCollection();</code> that takes time?"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545092145, "post_id": 53753346, "comment_id": 94498561, "body": "For now it just returns predefined object. (No internet connection)"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545138572, "post_id": 53753346, "comment_id": 94515580, "body": "I know in this example MVVM is not used it is just exmple code to show the problem. I did everything you wrote and I am getting same result. Frame doesn&#39;t appear. I still have to wati for whole SfTabbedView, Do you have any idea? Thank you for your time"}, {"owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545433020, "post_id": 53753346, "comment_id": 94630170, "body": "Maybe I shoud try to display this in calling page? I mean display it before navigation.pushasync()"}, {"owner": {"reputation": 2482, "user_id": 5663397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISWG.png?s=128&g=1", "display_name": "TaiT&#39;s", "link": "https://stackoverflow.com/users/5663397/taits"}, "reply_to_user": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1545502536, "post_id": 53753346, "comment_id": 94641874, "body": "Strange... Since <code>Frame</code> is added as last element into the grid, it should be already visible on top of the <code>TabView</code>. Maybe force it in Xaml file like this <code>&lt;Frame x:Name=&quot;theFrame&quot; BackgroundColor=&quot;White&quot; IsVisible=&quot;True&quot;&gt;</code>"}], "tags": [], "owner": {"reputation": 2482, "user_id": 5663397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISWG.png?s=128&g=1", "display_name": "TaiT&#39;s", "link": "https://stackoverflow.com/users/5663397/taits"}, "is_accepted": false, "score": 1, "last_activity_date": 1545132787, "last_edit_date": 1545132787, "creation_date": 1544660627, "answer_id": 53753346, "question_id": 53748814, "link": "https://stackoverflow.com/questions/53748814/display-text-while-page-is-loading-in-xamarin-forms/53753346#53753346", "title": "Display text while Page is loading in Xamarin Forms", "body": "<p>Based on your comments on other answer - instead of ActivityIndicator - you could use a simple frame that covers all the layout and make it visible only when data are loading i.e. Binding <code>IsVisible</code> to <code>IsBusy</code> property. Then set <code>IsBusy</code> to true before doing the heavy load job and set back to false afterwards as shown in previous answer.</p>\n\n<p>For instance, assuming your UI is based on a Grid layout (in this example 3 rows/2 columns):</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"auto\" /&gt;\n        &lt;RowDefinition Height=\"*\" /&gt;\n        &lt;RowDefinition Height=\"auto\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"*\" /&gt;\n        &lt;ColumnDefinition Width=\"*\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n\n    &lt;!-- Some XAML for the grid content --&gt;\n\n    &lt;!-- Here, Frame covers all the possible space defined using RowSpan/ColumnSpan --&gt;\n    &lt;Frame Grid.RowSpan=\"3\" Grid.ColumnSpan=\"2\" IsVisible=\"{Binding IsBusy}\" BackgroundColor=\"LightGray\"&gt;\n       &lt;Label VerticalOptions=\"Center\" HorizontalOptions=\"Center\" Text=\"Loading Samples...\" /&gt;\n    &lt;/Frame&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1VP6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VP6d.png\" alt=\"See result\"></a></p>\n\n<h2>-------------------------------------------------</h2>\n\n<h2>EDIT based on OP comments:</h2>\n\n<p>Bases on the code you provided (better paste it in SO next time ;)), you could try this:</p>\n\n<p>Add a grid layout and a frame to the xaml page:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             x:Class=\"MyApp.Namespace\"    \n             xmlns:tabView=\"clr-namespace:Syncfusion.XForms.TabView;assembly=Syncfusion.SfTabView.XForms\"\n             xmlns:sfPopup=\"clr-namespace:Syncfusion.XForms.PopupLayout;assembly=Syncfusion.SfPopupLayout.XForms\" \n             BackgroundColor=\"#d4d4d4\"&gt;\n\n    &lt;ContentPage.ToolbarItems&gt;\n        &lt;ToolbarItem Icon=\"search_white_90.png\"/&gt;\n    &lt;/ContentPage.ToolbarItems&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;Grid&gt;\n            &lt;tabView:SfTabView x:Name=\"ProductsTabView\" VisibleHeaderCount=\"3\" TabHeaderBackgroundColor=\"#A74B40\" Items=\"{Binding}\"&gt;\n                &lt;tabView:SfTabView.SelectionIndicatorSettings&gt;\n                    &lt;tabView:SelectionIndicatorSettings\n                        Color=\"#fff\" StrokeThickness=\"3\"/&gt;\n                &lt;/tabView:SfTabView.SelectionIndicatorSettings&gt;\n            &lt;/tabView:SfTabView&gt;\n            &lt;Frame x:Name=\"theFrame\" BackgroundColor=\"White\"&gt;\n               &lt;Label VerticalOptions=\"Center\" HorizontalOptions=\"Center\" Text=\"Loading Samples...\" /&gt;\n            &lt;/Frame&gt;\n        &lt;/Grid&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p><code>ProductsTabView</code> and <code>theFrame</code> will cover the same space on screen and frame will be available in code behind. Then you can show/hide theFrame before/afrer the hard work using <code>IsVisible</code> property:</p>\n\n<pre><code>public partial class ProviderPage : ContentPage\n    {\n        public ProviderPage()\n        {\n            InitializeComponent();            \n            theFrame.IsVisible = true; // Show the Frame on top of tabView\n            ProductsTabView.Items = GetTabItemCollection();    \n            theFrame.IsVisible = false; // Hide the Frame\n        }\n        ...\n</code></pre>\n\n<p>As a side note, you don't use <code>ViewModel</code> at all. I strongly recommand you to check about what a ViewModel is and how to use them with MVVM pattern. It will make your life easier in the long run using <code>Binding</code>!</p>\n\n<p>HIH &amp; Happy coding!</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6733197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/964fcd55860bd139110d45670e700bf9?s=128&d=identicon&r=PG&f=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/6733197/james-lin"}, "is_accepted": false, "score": 1, "last_activity_date": 1548060598, "creation_date": 1548060598, "answer_id": 54286219, "question_id": 53748814, "link": "https://stackoverflow.com/questions/53748814/display-text-while-page-is-loading-in-xamarin-forms/54286219#54286219", "title": "Display text while Page is loading in Xamarin Forms", "body": "<p>Try <a href=\"https://github.com/aritchie/userdialogs\" rel=\"nofollow noreferrer\">https://github.com/aritchie/userdialogs</a>, It's make you easily to implement loading</p>\n\n<p>for example:</p>\n\n<pre><code> using (this.Dialogs.Loading(\"Loading text\"))\n    {\n         //Do something i.e: await Task.Delay(3000);\n    }   \n</code></pre>\n\n<p>OR</p>\n\n<pre><code>this.Dialogs.ShowLoading(\"Loading text\");\n//Do something i.e: await Task.Delay(3000);\nthis.Dialogs.HideLoading();    \n</code></pre>\n\n<p>OR\n<a href=\"https://github.com/aritchie/userdialogs/blob/master/src/Samples/Samples/ViewModels/ProgressViewModel.cs\" rel=\"nofollow noreferrer\">https://github.com/aritchie/userdialogs/blob/master/src/Samples/Samples/ViewModels/ProgressViewModel.cs</a></p>\n"}], "owner": {"reputation": 313, "user_id": 8942157, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1443241869119754/picture?type=large", "display_name": "Bartek Chy\u017cy", "link": "https://stackoverflow.com/users/8942157/bartek-chy%c5%bcy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4238, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1548060598, "creation_date": 1544637561, "question_id": 53748814, "link": "https://stackoverflow.com/questions/53748814/display-text-while-page-is-loading-in-xamarin-forms", "title": "Display text while Page is loading in Xamarin Forms", "body": "<p>I have a page that is quite heavy and its loading for about 1-2 sec after click. During this time I see loading page header and old page content, it looks so irresponsive. All I want to achive is to display temporary Label with content like \"Loading...\" or activityindicator as long as new page is loading but I have no idea how to do this. What is the better way to achive this? Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net-mvc", "database", "parent"], "comments": [{"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "reply_to_user": {"reputation": 388, "user_id": 6181153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adaccdd999ad2cf2b7bc72f66d1490a?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Mason", "link": "https://stackoverflow.com/users/6181153/jay-mason"}, "edited": false, "score": 0, "creation_date": 1544638026, "post_id": 53748805, "comment_id": 94350351, "body": "@JayMason - Please learn the difference between is-a and has-a relationships.  A child is not a toy, a child has-a toy."}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 2, "creation_date": 1544638214, "post_id": 53748805, "comment_id": 94350440, "body": "This question is too broad, and requires far more detail than a single post can supply.  What have you tried?  What are you having trouble with?  Ask a specific question and not a general how do I.."}, {"owner": {"reputation": 445, "user_id": 3384856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5c8ea7b7fe95da1f39104d2de4ab05d1?s=128&d=identicon&r=PG", "display_name": "David Vogel", "link": "https://stackoverflow.com/users/3384856/david-vogel"}, "edited": false, "score": 0, "creation_date": 1544640722, "post_id": 53748805, "comment_id": 94351721, "body": "This question is too broad because you are asking us for guidance in the design of classes with parent/child relationships and their use, from top to bottom, in MVC. Answering requires a lengthy post with design decisions being made or assumed. Is your problem between the view and controller? Saving to the database? How to better design class relationships around Child/User/Toy? Something else? Please ask a specific question."}], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 2505809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IU0zt.jpg?s=128&g=1", "display_name": "Laxmikant", "link": "https://stackoverflow.com/users/2505809/laxmikant"}, "is_accepted": false, "score": 0, "last_activity_date": 1544650032, "creation_date": 1544650032, "answer_id": 53751621, "question_id": 53748805, "link": "https://stackoverflow.com/questions/53748805/in-mvc-how-do-i-create-a-view-that-will-update-a-parent-model-and-all-children/53751621#53751621", "title": "In MVC, how do I create a view that will update a parent model, and all children models?", "body": "<p>you will have to scaffolding your user ViewModel. This will allow you to fetch User -> Child -> Toy data.</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/mcsuksoldev/2013/09/20/managing-entity-relationships-with-mvc-scaffolding/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/mcsuksoldev/2013/09/20/managing-entity-relationships-with-mvc-scaffolding/</a></p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 9667085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gSMc6.jpg?s=128&g=1", "display_name": "Rod Ram&#237;rez", "link": "https://stackoverflow.com/users/9667085/rod-ram%c3%adrez"}, "is_accepted": false, "score": 0, "last_activity_date": 1545067813, "creation_date": 1545067813, "answer_id": 53820282, "question_id": 53748805, "link": "https://stackoverflow.com/questions/53748805/in-mvc-how-do-i-create-a-view-that-will-update-a-parent-model-and-all-children/53820282#53820282", "title": "In MVC, how do I create a view that will update a parent model, and all children models?", "body": "<p>You will probably had to use Viewmodels to fetch all the data from all those different tables. Check on them.</p>\n"}, {"tags": [], "owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1545070652, "creation_date": 1545070652, "answer_id": 53820945, "question_id": 53748805, "link": "https://stackoverflow.com/questions/53748805/in-mvc-how-do-i-create-a-view-that-will-update-a-parent-model-and-all-children/53820945#53820945", "title": "In MVC, how do I create a view that will update a parent model, and all children models?", "body": "<p>It's really straight forward.</p>\n\n<p>A minimalist example.</p>\n\n<p>The View EditUser.cshtml:</p>\n\n<pre><code>@model WebApplication2.Models.User\n\n@using (Html.BeginForm(\"SaveUser\", \"Home\", FormMethod.Get))\n{\n    @Html.LabelFor(m =&gt; m.Username)\n    @Html.EditorFor(m =&gt; m.Username) &lt;br /&gt;\n\n    @Html.LabelFor(m =&gt; m.Child.Name)\n    @Html.EditorFor(m =&gt; m.Child.Name) &lt;br/&gt;\n\n    @Html.LabelFor(m =&gt; m.Child.Toy.ToyName)\n    @Html.EditorFor(m =&gt; m.Child.Toy.ToyName) &lt;br /&gt;\n\n    &lt;input type=\"submit\" /&gt;\n\n}\n</code></pre>\n\n<p>The action methods in the Home controller:</p>\n\n<pre><code>public ActionResult EditUser(User user)\n{\n    return View(user);\n}\n\npublic ActionResult SaveUser(User user)\n{\n    // Do something with user to save it\n\n    // then show the Edit form again\n\n    return View(\"EditUser\", user);\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8473644, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4c34a3b862ec78be7c6154eafcda833?s=128&d=identicon&r=PG&f=1", "display_name": "Taborator", "link": "https://stackoverflow.com/users/8473644/taborator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1545070652, "creation_date": 1544637525, "last_edit_date": 1544638086, "question_id": 53748805, "link": "https://stackoverflow.com/questions/53748805/in-mvc-how-do-i-create-a-view-that-will-update-a-parent-model-and-all-children", "title": "In MVC, how do I create a view that will update a parent model, and all children models?", "body": "<p>I'm brand new to MVC, still trying to read and learn the ropes, and this question has come up.</p>\n\n<p>If I had a model, let's say User, that looks like this:</p>\n\n<pre><code>public partial class User\n{\n    public int ID { get; set; }\n    public string Username { get; set; }\n    public string PasswordHash { get; set; }\n    public string Email { get; set; }\n\n    public virtual Child Child { get; set; }\n}\n</code></pre>\n\n<p>And a model, Child, which is a child entity to the parent User:</p>\n\n<pre><code>public partial class Child\n{\n    public int ID { get; set;}\n    public string Name { get; set; }\n\n    public virtual Toy Toy { get; set; }\n}\n</code></pre>\n\n<p>And a final model, Toy, which is a child model to the parent model Child:</p>\n\n<pre><code>public partial class Toy\n{\n    public int ID { get; set; }\n    public string ToyName { get; set; }\n}\n</code></pre>\n\n<p>And I wanted to create a View that would have fields available for all of them, how would I write the controller/view so that if all the fields were filled it would create the records correctly? So that the ToyName would be for the appropriate Toy, which would be for the appropriate Child, which would be for the appropriate User?</p>\n\n<p>This is just an example I was thinking of, because I wanted to try to make a sort of pet project to practice MVC, and I can't seem to find many sources explaining how to do this.</p>\n"}, {"tags": ["java", "c#", "base64", "aes"], "comments": [{"owner": {"reputation": 757, "user_id": 1366937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96c0f10312f84ed2253d57737be8877?s=128&d=identicon&r=PG", "display_name": "Perdi Estaquel", "link": "https://stackoverflow.com/users/1366937/perdi-estaquel"}, "edited": false, "score": 0, "creation_date": 1544669236, "post_id": 53748743, "comment_id": 94361328, "body": "Can you show your code? Does it give an error? If yes please show it. If not please show or describe the result compared to the expected one."}, {"owner": {"reputation": 1, "user_id": 10759839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3c527abaf7e291390f1baf4bd77288?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Schubert", "link": "https://stackoverflow.com/users/10759839/erick-schubert"}, "reply_to_user": {"reputation": 757, "user_id": 1366937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96c0f10312f84ed2253d57737be8877?s=128&d=identicon&r=PG", "display_name": "Perdi Estaquel", "link": "https://stackoverflow.com/users/1366937/perdi-estaquel"}, "edited": false, "score": 0, "creation_date": 1544711219, "post_id": 53748743, "comment_id": 94379685, "body": "What would be the equivalent of TransformFinalBlock?"}], "owner": {"reputation": 1, "user_id": 10759839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3c527abaf7e291390f1baf4bd77288?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Schubert", "link": "https://stackoverflow.com/users/10759839/erick-schubert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544637558, "creation_date": 1544637255, "last_edit_date": 1544637558, "question_id": 53748743, "link": "https://stackoverflow.com/questions/53748743/aes-encryption-c-java", "title": "AES Encryption C# -&gt; Java", "body": "<p>I need to convert this code (C#) to Java:</p>\n\n<pre><code>private static string hash(string _param0, byte[] _param1)\n{\n    byte[] bytes = Encoding.UTF8.GetBytes(_param0.ToLowerInvariant());\n    byte[] inputBuffer = new byte[16];\n\n    for (int index = 0; index &lt; bytes.Length; ++index)\n        inputBuffer[index % 16] ^= bytes[index];\n\n    using (Aes aes = Aes.Create())\n    {\n        aes.Padding = PaddingMode.None;\n        aes.Mode = CipherMode.CBC;\n        using (ICryptoTransform encryptor = aes.CreateEncryptor(_param1, new byte[16]))\n        {\n            for (int index = 0; index &lt; 16384; ++index)\n                inputBuffer = encryptor.TransformFinalBlock(inputBuffer, 0, inputBuffer.Length);\n        }\n    }\n\n    byte[] inArray = new byte[8];\n    Array.Copy((Array)inputBuffer, 0, (Array)inArray, 0, 4);\n    Array.Copy((Array)inputBuffer, 8, (Array)inArray, 4, 4);\n\n    return Convert.ToBase64String(inArray).Replace('+', '-').Replace('/', '_').Replace(\"=\", string.Empty);\n}\n\npublic static T[] encryptUntil&lt;T&gt;(this T[] _param0, int _param1, int _param2)\n{\n    T[] objArray = new T[_param1];\n\n    while (--_param1 &gt;= 0)\n    {\n        if (_param0.Length &gt; _param2 + _param1)\n            objArray[_param1] = _param0[_param2 + _param1];\n    }\n\n    return objArray;\n}\n\nprivate static byte[] encrypt(string _param0)\n{\n    byte[] bytes = Encoding.UTF8.GetBytes(_param0);\n    byte[] inputBuffer = new byte[16]\n    {\n        (byte) 147,\n        (byte) 196,\n        (byte) 103,\n        (byte) 227,\n        (byte) 125,\n        (byte) 176,\n        (byte) 199,\n        (byte) 164,\n        (byte) 209,\n        (byte) 190,\n        (byte) 63,\n        (byte) 129,\n        (byte) 1,\n        (byte) 82,\n        (byte) 203,\n        (byte) 86\n    };\n\n    for (int index = 0; index &lt; 65536; ++index)\n    {\n        int num = 0;\n        while (num &lt; bytes.Length)\n        {\n            using (Aes aes = Aes.Create())\n            {\n                aes.Padding = PaddingMode.None;\n                aes.Mode = CipherMode.CBC;\n                using (ICryptoTransform encryptor = aes.CreateEncryptor(bytes.encryptUntil&lt;byte&gt;(16, num), new byte[16]))\n                    inputBuffer = encryptor.TransformFinalBlock(inputBuffer, 0, inputBuffer.Length);\n            }\n\n            num += 16;\n        }\n    }\n\n    return inputBuffer;\n}\n</code></pre>\n\n<p>So basically this uses Aes with CBC and no padding and encrypts a string by using the byte array as a key.\nI tried to use Cipher and \"AES/CBC/NoPadding\" but I can't seem to figure out how to do it exactly. If someone could help me I'd appreciate it!</p>\n"}, {"tags": ["c#", "generics", "struct", "guid"], "comments": [{"owner": {"reputation": 708, "user_id": 1429297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144cd3bc4b4ed54b96c0647bdb6c91df?s=128&d=identicon&r=PG", "display_name": "bbeda", "link": "https://stackoverflow.com/users/1429297/bbeda"}, "edited": false, "score": 1, "creation_date": 1544637343, "post_id": 53748675, "comment_id": 94350010, "body": "Interesting need. I have a question. Leaving the code duplication aside, when you wanted to create one of those structs, you must initialize them with something. How do you make sure they are initialized with the right thing? As in..var appIdStruct=new AppId(paymentId) should not compile"}, {"owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "reply_to_user": {"reputation": 708, "user_id": 1429297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144cd3bc4b4ed54b96c0647bdb6c91df?s=128&d=identicon&r=PG", "display_name": "bbeda", "link": "https://stackoverflow.com/users/1429297/bbeda"}, "edited": false, "score": 0, "creation_date": 1544637651, "post_id": 53748675, "comment_id": 94350162, "body": "I cannot guarantee it. I cannot check everything. Even then space for bugs will decrease a bit."}, {"owner": {"reputation": 708, "user_id": 1429297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144cd3bc4b4ed54b96c0647bdb6c91df?s=128&d=identicon&r=PG", "display_name": "bbeda", "link": "https://stackoverflow.com/users/1429297/bbeda"}, "edited": false, "score": 1, "creation_date": 1544637949, "post_id": 53748675, "comment_id": 94350313, "body": "From that point of view, I think the space for bugs is the same, you are only moving the source to a different place. Also, you are complicating things which will actually increase that space long term. Are you planning to allocate lots of those? Will they live long in memory?"}, {"owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "reply_to_user": {"reputation": 708, "user_id": 1429297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144cd3bc4b4ed54b96c0647bdb6c91df?s=128&d=identicon&r=PG", "display_name": "bbeda", "link": "https://stackoverflow.com/users/1429297/bbeda"}, "edited": false, "score": 0, "creation_date": 1544638268, "post_id": 53748675, "comment_id": 94350469, "body": "Not much, but null checks are also good reason for structs."}, {"owner": {"reputation": 4738, "user_id": 125032, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ac8f77ca0c9d7fb16d5315a8f238d4eb?s=128&d=identicon&r=PG", "display_name": "hazimdikenli", "link": "https://stackoverflow.com/users/125032/hazimdikenli"}, "edited": false, "score": 0, "creation_date": 1546415632, "post_id": 53748675, "comment_id": 94842456, "body": "Have you considered creating a Params Class like FooParams and passing it to the function, and then if you are really using meaningful variable names, a misassignment would stand out and would be easy to catch like fooParams.PaymentId = accountId;"}], "answers": [{"comments": [{"owner": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1544640963, "post_id": 53748965, "comment_id": 94351844, "body": "&quot;There is not really a good way around that.&quot; Is there a bad way?"}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "reply_to_user": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1544643090, "post_id": 53748965, "comment_id": 94352857, "body": "@BurnsBA: You could try to educate your developers not to do that.  A static analysis tool (e.g., coding contracts) could probably be configured to detect this sort of error.  You could use a class instead of a struct.  There are plenty of bad ways.  Anyhow, keep in mind that avoiding <code>default</code> is also an issue for normal Guids (in fact, it&#39;s an issue for any struct)."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 2, "creation_date": 1544643500, "post_id": 53748965, "comment_id": 94353092, "body": "@BurnsBA: If it hurts when you do that, don&#39;t do it! :-)"}, {"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "reply_to_user": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1544663300, "post_id": 53748965, "comment_id": 94360077, "body": "@BurnsBA You can check the state of the structure in every method and throw an exception if the guid is empty. This way, you will probably not be informed immediately when it is created, but eventually yes."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 1, "creation_date": 1544670154, "post_id": 53748965, "comment_id": 94361526, "body": "Do you think it would be useful to have a conversion to Guid defined for the type, or to have a public read-only property exposing the Guid? This would be useful for interfacing persistence frameworks, where the \u201craw\u201d Guid is required."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 2, "creation_date": 1544671723, "post_id": 53748965, "comment_id": 94361904, "body": "@dasblinkenlight: That seems like a reasonable choice. Maybe an explicit conversion to and from Guid would be useful."}, {"owner": {"reputation": 9895, "user_id": 452775, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88963e7cc58eabf150447e7b78a24793?s=128&d=identicon&r=PG", "display_name": "Lii", "link": "https://stackoverflow.com/users/452775/lii"}, "edited": false, "score": 3, "creation_date": 1545043838, "post_id": 53748965, "comment_id": 94475526, "body": "A small interesting piece of information: A type that is used in the way that <code>T</code> is in this code is called a <a href=\"https://wiki.haskell.org/Phantom_type\" rel=\"nofollow noreferrer\"><i>phantom type</i></a> in the context of functional programming: It is used as a type parameter, but there is never a value of type <code>T</code>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 9895, "user_id": 452775, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88963e7cc58eabf150447e7b78a24793?s=128&d=identicon&r=PG", "display_name": "Lii", "link": "https://stackoverflow.com/users/452775/lii"}, "edited": false, "score": 0, "creation_date": 1545057394, "post_id": 53748965, "comment_id": 94483042, "body": "@Lii: I did not know that! That&#39;s funny, because when we were designing <code>dynamic</code> for C# 4, for a while we had a design that involved inferring a type we called the &quot;phantom type&quot;, but it meant something completely different."}, {"owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "edited": false, "score": 0, "creation_date": 1545180208, "post_id": 53748965, "comment_id": 94534286, "body": "Could you also have <code>Id</code> be a non-generic class and use inheritance?"}, {"owner": {"reputation": 9895, "user_id": 452775, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88963e7cc58eabf150447e7b78a24793?s=128&d=identicon&r=PG", "display_name": "Lii", "link": "https://stackoverflow.com/users/452775/lii"}, "reply_to_user": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "edited": false, "score": 1, "creation_date": 1554235165, "post_id": 53748965, "comment_id": 97675031, "body": "@SolomonUcko: I think that is an even better design in most cases. That is, to have a specific class <code>AppId</code> extend <code>Id</code>. Or to combine the two approaches and have <code>AppId</code>  extend <code>Id&lt;AppId&gt;</code>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 9895, "user_id": 452775, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88963e7cc58eabf150447e7b78a24793?s=128&d=identicon&r=PG", "display_name": "Lii", "link": "https://stackoverflow.com/users/452775/lii"}, "edited": false, "score": 1, "creation_date": 1554237195, "post_id": 53748965, "comment_id": 97675923, "body": "@Lii: Though that is a reasonable idea, the problem with it is that you only get extension with reference types, and that then causes collection pressure and excess memory allocation. Read the last paragraph of the original poster&#39;s question; they explicitly say they want a struct-based solution for these reasons."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 1, "creation_date": 1554240393, "post_id": 53748965, "comment_id": 97677225, "body": "@EricLippert: If you are using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.immutableobjectattribute\" rel=\"nofollow noreferrer\">ImmutableObject</a> on-label, I don&#39;t think it&#39;s really appropriate here; there are no public subproperties (and even if it&#39;s appropriate, it&#39;s a distraction).  If you&#39;re using the <code>ImmutableObject</code> to indicate that <code>Id&lt;T&gt;</code> is immutable, then that is an off-label use of <code>ImmutableObject</code> (in fact, that attribute is often applied to mutable objects).  See discussion at <a href=\"https://stackoverflow.com/q/1691246/18192\">stackoverflow.com/q/1691246/18192</a> .  That particular attribute is poorly named."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1554241360, "post_id": 53748965, "comment_id": 97677601, "body": "@Brian: Thanks for the note; I merely copy-pasted the code out of the original poster&#39;s question, and assumed that they knew what they were doing. You are right that likely they did not."}, {"owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "edited": false, "score": 0, "creation_date": 1589787351, "post_id": 53748965, "comment_id": 109420810, "body": "Does this technique (wrapping primitive type because of purpose) has some official name?"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 45, "last_activity_date": 1554241377, "last_edit_date": 1554241377, "creation_date": 1544638240, "answer_id": 53748965, "question_id": 53748675, "link": "https://stackoverflow.com/questions/53748675/strongly-typed-guid-as-generic-struct/53748965#53748965", "title": "Strongly typed Guid as generic struct", "body": "<p>First off, this is a really good idea. A brief aside:</p>\n\n<p>I wish C# made it easier to create cheap typed wrappers around integers, strings, ids, and so on. We are very \"string happy\" and \"integer happy\" as programmers; lots of things are represented as strings and integers which could have more information tracked in the type system; we don't want to be assigning customer names to customer addresses. A while back I wrote a series of blog posts (never finished!) about writing a virtual machine in OCaml, and one of the best things I did was wrapped every integer in the virtual machine with a type that indicates its purpose. That prevented so many bugs!  OCaml makes it very easy to create little wrapper types; C# does not.</p>\n\n<p>Second, I would not worry too much about duplicating the code. It's mostly an easy copy-paste, and you are unlikely to edit the code much or make mistakes. <strong>Spend your time solving real problems.</strong> A little copy-pasted code is not a big deal.</p>\n\n<p>If you do want to avoid the copy-pasted code, then I would suggest using generics like this:</p>\n\n<pre><code>struct App {}\nstruct Payment {}\n\npublic struct Id&lt;T&gt;\n{\n    private readonly Guid _value;\n    public Id(string value)\n    {            \n        var val = Guid.Parse(value);\n        CheckValue(val);\n        _value = val;\n    }\n\n    public Id(Guid value)\n    {\n        CheckValue(value);\n        _value = value;           \n    }\n\n    private static void CheckValue(Guid value)\n    {\n        if(value == Guid.Empty)\n            throw new ArgumentException(\"Guid value cannot be empty\", nameof(value));\n    }\n\n    public override string ToString()\n    {\n        return _value.ToString();\n    }\n}\n</code></pre>\n\n<p>And now you're done.  You have types <code>Id&lt;App&gt;</code> and <code>Id&lt;Payment&gt;</code> instead of <code>AppId</code> and <code>PaymentId</code>, but you still cannot assign an <code>Id&lt;App&gt;</code> to <code>Id&lt;Payment&gt;</code> or <code>Guid</code>.</p>\n\n<p>Also, if you like using <code>AppId</code> and <code>PaymentId</code> then at the top of your file you can say</p>\n\n<pre><code>using AppId = MyNamespace.Whatever.Id&lt;MyNamespace.Whatever.App&gt;\n</code></pre>\n\n<p>and so on.</p>\n\n<p>Third, you will probably need a few more features in your type; I assume this is not done yet. For example, you'll probably need equality, so that you can check to see if two ids are the same.</p>\n\n<p>Fourth, be aware that <code>default(Id&lt;App&gt;)</code> still gives you an \"empty guid\" identifier, so your attempt to prevent that does not actually work; it will still be possible to create one. There is not really a good way around that.</p>\n"}, {"comments": [{"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1545164183, "post_id": 53840338, "comment_id": 94529146, "body": "All structure types are required to inherit from <code>ValueType</code> and nothing else."}, {"owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1545164232, "post_id": 53840338, "comment_id": 94529167, "body": "Oh. Could you use a class instead?"}, {"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 0, "creation_date": 1545179946, "post_id": 53840338, "comment_id": 94534220, "body": "@SolomonUcko classes can&#39;t inherit from struct."}, {"owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "edited": false, "score": 0, "creation_date": 1545180092, "post_id": 53840338, "comment_id": 94534260, "body": "Could <code>Guid</code> be a class?"}, {"owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "edited": false, "score": 0, "creation_date": 1545207207, "post_id": 53840338, "comment_id": 94541557, "body": "If Guid is class, it would consume more memory, it would be managed by garbage collector and it would be nullable (null checks problems)."}], "tags": [], "owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "is_accepted": false, "score": -9, "last_activity_date": 1545218588, "last_edit_date": 1545218588, "creation_date": 1545163805, "answer_id": 53840338, "question_id": 53748675, "link": "https://stackoverflow.com/questions/53748675/strongly-typed-guid-as-generic-struct/53840338#53840338", "title": "Strongly typed Guid as generic struct", "body": "<p>You might be able to use subclassing with a different programming language.</p>\n"}, {"tags": [], "owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "is_accepted": false, "score": 5, "last_activity_date": 1545215459, "creation_date": 1545215459, "answer_id": 53849274, "question_id": 53748675, "link": "https://stackoverflow.com/questions/53748675/strongly-typed-guid-as-generic-struct/53849274#53849274", "title": "Strongly typed Guid as generic struct", "body": "<p>We do the same, it works great. </p>\n\n<p>Yes, it's a lot of copy and paste, but that is exactly what code-generation is for. </p>\n\n<p>In Visual Studio, you can use <a href=\"https://docs.microsoft.com/en-US/visualstudio/modeling/design-time-code-generation-by-using-t4-text-templates?view=vs-2017\" rel=\"noreferrer\">T4</a> templates for this. You basically write your class once and then have a template where you say \"I want this class for App, Payment, Account,...\" and Visual Studio will generate you one source code file for each. </p>\n\n<p>That way you have one single source (The T4 template) where you can make changes if you find a bug in your classes and it will propagate to all your Identifiers without you having to think about changing all of them.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 3331185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNFEZ.jpg?s=128&g=1", "display_name": "Michiel de Wolde", "link": "https://stackoverflow.com/users/3331185/michiel-de-wolde"}, "is_accepted": false, "score": 0, "last_activity_date": 1618037500, "creation_date": 1618037500, "answer_id": 67031579, "question_id": 53748675, "link": "https://stackoverflow.com/questions/53748675/strongly-typed-guid-as-generic-struct/67031579#67031579", "title": "Strongly typed Guid as generic struct", "body": "<p>This has a nice side effect. You can have these overloads for an add:</p>\n<pre><code>void Add(Account account);\nvoid Add(Payment payment);\n</code></pre>\n<p>However you cannot have overloads for the get:</p>\n<pre><code>Account Get(Guid id);\nPayment Get(Guid id);\n</code></pre>\n<p>I always disliked this asymmetry. You have to do:</p>\n<pre><code>Account GetAccount(Guid id);\nPayment GetPayment(Guid id);\n</code></pre>\n<p>With the above approach this is possible:</p>\n<pre><code>Account Get(Id&lt;Account&gt; id);\nPayment Get(Id&lt;Payment&gt; id);\n</code></pre>\n<p>Symmetry achieved.</p>\n"}], "owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1463, "favorite_count": 4, "accepted_answer_id": 53748965, "answer_count": 4, "score": 40, "last_activity_date": 1618037500, "creation_date": 1544637004, "last_edit_date": 1544637706, "question_id": 53748675, "link": "https://stackoverflow.com/questions/53748675/strongly-typed-guid-as-generic-struct", "title": "Strongly typed Guid as generic struct", "body": "<p>I already make twice same bug in code like following:</p>\n\n<pre><code>void Foo(Guid appId, Guid accountId, Guid paymentId, Guid whateverId)\n{\n...\n}\n\nGuid appId = ....;\nGuid accountId = ...;\nGuid paymentId = ...;\nGuid whateverId =....;\n\n//BUG - parameters are swapped - but compiler compiles it\nFoo(appId, paymentId, accountId, whateverId);\n</code></pre>\n\n<p>OK, I want to prevent these bugs, so I created strongly typed GUIDs:</p>\n\n<pre><code>[ImmutableObject(true)]\npublic struct AppId\n{\n    private readonly Guid _value;\n\n    public AppId(string value)\n    {            \n        var val = Guid.Parse(value);\n        CheckValue(val);\n        _value = val;\n    }      \n\n    public AppId(Guid value)\n    {\n        CheckValue(value);\n        _value = value;           \n    }\n\n    private static void CheckValue(Guid value)\n    {\n        if(value == Guid.Empty)\n            throw new ArgumentException(\"Guid value cannot be empty\", nameof(value));\n    }\n\n    public override string ToString()\n    {\n        return _value.ToString();\n    }\n}\n</code></pre>\n\n<p>And another one for PaymentId:</p>\n\n<pre><code>[ImmutableObject(true)]\npublic struct PaymentId\n{\n    private readonly Guid _value;\n\n    public PaymentId(string value)\n    {            \n        var val = Guid.Parse(value);\n        CheckValue(val);\n        _value = val;\n    }      \n\n    public PaymentId(Guid value)\n    {\n        CheckValue(value);\n        _value = value;           \n    }\n\n    private static void CheckValue(Guid value)\n    {\n        if(value == Guid.Empty)\n            throw new ArgumentException(\"Guid value cannot be empty\", nameof(value));\n    }\n\n    public override string ToString()\n    {\n        return _value.ToString();\n    }\n}\n</code></pre>\n\n<p>These structs are almost same, there is a lot of duplication of code. Isn't is?</p>\n\n<p>I cannot figure out any elegant way to solve it except using class instead of struct. I would rather use struct, because of null checks, less memory footprint, no garbage collector overhead etc...</p>\n\n<p>Do you have some idea how to use struct without duplicating code?</p>\n"}, {"tags": ["c#", "arrays", "performance"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1544636261, "post_id": 53748466, "comment_id": 94349428, "body": "Convert each array to a string and then do a case-insensitive comparison..."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 2, "creation_date": 1544636289, "post_id": 53748466, "comment_id": 94349446, "body": "It would depend on the encoding. Are you dealing with ascii string?"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1544636325, "post_id": 53748466, "comment_id": 94349480, "body": "What do you mean by the case-sensitivity of a byte? Do the arrays represent ascii-encoded strings?"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1544636348, "post_id": 53748466, "comment_id": 94349495, "body": "@Xiaoy312 It&#39;s UTF8 encoded string"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1544636541, "post_id": 53748466, "comment_id": 94349616, "body": "@Lee I mean that the individual bytes (considering I am using UTF8 actually multiple bytes) represent characters."}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 2, "creation_date": 1544636639, "post_id": 53748466, "comment_id": 94349668, "body": "lowercase and uppercase ACSII codes have an offset of 32, so you can implement a comparison of <code>x == byte[x] || byte[x+32]</code> with x=uppercase, if I understand you correctly"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 0, "creation_date": 1544636675, "post_id": 53748466, "comment_id": 94349692, "body": "@FalcoAlexander OP already stated he isn&#39;t using ASCII.  He&#39;s using UTF8."}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 1, "creation_date": 1544636749, "post_id": 53748466, "comment_id": 94349734, "body": "the same offset should be true for UTF8"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 0, "creation_date": 1544636853, "post_id": 53748466, "comment_id": 94349786, "body": "I have edited the question. @FalcoAlexander it appears UTF8 is offset by 20 .. will try and check if it applies for entire alphabet, thanks! :)"}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 1, "creation_date": 1544637012, "post_id": 53748466, "comment_id": 94349853, "body": "@JKurcik you mean hex 20 (=32)?"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1544637083, "post_id": 53748466, "comment_id": 94349885, "body": "@Amy that would be impossible due to the fact the operation is running against 10s of millions of bytes, I wouldn&#39;t use pointers if it wasn&#39;t that memory expensive. Instantiating new strings every increment would probably kill the GC"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 0, "creation_date": 1544637177, "post_id": 53748466, "comment_id": 94349925, "body": "@FalcoAlexander you are right, sorry! Could You post it as an answer please? :) Thanks!"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1544637230, "post_id": 53748466, "comment_id": 94349957, "body": "@JKurcik Then use a stream reader and convert it a few characters at a time."}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1544637523, "post_id": 53748466, "comment_id": 94350105, "body": "@Amy I guess that would also work, but for the performance and basically no overhead reasons I will go with FalcoAlexander&#39;s answer. Thank you however, in most cases your suggestions would work perfectly and would also have better readability."}, {"owner": {"reputation": 19302, "user_id": 154766, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/jItKY.jpg?s=128&g=1", "display_name": "Asik", "link": "https://stackoverflow.com/users/154766/asik"}, "edited": false, "score": 0, "creation_date": 1544638355, "post_id": 53748466, "comment_id": 94350508, "body": "One day this will be baked into .NET, where you&#39;ll be able to instantiate a native Utf8String without allocating. <a href=\"https://github.com/dotnet/corefx/issues/30503\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/issues/30503</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1718, "user_id": 1729458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0b52fd8b25825ec60c94e78f129a87?s=128&d=identicon&r=PG", "display_name": "Strikegently", "link": "https://stackoverflow.com/users/1729458/strikegently"}, "is_accepted": false, "score": 3, "last_activity_date": 1544637054, "creation_date": 1544637054, "answer_id": 53748694, "question_id": 53748466, "link": "https://stackoverflow.com/questions/53748466/c-compare-two-byte-arrays-containing-text-as-lowercase/53748694#53748694", "title": "C# Compare two byte[] arrays containing text as lowercase", "body": "<p>Convert the <code>byte</code> array to a <code>string</code> and then do a case-insensitive comparison. Something like:</p>\n\n<pre><code>bool caseInsensitiveByteArrayComparison(byte[] a, byte[] b) {\n    string aString = System.Text.Encoding.UTF8.GetString(a);\n    string bString = System.Text.Encoding.UTF8.GetString(b);\n    return string.Equals(aString, bString, StringComparison.CurrentCultureIgnoreCase);\n}\n</code></pre>\n\n<p>Code shamelessly stolen from SO. See:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/1003275/how-to-convert-utf-8-byte-to-string\">How to convert UTF-8 byte[] to string?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/631233/is-there-a-c-sharp-case-insensitive-equals-operator\">Is there a C# case insensitive equals operator?</a></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1544637838, "post_id": 53748742, "comment_id": 94350260, "body": "do you mean <code>x == byte[i] || x == byte[i]+32</code>, or how is this supposed to work with logical or? (no criticism, I just don&#39;t get it, what about indexoutofrange and wraparound)"}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1544638102, "post_id": 53748742, "comment_id": 94350389, "body": "you are right, it was a typo, but it could also be done by bitwise comparison as uppercase and lowercase chars onyl differ by the 2nd most significant bit!! I will add that later as this should even outperform the &quot;normal&quot; byte comparsion!"}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "edited": false, "score": 2, "creation_date": 1544639064, "post_id": 53748742, "comment_id": 94350868, "body": "@FalcoAlexander is it worth checking if the byte value is outside the alphabet range to avoid false positives? (65-122 in decimal)"}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "reply_to_user": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "edited": false, "score": 0, "creation_date": 1544696202, "post_id": 53748742, "comment_id": 94371039, "body": "@JKurcik updated the answer to introduce the bitwise operations, even if they may not handle all your needs in special."}, {"owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "edited": false, "score": 1, "creation_date": 1545128897, "post_id": 53748742, "comment_id": 94510312, "body": "@FalcoAlexander thanks for the effort haha, although i&#39;m affraid using BitConverter will instantiate new arrays and cause a massive performance hit. Try to simulate your operation in a scenario where you need to compare 30mil byte arrays. I managed to squeeze in this condition : <code>*x1 != *x2 &amp;&amp; (*x1 &lt; 65 || *x1 &gt; 122 || *x2 &lt; 65 || *x2 &gt; 122 || *x1 + 32 != *x2)</code> which first tries exact match, then ensures both x1 and x2 are within alphabet and then tries lowercase comparison. I ran it 30+mil times and got under 5ms using pointers. Thanks for pointing me in the right direction though!"}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 1, "creation_date": 1545130626, "post_id": 53748742, "comment_id": 94511307, "body": "my example was only to show that working with 8 byte chunks with binary operations can be done in a first step. have a look at the <code>System.Numerics.Vectors</code> to get support for 128 bit and hardware-accelerated numeric types. The check for alphanumeric bytes can also be done on bit mask and shift level. may be the compiler does it already, but check the assembler sites of StackExchange for some very nice hints...I like that low level performance optimizing a lot. May be you make it a challenge with a new question with the optimisation tag and a defined set of data with an example to start with."}, {"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "reply_to_user": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "edited": false, "score": 0, "creation_date": 1545490893, "post_id": 53748742, "comment_id": 94639001, "body": "@JKurcik I just noticed this PR also handling case processing with performance view! <a href=\"https://github.com/dotnet/coreclr/pull/21615/\" rel=\"nofollow noreferrer\">github.com/dotnet/coreclr/pull/21615</a>   with nice benchmarking and insights+discussion"}], "tags": [], "owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "is_accepted": true, "score": 3, "last_activity_date": 1544696145, "last_edit_date": 1544696145, "creation_date": 1544637251, "answer_id": 53748742, "question_id": 53748466, "link": "https://stackoverflow.com/questions/53748466/c-compare-two-byte-arrays-containing-text-as-lowercase/53748742#53748742", "title": "C# Compare two byte[] arrays containing text as lowercase", "body": "<p>Lowercase and uppercase ACSII and UTF8 code's byte representation have an offset of 32 (or hex20), so you can implement a comparison of <code>x == byte[x] || x == byte[x+32]</code> with x=uppercase char value.</p>\n\n<p>edit:</p>\n\n<p>suppose you really have to deal only with small and capital english letters, you can hack around with bitwise operations to speed things up, as you can handle 8 byte / chars at once, because those only differ by the 3rd most significant bit:</p>\n\n<p><code>'b' &amp; 0b_1101_1111 == 'B' &amp; 0b_1101_1111</code></p>\n\n<p>so you could handle the byte array in 8 byte chunks:</p>\n\n<pre><code>void Main()\n{\n    byte[] a = \"ASDADAGF\".Select(x =&gt; (byte)(x) ).ToArray();\n    byte[] b = \"asdAdAGF\".Select(x =&gt; (byte)(x) ).ToArray();\n    bitCompared(a,b).Dump();\n}\n\nstatic bool bitCompared( byte[] b1, byte[]b2)\n{\n    UInt64 a = BitConverter.ToUInt64(b1, 0); //loop over the index\n    UInt64 b = BitConverter.ToUInt64(b2, 0);\n    UInt64 mask =0b_1101_1111_1101_1111_1101_1111_1101_1111_1101_1111_1101_1111_1101_1111_1101_1111;\n    return (a &amp;= mask) == (b &amp;= mask);\n}\n</code></pre>\n\n<p>afaik there are also even more ways to optimize with SIMD and other low level \"hacks\".....</p>\n"}], "owner": {"reputation": 220, "user_id": 3441406, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006556545/picture?type=large", "display_name": "JKurcik", "link": "https://stackoverflow.com/users/3441406/jkurcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 53748742, "answer_count": 2, "score": 3, "last_activity_date": 1544696145, "creation_date": 1544636175, "last_edit_date": 1544639436, "question_id": 53748466, "link": "https://stackoverflow.com/questions/53748466/c-compare-two-byte-arrays-containing-text-as-lowercase", "title": "C# Compare two byte[] arrays containing text as lowercase", "body": "<p>When comparing individual byte values from two separate byte[] sources (arrays / pointers), how would one perform a case INSENSITIVE comparison?</p>\n\n<p>I have one very large array of bytes containing the \"haystack\" of strings I am accessing through pointer and I am comparing it to a \"needle\" pattern, but currently it's only returning when there is an exact case sensitive match.</p>\n\n<p>Is it possible to create a lookup dictionary containing the upper-to-lower values and use that in the comparing loop or is there a faster way? (performance-wise)</p>\n\n<p><strong>Edit1:</strong></p>\n\n<p>The strings are UTF8 encoded.</p>\n\n<p>The desired behavior would be: return true when comparing either a,a; A,A; or a,A. But since 'A' in UTF8 has a value of 65 and 'a' has a value of 97, I cannot do case-insensitive comparison.</p>\n"}, {"tags": ["c#", "asynchronous"], "answers": [{"tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 4, "last_activity_date": 1544636167, "creation_date": 1544636167, "answer_id": 53748460, "question_id": 53748387, "link": "https://stackoverflow.com/questions/53748387/awaiting-continuewith-result-does-not-wait-for-the-task-to-complete/53748460#53748460", "title": "awaiting ContinueWith result does not wait for the task to complete", "body": "<p>What you're looking for is the <code>Unwrap</code> method.</p>\n\n<p>If you look at the type of <code>secondTask</code>, you'll see that's it's actually a <code>Task&lt;Task&gt;</code>, so while you're awaiting the outer task, the inner task is not blocking. The way to handle this when nesting async calls is as follows:</p>\n\n<pre><code>var secondTask = firstTask.ContinueWith(async (t) =&gt; await T2()).Unwrap();\n</code></pre>\n\n<p><code>secondTask</code> is now of type <code>Task</code>, and you should see the behavior you expect.</p>\n"}], "owner": {"reputation": 1044, "user_id": 3775807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/92feb6ba1c8916603ca43683e28cb270?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo Honey", "link": "https://stackoverflow.com/users/3775807/pablo-honey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53748460, "answer_count": 1, "score": 0, "last_activity_date": 1544636167, "creation_date": 1544635842, "question_id": 53748387, "link": "https://stackoverflow.com/questions/53748387/awaiting-continuewith-result-does-not-wait-for-the-task-to-complete", "title": "awaiting ContinueWith result does not wait for the task to complete", "body": "<p>I have the following  minimal code : </p>\n\n<pre><code>class Program\n{\n    static async Task T1()\n    {\n        await Task.Delay(1000);\n        Console.WriteLine(\"T1\");\n    }\n    static async Task T2()\n    {\n        await Task.Delay(500);\n        Console.WriteLine(\"T2\");\n    }\n    static async Task Test()\n    {\n        var firstTask = T1();\n        var secondTask = firstTask.ContinueWith(async (t) =&gt; await T2());\n\n        await secondTask;\n    }\n    static void Main(string[] args)\n    {\n        Task.Run(async () =&gt; { await Test(); }).GetAwaiter().GetResult();\n        Console.WriteLine(\"End\");\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>I excepected that Test method will wait for the T2 to complete, but I got the following result </p>\n\n<pre><code>T1\nEnd\nT2\n</code></pre>\n\n<p>Why ?</p>\n"}, {"tags": ["c#", "linq", "collections", "where"], "comments": [{"owner": {"reputation": 3510, "user_id": 574722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sxyd.jpg?s=128&g=1", "display_name": "bhmahler", "link": "https://stackoverflow.com/users/574722/bhmahler"}, "edited": false, "score": 0, "creation_date": 1544636348, "post_id": 53748315, "comment_id": 94349496, "body": "Just change your where to Any suborder.OrderLineItemList.Any(x=&gt;x.BundleComponentList.Any(&zwnj;&#8203;y=&gt;y.Product == &quot;Shoes&quot;))"}], "answers": [{"comments": [{"owner": {"reputation": 1544, "user_id": 5341857, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf8234612d288ff8a2d897aae67e5cba?s=128&d=identicon&r=PG&f=1", "display_name": "Huma Ali", "link": "https://stackoverflow.com/users/5341857/huma-ali"}, "edited": false, "score": 0, "creation_date": 1544635799, "post_id": 53748328, "comment_id": 94349192, "body": "I have a confusion that will <code>Any</code> traverse through all the BundleComponentList items or will it just pick the one with Product == &quot;Shoes&quot;?"}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 1544, "user_id": 5341857, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf8234612d288ff8a2d897aae67e5cba?s=128&d=identicon&r=PG&f=1", "display_name": "Huma Ali", "link": "https://stackoverflow.com/users/5341857/huma-ali"}, "edited": false, "score": 2, "creation_date": 1544635853, "post_id": 53748328, "comment_id": 94349217, "body": "@HumaAli <code>Any</code> as the name states will stop as soon as &quot;any item passes the condition&quot; and return true, but if there&#39;s no match it will traverse the entire sequence."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 3, "last_activity_date": 1544635588, "creation_date": 1544635588, "answer_id": 53748328, "question_id": 53748315, "link": "https://stackoverflow.com/questions/53748315/linq-where-clause-condition-in-if/53748328#53748328", "title": "LINQ where clause condition in if", "body": "<p>Use <code>Any</code> instead of <code>Where</code> as <code>Where</code> returns a sequence, not a <code>bool</code>.</p>\n\n<pre><code>suborder.OrderLineItemList.Any(x =&gt; x.BundleComponentList.Any(y =&gt; y.Product == \"Shoes\")))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 10756236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JD5A7.png?s=128&g=1", "display_name": "Elvison", "link": "https://stackoverflow.com/users/10756236/elvison"}, "is_accepted": false, "score": 0, "last_activity_date": 1544636715, "last_edit_date": 1544636715, "creation_date": 1544636172, "answer_id": 53748464, "question_id": 53748315, "link": "https://stackoverflow.com/questions/53748315/linq-where-clause-condition-in-if/53748464#53748464", "title": "LINQ where clause condition in if", "body": "<p><code>Where()</code> does not return a boolean value but an <code>IEnumerable</code> and so it cannot be used in an if-clause. You should use <code>Any()</code> in your case.</p>\n\n<pre><code>if (suborder.OrderLineItemList.Any(x =&gt; x.Product == \"Shoes\") || \n    suborder.OrderLineItemList.Any(x =&gt; x.BundleComponentList.Any(y =&gt; y.Product == \"Shoes\")))\n</code></pre>\n\n<p>Please also note that the above if-clause assumes that suborder is never null.</p>\n"}, {"tags": [], "owner": {"reputation": 6032, "user_id": 3634538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/625f7a039c3c5807a18987c8d9bb946d?s=128&d=identicon&r=PG&f=1", "display_name": "Yom T.", "link": "https://stackoverflow.com/users/3634538/yom-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1544636314, "creation_date": 1544636314, "answer_id": 53748502, "question_id": 53748315, "link": "https://stackoverflow.com/questions/53748315/linq-where-clause-condition-in-if/53748502#53748502", "title": "LINQ where clause condition in if", "body": "<p>I would combine lambda with LINQ for it. Much easier to read and see what's going on:</p>\n\n<pre><code>var orders = from o in suborder.OrderLineItemList\n             where\n               o.Product == \"Shoes\" ||\n               o.BundleComponentList.Any(c =&gt; c.Product == \"Shoes\")\n             select o;\n\nbool isShoesOrder = orders.Any();\n</code></pre>\n"}], "owner": {"reputation": 1544, "user_id": 5341857, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf8234612d288ff8a2d897aae67e5cba?s=128&d=identicon&r=PG&f=1", "display_name": "Huma Ali", "link": "https://stackoverflow.com/users/5341857/huma-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 53748328, "answer_count": 3, "score": 0, "last_activity_date": 1544636715, "creation_date": 1544635533, "question_id": 53748315, "link": "https://stackoverflow.com/questions/53748315/linq-where-clause-condition-in-if", "title": "LINQ where clause condition in if", "body": "<p>I have a class containing following properties:</p>\n\n<pre><code>public class Suborder\n{\n     public List&lt;OrderLineItem&gt; OrderLineItemList { get; set; }\n     public string ProviderCode { get; set; }\n}\n\n\npublic class OrderLineItem\n{\n    public List&lt;OrderLineItem&gt; BundleComponentList { get; set; }\n    public string Product { get; set; }\n}\n</code></pre>\n\n<p>I want to traverse through BundleComponentList to check if its any of its item has Product value equal to Shoes. I tried like this but getting error</p>\n\n<pre><code>if (suborder.OrderLineItemList.Any(x =&gt; x.Product == \"Shoes\") || suborder.OrderLineItemList.Where(x=&gt;x.BundleComponentList.Any(y=&gt;y.Product == \"Shoes\")))\n</code></pre>\n\n<blockquote>\n  <p>Operator '||' cannot be applied to operands of type 'bool' and\n  'System.Collections.Generic.IEnumerable</p>\n</blockquote>\n\n<p>What is wrong with my LINQ?</p>\n"}, {"tags": ["c#", "sql", "ms-access", "discord", "discord.net"], "comments": [{"owner": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "edited": false, "score": 1, "creation_date": 1544636561, "post_id": 53748244, "comment_id": 94349629, "body": "are you receiving an error, or is nothing happening at all?"}, {"owner": {"reputation": 33, "user_id": 9813413, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jack Nutting", "link": "https://stackoverflow.com/users/9813413/jack-nutting"}, "reply_to_user": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "edited": false, "score": 0, "creation_date": 1544698741, "post_id": 53748244, "comment_id": 94372487, "body": "No errors anywhere, it just does nothing. Console logs don&#39;t have any errors either"}, {"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "edited": false, "score": 0, "creation_date": 1544772958, "post_id": 53748244, "comment_id": 94401720, "body": "Your command is either not executing or your command is throwing an error. You can use a try catch. Discord.Net has an error handling that is why you can&#39;t see anything."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 9813413, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jack Nutting", "link": "https://stackoverflow.com/users/9813413/jack-nutting"}, "is_accepted": true, "score": 1, "last_activity_date": 1545254310, "last_edit_date": 1545254310, "creation_date": 1545085331, "answer_id": 53823833, "question_id": 53748244, "link": "https://stackoverflow.com/questions/53748244/discord-net-kick-command/53823833#53823833", "title": "Discord.NET Kick Command", "body": "<p>I managed to fix it, I had to remove the default value for string reason, and in the InsertCommand area I forgot to state the OleDbConnection after the SQL.</p>\n"}], "owner": {"reputation": 33, "user_id": 9813413, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jack Nutting", "link": "https://stackoverflow.com/users/9813413/jack-nutting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 53823833, "answer_count": 1, "score": 0, "last_activity_date": 1545254310, "creation_date": 1544635248, "last_edit_date": 1545085379, "question_id": 53748244, "link": "https://stackoverflow.com/questions/53748244/discord-net-kick-command", "title": "Discord.NET Kick Command", "body": "<p>So I have a bot I'm working on for a computer science project, and my kick command isn't working. I've tried commenting out the update SQL and the ReplyAsync lines but it just won't kick the user. Am I using the wrong datatype for the user?</p>\n\n<pre><code>public class Kick : ModuleBase&lt;SocketCommandContext&gt;\n    {\n        OleDbConnection con;\n        OleDbDataAdapter da;\n\n        [Command(\"kick\")]\n        [RequireUserPermission(GuildPermission.KickMembers)]\n        [RequireBotPermission(GuildPermission.KickMembers)]\n        public async Task KickUser(IGuildUser user, string reason = \"No reason provided\")\n        {\n            con = new OleDbConnection();\n            con.ConnectionString = \"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=BotDB.accdb\";\n            da = new OleDbDataAdapter();\n\n            con.Open();\n            da.InsertCommand = new OleDbCommand($\"UPDATE UserData SET NumKick = NumKick + 1 WHERE UserID = '{Convert.ToString(user.Id)}'\");\n            da.InsertCommand.ExecuteNonQuery();\n            con.Close();\n\n            await ReplyAsync($\"{user.Nickname} was kicked from the server for '{reason}'\");\n            await user.KickAsync(reason);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "steamvr"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544637035, "post_id": 53748243, "comment_id": 94349865, "body": "is <code>adamadam</code> active and enabled in your Scene right from the beginning?"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544637682, "post_id": 53748243, "comment_id": 94350185, "body": "it is, the script is attached to the gun object, which is attached to the right controller object, which is further attached to the camera rig."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544637813, "post_id": 53748243, "comment_id": 94350244, "body": "But isn&#39;t the controller object disabled by default until the Steam Controller is tracked? Could you check that by adding <code>OnDisable(){ Debug.Log(&quot;Disabled &quot; + name, this);</code>?"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638077, "post_id": 53748243, "comment_id": 94350374, "body": "@derHugo sure, where would you like me to add it? Same place as the last debug log? Edit: Sorry i mean under TriggerPressed"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638264, "post_id": 53748243, "comment_id": 94350465, "body": "to the script in general. It is a method"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638533, "post_id": 53748243, "comment_id": 94350593, "body": "sorry, miss read it, this is what the log now returns <a href=\"https://gyazo.com/0aae455902d2022b6c8ae26cf5210668\" rel=\"nofollow noreferrer\">gyazo.com/0aae455902d2022b6c8ae26cf5210668</a> EDIT: is it worth noting that, upon starting the unity project it defaults to oculus sdk and i have to use an sdk switcher to change it to steamvr, while the game is running?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638657, "post_id": 53748243, "comment_id": 94350649, "body": "wait you get an exception? Was this already there before? It seems that the <code>controller</code> is not found and therefore you get an exception in the line <code>controller.TriggerClicked += TriggerPressed;</code>, right? Or laready earlier if you didn&#39;t reference <code>controllerRight</code> in the inspector. -&gt; So the event listener is never added since you have an exception before"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638787, "post_id": 53748243, "comment_id": 94350711, "body": "yeah that only just appeared though, after adding the new method. How do i fix the finding the controller part? Because i thought i dont that correctly, im confused as this has only just showed"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544638904, "post_id": 53748243, "comment_id": 94350771, "body": "@derHugo, i decided to run it again ,removing the new method and its still there <a href=\"https://gyazo.com/6fbf5fbda22a1fde5ee4dc0e9e3d17e9\" rel=\"nofollow noreferrer\">gyazo.com/6fbf5fbda22a1fde5ee4dc0e9e3d17e9</a> i have also referenced the controller in the inspector"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639026, "post_id": 53748243, "comment_id": 94350848, "body": "Try to make <code>controllerRight</code> directly of type <code>SteamVR_TrackedController</code> instead of GameObject. than you can get rid of that <code>GetComponent</code> call and be sure the component is there"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639202, "post_id": 53748243, "comment_id": 94350938, "body": "@derHugo okay i&#39;ll try to do that now, im a complete novice at this, and im not too sure on how to do that, but i&#39;ll give it a shot and let you know"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544639591, "post_id": 53748243, "comment_id": 94351130, "body": "@derHugo Just updated the code with that, i also still have the exception Edit: in the inspector, it now says none for the controller and  icant add anything to it either"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544640104, "post_id": 53748243, "comment_id": 94351387, "body": "you should be able to drag in the controller again. Check again if there is still a <code>SteamVR_TrackedController</code> component on the controller"}, {"owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1544640556, "post_id": 53748243, "comment_id": 94351611, "body": "@derHugo removing the script and re-adding it fixed that problem, i now dragged it in, the exception still persists though and is still not working"}], "owner": {"reputation": 29, "user_id": 10218986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ee804953fdd2874d15fa2617e17e2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Steele", "link": "https://stackoverflow.com/users/10218986/adam-steele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544639516, "creation_date": 1544635243, "last_edit_date": 1544639516, "question_id": 53748243, "link": "https://stackoverflow.com/questions/53748243/not-registering-when-the-trigger-is-pressed", "title": "Not registering when the trigger is pressed", "body": "<p>i have some code, that when the trigger of the right hand controller is pressed, it shoots a gun, however it doesn't appear to be working, i've tried to add a debug into the actual TriggerPressed section, and that doesn't show up in the log when i click it in game either, im just not sure where this problem is orginating from, and im stumped as to why it isn't working. It also compiles, so any guidance is appreciated</p>\n\n<p>Edit: Not sure of its importance but decided to add this anyway, im using oculus rift controller's</p>\n\n<p>Here's the (edit: UPDATED) code:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing EZEffects;\n\npublic class adamadam : MonoBehaviour\n{\n\npublic SteamVR_TrackedController controllerRight;\n\nprivate SteamVR_TrackedObject trackedObj;\nprivate SteamVR_Controller.Device device;\n\nprivate SteamVR_TrackedController controller;\n\npublic EffectTracer TracerEffect;\npublic Transform muzzleTransform;\n\n// Use this for initialization\nvoid Start()\n{\n\n //  controller = controllerRight.GetComponent&lt;SteamVR_TrackedController&gt;();\n        controller.TriggerClicked += TriggerPressed;\n      //  trackedObj = controllerRight.GetComponent&lt;SteamVR_TrackedObject&gt;();\n}\n\nprivate void TriggerPressed(object sender, ClickedEventArgs e)\n{\n    Debug.Log(\"Clicked\");\n    ShootWeapon();\n}\n\n\npublic void ShootWeapon()\n{\n    RaycastHit hit = new RaycastHit();\n    Ray ray = new Ray(muzzleTransform.position, muzzleTransform.forward);\n\n    device = SteamVR_Controller.Input((int)trackedObj.index);\n    device.TriggerHapticPulse(750);\n    TracerEffect.ShowTracerEffect(muzzleTransform.position, \nmuzzleTransform.forward, 250f);\n\n    if (Physics.Raycast(ray, out hit, 5000f))\n    {\n        if (hit.collider.attachedRigidbody)\n        {\n            Debug.Log(\"Hit\" + hit.collider.gameObject.name);\n        }\n    }\n\n}\n\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "debian"], "comments": [{"owner": {"reputation": 2560, "user_id": 5273580, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/R28Ti.png?s=128&g=1", "display_name": "Falco Alexander", "link": "https://stackoverflow.com/users/5273580/falco-alexander"}, "edited": false, "score": 0, "creation_date": 1544637851, "post_id": 53748228, "comment_id": 94350270, "body": "are you referring to mono?"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1544659264, "post_id": 53748228, "comment_id": 94359249, "body": "Not 100% duplicate. But WinForms on non-Windows platforms is far from ready to use, so you should forget about it <a href=\"https://blog.lextudio.com/the-story-about-net-cross-platform-ui-frameworks-dd4a9433d0ea\" rel=\"nofollow noreferrer\">blog.lextudio.com/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 5458069, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206049819576777/picture?type=large", "display_name": "Matja\u017e Jerman", "link": "https://stackoverflow.com/users/5458069/matja%c5%be-jerman"}, "edited": false, "score": 0, "creation_date": 1544715124, "post_id": 53748228, "comment_id": 94382253, "body": "so what should I use?"}], "owner": {"reputation": 29, "user_id": 5458069, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206049819576777/picture?type=large", "display_name": "Matja\u017e Jerman", "link": "https://stackoverflow.com/users/5458069/matja%c5%be-jerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1544654513, "answer_count": 0, "score": 0, "last_activity_date": 1544635181, "creation_date": 1544635181, "question_id": 53748228, "link": "https://stackoverflow.com/questions/53748228/c-using-system-windows-forms-on-debian-9-with-dotnet-package", "closed_reason": "Duplicate", "title": "C# : Using System.Windows.Forms on Debian 9 with dotnet package", "body": "<p>I'm trying to use System.Windows.Forms for MessageBox.Show(); funcion on Debian 9 with dot net.</p>\n\n<p>Code is:</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\n\nnamespace Test {\n    class Program {\n        static void Main (string[] args) {\n            MessageBox.Show (\"test\");\n        }\n    }\n}\n</code></pre>\n\n<p>The error that popups with: \"dotnet run\" command</p>\n\n<pre><code>test.cs(2,22): error CS0234: The type or namespace name 'Forms' does not exist in the namespace 'System.Windows'(are you missing an assembly reference?) [/home/&lt;user&gt;/Documents/test/test.csproj]\n\nThe build failed. Please fix the build errors and run again.\n</code></pre>\n\n<p>I know that I have to add reference to this particular \"package\" but I don't know how on Debian 9.</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "answers": [{"tags": [], "owner": {"reputation": 1648, "user_id": 1355504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M7BSL.jpg?s=128&g=1", "display_name": "Sats", "link": "https://stackoverflow.com/users/1355504/sats"}, "is_accepted": true, "score": 2, "last_activity_date": 1544641467, "last_edit_date": 1544641467, "creation_date": 1544639411, "answer_id": 53749239, "question_id": 53748220, "link": "https://stackoverflow.com/questions/53748220/wpf-c-gridspittler-and-show-hide-button/53749239#53749239", "title": "WPF C# GridSpittler and Show/Hide Button", "body": "<p>Since you are making the right items collapsed, it will make the control not to be present in the panel.\nInstead of making the Visibility <code>Collapsed</code>. We can set the width as 10 when button is clicked and when again clicked we can revert it back to original width. At the same time, we can also drag the <code>GridSplitter</code>. </p>\n\n<pre><code> private void deatilsShowHide(object sender, RoutedEventArgs e) \n { \n     if(rightColumn.Width == new GridLength(10))\n        {\n            rightColumn.Width = new GridLength(300);\n        }\n        else\n        {\n            rightColumn.Width = new GridLength(10);\n        }\n}\n</code></pre>\n\n<p>Xaml:-</p>\n\n<pre><code>    &lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"*\"  /&gt;\n        &lt;ColumnDefinition Width=\"5\" /&gt;\n        &lt;ColumnDefinition Width=\"300\" x:Name=\"rightColumn\"/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"*\" /&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;StackPanel Grid.Column=\"0\" Background=\"AliceBlue\"&gt;\n    &lt;Button Width=\"50\" Height=\"50\" HorizontalAlignment=\"Right\" x:Name=\"Details_Toggle\" Focusable=\"False\" Click=\"Details_Toggle_Click\"&gt;\n        &lt;StackPanel&gt;\n\n        &lt;/StackPanel&gt;\n    &lt;/Button&gt;\n    &lt;/StackPanel&gt;\n\n    &lt;GridSplitter x:Name=\"rightSplitter\"\n\n  Width=\"15\" Grid.Column=\"1\"\n  HorizontalAlignment=\"Stretch\"\n  VerticalAlignment=\"Stretch\"\n  Background=\"Transparent\"\n  ShowsPreview=\"True\" /&gt;\n\n    &lt;StackPanel Grid.Column=\"2\"   VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" &gt;\n        &lt;Button Content=\"test\" Grid.Column=\"2\" HorizontalAlignment=\"Left\"  VerticalAlignment=\"Top\" Width=\"75\"/&gt;\n\n    &lt;/StackPanel&gt;\n\n\n&lt;/Grid&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 1972736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7rBY.jpg?s=128&g=1", "display_name": "Faz", "link": "https://stackoverflow.com/users/1972736/faz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53749239, "answer_count": 1, "score": 0, "last_activity_date": 1544641467, "creation_date": 1544635167, "question_id": 53748220, "link": "https://stackoverflow.com/questions/53748220/wpf-c-gridspittler-and-show-hide-button", "title": "WPF C# GridSpittler and Show/Hide Button", "body": "<p>I have a GridSplitter which is dragable and both columns resize accordingly. I have a button which can hide the right column but I am looking to have another press of the button to show the right column again and still be dragable. </p>\n\n<p>I have tried to use a ToggleButton but the GridSpiltter is fixed using it and is not dragable.</p>\n\n<p>How can I have a button to show/hide a column and still be adjustable by the user?</p>\n\n<p>GridSplitter:</p>\n\n<pre><code>      &lt;GridSplitter x:Name=\"rightSplitter\"\n      Grid.Column=\"1\"\n      Width=\"15\"\n      HorizontalAlignment=\"Left\"\n      VerticalAlignment=\"Stretch\"\n      Background=\"Transparent\"\n      ShowsPreview=\"True\" /&gt;\n</code></pre>\n\n<p>Column Definitions:</p>\n\n<pre><code>&lt;Grid.ColumnDefinitions&gt;\n    &lt;ColumnDefinition Width=\"*\" /&gt;\n    &lt;ColumnDefinition Width=\"300\" x:Name=\"rightColumn\"/&gt;\n  &lt;/Grid.ColumnDefinitions&gt;\n  &lt;Grid.RowDefinitions&gt;\n    &lt;RowDefinition Height=\"*\" /&gt;\n    &lt;RowDefinition Height=\"Auto\" /&gt;\n  &lt;/Grid.RowDefinitions&gt;\n</code></pre>\n\n<p>Button:</p>\n\n<pre><code>&lt;Button Width=\"50\" Height=\"50\" HorizontalAlignment=\"Right\" x:Name=\"Details_Toggle\" Focusable=\"False\"&gt;\n    &lt;StackPanel&gt;\n      &lt;Image Source=\"controls/details.png\" /&gt;\n    &lt;/StackPanel&gt;\n</code></pre>\n\n<p>Button Click C#:</p>\n\n<pre><code>        private void deatilsShowHide(object sender, RoutedEventArgs e) { \n        rightColumn.Width = new GridLength(0);\n        rightSplitter.Visibility = System.Windows.Visibility.Collapsed;\n    }\n</code></pre>\n"}, {"tags": ["c#", "nullreferenceexception", "discord"], "comments": [{"owner": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 0, "creation_date": 1544635151, "post_id": 53748182, "comment_id": 94348782, "body": "are you sure that you included the entire method?  in your example, there is no possible way for <code>isImage()</code> to return <code>true</code>."}, {"owner": {"reputation": 9, "user_id": 10564789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uEC7QzZiRiY/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCFSQeenI_HrVzSqyJC6DbsEtKA5g/mo/photo.jpg?sz=128", "display_name": "Pintex", "link": "https://stackoverflow.com/users/10564789/pintex"}, "reply_to_user": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 0, "creation_date": 1544635766, "post_id": 53748182, "comment_id": 94349165, "body": "I had an Idea, but this was not good."}], "owner": {"reputation": 9, "user_id": 10564789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uEC7QzZiRiY/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCFSQeenI_HrVzSqyJC6DbsEtKA5g/mo/photo.jpg?sz=128", "display_name": "Pintex", "link": "https://stackoverflow.com/users/10564789/pintex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544635001, "creation_date": 1544635001, "question_id": 53748182, "link": "https://stackoverflow.com/questions/53748182/discord-net-isimage", "title": "Discord.NET isImage", "body": "<p>how can i check if the message is a picture?\nI have tried to check if the IReadOnlyList is 0 but this dosn't work. </p>\n\n<p>My Code:</p>\n\n<pre><code>namespace Bot.Utils\n    {\n        class UtilClasses\n        {\n            public static bool isImage(SocketMessage message)\n            {\n                bool isImage = false;\n                string Message = message.Content.ToString();\n\n\n                    if (isImage)\n                    {\n                    isImage = false;\n                    return isImage;\n                    }\n                else\n                    {\n                    isImage = false;\n                    return isImage;\n                }   \n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "azureservicebus", "azure-servicebus-queues"], "comments": [{"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544638967, "post_id": 53748086, "comment_id": 94350814, "body": "How do you receive your messages? Can you share a full repro? The fact that you receive messages with remaining lock duration less than <code>MaxLockDuration</code> is a clear indication something is off."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544702415, "post_id": 53748086, "comment_id": 94374518, "body": "@SeanFeldman Yes, here: <a href=\"https://pastebin.com/sFGBgE0s\" rel=\"nofollow noreferrer\">pastebin.com/sFGBgE0s</a>"}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544702721, "post_id": 53748086, "comment_id": 94374701, "body": "The code in pastebin uses Thread.Sleep instead of TaskDelay, and PrefetchCount=0 has been commented out, but that didn&#39;t make a difference."}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544714237, "post_id": 53748086, "comment_id": 94381639, "body": "What version of the ASB client are you using?"}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544729528, "post_id": 53748086, "comment_id": 94389515, "body": "I&#39;ve ran it against the latest version of the client with <a href=\"https://imgur.com/a/YvPibYz\" rel=\"nofollow noreferrer\">10 messages</a> in queue and all worked well. Wouldn&#39;t recommend using Thread.Delay, rather Task.Delay, but that doesn&#39;t seem to be the issue here."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544782711, "post_id": 53748086, "comment_id": 94406575, "body": "I am using Microsoft.Azure.ServiceBus 3.2.0 with .NET Core 2.1. I am still getting this weird pattern of decreasing remaining lock duration."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544788240, "post_id": 53748086, "comment_id": 94409510, "body": "Sean, which version did you use?"}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544792419, "post_id": 53748086, "comment_id": 94411621, "body": "I got a bit closer to the cause of the problem: if I reduce the delay to 200ms and print out LockedUntilUtc, I see that the messages are prefetched in batches of 16. (16 consecutive messages have the same LockedUntilUtc.) So how to disable prefetching?"}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544807488, "post_id": 53748086, "comment_id": 94419729, "body": "Latest 3.2.0 with .NET Framework. This is why code should be shared as a repo and not a snippet \ud83d\ude04. Anyhow, I have a hunch what it could be, will need to check and share."}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544823204, "post_id": 53748086, "comment_id": 94425938, "body": "I&#39;ve checked and the following is what&#39;s happening: <code>QueueClient</code> has a <code>MessageReceiver</code>. When a <code>MessageHandler</code> is registered, a <code>MessageReceivePump</code> is created, using the same receiver of the queue client. If prefetch is set to zero, that will be the same prefetch. This should work unless there&#39;s some sort of bug you&#39;ve ran into. Mind to share a GitHub repor with your finding? I want to see all details, packages, etc. Thanks."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544864273, "post_id": 53748086, "comment_id": 94432901, "body": "Updated to 3.2.1, but the error is still there.  Here is the repo: <a href=\"https://github.com/mywyb2/ServiceBusTest\" rel=\"nofollow noreferrer\">github.com/mywyb2/ServiceBusTest</a> Thank you!"}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 1, "creation_date": 1544903669, "post_id": 53748086, "comment_id": 94443107, "body": "I suspect this is a bug. See my answer <a href=\"https://stackoverflow.com/a/53796713/59563\">below</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 0, "creation_date": 1544702165, "post_id": 53755066, "comment_id": 94374383, "body": "I added the delay deliberately to simulate a task that runs a bit longer - but less long as the LockDuration. The question is why the remaining lock duration keeps decreasing."}, {"owner": {"reputation": 1274, "user_id": 9956374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFstU.jpg?s=128&g=1", "display_name": "Arunprabhu", "link": "https://stackoverflow.com/users/9956374/arunprabhu"}, "reply_to_user": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 0, "creation_date": 1544706089, "post_id": 53755066, "comment_id": 94376525, "body": "Messages will be continuously received by processMessagesAsync. Say if you have 10 messages, all the messages will be received one by one despite of what you have inside processMessagesAsync. Hence 10 messages will be queued for the Delay, resulting in lock token expiry. Kindly note: The message retrieval will not wait for processMessagesAsync to complete execution, messages will piled up for the Delay."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 1, "creation_date": 1544712362, "post_id": 53755066, "comment_id": 94380423, "body": "The observed behaviour indeed matches your explanation. But this would be a bug, wouldn&#39;t it? I have set PrefetchCount = 0, which should disable prefetching (see <a href=\"https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-prefetch\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/service-bus-messaging/&hellip;</a>).  There must be a way to disable prefetching, otherwise it would be impossible to avoid lock expiry."}, {"owner": {"reputation": 1274, "user_id": 9956374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFstU.jpg?s=128&g=1", "display_name": "Arunprabhu", "link": "https://stackoverflow.com/users/9956374/arunprabhu"}, "reply_to_user": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 0, "creation_date": 1544767115, "post_id": 53755066, "comment_id": 94399753, "body": "This is not a bug. It is the expected behavior. Prefetch only fetches the messages in background and make it available for the receiver for faster processing with a help of temporary memory. In your case, if you use RegisterMessageHandler(), it will not work like a While loop, it fetches the message and initiate the ProcessMessageAsync() asynchronously. If you want the next message to be received only after the completion of your task, you should use ReceiveAsync() inside a while loop."}, {"owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 0, "creation_date": 1544782111, "post_id": 53755066, "comment_id": 94406234, "body": "Then what does the QueueClient.Prefetch property do? I thought that setting Prefetch=0 would disable prefetching, so the next message will only be loaded into the buffer after the previous message has been completed."}, {"owner": {"reputation": 1274, "user_id": 9956374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFstU.jpg?s=128&g=1", "display_name": "Arunprabhu", "link": "https://stackoverflow.com/users/9956374/arunprabhu"}, "reply_to_user": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "edited": false, "score": 0, "creation_date": 1544786076, "post_id": 53755066, "comment_id": 94408411, "body": "Prefetch loads the messages in background in a buffer and provides it in a faster rate for the client. The purpose of perfetch it to improve the speed of message processing."}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1544807390, "post_id": 53755066, "comment_id": 94419686, "body": "Just a comment, API wise, if Prefetch is set to zero and MessageHandlerOptions concurrency level is set to 1, this is inadvertently same as <code>ReceiveAsync()</code>. Will dig into this a bit more to have more than just this comment."}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 2, "creation_date": 1544903635, "post_id": 53755066, "comment_id": 94443100, "body": "@Arunprabhu prefetch on message receiver is zero by default. MoB is explicitly setting it to zero. His setup is valid and if he wants to do serial processing using message handler API for simplicity, that&#39;s absolutely fine. I suspect this is a bug. See my answer."}, {"owner": {"reputation": 1274, "user_id": 9956374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFstU.jpg?s=128&g=1", "display_name": "Arunprabhu", "link": "https://stackoverflow.com/users/9956374/arunprabhu"}, "reply_to_user": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "edited": false, "score": 0, "creation_date": 1545022287, "post_id": 53755066, "comment_id": 94466632, "body": "@SeanFeldman I understand it now.Thanks for the clarification :)"}], "tags": [], "owner": {"reputation": 1274, "user_id": 9956374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFstU.jpg?s=128&g=1", "display_name": "Arunprabhu", "link": "https://stackoverflow.com/users/9956374/arunprabhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1544675732, "creation_date": 1544675732, "answer_id": 53755066, "question_id": 53748086, "link": "https://stackoverflow.com/questions/53748086/azure-service-bus-keeps-throwing-messagelocklostexceptions/53755066#53755066", "title": "Azure Service Bus keeps throwing MessageLockLostExceptions", "body": "<p>You need to <code>Complete</code> the message before the <code>Lock Token</code> gets expired. Once the Lock Token is expired, you will receive <code>MessageLockLostException</code> during the complete operation.</p>\n\n<p>I can see that you are delaying the thread execution by 10 seconds for each message. But the messages seems to be fetched at the same point of time, that's why the remaining lock duration keeps reducing for each message. </p>\n\n<p>For the fourth message, the Remaining lock duration is <code>00:00:00.1776760</code>. So, after <code>177 milliseconds</code>, the lock will expire. You are delaying the thread by <code>10 seconds</code> in the next line. So, the lock would expire and you are getting <code>MessageLockLostException</code>. To avoid this exception, remove the\n<code>Delay</code></p>\n"}, {"comments": [{"owner": {"reputation": 5390, "user_id": 1659806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/O5q7U.jpg?s=128&g=1", "display_name": "Rob McCabe", "link": "https://stackoverflow.com/users/1659806/rob-mccabe"}, "edited": false, "score": 0, "creation_date": 1545230862, "post_id": 53796713, "comment_id": 94554684, "body": "I am also seeing this problem"}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "reply_to_user": {"reputation": 5390, "user_id": 1659806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/O5q7U.jpg?s=128&g=1", "display_name": "Rob McCabe", "link": "https://stackoverflow.com/users/1659806/rob-mccabe"}, "edited": false, "score": 0, "creation_date": 1545267844, "post_id": 53796713, "comment_id": 94570363, "body": "This is a broker constraint."}], "tags": [], "owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "is_accepted": true, "score": 3, "last_activity_date": 1544903497, "creation_date": 1544903497, "answer_id": 53796713, "question_id": 53748086, "link": "https://stackoverflow.com/questions/53748086/azure-service-bus-keeps-throwing-messagelocklostexceptions/53796713#53796713", "title": "Azure Service Bus keeps throwing MessageLockLostExceptions", "body": "<p>One thing that is missing from your repro is the queue description. It's important to note such details as the problem you're experiencing has nothing to do with the client and is most likely either related to the broker or the underlying AMQP library.</p>\n\n<p>For non-partitioned queues this setup works fine. It doesn't for partitioned queues (Standard tier). Can be observed with both the old and the new clients. I've raised a broker related <a href=\"https://github.com/Azure/azure-service-bus/issues/255\" rel=\"nofollow noreferrer\">issue</a> for Azure Service Bus team to investigate.</p>\n"}], "owner": {"reputation": 3445, "user_id": 689923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08103298f5b874e8eb86399d2a813f3?s=128&d=identicon&r=PG", "display_name": "Mo B.", "link": "https://stackoverflow.com/users/689923/mo-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3296, "favorite_count": 1, "accepted_answer_id": 53796713, "answer_count": 2, "score": 3, "last_activity_date": 1544903497, "creation_date": 1544634669, "last_edit_date": 1544702439, "question_id": 53748086, "link": "https://stackoverflow.com/questions/53748086/azure-service-bus-keeps-throwing-messagelocklostexceptions", "title": "Azure Service Bus keeps throwing MessageLockLostExceptions", "body": "<p>I keep getting <code>MessageLockLostExceptions</code> when processing messages.</p>\n\n<ul>\n<li>I am using Microsoft.Azure.ServiceBus 3.2.0 with .NET Core 2.1. </li>\n<li>I have a queue with <code>LockDuration</code> set to 30 seconds already containing a number of messages to be processed.</li>\n<li>I took the very basic message-receiving tutorial code from <a href=\"https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-dotnet-get-started-with-queues#receive-messages-from-the-queue\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-dotnet-get-started-with-queues#receive-messages-from-the-queue</a>, which works fine. </li>\n</ul>\n\n<p>Now I want to simulate a slightly longer running message processing task (but still well within <code>LockDuration</code>) by adding <code>Task.Delay(10_000)</code>. But then I get a <code>MessageLockLostException</code> for exactly every 4th message.</p>\n\n<p>This happens even if I set <code>MaxAutoRenewDuration = TimeSpan.FromDays(30)</code> and <code>PrefetchCount = 0</code>.</p>\n\n<hr>\n\n<p>This is the message processing method, which I changed slightly to print out the remaining lock duration:</p>\n\n<pre><code>    private static async Task processMessagesAsync(Message message, CancellationToken token)\n    {\n        Console.Write($\"Received message: {message.SystemProperties.SequenceNumber}. Remaining lock duration: {message.SystemProperties.LockedUntilUtc - DateTime.UtcNow}\");\n        await Task.Delay(10000);\n        await queueClient.CompleteAsync(message.SystemProperties.LockToken);\n        Console.WriteLine(\" - Complete!\");\n    }\n</code></pre>\n\n<hr>\n\n<p>Sample output:</p>\n\n<pre><code>======================================================\nPress ENTER key to exit after receiving all the messages.\n======================================================\nReceived message: 3659174697238584. Remaining lock duration: 00:00:30.8269132 - Complete!\nReceived message: 19421773393035331. Remaining lock duration: 00:00:20.5271654 - Complete!\nReceived message: 11540474045136941. Remaining lock duration: 00:00:10.3372697 - Complete!\nReceived message: 15762598695796784. Remaining lock duration: 00:00:00.1776760\nMessage handler encountered an exception     Microsoft.Azure.ServiceBus.MessageLockLostException: The lock supplied is invalid. Either the lock expired, or the message has already been removed from the queue. Reference:2c6caac3-e607-4130-a522-f75e4636e130, TrackingId:3ff82738-664d-4aca-b55f-ba3900f1c640_B17, SystemTracker:ocgtesting:queue:workflow~63, Timestamp:2018-12-12T17:01:59\nat Microsoft.Azure.ServiceBus.Core.MessageReceiver.OnRenewLockAsync(String lockToken) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\Core\\MessageReceiver.cs:line 1260\nat Microsoft.Azure.ServiceBus.Core.MessageReceiver.&lt;&gt;c__DisplayClass74_0.&lt;&lt;RenewLockAsync&gt;b__0&gt;d.MoveNext() in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\Core\\MessageReceiver.cs:line 771\n--- End of stack trace from previous location where exception was thrown ---\nat Microsoft.Azure.ServiceBus.RetryPolicy.RunOperation(Func`1 operation, TimeSpan operationTimeout) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\RetryPolicy.cs:line 83\nat Microsoft.Azure.ServiceBus.RetryPolicy.RunOperation(Func`1 operation, TimeSpan operationTimeout) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\RetryPolicy.cs:line 105\nat Microsoft.Azure.ServiceBus.Core.MessageReceiver.RenewLockAsync(String lockToken) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\Core\\MessageReceiver.cs:line 773\nat Microsoft.Azure.ServiceBus.Core.MessageReceiver.RenewLockAsync(Message message) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\Core\\MessageReceiver.cs:line 742\nat Microsoft.Azure.ServiceBus.MessageReceivePump.RenewMessageLockTask(Message message, CancellationToken renewLockCancellationToken) in C:\\source\\azure-service-bus-dotnet\\src\\Microsoft.Azure.ServiceBus\\MessageReceivePump.cs:line 248.\n</code></pre>\n\n<hr>\n\n<p>Full code here: <a href=\"https://pastebin.com/sFGBgE0s\" rel=\"nofollow noreferrer\">https://pastebin.com/sFGBgE0s</a> </p>\n"}, {"tags": ["c#", "performance"], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 20, "last_activity_date": 1544634669, "creation_date": 1544634669, "answer_id": 53748084, "question_id": 53748030, "link": "https://stackoverflow.com/questions/53748030/is-there-anyway-to-optimize-this-one-bc-it-takes-forever/53748084#53748084", "title": "Is there anyway to optimize this one bc, it takes forever", "body": "<p>You're opening and closing the file on <em>every iteration of the loop</em>. That's almost certainly the problem, or at least part of it.</p>\n\n<p>Instead of that, open it once:</p>\n\n<pre><code>using (var writer = File.AppendText(folder + \".tfcs\"))\n{\n    foreach (var file in fileArray)\n    {\n        writer.WriteLine(file.Substring(49, file.Length - 49));\n        indexFiles++;\n    }\n}\nConsole.Clear();\nConsole.WriteLine(\"Scanning Folder:\");\nConsole.WriteLine(folder);\nConsole.WriteLine(\"Files found:\" + fileArray.Length);\nConsole.WriteLine(\"Files written to Database:\" + indexFiles);\n</code></pre>\n\n<p>I've also moved the console output to the end - clearing the console and writing to it on every iteration is almost certainly slowing things down very significantly too. If you need some sort of progress report as you go, I'd do it every 100 lines or something like that.</p>\n"}], "owner": {"reputation": 43, "user_id": 10782079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g7NP_1CLkg0/AAAAAAAAAAI/AAAAAAAAABU/a2mmqwVyiyM/photo.jpg?sz=128", "display_name": "max m&#252;ller", "link": "https://stackoverflow.com/users/10782079/max-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "closed_date": 1544649076, "accepted_answer_id": 53748084, "answer_count": 1, "score": 4, "last_activity_date": 1544636044, "creation_date": 1544634452, "last_edit_date": 1544636044, "question_id": 53748030, "link": "https://stackoverflow.com/questions/53748030/is-there-anyway-to-optimize-this-one-bc-it-takes-forever", "closed_reason": "Needs more focus", "title": "Is there anyway to optimize this one bc, it takes forever", "body": "<p>I have written some code which should store some strings out of a string-array for me line by line in a file, sadly I have to do this for about 200k strings in an array and which takes me forever... </p>\n\n<pre><code>foreach (var file in fileArray) {\n\n    //    Console.WriteLine(file);\n\n        string sub = file.Substring(49,file.Length - 49);\n        using (StreamWriter sw = File.AppendText(folder + \".tfcs\"))\n        {\n            sw.WriteLine(sub);   \n        }\n        indexfiles++;\n        Console.Clear();\n        Console.WriteLine(\"Scanning Folder:\");\n        Console.WriteLine(folder);\n        Console.WriteLine(\"Filesfound:\" + fileArray.Length);\n        Console.WriteLine(\"Fileswritten to Database:\" + indexfiles);\n        }\n\n}\n</code></pre>\n\n<p>Is there any way to improve this? </p>\n\n<p>P.S. I have get the progress for the amount of strings already written to the file...</p>\n"}, {"tags": ["c#", "smtp"], "comments": [{"owner": {"reputation": 416, "user_id": 4051375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b643e996ef46ac6e7dd75fc14d621474?s=128&d=identicon&r=PG&f=1", "display_name": "just-my-name", "link": "https://stackoverflow.com/users/4051375/just-my-name"}, "edited": false, "score": 3, "creation_date": 1544943238, "post_id": 53747987, "comment_id": 94449199, "body": "There is no problem with your code. Worked fine for me after I put in my host/credentials info. You might want to check logs on the smtp server if you have access to it."}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 416, "user_id": 4051375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b643e996ef46ac6e7dd75fc14d621474?s=128&d=identicon&r=PG&f=1", "display_name": "just-my-name", "link": "https://stackoverflow.com/users/4051375/just-my-name"}, "edited": false, "score": 0, "creation_date": 1544973004, "post_id": 53747987, "comment_id": 94455470, "body": "@just-my-name Did you try my code <b>as is</b>, using the host &amp; credentials I posted? Why does it get stuck instead of giving a bad credentials error? If you look at wireshark you will see that C# isn&#39;t even attempting to start the TLS connection."}, {"owner": {"reputation": 416, "user_id": 4051375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b643e996ef46ac6e7dd75fc14d621474?s=128&d=identicon&r=PG&f=1", "display_name": "just-my-name", "link": "https://stackoverflow.com/users/4051375/just-my-name"}, "edited": false, "score": 2, "creation_date": 1545027980, "post_id": 53747987, "comment_id": 94468146, "body": "Yes I did and it behaved as you described. Then I replaced it with my host and it worked just fine. That&#39;s why I suspect it has something to do with your smtp server."}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 416, "user_id": 4051375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b643e996ef46ac6e7dd75fc14d621474?s=128&d=identicon&r=PG&f=1", "display_name": "just-my-name", "link": "https://stackoverflow.com/users/4051375/just-my-name"}, "edited": false, "score": 0, "creation_date": 1545204269, "post_id": 53747987, "comment_id": 94540348, "body": "@just-my-name It&#39;s not my SMTP server, it&#39;s <a href=\"https://asmallorange.com/\" rel=\"nofollow noreferrer\">A Small Orange</a>&#39;s. Besides you haven&#39;t explained why Outlook sends just fine, and C# chokes."}], "answers": [{"comments": [{"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "edited": false, "score": 0, "creation_date": 1544689641, "post_id": 53748176, "comment_id": 94367550, "body": "Thanks, but this didn&#39;t help."}], "tags": [], "owner": {"reputation": 25, "user_id": 5460018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LTF0i.jpg?s=128&g=1", "display_name": "ljnath", "link": "https://stackoverflow.com/users/5460018/ljnath"}, "is_accepted": false, "score": -3, "last_activity_date": 1544634981, "creation_date": 1544634981, "answer_id": 53748176, "question_id": 53747987, "link": "https://stackoverflow.com/questions/53747987/smtpclient-send-gets-stuck/53748176#53748176", "title": "SmtpClient.Send gets stuck", "body": "<p>This piece of code works for me</p>\n\n<pre><code>SmtpClient client = new SmtpClient('smtp.domain.com',25);\n    client.DeliveryMethod = SmtpDeliveryMethod.Network;\n    client.UseDefaultCredentials = true;\n    client.Credentials = new NetworkCredential('username', 'password');\n    client.EnableSsl = false;\n    client.Send(mm);\n</code></pre>\n\n<p>You can try adding <strong>client.DeliveryMethod</strong></p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 6311776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154919358662575/picture?type=large", "display_name": "Usama Kiyani", "link": "https://stackoverflow.com/users/6311776/usama-kiyani"}, "is_accepted": false, "score": -2, "last_activity_date": 1545287074, "creation_date": 1545287074, "answer_id": 53863423, "question_id": 53747987, "link": "https://stackoverflow.com/questions/53747987/smtpclient-send-gets-stuck/53863423#53863423", "title": "SmtpClient.Send gets stuck", "body": "<p>Try the following code.</p>\n\n<pre><code>private async Task&lt;bool&gt; SendEmail(string Email, string Message)\n    {\n        try\n        {\n            SmtpClient client = new SmtpClient(\"www.test.com\");\n                client.UseDefaultCredentials = false;\n                client.Credentials = new NetworkCredential(\"abc@test.com\", \"password\");\n            MailMessage mailMessage = new MailMessage();\n            mailMessage.From = new MailAddress(\"test@from.com\");\n            mailMessage.To.Add(Email);\n            mailMessage.Body = Message;\n            mailMessage.Subject = \"abc\";\n            await client.SendMailAsync(mailMessage);\n            return true;\n        }\n        catch (Exception ex)\n        {\n            return false;\n        }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4126356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGlTr.jpg?s=128&g=1", "display_name": "Deszolate_C", "link": "https://stackoverflow.com/users/4126356/deszolate-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1545368185, "last_edit_date": 1545368185, "creation_date": 1545367394, "answer_id": 53879258, "question_id": 53747987, "link": "https://stackoverflow.com/questions/53747987/smtpclient-send-gets-stuck/53879258#53879258", "title": "SmtpClient.Send gets stuck", "body": "<p>it's maybe off topic, but I would like to suggest you to use </p>\n\n<p><a href=\"https://github.com/jstedfast/MailKit\" rel=\"nofollow noreferrer\">https://github.com/jstedfast/MailKit</a></p>\n\n<p>instead of create the smtp client yourself, here's a reason from <a href=\"https://www.infoq.com/news/2017/04/MailKit-MimeKit-Official\" rel=\"nofollow noreferrer\">https://www.infoq.com/news/2017/04/MailKit-MimeKit-Official</a>.</p>\n\n<blockquote>\n  <p>The main problem with SmtpClient is that it has a confusing connection lifecycle. Connecting to a SMTP server can be time consuming, especially if authentication is enabled, so each SmtpClient object has an internal connection pool.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1545424305, "post_id": 53888031, "comment_id": 94627981, "body": "One of the comments there points to this package (if using port 25 isn&#39;t an option): <a href=\"https://www.nuget.org/packages/AIM\" rel=\"nofollow noreferrer\">nuget.org/packages/AIM</a>"}], "tags": [], "owner": {"reputation": 5688, "user_id": 1287864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU0Ti.png?s=128&g=1", "display_name": "S.Spieker", "link": "https://stackoverflow.com/users/1287864/s-spieker"}, "is_accepted": true, "score": 5, "last_activity_date": 1545409742, "creation_date": 1545409742, "answer_id": 53888031, "question_id": 53747987, "link": "https://stackoverflow.com/questions/53747987/smtpclient-send-gets-stuck/53888031#53888031", "title": "SmtpClient.Send gets stuck", "body": "<p>I think the problem is implicit SSL.</p>\n\n<p><code>System.Net.Mail</code> only support \"explicit\" SSL, as explained here:</p>\n\n<p><a href=\"http://blogs.msdn.com/webdav_101/archive/2008/06/02/system-net-mail-with-ssl-to-authenticate-against-port-465.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/webdav_101/archive/2008/06/02/system-net-mail-with-ssl-to-authenticate-against-port-465.aspx</a></p>\n\n<p>Ordinarily this is governed by convention. SMTP running on port 25 (the normal case) uses explicit SSL. SMTPS running on port 465 uses implicit SSL. Mail submission running on port 587 uses explicit SSL.</p>\n\n<p>You could try port <code>25</code> if that allows explicit SSL.</p>\n"}], "owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "accepted_answer_id": 53888031, "answer_count": 4, "score": 1, "last_activity_date": 1545409742, "creation_date": 1544634318, "last_edit_date": 1544941242, "question_id": 53747987, "link": "https://stackoverflow.com/questions/53747987/smtpclient-send-gets-stuck", "title": "SmtpClient.Send gets stuck", "body": "<pre><code>string host = \"gauntlet.asoshared.com\", username= \"a@a.test\", pwd = \"abc\",\n    from = \"a@a.test\", to = \"b@b.test\";\nint port = 465;\n\nvar mm = new MailMessage(from, to);\nmm.Body = \"b1\";\nmm.Subject = \"s1\";\nmm.IsBodyHtml=false;\nusing (var smtp=new SmtpClient(host, port)) {\n    smtp.EnableSsl = true;\n    smtp.Credentials = new NetworkCredential (username, pwd);\n    smtp.Send(mm);\n}\n</code></pre>\n\n<p>This stays stuck on <code>smtp.Send</code>. After about 2 minutes, I get a timeout error. With Outlook it works perfectly (using my real credentials).\nLooking at Wireshark, I see a TCP SYN,SYN-ACK,ACK, and then nothing, when running this code. When using Outlook these are followed by a <code>TLSv1.2 Client Hello</code> etc.</p>\n\n<p>Tried adding the following lines at the beginning of the code:</p>\n\n<pre><code>ServicePointManager.ServerCertificateValidationCallback += (sender, certificate, chain, sslPolicyErrors) =&gt; true;\nSystem.Net.ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\nServicePointManager.Expect100Continue=false;\n</code></pre>\n\n<p>Why is C# getting stuck, and not even sending the <code>Client Hello</code>? </p>\n\n<p>It works fine when I use a different host.</p>\n\n<p><strong>EDIT:</strong> You can reproduce the issue yourself by running the code above <strong>as is</strong>. You will get a timeout error instead of a bad credentials error, and using wireshark, you can see that C# doesn't even attempt the TLS connection.</p>\n"}, {"tags": ["c#", "winforms", "data-binding"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1544634403, "post_id": 53747940, "comment_id": 94348390, "body": "<code>cmbUserType.DataBindings.Add(&quot;Text&quot;</code>  Text is probably not the property you want for a ComboBox.  Try SelectedItem or SelectedValue if you have a DataSource and ValueMember setup."}, {"owner": {"reputation": 1431, "user_id": 3648487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561ecb5de4bf141f7c30b54ce388547?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Tucci", "link": "https://stackoverflow.com/users/3648487/patrick-tucci"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1544634961, "post_id": 53747940, "comment_id": 94348660, "body": "@LarsTech hm, I could have swore I tried <code>SelectedItem</code>, but I must not have because that works as expected, both for tabbing and for clicking. I guess I&#39;m just confused as to why <code>Text</code> works when clicking, but not when tabbing."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1544636693, "post_id": 53747940, "comment_id": 94349706, "body": "Not sure I know what you mean by tab vs click.  Why would either action have any affect here?"}, {"owner": {"reputation": 1431, "user_id": 3648487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561ecb5de4bf141f7c30b54ce388547?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Tucci", "link": "https://stackoverflow.com/users/3648487/patrick-tucci"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1544638465, "post_id": 53747940, "comment_id": 94350567, "body": "@LarsTech because one works and the other does not with the <code>Text</code> property binding. When I use the <code>tab</code> key to switch between controls, the <code>Text</code> property binding does not update the <code>person</code> object with the ComboBox values. When I click between controls using my mouse, the <code>Text</code> property binding does update the <code>person</code> object with the ComboBox values."}, {"owner": {"reputation": 1431, "user_id": 3648487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561ecb5de4bf141f7c30b54ce388547?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Tucci", "link": "https://stackoverflow.com/users/3648487/patrick-tucci"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1544885978, "post_id": 53747940, "comment_id": 94438398, "body": "@LarsTech, your comment solved my issue, so if you would post it as an answer I will mark it as the answer and upvote."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1544888277, "post_id": 53747940, "comment_id": 94439024, "body": "If you have an answer, go ahead and post it yourself.  I&#39;m still not sure how the tabbing thing was an issue for you, other than, data usually doesn&#39;t get committed until &quot;after&quot; the control loses focus."}], "answers": [{"tags": [], "owner": {"reputation": 1431, "user_id": 3648487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561ecb5de4bf141f7c30b54ce388547?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Tucci", "link": "https://stackoverflow.com/users/3648487/patrick-tucci"}, "is_accepted": true, "score": 0, "last_activity_date": 1544889213, "creation_date": 1544889213, "answer_id": 53794798, "question_id": 53747940, "link": "https://stackoverflow.com/questions/53747940/c-winforms-databindings-not-working-when-tabbing-through-controls/53794798#53794798", "title": "C# WinForms DataBindings Not Working When Tabbing Through Controls", "body": "<p>As mentioned by LarsTech in the comments, changing the <code>DataBinding</code> <code>Property</code> from <code>Text</code> to <code>SelectedItem</code> causes the form to work as expected. When navigating through the form using <code>tab</code>, the <code>DataBinding</code> updates the bound property just as if I was clicking through the form. </p>\n\n<p>I still don't know why using <code>tab</code> to navigate through the form does not update the <code>person</code> object when the binding property is <code>Text</code>, especially when clicking through the form causes the binding to update as expected. As stated in the original question, am still curious to hear why there is such a difference in behavior. If anyone has any insight I'd be curious to hear why this is the case.</p>\n"}], "owner": {"reputation": 1431, "user_id": 3648487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561ecb5de4bf141f7c30b54ce388547?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Tucci", "link": "https://stackoverflow.com/users/3648487/patrick-tucci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53794798, "answer_count": 1, "score": 2, "last_activity_date": 1544889213, "creation_date": 1544634140, "last_edit_date": 1544886130, "question_id": 53747940, "link": "https://stackoverflow.com/questions/53747940/c-winforms-databindings-not-working-when-tabbing-through-controls", "title": "C# WinForms DataBindings Not Working When Tabbing Through Controls", "body": "<p>I'm having an issue with <code>DataBindings</code> in C# WinForms when using <code>tab</code> to switch between controls. I've created a sample WinForms application to show the issue. Here is the code:</p>\n\n<pre><code>PersonModel person { get; set; } = new PersonModel();\n\nprivate void frmMain_Load(object sender, EventArgs e)\n{\n    //Create test person, populate with values\n    person = new PersonModel { FirstName = \"Sammy\", LastName = \"Smith\", UserType = \"Admin\", Age = 29, Gender = \"Female\", EducationYears = 4};\n    CreateBindings();\n}\n\nprivate void CreateBindings()\n{\n    txtFirstName.DataBindings.Add(\"Text\", person, \"FirstName\");\n    txtLastName.DataBindings.Add(\"Text\", person, \"LastName\");\n    cmbUserType.DataBindings.Add(\"Text\", person, \"UserType\", false, DataSourceUpdateMode.OnPropertyChanged);\n    cmbGender.DataBindings.Add(\"Text\", person, \"Gender\", false, DataSourceUpdateMode.OnPropertyChanged);\n    nudAge.DataBindings.Add(\"Value\", person, \"Age\", true, DataSourceUpdateMode.OnPropertyChanged);\n    nudEducationYears.DataBindings.Add(\"Value\", person, \"EducationYears\", true, DataSourceUpdateMode.OnPropertyChanged);\n}\n\nprivate void btnSave_Click(object sender, EventArgs e)\n{\n    MessageBox.Show(person.ToString());\n}\n\nclass PersonModel\n{\n    public string FirstName { get; set; } = \"\";\n    public string LastName { get; set; } = \"\";\n    public string UserType { get; set; } = \"Read-only\";\n    public string Gender { get; set; } = \"Unspecified\";\n    public int Age { get; set; } = 0;\n    public int EducationYears { get; set; } = 0;\n\n    public override string ToString()\n    {\n        string message = \"\";\n        message += $\"First name: {this.FirstName}{Environment.NewLine}\";\n        message += $\"Last name: {this.LastName}{Environment.NewLine}\";\n        message += $\"User type: {this.UserType}{Environment.NewLine}\";\n        message += $\"Gender: {this.Gender}{Environment.NewLine}\";\n        message += $\"Age: {this.Age.ToString()}{Environment.NewLine}\";\n        message +=$\"Education (years): {this.EducationYears.ToString()}\";\n        return message;\n    }\n}\n</code></pre>\n\n<p>The UI is just a few TextBoxes, ComboBoxes, and NumericUpDown controls that are bound to the <code>PersonModel</code> <code>person</code>. When I click through the UI with my mouse and change the values in the controls, the program works as expected: when I click <code>Save</code>, the <code>ToString()</code> method of <code>PersonModel</code> shows that all the properties have been updated as expected. However, when I restart the application and tab through the controls, the DataBinding for the comboboxes (for <code>Gender</code> and <code>User Type</code>) do not update the values in <code>person</code>. When I tab down to <code>Save</code> and hit <code>Enter</code>, the <code>ToString()</code> method shows the <code>Gender</code> and <code>UserType</code> properties in <code>person</code> have not changed.</p>\n\n<p>When clicking through the UI, all the input values are properly reflected in <code>person</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/28ycb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/28ycb.png\" alt=\"Clicking through controls\"></a></p>\n\n<p>When tabbing through the UI, the values input for <code>Gender</code> and <code>UserType</code> do not get applied to their respective properties (note that the default values of <code>Admin</code> and <code>Female</code> remain unchanged):</p>\n\n<p><a href=\"https://i.stack.imgur.com/3wyZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wyZC.png\" alt=\"Tabbing through controls\"></a></p>\n\n<p>What is the problem here? Why do the databindings work as expected when clicking through the UI, but when tabbing through they do not? Do I need to choose a different <code>PropertyName</code> for the comboboxes in the databinding? If <code>Text</code> is not the right <code>PropertyName</code> to use in the databinding, why does <code>Text</code> work without issue when clicking through the controls?</p>\n\n<p>EDIT: The comment from LarsTech solved my problem, but to the rest of the community, I would still like to hear any thoughts as to why using <code>tab</code> to navigate my form does not update databindings while clicking through the form does. I know that the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.control.gotfocus?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">focus events differ when when using tab as opposed to clicking</a>. However, since all the same events are still fired, I don't know if this would explain the difference.</p>\n"}]