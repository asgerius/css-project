[{"tags": ["c#", ".net", "winforms", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 213217, "user_id": 41071, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ec0f5be7749c8cc8ccda4a809103f36?s=128&d=identicon&r=PG", "display_name": "svick", "link": "https://stackoverflow.com/users/41071/svick"}, "edited": false, "score": 0, "creation_date": 1461804293, "post_id": 36902946, "comment_id": 61370507, "body": "Are you sure <code>RetrieveBatchesAsync()</code> is actually asynchronous and not just pretending to be asynchronous?"}, {"owner": {"reputation": 295, "user_id": 6031534, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fd669cdd0086a9420f503d2cb67fce3a?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Tambunan", "link": "https://stackoverflow.com/users/6031534/samuel-tambunan"}, "reply_to_user": {"reputation": 213217, "user_id": 41071, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ec0f5be7749c8cc8ccda4a809103f36?s=128&d=identicon&r=PG", "display_name": "svick", "link": "https://stackoverflow.com/users/41071/svick"}, "edited": false, "score": 0, "creation_date": 1461805502, "post_id": 36902946, "comment_id": 61370782, "body": "@svick added the method definition into the question. I believe it shoudl be async as I&#39;m using EF to retrieve this."}, {"owner": {"reputation": 213217, "user_id": 41071, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ec0f5be7749c8cc8ccda4a809103f36?s=128&d=identicon&r=PG", "display_name": "svick", "link": "https://stackoverflow.com/users/41071/svick"}, "edited": false, "score": 0, "creation_date": 1461805881, "post_id": 36902946, "comment_id": 61370882, "body": "Is the UI thread actually blocked, i.e. does the application stop responding? If yes, could you pause the debugger while it&#39;s blocked and post the stack trace of the UI thread?"}], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 6031534, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fd669cdd0086a9420f503d2cb67fce3a?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Tambunan", "link": "https://stackoverflow.com/users/6031534/samuel-tambunan"}, "is_accepted": false, "score": 0, "last_activity_date": 1461806211, "creation_date": 1461806211, "answer_id": 36903574, "question_id": 36902946, "link": "https://stackoverflow.com/questions/36902946/how-do-i-show-the-form-in-an-mdi-while-loading-data-values-asynchronously/36903574#36903574", "title": "How do I show the form in an MDI while loading data values asynchronously?", "body": "<p>All is well.</p>\n\n<p>It turns out the awaitable was working perfectly as I tested it by adding an</p>\n\n<pre><code>await Task.Delay(10000);\n</code></pre>\n\n<p>in the LoadDataAsync() method.</p>\n\n<p>It just happened that the form was loading slower compared to other forms due to the amount of controls that I have in my form. (I believe).</p>\n\n<p>Thanks for the breakpoint ideas.</p>\n"}], "owner": {"reputation": 295, "user_id": 6031534, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fd669cdd0086a9420f503d2cb67fce3a?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Tambunan", "link": "https://stackoverflow.com/users/6031534/samuel-tambunan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461806211, "creation_date": 1461801523, "last_edit_date": 1461805480, "question_id": 36902946, "link": "https://stackoverflow.com/questions/36902946/how-do-i-show-the-form-in-an-mdi-while-loading-data-values-asynchronously", "title": "How do I show the form in an MDI while loading data values asynchronously?", "body": "<p>I have an MDI with a form that opens from one of the menu.</p>\n\n<p>This form has a combo box that will be populated with values retrieved from a SQL Query.</p>\n\n<p>At the moment, when I try to open the form up, there's a delay of a couple of seconds as the form will fire off the query to get the values back to populate the combo box. </p>\n\n<p>Is there a way to have the form pop up and have the values populated later on?</p>\n\n<p>I have an Event Handler on the Load for the form with the following:</p>\n\n<pre><code>private async void RerunForm_Load(object sender, EventArgs e) {\n      await this.LoadDataAsync();\n}\n</code></pre>\n\n<p>where the LoadDataAsync() method will be as:</p>\n\n<pre><code> private async void LoadDataAsync() {\n        this._batchCollection = await repo.RetrieveBatchesAsync();\n        this.lblLoading.Visible = false;\n\n\n        this.cbBatchesToRun.DataSource = this._batchCollection;\n        this.cbBatchesToRun.DisplayMember = \"BatchNo\";\n\n        this.tbBatchCode.Text = this.repo.GetBatchStringValue(((Batch)this.cbBatchesToRun.SelectedValue).BatchNo);\n}\n</code></pre>\n\n<p>RetrieveBatchesAsync() is defined as:</p>\n\n<pre><code>public async Task&lt;List&lt;Batch&gt;&gt; RetrieveBatchesAsync() {\n    var batches = await (from b in this._context.Batches\n                         orderby b.BatchNo descending\n                         select b).ToListAsync();\n    return batches;\n}\n</code></pre>\n\n<p>For some reason, this is still all synchronous as the form takes a couple of seconds to open up compared to other forms that do not retrieve data.</p>\n\n<p>What am I missing to allow the form to open up instantly and have it load data asynchronously? Essentially, what I am trying to do is to open up the form instantly with all the controls, and have it populate the control data afterwards and hide the \"Loading\" label that I have placed in the winform.</p>\n\n<p>Edit: Added the Retrieve Batches Async Method</p>\n"}, {"tags": ["c#", "multithreading", "asp.net-web-api"], "comments": [{"owner": {"reputation": 5705, "user_id": 2002588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4jk78.jpg?s=128&g=1", "display_name": "Marco Scabbiolo", "link": "https://stackoverflow.com/users/2002588/marco-scabbiolo"}, "edited": false, "score": 0, "creation_date": 1461801290, "post_id": 36902860, "comment_id": 61369752, "body": "Because you&#39;re catching the exception in Task.Run, nothing will go wrong, the only problem is see is you can be lying to whoever is requesting you because the code inside the task could have an error and you&#39;re returning OK."}], "answers": [{"comments": [{"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 1, "creation_date": 1461848085, "post_id": 36902979, "comment_id": 61392594, "body": "I agree and suggest you to take a look at <a href=\"http://hangfire.io/\" rel=\"nofollow noreferrer\">HangFire</a>, which could help you creating such an application easily."}], "tags": [], "owner": {"reputation": 595, "user_id": 628172, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/97f2802303f74d30b371cec3c1190e80?s=128&d=identicon&r=PG", "display_name": "chrisva", "link": "https://stackoverflow.com/users/628172/chrisva"}, "is_accepted": false, "score": 2, "last_activity_date": 1461801727, "creation_date": 1461801727, "answer_id": 36902979, "question_id": 36902860, "link": "https://stackoverflow.com/questions/36902860/is-it-possible-to-execute-code-after-returning-an-http-response-from-webapi/36902979#36902979", "title": "Is it possible to execute code after returning an HTTP response from WebApi?", "body": "<p>It is a matter of architecture I think. </p>\n\n<p>I would consider using a message queue for long running tasks. It could be a in-memory implementation in the simplest form. You can always make some logic to retry messages and update status on the message item in your log / table.</p>\n\n<p>But if you want a more robust handling of messages I would prefer to use a message broker such as RabbitMQ, Azure Service Bus + many more. They provide you with message resilience and enable you to use a variety of patterns to implement how the messages will be handled. </p>\n\n<p>So my suggestion would be for long running tasks:</p>\n\n<ol>\n<li>Receive request </li>\n<li>Log request </li>\n<li>Pass the message to a message broker (for parsing and logic) - and don't wait for it.</li>\n<li>Respond that request was received</li>\n<li>Do something else from the client side to follow up on the message later on (events, websocket, polling ++)</li>\n</ol>\n"}], "owner": {"reputation": 1783, "user_id": 453056, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/787f07c7f788f35cd01628a783174d5e?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/453056/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1879, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461801727, "creation_date": 1461800970, "question_id": 36902860, "link": "https://stackoverflow.com/questions/36902860/is-it-possible-to-execute-code-after-returning-an-http-response-from-webapi", "title": "Is it possible to execute code after returning an HTTP response from WebApi?", "body": "<p>I am working on a web service that demands the following logic:</p>\n\n<ol>\n<li>Receive request</li>\n<li>Log request</li>\n<li>Respond that request was received</li>\n<li>Process request (parse and run logic)</li>\n</ol>\n\n<p>The reason for this is that the broker of the message doesn't want to wait on us to complete our (potentially \"long running\"; &lt;10s probably &lt;1s) logic before knowing that we've received the request.</p>\n\n<p>One option I see is to simply write to the log and return, and let a timed job process the messages from the log, but that seems excessive (although we plan to implement this as a backup anyway).</p>\n\n<p>My working solution is to spawn a <code>Task</code> in a Message Handler that passes on the message, but I don't know enough about threading to know what issues could arise from leaving an orphaned <code>Task</code> around. Here is this solution as described:</p>\n\n<pre><code>public class LoggingHandler : DelegatingHandler\n{\n\n    protected async override Task&lt;HttpResponseMessage&gt; SendAsync(\n        HttpRequestMessage request,\n        CancellationToken cancellationToken)\n    {\n\n        string content = await request.Content.ReadAsStringAsync();\n        HttpRequestHeaders header = request.Headers;\n        HttpMethod method = request.Method;\n        Uri uri = request.RequestUri;\n        Version version = request.Version;\n        IDictionary&lt;string, object&gt; properties = request.Properties;\n\n        // Reset content. This might not be necessary, but due to the fact\n        // HttpRequestMessage.Content is only meant to be read once it's\n        // here to be safe.\n        request.Content = new StringContent(content);\n\n        bool messageLogged = true;\n        // Write content to message table\n        if (!messageLogged)\n        {\n            return new HttpResponseMessage(\n                System.Net.HttpStatusCode.InternalServerError);\n        }\n\n#pragma warning disable CS4014 // Because this call is not awaited, execution of the current method continues before the call is completed\n        Task.Run(() =&gt;\n        {\n            try\n            {\n                base.SendAsync(request, cancellationToken).Wait();\n            }\n            catch (Exception)\n            {\n\n            }\n        });\n#pragma warning restore CS4014 // Because this call is not awaited, execution of the current method continues before the call is completed\n\n        return new HttpResponseMessage(System.Net.HttpStatusCode.OK);\n    }\n}\n</code></pre>\n\n<p>Is this as terrible as it seems to me? Can <code>Task.Run(..)</code> throw an exception (Out of memory, etc?), and what would that result in? Am I going to run into issues with the thread pool?</p>\n\n<p>In short, is there a proper solution to this problem?</p>\n"}, {"tags": ["c#", "dataset"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1461801517, "post_id": 36902775, "comment_id": 61369819, "body": "Try this : calcDataSet.Tables[&quot;DS_Result&quot;].AsEnumerable().Where(x =&gt; x.Field&lt;string&gt;(&quot;myid&quot;) == ladid).FirstOrDefault();"}, {"owner": {"reputation": 101, "user_id": 4683531, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4922b05eff6aed0913bb0f87b065f7a0?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/4683531/lucas"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1461801953, "post_id": 36902775, "comment_id": 61369959, "body": "hit this error: A local variable named &#39;x&#39; cannot be declared in this scope because it would give a different meaning to &#39;x&#39;, which is already used in a &#39;parent or current&#39; scope to denote something else"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1461834699, "post_id": 36902775, "comment_id": 61382850, "body": "The variable &#39;x&#39; is already used in your code.  Change variable name to something else in the code I posted."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4683531, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4922b05eff6aed0913bb0f87b065f7a0?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/4683531/lucas"}, "is_accepted": true, "score": 0, "last_activity_date": 1461806448, "creation_date": 1461806448, "answer_id": 36903603, "question_id": 36902775, "link": "https://stackoverflow.com/questions/36902775/how-to-get-hold-of-the-data-in-the-dataset-and-pass-to-label/36903603#36903603", "title": "How to get hold of the data in the dataset and pass to label", "body": "<p>Don't bother, simplest mistake. my ELSE doesn't have <strong>curly brackets</strong>. and the declaration of datarow to be moved inside.</p>\n\n<pre><code>//Clear any previous Def table\nif (calcDataSet.Tables.Contains(\"DS_Result\") == true)\n{\n    calcDataSet.Tables.Remove(\"DS_Result\");\n}\n\n\nHYFY_UIResult(lanid, \"H1\", strtDt.ToString(\"01/MM/yyyy\"), endDt.ToString(\"01/MM/yyyy\"), conPer);\n\n\nif (calcDataSet.Tables[\"DS_Result\"].Rows.Count == 0)\n{\n    labelFirstHRes.Text = \"-\";\n}\nelse\n{   \n    DataRow[] DRow;\n    DRow = calcDataSet.Tables[\"DS_Result\"].Select(\"myid = '\" + lanid + \"'\");\n    labelFirstHRes.Text = DRow[0][\"result\"].ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4683531, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4922b05eff6aed0913bb0f87b065f7a0?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/4683531/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 36903603, "answer_count": 1, "score": 0, "last_activity_date": 1461806448, "creation_date": 1461800497, "last_edit_date": 1461800885, "question_id": 36902775, "link": "https://stackoverflow.com/questions/36902775/how-to-get-hold-of-the-data-in-the-dataset-and-pass-to-label", "title": "How to get hold of the data in the dataset and pass to label", "body": "<p>I want to show the result of the dataset in a label.</p>\n\n<hr>\n\n<p>Result set of function: HYFY_UIResult</p>\n\n<pre><code>    myid       result\n    test123    5C\n</code></pre>\n\n<hr>\n\n<pre><code>//Clear any previous Def table\nif (calcDataSet.Tables.Contains(\"DS_Result\") == true)\n{\n    calcDataSet.Tables.Remove(\"DS_Result\");\n}\n\n\nHYFY_UIResult(lanid, \"H1\", strtDt.ToString(\"01/MM/yyyy\"), endDt.ToString(\"01/MM/yyyy\"), conPer);\nDataRow[] DRow;\n\nif (calcDataSet.Tables[\"DS_Result\"].Rows.Count == 0)\n{\n    labelFirstHRes.Text = \"-\";\n}\nelse\n    DRow = calcDataSet.Tables[\"DS_Result\"].Select(\"myid = \" + lanid);\n    labelFirstHRes.Text = DRow[0][\"result\"].ToString();\n</code></pre>\n\n<p>The else part is failing, I am getting the error:</p>\n\n<blockquote>\n  <p>Use of unassigned local variable 'DRow'</p>\n</blockquote>\n\n<p>I want the label to show the result (\"5C\"). thanks.</p>\n"}, {"tags": ["c#", "sql-server", "visual-studio", "reporting-services", "reportviewer"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1461841727, "post_id": 36902769, "comment_id": 61387769, "body": "Whenever I have seen this error, it usually ends up being a permissions thing. Something like I forgot to update a connection with the username/password and save it. I can see that being necessary after a conversion. Have you tried that?"}, {"owner": {"reputation": 183, "user_id": 1137759, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/113301adb7760934ac55f585e5f20f0b?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1137759/jacob"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1461877361, "post_id": 36902769, "comment_id": 61411973, "body": "All of my connections are up to date. I appreciate the reply though."}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1461879049, "post_id": 36902769, "comment_id": 61412777, "body": "Are you using Windows authentication or SQL authentication to connect for data? If Windows, then change the connection(s) to use SQL authentication and see if that makes a difference."}, {"owner": {"reputation": 9853, "user_id": 2400834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ai7O1.jpg?s=128&g=1", "display_name": "tezzo", "link": "https://stackoverflow.com/users/2400834/tezzo"}, "edited": false, "score": 0, "creation_date": 1461912618, "post_id": 36902769, "comment_id": 61422671, "body": "this is a generic error in rdlc; try catching the <code>Exception</code> and give a look at the various levels of <code>InnerException</code> (i.e.: <code>ex.Message</code>, <code>ex.InnerException.Message</code>, <code>ex.InnerException.InnerException.Message</code> and so on) to provide us more information."}], "owner": {"reputation": 183, "user_id": 1137759, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/113301adb7760934ac55f585e5f20f0b?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1137759/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461800475, "creation_date": 1461800475, "question_id": 36902769, "link": "https://stackoverflow.com/questions/36902769/ssrs-reports-not-loading-after-making-rdlc-format-conversion-for-vs-2015", "title": "SSRS Reports not loading after making RDLC format conversion for VS 2015", "body": "<p>I have a fairly large application that we have been using VS 2008 for including Report Viewer 2008. Lately we have made the hop and decided to migrate to VS 2015, however in doing so VS 2015 requires all .RDLC templates be converted to the latest format to use the designer. After doing so I am indeed able to open the reports in the designer and they visually appear to have ported fine however they fail to load in the compiled application all together. I receive the following error</p>\n\n<blockquote>\n  <p>An error occurred during local report processing.</p>\n</blockquote>\n\n<p>I understand this is a pretty generic error so I know it's not much help. Additionally all reports work fine prior to the conversion in the compiled application I simply can't open them in the designer. I have attempted to use a newer version of report viewer and it did fix this specific issue and reports loaded however it introduced other issues as well as a deployment headache, so ideally this would be possible with SSRS 2008.</p>\n\n<p>Does anyone have any idea what the conversion might be doing to make reports specifically not load with ReportViewer 2008? Are the converted templates incompatible? </p>\n\n<p>Thank you ahead of time for any help.</p>\n"}, {"tags": ["c#", "wcf", "parsing", "datetime", "soap"], "answers": [{"comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1461803105, "post_id": 36903130, "comment_id": 61370232, "body": "I don&#39;t think OP is receiving data as the client is failing to deserialize the message."}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "edited": false, "score": 0, "creation_date": 1461804540, "post_id": 36903130, "comment_id": 61370558, "body": "This is the correct way to handle this. You cannot guarantee that the service you are consuming is returning in a format supported by .NET. If this is an exception case, you can put the implicit cast in a try catch block and fall back to custom formats like above if it throws."}, {"owner": {"reputation": 21, "user_id": 6263646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d311f621ff2c0909ee9fc43473575f?s=128&d=identicon&r=PG&f=1", "display_name": "Emilio Moreira", "link": "https://stackoverflow.com/users/6263646/emilio-moreira"}, "edited": false, "score": 0, "creation_date": 1461847048, "post_id": 36903130, "comment_id": 61391802, "body": "I developed both of the services,, using WCF and SOAP. This means that I am not directly controlling the serialization and deserialization proccess, as it should be automatically generated by the DataContractSerializer.  To create the contract on the cliente-side I downloaded the WSDL using the ServiceReference tool of C#, which means that all the information is correctly connected."}], "tags": [], "owner": {"reputation": 49, "user_id": 2402191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4007dd9b9b75feeafe080dd0efaa5fea?s=128&d=identicon&r=PG", "display_name": "mchl0208", "link": "https://stackoverflow.com/users/2402191/mchl0208"}, "is_accepted": false, "score": 1, "last_activity_date": 1461802818, "creation_date": 1461802818, "answer_id": 36903130, "question_id": 36902767, "link": "https://stackoverflow.com/questions/36902767/exception-deserializing-datetime-as-parameter-on-wcf-soap-service-c/36903130#36903130", "title": "Exception deserializing DateTime as parameter on WCF SOAP Service C#", "body": "<p>I guest it's a service side error, it's waiting for a datetime format but its getting another one. Can you change that's code? if so try parsing received date to a valid format:</p>\n\n<p><code>DateTime.ParseExact(yourDateParam, \"M/d/yyyy hh:mm:ss t\", new CultureInfo(\"en-US\"));\n</code></p>\n\n<p>pay attention to M/d cuz I don't know if you are sending Month (M) before Day (d) or viceversa.</p>\n\n<p><strong>Happy coding!</strong></p>\n"}], "owner": {"reputation": 21, "user_id": 6263646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d311f621ff2c0909ee9fc43473575f?s=128&d=identicon&r=PG&f=1", "display_name": "Emilio Moreira", "link": "https://stackoverflow.com/users/6263646/emilio-moreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461802818, "creation_date": 1461800472, "question_id": 36902767, "link": "https://stackoverflow.com/questions/36902767/exception-deserializing-datetime-as-parameter-on-wcf-soap-service-c", "title": "Exception deserializing DateTime as parameter on WCF SOAP Service C#", "body": "<p>After developing a system with two WCF Services on local environment and testing it on another environment, we finally deployed it to a production environment but a totally different error was shown. The two services are running on four different machines (Each service runs on two machines with load balancing).</p>\n\n<p>The operation InvokeEventWithParameters is not working:</p>\n\n<pre><code>[ServiceContract]\npublic interface IAccountManager\n{\n    [OperationContract]\n    int InvokeEventWithParameters(string EventName, DateTime InitialDate, DateTime FinalDate, int InitialId, int FinalId, string Username);\n\n    [OperationContract]\n    int InvokeEvent(string EventName, string Username);\n}\n</code></pre>\n\n<p>When trying to run the services, the following error is returned:</p>\n\n<pre><code>The formatter threw an exception while trying to deserialize the message: Error in deserializing body of request message for operation 'InvokeEventWithParameters'. The value '1/1/2014 12:00:00 AM' cannot be parsed as the type 'DateTime'.\n</code></pre>\n\n<p>The error is shown on the communication between the two services, on the SOAP message. I can't check if the ISO 8601 is being sent between the services because it is being run on the production environment. I've checked on the testing environment using a sniffer and the ISO is being respected.</p>\n\n<p>What is interesting is the format of the date presented on the error, which is 'en-US', while the system and the IIS are configured as 'pt-BR' and it should be formatted on the ISO standard.</p>\n\n<p>I have already tried to change the machine culture configuration, the IIS globalization configuration and the culture on the web.config files. None of these worked. I've checked the entire project for \".ToStrings\" and \".Parses\" on datetimes and didn't find none of them, so there is no other possible source of exception.</p>\n\n<p>In my perception, DateTime serialization and deserialization on SOAP messages (Using DataContractDeserializer) shouldn't be affected by any configurations regarding culture, but all I've found on google and here was related to those kinds of settings. Am I right on this assumption?</p>\n\n<p>Thank you for the help,\nEmilio</p>\n"}, {"tags": ["c#", "properties", "get", "set"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1461800544, "post_id": 36902719, "comment_id": 61369535, "body": "What does a setter let you do with that property?  You write the setter if you want to be able to do that: to set the property via assignment."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461803999, "post_id": 36902934, "comment_id": 61370438, "body": "Thanks for the time you&#39;ve taken to explain this."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461806532, "post_id": 36902934, "comment_id": 61371067, "body": "My pleasure. If it&#39;s the answer please don&#39;t forget to mark it a the answer.,"}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 2, "last_activity_date": 1461801457, "creation_date": 1461801457, "answer_id": 36902934, "question_id": 36902719, "link": "https://stackoverflow.com/questions/36902719/c-how-do-i-know-when-to-make-a-property-both-read-and-write-rather-than-just-re/36902934#36902934", "title": "C# How do I know when to make a property both read and write rather than just read-only", "body": "<p>A read-only property is something determined by the class that nothing outside the class should be able to change. For example, consider a <code>List&lt;string&gt;</code>. It has a <code>Count</code> property. It wouldn't make sense to be able to do this:</p>\n\n<pre><code>var list = new List&lt;string&gt;();\nlist.Count = 5;\n</code></pre>\n\n<p>What sets the read-only property? Its value changes when items are added to or removed from the list. So that's one example, where a property reflects some internal state of a class. Another example is the <code>StopWatch</code> class. You can't set the value of <code>ElapsedMilliseconds</code>. That property is determined by how much time has passed since the clock started.</p>\n\n<p>Here's another example.</p>\n\n<pre><code>public class Price\n{\n    public decimal Amount {get; private set;}\n    public Price(decimal amount)\n    {\n        if(amount &lt; 0) throw new ArgumentOutOfRangeException(\"amount\", \n            \"amount must be greater than zero.\");\n        Amount = amount;\n    }\n\n    public Void Discount(decimal discountAmount)\n    {\n        if(discountAmount &gt;= amount)\n            amount = 0\n        else\n            amount -= discountAmount;\n    }\n}\n</code></pre>\n\n<p><code>Amount</code> is read-only. There are two ways to set <code>Amount</code>. One is when the class is created, by passing an amount to the constructor. </p>\n\n<pre><code>var myPrice = new Price(5);\n</code></pre>\n\n<p>The other is by calling the <code>Discount</code> method.  </p>\n\n<pre><code>myPrice.Discount(3);\n</code></pre>\n\n<p>In both cases the class controls how <code>Amount</code> is set so that you can't set it to a negative amount. The class provides methods that allow its state to be changed, but it makes that change it determines what changes are allowed.</p>\n\n<p>In some cases you might want a property or an entire class to be immutable (unchangeable) so that whatever values are determined when the class is created never change.</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461804200, "post_id": 36902941, "comment_id": 61370482, "body": "Hi TheEdge, thank you. You&#39;ve mentioned &quot;users of your class&quot; just wanted specification on who exactly is the users of my class? Engineers assisting to write my code or users of my application? Also you mentioned  &quot;to change that particular property after the class has been created&quot;. My question on this is"}, {"owner": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461804257, "post_id": 36902941, "comment_id": 61370498, "body": "Accidentally sent without completing previous comment. Does after the class has been created mean after my application is live? Thanks again."}, {"owner": {"reputation": 7891, "user_id": 223742, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fb1bfa6dca887b6f1390c16a6b474195?s=128&d=identicon&r=PG", "display_name": "TheEdge", "link": "https://stackoverflow.com/users/223742/theedge"}, "reply_to_user": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461804556, "post_id": 36902941, "comment_id": 61370564, "body": "Users of your class = anyone who has access to your class in code. That is anyone using your class. As I don&#39;t know whether the class is in an assembly you shared with others, common code, accessible via a web API I cannot be more definitive."}, {"owner": {"reputation": 7891, "user_id": 223742, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fb1bfa6dca887b6f1390c16a6b474195?s=128&d=identicon&r=PG", "display_name": "TheEdge", "link": "https://stackoverflow.com/users/223742/theedge"}, "reply_to_user": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "edited": false, "score": 0, "creation_date": 1461804596, "post_id": 36902941, "comment_id": 61370578, "body": "after class has been created = whenever the class is <b>instantiated</b> or constructed."}], "tags": [], "owner": {"reputation": 7891, "user_id": 223742, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/fb1bfa6dca887b6f1390c16a6b474195?s=128&d=identicon&r=PG", "display_name": "TheEdge", "link": "https://stackoverflow.com/users/223742/theedge"}, "is_accepted": false, "score": 1, "last_activity_date": 1461801504, "creation_date": 1461801504, "answer_id": 36902941, "question_id": 36902719, "link": "https://stackoverflow.com/questions/36902719/c-how-do-i-know-when-to-make-a-property-both-read-and-write-rather-than-just-re/36902941#36902941", "title": "C# How do I know when to make a property both read and write rather than just read-only", "body": "<blockquote>\n  <p>What question do you ask yourself about the property you're writing\n  when your applying get and set accesses to it?</p>\n</blockquote>\n\n<p>Simply put it is whether you want to allow users of your class to change that particular property <em>after</em> the class has been created. What happens when they do is totally determined by the class.</p>\n\n<blockquote>\n  <p>My next question would be if you don't provide a set access to the property, \n  how on earth does it get defined?</p>\n</blockquote>\n\n<ol>\n<li>It can be set via the constructor. It could be a parameter that is\npassed to the constructor, so some hard coded value you want to make\navailable. </li>\n<li><p>Some properties can be lazily instantiated. Imagine you have two properties on your class called FistName and LastName. You have a\nfinal property called FullName where it is defined as:</p>\n\n<p><strong>result = this.FirstName + \" \" + this.LastName;</strong></p></li>\n</ol>\n\n<p>Hope this gets you started on this. If you want to delve more deeply go and have a look at [enter link description here]SOLID<a href=\"https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\" rel=\"nofollow\">1</a> and you can always Google for more information on properties.</p>\n"}], "owner": {"reputation": 83, "user_id": 6263998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1083206835071121/picture?type=large", "display_name": "ZeFr", "link": "https://stackoverflow.com/users/6263998/zefr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 36902934, "answer_count": 2, "score": -2, "last_activity_date": 1461801504, "creation_date": 1461800128, "question_id": 36902719, "link": "https://stackoverflow.com/questions/36902719/c-how-do-i-know-when-to-make-a-property-both-read-and-write-rather-than-just-re", "title": "C# How do I know when to make a property both read and write rather than just read-only", "body": "<p>I know the difference between read and write in properties,</p>\n\n<p>I understand that you can only read from properties that are read only (only using the getter) but when it comes to the write keyword (the setter) how do I know which properties to apply this to?</p>\n\n<p>Simply put, my question is - What question do you ask yourself about the property you're writing when your applying get and set accesses to it?</p>\n\n<p>My next question would be if you don't provide a set access to the property, how on earth does it get defined? </p>\n\n<p>Thanks heaps if you help me. </p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 400278, "user_id": 73226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tdqly.png?s=128&g=1", "display_name": "Martin Smith", "link": "https://stackoverflow.com/users/73226/martin-smith"}, "edited": false, "score": 1, "creation_date": 1461799008, "post_id": 36902514, "comment_id": 61369107, "body": "What do you mean after a minute? That should only take ms to execute. Are you running it in a loop? If not does the datetime ever get displayed on the console?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1461799030, "post_id": 36902514, "comment_id": 61369114, "body": "Which process is pegging the CPU? Yours, or SQL Server?"}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 400278, "user_id": 73226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tdqly.png?s=128&g=1", "display_name": "Martin Smith", "link": "https://stackoverflow.com/users/73226/martin-smith"}, "edited": false, "score": 0, "creation_date": 1461799983, "post_id": 36902514, "comment_id": 61369381, "body": "@MartinSmith, Yes the datetime gets displayed... After a minute because of the Console.ReadKey(). I know this program makes no sense.. I isolated a simple SqlCommand to troubleshoot this issue.. I was having the issue in another large application."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1461799995, "post_id": 36902514, "comment_id": 61369384, "body": "@Blorgbeard my process."}, {"owner": {"reputation": 403, "user_id": 718373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHw2j.png?s=128&g=1", "display_name": "fujiFX", "link": "https://stackoverflow.com/users/718373/fujifx"}, "edited": false, "score": 0, "creation_date": 1461800091, "post_id": 36902514, "comment_id": 61369406, "body": "Have you managed to determine the time internal between each line of code? This would enable you to isolate the code fragment which takes the most time out of the total execution time."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1461800113, "post_id": 36902514, "comment_id": 61369410, "body": "This is very strange. Is this code the absolute minimum required to repro? Like, if you remove the <code>ExecuteReader</code> stuff, does the problem go away?"}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 403, "user_id": 718373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHw2j.png?s=128&g=1", "display_name": "fujiFX", "link": "https://stackoverflow.com/users/718373/fujifx"}, "edited": false, "score": 0, "creation_date": 1461800248, "post_id": 36902514, "comment_id": 61369447, "body": "@fujiFX The program goes to the Console.ReadKey() instantly.. It&#39;s just that after some delay (about a minute).. The CPU goes nut... Can&#39;t figure out what is going on..."}, {"owner": {"reputation": 1378, "user_id": 2468608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c96587623a8fed8286872dff6eed08?s=128&d=identicon&r=PG", "display_name": "C1sc0", "link": "https://stackoverflow.com/users/2468608/c1sc0"}, "edited": false, "score": 0, "creation_date": 1461800284, "post_id": 36902514, "comment_id": 61369455, "body": "Maybe the garbage collector."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1461800290, "post_id": 36902514, "comment_id": 61369458, "body": "@Blorgbeard I did not try this out. I will give this a try"}, {"owner": {"reputation": 749, "user_id": 4764729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a797cbb67dcb94227fe22414edd47a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Bell", "link": "https://stackoverflow.com/users/4764729/patrick-bell"}, "edited": false, "score": 0, "creation_date": 1461802394, "post_id": 36902514, "comment_id": 61370061, "body": "Why aren&#39;t you using the <code>using</code> syntax for your other disposable objects?"}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 1378, "user_id": 2468608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c96587623a8fed8286872dff6eed08?s=128&d=identicon&r=PG", "display_name": "C1sc0", "link": "https://stackoverflow.com/users/2468608/c1sc0"}, "edited": false, "score": 0, "creation_date": 1461940435, "post_id": 36902514, "comment_id": 61441017, "body": "@C1sc0 Yes it looks like the GC... See my update."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1461940452, "post_id": 36902514, "comment_id": 61441033, "body": "@Blorgbeard.. Please see my update"}], "owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1461940406, "creation_date": 1461798711, "last_edit_date": 1461940406, "question_id": 36902514, "link": "https://stackoverflow.com/questions/36902514/simple-sqlcommand-very-high-cpu", "title": "Simple SqlCommand - Very High CPU", "body": "<p>I made a simple Console Application. (Code below).</p>\n\n<p>When I run the program on my computer, it works fine. However, when I run it on our server (Windows Server 2008) which is a virtual machine, after a minute of so, the process takes all the CPU. It goes to 100% usage until I close the application.. The only difference I can think of would be that the database on my computer is local and on the server, the database used is on another machine..</p>\n\n<p>Any idea what could cause the CPU to go crazy...?</p>\n\n<pre><code>static void Usings()\n{\n    using (SqlConnection conn = new SqlConnection(ConfigurationManager.AppSettings[\"ConnectionString\"]))\n    {\n        conn.Open();\n        SqlCommand cmd = new SqlCommand(\"SELECT GETDATE()\", conn);\n        SqlDataReader dr = cmd.ExecuteReader();\n\n        if (dr.Read())\n            Console.WriteLine(dr[0].ToString());\n\n        dr.Dispose();\n        cmd.Dispose();\n    }\n\n    Console.ReadKey();\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I modified the code to only open a SqlConnection and I still get the behaviour.</p>\n\n<p>I also added some code to get notified on the Garbage Collector Approach. The CPU goes to the top milliseconds before I receive the notification. So I suspect the garbage collector to be responsible for this. Any clue? Suggestion where I could dig deeper? </p>\n\n<p>New code:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        #region Register for Garbage Collector Notifications\n        GC.RegisterForFullGCNotification(10, 10);\n\n        // Start a thread using WaitForFullGCProc.\n        Thread thWaitForFullGC = new Thread(new ThreadStart(WaitForFullGCProc));\n        thWaitForFullGC.Start();\n        #endregion\n\n        using (SqlConnection conn = new SqlConnection(ConfigurationManager.AppSettings[\"ConnectionString\"]))\n        {\n            conn.Open();\n            using (SqlCommand cmd = new SqlCommand(\"SELECT GETDATE()\", conn))\n            { }\n        }\n\n        _sw.Start();\n\n        Log(\"Waits for key press...\");\n        Console.Read();\n    }\n</code></pre>\n\n<p>PS: If I do not open the SQL Connection, CPU stays stable (0%)....</p>\n\n<p>When the program starts...\n<a href=\"https://i.stack.imgur.com/3J4r2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3J4r2.png\" alt=\"enter image description here\"></a></p>\n\n<p>After exactly 3 minutes 11 seconds and some ms...</p>\n\n<p><a href=\"https://i.stack.imgur.com/s2IgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2IgR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "xml", "serialization", "tcpclient", "xmlserializer"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1461800766, "post_id": 36902481, "comment_id": 61369597, "body": "A TCP datagram has maximum number of bytes of ~1500. When reading you need to read to end of data, but a connection which is a stream has no end unless the connection closes.  The best solution is to insert a byte count at the beginning of the message, then have receive end read the number of bytes. You are getting the error because you are trying to parse the xml data before you have gotten all the bytes. So first get the bytes which may be in multiple datagrams, then parse the xml.  Closing the connection doesn&#39;t always work because the connection can close before all the data gets received."}, {"owner": {"reputation": 21, "user_id": 4747631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9ddf168aa7002b0becc13f376e2fe6?s=128&d=identicon&r=PG&f=1", "display_name": "aczajkow", "link": "https://stackoverflow.com/users/4747631/aczajkow"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1461821355, "post_id": 36902481, "comment_id": 61375373, "body": "Is there any other way to check if I have proper message than sending its  size ? My messages have their schemas which I can not change ."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1461834972, "post_id": 36902481, "comment_id": 61383054, "body": "You can use a terminating character at end of stream.  The size would be sent as the first characters and you would remove these characters before you parsed the xml so it would not effect the schema."}], "owner": {"reputation": 21, "user_id": 4747631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9ddf168aa7002b0becc13f376e2fe6?s=128&d=identicon&r=PG&f=1", "display_name": "aczajkow", "link": "https://stackoverflow.com/users/4747631/aczajkow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461798514, "creation_date": 1461798514, "question_id": 36902481, "link": "https://stackoverflow.com/questions/36902481/xml-deserializer-unexpected-end-of-file", "title": "Xml Deserializer - unexpected end of file", "body": "<p>I am writing a server - to many clients architecture based application.Server is multithread - each  client has its own thread where communication is performed .I use TCpClient to perform communication . I keep getting strange error :unexpected end of file occured  missing close tags\" when i try to deserialize message from read from stream . If message is short enough it works corectly. I tried to make my buffers bigger but it didin't give any result . I would appreciate any help.</p>\n\n<p><strong>Deserialization</strong></p>\n\n<pre><code>  public static Message GetResponse(string messageString)\n    {\n        string rootNodeName = String.Empty;\n        Message message=null;\n        if (String.IsNullOrEmpty(messageString))\n        {\n            return null;\n        }\n        Type T = null;\n        XmlSerializer serializer = null;\n\n        using (XmlReader xmlReader = XmlReader.Create(new StringReader(messageString)))\n        {\n            if (xmlReader.MoveToContent() == XmlNodeType.Element)\n                rootNodeName = xmlReader.Name;\n\n            T = ReturnMessageType(rootNodeName);\n            Contract.Assert(T != null); \n             serializer = new XmlSerializer(T);\n        }\n        if (serializer != null)\n        {\n            using (var reader = new StringReader(messageString))\n                message = (Message)serializer.Deserialize(reader);\n        }\n\n\n        return message;\n    }\n</code></pre>\n\n<p><strong>Client code</strong></p>\n\n<pre><code>  public void PerformCommuncation(Message mes, CancellationToken tocken)\n    {\n        try\n        {\n            using (TcpClient client = new TcpClient(Adress, Port))\n            {\n                string message = String.Empty;\n\n                using (var stream = client.GetStream())\n                {\n                    if (tocken.IsCancellationRequested)\n                    {\n                        Console.WriteLine(\"ZAMYKAM TASKA\");\n                        return;\n                    }\n\n                    var str = Message.Serialize(mes, stream);\n                    stream.Flush();\n\n                    byte[] data2 = new byte[client.ReceiveBufferSize];\n                    StringBuilder fullReply = new StringBuilder();\n                    int numberOfBytesRead = 1;\n                  stream.ReadTimeout = 4000;\n\n\n\n                    try {\n                        while (numberOfBytesRead &gt; 0)\n\n                        {\n\n                            numberOfBytesRead = stream.Read(data2, 0, data2.Length);\n\n                            fullReply.AppendFormat(\"{0}\", Encoding.ASCII.GetString(data2, 0, numberOfBytesRead));\n                            if (fullReply.Length == 0) continue;\n\n                        }\n                    }\n                    catch(Exception)\n                    {\n\n                    }\n\n                    var mesagesList = new List&lt;Message&gt;();\n\n                    if (fullReply != null)\n                    {\n\n                        var messages = fullReply.ToString().Split((char)23);\n                        int size = messages.Length;\n\n                        for (int i = 0; i &lt; size; i++)\n                        {\n\n                            var messageType = MessageManager.GetResponse(messages[i]);\n                            if (messageType == null)\n                                continue;\n                            Console.WriteLine();\n                            Console.WriteLine(\"RECEIVED MESSAGE: {0}\", messageType.GetType());\n                            Console.WriteLine();\n                            if (messageType != null)\n                            {\n                                mesagesList.Add(messageType);\n                                Console.WriteLine(\"DODAJE NA LISTE :{0}\", messageType.GetType());\n                            }\n                        }\n                    }\n                    if (ComponentType == ComponentType.CommunicationServer &amp;&amp; mesagesList.FirstOrDefault(x =&gt; x.GetType().ToString().Contains(\"RegisterResponse\")) != null)\n                    {\n                        mesagesList.Reverse();\n                    }\n                    foreach (var resp in mesagesList)\n                    {\n                        dynamic T = this;\n                        Message[] messages = null;\n\n\n                        resp.SenderType = this.ComponentType;\n                        resp.Sender = ((IPEndPoint)client.Client.RemoteEndPoint).Address.ToString();\n                        if (resp.SenderType == ComponentType.CommunicationServer &amp;&amp; String.IsNullOrEmpty(((ICommunicationServer)this).MyAdress))\n                            ((ICommunicationServer)this).MyAdress = resp.Sender;\n                        messages = resp.Run(T);\n\n                        if (messages != null &amp;&amp; messages.Length &gt; 0)\n                            foreach (var msg in messages)\n                            {\n                                PerformCommuncation(msg, tocken);\n                            }\n                    }\n                }\n            }\n        }\n        catch (ArgumentNullException e)\n        {\n            Console.WriteLine(\"ArgumentNullException: {0}\", e);\n        }\n        catch (SocketException e)\n        {\n            Console.WriteLine(\"SocketException: {0}\", e);\n            // EstablishConnectionAfterCSBreakdown(msg);\n            RecreateConnection(mes);\n        }\n\n    }\n</code></pre>\n\n<p><strong>Server code</strong></p>\n\n<pre><code> private void ThreadProc(object obj)\n    {\n        String data = String.Empty;\n        {\n            using (var client = (TcpClient)obj)\n            {\n                using (var stream = client.GetStream())\n                {\n                    byte[] data2 = new byte[client.ReceiveBufferSize];\n\n                    StringBuilder fullReply = new StringBuilder();\n\n                    int numberOfBytesRead = 2;\n                    stream.ReadTimeout = 1000;\n\n                    try {\n                        do\n                        {\n                            if (numberOfBytesRead &lt;= 1) continue;\n\n                            numberOfBytesRead = stream.Read(data2, 0, data2.Length);\n\n\n                            fullReply.AppendFormat(\"{0}\", Encoding.ASCII.GetString(data2, 0, numberOfBytesRead));\n\n                            if (fullReply.Length == 0) continue;\n\n                            log.Info(\"Odebrano wiadomo\u015b\u0107\");\n                        } while (stream.DataAvailable);\n                    }\n\n                    catch(Exception)\n                    { Console.WriteLine(\" EXCEPTION ON read  !!!\"); };\n\n                    var mesagesList = new List&lt;Message&gt;();\n\n                    {\n\n                        var messageString = fullReply.ToString();\n\n                          var messageType = MessageManager.GetResponse(messageString);\n\n                        dynamic T = this;\n                        if (messageType != null)\n                        {\n                            Console.WriteLine(\"ODEBRANO: \", messageType);\n                            messageType.SenderType = ComponentType.CommunicationServer;\n                            messageType.Sender = ((IPEndPoint)client.Client.RemoteEndPoint).Address.ToString();\n                            var response = messageType.Run(T);\n\n                            log.Info(\"SERWER ODPOWIADA: \");\n\n                            if (response != null)\n                                mesagesList.AddRange(response);\n                        }\n                    }\n\n\n                  for(int i=0;i&lt;mesagesList.Count;i++)\n                    {\n                        var r = mesagesList[i];\n                        if (r == null) continue;\n                        XmlSerializer serializer = new XmlSerializer(r.GetType());\n                        try\n                        {\n                            serializer.Serialize(stream, r);\n                            stream.Flush();\n                        }\n                        catch (Exception e)\n                        {\n                            serializer.Serialize(stream, r);\n                        }\n\n                        if (mesagesList.Count &gt; 1 &amp;&amp; i!=mesagesList.Count-1)\n                            stream.Write(new byte[] { 23 }, 0, 1);\n                    }\n\n                }\n            }\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "scripting", "ironpython"], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 1580469, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/188576f6486029e7e73ef10ecd4d55fc?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1580469/christian"}, "is_accepted": true, "score": 0, "last_activity_date": 1468342735, "creation_date": 1468342735, "answer_id": 38334961, "question_id": 36902465, "link": "https://stackoverflow.com/questions/36902465/why-does-clr-addreference-fail-on-second-ironpython-engine/38334961#38334961", "title": "Why does clr.AddReference fail on second IronPython engine?", "body": "<p>A colleague found out the reason for the failure. I post it here, in case someone else stumbles across this issue.</p>\n\n<p>You need to load the assembly after adding the reference:</p>\n\n<pre><code>var engine = Python.CreateEngine();\ndynamic clr = engine.Runtime.GetClrModule();\nclr.AddReference(\"IronPython.StdLib\");\n\n// load assembly into engine\nvar assembly = Assembly.LoadFrom(\"IronPython.StdLib.dll\");\nengine.Runtime.LoadAssembly(assembly); \n\nvar references = (IEnumerable&lt;Assembly&gt;)clr.References;\nDebug.Assert(references.Any(asm =&gt; asm.FullName.StartsWith(\"IronPython.StdLib\"))); // ok\n\nvar source = \"import pydoc\\npydoc.plain(pydoc.render_doc(str))\";\nvar result = engine.Execute&lt;string&gt;(source);\nDebug.Assert(result.StartsWith(\"Python Library Documentation\")); // ok\n\nvar engine2 = Python.CreateEngine();\ndynamic clr2 = engine2.Runtime.GetClrModule();\nclr2.AddReference(\"IronPython.StdLib\");\n\n// load assembly into engine2\nengine2.Runtime.LoadAssembly(assembly); \n\nvar references2 = (IEnumerable&lt;Assembly&gt;)clr.References;\nDebug.Assert(references2.Any(asm =&gt; asm.FullName.StartsWith(\"IronPython.StdLib\"))); // does not fail\n\nresult = engine.Execute&lt;string&gt;(source); // does not throw any more\nDebug.Assert(result.StartsWith(\"Python Library Documentation\"));\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 1580469, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/188576f6486029e7e73ef10ecd4d55fc?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1580469/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 38334961, "answer_count": 1, "score": 0, "last_activity_date": 1468342735, "creation_date": 1461798414, "question_id": 36902465, "link": "https://stackoverflow.com/questions/36902465/why-does-clr-addreference-fail-on-second-ironpython-engine", "title": "Why does clr.AddReference fail on second IronPython engine?", "body": "<p>When I try to add a reference to an IronPython engine instance, the reference get's added to the references as expected. If I create another instance of the engine, the AddReference executes without an error, but the reference is not added to the references and import statements fail with \"no module named ...\".</p>\n\n<pre><code>var engine = Python.CreateEngine();\ndynamic clr = engine.Runtime.GetClrModule();\nclr.AddReference(\"IronPython.StdLib\");\nvar references = (IEnumerable&lt;Assembly&gt;)clr.References;\nDebug.Assert(references.Any(asm =&gt; asm.FullName.StartsWith(\"IronPython.StdLib\"))); // ok\n\nvar source = \"import pydoc\\npydoc.plain(pydoc.render_doc(str))\";\nvar result = engine.Execute&lt;string&gt;(source);\nDebug.Assert(result.StartsWith(\"Python Library Documentation\")); // ok\n\nvar engine2 = Python.CreateEngine();\ndynamic clr2 = engine2.Runtime.GetClrModule();\nclr2.AddReference(\"IronPython.StdLib\");\nvar references2 = (IEnumerable&lt;Assembly&gt;)clr.References;\nDebug.Assert(references2.Any(asm =&gt; asm.FullName.StartsWith(\"IronPython.StdLib\"))); // fails\n\nresult = engine.Execute&lt;string&gt;(source); // throws ImportException \"no module named pydoc\"\nDebug.Assert(result.StartsWith(\"Python Library Documentation\"));\n</code></pre>\n\n<p>I tried with the binary release of IronPython 2.7.5 (installed to GAC) and C# 4.5, <code>IronPython.StdLib</code> is a precompiled DLL of the Python standard lib with pyc.</p>\n\n<p>I also tried with self compiled IronPython 2.7.5 and 2.7.6 from github, but there the first <code>engine.execute</code> already fails with <code>\"no module named pydoc\"</code> although the reference gets added.</p>\n\n<p>Am I doing something wrong or is it just a bug?</p>\n"}, {"tags": ["c#", ".net", "wmi"], "comments": [{"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1461798216, "post_id": 36902392, "comment_id": 61368902, "body": "You are not using WMI for your GetProcesses query"}, {"owner": {"reputation": 1663, "user_id": 511273, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/fb1efcad9bb707d1396bf86f56438fe0?s=128&d=identicon&r=PG", "display_name": "Bluebaron", "link": "https://stackoverflow.com/users/511273/bluebaron"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1461799694, "post_id": 36902392, "comment_id": 61369303, "body": "@YacoubMassad, I thought the underlying process used WMI."}], "answers": [{"comments": [{"owner": {"reputation": 1663, "user_id": 511273, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/fb1efcad9bb707d1396bf86f56438fe0?s=128&d=identicon&r=PG", "display_name": "Bluebaron", "link": "https://stackoverflow.com/users/511273/bluebaron"}, "edited": false, "score": 0, "creation_date": 1461799592, "post_id": 36902469, "comment_id": 61369263, "body": "What if I impersonate a user?"}], "tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": false, "score": 0, "last_activity_date": 1461798451, "creation_date": 1461798451, "answer_id": 36902469, "question_id": 36902392, "link": "https://stackoverflow.com/questions/36902392/access-denied-for-net-getprocesses/36902469#36902469", "title": "Access denied for .Net GetProcesses", "body": "<p><code>GetProcesses</code> will use the current users credentials to connect to the remote machine, not the credentials you specified via <code>ConnectionOptions</code>.</p>\n\n<p>You need to use the WMI scope object that you created with the correct credentials to issue a query for the processes like this:</p>\n\n<pre><code>//..\n\nSelectQuery query = new SelectQuery(\"select * from Win32_Process\"); //query processes\n\nusing (ManagementObjectSearcher searcher = new ManagementObjectSearcher(scope, query))\n{\n    using (ManagementObjectCollection collection = searcher.Get())\n    {\n        foreach (var process in collection) //loop through results\n        {\n            var name = process[\"name\"]; //process name\n            //Do something with process\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1663, "user_id": 511273, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/fb1efcad9bb707d1396bf86f56438fe0?s=128&d=identicon&r=PG", "display_name": "Bluebaron", "link": "https://stackoverflow.com/users/511273/bluebaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 984, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461798451, "creation_date": 1461797964, "question_id": 36902392, "link": "https://stackoverflow.com/questions/36902392/access-denied-for-net-getprocesses", "title": "Access denied for .Net GetProcesses", "body": "<p>I'm having trouble connecting to remote computer to grab a list of processes running.\nFor my test machine I'm using the username @\"ownme\\veritas\".  The password is just \"veritas\".\nThe sample domain is \"ownme\".</p>\n\n<pre><code>return new System.Management.ConnectionOptions()\n{\n    //certainly these variables have been checked and are correct\n    Username = UserCredential.DomainUser,\n    Password = UserCredential.Password\n};\n</code></pre>\n\n<p>This is where I'm trying to do the connection.  I don't know, but this might actually be the issue here.  It could also be I didn't fill out enough fields in the ConnectionOptions above.\nI referred to these two articles:</p>\n\n<p><a href=\"https://www.experts-exchange.com/questions/23514935/How-to-use-GetProcess-for-remote-sytems.html\" rel=\"nofollow\">https://www.experts-exchange.com/questions/23514935/How-to-use-GetProcess-for-remote-sytems.html</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.management.connectionoptions.authentication.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.management.connectionoptions.authentication.aspx</a></p>\n\n<p>I can't figure out what I'm doing wrong</p>\n\n<pre><code>ManagementScope scope = new ManagementScope($\"\\\\\\\\{computer.DnsHostname}\\\\root\\\\cimv2\", connectionOptions);\nscope.Connect();\n\n//Error: Access is denied\nvar processes = System.Diagnostics.Process.GetProcesses(dnsHostName);\n</code></pre>\n"}, {"tags": ["c#", "mono", "pinvoke"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1463757572, "post_id": 36902364, "comment_id": 62216256, "body": "Tried to set locale explicitly via environment variable (set LC_ALL and\\or LANG variables to &quot;C&quot;) before calling into your C library?"}], "owner": {"reputation": 11194, "user_id": 124983, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/031f95430be418f88b1c01491551b901?s=128&d=identicon&r=PG", "display_name": "Residuum", "link": "https://stackoverflow.com/users/124983/residuum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1463756250, "creation_date": 1461797738, "last_edit_date": 1461880441, "question_id": 36902364, "link": "https://stackoverflow.com/questions/36902364/p-invoke-with-setting-locale-in-linux-with-mono", "title": "P/Invoke with setting locale in Linux with Mono", "body": "<p>I am currently writing a wrapper for a C library. This library reads text files for internal operations.</p>\n\n<p>My problem is now, that somehow this library reads the text files dependant on my locale, which is wrong. It should read the files with locale \"C\", especially numbers. On Windows with .NET the files are read correctly, using a simple C application, these files are also read correctly.</p>\n\n<p>The C# application should run with the default locale, only the unmanaged methods should be called with locale C. Is there a way to accomplish that, possibly with an attribute on the unmanaged method?</p>\n"}, {"tags": ["c#", "dynamics-crm", "xrm"], "comments": [{"owner": {"reputation": 13780, "user_id": 2191473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IWd22.jpg?s=128&g=1", "display_name": "Guido Preite", "link": "https://stackoverflow.com/users/2191473/guido-preite"}, "edited": false, "score": 2, "creation_date": 1461798121, "post_id": 36902346, "comment_id": 61368875, "body": "this is a real project or just a poc for yourself?"}, {"owner": {"reputation": 3513, "user_id": 38425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8de088fad4ae8f38d8d02855029d27ef?s=128&d=identicon&r=PG", "display_name": "Polshgiant", "link": "https://stackoverflow.com/users/38425/polshgiant"}, "edited": false, "score": 1, "creation_date": 1461803975, "post_id": 36902346, "comment_id": 61370436, "body": "The CRM assemblies are already available on the server, so the assembly you register on the server doesn&#39;t need to merge them in...are you sure you can&#39;t reference them just to write your code? Seems like a very odd constraint, can you tell us more about it?"}], "answers": [{"tags": [], "owner": {"reputation": 1420, "user_id": 2422067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9i9e6.jpg?s=128&g=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/2422067/jordi"}, "is_accepted": false, "score": 0, "last_activity_date": 1461833064, "creation_date": 1461833064, "answer_id": 36909573, "question_id": 36902346, "link": "https://stackoverflow.com/questions/36902346/create-xrm-entitymetadata/36909573#36909573", "title": "Create XRM EntityMetadata", "body": "<p>One option: Just use a RetrieveEntityRequest message. It's already in the Microsoft.Xrm.Sdk namespace.</p>\n\n<p>Is this what you mean?</p>\n\n<p>More info <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.xrm.sdk.messages.retrieveentityrequest.aspx\" rel=\"nofollow\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5708422, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d26fe63ecffaf180a864c6bdafeecdde?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Batchelor", "link": "https://stackoverflow.com/users/5708422/darren-batchelor"}, "is_accepted": false, "score": 0, "last_activity_date": 1466463346, "creation_date": 1466463346, "answer_id": 37933089, "question_id": 36902346, "link": "https://stackoverflow.com/questions/36902346/create-xrm-entitymetadata/37933089#37933089", "title": "Create XRM EntityMetadata", "body": "<p>Thanks for all the responses.  This is a proof of concept.  We were asked to remove code from the CRM kernel, and rely primarily on XRM assemblies.  Here is the approach we came up with for EntityMetadata:</p>\n\n<pre><code>DynamicMetadataCache metadata = MetadataCache.GetInstance(((PipelineExecutionContext)context).PlatformContext);\nEntityMetadata entityMetadata = metadata.GetEntity(entity.LogicalName, NameMappingType.Logical);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5708422, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d26fe63ecffaf180a864c6bdafeecdde?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Batchelor", "link": "https://stackoverflow.com/users/5708422/darren-batchelor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1466463346, "creation_date": 1461797660, "question_id": 36902346, "link": "https://stackoverflow.com/questions/36902346/create-xrm-entitymetadata", "title": "Create XRM EntityMetadata", "body": "<p>I'm developing an XRM plugin for Microsoft Dynamics CRM.  I'd like to be able, using only XRM assembly references, and no CRM kernel code, to instantiate an object of type EntityMetadata.  I've only been able to get as far as declaring an object of type EntityMetadata:</p>\n\n<pre><code>EntityMetadata entityMetadata;\n</code></pre>\n\n<p>Using CRM kernel code, an object of type EntityMetadata can be instantiated like this:</p>\n\n<pre><code>EntityMetadata entityMetadata = MetadataCache.GetInstance(((PipelineExecutionContext)context).PlatformContext)\n                                    .GetEntity(entityName, NameMappingType.Logical);\n</code></pre>\n\n<p>The constraints of my project dictate that I only use XRM code, and I'm not allowed to reference any of the more familiar Microsoft.Crm.* assemblies.</p>\n"}, {"tags": ["c#", "pdf", "itextsharp", "itext"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1461848821, "post_id": 36902331, "comment_id": 61393198, "body": "You don&#39;t check whether the annotation in question has an appearance stream. If it does, PDF viewers may choose to simply display the annotation as pre-defined in that stream instead of generating an own appearance. Furthermore, the <b>Contents</b> may or may not be text displayed for an annotation, cf. the specification: <i>Text that shall be displayed for the annotation or, if this type of annotation does not display text, an alternate description of the annotation\u2019s contents in human-readable form</i>."}, {"owner": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1461864843, "post_id": 36902331, "comment_id": 61404935, "body": "@mkl, I can&#39;t figure out how to determine if there is an appearance stream.  Is that the <code>&#47;AP</code> property?  I checked that for one of the annotations and it&#39;s a dictionary with a single entry whose value is <code>28 0 R</code>, but none of the items in <code>annotArray</code> have that value.  This annotation is a <code>FreeText</code>, how do I find and change the text that&#39;s displayed in this text box?"}], "answers": [{"comments": [{"owner": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "edited": false, "score": 0, "creation_date": 1462293693, "post_id": 36932175, "comment_id": 61571633, "body": "Removing the <b>AP</b> key from each annotation resolved this issue.  Are there any risks with removing this key, e.g., are there certain Adobe Reader/Acrobat features that will fail if an annotation doesn&#39;t have this key?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "reply_to_user": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "edited": false, "score": 0, "creation_date": 1462305858, "post_id": 36932175, "comment_id": 61578869, "body": "The major risk is that there are some simple PDF viewers (mostly so-called previewers) which rely on appearance streams being present and don&#39;t have any code to create them on their own. These viewers will not render your annotation at all after <b>AP</b> removal."}, {"owner": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "edited": false, "score": 0, "creation_date": 1462313106, "post_id": 36932175, "comment_id": 61582448, "body": "Yes, I discovered that they don&#39;t display in Outlook&#39;s preview.  Is there another way to accomplish this?  See also <a href=\"http://stackoverflow.com/questions/37014984/how-to-read-text-of-appearance-stream\">this question</a> that I just posted; in both cases, the solution involves identifying where the appearance text is set."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "reply_to_user": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "edited": false, "score": 0, "creation_date": 1462352194, "post_id": 36932175, "comment_id": 61596389, "body": "<i>Yes, I discovered that they don&#39;t display in Outlook&#39;s preview. Is there another way to accomplish this</i> - Well, to make every viewer happy, you will have to create appearance streams."}], "tags": [], "owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "is_accepted": true, "score": 1, "last_activity_date": 1461914835, "creation_date": 1461914835, "answer_id": 36932175, "question_id": 36902331, "link": "https://stackoverflow.com/questions/36902331/cant-change-contents-of-annotation/36932175#36932175", "title": "Can&#39;t change /Contents of annotation", "body": "<p>As the OP clarified in a comment:</p>\n\n<blockquote>\n  <p>This annotation is a <code>FreeText</code>, how do I find and change the text that's displayed in this text box?</p>\n</blockquote>\n\n<p>Free text annotations allow a number of mechanisms to set the displayed text:</p>\n\n<ul>\n<li>A pre-formatted appearance stream, referenced by the <strong>N</strong> entry in the <strong>AP</strong> dictionary</li>\n<li>A rich text string with a default style string given in <strong>RC</strong> and <strong>DS</strong> respectively</li>\n<li>A default appearance string applied to the contents given in <strong>DA</strong> and <strong>Contents</strong> respectively</li>\n</ul>\n\n<p>(For details cf. the PDF specification <a href=\"http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow\">ISO 32000-1</a> section 12.5.6.6 <em>Free Text Annotations</em>)</p>\n\n<p><strong>If you want to change the text using one of these mechanisms, make sure you remove or adjust the contents of the entries for the other mechanisms; otherwise your change might not be visible or even visible on some viewers but not visible on others.</strong></p>\n\n<blockquote>\n  <p>I can't figure out how to determine if there is an appearance stream. Is that the <code>/AP</code> property? I checked that for one of the annotations and it's a dictionary with a single entry whose value is <code>28 0 R</code>.</p>\n</blockquote>\n\n<p>So that <em>one of the annotations</em> indeed comes with an appearance stream. The <em>single entry whose value is <code>28 0 R</code></em> presumably has the <strong>N</strong> name to indicate the <em>normal</em> appearance. <code>28 0 R</code> is a reference to the indirect object with object number <code>28</code> and generation <code>0</code>.</p>\n\n<p>If you want to change the text content but do not want to deal with the formatting details, you should remove the <strong>AP</strong> entry.</p>\n"}], "owner": {"reputation": 8724, "user_id": 619177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/65d2dc7c8d335fa33854172a26fa46f5?s=128&d=identicon&r=PG", "display_name": "sigil", "link": "https://stackoverflow.com/users/619177/sigil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 0, "accepted_answer_id": 36932175, "answer_count": 1, "score": 0, "last_activity_date": 1461914835, "creation_date": 1461797584, "last_edit_date": 1461869851, "question_id": 36902331, "link": "https://stackoverflow.com/questions/36902331/cant-change-contents-of-annotation", "title": "Can&#39;t change /Contents of annotation", "body": "<p>I'm trying to change the text in some PDF annotations using iTextSharp.  Here is my code:</p>\n\n<pre><code>    void changeAnnotations(string inputPath, string outputPath)\n    {\n        PdfReader pdfReader = new PdfReader(inputPath);\n        PdfStamper pdfStamper = new PdfStamper(pdfReader, new FileStream(outputPath, FileMode.Create));\n\n        //get the PdfDictionary of the 1st page\n        PdfDictionary pageDict = pdfReader.GetPageN(1);\n\n        //get annotation array\n        PdfArray annotArray = pageDict.GetAsArray(PdfName.ANNOTS);\n\n        //iterate through annotation array\n        int size = annotArray.Size;\n        for (int i = 0; i &lt; size; i++)\n        {\n\n            //get value of /Contents\n            PdfDictionary dict = annotArray.GetAsDict(i);\n            PdfString contents = dict.GetAsString(PdfName.CONTENTS);\n\n            //check if /Contents key exists\n            if (contents != null)\n            {\n\n                //set new value\n                dict.Put(PdfName.CONTENTS, new PdfString(\"value has been changed\"));\n            }\n        }\n        pdfStamper.Close();\n    }\n</code></pre>\n\n<p>When I open the output file in Adobe Reader, none of the text has changed in any of the annotations.  How should I be setting the new value in an annotation?</p>\n\n<p>UPDATE: I've found that the value is being changed in the popup box that appears when I click on the annotation.  And in some cases, when I modify this value in the popup box, the change is then applied to the annotation.</p>\n"}, {"tags": ["c#", "class", "while-loop", "listbox", "sqldatareader"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1461797542, "post_id": 36902276, "comment_id": 61368718, "body": "Clearly you are reading from closed reader <code>dr.Close(); .... dr[0]</code>,...  what do you expect code to do?"}], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1461797603, "creation_date": 1461797603, "answer_id": 36902336, "question_id": 36902276, "link": "https://stackoverflow.com/questions/36902276/c-reader-is-closed-while-reading/36902336#36902336", "title": "C# reader is closed while reading?", "body": "<p>Your code:</p>\n\n<pre><code>dr.Close();  //&lt;-- dr closed\nSqlDataReader orders = select_orders.ExecuteReader(); // &lt;-- Reader is \"orders\" here\nwhile (orders.Read())\n{\nUnfulfilledOrders CurrentOrder = new UnfulfilledOrders(Convert.ToInt32(dr[0]), Convert.ToString(dr[1]),     Convert.ToString(dr[2]), Convert.ToString(dr[3]), Convert.ToInt32(dr[4]));\nOrderList.Items.Add(CurrentOrder);\n}\n</code></pre>\n\n<p>dr was closed previously, do you mean \"orders\" instead of \"dr\"?</p>\n"}, {"comments": [{"owner": {"reputation": 503, "user_id": 4634109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10152775540251376/picture?type=large", "display_name": "Nimrod Yanai", "link": "https://stackoverflow.com/users/4634109/nimrod-yanai"}, "edited": false, "score": 0, "creation_date": 1461798123, "post_id": 36902349, "comment_id": 61368876, "body": "Wooooooooooooow that was so stupid of me... I&#39;m not used to dealing with more than one datareader at a time. Usually we just use the default &quot;dr&quot; that our teacher gave us to work with.  Anyway, that indeed solved the problem. Will mark as answer.  Thanx a lot!"}], "tags": [], "owner": {"reputation": 855, "user_id": 1988981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a410713a7b172851653905a1ccc35f?s=128&d=identicon&r=PG", "display_name": "Dave Greilach", "link": "https://stackoverflow.com/users/1988981/dave-greilach"}, "is_accepted": true, "score": 2, "last_activity_date": 1461797664, "creation_date": 1461797664, "answer_id": 36902349, "question_id": 36902276, "link": "https://stackoverflow.com/questions/36902276/c-reader-is-closed-while-reading/36902349#36902349", "title": "C# reader is closed while reading?", "body": "<p>Your problem is that in your while loop you're using dr[0] instead of orders[0].  This is trying to get the value from the SqlDataReader dr.  </p>\n\n<p>A good way to avoid mix-ups like this would be to create the data reader in a using block.</p>\n\n<pre><code>using (var dr = select_cmd.ExecuteReader())\n{\n   //your code here\n   dr.Close();\n}\n</code></pre>\n\n<p>then </p>\n\n<pre><code>using (var orders = select_orders.ExecuteReader())\n{\n  // your code here\n  orders.Close();\n}\n</code></pre>\n\n<p>This would prevent you from accidently referencing the wrong reader because VS would give you an error saying it doesn't exist.</p>\n"}], "owner": {"reputation": 503, "user_id": 4634109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10152775540251376/picture?type=large", "display_name": "Nimrod Yanai", "link": "https://stackoverflow.com/users/4634109/nimrod-yanai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "accepted_answer_id": 36902349, "answer_count": 2, "score": -1, "last_activity_date": 1461797664, "creation_date": 1461797223, "last_edit_date": 1461797421, "question_id": 36902276, "link": "https://stackoverflow.com/questions/36902276/c-reader-is-closed-while-reading", "title": "C# reader is closed while reading?", "body": "<p>I am running a C# windows application, and I get an error message when trying to use a datareader. The error message is: </p>\n\n<blockquote>\n  <p>\"Invalid attempt to call CheckDataIsReady when reader is closed.\"</p>\n</blockquote>\n\n<p>I used stop point and saw that the code works fine until it enters the \"while\" loop. Once inside, it gives the error message.</p>\n\n<p>I have tried to do it without closing the previous reader, but then the message changed to something like \"there is already an open reader\" or some such.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>conn = new SqlConnection(DBConnectionString);\nSqlCommand select_cmd = new SqlCommand(\"SELECT usrRealname, usrIsowner FROM tblUSERS WHERE usrNum = \" + UserID, conn);\nSqlCommand select_orders = new SqlCommand(\"SELECT orderNum, orderBy, orderShipadrs, orderDate, orderTotal FROM tblOrders WHERE orderDeliveryDate is NULL AND fkorderTakenbyusrnum = \" + UserID, conn);\nconn.Open();\nSqlDataReader dr = select_cmd.ExecuteReader();\ndr.Read();\nCurrentUser User = new CurrentUser(Convert.ToString(dr[0]), UserID, Convert.ToBoolean(dr[1]));\nDetailsLabel.Text = String.Format(\"Welcome {0}, ID number {1}. {2}\", User.getname, UserID, User.getOwner);\ndr.Close();\nSqlDataReader orders = select_orders.ExecuteReader();\nwhile (orders.Read())\n{\nUnfulfilledOrders CurrentOrder = new UnfulfilledOrders(Convert.ToInt32(dr[0]), Convert.ToString(dr[1]), Convert.ToString(dr[2]), Convert.ToString(dr[3]), Convert.ToInt32(dr[4]));\nOrderList.Items.Add(CurrentOrder);\n}\n</code></pre>\n\n<p>What I'd trying to do is add class (UnfulfilledOrders) type objects to a listbox (OrderList).</p>\n\n<p>The thing that baffles me is that I used such a while loop in a previous form in the same app, and it worked fine there.\nI really have no idea what I'm doing wrong.\nI tried twiking the code, adding or removing certain parts, but nothing seems to work.</p>\n"}, {"tags": ["c#", "audio", "win-universal-app", "windows-10-universal"], "comments": [{"owner": {"reputation": 3146, "user_id": 5527203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsRjr.jpg?s=128&g=1", "display_name": "Jayden", "link": "https://stackoverflow.com/users/5527203/jayden"}, "edited": false, "score": 0, "creation_date": 1461837185, "post_id": 36902181, "comment_id": 61384635, "body": "There is a sample <a href=\"https://github.com/Microsoft/Windows-universal-samples/tree/e13cf5dca497ad661706d150a154830666913be4/Samples/AudioCreation\" rel=\"nofollow noreferrer\">AudioGraph sample</a>, I test it works well."}, {"owner": {"reputation": 71, "user_id": 1631419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95bc105a314d1bc57d99f1c089784381?s=128&d=identicon&r=PG", "display_name": "mdx0111", "link": "https://stackoverflow.com/users/1631419/mdx0111"}, "reply_to_user": {"reputation": 3146, "user_id": 5527203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsRjr.jpg?s=128&g=1", "display_name": "Jayden", "link": "https://stackoverflow.com/users/5527203/jayden"}, "edited": false, "score": 0, "creation_date": 1461837815, "post_id": 36902181, "comment_id": 61385048, "body": "@JaydenGu Hi Jayden, thanks for your reply. I&#39;ve carefully studied this sample but none of the scenarios is about routing AudioFileInputNode to AudioFileOutputNode."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 1631419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95bc105a314d1bc57d99f1c089784381?s=128&d=identicon&r=PG", "display_name": "mdx0111", "link": "https://stackoverflow.com/users/1631419/mdx0111"}, "is_accepted": true, "score": 0, "last_activity_date": 1463406317, "creation_date": 1463406317, "answer_id": 37255455, "question_id": 36902181, "link": "https://stackoverflow.com/questions/36902181/mixing-wave-files-using-audiograph-uwp/37255455#37255455", "title": "Mixing wave files using AudioGraph (UWP)", "body": "<p>Thanks to Mike Taulty, I finally fixed it. Please see below the solution:</p>\n\n<pre><code>  this.remainingFiles = 2;\n  this.input1.FileCompleted += OnFileCompleted;\n  this.input2.FileCompleted += OnFileCompleted;\n</code></pre>\n\n<p>And then we handle the OnFileCompleted as below:</p>\n\n<pre><code>async void OnFileCompleted(AudioFileInputNode sender, object args)\n{\n  if(--this.remainingFiles == 0)\n  {\n    this.graph.Stop();\n    await this.output.FinalizeAsync();\n    this.graph.Dispose();\n  }\n}\n</code></pre>\n\n<p>However, please be aware of the thread safety measures in this event handler.</p>\n"}], "owner": {"reputation": 71, "user_id": 1631419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95bc105a314d1bc57d99f1c089784381?s=128&d=identicon&r=PG", "display_name": "mdx0111", "link": "https://stackoverflow.com/users/1631419/mdx0111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 3, "accepted_answer_id": 37255455, "answer_count": 1, "score": 1, "last_activity_date": 1463406317, "creation_date": 1461796714, "last_edit_date": 1462281474, "question_id": 36902181, "link": "https://stackoverflow.com/questions/36902181/mixing-wave-files-using-audiograph-uwp", "title": "Mixing wave files using AudioGraph (UWP)", "body": "<p>I'm trying to mix two wave files using AudioGraph api in UWP. I've created the following code which opens two already recorded wave files, creates one AudioGraph, one AudioSubmixNode, two AudioFileInputNode and one AudioFileOutputNode object.</p>\n\n<p>I call graph.Start() to make the graph mix two files and store them into the AudioFileOutputNode. However, what happens is that the AudioGraph never stops and keep expanding the output file. I left it running for a while and the end file became something like 1.1GB until I closed the application!</p>\n\n<p>I tried handling the QuantumProcessed event of the AudioGraph and I noticed that this event gets called endlessly after calling graph.start(). I tried stopping the graph in this event but the event gets called again and again and the end result file gets bigger and bigger.</p>\n\n<p>I was wondering to ask if anybody could help to resolve this problem please.</p>\n\n<p>Many thanks.</p>\n\n<pre><code>        AudioGraphSettings setting;\n        AudioGraph graph;\n        AudioFileInputNode input1;\n        AudioFileInputNode input2;\n        AudioFileOutputNode output;\n        AudioSubmixNode submix;\n\n        IStorageFile musicFile1 = await folder.GetFileAsync(\"1.wav\");\n        IStorageFile musicFile2 = await folder.GetFileAsync(\"2.wav\");\n        IStorageFile finalFile = await folder.CreateFileAsync(\"Final.wav\", CreationCollisionOption.ReplaceExisting);\n\n        setting = new AudioGraphSettings(Windows.Media.Render.AudioRenderCategory.Media);\n        CreateAudioGraphResult graphResult = await AudioGraph.CreateAsync(setting);\n        graph = graphResult.Graph;\n\n        CreateAudioFileInputNodeResult inputResult1 = await graph.CreateFileInputNodeAsync(musicFile1);\n        CreateAudioFileInputNodeResult inputResult2 = await graph.CreateFileInputNodeAsync(musicFile2);\n        CreateAudioFileOutputNodeResult outputResult = await graph.CreateFileOutputNodeAsync(finalFile);\n\n        input1 = inputResult1.FileInputNode;\n        input2 = inputResult2.FileInputNode;\n        output = outputResult.FileOutputNode;\n\n        submix = graph.CreateSubmixNode();\n        input1.AddOutgoingConnection(submix);\n        input2.AddOutgoingConnection(submix);\n        submix.AddOutgoingConnection(output);\n\n        graph.Start();\n</code></pre>\n\n<p><strong>Edit:</strong> The source wave files are in same length (which shouldn't matter), same bitrate and both have two channels.</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "garbage-collection"], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 5411487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/233aba42f5dd8c60a85477f8ee46baa5?s=128&d=identicon&r=PG", "display_name": "52hertz", "link": "https://stackoverflow.com/users/5411487/52hertz"}, "edited": false, "score": 0, "creation_date": 1461797207, "post_id": 36902235, "comment_id": 61368595, "body": "yeah, that&#39;s was pretty obvious. thx for the detailed answer!"}], "tags": [], "owner": {"reputation": 57221, "user_id": 3032289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c171ec0f2c8040d24436a40a3bf075b?s=128&d=identicon&r=PG", "display_name": "Luaan", "link": "https://stackoverflow.com/users/3032289/luaan"}, "is_accepted": false, "score": 1, "last_activity_date": 1461796984, "creation_date": 1461796984, "answer_id": 36902235, "question_id": 36902177, "link": "https://stackoverflow.com/questions/36902177/asp-net-garbage-collection-is-referencing-static-class-property-dangerous/36902235#36902235", "title": "ASP.NET garbage collection: is referencing static class property dangerous?", "body": "<p>You've got it the other way around.</p>\n\n<p>Any object can be collected as soon as there's no reference <em>to that object</em>. Outgoing references have no bearing on object lifetime.</p>\n\n<p>Imagine what would happen if that wasn't the case - the garbage collector could never collect anything that didn't <code>null</code>-out all of the references it has to other objects. That's not very useful.</p>\n"}, {"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 1, "last_activity_date": 1461797000, "creation_date": 1461797000, "answer_id": 36902238, "question_id": 36902177, "link": "https://stackoverflow.com/questions/36902177/asp-net-garbage-collection-is-referencing-static-class-property-dangerous/36902238#36902238", "title": "ASP.NET garbage collection: is referencing static class property dangerous?", "body": "<p>No, the logic goes the other way, if AlbumsHelper was not a static class this assignment would prevent it from being collected. But because the class is static it does not matter.</p>\n"}, {"tags": [], "owner": {"reputation": 4565, "user_id": 1968462, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6ef24851a32cb6519312916524da2586?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/1968462/kat"}, "is_accepted": true, "score": 2, "last_activity_date": 1461797015, "creation_date": 1461797015, "answer_id": 36902240, "question_id": 36902177, "link": "https://stackoverflow.com/questions/36902177/asp-net-garbage-collection-is-referencing-static-class-property-dangerous/36902240#36902240", "title": "ASP.NET garbage collection: is referencing static class property dangerous?", "body": "<p>No, instances of <code>MyModel</code> will be disposed of fine. What <code>MyModel</code> stores is a reference to something that happens to be in-use elsewhere (namely in <code>AlbumsHelper</code>).</p>\n\n<p>References are one-way where garbage collection is concerned. So a reference from <code>Foo</code> to <code>Bar</code> will keep the <code>Foo</code> alive so long as the <code>Bar</code> lives. The other way around means nothing.</p>\n"}], "owner": {"reputation": 302, "user_id": 5411487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/233aba42f5dd8c60a85477f8ee46baa5?s=128&d=identicon&r=PG", "display_name": "52hertz", "link": "https://stackoverflow.com/users/5411487/52hertz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36902240, "answer_count": 3, "score": 1, "last_activity_date": 1461797015, "creation_date": 1461796694, "question_id": 36902177, "link": "https://stackoverflow.com/questions/36902177/asp-net-garbage-collection-is-referencing-static-class-property-dangerous", "title": "ASP.NET garbage collection: is referencing static class property dangerous?", "body": "<p>Let say 'MyModel' class containing following property:</p>\n\n<p>public List ListOfAlbumsTitles => AlbumsHelper.ListOfAlbumsTitles;</p>\n\n<p><code>AlbumsHelper</code> is a static class. Does it mean, that the object of MyModel wouldn't be collected automatically because of referencing static class property? </p>\n"}, {"tags": ["c#", "sql-server", "wcf", "optimization", "sql-server-ce"], "comments": [{"owner": {"reputation": 36579, "user_id": 183934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6458cf59b73b593fa9c9c8194f0a3b15?s=128&d=identicon&r=PG", "display_name": "ErikEJ", "link": "https://stackoverflow.com/users/183934/erikej"}, "edited": false, "score": 0, "creation_date": 1461837154, "post_id": 36902150, "comment_id": 61384613, "body": "Web API with JSON and use SqlCeBulkCopy to insert fast or TableDirect ADO api on client."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3494973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/241489718e1594964ba9a3a2a173b3e3?s=128&d=identicon&r=PG&f=1", "display_name": "bbush", "link": "https://stackoverflow.com/users/3494973/bbush"}, "edited": false, "score": 0, "creation_date": 1461809748, "post_id": 36903927, "comment_id": 61371918, "body": "Sorry, I don&#39;t think I was quite clear. I do only need the one port, I agree.  I&#39;m looking for fundamentally different solutions. Could I do straight ADO over the network? This would bypass WCF serialization entirely."}, {"owner": {"reputation": 1161, "user_id": 1437507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b986ed712f27d3caea3ce7ee3a8c4a?s=128&d=identicon&r=PG", "display_name": "Leonardo Emanuel Alifraco", "link": "https://stackoverflow.com/users/1437507/leonardo-emanuel-alifraco"}, "reply_to_user": {"reputation": 45, "user_id": 3494973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/241489718e1594964ba9a3a2a173b3e3?s=128&d=identicon&r=PG&f=1", "display_name": "bbush", "link": "https://stackoverflow.com/users/3494973/bbush"}, "edited": false, "score": 0, "creation_date": 1461810284, "post_id": 36903927, "comment_id": 61372037, "body": "You can do direct ADO and the performance will increase for sure. But that&#39;s up to your architectural decisions and depends on your non functional requirements. One thing I totally recommend is to abstract the caching layer detaching the caching strategy from the business rules. So you can later switch it to a better faster or scalable solution up to your needs."}], "tags": [], "owner": {"reputation": 1161, "user_id": 1437507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b986ed712f27d3caea3ce7ee3a8c4a?s=128&d=identicon&r=PG", "display_name": "Leonardo Emanuel Alifraco", "link": "https://stackoverflow.com/users/1437507/leonardo-emanuel-alifraco"}, "is_accepted": false, "score": 0, "last_activity_date": 1461808600, "creation_date": 1461808600, "answer_id": 36903927, "question_id": 36902150, "link": "https://stackoverflow.com/questions/36902150/fast-transfer-of-rows-between-databases/36903927#36903927", "title": "Fast Transfer Of Rows Between Databases", "body": "<p>No, enabling more than one port wouldn't increase the performance of the data transmission or processing.\nA TCP port is not a physical resource that can be stressed, but a logical construct that identifies a specific process or a type of service.</p>\n\n<p>Some things that you can do to improve the performance of the communication between client and server:</p>\n\n<ul>\n<li>Use a much faster binding: Like NetTcpBinding or NetNamedPipeBinding.</li>\n<li>Compress the data before sending it to the server in order to transmit less information from the client to the server. (Using a DataTable might not be the best strategy).</li>\n<li>Make the service call asynchronously. So you don't wait for a server response to continue working on the client end.</li>\n<li>Fine tune WCF to accept more connections in parallel.</li>\n<li>Use self hosting services to avoid the IIS overhead if you don't need it. </li>\n</ul>\n"}], "owner": {"reputation": 45, "user_id": 3494973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/241489718e1594964ba9a3a2a173b3e3?s=128&d=identicon&r=PG&f=1", "display_name": "bbush", "link": "https://stackoverflow.com/users/3494973/bbush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461808600, "creation_date": 1461796514, "question_id": 36902150, "link": "https://stackoverflow.com/questions/36902150/fast-transfer-of-rows-between-databases", "title": "Fast Transfer Of Rows Between Databases", "body": "<p>I am using a SQL CE (4.0) database as a local cache for records from a specific view in a main SQL Server (Express 2014). Each iteration of my algorithm I want to validate the local cache and update it with the necessary records from the main server.</p>\n\n<p>My current solutions serializes a DataTable containing the rows (using the SyncFramework surrogate) and brings it over via WCF to be deserialized and inserted into the cache. The reasoning was to only require a single port for WCF to be opened. The problem is that this is too slow for my purposes.</p>\n\n<p>If I relax the single port requirement, could I get better performance from another method?</p>\n"}, {"tags": ["c#", "inheritance", "design-patterns"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 4439901, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1197679345/picture?type=large", "display_name": "Colin Dawson", "link": "https://stackoverflow.com/users/4439901/colin-dawson"}, "edited": false, "score": 0, "creation_date": 1461826818, "post_id": 36902551, "comment_id": 61378021, "body": "I use ReSharper too. :D   I&#39;m looking for the best implementation of this solution."}, {"owner": {"reputation": 313, "user_id": 4439901, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1197679345/picture?type=large", "display_name": "Colin Dawson", "link": "https://stackoverflow.com/users/4439901/colin-dawson"}, "edited": false, "score": 0, "creation_date": 1461827111, "post_id": 36902551, "comment_id": 61378216, "body": "I suppose there is another part to the problem.  I have a view that uses my custom markup extension and has to have the views datacontext set even though the view doesn&#39;t really require a view model (It&#39;s a simple display dialog) The markup needs to know about the IExampleService, not the view.   Is it still correct to create a whole viewmodel?   Or is it ok have the markup pull the extension from elsewhere?   (if it&#39;s ok means I can change the way the viewmodels are composed)   Just need to figure out how to do it."}, {"owner": {"reputation": 313, "user_id": 4439901, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1197679345/picture?type=large", "display_name": "Colin Dawson", "link": "https://stackoverflow.com/users/4439901/colin-dawson"}, "edited": false, "score": 0, "creation_date": 1461842923, "post_id": 36902551, "comment_id": 61388626, "body": "On reflection, I think the question about getting the markup extension to work without a viewmodel is another topic all together."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 2, "last_activity_date": 1461798976, "creation_date": 1461798976, "answer_id": 36902551, "question_id": 36902110, "link": "https://stackoverflow.com/questions/36902110/inheritance-dependency-injection-simplification/36902551#36902551", "title": "Inheritance dependency injection simplification", "body": "<p>You can't get out of calling the base constructor. \nIt doesn't really matter that <code>IExampleService</code> is only instantiated once and shared. Your <code>ViewModelBase</code> doesn't (and shouldn't) \"know\" that. All it needs to know is that whatever is injected implements that interface. \nThat's one of the big benefits, because when you unit test classes you can inject a mocked version of that interface. If classes depended on a static reference to something buried within a base class then it wouldn't be possible to replace it with a mock for testing.</p>\n\n<p>I use <a href=\"https://www.jetbrains.com/resharper/\" rel=\"nofollow\">ReSharper</a>. (Am I allowed to say that? I don't mean to advertise.) Among many other things it generates those base constructors for you. I'm sure at some point that's got to get built in to Visual Studio.</p>\n"}], "owner": {"reputation": 313, "user_id": 4439901, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1197679345/picture?type=large", "display_name": "Colin Dawson", "link": "https://stackoverflow.com/users/4439901/colin-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 36902551, "answer_count": 1, "score": 1, "last_activity_date": 1461798976, "creation_date": 1461796359, "last_edit_date": 1461796562, "question_id": 36902110, "link": "https://stackoverflow.com/questions/36902110/inheritance-dependency-injection-simplification", "title": "Inheritance dependency injection simplification", "body": "<p>This one is a bit complicated, so please read everything through. I'm working on some code that implements the MVVM Pattern for WPF.  I have a XAML Markup extension that looks for a specific property on the datacontext.  (It's a long and fun story, but out of scope) My view model will be set as the Dataconext on the view.</p>\n\n<p>Here's an example of how I have implemented my BaseViewmodel...</p>\n\n<pre><code>public class ViewModelBase : IViewModelBase\n{\n    protected CommandManagerHelper _commandManagerHelper;\n\n    //todo find a way of eliminating the need for this constructor\n    public OrionViewModelBase(CommandManagerHelper commandManagerHelper)\n    {\n        _commandManagerHelper = commandManagerHelper;\n    }\n\n    private IExampleService _exampleService;\n\n    public IExampleService ExampleService\n    {\n        get\n        {\n            if (_exampleService == null)\n            {\n                _exampleService = _commandManagerHelper.GetExampleService();\n            }\n\n            return _exampleService;\n        }\n    }\n}\n</code></pre>\n\n<p>What's going on there is that I'm effectively lazy loading the _exampleService.  I'm sure it's possible to use Lazy, but I've not got round to implementing that just yet.</p>\n\n<p>My Xaml Markup will be looking for and making use of my the ExampleService it could also be used by code within the view model.  It's going to be used all over the application.</p>\n\n<p>A point to note is that my application will have only one instance of the ExampleServer that will be passed around, calling GetExampleService from anywhere in the application will return the same instance of the object.  There will only be one instance of the ExampleService object, although it is not coded as a singleton.</p>\n\n<p>Here is an example of how I am inheriting from my ViewModelBase...</p>\n\n<pre><code>internal class ReportingViewmodel : ViewModelBase\n{\n    private readonly IReportingRepository _reportingRepository;\n\n    public ReportingViewmodel(CommandManagerHelper commandManagerHelper, IReportingRepository reportingRepository) : base(commandManagerHelper)\n    {\n        _reportingRepository = reportingRepository;\n    }\n}\n</code></pre>\n\n<p>This code works and works great.  However, having to type \": base(commandManagerHelper)\" every time that I implement a new inherited member of the ViewModelBase is prone to mistakes.  I'm likely to have 100's of these implementations and each one needs to be right.</p>\n\n<p>What I'm wondering is....  is there a way of implementing the same behaviour respecting the SOLID principles and not having to call the base constructor every time I implement an instance of the ViewModelBase?</p>\n\n<p>i.e.  I'd like the ReportingViewModel to look like this</p>\n\n<pre><code>internal class ReportingViewmodel : ViewModelBase\n{\n    private readonly IReportingRepository _reportingRepository;\n\n    public ReportingViewmodel(IReportingRepository reportingRepository)\n    {\n        _reportingRepository = reportingRepository;\n    }\n}\n</code></pre>\n\n<p>but still have the ExampleService populated correctly.</p>\n\n<p>I'm currently considering using the Service locator pattern for this, I'm also considering using a Singleton and I'm open to other better solutions.</p>\n\n<p>The reason that I'm asking the question rather than diving in with code is that I know that the Singleton is generally an anti-pattern, to me it signifies that something else is wrong in the code.\nI've just read an article on IoC and it's slating the Service locator pattern here's the article <a href=\"http://www.devtrends.co.uk/blog/how-not-to-do-dependency-injection-the-static-or-singleton-container\" rel=\"nofollow\">http://www.devtrends.co.uk/blog/how-not-to-do-dependency-injection-the-static-or-singleton-container</a>.</p>\n"}, {"tags": ["c#", "sql-server", "visual-studio-2015", "connection-string"], "comments": [{"owner": {"reputation": 482, "user_id": 1643695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/divI8.jpg?s=128&g=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/1643695/henrique"}, "edited": false, "score": 0, "creation_date": 1461796930, "post_id": 36902102, "comment_id": 61368489, "body": "Have you ensured that your conInfo.ConnectionString is correct?"}, {"owner": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "edited": false, "score": 0, "creation_date": 1461797382, "post_id": 36902102, "comment_id": 61368663, "body": "Does your Oracle DB not have a name? Using an IP address is usually an advanced option."}, {"owner": {"reputation": 9591, "user_id": 161816, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/46aab1a0d13b449cc0ce1fa6eb0c2c84?s=128&d=identicon&r=PG", "display_name": "Charles Burns", "link": "https://stackoverflow.com/users/161816/charles-burns"}, "reply_to_user": {"reputation": 482, "user_id": 1643695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/divI8.jpg?s=128&g=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/1643695/henrique"}, "edited": false, "score": 1, "creation_date": 1461797966, "post_id": 36902102, "comment_id": 61368837, "body": "@Henrique: I have many fantastic reasons for being sure <code>conInfo.ConnectionString</code> contains the string I have been editing, all of which are apparently wrong because that was the problem. (Face smack). Thanks. If you post as a full response, I&#39;ll mark it as correct, because &quot;check the obvious no matter what&quot; is so often the solution."}, {"owner": {"reputation": 9591, "user_id": 161816, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/46aab1a0d13b449cc0ce1fa6eb0c2c84?s=128&d=identicon&r=PG", "display_name": "Charles Burns", "link": "https://stackoverflow.com/users/161816/charles-burns"}, "reply_to_user": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "edited": false, "score": 0, "creation_date": 1461798104, "post_id": 36902102, "comment_id": 61368869, "body": "@silkfire: All our servers are named. I agree, it would be weird to use IPs in most situations. I used an IP in this case because our DNS doesn&#39;t know the IP of this particular server yet."}, {"owner": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "edited": false, "score": 0, "creation_date": 1461798425, "post_id": 36902102, "comment_id": 61368954, "body": "Try with <code>Data Source=(HOST=123.456.78.9)</code>"}, {"owner": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "edited": false, "score": 0, "creation_date": 1461838749, "post_id": 36902102, "comment_id": 61385704, "body": "@CharlesBurns So how did you solve it?"}, {"owner": {"reputation": 9591, "user_id": 161816, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/46aab1a0d13b449cc0ce1fa6eb0c2c84?s=128&d=identicon&r=PG", "display_name": "Charles Burns", "link": "https://stackoverflow.com/users/161816/charles-burns"}, "reply_to_user": {"reputation": 20243, "user_id": 633098, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/73ed4ada98edd7d2b842ee5ddc24bf86?s=128&d=identicon&r=PG", "display_name": "silkfire", "link": "https://stackoverflow.com/users/633098/silkfire"}, "edited": false, "score": 0, "creation_date": 1461891512, "post_id": 36902102, "comment_id": 61416426, "body": "@silkfire: The application was successfully connecting to a database that itself had additional connection strings. When it read what was supposed to be the same connection string from the database, that string had not been updated. They were the same because of my test conditions."}], "answers": [{"tags": [], "owner": {"reputation": 482, "user_id": 1643695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/divI8.jpg?s=128&g=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/1643695/henrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1591729094, "last_edit_date": 1591729094, "creation_date": 1461798764, "answer_id": 36902522, "question_id": 36902102, "link": "https://stackoverflow.com/questions/36902102/visual-studio-connects-to-database-but-application-within-using-the-same-connec/36902522#36902522", "title": "Visual Studio connects to database, but application within using the same connection string cannot", "body": "<p>As I said in comments, maybe the piece of your code:</p>\n\n<pre><code>conInfo.ConnectionString\n</code></pre>\n\n<p>does not contains the correct connection string you want.</p>\n\n<p>Check it out</p>\n"}], "owner": {"reputation": 9591, "user_id": 161816, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/46aab1a0d13b449cc0ce1fa6eb0c2c84?s=128&d=identicon&r=PG", "display_name": "Charles Burns", "link": "https://stackoverflow.com/users/161816/charles-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 36902522, "answer_count": 1, "score": 1, "last_activity_date": 1591729094, "creation_date": 1461796306, "question_id": 36902102, "link": "https://stackoverflow.com/questions/36902102/visual-studio-connects-to-database-but-application-within-using-the-same-connec", "title": "Visual Studio connects to database, but application within using the same connection string cannot", "body": "<p>Using SSMS and Visual Studio 2015's <code>Server Explorer</code> tab under <code>Data Connections</code>, I can execute queries on remote server KOSH without issue. Why is the MVC application running locally in Visual Studio/IIS Express unable to do the same?</p>\n\n<p>Using VS2015's connection <code>Properties</code>, I get its connection string:</p>\n\n<pre><code>Data Source=123.456.78.9;Persist Security Info=True;User ID=Foo;Password=Bar\n</code></pre>\n\n<p>Using that connection string, the MVC application is greeted with:</p>\n\n<blockquote>\n  <p>\"A network-related or instance-specific error occurred while\n  establishing a connection to SQL Server. The server was not found or\n  was not accessible. Verify that the instance name is correct and that\n  SQL Server is configured to allow remote connections. (provider: Named\n  Pipes Provider, error: 40 - Could not open a connection to SQL\n  Server)\"</p>\n</blockquote>\n\n<p>Inner exception message:</p>\n\n<blockquote>\n  <p>\"The network path was not found\"</p>\n</blockquote>\n\n<p>I know the server/firewall/network settings are correct. That leaves the application.</p>\n\n<pre><code>using(var connection = Database.Connection(conInfo.ConnectionString, provider)) {\n    // rowCountSql: SELECT SUM(rows) TM_ROWCOUNT FROM sys.partitions\n    //              WHERE object_id = object_id(@tableName) and index_id IN (0,1)\n    // Any other SQL yields same error\n    var countTask = connection.QueryAsync(rowCountSql, new { tableName = Editor.TableName });\n}\n</code></pre>\n\n<p>Async is used because the Oracle version of the query can take several seconds to return.\nThe application should be correct because it connects to the same server from home (also the server's location) and to identical databases in remote data centers running 2008R2 to 2014 without a problem.</p>\n\n<p><code>Database.Connection()</code> is:</p>\n\n<pre><code>// This is unlikely to be the problem as it is very well tested\npublic static DbConnection Connection(string connectionString, string databaseProvider) {\n    DbProviderFactory databaseFactory = DbProviderFactories.GetFactory(databaseProvider);\n    DbConnection connection = databaseFactory.CreateConnection();\n    if(connection != null)\n        connection.ConnectionString = connectionString;\n    return connection;\n}\n</code></pre>\n\n<p>I bet I am missing something simple, but I would be grateful for help on what that could be.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio", "listbox"], "answers": [{"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1461807841, "post_id": 36903795, "comment_id": 61371444, "body": "That is the problem. I dont know where the error occurs."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1461809885, "post_id": 36903795, "comment_id": 61371952, "body": "How about the SizeChanged event? And then have a look at the call stack?"}], "tags": [], "owner": {"reputation": 49, "user_id": 2402191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4007dd9b9b75feeafe080dd0efaa5fea?s=128&d=identicon&r=PG", "display_name": "mchl0208", "link": "https://stackoverflow.com/users/2402191/mchl0208"}, "is_accepted": false, "score": 0, "last_activity_date": 1461807738, "creation_date": 1461807738, "answer_id": 36903795, "question_id": 36902072, "link": "https://stackoverflow.com/questions/36902072/how-set-a-breakpoint-when-listbox-size-change/36903795#36903795", "title": "How set a breakpoint when ListBox size change", "body": "<p>Right clic on the line where you want to stop and then press Condition.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LgLvH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LgLvH.png\" alt=\"Select this option\"></a></p>\n\n<p>then you have to create a condition to stop execution, something like this:\n<a href=\"https://i.stack.imgur.com/uJhKy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uJhKy.png\" alt=\"Condition to Stop\"></a></p>\n\n<p>Pay attention to select \"<strong>Has changed</strong>\" option.</p>\n\n<p><strong>Happy Coding!</strong></p>\n"}], "owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461807738, "creation_date": 1461796160, "last_edit_date": 1461807137, "question_id": 36902072, "link": "https://stackoverflow.com/questions/36902072/how-set-a-breakpoint-when-listbox-size-change", "title": "How set a breakpoint when ListBox size change", "body": "<p>I have a ListBox inside a GroupBox to show a log, but sometimes the listbox size change and go beyond the group box.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QCXm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCXm6.png\" alt=\"enter image description here\"></a></p>\n\n<p>The function is using a <code>BackgroundWorker</code> and a <code>Timer</code> </p>\n\n<p><code>Timer_tick</code> is</p>\n\n<pre><code>if (!bgProcess.IsBusy)\n{\n    bgProcess.RunWorkerAsync();\n}\nelse\n{\n    lstLog.Items.Insert(0, DateTime.Now.ToString() + \" Busy\");\n}\n</code></pre>\n\n<p>The <code>BackgroundWorker</code> function end like this</p>\n\n<pre><code>if (lstLog.Items.Count &gt; 800)\n{\n     lstLog.Items.Clear();\n}\nlstLog.Items.Insert(0, strItem);\n</code></pre>\n\n<p>I know probably hard to anyone know why this is happening. And right now not sure when the size change. I only know when I came back after a while and find it bigger.</p>\n\n<p>So I will ask for how can I set a breakpoint for when the ListBox size change so I can try to find where/when is that happenning.</p>\n"}, {"tags": ["c#", "visual-studio", "overriding", "controls"], "comments": [{"owner": {"reputation": 980, "user_id": 3783353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7661c2a40c94a306cbbc4560d475ebd4?s=128&d=identicon&r=PG&f=1", "display_name": "Mikanikal", "link": "https://stackoverflow.com/users/3783353/mikanikal"}, "edited": false, "score": 0, "creation_date": 1461798613, "post_id": 36902068, "comment_id": 61368996, "body": "When you instantiate this custom tab control, are you adding any pages to the controls? Unless there are any pages, it will not display the tabs which when clicked will trigger than OnClick method."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6147361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0a804861698b026f15bdc222b12e344?s=128&d=identicon&r=PG&f=1", "display_name": "Anne", "link": "https://stackoverflow.com/users/6147361/anne"}, "edited": false, "score": 0, "creation_date": 1461973671, "post_id": 36902538, "comment_id": 61456721, "body": "I found out that using Deselecting and Selecting instead of creating a descendent of TabControl fixed the problem.  Somehow, when using the TabControl descendant, adding the Reactive UI binding of TabControlModified .SelectedIndex messed things up and the overridden OnClick was no longer callerd."}], "tags": [], "owner": {"reputation": 980, "user_id": 3783353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7661c2a40c94a306cbbc4560d475ebd4?s=128&d=identicon&r=PG&f=1", "display_name": "Mikanikal", "link": "https://stackoverflow.com/users/3783353/mikanikal"}, "is_accepted": false, "score": 0, "last_activity_date": 1461798882, "creation_date": 1461798882, "answer_id": 36902538, "question_id": 36902068, "link": "https://stackoverflow.com/questions/36902068/overridden-c-tabcontrol-onclick-is-not-called/36902538#36902538", "title": "Overridden c# TabControl OnClick is not called", "body": "<p>This snippet works just fine. You need to make sure you have added pages to your tab control in order for the tabs to display and accessible to the user to click.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        var mTab = new MyTab();\n        mTab.Location = new System.Drawing.Point(100, 100);\n\n        // The OnClick will only work on the \n        // Tabs themselves so Pages must be added to display the Tabs.\n        var mtabPage1 = new System.Windows.Forms.TabPage();\n        mTab.Controls.Add(mtabPage1);\n\n        this.Controls.Add(mTab);\n    }\n\n    class MyTab : TabControl\n    {\n        protected override void OnClick(EventArgs e)\n        {\n            MessageBox.Show(\"I was clicked.\");\n\n            base.OnClick(e);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6147361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0a804861698b026f15bdc222b12e344?s=128&d=identicon&r=PG&f=1", "display_name": "Anne", "link": "https://stackoverflow.com/users/6147361/anne"}, "is_accepted": false, "score": 0, "last_activity_date": 1461973709, "creation_date": 1461973709, "answer_id": 36949137, "question_id": 36902068, "link": "https://stackoverflow.com/questions/36902068/overridden-c-tabcontrol-onclick-is-not-called/36949137#36949137", "title": "Overridden c# TabControl OnClick is not called", "body": "<p>I found out that using Deselecting and Selecting instead of creating a descendent of TabControl fixed the problem. Somehow, when using the TabControl descendant, adding the Reactive UI binding of TabControlModified .SelectedIndex messed things up and the overridden OnClick was no longer callerd. </p>\n"}], "owner": {"reputation": 1, "user_id": 6147361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0a804861698b026f15bdc222b12e344?s=128&d=identicon&r=PG&f=1", "display_name": "Anne", "link": "https://stackoverflow.com/users/6147361/anne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461973709, "creation_date": 1461796149, "question_id": 36902068, "link": "https://stackoverflow.com/questions/36902068/overridden-c-tabcontrol-onclick-is-not-called", "title": "Overridden c# TabControl OnClick is not called", "body": "<p>I'm using Microsoft Visual Studio 2013 and writing in c#.  I have written a descendant of the TabControl class and overridden the OnClick method, then changed my existing TabControl element to use the new class.  Everything compiles and runs, my breakpoint in the constructor is reached, but it's not using the OnClick override!  Here's the TabControl descendant code, thanks in advance for any help!</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace LumaSense.Imaging.Calibration.UI\n{\n    public partial class TabControlModified : TabControl\n    {\n        public TabControlModified()\n        {\n            InitializeComponent();\n        }\n\n        private bool superuser;\n        public int lastTabSelectedIndex = 0;\n\n        public bool Superuser\n        {\n            get { return superuser; }\n            set { superuser = value; }\n        }\n\n        public int LastTabSelectedIndex\n        {\n            get { return lastTabSelectedIndex; }\n            set\n            { this.lastTabSelectedIndex = value; }\n        }\n\n        protected override void OnClick(EventArgs e)\n        {\n            // SelectedIndex and tab have already changed before we get here\n            if (this.superuser == false)\n            {\n                if (this.SelectedIndex &lt;= this.lastTabSelectedIndex)\n                {\n                    this.LastTabSelectedIndex = this.SelectedIndex;\n                    base.OnClick(e);\n                }\n                else\n                {\n                    base.OnClick(e);\n                    this.SelectedIndex = lastTabSelectedIndex;\n                }\n            }\n            else\n            {\n                this.LastTabSelectedIndex = this.SelectedIndex;\n                base.OnClick(e);\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "nunit", "bamboo"], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 2484368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11e0f97a0f166bf70a2468f0d34c7178?s=128&d=identicon&r=PG&f=1", "display_name": "flaviomeira10", "link": "https://stackoverflow.com/users/2484368/flaviomeira10"}, "is_accepted": false, "score": 0, "last_activity_date": 1461898650, "last_edit_date": 1461898650, "creation_date": 1461898296, "answer_id": 36928760, "question_id": 36902061, "link": "https://stackoverflow.com/questions/36902061/bamboo-nunit-runner-not-finding-tests/36928760#36928760", "title": "Bamboo nunit runner not finding tests", "body": "<p>You must set the 'Result Filename' property with the path of the xml (<a href=\"https://confluence.atlassian.com/bamboo/nunit-runner-289277059.html\" rel=\"nofollow\">link</a>)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You also have to add a NUnit Parser task and then set the path of the generated xml (<a href=\"https://confluence.atlassian.com/bamboo/nunit-parser-289277054.html\" rel=\"nofollow\">link</a>).</p>\n"}], "owner": {"reputation": 219, "user_id": 5165042, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d51b118c51d62022f9411e425ee66227?s=128&d=identicon&r=PG&f=1", "display_name": "vTad", "link": "https://stackoverflow.com/users/5165042/vtad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1055, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461898650, "creation_date": 1461796122, "last_edit_date": 1592644375, "question_id": 36902061, "link": "https://stackoverflow.com/questions/36902061/bamboo-nunit-runner-not-finding-tests", "title": "Bamboo nunit runner not finding tests", "body": "<p>I'm developing testing framework using .net + selenium with Nunit 2.6.4 runner.</p>\n<p>I configured bamboo to run test in that way:</p>\n<ol>\n<li>Checkout from repository</li>\n<li>Parametrize tests</li>\n<li>Nuget restore</li>\n<li>MsBuild with option /p:Configuration=Debug</li>\n<li>Nunit runner</li>\n</ol>\n<p>In nunit test runner task im using Nunit 2.6.4 version.</p>\n<p>For the &quot;NUnit Test Files&quot; im passing the path to : .\\SeleniumProject.Shop\\SeleniumProject.Shop\\bin\\debug\\SeleniumProject.Shop.dll</p>\n<p>I'm sure that this file exist in this path, becouse I checked that using script task that prints list of files in .\\SeleniumProject.Shop\\SeleniumProject.Shop\\bin\\debug\\ to make sure that I have SeleniumProject.Shop.dl there.</p>\n<p>But on 5th task Im getting an error:</p>\n<blockquote>\n<p>Parsing test results under C:\\buildAgent\\xml-data\\build-dir\\SHOP-WEB-JOB1...</p>\n<p>Failing task since test cases were expected but none were found. Finished task</p>\n<p>'FronPageLinks' with result: Failed</p>\n</blockquote>\n<p>I'm sure that tests can be found in SeleniumProject.Shop.dll, becouse I checked that manually on local mashine using the nunit.exe</p>\n<p>Does anyone have some ideas why is that happened?\nAnother funny think is that bamboo find the test two times (in like 30 attempt) and the test were executed</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "stored-procedures", "azure-sql-database"], "comments": [{"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1461795838, "post_id": 36901992, "comment_id": 61368062, "body": "I think you have to actually call the parameter &quot;@d&quot;?"}, {"owner": {"reputation": 653, "user_id": 6158629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WTZCt.jpg?s=128&g=1", "display_name": "Abhilash R Vankayala", "link": "https://stackoverflow.com/users/6158629/abhilash-r-vankayala"}, "edited": false, "score": 0, "creation_date": 1461796031, "post_id": 36901992, "comment_id": 61368141, "body": "Ya &quot;@&quot; is missing with the parameter names a, b, c, d. Try prefixing @"}, {"owner": {"reputation": 85, "user_id": 3018956, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1186354805/picture?type=large", "display_name": "vrvictor", "link": "https://stackoverflow.com/users/3018956/vrvictor"}, "edited": false, "score": 0, "creation_date": 1461796351, "post_id": 36901992, "comment_id": 61368263, "body": "I already tried and that&#39;s not the problem"}], "answers": [{"tags": [], "owner": {"reputation": 13929, "user_id": 1236044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/I4JH8.jpg?s=128&g=1", "display_name": "jbl", "link": "https://stackoverflow.com/users/1236044/jbl"}, "is_accepted": false, "score": 0, "last_activity_date": 1461838378, "creation_date": 1461838378, "answer_id": 36911555, "question_id": 36901992, "link": "https://stackoverflow.com/questions/36901992/call-stored-procedure-with-linq/36911555#36911555", "title": "call stored procedure with linq", "body": "<p>You may try stating the parameter names in the command text :</p>\n\n<pre><code>((IObjectContextAdapter)this).ObjectContext\n   .ExecuteStoreCommand(\"schema.stored_name @d, @c, @b, @a\", param1, param2, param3, param4);\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3018956, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1186354805/picture?type=large", "display_name": "vrvictor", "link": "https://stackoverflow.com/users/3018956/vrvictor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461838378, "creation_date": 1461795741, "question_id": 36901992, "link": "https://stackoverflow.com/questions/36901992/call-stored-procedure-with-linq", "title": "call stored procedure with linq", "body": "<p>i am try to call stored procedure like this:</p>\n\n<pre><code>var param1 = new SqlParameter(\"d\", SqlDbType.NVarChar);\nparam1.Value = d;\nvar param2 = new SqlParameter(\"c\", SqlDbType.NVarChar);\nparam2.Value = c;\nvar param3 = new SqlParameter(\"b\", SqlDbType.NVarChar);\nparam3.Value = b;\nvar param4 = new SqlParameter(\"a\", SqlDbType.BigInt);\nparam4.Value = a;\n\n\n((IObjectContextAdapter)this).ObjectContext.ExecuteStoreCommand(\"schema.stored_name\", param1, param2, param3, param4);\n</code></pre>\n\n<p>but throw Procedure or function 'stored_name' expects parameter '@d', which was not supplied.</p>\n\n<p>also i created array an set values but dosent work, any idea????</p>\n"}, {"tags": ["c#", "arrays", "linq", "multidimensional-array", "lambda"], "comments": [{"owner": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 1, "creation_date": 1461796100, "post_id": 36901978, "comment_id": 61368162, "body": "Rather than using a 2D array and lambda expression, I&#39;d suggest using a <code>Dictionary&lt;string, string&gt;</code> instead."}, {"owner": {"reputation": 4411, "user_id": 751579, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/iux9g.png?s=128&g=1", "display_name": "davidbak", "link": "https://stackoverflow.com/users/751579/davidbak"}, "edited": false, "score": 0, "creation_date": 1461799295, "post_id": 36901978, "comment_id": 61369182, "body": "Do you mean &quot;lambda&quot; or do you mean &quot;LINQ&quot;?  &#39;Cause I&#39;m not sure what a lambda would get you here, but a LINQ expression might be an alternate way of doing the work while eliminating the explicit loop."}, {"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "reply_to_user": {"reputation": 4411, "user_id": 751579, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/iux9g.png?s=128&g=1", "display_name": "davidbak", "link": "https://stackoverflow.com/users/751579/davidbak"}, "edited": false, "score": 0, "creation_date": 1461801770, "post_id": 36901978, "comment_id": 61369895, "body": "@davidbak Thanks. Both would work, yes. I just would like to have it simpler than a for loop."}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 1, "creation_date": 1461802599, "post_id": 36901978, "comment_id": 61370114, "body": "As long as the keys are unique, a dictionary would be better suited for this.   Then you could do <code>if (testval.ContainsKey(teststring)) return testval[teststring];</code>"}, {"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "edited": false, "score": 0, "creation_date": 1461972845, "post_id": 36901978, "comment_id": 61456523, "body": "Is there maybe a direct command where you don&#39;t need to do a loop cycle?"}], "answers": [{"comments": [{"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "edited": false, "score": 0, "creation_date": 1461972795, "post_id": 36903249, "comment_id": 61456506, "body": "Great, thank you. So basically you anyway need to loop through them. I wondered if there is another way of doing it without looping."}], "tags": [], "owner": {"reputation": 925, "user_id": 6137718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3d320acc19dd6c008f3f24c287fd49f?s=128&d=identicon&r=PG&f=1", "display_name": "gnalck", "link": "https://stackoverflow.com/users/6137718/gnalck"}, "is_accepted": true, "score": 2, "last_activity_date": 1461804297, "last_edit_date": 1461804297, "creation_date": 1461803838, "answer_id": 36903249, "question_id": 36901978, "link": "https://stackoverflow.com/questions/36901978/lambda-expression-to-return-a-string-from-a-2d-string-array-based-on-a-test-stri/36903249#36903249", "title": "Lambda expression to return a string from a 2D string array based on a test string", "body": "<p>You can use <code>Enumerable.Range()</code> to generate the sequence of integers you want to iterate over, and then build a Linq query over that:</p>\n\n<pre><code>var result = Enumerable.\n                .Range(0, testval.GetUpperBound(0)+1)\n                .Where(i =&gt; testval[i,0] == teststring)\n                .Select(i =&gt; testval[i,1])\n                .FirstOrDefault();\n</code></pre>\n\n<p>For using query syntax, or other approaches, look at <a href=\"https://stackoverflow.com/questions/18673822/how-to-search-in-2d-array-by-linq-version2\">this excellent answer</a>.</p>\n"}], "owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 36903249, "answer_count": 1, "score": 0, "last_activity_date": 1461807573, "creation_date": 1461795658, "last_edit_date": 1461807573, "question_id": 36901978, "link": "https://stackoverflow.com/questions/36901978/lambda-expression-to-return-a-string-from-a-2d-string-array-based-on-a-test-stri", "title": "Lambda expression to return a string from a 2D string array based on a test string", "body": "<p>I have the following code. I would like to replace the <code>for</code> loop to a lambda or LINQ expression to return my string.</p>\n\n<pre><code>string[,] testval = new string[3,2]\n\ntestval[0, 0] = \"0\"\ntestval[0, 1] = \"string A\"\ntestval[1, 0] = \"5\"\ntestval[1, 1] = \"string B\"\ntestval[2, 0] = \"13\"\ntestval[2, 1] = \"string C\"\n\nstring teststring = \"13\"\n\nfor (int i=0; i&lt;=testval.GetUpperBound(0);i++)\n{\n    if (testval[i,0] == teststring) { return testval[i,1]; }\n}\nreturn null;\n</code></pre>\n\n<p>I am new to lambda and LINQ expressions. Can somebody help me?</p>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 5003077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TR2YQ1jsTyo/AAAAAAAAAAI/AAAAAAAAABA/NhUe6-NWNEU/photo.jpg?sz=128", "display_name": "Tanya Petkova", "link": "https://stackoverflow.com/users/5003077/tanya-petkova"}, "is_accepted": false, "score": 1, "last_activity_date": 1461830426, "last_edit_date": 1495540122, "creation_date": 1461830426, "answer_id": 36908667, "question_id": 36901971, "link": "https://stackoverflow.com/questions/36901971/should-i-preload-navigation-properties-or-use-other-way-to-deal-with-them-in-ent/36908667#36908667", "title": "Should i preload navigation properties or use other way to deal with them in Entity Framework", "body": "<p>As long as you're using eager loading, you need to manually include all the needed nested navigation properties. But that costs the better preformance. </p>\n\n<p>So, if you have repetitive queries in diffrenet places in your code, which include the same navigational properties, you can facilitate your job by extracting them in extension method. Check the answer in <a href=\"https://stackoverflow.com/questions/14512285/entity-framework-is-there-a-way-to-automatically-eager-load-child-entities-wit\">Entity Framework - Is there a way to automatically eager-load child entities without Include()?</a>, which shows an appropriate example how to do that.</p>\n"}, {"tags": [], "owner": {"reputation": 1630, "user_id": 853710, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/cb3572fe50b880e06b9c25dfd90c931d?s=128&d=identicon&r=PG", "display_name": "user853710", "link": "https://stackoverflow.com/users/853710/user853710"}, "is_accepted": true, "score": 1, "last_activity_date": 1461830988, "creation_date": 1461830988, "answer_id": 36908840, "question_id": 36901971, "link": "https://stackoverflow.com/questions/36901971/should-i-preload-navigation-properties-or-use-other-way-to-deal-with-them-in-ent/36908840#36908840", "title": "Should i preload navigation properties or use other way to deal with them in Entity Framework", "body": "<p>As long as you have eager loading selected You have to manually include what you need. This is the price you pay for performance.</p>\n\n<p>I would approach this in a different way. I would create Views and stored procedure that would give me the desired data fields, and then use Automapper to transfer the values directly into DTO classes.</p>\n\n<p>This is usually what I do, and it pays off. I get the performance, but also keep everything very simple and maintainable.</p>\n"}], "owner": {"reputation": 632, "user_id": 2583946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4289bfc09dd284cbeafe9a8b26e9577?s=128&d=identicon&r=PG", "display_name": "Shoter", "link": "https://stackoverflow.com/users/2583946/shoter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36908840, "answer_count": 2, "score": 0, "last_activity_date": 1461830988, "creation_date": 1461795651, "question_id": 36901971, "link": "https://stackoverflow.com/questions/36901971/should-i-preload-navigation-properties-or-use-other-way-to-deal-with-them-in-ent", "title": "Should i preload navigation properties or use other way to deal with them in Entity Framework", "body": "<p>I am currently programming game which is using C# connected with Entity Framework.</p>\n\n<p>I have a lot of relationships with tables which are main models used in game. Because of that i have to use a lot of navigational properties of those models.</p>\n\n<p>When i create my viewModel i have code similar to this :</p>\n\n<pre><code>        Avatar = new ImageViewModel(company.Entity.ImgUrl);\n        CountryName = company.Region.Country.Entity.Name;\n        RegionName = company.Region.Name;\n        Name = company.Entity.Name;\n        Money = MoneyViewModel.GetMoney(company.Entity.Wallet);\n        OwnerName = company.Owner.Name;\n        OwnerID = company.OwnerID;\n</code></pre>\n\n<p>Naturally it ends up firing multiple queries when i want to access navigational proprties. </p>\n\n<p>I addressed this problem by using Include in my Controller before passing model to the view model constructor.\nthis is heavily consuming my time because in the end i need to recursively check which navigational properties are needed in my view models and include them manualy in first query.</p>\n\n<p>My question is : \nIs this code design apropriate? If not then what is correct approach to this kind of problem?</p>\n\n<p>Personally i feel that it will be cumbersome in long term.</p>\n"}, {"tags": ["c#", "asp.net-web-api2", "cachecow"], "answers": [{"tags": [], "owner": {"reputation": 2904, "user_id": 170346, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cOcxW.png?s=128&g=1", "display_name": "Hux", "link": "https://stackoverflow.com/users/170346/hux"}, "is_accepted": true, "score": 1, "last_activity_date": 1461838715, "last_edit_date": 1495535634, "creation_date": 1461838715, "answer_id": 36911699, "question_id": 36901906, "link": "https://stackoverflow.com/questions/36901906/cachecow-with-http-post-method/36911699#36911699", "title": "cachecow with http post method", "body": "<p>The caching of POSTs is generally not supported / a grey area at HTTP level.</p>\n\n<p>See this other SO question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/626057/is-it-possible-to-cache-post-methods-in-http\">Is it possible to cache POST methods in HTTP?</a></p>\n\n<p>I would change the method to a GET request if you need to support caching.</p>\n"}], "owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 36911699, "answer_count": 1, "score": 0, "last_activity_date": 1461838715, "creation_date": 1461795342, "question_id": 36901906, "link": "https://stackoverflow.com/questions/36901906/cachecow-with-http-post-method", "title": "cachecow with http post method", "body": "<p>I am thinking of adding cachecow to our production web api. All the examples I see are for GET requests. The endpoint I would like to cache is a POST request that takes a view model of many search filters. I can not seem to find the answer to my question - Will cachecow work for POST requests and cache results based on the search filters? If 30 different search filters come in will there be 30 cached results?</p>\n"}, {"tags": ["c#", "winforms", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 6242997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdc9eeafc75d8351cbcd54344b867bab?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Rivera", "link": "https://stackoverflow.com/users/6242997/sam-rivera"}, "is_accepted": false, "score": 0, "last_activity_date": 1461796552, "creation_date": 1461796552, "answer_id": 36902156, "question_id": 36901897, "link": "https://stackoverflow.com/questions/36901897/how-to-use-databindings-property-properly/36902156#36902156", "title": "How to use DataBindings property properly?", "body": "<pre><code>    int X = 50;\n\n    public Form1() {\n        InitializeComponent();\n        label1.Text = X.ToString();            \n    }\n\n    private void button1_Click(object sender, EventArgs e) {\n        X += 1;\n        label1.Text = X.ToString();\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5886083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8f9a869b09546f0732bb7e55821e7b3?s=128&d=identicon&r=PG&f=1", "display_name": "McLovin", "link": "https://stackoverflow.com/users/5886083/mclovin"}, "edited": false, "score": 0, "creation_date": 1461839186, "post_id": 36902198, "comment_id": 61386023, "body": "thanks. can i use this on a static class. and can i use variable instead of a property?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "reply_to_user": {"reputation": 31, "user_id": 5886083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8f9a869b09546f0732bb7e55821e7b3?s=128&d=identicon&r=PG&f=1", "display_name": "McLovin", "link": "https://stackoverflow.com/users/5886083/mclovin"}, "edited": false, "score": 0, "creation_date": 1461844298, "post_id": 36902198, "comment_id": 61389632, "body": "I don&#39;t see a way to use a static class. The data binding needs an object instance for the <code>Add()</code> method. you must use a property with <code>DataSourceUpdateMode.OnPropertyChanged</code>"}], "tags": [], "owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1461796793, "creation_date": 1461796793, "answer_id": 36902198, "question_id": 36901897, "link": "https://stackoverflow.com/questions/36901897/how-to-use-databindings-property-properly/36902198#36902198", "title": "How to use DataBindings property properly?", "body": "<p>You can put your data in another class that implements INotifyPropertyChanged so that the UI will be notified and updated:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    DataClass dc;\n    public Form1()\n    {\n        InitializeComponent();\n        dc = new DataClass();\n        label1.DataBindings.Add(\"Text\", dc, \"X\", true, DataSourceUpdateMode.OnPropertyChanged);\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        dc.X++;\n    }\n}\n\npublic class DataClass : INotifyPropertyChanged\n{\n    int x = 50;\n    public int X\n    {\n        get { return x; }\n        set\n        {\n            x = value;\n            NotifyPropertyChanged(\"X\");\n        }\n    }\n    public event PropertyChangedEventHandler PropertyChanged;\n    private void NotifyPropertyChanged(String info)\n    {\n        var handler = PropertyChanged;\n        if (handler != null)\n        {\n            handler(this, new PropertyChangedEventArgs(info));\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3364, "user_id": 6139255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H7gaC.jpg?s=128&g=1", "display_name": "Abdellah OUMGHAR", "link": "https://stackoverflow.com/users/6139255/abdellah-oumghar"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797076, "creation_date": 1461797076, "answer_id": 36902250, "question_id": 36901897, "link": "https://stackoverflow.com/questions/36901897/how-to-use-databindings-property-properly/36902250#36902250", "title": "How to use DataBindings property properly?", "body": "<p>Your Class Form must be implement the <code>INotifyPropertyChanged</code> interface, like this:</p>\n\n<pre><code>    public partial class Form1 : Form, INotifyPropertyChanged\n    {\n\n        int x = 50;\n        public int X\n        {\n            get { return x; }\n            set { x = value; OnPropertyChanged(\"X\"); }\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            label1.DataBindings.Add(\"Text\", this, \"X\", true, DataSourceUpdateMode.OnPropertyChanged);\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            X++;\n        }\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        protected virtual void OnPropertyChanged(string property)\n        {\n            if (PropertyChanged != null)\n                PropertyChanged(this, new PropertyChangedEventArgs(property));\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5886083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8f9a869b09546f0732bb7e55821e7b3?s=128&d=identicon&r=PG&f=1", "display_name": "McLovin", "link": "https://stackoverflow.com/users/5886083/mclovin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 36902198, "answer_count": 3, "score": 0, "last_activity_date": 1461797076, "creation_date": 1461795318, "question_id": 36901897, "link": "https://stackoverflow.com/questions/36901897/how-to-use-databindings-property-properly", "title": "How to use DataBindings property properly?", "body": "<p>I'm attempting to bind a windows form label to a variable. when i run that code lable1 was displayed as 50 but when i increment using button1 it doesn't change to 51. here is my attemp</p>\n\n<pre><code>    int x = 50;\n    public int X\n    {\n        get { return x; }\n        set { x = value; }\n    }\n    public Form1()\n    {\n        InitializeComponent();\n        label1.DataBindings.Add(\"Text\", this, \"X\", true, DataSourceUpdateMode.OnPropertyChanged);\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        X++;\n    }\n</code></pre>\n\n<p>TIA</p>\n"}, {"tags": ["c#", "msbuild", "visual-studio-2015", "vsto", "office-2016"], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 5196017, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ef8d2f1e733dded066def56ef4ea470c?s=128&d=identicon&r=PG&f=1", "display_name": "MBK", "link": "https://stackoverflow.com/users/5196017/mbk"}, "edited": false, "score": 0, "creation_date": 1461816029, "post_id": 36904764, "comment_id": 61373692, "body": "Thank you, Cece, for your response. I red Jens article and did what he advised but it did not work for me. What I did was <b>I run the Regedit on the TFS Build Server machine as the account that runs the build</b>. I deleted all keys and sub keys in the HKEY_CURRENT_USER\\Software\\Microsoft\\VSTO\\SolutionMetadata folder. Then, I run the build from Visual Studio and had the same error again. Any thoughts?"}], "tags": [], "owner": {"reputation": 25359, "user_id": 5425825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb2be754626c633f6062ef8b9b0952f?s=128&d=identicon&r=PG&f=1", "display_name": "Cece Dong - MSFT", "link": "https://stackoverflow.com/users/5425825/cece-dong-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1461814288, "creation_date": 1461814288, "answer_id": 36904764, "question_id": 36901882, "link": "https://stackoverflow.com/questions/36901882/the-setoffice2007addinregistration-task-failed-unexpectedly/36904764#36904764", "title": "The &quot;SetOffice2007AddInRegistration&quot; task failed unexpectedly", "body": "<p>This issue is not TFS related.</p>\n\n<p>But I found a solution from Jens at <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/e0e2df59-d510-420b-a168-36b3396a842a/vs2010-error-msb4018-the-setoffice2007addinregistration-task-failed-unexpectedly?forum=msbuild\" rel=\"nofollow\">this</a> website, which should help you:</p>\n\n<p>\"</p>\n\n<p>According to the MSDN Library <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.tools.office.buildtasks.setoffice2007addinregistration.aspx\" rel=\"nofollow\">SetOffice2007AddInRegistration</a>  \"Defines an MSBuild task that creates or removes registry keys that are needed to run or uninstall an add-in for the 2007 Microsoft Office system.\" So I checked the registry and figured out that the only entries that were still present were the ones under <strong><em>HKEY_CURRENT_USER\\Software\\Microsoft\\VSTO\\SolutionMetadata</em></strong> where VSTO caches metadata for solutions. I deleted all keys and subkeys (your existing solutions will still work, it's just cached metadata) and my solution compiled successfully.</p>\n\n<p>\"</p>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 5196017, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ef8d2f1e733dded066def56ef4ea470c?s=128&d=identicon&r=PG&f=1", "display_name": "MBK", "link": "https://stackoverflow.com/users/5196017/mbk"}, "is_accepted": false, "score": 1, "last_activity_date": 1464309966, "last_edit_date": 1464309966, "creation_date": 1464233993, "answer_id": 37451151, "question_id": 36901882, "link": "https://stackoverflow.com/questions/36901882/the-setoffice2007addinregistration-task-failed-unexpectedly/37451151#37451151", "title": "The &quot;SetOffice2007AddInRegistration&quot; task failed unexpectedly", "body": "<p>As I have spent significant chunk of my time trying to resolve this error and getting to nowhere, I would like to share my experience with other people. I have a suspicion that MSBuild has a bug when it is run for XAML build definitions of Office Addin projects.</p>\n\n<p>I created a brand new Word 2016 Addin project in Visual Studio 2015. No custom code. The project had only auto generated code. The Visual Studio built the project with no errors. I run the build with the MSBuild Diagnostic output Verbosity option selected. </p>\n\n<p>After that, I run the MSBuild program from the command line with the same parameters that TFS Build Server run the build. The only difference was the  the Diagnostic verbosity log option to create a detailed log. I compared two logs produced by Visual Studio and MSBuild. The MSBuild log indicated that workflow never got to the step of unregistering the Addin. Actually, it tried to register the Addin without unregistering. The Visual Studio log showed that the Visual Studio build unregistered the Addin and registered it after that successfully. </p>\n\n<p>Learning the TFS 2015 features, I found out about Agent Pool and Build Agents. I realized that instead of running MSBuild for XAML defined builds, the TFS 2015 Build Agents use Visual Studio to build the application. So, I set up the  Agent Pool and Build agent on my build server and, voila, the Addin was built successfully!</p>\n\n<p>The conclusion is if you have XAML defined build for your Addin project, do not use it in TFS 2015. Create a new TFS build definition using Agent Pool features provided in TFS 2015. This will guarantee that your build will be done on TFS build server exactly like on your PC in Visual Studio environment.</p>\n"}], "owner": {"reputation": 435, "user_id": 5196017, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ef8d2f1e733dded066def56ef4ea470c?s=128&d=identicon&r=PG&f=1", "display_name": "MBK", "link": "https://stackoverflow.com/users/5196017/mbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1471964609, "creation_date": 1461795257, "last_edit_date": 1462136486, "question_id": 36901882, "link": "https://stackoverflow.com/questions/36901882/the-setoffice2007addinregistration-task-failed-unexpectedly", "title": "The &quot;SetOffice2007AddInRegistration&quot; task failed unexpectedly", "body": "<p>I have created a new C# project using a <em>Word 2013 and 2016 VSTO Add-in</em> template in Visual Studio 2015. I have not done any changes to the auto-generated project code in order to see how it will be built on my TFS 2015 Build Server. The build produced the following error:</p>\n\n<blockquote>\n  <p>C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v14.0\\OfficeTools\\Microsoft.VisualStudio.Tools.Office.targets (315, 0)<br>\n  The \"SetOffice2007AddInRegistration\" task failed unexpectedly. \n  System.Runtime.InteropServices.COMException (0x800703F0): An attempt was made to reference a token that does not exist. (Exception from HRESULT: 0x800703F0) \n  at Microsoft.VisualStudio.Tools.Office.Runtime.Interop.VSTOEENativeMethods.GetVSTOEEHandle() \n  at Microsoft.VisualStudio.Tools.Office.Runtime.Interop.VSTOEENativeMethods.GetSolutionMetadata(String solutionInfoString) \n  at Microsoft.VisualStudio.Tools.Applications.OfficeSolutionMetadata..ctor(String manifestLocation) \n  at Microsoft.VisualStudio.Tools.Office.Runtime.AddInRegistryKeyManager.RegisterAddIn(Uri manifestUri, String addInName, String officeApplication, String friendlyName, String description, Int32 loadBehavior, String compatibleFrameworkXML, Boolean runLocal) \n  at Microsoft.VisualStudio.Tools.Office.BuildTasks.SetOffice2007AddInRegistration.Execute() \n  at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute() \n  at Microsoft.Build.BackEnd.TaskBuilder.d__26.MoveNext()</p>\n</blockquote>\n\n<p>The Build Service is run as a domain account which is an administrator of the Windows Server 2012 where the Build Service is installed. The Visual Studio 2015 and Office 2016 are installed on this Windows Server.</p>\n\n<p>When I build the project in Visual Studio 2015 on my local pc I have no errors at all.\nPlease, help if you experienced the same problem in your work. Thank you.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "html.dropdownlistfor"], "comments": [{"owner": {"reputation": 141, "user_id": 5637776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153730343109659/picture?type=large", "display_name": "Steve Botello", "link": "https://stackoverflow.com/users/5637776/steve-botello"}, "edited": false, "score": 1, "creation_date": 1461795764, "post_id": 36901688, "comment_id": 61368030, "body": "can we see your POST method?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1461801066, "post_id": 36901688, "comment_id": 61369683, "body": "How are you mapping your view model to the data model? How are you saving your data model? You need to show your POST method"}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1461804579, "post_id": 36901688, "comment_id": 61370574, "body": "Thanks, Steves. Apparently I wasn&#39;t paying attention to the POST method. I&#39;m super new to MVC! I&#39;ve posted an answer to my own question."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1461843330, "post_id": 36903341, "comment_id": 61388913, "body": "Remove the awful <code>BindAttribute</code> (you never need that when using a view model). And it needs to be <code>return View(evm);</code> if <code>ModelState</code> is not valid. And you need to reassign the view models <code>SelectList</code> property if you returned the view otherwise you would throw an exception"}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1461875460, "post_id": 36903341, "comment_id": 61410997, "body": "Thanks for the feedback, @StephenMuecke."}], "tags": [], "owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "is_accepted": false, "score": 0, "last_activity_date": 1461804515, "creation_date": 1461804515, "answer_id": 36903341, "question_id": 36901688, "link": "https://stackoverflow.com/questions/36901688/drop-down-list-value-doesnt-seem-to-make-it-into-the-database-for-mvc-5/36903341#36903341", "title": "Drop down list value doesn&#39;t seem to make it into the database for MVC 5", "body": "<p>Welp, looks like I'm so new to MVC 5 that I didn't realize that there's such thing as a post method. Here's what I changed it to to map the EmployeeViewModel back to Employee:</p>\n\n<pre><code>   // POST: Employees/Create\n    // To protect from overposting attacks, please enable the specific properties you want to bind to, for \n    // more details see http://go.microsoft.com/fwlink/?LinkId=317598.\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create([Bind(Include = \"Id,Name,CompanyId,InternalId\")] EmployeeViewModel evm)\n    {\n        var employee = new Employee { Name = evm.Name, CompanyId = evm.CompanyId, InternalId = evm.InternalId };\n        if (ModelState.IsValid)\n        {\n            db.Employees.Add(employee);\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        return View(employee);\n    }\n</code></pre>\n"}], "owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461804515, "creation_date": 1461794384, "question_id": 36901688, "link": "https://stackoverflow.com/questions/36901688/drop-down-list-value-doesnt-seem-to-make-it-into-the-database-for-mvc-5", "title": "Drop down list value doesn&#39;t seem to make it into the database for MVC 5", "body": "<p>I'm trying to create a drop down list that will let you specify which company an employee works for. Below is my EmployeeViewModel. CompanyId is a foreign-key constrained database field which links to the Company table. </p>\n\n<pre><code>public class EmployeeViewModel\n{\n    public EmployeeViewModel()\n    {\n\n    }\n\n    public EmployeeViewModel(Employee Employee, string CompanyName)\n    {\n        Initialize(Employee, CompanyName);   \n    }\n\n    public EmployeeViewModel(Employee Employee, CliFFEntities db)\n    {\n        Initialize(Employee, db.Companies.Find(Employee.CompanyId).Name);\n    }\n\n    private void Initialize(Employee employee, string CompanyName)\n    {\n        this.Id = employee.Id;\n        this.Name = employee.Name;\n        this.CompanyId = employee.CompanyId;\n        this.InternalId = employee.InternalId;\n        this.CompanyName = CompanyName;\n    }\n\n\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public Nullable&lt;int&gt; InternalId { get; set; }\n\n    [Display(Name = \"Company\")]\n    public int CompanyId { get; set; }\n\n    public String CompanyName { get; set; }\n\n    //public List&lt;Company&gt; CompanyList { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; CompanyList { get; set; } //to be set in controller on an as-needed basis\n}\n</code></pre>\n\n<p>Relevant part of the Employees controller:</p>\n\n<pre><code>    // GET: Employees/Create\n    public ActionResult Create()\n    {\n        var evm = new EmployeeViewModel();\n        evm.CompanyList = new SelectList(db.Companies, \"Id\", \"Name\");\n        return View(evm);\n    }\n</code></pre>\n\n<p>Relevant part of my create view:</p>\n\n<pre><code>    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(m =&gt; m.CompanyId)\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.DropDownListFor(m =&gt; m.CompanyId, Model.CompanyList)\n            @Html.ValidationMessageFor(m =&gt; m.CompanyId)\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>So all that seems to work fine. In fact, when I look at the post data it even sets the CompanyId to the correct value, corresponding to a company ID in the database. </p>\n\n<p>But if I enforce the foreign key on the database side, it throws an error because that CompanyId doesn't seem to make it into the Employee record. If I turn off the FK constraint, the CompanyId just shows up as a 0. </p>\n\n<p>What gives? </p>\n"}, {"tags": ["c#", "asp.net", "oauth-2.0", "youtube-api", "google-client-login"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5106103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MiaKXP18x1Y/AAAAAAAAAAI/AAAAAAAAAO0/NkRxIFrKSqk/photo.jpg?sz=128", "display_name": "andres felipe jaimes sanchez", "link": "https://stackoverflow.com/users/5106103/andres-felipe-jaimes-sanchez"}, "edited": false, "score": 0, "creation_date": 1461964100, "post_id": 36908021, "comment_id": 61453518, "body": "i have another question, how do you use that refresh token, do you have any examples? thank you"}, {"owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "reply_to_user": {"reputation": 65, "user_id": 5106103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MiaKXP18x1Y/AAAAAAAAAAI/AAAAAAAAAO0/NkRxIFrKSqk/photo.jpg?sz=128", "display_name": "andres felipe jaimes sanchez", "link": "https://stackoverflow.com/users/5106103/andres-felipe-jaimes-sanchez"}, "edited": false, "score": 0, "creation_date": 1461998336, "post_id": 36908021, "comment_id": 61461509, "body": "Depends on if you are using the client library or your own home grown code"}], "tags": [], "owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "is_accepted": true, "score": 3, "last_activity_date": 1461828366, "creation_date": 1461828366, "answer_id": 36908021, "question_id": 36901629, "link": "https://stackoverflow.com/questions/36901629/net-youtube-api-v3-upload-videos-to-an-specific-account/36908021#36908021", "title": ".net Youtube api v3 upload videos to an specific account", "body": "<p>The problem you are having is that when your client authenticates they are authenticating to their personal account.    You want to allow them to upload to your account.  To do that you are going to have to authenticate the application to your account save the refresh token and use that to allow them to upload to your account.   If this is a web application that shouldn't be to hard as you can save this refresh token on the server some place and use that to allow anyone to upload to your account. </p>\n\n<p>With any other API I would say to create a service account to allow people to upload to your account but unfortunately for us the YouTube API doesn't allow for service accounts nor does it allow you to grant someone else access to your account we have to hack it in this way. </p>\n\n<p>I hope this makes a little sense if not let me know and I will try and help.  This was a little long for a comment.   </p>\n"}], "owner": {"reputation": 65, "user_id": 5106103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MiaKXP18x1Y/AAAAAAAAAAI/AAAAAAAAAO0/NkRxIFrKSqk/photo.jpg?sz=128", "display_name": "andres felipe jaimes sanchez", "link": "https://stackoverflow.com/users/5106103/andres-felipe-jaimes-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 36908021, "answer_count": 1, "score": 2, "last_activity_date": 1461828366, "creation_date": 1461794138, "question_id": 36901629, "link": "https://stackoverflow.com/questions/36901629/net-youtube-api-v3-upload-videos-to-an-specific-account", "title": ".net Youtube api v3 upload videos to an specific account", "body": "<p>I have a web application in .NET with youtube api v2 that uploads my clients videos to my companny channel, I want to migrate the youtube api to v3 but the ClientLogin is deprecated, when a client try to upload a video with oauth 2.0 the video uploads in the channel of my client, not in the company channel, there is a way to upload videos in one specific channel like in youtube api v2?</p>\n"}, {"tags": ["c#", "sql", "sql-server", "performance"], "comments": [{"owner": {"reputation": 6432, "user_id": 33082, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Xil7X.jpg?s=128&g=1", "display_name": "Michael G", "link": "https://stackoverflow.com/users/33082/michael-g"}, "edited": false, "score": 0, "creation_date": 1461793957, "post_id": 36901539, "comment_id": 61367257, "body": "Provide the query / stored procedure that is used to return the data."}, {"owner": {"reputation": 1051, "user_id": 1614385, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X7082.png?s=128&g=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/1614385/ranger"}, "edited": false, "score": 0, "creation_date": 1461794052, "post_id": 36901539, "comment_id": 61367295, "body": "I had a very similar issue (raw SQL took 1/4 second, C# took 2-4 minutes) in a production database at my place of work. I troubleshot it with the DBA for several weeks hunting around the Internet for a solution and came up with nothing that worked, and I couldn&#39;t reproduce it in our dev and test databases. In the end we recreated the database and the issue vanished, and hasn&#39;t come back since. Never found out what the root cause was."}, {"owner": {"reputation": 3179, "user_id": 1442508, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/9hSC6.gif?s=128&g=1", "display_name": "BBauer42", "link": "https://stackoverflow.com/users/1442508/bbauer42"}, "edited": false, "score": 0, "creation_date": 1461794277, "post_id": 36901539, "comment_id": 61367401, "body": "Have you used the SQL profiler to see if its actually doing something unexpected?"}, {"owner": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "reply_to_user": {"reputation": 1051, "user_id": 1614385, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X7082.png?s=128&g=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/1614385/ranger"}, "edited": false, "score": 2, "creation_date": 1461794300, "post_id": 36901539, "comment_id": 61367412, "body": "@NexTerren, This is a very well known issue: <a href=\"http://www.sommarskog.se/query-plan-mysteries.html\" rel=\"nofollow noreferrer\">sommarskog.se/query-plan-mysteries.html</a> Most often you find this in databases which exist for years and where upgraded with scripts. Some defaults of older versions (e.g. SQL Server 2000) where never changed (therefore a newly created database can be a solution). There is no easy one-liner to solve this... Sometimes it helps to set <code>ARITHABORT ON</code>, sometimes a <code>WITH RECOMPILE</code> helps, read about parameter sniffing ..."}, {"owner": {"reputation": 1051, "user_id": 1614385, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/X7082.png?s=128&g=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/1614385/ranger"}, "reply_to_user": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 1, "creation_date": 1461796401, "post_id": 36901539, "comment_id": 61368280, "body": "@Shnugo We <i>did</i> try the ARITHABORT but not the RECOPILE. Glad to hear that there wasn&#39;t an easy one-liner fix and that (I guess) we ended up doing the right thing. Just wished we would have came to that earlier!"}, {"owner": {"reputation": 2093, "user_id": 99804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qRakj.jpg?s=128&g=1", "display_name": "bic", "link": "https://stackoverflow.com/users/99804/bic"}, "edited": false, "score": 0, "creation_date": 1461798026, "post_id": 36901539, "comment_id": 61368847, "body": "<a href=\"https://www.brentozar.com/archive/2013/06/the-elephant-and-the-mouse-or-parameter-sniffing-in-sql-server/\" rel=\"nofollow noreferrer\">brentozar.com/archive/2013/06/&hellip;</a>"}, {"owner": {"reputation": 2632, "user_id": 3950936, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100005285077246/picture?type=large", "display_name": "JC Borlagdan", "link": "https://stackoverflow.com/users/3950936/jc-borlagdan"}, "edited": false, "score": 0, "creation_date": 1461808483, "post_id": 36901539, "comment_id": 61371582, "body": "there&#39;s also faster way to do this, rather than using datatable, use datarow since there&#39;s a where clause, in your SELECT statement,.. Datatable creates a temporary table and then starts to check for the where clause before it returns a list, compared to datarow, it immediately creates a list of data that satisfies the where clause and returns the list.. and if it returns so many list, put your datarow inside a foreach so that it won&#39;t cause the app to crash"}], "answers": [{"tags": [], "owner": {"reputation": 2093, "user_id": 99804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qRakj.jpg?s=128&g=1", "display_name": "bic", "link": "https://stackoverflow.com/users/99804/bic"}, "is_accepted": false, "score": 1, "last_activity_date": 1461798642, "last_edit_date": 1495542708, "creation_date": 1461798642, "answer_id": 36902501, "question_id": 36901539, "link": "https://stackoverflow.com/questions/36901539/why-does-sql-procedure-takes-3secs-in-ssms-minutes-in-c/36902501#36902501", "title": "Why does SQL Procedure takes 3secs. in SSMS, minutes in C#", "body": "<p>Remove the parameter execution plans by mapping them to local variables.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/20699393/sql-server-parameter-sniffing\">SQL Server - parameter sniffing</a></p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 629019, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/befd546b719d0be7e961a9b18c8d1fb9?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/629019/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1461965468, "last_edit_date": 1495540353, "creation_date": 1461965468, "answer_id": 36947745, "question_id": 36901539, "link": "https://stackoverflow.com/questions/36901539/why-does-sql-procedure-takes-3secs-in-ssms-minutes-in-c/36947745#36947745", "title": "Why does SQL Procedure takes 3secs. in SSMS, minutes in C#", "body": "<p>Thanks for all the suggestions. <a href=\"https://stackoverflow.com/questions/9177343/fast-in-ssms-and-slow-in-the-application-why-does-it-take-this-dataset-so-long\">This</a> turned out to improve things. Query times reduced to an acceptable &lt; 5 secs.</p>\n\n<p>I added the lines below to the C# c ode just before the main query. The idea is to set the setting used by SSMS.</p>\n\n<pre><code>SqlCommand cmdOption1 = \n        new SqlCommand(\"SET TRANSACTION ISOLATION LEVEL READ COMMITTED\", conn);\nint rc = cmdOption1.ExecuteNonQuery();\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 629019, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/befd546b719d0be7e961a9b18c8d1fb9?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/629019/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461965468, "creation_date": 1461793729, "question_id": 36901539, "link": "https://stackoverflow.com/questions/36901539/why-does-sql-procedure-takes-3secs-in-ssms-minutes-in-c", "title": "Why does SQL Procedure takes 3secs. in SSMS, minutes in C#", "body": "<p>If I run a stored procedure in SSMS, it takes threee seconds. Calling the same procedure from C# takes minutes to return. I suspect that the longer execution times are the result of the number of rows returned. One parpameter case that does not return (in the time that I have been willing to wait) returns 38,000 rows. </p>\n\n<p>How do I speed up queries that return a lot of rows?</p>\n\n<p>Thanks.</p>\n\n<p>Here is the C#:</p>\n\n<pre><code>DataSet ds = new DataSet();\nDataTable dt = new DataTable();\nSqlCommand cmd = new SqlCommand(query, conn);\ncmd.CommandType = CommandType.StoredProcedure;\ncmd.CommandTimeout = 60000;\ncmd.Parameters.Add(\"@Family_Code\", SqlDbType.VarChar).Value = \"SPCF\";\nSqlDataReader dr = cmd.ExecuteReader();  // takes 'forever'\ndt.Load(dr);\nds.Tables.Add(dt);\n</code></pre>\n"}, {"tags": ["c#", "algorithm", "combinations"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 5, "creation_date": 1461793841, "post_id": 36901535, "comment_id": 61367203, "body": "Post what you&#39;ve tried, doesn&#39;t matter if it worked or not."}], "answers": [{"comments": [{"owner": {"reputation": 1107, "user_id": 583616, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/pQw45.jpg?s=128&g=1", "display_name": "Devology Ltd", "link": "https://stackoverflow.com/users/583616/devology-ltd"}, "edited": false, "score": 0, "creation_date": 1508148002, "post_id": 36901660, "comment_id": 80480431, "body": "Great answer @ArturoMenchaca - I&#39;m using this, but if I wanted all the combinations for &quot;1&quot; to be adjusted to &quot;I&quot; AND &quot;L&quot;, how is this best achieved? I did try adjusting your code to be a dictionary of &lt;char, char[]&gt; but then I started to wonder whether it&#39;s even possible, I then copy and pasted the code with the two variants, then merged the results together into a distinct set.  Just wondered how it <i>should</i> be done."}, {"owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "reply_to_user": {"reputation": 1107, "user_id": 583616, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/pQw45.jpg?s=128&g=1", "display_name": "Devology Ltd", "link": "https://stackoverflow.com/users/583616/devology-ltd"}, "edited": false, "score": 0, "creation_date": 1508165692, "post_id": 36901660, "comment_id": 80492082, "body": "@DevologyLtd: You can use a char[] as you said, then in the <code>if (replacements.ContainsKey...</code> statement add <code>foreach (var replace in replacements[original[index]])</code> before the recursive call, and replace in the call <code>current + replacements[original[index]]</code> with <code>current + replace</code>."}, {"owner": {"reputation": 1107, "user_id": 583616, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/pQw45.jpg?s=128&g=1", "display_name": "Devology Ltd", "link": "https://stackoverflow.com/users/583616/devology-ltd"}, "edited": false, "score": 0, "creation_date": 1521489960, "post_id": 36901660, "comment_id": 85743988, "body": "I can&#39;t wrap my head around doing the enumerators / return yield in Java.  I&#39;ve raised <a href=\"https://stackoverflow.com/questions/49371495/string-combinations-with-multi-character-replacement-yield-return-alternative-r\" title=\"string combinations with multi character replacement yield return alternative r\">stackoverflow.com/questions/49371495/&hellip;</a> and wondered whether you could help @ArturoMenchaca"}], "tags": [], "owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "is_accepted": false, "score": 2, "last_activity_date": 1461809073, "last_edit_date": 1461809073, "creation_date": 1461794302, "answer_id": 36901660, "question_id": 36901535, "link": "https://stackoverflow.com/questions/36901535/string-combinations-with-multi-character-replacement/36901660#36901660", "title": "String combinations with multi-character replacement", "body": "<p>You can do it using recursion, iterate for each character and call recursively using the original character and the replacement, something like this:</p>\n\n<pre><code>public static IEnumerable&lt;string&gt; Combinations(string s, Dictionary&lt;char, char&gt; replacements)\n{\n    return Combinations(s, replacements, 0, string.Empty);\n}\n\nprivate static IEnumerable&lt;string&gt; Combinations(string original, Dictionary&lt;char, char&gt; replacements, int index, string current)\n{\n    if (index == original.Length) yield return current;\n    else\n    {\n        foreach (var item in Combinations(original, replacements, index + 1, current + original[index]))\n            yield return item;\n\n        if (replacements.ContainsKey(original[index]))\n            foreach (var item in Combinations(original, replacements, index + 1, current + replacements[original[index]]))\n                yield return item;\n    }\n}\n</code></pre>\n\n<p>And call this methods like so:</p>\n\n<pre><code>Dictionary&lt;char, char&gt; dict = new Dictionary&lt;char,char&gt;();\ndict['1'] = 'I';\ndict['3'] = 'B';\ndict['A'] = 'H';\ndict['O'] = '0';\ndict['0'] = 'O';\n\nvar combs = Combinations(\"ABC123\", dict);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 0, "last_activity_date": 1461842340, "last_edit_date": 1495535291, "creation_date": 1461842340, "answer_id": 36913085, "question_id": 36901535, "link": "https://stackoverflow.com/questions/36901535/string-combinations-with-multi-character-replacement/36913085#36913085", "title": "String combinations with multi-character replacement", "body": "<p>It can easily be done by utilizing the algorithm from my answer to <a href=\"https://stackoverflow.com/questions/35493785/looking-at-each-combination-in-jagged-array\">Looking at each combination in jagged array</a>:</p>\n\n<pre><code>public static class Algorithms\n{\n    public static IEnumerable&lt;string&gt; GetCombinations(this char[][] input)\n    {\n        var result = new char[input.Length]; \n        var indices = new int[input.Length];\n        for (int pos = 0, index = 0; ;)\n        {\n            for (; pos &lt; input.Length; pos++, index = 0)\n            {\n                indices[pos] = index;\n                result[pos] = input[pos][index];\n            }\n            yield return new string(result);\n            do\n            {\n                if (pos == 0) yield break;\n                index = indices[--pos] + 1;\n            }\n            while (index &gt;= input[pos].Length);\n        }\n    }\n}\n</code></pre>\n\n<p>by adding the following method:</p>\n\n<pre><code>public static IEnumerable&lt;string&gt; GetCombinations(this string input, Dictionary&lt;char, char&gt; replacements)\n{\n    return input.Select(c =&gt;\n    {\n        char r;\n        return replacements.TryGetValue(c, out r) &amp;&amp; c != r ? new[] { c, r } : new[] { c };\n    }).ToArray().GetCombinations();\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>var replacements = new Dictionary&lt;char, char&gt; { { '1', 'I' }, { '3', '8' }, { 'A', 'H' }, { '0', 'O' }, { 'O', '0' } };\nvar test = \"ABC123\".GetCombinations(replacements);\nforeach (var comb in test) Console.WriteLine(comb);\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2142422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c8ba8c91977987a3bf65da5deb63f?s=128&d=identicon&r=PG", "display_name": "user2142422", "link": "https://stackoverflow.com/users/2142422/user2142422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461842340, "creation_date": 1461793708, "last_edit_date": 1495541770, "question_id": 36901535, "link": "https://stackoverflow.com/questions/36901535/string-combinations-with-multi-character-replacement", "title": "String combinations with multi-character replacement", "body": "<p>According to the entered license plate (eg. <code>ABC123</code>) and a list of replacement values (eg <code>1</code> replaced by <code>I</code>). I need to get all possibles combinations. </p>\n\n<p>For example:</p>\n\n<pre><code>1 =&gt; I\n3 =&gt; B\nA =&gt; H\n0 (zero) =&gt; O\nO =&gt; 0 (zero)\n</code></pre>\n\n<p>Input : </p>\n\n<blockquote>\n  <p>ABC123</p>\n</blockquote>\n\n<p>Expected output :</p>\n\n<blockquote>\n  <p>ABC123,\n      ABCI23,\n      ABCI28,\n      ABC128,\n      HBC123,\n      HBCI23,\n      HBCI28,\n      HBC128</p>\n</blockquote>\n\n<p>I tried with <a href=\"https://stackoverflow.com/questions/28819215/string-combinations-with-character-replacement\">String Combinations With Character Replacement</a>, but I can't...</p>\n"}, {"tags": ["c#", "dynamics-crm"], "comments": [{"owner": {"reputation": 3513, "user_id": 38425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8de088fad4ae8f38d8d02855029d27ef?s=128&d=identicon&r=PG", "display_name": "Polshgiant", "link": "https://stackoverflow.com/users/38425/polshgiant"}, "edited": false, "score": 0, "creation_date": 1461803790, "post_id": 36901500, "comment_id": 61370395, "body": "Not sure about that error, but try using <a href=\"https://msdn.microsoft.com/en-us/library/gg695810(v=crm.7).aspx\" rel=\"nofollow noreferrer\">CrmConnection</a> to connect instead."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 4684599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37ddab130904b54f1d390d04a89031d?s=128&d=identicon&r=PG&f=1", "display_name": "wildhawk", "link": "https://stackoverflow.com/users/4684599/wildhawk"}, "is_accepted": false, "score": 0, "last_activity_date": 1461826419, "creation_date": 1461826419, "answer_id": 36907347, "question_id": 36901500, "link": "https://stackoverflow.com/questions/36901500/dynamics-crm-2015-value-cannot-be-null-r-nparameter-name-detail/36907347#36907347", "title": "Dynamics Crm 2015: Value cannot be null.\\r\\nParameter name: detail", "body": "<p>this QueryExpression test is made to work like CRM 2016</p>\n\n<p>it's an example</p>\n\n<pre><code>ConditionExpression condicion1 = new ConditionExpression();\n            condicion1.AttributeName = \"name\";\n            condicion1.Operator = ConditionOperator.NotNull;\n\n            FilterExpression filtro = new FilterExpression();\n            filtro.Conditions.Add(condicion1);\n            filtro.FilterOperator = LogicalOperator.And;\n\n            QueryExpression consulta = new QueryExpression(\"account\");\n            consulta.Criteria.AddFilter(filtro);\n            consulta.ColumnSet = new ColumnSet(\"name\", \"telephone1\");\n\n            EntityCollection resultados = service.RetrieveMultiple(consulta);\n\n            foreach (Entity c in resultados.Entities)\n            {\n                Console.WriteLine(\"{0} | {1}\", c[\"name\"].ToString(), c[\"telephone1\"].ToString());\n            }\n            Console.Read();\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 4595226, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5a80bb6bcf40186897ecabac14a5b05d?s=128&d=identicon&r=PG&f=1", "display_name": "ashhad", "link": "https://stackoverflow.com/users/4595226/ashhad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461826419, "creation_date": 1461793570, "last_edit_date": 1495541770, "question_id": 36901500, "link": "https://stackoverflow.com/questions/36901500/dynamics-crm-2015-value-cannot-be-null-r-nparameter-name-detail", "title": "Dynamics Crm 2015: Value cannot be null.\\r\\nParameter name: detail", "body": "<p>I m trying to integrate Dynamics Crm 2015. With the help of this post, <a href=\"https://stackoverflow.com/questions/23212759/integration-to-microsoft-dynamic-crm-2011\">Integration to Microsoft Dynamic CRM 2011</a>, I have written this code:</p>\n\n<pre><code>Dictionary&lt;string, string&gt; parameters = GetCustomParameters(company.Id);\nUri uri = new Uri(parameters[\"serviceUrl\"]);\nvar username = parameters[\"username\"];\nvar password = parameters[\"password\"];\nvar entity = parameters[\"entity\"];\nClientCredentials credentials = new ClientCredentials();\ncredentials.UserName.UserName = username;\ncredentials.UserName.Password = password;\n\nOrganizationServiceProxy osproxy = new OrganizationServiceProxy(uri, null, credentials, null);\nIOrganizationService _services = (IOrganizationService)osproxy;\nQueryExpression query = new QueryExpression()\n{\n    EntityName = entity,\n    ColumnSet = new ColumnSet(\"firstname\", \"lastname\", \"emailaddress\")\n};\n\nEntityCollection retrieved = _services.RetrieveMultiple(query);\n</code></pre>\n\n<p>When I execute this, it prompts:</p>\n\n<blockquote>\n  <p>Value cannot be null.\\r\\nParameter name: detail</p>\n</blockquote>\n\n<p>Any help would be appreciated. I don't have any previous experiences with CRM integration.</p>\n"}, {"tags": ["c#", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 1470, "user_id": 350837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce835add1a3720cc09b9aec752bc00b?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/350837/scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1461793369, "last_edit_date": 1461793369, "creation_date": 1461792734, "answer_id": 36901309, "question_id": 36901248, "link": "https://stackoverflow.com/questions/36901248/signalr-with-symmetric-encryption/36901309#36901309", "title": "SignalR with symmetric encryption", "body": "<p>I don't think you have to have SignalR actually do anything with encrypt/decrypt. You could let the client handle encryption/decryption with plain text routing information that can get the encrypted payload to where it needs to go.</p>\n"}], "owner": {"reputation": 102855, "user_id": 5056, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/315b95cdcac83705c10ea14e239aeaf5?s=128&d=identicon&r=PG", "display_name": "George Mauer", "link": "https://stackoverflow.com/users/5056/george-mauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1515590359, "creation_date": 1461792479, "last_edit_date": 1461793187, "question_id": 36901248, "link": "https://stackoverflow.com/questions/36901248/signalr-with-symmetric-encryption", "title": "SignalR with symmetric encryption", "body": "<p>I have an application that is going to start an ad-hoc web server to serve a web application (available only via the local wifi network) with front end/backend communication via SignalR. This will be set up on random computers so SSL will not be available but both sides of the communication can easily share a password out-of-band.</p>\n\n<p>We cannot assume that there will not be malicious actors on the wifi network (in fact, this will be used in schools and I would hate for a smart kid to \"hack\" it with some very basic network snooping and get expelled).</p>\n\n<p>Without ssl, I would like to do is go old-school and have the person on each end input a passphrase, and then use that passphrase to encrypt all communication between the client and the server. I'm happy to use AES, or any established symmetric encryption algorithm. </p>\n\n<p>The issue that I'm having is that I have no clue how to plug that into SignalR. Specifically, given I have c#/javascript <code>encrypt(str, key)</code> and <code>decrypt(str, key)</code> functions - how do I tell SignalR to use these at both the client and the server endpoints to encrypt/decrypt messages?</p>\n\n<p>To clarify as there seems to be some confusion; sharing keys is not a problem in this case, integrating whatever encryption/decryption scheme I come up with into SignalR is.\nAny help is appreciated</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 429, "user_id": 3427749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b5c9bfd34f3b33b3bac52011713dca7c?s=128&d=identicon&r=PG&f=1", "display_name": "Versatile", "link": "https://stackoverflow.com/users/3427749/versatile"}, "edited": false, "score": 0, "creation_date": 1461792549, "post_id": 36901246, "comment_id": 61366596, "body": "What does inner exception say ?"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 3, "creation_date": 1461792756, "post_id": 36901246, "comment_id": 61366696, "body": "The response seems to have been successful and therefore there is no exception, in other words, it is null. What&#39;s the problem?"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "reply_to_user": {"reputation": 429, "user_id": 3427749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b5c9bfd34f3b33b3bac52011713dca7c?s=128&d=identicon&r=PG&f=1", "display_name": "Versatile", "link": "https://stackoverflow.com/users/3427749/versatile"}, "edited": false, "score": 0, "creation_date": 1461792765, "post_id": 36901246, "comment_id": 61366705, "body": "@Versatile added one more picture to my question."}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "reply_to_user": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1461792900, "post_id": 36901246, "comment_id": 61366758, "body": "@ManoDestra it is not always null, the exception is name of the field I am getting back from the webAPI, so it may return with some messages that I need to show. so I like to get access to the Value of exception, remoterefnumber,... I  can get access by jquery in my view but don&#39;t know how get the values in controller."}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1461793127, "post_id": 36901246, "comment_id": 61366858, "body": "Then grab the exception that occurs and put it in the response in whatever form you require."}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "reply_to_user": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1461793266, "post_id": 36901246, "comment_id": 61366932, "body": "@ManoDestra I changes the question to pick another field to prevent misunderstanding."}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461793305, "post_id": 36901246, "comment_id": 61366951, "body": "How I can get the access to the value something like. response.data[2]. ???"}], "answers": [{"comments": [{"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461794816, "post_id": 36901667, "comment_id": 61367644, "body": "I am not sure what should I use for (json) as I have response.data and data in object as well."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461794945, "post_id": 36901667, "comment_id": 61367694, "body": "@Alma well, what does  <code>response.Content.ReadAsStringAsync().Result</code> look like?"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461795294, "post_id": 36901667, "comment_id": 61367833, "body": "&quot;{\\&quot;exception\\&quot;:null,\\&quot;remoteRefNumber\\&quot;:\\&quot;testremref\\&quot;,\\&quot;us&zwnj;&#8203;erEmailAddress\\&quot;:\\&quot;t&zwnj;&#8203;est@yahoo.com\\&quot;}&quot;"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461795346, "post_id": 36901667, "comment_id": 61367859, "body": "@Alma okay, and specifically which of those values to you need?"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461795514, "post_id": 36901667, "comment_id": 61367951, "body": "I need exception and null, remoteRefNumber that is key and its value, pretty much I need all of the keys and their values."}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461795552, "post_id": 36901667, "comment_id": 61367960, "body": "but when I have this the userverify object is null ,    var json = response.Content.ReadAsStringAsync().Result;                      var userverify = new JavaScriptSerializer().Deserialize&lt;VerifyUser&gt;(json);"}, {"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461796047, "post_id": 36901667, "comment_id": 61368150, "body": "so instead of the class Key value I need to have a class with Exception and RemoteRefNumber and UserEmailAddress"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1461796202, "post_id": 36901667, "comment_id": 61368204, "body": "@Alma i just totally changed my answer"}], "tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1461796171, "last_edit_date": 1461796171, "creation_date": 1461794326, "answer_id": 36901667, "question_id": 36901246, "link": "https://stackoverflow.com/questions/36901246/get-value-from-json-format-object-in-c/36901667#36901667", "title": "Get value from json format object in C#", "body": "<p>after playing around in the debugger, I found that <code>DeserializeObject</code> returns a  <code>Dictionary&lt;string, object&gt;</code>, so you can cast your deserialized object to that, and it works</p>\n\n<pre><code>var json = \"{\\\"exception\\\":null,\\\"remoteRefNumber\\\":\\\"testremref\\\",\\\"userEmailAddress\\\":\\\"t\u200c\u200best@yahoo.com\\\"}\";\n\nDictionary&lt;string, object&gt; userObject = new JavaScriptSerializer().DeserializeObject(json) as Dictionary&lt;string, object&gt;; \n</code></pre>\n"}], "owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "closed_date": 1462463043, "accepted_answer_id": 36901667, "answer_count": 1, "score": -2, "last_activity_date": 1461796171, "creation_date": 1461792474, "last_edit_date": 1461793206, "question_id": 36901246, "link": "https://stackoverflow.com/questions/36901246/get-value-from-json-format-object-in-c", "closed_reason": "Needs details or clarity", "title": "Get value from json format object in C#", "body": "<p>I have a json format data back from calling a WebApi I would like to get access to the value of exception.</p>\n\n<p>This is the content of <code>response.data</code> :</p>\n\n<blockquote>\n  <p>Key: UserEmailAdress<br />\n  value:null</p>\n</blockquote>\n\n<p>How I can get the value of UserEmailAdress?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ey5vJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ey5vJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my method that returns the object I need to have some logic here depend on the value I am getting back in UserEmailAdress.</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;ActionResult&gt; Search(UserInfo userInfo)\n{\n    HttpClient client = new HttpClient();\n\n    object userObject = null;\n\n    if (userInfo.LastName != null &amp;&amp; userInfo.Zip != null &amp;&amp; userInfo.Ssn != null)\n    {\n\n        string accessKey = CreateAccountKey(userInfo.LastName, userInfo.Zip, userInfo.Ssn);\n\n        var response = await client.GetAsync(string.Format(\"{0}{1}/{2}\", baseUrl, \"/verifyuser\", accessKey));\n\n        if (response.IsSuccessStatusCode)\n        {\n            userObject = new JavaScriptSerializer().DeserializeObject(response.Content.ReadAsStringAsync().Result) as object;\n        }\n    }\n\n    var respone = new\n    {\n        success = userObject != null,\n        data = userObject\n    };\n    return Json(respone);\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "data-binding", "win-universal-app"], "comments": [{"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "edited": false, "score": 0, "creation_date": 1461798165, "post_id": 36901216, "comment_id": 61368887, "body": "What exactly is the problem? I don&#39;t even see a HubSection in your code."}, {"owner": {"reputation": 3205, "user_id": 1926806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/niiRQ.jpg?s=128&g=1", "display_name": "SWilko", "link": "https://stackoverflow.com/users/1926806/swilko"}, "edited": false, "score": 0, "creation_date": 1461826537, "post_id": 36901216, "comment_id": 61377823, "body": "please post the code with the hub section. You also need to put the <code>GridView</code>in a <code>Grid</code> within the <code>HubSection</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1461862542, "post_id": 36912363, "comment_id": 61403493, "body": "Thank you very much @Grace Feng for the comprehensive and useful answer!"}], "tags": [], "owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "is_accepted": true, "score": 1, "last_activity_date": 1461840359, "creation_date": 1461840359, "answer_id": 36912363, "question_id": 36901216, "link": "https://stackoverflow.com/questions/36901216/windows-uwp-how-to-wrap-gridview-inside-a-hubsection/36912363#36912363", "title": "Windows UWP - How to wrap GridView inside a HubSection", "body": "<blockquote>\n  <p>The HubSection complains that it can't have a GridView as a child.</p>\n</blockquote>\n\n<p>For this problem, you can refer to <a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(Windows.UI.Xaml.Controls.HubSection);k(VS.XamlEditor);k(TargetFrameworkMoniker-.NETCore,Version%3Dv5.0)&amp;rd=true\" rel=\"nofollow\">HubSection class</a>. For a hub section, we don't add content directly to it, we define the content of the <code>HubSection</code> in a <code>DataTemplate</code>.</p>\n\n<p>So for your problem, you can do it like this:</p>\n\n<pre><code>&lt;Page.DataContext&gt;\n    &lt;local:RecordingViewModel x:Name=\"vm\" /&gt;\n&lt;/Page.DataContext&gt;\n\n&lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n    &lt;Hub&gt;\n        &lt;HubSection x:Name=\"section1\" Width=\"600\"&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;GridView ItemsSource=\"{Binding recordings}\"  Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\" x:Name=\"RecordingGrid\"&gt;\n                        &lt;GridView.ItemTemplate&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;StackPanel&gt;\n                                    &lt;Image Source=\"{Binding ImageUri, Mode=TwoWay}\" Height=\"100\" Opacity=\"1\" Stretch=\"Uniform\" /&gt;\n                                    &lt;TextBlock Text=\"{Binding ArtistName}\" /&gt;\n                                    &lt;TextBlock Text=\"{Binding CompositionName}\" /&gt;\n                                    &lt;TextBlock Text=\"{Binding ReleaseDateTime}\" /&gt;\n                                &lt;/StackPanel&gt;\n                            &lt;/DataTemplate&gt;\n                        &lt;/GridView.ItemTemplate&gt;\n                    &lt;/GridView&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/HubSection&gt;\n    &lt;/Hub&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>When you do this(adding the DataContext in Xaml), there is no need to add any code in the MainPage.cs file:</p>\n\n<pre><code>//private List&lt;Recording&gt; recordings;\n\npublic MainPage()\n{\n    this.InitializeComponent();\n    //recordings = new RecordingViewModel().RecordingList;\n}\n</code></pre>\n\n<p>And you will need to change your <code>RecordingViewModel</code> class like this:</p>\n\n<pre><code>public class RecordingViewModel\n{\n    public List&lt;Recording&gt; recordings\n    {\n        get; set;\n    }\n\n    public RecordingViewModel()\n    {\n        recordings = new List&lt;Recording&gt;();\n        recordings.Add(new Recording(\"Wolfgang Amadeus Mozart\", \"Andante in C for Piano\", new DateTime(1761, 1, 1), \"http://csimg.koopkeus.nl/srv/NL/29023839m56849/T/340x340/C/FFFFFF/url/mozart.jpg\"));\n        recordings.Add(new Recording(\"Nickleback\", \"Gotta be Somebody\", new DateTime(2003, 8, 21), \"http://images4.fanpop.com/image/photos/16500000/n-nickelback-16579001-634-634.jpg\"));\n    }\n\n    public List&lt;Recording&gt; RecordingList { get { return this.recordings; } }\n}\n</code></pre>\n\n<p>As you know, if you want to use {x:Bind} in a <code>DataTemplate</code>, you should define the <code>x:DataType</code> for binding, because the value of the Path of {x:Bind} is not interpreted in the context of the page, but in the context of the data object being templated. </p>\n\n<p>As we can see here, the <code>GridView</code> is inside a <code>DataTemplate</code> already, since there is only a datacontext(your RecordingViewModel), but no data model for this <code>DataTemplate</code>, we can not use {x:Bind} here for the <code>ItemSource</code> of <code>GridView</code> inside of it. But we can use {x:Bind} for the controls inside the <code>DataTemplate</code> of the <code>GridView</code>, for example like this:</p>\n\n<pre><code>&lt;Page.Resources&gt;\n    &lt;DataTemplate x:DataType=\"local:Recording\" x:Key=\"recordingitem\"&gt;\n        &lt;StackPanel&gt;\n            &lt;Image Source=\"{Binding ImageUri, Mode=TwoWay}\" Height=\"100\" Opacity=\"1\" Stretch=\"Uniform\" /&gt;\n            &lt;TextBlock Text=\"{x:Bind ArtistName}\" /&gt;\n            &lt;TextBlock Text=\"{x:Bind CompositionName}\" /&gt;\n            &lt;TextBlock Text=\"{x:Bind ReleaseDateTime}\" /&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n&lt;/Page.Resources&gt;\n&lt;Page.DataContext&gt;\n    &lt;local:RecordingViewModel x:Name=\"vm\" /&gt;\n&lt;/Page.DataContext&gt;\n\n&lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n    &lt;Hub&gt;\n        &lt;HubSection x:Name=\"section1\" Width=\"600\"&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;GridView ItemsSource=\"{Binding recordings}\" ItemTemplate=\"{StaticResource recordingitem}\"  Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\" x:Name=\"RecordingGrid\"&gt;\n                    &lt;/GridView&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/HubSection&gt;\n    &lt;/Hub&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>And the code behind is the same as {Binding} method in the upper.</p>\n"}], "owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 1, "accepted_answer_id": 36912363, "answer_count": 1, "score": 0, "last_activity_date": 1461862618, "creation_date": 1461792367, "last_edit_date": 1461862618, "question_id": 36901216, "link": "https://stackoverflow.com/questions/36901216/windows-uwp-how-to-wrap-gridview-inside-a-hubsection", "title": "Windows UWP - How to wrap GridView inside a HubSection", "body": "<p>I have an example of a working <code>GridView</code> and can't seem to have any luck moving it to work inside a <code>HubSection</code>. My real app needs to do this and this example is my mule to understand how the databinding needs to work.</p>\n\n<p>The <code>HubSection</code> complains that it can't have a <code>GridView</code> as a child.</p>\n\n<p>My current model code looks like this:</p>\n\n<pre><code>namespace Quickstart {\n  public class Recording {\n    public string ArtistName { get; set; }\n    public string CompositionName { get; set; }\n    public DateTime ReleaseDateTime { get; set; }\n    public Uri ImageUri { get; set; }\n\n    public Recording(string name, string composition, DateTime when, string prefixedFilename)\n    {\n        this.ArtistName = name;\n        this.CompositionName = composition;\n        this.ReleaseDateTime = when;\n     //   string prefixedFilename = \"ms-appx://Quickstart/Assets/\" + filename;\n        ImageUri = new Uri(prefixedFilename);\n    }\n\n    public string OneLineSummary {\n        get\n        {\n            return $\"{this.CompositionName} by {this.ArtistName}, released: \"\n                + this.ReleaseDateTime.ToString(\"d\");\n        }\n    }\n  }\n\n  public class RecordingViewModel {\n    List&lt;Recording&gt; recordings;\n\n    public RecordingViewModel()\n    {\n        recordings = new List&lt;Quickstart.Recording&gt;();\n        recordings.Add(new Recording(\"Wolfgang Amadeus Mozart\", \"Andante in C for Piano\", new DateTime(1761, 1, 1), \"http://csimg.koopkeus.nl/srv/NL/29023839m56849/T/340x340/C/FFFFFF/url/mozart.jpg\"));\n        recordings.Add(new Recording(\"Nickleback\", \"Gotta be Somebody\", new DateTime(2003, 8, 21), \"http://images4.fanpop.com/image/photos/16500000/n-nickelback-16579001-634-634.jpg\"));\n    }\n\n    public List&lt;Recording&gt; RecordingList { get { return this.recordings; } }\n  }\n\n}\n</code></pre>\n\n<p>and the xaml:</p>\n\n<pre><code>&lt;Page\nx:Class=\"Quickstart.MainPage\"\nxmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\nxmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\nxmlns:local=\"using:Quickstart\"\nxmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\nxmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\nmc:Ignorable=\"d\"&gt;\n&lt;GridView ItemsSource=\"{x:Bind recordings}\" Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\" x:Name=\"RecordingGrid\"&gt;\n  &lt;GridView.ItemTemplate&gt;\n        &lt;DataTemplate x:DataType=\"local:Recording\"&gt;\n            &lt;StackPanel&gt;\n                &lt;Image Source=\"{Binding ImageUri, Mode=TwoWay}\" Height=\"100\" Opacity=\"1\" Stretch=\"Uniform\"/&gt;\n                &lt;TextBlock Text=\"{x:Bind ArtistName}\"/&gt;\n                &lt;TextBlock Text=\"{x:Bind CompositionName}\"/&gt;\n                &lt;TextBlock Text=\"{x:Bind ReleaseDateTime}\"/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/GridView.ItemTemplate&gt;\n  &lt;/GridView&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p>finally the xaml.cs:</p>\n\n<pre><code>namespace Quickstart {\n  public sealed partial class MainPage : Page {\n    List&lt;Recording&gt; recordings;\n    public MainPage() {\n        this.InitializeComponent();\n        recordings = new RecordingViewModel().RecordingList;\n    }\n  }\n}\n</code></pre>\n\n<p>As you can see, it's about as simple as it gets! Thanks for you time!</p>\n"}, {"tags": ["c#", "winforms", "entity-framework-6"], "comments": [{"owner": {"reputation": 177, "user_id": 6206185, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/5cb0dc8beccf652bc29bf39949b9b2c8?s=128&d=identicon&r=PG&f=1", "display_name": "maran", "link": "https://stackoverflow.com/users/6206185/maran"}, "edited": false, "score": 0, "creation_date": 1461792197, "post_id": 36901155, "comment_id": 61366428, "body": "[3]: <a href=\"http://i.stack.imgur.com/wOZcT.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/wOZcT.jpg</a>   [4]: <a href=\"http://i.stack.imgur.com/VEwSn.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/VEwSn.jpg</a>   [5]: <a href=\"http://i.stack.imgur.com/S2ZQo.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/S2ZQo.jpg</a>   [6]: <a href=\"http://i.stack.imgur.com/3pxLL.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/3pxLL.jpg</a>"}], "answers": [{"tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1461792882, "creation_date": 1461792882, "answer_id": 36901345, "question_id": 36901155, "link": "https://stackoverflow.com/questions/36901155/how-to-refresh-entity-framework-context-upon-closing-form-and-returning-to-maste/36901345#36901345", "title": "How to refresh entity framework context upon closing form and returning to master form", "body": "<p>Your code is a bit hard to read, partly because I suspect that It's not in English, but here are a few observations:</p>\n\n<p>I'm assuming that <code>masterEntities</code> is derived from <code>DbContext</code>.  <code>DbContext</code>s should be transient, and only last for the lifetime of a request.  They shouldn't be around for a very long time.  One of the reasons why we keep them transient, is because they do a bunch of caching, and problems caching can cause symptoms like what you're experiencing.</p>\n\n<p>Try instantiating a new <code>masterEntities</code> right before you query it</p>\n\n<pre><code>var db = new masterEntities();\npredmetBindingSource.DataSource = await db.Predmets.AsNoTracking().ToListAsync();\n</code></pre>\n\n<p>if that doesn't work, use <a href=\"http://www.codeproject.com/Articles/79508/Mastering-Debugging-in-Visual-Studio-A-Beginn\" rel=\"nofollow\">The debugger</a> to check and see whether or not it's actually a dbContext-related issue.  Make a breakpoint after the line that sets <code>predmetBindingSource.DataSource</code>, and make sure that it's actually been set.</p>\n"}], "owner": {"reputation": 177, "user_id": 6206185, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/5cb0dc8beccf652bc29bf39949b9b2c8?s=128&d=identicon&r=PG&f=1", "display_name": "maran", "link": "https://stackoverflow.com/users/6206185/maran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461792882, "creation_date": 1461792192, "question_id": 36901155, "link": "https://stackoverflow.com/questions/36901155/how-to-refresh-entity-framework-context-upon-closing-form-and-returning-to-maste", "title": "How to refresh entity framework context upon closing form and returning to master form", "body": "<p><strong>My problem:</strong></p>\n\n<p>I'm trying to make master-detail form. With f5 key when in edit mode in my main form I call Zoom() and open a new form where I can add some more stuff related to what my main form datagrid is showing.</p>\n\n<p>When I add some more stuff or delete and save, and close that form and return to my main form. It won't note the changes in that main form. If I close and reopen my main form it will show changes.</p>\n\n<p>Here as an example I deleted g2 and saved, when I return to my main form and try to edit existing item, or even add new item it will still show g2 as existing. However if I open again my second form with f5 I can clearly see that record doesn't exist actually. If I close and reopen my main form the changes will be shown.</p>\n\n<p><a href=\"http://i.stack.imgur.com/jEyRH.jpg\" rel=\"nofollow\">Main form edit mode - pressing f5 from here will cause Zoom() to be called</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/cpjYx.jpg\" rel=\"nofollow\">My second form and items in it</a></p>\n\n<p>[Deleted g2 and saved][3]</p>\n\n<p>[g2 is still in main form][4]</p>\n\n<p>[even if i cancel/save and try to add new item][5]</p>\n\n<p>[Upon close and open changes are made][6]</p>\n\n<p>Other links in comments</p>\n\n<p><strong>So far I have tried:</strong></p>\n\n<p>Immediately after calling of new form </p>\n\n<p>master.Entry(a).reload,</p>\n\n<p>masterEntities master = new masterEntities(),</p>\n\n<p>resseting the datasource of bindingsource predmetbindingsource.datasource = master.predmets.AsNoTracking().ToListAsync();</p>\n\n<p>and .resetcurrentitem()</p>\n\n<p><strong>Some code:</strong></p>\n\n<p><strong>Main form:</strong></p>\n\n<pre><code>private async void Zoom()\n    {\n        if (nastavniPlanProgramsDataGridView.SelectedCells.Count == 1 &amp;&amp; nastavniPlanProgramsDataGridView.SelectedCells[0].ColumnIndex == 0)\n            {\n                NastavniPlanProgramForm f2 = new NastavniPlanProgramForm();\n\n                if (f2.ShowDialog() == DialogResult.OK)\n                {\n\n\n                    predmetBindingSource.DataSource = await master.Predmets.AsNoTracking().ToListAsync();\n\n                    Predmet a = (Predmet)f2.Selected;\n                    NastavniPlanProgram s = (NastavniPlanProgram)nastavniPlanProgramsBindingSource.Current;\n                    s.idPredmet = a.idPredmet;\n\n                }\n\n            }\n        }\n</code></pre>\n\n<p>Entity that which I'm changing is called Predmet, it's bindingsource is predmetbindingsource, and my context is called master and is initialized globally on beggining of my main form: </p>\n\n<pre><code> public partial class Studijski_program : Form\n{\n\n    masterEntities master = new masterEntities();\n\n\n    public Studijski_program()\n    {         \n        InitializeComponent();\n</code></pre>\n\n<p>//blablabla..</p>\n\n<p>In that other form upon closing i'm just doing context.dispose()</p>\n"}, {"tags": ["c#", "json", "serialization", "jil"], "comments": [{"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "edited": false, "score": 0, "creation_date": 1461792329, "post_id": 36901145, "comment_id": 61366485, "body": "I am using version 2.12.1 of the Jil nuget package."}, {"owner": {"reputation": 21030, "user_id": 80572, "user_type": "moderator", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c0f8a17fe71547f718e013591008017?s=128&d=identicon&r=PG", "display_name": "Kevin Montrose", "link": "https://stackoverflow.com/users/80572/kevin-montrose"}, "edited": false, "score": 1, "creation_date": 1461863606, "post_id": 36901145, "comment_id": 61404144, "body": "What is type definition of <code>LogLevel</code>?  Also, what is Exception set to (that is, what is the type of the Exception)?"}, {"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "reply_to_user": {"reputation": 21030, "user_id": 80572, "user_type": "moderator", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c0f8a17fe71547f718e013591008017?s=128&d=identicon&r=PG", "display_name": "Kevin Montrose", "link": "https://stackoverflow.com/users/80572/kevin-montrose"}, "edited": false, "score": 0, "creation_date": 1461867743, "post_id": 36901145, "comment_id": 61406659, "body": "LogLevel is an enum.  I know that it happened on a NullReferenceException and it also happened on an InvalidOperationException.  I&#39;m not sure if it happened on any other type of exception."}, {"owner": {"reputation": 21030, "user_id": 80572, "user_type": "moderator", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c0f8a17fe71547f718e013591008017?s=128&d=identicon&r=PG", "display_name": "Kevin Montrose", "link": "https://stackoverflow.com/users/80572/kevin-montrose"}, "edited": false, "score": 0, "creation_date": 1461872288, "post_id": 36901145, "comment_id": 61409313, "body": "Alright, got a repro - looking into it."}], "answers": [{"comments": [{"owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "edited": false, "score": 0, "creation_date": 1461893820, "post_id": 36924994, "comment_id": 61416923, "body": "Thanks Kevin, I really appreciate it and thanks for all the work you have done on Jil!"}], "tags": [], "owner": {"reputation": 21030, "user_id": 80572, "user_type": "moderator", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c0f8a17fe71547f718e013591008017?s=128&d=identicon&r=PG", "display_name": "Kevin Montrose", "link": "https://stackoverflow.com/users/80572/kevin-montrose"}, "is_accepted": true, "score": 3, "last_activity_date": 1461875777, "creation_date": 1461875777, "answer_id": 36924994, "question_id": 36901145, "link": "https://stackoverflow.com/questions/36901145/jil-serializer-method-may-only-be-called-on-a-type-for-which-type-isgenericparam/36924994#36924994", "title": "Jil Serializer Method may only be called on a Type for which Type.IsGenericParameter is true", "body": "<p>The fundamental problem here is that <code>System.Exception</code> isn't meant to be serialized.  It contains all sorts of \"can only work on this machine\" information.</p>\n\n<p>Normally Jil would ignore a lot of that, but your <code>Options</code> are telling it to <code>includeInherited</code> which means it's getting ahold of everything that's public on <code>System.Exception</code>.  This includes things like <code>System.RuntimeTypeHandle</code> and <code>System.RuntimeType</code>.</p>\n\n<p>Jil should't explode in such an unhelpful way (I'm making a note to go and figure out how to detect these cases and better report them), but those sorts of types can't be serialized or deserialized sensibly.  I'd suggest copying the parts of Exception you care about onto a saner POCO.</p>\n\n<p>You probably also either way to call <code>SerializeDynamic</code> or make <code>Serialize</code> generic - Jil's treats <code>Serialize(object)</code> as mostly equivalent to <code>SerializeDynamic</code>, might as well be explicit.</p>\n"}], "owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1393, "favorite_count": 0, "accepted_answer_id": 36924994, "answer_count": 1, "score": 1, "last_activity_date": 1461875777, "creation_date": 1461792127, "question_id": 36901145, "link": "https://stackoverflow.com/questions/36901145/jil-serializer-method-may-only-be-called-on-a-type-for-which-type-isgenericparam", "title": "Jil Serializer Method may only be called on a Type for which Type.IsGenericParameter is true", "body": "<p>I have a custom log message object that I am trying to serialize with Jil to JSON format.  This is the first time I have used Jil instead of the default JSON.Net serializer so I am not very familiar with it.</p>\n\n<p>One of the properties on the log message object is an Exception.  When the Exception property is null, Jil serializes the object without a problem.  However, if the Exception object is populated with an actual exception, I get an error from Jil of Type System.InvalidOperationException.</p>\n\n<blockquote>\n  <p>Message: Method may only be called on a Type for which Type.IsGenericParameter is true.</p>\n  \n  <p>StackTrace: at System.RuntimeType.get_GenericParameterPosition()    at\n  _DynamicMethod43(TextWriter , RuntimeType , Int32 )    at Jil.SerializeDynamic.DynamicSerializer.SerializeSemiStatically(MemberInfo\n  dynamicMember, TextWriter stream, Object val, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  237    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeInternal(MemberInfo\n  dynamicMember, TextWriter stream, Object obj, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  836    at Jil.SerializeDynamic.DynamicSerializer.Serialize(TextWriter\n  stream, Object obj, Options opts, Int32 depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  746    at _DynamicMethod40(TextWriter , RuntimeMethodInfo , Int32 )<br>\n  at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeSemiStatically(MemberInfo\n  dynamicMember, TextWriter stream, Object val, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  237    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeInternal(MemberInfo\n  dynamicMember, TextWriter stream, Object obj, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  836    at Jil.SerializeDynamic.DynamicSerializer.Serialize(TextWriter\n  stream, Object obj, Options opts, Int32 depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  746    at _DynamicMethod23(TextWriter , OperationCanceledException ,\n  Int32 )    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeSemiStatically(MemberInfo\n  dynamicMember, TextWriter stream, Object val, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  237    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeInternal(MemberInfo\n  dynamicMember, TextWriter stream, Object obj, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  836    at Jil.SerializeDynamic.DynamicSerializer.Serialize(TextWriter\n  stream, Object obj, Options opts, Int32 depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  746    at _DynamicMethod4(TextWriter , LogMessage , Int32 )    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeSemiStatically(MemberInfo\n  dynamicMember, TextWriter stream, Object val, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  237    at\n  Jil.SerializeDynamic.DynamicSerializer.SerializeInternal(MemberInfo\n  dynamicMember, TextWriter stream, Object obj, Options opts, Int32\n  depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  836    at Jil.SerializeDynamic.DynamicSerializer.Serialize(TextWriter\n  stream, Object obj, Options opts, Int32 depth) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\SerializeDynamic\\DynamicSerializer.cs:line\n  746    at Jil.JSON.SerializeDynamic(Object data, TextWriter output,\n  Options options) in c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\JSON.cs:line 64\n  at Jil.JSON.SerializeDynamic(Object data, Options options) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\JSON.cs:line 84    at\n  Jil.JSON.Serialize[T](T data, Options options) in\n  c:\\Users\\kevin_000\\Dropbox\\jil\\Jil\\JSON.cs:line 4584    at\n  StackExchange.Redis.Extensions.Jil.JilSerializer.Serialize(Object\n  item)    at\n  StackExchange.Redis.Extensions.Jil.JilSerializer.&lt;>c__DisplayClass4_0.b__0()\n  at System.Threading.Tasks.Task`1.InnerInvoke()    at\n  System.Threading.Tasks.Task.Execute()</p>\n</blockquote>\n\n<p>I am using the following Jil Serialization options:</p>\n\n<pre><code>new Jil.Options(false, true, false, DateTimeFormat.ISO8601, true, UnspecifiedDateTimeKindBehavior.IsUTC, SerializationNameFormat.CamelCase);\n</code></pre>\n\n<p>The method I am using to call Jil is:</p>\n\n<pre><code>public byte[] Serialize(object item)\n{\n    var jsonString = JSON.Serialize(item);\n    return encoding.GetBytes(jsonString);\n}\n</code></pre>\n\n<p>The full object that I am trying to serialize is:</p>\n\n<pre><code>public class LogMessage\n{\npublic LogMessage()\n{\n    CreatedDate = DateTime.UtcNow;\n}\n\npublic LogLevel LogLevel { get; set; }\npublic string Message { get; set; }\npublic DateTime CreatedDate { get; private set; }\npublic string AccessToken { get; set; }\npublic long? ParticipantId { get; set; }\npublic string UserName { get; set; }\npublic bool IsAuthenticated { get; set; }\npublic string Url { get; set; }\npublic Exception Exception { get; set; }\npublic string StackTrace { get; set; }\npublic string Details { get; set; }\npublic string ClientIpAddress { get; set; }\npublic string EntryApplication { get; set; }\npublic string AuthenticationMethod { get; set; }\npublic string AuthenticationClientId { get; set; }\npublic string LoggingApplication { get; set; }\n\n[Description(\"This is the combination of ClassName - MethodeName\")]\npublic string MethodName { get; set; }\npublic Dictionary&lt;string, string[]&gt; Headers { get; set; }\npublic string HttpVerb { get; set; }\npublic string TransactionId { get; set; }\npublic int? HttpResponseStatusCode { get; set; }\n}\n</code></pre>\n\n<p>Any help in fixing this issue would be greatly appreciated.  What do I need to do in order to serialize an Exception object with Jil?</p>\n"}, {"tags": ["c#", "win-universal-app", "frame", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 3486, "user_id": 2520974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZWjmA.jpg?s=128&g=1", "display_name": "Stamos", "link": "https://stackoverflow.com/users/2520974/stamos"}, "is_accepted": false, "score": 0, "last_activity_date": 1461855183, "creation_date": 1461855183, "answer_id": 36918288, "question_id": 36901122, "link": "https://stackoverflow.com/questions/36901122/make-global-commandbar-back-for-a-frame-on-page/36918288#36918288", "title": "Make Global Commandbar Back For A Frame On Page", "body": "<p>Can you actually go back???</p>\n\n<p>Try navigating to one or more pages and then try going back. Here is a test code. Call the <code>MyFrameGoBackTest()</code> on the welcomepage constructor.</p>\n\n<pre><code>    public async void MyFrameGoBackTest()\n    {\n\n        MyFrame.Navigate(typeof(SomePage));\n        await Task.Delay(5000);//5 sec\n        MyFrame.Navigate(typeof(SomePage));\n        await Task.Delay(5000);//5 sec\n        //add a breakpoint and check the CanGoBack\n        if (MyFrame.CanGoBack)\n        {\n            MyFrame.GoBack();\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 982, "user_id": 6228499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enFEb.jpg?s=128&g=1", "display_name": "Jerry Li", "link": "https://stackoverflow.com/users/6228499/jerry-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1461918214, "creation_date": 1461918214, "answer_id": 36933255, "question_id": 36901122, "link": "https://stackoverflow.com/questions/36901122/make-global-commandbar-back-for-a-frame-on-page/36933255#36933255", "title": "Make Global Commandbar Back For A Frame On Page", "body": "<blockquote>\n  <p>I just want the back and forward button to navigate back and forward inside my frame.<br>\n  Instead of the normal Frame.GoBack() i've tried MyFrame.GoBack() It recognize MyFrame but it doesnt do anything....</p>\n</blockquote>\n\n<p>GoBack() and GoForward() works only when there is at least one entry in back/forward <strong>navigation history</strong>. So use your frame to navigate to other pages first, and then use GoBack() or GoForward() to move back or forward.</p>\n\n<p>According to your description, I have made a <strong>sample</strong> for you:</p>\n\n<p><strong>MainPage.xaml</strong></p>\n\n<pre><code>&lt;StackPanel&gt;\n    &lt;Frame x:Name=\"MyFrame\" Margin=\"30,50,30,30\" Width=\"500\" Height=\"300\" IsTapEnabled=\"True\"&gt;\n    &lt;/Frame&gt;\n    &lt;CommandBar Background=\"Transparent\" IsOpen=\"False\"&gt;\n        &lt;AppBarButton Icon=\"Back\" Label=\"Back\" Click=\"AppBarButton_Click\"/&gt;\n        &lt;AppBarButton Icon=\"Home\" Label=\"Home\" Click=\"AppBarButton_Click\"/&gt;\n        &lt;AppBarButton Icon=\"Forward\" Label=\"Forward\" Click=\"AppBarButton_Click\"/&gt;\n    &lt;/CommandBar&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p><strong>MainPage.xaml.cs</strong></p>\n\n<pre><code>public sealed partial class MainPage : Page\n{\n    public MainPage()\n    {\n        this.InitializeComponent();\n        MyFrame.Navigate(typeof(Page1));\n    }\n\n    private void AppBarButton_Click(object sender, RoutedEventArgs e)\n    {\n        var lable = (sender as AppBarButton).Label;\n        if (lable == \"Back\")\n        {\n            if (MyFrame.CanGoBack)\n            {\n                MyFrame.GoBack();\n            }\n        }\n        else if (lable == \"Forward\")\n        {\n            if (MyFrame.CanGoForward)\n            {\n                MyFrame.GoForward();\n            }\n        }\n        else if (lable == \"Home\")\n        {\n            MyFrame.Navigate(typeof(Page1));\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Page1.xaml</strong></p>\n\n<pre><code>&lt;StackPanel&gt;\n    &lt;TextBlock Text=\"Welcome Page\" FontSize=\"50\" Margin=\"0,20\"/&gt;\n    &lt;Button x:Name=\"btn2\" Content=\"Open Page Two\" Click=\"btn2_Click\"/&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p><strong>Page1.xaml.cs</strong></p>\n\n<pre><code>public sealed partial class Page1 : Page\n{\n    public Page1()\n    {\n        this.InitializeComponent();\n    }\n\n    private void btn2_Click(object sender, RoutedEventArgs e)\n    {\n        Frame.Navigate(typeof(Page2));\n    }\n}\n</code></pre>\n\n<p><strong>Page2.xaml</strong></p>\n\n<pre><code>&lt;StackPanel&gt;\n    &lt;TextBlock Text=\"Page Two\" FontSize=\"50\" Margin=\"0,20\"/&gt;\n    &lt;Button x:Name=\"btn2\" Content=\"Open Page Three\" Click=\"btn2_Click\"/&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p><strong>Page2.xaml.cs</strong></p>\n\n<pre><code>public sealed partial class Page2 : Page\n{\n    public Page2()\n    {\n        this.InitializeComponent();\n    }\n\n    private void btn2_Click(object sender, RoutedEventArgs e)\n    {\n        Frame.Navigate(typeof(Page3));\n    }\n}\n</code></pre>\n\n<p><strong>Page3.xaml</strong></p>\n\n<pre><code>&lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n    &lt;TextBlock Text=\"Page Three\" FontSize=\"50\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>And the <strong>Output</strong> is shown as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CfTGc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CfTGc.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 5493729, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156152971960384/picture?type=large", "display_name": "Barre", "link": "https://stackoverflow.com/users/5493729/barre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1461918214, "creation_date": 1461792030, "last_edit_date": 1461800805, "question_id": 36901122, "link": "https://stackoverflow.com/questions/36901122/make-global-commandbar-back-for-a-frame-on-page", "title": "Make Global Commandbar Back For A Frame On Page", "body": "<p>My first question, here it goes.</p>\n\n<p>I cant seem to insert codeblocks.\n(Im pretty new to UWP)</p>\n\n<p>I have a WelcomePage with a CommandBar and a Frame = <code>MyFrame</code><br>\nI have a back, forward and home button in the <code>CommandBar</code>.</p>\n\n<pre><code>&lt;Frame Grid.Column=\"1\" x:Name=\"MyFrame\" Margin=\"30,50,30,30\"&gt;\n</code></pre>\n\n<p>The MyFrame has a stackpanel with buttons as content to start with to navigate to other the other pages and opens them inside the <code>MyFrame</code></p>\n\n<p>I just want the back and forward button to navigate back and forward inside my frame.</p>\n\n<p>Instead of the normal <code>Frame.GoBack()</code> i've tried <code>MyFrame.GoBack()</code>\nIt recognize <code>MyFrame</code> but it doesnt do anything....<br></p>\n\n<p>Ive seen this example in the UWP Hamburger tutorial but i just want a commandbar <br> And not a hamburgerbar</p>\n\n<p>Ive googled a lot but if I include <code>Frame</code> it just points to the basic <code>Frame.GoBack()</code>.\n(Maybe i just need to learn how to google..)</p>\n"}, {"tags": ["c#", "email", "exchange-server", "exchange-server-2010", "exchange-transport-agents"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 0, "creation_date": 1461875621, "post_id": 36905220, "comment_id": 61411077, "body": "I guess I am not really trying to determine the direction of the message now that I read your points, rather we are confirming that the sender of an email is internal to the Exchange org. We want our agent to do processing on any emails that are being sent from an internal Exchange Server. We originally were using the header you suggested in the link, &quot;X-MS-Exchange-Organization-MessageDirectionality,&quot; for this but Microsoft ended up suggesting we try Accepted Domains instead, and I don&#39;t have any details on why from them yet."}, {"owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "reply_to_user": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 0, "creation_date": 1461883992, "post_id": 36905220, "comment_id": 61414609, "body": "Another alternative then would be the address book class <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.exchange.data.transport.addressbook.isinternal(v=exchg.150).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a> you can validate the sender eg type and see if its internal. AcceptedDomains maybe the best performing if your doing high volume"}, {"owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 0, "creation_date": 1461961208, "post_id": 36905220, "comment_id": 61452120, "body": "Thanks so much for this info, I had not ran into AddressBook yet, I have a couple questions to this: 1. Does AcceptedDomains end up achieving the same thing that AddressBook.IsInternal() would be getting me? I tested and saw that AddressBook.IsInternal() returned true for the fake test domain I added to AcceptedDomains. 2. What is AddressBook.IsInternal() doing that would make AcceptedDomains a faster approach?"}, {"owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 0, "creation_date": 1461961647, "post_id": 36905220, "comment_id": 61452346, "body": "3. Do you have any documentation on AddressBook.IsInternal(), the microsoft site doesn&#39;t even have a generic message for it, just blank.  Thanks again  for all the help, I just want to choose the best possible option."}, {"owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "reply_to_user": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "edited": false, "score": 0, "creation_date": 1461980293, "post_id": 36905220, "comment_id": 61458058, "body": "The addressbook allows you to validate the Address against the directory where accepteddomains just looks at the domain. It really comes down to what your trying to do, the enviroment, and if all your senders are in the directory, subdomains etc. MSDN and Transport SDK are the only documentation source there are, the best thing I can recommend is test it yourself. (eg maybe isInternal isn&#39;t what you looking for the AddressBook can be used to determine a number of other things) and maybe you use both eg <a href=\"http://www.getcodesamples.com/src/9345163/B476972E\" rel=\"nofollow noreferrer\">getcodesamples.com/src/9345163/B476972E</a> a good example"}], "tags": [], "owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "is_accepted": true, "score": 0, "last_activity_date": 1461817465, "creation_date": 1461817465, "answer_id": 36905220, "question_id": 36901114, "link": "https://stackoverflow.com/questions/36901114/exchange-routing-agent-detect-email-direction/36905220#36905220", "title": "Exchange Routing Agent Detect Email Direction", "body": "<p>AcceptedDomains tells you all the SMTP domains that the Exchange Organization will delver for. Eg When the Exchange Transport Server performs message categorization on a Message if the Message is To an Address that is within the Accepted domains it will take responsibility for delivery that message to that recipients (there can be multiple recipients in a message so that point the message maybe forked and delivered to the Internal recipient and the sent on to the external recipient).</p>\n\n<p>What your doing just tells you where the Sender is from not really the direction of the Message as such. OnSubmittedMessage means you capturing a Message before any categorization has taken place in the case it's a message that has been sent from within your org but if the message has both internal and external recipients some copies the it will have multiple destinations.</p>\n\n<p>There also some other options in <a href=\"https://social.msdn.microsoft.com/Forums/en-US/9387e62a-76d7-4340-b9cc-f87ffcfab8b1/how-to-detect-the-message-source-in-an-exchange-server-2013-transport-agent-for-getting-the-sending?forum=exchangesvrdevelopment\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/en-US/9387e62a-76d7-4340-b9cc-f87ffcfab8b1/how-to-detect-the-message-source-in-an-exchange-server-2013-transport-agent-for-getting-the-sending?forum=exchangesvrdevelopment</a> which I'd suggest you look at</p>\n\n<p>Cheers\nGlen</p>\n"}], "owner": {"reputation": 123, "user_id": 3066012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b6fad24c4e937a5aeffe8b23fcbcb43?s=128&d=identicon&r=PG&f=1", "display_name": "cjablonski76", "link": "https://stackoverflow.com/users/3066012/cjablonski76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 36905220, "answer_count": 1, "score": 1, "last_activity_date": 1462282952, "creation_date": 1461791988, "last_edit_date": 1462282952, "question_id": 36901114, "link": "https://stackoverflow.com/questions/36901114/exchange-routing-agent-detect-email-direction", "title": "Exchange Routing Agent Detect Email Direction", "body": "<p>We have an Exchange Trasport Agent, which is specifically a RoutingAgent. In the <code>OnSubmittedMessage</code> event we need to inspect the <code>MailItem</code> and determine if it is outbound or inbound. I am currently looking at using the <code>SmtpServer.AcceptedDomains</code> property to check if the sender email is in the accepted domains list. Here is an example of how we are trying to do this:</p>\n\n<pre><code>private bool IsOutbound(MailItem mailItem, AcceptedDomainCollection acceptedDomains)\n{\n    if (acceptedDomains.Find(mailItem.FromAddress) != null)\n    {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>I am not extremely familiar with Accepted Domains, and I am trying to understand if this is a viable solution to reliably determine the direction of an email? This scenario also needs to work for companies that have multiple domains included in their Exchange organization setup. Note that we plan to support Exchange 2010-2016 if that makes any difference.</p>\n\n<p>--EDIT--</p>\n\n<p>After getting some help from @GlenScales I realize I need to update my question a bit.</p>\n\n<p>My goal is to determine if the sender of the email is in a domain that is internal to the Exchange organization. This could also be achieved by determining if the email was generated within Exchange, we are able to inspect the recipients at a later stage just fine and see if it is inbound or outbound.</p>\n\n<p>With that being said, we looked at 3 possible solutions:</p>\n\n<ol>\n<li>Check the sender domain against the list of Accepted Domains</li>\n<li>Use the AddressBook to check if the sender is internal</li>\n<li>Check the InboundDeliveryMethod property and see if it was created from a mailbox</li>\n</ol>\n\n<p>In the end we decided that we really wanted to be inspecting messages that were generated from a mailbox only and went with #3. #1 sounded like it could potentially include domains that were really just \"forwarding\" domains, and we do not want to consider those messages in our application.</p>\n"}, {"tags": ["c#", "data-layer"], "comments": [{"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 0, "creation_date": 1461792145, "post_id": 36901102, "comment_id": 61366401, "body": "Check <a href=\"https://github.com/StackExchange/dapper-dot-net#stored-procedures\" rel=\"nofollow noreferrer\">Dapper.NET</a>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1461792252, "post_id": 36901102, "comment_id": 61366457, "body": "Yes, Entity Framework. You can use stored procedures with EF. Usually though developers are given a task but not told they can&#39;t use specific tools that lend themselves nicely to the job. Why the requirement not to use EF?"}, {"owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461792608, "post_id": 36901102, "comment_id": 61366621, "body": "Performance in EF is horrible with big datasets."}, {"owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461793237, "post_id": 36901102, "comment_id": 61366920, "body": "Drapper sounds a good solution."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 1585304, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4i2fo.png?s=128&g=1", "display_name": "MilitelloVinx", "link": "https://stackoverflow.com/users/1585304/militellovinx"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793106, "last_edit_date": 1495540356, "creation_date": 1461793106, "answer_id": 36901396, "question_id": 36901102, "link": "https://stackoverflow.com/questions/36901102/c-data-access-layer-not-ef-but-sp-and-objects/36901396#36901396", "title": "C# Data Access Layer (Not EF but SP and objects)", "body": "<p>If you really want to go down this path, you can use <a href=\"http://automapper.org/\" rel=\"nofollow noreferrer\">Automapper</a> </p>\n\n<p>Take a look at this post\n<a href=\"https://stackoverflow.com/questions/16788242/how-do-i-use-automapper-to-map-a-dataset-with-multiple-tables\">How do I use automapper to map a dataset with multiple tables</a></p>\n\n<p>Still, keep in mind that performance can actually be really bad. </p>\n\n<p>IMHO, EF would be a better choice. </p>\n"}, {"comments": [{"owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461793373, "post_id": 36901429, "comment_id": 61366987, "body": "Does Dapper can track of changes over the entity? So I can know what property was changed, etc.?"}, {"owner": {"reputation": 1338, "user_id": 463851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4058897b133fd016655e77180f5221c1?s=128&d=identicon&r=PG&f=1", "display_name": "Spilarix", "link": "https://stackoverflow.com/users/463851/spilarix"}, "reply_to_user": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461793506, "post_id": 36901429, "comment_id": 61367052, "body": "@VAAA You can use <a href=\"https://github.com/StackExchange/dapper-dot-net/tree/master/Dapper.Contrib\" rel=\"nofollow noreferrer\">Dapper.Contrib</a> to do it."}, {"owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461793773, "post_id": 36901429, "comment_id": 61367181, "body": "Amazing!! thats what Im looking"}], "tags": [], "owner": {"reputation": 1338, "user_id": 463851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4058897b133fd016655e77180f5221c1?s=128&d=identicon&r=PG&f=1", "display_name": "Spilarix", "link": "https://stackoverflow.com/users/463851/spilarix"}, "is_accepted": true, "score": 0, "last_activity_date": 1461793420, "last_edit_date": 1461793420, "creation_date": 1461793253, "answer_id": 36901429, "question_id": 36901102, "link": "https://stackoverflow.com/questions/36901102/c-data-access-layer-not-ef-but-sp-and-objects/36901429#36901429", "title": "C# Data Access Layer (Not EF but SP and objects)", "body": "<p>You can use a micro-orm like <a href=\"https://github.com/StackExchange/dapper-dot-net#stored-procedures\" rel=\"nofollow\">Dapper</a> which is simple, efficient and maps correctly to objects.</p>\n\n<p>Example of use :  </p>\n\n<pre><code>// Call spGetUser with a parameter Id and put the result in a User instance.  \nvar user = cnn.Query&lt;User&gt;(\"spGetUser\", new {Id = 1}, \n        commandType: CommandType.StoredProcedure).SingleOrDefault();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461793496, "post_id": 36901468, "comment_id": 61367040, "body": "Does Dapper can track of changes over the entity? So I can know what property was changed, etc.?"}, {"owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "reply_to_user": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "edited": false, "score": 0, "creation_date": 1461850829, "post_id": 36901468, "comment_id": 61394940, "body": "No, it is just direct query and execute operations, extending the connection object."}], "tags": [], "owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793459, "creation_date": 1461793459, "answer_id": 36901468, "question_id": 36901102, "link": "https://stackoverflow.com/questions/36901102/c-data-access-layer-not-ef-but-sp-and-objects/36901468#36901468", "title": "C# Data Access Layer (Not EF but SP and objects)", "body": "<p>I usually recommend to use Dapper. it is very light-weight, it's performance is on par with ADO.NET coding.</p>\n"}], "owner": {"reputation": 12557, "user_id": 1253667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mgWcU.png?s=128&g=1", "display_name": "VAAA", "link": "https://stackoverflow.com/users/1253667/vaaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 1, "accepted_answer_id": 36901429, "answer_count": 3, "score": 0, "last_activity_date": 1461793459, "creation_date": 1461791961, "question_id": 36901102, "link": "https://stackoverflow.com/questions/36901102/c-data-access-layer-not-ef-but-sp-and-objects", "title": "C# Data Access Layer (Not EF but SP and objects)", "body": "<p>I have ben requested to create an application that uses an existing DB with stored procedures (<code>insert</code>, <code>update</code>, <code>delete</code>) and they <strong>don't want</strong> to use <code>Entity Framework</code>.</p>\n\n<p>One way is to create my own <strong>Data Access Layer</strong> using <code>System.Data.DataSet</code> but I would like to know if there is any existing library or something I can use where I can fill objects from SP's and also update data using SP's.</p>\n\n<blockquote>\n  <p>Any clue?</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "web-services", "wcf"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 1, "creation_date": 1461798436, "post_id": 36901094, "comment_id": 61368956, "body": "Have you tried deleting the current service reference and adding it fresh?"}, {"owner": {"reputation": 1293, "user_id": 626761, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/64884cb4418e82f1c671c1430b4f0b8c?s=128&d=identicon&r=PG", "display_name": "nodots", "link": "https://stackoverflow.com/users/626761/nodots"}, "edited": false, "score": 0, "creation_date": 1461855111, "post_id": 36901094, "comment_id": 61398449, "body": "404 doesn&#39;t sound like it&#39;s related to your change. The error message states that the &quot;metadata contains a reference that cannot be resolved&quot;. Check that URL and find out why it&#39;s not there."}, {"owner": {"reputation": 802, "user_id": 1017106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/081aa9b45b8774daacbbd6c3d3b20da8?s=128&d=identicon&r=PG", "display_name": "Sophonias", "link": "https://stackoverflow.com/users/1017106/sophonias"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1461943102, "post_id": 36901094, "comment_id": 61442957, "body": "@Tim I tried deleting and referencing the service again. I still get the same metadata error but when remove the newly added methods it works properly."}], "owner": {"reputation": 802, "user_id": 1017106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/081aa9b45b8774daacbbd6c3d3b20da8?s=128&d=identicon&r=PG", "display_name": "Sophonias", "link": "https://stackoverflow.com/users/1017106/sophonias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461856850, "creation_date": 1461791936, "last_edit_date": 1461856850, "question_id": 36901094, "link": "https://stackoverflow.com/questions/36901094/how-to-add-a-new-service-behavior-to-an-existing-wcf-service", "title": "How to add a new service behavior to an existing WCF service", "body": "<p>I want to add a new method to an existing WCF service so I added the new method and its contract as follows.</p>\n\n<p>My contract class</p>\n\n<pre><code>[ServiceContract]\ninterface IMyService\n{\n    //Existing Contract\n    [OperationContract]\n    ServiceResult MyServiceMethod1(String input);\n\n\n    //Existing Contract\n    [OperationContract]\n    ServiceResult MyServiceMethod2(String input);\n\n    //New Contract\n    [OperationContract]\n    ServiceResult NewServiceMethod(String input);\n}\n</code></pre>\n\n<p>My service class</p>\n\n<pre><code>public class MyService : IMyService\n{\n    //Existing Method\n    [OperationBehavior]\n    public ServiceResult MyServiceMethod1(String input)\n    {\n        // some operation\n    }\n\n    //Existing Method\n    [OperationBehavior]\n    public ServiceResult MyServiceMethod2(String input)\n    {\n         // some operation\n    }\n\n    //Added new method\n    [OperationBehavior]\n    public ServiceResult NewServiceMethod(String input)\n    {\n         // some operation\n    }\n}\n</code></pre>\n\n<p>Once  I added the new behavior I compiled the project which succeeded without errors. Then I went to my web app and updated my service references but I got the following error. \n<a href=\"https://i.stack.imgur.com/9rrZz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9rrZz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am not exactly sure what I'm missing here. When I remove the newly added function and update the service it works without any problems. How can I fix this?</p>\n"}, {"tags": ["c#", "android", "android-intent", "video", "crash"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1461792158, "post_id": 36901088, "comment_id": 61366408, "body": "I can&#39;t explain this in C# terms, but you are treating a <code>Uri</code> as if it contains a path to a file on the filesystem, which is generally incorrect."}, {"owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1461792358, "post_id": 36901088, "comment_id": 61366506, "body": "I&#39;m using the same code elsewhere in my project and it works fine. The debugger doesn&#39;t reach that point to take note of that and the app crashes."}], "answers": [{"comments": [{"owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "edited": false, "score": 0, "creation_date": 1461882105, "post_id": 36926418, "comment_id": 61413974, "body": "Cool Thanks. I&#39;ll try this. I can pick an image though with the same code."}], "tags": [], "owner": {"reputation": 87, "user_id": 6164907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/034758303a43e1581fa41dc0ad54a077?s=128&d=identicon&r=PG&f=1", "display_name": "AgentLog", "link": "https://stackoverflow.com/users/6164907/agentlog"}, "is_accepted": true, "score": 2, "last_activity_date": 1461881765, "creation_date": 1461881765, "answer_id": 36926418, "question_id": 36901088, "link": "https://stackoverflow.com/questions/36901088/app-crashes-when-picking-video-from-gallery/36926418#36926418", "title": "App crashes when picking video from gallery", "body": "<p>Call startActivityForResult passing in the pick action and the videos you want the user to select from like this:</p>\n\n<pre><code> startActivityForResult(new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Videos.Media.INTERNAL_CONTENT_URI), SELECT_VIDEO);\n</code></pre>\n\n<p>Then override onActivityResult to listen for the user having made a selection.</p>\n\n<pre><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data)   \n{   \nsuper.onActivityResult(requestCode, resultCode, data);   if (requestCode ==  SELECT_VIDEO)\nif (resultCode == Activity.RESULT_OK) {\n  Uri selectedVIDEO = data.getData();\n} \n}\n</code></pre>\n\n<p>Hope this helps, if so then do accept my answer. :)</p>\n"}], "owner": {"reputation": 1724, "user_id": 4811689, "user_type": "registered", "accept_rate": 51, "profile_image": "https://graph.facebook.com/814766445286237/picture?type=large", "display_name": "Ahmed Mujtaba", "link": "https://stackoverflow.com/users/4811689/ahmed-mujtaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 36926418, "answer_count": 1, "score": 1, "last_activity_date": 1461881765, "creation_date": 1461791913, "question_id": 36901088, "link": "https://stackoverflow.com/questions/36901088/app-crashes-when-picking-video-from-gallery", "title": "App crashes when picking video from gallery", "body": "<p>I am having trouble trying to select videos on Android. I am using the code below to launch the activity.</p>\n\n<pre><code>var intent = new Intent();\n            intent.SetType(\"video/*\");\n            intent.SetAction(Intent.ActionGetContent);\n            this.StartActivityForResult(Intent.CreateChooser(intent, \"Select video\"), 200);\n</code></pre>\n\n<p>Then in the OnActivityResult callback I use the following code to get the URI of the data.</p>\n\n<pre><code> public override void OnActivityResult(int requestCode, Result resultCode, Intent data)\n    {\n        base.OnActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 200 &amp;&amp; resultCode == Result.Ok)\n        {\n            try\n            {\n                Android.Net.Uri contentURI = data.Data;\n\n                ICursor cursor = Activity.ContentResolver.Query(contentURI, null, null, null, null);\n                cursor.MoveToFirst();\n                string documentId = cursor.GetString(0);\n                documentId = documentId.Split(':')[1];\n                cursor.Close();\n\n                cursor = Activity.ContentResolver.Query(\n                Android.Provider.MediaStore.Video.Media.ExternalContentUri,\n                null, MediaStore.Video.Media.InterfaceConsts.Id + \" = ? \", new[] { documentId }, null);\n                cursor.MoveToFirst();\n                string selectedPath = cursor.GetString(cursor.GetColumnIndex(MediaStore.Video.Media.InterfaceConsts.Data));\n\n                var fileBytes = System.IO.File.ReadAllBytes(selectedPath);\n\n                //await UploadFile(fileBytes);\n\n            }\n            catch (Java.Lang.Exception e)\n            {\n                System.Console.WriteLine(e.Message);\n            }\n        }\n    }\n</code></pre>\n\n<p>The app crashes soon after the gallery is opened. I'm using Sony Xperia ion with Android version 4.0.3 to debug the app. The first time I tested my code, it functioned but now every time the gallery opens up, the app crashes. </p>\n\n<p>Here's my full logcat:</p>\n\n<pre><code>    4-28 02:15:18.102 D/Mono    (10277): DllImport attempting to load: '__Internal'.\n04-28 02:15:18.102 D/Mono    (10277): DllImport loaded library '(null)'.\n04-28 02:15:18.102 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.102 D/Mono    (10277): Searching for '_monodroid_lref_log_new'.\n04-28 02:15:18.102 D/Mono    (10277): Probing '_monodroid_lref_log_new'.\n04-28 02:15:18.102 D/Mono    (10277): Found as '_monodroid_lref_log_new'.\n04-28 02:15:18.112 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.112 D/Mono    (10277): Searching for '_monodroid_lref_log_delete'.\n04-28 02:15:18.112 D/Mono    (10277): Probing '_monodroid_lref_log_delete'.\n04-28 02:15:18.112 D/Mono    (10277): Found as '_monodroid_lref_log_delete'.\n04-28 02:15:18.112 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.112 D/Mono    (10277): Searching for '_monodroid_gref_log_new'.\n04-28 02:15:18.112 D/Mono    (10277): Probing '_monodroid_gref_log_new'.\n04-28 02:15:18.112 D/Mono    (10277): Found as '_monodroid_gref_log_new'.\n04-28 02:15:18.142 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.142 D/Mono    (10277): Searching for '_monodroid_get_identity_hash_code'.\n04-28 02:15:18.142 D/Mono    (10277): Probing '_monodroid_get_identity_hash_code'.\n04-28 02:15:18.142 D/Mono    (10277): Found as '_monodroid_get_identity_hash_code'.\n04-28 02:15:18.263 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.263 D/Mono    (10277): Searching for 'monodroid_typemap_java_to_managed'.\n04-28 02:15:18.263 D/Mono    (10277): Probing 'monodroid_typemap_java_to_managed'.\n04-28 02:15:18.263 D/Mono    (10277): Found as 'monodroid_typemap_java_to_managed'.\n04-28 02:15:18.413 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.413 D/Mono    (10277): Searching for '_monodroid_gref_log'.\n04-28 02:15:18.413 D/Mono    (10277): Probing '_monodroid_gref_log'.\n04-28 02:15:18.413 D/Mono    (10277): Found as '_monodroid_gref_log'.\n04-28 02:15:18.453 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:18.453 D/Mono    (10277): Searching for 'monodroid_typemap_managed_to_java'.\n04-28 02:15:18.453 D/Mono    (10277): Probing 'monodroid_typemap_managed_to_java'.\n04-28 02:15:18.453 D/Mono    (10277): Found as 'monodroid_typemap_managed_to_java'.\n04-28 02:15:18.503 D/Mono    (10277): Image addref System.Core[0xe692e8] -&gt; System.Core.dll[0xe77a50]: 1\n04-28 02:15:18.503 D/Mono    (10277): Assembly System.Core[0xe692e8] added to domain RootDomain, ref_count=1\n04-28 02:15:18.503 D/Mono    (10277): AOT module 'System.Core.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Core.dll.so' not found\n04-28 02:15:18.503 D/Mono    (10277): AOT module '/Users/builder/data/lanes/3053/a94a03b5/source/monodroid/builds/install/mono-armv7/lib/mono/aot-cache/arm/System.Core.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Core.dll.so' not found\n04-28 02:15:18.523 D/Mono    (10277): Unloading image data-0x63529008 [0xe86468].\n04-28 02:15:18.523 D/Mono    (10277): Assembly Ref addref Mono.Android[0xca8958] -&gt; System.Core[0xe692e8]: 2\n04-28 02:15:18.533 D/Mono    (10277): Assembly Ref addref System.Core[0xe692e8] -&gt; mscorlib[0xc76d38]: 3\nLoaded assembly: System.Core.dll\n04-28 02:15:19.123 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:19.123 D/Mono    (10277): Searching for '_monodroid_gref_log_delete'.\n04-28 02:15:19.123 D/Mono    (10277): Probing '_monodroid_gref_log_delete'.\n04-28 02:15:19.123 D/Mono    (10277): Found as '_monodroid_gref_log_delete'.\n04-28 02:15:19.143 D/Mono    (10277): DllImport searching in: '__Internal' ('(null)').\n04-28 02:15:19.143 D/Mono    (10277): Searching for '_monodroid_gc_wait_for_bridge_processing'.\n04-28 02:15:19.143 D/Mono    (10277): Probing '_monodroid_gc_wait_for_bridge_processing'.\n04-28 02:15:19.143 D/Mono    (10277): Found as '_monodroid_gc_wait_for_bridge_processing'.\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref OkHttp[0xc5e660] -&gt; mscorlib[0xc76d38]: 4\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref OkHttp[0xc5e660] -&gt; Mono.Android[0xca8958]: 2\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Refractored.Controls.CircleImageView[0xbe5e30] -&gt; mscorlib[0xc76d38]: 5\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Refractored.Controls.CircleImageView[0xbe5e30] -&gt; Mono.Android[0xca8958]: 3\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Animated.Vector.Drawable[0xc392e0] -&gt; mscorlib[0xc76d38]: 6\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Animated.Vector.Drawable[0xc392e0] -&gt; Mono.Android[0xca8958]: 4\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Design[0xc38300] -&gt; mscorlib[0xc76d38]: 7\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Design[0xc38300] -&gt; Mono.Android[0xca8958]: 5\n04-28 02:15:19.173 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v4[0xbe7ef8] -&gt; mscorlib[0xc76d38]: 8\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v4[0xbe7ef8] -&gt; Mono.Android[0xca8958]: 6\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.AppCompat[0xb7ff80] -&gt; mscorlib[0xc76d38]: 9\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.AppCompat[0xb7ff80] -&gt; Mono.Android[0xca8958]: 7\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.CardView[0xbdea28] -&gt; mscorlib[0xc76d38]: 10\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.CardView[0xbdea28] -&gt; Mono.Android[0xca8958]: 8\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.RecyclerView[0xc2b0d0] -&gt; mscorlib[0xc76d38]: 11\n04-28 02:15:19.183 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.v7.RecyclerView[0xc2b0d0] -&gt; Mono.Android[0xca8958]: 9\n04-28 02:15:19.193 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Vector.Drawable[0xc22340] -&gt; mscorlib[0xc76d38]: 12\n04-28 02:15:19.193 D/Mono    (10277): Assembly Ref addref Xamarin.Android.Support.Vector.Drawable[0xc22340] -&gt; Mono.Android[0xca8958]: 10\n04-28 02:15:19.193 D/Mono    (10277): Assembly Ref addref Yourtime[0xc28778] -&gt; Mono.Android[0xca8958]: 11\nLoaded assembly: MonoDroidConstructors [External]\n04-28 02:15:19.444 D/Mono    (10277): Assembly Ref addref Yourtime[0xc28778] -&gt; mscorlib[0xc76d38]: 13\n04-28 02:15:20.234 D/Mono    (10277): Image addref System.Net.Http[0x1255c38] -&gt; System.Net.Http.dll[0x1256b70]: 1\n04-28 02:15:20.234 D/Mono    (10277): Assembly System.Net.Http[0x1255c38] added to domain RootDomain, ref_count=1\n04-28 02:15:20.234 D/Mono    (10277): AOT module 'System.Net.Http.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Net.Http.dll.so' not found\n04-28 02:15:20.234 D/Mono    (10277): AOT module '/Users/builder/data/lanes/3053/a94a03b5/source/monodroid/builds/install/mono-armv7/lib/mono/aot-cache/arm/System.Net.Http.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Net.Http.dll.so' not found\n04-28 02:15:20.234 D/Mono    (10277): Unloading image data-0x125e3e8 [0x1256fc0].\n04-28 02:15:20.234 D/Mono    (10277): Assembly Ref addref Yourtime[0xc28778] -&gt; System.Net.Http[0x1255c38]: 2\n04-28 02:15:20.244 D/Mono    (10277): Assembly Ref addref System.Net.Http[0x1255c38] -&gt; mscorlib[0xc76d38]: 14\nResolved pending breakpoint at 'CameraFragment.cs:320,1' to void Yourtime.Fragments.CameraFragment.OnActivityResult (int requestCode, Android.App.Result resultCode, Android.Content.Intent data) [0x00000].\nLoaded assembly: System.Net.Http.dll\n04-28 02:15:20.505 D/Mono    (10277): Image addref System.Xml[0x12c3d68] -&gt; System.Xml.dll[0x12c9890]: 1\n04-28 02:15:20.505 D/Mono    (10277): Assembly System.Xml[0x12c3d68] added to domain RootDomain, ref_count=1\n04-28 02:15:20.505 D/Mono    (10277): AOT module 'System.Xml.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Xml.dll.so' not found\n04-28 02:15:20.505 D/Mono    (10277): AOT module '/Users/builder/data/lanes/3053/a94a03b5/source/monodroid/builds/install/mono-armv7/lib/mono/aot-cache/arm/System.Xml.dll.so' not found: Cannot load library: load_library[1091]: Library '/data/data/com.dualdub.androclient/lib/libaot-System.Xml.dll.so' not found\n04-28 02:15:20.535 D/Mono    (10277): Unloading image data-0x63800008 [0x12c4080].\n04-28 02:15:20.535 D/Mono    (10277): Assembly Ref addref Mono.Android[0xca8958] -&gt; System.Xml[0x12c3d68]: 2\n04-28 02:15:20.545 D/Mono    (10277): Assembly Ref addref System.Xml[0x12c3d68] -&gt; mscorlib[0xc76d38]: 15\nLoaded assembly: System.Xml.dll\n04-28 02:15:21.285 I/dalvikvm(10277): Could not find method android.view.SurfaceView.&lt;init&gt;, referenced from method md5b48e0788c01ac4725f8b67ece4dbb3b8.CameraS.&lt;init&gt;\n04-28 02:15:21.285 W/dalvikvm(10277): VFY: unable to resolve direct method 18819: Landroid/view/SurfaceView;.&lt;init&gt; (Landroid/content/Context;Landroid/util/AttributeSet;II)V\n04-28 02:15:21.285 D/dalvikvm(10277): VFY: replacing opcode 0x70 at 0x0000\n04-28 02:15:21.386 D/libEGL  (10277): loaded /system/lib/egl/libGLES_android.so\n04-28 02:15:21.386 D/libEGL  (10277): loaded /system/lib/egl/libEGL_adreno200.so\n04-28 02:15:21.396 D/libEGL  (10277): loaded /system/lib/egl/libGLESv1_CM_adreno200.so\n04-28 02:15:21.396 D/libEGL  (10277): loaded /system/lib/egl/libGLESv2_adreno200.so\n04-28 02:15:21.456 I/Adreno200-EGLSUB(10277): &lt;ConfigWindowMatch:2078&gt;: Format RGBA_8888.\n04-28 02:15:21.466 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x63d17000 size:3768320 offset:0 fd:70\n04-28 02:15:21.476 E/        (10277): Can't open file for reading\n04-28 02:15:21.476 E/        (10277): Can't open file for reading\n04-28 02:15:21.476 D/OpenGLRenderer(10277): Enabling debug mode 0\n04-28 02:15:21.696 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x6430d000 size:7536640 offset:3768320 fd:73\n04-28 02:15:21.736 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x64a3d000 size:29986816 offset:26218496 fd:76\n04-28 02:15:25.840 D/TextLayoutCache(10277): Using debug level: 0 - Debug Enabled: 0\n04-28 02:15:25.890 I/Adreno200-EGLSUB(10277): &lt;ConfigWindowMatch:2078&gt;: Format RGBA_8888.\n04-28 02:15:25.890 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x67032000 size:9981952 offset:7999488 fd:83\n04-28 02:15:25.960 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x67b42000 size:43724800 offset:41742336 fd:89\n04-28 02:15:27.061 D/memalloc(10277): /dev/pmem: Mapped buffer base:0x6a4f5000 size:24375296 offset:22392832 fd:92\n04-28 02:15:29.023 D/OpenGLRenderer(10277): Flushing caches (mode 0)\n04-28 02:15:29.023 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x63d17000 size:3768320 offset:0\n04-28 02:15:29.023 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x6430d000 size:7536640 offset:3768320\n04-28 02:15:29.023 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x64a3d000 size:29986816 offset:26218496\n04-28 02:15:29.073 D/OpenGLRenderer(10277): Flushing caches (mode 0)\n04-28 02:15:29.083 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x67032000 size:9981952 offset:7999488\n04-28 02:15:29.083 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x67b42000 size:43724800 offset:41742336\n04-28 02:15:29.083 D/memalloc(10277): /dev/pmem: Unmapping buffer base:0x6a4f5000 size:24375296 offset:22392832\n04-28 02:15:29.554 D/OpenGLRenderer(10277): Flushing caches (mode 2\n</code></pre>\n\n<p>)</p>\n\n<p>I have setup a breaking point at the start of OnActionResultActivity but the app crashes before the debugger get's there. Does anyone have any idea how to get video data from the video chooser?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "dependency-injection", "dryioc"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461858220, "post_id": 36903970, "comment_id": 61400666, "body": "Thanks for the info @dadhi, I updated the question with the update you suggested for the second attempt and detailed the results.  Coming from Spring.NET, I was expecting property injection to automatically find and assign public properties if a matching service was registered.  Also I was hoping to do both constructor injection OR property injection for any given registered service.  That way I could transition a ton of code that is currently setup for property injection to constructor injection over time."}, {"owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "reply_to_user": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461872124, "post_id": 36903970, "comment_id": 61409225, "body": "Updated the answer to help with your migration."}, {"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461879620, "post_id": 36903970, "comment_id": 61413053, "body": "None of those options, or any combination of them, enable property injection for the controller.  Either I get and Exception at runtime, or the property is null.  However I settled on a usable solution that will get me going for now, see my update 2.  It requires me to us constructor injection on all controllers, but allows me to pick and choose for everything else."}, {"owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "reply_to_user": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461881297, "post_id": 36903970, "comment_id": 61413668, "body": "What is the visibility of your controllers and their constructors? anything less than public?"}, {"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461902793, "post_id": 36903970, "comment_id": 61418961, "body": "No, the controller was identical to what was show at the end of Update 2.  There is no constructor defined, so just the default no-arg constructor."}, {"owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "reply_to_user": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461903719, "post_id": 36903970, "comment_id": 61419184, "body": "Hmm, I am not an expert, so the question. What Asp.Net and  WebApi version you are using?"}, {"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1462818018, "post_id": 36903970, "comment_id": 61786405, "body": "Sorry I haven&#39;t answered sooner, I&#39;m using .NET 4.6.1, Webapi 5.2.3, DryIoc 2.2.2, and DryIoc.WebApi 2.1.0.  The unit test works fine for me as well, but still fails when running for real.  I&#39;ve published a sample on GitHub to demonstrate the same code working in a test, but failing when running on a web server.  <a href=\"https://github.com/graftedbranch/dryiocwebapi.sample\" rel=\"nofollow noreferrer\">github.com/graftedbranch/dryiocwebapi.sample</a>"}, {"owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "reply_to_user": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1463079710, "post_id": 36903970, "comment_id": 61923153, "body": "Thanks for the sample. I have posted the Update 3 with the fix and send you PR with the whole solution."}], "tags": [], "owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "is_accepted": true, "score": 4, "last_activity_date": 1463079655, "last_edit_date": 1463079655, "creation_date": 1461808893, "answer_id": 36903970, "question_id": 36900996, "link": "https://stackoverflow.com/questions/36900996/dryioc-container-configuration-for-property-injection/36903970#36903970", "title": "DryIOC Container configuration for property injection", "body": "<p>The first attemt should be changed to:</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{\n    var c = new Container().WithWebApi(config);\n\n    c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n    c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n\n    // Resolve service first then inject properties into it.\n    var ws = c.Resolve&lt;IWidgetService&gt;();\n    c.InjectPropertiesAndFields(ws);\n}\n</code></pre>\n\n<p>The second attempt from the code alone should work, but it may be something else. To find out you may change the rules to:</p>\n\n<pre><code>PropertiesAndFields.All(withNonPublic: false, withPrimitives: false, withFields: false, ifUnresolved: IfUnresolved.Throw)\n</code></pre>\n\n<p>The better alternative though, would be to specify exact property for exact service:</p>\n\n<pre><code>c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton, \n     made: PropertiesAndFields.Of.Name(\"WidgetRepository\"));\n</code></pre>\n\n<p>or strongly typed:</p>\n\n<pre><code>c.Register&lt;IWidgetService, WidgetService&gt;(\n    Made.Of(() =&gt; new WidgetService { WidgetRepository = Arg.Of&lt;IWidgetRepository&gt;() }),\n    Reuse.Singleton);\n</code></pre>\n\n<h3>Update:</h3>\n\n<p>DryIoc designed with the defaults of least surprise: type with single constructor for DI and without property injection. But you can opt-in the defaults to simplify migration:</p>\n\n<pre><code>IContainer c = new Container(Rules.Default.With(\n    FactoryMethod.ConstructorWithResolvableArguments, \n    propertiesAndFields: PropertiesAndFilds.Auto);\n</code></pre>\n\n<p>It may be enough for your case.</p>\n\n<p>If not, you may add rules:</p>\n\n<pre><code>    .WithFactorySelector(Rules.SelectLastRegisteredFactory())\n    .WithTrackingDisposableTransients()\n    .WithAutoConcreteTypeResolution()\n</code></pre>\n\n<h3>Update 2:</h3>\n\n<p>This test worked for me.</p>\n\n<pre><code>[Test]\npublic void Controller_with_property_injection()\n{\n    var config = new HttpConfiguration();\n    var c = new Container()\n        .With(rules =&gt; rules.With(propertiesAndFields: PropertiesAndFields.Auto))\n        .WithWebApi(config, throwIfUnresolved: type =&gt; type.IsController());\n\n    c.Register&lt;A&gt;(Reuse.Singleton);\n\n    using (var scope = config.DependencyResolver.BeginScope())\n    {\n        var propController = (PropController)scope.GetService(typeof(PropController));\n        Assert.IsNotNull(propController.A);\n    }\n}\n\npublic class PropController : ApiController\n{\n    public A A { get; set; }\n}\n\npublic class A {}\n</code></pre>\n\n<p>But changing <code>PropertiesAndFields.Auto</code> to<br>\n<code>PropertiesAndFields.All(false, false, false, IfUnresolved.Throw)</code> produced the error from your update 3. </p>\n\n<h2>Update 3:</h2>\n\n<p>Thank you for uploading the <a href=\"https://github.com/graftedbranch/dryiocwebapi.sample\" rel=\"nofollow\">sample repo</a>, it helped to find the problem.</p>\n\n<p>DryIoc <code>PropertiesAndFields.Auto</code> rule will inject all declared and <strong>base class</strong> properties, which causes the error for some properties defined in base <code>ApiController</code> class. The good thing is that <code>Auto</code> is just a predefined rule, and you can define your own to exclude the base class properties:</p>\n\n<pre><code>private static IEnumerable&lt;PropertyOrFieldServiceInfo&gt; DeclaredPublicProperties(Request request)\n{\n    return (request.ImplementationType ?? request.ServiceType).GetTypeInfo()\n        .DeclaredProperties.Where(p =&gt; p.IsInjectable())\n        .Select(PropertyOrFieldServiceInfo.Of);\n}\n</code></pre>\n\n<p>then create the container like this:</p>\n\n<pre><code>var c = new Container()\n    .With(rules =&gt; rules.With(propertiesAndFields: DeclaredPublicProperties))\n    .WithWebApi(config, throwIfUnresolved: type =&gt; type.IsController());\n</code></pre>\n\n<p>I have submitted the <a href=\"https://github.com/graftedbranch/dryiocwebapi.sample/pull/1\" rel=\"nofollow\">PR</a> with the fix.</p>\n\n<p><strong>BTW</strong> In future / next DryIoc version I will provide the API to simplify base or declared only property selection.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461941180, "post_id": 36930666, "comment_id": 61441589, "body": "That does produce a more informative exception, shown in an Update 3 above."}], "tags": [], "owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "is_accepted": false, "score": 1, "last_activity_date": 1461915740, "last_edit_date": 1461915740, "creation_date": 1461909781, "answer_id": 36930666, "question_id": 36900996, "link": "https://stackoverflow.com/questions/36900996/dryioc-container-configuration-for-property-injection/36930666#36930666", "title": "DryIOC Container configuration for property injection", "body": "<p>Ok, ignore my last comment, probably non relevant. Looking into exception stacktrace, it seems that WebAPI falls back to using Activator.CreateInstance for controller, and that is because DryIoc is unable to resolve it. But the fallback masks the actual DryIoc error. To find it out please try:</p>\n\n<pre><code>container.WithWebApi(throwIfUnresolved: type =&gt; type.IsController());\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7615, "favorite_count": 0, "accepted_answer_id": 36903970, "answer_count": 2, "score": 5, "last_activity_date": 1463079655, "creation_date": 1461791577, "last_edit_date": 1461942254, "question_id": 36900996, "link": "https://stackoverflow.com/questions/36900996/dryioc-container-configuration-for-property-injection", "title": "DryIOC Container configuration for property injection", "body": "<p>I have search far and wide for a simple example of how to configure a DryIoc container to simply inject dependencies as properties the same way that it injects constructor args.  </p>\n\n<p>Given the following working example...</p>\n\n<p>Container registration:</p>\n\n<pre><code>    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container().WithWebApi(config);\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n</code></pre>\n\n<p>Widget Service:</p>\n\n<pre><code>public class WidgetService : IWidgetService\n{\n    private readonly IWidgetRepository _widgetRepository;\n\n    public WidgetService(IWidgetRepository widgetRepository)\n    {\n        _widgetRepository = widgetRepository;\n    }\n\n    public IList&lt;Widget&gt; GetWidgets()\n    {\n        return _widgetRepository.GetWidgets().ToList();\n    }\n}\n</code></pre>\n\n<p>Widget Repository:</p>\n\n<pre><code>public class WidgetRepository : IWidgetRepository\n{\n    private readonly IList&lt;Widget&gt; _widgets;\n\n    public WidgetRepository()\n    {\n        _widgets = new List&lt;Widget&gt;\n        {\n            new Widget {Name = \"Widget 1\", Cost = new decimal(1.99), Description = \"The first widget\"},\n            new Widget {Name = \"Widget 2\", Cost = new decimal(2.99), Description = \"The second widget\"}\n        };\n    }\n\n    public IEnumerable&lt;Widget&gt; GetWidgets()\n    {\n        return _widgets.AsEnumerable();\n    }\n}\n</code></pre>\n\n<p>How does the configuration need to change to support a WidgetService that looks like this where DryIoc will inject the WidgetRepository as a property?</p>\n\n<p>Desired Widget Service:</p>\n\n<pre><code>public class WidgetService : IWidgetService\n{\n    public IWidgetRepository WidgetRepository { get; set; }\n\n    public IList&lt;Widget&gt; GetWidgets()\n    {\n        return WidgetRepository.GetWidgets().ToList();\n    }\n}\n</code></pre>\n\n<h2>FAILED ATTEMPTS</h2>\n\n<p>I have tried these config changes, but they seem to have no effect in enabling property injection on the WidgetService.</p>\n\n<p>ATTEMP 1:</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n    {\n        var c = new Container().WithWebApi(config);\n\n        // Seems logical - no luck\n        c.InjectPropertiesAndFields(PropertiesAndFields.Auto);\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n</code></pre>\n\n<p>ATTEMP 2:</p>\n\n<pre><code>    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container(Rules.Default.With(propertiesAndFields: PropertiesAndFields.Auto))\n                    .WithWebApi(config);\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n</code></pre>\n\n<p>I have also tried the above with <code>PropertiesAndFields.All</code>, also with no luck.</p>\n\n<p>NOTE: I understand that property injection is not the recommended approach and that constructor injection is preferred for many reasons.  However, I want to know how to do both correctly.</p>\n\n<h2>Update</h2>\n\n<p>Following @dadhi's advice, I changed attempt #2 to initialize the container like:</p>\n\n<pre><code>var c = new Container(Rules.Default.With(propertiesAndFields: PropertiesAndFields.All(withNonPublic: false,\n                                                            withPrimitive: false,\n                                                            withFields: false,\n                                                            ifUnresolved: IfUnresolved.Throw)))\n.WithWebApi(config);\n</code></pre>\n\n<p>but then I received this error:</p>\n\n<pre><code>{\n    \"Message\" : \"An error has occurred.\",\n    \"ExceptionMessage\" : \"An error occurred when trying to create a controller of type 'WidgetController'. Make sure that the controller has a parameterless public constructor.\",\n    \"ExceptionType\" : \"System.InvalidOperationException\",\n    \"StackTrace\" : \"   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\\r\\n   at System.Web.Http.Controllers.HttpControllerDescriptor.CreateController(HttpRequestMessage request)\\r\\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&lt;SendAsync&gt;d__1.MoveNext()\",\n    \"InnerException\" : {\n        \"Message\" : \"An error has occurred.\",\n        \"ExceptionMessage\" : \"Type 'IOCContainerTest.DryIOC.Controllers.WidgetController' does not have a default constructor\",\n        \"ExceptionType\" : \"System.ArgumentException\",\n        \"StackTrace\" : \"   at System.Linq.Expressions.Expression.New(Type type)\\r\\n   at System.Web.Http.Internal.TypeActivator.Create[TBase](Type instanceType)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.GetInstanceOrActivator(HttpRequestMessage request, Type controllerType, Func`1&amp; activator)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\"\n    }\n}\n</code></pre>\n\n<p>DryIoc now seems to be attempting to initialize my WidgetController by using a no-arg constructor which I didn't have.  I am assuming since the rules change to  <code>PropertiesAndFields.All(...)</code>, DryIoc is attempting to use property injection for all registered items.</p>\n\n<pre><code>public class WidgetController : ApiController\n{\n    private readonly IWidgetService _widgetService;\n\n    public WidgetController(IWidgetService widgetService)\n    {\n        _widgetService = widgetService;\n    }\n\n    // GET api/&lt;controller&gt;\n    public List&lt;WidgetSummary&gt; Get()\n    {\n        return _widgetService.GetWidgetSummaries();\n    }\n}\n</code></pre>\n\n<p>I was attempting to initialize the WidgetService (shown above) using property injection, but the WidgetController using constructor injection.  Perhaps I can't do both, but I was thinking that the <code>PropertiesAndFields.Auto</code> rule would have allowed for both.  I changed the WidgetController to be setup for property injection as well. Then I get no exceptions from DryIoc, but WidgetService ends up null in the WidgetController.  Here's the updated WidgetController.</p>\n\n<pre><code>public class WidgetController : ApiController\n{\n    public IWidgetService WidgetService { get; set; }\n\n    // GET api/&lt;controller&gt;\n    public List&lt;WidgetSummary&gt; Get()\n    {\n        return WidgetService.GetWidgetSummaries();\n    }\n}\n</code></pre>\n\n<p>Automatic property injection still seems elusive.</p>\n\n<h2>Update 2</h2>\n\n<p>After much trial and error (and suggestions from @dadhi), I settled for using constructor injection in my WidgetController and specifying property injection when registering other services. This allows for migrating code that utilizes property injection now to constructor injection over time, with the exception of controllers.  Here's my updated container registration:</p>\n\n<pre><code>    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container(Rules.Default).WithWebApi(config);\n\n        var autoInjectProps = Made.Of(propertiesAndFields: PropertiesAndFields.Auto);\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton, autoInjectProps);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton, autoInjectProps);\n    }\n</code></pre>\n\n<p>I would love to eventually figure out the golden setting that would work for both controllers and other service, but they seem to act differently.  But, this is a workable enough solution for now.</p>\n\n<h2>Update 3</h2>\n\n<p>Updated the container configuration per @dadhi's suggestion to the following in another attempt at wiring up everything (including WidgetController) as property injection:</p>\n\n<pre><code>    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container(Rules.Default.With(propertiesAndFields: PropertiesAndFields.All(withNonPublic: false, withPrimitive: false, withFields: false, ifUnresolved: IfUnresolved.Throw)))\n                    .WithWebApi(config, throwIfUnresolved: type =&gt; type.IsController());\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n</code></pre>\n\n<p>This seems to at least yield an exception that makes some sense and perhaps explain why the controllers are treated different when I setup the container to use <code>PropertiesAndFields.All(..)</code>:</p>\n\n<pre><code>{\n    \"Message\" : \"An error has occurred.\",\n    \"ExceptionMessage\" : \"An error occurred when trying to create a controller of type 'WidgetController'. Make sure that the controller has a parameterless public constructor.\",\n    \"ExceptionType\" : \"System.InvalidOperationException\",\n    \"StackTrace\" : \"   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\\r\\n   at System.Web.Http.Controllers.HttpControllerDescriptor.CreateController(HttpRequestMessage request)\\r\\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&lt;SendAsync&gt;d__1.MoveNext()\",\n    \"InnerException\" : {\n        \"Message\" : \"An error has occurred.\",\n        \"ExceptionMessage\" : \"Unable to resolve HttpConfiguration as property \\\"Configuration\\\"\\r\\n  in IOCContainerTest.DryIOC.Controllers.WidgetController.\\r\\nWhere no service registrations found\\r\\n  and number of Rules.FallbackContainers: 0\\r\\n  and number of Rules.UnknownServiceResolvers: 0\",\n        \"ExceptionType\" : \"DryIoc.ContainerException\",\n        \"StackTrace\" : \"   at DryIoc.Throw.It(Int32 error, Object arg0, Object arg1, Object arg2, Object arg3)\\r\\n   at DryIoc.Container.ThrowUnableToResolve(Request request)\\r\\n   at DryIoc.Container.DryIoc.IContainer.ResolveFactory(Request request)\\r\\n   at DryIoc.ReflectionFactory.InitPropertiesAndFields(NewExpression newServiceExpr, Request request)\\r\\n   at DryIoc.ReflectionFactory.CreateExpressionOrDefault(Request request)\\r\\n   at DryIoc.Factory.GetExpressionOrDefault(Request request)\\r\\n   at DryIoc.Factory.GetDelegateOrDefault(Request request)\\r\\n   at DryIoc.Container.ResolveAndCacheDefaultDelegate(Type serviceType, Boolean ifUnresolvedReturnDefault, IScope scope)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.GetInstanceOrActivator(HttpRequestMessage request, Type controllerType, Func`1&amp; activator)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\"\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "console", "readline"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1461791508, "post_id": 36900951, "comment_id": 61366086, "body": "The string class has a method named Split that could break your whole string in its parts creating an array of words. Look at <a href=\"http://www.dotnetperls.com/split\" rel=\"nofollow noreferrer\">examples of string.Split</a>"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1461791612, "post_id": 36900951, "comment_id": 61366123, "body": "Don&#39;t take stuff from users! -- That&#39;s impolite!"}], "answers": [{"comments": [{"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1461793225, "post_id": 36901084, "comment_id": 61366910, "body": "Note that you would also want to split on &#39;.&#39; and perhaps other punctuation so that the last word isn&#39;t &quot;ball.&quot;  What you are proposing isn&#39;t quite as straight forward as you may think."}, {"owner": {"reputation": 412, "user_id": 1292913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9255ac5a822dd7a525b1ec8e3920649f?s=128&d=identicon&r=PG", "display_name": "LoRdPMN", "link": "https://stackoverflow.com/users/1292913/lordpmn"}, "reply_to_user": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1461793362, "post_id": 36901084, "comment_id": 61366984, "body": "Yes I know that, you can go even further, but probably he is starting to learn so I tried to stay simple."}], "tags": [], "owner": {"reputation": 412, "user_id": 1292913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9255ac5a822dd7a525b1ec8e3920649f?s=128&d=identicon&r=PG", "display_name": "LoRdPMN", "link": "https://stackoverflow.com/users/1292913/lordpmn"}, "is_accepted": true, "score": 0, "last_activity_date": 1461791908, "creation_date": 1461791908, "answer_id": 36901084, "question_id": 36900951, "link": "https://stackoverflow.com/questions/36900951/how-do-i-take-a-certain-word-from-user-input-and-make-it-a-string/36901084#36901084", "title": "How do I take a certain word from user input and make it a string?", "body": "<pre><code>string userInput = Console.ReadLine();\nstring color = userInput.Split(' ')[2];\n</code></pre>\n\n<p>Of course, in a real program, you should check if the string has 3 words before trying to get it from the array returning from the Split() method, something like this:</p>\n\n<pre><code>string userInput = Console.ReadLine();\nstring[] words = userInput.Split(' ');\nif (words.Length &gt;= 3) {\n    string color = words[2];\n    Console.WriteLine(\"The third word is: \" + color);\n}\nelse {\n    Console.WriteLine(\"Not enough words.\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 1148288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/836042d86eb7845e1980d936c837c9b6?s=128&d=identicon&r=PG", "display_name": "Lazy Coder", "link": "https://stackoverflow.com/users/1148288/lazy-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1461792019, "creation_date": 1461792019, "answer_id": 36901120, "question_id": 36900951, "link": "https://stackoverflow.com/questions/36900951/how-do-i-take-a-certain-word-from-user-input-and-make-it-a-string/36901120#36901120", "title": "How do I take a certain word from user input and make it a string?", "body": "<p>Do something like</p>\n\n<pre><code>string userInput = Console.ReadLine();\n//this will break the user input into an array\nvar inputBits = userInput.Split(' ');\n//you can now directly access the index of the word you seek\nvar color = inputBits[2];\n//You can also iterate over it and do something else...\nfor(int i = 0; i &lt; inputBits.Length; i++)\n{\n    var inputBit = inputBits[i];\n    //do something else\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5953420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QBDEC.jpg?s=128&g=1", "display_name": "Maximus", "link": "https://stackoverflow.com/users/5953420/maximus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2362, "favorite_count": 0, "accepted_answer_id": 36901084, "answer_count": 2, "score": 0, "last_activity_date": 1461792019, "creation_date": 1461791387, "question_id": 36900951, "link": "https://stackoverflow.com/questions/36900951/how-do-i-take-a-certain-word-from-user-input-and-make-it-a-string", "title": "How do I take a certain word from user input and make it a string?", "body": "<p>I am wondering how I take a certain word from a sentence typed into a console and define it as a string. If anyone could explain how I do this I would be very greatful. </p>\n\n<p>User Input = This is a red ball. \nstring ballcolour = red\nI want to take the third word from this sentence and make it a string but do not know how. I only know so far how to make a string equal the console readline. </p>\n\n<ul>\n<li>Maximus</li>\n</ul>\n"}, {"tags": ["c#", "windows", "forms"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1461792023, "post_id": 36900944, "comment_id": 61366338, "body": "Instead try text changed event if it&#39;s available for Label. This would save you CPU cycle no loop would require but an event handler will do the job."}, {"owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461792392, "post_id": 36900944, "comment_id": 61366526, "body": "i add the timer, but it create a problem to me. i can&#39;t click in any button"}, {"owner": {"reputation": 1312, "user_id": 1212919, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/69f7838008cb995bdd11226cc9562ee1?s=128&d=identicon&r=PG", "display_name": "Ernest", "link": "https://stackoverflow.com/users/1212919/ernest"}, "edited": false, "score": 0, "creation_date": 1461792812, "post_id": 36900944, "comment_id": 61366726, "body": "It&#39;s likely that you&#39;re unable to use your UI (click a button) because you&#39;re running your checks on the UI thread. Try running your checks on a separate thread or <a href=\"http://www.dotnetperls.com/backgroundworker\" rel=\"nofollow noreferrer\">backgroundworker</a>. And you can use delegates to manipulate your UI from the separate thread."}, {"owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461792873, "post_id": 36900944, "comment_id": 61366746, "body": "thx guys. i&#39;ll work on that"}, {"owner": {"reputation": 23681, "user_id": 389966, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/609cad1ab26e0b25b5a4c83669221114?s=128&d=identicon&r=PG", "display_name": "Adi Lester", "link": "https://stackoverflow.com/users/389966/adi-lester"}, "edited": false, "score": 1, "creation_date": 1461794292, "post_id": 36900944, "comment_id": 61367409, "body": "It would be better to register to a relevant event that triggers when the connection state changes, and do stuff when that event fires."}, {"owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461794950, "post_id": 36900944, "comment_id": 61367695, "body": "can you help me to do this?"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461795452, "post_id": 36901687, "comment_id": 61367918, "body": "i already try this, but nothing happened."}, {"owner": {"reputation": 748, "user_id": 3000291, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6404e4e93222f426626421c088fa62f4?s=128&d=identicon&r=PG&f=1", "display_name": "galacticfan", "link": "https://stackoverflow.com/users/3000291/galacticfan"}, "reply_to_user": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461832292, "post_id": 36901687, "comment_id": 61381240, "body": "You need to give the command to the <code>BackgroundWorker</code> to start doing work."}], "tags": [], "owner": {"reputation": 748, "user_id": 3000291, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6404e4e93222f426626421c088fa62f4?s=128&d=identicon&r=PG&f=1", "display_name": "galacticfan", "link": "https://stackoverflow.com/users/3000291/galacticfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1461794383, "creation_date": 1461794383, "answer_id": 36901687, "question_id": 36900944, "link": "https://stackoverflow.com/questions/36900944/how-can-i-do-constant-check-on-c/36901687#36901687", "title": "How can i do constant check on c#?", "body": "<p>To summarise the comments posted - it would be worth using a timer in your form if you can afford to be checking every so often (as opposed to all the time) and if you did not plan on doing a lot of processing during the check. The problem is that if you plan to do a fair amount of processing, you will not be able to use the UI as the current thread that the UI is operating in, is being used to do the processing of the check. If that is the case, then as @Ernest advised, it would be worth performing your checks on a separate thread. This way you could be constantly checking using something similar to the code that you already have (but placed inside of the <code>DoWork</code> block of a <code>BackgroundWorker</code>).\nFor example:</p>\n\n<pre><code>private void myBackgroundWorker_DoWork(object sender, DoWorkEventArgs e)\n{\n    while(true)\n    {\n        if(checkconn == true)\n        {\n            labelcheck.Text = \"Connected\";\n        }\n        else\n        {\n            labelcheck.Text = \"Not Connected\";\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "edited": false, "score": 0, "creation_date": 1461795928, "post_id": 36901842, "comment_id": 61368104, "body": "thx! it works perfect!"}], "tags": [], "owner": {"reputation": 1312, "user_id": 1212919, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/69f7838008cb995bdd11226cc9562ee1?s=128&d=identicon&r=PG", "display_name": "Ernest", "link": "https://stackoverflow.com/users/1212919/ernest"}, "is_accepted": true, "score": 0, "last_activity_date": 1461795075, "creation_date": 1461795075, "answer_id": 36901842, "question_id": 36900944, "link": "https://stackoverflow.com/questions/36900944/how-can-i-do-constant-check-on-c/36901842#36901842", "title": "How can i do constant check on c#?", "body": "<pre><code>readonly BackgroundWorker _worker = new BackgroundWorker();\n\npublic loginform()\n{\n    InitializeComponent();\n    _worker.DoWork += worker_DoWork;\n    _worker.RunWorkerCompleted += worker_RunWorkerCompleted;\n    _worker.RunWorkerAsync();\n}\n\nprivate static void worker_DoWork(object sender, DoWorkEventArgs e)\n{\n    Thread.Sleep(1000);\n    e.Result = checkconn == true ? \"Connected\" : \"Not Connected\";\n}\n\nprivate void worker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n{\n    label.Text = e.Result as string;\n    _worker.RunWorkerAsync(); // loops endlessly\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6263627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc15d6f93fe3be667f64cf95587813c?s=128&d=identicon&r=PG&f=1", "display_name": "jamescaruso", "link": "https://stackoverflow.com/users/6263627/jamescaruso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1461802986, "accepted_answer_id": 36901842, "answer_count": 2, "score": -2, "last_activity_date": 1461795244, "creation_date": 1461791355, "last_edit_date": 1461793656, "question_id": 36900944, "link": "https://stackoverflow.com/questions/36900944/how-can-i-do-constant-check-on-c", "closed_reason": "Not suitable for this site", "title": "How can i do constant check on c#?", "body": "<p>i'm a c# begginer and i need help to do a constant check on windows forms application.\nI did this code but i don't know where i can paste it.</p>\n\n<pre><code>while(true)\n{\n    if(checkconn == true)\n    {\n        labelcheck.Text = \"Connected\";\n    }\n    else\n    {\n        labelcheck.Text = \"Not Connected\";\n    }\n}\n</code></pre>\n\n<p>I already tried to put it on: </p>\n\n<pre><code>private void loginform_Load(object sender, EventArgs e)\n{\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>public loginform()\n{\n    InitializeComponent();            \n}\n</code></pre>\n\n<p>but in both cases the application do not run because it runs on an endless loop.</p>\n"}, {"tags": ["c#", "xml", "linq", "xattribute"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5957078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6fbaf40c62e6a94f49523bf9fb9539?s=128&d=identicon&r=PG&f=1", "display_name": "Tim B", "link": "https://stackoverflow.com/users/5957078/tim-b"}, "edited": false, "score": 0, "creation_date": 1461792930, "post_id": 36900973, "comment_id": 61366770, "body": "Thanks for the quick response.  The above code works well for editing the user names within a specific section.  How would I adapt the code to amend all attributes with the value of UserEditInput throughout the file?  Using my previous (and only) idea of xdoc.Descendants() doesn&#39;t work."}, {"owner": {"reputation": 271, "user_id": 2967645, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000781908445/picture?type=large", "display_name": "Uilque Messias", "link": "https://stackoverflow.com/users/2967645/uilque-messias"}, "edited": false, "score": 0, "creation_date": 1461793320, "post_id": 36900973, "comment_id": 61366962, "body": "You can get a list of <code>element</code>s (<code>Where(a =&gt; (string) a.Attribute(&quot;user&quot;) == UserEditInput)</code>) instead get only the first (<code>FirstOrDefault(a =&gt; (string) a.Attribute(&quot;user&quot;) == UserEditInput)</code>) and iterate in it, updating each element with <code>SetAttributeValue</code> method ( <code>foreach(var element in query){ element.SetAttributeValue(&quot;user&quot;, NewUser);}</code>)"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 23, "user_id": 5957078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6fbaf40c62e6a94f49523bf9fb9539?s=128&d=identicon&r=PG&f=1", "display_name": "Tim B", "link": "https://stackoverflow.com/users/5957078/tim-b"}, "edited": false, "score": 0, "creation_date": 1461793534, "post_id": 36900973, "comment_id": 61367064, "body": "@TimB: You&#39;d use a <code>foreach</code> loop, basically. But that&#39;s a different question, and should be asked in a different post, after research and trying things."}, {"owner": {"reputation": 23, "user_id": 5957078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6fbaf40c62e6a94f49523bf9fb9539?s=128&d=identicon&r=PG&f=1", "display_name": "Tim B", "link": "https://stackoverflow.com/users/5957078/tim-b"}, "edited": false, "score": 0, "creation_date": 1462148903, "post_id": 36900973, "comment_id": 61502580, "body": "I have accepted the answer given as it answered the question actually posed (rather than what I was meaning to ask!  The fault was mine).  Thank you all for your assistance."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 1, "last_activity_date": 1461791480, "creation_date": 1461791480, "answer_id": 36900973, "question_id": 36900855, "link": "https://stackoverflow.com/questions/36900855/c-linq-to-xml-update-all-descendants-of-specific-value/36900973#36900973", "title": "c# linq to xml update all descendants of specific value", "body": "<p>Currently you're trying to fetch the value for the <code>user</code> attribute of <em>every</em> element in the document - including the root element, for example.</p>\n\n<p>Two options here, which I'd probably use both of:</p>\n\n<ul>\n<li>Specify that you only want <code>user</code> elements, using <code>xdoc.Descendants(\"user\")</code></li>\n<li>Use a cast of <code>XAttribute</code> to <code>string</code> instead of the <code>Value</code> property; that way if there's no such attribute, the cast will return <code>null</code> as well</li>\n</ul>\n\n<p>Additionally, if you don't find the matching element, you're using <code>FirstOrDefault</code> so you'll get a value of null - but you try to set the attribute value anyway. Don't do that.</p>\n\n<p>So, putting it all together - and taking a short cut by using the overload of <code>FirstOrDefault</code> with a predicate:</p>\n\n<pre><code>var element = xdoc.Descendants(\"user\")\n                  .FirstOrDefault(a =&gt; (string) a.Attribute(\"user\") == UserEditInput);\n\nif (element != null)\n{\n    element.SetAttributeValue(\"user\", NewUser);\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5957078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6fbaf40c62e6a94f49523bf9fb9539?s=128&d=identicon&r=PG&f=1", "display_name": "Tim B", "link": "https://stackoverflow.com/users/5957078/tim-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 36900973, "answer_count": 1, "score": 0, "last_activity_date": 1461792172, "creation_date": 1461791061, "last_edit_date": 1461792172, "question_id": 36900855, "link": "https://stackoverflow.com/questions/36900855/c-linq-to-xml-update-all-descendants-of-specific-value", "title": "c# linq to xml update all descendants of specific value", "body": "<p>I am creating a configuration file editor, and am currently implementing features for updating existing data.  I would like to be able to update all attributes within the file which have a specific attribute, such as updating a user name.</p>\n\n<p>My XML file represents users in the following manner:</p>\n\n<pre><code>&lt;user user=\"user1\" ... /&gt;\n&lt;user user=\"user2\" ... /&gt;\n</code></pre>\n\n<p>My present attempt looks like this:</p>\n\n<pre><code> xdoc.Descendants().Where(a =&gt; a.Attribute(\"user\").Value == UserEditInput).FirstOrDefault().SetAttributeValue(\"user\", NewUser);\n</code></pre>\n\n<p>where <code>UserEditInput</code> is the name of the current user name and <code>NewUser</code> is the new replacement value.  </p>\n\n<p>This throws a <code>NullReferenceException</code>.  There are a number of \"user\" XAttributes in the form shown above with a value equal to that of <code>UserEditInput</code>.  This leads me to believe I am not referencing the desired data in the correct manner, not modifying the attributes correctly, or both.</p>\n\n<p>Thank you in advance for any assistance.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1461791151, "post_id": 36900800, "comment_id": 61365916, "body": "Is di a DirectoryInfo object? If yes, why the ToString applied to a FileInfo object? Remove it."}, {"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "edited": false, "score": 0, "creation_date": 1461791184, "post_id": 36900800, "comment_id": 61365935, "body": "Your <code>Where</code> lambda is not formed correctly. It is nonsensical to slap <code>ToString</code> on everything... should probably be something closer to <code>filename =&gt; filename.LastWriteTime &gt;= from_date &amp;&amp; filename.LastWriteTime &lt;= to_date)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2430, "user_id": 1330328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0AoZO.jpg?s=128&g=1", "display_name": "Olivier De Meulder", "link": "https://stackoverflow.com/users/1330328/olivier-de-meulder"}, "is_accepted": false, "score": 2, "last_activity_date": 1461791209, "creation_date": 1461791209, "answer_id": 36900900, "question_id": 36900800, "link": "https://stackoverflow.com/questions/36900800/specified-date-range-not-returned-properly-c-edited/36900900#36900900", "title": "specified date range not returned properly c# - Edited", "body": "<p>Why all the <code>ToString()</code>? A string does not have a <code>LastWriteTime</code> property.</p>\n\n<p>Try this:</p>\n\n<pre><code>foreach (var filename in di.EnumerateFiles(\"*.SS*\").Where(filename=&gt;filename.LastWriteTime &gt;= from_date &amp;&amp; filename.LastWriteTime &lt;= to_date))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69261, "user_id": 557445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a0d4a722b2fae0bf159c9283fe1aff?s=128&d=identicon&r=PG", "display_name": "Rion Williams", "link": "https://stackoverflow.com/users/557445/rion-williams"}, "is_accepted": false, "score": 5, "last_activity_date": 1461791216, "creation_date": 1461791216, "answer_id": 36900901, "question_id": 36900800, "link": "https://stackoverflow.com/questions/36900800/specified-date-range-not-returned-properly-c-edited/36900901#36900901", "title": "specified date range not returned properly c# - Edited", "body": "<p>You are currently calling the <code>ToString()</code> method on your File objects and then attempting to access the <a href=\"https://msdn.microsoft.com/en-us/library/system.io.filesysteminfo.lastwritetime(v=vs.110).aspx\" rel=\"noreferrer\"><code>LastWriteTime</code></a> property. This actually shouldn't even have compiled (as you would be attempting to access <code>LastWriteTime</code> from a string instead of a <code>FileInfo</code> object).</p>\n\n<p>Try removing all of your <code>ToString()</code> calls and using the following :</p>\n\n<pre><code>// Find your files with LastWriteTimes that fall between your specific range\nforeach (var file in di.EnumerateFiles(\"*.SS*\").Where(f =&gt; f.LastWriteTime &gt;= from_date &amp;&amp; f.LastWriteTime &lt;= to_date))\n{\n    // Iterate through your files here\n}\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4712195, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9e4215a4fb52c4bb9cb14f44ceda3bce?s=128&d=identicon&r=PG&f=1", "display_name": "just peter", "link": "https://stackoverflow.com/users/4712195/just-peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1462814392, "creation_date": 1461790848, "last_edit_date": 1462814392, "question_id": 36900800, "link": "https://stackoverflow.com/questions/36900800/specified-date-range-not-returned-properly-c-edited", "title": "specified date range not returned properly c# - Edited", "body": "<p>Got a function where it suppose to return total file size within specified  range however, it goes thru all of the files in the directory and not those between date ranges.</p>\n\n<pre><code>public static long fileSize(string source_path)\n{\n     return new DirectoryInfo(source_path).EnumerateFiles(\"*.SS*\").Where(file =&gt; file.CreationTime &lt; dt.AddMonths(-2)).Sum(file =&gt; file.Length);\n}\n</code></pre>\n"}, {"tags": ["c#", "sql", "azure", "ado.net", "win-universal-app"], "comments": [{"owner": {"reputation": 27886, "user_id": 63333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce32261b3151a207d5340154940410c8?s=128&d=identicon&r=PG", "display_name": "Lloyd", "link": "https://stackoverflow.com/users/63333/lloyd"}, "edited": false, "score": 1, "creation_date": 1461790870, "post_id": 36900758, "comment_id": 61365752, "body": "Such drivers are usually platform specific, instead expose the database via a web service over HTTP and interact with it that way."}, {"owner": {"reputation": 93, "user_id": 5212274, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/3f4698779afc925117bc2ef5e50cde23?s=128&d=identicon&r=PG&f=1", "display_name": "JonathanR33D", "link": "https://stackoverflow.com/users/5212274/jonathanr33d"}, "reply_to_user": {"reputation": 27886, "user_id": 63333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce32261b3151a207d5340154940410c8?s=128&d=identicon&r=PG", "display_name": "Lloyd", "link": "https://stackoverflow.com/users/63333/lloyd"}, "edited": false, "score": 0, "creation_date": 1461791137, "post_id": 36900758, "comment_id": 61365908, "body": "Thanks for the quick response. Could you possibly give me a hint for where I should start with that approach? From there I will do all of the research I need. Thanks."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461793715, "post_id": 36900758, "comment_id": 61367160, "body": "web service is the way that I would go for this middle layer.."}], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 2744141, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1217476973/picture?type=large", "display_name": "S&#233;bastien Pertus", "link": "https://stackoverflow.com/users/2744141/s%c3%a9bastien-pertus"}, "is_accepted": false, "score": 1, "last_activity_date": 1461833208, "creation_date": 1461833208, "answer_id": 36909631, "question_id": 36900758, "link": "https://stackoverflow.com/questions/36900758/using-ado-net-in-uwp-apps-possible/36909631#36909631", "title": "Using ADO.NET in UWP apps possible?", "body": "<p>The best way to handle this is to create a full web api solution.\nSo, at the end, you will have</p>\n\n<ol>\n<li>An Azure SQL Database</li>\n<li>A Web API website , which will expose your datas in a JSON format. Using Entity Framework is not mandatory but can help in some way :)</li>\n<li>An UWP application which will request your Web API endpoints</li>\n</ol>\n\n<p>You will find here a complete solution : <a href=\"http://www.asp.net/web-api/overview/data/using-web-api-with-entity-framework/part-1\" rel=\"nofollow\">http://www.asp.net/web-api/overview/data/using-web-api-with-entity-framework/part-1</a> </p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 8640877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89e99f09c9498d45cf34510237fa8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/8640877/praveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1534954224, "creation_date": 1534954224, "answer_id": 51971011, "question_id": 36900758, "link": "https://stackoverflow.com/questions/36900758/using-ado-net-in-uwp-apps-possible/51971011#51971011", "title": "Using ADO.NET in UWP apps possible?", "body": "<p>Latest UWP platform offers connectivity to SQl Server .\nPlease refer \n<a href=\"https://docs.microsoft.com/en-us/windows/uwp/data-access/sql-server-databases\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/uwp/data-access/sql-server-databases</a></p>\n"}], "owner": {"reputation": 93, "user_id": 5212274, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/3f4698779afc925117bc2ef5e50cde23?s=128&d=identicon&r=PG&f=1", "display_name": "JonathanR33D", "link": "https://stackoverflow.com/users/5212274/jonathanr33d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1595006754, "creation_date": 1461790687, "question_id": 36900758, "link": "https://stackoverflow.com/questions/36900758/using-ado-net-in-uwp-apps-possible", "title": "Using ADO.NET in UWP apps possible?", "body": "<p>I am trying to use ADO.NET so that my C# UWP app can access my Azure SQL database but when I try to refer to \"System.Data.SqlClient\", it is not readily available. I tried importing the \"System.Data.dll\" file but that led to a new host of errors.</p>\n\n<p>I'm being led to believe that ADO.NET is not compatible with UWP apps. The problem with that is that I can't find another technology that will allow me to work with my Azure SQL database. Am I missing something here?</p>\n"}, {"tags": ["c#", "ssh", "ssh-tunnel", "ssh.net"], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 0, "last_activity_date": 1461820906, "creation_date": 1461820906, "answer_id": 36905882, "question_id": 36900738, "link": "https://stackoverflow.com/questions/36900738/ssh-net-ssh-client-for-port-forwarding/36905882#36905882", "title": "SSH.NET &gt; SSH client for port forwarding", "body": "<p>To debug problems with forwarded port, start by handling <code>ForwardedPort.Exception</code> event.</p>\n\n<p>Once you find out what exception, if any, is raised, we can help you further.</p>\n"}], "owner": {"reputation": 11, "user_id": 5864969, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j2Z0D4kbaE0/AAAAAAAAAAI/AAAAAAAAAA0/VPLh4QIVYQw/photo.jpg?sz=128", "display_name": "Lucas Santos de Paula", "link": "https://stackoverflow.com/users/5864969/lucas-santos-de-paula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2355, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1461829303, "creation_date": 1461790618, "last_edit_date": 1461829303, "question_id": 36900738, "link": "https://stackoverflow.com/questions/36900738/ssh-net-ssh-client-for-port-forwarding", "title": "SSH.NET &gt; SSH client for port forwarding", "body": "<p>I'm using SSH.NET for coding an GUI to create a connection to a VPS. My intention is to make a proxy server for playing online games.</p>\n\n<p>I need to forward a port dynamically, to create a SOCKS Server and then, Proxifier (another program installed on my computer) can connect to this server.</p>\n\n<p>When I use PuTTY, Proxifier works well, but when I use my software, it's not working.</p>\n\n<p>This is my code:</p>\n\n<pre><code>using (client = new SshClient(\"VPS_IP\", \"USER\", \"PASSWORD\"))\n{\n    client.KeepAliveInterval = new TimeSpan(0, 0, 60);\n\n    client.ConnectionInfo.Timeout = new TimeSpan(0, 0, 50);\n\n    port = new ForwardedPortDynamic(\"127.0.0.1\", portNumber);\n    client.Connect();\n    client.AddForwardedPort(port);\n\n    port.Start();\n\n    if (client.IsConnected &amp;&amp; port.IsStarted)\n    {\n        MessageBox.Show(\"Connected\");\n    }\n\n    System.Threading.Thread.Sleep(20 * 1000);\n}\n</code></pre>\n\n<p>And now, the log of Proxifier</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[48:51] Testing Started.\nProxy Server\nAddress:    127.0.0.1:port\nProtocol:   SOCKS 5\nAuthentication: NO\n\n[48:51] Starting: Test 1: Connection to the Proxy Server\n[48:51] IP Address: 127.0.0.1\n[48:51] Connection established\n[48:51] Test passed.\n[48:51] Starting: Test 2: Connection through the Proxy Server\n[48:51] Authentication was successful.\n[48:51] Error : connection to the proxy server was closed unexpectedly.\n[48:51] Test failed.\n[48:51] Testing Finished.\n</code></pre>\n"}, {"tags": ["c#", "database", "advanced-search", "advanced-filter"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461790782, "post_id": 36900690, "comment_id": 61365710, "body": "are you running your search against Sql Server..? if so then write a simple method that after you click the search button it goes into that event and then you can pass the values of the 3 boxes to a stored procedure creating a simple select based on the <code>IS NULL</code> check this is actually easier than you may think.. and in the Stored procedure or code you would use case when statement or if conditions to handle the <code>ALL</code> key word. also look up how to use the <code>LIKE</code> key word and understand the SQL WILDCARDS % %` and how to use them"}, {"owner": {"reputation": 11, "user_id": 6079070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bdd1eda0f9fcbb2db40265a2b406f54?s=128&d=identicon&r=PG", "display_name": "user6079070", "link": "https://stackoverflow.com/users/6079070/user6079070"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461791227, "post_id": 36900690, "comment_id": 61365955, "body": "Ok, I will work on that. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6079070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bdd1eda0f9fcbb2db40265a2b406f54?s=128&d=identicon&r=PG", "display_name": "user6079070", "link": "https://stackoverflow.com/users/6079070/user6079070"}, "edited": false, "score": 0, "creation_date": 1461794667, "post_id": 36901551, "comment_id": 61367586, "body": "Hmm, Im still new to database but I will work on and consider that. Thank you."}], "tags": [], "owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793789, "creation_date": 1461793789, "answer_id": 36901551, "question_id": 36900690, "link": "https://stackoverflow.com/questions/36900690/advanced-searching-in-c-using-multple-dropdownlist/36901551#36901551", "title": "Advanced searching in c# using multple dropdownlist", "body": "<p>Depends on how you are doing your data access, but this would be much easier and cleaner with Linq. Suppose you were using Linq2SQL or Entity Framework, and had a tables named Homes in your database, then if you had access to the EF context in a variable named <code>ctx</code> you could do something like this (Warning: Air code, and I renamed your combobox1 to something more meaningful)...</p>\n\n<pre><code>var homes = ctx.Homes;\nif (cmbRentAmount.Text != \"All\") {\n  homes = homes.Where(h =&gt; h.RentAmount == cmbRentAmount.Text);\n}\n// Similar for the other two combos\n// ...\n// Now we enumerate the query, which does the actual database access\nvar homesList = homes.ToList();\n</code></pre>\n\n<p>Note that the <code>homes</code> variable in the first line is an unenumerated query, meaning that L2S/EF doesn't actually query the database yet. You go through your three combos, modifying the query if the user selected something. When you enumerate <code>homes</code>, it will execute the query, and give you the results you want.</p>\n"}], "owner": {"reputation": 11, "user_id": 6079070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bdd1eda0f9fcbb2db40265a2b406f54?s=128&d=identicon&r=PG", "display_name": "user6079070", "link": "https://stackoverflow.com/users/6079070/user6079070"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461793789, "creation_date": 1461790441, "question_id": 36900690, "link": "https://stackoverflow.com/questions/36900690/advanced-searching-in-c-using-multple-dropdownlist", "title": "Advanced searching in c# using multple dropdownlist", "body": "<p>Hi I am into a homefinder project that should have an advanced search filter. It should have 3 dropdownlist from where the user can select rent amount, location, and gender type or the user can also Not select any bcause it has default value \"ALL\" which leads to showing all the houses stored n the database but if the user selects one or two values from the dropdownlist with the other default value as \"ALL\", or all the three has values, it should lead to the union of them. I tried using if statements</p>\n\n<pre><code>If (combobox1.text == \"ALL\" &amp;&amp; combobox2.text == \"ALL\" &amp;&amp; combobox3.text == \"ALL\")\n{\n // shows all the homes\n}\nelse if ( combobox1.text != \"ALL\" &amp;&amp; combobox2.text == \"ALL\" &amp;&amp; combobox3.text == \"ALL\")\n{\n // say combobox1 is rent amount, shows all the homes having that rent amount\n}\n\nelse if (combobox1.text == \"ALL\" &amp;&amp; combobox2.text != \"ALL\" &amp;&amp; combobox3.text == \"ALL\")\n{\n   // say combobox2 is gender type shows all the homes having that        gender category\n   if (combox2.text == \"Female\")\n     // all homes w \"female\"\n   else\n     // all homes w male\n}\n\nelse if ( combobox1.text == \"ALL\" &amp;&amp; combobox2.text == \"ALL\" &amp;&amp; combobox3.text != \"ALL\")\n{\n// say combobox3 is location, shows all homes in that location\n}\n\nelse if ( combobox1.text != \"ALL\" &amp;&amp; combobox2.text != \"ALL\" &amp;&amp; combobox3.text != \"ALL\")\n{\n}\nelse if ( combobox1.text != \"ALL\" &amp;&amp; combobox2.text != \"ALL\" &amp;&amp;   combobox3.text == \"ALL\")\n{\n}\n</code></pre>\n\n<p>and so on, this is the code I have thought so far :l  how can I make the intersection of them. Like if I choose 500 under rentamount and 1st Street under location, how can I find the homes with 500 as rent amount that is located in the 1st Street?</p>\n\n<p>And by the way, i already know how to show homes. My worry is just on how to find the intersections of the items in the dropdownlist.</p>\n\n<p>Any help from you is appreaciated. Thank you</p>\n"}, {"tags": ["c#", "visual-studio", "debugging", "visual-studio-2015", "intellisense"], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 0, "creation_date": 1461851272, "post_id": 36901162, "comment_id": 61395330, "body": "I don&#39;t have the &#39;Modules&#39; option you mentioned in 1. <a href=\"http://imgur.com/d1YcDbC\" rel=\"nofollow noreferrer\">This is my menu</a>. I&#39;m building in debug and I checked a few output folders for PDBs just to be sure. Every project has Enable Visual Studio Hosting Process ticked and Debug Info is set to Full for all of them."}, {"owner": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 0, "creation_date": 1461851493, "post_id": 36901162, "comment_id": 61395490, "body": "The project has been around for years and it even worked fine on my old computer, it just isn&#39;t working on my current computer. Out of the few engineers who got new computers, I&#39;m the only one with this problem."}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "reply_to_user": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 0, "creation_date": 1461851848, "post_id": 36901162, "comment_id": 61395770, "body": "Hmm, weird. By wrong template I meant Import settings as seen in the pics in this post: <a href=\"http://stackoverflow.com/questions/31604119/visual-studio-test-missing-from-the-main-menu\" title=\"visual studio test missing from the main menu\">stackoverflow.com/questions/31604119/&hellip;</a>"}, {"owner": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 1, "creation_date": 1461851963, "post_id": 36901162, "comment_id": 61395872, "body": "Ah I see. I&#39;ll have to look into that. I missed a couple of details in my original post and have since found the Modules option, which is showing nothing. I&#39;ll edit the question to include those details."}, {"owner": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 0, "creation_date": 1461852987, "post_id": 36901162, "comment_id": 61396655, "body": "I just reset to the Visual C# configuration and that didn&#39;t resolve the problem."}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "reply_to_user": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "edited": false, "score": 0, "creation_date": 1461896287, "post_id": 36901162, "comment_id": 61417450, "body": "To save you from reinstalling or at worst case rebuiling see my point number 6."}, {"owner": {"reputation": 6556, "user_id": 254882, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4KU68.jpg?s=128&g=1", "display_name": "g t", "link": "https://stackoverflow.com/users/254882/g-t"}, "edited": false, "score": 0, "creation_date": 1573455650, "post_id": 36901162, "comment_id": 103874511, "body": "Note that the &#39;Modules&#39; option will only be available in the <i>Debug &gt; Windows</i> menu while your application is running. Try <i>Tools &gt; Options... &gt; Debugging &gt; Symbols</i> before the app starts for similar symbol loading options."}], "tags": [], "owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "is_accepted": false, "score": 3, "last_activity_date": 1461896249, "last_edit_date": 1495535634, "creation_date": 1461792208, "answer_id": 36901162, "question_id": 36900573, "link": "https://stackoverflow.com/questions/36900573/visual-studio-debugger-isnt-attaching/36901162#36901162", "title": "Visual Studio debugger isn&#39;t attaching", "body": "<p>It's going to be something like:</p>\n\n<ol>\n<li><p>The Symbols aren't loaded. Debug menu > Windows > Modules and confirm</p></li>\n<li><p>There are no pdb files. Check you're building in Debug Mode</p></li>\n<li><p>Goto Project properties > Debug > check the settings and Enable Visual Studio Hosting Process is ticked</p></li>\n<li><p>Goto Project properties > Advanced Build Settings and make sure Debug Info is set to Full</p></li>\n<li><p>Also check the import settings wizard (if you're missing menus):</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/bnvCm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnvCm.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"6\">\n<li>The wow64 emulation layer that allows 32-bit code to run on the 64-bit version of Windows 7 swallows exceptions in the code that runs in response to a notification generated by the 64-bit window manager, like the Load event. Preventing the debugger from seeing it and stepping in. <a href=\"https://stackoverflow.com/a/4934010/495455\">https://stackoverflow.com/a/4934010/495455</a></li>\n</ol>\n"}], "owner": {"reputation": 332, "user_id": 902940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06cf9718ad97cc7b379cf4b535a6c90?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/902940/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2369, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1461896249, "creation_date": 1461790058, "last_edit_date": 1495542399, "question_id": 36900573, "link": "https://stackoverflow.com/questions/36900573/visual-studio-debugger-isnt-attaching", "title": "Visual Studio debugger isn&#39;t attaching", "body": "<p>I'm having two problems which center on the debugger. I'm not sure if they share the same cause but they definitely seem related.</p>\n\n<ol>\n<li>When I open my solution in Visual Studio Enterprise 2015, I get this message: <a href=\"https://imgur.com/JwPiMLy\" rel=\"nofollow noreferrer\">Automatically attaching to support this behavior was not completely successful</a></li>\n<li>When I start the program directly from the executable and try to attach to the process in visual studio, I get this message: <a href=\"https://imgur.com/rclklta\" rel=\"nofollow noreferrer\">Unable to attach to the process. No more data is available.</a></li>\n</ol>\n\n<p>After dismissing the message box I get in step 2, the IDE definitely thinks it's attached to something. The Debug toolbar shows active Break All and Stop Debugging buttons and I can select Debug > Detach All. It's not hitting any of the breakpoints I set.</p>\n\n<p>Per Jeremy's answer, I went to Debug > Windows > Modules and it <a href=\"https://imgur.com/dqiJ0bC\" rel=\"nofollow noreferrer\">showed nothing</a> in the list. The debug output also immediately says the program exited with code 0 (bottom left of that screen cap).</p>\n\n<p><hr />\nThe following are related questions and answers I've come across. None of the posted solutions worked.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3996139/unable-to-attach-to-the-process\">This question</a> is only kind of similar and I set VS to always run as administrator.\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/3996333/902940\">This answer</a> to that question led me to modify the Debug Programs policy in <a href=\"https://technet.microsoft.com/en-us/library/dn221969.aspx\" rel=\"nofollow noreferrer\">User Rights Assignment</a> to include my account. It previously only included the Administrators group which my account is part of but I took a shot.</li>\n</ul></li>\n<li><a href=\"https://stackoverflow.com/questions/6065548/automatically-attaching-to-support-behavior-not-completely-successful\">This question</a> is similar to bullet 1 above. My Visual Studio is completely up-to-date. I also tried enabling SQL Server debugging as some of the answers suggested but that didn't do anything.</li>\n</ul>\n"}, {"tags": ["c#", "mysql", "asp.net"], "comments": [{"owner": {"reputation": 900, "user_id": 4389062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1298021510/picture?type=large", "display_name": "Dan Orlovsky", "link": "https://stackoverflow.com/users/4389062/dan-orlovsky"}, "edited": false, "score": 0, "creation_date": 1461790890, "post_id": 36900556, "comment_id": 61365761, "body": "When you try to define the literals in CodeBehind, you get the already defined error - but when not, you&#39;re getting: &quot;prijs does not exist in the current context&quot;?"}, {"owner": {"reputation": 100, "user_id": 990898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31e39519e78dbf8ec9f0cf3b8dfdff4?s=128&d=identicon&r=PG", "display_name": "Harbie", "link": "https://stackoverflow.com/users/990898/harbie"}, "edited": false, "score": 1, "creation_date": 1461791043, "post_id": 36900556, "comment_id": 61365865, "body": "Pretty sure we can&#39;t see the issue with what you are showing now. Been awhile since I used .aspx defaults but &quot;naam&quot; is likely defined already. You said you added the tag to the .aspx file, it would have added the member definition automatically to the generated portion of the .cs file. If you added your own &quot;naam&quot; member, it&#39;ll throw a compile error."}, {"owner": {"reputation": 37, "user_id": 5494102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001381743259613/picture?type=large", "display_name": "Kenny", "link": "https://stackoverflow.com/users/5494102/kenny"}, "reply_to_user": {"reputation": 900, "user_id": 4389062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1298021510/picture?type=large", "display_name": "Dan Orlovsky", "link": "https://stackoverflow.com/users/4389062/dan-orlovsky"}, "edited": false, "score": 0, "creation_date": 1461827605, "post_id": 36900556, "comment_id": 61378520, "body": "@DanOrlovsky exactly that!"}, {"owner": {"reputation": 900, "user_id": 4389062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1298021510/picture?type=large", "display_name": "Dan Orlovsky", "link": "https://stackoverflow.com/users/4389062/dan-orlovsky"}, "edited": false, "score": 0, "creation_date": 1461845653, "post_id": 36900556, "comment_id": 61390700, "body": "@Kenny - are you still having the issue?  If so, where are you calling the function getProductDetails() from?"}], "owner": {"reputation": 37, "user_id": 5494102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001381743259613/picture?type=large", "display_name": "Kenny", "link": "https://stackoverflow.com/users/5494102/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465199741, "creation_date": 1461790012, "last_edit_date": 1465199741, "question_id": 36900556, "link": "https://stackoverflow.com/questions/36900556/literal-name-does-not-exist-in-current-context", "title": "Literal name does not exist in current context", "body": "<p>Ive been running into a problem for a schoolproject and I can't get my head around it... (used to java, new to C# / ASP.NET). I've searched far and wide but nothing that helped me so far... </p>\n\n<p>I just want to query data from my MySql database and show this data using Literate's on my <code>.aspx</code> page. The error message would make me think this is a scope-issue and / or I just defined something at the wrong time/place... </p>\n\n<p>However, I have tried defining both the prijs &amp; naam Literate at the main class itself it throws an error: </p>\n\n<blockquote>\n  <p>CS0102: The type 'ProductDetails' already contains a definition for 'naam' </p>\n</blockquote>\n\n<p>and besides, wouldnt using the <code>&lt;asp:Literal&gt;</code> tag on the <code>.aspx</code> page already define it from the start? </p>\n\n<p><strong>ProductDetails.aspx</strong></p>\n\n<pre><code>&lt;asp:Literal ID=\"prijs\" runat=\"server\" /&gt;\n&lt;asp:Literal ID=\"naam\" runat=\"server\" /&gt;\n</code></pre>\n\n<p><strong>ProductDetails.aspx.cs</strong></p>\n\n<pre><code>    private void getProdDetails()\n    {\n        connString = System.Configuration.ConfigurationManager.ConnectionStrings[\"webshopConnString\"].ToString();\n        queryStr = \"SELECT * FROM inf_c_13026984.product WHERE productID=1\";\n\n        conn = new MySql.Data.MySqlClient.MySqlConnection(connString);\n        cmd = new MySql.Data.MySqlClient.MySqlCommand(queryStr, conn);\n\n        try\n        {\n            conn.Open();\n            reader = cmd.ExecuteReader();\n\n            while (reader.Read())\n            {\n                prijs.Text = reader.GetValue(2).ToString();\n                naam.Text = reader.GetValue(3).ToString();\n            }\n        }\n        catch (MySqlException ex)\n        {\n            Console.WriteLine(ex);\n        }\n        finally\n        {\n            conn.Close();\n        }\n</code></pre>\n\n<p>Many, many thanks for any help/advice/pointers in advance!!!!</p>\n"}, {"tags": ["c#", "wpf", "xaml", "combobox"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1462390282, "post_id": 36900528, "comment_id": 61623095, "body": "Did you ever find your solution?"}, {"owner": {"reputation": 189, "user_id": 4906746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d38f2b12fce2698f9864ab182a0b56?s=128&d=identicon&r=PG&f=1", "display_name": "jan kowalski", "link": "https://stackoverflow.com/users/4906746/jan-kowalski"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1462564019, "post_id": 36900528, "comment_id": 61705363, "body": "Hi Crhis and the others. Yesterday I have came back to this project and I have finished it. Actually, I could not use your code, there was some missing reference or other problem, Visual Studio have not recognized something. But going behind your proposal, I have tried by myself option Copy Template to app resources and there i have tried to change all properties responsible for colours for example and finally I customized combobox more or less as I wanted, just arrow have disappear, but this is no big matter. THANK YOU ! I upvoted your answer ! All of guys have a nice day !"}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1462564559, "post_id": 36900528, "comment_id": 61705643, "body": "Ya sometimes there&#39;s little nuance differences so I prefer to use templates copied straight from the project instead of from &quot;default&quot; documentation. Glad you got a solution!"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4906746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d38f2b12fce2698f9864ab182a0b56?s=128&d=identicon&r=PG&f=1", "display_name": "jan kowalski", "link": "https://stackoverflow.com/users/4906746/jan-kowalski"}, "edited": false, "score": 0, "creation_date": 1461795792, "post_id": 36901928, "comment_id": 61368041, "body": "Thank you for your time and answer. Unfortunatelly, this is not solving my problem.  I have added it to app.xaml into application resources, then the combobox is disappearing at all. In the other way if I try to put it inside &lt;ComboBox&gt; &lt;/ComboBox&gt; then the following error is occuring while I try to enter window containing this combobox.   An unhandled exception of type &#39;System.InvalidOperationException&#39; occurred in PresentationFramework.dll Additional information: Items collection must be empty before using ItemsSource."}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "reply_to_user": {"reputation": 189, "user_id": 4906746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d38f2b12fce2698f9864ab182a0b56?s=128&d=identicon&r=PG&f=1", "display_name": "jan kowalski", "link": "https://stackoverflow.com/users/4906746/jan-kowalski"}, "edited": false, "score": 0, "creation_date": 1461796093, "post_id": 36901928, "comment_id": 61368158, "body": "The style in the answer is correct, it seems you don&#39;t know how to use styles. Also, remove the OverridesDefaultStyle setter."}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1461811502, "post_id": 36901928, "comment_id": 61372388, "body": "I&#39;m sure you just didn&#39;t take a peek at the actual template first, or test your answer first, but your answer in the case of changing <code>IsMouseOver</code> is not correct brother. So no reason to knock the OP."}, {"owner": {"reputation": 875, "user_id": 616813, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/877cdb25bf721050b29dab4da69d3052?s=128&d=identicon&r=PG", "display_name": "jitendragarg", "link": "https://stackoverflow.com/users/616813/jitendragarg"}, "edited": false, "score": 0, "creation_date": 1461818855, "post_id": 36901928, "comment_id": 61374495, "body": "His answer is correct, only problem is that he is not inheriting the default style. He just need to add &quot;BasedOn&#39; attribute."}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": false, "score": 1, "last_activity_date": 1461796116, "last_edit_date": 1461796116, "creation_date": 1461795436, "answer_id": 36901928, "question_id": 36900528, "link": "https://stackoverflow.com/questions/36900528/how-to-change-color-of-border-of-combobox-while-mouse-is-over-in-wpf/36901928#36901928", "title": "How to change color of border of combobox while mouse is over in WPF?", "body": "<p>By replacing the Template of the ComboBox you have completely replaced all visual elements of the control. Instead of re-templating you can achieve the effect you want by adding your triggers to the style instead and leave the original template intact:</p>\n\n<pre><code>&lt;Style TargetType=\"ComboBox\"&gt;\n    &lt;Setter Property=\"Foreground\" Value=\"#000000\"/&gt;\n    &lt;Style.Triggers&gt;\n        &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n            &lt;Setter Property=\"BorderBrush\" Value=\"#FF0000\" /&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"#FF0000\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>If you want to re-template the control you can find full customisable templates on MSDN that should still support all of the standard functionality.</p>\n"}, {"tags": [], "owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1461811312, "creation_date": 1461811312, "answer_id": 36904321, "question_id": 36900528, "link": "https://stackoverflow.com/questions/36900528/how-to-change-color-of-border-of-combobox-while-mouse-is-over-in-wpf/36904321#36904321", "title": "How to change color of border of combobox while mouse is over in WPF?", "body": "<p>So if you were to take a look at the default <code>ComboBox</code> template (Right Click->Edit Template->Edit a copy) there's a bunch of brushes listed as resources. One of those is;</p>\n\n<pre><code>&lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Border\" Color=\"#FF7EB4EA\"/&gt;\n</code></pre>\n\n<p>If you go a little further down, you'll see the embedded <code>ToggleButton</code> which is what <code>BorderBrush</code> is actually bound to. The first thing this tells us is <code>ComboBox</code> isn't the <code>TargetType</code> you're aiming for.</p>\n\n<pre><code>&lt;ToggleButton x:Name=\"toggleButton\" \n              BorderBrush=\"{TemplateBinding BorderBrush}\" \n              BorderThickness=\"{TemplateBinding BorderThickness}\" \n              Background=\"{TemplateBinding Background}\" \n              Grid.ColumnSpan=\"2\" \n              IsChecked=\"{Binding IsDropDownOpen, Mode=TwoWay, \n                                  RelativeSource={RelativeSource TemplatedParent}}\" \n              Style=\"{StaticResource ComboBoxToggleButton}\"/&gt;\n</code></pre>\n\n<p>Notice the <code>ComboBoxToggleButton</code> style set on there? That's the next clue. If we check out that particular style's Triggers, more specifically for <code>IsMouseOver</code> see it using that <code>Brush</code> resource we found first;</p>\n\n<pre><code>&lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" \n        Value=\"{StaticResource ComboBox.MouseOver.Border}\"/&gt;\n</code></pre>\n\n<p>Ouch right? Guess it's not as simple as some hope with just hitting <code>BorderBrush</code> in the case like this when we want to alter the an actual <code>ControlTemplate.Triggers</code> <code>Setter</code>.</p>\n\n<p>I hope you've been following along at this point and have already extracted the default <code>ComboBox</code> style template with the directions in the first sentence because here's your answer part.</p>\n\n<ol>\n<li><p>You'll need to extract the template, after you do the \"Edit A Copy\" part choose your app.xaml or another resource dictionary and plop it in there, what you name it doesn't matter.</p></li>\n<li><p>Then you'll just find the <code>x:Key=\"ComboBox.MouseOver.Border\"</code> <code>SolidColorBrush</code> mentioned first and replace the current color with your own.</p></li>\n<li><p>Since you want this to be universal now, you'll just find the <code>Style</code> of <code>TargetType=\"{x:Type ComboBox}\"</code> and simple delete the <code>x:Key=\"blah\"</code> name you gave it when you extracted the template.</p></li>\n</ol>\n\n<p>Voila, universal <code>IsMouseOver</code> change on your <code>ComboBox</code> controls. Hope this helps. This sort of thing really is much easier when it's not a scenario of an embedded control with it's own <code>IsMouseOver</code> <code>ControlTemplate.Triggers</code></p>\n\n<p>...and in case you run into troubles. Here's an example you can just throw in Whatever.Resources or your resource dictionary. Don't be intimidated by the size, it's all parts of the template. Plus when you need to make other changes in the future it will be a lot easier to just do them here;</p>\n\n<pre><code>&lt;Style x:Key=\"FocusVisual\"&gt;\n            &lt;Setter Property=\"Control.Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate&gt;\n                        &lt;Rectangle Margin=\"2\" SnapsToDevicePixels=\"true\" Stroke=\"{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}\" StrokeThickness=\"1\" StrokeDashArray=\"1 2\"/&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n        &lt;LinearGradientBrush x:Key=\"ComboBox.Static.Background\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n            &lt;GradientStop Color=\"#FFF0F0F0\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#FFE5E5E5\" Offset=\"1.0\"/&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Border\" Color=\"#FFACACAC\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Editable.Background\" Color=\"#FFFFFFFF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Editable.Border\" Color=\"#FFABADB3\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Editable.Button.Background\" Color=\"Transparent\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Editable.Button.Border\" Color=\"Transparent\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Glyph\" Color=\"#FF000000\"/&gt;\n        &lt;LinearGradientBrush x:Key=\"ComboBox.MouseOver.Background\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n            &lt;GradientStop Color=\"#FFECF4FC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#FFDCECFC\" Offset=\"1.0\"/&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Border\" Color=\"#FFFF0000\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Editable.Background\" Color=\"#FFFFFFFF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Editable.Border\" Color=\"#FF7EB4EA\"/&gt;\n        &lt;LinearGradientBrush x:Key=\"ComboBox.MouseOver.Editable.Button.Background\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n            &lt;GradientStop Color=\"#FFEBF4FC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#FFDCECFC\" Offset=\"1.0\"/&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.MouseOver.Editable.Button.Border\" Color=\"#FF7EB4EA\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Pressed.Glyph\" Color=\"#FF000000\"/&gt;\n        &lt;LinearGradientBrush x:Key=\"ComboBox.Pressed.Background\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n            &lt;GradientStop Color=\"#FFDAECFC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#FFC4E0FC\" Offset=\"1.0\"/&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Pressed.Border\" Color=\"#FF569DE5\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Pressed.Editable.Background\" Color=\"#FFFFFFFF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Pressed.Editable.Border\" Color=\"#FF569DE5\"/&gt;\n        &lt;LinearGradientBrush x:Key=\"ComboBox.Pressed.Editable.Button.Background\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n            &lt;GradientStop Color=\"#FFDAEBFC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#FFC4E0FC\" Offset=\"1.0\"/&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Pressed.Editable.Button.Border\" Color=\"#FF569DE5\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Glyph\" Color=\"#FFBFBFBF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Background\" Color=\"#FFF0F0F0\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Border\" Color=\"#FFD9D9D9\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Editable.Background\" Color=\"#FFFFFFFF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Editable.Border\" Color=\"#FFBFBFBF\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Editable.Button.Background\" Color=\"Transparent\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Disabled.Editable.Button.Border\" Color=\"Transparent\"/&gt;\n        &lt;SolidColorBrush x:Key=\"ComboBox.Static.Glyph\" Color=\"#FF606060\"/&gt;\n        &lt;!-- // --&gt;\n        &lt;Style x:Key=\"ComboBoxToggleButton\" TargetType=\"{x:Type ToggleButton}\"&gt;\n            &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"true\"/&gt;\n            &lt;Setter Property=\"IsTabStop\" Value=\"false\"/&gt;\n            &lt;Setter Property=\"Focusable\" Value=\"false\"/&gt;\n            &lt;Setter Property=\"ClickMode\" Value=\"Press\"/&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"{x:Type ToggleButton}\"&gt;\n                        &lt;Border x:Name=\"templateRoot\" BorderBrush=\"{StaticResource ComboBox.Static.Border}\" BorderThickness=\"{TemplateBinding BorderThickness}\" Background=\"{StaticResource ComboBox.Static.Background}\" SnapsToDevicePixels=\"true\"&gt;\n                            &lt;Border x:Name=\"splitBorder\" BorderBrush=\"Transparent\" BorderThickness=\"1\" HorizontalAlignment=\"Right\" Margin=\"0\" SnapsToDevicePixels=\"true\" Width=\"{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}\"&gt;\n                                &lt;Path x:Name=\"arrow\" Data=\"F1 M 0,0 L 2.667,2.66665 L 5.3334,0 L 5.3334,-1.78168 L 2.6667,0.88501 L0,-1.78168 L0,0 Z\" Fill=\"{StaticResource ComboBox.Static.Glyph}\" HorizontalAlignment=\"Center\" Margin=\"0\" VerticalAlignment=\"Center\"/&gt;\n                            &lt;/Border&gt;\n                        &lt;/Border&gt;\n                        &lt;ControlTemplate.Triggers&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"true\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsMouseOver, RelativeSource={RelativeSource Self}}\" Value=\"false\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsPressed, RelativeSource={RelativeSource Self}}\" Value=\"false\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEnabled, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Static.Editable.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Static.Editable.Border}\"/&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Static.Editable.Button.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Static.Editable.Button.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;Trigger Property=\"IsMouseOver\" Value=\"true\"&gt;\n                                &lt;Setter Property=\"Fill\" TargetName=\"arrow\" Value=\"{StaticResource ComboBox.MouseOver.Glyph}\"/&gt;\n                            &lt;/Trigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsMouseOver, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"false\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.MouseOver.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"#FFFF0000\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsMouseOver, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"true\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.MouseOver.Editable.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.MouseOver.Editable.Border}\"/&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.MouseOver.Editable.Button.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.MouseOver.Editable.Button.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;Trigger Property=\"IsPressed\" Value=\"true\"&gt;\n                                &lt;Setter Property=\"Fill\" TargetName=\"arrow\" Value=\"{StaticResource ComboBox.Pressed.Glyph}\"/&gt;\n                            &lt;/Trigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsPressed, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"false\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Pressed.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Pressed.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsPressed, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"true\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Pressed.Editable.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Pressed.Editable.Border}\"/&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Pressed.Editable.Button.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Pressed.Editable.Button.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                                &lt;Setter Property=\"Fill\" TargetName=\"arrow\" Value=\"{StaticResource ComboBox.Disabled.Glyph}\"/&gt;\n                            &lt;/Trigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsEnabled, RelativeSource={RelativeSource Self}}\" Value=\"false\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"false\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Disabled.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Disabled.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                            &lt;MultiDataTrigger&gt;\n                                &lt;MultiDataTrigger.Conditions&gt;\n                                    &lt;Condition Binding=\"{Binding IsEnabled, RelativeSource={RelativeSource Self}}\" Value=\"false\"/&gt;\n                                    &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource AncestorType={x:Type ComboBox}}}\" Value=\"true\"/&gt;\n                                &lt;/MultiDataTrigger.Conditions&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Disabled.Editable.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"{StaticResource ComboBox.Disabled.Editable.Border}\"/&gt;\n                                &lt;Setter Property=\"Background\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Disabled.Editable.Button.Background}\"/&gt;\n                                &lt;Setter Property=\"BorderBrush\" TargetName=\"splitBorder\" Value=\"{StaticResource ComboBox.Disabled.Editable.Button.Border}\"/&gt;\n                            &lt;/MultiDataTrigger&gt;\n                        &lt;/ControlTemplate.Triggers&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n       &lt;!-- // --&gt;\n        &lt;ControlTemplate x:Key=\"ComboBoxTemplate\" TargetType=\"{x:Type ComboBox}\"&gt;\n            &lt;Grid x:Name=\"templateRoot\" SnapsToDevicePixels=\"true\"&gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=\"*\"/&gt;\n                    &lt;ColumnDefinition MinWidth=\"{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}\" Width=\"0\"/&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;Popup x:Name=\"PART_Popup\" AllowsTransparency=\"true\" Grid.ColumnSpan=\"2\" IsOpen=\"{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\" Margin=\"1\" PopupAnimation=\"{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}\" Placement=\"Bottom\"&gt;\n                    &lt;Themes:SystemDropShadowChrome x:Name=\"shadow\" Color=\"Transparent\" MaxHeight=\"{TemplateBinding MaxDropDownHeight}\" MinWidth=\"{Binding ActualWidth, ElementName=templateRoot}\"&gt;\n                        &lt;Border x:Name=\"dropDownBorder\" BorderBrush=\"{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}\" BorderThickness=\"1\" Background=\"{DynamicResource {x:Static SystemColors.WindowBrushKey}}\"&gt;\n                            &lt;ScrollViewer x:Name=\"DropDownScrollViewer\"&gt;\n                                &lt;Grid x:Name=\"grid\" RenderOptions.ClearTypeHint=\"Enabled\"&gt;\n                                    &lt;Canvas x:Name=\"canvas\" HorizontalAlignment=\"Left\" Height=\"0\" VerticalAlignment=\"Top\" Width=\"0\"&gt;\n                                        &lt;Rectangle x:Name=\"opaqueRect\" Fill=\"{Binding Background, ElementName=dropDownBorder}\" Height=\"{Binding ActualHeight, ElementName=dropDownBorder}\" Width=\"{Binding ActualWidth, ElementName=dropDownBorder}\"/&gt;\n                                    &lt;/Canvas&gt;\n                                    &lt;ItemsPresenter x:Name=\"ItemsPresenter\" KeyboardNavigation.DirectionalNavigation=\"Contained\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\"/&gt;\n                                &lt;/Grid&gt;\n                            &lt;/ScrollViewer&gt;\n                        &lt;/Border&gt;\n                    &lt;/Themes:SystemDropShadowChrome&gt;\n                &lt;/Popup&gt;\n                &lt;ToggleButton x:Name=\"toggleButton\" BorderBrush=\"{TemplateBinding BorderBrush}\" BorderThickness=\"{TemplateBinding BorderThickness}\" Background=\"{TemplateBinding Background}\" Grid.ColumnSpan=\"2\" IsChecked=\"{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\" Style=\"{StaticResource ComboBoxToggleButton}\"/&gt;\n                &lt;ContentPresenter x:Name=\"contentPresenter\" ContentTemplate=\"{TemplateBinding SelectionBoxItemTemplate}\" ContentTemplateSelector=\"{TemplateBinding ItemTemplateSelector}\" Content=\"{TemplateBinding SelectionBoxItem}\" ContentStringFormat=\"{TemplateBinding SelectionBoxItemStringFormat}\" HorizontalAlignment=\"{TemplateBinding HorizontalContentAlignment}\" IsHitTestVisible=\"false\" Margin=\"{TemplateBinding Padding}\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\" VerticalAlignment=\"{TemplateBinding VerticalContentAlignment}\"/&gt;\n            &lt;/Grid&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"HasDropShadow\" SourceName=\"PART_Popup\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"Margin\" TargetName=\"shadow\" Value=\"0,0,5,5\"/&gt;\n                    &lt;Setter Property=\"Color\" TargetName=\"shadow\" Value=\"#71000000\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;Trigger Property=\"HasItems\" Value=\"false\"&gt;\n                    &lt;Setter Property=\"Height\" TargetName=\"dropDownBorder\" Value=\"95\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;MultiTrigger&gt;\n                    &lt;MultiTrigger.Conditions&gt;\n                        &lt;Condition Property=\"IsGrouping\" Value=\"true\"/&gt;\n                        &lt;Condition Property=\"VirtualizingPanel.IsVirtualizingWhenGrouping\" Value=\"false\"/&gt;\n                    &lt;/MultiTrigger.Conditions&gt;\n                    &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"false\"/&gt;\n                &lt;/MultiTrigger&gt;\n                &lt;Trigger Property=\"ScrollViewer.CanContentScroll\" SourceName=\"DropDownScrollViewer\" Value=\"false\"&gt;\n                    &lt;Setter Property=\"Canvas.Top\" TargetName=\"opaqueRect\" Value=\"{Binding VerticalOffset, ElementName=DropDownScrollViewer}\"/&gt;\n                    &lt;Setter Property=\"Canvas.Left\" TargetName=\"opaqueRect\" Value=\"{Binding HorizontalOffset, ElementName=DropDownScrollViewer}\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n        &lt;SolidColorBrush x:Key=\"TextBox.Static.Background\" Color=\"#FFFFFFFF\"/&gt;\n        &lt;Style x:Key=\"ComboBoxEditableTextBox\" TargetType=\"{x:Type TextBox}\"&gt;\n            &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"true\"/&gt;\n            &lt;Setter Property=\"AllowDrop\" Value=\"true\"/&gt;\n            &lt;Setter Property=\"MinWidth\" Value=\"0\"/&gt;\n            &lt;Setter Property=\"MinHeight\" Value=\"0\"/&gt;\n            &lt;Setter Property=\"FocusVisualStyle\" Value=\"{x:Null}\"/&gt;\n            &lt;Setter Property=\"ScrollViewer.PanningMode\" Value=\"VerticalFirst\"/&gt;\n            &lt;Setter Property=\"Stylus.IsFlicksEnabled\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"{x:Type TextBox}\"&gt;\n                        &lt;ScrollViewer x:Name=\"PART_ContentHost\" Background=\"Transparent\" Focusable=\"false\" HorizontalScrollBarVisibility=\"Hidden\" VerticalScrollBarVisibility=\"Hidden\"/&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n        &lt;ControlTemplate x:Key=\"ComboBoxEditableTemplate\" TargetType=\"{x:Type ComboBox}\"&gt;\n            &lt;Grid x:Name=\"templateRoot\" SnapsToDevicePixels=\"true\"&gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=\"*\"/&gt;\n                    &lt;ColumnDefinition MinWidth=\"{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}\" Width=\"0\"/&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;Popup x:Name=\"PART_Popup\" AllowsTransparency=\"true\" Grid.ColumnSpan=\"2\" IsOpen=\"{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}\" PopupAnimation=\"{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}\" Placement=\"Bottom\"&gt;\n                    &lt;Themes:SystemDropShadowChrome x:Name=\"shadow\" Color=\"Transparent\" MaxHeight=\"{TemplateBinding MaxDropDownHeight}\" MinWidth=\"{Binding ActualWidth, ElementName=templateRoot}\"&gt;\n                        &lt;Border x:Name=\"dropDownBorder\" BorderBrush=\"{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}\" BorderThickness=\"1\" Background=\"{DynamicResource {x:Static SystemColors.WindowBrushKey}}\"&gt;\n                            &lt;ScrollViewer x:Name=\"DropDownScrollViewer\"&gt;\n                                &lt;Grid x:Name=\"grid\" RenderOptions.ClearTypeHint=\"Enabled\"&gt;\n                                    &lt;Canvas x:Name=\"canvas\" HorizontalAlignment=\"Left\" Height=\"0\" VerticalAlignment=\"Top\" Width=\"0\"&gt;\n                                        &lt;Rectangle x:Name=\"opaqueRect\" Fill=\"{Binding Background, ElementName=dropDownBorder}\" Height=\"{Binding ActualHeight, ElementName=dropDownBorder}\" Width=\"{Binding ActualWidth, ElementName=dropDownBorder}\"/&gt;\n                                    &lt;/Canvas&gt;\n                                    &lt;ItemsPresenter x:Name=\"ItemsPresenter\" KeyboardNavigation.DirectionalNavigation=\"Contained\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\"/&gt;\n                                &lt;/Grid&gt;\n                            &lt;/ScrollViewer&gt;\n                        &lt;/Border&gt;\n                    &lt;/Themes:SystemDropShadowChrome&gt;\n                &lt;/Popup&gt;\n                &lt;ToggleButton x:Name=\"toggleButton\" BorderBrush=\"{TemplateBinding BorderBrush}\" BorderThickness=\"{TemplateBinding BorderThickness}\" Background=\"{TemplateBinding Background}\" Grid.ColumnSpan=\"2\" IsChecked=\"{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\" Style=\"{StaticResource ComboBoxToggleButton}\"/&gt;\n                &lt;Border x:Name=\"border\" Background=\"{StaticResource TextBox.Static.Background}\" Margin=\"{TemplateBinding BorderThickness}\"&gt;\n                    &lt;TextBox x:Name=\"PART_EditableTextBox\" HorizontalContentAlignment=\"{TemplateBinding HorizontalContentAlignment}\" IsReadOnly=\"{Binding IsReadOnly, RelativeSource={RelativeSource TemplatedParent}}\" Margin=\"{TemplateBinding Padding}\" Style=\"{StaticResource ComboBoxEditableTextBox}\" VerticalContentAlignment=\"{TemplateBinding VerticalContentAlignment}\"/&gt;\n                &lt;/Border&gt;\n            &lt;/Grid&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                    &lt;Setter Property=\"Opacity\" TargetName=\"border\" Value=\"0.56\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;Trigger Property=\"IsKeyboardFocusWithin\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"Foreground\" Value=\"Black\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;Trigger Property=\"HasDropShadow\" SourceName=\"PART_Popup\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"Margin\" TargetName=\"shadow\" Value=\"0,0,5,5\"/&gt;\n                    &lt;Setter Property=\"Color\" TargetName=\"shadow\" Value=\"#71000000\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;Trigger Property=\"HasItems\" Value=\"false\"&gt;\n                    &lt;Setter Property=\"Height\" TargetName=\"dropDownBorder\" Value=\"95\"/&gt;\n                &lt;/Trigger&gt;\n                &lt;MultiTrigger&gt;\n                    &lt;MultiTrigger.Conditions&gt;\n                        &lt;Condition Property=\"IsGrouping\" Value=\"true\"/&gt;\n                        &lt;Condition Property=\"VirtualizingPanel.IsVirtualizingWhenGrouping\" Value=\"false\"/&gt;\n                    &lt;/MultiTrigger.Conditions&gt;\n                    &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"false\"/&gt;\n                &lt;/MultiTrigger&gt;\n                &lt;Trigger Property=\"ScrollViewer.CanContentScroll\" SourceName=\"DropDownScrollViewer\" Value=\"false\"&gt;\n                    &lt;Setter Property=\"Canvas.Top\" TargetName=\"opaqueRect\" Value=\"{Binding VerticalOffset, ElementName=DropDownScrollViewer}\"/&gt;\n                    &lt;Setter Property=\"Canvas.Left\" TargetName=\"opaqueRect\" Value=\"{Binding HorizontalOffset, ElementName=DropDownScrollViewer}\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n        &lt;Style TargetType=\"{x:Type ComboBox}\"&gt;\n            &lt;Setter Property=\"FocusVisualStyle\" Value=\"{StaticResource FocusVisual}\"/&gt;\n            &lt;Setter Property=\"Background\" Value=\"{StaticResource ComboBox.Static.Background}\"/&gt;\n            &lt;Setter Property=\"BorderBrush\" Value=\"{StaticResource ComboBox.Static.Border}\"/&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}\"/&gt;\n            &lt;Setter Property=\"BorderThickness\" Value=\"1\"/&gt;\n            &lt;Setter Property=\"ScrollViewer.HorizontalScrollBarVisibility\" Value=\"Auto\"/&gt;\n            &lt;Setter Property=\"ScrollViewer.VerticalScrollBarVisibility\" Value=\"Auto\"/&gt;\n            &lt;Setter Property=\"Padding\" Value=\"6,3,5,3\"/&gt;\n            &lt;Setter Property=\"ScrollViewer.CanContentScroll\" Value=\"true\"/&gt;\n            &lt;Setter Property=\"ScrollViewer.PanningMode\" Value=\"Both\"/&gt;\n            &lt;Setter Property=\"Stylus.IsFlicksEnabled\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"Template\" Value=\"{StaticResource ComboBoxTemplate}\"/&gt;\n            &lt;Style.Triggers&gt;\n                &lt;Trigger Property=\"IsEditable\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"IsTabStop\" Value=\"false\"/&gt;\n                    &lt;Setter Property=\"Padding\" Value=\"2\"/&gt;\n                    &lt;Setter Property=\"Template\" Value=\"{StaticResource ComboBoxEditableTemplate}\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 6253412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781ee07d2b73d42707f2c0a357d7a8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Lam", "link": "https://stackoverflow.com/users/6253412/justin-lam"}, "is_accepted": false, "score": 1, "last_activity_date": 1461812163, "creation_date": 1461812163, "answer_id": 36904440, "question_id": 36900528, "link": "https://stackoverflow.com/questions/36900528/how-to-change-color-of-border-of-combobox-while-mouse-is-over-in-wpf/36904440#36904440", "title": "How to change color of border of combobox while mouse is over in WPF?", "body": "<p>I don't think triggers will work because the <code>BorderBrush</code> that you are modifying isn't the same <code>BorderBrush</code> that is used when the mouse is over the control. I believe you have to edit the existing default style to get the feature you want.</p>\n\n<p>For WPF, go to designer and right-click the ComboBox -> Edit Template -> Edit a Copy.</p>\n\n<p>Then change the following:</p>\n\n<pre><code>&lt;MultiDataTrigger&gt;\n    &lt;MultiDataTrigger.Conditions&gt;\n        &lt;Condition Binding=\"{Binding IsMouseOver, RelativeSource={RelativeSource Self}}\" Value=\"true\"/&gt;\n        &lt;Condition Binding=\"{Binding IsEditable, RelativeSource={RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type ComboBox}}}\" Value=\"false\"/&gt;\n    &lt;/MultiDataTrigger.Conditions&gt;\n    &lt;Setter Property=\"Background\" TargetName=\"templateRoot\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;LinearGradientBrush EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n                &lt;GradientStop Color=\"#FFECF4FC\" Offset=\"0\"/&gt;\n                &lt;GradientStop Color=\"#FFDCECFC\" Offset=\"1\"/&gt;\n            &lt;/LinearGradientBrush&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"Red\"/&gt;\n&lt;/MultiDataTrigger&gt;\n</code></pre>\n\n<p>Modify the color <code>Value</code> in this line:</p>\n\n<pre><code>&lt;Setter Property=\"BorderBrush\" TargetName=\"templateRoot\" Value=\"#FF569DE5\"/&gt;\n</code></pre>\n\n<p>For Universal Apps, go to designer and right-click the ComboBox -> Edit Template -> Edit a Copy.</p>\n\n<p>Then change the following:</p>\n\n<pre><code>&lt;VisualState x:Name=\"PointerOver\"&gt;\n&lt;Storyboard&gt;\n    &lt;ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"Background\" Storyboard.TargetName=\"Background\"&gt;\n        &lt;DiscreteObjectKeyFrame KeyTime=\"0\" Value=\"{ThemeResource SystemControlPageBackgroundAltMediumBrush}\"/&gt;\n    &lt;/ObjectAnimationUsingKeyFrames&gt;\n    &lt;ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"BorderBrush\" Storyboard.TargetName=\"Background\"&gt;\n        &lt;DiscreteObjectKeyFrame KeyTime=\"0\" Value=\"{ThemeResource SystemControlHighlightBaseMediumBrush}\"/&gt;\n    &lt;/ObjectAnimationUsingKeyFrames&gt;\n&lt;/Storyboard&gt;\n</code></pre>\n\n<p></p>\n\n<p>Modify the color <code>Value</code> in this line:</p>\n\n<pre><code>&lt;DiscreteObjectKeyFrame KeyTime=\"0\" Value=\"{ThemeResource SystemControlHighlightBaseMediumBrush}\"/&gt;\n</code></pre>\n\n<p>Hopefully this will get you what you need.</p>\n"}, {"tags": [], "owner": {"reputation": 875, "user_id": 616813, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/877cdb25bf721050b29dab4da69d3052?s=128&d=identicon&r=PG", "display_name": "jitendragarg", "link": "https://stackoverflow.com/users/616813/jitendragarg"}, "is_accepted": false, "score": 0, "last_activity_date": 1461819195, "creation_date": 1461819195, "answer_id": 36905528, "question_id": 36900528, "link": "https://stackoverflow.com/questions/36900528/how-to-change-color-of-border-of-combobox-while-mouse-is-over-in-wpf/36905528#36905528", "title": "How to change color of border of combobox while mouse is over in WPF?", "body": "<p>Use the following code in either the XAML page where you want to use it, or in App.xaml.</p>\n\n<pre><code>&lt;Style x:Key=\"UpdateComboBoxStyle\" TargetType=\"{x:Type ComboBox}\" \n   BasedOn=\"{StaticResource {x:Type ComboBox}}\"&gt;\n  &lt;Style.Triggers&gt;\n    &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n        &lt;Setter Property=\"BorderBrush\" Value=\"#FF0000\" /&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"#FF0000\"/&gt;\n    &lt;/Trigger&gt;\n  &lt;/Style.Triggers&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>In the combobox, add attribute as below:</p>\n\n<pre><code>Style=\"{StaticResource UpdateComboBoxStyle}\"\n</code></pre>\n\n<p>Let me know if it doesn't work. In that case, just show us the new code, so we can figure out what went wrong. Try editing the question, instead of commenting, so that others can find out the new changes.</p>\n"}], "owner": {"reputation": 189, "user_id": 4906746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d38f2b12fce2698f9864ab182a0b56?s=128&d=identicon&r=PG&f=1", "display_name": "jan kowalski", "link": "https://stackoverflow.com/users/4906746/jan-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2056, "favorite_count": 1, "accepted_answer_id": 36904321, "answer_count": 4, "score": 1, "last_activity_date": 1461819195, "creation_date": 1461789918, "last_edit_date": 1495542231, "question_id": 36900528, "link": "https://stackoverflow.com/questions/36900528/how-to-change-color-of-border-of-combobox-while-mouse-is-over-in-wpf", "title": "How to change color of border of combobox while mouse is over in WPF?", "body": "<p>yesterday I have written similar post concerning textbox for the same purpose. <a href=\"https://stackoverflow.com/questions/36875480/how-to-set-properties-of-textbox-globally-in-app-xaml-c?noredirect=1#comment61363443_36875480\">How to set properties of textbox globally in app.xaml [C#]</a> I have told also that I have problem with combobox. I have got helpful answer imiditelly which solve my problem with textbox. I was trying to apply similar solution for my combobox without success. Then I was trying to find some solution on the web including stack and msdn and other websites, without success. Then I made edit to my post from yesterday, so I was suggested to make new question, so I am doing.</p>\n\n<p>So the problem which I have is that I would like to just change color of border while the mouse is over the combobox. The rest of functionality as well as design should remain for standard combobox.</p>\n\n<p>I have such a code, which is working for buttons, and with modification for textboxes, but I can't apply it to comboboxes.\nThis code is in app.xaml in application resources.</p>\n\n<pre><code>    &lt;Style TargetType=\"ComboBox\"&gt;\n        &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"True\"/&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"#000000\"/&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                    &lt;Border Name=\"combobox\" \n                        CornerRadius=\"2\"\n                        BorderThickness=\"2\"\n                        BorderBrush=\"{TemplateBinding BorderBrush}\"  \n                        Background=\"{TemplateBinding Background}\"&gt;\n                        &lt;ContentPresenter HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" /&gt;\n                    &lt;/Border&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                            &lt;Setter TargetName=\"combobox\" Property=\"BorderBrush\" Value=\"#FF0000\" /&gt;\n                            &lt;Setter Property=\"Foreground\" Value=\"#FF0000\"/&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n</code></pre>\n\n<p>The code just I paste upper is creating a border color changing, but the content of combobox is dissappearing, actually then all functionality of combobox is dissapearing.</p>\n\n<p>How I may do this last thing in my app ? May anyone told what to change this time to make it works.</p>\n\n<p>Thanks in advance</p>\n\n<p>p.s.\nMay someone recommend trusted and step by step course of xaml for beginners ? Are those techniques in xaml and wpf useful for Windows Universal Apps ?</p>\n\n<p>!!!!!\nedit:</p>\n\n<p>You may be right, since I am not so experienced I may made a mistake in xaml.</p>\n\n<p>What I have done now also the third way is:</p>\n\n<p>1) add to </p>\n\n<pre><code>    &lt;Style  x:Key=\"MyComboBox\" TargetType=\"{x:Type ComboBox}\"&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"#000000\"/&gt;\n        &lt;Style.Triggers&gt;\n            &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                &lt;Setter Property=\"BorderBrush\" Value=\"#FF0000\" /&gt;\n                &lt;Setter Property=\"Foreground\" Value=\"#FF0000\"/&gt;\n            &lt;/Trigger&gt;\n        &lt;/Style.Triggers&gt;\n    &lt;/Style&gt;\n</code></pre>\n\n<p>and </p>\n\n<p>2) </p>\n\n<pre><code>    &lt;ComboBox Style=\"{StaticResource MyComboBox}\" Background=\"#EAEAEA\" BorderBrush=\"Black\" BorderThickness=\"2\" FontSize=\"12\" Foreground=\"Black\" Height=\"49\" HorizontalAlignment=\"Left\" HorizontalContentAlignment=\"Center\" Loaded=\"ABCCombobox_Loaded\" Margin=\"38,425,0,0\" ToolTip=\"ABCCombobox.\" SelectionChanged=\"ABCCombobox_SelectionChanged\" VerticalAlignment=\"Top\" VerticalContentAlignment=\"Center\" Width=\"270\" x:Name=\"ABCComboBox\" /&gt;\n</code></pre>\n\n<p>What I am doing wrong ? I have found this way as suggested on the web.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1461789985, "post_id": 36900520, "comment_id": 61365261, "body": "It marks the type as a generic type.  Look for information on generic types in c#"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1461789991, "post_id": 36900520, "comment_id": 61365264, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/512aeb7t.aspx\" rel=\"nofollow noreferrer\">Generics</a> - read it"}, {"owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "edited": false, "score": 0, "creation_date": 1461790076, "post_id": 36900520, "comment_id": 61365314, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4560890/what-are-generics-in-c\">What are generics in C#?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5060, "user_id": 1662268, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c807195c3caef0cc89ed8bbf9717a710?s=128&d=identicon&r=PG", "display_name": "Brondahl", "link": "https://stackoverflow.com/users/1662268/brondahl"}, "is_accepted": true, "score": 3, "last_activity_date": 1461790001, "creation_date": 1461790001, "answer_id": 36900554, "question_id": 36900520, "link": "https://stackoverflow.com/questions/36900520/what-do-the-mean/36900554#36900554", "title": "What do the &lt;&gt; mean?", "body": "<p>They denote a \"Generic\" type\nSo the keyword you want to be searching for is \"C# Generics\"\nThat will tell you all you need to know. Shout if you have further questions</p>\n"}], "owner": {"reputation": 81, "user_id": 5890277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-j9GiETxn9EE/AAAAAAAAAAI/AAAAAAAAAJU/ZW-66aOPUaY/photo.jpg?sz=128", "display_name": "rathi bond", "link": "https://stackoverflow.com/users/5890277/rathi-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1461790076, "accepted_answer_id": 36900554, "answer_count": 1, "score": 1, "last_activity_date": 1461790140, "creation_date": 1461789900, "last_edit_date": 1461790140, "question_id": 36900520, "link": "https://stackoverflow.com/questions/36900520/what-do-the-mean", "closed_reason": "Not suitable for this site", "title": "What do the &lt;&gt; mean?", "body": "<p>For example if you make a list the syntax will be <code>aList&lt;int&gt;</code> or <code>IEnumrable&lt;int&gt;</code>.  Is it just saying the data type?  Is there more to it than that?</p>\n\n<p>When I look online for the answer to this question the results are always for operators like > greaterthan &lt; lessthan symbols.  That is why I am asking it here.</p>\n"}, {"tags": ["c#", "configuration", "configsection"], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 6220207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/415nH.jpg?s=128&g=1", "display_name": "MaKCbIMKo", "link": "https://stackoverflow.com/users/6220207/makcbimko"}, "is_accepted": false, "score": 1, "last_activity_date": 1461794271, "creation_date": 1461794271, "answer_id": 36901654, "question_id": 36900514, "link": "https://stackoverflow.com/questions/36900514/custom-configsection-either-to-load-it-from-app-config-or-from-external-file/36901654#36901654", "title": "Custom ConfigSection either to load it from app.config or from external file", "body": "<p>You can create your own <code>ConfigSections</code> and put it right in <code>app.config</code>.</p>\n\n<p>Or, if you want, you can put your custom confic section into a separated file and put the path to this file in your <code>app.config</code> file (see below).</p>\n\n<pre><code>&lt;appSettings configSource=\"appSettings.config\" /&gt;\n&lt;connectionStrings configSource=\"connectionStrings.config\"/&gt;\n&lt;pages configSource=\"pages.config\"/&gt;\n</code></pre>\n\n<p>For more info see this page which will help you decide if a configuration section can be stored externally:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/vstudio/ms228167(v=vs.100).aspx\" rel=\"nofollow\">General Attributes Inherited by Section Elements</a></p>\n"}], "owner": {"reputation": 93, "user_id": 5841659, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5e76ffb98ca76f524a39ce80d4b0a337?s=128&d=identicon&r=PG&f=1", "display_name": "VyshuRam", "link": "https://stackoverflow.com/users/5841659/vyshuram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461794271, "creation_date": 1461789882, "question_id": 36900514, "link": "https://stackoverflow.com/questions/36900514/custom-configsection-either-to-load-it-from-app-config-or-from-external-file", "title": "Custom ConfigSection either to load it from app.config or from external file", "body": "<p>We have specific need for Custom configuration in app.config which I have successfully implemented but in case if that section is exponentially increasing which may occur as more and more functionality adding to our application, I want to separate the ConfigSection into separate file and provide the feasibility to load configuration either from Custom ConfigSection or external config file. I want to provide both options so later application admin can choose which way they want upon need. I looked all around internet but nothing found of my interest. First I would like to know if at all is it possible and if so some short example will help me lot.</p>\n"}, {"tags": ["c#", "lambda", "hololens-emulator"], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 252827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b80dc7b61e5fc3fe9c78b56e9dbde607?s=128&d=identicon&r=PG", "display_name": "Bharat Ahluwalia", "link": "https://stackoverflow.com/users/252827/bharat-ahluwalia"}, "is_accepted": false, "score": 2, "last_activity_date": 1461989721, "creation_date": 1461989721, "answer_id": 36950636, "question_id": 36900411, "link": "https://stackoverflow.com/questions/36900411/hololens-101-chapter-3-what-is-for/36950636#36950636", "title": "hololens 101 chapter 3: what is &quot;=&gt;&quot; for?", "body": "<p>Take a look at C# Lambda operator <a href=\"https://msdn.microsoft.com/en-us/library/bb311046.aspx\" rel=\"nofollow\">here</a>. It separates the block from the input variables on the left. So it looks like that the block will be executed on the tapped event and the parameters (source, tapCount, ray) will be passed and can be used in the block.</p>\n"}, {"tags": [], "owner": {"reputation": 5839, "user_id": 158103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b8d753a2cfc92032857aa82dd2079d55?s=128&d=identicon&r=PG", "display_name": "AlvinfromDiaspar", "link": "https://stackoverflow.com/users/158103/alvinfromdiaspar"}, "is_accepted": false, "score": 1, "last_activity_date": 1466470352, "creation_date": 1466470352, "answer_id": 37933997, "question_id": 36900411, "link": "https://stackoverflow.com/questions/36900411/hololens-101-chapter-3-what-is-for/37933997#37933997", "title": "hololens 101 chapter 3: what is &quot;=&gt;&quot; for?", "body": "<p>I like to think of it as a \"inlined delegate to handle events or callbacks\". Hope that helps :)</p>\n"}], "owner": {"reputation": 426, "user_id": 5744881, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-lQbYT7fcrIs/AAAAAAAAAAI/AAAAAAAAAS4/Pr1CBQknirY/photo.jpg?sz=128", "display_name": "Di Wang", "link": "https://stackoverflow.com/users/5744881/di-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501662043, "creation_date": 1461789528, "last_edit_date": 1501662043, "question_id": 36900411, "link": "https://stackoverflow.com/questions/36900411/hololens-101-chapter-3-what-is-for", "title": "hololens 101 chapter 3: what is &quot;=&gt;&quot; for?", "body": "<p><a href=\"https://developer.microsoft.com/en-us/windows/holographic/holograms_101e#Chapter_3_-_Gestures\" rel=\"nofollow noreferrer\">Hololense tutorial here</a></p>\n\n<p>in chapter 3 GazeGestureManager.cs:</p>\n\n<pre><code>using UnityEngine;\nusing UnityEngine.VR.WSA.Input;\n\npublic class GazeGestureManager : MonoBehaviour\n{\n    public static GazeGestureManager Instance { get; private set; }\n\n    // Represents the hologram that is currently being gazed at.\n    public GameObject FocusedObject { get; private set; }\n\n    GestureRecognizer recognizer;\n\n    // Use this for initialization\n    void Start()\n    {\n        Instance = this;\n\n        // Set up a GestureRecognizer to detect Select gestures.\n        recognizer = new GestureRecognizer();\n        recognizer.TappedEvent += (source, tapCount, ray) =&gt;\n        {\n            // Send an OnSelect message to the focused object and its ancestors.\n            if (FocusedObject != null)\n            {\n                FocusedObject.SendMessageUpwards(\"OnSelect\");\n            }\n        };\n        recognizer.StartCapturingGestures();\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        // Figure out which hologram is focused this frame.\n        GameObject oldFocusObject = FocusedObject;\n\n        // Do a raycast into the world based on the user's\n        // head position and orientation.\n        var headPosition = Camera.main.transform.position;\n        var gazeDirection = Camera.main.transform.forward;\n\n        RaycastHit hitInfo;\n        if (Physics.Raycast(headPosition, gazeDirection, out hitInfo))\n        {\n            // If the raycast hit a hologram, use that as the focused object.\n            FocusedObject = hitInfo.collider.gameObject;\n        }\n        else\n        {\n            // If the raycast did not hit a hologram, clear the focused object.\n            FocusedObject = null;\n        }\n\n        // If the focused object changed this frame,\n        // start detecting fresh gestures again.\n        if (FocusedObject != oldFocusObject)\n        {\n            recognizer.CancelGestures();\n            recognizer.StartCapturingGestures();\n        }\n    }\n}\n</code></pre>\n\n<p>I really don't understand this line:</p>\n\n<pre><code>recognizer.TappedEvent += (source, tapCount, ray) =&gt;\n</code></pre>\n\n<p>What is inside <code>()</code>, why there is a <code>=&gt;</code> operator and what is for?</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 924, "user_id": 1148288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/836042d86eb7845e1980d936c837c9b6?s=128&d=identicon&r=PG", "display_name": "Lazy Coder", "link": "https://stackoverflow.com/users/1148288/lazy-coder"}, "edited": false, "score": 0, "creation_date": 1461789497, "post_id": 36900263, "comment_id": 61364985, "body": "Have you tried listing out the key as a primitive type with the complex type as a virtual?  IE public string CountryCode {get;set;} and then public virtual Country Country {get;set;} respectively, inside the State class?"}, {"owner": {"reputation": 1321, "user_id": 2187053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/251256c3639e43fb268a4f9fab9e25eb?s=128&d=identicon&r=PG", "display_name": "HockChai Lim", "link": "https://stackoverflow.com/users/2187053/hockchai-lim"}, "reply_to_user": {"reputation": 924, "user_id": 1148288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/836042d86eb7845e1980d936c837c9b6?s=128&d=identicon&r=PG", "display_name": "Lazy Coder", "link": "https://stackoverflow.com/users/1148288/lazy-coder"}, "edited": false, "score": 0, "creation_date": 1461790587, "post_id": 36900263, "comment_id": 61365617, "body": "Strange.  It works if I change [ForeignKey(&quot;Code&quot;)] in Country class to [ForeignKey(&quot;CountryCode&quot;)].  That is not how it works according to <a href=\"http://www.entityframeworktutorial.net/code-first/foreignkey-dataannotations-attribute-in-code-first.aspx\" rel=\"nofollow noreferrer\">entityframeworktutorial.net/code-first/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 6208915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d12a46b70b55620f35c08c7db5d696?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor", "link": "https://stackoverflow.com/users/6208915/gabor"}, "is_accepted": true, "score": 0, "last_activity_date": 1461798231, "creation_date": 1461798231, "answer_id": 36902435, "question_id": 36900263, "link": "https://stackoverflow.com/questions/36900263/ef6-not-using-the-foreign-key-specified-in-annotation/36902435#36902435", "title": "EF6 not using the Foreign key specified in annotation", "body": "<p>I think this will solve your problem:  </p>\n\n<ul>\n<li>Remove the <code>ForeignKey</code> annotation from the <code>States</code> property.</li>\n<li>Add an <code>InverseProperty</code> annotation to the <code>Country</code> property.</li>\n</ul>\n\n<p><strong>BEFORE:</strong></p>\n\n<pre><code>public partial class Country\n{\n    /* other properties */\n\n    [ForeignKey(\"Code\")]\n    public IList&lt;State&gt; States { get; set; }\n}\n\npublic partial class State\n{\n    /* other properties */\n\n    [ForeignKey(\"CountryCode\")]\n    public Country Country { get; set; }\n}\n</code></pre>\n\n<p><strong>AFTER:</strong></p>\n\n<pre><code>public partial class Country\n{\n    /* other properties */\n\n    public IList&lt;State&gt; States { get; set; }\n}\n\npublic partial class State\n{\n    /* other properties */\n\n    [ForeignKey(\"CountryCode\")]\n    [InverseProperty(\"States\")]\n    public Country Country { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 1321, "user_id": 2187053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/251256c3639e43fb268a4f9fab9e25eb?s=128&d=identicon&r=PG", "display_name": "HockChai Lim", "link": "https://stackoverflow.com/users/2187053/hockchai-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 36902435, "answer_count": 1, "score": 1, "last_activity_date": 1461798231, "creation_date": 1461788998, "question_id": 36900263, "link": "https://stackoverflow.com/questions/36900263/ef6-not-using-the-foreign-key-specified-in-annotation", "title": "EF6 not using the Foreign key specified in annotation", "body": "<p>I've two tables in my DB, Countries and States.  Using the Code first approach, I created the following two entities:</p>\n\n<pre><code>public partial class Country\n{\n    [Key]\n    [Column(Order = 1)] \n    [Required]\n    [StringLength(3)]\n    public string Code { get; set; }  //Country Code\n\n    [Required]\n    [StringLength(50)]\n    public string Description { get; set; }  // Country Description\n\n    [ForeignKey(\"Code\")]\n    public IList&lt;State&gt; States { get; set; }\n\n}\n\npublic partial class State\n{\n    [Key]\n    [Column(Order = 1)] \n    [Required]\n    [StringLength(3)]\n    public string CountryCode { get; set; }  //Country Code\n\n    [Key]\n    [Column(Order = 2)]\n    [Required]\n    [StringLength(3)]\n    public string Code { get; set; }  //State Code\n\n    [Required]\n    [StringLength(60)]\n    public string Description { get; set; }  //State Description\n\n    [ForeignKey(\"CountryCode\")]\n    public Country Country { get; set; }\n}\n</code></pre>\n\n<p>In the State class, I've a foreign key called CountryCode, which is what I'm expecting EF to use to join these two entities.  But it is not.  Instead, it is joining the Code field in Country class with Code field in State class.  What am I doing wrong here.  Below is the sql it generated:</p>\n\n<pre><code>SELECT \n[Project2].[C1] AS [C1], \n[Project2].[Code] AS [Code], \n[Project2].[Description] AS [Description], \n[Project2].[C2] AS [C2], \n[Project2].[CountryCode] AS [CountryCode], \n[Project2].[Code1] AS [Code1], \n[Project2].[Description1] AS [Description1]\nFROM ( SELECT \n    [Limit1].[Code] AS [Code], \n    [Limit1].[Description] AS [Description], \n    [Limit1].[C1] AS [C1], \n    [Extent2].[CountryCode] AS [CountryCode], \n    [Extent2].[Code] AS [Code1], \n    [Extent2].[Description] AS [Description1], \n    CASE WHEN ([Extent2].[CountryCode] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C2]\n    FROM   (SELECT TOP (1) \n        [Extent1].[Code] AS [Code], \n        [Extent1].[Description] AS [Description], \n        1 AS [C1]\n        FROM [dbo].[Countries] AS [Extent1]\n        WHERE [Extent1].[Code] = @p__linq__0 ) AS [Limit1]\n    LEFT OUTER JOIN [dbo].[States] AS [Extent2] ON [Limit1].[Code] = [Extent2].[Code]\n)  AS [Project2]\nORDER BY [Project2].[Code] ASC, [Project2].[C2] ASC\n</code></pre>\n"}, {"tags": ["c#", "edi", "edifabric"], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 933739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1570edcdcc7535128f1f927421ceb522?s=128&d=identicon&r=PG", "display_name": "Don Zoeggerle", "link": "https://stackoverflow.com/users/933739/don-zoeggerle"}, "is_accepted": false, "score": 0, "last_activity_date": 1462393682, "creation_date": 1462393682, "answer_id": 37037406, "question_id": 36900245, "link": "https://stackoverflow.com/questions/36900245/parsing-999-files-with-edifabric/37037406#37037406", "title": "Parsing 999 files with ediFabric", "body": "<p>Please send me the sample 999 file on private and I'll try to parse it. It's a very simple message so it shouldn't take long.\nAlternatively you can enable logging and send me the log file as well. To log - add this to your config and point to a valid path:</p>\n\n<pre><code>&lt;add key=\"EdiFabric.LogFile\" value=\"C:\\log.txt\" /&gt;\n</code></pre>\n\n<p>btw, I'm one of the developers of ediFabric.</p>\n"}], "owner": {"reputation": 11, "user_id": 6263504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/100e74ef13282279fdc803ccdbcf18b4?s=128&d=identicon&r=PG&f=1", "display_name": "JP Bertles", "link": "https://stackoverflow.com/users/6263504/jp-bertles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 900, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515188114, "creation_date": 1461788955, "last_edit_date": 1515188114, "question_id": 36900245, "link": "https://stackoverflow.com/questions/36900245/parsing-999-files-with-edifabric", "title": "Parsing 999 files with ediFabric", "body": "<p>I'm attempting to parse a valid 999 file with ediFabric using the 5010 Erata pack (the 837P parser works great by the way), but I'm having some difficulties. When I run the following code, I can't access any of the information from the file other than the ISA segment. Am I doing something wrong? Is there a different way to process the 999 files?</p>\n\n<pre><code>using (var fs = new FileStream(FullFileName, FileMode.Open, FileAccess.Read))\n{\n    var result = EdiFabric.Framework.Envelopes.X12.Interchange.LoadFrom(fs);\n}\n</code></pre>\n\n<p>The result variable has the Isa property filled, but there are no groups. I can send a cleansed version of the file privately if needed.</p>\n"}, {"tags": ["c#", "jquery", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 839, "user_id": 1695127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63468d6c5b57a7e9e09ef8e2fa82bcbf?s=128&d=identicon&r=PG", "display_name": "Mark S", "link": "https://stackoverflow.com/users/1695127/mark-s"}, "edited": false, "score": 0, "creation_date": 1461789909, "post_id": 36900162, "comment_id": 61365223, "body": "Did you try adding &quot;required&quot; and adding data-rules to your form fields?"}, {"owner": {"reputation": 862, "user_id": 6160527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dcf4ae7961cb32685adbb6ebf971ad2?s=128&d=identicon&r=PG&f=1", "display_name": "jamiedanq", "link": "https://stackoverflow.com/users/6160527/jamiedanq"}, "edited": false, "score": 0, "creation_date": 1461790197, "post_id": 36900162, "comment_id": 61365385, "body": "show us your <code>Model</code> and <code>Controller</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1461793561, "post_id": 36900162, "comment_id": 61367084, "body": "Not only will validation not work, binding will fail as well. You creating form controls that have no relationship to your model (look at the html your generating - you have inputs with <code>name=&quot;item.parkingSpaces&quot; and your model does not have a property name </code>item`). What are you trying to achieve with this - you can only submit one form at a time so your view makes no sense."}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1461793947, "post_id": 36900162, "comment_id": 61367250, "body": "I&#39;ve left work for the day, I&#39;ll post them tomorrow."}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1461854498, "post_id": 36900162, "comment_id": 61397959, "body": "I&#39;ve now included my controller and model code.  The bindings do seem to work in that I can access the field values in my controller.  I am trying to achieve a page with all parking lots listed in one place, where our operators can update the parking lot counts, without having to click on an edit button.  They will be using an iPad / Android tablet to update these counts so the less clicks for them the better. Hence the need for all parking lots on one page."}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1461854542, "post_id": 36900162, "comment_id": 61398002, "body": "The parking lots do automated counting (i.e. magnetic loops count when a vehicle enters / exits a parking lot. However these counts need to be verified and occassionally change) We will be bringing more parking lots onto this system very soon, hence the need for a dynamic number of forms on the page (the parking lots are read in from a CSV file).  Does that make sense?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1461900802, "post_id": 36900162, "comment_id": 61418501, "body": "Sorry, but none of your code makes any sense. Nothing you have shown will work. No validation, no binding when you submit and even you scripts cannot work correctly. Other than giving you an answer which points out why it wont work - which I suspect you don&#39;t really want - its a bit hard to to show you how to do this correctly unless you update the question with more detail explaining what your trying to achieve."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1461901915, "post_id": 36900162, "comment_id": 61418790, "body": "Do for example you want to be able to edit all <code>ParkingCount</code> objects in the collection and be able to post them all in one action (which would seem the most appropriate solution), or do you really want to edit only one <code>ParkingCount</code> at a time?"}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1461981577, "post_id": 36900162, "comment_id": 61458239, "body": "Hi Stephen,  Sorry for the confusion, ideally I would like to be able to edit one ParkingCount at a time. But have them all on the one page.  Let me know if I can provide any more information."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1462061203, "post_id": 36900162, "comment_id": 61480166, "body": "@JohnMcAulay, To notify a user, start the comment as this one does. You code really wont do that, and your scripts wont make sense. It not really clear why you want to edit and submit only one at a time, but if you do, then the view should include text only values and a since form for editing the selected row - refer <a href=\"https://dotnetfiddle.net/Yy78S3\" rel=\"nofollow noreferrer\">this DotNetFiddle</a> for an example of how to approach that"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1462061326, "post_id": 36900162, "comment_id": 61480186, "body": "But it would make more sense (and certainly improve performance) if you have one form and the controls generated in a <code>for</code> loop or <code>EditorTemplate</code> and you submit all changes at once (refer <a href=\"http://stackoverflow.com/questions/30094047/html-table-to-ado-net-datatable/30094943#30094943\">this answer</a> for an example. Although in both cases your scripts need to be corrected."}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1462200214, "post_id": 36900162, "comment_id": 61524915, "body": "@StephenMuecke thanks for this, really appreciate it.  Ideally I do want to be able to edit inline with all parking los shown on one page, if at all possible. The app will only be used on a tablet so I was hoping to minimize the amount of clicks a user has to make.  Is what I&#39;m trying to do even possible?  I am a PHP developer and I could do it pretty easily with PHP, so I assume it must be possible in .NET."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1462230402, "post_id": 36900162, "comment_id": 61540093, "body": "@JohnMcAulay, Sure - just use one form and a <code>for</code> loop or <code>EditorTemplate</code> to generate the controls and post back the collection in one go. Refer <a href=\"http://stackoverflow.com/questions/30094047/html-table-to-ado-net-datatable/30094943#30094943\">this answer</a> to get you started"}, {"owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "edited": false, "score": 0, "creation_date": 1465493080, "post_id": 36900162, "comment_id": 62936090, "body": "@StephenMueckle Hi sorry, I&#39;m back on this project now. I think I&#39;m just going to code the thing in PHP, I&#39;ve spent way too long on this, what I thought would be a good starting project in ASP.Net / MVC has turned into a complete nightmare for me. Why I can&#39;t have multiple forms on the same page (with each form relating to one element within my model) is beyond me. Thanks for your help. Can you recommend any good reading / websites that might be able to help me if I do ever try ASP.Net again?"}], "owner": {"reputation": 21, "user_id": 6263483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c286eaa786bad417d8d99f041107a0a?s=128&d=identicon&r=PG&f=1", "display_name": "John McAulay", "link": "https://stackoverflow.com/users/6263483/john-mcaulay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1395, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1461854274, "creation_date": 1461788653, "last_edit_date": 1461854274, "question_id": 36900162, "link": "https://stackoverflow.com/questions/36900162/asp-net-mvc-multiple-forms-on-the-same-page-with-the-same-model", "title": "ASP.Net MVC Multiple forms on the same page with the same model", "body": "<p>Very new to ASP.Net, moving from PHP. So I'm pretty sure I've broken every rule in the book here but anyway here is what I am trying to accomplish.</p>\n\n<p>I have a page that allows our parkade (car park) operators to update the counts of cars in a parkade at any given time.</p>\n\n<p>What I want to achieve is to have a page that lists the parkades and their respective available parking spots and used parking spots. I am using jQuery to make it so that when say for example the free spaces text box is updated the used spaces adjusts itself accordingly. So for example in a parkade with 100 total parking spots, when someone types 10 into the free spaces box the used spaces box will automatically update itself to 90.</p>\n\n<p>Form example:</p>\n\n<p><a href=\"http://i.stack.imgur.com/UdenJ.png\" rel=\"nofollow\">form format</a></p>\n\n<p>So I had to do some wizardry (which I suspect was wrong) to make this work (i.e. add a dynamic ID to each text field so that I knew which text boxes to update during the onblur event.</p>\n\n<p>Anyway this all works great but alas my validation does not work. I suspect this is due to my dynamic generation of forms.</p>\n\n<p>Here is my view code:</p>\n\n<pre><code>  model IEnumerable&lt;WebApplication1.Models.ParkingCount&gt;\n\n@{\n    ViewBag.Title = \"Parking Lot Administration\";\n}\n\n&lt;h2&gt;Parking Lots&lt;/h2&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\"&gt;&lt;/script&gt;\n\n&lt;table class=\"table\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.parkingLotName)\n        &lt;/th&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.parkingSpaces)\n        &lt;/th&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.freeSpaces)\n        &lt;/th&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.usedSpaces)\n        &lt;/th&gt;\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n@{int i = 0;}\n@foreach (var item in Model)\n{\n    using (Html.BeginForm(\"UpdateParkingLot\", \"ParkingCount\", FormMethod.Post, new { @Id = \"Form\" + i}))\n\n    {\n        @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.HiddenFor(modelItem =&gt; item.ID)\n            @Html.DisplayFor(modelItem =&gt; item.parkingLotName)\n\n        &lt;/td&gt;\n        &lt;td&gt;          \n            @Html.TextBoxFor(modelItem =&gt; item.parkingSpaces, new { id = \"parkingSpaces\" + i })\n            @Html.ValidationMessageFor(modelItem =&gt; item.parkingSpaces, \"\", new { @class = \"text-danger\" })\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.TextBoxFor(modelItem =&gt; item.freeSpaces, new { id = \"freeSpaces\" + i })\n            @Html.ValidationMessageFor(modelItem =&gt; item.freeSpaces, \"\", new { @class = \"text-danger\" })\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.TextBoxFor(modelItem =&gt; item.usedSpaces, new { id = \"usedSpaces\" + i })\n            @Html.ValidationMessageFor(modelItem =&gt; item.usedSpaces, \"\", new { @class = \"text-danger\" })\n        &lt;/td&gt;\n        &lt;td&gt;\n            &lt;button type=\"submit\"&gt;Update&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n\n    }\n    i++;\n\n\n}\n\n&lt;/table&gt;\n\n@for (int j = 0; j &lt;= i; j++)\n{\n\n\n&lt;script&gt;\n\n    $(\"#parkingSpaces0\").blur(function () {\n\n\n        var i = @i;\n\n        var totalSpacesValue = $(this).val();\n        var usedSpacesValue = $(\"#usedSpaces0\").val();\n\n\n        $(\"#freeSpaces0\").val(totalSpacesValue - usedSpacesValue);\n\n    }\n    )\n\n    $(\"#freeSpaces0\").blur(function () {\n\n    var totalSpacesValue = $(\"#parkingSpaces0\").val();\n    var freeSpacesValue = $(\"#freeSpaces0\").val();\n\n        $(\"#usedSpaces0\").val(totalSpacesValue - freeSpacesValue);\n\n\n})\n\n    $(\"#usedSpaces0\").blur(function () {\n\n    var totalSpacesValue = $(\"#parkingSpaces0\").val();\n    var usedSpacesValue = $(\"#usedSpaces0\").val();\n\n        $(\"#freeSpaces0\").val(totalSpacesValue - usedSpacesValue);\n\n\n    })\n\n&lt;/script&gt;\n}\n</code></pre>\n\n<p>Here is my model code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.ComponentModel.DataAnnotations;\n\nnamespace WebApplication1.Models\n{\n    public class ParkingCount { \n\n        public int ID { get; set; }\n\n        [Display(Name=\"Parking Lot Name\")]\n        public string parkingLotName { get; set; }\n\n        [Required]\n        [Display(Name =\"Total Parking Spaces\")]\n        public int parkingSpaces { get; set; }\n\n        [Required]\n        [Display(Name =\"Free Parking Spaces\")]\n        public int freeSpaces { get; set; }\n\n        [Required]\n        [Display(Name = \"Used Parking Spaces\")]\n        public int usedSpaces { get; set; }\n\n    }\n}\n</code></pre>\n\n<p>And finally my (incomplete) controller code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\nusing CsvHelper;\nusing System.IO;\n\n\nnamespace WebApplication1.Controllers\n{\n\n    public class ParkingCountController : Controller\n    {\n        // GET: ParkingCount\n        public ActionResult Index()\n        {\n\n            //create an instance of our service class\n            WebApplication1.ServiceClasses.GetParkadeDetails myCounts = new WebApplication1.ServiceClasses.GetParkadeDetails();\n\n            //create list objec to store parkade objects\n            List&lt;WebApplication1.Models.ParkingCount&gt; myList = new List&lt;WebApplication1.Models.ParkingCount&gt;();\n\n            //read in the CSV files of parking lots (c:\\parkingLots.csv)\n            StreamReader sr = new StreamReader(\"c:\\\\parkingLots.csv\");\n            CsvReader csvRead = new CsvReader(sr);\n            IEnumerable&lt;WebApplication1.ServiceClasses.ParkingLotRecord&gt; lines = csvRead.GetRecords&lt;WebApplication1.ServiceClasses.ParkingLotRecord&gt;();\n\n            //add the parking lots to our list\n            foreach (var line in lines)\n\n                myList.Add(new Models.ParkingCount\n                {\n                    ID = line.parkingLotID,\n                    parkingLotName = line.parkingLotName,\n                    freeSpaces = myCounts.getFreeStalls(line.parkingLotID),\n                    parkingSpaces = myCounts.getStallCount(line.parkingLotID),\n                    usedSpaces = myCounts.getUsedStalls(line.parkingLotID)\n\n                });\n\n            return View(myList);\n        }\n\n        public ActionResult UpdateParkingLot(Models.ParkingCount item)\n        {\n\n            try\n            {\n                //Update the parking counters here\n                int parkingLotID = item.ID;\n                int freeSpaces = item.freeSpaces;\n\n                System.Diagnostics.Debug.WriteLine(freeSpaces + \" free spaces at Parking Lot \" + parkingLotID);\n\n                return RedirectToAction(\"Index\");\n            }\n            catch\n            {\n                return View();\n            }\n\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>Any idea how I could get my validation working?</p>\n\n<p>Thanks for any help in advance.</p>\n\n<p>John.</p>\n"}, {"tags": ["c#", "variable-assignment"], "comments": [{"owner": {"reputation": 2085, "user_id": 4372746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7421528d3e64e8186fcc0f6020cc1f14?s=128&d=identicon&r=PG&f=1", "display_name": "Glorin Oakenfoot", "link": "https://stackoverflow.com/users/4372746/glorin-oakenfoot"}, "edited": false, "score": 4, "creation_date": 1461788643, "post_id": 36900099, "comment_id": 61364510, "body": "<code>List&lt;Car&gt; list = new List&lt;Car&gt;() {myCar.Model, myCar.Mileage, myCar.Colour, myCar.Year};</code> - what exactly do you intended this to do? You tell it you are trying to create a list of <code>Car</code>, but are supplying the components of a <code>Car</code>, not an actual <code>Car</code> object."}, {"owner": {"reputation": 1769, "user_id": 3471712, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001030341259/picture?type=large", "display_name": "Auguste", "link": "https://stackoverflow.com/users/3471712/auguste"}, "edited": false, "score": 0, "creation_date": 1461788916, "post_id": 36900099, "comment_id": 61364667, "body": "You should assign values to the object you created.  For example  List&lt;Car&gt; list = new List&lt;Car&gt;() {myCar.Model = &quot;Malibu&quot;, myCar.Mileage = 150, myCar.Colour = color.Red, myCar.Year = 2015};"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461789497, "post_id": 36900099, "comment_id": 61364986, "body": "start reading MSDN Documentation as well and understand the <code>.ToStrng()</code> Overloads <a href=\"https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx</a>"}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789236, "creation_date": 1461789236, "answer_id": 36900326, "question_id": 36900099, "link": "https://stackoverflow.com/questions/36900099/why-cant-it-convert-to-a-double-or-int-or-string-from-car-management-car/36900326#36900326", "title": "Why can&#39;t it convert to a double or int or string from Car_Management.Car", "body": "<p><em>Disclaimer: I did not even look at your load/write methods that use the stream reader as you had no implementation there. If you want help on serialization please ask another question.</em></p>\n\n<p>Your problem is your syntax for your initializer is wrong. Here are valid ways you can instatiate an object. See <a href=\"https://msdn.microsoft.com/en-us/library/bb384062.aspx\" rel=\"nofollow\">Object and Collection Initializers</a> for more details.</p>\n\n<pre><code>Car myCar = new Car(); // no initializers\nCar myCar = new Car(){Model = \"Bently\", Mileage = 1555, Colour = \"Red\", Year = 2015}; // with initializer\n</code></pre>\n\n<p>Examples with <code>List&lt;Car&gt;</code></p>\n\n<pre><code>List&lt;Car&gt; list = new List&lt;Car&gt;(); // no initializers\nList&lt;Car&gt; list = new List&lt;Car&gt;() {myCar} ; // with a car instance\nList&lt;Car&gt; list = new List&lt;Car&gt;() {myCar1, myCar2, myCar3} ; // with car instances assuming these instances all exist\n</code></pre>\n\n<p>You can also combine them although its not very clean looking</p>\n\n<pre><code>List&lt;Car&gt; list = new List&lt;Car&gt;() {new Car(){Model = \"Bently\", Mileage = 1555, Colour = \"Red\", Year = 2015}} ; // with a car instance\n</code></pre>\n\n<p>On a side note you can convert your properties to <a href=\"https://msdn.microsoft.com/en-us/library/bb384054.aspx\" rel=\"nofollow\">AutoProperties</a> which can help clean up your code a little as well.</p>\n\n<pre><code>namespace Car_Management\n{\n    class Car\n    {\n        public Car()\n        {\n            Year = 0;\n            Mileage = 0;\n            Colour = \"\";\n            Model = \"\";\n        }\n\n        //name properties\n        public string Model {get;set;}\n        public string Colour {get;set;}\n        public double Mileage {get;set;}\n        public int Year {get;set;}\n\n        //returns string consisting of model, year, mileage, colour\n        public string GetInfo(string sep)\n        {\n            sep = \": \";\n            return model + sep + colour + sep + mileage.ToString(\"c\") + sep + year.ToString();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 654, "user_id": 4315724, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/315deaaea24df9bca1e6c5e4bc32efa2?s=128&d=identicon&r=PG", "display_name": "chrisv", "link": "https://stackoverflow.com/users/4315724/chrisv"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789557, "last_edit_date": 1461789557, "creation_date": 1461789239, "answer_id": 36900328, "question_id": 36900099, "link": "https://stackoverflow.com/questions/36900099/why-cant-it-convert-to-a-double-or-int-or-string-from-car-management-car/36900328#36900328", "title": "Why can&#39;t it convert to a double or int or string from Car_Management.Car", "body": "<p>Your instantiation of the list is wrong. </p>\n\n<pre><code>public static void save(List&lt;Car&gt; fullList)\n{\n    Car myCar = new Car();\n    List&lt;Car&gt; list = new List&lt;Car&gt;() {myCar.Model, myCar.Mileage, myCar.Colour, myCar.Year};\n\n    StreamWriter outputFile;\n    outputFile = File.CreateText(\"List.txt\");\n}\n</code></pre>\n\n<p>What you\u00b4re trying to do here is to instantiate a list of string, double, string etc. </p>\n\n<p>What you should do is either: Create the car before-hand like this:</p>\n\n<pre><code>Car myCar = new Car();\nmyCar.Model = \"Some Model\";\nmyCar.Mileage = 0;\n...\n\nList&lt;Car&gt; list = new List&lt;Car&gt;();\nlist.add(myCar);\n</code></pre>\n\n<p>or as you tried: </p>\n\n<pre><code>List&lt;Car&gt; list = new List&lt;Car&gt;(){myCar};\n</code></pre>\n\n<p>or if you want to do it all in one go (NB: Messy and unreadable code):</p>\n\n<pre><code>List&lt;Car&gt; list = new List&lt;Car(){new Car(){Model = \"Some model\", Mileage = 0, ... }}\n</code></pre>\n\n<p>Personally I prefer the first method since it's easier to read, and easier to dive into the code afterwards. </p>\n\n<p>If you have several cars, you can do: <code>List&lt;Car&gt; list = new List&lt;Car&gt;(){car1, car2, car3};</code> AFTER creating the cars objects as shown above. Hope it helps.</p>\n\n<p>You can read more here: <a href=\"http://www.dotnetperls.com/list\" rel=\"nofollow\">http://www.dotnetperls.com/list</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4927953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2506f9eb68f825b2a40aa9e212945cf6?s=128&d=identicon&r=PG&f=1", "display_name": "Sorin Bolos", "link": "https://stackoverflow.com/users/4927953/sorin-bolos"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789532, "creation_date": 1461789532, "answer_id": 36900413, "question_id": 36900099, "link": "https://stackoverflow.com/questions/36900099/why-cant-it-convert-to-a-double-or-int-or-string-from-car-management-car/36900413#36900413", "title": "Why can&#39;t it convert to a double or int or string from Car_Management.Car", "body": "<p>This syntax is incorrect:</p>\n\n<p><code>Car myCar = new Car();\nList&lt;Car&gt; list = new List&lt;Car&gt;() {myCar.Model, myCar.Mileage, myCar.Colour, myCar.Year};\n</code>\nand I'm not sure what you're tring to do. If you're trying to create a list with a single car you should write:</p>\n\n<p><code>\nCar myCar = new Car(){ Model = \"model1\", Mileage = 23000, Colour = \"green\", Year = 2009 };\nList&lt;Car&gt; list = new List&lt;Car&gt;();\nlist.Add(myCar);\n</code></p>\n\n<p>This will make the code compile. However there are other issues like the unused parameter <code>fullList</code> and you're creating a file \"List.txt\" and never writing to it.</p>\n"}], "owner": {"reputation": 1, "user_id": 6263494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gDSEasktu6s/AAAAAAAAAAI/AAAAAAAAAB0/0ekHW1JK10Y/photo.jpg?sz=128", "display_name": "Kevin Sohel", "link": "https://stackoverflow.com/users/6263494/kevin-sohel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1461789557, "creation_date": 1461788454, "last_edit_date": 1461788600, "question_id": 36900099, "link": "https://stackoverflow.com/questions/36900099/why-cant-it-convert-to-a-double-or-int-or-string-from-car-management-car", "title": "Why can&#39;t it convert to a double or int or string from Car_Management.Car", "body": "<p>I am running through a problem where I receive an error saying that I cannot convert from 'double' to 'Car_Management.Car'. What am I missing here? Here are my codes I have done so far where I have to add the car characteristics to a list. Also, how may I output the list to a text file?</p>\n\n<pre><code>namespace Car_Management\n{\n    class CarDM\n    {\n        public static void save(List&lt;Car&gt; fullList)\n        {\n            Car myCar = new Car();\n            List&lt;Car&gt; list = new List&lt;Car&gt;() {myCar.Model, myCar.Mileage, myCar.Colour, myCar.Year};\n\n            StreamWriter outputFile;\n            outputFile = File.CreateText(\"List.txt\");\n        }\n        public static void load()\n        {\n            StreamReader inputFile;\n            inputFile = File.OpenText(\"List.txt\");\n        }\n    }\n}\n</code></pre>\n\n<p>This is my other class</p>\n\n<pre><code>namespace Car_Management\n{\n    class Car\n    {\n        private int year;\n        private double mileage;\n        private string colour;\n        private string model;\n        private string info;\n\n        //constructor\n        public Car()\n        {\n            year = 0;\n            mileage = 0;\n            colour = \"\";\n            model = \"\";\n        }\n\n        //name properties\n        public string Model\n        {\n            get { return model; }\n            set { model = value; }\n        }\n\n        public string Colour\n        {\n            get { return colour; }\n            set { colour = value; }\n        }\n\n        public double Mileage\n        {\n            get { return mileage; }\n            set { mileage = value; }\n        }\n\n        public int Year\n        {\n            get { return year; }\n            set { year = value; }\n        }\n\n        //returns string consisting of model, year, mileage, colour\n        public string GetInfo(string sep)\n        {\n            sep = \": \";\n            return model + sep + colour + sep + mileage.ToString(\"c\") + sep + year.ToString();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "barcode-printing"], "comments": [{"owner": {"reputation": 1359, "user_id": 1073358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP15K.jpg?s=128&g=1", "display_name": "Skami", "link": "https://stackoverflow.com/users/1073358/skami"}, "edited": false, "score": 0, "creation_date": 1461837798, "post_id": 36899988, "comment_id": 61385031, "body": "Does it have to be a font or could it also generate a barcode image?"}, {"owner": {"reputation": 183, "user_id": 5976249, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/b668a83710bea96660b5f160059d8d49?s=128&d=identicon&r=PG&f=1", "display_name": "samer", "link": "https://stackoverflow.com/users/5976249/samer"}, "reply_to_user": {"reputation": 1359, "user_id": 1073358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP15K.jpg?s=128&g=1", "display_name": "Skami", "link": "https://stackoverflow.com/users/1073358/skami"}, "edited": false, "score": 0, "creation_date": 1461872089, "post_id": 36899988, "comment_id": 61409196, "body": "no it not necessary to be a font"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 5976249, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/b668a83710bea96660b5f160059d8d49?s=128&d=identicon&r=PG&f=1", "display_name": "samer", "link": "https://stackoverflow.com/users/5976249/samer"}, "edited": false, "score": 0, "creation_date": 1468055951, "post_id": 38072969, "comment_id": 63979100, "body": "i had take a look about that project before posting here but i don&#39;t want standalone software what I really wont is to handle this issue as part of my over all project within the windows form need to generate barcode according to the data entered within the textboxs"}], "tags": [], "owner": {"reputation": 1359, "user_id": 1073358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP15K.jpg?s=128&g=1", "display_name": "Skami", "link": "https://stackoverflow.com/users/1073358/skami"}, "is_accepted": false, "score": 0, "last_activity_date": 1467107817, "creation_date": 1467107817, "answer_id": 38072969, "question_id": 36899988, "link": "https://stackoverflow.com/questions/36899988/crystal-reports-barcode-code-128-with-c/38072969#38072969", "title": "Crystal Reports barcode Code 128 with C#", "body": "<p>I found that this project has really helped me out with barcodes; <a href=\"http://www.codeproject.com/Articles/20823/Barcode-Image-Generation-Library\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Articles/20823/Barcode-Image-Generation-Library</a>.</p>\n\n<p>It supports a decent amount of encodings and is fairly easy to use</p>\n\n<pre><code>                string value = \"12345678\";\n                TYPE encoding = TYPE.CODE128;\n\n                var barcode = new Barcode(value, encoding);\n                barcode.IncludeLabel = true; //We want to display the value below the image.\n                Image image = barcode.Encode(encoding, value, 300, 100);\n                //Handle the image here...\n</code></pre>\n\n<p>Although it is not a font it does return an image like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/AgPzz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgPzz.png\" alt=\"enter image description here\"></a> </p>\n\n<p>which could be printed or handled however you wish.</p>\n"}, {"tags": [], "owner": {"reputation": 52709, "user_id": 117362, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7ae86476e784b06ed196f500777fc57?s=128&d=identicon&r=PG", "display_name": "Thorsten Dittmar", "link": "https://stackoverflow.com/users/117362/thorsten-dittmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1467109038, "last_edit_date": 1467109038, "creation_date": 1467108663, "answer_id": 38073301, "question_id": 36899988, "link": "https://stackoverflow.com/questions/36899988/crystal-reports-barcode-code-128-with-c/38073301#38073301", "title": "Crystal Reports barcode Code 128 with C#", "body": "<p>The thing about Code128 is that you can not just use a font and go for it (like it's the case for CODE39 for example). Why?</p>\n\n<ol>\n<li>You need to add start/stop codes.</li>\n<li>There are three subsets, A, B AND C which can be chosen and mixed within a barcode. They differ in the characters they can represent (for example: Subset C can only contain an even number of <strong>numbers</strong>, subset A can not contain small letters, etc.). You need to know what you want to encode.</li>\n<li>You need to calculate a checksum.</li>\n<li>Some of the \"ASCII codes\" for the symbologies are outside the printable area of the normal charsets.</li>\n</ol>\n\n<p>Result: You really need a piece of software to \"encode\" the barcode.</p>\n\n<p>Example: The software needs to convert</p>\n\n<pre><code>Hello User\n</code></pre>\n\n<p>into</p>\n\n<pre><code>&lt;STARTB&gt;Hello User&lt;CHECKSUM&gt;&lt;STOPCODE&gt;\n</code></pre>\n\n<p>Or the number</p>\n\n<pre><code>0815\n</code></pre>\n\n<p>would have to be turned into</p>\n\n<pre><code>&lt;STARTC&gt;(/&lt;CHECKSUM&gt;&lt;STOPCODE&gt;\n</code></pre>\n\n<p>You can, of course, use a ready-made library. However: If you <a href=\"https://en.wikipedia.org/wiki/Code_128\" rel=\"nofollow\">search for a description of Code 128</a> you will be very easily able to implement it yourself. Usually you'll end up with an image.</p>\n"}], "owner": {"reputation": 183, "user_id": 5976249, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/b668a83710bea96660b5f160059d8d49?s=128&d=identicon&r=PG&f=1", "display_name": "samer", "link": "https://stackoverflow.com/users/5976249/samer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3835, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486405683, "creation_date": 1461788015, "last_edit_date": 1461788513, "question_id": 36899988, "link": "https://stackoverflow.com/questions/36899988/crystal-reports-barcode-code-128-with-c", "title": "Crystal Reports barcode Code 128 with C#", "body": "<p>I am really confused about printing and reading barcodes. I want to generate <code>Code 128</code> barecode using C#. Using Crystal Reports I found two ways to this:</p>\n\n<ul>\n<li>by adding dll files</li>\n<li>by using barcode Code 128 font </li>\n</ul>\n\n<p>However I am looking to do this in my own application, not Crystal Reports. </p>\n\n<p>I want to know what the difference between them?\nIs there any problem by using the font one since it is more simple and do not any add file-ons to my project?</p>\n\n<p>Finally anyone can give me a link to download barcode Code 128 font  <strong>(FREE)</strong> </p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1461788458, "post_id": 36899969, "comment_id": 61364395, "body": "<code>Context.Detach()</code> - see here:  <a href=\"https://msdn.microsoft.com/en-us/library/bb896271(v=vs.100).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb896271(v=vs.100).aspx</a>"}, {"owner": {"reputation": 3699, "user_id": 4816175, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/697df6176ef55a7ea25f159e0fcdec38?s=128&d=identicon&r=PG", "display_name": "cool breeze", "link": "https://stackoverflow.com/users/4816175/cool-breeze"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1461788764, "post_id": 36899969, "comment_id": 61364589, "body": "@stephen.vakil I If I detach and attach, it will not treat the entity as a new one will it?  It will try and update no?"}, {"owner": {"reputation": 3699, "user_id": 4816175, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/697df6176ef55a7ea25f159e0fcdec38?s=128&d=identicon&r=PG", "display_name": "cool breeze", "link": "https://stackoverflow.com/users/4816175/cool-breeze"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1461788938, "post_id": 36899969, "comment_id": 61364681, "body": "@stephen.vakil my Context doesn&#39;t have Detach.  It has attach and remove only: <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.dbcontext(v=vs.113).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1461790123, "post_id": 36899969, "comment_id": 61365343, "body": "You should be able to access the <code>ObjectContext</code> unless anything has changed in recent versions.  Check out the answer to this question:  <a href=\"http://stackoverflow.com/questions/4168073/entity-framework-code-first-no-detach-method-on-dbcontext\" title=\"entity framework code first no detach method on dbcontext\">stackoverflow.com/questions/4168073/&hellip;</a>"}], "owner": {"reputation": 3699, "user_id": 4816175, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/697df6176ef55a7ea25f159e0fcdec38?s=128&d=identicon&r=PG", "display_name": "cool breeze", "link": "https://stackoverflow.com/users/4816175/cool-breeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461787962, "creation_date": 1461787962, "question_id": 36899969, "link": "https://stackoverflow.com/questions/36899969/how-to-detach-entity-so-i-can-create-a-duplicate", "title": "How to detach Entity so I can create a duplicate", "body": "<p>I am using EF 6 and the project is using the UnitOfWork pattern.</p>\n\n<p>The code I have is based on this: <a href=\"http://www.asp.net/mvc/overview/older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application\" rel=\"nofollow\">http://www.asp.net/mvc/overview/older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application</a></p>\n\n<p>Here is a snippet of the GenericRepository:</p>\n\n<pre><code>    public virtual void Insert(TEntity entity)\n    {\n        dbSet.Add(entity);\n    }\n\n    public virtual void Delete(object id)\n    {\n        TEntity entityToDelete = dbSet.Find(id);\n        Delete(entityToDelete);\n    }\n\n    public virtual void Delete(TEntity entityToDelete)\n    {\n        if (context.Entry(entityToDelete).State == EntityState.Detached)\n        {\n            dbSet.Attach(entityToDelete);\n        }\n        dbSet.Remove(entityToDelete);\n    }\n\n    public virtual void Update(TEntity entityToUpdate)\n    {\n        dbSet.Attach(entityToUpdate);\n        context.Entry(entityToUpdate).State = EntityState.Modified;\n    }\n</code></pre>\n\n<p>What I want to do is load my Entity with no tracking, so I can then save it so it creates a duplicate version of the object and its associations etc.</p>\n\n<p>I want to do this basically:</p>\n\n<pre><code>var company = DbContext.Companies.AsNoTracking()\n                       .Include(c =&gt; c.Locations\n                           .Select(l =&gt; l.Stores\n                               .Select(s =&gt; s.Products)))\n                       .Where(c =&gt; c.Id == 123)\n                       .FirstOrDefault();\nDbContext.Companies.Add(company);\nDbContext.SaveChanges();\n</code></pre>\n\n<p>I'm not sure how to do this using the UnitOfWork setup that I have.</p>\n\n<p>I tried to do a DbSet.Remove but that just tries to delete it, not set the tracking.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["c#", "visual-studio", "roslyn-code-analysis", "visual-studio-2017"], "comments": [{"owner": {"reputation": 860, "user_id": 4533179, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-KNh9ARuyfuU/AAAAAAAAAAI/AAAAAAAAAKU/c_6Cw3NzpP4/photo.jpg?sz=128", "display_name": "jdstaerk", "link": "https://stackoverflow.com/users/4533179/jdstaerk"}, "edited": false, "score": 0, "creation_date": 1474030912, "post_id": 36899850, "comment_id": 66378612, "body": "Same problem here... Any fixes / workarounds?"}, {"owner": {"reputation": 1999, "user_id": 1234374, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3f83e1cf47ceba57c1b70e114a991e32?s=128&d=identicon&r=PG&f=1", "display_name": "EGN", "link": "https://stackoverflow.com/users/1234374/egn"}, "reply_to_user": {"reputation": 860, "user_id": 4533179, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-KNh9ARuyfuU/AAAAAAAAAAI/AAAAAAAAAKU/c_6Cw3NzpP4/photo.jpg?sz=128", "display_name": "jdstaerk", "link": "https://stackoverflow.com/users/4533179/jdstaerk"}, "edited": false, "score": 0, "creation_date": 1474033086, "post_id": 36899850, "comment_id": 66380100, "body": "Update your Visual Studio. VS 2015 Update 3 is out now"}, {"owner": {"reputation": 11263, "user_id": 299674, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f683a6957b4a312f30b43c4b12eefd64?s=128&d=identicon&r=PG", "display_name": "Softlion", "link": "https://stackoverflow.com/users/299674/softlion"}, "edited": false, "score": 4, "creation_date": 1474049096, "post_id": 36899850, "comment_id": 66389200, "body": "Have this error since Update 3 (no error before). Also have the new update 3 fix, no change. Still there."}, {"owner": {"reputation": 1999, "user_id": 1234374, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3f83e1cf47ceba57c1b70e114a991e32?s=128&d=identicon&r=PG&f=1", "display_name": "EGN", "link": "https://stackoverflow.com/users/1234374/egn"}, "edited": false, "score": 1, "creation_date": 1474061800, "post_id": 36899850, "comment_id": 66394805, "body": "Apparently this is not update specific bug and it is not mentioned in the release logs that it has been addressed. Try to Repair or uninstall/install again and see if that fixes it"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 3864846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19d8e73535004cf9d9846700ac0de730?s=128&d=identicon&r=PG", "display_name": "Auronmatrix", "link": "https://stackoverflow.com/users/3864846/auronmatrix"}, "is_accepted": false, "score": 4, "last_activity_date": 1480766431, "last_edit_date": 1480766431, "creation_date": 1480763884, "answer_id": 40947152, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/40947152#40947152", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>I had the same issue on VS-2015 update 3. <br>\nI did was : </p>\n\n<p>1) Closing visual studio </p>\n\n<p>2) restarting as administrator</p>\n"}, {"tags": [], "owner": {"reputation": 968, "user_id": 2505567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NNkCK.png?s=128&g=1", "display_name": "ShieldOfSalvation", "link": "https://stackoverflow.com/users/2505567/shieldofsalvation"}, "is_accepted": false, "score": 0, "last_activity_date": 1493217167, "creation_date": 1493217167, "answer_id": 43637191, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/43637191#43637191", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>Judging from the label you were given, \"CSharpAddImportCodeFixProvider\", I'd guess your problem was due to Visual Studio trying to identify and/or correct a missing \"using\" statement at the top of your C# source code file in which you made reference to a class that needed it. The Visual Studio components that usually deal with this type of problem are Intellisense, or third-party syntax highlighting/correction plugins like JetBrains' ReSharper.</p>\n\n<p>On second thought, I'm not quite sure it's Intellisense's fault as opposed to the plugin ReSharper's. That's to be determined.</p>\n\n<p>I did file a similar bug report with Microsoft. The error in my case seemed to be a result of the Intellisense not knowing how to deal with a logic error in my own code (see <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/3133049\" rel=\"nofollow noreferrer\">https://connect.microsoft.com/VisualStudio/feedback/details/3133049</a>). </p>\n\n<p>In my case, I had inadvertently placed code for a method outside its class definition, though inside its similarly named namespace. Visual Studio 2015 Update 3 complained, </p>\n\n<blockquote>\n  <p>'GenerateVariableCodeFixProvider' encountered an error and has been\n  disabled.</p>\n</blockquote>\n\n<p>The fix was to move my method back into its corresponding class definition, but it definitely brought a Visual Studio bug up to the surface. </p>\n\n<p>Specifically, Visual Studio Intellisense had seen the line of code, </p>\n\n<pre><code>    Response.Write(\"I did something\"); \n</code></pre>\n\n<p>placed in a method that was declared outside a class definition (i.e., inside a namespace, but inadvertently not inside its class). The \"'FeatureLabel' encountered an error and has been disabled\" error was then displayed in a yellow bar across the top of my editor window and an \"Enable\" button and an \"Enable and ignore future errors\" button were displayed next to it.</p>\n\n<p>I believe that Intellisense (or ReSharper?) tried to automatically deal with the situation and attempted to generate a variable for the keyword, \"Response\", but it tripped trying to do so--which in turn caused the error that was displayed. </p>\n"}, {"tags": [], "owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "is_accepted": false, "score": 1, "last_activity_date": 1496844135, "last_edit_date": 1496844135, "creation_date": 1496836097, "answer_id": 44411798, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/44411798#44411798", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>There may be multiple reasons why this error occurs. So this answer may not apply to all situations, though it seems that it only occurs when another project is referenced.</p>\n\n<p>The error does not occur for all statements. In my case I had the following code:</p>\n\n<pre><code>private System.Threading.Timer Timer;\n\npublic void Start()\n{\n    Timer.Change(0, 60000);\n}\n</code></pre>\n\n<p>As soon as intellisense would open for <code>Timer.Change(</code> the error occurred. Please note that I had no parameters at that point. If valid parameters are present there will be no error.</p>\n\n<p>I could solve the issue by <em>updating the version of the framework</em>. I found out that both projects targetted different frameworks, resp. 4.5.2 and 4.6.</p>\n\n<p>As long as the framework versions are different the error occurs. As soon as both are equal (either 4.5.2 or 4.6) the error no longer shows.</p>\n\n<p>I have tested this with VisualStudioVersion = 14.0.25420.1 (Visual Studio Community 2015).</p>\n\n<p>-- update --</p>\n\n<p>I've reported this as a <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/3135356/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled\" rel=\"nofollow noreferrer\">bug</a> to Microsoft. Including steps to reproduce.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 9918412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YKWjYAxAMwM/AAAAAAAAAAI/AAAAAAAAAB0/51XoET1ssX0/photo.jpg?sz=128", "display_name": "Mladen Janjic", "link": "https://stackoverflow.com/users/9918412/mladen-janjic"}, "is_accepted": false, "score": 1, "last_activity_date": 1574427442, "last_edit_date": 1574427442, "creation_date": 1553104947, "answer_id": 55267419, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/55267419#55267419", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>Happened to me when chose <code>Add using System.Data.SqlClient</code> automatically after typing <code>using (SqlConnection...){}</code> in DataLayer, in one of Repository classes.</p>\n\n<p>Nothing helped (except creating new project), but I saw that the problem was with loading <code>System.Data.SqlClient.dll</code> file, although it existed in appropriate folder.</p>\n\n<p>Found by trial and error that after removing <code>Dependencies-&gt;Assemblies-&gt;System.Data.SqlClient</code> from DataLayer (right click -> Remove, or just press Delete key when selected), I can Add <code>System.Data.SqlClient</code> without any errors.</p>\n\n<p>Didn't try for other cases where <code>CSharpAddImportCodeFixProvider encountered an error and has been disabled</code> message appears, but the solution might be similar.</p>\n\n<p>In my case the problem appeared probably due to <code>.net</code> Core version conflict or something like that, because the project was on external drive and created on another computer.</p>\n\n<p>Edit: Also, some errors might be caused by .vs folder (hidden by default) inside Solution folder, especially if the project is moved between different computers. I know from experience that IntelliSense can seem to be broken and classes from other namespace would be unavailable although <code>using namespace_name</code> statement is present. The solution is to delete .vs folder or just avoid copying it with the project, as suggested here: <a href=\"https://weblog.west-wind.com/posts/2018/Aug/07/Fixing-Visual-Studio-Intellisense-Errors\" rel=\"nofollow noreferrer\">https://weblog.west-wind.com/posts/2018/Aug/07/Fixing-Visual-Studio-Intellisense-Errors</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11934106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2440f1bdee6528a2be8341ec458f32?s=128&d=identicon&r=PG&f=1", "display_name": "Aicilec", "link": "https://stackoverflow.com/users/11934106/aicilec"}, "is_accepted": false, "score": 0, "last_activity_date": 1571803935, "creation_date": 1571803935, "answer_id": 58515376, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/58515376#58515376", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>anyone trying this solution from here ? </p>\n\n<p><a href=\"https://developercommunity.visualstudio.com/content/problem/623872/add-import-not-working.html\" rel=\"nofollow noreferrer\">https://developercommunity.visualstudio.com/content/problem/623872/add-import-not-working.html</a></p>\n\n<p>the last reply solves my issue..</p>\n\n<p><code>Tools</code> > <code>Options</code> > <code>Text Editor</code> > <code>C#</code> > <code>Advanced</code></p>\n\n<p>turning off <code>Suggest usings for types in NuGet packages</code></p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 8222834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XeOCr.jpg?s=128&g=1", "display_name": "Sergio Villalobos", "link": "https://stackoverflow.com/users/8222834/sergio-villalobos"}, "is_accepted": false, "score": 0, "last_activity_date": 1580853020, "creation_date": 1580853020, "answer_id": 60066032, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/60066032#60066032", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>I end up with this same error.\nwhat i did was to manually go and find the nuget packet for System.Data.SqlClient, installed and then invoke it in the class i was working on, like: </p>\n\n<pre><code>using System.Data.SqlClient;\n</code></pre>\n\n<p>Dont know if this is some kind of bug, cause it happens on a new blank project i create using visual studio 2019 community</p>\n\n<p>hope it helps someone</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13743035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5xz9Q.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/13743035/mohammad"}, "is_accepted": false, "score": 1, "last_activity_date": 1593865525, "creation_date": 1593865525, "answer_id": 62729083, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled/62729083#62729083", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>Had the same problem solved by installing the sqlClient package from nuget package manager\nright-click on the project choose manage nuget packages.. and go to browse tab and search for System.Data.SqlClient and install it. that easy :)</p>\n"}], "owner": {"reputation": 1999, "user_id": 1234374, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3f83e1cf47ceba57c1b70e114a991e32?s=128&d=identicon&r=PG&f=1", "display_name": "EGN", "link": "https://stackoverflow.com/users/1234374/egn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10318, "favorite_count": 0, "answer_count": 7, "score": 20, "last_activity_date": 1593865525, "creation_date": 1461787525, "last_edit_date": 1483094684, "question_id": 36899850, "link": "https://stackoverflow.com/questions/36899850/csharpaddimportcodefixprovider-encountered-an-error-and-has-been-disabled", "title": "CSharpAddImportCodeFixProvider encountered an error and has been disabled", "body": "<p>I had my PC re-imaged for me. I have Visual Studio Version 14.0.25123.00 Update 2 installed on my computer. I'm getting this error when I try to use VS intellisense to reference another project. </p>\n\n<blockquote>\n  <p>CSharpAddImportCodeFixProvider encountered an error and has been disabled</p>\n</blockquote>\n\n<p>I have two projects. One of them using namespace <code>ProjectName.Web</code>. And the other project using <code>ProjectName.Web.Controllers</code>. The provider crashes when I reference <code>ProjectName.Web.Controllers</code>, I believe because it is setup as a project. Any idea how to fix this?</p>\n"}, {"tags": ["c#", "sqlite", "database-connection", "win-universal-app"], "comments": [{"owner": {"reputation": 17815, "user_id": 1822514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e2TMH.jpg?s=128&g=1", "display_name": "chue x", "link": "https://stackoverflow.com/users/1822514/chue-x"}, "edited": false, "score": 1, "creation_date": 1461854572, "post_id": 36899829, "comment_id": 61398029, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14318931/find-sqlite-database-on-winrt\">Find SQLite Database On WinRT</a>"}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 6026379, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9f269faac25aa76565056193f0c7a729?s=128&d=identicon&r=PG&f=1", "display_name": "rur2641", "link": "https://stackoverflow.com/users/6026379/rur2641"}, "edited": false, "score": 0, "creation_date": 1461957170, "post_id": 36900223, "comment_id": 61450173, "body": "Thank you! The application name was completely different and I found with search."}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": true, "score": 7, "last_activity_date": 1461788882, "creation_date": 1461788882, "answer_id": 36900223, "question_id": 36899829, "link": "https://stackoverflow.com/questions/36899829/sqlite-database-location-uwp/36900223#36900223", "title": "sqlite database location uwp", "body": "<p>If you go to</p>\n\n<blockquote>\n  <p>C:\\Users\\[YourUserName]\\AppData\\Local\\Packages\\</p>\n</blockquote>\n\n<p>your application will have its own folder there, which you may be able to recognise by name or do a search for sqlite, and the SQLite database file should be within your applications folder</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 4239912, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hbVnCthUmeQ/AAAAAAAAAAI/AAAAAAAAABk/v1B-ERRBBvQ/photo.jpg?sz=128", "display_name": "mrri", "link": "https://stackoverflow.com/users/4239912/mrri"}, "is_accepted": false, "score": 8, "last_activity_date": 1461833612, "creation_date": 1461833612, "answer_id": 36909782, "question_id": 36899829, "link": "https://stackoverflow.com/questions/36899829/sqlite-database-location-uwp/36909782#36909782", "title": "sqlite database location uwp", "body": "<blockquote>\n  <p>C:\\Users[Your User Name]\\AppData\\Local\\Packages[Your Package Name]\\LocalState</p>\n</blockquote>\n\n<p>Your Package Name: You can find in file Package.appxmanifest in your Project\nYour file db.sqlite will in folder <strong>LocalState</strong></p>\n"}], "owner": {"reputation": 603, "user_id": 6026379, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9f269faac25aa76565056193f0c7a729?s=128&d=identicon&r=PG&f=1", "display_name": "rur2641", "link": "https://stackoverflow.com/users/6026379/rur2641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7231, "favorite_count": 2, "accepted_answer_id": 36900223, "answer_count": 2, "score": 6, "last_activity_date": 1582303036, "creation_date": 1461787467, "question_id": 36899829, "link": "https://stackoverflow.com/questions/36899829/sqlite-database-location-uwp", "title": "sqlite database location uwp", "body": "<p>I have an uwp app with a sqlite database that works as intended; I can close the program and restart it and the database is loaded properly. I want to look at the database with a database viewer but can't locate the file. I have tried unhiding files and searching for db.sqlite. Here is the code that connects to the database:</p>\n\n<pre><code>string path;\nSQLite.Net.SQLiteConnection conn;\npath =Path.Combine\n(Windows.Storage.ApplicationData.Current.LocalFolder.Path,\"db.sqlite\");\nconn = new SQLite.Net.SQLiteConnection(new\nSQLite.Net.Platform.WinRT.SQLitePlatformWinRT(), path);\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "datagrid", "icollectionview"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461797876, "post_id": 36900361, "comment_id": 61368812, "body": "Hi, can you check above update regarding the class definition? I am trying to binding Products to my second details table. Binding SelectedItem doesn&#39;t work for me."}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "reply_to_user": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461799948, "post_id": 36900361, "comment_id": 61369371, "body": "@AppleJuice Does changing the binding path to <code>SelectedItem.Products</code> work?"}, {"owner": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461800305, "post_id": 36900361, "comment_id": 61369462, "body": "No, SelectedItem.Products does not work. Nothing show in the second details datagrid."}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "reply_to_user": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461800474, "post_id": 36900361, "comment_id": 61369513, "body": "Ok, I&#39;ll show an alternative approach in a separate answer"}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1461799913, "last_edit_date": 1461799913, "creation_date": 1461789356, "answer_id": 36900361, "question_id": 36899817, "link": "https://stackoverflow.com/questions/36899817/wpf-how-to-bind-icollectionview-to-datagrids-using-mvvm/36900361#36900361", "title": "WPF - How to bind ICollectionView to datagrids using MVVM", "body": "<p>Simplest way is to bind the DataContext of the detail DataGrid to the SelectedItem property of the master DataGrid</p>\n\n<pre><code>&lt;DataGrid x:Name=\"MasterGrid\" Grid.ColumnSpan=\"2\" ItemsSource=\"{Binding Categories}\" AutoGenerateColumns=\"False\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Category Id\" Binding=\"{Binding Path = CategoryId}\"/&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Name\" Binding=\"{Binding Path = Name}\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n\n&lt;DataGrid DataContext=\"{Binding SelectedItem.Products, ElementName=MasterGrid}\" Grid.ColumnSpan=\"2\" AutoGenerateColumns=\"False\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding CategoryId}\" Header=\"Category Id\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Name}\" Header=\"Name\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding ProductId}\" Header=\"Product Id\" Width=\"SizeToHeader\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461847635, "post_id": 36902863, "comment_id": 61392263, "body": "I changed two things in your code and it worked. 1.  The type of SelectedCategoryProducts should be ObservableCollection&lt;Product&gt; instead of Category  2. The details datagird binding is changed to ItemsSource=&quot;{Binding SelectedCategoryProducts}&quot; instead of DataContext=&quot;{Binding SelectedCategoryProducts, ElementName=MasterGrid}&quot;"}, {"owner": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "edited": false, "score": 0, "creation_date": 1461848239, "post_id": 36902863, "comment_id": 61392733, "body": "The original example is using drag and drop data sources method to bind the two master-details datagrids which is very easy. When we move it to MVVM, seems no easy way and have to bind to public property."}], "tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1461850742, "last_edit_date": 1461850742, "creation_date": 1461800979, "answer_id": 36902863, "question_id": 36899817, "link": "https://stackoverflow.com/questions/36899817/wpf-how-to-bind-icollectionview-to-datagrids-using-mvvm/36902863#36902863", "title": "WPF - How to bind ICollectionView to datagrids using MVVM", "body": "<p>Bind the master DataGrid's SelectedItem property to a property in the ViewModel</p>\n\n<pre><code>&lt;DataGrid SelectedItem=\"{Binding SelectedCategory}\" Grid.ColumnSpan=\"2\" ItemsSource=\"{Binding Categories}\" AutoGenerateColumns=\"False\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Category Id\" Binding=\"{Binding Path = CategoryId}\"/&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Name\" Binding=\"{Binding Path = Name}\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>MainWindowViewModel</p>\n\n<pre><code>private Category _selectedCategory;\n\npublic Category SelectedCategory\n{\n    get { return _selectedCategory; }\n    set\n    {\n        _selectedCategory = value;\n        OnPropertyChanged(\"SelectedCategory\");\n        OnPropertyChanged(\"SelectedCategoryProducts\");\n    }\n}\n</code></pre>\n\n<p>(this requires your view model to implement INotifyPropertyChanged. The OnPropertyChanged method invokes the PropertyChanged event handler)</p>\n\n<p>Add another property that returns the selected category's products property</p>\n\n<pre><code>public ObservableCollection&lt;Product&gt; SelectedCategoryProducts\n{\n    get\n    {\n        if (_selectedCategory == null) return null;\n\n        return _selectedCategory.Products;\n    }\n}\n</code></pre>\n\n<p>Bind the details DataGrid to the SelectedCategoryProducts property in the view model</p>\n\n<pre><code>&lt;DataGrid ItemsSource=\"{Binding SelectedCategoryProducts}\" Grid.ColumnSpan=\"2\" AutoGenerateColumns=\"False\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding CategoryId}\" Header=\"Category Id\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Name}\" Header=\"Name\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding ProductId}\" Header=\"Product Id\" Width=\"SizeToHeader\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1884, "user_id": 248118, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vT6D3.jpg?s=128&g=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/248118/bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1470238263, "last_edit_date": 1470238263, "creation_date": 1470237942, "answer_id": 38747769, "question_id": 36899817, "link": "https://stackoverflow.com/questions/36899817/wpf-how-to-bind-icollectionview-to-datagrids-using-mvvm/38747769#38747769", "title": "WPF - How to bind ICollectionView to datagrids using MVVM", "body": "<p>With a <code>ICollectionView</code> it would be a shame not to use its functionalities...</p>\n\n<p>First, set the <code>IsSynchronizedToCurrentItem=\"true\"</code> on you first datagrid (categories).</p>\n\n<p>Then in your second DataGrid, bind the DataSource with <code>ItemsSource=\"{Binding Categories.CurrentItem.Products}\"</code> Where Categories is your view model <code>ICollectionView</code>.</p>\n\n<p>The effect of <code>IsSynchToCurrentItem=true</code> is that you don't need to hold a property in your viewmodel to keep track of your current item because the <code>ICollectionView</code> does that for you.</p>\n\n<p>Then each time the user select a row in the datagrid, the currentitem will change in  the viewmodel (and there is an event on the <code>ICollectionView</code> to notify so) et each time you will set the current item in your view model, the correponding row will be selected.</p>\n\n<p>In addition to this feature, the ICollectionView enables you to sort, filter and  group without touching to your source collection and most of all, it enables you to programatically change the current item <strong>IN YOU VIEW MODEL WITHOUT MESSING ARROUND WITH THE XAML CONTROL</strong> (and thus the selected row in the corresponding visual/XAML itemcontrol) by using the method such as <code>MoveCurrentTo(object target)</code>, <code>MovecurrentToFirst()</code>, and so on....</p>\n\n<p>Your business C# model is fine, so your XAML would look like that : </p>\n\n<pre><code>&lt;DataGrid Grid.ColumnSpan=\"2\" IsSynchronizedToCurrentItem=\"true\"  ItemsSource=\"{Binding Categories}\" AutoGenerateColumns=\"False\" HorizontalAlignment=\"Left\" Margin=\"32,10,0,0\" VerticalAlignment=\"Top\" Height=\"124\" Width=\"330\" &gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Category Id\" Binding=\"{Binding Path = CategoryId}\"/&gt;\n        &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Name\" Binding=\"{Binding Path = Name}\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n\n&lt;DataGrid Grid.ColumnSpan=\"2\" ItemsSource=\"{Binding Categories.CurrentItem.Products}\" AutoGenerateColumns=\"False\" HorizontalAlignment=\"Left\" Margin=\"32,153,0,0\" VerticalAlignment=\"Top\" Height=\"146\" Width=\"330\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding CategoryId}\" Header=\"Category Id\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Name}\" Header=\"Name\" Width=\"SizeToHeader\"/&gt;\n        &lt;DataGridTextColumn  Binding=\"{Binding ProductId}\" Header=\"Product Id\" Width=\"SizeToHeader\"/&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 3386197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b37eeefaeeafdbb9853e2fb3073eba9?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Juice", "link": "https://stackoverflow.com/users/3386197/apple-juice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2297, "favorite_count": 0, "accepted_answer_id": 36902863, "answer_count": 3, "score": 0, "last_activity_date": 1470238263, "creation_date": 1461787436, "last_edit_date": 1461797546, "question_id": 36899817, "link": "https://stackoverflow.com/questions/36899817/wpf-how-to-bind-icollectionview-to-datagrids-using-mvvm", "title": "WPF - How to bind ICollectionView to datagrids using MVVM", "body": "<p>I am new to WPF and following this link to use code first method to build the example. And the example works.\n<a href=\"https://msdn.microsoft.com/en-us/data/jj574514.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/data/jj574514.aspx</a></p>\n\n<p>Now, I am trying to change it to follow MVVM.</p>\n\n<p>Here is the MainWindow XAML</p>\n\n<pre><code>&lt;Window\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns:local=\"clr-namespace:WPFwithEFSampleCodeFirst\" mc:Ignorable=\"d\" x:Class=\"WPFwithEFSampleCodeFirst.MainWindow\"\n    Title=\"MainWindow\" Height=\"352.134\" Width=\"517.53\" Loaded=\"Window_Loaded\"&gt;\n\n&lt;Grid  Margin=\"0,0,0,-3\"&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"0*\"/&gt;\n        &lt;ColumnDefinition Width=\"77*\"/&gt;\n        &lt;ColumnDefinition Width=\"25*\"/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Button Content=\"Save\" Grid.Column=\"2\" HorizontalAlignment=\"Left\" Margin=\"41,167,0,0\" VerticalAlignment=\"Top\" Width=\"75\" Click=\"Button_Click\"/&gt;\n    &lt;DataGrid Grid.ColumnSpan=\"2\"  ItemsSource=\"{Binding Categories}\" AutoGenerateColumns=\"False\" HorizontalAlignment=\"Left\" Margin=\"32,10,0,0\" VerticalAlignment=\"Top\" Height=\"124\" Width=\"330\" &gt;\n        &lt;DataGrid.Columns&gt;\n            &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Category Id\" Binding=\"{Binding Path = CategoryId}\"/&gt;\n            &lt;DataGridTextColumn  Width=\"SizeToHeader\" Header=\"Name\" Binding=\"{Binding Path = Name}\"/&gt;\n        &lt;/DataGrid.Columns&gt;\n    &lt;/DataGrid&gt;\n\n    &lt;DataGrid Grid.ColumnSpan=\"2\" AutoGenerateColumns=\"False\" HorizontalAlignment=\"Left\" Margin=\"32,153,0,0\" VerticalAlignment=\"Top\" Height=\"146\" Width=\"330\"&gt;\n        &lt;DataGrid.Columns&gt;\n            &lt;DataGridTextColumn  Binding=\"{Binding CategoryId}\" Header=\"Category Id\" Width=\"SizeToHeader\"/&gt;\n            &lt;DataGridTextColumn Binding=\"{Binding Name}\" Header=\"Name\" Width=\"SizeToHeader\"/&gt;\n            &lt;DataGridTextColumn  Binding=\"{Binding ProductId}\" Header=\"Product Id\" Width=\"SizeToHeader\"/&gt;\n        &lt;/DataGrid.Columns&gt;\n    &lt;/DataGrid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is the MainWindowViewModel</p>\n\n<pre><code> class MainWindowViewModel\n{\n    private ICollectionView _categoryView;\n\n    public ICollectionView Categories\n    {\n        get { return _categoryView; }\n    }\n\n    ProductContext context = new ProductContext();\n\n    public MainWindowViewModel()\n    {\n        IList&lt;Category&gt; categories = GetCategories();\n        _categoryView = CollectionViewSource.GetDefaultView(categories);\n\n    }\n\n    public IList&lt;Category&gt; GetCategories()\n    {\n        return context.Categories.ToList();\n    }\n}\n</code></pre>\n\n<p>I don't know how to binding the second details datagrid to ViewModel. I would like to have the same Master-Details display function as the original example.</p>\n\n<p>So how to bind Products in Categories to the second datagrid? What is the right way to implement it using MVVM?</p>\n\n<hr>\n\n<p>More info:</p>\n\n<pre><code> public class Category\n{\n    public Category()\n    {\n        this.Products = new ObservableCollection&lt;Product&gt;();\n    }\n\n    public int CategoryId { get; set; }\n    public string Name { get; set; }\n\n    public virtual ObservableCollection&lt;Product&gt; Products { get; private set; }\n} \n\n    public class Product\n{\n    public int ProductId { get; set; }\n    public string Name { get; set; }\n\n    public int CategoryId { get; set; }\n    public virtual Category Category { get; set; }\n} \n\n    public class ProductContext : DbContext\n{\n    public DbSet&lt;Category&gt; Categories { get; set; }\n    public DbSet&lt;Product&gt; Products { get; set; }\n} \n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "dryioc"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461791892, "post_id": 36900585, "comment_id": 61366278, "body": "Ah, thanks @David for directing me to the source of the .WithWebApi() method.  I had glanced at this, but didn&#39;t realize that the reference to the container was modified and returned.  Makes perfect sense now.  Thanks!"}, {"owner": {"reputation": 5606, "user_id": 601990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/710ac8798f16e071622043ddbae6da7f?s=128&d=identicon&r=PG", "display_name": "MovGP0", "link": "https://stackoverflow.com/users/601990/movgp0"}, "edited": false, "score": 0, "creation_date": 1461792056, "post_id": 36900585, "comment_id": 61366362, "body": "this is indeed the answer why it happens. however, the container that is given by <code>this IContainer container</code> should be the same container that gets returned in <code>return container</code>. there should also be a side effect is the second example, such that <code>c = c.WithWebApi(config);</code> behaves the same as <code>c.WithWebApi(config);</code>, because of the implicit conventions of how the rest of the OWIN/WebAPI fluent interfaces work."}, {"owner": {"reputation": 5606, "user_id": 601990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/710ac8798f16e071622043ddbae6da7f?s=128&d=identicon&r=PG", "display_name": "MovGP0", "link": "https://stackoverflow.com/users/601990/movgp0"}, "edited": false, "score": 0, "creation_date": 1461792356, "post_id": 36900585, "comment_id": 61366504, "body": "it is also a bit counterintuitive why the syntax is <code>container.WithWebApi(config)</code>, instead of <code>config.WithDryIoc(container)</code>, because it is <code>app.UseDryIocOwinMiddleware(container)</code> in the OWIN package."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "reply_to_user": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461794459, "post_id": 36900585, "comment_id": 61367484, "body": "@ColbyBrown happy to help!  Please consider marking my answer as the accepted answer to point others in the right direction."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "reply_to_user": {"reputation": 5606, "user_id": 601990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/710ac8798f16e071622043ddbae6da7f?s=128&d=identicon&r=PG", "display_name": "MovGP0", "link": "https://stackoverflow.com/users/601990/movgp0"}, "edited": false, "score": 0, "creation_date": 1461794508, "post_id": 36900585, "comment_id": 61367515, "body": "@MovGP0 it would seem that there are a few naming inconsistencies between the different packages in the library :)"}, {"owner": {"reputation": 4010, "user_id": 2492669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b183bc6de458a20030f1b3f2551b3e?s=128&d=identicon&r=PG", "display_name": "dadhi", "link": "https://stackoverflow.com/users/2492669/dadhi"}, "edited": false, "score": 0, "creation_date": 1461809530, "post_id": 36900585, "comment_id": 61371864, "body": "The names and the target &quot;this&quot; were selected to better match with the integrated library, suggestions for improvement are fine too :) Regarding WithWebApi method it is good to look into API docs to find what are input and return parameters. The info is provided by VS intellisence, or more detailed via Ctrl-Q on the method with R#."}], "tags": [], "owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1461790093, "creation_date": 1461790093, "answer_id": 36900585, "question_id": 36899798, "link": "https://stackoverflow.com/questions/36899798/dryioc-webapi-setup/36900585#36900585", "title": "DryIoc.WebApi Setup", "body": "<p>This is because <code>.WithWebApi()</code> is an extension method per the <a href=\"https://bitbucket.org/dadhi/dryioc/src/7e3378e3d7591e50826f1606b8805f3e08857b47/Extensions/DryIoc.WebApi/DryIocWebApi.cs?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">source</a>.  </p>\n\n<pre><code> public static IContainer WithWebApi(this IContainer container, HttpConfiguration config,\n        IEnumerable&lt;Assembly&gt; controllerAssemblies = null, IScopeContext scopeContext = null,\n        Func&lt;Type, bool&gt; throwIfUnresolved = null)\n    {\n        container.ThrowIfNull();\n\n        if (container.ScopeContext == null)\n            container = container.With(scopeContext: scopeContext ?? new AsyncExecutionFlowScopeContext());\n\n        container.RegisterWebApiControllers(config, controllerAssemblies);\n\n        container.SetFilterProvider(config.Services);\n\n        InsertRegisterRequestMessageHandler(config);\n\n        config.DependencyResolver = new DryIocDependencyResolver(container, throwIfUnresolved);\n\n        return container;\n    }\n</code></pre>\n\n<p>In the first syntax example, you create a new instance of <code>Container</code> and pass that newly created instance to <code>.WithWebApi()</code>.  This in turn updates the container instance and finally returns it back to variable <code>c</code>.</p>\n\n<p>In the second syntax example, you are never returning the value of the extension method BACK to the original variable, updating it.  You are calling it as if it were a void method, which does nothing in this case, hence the exception.</p>\n\n<p>If you had instead written:</p>\n\n<pre><code>var c = new Container();\nc = c.WithWebApi(config);\n</code></pre>\n\n<p>it would have essentially been a more verbose example of the first syntax and would have properly updated <code>c</code> with the new functionality.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "edited": false, "score": 0, "creation_date": 1461792192, "post_id": 36900702, "comment_id": 61366424, "body": "Thanks @MovGP0 for the tip on setting up a test.  Your answer lines up with what David was saying as well, the container different after the call to .WithWebApi(..) and was returned, by I did nothing with it.  His answer shows the correct usage."}], "tags": [], "owner": {"reputation": 5606, "user_id": 601990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/710ac8798f16e071622043ddbae6da7f?s=128&d=identicon&r=PG", "display_name": "MovGP0", "link": "https://stackoverflow.com/users/601990/movgp0"}, "is_accepted": false, "score": 1, "last_activity_date": 1461791233, "last_edit_date": 1461791233, "creation_date": 1461790488, "answer_id": 36900702, "question_id": 36899798, "link": "https://stackoverflow.com/questions/36899798/dryioc-webapi-setup/36900702#36900702", "title": "DryIoc.WebApi Setup", "body": "<p>This seems fine and should work. Obviously the container returned from <code>ccontainer.WithWebApi(config);</code> is not the original container, which is unexpected at this point and therefore at least a code smell, since it gives rise to possible bugs. Better write a couple of unit tests and open an issue at the <a href=\"https://bitbucket.org/dadhi/dryioc/issues?status=new&amp;status=open\" rel=\"nofollow\">DryIoC Bitbucket site</a>. </p>\n\n<p>To help you out, here is an template of how to write such tests. Create a new test project and do the following:  </p>\n\n<hr>\n\n<p><strong>Install NuGet Packages</strong></p>\n\n<pre><code>Install-Package Microsoft.AspNet.WebApi.OwinSelfHost\nInstall-Package DryIoc.WebApi.Owin.dll\nInstall-Package Xunit \n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public sealed class ValuesController : ApiController\n{\n    private IWidgetService WidgetService { get; }\n\n    public ValuesController(IWidgetService widgetService)\n    {\n        if(widgetService == null) \n            throw new ArgumentNullException(nameof(widgetService));\n        WidgetService = widgetService;\n    }\n\n    [HttpGet]\n    public IEnumerable&lt;Widget&gt; Get()\n    {\n        return WidgetService.GetWidgets().ToArray();\n    }\n}\n</code></pre>\n\n<p><strong>OWIN Startup</strong></p>\n\n<pre><code>public sealed class Startup\n{\n    public void Configuration(IAppBuilder app)\n    {\n        var config = new HttpConfiguration()\n            .ConfigureRouting()\n            .ConfigureDependencyInjection();\n\n        app.UseWebApi(config);\n\n        // protip: use OWIN error page instead of ASP.NET yellow pages for better diagnostics \n        // Install-Package Microsoft.Owin.Diagnostics\n        // app.UseErrorPage(ErrorPageOptions.ShowAll); \n    }\n\n    private static HttpConfiguration ConfigureRouting(this HttpConfiguration config)\n    {\n        config.MapHttpAttributeRoutes();\n        config.Routes.MapHttpRoute(\n            name: \"default\", \n            routeTemplate: \"/\", \n            defaults: new { controller = \"values\" });\n        return config;\n    }\n\n    private static HttpConfiguration ConfigureDependencyInjection(this HttpConfiguration config)\n    {\n        new Container()\n            .Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton)\n            .Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton)\n            .WithWebApi(config);\n        return config;\n    }\n}\n</code></pre>\n\n<p><strong>Unit Test</strong></p>\n\n<pre><code>[Fact]\npublic async Task ShouldFoo()\n{\n    const string baseAddress = \"http://localhost:8000\";\n    using (WebApp.Start&lt;Startup&gt;(baseAddress))\n    {\n        var httpclient = new HttpClient\n        { \n            BaseAddress = new Uri(baseAddress)\n        };\n        var response = await httpclient.GetAsync(\"/\");\n        Assert.That(...);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6262695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fzpz.jpg?s=128&g=1", "display_name": "Colby", "link": "https://stackoverflow.com/users/6262695/colby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 0, "accepted_answer_id": 36900585, "answer_count": 2, "score": 3, "last_activity_date": 1461791233, "creation_date": 1461787353, "question_id": 36899798, "link": "https://stackoverflow.com/questions/36899798/dryioc-webapi-setup", "title": "DryIoc.WebApi Setup", "body": "<p>I'm exploring the use of DryIoc in a .NET WebAPI application and have noticed a strange behavior with the initialization steps.  In a simple test webapi application, I have the following DryIoc registration class which gets called immediately after the WebApi config registration.</p>\n\n<pre><code>public class DryIocConfig\n{\n    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container().WithWebApi(config);\n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n}\n</code></pre>\n\n<p>And the following WebApi controller:</p>\n\n<pre><code>public class ValuesController : ApiController\n{\n    private readonly IWidgetService _widgetService;\n\n    public ValuesController(IWidgetService widgetService)\n    {\n        _widgetService = widgetService;\n    }\n\n    // GET api/values\n    public IEnumerable&lt;Widget&gt; Get()\n    {\n        return _widgetService.GetWidgets();\n    }\n}\n</code></pre>\n\n<p>This seems to work fine, but in experimenting with was seems  to me to be the identical, but written a little more verbose, code I get an error.</p>\n\n<pre><code>public class DryIocConfig\n{\n    public static void Register(HttpConfiguration config)\n    {\n        var c = new Container();\n        c.WithWebApi(config);  // Now separate statement rather than chained. \n\n        c.Register&lt;IWidgetService, WidgetService&gt;(Reuse.Singleton);\n        c.Register&lt;IWidgetRepository, WidgetRepository&gt;(Reuse.Singleton);\n    }\n}\n</code></pre>\n\n<p>The exception I get is the following (as JSON):</p>\n\n<pre><code>    {\n        \"Message\" : \"An error has occurred.\",\n        \"ExceptionMessage\" : \"An error occurred when trying to create a controller of type 'ValuesController'. Make sure that the controller has a parameterless public constructor.\",\n        \"ExceptionType\" : \"System.InvalidOperationException\",\n        \"StackTrace\" : \"   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\\r\\n   at System.Web.Http.Controllers.HttpControllerDescriptor.CreateController(HttpRequestMessage request)\\r\\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&lt;SendAsync&gt;d__1.MoveNext()\",\n        \"InnerException\" : {\n            \"Message\" : \"An error has occurred.\",\n            \"ExceptionMessage\" : \"Type 'IOCContainerTest.DryLoc.Controllers.ValuesController' does not have a default constructor\",\n            \"ExceptionType\" : \"System.ArgumentException\",\n            \"StackTrace\" : \"   at System.Linq.Expressions.Expression.New(Type type)\\r\\n   at System.Web.Http.Internal.TypeActivator.Create[TBase](Type instanceType)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.GetInstanceOrActivator(HttpRequestMessage request, Type controllerType, Func`1&amp; activator)\\r\\n   at System.Web.Http.Dispatcher.DefaultHttpControllerActivator.Create(HttpRequestMessage request, HttpControllerDescriptor controllerDescriptor, Type controllerType)\"\n        }\n    }\n</code></pre>\n\n<p>Is this something odd with DryIoc, or is this a C# nuance that I've just never come across?</p>\n"}, {"tags": ["c#", "wpf", "scroll", "datagrid", "stackpanel"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 1, "creation_date": 1461789497, "post_id": 36899758, "comment_id": 61364984, "body": "You must have skipped WPF lesson 1; creating your view using XAML"}, {"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 0, "creation_date": 1461797051, "post_id": 36899758, "comment_id": 61368545, "body": "Why no XAML. If you are generating it during compilation, XAML is both easier to write and look."}, {"owner": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "edited": false, "score": 0, "creation_date": 1462196563, "post_id": 36899758, "comment_id": 61522589, "body": "Because the StackPanel change as the user enters value or change the selection some parts of the panel get removed and others are added which make it not possible to code it in XAML."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "edited": false, "score": 0, "creation_date": 1462208022, "post_id": 36905068, "comment_id": 61529578, "body": "HorizontalScrollBarVisibilityProperty doesn&#39;t exist in WPF  what you are proposing me is : myDataGrid.VerticalScrollBarVisibility= ScrollBarVisibility.Disabled; But that is not what i want to achieve. I want to remove the scrolling event over the grid when my mouse is passing over the grid when i am scrolling my ScrollViewer"}, {"owner": {"reputation": 4112, "user_id": 5621607, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FlE7Z.jpg?s=128&g=1", "display_name": "ViVi", "link": "https://stackoverflow.com/users/5621607/vivi"}, "reply_to_user": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "edited": false, "score": 0, "creation_date": 1462209112, "post_id": 36905068, "comment_id": 61530156, "body": "Who told the HorizontalScrollBarVisibilityProperty is not available in WPF?  It is available for a datagrid. Your question was on how to disable the scrolling for datagrid, right?"}, {"owner": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "edited": false, "score": 0, "creation_date": 1462226293, "post_id": 36905068, "comment_id": 61538851, "body": "i made an edit to show you that the HorizontalScrollBarVisibilityProperty is not accessible by SetValue. But this is not my question. I don&#39;t want to hide the visibility of the scrollbar. I want don&#39;t want my grid to not interfere with the ScrollViewer&#39;s scrolling. If you try my code and you put your mouse over a DataGrid, you can&#39;t scroll the scrollViewer. I dont want this to happen."}, {"owner": {"reputation": 4112, "user_id": 5621607, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FlE7Z.jpg?s=128&g=1", "display_name": "ViVi", "link": "https://stackoverflow.com/users/5621607/vivi"}, "reply_to_user": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "edited": false, "score": 0, "creation_date": 1462247968, "post_id": 36905068, "comment_id": 61544452, "body": "I tried with your code. As you told it is true. It is quiet impossible to do what you need. But I am seeing such an issue for the first time. For the time being set the vertical scroll bar visibility to visibile so that user can scroll the area of scrollbar to go down or drag it.   Please check edit part of my answer.  I will check and come up with a solution soon."}], "tags": [], "owner": {"reputation": 4112, "user_id": 5621607, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FlE7Z.jpg?s=128&g=1", "display_name": "ViVi", "link": "https://stackoverflow.com/users/5621607/vivi"}, "is_accepted": true, "score": 1, "last_activity_date": 1462565320, "last_edit_date": 1462565320, "creation_date": 1461816504, "answer_id": 36905068, "question_id": 36899758, "link": "https://stackoverflow.com/questions/36899758/stackpanel-stop-scrolling-while-over-a-datagrid-wpf/36905068#36905068", "title": "StackPanel stop scrolling while over a Datagrid WPF", "body": "<p>EDIT: RESUMED: In order to make a ScrollViewer that is fluid with DataGrid in it, you need to add this function to it.</p>\n\n<pre><code>DataGrid dgvAssy = new DataGrid();\n\ndgv.VerticalScrollBarVisibility = ScrollBarVisibility.Disabled;\n\ndgv.PreviewMouseWheel += DgvAssy_PreviewMouseWheel;\n\n\nprivate void DgvAssy_PreviewMouseWheel(object sender, System.Windows.Input.MouseWheelEventArgs e)\n{\n     scrollviewer1.ScrollToVerticalOffset(scrollviewer1.VerticalOffset - e.Delta);\n}\n</code></pre>\n\n<p>EDIT : Found the solution. Check the code, below! The issue is that the datagrid doesn't scroll the scroll viewer. You get the mouse scroll event and scroll the scroll viewer.</p>\n\n<p><strong>XAML</strong> :</p>\n\n<pre><code>&lt;Window x:Class=\"testscroll.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:testscroll\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Grid&gt;\n        &lt;ScrollViewer x:Name=\"scrollviewer1\" HorizontalAlignment=\"Left\" Height=\"300\" Margin=\"10,10,0,0\" VerticalAlignment=\"Top\" Width=\"497\"&gt;\n            &lt;StackPanel x:Name=\"panel\" HorizontalAlignment=\"Left\" Margin=\"10,10,0,0\" VerticalAlignment=\"Top\" /&gt;\n        &lt;/ScrollViewer&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p><strong>Code behind</strong> :</p>\n\n<pre><code>using System.Data;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Media;\n\n\nnamespace testscroll\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            panel.Children.Clear();\n\n\n            Label lblTicket = new Label();\n            lblTicket.Content = \"RT Ticket\";\n            panel.Children.Add(lblTicket);\n            TextBox txtBoxRTTicket = new TextBox();\n\n            txtBoxRTTicket.Text = \"test\";\n            txtBoxRTTicket.MaxLength = 5;\n            txtBoxRTTicket.Margin = new Thickness(60, -25, 0, 0);\n            panel.Children.Add(txtBoxRTTicket);\n\n            TextBox txtBoxRTTicketFull = new TextBox();\n            txtBoxRTTicketFull.Foreground = Brushes.Blue;\n            txtBoxRTTicketFull.TextDecorations = TextDecorations.Underline;\n            txtBoxRTTicketFull.Name = \"txtBoxRTTicketFull\";\n            txtBoxRTTicketFull.Text = \"http://mtl-ppapp-rt01/rt/Ticket/Display.html?id=\" + \"11111\";\n            //txtBoxRTTicket.TextChanged += TxtBoxRTTicket_TextChanged;\n            //txtBoxRTTicketFull.MouseDoubleClick += TextBox_MouseDoubleClick;\n            txtBoxRTTicketFull.IsReadOnly = true;\n            txtBoxRTTicketFull.Margin = new Thickness(200, -25, 0, 0);\n            panel.Children.Add(txtBoxRTTicketFull);\n\n            Label space1 = new Label();\n            space1.Content = \"\";\n            panel.Children.Add(space1);\n            Label lblTrackPage = new Label();\n            lblTrackPage.Content = \"Trac Page\";\n            panel.Children.Add(lblTrackPage);\n            TextBox txtBoxTrackPage = new TextBox();\n            txtBoxTrackPage.Text = \"test\";\n            txtBoxTrackPage.Foreground = Brushes.Blue;\n            txtBoxTrackPage.TextDecorations = TextDecorations.Underline;\n            //txtBoxTrackPage.MouseDoubleClick += TextBox_MouseDoubleClick;\n            txtBoxTrackPage.Margin = new Thickness(60, -25, 0, 0);\n            panel.Children.Add(txtBoxTrackPage);\n            //un espace dans le stackpanel\n            Label space2 = new Label();\n            space2.Content = \"\";\n            panel.Children.Add(space2);\n            //on ajoute le premier tableau concernant le pcb\n            DataTable tablePCB = new DataTable();\n            tablePCB.Columns.Add(\"PCB Number\");\n            tablePCB.Columns.Add(\"CAD Number\");\n            tablePCB.Columns.Add(\"Baan Descriptiion\");\n            tablePCB.Columns.Add(\"Display Description\");\n            tablePCB.Columns.Add(\"Detail Description\");\n            tablePCB.Rows.Add();\n            tablePCB.Rows[0][0] = \"000-00000-00\";\n            string cadNbr = ((string)tablePCB.Rows[0][0]).Substring(3, 6);\n            tablePCB.Rows[0][1] = \"cad\" + cadNbr;\n            tablePCB.Rows[0][2] = \"test\";\n            tablePCB.Rows[0][3] = \"test\";\n            tablePCB.Rows[0][4] = \"test\";\n            tablePCB.Columns[0].ReadOnly = true;\n            tablePCB.Columns[1].ReadOnly = true;\n            tablePCB.Columns[2].ReadOnly = true;\n            tablePCB.Columns[3].ReadOnly = true;\n            DataGrid dgvPCB = new DataGrid();\n\n            dgvPCB.CanUserAddRows = false;\n            dgvPCB.ItemsSource = tablePCB.DefaultView;\n\n            panel.Children.Add(dgvPCB);\n            //un espace dans le stackpanel\n            Label space3 = new Label();\n            space3.Content = \"\";\n            panel.Children.Add(space3);\n            //on ajoute le premier tableau concernant les assembly\n            DataTable tableAssy = new DataTable();\n            tableAssy.Columns.Add(\"Assembly Number\");\n            tableAssy.Columns.Add(\"Schematic Description\");\n            tableAssy.Columns.Add(\"Work Instruction\");\n            tableAssy.Columns.Add(\"Warehouse\");\n            tableAssy.Columns.Add(\"Baan Description\");//isreadonly\n            tableAssy.Columns.Add(\"Display Description\");\n            tableAssy.Columns.Add(\"Detail Description\");\n            for (int i = 0; i &lt; 1; i++)\n            {\n                tableAssy.Rows.Add();\n                tableAssy.Rows[i][0] = \"test\";\n                tableAssy.Rows[i][1] = \"test\";\n                tableAssy.Rows[i][2] = \"test\";\n                tableAssy.Rows[i][3] = \"test\";\n                tableAssy.Rows[i][4] = \"test\";\n                tableAssy.Rows[i][5] = \"test\";\n                tableAssy.Rows[i][6] = \"test\";\n            }\n            tableAssy.Columns[3].ReadOnly = true;\n            tableAssy.Columns[4].ReadOnly = true;\n            DataGrid dgvAssy = new DataGrid();\n            dgvPCB.VerticalScrollBarVisibility = ScrollBarVisibility.Disabled;\n            dgvAssy.VerticalScrollBarVisibility = ScrollBarVisibility.Disabled;\n\n            dgvAssy.PreviewMouseWheel += DgvAssy_PreviewMouseWheel;\n            dgvPCB.PreviewMouseWheel += DgvAssy_PreviewMouseWheel;\n            //dgvAssy.CanUserAddRows = false;\n            dgvAssy.ItemsSource = tableAssy.DefaultView;\n\n            panel.Children.Add(dgvAssy);\n\n            if (null != panel.FindName(txtBoxRTTicketFull.Name))\n                panel.UnregisterName(txtBoxRTTicketFull.Name);\n            panel.RegisterName(txtBoxRTTicketFull.Name, txtBoxRTTicketFull);\n\n            Label lblNote = new Label();\n            lblNote.Content = \"Notes:\";\n\n            TextBox txtBoxNotes = new TextBox();\n            txtBoxNotes.Text = \"test\";\n            txtBoxNotes.AcceptsReturn = true;\n            txtBoxNotes.Height = 300;\n            txtBoxNotes.VerticalScrollBarVisibility = ScrollBarVisibility.Auto;\n            txtBoxNotes.MaxHeight = 300;\n            txtBoxNotes.TextWrapping = TextWrapping.Wrap;\n            txtBoxNotes.MaxWidth = 800;\n            txtBoxNotes.ScrollToEnd();\n            Button btnAddAssembly = new Button();\n            btnAddAssembly.Content = \"Save changes\";\n            //btnAddAssembly.Click += ((sender1, e1) =&gt; save_click(sender1, e1, txtBoxRTTicket.Text, txtBoxTrackPage.Text, (string)tablePCB.Rows[0][3], (string)tablePCB.Rows[0][4], tableAssy, txtBoxNotes, log));\n            panel.Children.Add(btnAddAssembly);\n\n            panel.Children.Add(lblNote);\n\n            panel.Children.Add(txtBoxNotes);\n\n        }\n\n        private void DgvAssy_PreviewMouseWheel(object sender, System.Windows.Input.MouseWheelEventArgs e)\n        {\n            scrollviewer1.ScrollToVerticalOffset(scrollviewer1.VerticalOffset - e.Delta);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6067879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zkxbmVtsMtA/AAAAAAAAAAI/AAAAAAAAAA8/VAnYL5-Fa8Q/photo.jpg?sz=128", "display_name": "Julien Allaire", "link": "https://stackoverflow.com/users/6067879/julien-allaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 36905068, "answer_count": 1, "score": 2, "last_activity_date": 1537425340, "creation_date": 1461787222, "last_edit_date": 1592644375, "question_id": 36899758, "link": "https://stackoverflow.com/questions/36899758/stackpanel-stop-scrolling-while-over-a-datagrid-wpf", "title": "StackPanel stop scrolling while over a Datagrid WPF", "body": "<p>I've been working on a dynamic StackPanel that implement multiple Controls which is in a ScrollViewer. The problem i am facing is that i can't scroll through my whole StackPanel when my mouse hits a DataGrid. I figured that it's because a DataGrid has a scrolling option itself. I want to know how to disable it. I prefer to create and change my controls programmatically. In the solution, i need to be able to modify the DataGrid and the DataGrid must not stop user from scrolling down and up.</p>\n<pre><code>&lt;Window x:Class=&quot;testscroll.MainWindow&quot;\n    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;\n    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;\n    xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;\n    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\n    xmlns:local=&quot;clr-namespace:testscroll&quot;\n    mc:Ignorable=&quot;d&quot;\n    Title=&quot;MainWindow&quot; Height=&quot;350&quot; Width=&quot;525&quot;&gt;\n&lt;Grid&gt;\n\n    &lt;ScrollViewer HorizontalAlignment=&quot;Left&quot; Height=&quot;300&quot; Margin=&quot;10,10,0,0&quot;VerticalAlignment=&quot;Top&quot; Width=&quot;497&quot;&gt;\n\n        &lt;StackPanel x:Name=&quot;panel&quot; HorizontalAlignment=&quot;Left&quot; Margin=&quot;10,10,0,0&quot; VerticalAlignment=&quot;Top&quot; /&gt;\n    &lt;/ScrollViewer&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p>This is my test code</p>\n<pre><code>using System.Data;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Media;\n\n\nnamespace testscroll\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            panel.Children.Clear();\n\n\n            Label lblTicket = new Label();\n            lblTicket.Content = &quot;RT Ticket&quot;;\n            panel.Children.Add(lblTicket);\n            TextBox txtBoxRTTicket = new TextBox();\n\n            txtBoxRTTicket.Text = &quot;test&quot;;\n            txtBoxRTTicket.MaxLength = 5;\n            txtBoxRTTicket.Margin = new Thickness(60, -25, 0, 0);\n            panel.Children.Add(txtBoxRTTicket);\n\n            TextBox txtBoxRTTicketFull = new TextBox();\n            txtBoxRTTicketFull.Foreground = Brushes.Blue;\n            txtBoxRTTicketFull.TextDecorations = TextDecorations.Underline;\n            txtBoxRTTicketFull.Name = &quot;txtBoxRTTicketFull&quot;;\n            txtBoxRTTicketFull.Text = &quot;http://mtl-ppapp-rt01/rt/Ticket/Display.html?id=&quot; + &quot;11111&quot;;\n            //txtBoxRTTicket.TextChanged += TxtBoxRTTicket_TextChanged;\n            //txtBoxRTTicketFull.MouseDoubleClick += TextBox_MouseDoubleClick;\n            txtBoxRTTicketFull.IsReadOnly = true;\n            txtBoxRTTicketFull.Margin = new Thickness(200, -25, 0, 0);\n            panel.Children.Add(txtBoxRTTicketFull);\n\n            Label space1 = new Label();\n            space1.Content = &quot;&quot;;\n            panel.Children.Add(space1);\n            Label lblTrackPage = new Label();\n            lblTrackPage.Content = &quot;Trac Page&quot;;\n            panel.Children.Add(lblTrackPage);\n            TextBox txtBoxTrackPage = new TextBox();\n            txtBoxTrackPage.Text = &quot;test&quot;;\n            txtBoxTrackPage.Foreground = Brushes.Blue;\n            txtBoxTrackPage.TextDecorations = TextDecorations.Underline;\n            //txtBoxTrackPage.MouseDoubleClick += TextBox_MouseDoubleClick;\n            txtBoxTrackPage.Margin = new Thickness(60, -25, 0, 0);\n            panel.Children.Add(txtBoxTrackPage);\n            //un espace dans le stackpanel\n            Label space2 = new Label();\n            space2.Content = &quot;&quot;;\n            panel.Children.Add(space2);\n            //on ajoute le premier tableau concernant le pcb\n            DataTable tablePCB = new DataTable();\n            tablePCB.Columns.Add(&quot;PCB Number&quot;);\n            tablePCB.Columns.Add(&quot;CAD Number&quot;);\n            tablePCB.Columns.Add(&quot;Baan Descriptiion&quot;);\n            tablePCB.Columns.Add(&quot;Display Description&quot;);\n            tablePCB.Columns.Add(&quot;Detail Description&quot;);\n            tablePCB.Rows.Add();\n            tablePCB.Rows[0][0] = &quot;000-00000-00&quot;;\n            string cadNbr = ((string)tablePCB.Rows[0][0]).Substring(3, 6);\n            tablePCB.Rows[0][1] = &quot;cad&quot; + cadNbr;\n            tablePCB.Rows[0][2] = &quot;test&quot;;\n            tablePCB.Rows[0][3] = &quot;test&quot;;\n            tablePCB.Rows[0][4] = &quot;test&quot;;\n            tablePCB.Columns[0].ReadOnly = true;\n            tablePCB.Columns[1].ReadOnly = true;\n            tablePCB.Columns[2].ReadOnly = true;\n            tablePCB.Columns[3].ReadOnly = true;\n            DataGrid dgvPCB = new DataGrid();\n\n            dgvPCB.CanUserAddRows = false;\n            dgvPCB.ItemsSource = tablePCB.DefaultView;\n            panel.Children.Add(dgvPCB);\n            //un espace dans le stackpanel\n            Label space3 = new Label();\n            space3.Content = &quot;&quot;;\n            panel.Children.Add(space3);\n            //on ajoute le premier tableau concernant les assembly\n            DataTable tableAssy = new DataTable();\n            tableAssy.Columns.Add(&quot;Assembly Number&quot;);\n            tableAssy.Columns.Add(&quot;Schematic Description&quot;);\n            tableAssy.Columns.Add(&quot;Work Instruction&quot;);\n            tableAssy.Columns.Add(&quot;Warehouse&quot;);\n            tableAssy.Columns.Add(&quot;Baan Description&quot;);//isreadonly\n            tableAssy.Columns.Add(&quot;Display Description&quot;);\n            tableAssy.Columns.Add(&quot;Detail Description&quot;);\n            for (int i = 0; i &lt; 1; i++)\n            {\n                tableAssy.Rows.Add();\n                tableAssy.Rows[i][0] = &quot;test&quot;;\n                tableAssy.Rows[i][1] = &quot;test&quot;;\n                tableAssy.Rows[i][2] = &quot;test&quot;;\n                tableAssy.Rows[i][3] = &quot;test&quot;;\n                tableAssy.Rows[i][4] = &quot;test&quot;;\n                tableAssy.Rows[i][5] = &quot;test&quot;;\n                tableAssy.Rows[i][6] = &quot;test&quot;;\n            }\n            tableAssy.Columns[3].ReadOnly = true;\n            tableAssy.Columns[4].ReadOnly = true;\n            DataGrid dgvAssy = new DataGrid();\n            //dgvAssy.CanUserAddRows = false;\n            dgvAssy.ItemsSource = tableAssy.DefaultView;\n\n            panel.Children.Add(dgvAssy);\n\n            if (null != panel.FindName(txtBoxRTTicketFull.Name))\n                panel.UnregisterName(txtBoxRTTicketFull.Name);\n            panel.RegisterName(txtBoxRTTicketFull.Name, txtBoxRTTicketFull);\n\n            Label lblNote = new Label();\n            lblNote.Content = &quot;Notes:&quot;;\n\n            TextBox txtBoxNotes = new TextBox();\n            txtBoxNotes.Text = &quot;test&quot;;\n            txtBoxNotes.AcceptsReturn = true;\n            txtBoxNotes.Height = 300;\n            txtBoxNotes.VerticalScrollBarVisibility = ScrollBarVisibility.Auto;\n            txtBoxNotes.MaxHeight = 300;\n            txtBoxNotes.TextWrapping = TextWrapping.Wrap;\n            txtBoxNotes.MaxWidth = 800;\n            txtBoxNotes.ScrollToEnd();\n            Button btnAddAssembly = new Button();\n            btnAddAssembly.Content = &quot;Save changes&quot;;\n            //btnAddAssembly.Click += ((sender1, e1) =&gt; save_click(sender1, e1, txtBoxRTTicket.Text, txtBoxTrackPage.Text, (string)tablePCB.Rows[0][3], (string)tablePCB.Rows[0][4], tableAssy, txtBoxNotes, log));\n            panel.Children.Add(btnAddAssembly);\n\n            panel.Children.Add(lblNote);\n\n            panel.Children.Add(txtBoxNotes);\n        }\n    \n    }\n}\n</code></pre>\n<p>EDIT:\n<a href=\"https://i.stack.imgur.com/tBl4A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBl4A.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["c#", "dependency-injection", "caliburn.micro"], "comments": [{"owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 0, "creation_date": 1531649833, "post_id": 36899727, "comment_id": 89667444, "body": "I&#39;m also searching for the best practice for that problem... All I can tell that it&#39;s not good to initiate the ViewModels from IoC directly... And I guess it&#39;s also not so good to instantiate them manually (see: <a href=\"https://stackoverflow.com/a/17373957/2830676\">stackoverflow.com/a/17373957/2830676</a>). I guess the best way is to get it from the constructor, but it has that problem that it gets instantiated too soon =["}, {"owner": {"reputation": 9884, "user_id": 2035029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b0a22963bc260b4beff6f99b98df44?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk", "link": "https://stackoverflow.com/users/2035029/dirk"}, "edited": false, "score": 1, "creation_date": 1531920619, "post_id": 36899727, "comment_id": 89777443, "body": "Some IoC containers enable you to depend on a <code>Func&lt;T&gt;</code> if <code>T</code> is registered. If that&#39;s the case with your container, you could use is for DI yet still only instantiate the viewmodel when it&#39;s actually required."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 0, "creation_date": 1532182767, "post_id": 36899727, "comment_id": 89883322, "body": "@Yitzchak inject factory delegate that will allow for the dependency instantiation to be deferred. Check submitted answer for more details."}], "answers": [{"comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1532184676, "post_id": 51427171, "comment_id": 89883795, "body": "<code>SimpleContainer</code> can inject factory delegate that will allow for the dependency instantiation to be deferred. Check my submitted answer for more details."}], "tags": [], "owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "is_accepted": false, "score": 1, "last_activity_date": 1532292175, "last_edit_date": 1532292175, "creation_date": 1532015903, "answer_id": 51427171, "question_id": 36899727, "link": "https://stackoverflow.com/questions/36899727/how-to-use-dependency-injection-with-conductors-in-caliburn-micro/51427171#51427171", "title": "How to use Dependency Injection with Conductors in Caliburn.Micro", "body": "<p><strong>Solution</strong></p>\n\n<p>I believe that the best solution is to pass a factory that know how to create my child View Models. And the parent View Model will call the factory.</p>\n\n<hr>\n\n<p><strong>Achievements:</strong></p>\n\n<ul>\n<li>You instantiate the child View Model only when needed (lazy)</li>\n<li>You can pass parameters from parent View Model and\\or from injection</li>\n<li>You can write unit tests for your parent View Model with mocked factory. That enables you to test that parent view model created your child View Models without really creating them.</li>\n</ul>\n\n<p><strong>EDIT</strong>: Thanks to @Nkosi answer, there is a simple way to inject lazy view models (factory like) with Caliburn.Micro :)\nUse my answer with this injection for best results.</p>\n"}, {"comments": [{"owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 0, "creation_date": 1532289550, "post_id": 51438993, "comment_id": 89906086, "body": "I\u2019m sure answer will help others, but it\u2019s not what I searched for. I don\u2019t need navigation, I need to show several view models in the same screen, and just needed a way to delay their instantiation. Thanks for your good and detailed answer."}], "tags": [], "owner": {"reputation": 4952, "user_id": 219933, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oPHuE.png?s=128&g=1", "display_name": "Mat J", "link": "https://stackoverflow.com/users/219933/mat-j"}, "is_accepted": false, "score": 3, "last_activity_date": 1532077626, "creation_date": 1532077626, "answer_id": 51438993, "question_id": 36899727, "link": "https://stackoverflow.com/questions/36899727/how-to-use-dependency-injection-with-conductors-in-caliburn-micro/51438993#51438993", "title": "How to use Dependency Injection with Conductors in Caliburn.Micro", "body": "<p>The way I usually do this is to introduce a <code>Navigator</code> and couple it with a singleton ShellView(which will be our conductor) and the IOC <code>container</code> instance. A simplistic navigation api might look like,</p>\n\n<p><strong>Simple implementation:</strong></p>\n\n<pre><code>public interface INavigator\n{\n    void Navigate&lt;T&gt;();\n}\n\npublic class Navigator : INavigator\n{\n    private ShellViewModel _shellview;\n\n    public Navigator(ShellViewModel shellview) //where ShellViewModel:IConductor\n    {\n        _shellview = shellview;\n    }\n    public void Navigate&lt;T&gt;()\n    {\n       //you can inject the IOC container or a wrapper for the same from constructor\n       //and use that to resolve the vm instead of this\n        var screen = IoC.Get&lt;T&gt;(); \n\n        _shellview.ActivateItem(screen);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>For a more flexible alternative, you can improve on this pattern to introduce the concept of a navigation request, encapsulating all the details regarding initializing the screen and the screen itself and activate it as required. </p>\n\n<p><strong>A little Extended Implementation</strong></p>\n\n<p>For such a pattern, design a <code>NavigationRequest</code> such as,</p>\n\n<pre><code>public interface INavigationRequest&lt;out T&gt;\n{\n    T Screen { get; }\n    void Go();\n}\n</code></pre>\n\n<p>Update the <code>INavigator</code> to return this request.</p>\n\n<pre><code>public interface INavigator\n{\n    INavigationRequest&lt;T&gt; To&lt;T&gt;();\n}\n</code></pre>\n\n<p>Provide a contract for your ShellViewModel similar to </p>\n\n<pre><code>public interface IShell : IConductActiveItem\n{\n\n}\n</code></pre>\n\n<p>Implement the <code>INavigator</code>:</p>\n\n<pre><code> public class MyApplicationNavigator : INavigator\n    {\n        private readonly IShell _shell;\n\n        public MyApplicationNavigator(IShell shell)\n        {\n            _shell = shell;\n        }\n        public INavigationRequest&lt;T&gt; To&lt;T&gt;()\n        {\n            return new MyAppNavigationRequest&lt;T&gt;(() =&gt; IoC.Get&lt;T&gt;(), _shell);\n        }\n\n        /// &lt;summary&gt;\n        /// &lt;see cref=\"MyApplicationNavigator\"/&gt; specific implementation of &lt;see cref=\"INavigationRequest{T}\"/&gt;\n        /// &lt;/summary&gt;\n        /// &lt;typeparam name=\"T\"&gt;Type of view model&lt;/typeparam&gt;\n        private class MyAppNavigationRequest&lt;T&gt; : INavigationRequest&lt;T&gt;\n        {\n            private readonly Lazy&lt;T&gt; _viemodel;\n            private readonly IShell _shell;\n\n            public MyAppNavigationRequest(Func&lt;T&gt; viemodelFactory, IShell shell)\n            {\n                _viemodel = new Lazy&lt;T&gt;(viemodelFactory);\n                _shell = shell;\n            }\n\n            public T Screen { get { return _viemodel.Value; } }\n            public void Go()\n            {\n                _shell.ActivateItem(_viemodel.Value);\n            }\n        }\n    }\n</code></pre>\n\n<p>Once this infrastructure is in place, you can consume it by injecting <code>INavigator</code> to the view models as required.</p>\n\n<p>This basic architecture can be extended by way of extension methods for providing additional utility functions, say you want to pass arguments to the view models while navigating to them. You can introduce additional services as follows,</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Defines a contract for View models that accept parameters\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T\"&gt;Type of argument expected&lt;/typeparam&gt;\npublic interface IAcceptArguments&lt;in T&gt;\n{\n    void Accept(T args);\n}\n</code></pre>\n\n<p>Provide utility methods for the same,</p>\n\n<pre><code>public static class NavigationExtensions\n{\n    public static INavigationRequest&lt;T&gt; WithArguments&lt;T, TArgs&gt;(this INavigationRequest&lt;T&gt; request, TArgs args) where T : IAcceptArguments&lt;TArgs&gt;\n    {\n        return new NavigationRequestRequestWithArguments&lt;T, TArgs&gt;(request, args);\n    }\n}\n\ninternal class NavigationRequestRequestWithArguments&lt;T, TArgs&gt; : INavigationRequest&lt;T&gt; where T : IAcceptArguments&lt;TArgs&gt;\n{\n    private readonly INavigationRequest&lt;T&gt; _request;\n    private readonly TArgs _args;\n\n    public NavigationRequestRequestWithArguments(INavigationRequest&lt;T&gt; request, TArgs args)\n    {\n        _request = request;\n        _args = args;\n    }\n\n    public T Screen { get { return _request.Screen; } }\n    public void Go()\n    {\n        _request.Screen.Accept(_args);\n        _request.Go();\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<p>This can be consumed using a concise fluent api:</p>\n\n<pre><code>public void GoToProfile()\n{\n   //Say, this.CurrentUser is UserProfile \n   //and UserDetailsViewModel implements IAcceptArguments&lt;UserProfile&gt;\n   _navigator.To&lt;UserDetailsViewModel&gt;().WithArguments(this.CurrentUser).Go();\n}\n</code></pre>\n\n<p>This can be extended upon as much as required as your requirements go. The main advantages of an architecture like this are,</p>\n\n<ul>\n<li>You are decoupling the resolving, navigation and initialization of view models(screens) from the requestor(other view models or services).</li>\n<li>Unit testable, you can mock away everything not concerning your view models, navigation can be tested separately.</li>\n<li>Extensible. Additional navigation requirements like life cycle management, navigating back and forth between different views and such can be easily implemented by extending the Navigator.</li>\n<li>Adaptability - Can be adapted to different <code>IoC</code> or even without one by not altering any of your view models.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 0, "creation_date": 1532289399, "post_id": 51456903, "comment_id": 89906051, "body": "I like your answer, I feel that this is the answer I need, but it can help me (and others) more if you provide an example how to inject the factory (even though it is very simple, it will provide a complete answer)"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 1, "creation_date": 1532294103, "post_id": 51456903, "comment_id": 89907073, "body": "@Yitzchak If you look at the constructor of the <code>MainModel</code> you will see the <code>Func&lt;MySecondViewModel&gt; mySecondViewModelFactory</code>. That function delegate acts as the factory."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 3, "last_activity_date": 1532184527, "last_edit_date": 1532184527, "creation_date": 1532182690, "answer_id": 51456903, "question_id": 36899727, "link": "https://stackoverflow.com/questions/36899727/how-to-use-dependency-injection-with-conductors-in-caliburn-micro/51456903#51456903", "title": "How to use Dependency Injection with Conductors in Caliburn.Micro", "body": "<p>The simplest and most straight forward approach would be to follow <a href=\"https://deviq.com/explicit-dependencies-principle/\" rel=\"nofollow noreferrer\">The Explicit Dependency Principle</a></p>\n\n<p>So assuming </p>\n\n<pre><code>public MySecondViewModel(MyParamClass input) {\n  //do the work\n}\n</code></pre>\n\n<p>And that it and its dependencies are registered with the container, </p>\n\n<pre><code>simpleContainer.PerRequest&lt;MyParamClass&gt;();\nsimpleContainer.PerRequest&lt;MySecondViewModel&gt;();\n</code></pre>\n\n<p>the <code>MainViewModel</code> conductor can depend on a delegate (factory) that can be used to resolve the dependency when needed.</p>\n\n<pre><code>public class MainViewModel : Conductor&lt;object&gt; {\n    //...\n    private readonly Func&lt;MySecondViewModel&gt; mySecondViewModelFactory;\n\n    public MyMainViewModel(IWindowManager windowManager, Func&lt;MySecondViewModel&gt; mySecondViewModelFactory) {\n        this.mySecondViewModelFactory = mySecondViewModelFactory;\n        //...do the init\n    }\n\n    public void ShowPageOne() {\n        var item = mySecondViewModelFactory(); //invoke factory\n        ActivateItem(item);\n    }\n}\n</code></pre>\n\n<p>While not properly documented, the <code>SimpleContainer</code> allows for the injection of factory delegates (<a href=\"https://github.com/Caliburn-Micro/Caliburn.Micro/blob/master/src/Caliburn.Micro/SimpleContainer.cs#L97\" rel=\"nofollow noreferrer\">Source Code</a>) in the form of <code>Func&lt;TDependency&gt;</code> for deferred resolution/instantiation of injected dependencies. You can take advantage of that feature to resolve your dependencies only when they are actually needed. </p>\n"}], "owner": {"reputation": 7024, "user_id": 859359, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/C7Wgr.png?s=128&g=1", "display_name": "Nestor", "link": "https://stackoverflow.com/users/859359/nestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3211, "favorite_count": 2, "answer_count": 3, "score": 16, "last_activity_date": 1532292175, "creation_date": 1461787118, "last_edit_date": 1532156619, "question_id": 36899727, "link": "https://stackoverflow.com/questions/36899727/how-to-use-dependency-injection-with-conductors-in-caliburn-micro", "title": "How to use Dependency Injection with Conductors in Caliburn.Micro", "body": "<p>I sometimes use <a href=\"http://caliburnmicro.com\" rel=\"noreferrer\">Caliburn.Micro</a> to create applications.</p>\n\n<p>Using the simplest BootStrapper, I can use IoC container (SimpleContainer) like this:</p>\n\n<pre><code>private SimpleContainer _container = new SimpleContainer();\n\nprotected override object GetInstance(Type serviceType, string key) {\n    return _container.GetInstance(serviceType, key);\n}\n\nprotected override IEnumerable&lt;object&gt; GetAllInstances(Type serviceType) {\n    return _container.GetAllInstances(serviceType);\n}\n\nprotected override void BuildUp(object instance) {\n    _container.BuildUp(instance);\n}\n</code></pre>\n\n<p>So in the <code>Configure</code> method I can add and register my ViewModels like this:</p>\n\n<pre><code>container.PerRequest&lt;MyMainViewModel&gt;();\n</code></pre>\n\n<p>My ViewModel's constructor can have a parameter that is <em>injected</em> by the IoC container when requested:</p>\n\n<pre><code>public MyMainViewModel(IWindowManager windowManager)\n{\n  //do the init\n}\n</code></pre>\n\n<p>It works as expected, when I call <code>DisplayRootViewFor&lt;MyMainViewModel&gt;()</code></p>\n\n<p>But what happens, if I intend to create some more logic and use a <a href=\"http://caliburnmicro.com/documentation/composition\" rel=\"noreferrer\">Conductor</a>?</p>\n\n<p>In the examples, the authors use a simple, IoC-free implementation for \"convenience\":</p>\n\n<blockquote>\n  <p>In order to keep this sample as simple as possible, I\u2019m not even using\n  an IoC container with the Bootstrapper. Let\u2019s look at the\n  ShellViewModel first. It inherits from Conductor and is implemented as\n  follows:</p>\n\n<pre><code>public class ShellViewModel : Conductor&lt;object&gt; {\n    public ShellViewModel() {\n        ShowPageOne();\n    }\n\n    public void ShowPageOne() {\n        ActivateItem(new PageOneViewModel());\n    }\n\n    public void ShowPageTwo() {\n        ActivateItem(new PageTwoViewModel());\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>So they <em>instantiate</em> the ViewModels, <strong>instead of requesting an instance from the IoC container</strong>.</p>\n\n<p>What would be the proper use of Dependency Injection in this case?</p>\n\n<p>I have another ViewModel that has a constructor like this:</p>\n\n<pre><code>public MySecondViewModel(MyParamClass input)\n{\n  //do the work\n}\n</code></pre>\n\n<p>Should I modify the code like this:</p>\n\n<p>In the <code>Configure</code> method:</p>\n\n<pre><code>simpleContainer.PerRequest&lt;MyParamClass&gt;(); //How could it be different every time?\n</code></pre>\n\n<p>In the conductor:</p>\n\n<pre><code>public void ShowPageOne() \n{\n   ActivateItem(IoC.Get&lt;MySecondViewModel&gt;());\n}\n</code></pre>\n\n<p>Also, is this allowed or it violates the rules of DI:</p>\n\n<pre><code>protected override object GetInstance(Type serviceType, string key) \n{\n  if(serviceType==typeof(MySecondViewModel))\n    return new MySecondViewModel(new MyParamClass(2));\n  return _container.GetInstance(serviceType, key);\n}\n</code></pre>\n\n<p>I can see that using DI, the ViewModels should be provided by the IoC container and not created manually (not to mention the required parameter - which is inside the container).</p>\n\n<p>So can you give some hint how to implement the IoC pattern with conductors?</p>\n"}, {"tags": ["c#", "oop", "private-members", "open-closed-principle"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 2, "creation_date": 1461787800, "post_id": 36899693, "comment_id": 61363995, "body": "I suggest you repost this question to <a href=\"http://programmers.stackexchange.com/\">programmers.stackexchange.com</a>."}, {"owner": {"reputation": 6198, "user_id": 839601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db99aa846a8217f7e2aba6fa198e7c?s=128&d=identicon&r=PG", "display_name": "gnat", "link": "https://stackoverflow.com/users/839601/gnat"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1461791113, "post_id": 36899693, "comment_id": 61365897, "body": "@Xiaoy312 <a href=\"http://meta.stackexchange.com/tags/cross-posting/info\">cross-posting is frowned upon</a>"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 6198, "user_id": 839601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db99aa846a8217f7e2aba6fa198e7c?s=128&d=identicon&r=PG", "display_name": "gnat", "link": "https://stackoverflow.com/users/839601/gnat"}, "edited": false, "score": 0, "creation_date": 1461791414, "post_id": 36899693, "comment_id": 61366041, "body": "@gnat I think <i>migrate</i> is the word I should have use."}], "answers": [{"comments": [{"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461788445, "post_id": 36899911, "comment_id": 61364387, "body": "I interpreted the article completely differently - from what I understood, any non-sealed class would be open (for extension), as it can be extended without modifying its source code (via inheritance). I&#39;m not sure, however, how to interpret &#39;closed&#39;..."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461788619, "post_id": 36899911, "comment_id": 61364494, "body": "In the context of the question asked - there is no behaviour modification involved in any way, so I&#39;d say even if a non-final variable would have been modified by reference, the principle is not violated. Did I understand something wrong?"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461790343, "post_id": 36899911, "comment_id": 61365472, "body": "I can&#39;t really draw a relation from the example to the open/closed principle because the example isn&#39;t really even in the ballpark of violating or not violating that principle. So I was just answering, &quot;No, it doesn&#39;t violate it.&quot; I could understand somewhat why the question arose. But even if the value was modified it wouldn&#39;t have any bearing on that principle."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461791307, "post_id": 36899911, "comment_id": 61365989, "body": "In practice I understand the &quot;closed&quot; part as meaning that the internals of a class are hidden even from derived classes. So if you inherit from <code>Foo</code> then the <i>base</i> class can modify <code>_field</code> but derived classes can&#39;t. So while you can extend its behavior, you can still cast an inherited class as <code>Foo</code> and trust it to behave exactly the same way. The exception would be methods that are intended to be overridden, but you&#39;d still want to determine what those overridden methods can or can&#39;t change in the object&#39;s internal state."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461791818, "post_id": 36899911, "comment_id": 61366228, "body": "Can we the agree then, that - if we are strict - a class is closed if it does not contain any virtual methods? (This would eliminate the exception.)"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461792115, "post_id": 36899911, "comment_id": 61366389, "body": "A class could still be closed with virtual methods. It would just need to be designed to control what access those methods would have to its own state. In a sense the base class would almost treat those methods as belonging to another class, deciding what to expose to them."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 3, "last_activity_date": 1461790808, "last_edit_date": 1461790808, "creation_date": 1461787771, "answer_id": 36899911, "question_id": 36899693, "link": "https://stackoverflow.com/questions/36899693/does-passing-a-field-in-a-parameter-to-an-external-method-call-violate-the-open/36899911#36899911", "title": "Does passing a field in a parameter to an external method call violate the Open/Closed principle?", "body": "<p>No, this does not violate the open/closed principle. From the standpoint of <code>Bar</code>, <code>input</code> isn't an internal field belonging to <code>Foo</code>. It's just an integer. The internal state of <code>Foo</code> remains hidden inside the class.</p>\n\n<p>Going a step further, unless you were to specify <code>ref</code> when passing the parameter,</p>\n\n<pre><code>Bar.BarDoSomething(ref _field);\n</code></pre>\n\n<p><code>Bar</code> can't even modify the value of <code>_field</code>. The interaction is one-way. <code>Foo</code> is telling <code>Bar</code> to do something. That's good. </p>\n\n<p>To clarify - even if <code>ref</code> was used and <code>Bar</code> <em>could</em> modify the value that wouldn't have any bearing on the open/closed principle. But if the purpose of <code>Bar.DoSomething</code> was to <em>return</em> a value then it would be better as a function that returns an <code>int</code> rather than a method that modifies one. That way the caller could get the value and decide whether it wanted to update <code>_field</code>.</p>\n"}], "owner": {"reputation": 445, "user_id": 3384856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5c8ea7b7fe95da1f39104d2de4ab05d1?s=128&d=identicon&r=PG", "display_name": "David Vogel", "link": "https://stackoverflow.com/users/3384856/david-vogel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36899911, "answer_count": 1, "score": 1, "last_activity_date": 1461790808, "creation_date": 1461786971, "question_id": 36899693, "link": "https://stackoverflow.com/questions/36899693/does-passing-a-field-in-a-parameter-to-an-external-method-call-violate-the-open", "title": "Does passing a field in a parameter to an external method call violate the Open/Closed principle?", "body": "<p>In the code below, does passing a private member, <code>_field</code>, from <code>class Foo</code> as an external method parameter (<code>Bar.DoSomething(_field)</code>) violate the <a href=\"https://en.wikipedia.org/wiki/Open/closed_principle\" rel=\"nofollow\">Open/Closed principle</a> in SOLID programming practices?</p>\n\n<blockquote>\n  <p>In object-oriented programming, the open/closed principle states\n  \"software entities (classes, modules, functions, etc.) should be open\n  for extension, but closed for modification\"; that is, such an\n  entity can allow its behaviour to be extended without modifying its\n  source code.</p>\n</blockquote>\n\n<p>As I understand it, entities should be open for extension, but closed to modification. However, in this case, <code>_field</code> is set once in the constructor of <code>Foo</code> and is <code>readonly</code>. <strong>Is passing a private member to an external method's prameter violate Open/Closed principle</strong> or some other best practice?</p>\n\n<pre><code>  public class Foo\n  {\n    private readonly int _field;\n\n    public Foo(int input)\n    {\n      _field = input;\n    }\n\n    private void FooDoSomething()\n    {\n      Bar.BarDoSomething(_field); //Breaking Open/Closed Principle?\n    }\n  }\n\n  public static class Bar\n  {\n    public static void BarDoSomething(int input)\n    {\n      //Something happens\n    }\n  }\n</code></pre>\n"}, {"tags": ["c#", "windows-phone"], "comments": [{"owner": {"reputation": 1484, "user_id": 3841988, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Nr9dv.png?s=128&g=1", "display_name": "Kasun Koswattha", "link": "https://stackoverflow.com/users/3841988/kasun-koswattha"}, "edited": false, "score": 1, "creation_date": 1461787155, "post_id": 36899683, "comment_id": 61363619, "body": "Check <a href=\"http://codes2know.com/facebook-integration-with-c-net/\" rel=\"nofollow noreferrer\">this</a> out. It has information about FB Graph API"}], "answers": [{"comments": [{"owner": {"reputation": 634, "user_id": 6162065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5BKK.jpg?s=128&g=1", "display_name": "Cabrra", "link": "https://stackoverflow.com/users/6162065/cabrra"}, "reply_to_user": {"reputation": 1390, "user_id": 4388482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7e9aca1603e015896ee9abc9374185c1?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/4388482/tony"}, "edited": false, "score": 0, "creation_date": 1461847155, "post_id": 36900012, "comment_id": 61391874, "body": "Are you using the Microsoft SDK for Facebook?"}], "tags": [], "owner": {"reputation": 634, "user_id": 6162065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5BKK.jpg?s=128&g=1", "display_name": "Cabrra", "link": "https://stackoverflow.com/users/6162065/cabrra"}, "is_accepted": true, "score": 0, "last_activity_date": 1461788091, "creation_date": 1461788091, "answer_id": 36900012, "question_id": 36899683, "link": "https://stackoverflow.com/questions/36899683/c-check-if-user-is-logged-in-facebook/36900012#36900012", "title": "C# - Check if user is logged in Facebook", "body": "<p>I don't know if you are using the windows SDK for facebook \n(<a href=\"https://github.com/Microsoft/winsdkfb\" rel=\"nofollow\">https://github.com/Microsoft/winsdkfb</a>) but it is a third party sdk approved by Facebook.</p>\n\n<p>Before using that SDK you should set up the Facebook developer page for your app. (<a href=\"https://developers.facebook.com/docs/apis-and-sdks\" rel=\"nofollow\">https://developers.facebook.com/docs/apis-and-sdks</a>)</p>\n\n<p>I hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4635077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd43af723db97561ecffc5df72b132d1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack S", "link": "https://stackoverflow.com/users/4635077/jack-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789644, "last_edit_date": 1495540779, "creation_date": 1461789644, "answer_id": 36900444, "question_id": 36899683, "link": "https://stackoverflow.com/questions/36899683/c-check-if-user-is-logged-in-facebook/36900444#36900444", "title": "C# - Check if user is logged in Facebook", "body": "<p>Here is a WPF example that uses the WebBrowser class to get a token: <a href=\"https://stackoverflow.com/questions/20353702/facebook-oauth-in-wpf-c-sharp-example\">Facebook OAuth in WPF &amp; C# Example</a></p>\n\n<p>Obviously the WPF related things might differ a bit, but it should at least point you to getting the info you need out of the process. As far as checking whether the user is logged in, I pretty much just checked whether the token is valid by making some http request that uses it and seeing whether it was successful (used a REST client for that).</p>\n\n<p>There was a way to directly check token validity via the Facebook APIs but that was deprecated last I checked.</p>\n"}], "owner": {"reputation": 1390, "user_id": 4388482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7e9aca1603e015896ee9abc9374185c1?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/4388482/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 36900012, "answer_count": 2, "score": 1, "last_activity_date": 1461789644, "creation_date": 1461786928, "question_id": 36899683, "link": "https://stackoverflow.com/questions/36899683/c-check-if-user-is-logged-in-facebook", "title": "C# - Check if user is logged in Facebook", "body": "<p>I'm working on a Windows Phone Silverlight app and I want to make a simple login via Facebook(browser). Is there a way to check if the user is logged in Facebook? I redirect the user to Facebook page with this statement:</p>\n\n<pre><code>Launcher.LaunchUriAsync(new Uri(\"http://www.facebook.com\"));\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1461787058, "post_id": 36899676, "comment_id": 61363555, "body": "You should give a default value to <i>eligibility</i> for example <i>eligibility=&quot;&quot;;</i>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 3, "creation_date": 1461787102, "post_id": 36899676, "comment_id": 61363585, "body": "Do you understand that changes to the parameter named <code>eligibility</code> in <code>PrintStatus</code> don&#39;t affect your local variable named <code>eligibility</code> in <code>Main</code>? It sounds like your <code>PrintStatus</code> method should be called <code>GetEligibility</code>, and <i>return</i> a string..."}, {"owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461787796, "post_id": 36899676, "comment_id": 61363991, "body": "thats what i want to do actually, Im struggling to figure out how to get it to return the string though"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1461787999, "post_id": 36899676, "comment_id": 61364117, "body": "Since your question has nothing to do with what you apparently need to achieve it is hard to provide good answer. Reading any book/tutorial on C# would be generally benecial for you, but <a href=\"http://stackoverflow.com/questions/20803073/c-sharp-method-to-return-a-string\" title=\"c sharp method to return a string\">stackoverflow.com/questions/20803073/&hellip;</a> should give you enough of an answer (and approximate score for this type of question)."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461787478, "post_id": 36899743, "comment_id": 61363806, "body": "the thing about it is... in this program, im reading in information and based on type i need it to place the correct string in eligibility and output it based on the type."}, {"owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "reply_to_user": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461787587, "post_id": 36899743, "comment_id": 61363878, "body": "Yes, put a &quot;out&quot; before eligibility shall also fix the problem. You must tell function that this variable is for output, not need to initialize."}, {"owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "reply_to_user": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461787793, "post_id": 36899743, "comment_id": 61363987, "body": "Also, use string as the return type is more readable: <code>static string PrintStatus(char type, int age, int exp)</code> then at the end of your function, add <code>return eligibility</code>. To use it <code>eligibility = PrintStatus(type, age, exp)</code>"}], "tags": [], "owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1461787524, "last_edit_date": 1461787524, "creation_date": 1461787171, "answer_id": 36899743, "question_id": 36899676, "link": "https://stackoverflow.com/questions/36899676/passing-arguments-and-variables/36899743#36899743", "title": "passing arguments and variables", "body": "<p>The error message tells well already. Your local variable eligibility is not assigned a value, before using it.</p>\n\n<pre><code>string eligibility = \"whatever\";\n</code></pre>\n\n<p>shall remove the error message.</p>\n\n<p>Also your function shall be defined like:</p>\n\n<pre><code>static void PrintStatus(char type, int age, int exp, out string eligibility);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1769, "user_id": 3471712, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001030341259/picture?type=large", "display_name": "Auguste", "link": "https://stackoverflow.com/users/3471712/auguste"}, "is_accepted": false, "score": 0, "last_activity_date": 1461787210, "creation_date": 1461787210, "answer_id": 36899751, "question_id": 36899676, "link": "https://stackoverflow.com/questions/36899676/passing-arguments-and-variables/36899751#36899751", "title": "passing arguments and variables", "body": "<p>Because the variables are local, you need to assign a default value to them:</p>\n\n<pre><code>    int id = 0, age, exp;\n    double avgAge = 0, avgExp;\n    char type;\n    string eligibility = \"\";\n</code></pre>\n\n<p>Do the same for all local variable.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461788688, "post_id": 36899987, "comment_id": 61364537, "body": "this does work for me, however when running the file, it has no output of the assigned string to the data file. even after <code>static void PrintDetailLine(int id, char type, int age, int exp, string eligibility)         {             fileOut.WriteLine(&quot;{0}  {1}    {2}    {3}&quot;, id, age, exp, eligibility);         }</code>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461788783, "post_id": 36899987, "comment_id": 61364600, "body": "Probably you need to pass the value of <i>eligibility</i> to PrintDetails and then, inside that method, do whatever is required to print the string."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461789029, "post_id": 36899987, "comment_id": 61364723, "body": "Weird, if that is the updated code then I can&#39;t see why it doesn&#39;t work."}, {"owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461790191, "post_id": 36899987, "comment_id": 61365380, "body": "it wasn&#39;t saving the solution. had to re-open file. it does work. thank you."}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1461788421, "last_edit_date": 1461788421, "creation_date": 1461788010, "answer_id": 36899987, "question_id": 36899676, "link": "https://stackoverflow.com/questions/36899676/passing-arguments-and-variables/36899987#36899987", "title": "passing arguments and variables", "body": "<p>If you want to initialize the string <em>eligibility</em> with the code of PrintStatus then the simplest way to do it is to return the string and assign it to <em>eligibility</em> on return from PrintStatus</p>\n\n<pre><code>static string PrintStatus(char type, int age, int exp)\n{\n    string result = \"\";\n    switch (type)\n    {\n        case 'm':\n        case 'M':\n\n            if (age &lt; 55 &amp;&amp; exp &lt; 20)\n                result = (\"lack of experience age\");\n            else if (age &gt;= 55 &amp;&amp; exp &gt;= 20)\n                result = (\"can retire\");\n            else if (age &gt;= 55 &amp;&amp; exp &lt; 20)\n                result = (\"lack of experience\");\n            else if (age &lt; 55 &amp;&amp; exp &gt;= 20)\n                result = (\"underage\");\n            else\n                result = (\"Your entry is invalid\");\n            break;\n\n        // etc other case\n    }\n    return result:\n}\n</code></pre>\n\n<p>At this point you call PrintStatus in this way</p>\n\n<pre><code>....\neligibility = PrintStatus(type, age, exp);\n....\n</code></pre>\n\n<p>To understand why your actual code cannot change the <em>eligibility</em> string you should search around about the concepts of passing parameters by value and passing by reference. A good explanation is from this famous article </p>\n\n<p><a href=\"http://www.yoda.arachsys.com/csharp/parameters.html\" rel=\"nofollow\">Parameter passing in C#</a></p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461789510, "post_id": 36900183, "comment_id": 61364992, "body": "i fixed the eligibility not returning a value problem, but it&#39;s not writing it to the output file        <code>Employee Report                  ID  Age   Exp    Eligibility  ---- ---   ---    -----------  1235  45    20     2536  55    21     5894  60    30     4597  75    35     2597  35    10     5689  40    20     5489  55    39     5872  60    40     5569  55    25     5566  80    20     8865  59    35     5598  65    35</code>"}, {"owner": {"reputation": 4234, "user_id": 1446086, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZifDZ.png?s=128&g=1", "display_name": "mark_h", "link": "https://stackoverflow.com/users/1446086/mark-h"}, "reply_to_user": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "edited": false, "score": 0, "creation_date": 1461789794, "post_id": 36900183, "comment_id": 61365157, "body": "If you describe what your application is supposed to I might be able to help"}], "tags": [], "owner": {"reputation": 4234, "user_id": 1446086, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZifDZ.png?s=128&g=1", "display_name": "mark_h", "link": "https://stackoverflow.com/users/1446086/mark-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1461788711, "creation_date": 1461788711, "answer_id": 36900183, "question_id": 36899676, "link": "https://stackoverflow.com/questions/36899676/passing-arguments-and-variables/36900183#36900183", "title": "passing arguments and variables", "body": "<p>It looks like you want to get a value for your eligibility. Assuming this is the case I have re-written your PrintStatus method and renamed it GetPrintStatus.</p>\n\n<pre><code> static string GetPrintStatus(char type, int age, int exp)\n    {\n        switch (char.ToLower(type))\n        {\n            case 'm':\n                if (age &lt; 55 &amp;&amp; exp &lt; 20)\n                    return (\"lack of experience age\");\n                if (age &gt;= 55 &amp;&amp; exp &gt;= 20)\n                    return (\"can retire\");\n                if (age &gt;= 55 &amp;&amp; exp &lt; 20)\n                    return (\"lack of experience\");\n                if (age &lt; 55 &amp;&amp; exp &gt;= 20)\n                    return (\"underage\");\n                return (\"Your entry is invalid\");\n            case 'w':\n                if (age &lt; 63 &amp;&amp; exp &lt; 25)\n                    return (\"lack of exp age\");\n                if (age &gt;= 63 &amp;&amp; exp &gt;= 25)\n                    return (\"can retire\");\n                if (age &gt;= 63 &amp;&amp; exp &lt; 25)\n                    return (\"lack of exp\");\n                if (age &lt; 63 &amp;&amp; exp &gt;= 25)\n                    return (\"lack age\");\n                return (\"Your entry is invalid\");\n            case 's':\n\n                if (age &lt; 60 &amp;&amp; exp &lt; 24)\n                    return (\"lack of exp age\");\n                if (age &gt;= 60 &amp;&amp; exp &gt;= 24)\n                    return (\"can retire\");\n                if (age &gt;= 60 &amp;&amp; exp &lt; 24)\n                    return (\"lack of exp\");\n                if (age &lt; 60 &amp;&amp; exp &gt;= 24)\n                    return (\"underage\");\n                return (\"Your entry is invalid\");\n        }\n        return string.Empty;\n    }\n</code></pre>\n\n<p>To use it you would have to include the following line in your main method. Replace this;</p>\n\n<pre><code>PrintStatus(type, age, exp, eligibility);\n</code></pre>\n\n<p>whit this;</p>\n\n<pre><code>eligibility =  GetPrintStatus(type, age, exp);\n</code></pre>\n\n<p>type, age and exp must be given values like this;</p>\n\n<pre><code>age = 35;\n</code></pre>\n\n<p>This must be done before you call the GetPrintStatus method.</p>\n\n<p>Since you are learning I'll explain some of the changes; next to GetPrintStatus is the word \"string\", this means that the function will return a string (previously you called it eligibility) and char.ToLower(type) make the character you pass in lower case so it no longer matters whether its M or m. This can be simplified further but it would not look much like the code you gave.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 41, "user_id": 6221362, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1156054047792467/picture?type=large", "display_name": "Jon Butler", "link": "https://stackoverflow.com/users/6221362/jon-butler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1461788711, "creation_date": 1461786911, "question_id": 36899676, "link": "https://stackoverflow.com/questions/36899676/passing-arguments-and-variables", "title": "passing arguments and variables", "body": "<p>here is my main method, and when i call to Print status. I set the params for PrintStatus and I'm getting an error about eligibility not being used and I cannot figure it out. I'm new to passing arguments, we just went over it in class. </p>\n\n<p>\"Error  CS0165  Use of unassigned local variable 'eligibility'  Program10   I:\\Program10\\Program10\\Program10.cs 150 Active\n\"</p>\n\n<pre><code>static void Main()\n    {\n        int id, age, exp;\n        double avgAge, avgExp;\n        char type;\n        string eligibility;\n\n\n\n        OpenFiles();\n        PrintReportHeadings();\n        while ((lineIn = fileIn.ReadLine()) != null)\n        {\n            ParseLineIn(out id, out type, out age, out exp);\n            PrintStatus(type, age, exp, eligibility);\n            PrintDetailLine(id, type, age, exp);\n        }\n        CloseFiles();\n    }\n</code></pre>\n\n<p>not sure how to fix this..</p>\n\n<pre><code>static void PrintStatus(char type, int age, int exp, string eligibility)\n    {\n\n        switch (type)\n        {\n            case 'm':\n            case 'M':\n\n                if (age &lt; 55 &amp;&amp; exp &lt; 20)\n                    eligibility = (\"lack of experience age\");\n                else if (age &gt;= 55 &amp;&amp; exp &gt;= 20)\n                    eligibility = (\"can retire\");\n                else if (age &gt;= 55 &amp;&amp; exp &lt; 20)\n                    eligibility = (\"lack of experience\");\n                else if (age &lt; 55 &amp;&amp; exp &gt;= 20)\n                    eligibility = (\"underage\");\n                else\n                    eligibility = (\"Your entry is invalid\");\n                break;\n\n            case 'w':\n            case 'W':\n\n                if (age &lt; 63 &amp;&amp; exp &lt; 25)\n                    eligibility = (\"lack of exp age\");\n                else if (age &gt;= 63 &amp;&amp; exp &gt;= 25)\n                    eligibility = (\"can retire\");\n                else if (age &gt;= 63 &amp;&amp; exp &lt; 25)\n                    eligibility = (\"lack of exp\");\n                else if (age &lt; 63 &amp;&amp; exp &gt;= 25)\n                    eligibility = (\"lack age\");\n                else\n                    eligibility = (\"Your entry is invalid\");\n                break;\n\n            case 's':\n            case 'S':\n\n                if (age &lt; 60 &amp;&amp; exp &lt; 24)\n                    eligibility = (\"lack of exp age\");\n                else if (age &gt;= 60 &amp;&amp; exp &gt;= 24)\n                    eligibility = (\"can retire\");\n                else if (age &gt;= 60 &amp;&amp; exp &lt; 24)\n                    eligibility = (\"lack of exp\");\n                else if (age &lt; 60 &amp;&amp; exp &gt;= 24)\n                    eligibility = (\"underage\");\n                else\n                    eligibility = (\"Your entry is invalid\");\n                break;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "zip"], "comments": [{"owner": {"reputation": 11333, "user_id": 819742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/39e2199f9782b9b9abab588071c20e68?s=128&d=identicon&r=PG", "display_name": "randominstanceOfLivingThing", "link": "https://stackoverflow.com/users/819742/randominstanceoflivingthing"}, "edited": false, "score": 0, "creation_date": 1461786986, "post_id": 36899640, "comment_id": 61363509, "body": "Did you reasearch C# API&#39;s?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1461788443, "post_id": 36899640, "comment_id": 61364386, "body": "System.IO.Compression"}], "answers": [{"comments": [{"owner": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "edited": false, "score": 0, "creation_date": 1461789070, "post_id": 36900270, "comment_id": 61364757, "body": "By the way, DotNetZip is available in NuGet"}], "tags": [], "owner": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "is_accepted": true, "score": 0, "last_activity_date": 1461789024, "creation_date": 1461789024, "answer_id": 36900270, "question_id": 36899640, "link": "https://stackoverflow.com/questions/36899640/c-how-to-create-a-zip-file-from-3-directory-contents/36900270#36900270", "title": "C# How to create a zip file from 3 directory contents", "body": "<p>Try <strong>DotNetZip library</strong>. <a href=\"https://dotnetzip.codeplex.com/\" rel=\"nofollow\">DotNetZip</a></p>\n\n<p>Here is a very simple example:</p>\n\n<pre><code>ZipFile zipFile = new ZipFile();\nzipFile.AddFile(\"{path}/file.txt\");\nzipFile.Save(\"{path}/filename.zip\");\nzipFile.Dispose();\n</code></pre>\n\n<p>For doing this with files in a directory you can use </p>\n\n<pre><code>string [] files = Directory.GetFiles(\"directoryPath\", \"*.txt\");\n</code></pre>\n\n<p>And add to zipFile instance each file in the array. <strong>Notice: Second parameter in Directory.GetFiles function is the search pattern</strong></p>\n"}], "owner": {"reputation": 3, "user_id": 2741191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9906a56aed123d1afafd47d9333c1560?s=128&d=identicon&r=PG&f=1", "display_name": "user2741191", "link": "https://stackoverflow.com/users/2741191/user2741191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1461843344, "accepted_answer_id": 36900270, "answer_count": 1, "score": -6, "last_activity_date": 1461789024, "creation_date": 1461786810, "question_id": 36899640, "link": "https://stackoverflow.com/questions/36899640/c-how-to-create-a-zip-file-from-3-directory-contents", "closed_reason": "Needs more focus", "title": "C# How to create a zip file from 3 directory contents", "body": "<p>pseudo code:\nc:\\temp\\Backup.zip = (c:\\Temp\\Config*.* , c:\\Temp\\Data*.<em>, c:\\Temp\\scripts*.</em>)</p>\n\n<p>Thanks in Advance!</p>\n"}, {"tags": ["c#", ".net", "entity-framework-6", "many-to-many", "entity-framework-extended"], "answers": [{"tags": [], "owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "is_accepted": true, "score": 1, "last_activity_date": 1461856779, "creation_date": 1461856779, "answer_id": 36918922, "question_id": 36899623, "link": "https://stackoverflow.com/questions/36899623/bulk-update-add-to-many-to-many-with-ef-extended/36918922#36918922", "title": "Bulk update add to many-to-many with EF Extended?", "body": "<p>The short answer is: <strong>NO</strong></p>\n\n<p>The Update() method allows only to update properties directly related to the entity. Since you want to update a many or many relations (not a property), this library does not allow to do it.</p>\n\n<p><strong>Disclaimer</strong>: I'm the owner of the project <a href=\"http://entityframework-extensions.net/\" rel=\"nofollow\">Entity Framework Extensions</a></p>\n\n<p>The best &amp; fastest way if you need performance is by using the Entity Framework Extensions library with the BulkSaveChanges method.</p>\n\n<pre><code>Ctx.Foos\n   .Where(f =&gt; fooIds.Contains(f.FooId))\n   .ToList()\n   .ForEach(f =&gt; f.Bars.Add(bar))\n\nCtx.BulkSaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 981226, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/csWiX.jpg?s=128&g=1", "display_name": "Lance Held", "link": "https://stackoverflow.com/users/981226/lance-held"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "accepted_answer_id": 36918922, "answer_count": 1, "score": 0, "last_activity_date": 1461856779, "creation_date": 1461786757, "question_id": 36899623, "link": "https://stackoverflow.com/questions/36899623/bulk-update-add-to-many-to-many-with-ef-extended", "title": "Bulk update add to many-to-many with EF Extended?", "body": "<p>I have a situation where I need to add a new item to a property for a group of objects that has a many-to-many relationship. Is there any way to do this in bulk using EntityFramework.Extended? Something like...</p>\n\n<pre><code>Ctx.Foos\n   .Where(f =&gt; fooIds.Contains(f.FooId))\n   .Update(f =&gt; f.Bars.Add(bar)) // &lt;-- what would go here???\n</code></pre>\n\n<p>Obviously, the Update() part is not correct. For the time being, I've worked around it by retrieving the set and looping through. Just wondering if there is a better way.</p>\n"}, {"tags": ["c#", "android", "xml", "internationalization", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 2828175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JrtIO.jpg?s=128&g=1", "display_name": "ehsan wwe", "link": "https://stackoverflow.com/users/2828175/ehsan-wwe"}, "is_accepted": false, "score": 0, "last_activity_date": 1461825305, "creation_date": 1461825305, "answer_id": 36907011, "question_id": 36899603, "link": "https://stackoverflow.com/questions/36899603/android-apk-not-reading-xml-file-apk-build-from-unity-editor/36907011#36907011", "title": "android apk not reading xml file (apk build from unity editor)", "body": "<p>change the read and write directory to <br>\n<code>Application.streamingAssetsPath</code></p>\n\n<p>add a new folder in Assets\nand name it to <strong>StreamingAssets</strong>\nevery file under the StreamingAssets can modify , read , write in all of platforms</p>\n"}], "owner": {"reputation": 1, "user_id": 6255972, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Pwwncy0sNsA/AAAAAAAAAAI/AAAAAAAAFuY/vLZdXsyFAes/photo.jpg?sz=128", "display_name": "Daniyal Rizvi", "link": "https://stackoverflow.com/users/6255972/daniyal-rizvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1466646488, "creation_date": 1461786668, "last_edit_date": 1461787221, "question_id": 36899603, "link": "https://stackoverflow.com/questions/36899603/android-apk-not-reading-xml-file-apk-build-from-unity-editor", "title": "android apk not reading xml file (apk build from unity editor)", "body": "<p>i am developing a multi-language game using unity engine, i have xml files written for each language but android apk doesn't seem to read the xml files where as the PC platform build works fine with all the languages.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>void Awake()\n{\n    languagePath = Application.dataPath + \"/Languages/\";\n    CollectLanguages();\n}\n\nprivate void CollectLanguages()\n{\n    try\n    {\n        DirectoryInfo langDir = new DirectoryInfo(languagePath);\n        FileInfo[] files = langDir.GetFiles(\"*.xml\");\n        languageFiles = new string[files.Length];\n        int i = 0;\n        foreach (FileInfo fileGo in files)\n        {\n            languageFiles[i] = fileGo.FullName;\n            i++;\n        }\n    }\n    catch (System.Exception e)\n    {\n        Debug.Log(e.Message);\n    }\n}\n\nprivate string GetLanguageFile(string language)\n{\n    foreach (string langGo in languageFiles)\n    {\n        if (langGo.EndsWith(language + \".xml\"))\n        {\n            return langGo;\n        }\n    }\n    return string.Empty;\n}\n\npublic void LoadLanguage(string language)\n{\n    try\n    {\n\n        string filepath = Application.persistentDataPath + \"/\" + language+\".xml\";\n        if (Application.platform == RuntimePlatform.Android)\n        {\n            WWW path = new WWW(\"jar:file://\" + Application.dataPath + \"!/assets/\"+\"Languages/\"+language+\".xml\");\n            while(!path.isDone)\n            {\n                Debug.Log(\"Loading File\");\n            }\n            File.WriteAllBytes(filepath, path.bytes);\n        }\n        mainDoc = new XmlDocument();\n        StreamReader streamReader = new StreamReader (filepath);\n        mainDoc.Load(streamReader);\n        root = mainDoc.DocumentElement;\n        streamReader.Close();\n\n    }\n    catch (System.Exception e)\n    {\n        Debug.Log(e.Message);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 1, "creation_date": 1461787023, "post_id": 36899592, "comment_id": 61363534, "body": "If all your command would do is call that method then there is no point making a command in the ViewModel, a click event handler in the code-behind will do just fine. If you have your heart set on a ViewModel command then you could use event/messaging patterns like Prism EventAggregator."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1461787146, "post_id": 36899592, "comment_id": 61363613, "body": "The problem with that is what I tried to explain in the first part, the button itself is enitrely separate from thew view where this method needs to be called, a command is literally the only option"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1461787268, "post_id": 36899592, "comment_id": 61363687, "body": "@GlenThomas I&#39;ve added a bit more explanation that hopefully clears that up"}, {"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1461787468, "post_id": 36899592, "comment_id": 61363800, "body": "I think I see how it works. Your toolbar control can apply to any window, depending on which one is active. Sounds like some sort of event based pattern would be good. Are you using any MVVM frameworks like Prism, MVVM Light, Caliburn, etc."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1461787631, "post_id": 36899592, "comment_id": 61363899, "body": "I&#39;m using a combination of Prism and DevExpress&#39; Mvvm library, The toolbar is a DevExpress RibbonToolbar and I&#39;ve also used the IActiveAware interface for the commands that get registered in the tool bar."}, {"owner": {"reputation": 1176, "user_id": 469104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6daaafb1f39ce46ee0e550be492ed83e?s=128&d=identicon&r=PG", "display_name": "user469104", "link": "https://stackoverflow.com/users/469104/user469104"}, "edited": false, "score": 0, "creation_date": 1461787789, "post_id": 36899592, "comment_id": 61363982, "body": "@Phaeze you can then use the Prism event aggregator. Have the view subscribe to an event (e.g. ExportGridEvent) and have the command invoked by the toolbar raise this event."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "reply_to_user": {"reputation": 1176, "user_id": 469104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6daaafb1f39ce46ee0e550be492ed83e?s=128&d=identicon&r=PG", "display_name": "user469104", "link": "https://stackoverflow.com/users/469104/user469104"}, "edited": false, "score": 0, "creation_date": 1461787966, "post_id": 36899592, "comment_id": 61364100, "body": "@user469104 Haha now I feel silly, I&#39;m actually using SharpMediator to do exactly that type of thing elsewhere in the application. For some reason my brain didn&#39;t realize I could just pass that to the view."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "edited": false, "score": 0, "creation_date": 1461788081, "post_id": 36899592, "comment_id": 61364168, "body": "Well if either of you think this will be helpful to future users go ahead and post an answer, otherwise I may just delete this."}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1461788442, "creation_date": 1461788442, "answer_id": 36900093, "question_id": 36899592, "link": "https://stackoverflow.com/questions/36899592/how-can-i-trigger-calling-a-method-on-an-object-in-my-view-from-within-the-viewm/36900093#36900093", "title": "How can I trigger calling a method on an object in my view from within the viewmodel", "body": "<p>Prism has an EventAggregator component for loosely coupled communication between components in your application.</p>\n\n<p>Create a class that inherits from <code>CompositePresentationEvent</code>. The generic type is the type of any data you want to use as a payload</p>\n\n<pre><code>public class ExportRequestedEvent : CompositePresentationEvent&lt;object&gt; { }\n</code></pre>\n\n<p>Create an event aggregator using the Singleton pattern or your IoC container of choice so that the instance is shared across relevant components.</p>\n\n<pre><code>IEventAggregator _aggregator = new EventAggregator();\n</code></pre>\n\n<p>In the command use the event aggregator to get the event and publish</p>\n\n<pre><code>_aggregator.GetEvent&lt;ExportRequestedEvent&gt;().Publish(null);\n</code></pre>\n\n<p>In your view you can register a method to handle the event using the Subscribe method</p>\n\n<pre><code>_aggregator.GetEvent&lt;ExportRequestedEvent&gt;().Subscribe(Export);\n\nprivate void Export()\n{\n    grid.ExportToXlsx(@\"c:\\grid_export.xlsx\");\n}\n</code></pre>\n\n<p>You can add your own functionality to the views to determine which one is currently active and should act on the event.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1618236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 36900093, "answer_count": 1, "score": 1, "last_activity_date": 1461788442, "creation_date": 1461786636, "last_edit_date": 1461787720, "question_id": 36899592, "link": "https://stackoverflow.com/questions/36899592/how-can-i-trigger-calling-a-method-on-an-object-in-my-view-from-within-the-viewm", "title": "How can I trigger calling a method on an object in my view from within the viewmodel", "body": "<p>My WPF application has a tool bar that contains several buttons that by default do not have any command bindings. Within the application various different forms/windows can be opened (think MDI) and each of these views is responsible for registering any of its commands with a shared utility that will apply them to the tool bar buttons.</p>\n\n<p>The toolbar and other standard ui pieces reside in a separate library from the views and the shared utility I mentioned is the only interface for views to hook into the buttons. Here is an example usage of how the view registers a command</p>\n\n<pre><code>public class MyView : BaseView \n{\n    public MyView(CommandHolder commandHolder) : base(commandHolder)\n    {\n        SaveCommand = new DelegateCommand(Save,CanSave);\n\n        //RegisterCommand is a method on BaseView that works with the commandHolder object\n        RegisterCommand(DefaultCommands.SaveCommand, SaveCommand);\n    }\n}\n</code></pre>\n\n<p>This functionality is working great for all back end tasks, like saving and searchign, but now I find that I need to be able to trigger functionality that exists within the view from one of these commands.</p>\n\n<p>The specific example here is I have an Export to Excel button in my toolbar that I want to of course generate a xlsx file based on data in a grid.</p>\n\n<p>I am using DevExpress controls and their grid supports the following method call:</p>\n\n<pre><code>//taken from xaml code behind\n grid.ExportToXlsx(@\"c:\\grid_export.xlsx\");\n</code></pre>\n\n<p>Is there any way for my command execute method to be able to trigger this call short of giving the viewmodel a reference to the view?</p>\n"}, {"tags": ["c#", "cookies", "xamarin", "jwt", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1461788271, "post_id": 36899482, "comment_id": 61364282, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12373738/how-do-i-set-a-cookie-on-httpclients-httprequestmessage\">How do I set a cookie on HttpClient&#39;s HttpRequestMessage</a>"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1461788493, "post_id": 36899482, "comment_id": 61364421, "body": "Try : <a href=\"http://stackoverflow.com/a/13287224/4984832\">stackoverflow.com/a/13287224/4984832</a>"}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1461812677, "post_id": 36899482, "comment_id": 61372693, "body": "@SushiHangover See my updated question. I tried that solution and didn&#39;t work, I&#39;ll try with the other solution and see if It works..."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1461812984, "post_id": 36899482, "comment_id": 61372784, "body": "FYI: in that example, you actually set <code>UseCookies = false</code> in the <code>HttpClientHandler</code> and then manually add them in the headers (like you are doing)"}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1461813055, "post_id": 36899482, "comment_id": 61372800, "body": "Yup, but I said that I tried with both values..."}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1461853477, "post_id": 36899482, "comment_id": 61397064, "body": "@SushiHangover I tried the another solution, updated my question."}], "answers": [{"tags": [], "owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "is_accepted": false, "score": 0, "last_activity_date": 1461937289, "creation_date": 1461937289, "answer_id": 36939935, "question_id": 36899482, "link": "https://stackoverflow.com/questions/36899482/authentication-from-c-httpclient-against-spring-server-jwt-tokens/36939935#36939935", "title": "Authentication from C# HttpClient against Spring server JWT Tokens", "body": "<p>I finally could set the Cookie header parameter, but I change <code>HttpClient</code> by <code>HttpWebRequest</code></p>\n\n<p><strong>Getting the Cookies</strong></p>\n\n<pre><code>//Credentials validation\n            var credentials = new CompanyCredential()\n            {\n                Email = Constants.Username,\n                Password = Constants.Password\n            };\n            var jsonCredentials = JsonConvert.SerializeObject(credentials);\n            var request = (HttpWebRequest) WebRequest.Create(new Uri(baseAddress, Constants.AuthorizeEndpoint));\n            request.ContentType = \"application/json\";\n            request.Method = \"POST\";\n            var requestStream = request.GetRequestStreamAsync().Result;\n            var streamWriter = new StreamWriter(requestStream);\n            streamWriter.Write(jsonCredentials);\n            streamWriter.Flush();\n            try\n            {\n                HttpWebResponse response = (HttpWebResponse) request.GetResponseAsync().Result;\n                if (response.StatusCode.Equals(HttpStatusCode.OK))\n                {\n                    authToken = response.Headers[\"Set-Cookie\"];\n                    tokenExpireDate = DateTime.ParseExact(response.Headers[\"Expires\"], \"yyyy-MM-dd HH:mm:ss,fff\",\n                                       System.Globalization.CultureInfo.InvariantCulture);\n                }\n                else\n                {\n                    //Authentication failed throw error\n                    throw new HttpRequestException(\"Authentication failed\");\n                }\n            } catch (Exception e)\n            {\n                Debug.WriteLine(string.Format(\"Warning: {0}\", e.Message));\n            }\n</code></pre>\n\n<p><strong>Setting the Cookies</strong></p>\n\n<pre><code>var request = (HttpWebRequest)WebRequest.Create(new Uri(baseAddress, endpoint));\n            SetHeaders(request);\n            if (string.IsNullOrEmpty(authToken))\n            {\n                throw new AuthTokenNullException();\n            }\n            request.Headers[\"Cookie\"] = authToken;\n            request.Method = \"GET\";\n            HttpWebResponse response = request.GetResponseAsync().Result as HttpWebResponse;\n            if (!response.StatusCode.Equals(HttpStatusCode.OK))\n            {\n                throw new HttpRequestException(string.Format(\"Warning expected response as 200 and got {0}\", Convert.ToString(response.StatusCode)));\n            }\n            var reader = new StreamReader(response.GetResponseStream());\n            string stringResponse = reader.ReadToEnd();\n            return JsonConvert.DeserializeObject&lt;T&gt;(stringResponse);\n</code></pre>\n"}], "owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1013, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461937289, "creation_date": 1461786251, "last_edit_date": 1461853437, "question_id": 36899482, "link": "https://stackoverflow.com/questions/36899482/authentication-from-c-httpclient-against-spring-server-jwt-tokens", "title": "Authentication from C# HttpClient against Spring server JWT Tokens", "body": "<p>I'm coding a Xamarin cross-platform mobile app. The server is a SpringMVC server which uses JWT Tokens to authenticate against each of the endpoints/webservices. So basically when I'm doing a request to a webservice for first time, before I need to hit a <code>/authorize</code> POST endpoint sending my email and password, the endpoint response will contain in the <code>\"Cookie\"</code> header an authenticaton token which comes as <code>\"AUTH_TOKEN={MD5-String}\"</code>. Once I got the token I send the request to the endpoint, let's say <code>/feed</code>. But my problem is that I cannot figure out the way of setting the \"Cookie\" header in the C# <code>HttpClient</code>. I tried everything but the endpoing just keeps responding with the login screen html instead of the actual JSON response. I tried the same steps in Postman and other REST clients and It worked. So It means that I'm doing something wrong. Here's my code:</p>\n\n<pre><code>public class RestService : IRestService\n{\n    HttpClient client;\n    HttpClientHandler handler;\n    CookieContainer cookies;\n    string authToken;\n\n    public List&lt;Feed&gt; FeedItems { get; private set; }\n\n    public RestService()\n    {\n        cookies = new CookieContainer();\n        handler = new HttpClientHandler();\n        handler.UseCookies = true; //Otherwise It'll not use the cookies container!!\n        handler.CookieContainer = cookies;\n        client = new HttpClient(handler);\n        client.MaxResponseContentBufferSize = 256000;\n    }\n\n    public async Task&lt;List&lt;Role&gt;&gt; GetFeedDataAsync()\n    {\n        //Request credentials\n        //Credentials validation\n        var credentials = new HalliganCredential()\n        {\n            email = Constants.Username,\n            password = Constants.Password\n        };\n        var jsonCredentials = JsonConvert.SerializeObject(credentials);\n        var jsonCredentialsContent = new StringContent(jsonCredentials, Encoding.UTF8, \"application/json\");\n        var authorizeUri = new Uri(Constants.AuthorizeEndpoint);\n        var authorizeResponse = await client.PostAsync(authorizeUri, jsonCredentialsContent);\n        if (authorizeResponse.IsSuccessStatusCode)\n        {\n            //If authentication went OK\n            IEnumerable&lt;Cookie&gt; responseCookies = cookies.GetCookies(authorizeUri).Cast&lt;Cookie&gt;();\n            foreach (Cookie cookie in responseCookies)\n            {\n                if (cookie.Name.Equals(\"AUTH-TOKEN\"))\n                {\n                    authToken = cookie.Value;\n                }\n            }\n        }\n        else\n        {\n            //Authentication failed throw error\n            throw new HttpRequestException(\"Authentication failed\");\n        }\n\n\n        FeedItems = new List&lt;Feed&gt;();\n\n        //Making the GET request\n        var uri = new Uri(string.Format(Constants.FeedEnpoint, string.Empty));\n        try\n        {\n            cookies.Add(uri, new Cookie(\"Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken)));\n            client.DefaultRequestHeaders.Add(\"Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken));\n            handler.CookieContainer.Add(uri, new Cookie(\"Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken)));\n\n            var response = await client.GetAsync(uri);\n            response.EnsureSuccessStatusCode();\n            //Credentials validation\n            if (response.IsSuccessStatusCode)\n            {\n                var content = await response.Content.ReadAsStringAsync();\n                FeedItems = JsonConvert.DeserializeObject&lt;List&lt;Feed&gt;&gt;(content);\n            }\n        }\n        catch (Exception ex)\n        {\n            Debug.WriteLine(@\"ERROR {0}\", ex.Message);\n        }\n\n\n        return FeedItems;\n    }\n}\n</code></pre>\n\n<p>When I reach the line <code>var content = await response.Content.ReadAsStringAsync();</code> the response is an HTML string instead of the actual JSON response.</p>\n\n<p>I tried with several other key values for the header, although <code>\"Cookie\"</code> is the one that worked on Postman.</p>\n\n<p>I tried with <code>\"Set-Cookie\"</code>, <code>\"set-cookie\"</code>, <code>\"Set-Cookie\"</code>, setting the header as <code>\"AUTH_TOKEN\"</code>. I tried all this convinations in different places like adding them in the <code>cookie</code> <code>CookieContainer</code>, in the <code>handler</code> <code>CookieContainer</code> and in the <code>client.DefaultRequestHeaders</code>. </p>\n\n<p>I tried setting on and off the <code>handler.UseCookies = true; //Otherwise It'll not use the cookies container!!</code> line.</p>\n\n<p>Any help will be welcome!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I tried with one of the suggested solutions but didn't work I tried either with UseCookies in true and false.</p>\n\n<pre><code>         //Making the GET request\n        var baseAddress = new Uri(\"http://app.******.io\");\n        using (var handler = new HttpClientHandler { UseCookies = true })\n        using (var client = new HttpClient(handler) { BaseAddress = baseAddress })\n        {\n            var message = new HttpRequestMessage(HttpMethod.Get, \"/api/v1/feed?api_key=sarasa\");\n            message.Headers.Add(\"Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken));\n            message.Headers.Add(\"Cookie\", string.Format(\"AUTH_TOKEN={0};\", authToken));\n            message.Headers.Add(\"Set-Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken));\n            message.Headers.Add(\"AUTH_TOKEN\", authToken);\n            var result = await client.SendAsync(message);\n            result.EnsureSuccessStatusCode();\n            if (result.IsSuccessStatusCode)\n            {\n                var content = await result.Content.ReadAsStringAsync();\n                FeedItems= JsonConvert.DeserializeObject&lt;List&lt;Feed&gt;&gt;(content);\n            }\n        }\n        return FeedItems;\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I tried with the another solution, same results.</p>\n\n<pre><code>var baseAddress = new Uri(\"http://app.*****.io\");\n            var cookieContainer = new CookieContainer();\n            using (var handler = new HttpClientHandler() { CookieContainer = cookieContainer })\n            using (var client = new HttpClient(handler) { BaseAddress = baseAddress })\n            {\n                cookieContainer.Add(baseAddress, new Cookie(\"Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken)));\n                cookieContainer.Add(baseAddress, new Cookie(\"Set-Cookie\", string.Format(\"AUTH_TOKEN={0}\", authToken)));\n                var result = client.GetAsync(\"/api/v1/roles?api_key=sarasa\").Result;\n                result.EnsureSuccessStatusCode();\n                if (result.IsSuccessStatusCode)\n                {\n                    var content = await result.Content.ReadAsStringAsync();\n                    RolesItems = JsonConvert.DeserializeObject&lt;List&lt;Role&gt;&gt;(content);\n                }\n            }\n</code></pre>\n\n<p>Is there an alternative to <code>HttpClient</code>?</p>\n"}, {"tags": ["c#", "fody-costura"], "owner": {"reputation": 586, "user_id": 527155, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IBZNi.png?s=128&g=1", "display_name": "sbrett", "link": "https://stackoverflow.com/users/527155/sbrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1476826192, "creation_date": 1461785863, "last_edit_date": 1476826192, "question_id": 36899378, "link": "https://stackoverflow.com/questions/36899378/c-assembly-embedding-and-assembly-resolution", "title": "C# assembly embedding and assembly resolution", "body": "<p>I am attempting to build a Styles and Controls assembly that other engineers at my office can use. For example, I have a type (MSpinner) derived from the WPFToolKit's DoubleUpDown control. I have a set of styles for this MSpinner control as well.</p>\n\n<p>In a test Executable, I am using the technique <a href=\"https://alexfeinberg.wordpress.com/2015/08/16/safely-export-wpf-resources/\" rel=\"nofollow\">detailed here</a> for accessing the resources, which I also followed for creating the resource assembly. </p>\n\n<p>I am also using the Costura.Fody Assembly Embedding tools off NuGet on the resource library so that I can embed the WPFToolKit assembly into my resource library assembly.</p>\n\n<p>My resource library assembly builds just fine.\nI then go ahead and use my resource library assembly as a reference in a new test WPF executable.</p>\n\n<p>My usage is as follows.</p>\n\n<pre><code>&lt;Window x:Class=\"UIPart.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:ignore=\"http://www.galasoft.ch/ignore\"\n        xmlns:controls=\"clr-namespace:MyResources.Controls;assembly=MyResources\"\n        mc:Ignorable=\"d ignore\"\n        Height=\"300\"\n        Width=\"300\"\n        Title=\"MVVM Light Application\"\n        DataContext=\"{Binding Main, Source={StaticResource Locator}}\"&gt;\n\n    &lt;Window.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                &lt;ResourceDictionary Source=\"Skins/MainSkin.xaml\" /&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/Window.Resources&gt;\n\n    &lt;Grid x:Name=\"LayoutRoot\"&gt;\n\n        &lt;controls:MSpinner/&gt;\n\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>However, when I compile the executable, i get the following error. </p>\n\n<blockquote>\n  <p>Severity  Code    Description Project File    Line    Suppression State\n  Error     Unknown build error, 'Cannot resolve dependency to assembly\n  'Xceed.Wpf.Toolkit, Version=2.7.0.0, Culture=neutral,\n  PublicKeyToken=3e4669d2f30244f4' because it has not been preloaded.\n  When using the ReflectionOnly APIs, dependent assemblies must be\n  pre-loaded or loaded on demand through the\n  ReflectionOnlyAssemblyResolve event. Line 24 Position\n  10.'  UIPart  C:\\Users\\heyyouthere\\Documents\\Visual Studio 2015\\Projects\\ResourceDictionaryExample\\UIPart\\MainWindow.xaml 24</p>\n</blockquote>\n\n<p>My first thought here is that the Costura.Fody isn't doing it's job right and is not embedding the WPF.ToolKit assembly, but it actually is, according to the byte size of the resultant resource library assembly, which is larger indeed when Costura.Fody's embedding is performed.</p>\n\n<p>I then thought to go ahead and also reference the WPFToolKit itself in the executable, which sounds a little redundant, sure, but why not. So I installed it from NuGet, and behold, the error is gone and everything works.</p>\n\n<p>Doing that isn't a solution for me however. All the resources and all depdencies of those resources need to be consolidated into my resource library, WPFToolkit included for me to consider this a success. </p>\n\n<p>My question is why is the assembly resolving not happening? Is there some signature not matching? Is something explicitly looking for the Xceed.Wpf.Toolkit.dll file on disk? Aren't the types defined in the Xceed.Wpf.Toolkit.dll embedded in my resource library thanks to Fody?</p>\n"}, {"tags": ["c#", "wpf", "canvas", "line", "antivirus"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 2, "creation_date": 1461786441, "post_id": 36899300, "comment_id": 61363160, "body": "Note that &quot;Heuristic&quot; means Norton did not identify a known virus in your program, but it saw some common pattern in the code that it thinks is &quot;virus like&quot;. Personally I would assume Norton is being a little too aggressive and just tell it to ignore your program. Maybe someone else has more information."}, {"owner": {"reputation": 2911, "user_id": 340045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ckhG.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/340045/ben"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1461789820, "post_id": 36899300, "comment_id": 61365169, "body": "@Quantic I would rather try and change my program so that it doesn&#39;t look like a virus.  I did some experiments and was able to build a test program that sets the Line.Stroke with no issues.  I also excluded a large chunk of my program and it compiles with the Line.Stroke in the code.  I will continue to re-arrange it to see if I can get it to work.  Any advice on the best ways to do this would be appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 2911, "user_id": 340045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ckhG.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/340045/ben"}, "is_accepted": true, "score": -1, "last_activity_date": 1461790662, "creation_date": 1461790662, "answer_id": 36900750, "question_id": 36899300, "link": "https://stackoverflow.com/questions/36899300/setting-stroke-on-line-causing-anti-virus-to-stop-compilation/36900750#36900750", "title": "Setting Stroke on Line causing Anti-Virus to Stop Compilation", "body": "<p>In order to stop the anti-virus from detecting something that looks like a virus I had to refactor the code slightly:</p>\n\n<pre><code>private void RunMeshButton_Click(object sender, RoutedEventArgs e)\n{\n    TrizieartMesher mesher = new TrizieartMesher(new Rect(MainImage.RenderSize));\n    EdgeCountText.Text = $\"{mesher.Edges.Count()}\";\n\n    MainCanvas.Children.Clear();\n    List&lt;Line&gt; meshLines = mesher.Edges.Select(edge =&gt; CreateLine(edge.P1, edge.P2)).ToList();\n    foreach (Line line in meshLines)\n    {\n        MainCanvas.Children.Add(line);\n    }\n}\n\nprivate static Line CreateLine(Point p1, Point p2)\n{\n    Line newLine = new Line();\n    newLine.X1 = p1.X;\n    newLine.Y1 = p1.Y;\n    newLine.X2 = p2.X;\n    newLine.Y2 = p2.Y;\n\n    newLine.Stroke = Brushes.MediumOrchid;\n\n    return newLine;\n}\n</code></pre>\n"}], "owner": {"reputation": 2911, "user_id": 340045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ckhG.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/340045/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 36900750, "answer_count": 1, "score": 3, "last_activity_date": 1461790662, "creation_date": 1461785637, "last_edit_date": 1461785954, "question_id": 36899300, "link": "https://stackoverflow.com/questions/36899300/setting-stroke-on-line-causing-anti-virus-to-stop-compilation", "title": "Setting Stroke on Line causing Anti-Virus to Stop Compilation", "body": "<p>I am working on a simple home project that will draw lines on a canvas.  I was working away fine, when all of a sudden my anti-virus protection started throwing up warning messages every time I tried to build.  The project fails to build with the error:</p>\n\n<blockquote>\n  <p>Error     Could not copy \"obj\\Debug\\Mozieart.exe\" to\n  \"bin\\Debug\\Mozieart.exe\". Exceeded retry count of 10. Failed. Mozieart</p>\n</blockquote>\n\n<p>I am using the latest version of Norton 360 (up to date).  The warning from the anti-virus gives the following information:</p>\n\n<ul>\n<li>Threat name: SAPE.Heur.AE935</li>\n<li>File name: mozieart.exe (that's the exe that I am trying to build).</li>\n<li>Threat Type: Heuristic Virus.  Detection of a threat based on malware heuristics.</li>\n</ul>\n\n<p>I don't know if this is important but I managed to back-track and narrow it down to the following lines of code:</p>\n\n<pre><code>private void RunMeshButton_Click(object sender, RoutedEventArgs e)\n{\n    TrizieartMesher mesher = new TrizieartMesher(new Rect(MainImage.RenderSize));\n\n    EdgeCountText.Text = $\"{mesher.Edges.Count()}\";\n\n    MainCanvas.Children.Clear();\n    foreach (IMeshEdge edge in mesher.Edges)\n    {\n        Line edgeLine = new Line();\n        edgeLine.X1 = edge.P1.X;\n        edgeLine.Y1 = edge.P1.Y;\n        edgeLine.X2 = edge.P2.X;\n        edgeLine.Y2 = edge.P2.Y;\n\n        //edgeLine.Stroke = Brushes.MediumOrchid;\n\n        MainCanvas.Children.Add(edgeLine);\n    }\n}\n</code></pre>\n\n<p>when I have the edgeLine.Stroke line commented out the anti-virus does not complain at all, but as soon as I uncomment that line I get an anti-virus warning and the project fails to compile.</p>\n\n<p>I also tried setting the stroke using an XAML style instead of doing it in the code behind:</p>\n\n<pre><code>&lt;Canvas Name=\"MainCanvas\" Background=\"Transparent\" AllowDrop=\"True\"&gt;\n    &lt;!--&lt;Canvas.Resources&gt;\n        &lt;Style TargetType=\"Line\"&gt;\n            &lt;Setter Property=\"Stroke\" Value=\"MediumOrchid\" /&gt;\n            &lt;Setter Property=\"StrokeThickness\" Value=\"2.0\" /&gt;\n        &lt;/Style&gt;\n    &lt;/Canvas.Resources&gt;--&gt;\n&lt;/Canvas&gt;\n</code></pre>\n\n<p>As soon as I uncomment the Canvas Resources I get the anti-virus warning and the project fails to build.</p>\n\n<p>Perhaps I am being paranoid but I am quite worried by this.  Could something be trying to inject a virus into my program when I use the Stroke property of a Line?</p>\n"}, {"tags": ["c#", "loops"], "comments": [{"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 1, "creation_date": 1461785681, "post_id": 36899274, "comment_id": 61362688, "body": "Just FYI, a deck of cards contains 52 cards - 4 sets of 13"}, {"owner": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 1, "creation_date": 1461785717, "post_id": 36899274, "comment_id": 61362712, "body": "yes, thats why 2-14 represent cards and 1-4 their sets"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1461785731, "post_id": 36899274, "comment_id": 61362719, "body": "he has that, he&#39;s just treating aces as high"}, {"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "edited": false, "score": 2, "creation_date": 1461785859, "post_id": 36899274, "comment_id": 61362802, "body": "I believe he was referring to the question body &quot;...from the standard deck of 53 cards&quot;"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 1, "creation_date": 1461785937, "post_id": 36899274, "comment_id": 61362843, "body": "Did you attempt this on your own? Your loops are correct, and you were given the information to use a switch statement. Googling &quot;c# switch statement&quot; provides <a href=\"https://msdn.microsoft.com/en-us/library/06tc147t.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/06tc147t.aspx</a> which will give you exactly what you are looking for"}, {"owner": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "edited": false, "score": 0, "creation_date": 1461786029, "post_id": 36899274, "comment_id": 61362905, "body": "yes, the code is mine. I&#39;m familiar with switch statements. So I should write  case for each card"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1461786105, "post_id": 36899274, "comment_id": 61362947, "body": "Personally I would do it how juharr or Christos did it, but if you want to use a switch statement as per your stated requirements from the tutorial, yes."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "edited": false, "score": 0, "creation_date": 1461785817, "post_id": 36899335, "comment_id": 61362780, "body": "in accordance to tutorial I&#39;m suppose to use loops and switch statements"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "edited": false, "score": 3, "creation_date": 1461785927, "post_id": 36899335, "comment_id": 61362839, "body": "@paddy Then you really should include that in your question."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "edited": false, "score": 0, "creation_date": 1461786294, "post_id": 36899335, "comment_id": 61363069, "body": "@paddy You can still loop through an <code>enum</code>, just use <code>foreach(Ranks rank in Enum.GetValues(typeof(Ranks)))</code>"}], "tags": [], "owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "is_accepted": false, "score": 4, "last_activity_date": 1461787967, "last_edit_date": 1461787967, "creation_date": 1461785731, "answer_id": 36899335, "question_id": 36899274, "link": "https://stackoverflow.com/questions/36899274/assigning-numbers-to-playing-cards/36899335#36899335", "title": "Assigning Numbers to Playing Cards", "body": "<p>You could declare two enumerations one for the suits and one for the ranks and just loop through them.</p>\n\n<pre><code>public enum Suits { Hearts, Spades, Clubs, Diamonds }\n\npublic enum Ranks \n{ \n    Ace, \n    Two, \n    Three, \n    Four, \n    Five, \n    Six, \n    Seven, \n    Eight, \n    Nine, \n    Ten,  \n    Jack, \n    Queen, \n    King \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": false, "score": 3, "last_activity_date": 1461785831, "creation_date": 1461785831, "answer_id": 36899367, "question_id": 36899274, "link": "https://stackoverflow.com/questions/36899274/assigning-numbers-to-playing-cards/36899367#36899367", "title": "Assigning Numbers to Playing Cards", "body": "<p>You could create two string arrays and just <code>foreach</code> over both.</p>\n\n<pre><code>var suites = new [] { \"Clubs\", \"Spades\", \"Hearts\", \"Diamonds\" };\nvar ranks = new [] { \"Deuce\", \"Three\",...., \"Ace\"}\n\nforeach(var suite in suites)\n    foreach(var rank in ranks)\n        Console.WriteLine(rank + \" of \" + suite);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "edited": false, "score": 0, "creation_date": 1461786627, "post_id": 36899505, "comment_id": 61363277, "body": "Thank you for the solution! That&#39;s exactly what I was looking for."}], "tags": [], "owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "is_accepted": true, "score": 1, "last_activity_date": 1461786342, "creation_date": 1461786342, "answer_id": 36899505, "question_id": 36899274, "link": "https://stackoverflow.com/questions/36899274/assigning-numbers-to-playing-cards/36899505#36899505", "title": "Assigning Numbers to Playing Cards", "body": "<p>Using loops and switch statements. You can make a variation of this for nicer card and suit names.</p>\n\n<pre><code>for (int n = 2; n &lt;= 14; n++)\n{\n    for (int c = 1; c &lt;= 4; c++)\n    {\n        switch (n)\n        {\n            case 11:\n                Console.Write(\"J\" + \" \");\n                break;\n            case 12:\n                Console.Write(\"Q\" + \" \");\n                break;\n            case 13:\n                Console.Write(\"K\" + \" \");\n                break;\n            case 14:\n                Console.Write(\"A\" + \" \");\n                break;\n            default:\n                Console.Write(n.ToString() + \" \");\n                break;\n        }\n        switch (c)\n        {\n            case 1:\n                Console.WriteLine(\"H\");\n                break;\n            case 2:\n                Console.WriteLine(\"D\");\n                break;\n            case 3:\n                Console.WriteLine(\"S\");\n                break;\n            case 4:\n                Console.WriteLine(\"C\");\n                break;\n            default:\n                Console.WriteLine(\"?\");\n                break;\n        }\n\n    }\n\n}\nConsole.ReadKey();\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6198148, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2978b4c2001c6ce8593f5c64a96ea849?s=128&d=identicon&r=PG&f=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/6198148/paddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 36899505, "answer_count": 3, "score": 1, "last_activity_date": 1461787967, "creation_date": 1461785576, "last_edit_date": 1461786098, "question_id": 36899274, "link": "https://stackoverflow.com/questions/36899274/assigning-numbers-to-playing-cards", "title": "Assigning Numbers to Playing Cards", "body": "<p>I am doing exercise from C# tutorial and I need to print each card from the standard deck of 52 cards.\nI have this code:</p>\n\n<pre><code>for (int n = 2; n &lt;= 14; n++)\n{\n    for (int c = 1; c &lt;= 4; c++)\n        Console.Write(n + \" \" + c + \" \");\n}\nConsole.ReadKey();\n</code></pre>\n\n<p>But I am stuck and not sure how to substitute numbers with representing them suits and ranks.\nI'm supposed to use loops and switch statements.</p>\n"}, {"tags": ["c#", "windows", "remote-access", "unc", "file-sharing"], "owner": {"reputation": 3024, "user_id": 717648, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1fab2625196a6b67d7cdc942e53cd323?s=128&d=identicon&r=PG", "display_name": "Raymond", "link": "https://stackoverflow.com/users/717648/raymond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 760, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1461785512, "creation_date": 1461785512, "last_edit_date": 1495541638, "question_id": 36899256, "link": "https://stackoverflow.com/questions/36899256/best-way-for-web-application-in-iis-to-access-remote-fileshare-that-requires-cre", "title": "Best way for web application in IIS to access remote fileshare that requires credentials?", "body": "<p>I have a web application, hosted on Windows Server 2008 R2 IIS 7.5 that needs to access a remote directory fileshare on a different Windows machine. My website runs under User1, and access to the remote file share via UNC path requires username/password credentials of User2.</p>\n\n<p>While trying to find the best way to do this, I've run into various options, but I don't really understand the gotchas. </p>\n\n<p>One of our concerns is performance - we don't want to be opening/closing nor authenticating for each and every request. Many of the solutions I've seen so far dispose of the connection after each operation. I think what I'm really looking for is a form of persistent mapped network drive. </p>\n\n<p>So what's the difference between all these options? Can anyone please provide what is the best practice, and sample code if not already in one of the posts below?</p>\n\n<ol>\n<li>using WAddNetworkConnection2</li>\n<li>using WAddNetworkConnection3</li>\n<li>using WNetUseConnection</li>\n<li>using NetUseAdd</li>\n<li>launching a command shell and calling \"net use\"</li>\n<li>impersonation? </li>\n<li>persistent mapped network drive? but who will create this?</li>\n<li>IIS Virtual Directory support?</li>\n</ol>\n\n<p>Some relevant posts:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/659013/accessing-a-shared-file-unc-from-a-remote-non-trusted-domain-with-credentials\">Accessing a Shared File (UNC) From a Remote, Non-Trusted Domain With Credentials</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3700871/connect-to-network-drive-with-user-name-and-password-remote-non-trusted-domain-with-credentials\">Connect to network drive with user name and password</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/295538/how-to-provide-user-name-and-password-when-connecting-to-a-network-share\">How to provide user name and password when connecting to a network share</a></p>\n\n<p><a href=\"http://forums.asp.net/t/1915751.aspx?C+Access+Network+Drive+Without+mapping+with+credentials\" rel=\"nofollow noreferrer\">http://forums.asp.net/t/1915751.aspx?C+Access+Network+Drive+Without+mapping+with+credentials</a></p>\n\n<p>THANK YOU!</p>\n"}, {"tags": ["c#", "azure-webjobs", "azureservicebus", "azure-webjobssdk", "azure-servicebus-queues"], "comments": [{"owner": {"reputation": 870, "user_id": 206448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b1bf24df45edba0bae38da0bdaf120f?s=128&d=identicon&r=PG", "display_name": "lxalln", "link": "https://stackoverflow.com/users/206448/lxalln"}, "edited": false, "score": 0, "creation_date": 1461836358, "post_id": 36899104, "comment_id": 61384077, "body": "The <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.servicebus.messaging.onmessageoptions.aspx\" rel=\"nofollow noreferrer\">documentation</a>, talks about the 60 second timeout, and describes how to increase it. This is for the OnMessageOptions class, but I can&#39;t see how it relates to WebJobs."}, {"owner": {"reputation": 2846, "user_id": 1979800, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/650f7e5dbd2d8ca3871b2fd90db64b40?s=128&d=identicon&r=PG", "display_name": "Sandesh", "link": "https://stackoverflow.com/users/1979800/sandesh"}, "edited": false, "score": 0, "creation_date": 1463124836, "post_id": 36899104, "comment_id": 61939433, "body": "@Vova. After configuring the timeout is it still triggering the same message every minute? The only reason I can think of is that the processing function is taking more time than the timeout because of which the SDK is assuming that the message is not yet processed and hence it is adding it back to the queue. Is it possible to move the processing to a back ground thread?"}], "answers": [{"tags": [], "owner": {"reputation": 892, "user_id": 2630030, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/b7Lyj.png?s=128&g=1", "display_name": "Lyubomir Velchev", "link": "https://stackoverflow.com/users/2630030/lyubomir-velchev"}, "is_accepted": false, "score": 0, "last_activity_date": 1471867071, "creation_date": 1471867071, "answer_id": 39078970, "question_id": 36899104, "link": "https://stackoverflow.com/questions/36899104/azure-sdk-servicebustrigger-triggers-processing-of-the-same-message-each-minute/39078970#39078970", "title": "Azure sdk ServiceBusTrigger triggers processing of the same message each minute", "body": "<p>When you say to the message that is complated, then will not be back in the queue \nExample</p>\n\n<pre><code>while ((message = myQueueClient.Receive(new TimeSpan(hours: 0, minutes: 0, seconds: 5))) != null)\n{\n    Console.WriteLine(string.Format(\"Message received: {0}, {1}, {2}\", message.SequenceNumber, message.Label, message.MessageId));\n    message.Complete();\n\n    Console.WriteLine(\"Processing message (sleeping...)\");\n    Thread.Sleep(1000);\n}\n</code></pre>\n\n<p>Check the <a href=\"https://azure.microsoft.com/en-us/documentation/articles/service-bus-queues-topics-subscriptions/\" rel=\"nofollow\">link</a> for more information </p>\n"}, {"tags": [], "owner": {"reputation": 857, "user_id": 2369449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hiZSi.jpg?s=128&g=1", "display_name": "Ravit D", "link": "https://stackoverflow.com/users/2369449/ravit-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1482674098, "creation_date": 1482674098, "answer_id": 41321698, "question_id": 36899104, "link": "https://stackoverflow.com/questions/36899104/azure-sdk-servicebustrigger-triggers-processing-of-the-same-message-each-minute/41321698#41321698", "title": "Azure sdk ServiceBusTrigger triggers processing of the same message each minute", "body": "<p>This could happen when the message is poisonuouse and then the WebJob SDK does not delete it. </p>\n\n<blockquote>\n  <p>Messages whose content causes a function to fail are called poison\n  messages. When the function fails, the queue message is not deleted\n  and eventually is picked up again, causing the cycle to be repeated.\n  The SDK can automatically interrupt the cycle after a limited number\n  of iterations, or you can do it manually.</p>\n</blockquote>\n\n<p>See:\n<a href=\"https://docs.microsoft.com/en-us/azure/app-service-web/websites-dotnet-webjobs-sdk-storage-queues-how-to#a-idpoisona-how-to-handle-poison-messages\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/app-service-web/websites-dotnet-webjobs-sdk-storage-queues-how-to#a-idpoisona-how-to-handle-poison-messages</a></p>\n"}], "owner": {"reputation": 981, "user_id": 2832586, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/398c85ce169ddae5ea22b7c8664e49d4?s=128&d=identicon&r=PG&f=1", "display_name": "Volodymyr", "link": "https://stackoverflow.com/users/2832586/volodymyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1482674098, "creation_date": 1461785020, "last_edit_date": 1495541783, "question_id": 36899104, "link": "https://stackoverflow.com/questions/36899104/azure-sdk-servicebustrigger-triggers-processing-of-the-same-message-each-minute", "title": "Azure sdk ServiceBusTrigger triggers processing of the same message each minute", "body": "<p>I have azure webjob setup using next code:</p>\n\n<p>Program.cs:</p>\n\n<pre><code>public class Program {\n    static void Main(){\n        JobHostConfiguration config = new JobHostConfiguration();\n        config.Tracing.ConsoleLevel = TraceLevel.Verbose;\n        config.Queues.BatchSize = 1;\n        config.UseTimers();\n        config.Queues.MaxDequeueCount = 1;\n        config.Queues.MaxPollingInterval = TimeSpan.FromSeconds(3);\n        ServiceBusConfiguration sbConfig = new ServiceBusConfiguration();\n        sbConfig.MessageOptions = new OnMessageOptions\n        {\n            MaxConcurrentCalls = 5,\n            AutoRenewTimeout = TimeSpan.FromMinutes(10),\n            AutoComplete = true\n        };\n\n        config.UseServiceBus(sbConfig);\n        config.NameResolver = new QueueNameResolver();\n\n        var host = new JobHost(config);\n        host.RunAndBlock();\n    }\n\n    public class QueueNameResolver : INameResolver\n    {\n        public string Resolve(string name)\n        {\n            return ConfigurationManager.AppSettings[name];\n        }\n    }\n}\n</code></pre>\n\n<p>Functions.cs</p>\n\n<pre><code>public static void ProcessQueueMessage([ServiceBusTrigger(\"%WebjobIncomingQueueName%\")] ProcessingInfo processingInfo, TextWriter webjobTextWriter){\n    webjobTextWriter.WriteLine(\"Service Bus trigger started\");\n    //long running task simulation\n    Thread.Sleep(400000);\n}\n</code></pre>\n\n<p>App.config file queue name configuration section:</p>\n\n<pre><code>&lt;appSettings&gt;\n    &lt;add key=\"WebjobIncomingQueueName\" value=\"webjob-test\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>ProcessingInfo class:</p>\n\n<pre><code> public class ProcessingInfo {\n        public long ID { get; set; }\n }\n</code></pre>\n\n<p>The problem here is that for the same message from <code>webjob-test</code> queue <code>ProcessQueueMessage</code> is triggered each minute after the first occurrence. According to answer <a href=\"https://stackoverflow.com/questions/33391888/service-bus-message-abandoned-despite-webjobs-sdk-handler-completed-successfully/33403158#33403158\">here</a> this should be easily configured using <code>OnMessageOptions.AutoRenewTimeout</code>, however it doesn't seems to be working. Can someone please help with this issue?</p>\n"}, {"tags": ["c#", "design-patterns", "solid-principles"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 3, "creation_date": 1461785317, "post_id": 36899101, "comment_id": 61362470, "body": "What&#39;s the question?  Sounds like you know what you need to do."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1461785348, "post_id": 36899101, "comment_id": 61362492, "body": "If you look at existing well thought out ORMs out there you will see that most of them (if not all) have a context that is responsible for all the actual operations and the entities themselves have no knowledge of the store they belong to or were materialized from or are updated to etc. If you insist on reinventing the wheel I would study these ORMs and duplicate what you feel you need."}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 1, "creation_date": 1461785368, "post_id": 36899101, "comment_id": 61362504, "body": "Object Relational Mapping, Query Objects, Unit of Work/Repository. All these patterns are designed and well tested for you."}], "answers": [{"comments": [{"owner": {"reputation": 15222, "user_id": 1017868, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EHwne.png?s=128&g=1", "display_name": "MikeSW", "link": "https://stackoverflow.com/users/1017868/mikesw"}, "edited": false, "score": 2, "creation_date": 1461789078, "post_id": 36899298, "comment_id": 61364760, "body": "While your code is ok, you&#39;re messing the concepts around. Your service is basically a Repository which is also a Facade. A service layer has nothing to do with the Facade pattern. They are apples and oranges."}, {"owner": {"reputation": 1112, "user_id": 1599979, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e53e478eb3c3493277e900dbad32a443?s=128&d=identicon&r=PG", "display_name": "Ivan Studenikin", "link": "https://stackoverflow.com/users/1599979/ivan-studenikin"}, "reply_to_user": {"reputation": 15222, "user_id": 1017868, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EHwne.png?s=128&g=1", "display_name": "MikeSW", "link": "https://stackoverflow.com/users/1017868/mikesw"}, "edited": false, "score": 0, "creation_date": 1461826100, "post_id": 36899298, "comment_id": 61377544, "body": "@MikeSW, So what would be the correct implementation with Repository (or whatever)?"}, {"owner": {"reputation": 1688, "user_id": 495719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/arnIh.jpg?s=128&g=1", "display_name": "iluwatar", "link": "https://stackoverflow.com/users/495719/iluwatar"}, "edited": false, "score": 0, "creation_date": 1461859073, "post_id": 36899298, "comment_id": 61401242, "body": "I believe Service Layer and Facade are different patterns. Can you point the source that says Facade is an alias for Service Layer?"}, {"owner": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "edited": false, "score": 0, "creation_date": 1461936118, "post_id": 36899298, "comment_id": 61437952, "body": "Don&#39;t get too hung up on the semantics of particular patterns. You simply want some abstraction which looks after the responsibilities of the storage system (database, text file, who knows) that specifically includes saving, deleting and perhaps loading and simple query functions. We often just call these <a href=\"https://en.wikipedia.org/wiki/List_of_object-relational_mapping_software#.NET\" rel=\"nofollow noreferrer\">ORMs</a>. See <a href=\"http://stackoverflow.com/a/36939115/56145\">my answer for more details</a>."}, {"owner": {"reputation": 1688, "user_id": 495719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/arnIh.jpg?s=128&g=1", "display_name": "iluwatar", "link": "https://stackoverflow.com/users/495719/iluwatar"}, "reply_to_user": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "edited": false, "score": 0, "creation_date": 1462008629, "post_id": 36899298, "comment_id": 61464226, "body": "@cottsak, point taken. Still the phrasing should be improved not to teach fallacies."}], "tags": [], "owner": {"reputation": 1083, "user_id": 5462629, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SVFJ0.jpg?s=128&g=1", "display_name": "Kerim Emurla", "link": "https://stackoverflow.com/users/5462629/kerim-emurla"}, "is_accepted": false, "score": 1, "last_activity_date": 1461785632, "creation_date": 1461785632, "answer_id": 36899298, "question_id": 36899101, "link": "https://stackoverflow.com/questions/36899101/design-pattern-for-saving-entities-into-database/36899298#36899298", "title": "Design pattern for saving entities into database", "body": "<p>I believe the Facade pattern will do just fine in your case. The Facade pattern is also known as Service Layer.</p>\n\n<p>In your case you will basically have a service(a class) which will have all the methods you need. Your service should look something like this.</p>\n\n<pre><code>class ProductService \n{\n    public void Save(Product product)\n    {\n       // SAVE THE PRODUCT\n    }\n\n    public void Delete(Product product)\n    {\n        // DELETE PRODUCT\n    }\n}\n</code></pre>\n\n<p>You want to inject your class where you want to save or delete products. This way all the work you have to do will be in a separate class and your code will become much cleaner.\nIt's also a good idea to have all those insert and delete statemenets in stored procedures.</p>\n"}, {"comments": [{"owner": {"reputation": 1112, "user_id": 1599979, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e53e478eb3c3493277e900dbad32a443?s=128&d=identicon&r=PG", "display_name": "Ivan Studenikin", "link": "https://stackoverflow.com/users/1599979/ivan-studenikin"}, "edited": false, "score": 0, "creation_date": 1461927129, "post_id": 36908965, "comment_id": 61431960, "body": "Looks very professional! Could you elaborate on command and query pattern, why is that for? Didn\u2019t we fit SOLID after the CRUD operations have been moved into Repository?"}, {"owner": {"reputation": 13350, "user_id": 99395, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/83ea2bc2c96e49a04460b1725f8c503a?s=128&d=identicon&r=PG", "display_name": "janhartmann", "link": "https://stackoverflow.com/users/99395/janhartmann"}, "reply_to_user": {"reputation": 1112, "user_id": 1599979, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e53e478eb3c3493277e900dbad32a443?s=128&d=identicon&r=PG", "display_name": "Ivan Studenikin", "link": "https://stackoverflow.com/users/1599979/ivan-studenikin"}, "edited": false, "score": 0, "creation_date": 1461927208, "post_id": 36908965, "comment_id": 61432006, "body": "I would recommend you read the articles: <a href=\"https://www.cuttingedge.it/blogs/steven/pivot/entry.php?id=91\" rel=\"nofollow noreferrer\">cuttingedge.it/blogs/steven/pivot/entry.php?id=91</a> and <a href=\"https://www.cuttingedge.it/blogs/steven/pivot/entry.php?id=92\" rel=\"nofollow noreferrer\">cuttingedge.it/blogs/steven/pivot/entry.php?id=92</a> which explains this pattern in depth :-)"}, {"owner": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "edited": false, "score": 0, "creation_date": 1461933731, "post_id": 36908965, "comment_id": 61436306, "body": "Command/Query is often an unnecessary complexity. Please don&#39;t suggest this sort of advanced pattern without knowing the context which justifies it&#39;s overhead."}, {"owner": {"reputation": 13350, "user_id": 99395, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/83ea2bc2c96e49a04460b1725f8c503a?s=128&d=identicon&r=PG", "display_name": "janhartmann", "link": "https://stackoverflow.com/users/99395/janhartmann"}, "edited": false, "score": 0, "creation_date": 1461934151, "post_id": 36908965, "comment_id": 61436572, "body": "I would not say its unnessary, since the OP is asking about how to use the SOLID principles. This example shows how to to that."}, {"owner": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "edited": false, "score": 1, "creation_date": 1461935270, "post_id": 36908965, "comment_id": 61437358, "body": "@janhartmann The OP <i>said</i> &quot;SOLID principles&quot; but I think he really just means Single Responsibility since he mentioned the word &quot;responsibility&quot; and his example is clearly about moving the persistence responsibility out of the model object. It looks like a fine example to me. I&#39;m just saying it&#39;s maybe not needed. And IMO, C/Q are often not needed. See my answer: Command and Query often falls into the same trap as Repositories and Services - they create wonderful abstractions which are used at most once or twice."}, {"owner": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "edited": false, "score": 0, "creation_date": 1461935366, "post_id": 36908965, "comment_id": 61437428, "body": "@janhartmann I&#39;m not saying it&#39;s a bad idea - there are plenty of good reasons you may want to do this. But we don&#39;t know what the OP needs. So his question isn&#39;t very clear, but I think we can get the gist of it. He just needs a simple Repo/<code>ISession</code> contract. That&#39;s all."}], "tags": [], "owner": {"reputation": 13350, "user_id": 99395, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/83ea2bc2c96e49a04460b1725f8c503a?s=128&d=identicon&r=PG", "display_name": "janhartmann", "link": "https://stackoverflow.com/users/99395/janhartmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1461927675, "last_edit_date": 1461927675, "creation_date": 1461831312, "answer_id": 36908965, "question_id": 36899101, "link": "https://stackoverflow.com/questions/36899101/design-pattern-for-saving-entities-into-database/36908965#36908965", "title": "Design pattern for saving entities into database", "body": "<p>I would introduce your model entity, a command and query pattern and a database layer or repository.</p>\n\n<p>Your model is your <code>Product</code> and this object should be a plain object:</p>\n\n<pre><code>public class Product : IEntity {\n    public int ID { get; set; }\n    public string Name { get; set; }\n    public double Price { get; set; }\n}\n</code></pre>\n\n<p>Next I would create a command and query interface for working with this entity:</p>\n\n<pre><code>public interface ICommand {} // Marker interface\n\npublic interface IQuery&lt;TResult&gt; {} // Marker interface\n</code></pre>\n\n<p>Next define the handlers for <code>ICommand</code> and <code>IQuery</code>:</p>\n\n<pre><code>public interface IHandleQuery&lt;TQuery, TResult&gt; where TQuery : IQuery&lt;TResult&gt; \n{\n    TResult Handle(TQuery query);\n}\n\npublic interface IHandleCommand&lt;TCommand&gt; where TCommand : ICommand\n{\n    void Handle(TCommand command);\n}\n</code></pre>\n\n<p>Now you have a clear indication and separation of your write (command) and read (query) sides.</p>\n\n<p>This means we can create a command and its handler for saving your <code>Product</code> like:</p>\n\n<pre><code>public class SaveProduct : ICommand \n{\n    public string Name { get; private set; }\n    public double Price { get; private set; }\n\n    public SaveProduct(string name, double price) \n    {\n        Name = name;\n        Price = price;\n    }\n}\n\npublic class HandleSaveProduct : IHandleCommand&lt;SaveProduct&gt; \n{\n    private readonly IRepository&lt;Product&gt; _productRepository;\n\n    public HandleSaveProduct(IRepository&lt;Product&gt; productRepository) \n    {\n        _productRepository = productRepository;\n    }\n\n    public void Handle(SaveProduct command) \n    {\n        var product = new Product {\n            Name = command.Name,\n            Price = command.Price\n        };\n\n        _productRepository.Save(product);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>In the above we have defined an repository for handling this entity,\n  you can however depend directly on your database context here and do\n  the queries/commands to it or you can implement the repository pattern\n  using an <code>GenericRepository&lt;TEntity&gt; : IRepository&lt;TEntity&gt;</code> or just\n  the separate product repository:</p>\n</blockquote>\n\n<pre><code>public interface IEntity { } // Marker interface\n\npublic interface IRepository&lt;TEntity&gt; where TEntity : IEntity \n{\n    TEntity Get(object primaryKey);\n\n    void Save(TEntity entity); // should handle both new and updating entities\n\n    void Delete(TEntity entity);\n\n}\n\npublic class ProductRepository : IRepository&lt;Product&gt; \n{\n    public Product Get(object primaryKey) \n    {\n        // Database method for getting Product\n    }\n\n    public void Save(Product entity) \n    {\n        // Database method for saving Product\n    }\n\n    public void Delete(Product entity) \n    {\n        // Database method for deleting Product\n    }\n}\n</code></pre>\n\n<p>You should never return your Product entity to your UI, but use a view model, e.g:</p>\n\n<pre><code>public class ProductViewModel {\n    public int ID { get; set; }\n    public string Name { get; set; }\n    public double Price { get; set; }\n    public DateTime Whatever { get; set; }\n}\n\npublic class GetProductById : IQuery&lt;ProductViewModel&gt;\n{\n    public int Id { get; private set; }\n\n    public GetProductById(int id)\n    {\n        Id = id;\n    }\n}\n\npublic class HandleGetProductById : IHandleQuery&lt;GetProductById, ProductViewModel&gt;\n{\n    private readonly IRepository&lt;Product&gt; _productRepository;\n\n    public HandleGetProductById(IRepository&lt;Product&gt; productRepository) \n    {\n        _productRepository = productRepository;\n    }\n\n    public ProductViewModel Handle(GetProductById query)\n    {\n        var product = _productRepository.Get(query.Id);\n        return product.Select(x =&gt; new ProductViewModel {\n            Name = x.Name,\n            Price = x.Price;\n        });\n    }\n}\n</code></pre>\n\n<p>Please note this is written in notepad, might not compile 100%, but you should get the idea on how the separation of the various components should be in order to follow SOLID. :-)</p>\n"}, {"tags": [], "owner": {"reputation": 10708, "user_id": 56145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c846824167f9b7e65c65e928926c9df3?s=128&d=identicon&r=PG", "display_name": "Matt Kocaj", "link": "https://stackoverflow.com/users/56145/matt-kocaj"}, "is_accepted": false, "score": 1, "last_activity_date": 1461935923, "last_edit_date": 1461935923, "creation_date": 1461934983, "answer_id": 36939115, "question_id": 36899101, "link": "https://stackoverflow.com/questions/36899101/design-pattern-for-saving-entities-into-database/36939115#36939115", "title": "Design pattern for saving entities into database", "body": "<p>You seem to want some sort of <a href=\"http://martinfowler.com/eaaCatalog/repository.html\" rel=\"nofollow\">Repository</a> like contract. You've already alluded to it in your [kind of] question. The link is for reference - I'm <em>not</em> suggesting you implement one. Why?</p>\n\n<p>Because like @Igor said, if you're using an ORM then you'll get this contract for free. For example, NHibernate has an <code>ISession</code> with <code>Query&lt;T&gt;()</code>, <code>Save()</code>, <code>Delete()</code>, etc methods. This is all you need. </p>\n\n<p>Nearly every project I've worked on where some abstraction over this \"infrastructure\" ORM contract is used (service/repository/etc), the said abstraction is weak and only serves to create more code to maintain and a higher risk of tech debt and bugs.</p>\n\n<p>Take the pragmatic approach:</p>\n\n<ul>\n<li>Don't reinvent the wheel by creating a Repository/ORM abstraction of your own with ADO.NET calls inside. Use a solid ORM like <a href=\"https://www.nuget.org/packages/FluentNHibernate/\" rel=\"nofollow\">Fluent NHibernate</a> which makes mapping simple and interacting with the data easy (other perfectly sound alternatives might be Entity Framework, etc). If that's too much party for you, try something really simple like <a href=\"https://github.com/StackExchange/dapper-dot-net\" rel=\"nofollow\">Dapper</a> - it's a very lightweight ORM which maps to your models like freaking magic and you can still write all your own SQL. You'll get your ORM contract interface to use, which I believe is what you're asking for here, and you can get on with building out your app, rather than pondering about over engineering.</li>\n<li>Keep stuff simple by using your ORM contract in your controllers ('controllers' doesn't have to be MVC Controllers, it can be whatever the UI entry point for your app is. Remember: avoid unnecessary abstractions). <a href=\"https://github.com/cottsak/mvc6webapicompare/blob/master/webapi2/SocksDrawer/Controllers/DrawerController.cs\" rel=\"nofollow\">Here are some simple examples.</a></li>\n<li>Folks want to <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow\">keep things DRY</a>, but the bizarre addiction developers have to #reusingallthethings means they often have Repositories or Services which wrap a perfectly fine ORM contract call and often only have one or two usages. Forget about reuse! Use the <a href=\"https://blog.codinghorror.com/rule-of-three/\" rel=\"nofollow\">Rule of Three</a> and start by having your queries, save and delete logic in your controllers and only extract reusable code when you know you need to.<br>\nI know <a href=\"https://github.com/cottsak/mvc6webapicompare/blob/master/webapi2/SocksDrawer/Controllers/DrawerController.cs\" rel=\"nofollow\">these examples are\ntrivial</a>,\nbut just imagine you needed to return some data and the query\nrequired some long linq expression or complex select with joins. Now imagine you needed this same query in a few places (it happens. Not often, but you will have some) - <strong>copy and paste it!</strong> Yes that's right; you can't believe I said it but I did. Leave that identical 10 lines copied and pasted in 2, 3 or 4 places in your code. It's totally ok. No one will die. You don't need a query object or a Repository method as long as the linq expression itself (<code>GetTop15TransactionsWithoutFeesExcludingCreditsGroupByDayRecentAtTop()</code> anyone?). </li>\n</ul>\n\n<p>HTH.</p>\n"}], "owner": {"reputation": 1112, "user_id": 1599979, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e53e478eb3c3493277e900dbad32a443?s=128&d=identicon&r=PG", "display_name": "Ivan Studenikin", "link": "https://stackoverflow.com/users/1599979/ivan-studenikin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3356, "favorite_count": 2, "accepted_answer_id": 36908965, "answer_count": 3, "score": 6, "last_activity_date": 1461935923, "creation_date": 1461785018, "question_id": 36899101, "link": "https://stackoverflow.com/questions/36899101/design-pattern-for-saving-entities-into-database", "title": "Design pattern for saving entities into database", "body": "<p>I have a class similar to the below (C#):</p>\n\n<pre><code>public class Product {\n\n    public int ID {get;set;}\n    public string Name {get;set;}\n    public double Price {get;set;}\n\n    public void Save() {\n        string sql = \"INSERT INTO Product.....\";\n        Database.Execute(sql);\n    }\n\n    public void Delete() {\n        string sql = \"DELETE Product WHERE.....\";\n        Database.Execute(sql);\n    }\n}\n</code></pre>\n\n<p>My main concern is that the code above violates SOLID principles, since it takes responsibility for creating and deleting itself.</p>\n\n<p>Perhaps these Save and Delete methods should be placed somewhere outside the Product entity (Factory/Repository maybe?).</p>\n"}, {"tags": ["c#", "office365", "skype", "microsoft-graph-api", "skype-for-business"], "answers": [{"tags": [], "owner": {"reputation": 12010, "user_id": 23235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281820b28d03f98e85bb3d901ae3f39?s=128&d=identicon&r=PG", "display_name": "Shane Powell", "link": "https://stackoverflow.com/users/23235/shane-powell"}, "is_accepted": false, "score": 0, "last_activity_date": 1462142009, "creation_date": 1462142009, "answer_id": 36972748, "question_id": 36899056, "link": "https://stackoverflow.com/questions/36899056/get-call-time-in-skype-for-business/36972748#36972748", "title": "Get call time in Skype for Business", "body": "<p>The best way is to use the <a href=\"https://technet.microsoft.com/en-us/library/jj688079.aspx\" rel=\"nofollow\">Call detail recording (CDR)</a> database (when enabled).  You can find the <a href=\"https://technet.microsoft.com/en-us/library/gg398570.aspx\" rel=\"nofollow\">CDR Scheme here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 8576, "user_id": 327074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/785321440230453d4a2a721f753bd538?s=128&d=identicon&r=PG", "display_name": "icc97", "link": "https://stackoverflow.com/users/327074/icc97"}, "edited": false, "score": 2, "creation_date": 1493406872, "post_id": 37034721, "comment_id": 74420831, "body": "It&#39;s basically ridiculous that Skype for Business don&#39;t offer this. It was in Skype for ever, it&#39;s a fundamental detail of any phone conversation. I need to know it for charging clients."}], "tags": [], "owner": {"reputation": 189, "user_id": 1007158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c5e5b9a0cd6433c572d6a28751d5850?s=128&d=identicon&r=PG&f=1", "display_name": "asguy", "link": "https://stackoverflow.com/users/1007158/asguy"}, "is_accepted": true, "score": 2, "last_activity_date": 1462384274, "creation_date": 1462384274, "answer_id": 37034721, "question_id": 36899056, "link": "https://stackoverflow.com/questions/36899056/get-call-time-in-skype-for-business/37034721#37034721", "title": "Get call time in Skype for Business", "body": "<p>I would like this as well.  I have added it to the suggestions page for Office 365.   <a href=\"https://office365.uservoice.com/forums/273494-outlook-and-calendar/suggestions/13733040-call-duration-for-outgoing-calls-in-conversation-h\" rel=\"nofollow\">https://office365.uservoice.com/forums/273494-outlook-and-calendar/suggestions/13733040-call-duration-for-outgoing-calls-in-conversation-h</a></p>\n"}], "owner": {"reputation": 1781, "user_id": 970971, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ccf084d91af48dc2658e08c3f124f54c?s=128&d=identicon&r=PG", "display_name": "casaout", "link": "https://stackoverflow.com/users/970971/casaout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1677, "favorite_count": 2, "accepted_answer_id": 37034721, "answer_count": 2, "score": 4, "last_activity_date": 1462384274, "creation_date": 1461784869, "question_id": 36899056, "link": "https://stackoverflow.com/questions/36899056/get-call-time-in-skype-for-business", "title": "Get call time in Skype for Business", "body": "<p>I am using the Microsoft Graph API to collect basic information about a user's meetings and emails. Now, I also want to know how many phone calls (and chats) a user has in Skype for Business and how long the phone calls are.</p>\n\n<p>I realized that Outlook creates a folder 'Conversation History' where these are logged. Unfortunately, not all call entries contain the call duration. I didn't find out when it is there and when not. Does someone know why this is?</p>\n\n<p>And is there a way to get Skype for Business call durations?\n(I think using the Lync-API (UCMA) might be a bit of an overkill)</p>\n"}, {"tags": ["c#", "task"], "comments": [{"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "edited": false, "score": 0, "creation_date": 1461785437, "post_id": 36898960, "comment_id": 61362544, "body": "Why can&#39;t you just return the report as the task&#39;s result?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1461813112, "post_id": 36898960, "comment_id": 61372813, "body": "What is <code>RunAsyncTask</code>?"}, {"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1461850574, "post_id": 36898960, "comment_id": 61394727, "body": "@StephenCleary Hi I updated it to include RunAsyncTask method"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1461851919, "post_id": 36898960, "comment_id": 61395829, "body": "@Master: Please reduce to a <a href=\"http://stackoverflow.com/help/mcve\">minimal, reproducible example</a> that others can run."}, {"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1461852132, "post_id": 36898960, "comment_id": 61395987, "body": "@StephenCleary Reduced it as much as I can. ReportPrewviewForm is a new window with ReportViewer within it."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1461854658, "post_id": 36898960, "comment_id": 61398105, "body": "@Master: If it&#39;s truly a minimal example, then please post all the code so that others can reproduce the issue."}], "answers": [{"comments": [{"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461786456, "post_id": 36899411, "comment_id": 61363172, "body": "Same error here &quot;The calling thread must be STA, because many UI components require this.&quot; and this time it doens&#39;t hit report.show()"}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461788355, "post_id": 36899411, "comment_id": 61364334, "body": "Why are you running the method with <code>ApartmentState.STA</code>?"}, {"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461789312, "post_id": 36899411, "comment_id": 61364896, "body": "Because it&#39;s a reusable method and if I want to update certain items in the UI, ApartmentState.STA will allow me....."}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461789565, "post_id": 36899411, "comment_id": 61365029, "body": "How about this?  <a href=\"http://stackoverflow.com/questions/5971686/how-to-create-a-task-tpl-running-a-sta-thread\" title=\"how to create a task tpl running a sta thread\">stackoverflow.com/questions/5971686/&hellip;</a>  I fixed the answer"}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461790452, "post_id": 36899411, "comment_id": 61365536, "body": "I&#39;ve added <code>ConfigureAwait(false)</code>. How about now?"}, {"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461790670, "post_id": 36899411, "comment_id": 61365657, "body": "Error with ConfigureAwait, same one as earlier."}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461791005, "post_id": 36899411, "comment_id": 61365842, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/110435/discussion-between-shlatchz-and-master\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461851264, "post_id": 36899411, "comment_id": 61395323, "body": "I just tried this, RunAsyncTask - TResult could not be found, also cannot convert source type <code>TResult</code> to the target type &#39;object&#39;"}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461853714, "post_id": 36899411, "comment_id": 61397302, "body": "What do you mean by &quot;TResult could not be found&quot;? Are you missing a reference? It should be in <code>using System.Threading.Tasks;</code> if I&#39;m not wrong."}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461932626, "post_id": 36899411, "comment_id": 61435595, "body": "errm, yeah. Try switching <code>object result = null;</code> to <code>TResult result = null;</code>."}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1461944777, "post_id": 36899411, "comment_id": 61443953, "body": "I made changes and checked them on my computer. Should work now."}, {"owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "reply_to_user": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "edited": false, "score": 0, "creation_date": 1466245972, "post_id": 36899411, "comment_id": 63245313, "body": "@Master Could you please mark this answer as the correct one, if it helped you solve your problem? Thanks."}], "tags": [], "owner": {"reputation": 1454, "user_id": 5136650, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LJk6X.png?s=128&g=1", "display_name": "shlatchz", "link": "https://stackoverflow.com/users/5136650/shlatchz"}, "is_accepted": false, "score": 0, "last_activity_date": 1461944597, "last_edit_date": 1461944597, "creation_date": 1461785984, "answer_id": 36899411, "question_id": 36898960, "link": "https://stackoverflow.com/questions/36898960/how-to-create-reportviewer-with-an-asynchronous-task/36899411#36899411", "title": "How to create reportviewer with an asynchronous Task", "body": "<p>Just create the report inside the task and return it to task's parent:</p>\n\n<pre><code>public async Task AnticipatedEntriesReport(bool fund)\n{\n    var anticipatedReport = new AnticipatedReport(fund);\n    ReportPreviewForm report = null;\n    anticipatedReport.InitializeParameters();\n    if (anticipatedReport.GetParameters() != null)\n    {\n        // Generate the report inside the task and return it.\n        report = await RunAsyncTask(\n            () =&gt;\n            {\n                var result = anticipatedReport.GenerateReport(SelectedLoans);\n                return result;\n            });\n    }\n}\n</code></pre>\n\n<p>and in RunAsyncTask:</p>\n\n<pre><code>public async Task&lt;TResult&gt; RunAsyncTask&lt;TResult&gt;(Func&lt;TResult&gt; function) \n{ \n    TResult result = default(TResult);\n    UpdateBusyUi(true); \n    try \n    { \n        result = await ThreadManager.StartSTATask(function); \n    } \n    catch (Exception ex) \n    { \n        SendException(ex); \n        LoadSucceed = false; \n        Events.PublishOnUIThread(new BackgroundCompletedEvent { Header = BackgroundCompletedEvent.EntityActions.Error, Error = true }); \n    } \n    UpdateBusyUi(false); \n    return result;\n}\n</code></pre>\n\n<p>The StartSTATask:</p>\n\n<pre><code>Task&lt;TResult&gt; StartSTATask&lt;TResult&gt;(Func&lt;TResult&gt; function)\n{\n    TaskCompletionSource&lt;TResult&gt; source = new TaskCompletionSource&lt;TResult&gt;();\n    Thread thread = new Thread(() =&gt;\n        {\n            try\n            {\n                source.SetResult(function());\n            }\n            catch (Exception ex)\n            {\n                source.SetException(ex);\n            }\n        });\n    thread.SetApartmentState(ApartmentState.STA);\n    thread.Start();\n    return source.Task;\n}\n</code></pre>\n"}], "owner": {"reputation": 1779, "user_id": 3276954, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94cd8cc10d3742b831b17c0db59d33c6?s=128&d=identicon&r=PG&f=1", "display_name": "Master", "link": "https://stackoverflow.com/users/3276954/master"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461944597, "creation_date": 1461784590, "last_edit_date": 1461851998, "question_id": 36898960, "link": "https://stackoverflow.com/questions/36898960/how-to-create-reportviewer-with-an-asynchronous-task", "title": "How to create reportviewer with an asynchronous Task", "body": "<p>My function has three parts.</p>\n\n<p>Part one Parameter Popup</p>\n\n<p>Part two Executes the code in a new thread with ApartmentState.STA turned on.</p>\n\n<p>Part three - Show ReportViewer</p>\n\n<p>I am currently receiving this error <code>the calling thread cannot access this object because a different thread owns it.</code></p>\n\n<pre><code>public async void AnticipatedEntriesReport(bool fund)\n{\n    var anticipatedReport = new AnticipatedReport(fund);\n    ReportPreviewForm report = new ReportPreviewForm();\n    anticipatedReport.InitializeParameters();\n    if (anticipatedReport.GetParameters() != null)\n    {\n        await RunAsyncTask(\n            () =&gt;\n            {\n                report = anticipatedReport.GenerateReport(SelectedLoans);\n            });\n\n        report.Show();\n    }\n}\n</code></pre>\n\n<p>My code breaks at report.Show(). </p>\n\n<p>anticipatedReport.GenerateReport returns a ReportPreviewForm.</p>\n\n<p>I'm wondering what am I doing wrong? I think it's based on where I created the object. </p>\n\n<pre><code>public async Task RunAsyncTask(System.Action action)\n{       \n    try\n    {\n        await ThreadManager.StartSTATask(action);\n    }\n    catch (Exception ex)\n    {           \n\n    }        \n}\n\npublic static Task StartSTATask(System.Action func)\n{\n    var tcs = new TaskCompletionSource&lt;object&gt;();\n    var thread = new Thread(() =&gt;\n    {\n        try\n        {\n            func();\n            tcs.SetResult(null);\n        }\n        catch (Exception e)\n        {\n            tcs.SetException(e);\n        }\n    });\n    thread.SetApartmentState(ApartmentState.STA);\n    thread.Start();\n    return tcs.Task;\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 2, "creation_date": 1461784659, "post_id": 36898932, "comment_id": 61362044, "body": "I think it&#39;s pretty safe to say that a letter is lonely when it is crying :-)"}, {"owner": {"reputation": 649, "user_id": 2596001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43dfaf512c3ef664cd62fffd86ac696d?s=128&d=identicon&r=PG", "display_name": "AntiTcb", "link": "https://stackoverflow.com/users/2596001/antitcb"}, "edited": false, "score": 0, "creation_date": 1461784666, "post_id": 36898932, "comment_id": 61362053, "body": "How &quot;lonely&quot; are we talking? You can add a minimum length requirement to your Regex."}, {"owner": {"reputation": 412, "user_id": 542088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a521a07fe2e508b00d3f2b2d242e3c6e?s=128&d=identicon&r=PG", "display_name": "Jonathan Nappee", "link": "https://stackoverflow.com/users/542088/jonathan-nappee"}, "edited": false, "score": 0, "creation_date": 1461784689, "post_id": 36898932, "comment_id": 61362064, "body": "How big is &quot;huge&quot;? How do you do the filtering you show?"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1461784807, "post_id": 36898932, "comment_id": 61362131, "body": "&quot;The problem I&#39;m facing is that some lonely letters are still saved&quot; -- Can you show us your current code that is doing the &quot;saving&quot;? It seems easier to fix your original code than to do a second iteration through the whole file. Otherwise, <i>my</i> definition of &quot;a lonely letter&quot; is if the character just in front and just behind it is whitespace."}, {"owner": {"reputation": 3944, "user_id": 5671993, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/h7hZj.jpg?s=128&g=1", "display_name": "Vikhram", "link": "https://stackoverflow.com/users/5671993/vikhram"}, "edited": false, "score": 0, "creation_date": 1461784959, "post_id": 36898932, "comment_id": 61362233, "body": "Your question is quite unclear. To identify single character you can use the following regex code <code>var matches = Regex.Matches(@&quot;l super_test t&quot;, @&quot;\\b\\w\\b&quot;)</code>"}, {"owner": {"reputation": 41, "user_id": 6263242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae3c3cc1001025fd281040832e3f83c?s=128&d=identicon&r=PG&f=1", "display_name": "exampIe", "link": "https://stackoverflow.com/users/6263242/exampie"}, "edited": false, "score": 0, "creation_date": 1461785270, "post_id": 36898932, "comment_id": 61362440, "body": "Thanks for your fast answers. I&#39;ve updated the main post."}, {"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1461788267, "post_id": 36898932, "comment_id": 61364279, "body": "Can you guarantee that spaces will occur occasionally? If so, you could read a few characters into a string/stringbuilder until you reach a space, and if there is more than one character then process that data. Write to the new file. Repeat until the end of the file."}], "answers": [{"tags": [], "owner": {"reputation": 5347, "user_id": 4572240, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NC4-RI4Wd_Q/AAAAAAAAAAI/AAAAAAAABjk/vEq-BTQa44E/photo.jpg?sz=128", "display_name": "Siderite Zackwehdex", "link": "https://stackoverflow.com/users/4572240/siderite-zackwehdex"}, "is_accepted": false, "score": 6, "last_activity_date": 1461784657, "creation_date": 1461784657, "answer_id": 36898987, "question_id": 36898932, "link": "https://stackoverflow.com/questions/36898932/remove-unwanted-characters-from-a-huge-file/36898987#36898987", "title": "Remove unwanted characters from a huge file", "body": "<p>You clearly need a regular expression. A simple one would be <code>[a-z_]{2,}</code>, which takes all strings of lowercase a to z letters and underscore that are at least 2 characters long.</p>\n\n<p>Just be careful when you are parsing the big file. Being huge, I imagine you use some sort of buffers. You need to make sure you don't get half of a word in one buffer and the other in the next.</p>\n"}, {"tags": [], "owner": {"reputation": 4163, "user_id": 3968276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294d8aafc7c28a0bae99df972396cf73?s=128&d=identicon&r=PG", "display_name": "Petter Hesselberg", "link": "https://stackoverflow.com/users/3968276/petter-hesselberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793031, "last_edit_date": 1461793031, "creation_date": 1461789876, "answer_id": 36900512, "question_id": 36898932, "link": "https://stackoverflow.com/questions/36898932/remove-unwanted-characters-from-a-huge-file/36900512#36900512", "title": "Remove unwanted characters from a huge file", "body": "<p>You can't treat the space just like the other acceptable characters. In addition to being acceptable, the space also serves as a delimiter for your lonesome characters. (This might be a problem with the proposed regular expressions as well; I couldn't say for sure.) Anyway, this does what (I think) you want:</p>\n\n<pre><code>string str = \"&gt;  \u00a7&gt; \u02dc;@  \u00ae&gt;  l? super_test D&gt;\u00ff\u00ff\u00ff\u00ff \u201cG? tI&gt; \u20ac[&gt; \u20ac? \u00c8\";\nStringBuilder sb = new StringBuilder();\nchar? firstLetterOfWord = null;\nforeach (char c in str)\n{\n    if ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || c == '_')\n    {\n        int length = sb.Length;\n        if (firstLetterOfWord != null)\n        {\n            // c is the second character of a word\n            sb.Append(firstLetterOfWord);\n            sb.Append(c);\n            firstLetterOfWord = null;\n        }\n        else if (length == 0 || sb[length - 1] == ' ')\n        {\n            // c is the first character of a word; save for next iteration\n            firstLetterOfWord = c;\n        }\n        else\n        {\n            // c is part of a word; we're not first, and prev != space\n            sb.Append(c);\n        }\n    }\n    else if (c == ' ')\n    {\n        // If you want to eliminate multiple spaces in a row,\n        // this is the place to do so\n        sb.Append(' ');\n        firstLetterOfWord = null;\n    }\n    else\n    {\n        firstLetterOfWord = null;\n    }\n}\n\nConsole.WriteLine(sb.ToString());\n</code></pre>\n\n<p>It works with singletons and full words at both start and end of string.</p>\n\n<p>If your input contains something like <code>one@two</code>, the output will run together (<code>onetwo</code> with no intervening space). Assuming that's not what you want, and also assuming that you have no need for multiple spaces in a row:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nbool previousWasSpace = true;\nchar? firstLetterOfWord = null;\nforeach (char c in str)\n{\n    if ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || c == '_')\n    {\n        if (firstLetterOfWord != null)\n        {\n            sb.Append(firstLetterOfWord).Append(c);\n            firstLetterOfWord = null;\n            previousWasSpace = false;\n        }\n        else if (previousWasSpace)\n        {\n            firstLetterOfWord = c;\n        }\n        else\n        {\n            sb.Append(c);\n        }\n    }\n    else\n    {\n        firstLetterOfWord = null;\n        if (!previousWasSpace)\n        {\n            sb.Append(' ');\n            previousWasSpace = true;\n        }\n    }\n}\n\nConsole.WriteLine(sb.ToString());\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6263242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae3c3cc1001025fd281040832e3f83c?s=128&d=identicon&r=PG&f=1", "display_name": "exampIe", "link": "https://stackoverflow.com/users/6263242/exampie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1461793031, "creation_date": 1461784522, "last_edit_date": 1461785807, "question_id": 36898932, "link": "https://stackoverflow.com/questions/36898932/remove-unwanted-characters-from-a-huge-file", "title": "Remove unwanted characters from a huge file", "body": "<p>EDIT : Here's my current code (21233664 chars)</p>\n\n<pre><code>  string str = myInput.Text;\n        StringBuilder sb = new StringBuilder();\n        foreach (char c in str)\n        {\n            if ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || c == '_' || c==' ')\n            {\n                sb.Append(c);\n            }\n        }\n        output.Text = sb.ToString();\n</code></pre>\n\n<p>Let's say I have a huge text file which contains special characters and normal expressions with underscores. </p>\n\n<p>Here are a few examples of the <strong>strings</strong> that I'm looking for :</p>\n\n<ul>\n<li>super_test</li>\n<li>test</li>\n<li>another_super_test</li>\n</ul>\n\n<p>As you can see, only lower case letters are allowed with underscores.\nNow, if I have those strings in a text file that looks like this :</p>\n\n<pre><code>&gt;  \u00a7&gt; \u02dc;@  \u00ae&gt;  l? super_test D&gt;\u00ff\u00ff\u00ff\u00ff \u201cG? tI&gt; \u20ac[&gt; \u20ac? \u00c8\n</code></pre>\n\n<p>The problem I'm facing is that some lonely letters are still saved. In the example given above, the output would be :</p>\n\n<pre><code>l super_test t\n</code></pre>\n\n<p>To get ridden of those chars, I must go through the whole file again but here's my question : <strong>how can I know whether a letter is lonely or not</strong>?</p>\n\n<p>I'm not sure I understand the possibilities with regex, so if anyone can give me a hint I'd really appreciate it.</p>\n"}, {"tags": ["c#", ".net", "large-object-heap"], "comments": [{"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 2, "creation_date": 1461784154, "post_id": 36898765, "comment_id": 61361701, "body": "You&#39;d be far better served to only load what you need, as you need it. I find it very doubtful that you need all 20,000 objects every time you load that object."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1461784240, "post_id": 36898765, "comment_id": 61361751, "body": "Increasing the stack size (not the heap size, it&#39;s not a <i>heap</i> overflow) doesn&#39;t seem like it would be much of a solution.  The problem is the design, not the host system.  You have too many nested function calls."}, {"owner": {"reputation": 337, "user_id": 2119902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4694377031f34adb50ff3e424df1b0d9?s=128&d=identicon&r=PG", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2119902/ehsan"}, "reply_to_user": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 0, "creation_date": 1461784535, "post_id": 36898765, "comment_id": 61361944, "body": "@krillgar I agree with design having problem , I inherited the code from another developer and wanted to fix it quickly if it was possible."}, {"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 1, "creation_date": 1461784798, "post_id": 36898765, "comment_id": 61362127, "body": "That&#39;s always fun, and I&#39;m sorry to hear that. Your best bet is to spend some extra time (which might be monumental) to get it right. Plead with your supervisor for that time, otherwise you&#39;ll be spending 10x the effort later to fix other bugs that continue to pop up out of nowhere later one."}], "answers": [{"tags": [], "owner": {"reputation": 8814, "user_id": 250849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c055ab763c14578ea61c06520fd89559?s=128&d=identicon&r=PG", "display_name": "vmg", "link": "https://stackoverflow.com/users/250849/vmg"}, "is_accepted": true, "score": 4, "last_activity_date": 1461784656, "last_edit_date": 1461784656, "creation_date": 1461784139, "answer_id": 36898814, "question_id": 36898765, "link": "https://stackoverflow.com/questions/36898765/c-huge-object-initializer-throws-stack-overflow-error/36898814#36898814", "title": "C# Huge object initializer throws Stack Overflow error", "body": "<p>from that description you don't have a problem with heap size. you have a problem with stack size. looks like you're trying to invoke too many nested functions. every function call has an effect on stack. \nStack is much smaller than heap and it is relatively easy to overflow it. Easiest way is a recursion. </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.stackoverflowexception(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.stackoverflowexception(v=vs.110).aspx</a></p>\n\n<pre><code>StackOverflowException is thrown for execution stack overflow errors, typically in case of a very deep or unbounded recursion.\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2119902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4694377031f34adb50ff3e424df1b0d9?s=128&d=identicon&r=PG", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2119902/ehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 36898814, "answer_count": 1, "score": -3, "last_activity_date": 1461784656, "creation_date": 1461783962, "question_id": 36898765, "link": "https://stackoverflow.com/questions/36898765/c-huge-object-initializer-throws-stack-overflow-error", "title": "C# Huge object initializer throws Stack Overflow error", "body": "<p>I need to build an <strong>object</strong> which consists of almost <strong>20000 nested objects</strong> (in multiple levels). Each object is a simple database entity with 1-5 fields or a list of entities. I am using <strong>inline object initializer</strong> to initiate my root object.</p>\n\n<pre><code>new OUTPUT() { XREF_CATALOG_MATERIALS = xrefCatalogMaterials.Find(x =&gt; x.MATERIAL.PART_NUM.Equals(\"xxxx\")), FUNCTION = new FUNCTION() {...\n</code></pre>\n\n<p>I tried running on both <strong>x86</strong> and <strong>x64</strong> mode and in both cases I get <strong>stackoverflow exception</strong>. The same code and logic works fine on the other cases that my object is not that big (around 6000 nested objects)  </p>\n\n<p>Is there any way to increase .Net applicationheap size? any suggestion that I can use to solve that issue?</p>\n"}, {"tags": ["c#", "datetime", "datetime-format"], "comments": [{"owner": {"reputation": 5347, "user_id": 4572240, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NC4-RI4Wd_Q/AAAAAAAAAAI/AAAAAAAABjk/vEq-BTQa44E/photo.jpg?sz=128", "display_name": "Siderite Zackwehdex", "link": "https://stackoverflow.com/users/4572240/siderite-zackwehdex"}, "edited": false, "score": 2, "creation_date": 1461784236, "post_id": 36898763, "comment_id": 61361746, "body": "Try using TimeSpan. Datetime is storing dates and times, TimeSpan holds time intervals."}, {"owner": {"reputation": 160, "user_id": 3802768, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/573645720/picture?type=large", "display_name": "Chris_livermore", "link": "https://stackoverflow.com/users/3802768/chris-livermore"}, "reply_to_user": {"reputation": 5347, "user_id": 4572240, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NC4-RI4Wd_Q/AAAAAAAAAAI/AAAAAAAABjk/vEq-BTQa44E/photo.jpg?sz=128", "display_name": "Siderite Zackwehdex", "link": "https://stackoverflow.com/users/4572240/siderite-zackwehdex"}, "edited": false, "score": 0, "creation_date": 1461784360, "post_id": 36898763, "comment_id": 61361832, "body": "Yes I have had a look at time span but getting the cell value parsed into a timespan? Does that work?"}], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 3802768, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/573645720/picture?type=large", "display_name": "Chris_livermore", "link": "https://stackoverflow.com/users/3802768/chris-livermore"}, "edited": false, "score": 0, "creation_date": 1461788215, "post_id": 36898889, "comment_id": 61364255, "body": "Is there anyway to convert that timespan back into a string of hhhh:mm? The issue I am having now is getting it parse it back I have managed to get hh and hh.mm but then in an if statement it&#39;s throws and exception because I am then trying to parse hh.mm back it. All very annoying! I hate working with time :("}, {"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "reply_to_user": {"reputation": 160, "user_id": 3802768, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/573645720/picture?type=large", "display_name": "Chris_livermore", "link": "https://stackoverflow.com/users/3802768/chris-livermore"}, "edited": false, "score": 1, "creation_date": 1461788724, "post_id": 36898889, "comment_id": 61364560, "body": "@Chris_livermore I have updated my answer to show a way of getting &quot;hhhh:mm&quot;, as you put it."}, {"owner": {"reputation": 160, "user_id": 3802768, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/573645720/picture?type=large", "display_name": "Chris_livermore", "link": "https://stackoverflow.com/users/3802768/chris-livermore"}, "edited": false, "score": 0, "creation_date": 1461794286, "post_id": 36898889, "comment_id": 61367404, "body": "thank you very much will input this tomorrow, don&#39;t think 8 hours of programming today helped , hopefully I will be a little more awake tomorrow when I digest this. Thanks"}], "tags": [], "owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "is_accepted": true, "score": 4, "last_activity_date": 1461788644, "last_edit_date": 1461788644, "creation_date": 1461784390, "answer_id": 36898889, "question_id": 36898763, "link": "https://stackoverflow.com/questions/36898763/adding-datetimeshhmm-together-to-form-a-hhhhmm/36898889#36898889", "title": "Adding Datetimes(HH:MM) together to form a (HHHH:MM)?", "body": "<p>It looks like you should be using a <a href=\"https://msdn.microsoft.com/en-us/library/system.timespan(v=vs.110).aspx\" rel=\"nofollow\">TimeSpan</a> instead, so you'd use</p>\n\n<pre><code>TimeSpan calc = TimeSpan.Parse((dataGridView1[hittest.ColumnIndex + 1, hittest.RowIndex].Value.ToString()));\n</code></pre>\n\n<p>You can add TimeSpans with <code>+</code>.</p>\n\n<p>To format a string to represent totalhours:minutes, you can use</p>\n\n<pre><code>String.Format(\"{0}:{1}\", Math.Floor(ts.TotalHours), ts.Minutes)\n</code></pre>\n\n<p>(assuming the timespan is positive).</p>\n"}, {"tags": [], "owner": {"reputation": 412, "user_id": 542088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a521a07fe2e508b00d3f2b2d242e3c6e?s=128&d=identicon&r=PG", "display_name": "Jonathan Nappee", "link": "https://stackoverflow.com/users/542088/jonathan-nappee"}, "is_accepted": false, "score": 0, "last_activity_date": 1461784407, "creation_date": 1461784407, "answer_id": 36898895, "question_id": 36898763, "link": "https://stackoverflow.com/questions/36898763/adding-datetimeshhmm-together-to-form-a-hhhhmm/36898895#36898895", "title": "Adding Datetimes(HH:MM) together to form a (HHHH:MM)?", "body": "<p>In the cells where you have \"Total hours\", is it a string, a double, a TimeSpan value?</p>\n\n<p>It seems to me you don't need DateTime, just convert all your \"TotalHours\" to a TimeSpan and add the TimeSpans together, what you show in your Total cell is your TimeSpan TotalHours.</p>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/system.timespan%28v=vs.110%29.aspx\" rel=\"nofollow\">TimeSpan</a> constructor, TotalHours and Add.</p>\n"}], "owner": {"reputation": 160, "user_id": 3802768, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/573645720/picture?type=large", "display_name": "Chris_livermore", "link": "https://stackoverflow.com/users/3802768/chris-livermore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 36898889, "answer_count": 2, "score": -1, "last_activity_date": 1461788644, "creation_date": 1461783958, "last_edit_date": 1461784541, "question_id": 36898763, "link": "https://stackoverflow.com/questions/36898763/adding-datetimeshhmm-together-to-form-a-hhhhmm", "title": "Adding Datetimes(HH:MM) together to form a (HHHH:MM)?", "body": "<p>I'm struggling on datetime calculations - it's one that always gets me! I prefer numbers not time!</p>\n\n<p>So I have various cells with Total hours in each cell. At the end of the row is a Total Hours:Minutes Column that would add these cells together. Each cell's value is a string so needs to be converted first into a DateTime.</p>\n\n<p>My question is how the hell do I do this? Here are a few snippets of what i have so far:</p>\n\n<pre><code>string cellvalue = e.Data.GetData(typeof(string)) as string;\nPoint cursorLocation = this.PointToClient(new Point(e.X, e.Y));\n\nDataGridView.HitTestInfo hittest = dataGridView1.HitTest(cursorLocation.X, cursorLocation.Y);\nDateTime calc = DateTime.Parse((dataGridView1[hittest.ColumnIndex + 1, hittest.RowIndex].Value.ToString()));\ndataGridView1[dataGridView1.ColumnCount, hittest.RowIndex].Value = ??????\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "wpf", "visual-studio-2013", "resharper"], "comments": [{"owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "edited": false, "score": 0, "creation_date": 1461783680, "post_id": 36898632, "comment_id": 61361419, "body": "May not be a <i>real</i> solution, but did you already try running Visual Studio with elevated privileges?"}, {"owner": {"reputation": 1989, "user_id": 276500, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d1366b45f8499de563eddd9a259067c8?s=128&d=identicon&r=PG", "display_name": "johnildergleidisson", "link": "https://stackoverflow.com/users/276500/johnildergleidisson"}, "reply_to_user": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "edited": false, "score": 0, "creation_date": 1461783959, "post_id": 36898632, "comment_id": 61361591, "body": "@khlr I did, it does not help at all."}, {"owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "edited": false, "score": 1, "creation_date": 1461784465, "post_id": 36898632, "comment_id": 61361905, "body": "Too bad :( But it was worth a try."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2936206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nNkol.png?s=128&g=1", "display_name": "Jens Bornschein", "link": "https://stackoverflow.com/users/2936206/jens-bornschein"}, "reply_to_user": {"reputation": 3853, "user_id": 13368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6cd6f7ed3fbe834c30e94789f93f7998?s=128&d=identicon&r=PG", "display_name": "Jason Stevenson", "link": "https://stackoverflow.com/users/13368/jason-stevenson"}, "edited": false, "score": 0, "creation_date": 1494419132, "post_id": 37389798, "comment_id": 74818749, "body": "This is not true. You can use Edit and Continue as you are used to. I use it since severeal years without any restrictions (VS 2013)!"}, {"owner": {"reputation": 3853, "user_id": 13368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6cd6f7ed3fbe834c30e94789f93f7998?s=128&d=identicon&r=PG", "display_name": "Jason Stevenson", "link": "https://stackoverflow.com/users/13368/jason-stevenson"}, "edited": false, "score": 1, "creation_date": 1494549796, "post_id": 37389798, "comment_id": 74888333, "body": "It is true in VS 2017.  I haven&#39;t used VS 2013 in 5 years so I suppose it could be different."}], "tags": [], "owner": {"reputation": 153, "user_id": 2936206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nNkol.png?s=128&g=1", "display_name": "Jens Bornschein", "link": "https://stackoverflow.com/users/2936206/jens-bornschein"}, "is_accepted": true, "score": 1, "last_activity_date": 1494331478, "last_edit_date": 1592644375, "creation_date": 1464002903, "answer_id": 37389798, "question_id": 36898632, "link": "https://stackoverflow.com/questions/36898632/eventsourceexception-exception-floods-debugging-session-and-slows-down-process/37389798#37389798", "title": "EventSourceException exception floods debugging session and slows down process. How to fix?", "body": "<p>I had the same problem and posted an answer how to stop the message in VS 2013:\n<a href=\"https://stackoverflow.com/a/37389692/2936206\">https://stackoverflow.com/a/37389692/2936206</a></p>\n<p>In summary, it is:</p>\n<blockquote>\n<p>Go to</p>\n<p><strong>TOOLS --&gt; Options\u2026 --&gt; Debugging --&gt; General --&gt;</strong> (mark) <strong>Use Managed Compatibility Mode</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 1989, "user_id": 276500, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d1366b45f8499de563eddd9a259067c8?s=128&d=identicon&r=PG", "display_name": "johnildergleidisson", "link": "https://stackoverflow.com/users/276500/johnildergleidisson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 1, "closed_date": 1519054517, "accepted_answer_id": 37389798, "answer_count": 1, "score": 6, "last_activity_date": 1494331478, "creation_date": 1461783515, "last_edit_date": 1461786015, "question_id": 36898632, "link": "https://stackoverflow.com/questions/36898632/eventsourceexception-exception-floods-debugging-session-and-slows-down-process", "closed_reason": "Duplicate", "title": "EventSourceException exception floods debugging session and slows down process. How to fix?", "body": "<p>I am experiencing this after upgrading from Windows 7 to Windows 10 and running my WPF application from Visual Studio 2013 Update 5 with the debugger attached.</p>\n\n<p>While running some basic image processing operations the debug output starts getting flooded with <code>EventSourceException: No Free Buffers available from the operating system (e.g. event rate too fast)</code> messages, causing the process being debugged to slow down significantly.</p>\n\n<p>Running the process without visual studio's debugger attached behaves normally.</p>\n\n<p>I couldn't find much information online when I googled about it. It has something to do with EFW (Event tracing for windows), I don't know what it is.</p>\n\n<p>The code base is not small so it'd be difficult track down the origin of the exception as asking Visual Studio to stop on all exceptions doesn't actually stop at this exception source.</p>\n\n<p>Can anyone help on getting on getting rid of this exception?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I use Resharper Ultimate 2016.1. I did realize after uninstalling DotTrace some ETW service is uninstalled. But uninstalling Resharper didn't help, the problem is still there.</p>\n"}, {"tags": ["c#", "selenium"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1461784557, "post_id": 36898558, "comment_id": 61361956, "body": "Does it throw a <code>NullReferenceException</code>?"}, {"owner": {"reputation": 763, "user_id": 4888684, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6cdf6c0bf4083bfc81c5aea1c76ed68c?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Williams", "link": "https://stackoverflow.com/users/4888684/andy-williams"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1461784674, "post_id": 36898558, "comment_id": 61362056, "body": "NoAlertPresentException: No Alert is active     I am calling a method which handles an alert that pops up during my test but not every scenario triggers the alert pop up so i am trying to figure out the syntax to write an if else or some other kind of conditional statement to handle when the alert is being fired"}], "answers": [{"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 1, "last_activity_date": 1461785768, "creation_date": 1461785768, "answer_id": 36899342, "question_id": 36898558, "link": "https://stackoverflow.com/questions/36898558/dynamic-alert-generates-selenium-webdriver-c/36899342#36899342", "title": "Dynamic Alert Generates Selenium Webdriver C#", "body": "<p>You will have to use try catch to handle that. Even the <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/dotnet/src/support/UI/ExpectedConditions.cs#L576\" rel=\"nofollow\"><code>AlertIsPresent</code></a> is implemented as such.</p>\n\n<pre><code>try\n{\n    ts.getDriver().SwitchTo().Alert().Accept();\n}\ncatch (NoAlertPresentException)\n{\n    // do nothing...\n}\n</code></pre>\n\n<p>If you want to hide that ugliness, you can wrap that inside an extension method :</p>\n\n<pre><code>public static class SwitchExtensions\n{\n    public static IAlert AlertOrNull(this ITargetLocator locator)\n    {\n        try\n        {\n            return locator.Alert();\n        }\n        catch (NoAlertPresentException)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Usage :</p>\n\n<pre><code>var alert = driver.SwitchTo().AlertOrNull();\nif (alert != null)\n    alert.Accept();\n</code></pre>\n"}], "owner": {"reputation": 763, "user_id": 4888684, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6cdf6c0bf4083bfc81c5aea1c76ed68c?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Williams", "link": "https://stackoverflow.com/users/4888684/andy-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 36899342, "answer_count": 1, "score": 1, "last_activity_date": 1461785768, "creation_date": 1461783324, "question_id": 36898558, "link": "https://stackoverflow.com/questions/36898558/dynamic-alert-generates-selenium-webdriver-c", "title": "Dynamic Alert Generates Selenium Webdriver C#", "body": "<p>I am using the following code to handle an alert: </p>\n\n<pre><code>ts.getDriver().SwitchTo().Alert().Accept();\n</code></pre>\n\n<p>Which is working fine but I have occasional scenarios where the alert does not always pop up. Can anyone offer a solution? I can't seem to find the correct syntax to handle the condition in C#.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["c#", "generics"], "answers": [{"comments": [{"owner": {"reputation": 6044, "user_id": 2985796, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e23b7774b4e4cdaf47f2ac655eb423bd?s=128&d=identicon&r=PG", "display_name": "KDecker", "link": "https://stackoverflow.com/users/2985796/kdecker"}, "edited": false, "score": 3, "creation_date": 1461784108, "post_id": 36898691, "comment_id": 61361679, "body": "Jon Skeet has spoken."}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 3, "last_activity_date": 1461783687, "last_edit_date": 1495542704, "creation_date": 1461783687, "answer_id": 36898691, "question_id": 36898534, "link": "https://stackoverflow.com/questions/36898534/force-generics-to-not-be-of-the-same-type-force-generic-to-only-be-subtype-of-a/36898691#36898691", "title": "Force generics to not be of the same type? Force generic to only be subtype of a given type?", "body": "<blockquote>\n  <p>No - there's no such concept either in C# or in the CLR. </p>\n</blockquote>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/8727539\">https://stackoverflow.com/a/8727539</a></p>\n\n<p>There is no compile-time check for that. However, you can still do a runtime-check with <code>Type.Equals(Type)</code> and <code>Type.IsAssignableFrom(Type)</code>.</p>\n"}], "owner": {"reputation": 6044, "user_id": 2985796, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e23b7774b4e4cdaf47f2ac655eb423bd?s=128&d=identicon&r=PG", "display_name": "KDecker", "link": "https://stackoverflow.com/users/2985796/kdecker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 36898691, "answer_count": 1, "score": 0, "last_activity_date": 1461783687, "creation_date": 1461783278, "question_id": 36898534, "link": "https://stackoverflow.com/questions/36898534/force-generics-to-not-be-of-the-same-type-force-generic-to-only-be-subtype-of-a", "title": "Force generics to not be of the same type? Force generic to only be subtype of a given type?", "body": "<p>I have a function which takes two generics <code>&lt;C, M&gt;</code>. I would like to force the <code>typeof(C) != typeof(M)</code>, is this possible?</p>\n\n<p>I have read over the <a href=\"https://msdn.microsoft.com/en-us/library/d5x73970.aspx\" rel=\"nofollow\">MSDN page for type constraints</a> and it looks like I can only constrain in the \"positive\" case (<code>where C: &lt;class&gt;|&lt;interface&gt;|&lt;generic&gt;</code>) but not in the negative case (<code>where C: !&lt;class&gt;|!&lt;interface&gt;|&lt;!&lt;generic&gt;</code>). </p>\n\n<p>Another solution for me would be to force a generic type to be a subclass of a given type, but not that type itself. I doubt this is possible.</p>\n"}, {"tags": ["c#", "wpf", "multithreading", "asynchronous", "task-parallel-library"], "answers": [{"tags": [], "owner": {"reputation": 4396, "user_id": 4316374, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-8D0h5D5n1LQ/AAAAAAAAAAI/AAAAAAAAA3s/mLhsmffyuS8/photo.jpg?sz=128", "display_name": "alek kowalczyk", "link": "https://stackoverflow.com/users/4316374/alek-kowalczyk"}, "is_accepted": true, "score": 1, "last_activity_date": 1461786556, "creation_date": 1461786556, "answer_id": 36899563, "question_id": 36898491, "link": "https://stackoverflow.com/questions/36898491/wpf-await-switches-from-the-ui-thread/36899563#36899563", "title": "WPF await switches from the UI thread", "body": "<p>Ok, resolved it, the mentioned <code>void</code> method from the 3rd party API, was running with a thread that has a dispatcher, because </p>\n\n<pre><code>System.Windows.Threading.Dispatcher.FromThread(System.Threading.Thread.CurrentThread)\n</code></pre>\n\n<p>Returned a dispatcher, I don't know why, but that didn't matter, I had to run my async method in an <code>Invoke</code> like</p>\n\n<pre><code>Application.Current.Dispatcher.Invoke(() =&gt; myAsyncMethod());\n</code></pre>\n\n<p>and then the <code>await</code> in my method didn't switched the <code>SynchronizationContext</code>.\nIt looks like my assumption that when there is a dispatcher it's the proper context was wrong, don't know why :)</p>\n"}], "owner": {"reputation": 4396, "user_id": 4316374, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-8D0h5D5n1LQ/AAAAAAAAAAI/AAAAAAAAA3s/mLhsmffyuS8/photo.jpg?sz=128", "display_name": "alek kowalczyk", "link": "https://stackoverflow.com/users/4316374/alek-kowalczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 36899563, "answer_count": 1, "score": 2, "last_activity_date": 1461786556, "creation_date": 1461783173, "last_edit_date": 1461783769, "question_id": 36898491, "link": "https://stackoverflow.com/questions/36898491/wpf-await-switches-from-the-ui-thread", "title": "WPF await switches from the UI thread", "body": "<p>I have a function called from the UI thread, I'm double checking if that's so by</p>\n\n<pre><code>System.Windows.Threading.Dispatcher.FromThread(System.Threading.Thread.CurrentThread)\n</code></pre>\n\n<p>everything is called from a <code>void</code> method, which can't be <code>async void</code> because it has an <code>out</code> parameter (method from 3rd party API).</p>\n\n<p>So in this <code>void</code> method I make a call to an <code>async</code> method, the main method doesn't have to wait, so I just run it and forget (planning to handle exceptions in the <code>ContinueWith</code> method, but I'm not there yet).</p>\n\n<p>Problem is, that when in the method chain an <code>await</code> is performed on the <code>ExecuteTaskAsync</code> method of the RestSharp client, after that line, the thread is witched to MTA, the <code>SynchronizationContext.Current</code> is different too.</p>\n\n<p>Why is this happening? Shouldn't the <code>await</code> keyword return to the orginal SynchronizationContext? Why is the <code>SynchronizationContext.Current</code> changing during that call?</p>\n\n<p>Sorry for no code snippets, it's a part of a bigger app and it's hard to snippet it out, but I'm doing it right now, so code snippets will be added.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1461783527, "post_id": 36898481, "comment_id": 61361325, "body": "Why not use a new <code>DbContext</code> instance for your auditing? SOC (separation of concerns). In your IoC container you should be able to register your <code>AuditService</code> (I assume you have logic for your audit functionality wrapped in its own class/service) that it has an independent and owned <code>DbContext</code> instance injected into it."}, {"owner": {"reputation": 1518, "user_id": 4061307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6629200383c4583f45cd111705ddc282?s=128&d=identicon&r=PG&f=1", "display_name": "aw1975", "link": "https://stackoverflow.com/users/4061307/aw1975"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1461835194, "post_id": 36898481, "comment_id": 61383203, "body": "@Igor Thank you for your comment. Sounds like a sensible approach. I just need to figure out how to configure the built-in IoC container that&#39;s included with ASP.NET 5/Core to inject a new instance of the DbContext only for my AuditService, and to inject the DbContext that is scoped to the HTTP request for all other services."}, {"owner": {"reputation": 1518, "user_id": 4061307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6629200383c4583f45cd111705ddc282?s=128&d=identicon&r=PG&f=1", "display_name": "aw1975", "link": "https://stackoverflow.com/users/4061307/aw1975"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1461842915, "post_id": 36898481, "comment_id": 61388620, "body": "I figured out how to setup the IoC container, however have decided to move the auditing <code>DbSet</code> into a separate db context class rather than instantiating a new instance of the same db context."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1461845883, "post_id": 36898481, "comment_id": 61390879, "body": "Good deal, sounds like a good solution."}], "owner": {"reputation": 1518, "user_id": 4061307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6629200383c4583f45cd111705ddc282?s=128&d=identicon&r=PG&f=1", "display_name": "aw1975", "link": "https://stackoverflow.com/users/4061307/aw1975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461833359, "creation_date": 1461783140, "last_edit_date": 1461833359, "question_id": 36898481, "link": "https://stackoverflow.com/questions/36898481/undo-changes-to-entities-using-entity-framework-7", "title": "Undo changes to entities using Entity Framework 7", "body": "<p>My C# web application uses Entity Framework 7 code-first. If at some point during the application workflow an exception is thrown, the error should get audited to the database. It should only persist the Audit entity. Any other changes made to the <code>DbContext</code> up to that point should be discarded.</p>\n\n<p>So I need to undo the pending changes on the <code>DbContext</code> prior to adding and saving the Audit entity. What is the best way to achieve this?</p>\n\n<p>I tried implementing the example in the following link:</p>\n\n<p><a href=\"https://code.msdn.microsoft.com/How-to-undo-the-changes-in-00aed3c4\" rel=\"nofollow\">https://code.msdn.microsoft.com/How-to-undo-the-changes-in-00aed3c4</a></p>\n\n<p>However in Entity Framework 7 there is no Reload method on the <code>DbEntityEntry</code> class so the example won't even compile.</p>\n\n<p>Note that the lifetime of the DbContext is managed by the IoC container and is per-HTTP request so disposing the DbContext isn't really a suitable option.</p>\n"}, {"tags": ["c#", ".net", "multithreading", "task"], "comments": [{"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1461789667, "post_id": 36898470, "comment_id": 61365082, "body": "1) You <b>really</b> don&#39;t want to do it this way with an unlimited number of threads hitting your database. Use <code>Parallel.</code> and set a maximum degrees of concurrency; 2) <code>List&lt;&gt;</code> is not thread safe. See also PLINQ: <a href=\"https://msdn.microsoft.com/en-us/library/dd997425(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd997425(v=vs.110).aspx</a>"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1461790271, "post_id": 36898470, "comment_id": 61365423, "body": "Good call on <code>List&lt;&gt;</code>, I never thought about that."}], "answers": [{"comments": [{"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1461789452, "post_id": 36900009, "comment_id": 61364965, "body": "But why would it be timing out within a minute?"}, {"owner": {"reputation": 888, "user_id": 556475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYnHw.jpg?s=128&g=1", "display_name": "Mike Barry", "link": "https://stackoverflow.com/users/556475/mike-barry"}, "reply_to_user": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 1, "creation_date": 1461789581, "post_id": 36900009, "comment_id": 61365038, "body": "The threadpool adds a 500ms delay before any new thread is created. The pool only starts with 8 threads. The documentations specifically says: You need to start a number of threads in a very short time, to execute tasks that last a second or more. As part of its thread management strategy, the thread pool delays before creating threads. Therefore, when a number of tasks are queued in a short period of time, there can be a significant delay before all the tasks are started."}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1461790955, "post_id": 36900009, "comment_id": 61365808, "body": "I understand that, but when it hits the <code>GeneratePotentialBillingByYear()</code>, it fails about 32 seconds into the function."}, {"owner": {"reputation": 888, "user_id": 556475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYnHw.jpg?s=128&g=1", "display_name": "Mike Barry", "link": "https://stackoverflow.com/users/556475/mike-barry"}, "reply_to_user": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1461791615, "post_id": 36900009, "comment_id": 61366125, "body": "I missed that part of your question. Since an exception isn&#39;t being thrown from your sub task generator I&#39;ve got no idea:-/"}, {"owner": {"reputation": 888, "user_id": 556475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYnHw.jpg?s=128&g=1", "display_name": "Mike Barry", "link": "https://stackoverflow.com/users/556475/mike-barry"}, "reply_to_user": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1461791713, "post_id": 36900009, "comment_id": 61366170, "body": "Ps Your call to years.add isn&#39;t thread safe when using Task.Run"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1461848384, "post_id": 36900009, "comment_id": 61392865, "body": "Yeah, I switched it to a ConcurrentBag. Thanks"}], "tags": [], "owner": {"reputation": 888, "user_id": 556475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYnHw.jpg?s=128&g=1", "display_name": "Mike Barry", "link": "https://stackoverflow.com/users/556475/mike-barry"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789291, "last_edit_date": 1461789291, "creation_date": 1461788085, "answer_id": 36900009, "question_id": 36898470, "link": "https://stackoverflow.com/questions/36898470/nested-threads-tasks-timing-out-prematurely/36900009#36900009", "title": "Nested Threads (Tasks) Timing Out Prematurely", "body": "<p>You might consider pre-allocating a bigger number of threadpool threads. The threadpool is very slow to allocate new threads. The code below task only 10 seconds (the theoretical minimum) to run setting the minimum number of threadpool threads to 2.5k, but commenting out the SetMinThreads makes it take over 1:30 seconds.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    ThreadPool.SetMinThreads(2500, 10);\n    Stopwatch sw = Stopwatch.StartNew();\n    RunTasksOutter(10);\n    sw.Stop();\n    Console.WriteLine($\"Finished in {sw.Elapsed}\");\n}\n\npublic static void RunTasksOutter(int num) =&gt; Task.WaitAll(Enumerable.Range(0, num).Select(x =&gt; Task.Run(() =&gt; RunTasksInner(10))).ToArray());\npublic static void RunTasksInner(int num) =&gt; Task.WaitAll(Enumerable.Range(0, num).Select(x =&gt; Task.Run(() =&gt; Thread.Sleep(10000))).ToArray());\n</code></pre>\n\n<p>You could also be running out of threadpool threads. Per: <a href=\"https://msdn.microsoft.com/en-us/library/0ka9477y(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/0ka9477y(v=vs.110).aspx</a> one of the times to not use the threadpool (which is used by tasks) is: </p>\n\n<blockquote>\n  <p>You have tasks that cause the thread to block for long periods of time. The thread pool has a maximum number of threads, so a large number of blocked thread pool threads might prevent tasks from starting.</p>\n</blockquote>\n\n<p>Since IO is being done on these threads maybe consider replacing them with async code or starting them with the LongRunning option? <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.taskcreationoptions(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.threading.tasks.taskcreationoptions(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461789291, "creation_date": 1461783120, "question_id": 36898470, "link": "https://stackoverflow.com/questions/36898470/nested-threads-tasks-timing-out-prematurely", "title": "Nested Threads (Tasks) Timing Out Prematurely", "body": "<p>I have the following code, what it does I don't believe is important, but I'm getting strange behavior.</p>\n\n<p>When I run just the months on separate threads, it runs fine(how it is below), but when I multi-thread the years(uncomment the tasks), it will timeout every time. The timeout is set for 5 minutes for months/20 minutes for years and it will timeout within a minute.</p>\n\n<p>Is there a known reason for this behavior? Am I missing something simple?</p>\n\n<pre><code>    public List&lt;PotentialBillingYearItem&gt; GeneratePotentialBillingByYear()\n    {\n        var years = new List&lt;PotentialBillingYearItem&gt;();\n        //var tasks = new List&lt;Task&gt;();\n        var startYear = new DateTime(DateTime.Today.Year - 10, 1, 1);\n        var range = new DateRange(startYear, DateTime.Today.LastDayOfMonth());\n\n        for (var i = range.Start; i &lt;= range.End; i = i.AddYears(1))\n        {\n            var yearDate = i;\n            //tasks.Add(Task.Run(() =&gt;\n            //{\n                years.Add(new PotentialBillingYearItem\n                {\n                    Total = GeneratePotentialBillingMonths(new PotentialBillingParameters { Year = yearDate.Year }).Average(s =&gt; s.Total),\n                    Date = yearDate\n                });\n            //}));\n        }\n\n        //Task.WaitAll(tasks.ToArray(), TimeSpan.FromMinutes(20));\n\n        return years;\n    }\n\n    public List&lt;PotentialBillingItem&gt; GeneratePotentialBillingMonths(PotentialBillingParameters Parameters)\n    {\n        var items = new List&lt;PotentialBillingItem&gt;();\n        var tasks = new List&lt;Task&gt;();\n        var year = new DateTime(Parameters.Year, 1, 1);\n        var range = new DateRange(year, year.LastDayOfYear());\n\n        range.Start = range.Start == range.End ? DateTime.Now.FirstDayOfYear() : range.Start.FirstDayOfMonth();\n\n        if (range.End &gt; DateTime.Today) range.End = DateTime.Today.LastDayOfMonth();\n\n        for (var i = range.Start; i &lt;= range.End; i = i.AddMonths(1))\n        {\n            var firstDayOfMonth = i;\n            var lastDayOfMonth = i.LastDayOfMonth();\n            var monthRange = new DateRange(firstDayOfMonth, lastDayOfMonth);\n            tasks.Add(Task.Run(() =&gt;\n            {\n                using (var db = new AlbionConnection())\n                {\n\n                    var invoices = GetInvoices(lastDayOfMonth);\n\n                    var timeslipSets = GetTimeslipSets();\n\n                    var item = new PotentialBillingItem\n                    {\n                        Date = firstDayOfMonth,\n                        PostedInvoices = CalculateInvoiceTotals(invoices.Where(w =&gt; w.post_date &lt;= lastDayOfMonth), monthRange),\n                        UnpostedInvoices = CalculateInvoiceTotals(invoices.Where(w =&gt; w.post_date == null || w.post_date &gt; lastDayOfMonth), monthRange),\n                        OutstandingDrafts = CalculateOutstandingDraftTotals(timeslipSets)\n                    };\n\n                    items.Add(item);\n                }\n            }));\n        }\n\n        Task.WaitAll(tasks.ToArray(), TimeSpan.FromMinutes(5));\n\n        return items;\n    }\n</code></pre>\n"}, {"tags": ["c#", "xml"], "answers": [{"comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461783617, "post_id": 36898548, "comment_id": 61361383, "body": "Sweet Thanks :) This fixed my issue however all the data are on the same line. Could you help me with that?"}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461784472, "post_id": 36898548, "comment_id": 61361913, "body": "Well I edited my comment for that :D I figured it out that I needed to <code>close()</code> but I will use your <code>using</code> =) Thanks again. And do you know why all the data are on one line within the file?"}, {"owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461784842, "post_id": 36898548, "comment_id": 61362149, "body": "Have a look again ;)"}], "tags": [], "owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "is_accepted": true, "score": 3, "last_activity_date": 1461785597, "last_edit_date": 1461785597, "creation_date": 1461783311, "answer_id": 36898548, "question_id": 36898460, "link": "https://stackoverflow.com/questions/36898460/xml-writer-invalidoperationexception/36898548#36898548", "title": "Xml Writer: InvalidOperationException", "body": "<p>You're trying to write an <em>attribute</em> but you haven't written an <em>element</em> yet.\nSo what you basically need to do is: create an element prior to writing an attribute:</p>\n\n<pre><code>writer.WriteStartElement(\"book\");\nwriter.WriteAttributeString(\"ID\", this.Id.ToString()); // ID becomes an attribute of \"book\"\n</code></pre>\n\n<p>What the documentation says is that the writer will be closed, when an <code>InvalidOperationException</code> is raised. By default it's open. </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Have another look at the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmlwriter.close(v=vs.110).aspx\" rel=\"nofollow\">docs</a> :-)</p>\n\n<blockquote>\n  <p>When you use the XmlWriter methods to output XML, the elements and\n  attributes will not be written <strong>until you call the Close method</strong>. For\n  example, if you are using the XmlWriter to populate an XmlDocument,\n  until you close the XmlWriter, you will not be able to observe the\n  written elements and attributes in the target document.</p>\n</blockquote>\n\n<p>So if you want the contents to be written to file, you'll have to flush or close the writer. You can do this via an explicit invocation (<code>writer.Close()</code>) or - maybe a bit nicer - with an <code>using</code>-statement, which disposes and closes the writer for you:</p>\n\n<pre><code>using(var writer = XmlWriter.Create(path + \"\\\\\" + this.Name))\n{\n    writer.WriteStartDocument();\n    writer.WriteStartElement(\"book\");\n    writer.WriteAttributeString(\"ID\", this.Id.ToString());\n    // even more elements etc.\n\n} // .Close() is called implicitly for you\n</code></pre>\n\n<p><strong>Edit2:</strong></p>\n\n<p>The resulting XML is written into a single line, because writing whitespace would just <em>waste</em> resources. XML can be written into a single line validly.\nBut if you want the XML to be indented nicely and be human-readable, you'll have to specify that via <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmlwritersettings(v=vs.110).aspx\" rel=\"nofollow\"><code>XmlWriterSettings</code></a>:</p>\n\n<pre><code>XmlWriterSettings settings = new XmlWriterSettings();\nsettings.Indent = true;\n\nusing(var writer = XmlWriter.Create(path + \"\\\\\" + this.Name, settings))\n{\n    // other code...\n</code></pre>\n"}], "owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 36898548, "answer_count": 1, "score": 1, "last_activity_date": 1461785597, "creation_date": 1461783083, "question_id": 36898460, "link": "https://stackoverflow.com/questions/36898460/xml-writer-invalidoperationexception", "title": "Xml Writer: InvalidOperationException", "body": "<p>I have the exact same routine to write data to a Xml file without any problems. Here I am trying to write a class instance data and on the first line I get this error:</p>\n\n<blockquote>\n  <p>Exception thrown: 'System.InvalidOperationException' in System.Xml.dll</p>\n</blockquote>\n\n<p>In the <a href=\"https://msdn.microsoft.com/en-us/library/t8t5yhhk(v=vs.110).aspx\" rel=\"nofollow\"><strong>Documentation</strong></a> it says that the <code>writer</code> is closed. How can I \"open\" it?</p>\n\n<pre><code>// stuff\nXmlWriter writer = XmlWriter.Create(path + \"\\\\\" + this.Name);\nwriter.WriteStartDocument();\n\nwriter.WriteAttributeString(\"ID\", this.Id.ToString()); // error pops here\nwriter.WriteAttributeString(\"Description\", this.Description);\n// other stuff\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "google-maps", "html2canvas"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2109417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/840f617382be88f330d4b8df76b0bb0a?s=128&d=identicon&r=PG", "display_name": "Michael Courter", "link": "https://stackoverflow.com/users/2109417/michael-courter"}, "edited": false, "score": 0, "creation_date": 1461842572, "post_id": 36910222, "comment_id": 61388357, "body": "and...? i have markers displaying on the screen.  they are loaded from a database and filtered with criterion.  do they need to be recreated at print time?  if so i need to know how to do this?"}, {"owner": {"reputation": 12076, "user_id": 5832311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6jqn.jpg?s=128&g=1", "display_name": "abielita", "link": "https://stackoverflow.com/users/5832311/abielita"}, "reply_to_user": {"reputation": 1, "user_id": 2109417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/840f617382be88f330d4b8df76b0bb0a?s=128&d=identicon&r=PG", "display_name": "Michael Courter", "link": "https://stackoverflow.com/users/2109417/michael-courter"}, "edited": false, "score": 0, "creation_date": 1461895138, "post_id": 36910222, "comment_id": 61417200, "body": "I&#39;ve added sample code. You can check this <a href=\"http://deepak-sharma.net/2013/06/17/adding-markers-to-google-maps-from-database-using-asp-net/\" rel=\"nofollow noreferrer\">tutorial</a>."}, {"owner": {"reputation": 1, "user_id": 2109417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/840f617382be88f330d4b8df76b0bb0a?s=128&d=identicon&r=PG", "display_name": "Michael Courter", "link": "https://stackoverflow.com/users/2109417/michael-courter"}, "edited": false, "score": 0, "creation_date": 1462191146, "post_id": 36910222, "comment_id": 61519161, "body": "as i stated -  i am already displaying markers on the page with no problem.  i need to print the map with the markers."}], "tags": [], "owner": {"reputation": 12076, "user_id": 5832311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6jqn.jpg?s=128&g=1", "display_name": "abielita", "link": "https://stackoverflow.com/users/5832311/abielita"}, "is_accepted": false, "score": 0, "last_activity_date": 1461895100, "last_edit_date": 1461895100, "creation_date": 1461834858, "answer_id": 36910222, "question_id": 36898306, "link": "https://stackoverflow.com/questions/36898306/asp-net-c-print-google-map-with-markers/36910222#36910222", "title": "asp.net c# print google map with markers", "body": "<p>According to this <a href=\"http://www.codeproject.com/Articles/291499/Google-Maps-API-V-for-ASP-NET\" rel=\"nofollow\">tutorial</a>, you should have <code>Marker</code> class that provides you with an option to display a marker to the user for a given location. This example shows you how to create a simple marker.</p>\n\n<pre><code>var marker = new google.maps.Marker\n(\n    {\n        position: new google.maps.LatLng(-34.397, 150.644),\n        map: map,\n        title: 'Click me'\n    }\n);\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>[code language=\u201dcsharp\u201d]\nprotected void Page_Load(object sender, EventArgs e)\n{\nstring markers=GetMarkers();\nLiteral1.Text = @\"\n&lt;script type=\u2019text/javascript\u2019&gt;\nfunction initialize() {\n\nvar mapOptions = {\ncenter: new google.maps.LatLng(28.3213, 77.5435),\nzoom: 2,\nmapTypeId: google.maps.MapTypeId.ROADMAP\n};\n\nvar myMap = new google.maps.Map(document.getElementById(\u2018mapArea\u2019),\nmapOptions);\"\n+markers+\n@\"}\n&lt;/script&gt;\";\n}\n\nprotected string GetMarkers()\n{\nstring markers = \"\";\nusing (SqlConnection con = new\nSqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings[\"ConString\"].ConnectionString))\n{\nSqlCommand cmd = new SqlCommand(\"SELECT Latitude, Longitude, City FROM Locations\", con);\ncon.Open();\nSqlDataReader reader = cmd.ExecuteReader();\nint i = 0;\n\nwhile (reader.Read())\n{\ni++;\nmarkers +=\n@\"var marker\"+i.ToString()+@\" = new google.maps.Marker({\nposition: new google.maps.LatLng(\"+reader[\"Latitude\"].ToString() + \", \" +\nreader[\"Longitude\"].ToString() +\"),\"+\n@\"map: myMap,\ntitle:\u2019\" + reader[\"City\"].ToString() + \"\u2019});\";\n}\n}\nreturn markers;\n}\n[/code]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2109417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/840f617382be88f330d4b8df76b0bb0a?s=128&d=identicon&r=PG", "display_name": "Michael Courter", "link": "https://stackoverflow.com/users/2109417/michael-courter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1094, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461895100, "creation_date": 1461782585, "last_edit_date": 1461784326, "question_id": 36898306, "link": "https://stackoverflow.com/questions/36898306/asp-net-c-print-google-map-with-markers", "title": "asp.net c# print google map with markers", "body": "<p>Here's the code I am using that is not working. Gets the map, but no markers even though they display on the screen properly:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function ConvertToImage2(btnExport) {\n        html2canvas($('#dvReport').get(0), {\n            logging: true, //Enable log (use Web Console for get Errors and Warings)\n            useCORS: true,\n            onrendered: function (canvas) {\n                var base64 = canvas.toDataURL();\n                $(\"[id*=hfImageData]\").val(base64);\n                __doPostBack(btnExport.name, \"\");\n            }\n        });\n        return false;\n    }\n&lt;/script&gt;\n\n&lt;div class=\"row\"&gt;\n    &lt;div id=\"dvReport\" class=\"col-md-6 col-xs-12\" style=\"background-color: white\"&gt;\n        &lt;div class=\"col-md-6 col-xs-12\" style=\"text-align: center; clear: left\"&gt;\n            &lt;asp:Label ID=\"label4\" runat=\"server\" Text=\"VATS TRACKING REPORT\" BackColor=\"White\"&gt;&lt;/asp:Label&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;asp:Label ID=\"label1\" runat=\"server\" Text=\"Date:\" BackColor=\"White\" Font-Size=\"Small\"&gt;&lt;/asp:Label&gt;&lt;br /&gt;\n            &lt;asp:Label ID=\"label2\" runat=\"server\" Text=\"User:\" BackColor=\"White\" Font-Size=\"Small\"&gt;&lt;/asp:Label&gt;&lt;br /&gt;\n            &lt;asp:Label ID=\"label3\" runat=\"server\" Text=\"Violation Code:\" BackColor=\"White\" Font-Size=\"Small\"&gt;&lt;/asp:Label&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-6 col-xs-12\"&gt;\n            &lt;cc2:GMap ID=\"GMap1\" runat=\"server\" Width=\"900px\" Height=\"480px\" enableServerEvents=\"true\" OnServerEvent=\"GMap1_ServerEvent\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "loops", "methods", "overloading"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 2, "creation_date": 1461782692, "post_id": 36898257, "comment_id": 61360795, "body": "You shouldn&#39;t have two main methods.  You should make them their own void methods and call them both from a single main."}, {"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "edited": false, "score": 0, "creation_date": 1461782790, "post_id": 36898257, "comment_id": 61360863, "body": "After comparing your problem statement to your code.... I think you have too many problems for this to be a good SO question.  Start by looking at the Main() flow and the methods that the question indicates you should create."}, {"owner": {"reputation": 449, "user_id": 5585956, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/5pwKs.png?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/5585956/sean"}, "edited": false, "score": 0, "creation_date": 1461782845, "post_id": 36898257, "comment_id": 61360894, "body": "I would suggest learning how to set and use Breakpoints. This will help you debug on your own for school, especially when a professor is not there to help."}, {"owner": {"reputation": 649, "user_id": 2596001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43dfaf512c3ef664cd62fffd86ac696d?s=128&d=identicon&r=PG", "display_name": "AntiTcb", "link": "https://stackoverflow.com/users/2596001/antitcb"}, "edited": false, "score": 0, "creation_date": 1461782852, "post_id": 36898257, "comment_id": 61360898, "body": "Static methods cannot be overriden, and <code>Main()</code> definitely shouldn&#39;t have two implementations."}, {"owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "edited": false, "score": 1, "creation_date": 1461782878, "post_id": 36898257, "comment_id": 61360911, "body": "I really suggest you start reading the book from the very beginning again. It&#39;s not hard, and you will spot the problems by yourself very soon."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461783185, "post_id": 36898257, "comment_id": 61361116, "body": "also start googling how to use the debugger.. also why do you have to Mains..?"}, {"owner": {"reputation": 25, "user_id": 6064678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153310433232385/picture?type=large", "display_name": "Paul David Swanson", "link": "https://stackoverflow.com/users/6064678/paul-david-swanson"}, "edited": false, "score": 0, "creation_date": 1461814571, "post_id": 36898257, "comment_id": 61373251, "body": "Cheers Ethan, hadnt thought of that.."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6064678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153310433232385/picture?type=large", "display_name": "Paul David Swanson", "link": "https://stackoverflow.com/users/6064678/paul-david-swanson"}, "edited": false, "score": 0, "creation_date": 1462151360, "post_id": 36898498, "comment_id": 61503063, "body": "could you show me where and what i would need to add for displaying the 20 random numbers? just to check the math and see if its running right?"}], "tags": [], "owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "is_accepted": false, "score": 2, "last_activity_date": 1461783872, "last_edit_date": 1461783872, "creation_date": 1461783181, "answer_id": 36898498, "question_id": 36898257, "link": "https://stackoverflow.com/questions/36898257/c-method-overload-with-other-methods/36898498#36898498", "title": "c# method overload, with other methods", "body": "<p>You have very explicit instructions that you didn't seem to follow. I'm ignoring most of the body of your question and will instead attempt to get you started on your title question by showing you the signature for the <code>Calculate()</code> method and an overload for the <code>Calculate()</code> method.</p>\n\n<p>Calculate method: \"a void calculate method which will take an integer random value variable, a by ref average variable, a literal value of 20 as arguments\" (note: I don't know what your teacher means by \"a literal value of 20\" as an argument, so I used a default value)</p>\n\n<pre><code>void Calculate(int randomInteger, ref double average, int literal = 20)\n{\n\n}\n</code></pre>\n\n<p>Overloaded Calculate method:\n\"an overload of the calculate method and pass the entered value and a byref total variable\"</p>\n\n<pre><code>void Calculate(double enteredValue, ref double total)\n{\n\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6064678, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153310433232385/picture?type=large", "display_name": "Paul David Swanson", "link": "https://stackoverflow.com/users/6064678/paul-david-swanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1461814799, "creation_date": 1461782427, "last_edit_date": 1461814799, "question_id": 36898257, "link": "https://stackoverflow.com/questions/36898257/c-method-overload-with-other-methods", "title": "c# method overload, with other methods", "body": "<p>I need help getting both to run, but individually they run when i do them on their own. The first loop generates (but hides) 20 random numbers and the second adds and displays the value with the sum but i am not sure how to combine.</p>\n\n<p>assignment:</p>\n\n<p>You will have Main in which you will declare 4 variables, a loop that will call a method that will return a random number, a call to a void calculate method which will take an integer random value variable, a by ref average variable, a literal value of 20 as arguments and which will calculate an average, followed by a console writeline to display the average.  This will be followed by a loop that will execute 5 times and will prompt for and assign a double value to a double variable and then call an overload of the calculate method and pass the entered value and a byref total variable.  In the overloaded calculate method you will accumulate the passed value into the total variable.  After the loop you will display the total.</p>\n\n<p>The output might look similar to this:</p>\n\n<p>The average of the 20 random numbers is 71</p>\n\n<p>Enter a double value 10.0</p>\n\n<p>Enter a double value 20.0</p>\n\n<p>Enter a double value 30.0</p>\n\n<p>Enter a double value 40.0</p>\n\n<p>Enter a double value 50.1</p>\n\n<p>The total is 150.1</p>\n\n<p>Press any key to continue . </p>\n\n<pre><code>using System;\n\n\nnamespace week7\n{\nclass Program\n{\nstatic void Main(string[] args)\n{\n\nint randomNumber;//hold random\ndouble average = 0;//hold average\ndouble total = 0;//hold total\ndouble manualEntry = 0; //input entry \n\nfor(int i = 0; i &lt; 20; i++)//20 times\n{\nrandomNumber = getRandom();//by reference\n\ntotal = total + randomNumber;//by reference\n}\n\ncalculate(total, ref average, 20);\n\n\n\nConsole.WriteLine(\"The average of the 20 random numbers is {0}\", average);\n\ntotal = 0;\nConsole.WriteLine();//adds space\n\nfor (int i = 0; i &lt; 5; i++)\n{ \nConsole.Write(\"Enter a double value \");\nmanualEntry = Convert.ToDouble(Console.ReadLine());\ncalculate(manualEntry, ref total);\n\n\n\n}\nConsole.WriteLine(\"The total is {0}\",total);\n\n}\n\nstatic int getRandom()\n{\nRandom randomGenerator = new Random();\nreturn randomGenerator.Next(1,101);\n}\n\n//pass the total of the random values, the average variable by reference, and the literal value of 20.\n\n\n// the entry taken from the console and the variable to hold the total by    reference. \nprivate static void calculate(double consoleInput, ref double total)\n{\ntotal += consoleInput;\n}\n//pass the total of the random values, the average variable by reference, and   the literal value of 20.\nprivate static void calculate(double total, ref double average, double          denominator)\n{\naverage = total / denominator;\n}\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "lambda", "linq-to-xml"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 1, "creation_date": 1461782293, "post_id": 36898195, "comment_id": 61360545, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34941152/how-to-get-all-child-elements-in-the-parent-element-of-xml-in-c-sharp\">How to get all child elements in the parent element of xml in c#</a>"}, {"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1461785014, "post_id": 36898195, "comment_id": 61362272, "body": "Thank you. I checked this out as well and I could proceed with the direction. See the code update, but I am trying to actually test if there is no <code>target</code> element in the previous <code>trans-unit</code> and at the same time return the <code>id</code> attribute of the last child of the <code>source</code> element. So the question is more complex than just to return all elements. That is done already."}], "answers": [{"comments": [{"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "edited": false, "score": 0, "creation_date": 1461793687, "post_id": 36901256, "comment_id": 61367142, "body": "Wow. Thank you. Just as I posted my code. I voted up your answer, naturally. I was not clear but there are many such <code>trans-units</code> in the xliff. I locate a specific one based on the <code>&lt;mrk mtype=&quot;seg&quot; mid=&quot;6&quot;&gt;</code> element and then I need to get the the previous node&#39;s child if there is no target. (I edited the question to make it clear though.)"}, {"owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "edited": false, "score": 0, "creation_date": 1461794196, "post_id": 36901256, "comment_id": 61367351, "body": "Meaning I have a starting point, from where I have to navigate up relatively to parent to parent to previous node."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 1, "last_activity_date": 1461792531, "creation_date": 1461792531, "answer_id": 36901256, "question_id": 36898195, "link": "https://stackoverflow.com/questions/36898195/c-getting-a-specific-attribute-of-a-child-of-a-previous-node-in-xml-while-testi/36901256#36901256", "title": "C# getting a specific attribute of a child of a Previous node in XML while testing the node for a missing element", "body": "<p>This works</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XDocument doc = XDocument.Load(FILENAME);\n            XElement xliff = (XElement)doc.FirstNode;\n            XNamespace ns = xliff.Name.Namespace;\n            var testid = xliff.Descendants(ns + \"trans-unit\")\n                .Where(x =&gt; x.Element(ns + \"target\") == null)\n                .Descendants(ns + \"x\")\n                .Select(y =&gt; y.Attribute(\"id\").Value)\n                .Last();\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "is_accepted": true, "score": 0, "last_activity_date": 1461793435, "creation_date": 1461793435, "answer_id": 36901459, "question_id": 36898195, "link": "https://stackoverflow.com/questions/36898195/c-getting-a-specific-attribute-of-a-child-of-a-previous-node-in-xml-while-testi/36901459#36901459", "title": "C# getting a specific attribute of a child of a Previous node in XML while testing the node for a missing element", "body": "<p>I finally came up with the following code that does exactly what I want, but I think there should be a smoother way of doing this with LINQ:</p>\n\n<pre><code>XElement testid = xliff.Descendants()\n                       .Elements(xmlns + \"trans-unit\")\n                       .Elements(xmlns + \"seg-source\")\n                       .Elements(xmlns + \"mrk\")\n                       .Where(e =&gt; e.Attribute(\"mtype\").Value == \"seg\" &amp;&amp; e.Attribute(\"mid\").Value == SegId).FirstOrDefault();\n\nif (testid.Parent.Parent.PreviousNode.ToString().IndexOf(\"&lt;target&gt;\") &gt; 0)\n{\n    return null;\n}\nelse\n{\n    var strid = xliff.Descendants()\n                     .Select(e =&gt; testid.Parent.Parent.PreviousNode as XElement)\n                     .Elements(xmlns + \"source\")\n                     .Elements(xmlns + \"x\")\n                     .LastOrDefault()\n                     .Attribute(\"id\")\n                     .Value.ToString();\n     return strid;\n }\n</code></pre>\n"}], "owner": {"reputation": 2298, "user_id": 6201755, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/001427804e7d9b7787a96ffbdc7c1fd8?s=128&d=identicon&r=PG&f=1", "display_name": "ib11", "link": "https://stackoverflow.com/users/6201755/ib11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 36901459, "answer_count": 2, "score": 0, "last_activity_date": 1461793764, "creation_date": 1461782179, "last_edit_date": 1461793764, "question_id": 36898195, "link": "https://stackoverflow.com/questions/36898195/c-getting-a-specific-attribute-of-a-child-of-a-previous-node-in-xml-while-testi", "title": "C# getting a specific attribute of a child of a Previous node in XML while testing the node for a missing element", "body": "<p>I have a <code>xliff</code> and I am trying to get the value of the <code>id</code> attribute of the last <code>x</code> element of <code>source</code> in the previous <code>trans-unit</code> so long as it does not have a <code>target</code> child.</p>\n\n<p>So very specifically, I don't just need to return all elements, but get the parent node, test if the previous has a <code>target</code> element and if so return <code>null</code>, but if it does not have then return the value of the <code>id</code> attribute of the last child <code>x</code> of the <code>source</code> element.</p>\n\n<p><strong>Update:</strong> There are many <code>trans-units</code> in the xliff, the below is just a snippet. I locate a specific one based on the <code>&lt;mrk mtype=\"seg\" mid=\"6\"&gt;</code> element (using its <code>mid</code> attribute) and then I need to get the the previous node's child if there is no target.</p>\n\n<p>Here is the snippet of the XML so you see what I am trying to get:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xliff xmlns:sdl=\"http://sdl.com/FileTypes/SdlXliff/1.0\" version=\"1.2\" sdl:version=\"1.0\" xmlns=\"urn:oasis:names:tc:xliff:document:1.2\"&gt;\n&lt;!-- xliff goes on here --&gt;\n  &lt;trans-unit id=\"495bbe35-ad63-4d37-91e0-8261c2e4052e\" translate=\"no\"&gt;\n    &lt;source&gt;\n      &lt;x id=\"11\" /&gt;\n      &lt;x id=\"12\" /&gt;       &lt;!-- THIS IS THE ID I WANT TO GET --&gt;\n    &lt;/source&gt;\n  &lt;/trans-unit&gt;\n  &lt;trans-unit id=\"5bccf5f4-56c9-4969-8416-f3114eb36e86\"&gt;\n    &lt;source&gt;\n      &lt;x id=\"13\" /&gt;SOME TEXT\n    &lt;/source&gt;\n    &lt;seg-source&gt;\n      &lt;mrk mtype=\"seg\" mid=\"6\"&gt;     &lt;!-- THIS IS THE MID I WANT TO START FROM --&gt;\n        &lt;x id=\"13\" /&gt;SOME TEXT\n      &lt;/mrk&gt;\n    &lt;/seg-source&gt;\n    &lt;target&gt;\n      &lt;mrk mtype=\"seg\" mid=\"6\"&gt;\n        &lt;x id=\"13\" /&gt;SOME TRANSLATION\n      &lt;/mrk&gt;\n    &lt;/target&gt;\n    &lt;sdl:seg-defs&gt;\n      &lt;sdl:seg id=\"6\" conf=\"ApprovedTranslation\" origin=\"interactive\" /&gt;\n    &lt;/sdl:seg-defs&gt;\n  &lt;/trans-unit&gt;\n</code></pre>\n\n<p>So in this case I want <code>\"12\"</code> returned. If there is a target, I should get <code>null</code>.</p>\n\n<p>I managed to return the entire node with the following line of code, but I don't seem to be able to get to the children:</p>\n\n<pre><code>xliff = XDocument.Load(Path.GetFullPath(FilePath));\nXNamespace xmlns = \"urn:oasis:names:tc:xliff:document:1.2\";\nXNamespace ns = \"http://sdl.com/FileTypes/SdlXliff/1.0\";\nstring testid = xliff.Descendants()\n                     .Elements(xmlns + \"trans-unit\")\n                     .Elements(xmlns + \"seg-source\")\n                     .Elements(xmlns + \"mrk\")\n                     .Where(e =&gt; e.Attribute(\"mtype\").Value == \"seg\" &amp;&amp; e.Attribute(\"mid\").Value == SegId)\n                     .FirstOrDefault().Parent.Parent.PreviousNode.ToString();\n</code></pre>\n\n<p>This returns the previous node alright, but then further progressed with the code, I have this, but this throws an exception:</p>\n\n<pre><code>string testid = xliff.Descendants()\n                     .Elements(xmlns + \"trans-unit\")\n                     .Elements(xmlns + \"seg-source\")\n                     .Elements(xmlns + \"mrk\")\n                    .Where(e =&gt; e.Attribute(\"mtype\").Value == \"seg\" &amp;&amp; e.Attribute(\"mid\").Value == SegId)\n                    .Select(n =&gt; n.Parent.Parent.PreviousNode as XElement)\n                    .Where(c =&gt; c.Elements(xmlns + \"target\") == null &amp;&amp; c.Elements(xmlns + \"source\").Elements(xmlns + \"x\").Last().Value != null)\n                    .FirstOrDefault().Attribute(\"id\").Value;\n</code></pre>\n\n<p>Can somebody help please?</p>\n"}, {"tags": ["c#", "nuget"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 5099801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7aac58f3e94764d795334a290fb89fc?s=128&d=identicon&r=PG&f=1", "display_name": "yanckst", "link": "https://stackoverflow.com/users/5099801/yanckst"}, "is_accepted": true, "score": 1, "last_activity_date": 1501428167, "creation_date": 1501428167, "answer_id": 45401427, "question_id": 36898032, "link": "https://stackoverflow.com/questions/36898032/how-can-i-list-all-local-packages-in-the-nuget-v3-api/45401427#45401427", "title": "How can I list all local packages in the NuGet v3 API", "body": "<h2>Introduction</h2>\n\n<p>I have the same question and I looked your post on <a href=\"https://github.com/NuGet/Home/issues/2664\" rel=\"nofollow noreferrer\">GitHub</a>, Google and here. I try a lot of things to find the local packages.\nI found some solutions, but I don't know if it's the best way to do it.\nI posted a <a href=\"https://stackoverflow.com/questions/45401314/how-can-i-have-assemblies-dll-for-local-packages-in-the-nuget-v3-api\">question</a> about local packages too, because I can list all local packages, but I can't have the <code>AssemblyReferences</code> property (dll).</p>\n\n<h2>Code example</h2>\n\n<pre><code>var rootPath = @\"pathWhereNuGetPackagesAre\";\nvar logger = new Logger();\n\nList&lt;Lazy&lt;INuGetResourceProvider&gt;&gt; providers = new List&lt;Lazy&lt;INuGetResourceProvider&gt;&gt;();\nproviders.AddRange(Repository.Provider.GetCoreV3());\n\nFindLocalPackagesResourceV2 findLocalPackagev2 = new FindLocalPackagesResourceV2(rootPath);\nvar packageFound = findLocalPackagev2.GetPackages(logger, CancellationToken.None).FirstOrDefault();\n//found, but missing a lot of informations...\n\nvar supportedFramework = new[] { \".NETFramework,Version=v4.6\" };\nvar searchFilter = new SearchFilter(true)\n{\n    SupportedFrameworks = supportedFramework,\n    IncludeDelisted = false\n};\n\n// The trick here is to put the local nuget path, not using the URL : https://api.nuget.org/v3/index.json\nPackageSource localSource = new PackageSource(rootPath);\nSourceRepository localRepository = new SourceRepository(localSource, providers);\nPackageSearchResource searchLocalResource = await localRepository\n    .GetResourceAsync&lt;PackageSearchResource&gt;();\n\nvar packageFound3 = await searchLocalResource\n    .SearchAsync(\"Newtonsoft.Json\", searchFilter, 0, 10, logger, CancellationToken.None);\nvar thePackage = packageFound3.FirstOrDefault();\n// found but missing the assemblies property\n\npublic class Logger : ILogger\n{\n    private List&lt;string&gt; logs = new List&lt;string&gt;();\n\n    public void LogDebug(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogVerbose(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogInformation(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogMinimal(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogWarning(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogError(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogInformationSummary(string data)\n    {\n        logs.Add(data);\n    }\n\n    public void LogErrorSummary(string data)\n    {\n        logs.Add(data);\n    }\n}\n</code></pre>\n\n<p>Hope this will help!</p>\n"}, {"comments": [{"owner": {"reputation": 715, "user_id": 98544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9589c9296900c024e432cc8c05d1aaa?s=128&d=identicon&r=PG", "display_name": "gliljas", "link": "https://stackoverflow.com/users/98544/gliljas"}, "edited": false, "score": 2, "creation_date": 1550582536, "post_id": 45897016, "comment_id": 96314659, "body": "The question was how to use the NuGet libraries to accomplish this."}], "tags": [], "owner": {"reputation": 2853, "user_id": 2433619, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/af8b4dee3cee979448b487787c60c4f0?s=128&d=identicon&r=PG&f=1", "display_name": "wasabi", "link": "https://stackoverflow.com/users/2433619/wasabi"}, "is_accepted": false, "score": -2, "last_activity_date": 1503761551, "creation_date": 1503761551, "answer_id": 45897016, "question_id": 36898032, "link": "https://stackoverflow.com/questions/36898032/how-can-i-list-all-local-packages-in-the-nuget-v3-api/45897016#45897016", "title": "How can I list all local packages in the NuGet v3 API", "body": "<p>In Visual Studio, Open package manager console. </p>\n\n<p><a href=\"https://i.stack.imgur.com/fFSVu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFSVu.png\" alt=\"enter image description here\"></a></p>\n\n<p>List local (installed) packages use following command. </p>\n\n<pre><code>Get-Package\n</code></pre>\n\n<p>You can list all available packages on feed with following command</p>\n\n<pre><code>Get-Package -ListAvailable\n</code></pre>\n\n<p>If this commands are not working, check \"Packege Manager Settings\"->\"Package Source\" and confirm nuget feed configured correctly. (If you dont see your feed URL, You should add your feed there.) for details: <a href=\"https://www.visualstudio.com/en-us/docs/package/nuget/consume\" rel=\"nofollow noreferrer\">Consume nuget package from VS</a></p>\n\n<p>You can also check nuget feed configuration from this file\nC:\\Users{{user}}\\AppData\\Roaming\\NuGet\\NuGet.config\nfor more details about nuget config file: <a href=\"https://docs.microsoft.com/en-us/nuget/schema/nuget-config-file\" rel=\"nofollow noreferrer\">nuget config file</a></p>\n\n<p>Also, Local nuget packages should ve stored at this path \nC:\\Users{{user}}.nuget\\packages</p>\n"}], "owner": {"reputation": 3435, "user_id": 807064, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef52b1532b7b3f7ac57c9d01201d8f15?s=128&d=identicon&r=PG", "display_name": "daveaglick", "link": "https://stackoverflow.com/users/807064/daveaglick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 2, "accepted_answer_id": 45401427, "answer_count": 2, "score": 5, "last_activity_date": 1503761551, "creation_date": 1461781700, "question_id": 36898032, "link": "https://stackoverflow.com/questions/36898032/how-can-i-list-all-local-packages-in-the-nuget-v3-api", "title": "How can I list all local packages in the NuGet v3 API", "body": "<p>For context, I'm building an application that needs to download/unpack packages and their dependencies from arbitrary package sources (including the public gallery by default) and upgrade those packages to the latest version when requested. There are no project.json files or similar, it's all code driven. It's not a particularly complicated use case and didn't require too much code in the v2 APIs.</p>\n\n<p>In v3 however, I can't figure out how to correctly interact with the local package store. For example, the <code>FolderNuGetProject</code> class that I would have thought lists all the packages on disk at a given location in <code>FolderNuGetProject.GetInstalledPackagesAsync()</code> <a href=\"https://github.com/NuGet/NuGet.Client/blob/d74b04c1bdd3a6bb14b0ba6edd319e9c839c6eae/src/NuGet.Core/NuGet.ProjectManagement/Projects/FolderNuGetProject.cs#L50\" rel=\"noreferrer\">just returns an empty enumerable</a>. To make matters more confusing, <code>FolderNuGetProject.PackageExists()</code> actually does return whether the package exists on disk, which means <code>GetInstalledPackagesAsync()</code> and <code>PackageExists()</code> appear to be inconsistent.</p>\n\n<p>None of the other <code>NuGetProject</code> derivatives appear related to the file system. Is there some other way of listing the packages that have been installed into a particular folder? If I need to create my own <code>NuGetProject</code> (and I'm hoping I don't), are there any methods that will help with parsing NuGet-generated folder names into package IDs and versions, or is the only reliable way of getting the ID and version to open the nuspec (and are there any easy to find methods for that)?</p>\n\n<p>One interpretation of why this isn't working as I expect is that NuGetProject.GetInstalledPackagesAsync() isn't actually intended to get the installed packages (I.e., those that have been downloaded and unpacked), but rather those that have been declared in whatever project system is in use. For example, the <code>BuildIntegratedNuGetProject</code> class appears to return package references for the packages in the project.json, regardless of their status on disk. That would also explain why <code>FolderNuGetProject</code> just returns an empty enumerable, because there are no \"declared\" packages if you're just looking at the local repository.</p>\n\n<p>TL;DR: What is the best way to crawl the local package store and get the packages and versions that are present there?</p>\n\n<p>(this was also <a href=\"https://github.com/NuGet/Home/issues/2664\" rel=\"noreferrer\">issue #2664</a> on the NuGet GitHub project, but was moved here by request)</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1461781491, "post_id": 36897934, "comment_id": 61360012, "body": "Create a new class with the same structure but new namespace and copy over?"}, {"owner": {"reputation": 3009, "user_id": 236993, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4498a01135ab1d87e7a5ae20db9fa9f0?s=128&d=identicon&r=PG", "display_name": "Frenchi In LA", "link": "https://stackoverflow.com/users/236993/frenchi-in-la"}, "reply_to_user": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1461781773, "post_id": 36897934, "comment_id": 61360196, "body": "I can&#39;t the new NS are variable and I&#39;m getting from database"}], "answers": [{"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 1, "last_activity_date": 1461783029, "creation_date": 1461783029, "answer_id": 36898441, "question_id": 36897934, "link": "https://stackoverflow.com/questions/36897934/c-update-xmlns-of-xmlelemt/36898441#36898441", "title": "C# update XMLNS of XmlElemt", "body": "<p>You can use the <code>XmlAttributeOverrides</code> to override that.</p>\n\n<p>Initialize your serializer as such :</p>\n\n<pre><code>var overrides = new XmlAttributeOverrides();\noverrides.Add(typeof(Root), new XmlAttributes() { XmlRoot = new XmlRootAttribute() { Namespace = \"https://NS.new\" } });\nvar header = new XmlAttributes();\nheader.XmlElements.Add(new XmlElementAttribute() { Namespace = \"https://NS.new/head\" });\noverrides.Add(typeof(Root), \"Header\", header);\n\nvar serializer = new XmlSerializer(typeof(Root), overrides);\n</code></pre>\n\n<p>And, the following to serialize :</p>\n\n<pre><code>serializer.Serialize(wr, obj);\n</code></pre>\n"}], "owner": {"reputation": 3009, "user_id": 236993, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4498a01135ab1d87e7a5ae20db9fa9f0?s=128&d=identicon&r=PG", "display_name": "Frenchi In LA", "link": "https://stackoverflow.com/users/236993/frenchi-in-la"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36898441, "answer_count": 1, "score": 1, "last_activity_date": 1461783029, "creation_date": 1461781376, "last_edit_date": 1461781869, "question_id": 36897934, "link": "https://stackoverflow.com/questions/36897934/c-update-xmlns-of-xmlelemt", "title": "C# update XMLNS of XmlElemt", "body": "<p>I have a class like:</p>\n\n<pre><code>[XmlRoot(ElementName = \"Root\", Namespace = \"https://NS.com\")]\npublic class Root\n{\n        [XmlElement(Namespace = \"https://NS2.com\")]\n        public Header header { set; get; }\n        public Body{ set; get; }\n}\n</code></pre>\n\n<p>I serialize the <code>obj</code> to XML:</p>\n\n<pre><code>using (MemoryStream ms = new MemoryStream())\n{\n    using (XmlWriter wr = XmlWriter.Create(ms))\n    {\n        serializer.Serialize(wr, obj, ns);\n    }\n\n    ms.Position = 0;\n    XmlDocument doc.Load(ms);\n\n    ms.Close();\n}\n</code></pre>\n\n<p>I couldn't find any way to change the nameSpace of Root and Header to newNS, and newHeadNS. Is there a way to change namespace in the doc? Any help would be greatly appreciated</p>\n"}]