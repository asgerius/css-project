[{"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1541030055, "post_id": 53093434, "comment_id": 93083647, "body": "have you tried it with plaintext instead of the checkmark?"}, {"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1541030323, "post_id": 53093434, "comment_id": 93083713, "body": "Yes it is still  not working"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1541030496, "post_id": 53093434, "comment_id": 93083753, "body": "is this class inheriting from a Page type?"}, {"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1541030639, "post_id": 53093434, "comment_id": 93083785, "body": "yes : public partial class TestWordsPage : ContentPage"}, {"owner": {"reputation": 582, "user_id": 4251242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fq1g8.png?s=128&g=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u0427\u043e\u0440\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/4251242/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%a7%d0%be%d1%80%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 2, "creation_date": 1541038576, "post_id": 53093434, "comment_id": 93085373, "body": "@kikis I can&#39;t see where do you use your func <code>OnSelectedTestHelp</code> in your xaml. <code>ItemSelected=&quot;OnSelectedWordDescript&quot;</code> - you have another event on list item clicked?"}, {"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "edited": false, "score": 0, "creation_date": 1541075010, "post_id": 53093434, "comment_id": 93097818, "body": "it is a bad copy paste, sorry"}], "answers": [{"tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1541125785, "last_edit_date": 1541125785, "creation_date": 1541125228, "answer_id": 53111885, "question_id": 53093434, "link": "https://stackoverflow.com/questions/53093434/dlalogalert-wont-show/53111885#53111885", "title": "DlalogAlert wont show", "body": "<p>Code with the function \"OnSelectedTestHelp\" ,there's a problem there:</p>\n\n<pre><code> public void OnSelectedTestHelp(object sender, SelectedItemChangedEventArgs e)\n    {\n       DisplayAlert(\"Help ! \", \"Reminder :\", \"\u2714\");\n       Console.WriteLine(\"####\");// I can see this out put\n    }\n</code></pre>\n\n<p>Since the property you added in xaml is <code>ItemSelected=\"OnSelectedTestHelp\"</code> , you should use <code>SelectedItemChangedEventArgs</code> in function.</p>\n\n<h2>More info:</h2>\n\n<p>If you use <code>ItemTapped=\"xxx\"</code> in xaml , there will use <code>ItemTappedEventArgs</code> in function.</p>\n\n<pre><code>public event EventHandler&lt;Xamarin.Forms.SelectedItemChangedEventArgs&gt; ItemSelected;\npublic event EventHandler&lt;Xamarin.Forms.ItemTappedEventArgs&gt; ItemTapped;\n</code></pre>\n\n<p>You can refer to <a href=\"https://developer.xamarin.com/samples/xamarin-forms/UserInterface/ListView/interactivity/\" rel=\"nofollow noreferrer\">this demo</a> </p>\n"}], "owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541125785, "creation_date": 1541029929, "last_edit_date": 1541075038, "question_id": 53093434, "link": "https://stackoverflow.com/questions/53093434/dlalogalert-wont-show", "title": "DlalogAlert wont show", "body": "<p>I am a novice in xamarin,</p>\n\n<p>I am trying to display a dialog Alert when I select an item in my listview but it is not working </p>\n\n<p>here my xaml code:</p>\n\n<pre><code>   &lt;!-- Overlay WordList  --&gt;\n                        &lt;ContentView  x:Name=\"WordListView\" &gt;\n                            &lt;StackLayout  Padding=\"0,10,0,0\"&gt;\n                                    &lt;ListView x:Name=\"WordSList\"\n                                                ItemSelected=\"OnSelectedTestHelp\"\n                                                HasUnevenRows=\"True\"\n                                                IsPullToRefreshEnabled=\"true\"\n                                                Refreshing=\"OnRefresh\" &gt;\n                                        &lt;ListView.ItemTemplate&gt;\n                                            &lt;DataTemplate&gt;\n                                                &lt;ViewCell &gt;\n                                                    &lt;ViewCell.ContextActions&gt;\n                                                        &lt;MenuItem Clicked=\"OnUpdate\" Text=\"Update\"   CommandParameter=\"{Binding .}\"/&gt;\n                                                        &lt;MenuItem Clicked=\"OnComplete\" Text=\"Delete\"   CommandParameter=\"{Binding .}\"/&gt;\n                                                    &lt;/ViewCell.ContextActions&gt;\n                                                    &lt;StackLayout Padding=\"10,5,5,5\" VerticalOptions=\"StartAndExpand\" Orientation=\"Vertical\"&gt;\n                                                        &lt;Label TextColor=\"Black\" Text=\"{Binding Vocabulary}\"  FontSize=\"15\" /&gt;\n                                                        &lt;Label TextColor=\"Black\" Text=\"{Binding Reminder}\"  FontSize=\"12\" /&gt;\n                                                    &lt;/StackLayout&gt;\n                                                &lt;/ViewCell&gt;\n                                            &lt;/DataTemplate&gt;\n                                        &lt;/ListView.ItemTemplate&gt;\n                                    &lt;/ListView&gt;\n                                &lt;/StackLayout&gt;\n\n                        &lt;/ContentView&gt;\n                        &lt;!-- END Overlay WordList  --&gt;\n</code></pre>\n\n<p>Here is my code with the function \"OnSelectedTestHelp\" :</p>\n\n<pre><code> public   void OnSelectedTestHelp(object sender, ItemTappedEventArgs e)\n        {\n\n           DisplayAlert(\"Help ! \", \"Reminder :\", \"\u2714\");\n           Console.WriteLine(\"####\");// I can see this out put\n        }\n</code></pre>\n\n<p>sorry for my novice question</p>\n"}, {"tags": ["c#", "xna", "zooming", "monogame"], "answers": [{"tags": [], "owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "is_accepted": false, "score": 0, "last_activity_date": 1547932122, "creation_date": 1547932122, "answer_id": 54271408, "question_id": 53093408, "link": "https://stackoverflow.com/questions/53093408/how-to-zoom-towards-mouse-position-in-2d-in-monogame/54271408#54271408", "title": "How to zoom towards mouse position in 2D in MonoGame", "body": "<p>Apply another Translation before the Scale to center the scaling on the Mouse Point.</p>\n\n<pre><code>public Matrix Transform(Viewport viewport)\n{\n    int viewportWidth = viewport.Width;\n    int viewportHeight = viewport.Height;\n\n    return\n        Matrix.CreateTranslation(new Vector3(-Position.X - viewportWidth / 2, -Position.Y - viewportHeight / 2, 0)) * // Translation Matrix\n        Matrix.CreateRotationZ(Rotation) * // Rotation Matrix\n        Matrix.CreateTranslation(new Vector3(-mouseState.X - viewportWidth / 2, -mouseState.Y - viewportHeight / 2, 0)) * //Mouse Translation Matrix\n        Matrix.CreateScale(new Vector3(Zoom, Zoom, 1)) * // Scale Matrix\n        Matrix.CreateTranslation(new Vector3(viewportWidth / 2, viewportHeight / 2, 0)); // Origin/Offset Matrix\n}\n</code></pre>\n"}], "owner": {"reputation": 586, "user_id": 5181585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/26a7d9ae5cfd002092c385671168b535?s=128&d=identicon&r=PG&f=1", "display_name": "Johny P.", "link": "https://stackoverflow.com/users/5181585/johny-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 710, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1547932122, "creation_date": 1541029693, "last_edit_date": 1592644375, "question_id": 53093408, "link": "https://stackoverflow.com/questions/53093408/how-to-zoom-towards-mouse-position-in-2d-in-monogame", "title": "How to zoom towards mouse position in 2D in MonoGame", "body": "<p>I have the following Camera class:</p>\n<pre><code>public Vector2 Position { get; set; } = Vector2.Zero;\npublic float Rotation { get; set; } = 0.0f;\npublic float Zoom\n{\n    get\n    {\n        // Negative zoom will flip the image\n        if (_zoom &lt; 0.1f)\n        {\n            _zoom = 0.1f;\n        }\n        return _zoom;\n    }\n    set\n    {\n        _zoom = value;\n        // Negative zoom will flip the image\n        if (_zoom &lt; 0.1f)\n        {\n            _zoom = 0.1f;\n        }\n    }\n}\n\npublic Matrix Transform(Viewport viewport)\n{\n    int viewportWidth = viewport.Width;\n    int viewportHeight = viewport.Height;\n\n    return\n        Matrix.CreateTranslation(new Vector3(-Position.X - viewportWidth / 2, -Position.Y - viewportHeight / 2, 0)) * // Translation Matrix\n        Matrix.CreateRotationZ(Rotation) * // Rotation Matrix\n        Matrix.CreateScale(new Vector3(Zoom, Zoom, 1)) * // Scale Matrix\n        Matrix.CreateTranslation(new Vector3(viewportWidth / 2, viewportHeight / 2, 0)); // Origin/Offset Matrix\n}\n\npublic void Move(Vector2 amount)\n{\n    Position += amount;\n}\n</code></pre>\n<p>And an <code>Update()</code> method that checks user input from keyboard and mouse to the certain things, e.g. move, rotate, zoom.</p>\n<h2>The Problem</h2>\n<p>As can be seen from my Transform Matrix, when I'm zooming in/out (increment or decrement <code>_zoom</code>), I'm zooming towards a fixed origin point - the center of my screen.</p>\n<p>How can I make it so when it zooms towards the mouse cursor?</p>\n<p>I read a few answers to similar questions, but I couldn't implement it for my camera. Any help is appreciated.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 3, "creation_date": 1541030040, "post_id": 53093418, "comment_id": 93083643, "body": "Alternatively to <code>GameObject.Find</code> you could store a reference using <code>prevParent = transform.parent</code> and then set it back using <code>transform.SetParent(prevParent);</code>"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1541030265, "post_id": 53093418, "comment_id": 93083701, "body": "That would work too. Based on OP&#39;s last question, I think there more than 1 objects so showing how to find it is important. A public variable assigned from the Editor would also work. As long as you have the reference to the supposed parent object, that should be fine."}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": false, "score": 3, "last_activity_date": 1541029748, "creation_date": 1541029748, "answer_id": 53093418, "question_id": 53093366, "link": "https://stackoverflow.com/questions/53093366/how-can-i-use-setparent-to-move-a-gameobject-back-to-his-original-place-in-the-h/53093418#53093418", "title": "How can I use SetParent to move a gameobject back to his original place in the hierarchy?", "body": "<p>You find the \"Cube1\" GameObject which was the parent:</p>\n\n<pre><code>GameObject cube1 = GameObject.Find(\"Cube1\");\n</code></pre>\n\n<p>You call the <code>SetParent</code> function again but with the \"Cube1\" Transform in the argument passed to it:</p>\n\n<pre><code>transform.SetParent(cube1.transform);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 326, "user_id": 4427892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WqQzzZ7IaME/AAAAAAAAAAI/AAAAAAAAABQ/ev9kzT_o7Qo/photo.jpg?sz=128", "display_name": "Tricko", "link": "https://stackoverflow.com/users/4427892/tricko"}, "is_accepted": false, "score": 0, "last_activity_date": 1541045814, "creation_date": 1541045814, "answer_id": 53095140, "question_id": 53093366, "link": "https://stackoverflow.com/questions/53093366/how-can-i-use-setparent-to-move-a-gameobject-back-to-his-original-place-in-the-h/53095140#53095140", "title": "How can I use SetParent to move a gameobject back to his original place in the hierarchy?", "body": "<p>I used something like this for the tutorial of our game. Basically the purpose is to have a game object from the UILayer be transfer to the TutorialLayer. </p>\n\n<ol>\n<li><p>In the TutorialHandler of our game I made a <code>Dictionary&lt;int, GameObject&gt; originalParent</code></p></li>\n<li><p><code>PutToLayer(GameObject targret)</code> function transfers target to the TutorialLayer and I store the original parent to the dictionary, using the target's instance id as key originalParent.Add(target.GetInstanceId()), target.transform.parent)</p></li>\n<li><p>Returning the trarget to the original parent can be done by getting it from the dictionary\n<code>Transform origParent = originalParent[target.GetInstanceId()];</code>\n<code>target.SetParent(origParent);</code></p></li>\n</ol>\n\n<p>This way, you can transfer game objects to different parents while keeping track of the original parent</p>\n"}, {"tags": [], "owner": {"reputation": 940, "user_id": 5788024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13mIY.png?s=128&g=1", "display_name": "CaTs", "link": "https://stackoverflow.com/users/5788024/cats"}, "is_accepted": false, "score": 0, "last_activity_date": 1541046266, "creation_date": 1541046266, "answer_id": 53095189, "question_id": 53093366, "link": "https://stackoverflow.com/questions/53093366/how-can-i-use-setparent-to-move-a-gameobject-back-to-his-original-place-in-the-h/53095189#53095189", "title": "How can I use SetParent to move a gameobject back to his original place in the hierarchy?", "body": "<p>I think a nicer solution wouldn't involve any hard-coded names or inspector assigning since those implementations are prone to breaking when you rename or shift objects around.</p>\n\n<p>I'd create a new component that remembers the original parent and then simply leaves it or rejoins it when you tell it to.</p>\n\n<pre><code>public class RoamingChild : MonoBehaviour {\n\n     private Transform _parent;\n\n     public void Awake () {\n          _parent = transform.parent;\n     }\n\n     //Leave the parent and go off on its own!\n     public void Leave () { \n          transform.SetParent(null);\n     }\n\n     //Come back to the parent!\n     public void Rejoin () {\n          transform.SetParent(_parent);\n     }\n}\n</code></pre>\n\n<hr>\n\n<p>It might also be useful for the <code>Child</code> to come back to the same position within the <code>Parent</code>. So <code>Child2</code> can leave and then rejoin the parent as the second child.</p>\n\n<p>You could add this functionality by also remembering the <a href=\"https://docs.unity3d.com/ScriptReference/Transform.GetSiblingIndex.html\" rel=\"nofollow noreferrer\">SiblingIndex</a>.</p>\n\n<pre><code>public class RoamingSibling : MonoBehaviour {\n\n     private Transform _parent;\n     private int _siblingIndex;\n\n     public void Awake () {\n          _parent = transform.parent;\n          _siblingIndex = transform.GetSiblingIndex();\n     }\n\n     //Leave the parent and go off on its own!\n     public void Leave () { \n          transform.SetParent(null);\n     }\n\n     //Come back to the parent!\n     public void Rejoin () {\n          transform.SetParent(_parent);\n          transform.SetSiblingIndex(_siblingIndex);\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 679, "user_id": 10565555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9CISvR6VK0U/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBM3a-D1UVXOe08ChJ66btxKqn6jw/mo/photo.jpg?sz=128", "display_name": "Dubi Duboni", "link": "https://stackoverflow.com/users/10565555/dubi-duboni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1541046266, "creation_date": 1541029250, "question_id": 53093366, "link": "https://stackoverflow.com/questions/53093366/how-can-i-use-setparent-to-move-a-gameobject-back-to-his-original-place-in-the-h", "title": "How can I use SetParent to move a gameobject back to his original place in the hierarchy?", "body": "<p>If I have the original hierarchy for example:</p>\n\n<pre><code>Cube1\n Cube2\n</code></pre>\n\n<p>And I did on Cube2:</p>\n\n<pre><code>transform.SetParent(null);\n</code></pre>\n\n<p>Now the Hierarchy is looks like:</p>\n\n<pre><code>Cube1\nCube2\n</code></pre>\n\n<p>But if I want now to move back Cube2 to his original place ?</p>\n\n<pre><code>Cube1\n Cube2\n</code></pre>\n\n<p>And same for other objects if they were children of children or sub parents and I move a group of objects and made them all SetParent(null) and now I want them all to return them to they original place.</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1541029340, "post_id": 53093361, "comment_id": 93083525, "body": "Use <code>if(!@Html.Raw(Json.Encode(Model.IsAnonymous))) {</code> to convert to a javascript <code>boolean</code>"}, {"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "edited": false, "score": 0, "creation_date": 1541029870, "post_id": 53093361, "comment_id": 93083616, "body": "Thanks @StephenMuecke it&#39;s not working but now that I put a breakpoint on it, I&#39;m seeing that I can&#39;t even step into the if statement and that it&#39;s always calling the addbookmark function"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1541030377, "post_id": 53093361, "comment_id": 93083725, "body": "That is possibly a separate issue, but you still need to convert it to a javascript <code>bool</code> (and you can simply test that by using <code>var isAnonymous = @Model.IsAnonymous; console.log(isAnonymous);</code> and you will see an error"}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1541031448, "post_id": 53093361, "comment_id": 93083958, "body": "Inspect the rendered HTML/JavaScript and ensure that the JS generated is actually valid."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9847588, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mNb1Zw-lwXU/AAAAAAAAAAI/AAAAAAAAAHU/Erz9u1LEPbQ/photo.jpg?sz=128", "display_name": "Roberto Braga", "link": "https://stackoverflow.com/users/9847588/roberto-braga"}, "is_accepted": false, "score": 0, "last_activity_date": 1541440152, "creation_date": 1541440152, "answer_id": 53159590, "question_id": 53093361, "link": "https://stackoverflow.com/questions/53093361/c-razor-and-javascript/53159590#53159590", "title": "C# Razor and JavaScript?", "body": "<p>Just do it at your <code>View</code>!</p>\n\n<pre><code>@if (!Model.IsAnonymous)\n{\n    &lt;script&gt;\n        if ($('.bookmark-btn').hasClass('bookmark-story-btn')) {\n            addBookmark();\n        } else {\n            removeBookmark();\n        }\n    &lt;/script&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541440152, "creation_date": 1541029204, "question_id": 53093361, "link": "https://stackoverflow.com/questions/53093361/c-razor-and-javascript", "title": "C# Razor and JavaScript?", "body": "<p>I need to check a boolean value coming from my .NET <code>viewmodel</code> in my JavaScript. If the user isn't signed in meaning my boolean of <code>IsAnonymous</code> would be true, I need to fire off two JavaScript functions. If it's false, I don't want to call the functions. I need to do this because one of the functions calls an <code>ApplicationUser</code> object which doesn't exist if the person using the website isn't signed in. And therefore, it throws a Null Reference Exception.</p>\n\n<p>I've tried this code in my <code>script</code> tag at the bottom of my razor page, but the <code>addBookmark</code> function gets called even if <code>Model.IsAnonymous</code> returns true. Since <code>addBookmark</code> requires an <code>ApplicationUser</code> object, I'm throwing an error.</p>\n\n<pre><code>if (!@Model.IsAnonymous) {\n    if ($('.bookmark-btn').hasClass('bookmark-story-btn')) {\n        addBookmark();\n    } else {\n        removeBookmark();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ms-word", "office-interop"], "answers": [{"tags": [], "owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "is_accepted": true, "score": 2, "last_activity_date": 1541054275, "creation_date": 1541054275, "answer_id": 53096294, "question_id": 53093260, "link": "https://stackoverflow.com/questions/53093260/add-page-number-in-footer-starting-from-n-page-in-word-document/53096294#53096294", "title": "add page number in footer starting from n page in word document", "body": "<p>In order to (re-)start numbering in the document a Section Break is needed. The follosing example demonstrates how to insert a \"Next Page\" section break just before the target page, then format the new section's footer for page numbering to start in the section at 1. </p>\n\n<p>Note I also changed the assignment to <code>TotalPages</code> on the assumption the total page count should be that of the new section, not of the entire document.</p>\n\n<pre><code>        //Go to page where page numbering should start\n        string pageNum = \"3\";\n        wdApp.Selection.GoTo(Word.WdGoToItem.wdGoToPage, Word.WdGoToDirection.wdGoToNext, ref missing, pageNum);\n        Word.Range rngPageNum = wdApp.Selection.Range;\n        //Insert Next Page section break so that numbering can start at 1\n        rngPageNum.InsertBreak(Word.WdBreakType.wdSectionBreakNextPage);\n\n        Word.Section currSec = doc.Sections[rngPageNum.Sections[1].Index];\n        Word.HeaderFooter ftr = currSec.Footers[Word.WdHeaderFooterIndex.wdHeaderFooterPrimary];\n\n        //So that the footer content doesn't propagate to the previous section    \n        ftr.LinkToPrevious = false;\n        ftr.PageNumbers.RestartNumberingAtSection = true;\n        ftr.PageNumbers.StartingNumber = 1;\n\n        //If the total pages should not be the total in the document, just the section\n        //use the field SectionPages instead of NumPages\n        object TotalPages = Microsoft.Office.Interop.Word.WdFieldType.wdFieldSectionPages;\n        object CurrentPage = Microsoft.Office.Interop.Word.WdFieldType.wdFieldPage;\n        Word.Range rngCurrSecFooter = ftr.Range;\n        rngCurrSecFooter.Fields.Add(rngCurrSecFooter, ref CurrentPage, ref missing, false);\n        rngCurrSecFooter.InsertAfter(\" of \");\n        rngCurrSecFooter.Collapse(Word.WdCollapseDirection.wdCollapseEnd);\n        rngCurrSecFooter.Fields.Add(rngCurrSecFooter, ref TotalPages, ref missing, false);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5818161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c891e2991b2468d5ddaf564f7ff932d?s=128&d=identicon&r=PG&f=1", "display_name": "dontnetnewbie", "link": "https://stackoverflow.com/users/5818161/dontnetnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "accepted_answer_id": 53096294, "answer_count": 1, "score": 1, "last_activity_date": 1595609728, "creation_date": 1541028410, "last_edit_date": 1541051845, "question_id": 53093260, "link": "https://stackoverflow.com/questions/53093260/add-page-number-in-footer-starting-from-n-page-in-word-document", "title": "add page number in footer starting from n page in word document", "body": "<p>I need to add page number (Page 1 of X) starting from say 5th page in the word document. How to do that. The code I have adds to the entire document and I am unable to control it. \nI am using Word interop in C#.\nPlease help.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> oDoc.ActiveWindow.ActivePane.View.SeekView = Microsoft.Office.Interop.Word.WdSeekView.wdSeekCurrentPageFooter;\r\n                        //Object oMissing = System.Reflection.Missing.Value;\r\n                        oDoc.ActiveWindow.Selection.TypeText(\"\\t Page \");\r\n                        Object TotalPages = Microsoft.Office.Interop.Word.WdFieldType.wdFieldNumPages;\r\n                        Object CurrentPage = Microsoft.Office.Interop.Word.WdFieldType.wdFieldPage;\r\n                        oDoc.ActiveWindow.Selection.HeaderFooter.LinkToPrevious = false;\r\n                        oDoc.ActiveWindow.Selection.Fields.Add(oDoc.ActiveWindow.Selection.Range, ref CurrentPage, ref oMissing, ref oMissing);\r\n                        oDoc.ActiveWindow.Selection.TypeText(\" of \");\r\n                        oDoc.ActiveWindow.Selection.Fields.Add(oDoc.ActiveWindow.Selection.Range, ref TotalPages, ref oMissing, ref oMissing);\r\n                       </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "collections"], "comments": [{"owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 1, "creation_date": 1541027897, "post_id": 53093182, "comment_id": 93083151, "body": "Have you considered Hash Tables?"}, {"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "reply_to_user": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 0, "creation_date": 1541027940, "post_id": 53093182, "comment_id": 93083167, "body": "no, but an option if its fast and thread safe"}, {"owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 1, "creation_date": 1541028128, "post_id": 53093182, "comment_id": 93083205, "body": "HashMaps (more common IMO) are not thread safe, however HashTables should be. They are fairly slow but have the benefit of NOT increase time complexity on large lookups. IE Each look up takes a static amount of time, where most lookups will take longer with more entries."}, {"owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "edited": false, "score": 1, "creation_date": 1541029444, "post_id": 53093182, "comment_id": 93083549, "body": "What&#39;s the purpose of the program? Are you intending to merge the lists, or just note duplicates, or something else?"}, {"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "edited": false, "score": 0, "creation_date": 1541029757, "post_id": 53093182, "comment_id": 93083599, "body": "My example is an example of Data Structure. I have Dictionary Items, the int value, respresenting a Number, this is for another part of the application, cataloging Parts, the ConcurrentBags are part numbers. I need to delete duplicates, keeping only one item."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 2, "creation_date": 1541030150, "post_id": 53093182, "comment_id": 93083672, "body": "I think this question needs more work. You will have to explain how you need this sorted, if you are merging the results of the bags (and they need to be sorted), how are you are adding and accessing the bags, and why and how concurrency is a problem. Without some of these constraints its really hard to give you a concrete solution"}, {"owner": {"reputation": 4600, "user_id": 463206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4edc6d888e98324130d6de9ff0f37f8?s=128&d=identicon&r=PG&f=1", "display_name": "radarbob", "link": "https://stackoverflow.com/users/463206/radarbob"}, "edited": false, "score": 0, "creation_date": 1541037090, "post_id": 53093182, "comment_id": 93085063, "body": "(1) Are <code>string</code>s filling the bags for proof of concept simplicity? i.e. will be a different class in production? (2) <i>String Matches between Dictionary collections.</i> - that <code>Find_Click()</code> method shell makes me think you might mean &quot;within a given dictionary find duplicate strings across element keys&quot; (3) ... all that makes me wonder about the key&#39;s structure/type/class itself. (4) ... and that has implications for possibly preventing duplicates at &quot;Add() time&quot;"}, {"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "edited": false, "score": 0, "creation_date": 1541038524, "post_id": 53093182, "comment_id": 93085357, "body": "I) Yes, an Id will be used. 2) Yes, Duplicates between Dictionary Items, within each Concurrent Bag. 3) Existing Dataset is the problem, but yes, already incorporated in my side, error or duplicate checking."}], "answers": [{"comments": [{"owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "edited": false, "score": 0, "creation_date": 1541050627, "post_id": 53094661, "comment_id": 93087631, "body": "Not marking as answer as I think this could be greatly improved."}], "tags": [], "owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "is_accepted": false, "score": 0, "last_activity_date": 1541042790, "last_edit_date": 1541042790, "creation_date": 1541041454, "answer_id": 53094661, "question_id": 53093182, "link": "https://stackoverflow.com/questions/53093182/fastest-iterating-of-concurrent-collections/53094661#53094661", "title": "Fastest iterating of concurrent collections?", "body": "<p>Well, after much confusion, an answer of sorts has been worked out.</p>\n\n<p>With NO error checking or duplicate checking:</p>\n\n<pre><code>private void Find_Click(object sender, EventArgs e)\n{\n\n    var IDs = BaseCollection.SelectMany(u =&gt; u.Value);\n\n    foreach (string id in IDs)\n    {\n        var Items = BaseCollection.Select((k, v) =&gt; new { k, v });\n        var Item = Items.SelectMany(i =&gt; i.k.Value).Select(a =&gt; a).Where(a =&gt; a == id);\n\n        int Count = Item.Count();\n\n        if(Count &gt; 1) // Duplicate Found, Figure out what to do...\n    }\n}\n</code></pre>\n\n<p>I am sure this can be greatly improved for both speed and accuracy.</p>\n"}, {"tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": true, "score": 3, "last_activity_date": 1541053969, "last_edit_date": 1541053969, "creation_date": 1541051858, "answer_id": 53095886, "question_id": 53093182, "link": "https://stackoverflow.com/questions/53093182/fastest-iterating-of-concurrent-collections/53095886#53095886", "title": "Fastest iterating of concurrent collections?", "body": "<p>If you want a list of unique entries across all of the <code>ConcurrentBag</code>s:</p>\n\n<pre><code>var IDs = BaseCollection.SelectMany(u =&gt; u.Value);\nvar duplicateIDs = IDs.Distinct().ToList();\n</code></pre>\n\n<p>If you want those that appear more than once:</p>\n\n<pre><code>var IDs = BaseCollection.SelectMany(u =&gt; u.Value);\nvar multipleTimes = IDs\n    .GroupBy(z =&gt; z)\n    .Where(z =&gt; z.Count() &gt; 1)\n    .Select(z =&gt; z.Key)\n    .ToList();\n</code></pre>\n\n<p><code>SelectMany</code> does a projection to get all entries across all of the <code>ConcurrentBag</code>s. <code>Distinct</code> removes duplicates. <code>GroupBy</code> and <code>Where</code> allows filtering by how many matches there are. <code>ToList</code> outputs the results as a <code>List&lt;int&gt;</code>.</p>\n\n<pre><code>.Where(z =&gt; z.Count() &gt; 1)\n</code></pre>\n\n<p>could also be replaced with:</p>\n\n<pre><code>.Where(z =&gt; z.AtLeast(2))\n</code></pre>\n\n<p>if you use <a href=\"https://www.nuget.org/packages/morelinq/\" rel=\"nofollow noreferrer\">MoreLinq</a>. <em>You'd need to profile the code (over a number of calls) to see whether it improves performance or not.</em></p>\n"}], "owner": {"reputation": 2425, "user_id": 1183804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hk2kW.jpg?s=128&g=1", "display_name": "Rusty Nail", "link": "https://stackoverflow.com/users/1183804/rusty-nail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 53095886, "answer_count": 2, "score": 0, "last_activity_date": 1541053969, "creation_date": 1541027668, "last_edit_date": 1541039476, "question_id": 53093182, "link": "https://stackoverflow.com/questions/53093182/fastest-iterating-of-concurrent-collections", "title": "Fastest iterating of concurrent collections?", "body": "<p>I have a conundrum, I need to iterate over the following data structure:</p>\n\n<pre><code>public ConcurrentDictionary&lt;int, ConcurrentBag&lt;string&gt;&gt; BaseCollection { get; set; }\n\nprivate void Form1_Load(object sender, EventArgs e)\n{\n    // Test Data:\n    ConcurrentBag&lt;string&gt; One = new ConcurrentBag&lt;string&gt;() { \"0\", \"1\", \"3\", \"5\", \"7\", \"9\" };\n    ConcurrentBag&lt;string&gt; Two = new ConcurrentBag&lt;string&gt;() { \"0\", \"2\", \"4\", \"6\", \"8\", \"10\" };\n    ConcurrentBag&lt;string&gt; Three = new ConcurrentBag&lt;string&gt;() { \"0\", \"10\", \"20\", \"30\", \"40\" };\n\n    // Init new Index:\n    BaseCollection = new ConcurrentDictionary&lt;int, ConcurrentBag&lt;string&gt;&gt;();\n    BaseCollection[0] = One;\n    BaseCollection[1] = Two;\n    BaseCollection[2] = Three;\n}\n\n\n\nprivate void Find_Click(object sender, EventArgs e)\n{\n    // 3 Dictionary Items:\n    var Items = BaseCollection.Select((k, v) =&gt; new { k, v });\n\n   // I am a little stuck...\n   // We should only find \"0\" and \"10\"\n   // Knowing we need to look for \"0\" I can use the following to find it's frequency using:\n   var Item = Items.SelectMany(i =&gt; i.k.Value).Select(a =&gt; a).Where(a =&gt; a == \"0\");\n}\n</code></pre>\n\n<p>Say Five Dictionary Items with up to thousands of ConcurrentBags of strings</p>\n\n<p>I need to find String Matches between Dictionary collections.</p>\n\n<p>I thought about nested for loops, I thought about Linq, but I am not very skilled at Linq:</p>\n\n<pre><code>BaseCollection.Select((k, v) =&gt; new { k, v }).Where((k, v) =&gt; k.k.Value == k.k.Value);\n</code></pre>\n\n<p>If someone can point me in the right direction, so I can think about this in the best way. Thanks.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1541027825, "post_id": 53093155, "comment_id": 93083133, "body": "<code>Inherits=&quot;project.aspx.index&quot;</code> looks incorrect. The fully qualified name of the <code>index</code> class appears to be <code>project.index</code>"}, {"owner": {"reputation": 1, "user_id": 10588359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211373083816344/picture?type=large", "display_name": "Stanley Hung", "link": "https://stackoverflow.com/users/10588359/stanley-hung"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1541028194, "post_id": 53093155, "comment_id": 93083221, "body": "It is because I have a sub-folder aspx, which is why I need to have aspx between project and index."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1541028567, "post_id": 53093155, "comment_id": 93083324, "body": "But that isn&#39;t how it is namespaced.  It is the namespace that you need to follow, not the folder structure.  The <code>inherits</code> attribute specifies a class name.  It does not use the folder structure for that."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1541028697, "post_id": 53093155, "comment_id": 93083353, "body": "Since it is not breaking immediately with that namespace, I wouldn&#39;t be surprised if you have another <code>index</code> class in a <code>project.aspx</code> namespace, which does not have the Login method you are expecting. I&#39;d correct the Inherits to <code>project.index</code>, and possibly remove an extraneous class."}, {"owner": {"reputation": 1, "user_id": 10588359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211373083816344/picture?type=large", "display_name": "Stanley Hung", "link": "https://stackoverflow.com/users/10588359/stanley-hung"}, "edited": false, "score": 0, "creation_date": 1541032611, "post_id": 53093155, "comment_id": 93084173, "body": "I know what&#39;s going on now. The main problem is that I forgot to publish the project. Once I published it, it can totally loaded. It may also the Inherit problem as you guys mentioned, but I still suspected this point because the Inherit thing was made by visual studio, not myself. It appears to be &#39;project.aspx.index&#39; when I make a new webform in an &#39;aspx&#39; subolder, and to be &#39;project.index&#39; when I make it right under my project."}], "owner": {"reputation": 1, "user_id": 10588359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211373083816344/picture?type=large", "display_name": "Stanley Hung", "link": "https://stackoverflow.com/users/10588359/stanley-hung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541032799, "creation_date": 1541027465, "last_edit_date": 1541032799, "question_id": 53093155, "link": "https://stackoverflow.com/questions/53093155/cs-1061-error-on-asp-net-when-doing-a-login-button", "title": "CS 1061 Error on ASP.NET when doing a Login Button", "body": "<p>I got this error --> CS1061: 'aspx_index_aspx' does not contain a definition for 'Login' and no extension method 'Login' accepting a first argument of type 'aspx_index_aspx' could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>I have looked for several possible problems, but it still gave me this error:<br>\n-I have added a function Login(object sender, EventArgs e) on Code Behind<br>\n-The function is protected<br>\n-The namespace and class names should have no problem to refer to code behind file<br>\n<br></p>\n\n<p>Here's the two files (aspx file and aspx.cs file):<br><br>\nindex.aspx</p>\n\n<pre><code>&lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/master/header.Master\" AutoEventWireup=\"true\" CodeBehind=\"index.aspx.cs\" Inherits=\"project.aspx.index\" %&gt;\n&lt;asp:Content runat=\"server\" ContentPlaceHolderID=\"css_holder\"&gt;\n   &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\" /&gt;\n&lt;/asp:Content&gt;\n&lt;asp:Content runat=\"server\" ContentPlaceHolderID=\"login\"&gt;\n    &lt;form runat=\"server\"&gt;\n        &lt;h1&gt;SIGN IN&lt;/h1&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;asp:TextBox class=\"input\" placeholder=\"User Name\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder='UserName'\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;asp:TextBox TextMode=\"Password\" class=\"input\" placeholder=\"Password\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder='Password'\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row button\"&gt;\n            &lt;asp:Button class=\"button_design\" Text=\"Login\" OnClick=\"Login\" runat=\"server\" /&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/asp:Content&gt;\n</code></pre>\n\n<p>index.aspx.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\n\nnamespace project.aspx\n{\n    public partial class index : System.Web.UI.Page\n    {\n        protected void Page_Load(object sender, EventArgs e)\n        {\n\n        }\n\n        protected void Login(object sender, EventArgs e)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks!!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "edited": false, "score": 7, "creation_date": 1541026987, "post_id": 53093085, "comment_id": 93082912, "body": "<code>i++</code> increments the <code>i</code> before performing <code>i + .5;</code>"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1541027224, "post_id": 53093085, "comment_id": 93082967, "body": "<b><a href=\"https://msdn.microsoft.com/en-us/library/y740d9d3.aspx\" rel=\"nofollow noreferrer\">Navigating through Code using the Step Debugger</a></b>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541029835, "post_id": 53093085, "comment_id": 93083609, "body": "Interesting, I learnt something from this. Bonus points if one of the answers can clearly explain why <code>++</code> evaluates before the right side even though it is on the left-side of the <code>=</code>. I assume because of operator precedence (i.e. <code>++</code> is before <code>=</code>)?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1541029843, "post_id": 53093085, "comment_id": 93083612, "body": "A good rule of thumb: Never do what your code does (mutate a variable with and incrementing or decrementing expression and consume the same variable). Though the behavior is well specified in the C# spec, either you or the next reader of your code will get it wrong. Had you put <code>++i;</code> on the next line of code, your intent, and the code, would have been much clearer."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10588401, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kldyQRGyTjk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwAA_Iv9pxKztVGtoDL-fGFHVYlg/mo/photo.jpg?sz=128", "display_name": "cybernautmik", "link": "https://stackoverflow.com/users/10588401/cybernautmik"}, "edited": false, "score": 0, "creation_date": 1541444557, "post_id": 53093108, "comment_id": 93211528, "body": "Thank you so much for the help. And to avoid this problem, basically I would just put the increment on the right side."}], "tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": true, "score": 3, "last_activity_date": 1541027368, "last_edit_date": 1541027368, "creation_date": 1541027034, "answer_id": 53093108, "question_id": 53093085, "link": "https://stackoverflow.com/questions/53093085/why-is-the-output-giving-me-a-value-of-1/53093108#53093108", "title": "Why is the output giving me a value of +1?", "body": "<p>So let's start with <code>i = 0</code></p>\n\n<pre><code>doubleA[i++] = i + .5;\n</code></pre>\n\n<p>Here you are accessing position <code>0</code> of the array, but also adding <code>1</code> to the value of <code>i</code>. When <code>i == 0</code>, the <em>expression</em> <code>i++</code> will be the value <code>0</code>, but the value of the variable <code>i</code> is incremented such that the new value of <code>i</code> is <code>1</code>.</p>\n\n<p>On the right hand side, this new value of <code>i</code> is used (<code>1</code>) and added to <code>0.5</code>. Giving a value of <code>1.5</code> which is assigned back to index <code>0</code> of the array (as indicated on the left hand side of the assignment).</p>\n\n<p>I could go on, but I think you probably get it by now...</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/increment-operator\" rel=\"nofollow noreferrer\">Further reading</a> on <code>operator ++</code></p>\n"}, {"tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 1, "last_activity_date": 1541027044, "creation_date": 1541027044, "answer_id": 53093111, "question_id": 53093085, "link": "https://stackoverflow.com/questions/53093085/why-is-the-output-giving-me-a-value-of-1/53093111#53093111", "title": "Why is the output giving me a value of +1?", "body": "<p>This is because <code>i</code> is being incremented in your key: <code>doubleA[i++]</code>. <code>i++</code> will increment the key by one, <strong>AFTER</strong> returning it. When it's used later (as the value), its value has already been incremented. So now you're setting it to <code>1 + 0.5</code>.</p>\n\n<p>Let's break this down, and show you the functional equivalent, and you'll see exactly what this is happening:</p>\n\n<pre><code>public static void InitializeArray(ref double[] doubleA)\n{\n    //array init using foreach\n    int i = 0;\n    foreach (double dub in doubleA)\n    {\n        int key = i;\n        i = i + 1;\n        doubleA[key] = i + .5;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10588401, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kldyQRGyTjk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwAA_Iv9pxKztVGtoDL-fGFHVYlg/mo/photo.jpg?sz=128", "display_name": "cybernautmik", "link": "https://stackoverflow.com/users/10588401/cybernautmik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 53093108, "answer_count": 2, "score": 0, "last_activity_date": 1541027368, "creation_date": 1541026874, "last_edit_date": 1541026954, "question_id": 53093085, "link": "https://stackoverflow.com/questions/53093085/why-is-the-output-giving-me-a-value-of-1", "title": "Why is the output giving me a value of +1?", "body": "<p>The code </p>\n\n<pre><code>public static void InitializeArray(ref double[] doubleA)\n{\n    //array init using foreach\n    int i = 0;\n    foreach (double dub in doubleA)\n    {\n        doubleA[i++] = i + .5;\n    }\n}\n</code></pre>\n\n<p>is giving me an output of </p>\n\n<pre><code>doubleA[0] = 1.5 instead of .5\n\ndoubleA[1] = 2.5 instead of 1.5\n</code></pre>\n\n<p>and so on</p>\n\n<p>I'm not understanding why it's doing that. As I understand it, <code>doubleA[0]</code> should be getting 0.5 because I'm only adding 0.5 so where is the extra 1 coming from? I'm thinking it's from int i but for i=0, shouldn't it evaluate to <code>doubleA[0] = 0 + .5</code>?</p>\n\n<p>So far I have tried writing <code>doubleA[i++] = i + .5;</code> instead which gives each element in the array just the value of 0.5.</p>\n"}, {"tags": ["c#", "datatable"], "comments": [{"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541026728, "post_id": 53093032, "comment_id": 93082834, "body": "Best practice would be to do this with a single database query.  Next best would be anything other than what you are currently doing.  Explain what you are trying to do (besides homework) so we might really help you."}, {"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 1, "creation_date": 1541026783, "post_id": 53093032, "comment_id": 93082857, "body": "Wouldn\u2019t making it an identity column be better?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1541026848, "post_id": 53093032, "comment_id": 93082876, "body": "You arent really modifying the datatable or rows collection if you are just changing/updating an item (&quot;cell&quot;) value.  Not sure what you are asking."}, {"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "reply_to_user": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541026889, "post_id": 53093032, "comment_id": 93082887, "body": "@MatthewWhited I have a table that have 1-25 as sequence numbers and a ton of zeroes following the 25. My plan is to loop through the table until I find a zero and update it&#39;s sequence number to the highest sequence number +1. This isn&#39;t homework and I feel like I explained it well. What more would you like?"}, {"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541026970, "post_id": 53093032, "comment_id": 93082907, "body": "Are the zeros other columns or significant digits?  What you are asking makes no sense."}, {"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1541026981, "post_id": 53093032, "comment_id": 93082909, "body": "We would like a reason why not do it in the database it self."}, {"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541027050, "post_id": 53093032, "comment_id": 93082926, "body": "How did you populate the data table? Is this a query from a database or just junk data?"}, {"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "reply_to_user": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541027051, "post_id": 53093032, "comment_id": 93082927, "body": "@MatthewWhited he simply wants a running number for the ID(currently only 1-25 are taken, all other are zero)"}, {"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "reply_to_user": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1541027154, "post_id": 53093032, "comment_id": 93082949, "body": "@MatthewWhited sequence line number is a column. the 1-25 is row 1 sequence line number = 1,row 2 sequence line number = 2 etc until 25 where the 26th will be row 26 sequence line number = 0 and then so on until it reaches the end of the datatable. I need to update the zeroes which are a value of column  seqlinnum"}, {"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "reply_to_user": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1541027209, "post_id": 53093032, "comment_id": 93082959, "body": "@sagi I need to do this in the code behind not the database level. Table is populated from a database query that had a lot of other things modified to it. I can&#39;t do anything in the database this must be done in the code behind."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541027722, "post_id": 53093032, "comment_id": 93083106, "body": "Why do you think you need to create a new DT?  Just loop and update the cells.  Eliminating the <code>ToString</code> and string comparison might be a good idea"}, {"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541027839, "post_id": 53093032, "comment_id": 93083139, "body": "@Disaffected1070452  How would that work then?                       foreach(DataRow row in dtNewOrderGuide.Rows)                     {                         if (row[&quot;seqlinnum&quot;].ToString() == &quot;0&quot;)                         {                             dtNewOrderGuide[&quot;seqlinnum&quot;] = maxSequenceNumber + 1;                             maxSequenceNumber++;                         }                     }"}, {"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541028030, "post_id": 53093032, "comment_id": 93083188, "body": "@Disaffected1070452 in what I wrote I don&#39;t know how to specify what cell I&#39;m updating since I&#39;m looping with row. or can I just reference which cell by doing. dtNewOrderGuide[row][&quot;seqlinnum&quot;]"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541028279, "post_id": 53093032, "comment_id": 93083239, "body": "Why dont you try some of these things and get back to us when you have an actual, well defined problem/question?  Why would referencing the <code>seqlinnum</code> column for updating be different than when evaluating it???"}], "answers": [{"tags": [], "owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "is_accepted": false, "score": 1, "last_activity_date": 1541027402, "creation_date": 1541027402, "answer_id": 53093149, "question_id": 53093032, "link": "https://stackoverflow.com/questions/53093032/updating-a-row-in-a-datatable-during-a-foreach-c/53093149#53093149", "title": "Updating a row in a datatable during a foreach C#", "body": "<p>You can do this with Linq... may want to use an order why before the select if you don\u2019t want to risk overwriting the sequence.</p>\n\n<pre><code>var query = td.Rows.Cast&lt;DataRow&gt;().Select((r,i)=&gt;new {r,i});\nforeach (var row in query)\n{\n    row.r[\u201cseqlinnum\u201d]=row.i;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "edited": false, "score": 0, "creation_date": 1541028581, "post_id": 53093252, "comment_id": 93083329, "body": "Are you saying to next this for into my foreach? So that way row would be the current row of the foreach?"}, {"owner": {"reputation": 2290, "user_id": 8979763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2iBy.jpg?s=128&g=1", "display_name": "Gibbon", "link": "https://stackoverflow.com/users/8979763/gibbon"}, "reply_to_user": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "edited": false, "score": 0, "creation_date": 1541028687, "post_id": 53093252, "comment_id": 93083350, "body": "@NitroFrost sorry, copy pasted the if statement after, should just replace the foreach :) have updated it so it uses table.Rows[i] for the if as well instead of the rows variable from the original foreach :)"}], "tags": [], "owner": {"reputation": 2290, "user_id": 8979763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2iBy.jpg?s=128&g=1", "display_name": "Gibbon", "link": "https://stackoverflow.com/users/8979763/gibbon"}, "is_accepted": true, "score": 2, "last_activity_date": 1541028628, "last_edit_date": 1541028628, "creation_date": 1541028327, "answer_id": 53093252, "question_id": 53093032, "link": "https://stackoverflow.com/questions/53093032/updating-a-row-in-a-datatable-during-a-foreach-c/53093252#53093252", "title": "Updating a row in a datatable during a foreach C#", "body": "<p>as an alternative, using a traditional for loop over a foreach would mean not doing any data copying or anything and would likely run though the datatable faster</p>\n\n<pre><code>for(int i=0;i&lt;table.Rows.Count;i++)\n{ \n   if (table.Rows[i][\"seqlinnum\"].ToString() == \"0\")\n   {\n     table.Rows[i][\"seqlinnum\"]=maxSequenceNumber; maxSequenceNumber++;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 1003891, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/148e4e2f295d5418a3da1473c50d96ff?s=128&d=identicon&r=PG", "display_name": "NitroFrost", "link": "https://stackoverflow.com/users/1003891/nitrofrost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1704, "favorite_count": 0, "accepted_answer_id": 53093252, "answer_count": 2, "score": -1, "last_activity_date": 1541028628, "creation_date": 1541026447, "last_edit_date": 1541027485, "question_id": 53093032, "link": "https://stackoverflow.com/questions/53093032/updating-a-row-in-a-datatable-during-a-foreach-c", "title": "Updating a row in a datatable during a foreach C#", "body": "<p>I'm looking for best practices for modifying a datatable while you are looping through said datatable. </p>\n\n<p>I'm grabbing the max value in the datatables sequence line number column. In this example it's 25. I have a lot of zeroes in this Datatable and I'm going to find them one by one and change them to 25+1,26+1,27+1 etc etc. I'm wondering what would be the best practice of going about this without having to create another table and build a new table as I edit values of the row. </p>\n\n<pre><code>int maxSequenceNumber = Convert.ToInt32(dtNewOrderGuide.Compute(\"max([seqlinnum])\", string.Empty));\n\nforeach(DataRow row in dtNewOrderGuide.Rows)\n{\n    if (row[\"seqlinnum\"].ToString() == \"0\")\n    {\n    }\n}\n</code></pre>\n\n<p>Example of my table</p>\n\n<pre><code>RowNumber   | seqlinnum\n1           |     1\n2           |     10\n3           |     15\n4           |     25\n5           |     0\n6           |     0\n7           |     0\n8           |     0\n9           |     0\n10          |     0\n</code></pre>\n"}, {"tags": ["c#", "reflection.emit"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1541026364, "post_id": 53092880, "comment_id": 93082751, "body": "I did this sort of thing once. Then I discovered that once you get it, it becomes rather boring and you find there are <a href=\"https://github.com/castleproject/Core/blob/master/docs/dynamicproxy-introduction.md\" rel=\"nofollow noreferrer\">well maintained alternatives</a> that make life much easier."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1541026500, "post_id": 53092880, "comment_id": 93082777, "body": "Abstraction might become your enemy later on."}, {"owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "edited": false, "score": 0, "creation_date": 1541026525, "post_id": 53092880, "comment_id": 93082787, "body": "I have implemented this with DynamicProxy from castle core, but the call to each property is slow and I was tasked to optimize this."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1541029082, "post_id": 53092880, "comment_id": 93083456, "body": "Of course it is slow, you have generic types mixed with reflection."}, {"owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "edited": false, "score": 0, "creation_date": 1541029208, "post_id": 53092880, "comment_id": 93083490, "body": "That&#39;s why I wanted to go to this solution which will be faster."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1541031009, "post_id": 53092880, "comment_id": 93083856, "body": "@greg. There&#39;s nothing slow about generic types. Now, reflection, that&#39;s a different story"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1541032060, "post_id": 53092880, "comment_id": 93084081, "body": "@Flydog57 I mostly meant the reflection, then coupling them together with generic&#39;s is asking for performance issues.  Because the generic is acting on the anonymous type, but you are correct."}], "owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541025942, "creation_date": 1541025302, "last_edit_date": 1541025942, "question_id": 53092880, "link": "https://stackoverflow.com/questions/53092880/create-proxy-class-that-redirects-between-two-objects", "title": "Create proxy class that redirects between two objects", "body": "<p>Here's what I'm trying to Accomplish: At run time, I want to create a dynamic class that will override any class T. The idea is: The generated class will Hold 3 objects of Type T (One which I call Original, other which I call Modified, and other one which I call Active, with this one switching between these two.</p>\n\n<p>Now, my generated class shoudl also extend T, whereas any of it's virtual properties will be overriden (both getter and setter) and will redirect to the same property of the Active object it holds.</p>\n\n<p>My difficulty is: How do I access a property of the object Active? Here's my code:</p>\n\n<pre><code>public static Type CompileResultType&lt;T&gt;()\n    {\n        //Gets Type builder that extends type T\n        TypeBuilder tb = GetTypeBuilder&lt;T&gt;($\"{typeof(T).Name}Proxy\");\n        ConstructorBuilder constructor = tb.DefineDefaultConstructor(MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.RTSpecialName);\n\n        //Add Active field\n        FieldBuilder activeFieldBuilder = tb.DefineField(\"Active\", typeof(T), FieldAttributes.Public);\n\n        //Add Original field\n        FieldBuilder originalFieldBuilder = tb.DefineField(\"Original\", typeof(T), FieldAttributes.Public);\n\n        //Add Modified field\n        FieldBuilder FieldBuilder = tb.DefineField(\"Modified\", typeof(T), FieldAttributes.Public);\n\n        //Get all public properties of type T\n        var allProperties = typeof(T).GetProperties(BindingFlags.Public | BindingFlags.Instance);\n\n        //Get all virtual properties\n        var filteredProperties = allProperties.Where(p =&gt; p.GetGetMethod().IsVirtual &amp;&amp; p.GetSetMethod().IsVirtual);\n        foreach (var property in filteredProperties)\n            CreateProperty&lt;T&gt;(tb, property.Name, property.PropertyType, property);\n\n        Type objectType = tb.CreateType();\n        var teste = tb.GetFields();\n        return objectType;\n    }\n\n    private static TypeBuilder GetTypeBuilder&lt;T&gt;(string typeSignature)\n    {\n        var an = new AssemblyName(typeSignature);\n        AssemblyBuilder assemblyBuilder = AppDomain.CurrentDomain.DefineDynamicAssembly(an, AssemblyBuilderAccess.Run);\n        ModuleBuilder moduleBuilder = assemblyBuilder.DefineDynamicModule(\"Mask.Builder\");\n        TypeBuilder tb = moduleBuilder.DefineType(typeSignature, TypeAttributes.Public | \n                                                                TypeAttributes.Class | \n                                                                TypeAttributes.AutoClass | \n                                                                TypeAttributes.AnsiClass | \n                                                                TypeAttributes.BeforeFieldInit | \n                                                                TypeAttributes.AutoLayout, typeof(T));\n        return tb;\n    }\n\n    private static void CreateProperty&lt;T&gt;(TypeBuilder tb, string propertyName, Type propertyType, PropertyInfo activeProperty)\n    {\n        //THE PROBLEM LIES HERE: Trying to access the respective property of object Active, but doesn't work\n        FieldBuilder fieldBuilder = tb.DefineField(\"Active.\" + propertyName, propertyType, FieldAttributes.Private);\n        PropertyBuilder propertyBuilder = tb.DefineProperty(propertyName, PropertyAttributes.HasDefault, propertyType, null);\n\n        //Create Getter that will retrieve \"Active.PROPERTY\"\n        MethodBuilder getPropMthdBldr = tb.DefineMethod(\"get_\" + propertyName, MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.HideBySig | MethodAttributes.Virtual, propertyType, Type.EmptyTypes);\n        ILGenerator getIl = getPropMthdBldr.GetILGenerator();\n        getIl.Emit(OpCodes.Ldarg_0);\n        getIl.Emit(OpCodes.Ldfld, fieldBuilder);\n        getIl.Emit(OpCodes.Ret);\n\n\n        //Create Setter that will write into \"Active.PROPERTY\"\n        MethodBuilder setPropMthdBldr = tb.DefineMethod(\"set_\" + propertyName, MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.HideBySig | MethodAttributes.Virtual, null, new[] { propertyType });\n\n        ILGenerator setIl = setPropMthdBldr.GetILGenerator();\n        Label modifyProperty = setIl.DefineLabel();\n        Label exitSet = setIl.DefineLabel();\n\n        setIl.MarkLabel(modifyProperty);\n        setIl.Emit(OpCodes.Ldarg_0);\n        setIl.Emit(OpCodes.Ldarg_1);\n        setIl.Emit(OpCodes.Stfld, fieldBuilder);\n\n        setIl.Emit(OpCodes.Nop);\n        setIl.MarkLabel(exitSet);\n        setIl.Emit(OpCodes.Ret);\n\n        propertyBuilder.SetGetMethod(getPropMthdBldr);\n        propertyBuilder.SetSetMethod(setPropMthdBldr);\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 0, "creation_date": 1541025445, "post_id": 53092853, "comment_id": 93082481, "body": "There is no point in calling a process that calls cmd that calls ping. You could just create a process that calls ping. That being said, you should check this question, seems to answer your problem <a href=\"https://stackoverflow.com/questions/18588659/redirect-process-output-c-sharp\" title=\"redirect process output c sharp\">stackoverflow.com/questions/18588659/&hellip;</a>"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541025487, "post_id": 53092853, "comment_id": 93082499, "body": "Help with what?  You didnt ask a question or describe a problem.  The code is mostly empty event handlers which of course mean nothing."}, {"owner": {"reputation": 5861, "user_id": 2921691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sKmSE.jpg?s=128&g=1", "display_name": "Markus Safar", "link": "https://stackoverflow.com/users/2921691/markus-safar"}, "edited": false, "score": 1, "creation_date": 1541026045, "post_id": 53092853, "comment_id": 93082645, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18588659/redirect-process-output-c-sharp\">Redirect process output C#</a>"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 9312566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-94t6wMu9J3I/AAAAAAAAAAI/AAAAAAAAAB8/swi8ScJV7No/photo.jpg?sz=128", "display_name": "Mr.feel", "link": "https://stackoverflow.com/users/9312566/mr-feel"}, "is_accepted": false, "score": 1, "last_activity_date": 1541029270, "last_edit_date": 1541029270, "creation_date": 1541027608, "answer_id": 53093173, "question_id": 53092853, "link": "https://stackoverflow.com/questions/53092853/i-would-want-to-get-my-cmd-output-into-a-listbox-c/53093173#53093173", "title": "i would want to get my cmd output into a listbox C#", "body": "<p><a href=\"https://i.stack.imgur.com/M6OXu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6OXu.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Diagnostics;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp26\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n        Process cmd = new Process();\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n            cmd.StartInfo.FileName = \"cmd.exe\";\n            cmd.StartInfo.RedirectStandardInput = true;\n            cmd.StartInfo.RedirectStandardOutput = true;\n            cmd.StartInfo.CreateNoWindow = true;\n            cmd.StartInfo.UseShellExecute = false;\n            cmd.OutputDataReceived += Cmd_OutputDataReceived;\n            cmd.Start();\n            cmd.BeginOutputReadLine();\n\n        }\n\n        private void Cmd_OutputDataReceived(object sender, DataReceivedEventArgs e)\n        {\n            SetText(e.Data);\n\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n\n            cmd.StandardInput.WriteLine($@\"{textBox1.Text}\");\n            cmd.StandardInput.Flush();\n\n        }\n\n        delegate void StringArgReturningVoidDelegate(string text);\n        private void SetText(string text)\n        { // InvokeRequired required compares the thread ID of the\n          // calling thread to the thread ID of the creating thread.\n          // If these threads are different, it returns true.\n\n            if (text != null)\n            {\n\n\n                if (listBox1.InvokeRequired)\n                {\n                    StringArgReturningVoidDelegate d = new StringArgReturningVoidDelegate(SetText);\n                    this.Invoke(d, new object[] { text });\n                }\n                else\n                {\n                    listBox1.Items.Add(text);\n\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10588374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1beda897b55e215816cb5addde457e?s=128&d=identicon&r=PG&f=1", "display_name": "D.Hinderks", "link": "https://stackoverflow.com/users/10588374/d-hinderks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541041705, "creation_date": 1541025109, "last_edit_date": 1541041705, "question_id": 53092853, "link": "https://stackoverflow.com/questions/53092853/i-would-want-to-get-my-cmd-output-into-a-listbox-c", "title": "i would want to get my cmd output into a listbox C#", "body": "<p>So I got an assignment for school this asks of me to make a simple ping tool.\nJust to be clear this is my first time getting anything done in c#.\nCorrect me on anything I did wrong here I am here to learn so I will post my code down here and then maybe you guys could add and complete or tell me whats wrong\nalready thank you for reading and taking the time to try and help me.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp1\n{\n    public partial class Form1 : Form\n     {\n        public object StartInfo { get; private set; }\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        public void textBox1_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n\n        public void Form1_Load(object sender, EventArgs e)\n        {\n\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n\n            String sct = \"/C ping \" + textBox1.Text;\n\n\n\n            System.Diagnostics.Process.Start(\"cmd.exe\", sct);\n\n\n\n\n\n}\n\n        public void label1_Click(object sender, EventArgs e)\n        {\n\n        }\n\n        public void process1_Exited(object sender, EventArgs e)\n        {\n\n        }\n\n        private void listBox1_SelectedIndexChanged(object sender, EventArgs \n        {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "edited": false, "score": 0, "creation_date": 1541073633, "post_id": 53096269, "comment_id": 93097171, "body": "If I would like have the same position to others session (this application is for multiple users/employees), is it a good idea to have this drop area as list, and add this content after drop to DataBase? Is it possible?"}, {"owner": {"reputation": 3076, "user_id": 583810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f32614109a43e1f5efd79753be2206b2?s=128&d=identicon&r=PG", "display_name": "JTech", "link": "https://stackoverflow.com/users/583810/jtech"}, "reply_to_user": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "edited": false, "score": 0, "creation_date": 1541111362, "post_id": 53096269, "comment_id": 93115698, "body": "To have the same position for all users, then sounds like ApplicationState would be appropriate. See this answer for more info: <a href=\"https://stackoverflow.com/questions/5096544/application-vs-session-vs-cache\" title=\"application vs session vs cache\">stackoverflow.com/questions/5096544/&hellip;</a>"}, {"owner": {"reputation": 3076, "user_id": 583810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f32614109a43e1f5efd79753be2206b2?s=128&d=identicon&r=PG", "display_name": "JTech", "link": "https://stackoverflow.com/users/583810/jtech"}, "reply_to_user": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "edited": false, "score": 0, "creation_date": 1541111409, "post_id": 53096269, "comment_id": 93115706, "body": "I don&#39;t understand this question: &quot;is it a good idea to have this drop area as list, and add this content after drop to DataBase&quot; - can you ask it in another way?"}, {"owner": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "edited": false, "score": 0, "creation_date": 1541153150, "post_id": 53096269, "comment_id": 93127252, "body": "I meant create two lists, drag and drop items between them and saving changes in DB (for example &#39;Save button&#39;)."}, {"owner": {"reputation": 3076, "user_id": 583810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f32614109a43e1f5efd79753be2206b2?s=128&d=identicon&r=PG", "display_name": "JTech", "link": "https://stackoverflow.com/users/583810/jtech"}, "reply_to_user": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "edited": false, "score": 0, "creation_date": 1541479928, "post_id": 53096269, "comment_id": 93221804, "body": "Perhaps its best if you update your question to reflect what you still need to know. Or ask a new question and mark this one as answered if you have the info you need now."}], "tags": [], "owner": {"reputation": 3076, "user_id": 583810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f32614109a43e1f5efd79753be2206b2?s=128&d=identicon&r=PG", "display_name": "JTech", "link": "https://stackoverflow.com/users/583810/jtech"}, "is_accepted": false, "score": 0, "last_activity_date": 1541054178, "creation_date": 1541054178, "answer_id": 53096269, "question_id": 53092814, "link": "https://stackoverflow.com/questions/53092814/asp-net-mvc-save-position-of-draggable-element/53096269#53096269", "title": "Asp.net mvc save position of draggable element", "body": "<p>I'm sure there would be a couple of ways to do this.</p>\n\n<p>Conceptually, what you need to do is store on the server which items have been dragged onto which list. Then when you load the page you will need to check these server-side lists to determine which items to render in which lists.</p>\n\n<p><strong>The below is just pseudo-code - it is unlikely to compile and is non-complete but hopefully is enough to get you started and get the idea.</strong></p>\n\n<p><strong>To store the 'drops':</strong>\nWithin the Javascript <code>drop(ev)</code> method make an asynchronous post request to a Controller Action sending the ID of the item dropped and the ID of the list it was dropped onto. You'll then need to store that information somewhere so that when you render the page next time, you can retrieve it. Perhaps in a Session variable.</p>\n\n<p>Your action method might look something like this:</p>\n\n<pre><code>    public ActionResult PutItemInList(int listId, int itemId)\n    {\n        if (listId == ToDoList)\n        {\n            var toDoIds = (List&lt;int&gt;)Session[\"ToDoIds\"];\n            toDoIds.Add(itemId);\n            Session[\"ToDoIds\"] = toDoIds;\n        }\n        if (listId == DoneList)\n        {\n            var doneIds = (List&lt;int&gt;)Session[\"ToDoIds\"];\n            doneIds.Add(itemId);\n            Session[\"DoneIds\"] = doneIds;\n        }\n    }\n</code></pre>\n\n<p><strong>To render the page:</strong>\nYou will need to use the information from the Session variable to render the view.</p>\n\n<p>Add a new ViewModel class which will store:</p>\n\n<ol>\n<li>the list of KtoCo (your current ViewModel)</li>\n<li>the list of IDs in the ToDo list</li>\n<li>the list of IDs in the Done list</li>\n</ol>\n\n<p>Something like this:</p>\n\n<pre><code>public class ToDoViewModel\n{\n    public List&lt;KtoCos&gt; KtoCos { get; set; }\n    public List&lt;int&gt; ToDoList { get; set; }\n    public List&lt;int&gt; DoneList { get; set; }\n}\n</code></pre>\n\n<p>In your action method which renders the View, get the information from Session and create a new ViewModel class.\nSomething like this:</p>\n\n<pre><code>    public ActionResult ActionMethod()\n    {\n        var toDoIds = (List&lt;int&gt;)Session[\"ToDoIds\"];\n        var doneIds = (List&lt;int&gt;)Session[\"DoneIds\"];\n\n        var viewModel = new ToDoViewModel();\n        viewModel.DoneList.AddRange(doneIds);\n        viewModel.ToDoList.AddRange(toDoIds);\n        viewModel.Ktos = GetFromDbSomehow();\n        return View(viewModel);\n    }\n</code></pre>\n\n<p>Then in your Razor view, whose model is now the new ViewModel class, inspect those list properties to render out the items in the correct location.</p>\n\n<p>Something like this:</p>\n\n<pre><code>@foreach (var item in Model.KtoCos)\n{\n    &lt;div draggable=\"true\" ondragstart=\"drag(event)\" id=@item.Id width=\"88\" height=\"31\"&gt;\n\n        @Html.DisplayFor(modelItem =&gt; item.Kto)\n        @Html.DisplayFor(modelItem =&gt; item.Co)\n\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.Id }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.Id })\n    &lt;/div&gt;\n\n}\n\n&lt;div id=\"div1\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"&gt;\n    @foreach (var item in Model.ToDoList)\n    {\n        &lt;div&gt;@item.SomeInfo&lt;/div&gt;\n    }\n&lt;/div&gt;\n&lt;div id=\"div2\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"&gt;\n    @foreach (var item in Model.DoneList)\n    {   \n        &lt;div&gt;@item.SomeInfo&lt;/div&gt;\n    }\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10588349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C5FajKVhoIU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBvwNCSl0pC_fek10PrGgyi2uL1FA/mo/photo.jpg?sz=128", "display_name": "Patrycja", "link": "https://stackoverflow.com/users/10588349/patrycja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541054178, "creation_date": 1541024823, "question_id": 53092814, "link": "https://stackoverflow.com/questions/53092814/asp-net-mvc-save-position-of-draggable-element", "title": "Asp.net mvc save position of draggable element", "body": "<p>I am doing something like 'To do' list, where user can take text and drag into two tables \"to do\" and \"done\". First he can create a note. All data is in DB.</p>\n\n<pre><code>model IEnumerable&lt;ToDoList.Models.KtoCo&gt;\n\n@{    ViewBag.Title = \"Index\"}\n&lt;h2&gt;Index&lt;/h2&gt;\n\n&lt;p&gt;\n@Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n\n&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;&lt;head&gt;&lt;style&gt;#div1, #div2 {\n        float: left;\n        width: 500px;\n        height: 500px;\n        margin: 10px;\n        padding: 10px;\n        border: 1px solid black;\n    }\n&lt;/style&gt;\n&lt;script&gt;\n    function allowDrop(ev) {\n        ev.preventDefault();\n    }\n\n    function drag(ev) {\n        ev.dataTransfer.setData(\"text\", ev.target.id);\n    }\n\n    function drop(ev) {\n        ev.preventDefault();\n        var data = ev.dataTransfer.getData(\"text\");\n        ev.target.appendChild(document.getElementById(data));\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>\n</p>\n\n<pre><code>@foreach (var item in Model)\n{\n    &lt;div draggable=\"true\" ondragstart=\"drag(event)\" id=@item.Id width=\"88\" height=\"31\"&gt;\n\n        @Html.DisplayFor(modelItem =&gt; item.Kto)\n        @Html.DisplayFor(modelItem =&gt; item.Co)\n\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.Id }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.Id })\n    &lt;/div&gt;\n\n}\n\n\n&lt;div id=\"div1\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"&gt; &lt;/div&gt;\n&lt;div id=\"div2\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>\n`</p>\n\n<p>This is my View. And here is a model:</p>\n\n<pre><code>namespace ToDoList.Models\n{\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System.Data.Entity.Spatial;\n\n[Table(\"KtoCo\")]\npublic partial class KtoCo\n{\n    public int Id { get; set; }\n\n    [StringLength(50)]\n    public string Kto { get; set; }\n\n    public string Co { get; set; }\n}\n}\n</code></pre>\n\n<p>The question is: Is there possible way to keep the notes in tables, even after refreshing site? </p>\n\n<p>P.S. I know that the view is not very pretty, i will be working on it later.</p>\n"}, {"tags": ["c#", "c", "sqlite"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1541024908, "post_id": 53092813, "comment_id": 93082333, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 69, "user_id": 4290232, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JJRL1bJ6axk/AAAAAAAAAAI/AAAAAAAAARg/jzQq5sVrp-s/photo.jpg?sz=128", "display_name": "Craig Thomas", "link": "https://stackoverflow.com/users/4290232/craig-thomas"}, "edited": false, "score": 1, "creation_date": 1541026277, "post_id": 53092813, "comment_id": 93082728, "body": "Is <b>i</b> supposed to be an out-parameter? I don&#39;t see its value being set anywhere. Also, should <b>CreateDB</b> return an int?"}, {"owner": {"reputation": 159, "user_id": 9448914, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kyle Huff", "link": "https://stackoverflow.com/users/9448914/kyle-huff"}, "edited": false, "score": 0, "creation_date": 1541029881, "post_id": 53092813, "comment_id": 93083620, "body": "My initial guess is that you&#39;re including the time required to load the DLL.  This would not apply if it were part of the EXE that was already running."}, {"owner": {"reputation": 29, "user_id": 10588223, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eWE4qagptrk/AAAAAAAAAAI/AAAAAAAAAAA/B1rZ2LW10Fk/photo.jpg?sz=128", "display_name": "Dorian Oria", "link": "https://stackoverflow.com/users/10588223/dorian-oria"}, "edited": false, "score": 0, "creation_date": 1541030231, "post_id": 53092813, "comment_id": 93083693, "body": "I modified the question adding more information. I hope with this is clearer what I want to achieve. Thanks"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1541108152, "post_id": 53092813, "comment_id": 93114645, "body": "the progress bar will not change until you return from the function call. You need to do much more fiddly things that make a progress bar that moves while you are calling some other function"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10588223, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eWE4qagptrk/AAAAAAAAAAI/AAAAAAAAAAA/B1rZ2LW10Fk/photo.jpg?sz=128", "display_name": "Dorian Oria", "link": "https://stackoverflow.com/users/10588223/dorian-oria"}, "edited": false, "score": 0, "creation_date": 1541123621, "post_id": 53109642, "comment_id": 93118457, "body": "Thanks all of you for your time. I am still working in trying to update the progress bar."}], "tags": [], "owner": {"reputation": 1888, "user_id": 6463426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c137962545c60312dbb2cab2bb8186?s=128&d=identicon&r=PG&f=1", "display_name": "dumetrulo", "link": "https://stackoverflow.com/users/6463426/dumetrulo"}, "is_accepted": true, "score": 0, "last_activity_date": 1541107915, "creation_date": 1541107915, "answer_id": 53109642, "question_id": 53092813, "link": "https://stackoverflow.com/questions/53092813/why-a-c-code-when-implementing-as-dll-is-slower-in-c/53109642#53109642", "title": "Why a C code when implementing as DLL is slower in C#", "body": "<p>Your C# code calls the C function as if it took a pointer to an int. But according to your declaration, it takes a plain int. It should work if you change it as follows:</p>\n\n<pre><code>EXPORT void CreateDB(int *f)\n{\n    for (int i = 0; i &lt; 4; i++)\n    {\n        sleep(1);\n        *f = i + 1;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10588223, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eWE4qagptrk/AAAAAAAAAAI/AAAAAAAAAAA/B1rZ2LW10Fk/photo.jpg?sz=128", "display_name": "Dorian Oria", "link": "https://stackoverflow.com/users/10588223/dorian-oria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 53109642, "answer_count": 1, "score": 0, "last_activity_date": 1541107915, "creation_date": 1541024821, "last_edit_date": 1541030168, "question_id": 53092813, "link": "https://stackoverflow.com/questions/53092813/why-a-c-code-when-implementing-as-dll-is-slower-in-c", "title": "Why a C code when implementing as DLL is slower in C#", "body": "<p>I did a C program that reads some values from binary files and write them in a SQLite DB. I transformed the same file in a DLL library and I invoked it from a Windows Form App in C#. Following is an example that illustrates what I want to do:</p>\n\n<p>In C# I use the following</p>\n\n<pre><code>[DllImport(\"Progress.dll\", EntryPoint = \"CreateDB\", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)]\nprivate static extern int avance(IntPtr Path);\n</code></pre>\n\n<p>The DLL C code looks like:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;stdint.h &gt;\n#include &lt;math.h&gt;\n#define EXPORT __declspec(dllexport)\nEXPORT void CreateDB(int f)\n{\nfor (int i=0;i&lt;4;i++)\n{\n    sleep(1);\n    f=i+1;\n}\n}\n</code></pre>\n\n<p>The variable <strong>f</strong> returns the value that I want to use in the progress bar.</p>\n\n<p>The Exe C code is:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;math.h&gt;\nint main()\n{\n    for (int i=0;i&lt;4;i++)\n    {\n        sleep(1);\n    }\n}\n</code></pre>\n\n<p>Now that I invoke the C program as DLL, it lasts three times to perform the job. I would expect that the time is very similar than the C exe file. In addition, the progress bar is not updated in real time. </p>\n\n<p>The C# code in the Windows App Form is the following:</p>\n\n<pre><code>private void button7_Click(object sender, EventArgs e)\n    {\n        progressBar1.Maximum = 4;\n        IntPtr strPtr = Marshal.AllocHGlobal(Marshal.SizeOf(typeof(int)));\n        progressBar1.Value = avance(strPtr);\n        Application.DoEvents();\n    }\n</code></pre>\n\n<p>How can I do to solve the speed issue and how can I do to update the progress bar as a loop into the C DLL is running?</p>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["c#", "botframework"], "comments": [{"owner": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "edited": false, "score": 0, "creation_date": 1541095885, "post_id": 53092765, "comment_id": 93109303, "body": "What is it you&#39;re trying to test? because you can use conversationUpdate to check if a user is added or removed from a bot to see if they&#39;re still connected."}, {"owner": {"reputation": 315, "user_id": 8549603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2fe39814f3c54fa9a9b1a583125ddb58?s=128&d=identicon&r=PG&f=1", "display_name": "Oyen", "link": "https://stackoverflow.com/users/8549603/oyen"}, "reply_to_user": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "edited": false, "score": 1, "creation_date": 1541191088, "post_id": 53092765, "comment_id": 93145819, "body": "Given userA, i want to know if userB is still connected to the bot. userA and userB are not conversing with each other. I have both of their Conversation References stored. One of the practical application is if I have multiple Agents, I need a system to see which ones/if any one is actively online for a customer handoff."}], "owner": {"reputation": 315, "user_id": 8549603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2fe39814f3c54fa9a9b1a583125ddb58?s=128&d=identicon&r=PG&f=1", "display_name": "Oyen", "link": "https://stackoverflow.com/users/8549603/oyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541024538, "creation_date": 1541024538, "question_id": 53092765, "link": "https://stackoverflow.com/questions/53092765/counter-part-of-activity-createpingactivity-in-sdk-4", "title": "Counter part of Activity.CreatePingActivity() in SDK 4?", "body": "<p>There used to be Activity.CreatePingActivity() to determine if the user is still connected to the chat. </p>\n\n<p>What options are available to check connectivity? I tried simply sending an Event like this:</p>\n\n<pre><code>message.Type = ActivityTypes.Event;\nvar response = await BotConnectorClient\n    .Conversations.SendToConversationAsync(message as Activity);\n</code></pre>\n\n<p>The response for active chats and for closed webchats are the same.</p>\n"}, {"tags": ["c#", "asp.net", "session", "session-variables"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541024672, "post_id": 53092698, "comment_id": 93082254, "body": "What makes you think the session is lost?"}, {"owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541032221, "post_id": 53092698, "comment_id": 93084110, "body": "All my Session Variables had a value before.  After they do not.   Session(&quot;customername&quot;) = &quot;whatever&quot;; On the new page: It has no value."}, {"owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541067616, "post_id": 53092698, "comment_id": 93094143, "body": "Without waiting for anybody to answer the real question.  I can think of an option.  That involves &#39;Response.Redirect&#39;.  I set a &#39;Session&#39; variable with the alert and after redirect on the new page it sees it, displays it and deletes it.   I&#39;d rather do this in some-sortof parameter (or form object)."}, {"owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541079227, "post_id": 53092698, "comment_id": 93100228, "body": "Tried removing Page.ResolveUrl... Same results."}, {"owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541154530, "post_id": 53092698, "comment_id": 93127979, "body": "The &#39;response.redirect&#39; and the alert on the new page is what I&#39;m using.  It&#39;s ugly, but it works."}], "owner": {"reputation": 405, "user_id": 3964383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b841699b999beec064d2273f3392422?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Koernke", "link": "https://stackoverflow.com/users/3964383/robert-koernke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541024104, "creation_date": 1541024104, "question_id": 53092698, "link": "https://stackoverflow.com/questions/53092698/session-lost-when-changing-the-location-with-window-location-in-asp-net", "title": "Session Lost when changing the location with window.location in ASP.NET", "body": "<p>I'm displaying a message.<br>\nLike so:</p>\n\n<pre><code>//ScriptManager.RegisterStartupScript(this, this.GetType(), \"redirect\", errortext + \" window.location='\" +\n//Page.ResolveUrl(\"~\") + newpage + \"';\", true);\n\n//Response.Write(\"&lt;script&gt;\" + errortext + \"&lt;/script&gt;\");\n//Response.Write(\"&lt;script&gt;top.location.href='\" + Page.ResolveUrl(\"~\") + newpage + \"'&lt;/script&gt;\");\n\nvar page = HttpContext.Current.CurrentHandler as Page;\nScriptManager.RegisterStartupScript(page, page.GetType(), \"alert\", \"alert('\" + errortext + \"');window.location ='\" + Page.ResolveUrl(\"~\") + newpage + \"';\", true);\n</code></pre>\n\n<p>Note: As you can see, I've tried 3 different formats.  After the script redirect, the session is lost.  The page-url is nearly the same:\nMeaning it's <a href=\"https://whatever//hello.aspx\" rel=\"nofollow noreferrer\">https://whatever//hello.aspx</a> to <a href=\"https://whatever/hello2.aspx\" rel=\"nofollow noreferrer\">https://whatever/hello2.aspx</a></p>\n\n<p>I cannot use 'Response.Redirect' because that would kill the message.  The redirection does happen, the page comes up.  However I discover quite quickly that the page doesn't have the information it needs to operate.  </p>\n"}, {"tags": ["c#", ".net", "kestrel-http-server", "kestrel"], "comments": [{"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 1, "creation_date": 1541024255, "post_id": 53092651, "comment_id": 93082115, "body": "How doesn&#39;t self-hosted WCF suit your needs?"}, {"owner": {"reputation": 1861, "user_id": 1034912, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0691a2ca07f4f91f41e71919f669e22?s=128&d=identicon&r=PG", "display_name": "user1034912", "link": "https://stackoverflow.com/users/1034912/user1034912"}, "reply_to_user": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1541028349, "post_id": 53092651, "comment_id": 93083254, "body": "Wcf is only communications. I want to host my webpages on the server.. so the user does not need to install any webservers"}, {"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1541069877, "post_id": 53092651, "comment_id": 93095285, "body": "If you want to host web-pages on your server, then WCF is not applicable, either hosted on Kestrel or self-hosted, because WCF is for services, you are right here. Perhaps, you want to go for WebAPI. <b>&quot;so the user does not need to install any webservers&quot;</b> - this part is absolutely unclear. Which users? Users never need to install any web-servers, they consume it, either it is WCF or ASP.NET Core."}], "answers": [{"comments": [{"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1541069572, "post_id": 53093080, "comment_id": 93095119, "body": "I would personally say that it is not mutually exclusive. Kestrel is a web server for ASP.NET Core, but you technically can host services declared to be used for WCF and compatible with WCF (http\\https bindings only) in ASP.NET Core using custom middleware. However, as per semantics it is not very clear for me if they actually still would be WCF services in this case :)"}], "tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 2, "last_activity_date": 1541026819, "creation_date": 1541026819, "answer_id": 53093080, "question_id": 53092651, "link": "https://stackoverflow.com/questions/53092651/how-do-i-embed-a-kestrel-webserver-in-a-c-net-4-0-app/53093080#53093080", "title": "How do I Embed a Kestrel WebServer in a C# .NET 4.0 App", "body": "<p><a href=\"https://github.com/aspnet/KestrelHttpServer\" rel=\"nofollow noreferrer\"><strong>KestrelHttpServer</strong> : \"A cross platform web server for ASP.NET <strong><em>Core</em></strong>.\"</a>. (emphasis added by me).</p>\n\n<p>So that's no, and no.</p>\n"}], "owner": {"reputation": 1861, "user_id": 1034912, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0691a2ca07f4f91f41e71919f669e22?s=128&d=identicon&r=PG", "display_name": "user1034912", "link": "https://stackoverflow.com/users/1034912/user1034912"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1541026819, "creation_date": 1541023882, "question_id": 53092651, "link": "https://stackoverflow.com/questions/53092651/how-do-i-embed-a-kestrel-webserver-in-a-c-net-4-0-app", "title": "How do I Embed a Kestrel WebServer in a C# .NET 4.0 App", "body": "<p>I have a backend system developed with C# .NET 4.0. I wish to embed the light weight web server Kestrel on it. Has anyone done so? or can point me to a direction how to do such?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["c#", "sql-server", "datagrid"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1541023973, "post_id": 53092569, "comment_id": 93082026, "body": "See following link : <a href=\"https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-mvc-app/working-with-sql?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/tutorials/first-mvc-app&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 340, "user_id": 10220629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4f5b580ae150096be65b4f30d86fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Manta", "link": "https://stackoverflow.com/users/10220629/manta"}, "edited": false, "score": 0, "creation_date": 1541024344, "post_id": 53092569, "comment_id": 93082145, "body": "How do you want to query? Sql, linq, entity..."}, {"owner": {"reputation": 79, "user_id": 8876584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df54abd457db696097769b4e38d29c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross Bown", "link": "https://stackoverflow.com/users/8876584/ross-bown"}, "edited": false, "score": 0, "creation_date": 1541024814, "post_id": 53092569, "comment_id": 93082308, "body": "I want to query using Sql. I know how to display the data after i&#39;ve gotten there. I just don&#39;t know what the SQL query would look like to select all entries in the joining table grouped by the user_id... and the get the name of the class_id from the class_Details table. Does that make sense?"}, {"owner": {"reputation": 79, "user_id": 8876584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df54abd457db696097769b4e38d29c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross Bown", "link": "https://stackoverflow.com/users/8876584/ross-bown"}, "edited": false, "score": 0, "creation_date": 1541024945, "post_id": 53092569, "comment_id": 93082338, "body": "The joining table has user_id and class_id as tables... both are unique values in the user_details and class_details tables.  Example:  user_id 1 is in class_id 1 Class id 1 is English class  How would i query the above to create a table that displays:  Richard Jenkins        English as two separate columns"}, {"owner": {"reputation": 340, "user_id": 10220629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4f5b580ae150096be65b4f30d86fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Manta", "link": "https://stackoverflow.com/users/10220629/manta"}, "edited": false, "score": 0, "creation_date": 1541025427, "post_id": 53092569, "comment_id": 93082471, "body": "Could you write exactly what you want? You are talking about lessons, but I don&#39;t see any such a table..."}, {"owner": {"reputation": 79, "user_id": 8876584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df54abd457db696097769b4e38d29c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross Bown", "link": "https://stackoverflow.com/users/8876584/ross-bown"}, "edited": false, "score": 0, "creation_date": 1541025877, "post_id": 53092569, "comment_id": 93082592, "body": "Sorry Manta, please see updated post. I have added the tables I want to manipulate and join and how i want it to be displayed."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 8876584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df54abd457db696097769b4e38d29c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross Bown", "link": "https://stackoverflow.com/users/8876584/ross-bown"}, "edited": false, "score": 0, "creation_date": 1541028346, "post_id": 53093146, "comment_id": 93083252, "body": "Thank you Manta, appreciate that so much!"}], "tags": [], "owner": {"reputation": 340, "user_id": 10220629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4f5b580ae150096be65b4f30d86fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Manta", "link": "https://stackoverflow.com/users/10220629/manta"}, "is_accepted": true, "score": 1, "last_activity_date": 1541027376, "creation_date": 1541027376, "answer_id": 53093146, "question_id": 53092569, "link": "https://stackoverflow.com/questions/53092569/querying-a-many-to-many-relationship-and-then-displaying-the-results-in-a-table/53093146#53093146", "title": "Querying a many to many relationship, and then displaying the results in a table", "body": "<p>Try this :    </p>\n\n<pre><code>SELECT UC.User_ID,U.User_Name,UC.Class_Id,C.Class_Name from dbo.(joining table name)\ninner join dbo.user_details as U on U.User_Id=UC.User_ID\ninner join dbo.class_details as C on C.Class_Id=UC.Class_Id\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 8876584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df54abd457db696097769b4e38d29c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross Bown", "link": "https://stackoverflow.com/users/8876584/ross-bown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53093146, "answer_count": 1, "score": 0, "last_activity_date": 1541027376, "creation_date": 1541023355, "last_edit_date": 1541025845, "question_id": 53092569, "link": "https://stackoverflow.com/questions/53092569/querying-a-many-to-many-relationship-and-then-displaying-the-results-in-a-table", "title": "Querying a many to many relationship, and then displaying the results in a table", "body": "<p>Can someone please explain clearly how the above would be best approached using MySql and C#. The database and many to many relationship is already created. </p>\n\n<p>Here's how I would approach it which I'm sure there's a more efficient way of doing it:</p>\n\n<p>First i'd create an entry in all 3 tables \nThen I would select the entries where the user_id is equal to the one i need in the joining table\nThen I would select all entries out of the class_details which match the class_id's associated to that user in the joining table.\nThen would i create an inner join and display that?</p>\n\n<p>I basically want to display all the lessons a user is in, having the data stored in a many-to-many relationship. My apologies if this isn't best explained... I don't really know how to word it. Hopefully someone can help :D</p>\n\n<p>The below is a visual representation of what i want. Hope this helps</p>\n\n<p><a href=\"https://i.stack.imgur.com/RWkIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWkIo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "operating-system"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541024213, "post_id": 53092531, "comment_id": 93082096, "body": "See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.management.managementscope?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">this example</a>. Note you have to provide the name of the other computer (in WMI format) and possible also credentials required to access it."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 10587057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff297a4081a475da78e663c3475bf8e?s=128&d=identicon&r=PG&f=1", "display_name": "user6f6e65", "link": "https://stackoverflow.com/users/10587057/user6f6e65"}, "is_accepted": false, "score": 1, "last_activity_date": 1541025489, "creation_date": 1541025489, "answer_id": 53092911, "question_id": 53092531, "link": "https://stackoverflow.com/questions/53092531/trying-to-check-the-friendly-os-name-of-a-different-workstation/53092911#53092911", "title": "Trying to check the friendly OS name of a different workstation", "body": "<p>You can use the System.DirectoryServices to search on the directory 'WinNT' you can read more about it here:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.directoryentry.path?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.directoryentry.path?view=netframework-4.7.2</a></p>\n\n<p><strong>example solution</strong> - adding names to a list</p>\n\n<pre><code>// create list to add the names to\nvar pcnames = new List&lt;string&gt;();\n// establish the domains in the local network\nvar directory = new DirectoryEntry(\"WinNT:\");\n// iterate through the children\nforeach (DirectoryEntry workstation in directory.Children)\n{\n  pcnames.Add(workstation.Name)\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10588286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2852e408f808e37d767c731e635551a?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthy", "link": "https://stackoverflow.com/users/10588286/keerthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541027610, "creation_date": 1541023115, "last_edit_date": 1541027610, "question_id": 53092531, "link": "https://stackoverflow.com/questions/53092531/trying-to-check-the-friendly-os-name-of-a-different-workstation", "title": "Trying to check the friendly OS name of a different workstation", "body": "<p>I am trying to find the friendly OS name of a different workstation from my workstation. This occurred when I used:</p>\n\n<pre><code>var name = (from x in new ManagementObjectSearcher(\"SELECT Caption FROM Win32_OperatingSystem\").Get().Cast&lt;ManagementObject&gt;()\n                        select x.GetPropertyValue(\"Caption\")).FirstOrDefault();\n</code></pre>\n\n<p>it is returning my workstation's OS name. Can you please suggest me a better way to find out.</p>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["c#", "uwp", "put", "bad-request"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1541024936, "post_id": 53092502, "comment_id": 93082336, "body": "This is nothing to do with PHP. You&#39;re not sending proper JSON, so if that&#39;s what the API is expecting you&#39;re not going to get very far."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541041499, "post_id": 53092502, "comment_id": 93085890, "body": "I have ran in circles with UWP <code>HttpClient</code> and the result was; <code>HttpClient</code> is bare and basically requires everything to be set manually.  I would check the following:  Make sure it&#39;s Put and not Post as you&#39;re using <code>PutAsync</code>.  Make sure your encoding is correct (which I&#39;m sure it is).  If you&#39;re using or modifying the headers make sure to clear before modifrying them with the old.  This was my issue recently.  <code>miCliente .Headers.Clear();</code>"}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1541065848, "post_id": 53092502, "comment_id": 93093278, "body": "Is there any requirements for the httpclient <a href=\"https://github.com/ZhuMingHao/httpClient/blob/master/HttpClientTest/HttpManager.cs#L51\" rel=\"nofollow noreferrer\">header</a> within your php api?"}, {"owner": {"reputation": 21, "user_id": 9442645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alag", "link": "https://stackoverflow.com/users/9442645/alag"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541081462, "post_id": 53092502, "comment_id": 93101385, "body": "@MichaelPuckettII Now I&#180;m adding the headers manually but I have the same result :("}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541082133, "post_id": 53092502, "comment_id": 93101738, "body": "Can you update the question with the entire payload shown in Postman?"}, {"owner": {"reputation": 21, "user_id": 9442645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alag", "link": "https://stackoverflow.com/users/9442645/alag"}, "edited": false, "score": 0, "creation_date": 1541093186, "post_id": 53092502, "comment_id": 93107942, "body": "Updated with Postman, I&#180;m not sure if this is what you&#180;ve asked for."}], "owner": {"reputation": 21, "user_id": 9442645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alag", "link": "https://stackoverflow.com/users/9442645/alag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541093142, "creation_date": 1541022887, "last_edit_date": 1541093142, "question_id": 53092502, "link": "https://stackoverflow.com/questions/53092502/uwp-client-put-and-post-requests-fails-with-php-api", "title": "UWP client PUT and POST Requests Fails with PHP API", "body": "<p>I have a problem when I\u00b4m trying sending post and put requests to my webapi (the server side is coded in php and works with mysql).</p>\n\n<p>If I try to send a get request there is no problem at all, the API responds properly, the problem comes when I try to send a body in request (that\u00b4s why I think post and put fails).</p>\n\n<p>I am sure that my api works well, as long as I have done tests with postman and another clients and they all follow a correct way with these requests.\nThe API responds 400 Bad Request and I don\u00b4t know what to do. I\u00b4ve done the same api coded in C# and my code in client-side works, there\u00b4s any incompatibility between Universal Windows Platform and PHP API\u00b4s?</p>\n\n<p>My PUT method:</p>\n\n<pre><code>public async Task&lt;int&gt; updateFestivalDAL(Festival festival)\n    {\n        int resultado = 0;\n        Uri miConexion = (new clsMyConnection().getConnection());\n        HttpClient miCliente = new HttpClient();\n        String body = \"\";\n        HttpStringContent contenido;\n        HttpResponseMessage miRespuesta = new HttpResponseMessage();\n        try\n        {\n\n            body = JsonConvert.SerializeObject(festival);\n\n            contenido = new HttpStringContent(body, Windows.Storage.Streams.UnicodeEncoding.Utf8, \"application/json\");\n            miRespuesta = await miCliente.PutAsync(new Uri(miConexion + \"/\" + festival.ID), contenido);\n            if (miRespuesta.IsSuccessStatusCode)\n            {\n                resultado = 1;\n            }\n        }\n        catch (SqlException e)\n        {\n            throw e;\n        }\n        return resultado;\n    }    \n</code></pre>\n\n<p>That\u00b4s my body in request:</p>\n\n<pre><code>\"{\\\"ID\\\":1,\\\"edicion\\\":\\\"Prueba a\u00f1o anterior\\\",\\\"nombre\\\":\\\"fgh\\\",\\\"fecha_inicio\\\":\\\"2017-10-01T00:00:00\\\",\\\"fecha_fin\\\":\\\"2017-10-03T00:00:00\\\",\\\"coordenadas\\\":\\\"asdf\\\",\\\"twitter\\\":\\\"\\\",\\\"facebook\\\":\\\"\\\",\\\"instagram\\\":\\\"\\\",\\\"web\\\":\\\"\\\",\\\"curiosidades\\\":\\\"\\\"}\"    \n</code></pre>\n\n<p>And that\u00b4s my API response (miRespuesta variable value):</p>\n\n<pre><code> {StatusCode: 400, ReasonPhrase: 'Bad Request', Version: 2, Content: \n    Windows.Web.Http.HttpStreamContent, Headers:\n    {\n    Connection: close\n    Server: Apache/2.4.34 (Win32) OpenSSL/1.0.2o PHP/5.6.38\n    Date: Wed, 31 Oct 2018 21:47:36 GMT\n    X-Powered-By: PHP/5.6.38\n   }{\n   Content-Length: 0\n   Content-Type: text/html; charset=UTF-8\n   }}\n</code></pre>\n\n<p>Please help me if you know something. </p>\n\n<p>UPDATE: When I see content of miCliente variable (the one with httpclient), I can see there\u00b4s a list element called DefaultRequestHeaders. Maybe there\u00b4s the problem? I have to edit these to make them compatible with PHP?</p>\n\n<p><strong>UPDATE 2:</strong>\nI\u00b4ve changed two dates elements (fecha_inicio, fecha_fin) in database and my Festival class, so they are now varchar (string at class), trying if the problem was parsing datetimes and try saving as date in database, but still not work.</p>\n\n<p>Postman successfully request:</p>\n\n<pre><code>PUT /festival/1 HTTP/1.1\nHost: notrelevantbutwellformed.com\nContent-Type: application/json\ncache-control: no-cache\nPostman-Token: 100313d6-7087-4712-8b93-17873e1db14b\n{\n    \"ID\": \"1\",\n    \"edicion\": \"fgh\",\n    \"nombre\": \"fgh\",\n    \"fecha_inicio\": \"2018-11-01\",\n    \"fecha_fin\": \"2018-11-01\",\n    \"coordenadas\": \"asdf\",\n    \"twitter\": \"asfd\",\n    \"facebook\": \"ffsd\",\n    \"instagram\": \"asrss\",\n    \"web\": \"noo va a petar\",\n    \"curiosidades\": \"sdfsdfdsf\",\n    \"url_logo\": \"\",\n    \"url_cartel\": \"\"\n}------WebKitFormBoundary7MA4YWxkTrZu0gW--    \n</code></pre>\n"}, {"tags": ["c#", "logging", "uwp", "log4net", "log4net-configuration"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 2203864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f66f38e6a3b6f38321c4596f901f4db?s=128&d=identicon&r=PG", "display_name": "David Price", "link": "https://stackoverflow.com/users/2203864/david-price"}, "edited": false, "score": 0, "creation_date": 1556940914, "post_id": 53217328, "comment_id": 98608423, "body": "Doesn&#39;t Log4Net support a custom Log4Net.config file?"}, {"owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "reply_to_user": {"reputation": 171, "user_id": 2203864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f66f38e6a3b6f38321c4596f901f4db?s=128&d=identicon&r=PG", "display_name": "David Price", "link": "https://stackoverflow.com/users/2203864/david-price"}, "edited": false, "score": 0, "creation_date": 1556998268, "post_id": 53217328, "comment_id": 98621244, "body": "@DavidPrice Yet, but you must let Log4net know where to find this file - one way is via settings in the <code>app.config</code> file. Since this question is about an UWP app, this isn&#39;t possible as UWP has no concept of an <code>app.config</code> file. My answer shows how to reference such a custom config file via code."}], "tags": [], "owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "is_accepted": false, "score": 3, "last_activity_date": 1541717333, "creation_date": 1541717333, "answer_id": 53217328, "question_id": 53092470, "link": "https://stackoverflow.com/questions/53092470/how-to-configure-logging-via-log4net-in-an-uwp-app/53217328#53217328", "title": "How to configure logging via log4net in an UWP App", "body": "<p>Because there is no <code>App.config</code> file, you are going to have to configure <code>Log4net</code> programmatically.</p>\n\n<p>You can store the settings in a local file (or embedded resource) and read these at application startup; reference: <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/app-settings/store-and-retrieve-app-data\" rel=\"nofollow noreferrer\">Create and read a local file</a>.</p>\n\n<p><code>Log4net</code>'s <a href=\"https://logging.apache.org/log4net/release/sdk/html/T_log4net_Config_XmlConfigurator.htm\" rel=\"nofollow noreferrer\"><code>XmlConfigurator</code></a> class can accept these settings as a <code>Stream</code>, <code>FileInfo</code> or <code>XmlElement</code> via one of its <code>Configure</code> overloads. </p>\n\n<pre><code>log4net.Config.XmlConfigurator.Configure(XmlElement config);\nlog4net.Config.XmlConfigurator.Configure(Stream config);\nlog4net.Config.XmlConfigurator.Configure(FileInfo config);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 1, "creation_date": 1545538061, "post_id": 53229143, "comment_id": 94647559, "body": "Great answer. Only thing I would say is that you probably don&#39;t want logs going to <code>ApplicationData.LocalFolder</code> as it is <i>&quot;<a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.applicationdata.localfolder\" rel=\"nofollow noreferrer\">backed up to the cloud</a>&quot;</i>.  Perhaps <code>ApplicationData.LocalCacheFolder</code> or <code>TemporaryFolder</code>?"}, {"owner": {"reputation": 3290, "user_id": 4916898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdueC.jpg?s=128&g=1", "display_name": "Arnaud Develay", "link": "https://stackoverflow.com/users/4916898/arnaud-develay"}, "edited": false, "score": 0, "creation_date": 1545819849, "post_id": 53229143, "comment_id": 94702018, "body": "Hello MickyD, thanks for your comment. I have updated the response since I also think it should not be uploaded to the cloud by default."}], "tags": [], "owner": {"reputation": 3290, "user_id": 4916898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdueC.jpg?s=128&g=1", "display_name": "Arnaud Develay", "link": "https://stackoverflow.com/users/4916898/arnaud-develay"}, "is_accepted": true, "score": 6, "last_activity_date": 1545819718, "last_edit_date": 1545819718, "creation_date": 1541779003, "answer_id": 53229143, "question_id": 53092470, "link": "https://stackoverflow.com/questions/53092470/how-to-configure-logging-via-log4net-in-an-uwp-app/53229143#53229143", "title": "How to configure logging via log4net in an UWP App", "body": "<p>To complete <em>pfx</em> answer, if you are using netStandard, you will have to use <code>Configure</code> overloads with an additional parameter <code>log4net.Repository.ILoggerRepository</code>.</p>\n\n<p>I haven't been able to use the <code>ConsoleAppender</code> and switch to the <code>DebugAppender</code>.</p>\n\n<p>You cannot use relative path in UWP with <code>RollingFileAppender</code> since log4net will not have permission to create file in the install location of your application. I think it could work with a full path but I have seen some permissions issues (you should activate debug mode of log4net for this).</p>\n\n<p>Finally, I also made a <strong>Custom Appender</strong> which writes file in the <strong>Local Storage</strong> of your application. Here is the code which should be enhanced for production use.</p>\n\n<pre><code>namespace AppWithLog4net\n{\n    public class LocalStorageFileAppender : log4net.Appender.TextWriterAppender\n    {\n\n        private Stream m_stream;\n\n        public LocalStorageFileAppender() : base() {  }\n\n        protected override void PrepareWriter()\n        {\n            IAsyncOperation&lt;Windows.Storage.StorageFile&gt; task = Windows.Storage.ApplicationData.Current.LocalCacheFolder.CreateFileAsync(\"localStorage.log\", \n                                                                            Windows.Storage.CreationCollisionOption.GenerateUniqueName);\n            Windows.Storage.StorageFile file = task.GetAwaiter().GetResult();\n            m_stream = file.OpenStreamForWriteAsync().Result;\n\n            QuietWriter = new log4net.Util.QuietTextWriter(new StreamWriter(m_stream, Encoding.UTF8), ErrorHandler);\n            WriteHeader();\n        }\n\n        protected override void Reset()\n        {\n            m_stream.Dispose();\n            m_stream = null;\n            base.Reset();\n        }\n    }\n}\n</code></pre>\n\n<p>With the following config file:</p>\n\n<pre><code>&lt;log4net debug=\"true\"&gt;\n  &lt;appender name=\"Console\" type=\"log4net.Appender.DebugAppender\"&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=\"LocalStorageFile\" type=\"AppWithLog4net.LocalStorageFileAppender, AppWithLog4net\"&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;root&gt;\n    &lt;level value=\"INFO\" /&gt;\n    &lt;appender-ref ref=\"Console\" /&gt;\n    &lt;appender-ref ref=\"LocalStorageFile\" /&gt;\n  &lt;/root&gt;\n&lt;/log4net&gt;\n</code></pre>\n"}], "owner": {"reputation": 1342, "user_id": 919700, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8a56d6e5177348776169e5f3d9099232?s=128&d=identicon&r=PG", "display_name": "Cristiano Ghersi", "link": "https://stackoverflow.com/users/919700/cristiano-ghersi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 1, "accepted_answer_id": 53229143, "answer_count": 2, "score": 3, "last_activity_date": 1545819718, "creation_date": 1541022741, "last_edit_date": 1541779127, "question_id": 53092470, "link": "https://stackoverflow.com/questions/53092470/how-to-configure-logging-via-log4net-in-an-uwp-app", "title": "How to configure logging via log4net in an UWP App", "body": "<p>I have an UWP app that uses some of my libraries.\nSuch libraries use log4net for logging purpose, and are shared across a number of projects, not only UWP.</p>\n\n<p>I'd like to configure log4net via the usual confi section in the XML config file, but I cannot find a way to do this in an UWP project, since there isn't an app.config file.</p>\n\n<p>Where should I put the following section?</p>\n\n<pre><code>&lt;log4net&gt;\n    &lt;appender name=\"Console\" type=\"log4net.Appender.ConsoleAppender\"&gt;\n        &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n            &lt;conversionPattern value=\"%date - %message%newline\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"RollingFile\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n        &lt;file value=\"log\\mylog.log\" /&gt;\n        &lt;appendToFile value=\"true\" /&gt;\n        &lt;maximumFileSize value=\"2000KB\" /&gt;\n        &lt;maxSizeRollBackups value=\"20\" /&gt;\n\n        &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n            &lt;conversionPattern value=\"%date - %message%newline\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;root&gt;\n        &lt;level value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"Console\" /&gt;\n        &lt;appender-ref ref=\"RollingFile\" /&gt;\n    &lt;/root&gt;\n&lt;/log4net&gt;\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 4, "last_activity_date": 1541023608, "creation_date": 1541023608, "answer_id": 53092608, "question_id": 53092442, "link": "https://stackoverflow.com/questions/53092442/duplicate-element-name-propertyname-mongodb-driver-c-exception/53092608#53092608", "title": "Duplicate element name &#39;PropertyName&#39; Mongodb driver c# exception", "body": "<p>By using <code>BsonDocument</code> for your <code>$or</code> operator, you're effectively trying to create the following:</p>\n\n<pre><code>\"$or\": {\n    \"Schedule.End.ByDate\": null,\n    \"Schedule.End.ByDate\": { \"$gte\" : ISODate(\"...\") }\n}\n</code></pre>\n\n<p>If we look again at your error message:</p>\n\n<blockquote>\n  <p>\"Duplicate element name 'Schedule.End.ByDate'.\",</p>\n</blockquote>\n\n<p>It's clear that you <em>have</em> duplicated the <code>Schedule.End.ByDate</code> element name, which is invalid and not what was intended.</p>\n\n<p>Instead, you want to use <code>BsonArray</code> to wrap two <em>separate</em> objects, in order to produce the result you have in your Robo 3T query. To achieve that, you can use the following adaptation of your C# code:</p>\n\n<pre><code>\"$or\", new BsonArray\n{\n    new BsonDocument\n    {\n        { \"Schedule.End.ByDate\", BsonNull.Value }\n    },\n    new BsonDocument\n    {\n        {\n            \"Schedule.End.ByDate\", new BsonDocument\n            {\n                { \"$gte\", DateTime.UtcNow }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This produces the following, which matches your Robo 3T query for the <code>$or</code> section:</p>\n\n<pre><code>{ \"$or\" : [\n    { \"Schedule.End.ByDate\" : null },\n    { \"Schedule.End.ByDate\" : { \"$gte\" : ISODate(\"...\") } }\n] }\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 3223737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a0a9e38c8187607d0e55c0ef7b46d42?s=128&d=identicon&r=PG&f=1", "display_name": "renatogbp", "link": "https://stackoverflow.com/users/3223737/renatogbp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "accepted_answer_id": 53092608, "answer_count": 1, "score": 2, "last_activity_date": 1541023676, "creation_date": 1541022588, "last_edit_date": 1541023676, "question_id": 53092442, "link": "https://stackoverflow.com/questions/53092442/duplicate-element-name-propertyname-mongodb-driver-c-exception", "title": "Duplicate element name &#39;PropertyName&#39; Mongodb driver c# exception", "body": "<p>I have this query which works when I run it in Robo 3T:</p>\n\n<pre><code>db.getCollection('groupSchedule').aggregate([{ \"$match\" : { \"GroupId\" : ObjectId(\"598dd346e5549706a80680bf\") } }, \n{ \"$lookup\" : { \"from\" : \"schedule\", \"localField\" : \"ScheduleIds\", \"foreignField\" : \"_id\", \"as\" : \"Schedule\" } }, \n{ \"$unwind\" : \"$Schedule\" }, \n{ \"$match\" : {\"$or\": [{ \"Schedule.End.ByDate\" : {\"$gte\":new Date()}},{ \"Schedule.End.ByDate\" : null}] } }, \n{ \"$group\" : { \"_id\" : \"$GroupId\", \"SurveyIds\" : { \"$addToSet\" : \"$Schedule.SurveyId\" }, \"ScheduleIds\" : { \"$addToSet\" : \"$Schedule._id\" } } }, \n{ \"$project\" : { \"_id\" : 0, \"SurveyIds\" : 1, \"ScheduleIds\": 1 } }])\n</code></pre>\n\n<p>However, when I try to do the same thing using the C# driver as  it blows up saying that:</p>\n\n<blockquote>\n  <p>\"Duplicate element name 'Schedule.End.ByDate'.\",</p>\n</blockquote>\n\n<p>Here's the code:</p>\n\n<pre><code>return new List&lt;BsonDocument&gt;\n{\n    Common.Util.MongoUtils.Match(new BsonDocument { { \"GroupId\", groupId } }),\n    Common.Util.MongoUtils.Lookup(scheduleCollections, \"ScheduleIds\", \"_id\", \"Schedule\"),\n    Common.Util.MongoUtils.Unwind(\"$Schedule\"),\n    Common.Util.MongoUtils.Match(new BsonDocument\n    {\n        {\n            \"$or\", new BsonDocument\n            {\n                {\n                    \"Schedule.End.ByDate\", BsonNull.Value\n                },\n                {\n                    \"Schedule.End.ByDate\", new BsonDocument\n                    {\n                        {\n                            \"$gte\", DateTime.UtcNow\n                        }\n                    }\n                }\n            }\n        }\n    }),\n    Group(),\n    Common.Util.MongoUtils.Project(new BsonDocument\n    {\n        { \"_id\", 0 },\n        { \"SurveyIds\", 1 },\n        { \"Schedules\", 1 }\n    })\n};\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["c#", "botframework", "microsoft-teams"], "comments": [{"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1541108841, "post_id": 53092401, "comment_id": 93114883, "body": "It sounds like you have two issues here. As far as different channels behaving differently, that&#39;s expected. As far as the choices getting longer and longer each time, that&#39;s a bug. It may have been fixed recently, so please update your NuGet packages and let me know if it&#39;s still occurring"}, {"owner": {"reputation": 76, "user_id": 10565344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8817b1272028c58d12c3160deafc66?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Vaja", "link": "https://stackoverflow.com/users/10565344/tushar-vaja"}, "reply_to_user": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1541113967, "post_id": 53092401, "comment_id": 93116389, "body": "Thanks Kyle. Updated the Bot Builder packages from 4.0.7 to  4.1.1 solved the choices getting longer issue.  regarding the different channels behaving differently, what is the best solution you suggest? adaptive cards?"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 1, "creation_date": 1541114948, "post_id": 53092401, "comment_id": 93116673, "body": "I don&#39;t know that it&#39;s something that necessarily needs a solution. What specific problem is the different channel behavior causing for you? If a channel doesn&#39;t support buttons then that&#39;s up to the channel and there&#39;s not necessarily anything you or I can do about it. Not every channel supports adaptive cards, but every channel does support text."}], "owner": {"reputation": 76, "user_id": 10565344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8817b1272028c58d12c3160deafc66?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Vaja", "link": "https://stackoverflow.com/users/10565344/tushar-vaja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1541522172, "creation_date": 1541022335, "last_edit_date": 1541101269, "question_id": 53092401, "link": "https://stackoverflow.com/questions/53092401/bot-v4-shows-inconsistent-results-in-diff-channel-for-basic-choiceprompt", "title": "Bot (V4) shows inconsistent results in diff channel for basic choiceprompt", "body": "<p>I am getting inconsistent result for a basic choice prompt in Bot using V4  in different channel. Also when i enter invalid options, it sometime appends the option list in some channle. not sure, what i am doing wrong. </p>\n\n<p>e.g in Emulator \n<a href=\"https://i.stack.imgur.com/fkjRk.png\" rel=\"nofollow noreferrer\">it shows like this which is perfect most of the time</a></p>\n\n<p>e.g when i publish to azure web app bot, in test in web chat. it does not show choice in boxes but show as suggestion list and also appends the list of options after i enter incorrect option.\n<a href=\"https://i.stack.imgur.com/eKSbY.png\" rel=\"nofollow noreferrer\">see in portal  Web chat </a></p>\n\n<p>e.g in Microsoft Teams, it does not show choice in boxes but shows as suggestion list and also appends the list of options after i enter incorrect option.\n<a href=\"https://i.stack.imgur.com/NWysP.png\" rel=\"nofollow noreferrer\">see here in Microsoft Teams</a></p>\n\n<p>My code is like below</p>\n\n<pre><code>    public MytestBotRootDialog()\n        : base(nameof(PowerBICSSRootDialog))\n    {\n        this.rootChoices = new List&lt;Choice&gt;();\n        this.rootChoices.Add(new Choice { Value = \"Service\"});\n        this.rootChoices.Add(new Choice { Value = \"Desktop\"});\n        this.rootChoices.Add(new Choice { Value = \"Other\"});\n\n        var waterfallSteps = new WaterfallStep[]\n        {\n            PromptForRootChoicesAsync,\n            RouteToSpecificDialogAsync,\n            RepeatRootChoiceAsync\n        };\n        AddDialog(new WaterfallDialog(rootdialog, waterfallSteps));\n        AddDialog(new ChoicePrompt(rootchoicesprompt));\n        AddDialog(new ContentPackRootDialog());\n    }\n\n    private async Task&lt;DialogTurnResult&gt; PromptForRootChoicesAsync(WaterfallStepContext stepContext, CancellationToken cancellationToken)\n    {\n        var opts = new PromptOptions\n        {\n            Prompt = MessageFactory.Text(\"Select the Area\"),\n            Choices = rootChoices,\n            RetryPrompt = MessageFactory.Text(\"Please enter valid Area\"),\n        };\n\n        return await stepContext.PromptAsync(rootchoicesprompt, opts, cancellationToken);\n    }\n\n    private async Task&lt;DialogTurnResult&gt; RouteToSpecificDialogAsync(WaterfallStepContext stepContext, CancellationToken cancellationToken)\n    {\n        var selectedchoice = stepContext.Result as FoundChoice;\n        var result = selectedchoice.Value.ToLowerInvariant();\n        if (selectedchoice.Index == 0 || result.Contains(\"service\"))\n        {\n            var context = stepContext.Context;\n            await context.SendActivityAsync($\"You Selected Service\");\n            return await stepContext.NextAsync();\n        }\n        else if (selectedchoice.Index == 1 || result.Contains(\"desktop\"))\n        {\n            var context = stepContext.Context;\n            await context.SendActivityAsync($\"You Selected Dekstop\");\n            return await stepContext.NextAsync();\n        }\n        else if (selectedchoice.Index == 2 || result.Contains(\"other\"))\n        {\n            return await stepContext.BeginDialogAsync(nameof(ContentPackRootDialog));\n        }\n        else\n            return await stepContext.NextAsync();\n    }\n    private async Task&lt;DialogTurnResult&gt; RepeatRootChoiceAsync(WaterfallStepContext stepContext, CancellationToken cancellationToken)\n    {\n        return await stepContext.ReplaceDialogAsync(rootdialog, null, cancellationToken);\n    }\n</code></pre>\n"}, {"tags": ["c#", "enums", "asp.net-core-2.1", "validationattribute", "ivalidatableobject"], "comments": [{"owner": {"reputation": 340, "user_id": 10220629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4f5b580ae150096be65b4f30d86fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Manta", "link": "https://stackoverflow.com/users/10220629/manta"}, "edited": false, "score": 0, "creation_date": 1541024748, "post_id": 53092375, "comment_id": 93082279, "body": "Enum is an int. Maybe 0 is your problem. Have you tried to set the first enum at 1?"}, {"owner": {"reputation": 108, "user_id": 4821289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c35ff843706b7080567527300d0a021?s=128&d=identicon&r=PG", "display_name": "Matthew Peltzer", "link": "https://stackoverflow.com/users/4821289/matthew-peltzer"}, "reply_to_user": {"reputation": 340, "user_id": 10220629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4f5b580ae150096be65b4f30d86fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Manta", "link": "https://stackoverflow.com/users/10220629/manta"}, "edited": false, "score": 0, "creation_date": 1541096872, "post_id": 53092375, "comment_id": 93109774, "body": "@Manta Yes I have.  In fact, that&#39;s how I first noticed the issue.  MyEnum is populated form a select box, which at first only contained each element form the enum.  I then decided I waned a &#39;Choose One...&#39; option at the top of the list, and set its value to 0."}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1541098201, "post_id": 53092375, "comment_id": 93110406, "body": "Sort of feels like you are searching for this: <a href=\"https://stackoverflow.com/q/14381564/125981\">stackoverflow.com/q/14381564/125981</a>"}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 4821289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c35ff843706b7080567527300d0a021?s=128&d=identicon&r=PG", "display_name": "Matthew Peltzer", "link": "https://stackoverflow.com/users/4821289/matthew-peltzer"}, "edited": false, "score": 0, "creation_date": 1541097607, "post_id": 53092962, "comment_id": 93110121, "body": "This is useful, it appears to do exactly what my <code>EnumCheck</code> attribute class does, so I can remove that.  However, if I declare the field as <code>public MyEnum MyEnum { get; set;}</code> then I get the <code>The value &#39;0&#39; is invalid</code> message rather than the specified <code>ErrorMessage</code>.  I still have to declare the field as an int."}, {"owner": {"reputation": 796, "user_id": 8700582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4900b1c81bd0f24e33fb00f684ac3232?s=128&d=identicon&r=PG&f=1", "display_name": "P&#233;ter Csajtai", "link": "https://stackoverflow.com/users/8700582/p%c3%a9ter-csajtai"}, "edited": false, "score": 0, "creation_date": 1541099396, "post_id": 53092962, "comment_id": 93110970, "body": "That is weird, i got the proper validation message in my sample project, how do you make the validation exactly?"}, {"owner": {"reputation": 108, "user_id": 4821289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c35ff843706b7080567527300d0a021?s=128&d=identicon&r=PG", "display_name": "Matthew Peltzer", "link": "https://stackoverflow.com/users/4821289/matthew-peltzer"}, "edited": false, "score": 0, "creation_date": 1543037839, "post_id": 53092962, "comment_id": 93783300, "body": "Exactly as you have it.  I&#39;ve gone and made a new soultion/project as a minimal example with the same results.  Perhaps I need a different method of displaying the error?  I have tried both:  <code>@Html.ValidationMessageFor(m =&gt; m.MyEnum)</code> and <code>&lt;span asp-validation-for=&quot;@Model.MyEnum&quot; class=&quot;text-danger&quot;&gt;&lt;&#47;span&gt;</code>"}, {"owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "edited": false, "score": 0, "creation_date": 1543087341, "post_id": 53092962, "comment_id": 93794550, "body": "I think this plan will never work. If the posted value can&#39;t be turned into an enum, then the ValidationAttributes are never reached. The error happens a stage earlier, in the model-binding. If the posted value <i>can</i> be turned into an enum, then validation always passes! Either way, this ValidationAttribute can never return a fail."}], "tags": [], "owner": {"reputation": 796, "user_id": 8700582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4900b1c81bd0f24e33fb00f684ac3232?s=128&d=identicon&r=PG&f=1", "display_name": "P&#233;ter Csajtai", "link": "https://stackoverflow.com/users/8700582/p%c3%a9ter-csajtai"}, "is_accepted": false, "score": 1, "last_activity_date": 1541025865, "creation_date": 1541025865, "answer_id": 53092962, "question_id": 53092375, "link": "https://stackoverflow.com/questions/53092375/asp-net-custom-errormessage-for-model-enum-field/53092962#53092962", "title": "ASP.NET Custom ErrorMessage for Model Enum field", "body": "<p>I think you are searching for the <code>EnumDataTypeAttribute</code>:</p>\n\n<pre><code>[EnumDataType(typeof(MyEnum), ErrorMessage = \"Select an item form the list.\")]\npublic MyEnum MyEnum { get; set; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7748, "user_id": 550314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wg7ZV.jpg?s=128&g=1", "display_name": "Chris F Carroll", "link": "https://stackoverflow.com/users/550314/chris-f-carroll"}, "is_accepted": true, "score": 2, "last_activity_date": 1550872096, "last_edit_date": 1550872096, "creation_date": 1543086287, "answer_id": 53461473, "question_id": 53092375, "link": "https://stackoverflow.com/questions/53092375/asp-net-custom-errormessage-for-model-enum-field/53461473#53461473", "title": "ASP.NET Custom ErrorMessage for Model Enum field", "body": "<ul>\n<li><p>In your original case, <code>[Required(ErrorMessage = \"Select an item from the list.\")]</code> you are setting the message to be shown if <code>MyEnum</code> is missing. But like all <code>ValueTypes</code>, it can <strong>never</strong> be missing so it will never trigger that validation. The solution for this is the nullable ValueType.</p></li>\n<li><p>Your second effort <em>still</em> doesn't work because the <em>model-binding</em> failure \u2013 \"Can a blank value be converted to a <code>Day</code>? No it can't.\" kicks in before your <em>validation</em> can kick in. </p></li>\n</ul>\n\n<p>Validation for a <code>Type</code> presupposes that you have an <code>instance</code> of that <code>Type</code> to validate. The way Aspnetcore turns a form post into that typed value, is modelbinding. If the posted value can't be model-bound -- for instance if you post \"boo\" to a property declared as an <code>int</code>, or an empty string to an <code>Enum</code> -- then <em>validation</em> never even starts. Instead the <em>modelbinding</em> error is shown.</p>\n\n<p>The simple solution is </p>\n\n<ul>\n<li>Use a <strong>nullable enum</strong>, <code>Day?</code> so that  <em>modelbinding</em> a blank succeeds (blank resolves to <code>null</code>).</li>\n<li>Use <code>[Required()]</code> so that that <code>null</code> value then fails validation.</li>\n</ul>\n\n<p>Conclusion: change your form to:</p>\n\n<pre><code>public class Form\n{\n    [Required(ErrorMessage = \"Select an item from the list.\")]\n    public Day? Day { get; set; }\n}\n</code></pre>\n\n<p>And then it will work as you'd expect.</p>\n\n<p>Reference: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-2.1#notes-on-the-use-of-the-required-attribute\" rel=\"nofollow noreferrer\">Model Validation in AspNet Core MVC</a></p>\n\n<p>NB unlike other <code>ValidationAttributes</code>, the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.dataannotations.enumdatatypeattribute?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">documentation for <code>EnumDataType</code></a>, although it inherits from ValidationAttribute, doesn't give an example of using it for validation. Instead the example is of using it for MetaData.</p>\n"}], "owner": {"reputation": 108, "user_id": 4821289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c35ff843706b7080567527300d0a021?s=128&d=identicon&r=PG", "display_name": "Matthew Peltzer", "link": "https://stackoverflow.com/users/4821289/matthew-peltzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1628, "favorite_count": 0, "accepted_answer_id": 53461473, "answer_count": 2, "score": 4, "last_activity_date": 1550872096, "creation_date": 1541022153, "last_edit_date": 1543085215, "question_id": 53092375, "link": "https://stackoverflow.com/questions/53092375/asp-net-custom-errormessage-for-model-enum-field", "title": "ASP.NET Custom ErrorMessage for Model Enum field", "body": "<p>I am developing a website built on EntityFrameworkCore and targeting ASP.NET Core 2.1.  I want to specify an error message for an enum field in my model like so:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Required(ErrorMessage = \"Select an item from the list.\")]\npublic MyEnum MyEnum { get; set; }\n</code></pre>\n\n<p>However, the stock message is still generated: <code>The value '0' is invalid</code>.  The problem appears to be that the Enum type is validated prior to any of my code being evaluated.  The two approaches presented here (<a href=\"https://www.codeproject.com/Articles/1204077/ASP-NET-Core-MVC-Model-Validation\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/1204077/ASP-NET-Core-MVC-Model-Validation</a>), either creating a class that inherits from ValidationAttribute, or having the model inherit from IValidatableObject both suffer from this.</p>\n\n<p>I have found a workaround: declare the field as an int, and then use a custom validation attribute:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[EnumCheck(typeof(MyEnum), ErrorMessage = \"Select an item form the list.\")]\npublic int MyEnum { get; set; }\n</code></pre>\n\n<p>...and then subclass from ValidationAttribute:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>sealed public class EnumCheck : ValidationAttribute\n{\n    readonly Type t_;\n\n    public EnumCheck(Type t)\n    {\n        t_ = t;\n    }\n\n    public override bool IsValid(object value)\n    {\n        return Enum.IsDefined(t_, value);\n    }\n}\n</code></pre>\n\n<p>This approach has some drawbacks as now I need to cast the field to the Enum type in many places that it is used.</p>\n\n<p>Is there a way to provide an ErrorMessage for Enum field types?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The following is a minimal example (No longer using EnumCheck subclass from ValidationAttribute, but rather the EnumDataType mentioned by @P\u00e9terCsajtai):</p>\n\n<p>Model\n</p>\n\n<pre><code>namespace web.Models\n{\n    public enum Day\n    {\n        Sunday = 1,\n        Monday,\n        Tuesday,\n        Wednesday,\n        Thursday,\n        Friday,\n        Saturday\n    }\n\n    public class Form\n    {\n        [EnumDataType(typeof(Day), ErrorMessage = \"Select an item from the list.\")]\n        public Day Day { get; set; }\n    }\n}\n</code></pre>\n\n<p>Controller\n</p>\n\n<pre><code>namespace web.Controllers\n{\n    public class HomeController : Controller\n    {\n        public IActionResult Index()\n        {\n            return View();\n        }\n\n        public IActionResult Save(Form model)\n        {\n            if(!ModelState.IsValid)\n            {\n                return View(\"Index\");\n            }\n\n            return View(\"Index\", model);\n        }\n    }\n}\n</code></pre>\n\n<p>View\n</p>\n\n<pre><code>&lt;form asp-controller=\"Home\"&gt;\n    &lt;div asp-validation-summary=\"All\" class=\"text-danger\"&gt;&lt;/div&gt;\n    &lt;fieldset&gt;\n        &lt;label asp-for=\"@Model.Day\"&gt;&lt;/label&gt;\n        &lt;select asp-for=\"@Model.Day\" asp-items=\"Html.GetEnumSelectList&lt;Day&gt;()\"&gt;\n            &lt;option value=\"\"&gt;Select...&lt;/option&gt;\n        &lt;/select&gt;\n        @Html.ValidationMessageFor(m =&gt; m.Day)\n        &lt;span asp-validation-for=\"@Model.Day\" class=\"text-danger\"&gt;&lt;/span&gt;\n    &lt;/fieldset&gt;\n    &lt;fieldset&gt;\n        &lt;input type=\"submit\" asp-action=\"Save\" /&gt;\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And the output after form post:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9s3k0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9s3k0.png\" alt=\"form output\"></a></p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1541022004, "post_id": 53092298, "comment_id": 93081423, "body": "I prefer using better naming so the anonymous object picks them up from the values: <code>items.SelectMany(item =&gt; item.Codes.Select(Code =&gt; new { item.Id, Code }))</code>"}, {"owner": {"reputation": 1480, "user_id": 1762267, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ef652f02912bda6e326ea3561f69ffe0?s=128&d=identicon&r=PG", "display_name": "Questioning", "link": "https://stackoverflow.com/users/1762267/questioning"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1541022075, "post_id": 53092298, "comment_id": 93081448, "body": "@NetMage Looks far better, however I&#39;m in the habit of using single letters then just explicitly naming the anonymous object."}], "tags": [], "owner": {"reputation": 16987, "user_id": 303427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de44ded2e8f143cd4cc98914bc929db?s=128&d=identicon&r=PG", "display_name": "Diego Torres", "link": "https://stackoverflow.com/users/303427/diego-torres"}, "is_accepted": true, "score": 4, "last_activity_date": 1541022150, "last_edit_date": 1541022150, "creation_date": 1541021839, "answer_id": 53092298, "question_id": 53092236, "link": "https://stackoverflow.com/questions/53092236/flatten-a-collection-based-on-an-internal-property/53092298#53092298", "title": "Flatten a collection based on an internal property", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.selectmany?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">SelectMany</a> can return multiple elements for each item as a single list</p>\n\n<pre><code>items\n    .SelectMany(foo =&gt; foo.Codes.Select(code =&gt; new { Id = foo.Id, Code = code }));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 3, "last_activity_date": 1541022134, "creation_date": 1541022134, "answer_id": 53092370, "question_id": 53092236, "link": "https://stackoverflow.com/questions/53092236/flatten-a-collection-based-on-an-internal-property/53092370#53092370", "title": "Flatten a collection based on an internal property", "body": "<p>The answer of Diego Torres is correct; I would only add to it that this query is particularly concise and readable in the comprehension form:</p>\n\n<pre><code>var q = from foo in foos\n        from code in foo.Codes\n        select new { Code = code, foo.Id };\n</code></pre>\n"}], "owner": {"reputation": 1480, "user_id": 1762267, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ef652f02912bda6e326ea3561f69ffe0?s=128&d=identicon&r=PG", "display_name": "Questioning", "link": "https://stackoverflow.com/users/1762267/questioning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 53092298, "answer_count": 2, "score": 1, "last_activity_date": 1541022150, "creation_date": 1541021552, "question_id": 53092236, "link": "https://stackoverflow.com/questions/53092236/flatten-a-collection-based-on-an-internal-property", "title": "Flatten a collection based on an internal property", "body": "<p>Given the follow class structure:</p>\n\n<pre><code>int Id;\nstring[] Codes;\n</code></pre>\n\n<p>And the following data:</p>\n\n<pre><code>Foo { Id = 1, Codes = new[] { \"01\", \"02\" } }\nFoo { Id = 2, Codes = new[] { \"02\", \"03\" } }\nFoo { Id = 3, Codes = new[] { \"04\", \"05\" } }\n</code></pre>\n\n<p>I would like to end up with the following structure.</p>\n\n<pre><code>Code = \"01\", Id = 1\nCode = \"02\", Id = 1\nCode = \"02\", Id = 2\nCode = \"03\", Id = 2\nCode = \"04\", Id = 3\nCode = \"05\", Id = 3\n</code></pre>\n\n<hr>\n\n<p>I've got the following query, but it's giving me a collection as the Id rather than the flat structure I am after. </p>\n\n<pre><code>collection.GroupBy(f =&gt; f.Codes.SelectMany(c =&gt; c), f =&gt; f.Id,\n      (code, id) =&gt; new { Code = code, Id = id })\n   .ToArray()\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "generics", "casting"], "comments": [{"owner": {"reputation": 192, "user_id": 7023897, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46141c8b6d01199015df7303745a281b?s=128&d=identicon&r=PG&f=1", "display_name": "Minu", "link": "https://stackoverflow.com/users/7023897/minu"}, "edited": false, "score": 0, "creation_date": 1541021645, "post_id": 53092203, "comment_id": 93081292, "body": "Can you try something like this: var processMessageType = typeof(IEnumerable&lt;&gt;).MakeGenericType(context.Object.GetType&zwnj;&#8203;());"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1541023841, "post_id": 53092203, "comment_id": 93081997, "body": "You might get something out of my answer to: <a href=\"https://stackoverflow.com/questions/51679179/c-sharp-covert-type-into-ienumerable-of-same-type/51679749#51679749\" title=\"c sharp covert type into ienumerable of same type\">stackoverflow.com/questions/51679179/&hellip;</a>.  That references this as well: <a href=\"https://stackoverflow.com/questions/9140873/how-to-use-activator-to-create-an-instance-of-a-generic-type-and-casting-it-back\" title=\"how to use activator to create an instance of a generic type and casting it back\">stackoverflow.com/questions/9140873/&hellip;</a>"}], "owner": {"reputation": 4209, "user_id": 313072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02df357c5e2309add7416cb366c1c7c2?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/313072/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1541024654, "answer_count": 0, "score": 0, "last_activity_date": 1541021301, "creation_date": 1541021301, "question_id": 53092203, "link": "https://stackoverflow.com/questions/53092203/create-generic-type-at-run-time-and-pass-it-to-a-generic-method", "closed_reason": "Duplicate", "title": "Create generic type at run time and pass it to a generic method", "body": "<p>I am working on a class that inherits from <code>OutputFormatter</code>.</p>\n\n<p>In my <code>WriteResponseBodyAsync</code> method I take in a <code>OutputFormatterWriteContext context</code> and need to call a method that takes an <code>IEnumerable&lt;T&gt; objects</code> as a parameter.</p>\n\n<p>I'm using a third party library that has a method like this - </p>\n\n<pre><code>public SerializedData Serialize&lt;T&gt;(IEnumerable&lt;T&gt; someObject){...}\n</code></pre>\n\n<p>My WriteResponseBodyAsync method is like this - </p>\n\n<pre><code>public override Task WriteResponseBodyAsync(OutputFormatterWriteContext context)\n {\n     // need to make a call like the below,\n     // but of course, this won't compile because context.Object is not an IEnumerable&lt;T&gt;.\n     var serializedData = ThirdParyLibrary.Serialize(context.Object);\n\n     return Task.FromResult(serializedData);\n }\n</code></pre>\n\n<p>I don't know how to go from the <code>context.Object</code> the <code>IEnumberable&lt;T&gt; objects</code>. I have tried a few variations of <code>context.Object.GetType()</code> and <code>GetGenericTypeDefinition()</code> and <code>MakeGenericType(..)</code> but none of these help. </p>\n\n<p>Is there way to do something like - </p>\n\n<pre><code>var myType = context.Object.GetType().GetGenericArguments()[0]; //this gets the type inside the enumerable I want to return.\nIEnumerable&lt;myType&gt; typedObjects = (IEnumerable&lt;myType&gt;) context.Object;\n</code></pre>\n"}, {"tags": ["c#", ".net", "task-parallel-library"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1541020964, "post_id": 53092096, "comment_id": 93081052, "body": "The fact that your complete example using this snippet works as intended means that you&#39;ve specifically demonstrated that the problem is in some other code.  Without any idea what that code is, it&#39;s impossible to say why it isn&#39;t working."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541021336, "post_id": 53092096, "comment_id": 93081175, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "edited": false, "score": 0, "creation_date": 1541025445, "post_id": 53092096, "comment_id": 93082480, "body": "Yep I agree with both points. The question was directed to what &#39;could&#39; be contributing. I would agree that it is almost certainly a side effect. But I am at a loss as to what I should try to isolate further. If I could make the complete and verifiable example I would hope I would be well on the way to solving the issue."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541025571, "post_id": 53092096, "comment_id": 93082519, "body": "<code>to what &#39;could&#39; be contributing</code> That is too broad a question. There is no point asking what could contribute (although my answer below is the most likely cause) - if you show us the code we can work out what <b>is</b> the cause."}, {"owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1541026067, "post_id": 53092096, "comment_id": 93082655, "body": "Though I totally get your point on this being too broad; it was something I had spent an age trying to isolate. This post was desperation and thankfully it worked as Douglas&#39;s answer solved my issue. That said I still +1 on yours @mjwills as I do need to revisit other usecases to make sure. So thanks all."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1541090200, "post_id": 53092096, "comment_id": 93106317, "body": "Minor clarification on your note: Adding the <code>ConfigureAwait(false)</code> does fix the issue. Replacing <code>.Wait()</code> and <code>.Result</code> calls by <code>async</code>\u2013<code>await</code> all the way also fixes the issue. Either one is sufficient in isolation, although avoiding blocking calls is indeed more important."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1541097254, "post_id": 53092096, "comment_id": 93109933, "body": "@Douglas Adding <code>ConfigureAwait</code> hides the issue and results in the bug potentially manifesting in slightly different ways, if it even does anything at all (it very likely won&#39;t).  It doesn&#39;t fix the issue."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1541097419, "post_id": 53092096, "comment_id": 93110022, "body": "@Servy: That&#39;s incorrect. Applying <code>ConfigureAwait(false)</code> throughout the code that is blocked will prevent the deadlock. You can read Stephen Cleary&#39;s article from my link: &quot;It is best to apply both best practices. Either one will prevent the deadlock, but both must be applied to achieve maximum performance and responsiveness.&quot;"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1541097887, "post_id": 53092096, "comment_id": 93110260, "body": "@Douglas If you can prevent any code, <i>anywhere</i> from accessing the synchronization context in any way, then you won&#39;t have a deadlock.  Of course, if any of that code <i>needed</i> the synchronization context, then it&#39;s just broken in a different way.  And there are lots of ways of scheduling code to use the synchronization context beyond just awaiting without <code>ConfigureAwait(false)</code>, if any of those methods are used <i>anywhere</i> in the operation being synchronously waited on, you still have a deadlock.  So <i>best case</i>, you get a different error stemming from the same problem."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1541098094, "post_id": 53092096, "comment_id": 93110349, "body": "...which clearly wasn&#39;t the case in the OP&#39;s scenario, since adding the <code>ConfigureAwait(false)</code> eliminated the deadlock. But this is devolving into another pointless discussion. I&#39;ve already stated that eliminating the blocking calls is more important, and linked to Cleary&#39;s article which explains the technicalities better than I could. I have nothing further to add."}, {"owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1541178936, "post_id": 53092096, "comment_id": 93140861, "body": "Sorry to have put cats amongst pigeons... the ConfigureAwait(false) showed me what the problem was. In my case it didn&#39;t solve it; but reading the article you linked to @Douglas did. I actually took the approach of removing the processing from the UI thread and having it all execute in the threadpool which removed the issue around context. But how to fix it was not my question... the question, which Douglas answered, was what could be the cause as I was stumped. I added a note on the accepted answer to try to clarify this"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "edited": false, "score": 0, "creation_date": 1541025785, "post_id": 53092173, "comment_id": 93082565, "body": "Interestingly I use this in 2 places. In the console app the task never hits the timeout and was working fine. It is in the winforms UI that it hangs... and trying the configure await false works :) I have no idea who downvoted this but it goes as my solution. thanks"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "edited": false, "score": 1, "creation_date": 1541028237, "post_id": 53092173, "comment_id": 93083226, "body": "There is a tendency for people to downvote what they perceive as &quot;open-ended&quot; questions and their answers. However, your question contained enough information for this issue to be identified. It&#39;s actually a very common issue in .NET when using async\u2013await in WinForms or WPF applications. The root cause is that you&#39;re presumably calling <code>.Result</code> or <code>.Wait()</code> on the task returned from the async method containing the above code. See <a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">Don&#39;t Block on Async Code</a> for an explanation."}], "tags": [], "owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "is_accepted": true, "score": 0, "last_activity_date": 1541021126, "creation_date": 1541021126, "answer_id": 53092173, "question_id": 53092096, "link": "https://stackoverflow.com/questions/53092096/why-does-my-delay-task-not-trigger-the-task-waitany/53092173#53092173", "title": "Why does my delay task not trigger the Task.WaitAny()", "body": "<p>This might happen if you're blocking on that async method from a synchronization context that executes continuations on the original thread, such as a WPF or WinForms UI. Try adding <code>ConfigureAwait(false)</code> and check whether that avoids the hanging:</p>\n\n<pre><code>var readyTask = await Task.WhenAny(myLongRunningTask, Task.Delay(9000)).ConfigureAwait(false);\nif (readyTask != myLongRunnnigTask &amp;&amp; !myLongRunningTask.IsFaulted)\n{\n    Console.WriteLine(\"TimedOut\");\n}\nelse\n{\n    Console.WriteLine(\"Completed\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "edited": false, "score": 0, "creation_date": 1541025240, "post_id": 53092326, "comment_id": 93082417, "body": "In this case the task is not completed and not re-assigned. I made sure of that in one test case. Also the WhenAny does not return. That said it is an interesting point and I will revisit the activity of the task in other circumstances"}], "tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": false, "score": -2, "last_activity_date": 1541021965, "creation_date": 1541021965, "answer_id": 53092326, "question_id": 53092096, "link": "https://stackoverflow.com/questions/53092096/why-does-my-delay-task-not-trigger-the-task-waitany/53092326#53092326", "title": "Why does my delay task not trigger the Task.WaitAny()", "body": "<blockquote>\n  <p>But I can't see what might side-effect it to this odd behaviour...</p>\n</blockquote>\n\n<p>Your <code>longRunningTask</code> is likely assigned the return value of a method like:</p>\n\n<pre><code>private static Task NewMethod()\n{\n    Thread.Sleep(11000);\n    return Task.CompletedTask;\n}\n</code></pre>\n\n<p>then later:</p>\n\n<pre><code>var myLongRunningTask = NewMethod();\n</code></pre>\n\n<p>Thus, by the time you reach the <code>var readyTask = await</code> line, the 11 second sleep ('long running task') has <strong>already occurred</strong> (since <code>NewMethod</code> is not asynchonous), and thus <code>Task.WhenAny</code> returns instantly (since <code>longRunningTask</code> is complete).</p>\n"}], "owner": {"reputation": 321, "user_id": 2810971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00798b4fa0fec87cfc2af4c44a001cc?s=128&d=identicon&r=PG&f=1", "display_name": "Wizbit", "link": "https://stackoverflow.com/users/2810971/wizbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 53092173, "answer_count": 2, "score": -1, "last_activity_date": 1541078845, "creation_date": 1541020738, "last_edit_date": 1541078845, "question_id": 53092096, "link": "https://stackoverflow.com/questions/53092096/why-does-my-delay-task-not-trigger-the-task-waitany", "title": "Why does my delay task not trigger the Task.WaitAny()", "body": "<p>So I have the following:</p>\n\n<pre><code>if (await Task.WhenAny(myLongRunningTask, Task.Delay(9000)) != myLongRunnnigTask &amp;&amp; !myLongRunningTask.IsFaulted)\n{\n    Console.WriteLine(\"TimedOut\");\n}\nelse\n{\n    Console.WriteLine(\"Completed\");\n}\n</code></pre>\n\n<p>Seems to work fine when I complete my task; but if I never complete the long running task then this just hangs instead of timing out after 9 seconds. Even put in the faulted test to be sure.</p>\n\n<p>(NOTE: Real code does more than just commandline write; but it never even gets into the scope; though I did try just commandline writing too... no change.)</p>\n\n<p>Yet doing what looks to me to be exactly the same thing in LinqPad:</p>\n\n<pre><code>async void Main()\n{\n    var Other = Task.Factory.StartNew(() =&gt; { Thread.Sleep(15000); });\n    if(await Task.WhenAny(Other, Task.Delay(4000)) != Other &amp;&amp; !Other.IsFaulted) \"TimedOut\".Dump();\n    else \"Completed\".Dump();\n\n    Other = Task.Factory.StartNew(() =&gt; { Thread.Sleep(1000); });\n    if(await Task.WhenAny(Other, Task.Delay(4000)) != Other &amp;&amp; !Other.IsFaulted) \"TimedOut\".Dump();\n    else \"Completed\".Dump();\n}\n</code></pre>\n\n<p>That happily writes TimedOut then Completed.</p>\n\n<p>The first code section is deep down in a pretty huge module. But I can't see what might side-effect it to this odd behaviour... What might I be missing?</p>\n\n<p><strong>NOTE on accepted answer:</strong></p>\n\n<p>The question here was what might be side-effecting this. @Douglas' answer indicates the side effect that was impacting my code. That does not necessarily fix the issue; just tells you where your problem lies. However he helpfully added a comment with a link to an article that <strong>does</strong> help you fix it.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1541020707, "post_id": 53092058, "comment_id": 93080940, "body": "You assign the <code>listBox1.SelectedItem</code> to your variable, instead of reading the value, and you initialize <code>selectedTeam</code> to <code>&quot;&quot;</code> for no reason. Unless constrained by if logic, always, always initialize to your desired value: <code>string selectedTeam = listBox1.SelectedItem;</code>&#39;"}, {"owner": {"reputation": 192, "user_id": 7023897, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46141c8b6d01199015df7303745a281b?s=128&d=identicon&r=PG&f=1", "display_name": "Minu", "link": "https://stackoverflow.com/users/7023897/minu"}, "edited": false, "score": 0, "creation_date": 1541020786, "post_id": 53092058, "comment_id": 93080979, "body": "You should be assigning the selectedTeam variable with listbox selection not vice versa."}, {"owner": {"reputation": 1, "user_id": 10588108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f7568992370c6b1f08f68518dc7a00e?s=128&d=identicon&r=PG&f=1", "display_name": "tideo", "link": "https://stackoverflow.com/users/10588108/tideo"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1541022761, "post_id": 53092058, "comment_id": 93081663, "body": "@NetMage  Sorry, I failed to mention that I originally I had:       if (listBox1.SelectedItem == champions[i])  and it would say unintended reference comparison and the IDE tells me to cast the left hand side to string CS0252  when I do the following, the IDE tells me (cs0266)      string selectedTeam = listBox1.SelectedItem;"}, {"owner": {"reputation": 192, "user_id": 7023897, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46141c8b6d01199015df7303745a281b?s=128&d=identicon&r=PG&f=1", "display_name": "Minu", "link": "https://stackoverflow.com/users/7023897/minu"}, "edited": false, "score": 0, "creation_date": 1541023233, "post_id": 53092058, "comment_id": 93081813, "body": "Where exactly is your selected item? The value is no where inside the method you have specified. You should be getting it from the EventArgs right? You have called button_click but where is the chosen value being fetched? Also, please do not use &#39;==&#39;, use selectedItem.Equals(champions[index])"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1541023591, "post_id": 53092058, "comment_id": 93081926, "body": "<b>Use a debugger</b>. If you stepped through the code in a debugger you would quickly see that one of your variables has the wrong value."}, {"owner": {"reputation": 1, "user_id": 10588108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f7568992370c6b1f08f68518dc7a00e?s=128&d=identicon&r=PG&f=1", "display_name": "tideo", "link": "https://stackoverflow.com/users/10588108/tideo"}, "reply_to_user": {"reputation": 192, "user_id": 7023897, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46141c8b6d01199015df7303745a281b?s=128&d=identicon&r=PG&f=1", "display_name": "Minu", "link": "https://stackoverflow.com/users/7023897/minu"}, "edited": false, "score": 0, "creation_date": 1541024795, "post_id": 53092058, "comment_id": 93082299, "body": "@Minu your suggestion worked! :)  if(listBox1.SelectedItem.Equals(champions[i]))  Everyone else&#39;s suggestions made more errors which I am not sure how to fix. (that&#39;s why I didn&#39;t assign the listbox&#39;s item directly to a string.)  and Eric Lippert I am not sure how to interpret what the debugger is saying so I came here for help. I have looked at similar problems other people have had, and the answers are way beyond my understanding unfortunately.  I had to forgo the foreach loop since it gave me wonky numbers (idk why). But the for loop works fine. Thanks!"}, {"owner": {"reputation": 192, "user_id": 7023897, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/46141c8b6d01199015df7303745a281b?s=128&d=identicon&r=PG&f=1", "display_name": "Minu", "link": "https://stackoverflow.com/users/7023897/minu"}, "edited": false, "score": 0, "creation_date": 1541025804, "post_id": 53092058, "comment_id": 93082571, "body": "Please upvote if u feel that was the right suggestion :)"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1541103042, "post_id": 53092058, "comment_id": 93112624, "body": "If you got error CS0252 you used <code>if (... = ...</code> and <b>not</b> <code>if (... == ...</code> as that is the meaning of the error. <code>ListBox.SelectedItem</code> is of type <code>object</code>, you must always watch your types in C#. <code>listBox1.SelectedItem.ToString()</code> would work."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 10578242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/itEmZ.jpg?s=128&g=1", "display_name": "d3ssy", "link": "https://stackoverflow.com/users/10578242/d3ssy"}, "is_accepted": false, "score": 0, "last_activity_date": 1541022872, "creation_date": 1541022872, "answer_id": 53092498, "question_id": 53092058, "link": "https://stackoverflow.com/questions/53092058/how-to-use-a-loop-to-count-the-occurrence-of-a-particular-string-in-an-array/53092498#53092498", "title": "How to use a loop to count the occurrence of a particular string in an Array", "body": "<p>You are setting listBox1.SelectedItem to an empty string selectedTeam.</p>\n\n<pre><code> string selectedTeam = \"\";//To put listbox selection into string\n listBox1.SelectedItem = selectedTeam;//Assigning listbox item to string\n</code></pre>\n\n<p>Instead you should be assigning listBox1.SelecteItem to a string. </p>\n"}], "owner": {"reputation": 1, "user_id": 10588108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f7568992370c6b1f08f68518dc7a00e?s=128&d=identicon&r=PG&f=1", "display_name": "tideo", "link": "https://stackoverflow.com/users/10588108/tideo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541030441, "creation_date": 1541020513, "last_edit_date": 1541030441, "question_id": 53092058, "link": "https://stackoverflow.com/questions/53092058/how-to-use-a-loop-to-count-the-occurrence-of-a-particular-string-in-an-array", "title": "How to use a loop to count the occurrence of a particular string in an Array", "body": "<p>I made two arrays using:<br></p>\n\n<pre><code> string[] teamNames = File.ReadAllLines(\"Teams.txt\")\n string[] champions = File.ReadAllLines(\"WorldSeriesWinners.txt\")\n</code></pre>\n\n<p>I have the first array inside of the construct so that the <code>ListBox</code> shows up with the opening of the program.</p>\n\n<p>The first array is then put into a <code>ListBox</code> from which a user can select a name of a team. Once this team's name is selected, that name should be counted in the second array and the count integer is increased by one if the name is found if not the loop should move to the next item in the array until all items are looked at.</p>\n\n<p>I created the loop and I receive a value of zero for my count no matter what I select. I am not sure of what is causing this issue. From what I have checked, both arrays are working fine, but I believe my sequential search is not doing it's job correctly.</p>\n\n<p>I have tried using a foreach and a for loop. Both have the same issue.</p>\n\n<pre><code>using System.IO;\n\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        string[] teamNames = File.ReadAllLines(\"Teams.txt\");//Put team names into array for the list box\n        listBox1.Sorted = true;//Sort list box\n        foreach (string name in teamNames)//Puts array into listbox\n        {\n            listBox1.Items.Add(name);\n        }\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        string[] champions = File.ReadAllLines(\"WorldSeriesWinners.txt\");//Puts names of teams winning from 1903 to 2012\n\n        int arrayLength = champions.Length; //Total length of champions list.\n        int count = 0; //To count how many times a team has won\n        int index = 0; //To process through the index\n        string countedAmount = \"\";//To make my count into string.\n\n        string selectedTeam = \"\";//To put listbox selection into string\n        listBox1.SelectedItem = selectedTeam;//Assigning listbox item to string\n        /*for (int i = 0; i&lt;arrayLength; i++)\n        {\n            if(selectedTeam == champions[i])\n            {\n                count++;\n            }\n            else\n            {\n                index++;\n            }\n        }*/\n\n        foreach (string name in champions)\n        {\n            if(selectedTeam == champions[index] )\n            {\n                count++;\n            }\n            else\n            {\n                index++;\n            }\n        }\n\n        countedAmount = count.ToString();//Count into string\n        MessageBox.Show(listBox1.SelectedItem + \" won the world series \" + countedAmount + \" times!\");//Display count\n    }\n\n    private void button2_Click(object sender, EventArgs e)\n    {\n        this.Close();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "stopwatch"], "comments": [{"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "edited": false, "score": 1, "creation_date": 1541020886, "post_id": 53092053, "comment_id": 93081022, "body": "The <code>stopwatch1</code> instance only live in <code>StopWatchCreate</code> scope what did you want to do?"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1541021064, "post_id": 53092053, "comment_id": 93081080, "body": "Have you tried putting it into the <code>public Form()</code> method instead of <code>Form1_Load()</code> ?"}, {"owner": {"reputation": 377, "user_id": 668775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9678d7e4e5cb6286e0cc73bb14f56c19?s=128&d=identicon&r=PG", "display_name": "Tito", "link": "https://stackoverflow.com/users/668775/tito"}, "edited": false, "score": 1, "creation_date": 1541021079, "post_id": 53092053, "comment_id": 93081085, "body": "You are creating the instances inside StopWatchCreate() and need to create at class level"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1541021470, "post_id": 53092053, "comment_id": 93081235, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12060748/c-sharp-local-variable-scope\">C# local variable scope</a>"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 9312566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-94t6wMu9J3I/AAAAAAAAAAI/AAAAAAAAAB8/swi8ScJV7No/photo.jpg?sz=128", "display_name": "Mr.feel", "link": "https://stackoverflow.com/users/9312566/mr-feel"}, "is_accepted": false, "score": 2, "last_activity_date": 1541021825, "creation_date": 1541021825, "answer_id": 53092293, "question_id": 53092053, "link": "https://stackoverflow.com/questions/53092053/displaying-stopwatch-current-time-in-textbox-in-c/53092293#53092293", "title": "Displaying stopwatch current time in TextBox in C#", "body": "<p>Perhaps you seem to want this.</p>\n\n<p>With a little modification in this code, you can create what you want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5MIAW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5MIAW.gif\" alt=\"enter image description here\"></a></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Diagnostics;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp23\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        Timer t1;\n\n        Stopwatch s1;\n        Stopwatch s2;\n\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            s1 = new Stopwatch();\n            s2 = new Stopwatch();\n\n            t1 = new Timer();\n            t1.Interval = 1;\n            t1.Tick += T1_Tick;\n            t1.Start();\n        }\n\n        private void T1_Tick(object sender, EventArgs e)\n        {\n            textBox1.Text = s1.ElapsedMilliseconds.ToString();\n            textBox2.Text = s2.ElapsedMilliseconds.ToString();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            s1.Start();\n            s2.Start();\n        }\n\n        private void button2_Click(object sender, EventArgs e)\n        {\n            s1.Stop();\n            s2.Stop();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "is_accepted": false, "score": 1, "last_activity_date": 1541021844, "creation_date": 1541021844, "answer_id": 53092304, "question_id": 53092053, "link": "https://stackoverflow.com/questions/53092053/displaying-stopwatch-current-time-in-textbox-in-c/53092304#53092304", "title": "Displaying stopwatch current time in TextBox in C#", "body": "<p>First, as the comments says, all the Stopwatch variables must be fields of the <code>Form</code>, not local variables, as they are now. </p>\n\n<p>Do like this:</p>\n\n<pre><code>public partial Form1: Form\n{\n      Stopwatch stopwatch1 = new Stopwatch();\n      Stopwatch stopwatch2 = new Stopwatch();\n      // etc\n</code></pre>\n\n<p>Then to display the current value of the StopWatches, you will need a <code>Timer</code> Component, simply drop a <code>Timer</code> on the Form. </p>\n\n<p>Then write an eventhandler for the <code>Timer</code>, that looks like this:</p>\n\n<pre><code>private void Timer1_Tick(object sender, EventArgs e)\n{\n        TimerTextBox1.Text = stopwatch1.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        TimerTextBox2.Text = stopwatch2.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        // etc\n}\n</code></pre>\n\n<p>The <code>Timer</code> should propably trigger once per second (set <code>Interval</code> to 1000).</p>\n\n<p>Now the textboxes will show the value of the Stopwatches every second.</p>\n"}], "owner": {"reputation": 31, "user_id": 10582628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4ad7454a499ca1579209d4301e9ef96?s=128&d=identicon&r=PG&f=1", "display_name": "Shannon C", "link": "https://stackoverflow.com/users/10582628/shannon-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541021844, "creation_date": 1541020474, "question_id": 53092053, "link": "https://stackoverflow.com/questions/53092053/displaying-stopwatch-current-time-in-textbox-in-c", "title": "Displaying stopwatch current time in TextBox in C#", "body": "<p>What I am looking for: </p>\n\n<p>When my main form loads, I want 15 stopwatches created and 15 textbox.text's to be assigned to each stopwatch. These textboxes will display the current time of each timer after it is started:</p>\n\n<pre><code>       public void Form1_Load(object sender, EventArgs e)\n    {\n        StopWatchCreate();\n    }\n\n    public void StopWatchCreate()\n    {\n        Stopwatch stopwatch1 = new Stopwatch();\n        TimerTextBox1.Text = stopwatch1.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch2 = new Stopwatch();\n        TimerTextBox2.Text = stopwatch2.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch3 = new Stopwatch();\n        TimerTextBox3.Text = stopwatch3.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch4 = new Stopwatch();\n        TimerTextBox4.Text = stopwatch4.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch5 = new Stopwatch();\n        TimerTextBox5.Text = stopwatch5.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch6 = new Stopwatch();\n        TimerTextBox6.Text = stopwatch6.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch7 = new Stopwatch();\n        TimerTextBox7.Text = stopwatch7.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch8 = new Stopwatch();\n        TimerTextBox8.Text = stopwatch8.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch9 = new Stopwatch();\n        TimerTextBox9.Text = stopwatch9.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch10 = new Stopwatch();\n        TimerTextBox10.Text = stopwatch10.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch11 = new Stopwatch();\n        TimerTextBox11.Text = stopwatch11.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch12 = new Stopwatch();\n        TimerTextBox12.Text = stopwatch12.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch13 = new Stopwatch();\n        TimerTextBox13.Text = stopwatch13.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch14 = new Stopwatch();\n        TimerTextBox14.Text = stopwatch14.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n        Stopwatch stopwatch15 = new Stopwatch();\n        TimerTextBox15.Text = stopwatch15.Elapsed.ToString(\"hh\\\\:mm\\\\:ss\");\n    }\n</code></pre>\n\n<p>After a button click I want the corresponding stopwatch to start and the textbox.text to display the current timer. The issue I am running into is under the button clock function:</p>\n\n<pre><code>public void button1_Click(object sender, EventArgs e)\n    {\n        Form1.stopwatch1.Start();\n    }\n</code></pre>\n\n<p>but stopwatch1 is giving the error: 'TaskTracker.Form1' does not contain a definition for 'stopwatch1'</p>\n\n<p>Thank you for your help with this!</p>\n"}, {"tags": ["c#", "unit-testing", "debugging", "exception"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1541020725, "post_id": 53092046, "comment_id": 93080949, "body": "May be helpful: <a href=\"https://stackoverflow.com/questions/18007967/net-framework-error-hresult-0x8007000b#18008488\" title=\"net framework error hresult 0x8007000b%2318008488\">stackoverflow.com/questions/18007967/&hellip;</a>"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1541021608, "post_id": 53092046, "comment_id": 93081281, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1648213/could-not-load-file-or-assembly-xxx-or-one-of-its-dependencies-an-attempt-was\">Could not load file or assembly &#39;xxx&#39; or one of its dependencies. An attempt was made to load a program with an incorrect format</a>"}, {"owner": {"reputation": 2213, "user_id": 304326, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/89e7f6dfa7ee2ed59af1a1ee2c6dfd1f?s=128&d=identicon&r=PG", "display_name": "Dave M", "link": "https://stackoverflow.com/users/304326/dave-m"}, "edited": false, "score": 0, "creation_date": 1541031408, "post_id": 53092046, "comment_id": 93083951, "body": "C# code is JIT compiled into either 32 or 64 bit native code at runtime. If the parent process that loads the assembly is 32 bit it will be JITed into 32 bit or if the parent is 64 then 64. The unit test runner is probably 32 bit and the debug session is probably 64 (or vice versa). This is why you see different behavior."}], "answers": [{"tags": [], "owner": {"reputation": 498, "user_id": 807396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c3b543b801f1668d3e7f7d3530c1c0a?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/807396/phil"}, "is_accepted": true, "score": 0, "last_activity_date": 1541457840, "creation_date": 1541457840, "answer_id": 53163353, "question_id": 53092046, "link": "https://stackoverflow.com/questions/53092046/an-attempt-was-made-to-load-a-program-with-an-incorrect-format-thrown-in-debug/53163353#53163353", "title": "&quot;An attempt was made to load a program with an incorrect format&quot; thrown in debug but not from unit test. Why?", "body": "<p>With reference to [Dave M] who has explained the reason, this is closing off the question with the steps to rectify the issue. </p>\n\n<p>To correct the problem, the [Solution Properties] was opened (VS2017) - an additional configuration was created from the [Configuration manager] with the platform set to x86 for the Project and Unit tests. </p>\n\n<p>The solution was run in Debug and successfully completed the connection to the Database. </p>\n"}], "owner": {"reputation": 498, "user_id": 807396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c3b543b801f1668d3e7f7d3530c1c0a?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/807396/phil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 53163353, "answer_count": 1, "score": 1, "last_activity_date": 1541457840, "creation_date": 1541020433, "last_edit_date": 1541026487, "question_id": 53092046, "link": "https://stackoverflow.com/questions/53092046/an-attempt-was-made-to-load-a-program-with-an-incorrect-format-thrown-in-debug", "title": "&quot;An attempt was made to load a program with an incorrect format&quot; thrown in debug but not from unit test. Why?", "body": "<p>Hi I have looked at other answers and I don't see anything that would answer this, I have code that executes correctly when initiated by a unit test but throws </p>\n\n<blockquote>\n  <p>An attempt was made to load a program with an incorrect format. (Exception from HRESULT: 0x8007000B)</p>\n</blockquote>\n\n<p>When the same method is called with the same values in debug mode \nthe line that throws the error : </p>\n\n<pre><code>dbConnection = new SQLiteConnection(@\"Data Source = \" + pathtoDB + \"; version=3;\");\n</code></pre>\n\n<p>In both cases where it is called there is no difference in pathtoDB, as I say my unit test has no problem with this method but debug fails. I have no idea why.</p>\n\n<p>Edit - Thanks for the links, but it's not actually answering the question, I accept that it's possible that the dll for SQLite may not be x64 but that does not explain why this runs correctly from a unit test but not from a debug session with exactly the same parameters. It is this that I am seeking an answer to. I have also updated the title</p>\n\n<p>Edit - The Sqlite stuff is x64 it's not that that is causing it, just an update it's not changing the question.</p>\n"}, {"tags": ["c#", ".net", "excel"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1541022370, "post_id": 53091946, "comment_id": 93081542, "body": "It would be awesome if you could update your question to show at least 16 sample inputs and the expected results for each of those inputs."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1541022522, "post_id": 53091946, "comment_id": 93081595, "body": "Please be aware that Excel and <code>Math.Round</code> by default use different rounding - <a href=\"https://stackoverflow.com/questions/44310679/bankers-rounding-function-in-excel\" title=\"bankers rounding function in excel\">stackoverflow.com/questions/44310679/&hellip;</a> . You likely want to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.round?view=netframework-4.7.2#System_Math_Round_System_Decimal_System_MidpointRounding_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> ."}], "answers": [{"tags": [], "owner": {"reputation": 14884, "user_id": 315689, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/GkAk0.png?s=128&g=1", "display_name": "dana", "link": "https://stackoverflow.com/users/315689/dana"}, "is_accepted": false, "score": 2, "last_activity_date": 1541021667, "last_edit_date": 1541021667, "creation_date": 1541020321, "answer_id": 53092023, "question_id": 53091946, "link": "https://stackoverflow.com/questions/53091946/how-to-round-a-number/53092023#53092023", "title": "How to round a number", "body": "<p>I did a straight substitution of your formula...</p>\n\n<ul>\n<li>CONCATENATE => String.Concat</li>\n<li>ROUND => Math.Round</li>\n<li>ROUNDUP => Math.Ceiling</li>\n</ul>\n\n<p>Also, I switched to using using <code>AwayFromZero</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.midpointrounding?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">MidpointRounding</a> as I beleive it is the Excel default, whereas .NET defaults to <code>ToEven</code>.</p>\n\n<pre><code>decimal slno = 2696709;\nstring result = String.Concat(\n        Math.Round(slno/256,MidpointRounding.AwayFromZero),\n        Math.Ceiling(((slno /256)-Math.Round(slno/256,MidpointRounding.AwayFromZero))*256)\n    );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7162, "user_id": 71470, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c87f89a1fbb8dab4df1e53a5b76d896a?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/71470/peter"}, "edited": false, "score": 0, "creation_date": 1541052406, "post_id": 53092049, "comment_id": 93088072, "body": "champion:):):):)"}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 3, "last_activity_date": 1541023844, "last_edit_date": 1541023844, "creation_date": 1541020458, "answer_id": 53092049, "question_id": 53091946, "link": "https://stackoverflow.com/questions/53091946/how-to-round-a-number/53092049#53092049", "title": "How to round a number", "body": "<p>This is happening due to order of operations. Your multiplication by 256 is taking place before your subtraction.</p>\n\n<p>In this portion of your code:</p>\n\n<pre><code>Math.Ceiling(((slno / 256) - Math.Round((slno / 256), 0) * 256))\n</code></pre>\n\n<p>You want to make the subtraction occur first, which you can do with parenthesis.</p>\n\n<pre><code>Math.Ceiling((((slno / 256) - Math.Round((slno / 256), 0)) * 256))\n</code></pre>\n\n<p><em>I would also look into setting an explicit <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.midpointrounding?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">MidpointRounding</a> value on your rounding calls, as the default (to nearest even) is often not what you are expecting over away from zero.</em>\n<em>As an example, <code>=ROUND(2.5,0)</code> results in a cell with the value <code>3</code>, <code>Math.Round(2.5, 0)</code> results in <code>2</code>.</em></p>\n\n<p>The complete translation of the excel formula could look like this:</p>\n\n<pre><code>decimal slno = 2696709; \nvar val = slno / 256;\nvar valRound = Math.Round(val, 0, MidPointRounding.AwayFromZero);\nvar result = valRound.ToString() + Math.Ceiling((val - valRound) * 256).ToString();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 699, "user_id": 2117013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ipSBE.jpg?s=128&g=1", "display_name": "Zuhair", "link": "https://stackoverflow.com/users/2117013/zuhair"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1541022404, "post_id": 53092101, "comment_id": 93081556, "body": "I didn&#39;t notice that this formula is using two functions. I fixed it. Thanks @Jonathon Chase"}], "tags": [], "owner": {"reputation": 699, "user_id": 2117013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ipSBE.jpg?s=128&g=1", "display_name": "Zuhair", "link": "https://stackoverflow.com/users/2117013/zuhair"}, "is_accepted": false, "score": 1, "last_activity_date": 1541022277, "last_edit_date": 1541022277, "creation_date": 1541020750, "answer_id": 53092101, "question_id": 53091946, "link": "https://stackoverflow.com/questions/53091946/how-to-round-a-number/53092101#53092101", "title": "How to round a number", "body": "<p>Thats the answer:</p>\n\n<pre><code>double slno = 2696709;\nvar result = Math.Round(slno / 256, 0).ToString() + Math.Ceiling(((slno / 256) - Math.Round(slno / 256, 0)) * 256).ToString();\n</code></pre>\n"}], "owner": {"reputation": 7162, "user_id": 71470, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c87f89a1fbb8dab4df1e53a5b76d896a?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/71470/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 53092049, "answer_count": 3, "score": 3, "last_activity_date": 1586755714, "creation_date": 1541019896, "last_edit_date": 1586755714, "question_id": 53091946, "link": "https://stackoverflow.com/questions/53091946/how-to-round-a-number", "title": "How to round a number", "body": "<p>I have logic provided from excel as </p>\n\n<pre><code>CONCATENATE(ROUND(slno/256,0),ROUNDUP(((slno /256)-ROUND(slno/256,0))*256,0)) \n</code></pre>\n\n<p>and i am converting in to c# the same.As per the logic if slno is <code>2696709</code> then answer should be <code>105345</code>.But when i used following c# code i am getting it as <code>10534-2686169</code>,how to correct and get it as <code>105345</code>\nWrong code i used is as below</p>\n\n<pre><code>decimal slno = 2696709;\nstring result = Math.Round((slno / 256), 0).ToString() + \n                Math.Ceiling(((slno / 256) - \n                Math.Round((slno / 256), 0) * 256)).ToString();\n</code></pre>\n"}, {"tags": ["c#", "fluent-migrator"], "comments": [{"owner": {"reputation": 119, "user_id": 2141445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d3bd0953a0047c39e05dcd69b93d2e3?s=128&d=identicon&r=PG", "display_name": "heilch", "link": "https://stackoverflow.com/users/2141445/heilch"}, "edited": false, "score": 1, "creation_date": 1576171409, "post_id": 53091898, "comment_id": 104821828, "body": "Did you find a solution to this? I am having the same problem"}, {"owner": {"reputation": 89, "user_id": 1288365, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5c23af96173d98419377173610abf66?s=128&d=identicon&r=PG", "display_name": "Jerker Pihl", "link": "https://stackoverflow.com/users/1288365/jerker-pihl"}, "edited": false, "score": 0, "creation_date": 1594720327, "post_id": 53091898, "comment_id": 111217423, "body": "Does anybody have solution for this? I have also this problem"}, {"owner": {"reputation": 2441, "user_id": 1903386, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae2e283a8f6e085e401c53984321f148?s=128&d=identicon&r=PG&f=1", "display_name": "JMan", "link": "https://stackoverflow.com/users/1903386/jman"}, "reply_to_user": {"reputation": 89, "user_id": 1288365, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5c23af96173d98419377173610abf66?s=128&d=identicon&r=PG", "display_name": "Jerker Pihl", "link": "https://stackoverflow.com/users/1288365/jerker-pihl"}, "edited": false, "score": 0, "creation_date": 1594731811, "post_id": 53091898, "comment_id": 111223689, "body": "@JerkerPihl It was a bug in that version, see my answer. Use an older or newer version and it should be ok"}], "answers": [{"comments": [{"owner": {"reputation": 2037, "user_id": 1267231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badfc45bd16e13b34dd17125aa0f2697?s=128&d=identicon&r=PG", "display_name": "Daniel Edwards", "link": "https://stackoverflow.com/users/1267231/daniel-edwards"}, "edited": false, "score": 1, "creation_date": 1563978359, "post_id": 55904136, "comment_id": 100880888, "body": "How much older did you need to go for this to work?"}, {"owner": {"reputation": 1858, "user_id": 1040437, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0c2cea78a2e9da9add2f8988d0f45700?s=128&d=identicon&r=PG", "display_name": "John Zabroski", "link": "https://stackoverflow.com/users/1040437/john-zabroski"}, "edited": false, "score": 0, "creation_date": 1576185017, "post_id": 55904136, "comment_id": 104827343, "body": "@JMan This was just reported as a bug by a different user.  I am not sure why you didn&#39;t, but please report these bugs as bugs, or we have no way to know about them."}], "tags": [], "owner": {"reputation": 2441, "user_id": 1903386, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae2e283a8f6e085e401c53984321f148?s=128&d=identicon&r=PG&f=1", "display_name": "JMan", "link": "https://stackoverflow.com/users/1903386/jman"}, "is_accepted": false, "score": 0, "last_activity_date": 1556543490, "creation_date": 1556543490, "answer_id": 55904136, "question_id": 53091898, "link": "https://stackoverflow.com/questions/53091898/unable-to-activate-type-fluentmigrator-infrastructure-defaultembeddedresourcepr/55904136#55904136", "title": "Unable to activate type &#39;FluentMigrator.Infrastructure.DefaultEmbeddedResourceProvider", "body": "<p>It is a bug in that version of FluentMigrator.\nWorks perfectly in older versions.</p>\n"}], "owner": {"reputation": 2441, "user_id": 1903386, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae2e283a8f6e085e401c53984321f148?s=128&d=identicon&r=PG&f=1", "display_name": "JMan", "link": "https://stackoverflow.com/users/1903386/jman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1556543490, "creation_date": 1541019636, "last_edit_date": 1541021322, "question_id": 53091898, "link": "https://stackoverflow.com/questions/53091898/unable-to-activate-type-fluentmigrator-infrastructure-defaultembeddedresourcepr", "title": "Unable to activate type &#39;FluentMigrator.Infrastructure.DefaultEmbeddedResourceProvider", "body": "<p>I am using <code>FuentMigrator</code> and <code>FluentMigrator.Runner</code> 3.1.3</p>\n\n<p>My Migrations are working fine and are executed against the database. But when i try to execute an embedded resource sql i get the following error message:</p>\n\n<p>Unable to activate type 'FluentMigrator.Infrastructure.DefaultEmbeddedResourceProvider'. The following constructors are ambigious:\nVoid .ctor(System.Collections.Generic.IEnumerable`1[System.Reflection.Assembly])\nVoid .ctor(FluentMigrator.Infrastructure.IAssemblyCollection)</p>\n\n<p>The constructor for the <code>IAssemblyCollection</code> is marked as obsolete in the documentation  but still see as a possible constructor.</p>\n\n<p>I have not found any info on this issue and have used this fuctionality in previous versions of <code>FluentMigrator</code></p>\n\n<p>my Code in the miration</p>\n\n<pre><code>public override void Up()\n    {\n        Execute.EmbeddedScript(\"M201810311049CreateInvoiceOverview_up.sql\");\n    }\n</code></pre>\n\n<p>Code for the runner</p>\n\n<pre><code>string connectionString = ConfigurationManager.ConnectionStrings[\"WorkingWithData\"].ConnectionString;\n        Announcer announcer = new TextWriterAnnouncer(s =&gt; System.Diagnostics.Debug.WriteLine(s));\n        announcer.ShowSql = true;\n\n        Assembly assembly = Assembly.GetExecutingAssembly();\n        IRunnerContext migrationContext = new RunnerContext(announcer);\n\n        var options = new ProcessorOptions\n        {\n            PreviewOnly = false,  // set to true to see the SQL\n            Timeout = TimeSpan.FromSeconds(60)\n        };\n        var factory = new SqlServer2014ProcessorFactory();\n        using (IMigrationProcessor processor = factory.Create(connectionString, announcer, options))\n        {\n            var runner = new MigrationRunner(assembly, migrationContext, processor);\n            runner.MigrateUp(true);\n\n            // Or go back down\n            //runner.MigrateDown(0);\n        }\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "linq", "linq-to-sql", "datacontext"], "comments": [{"owner": {"reputation": 429, "user_id": 239791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/78967565aea5f7ecbc5fbec1c5c3bf43?s=128&d=identicon&r=PG", "display_name": "c31983", "link": "https://stackoverflow.com/users/239791/c31983"}, "edited": false, "score": 0, "creation_date": 1541020866, "post_id": 53091854, "comment_id": 93081013, "body": "I have inspected the generated SQL for both cases. Looks exactly as you&#39;d expect. Copied the query and parameters to SSMS and ran it there. Same story. Fast."}, {"owner": {"reputation": 429, "user_id": 239791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/78967565aea5f7ecbc5fbec1c5c3bf43?s=128&d=identicon&r=PG", "display_name": "c31983", "link": "https://stackoverflow.com/users/239791/c31983"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1541021240, "post_id": 53091854, "comment_id": 93081137, "body": "@Symon I have used stored procedures in the past, but this issue is also applicable to scenarios where one needs to operate on and update the data that is being queried."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541119286, "post_id": 53091854, "comment_id": 93117611, "body": "If you drop <code>PK_TestClusteredIndex</code> (from the database, no change to C#) does it get faster?"}, {"owner": {"reputation": 429, "user_id": 239791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/78967565aea5f7ecbc5fbec1c5c3bf43?s=128&d=identicon&r=PG", "display_name": "c31983", "link": "https://stackoverflow.com/users/239791/c31983"}, "edited": false, "score": 0, "creation_date": 1541126640, "post_id": 53091854, "comment_id": 93119043, "body": "If I drop the primary key without regenerating the C# DataContext, the query remains slow."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541326586, "post_id": 53091854, "comment_id": 93171478, "body": "In that case, I would compare the auto-generated code for the two tables. Clearly the issue isn&#39;t server-side (since if you drop the PK the server-side is the same), so it must be in the auto-generated C#."}], "owner": {"reputation": 429, "user_id": 239791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/78967565aea5f7ecbc5fbec1c5c3bf43?s=128&d=identicon&r=PG", "display_name": "c31983", "link": "https://stackoverflow.com/users/239791/c31983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541087513, "creation_date": 1541019448, "last_edit_date": 1541087513, "question_id": 53091854, "link": "https://stackoverflow.com/questions/53091854/why-does-my-primary-key-slow-down-a-simple-linq-to-sql-query", "title": "Why does my primary key slow down a simple linq-to-sql query?", "body": "<p>I have a very simple table in SQL Server that has a compound primary key. The table is quite small with less than 10 MB of data. I am working with the table in C# using a data context auto-generated by SqlMetal. I filled the table with some initial data and was surprised when a simple select where query took over 30 seconds to complete! I imagined I should be able to read all 10 MB of data from disk and push it over our gigabit network in less than a second. I verified this was true by running the same query through Microsoft's SSMS.</p>\n\n<p>So, I started playing around with the data to figure out what was up. I found that if I removed the primary key from the table (and regenerated my SqlMetal file), the query returned my data in less than a second. Perfect! Except not, because no primary key. I added the key back, regenerated the SqlMetal file, and ran query again. Slow again! Next I removed the key from the table without regenerating the SqlMetal file. Still slow! I think all this tells me the problem lies on the client side, perhaps in the implementation of linq-to-sql or the data context generated by SqlMetal. </p>\n\n<p>So I started creating some test code and data that I could share on this site. I created a test database table with the same schema, code that filled the table with roughly the same amount of data, and of course the simple query that was taking so long. I ran it to make sure everything worked... Lo and behold, the query ran fairly fast. Is my actual data to blame? </p>\n\n<p>So I went about trying to get my test data to resemble my real data as closely as possible. My actual data has a natural key composed of a <code>bigint</code> and <code>nvarchar(64)</code>. I then add another <code>bigint</code> as a third element to the primary key for the purpose of managing versions. When a new items get added to the data set, I give it a unique <code>ID</code> (<code>bigint</code>) and give it a version ID equal to its ID. Subsequent changes to that element generate new version IDs (<code>bigint</code>). So, as I initially populated the table with all new elements, all version IDs equaled the elements' IDs. </p>\n\n<p>I replicated this in my test data and sure enough, the query slowed to a crawl. I'm trying to understand what is happening with this query. It is obviously not an issue with the query execution plan on the server because it runs fast under any scenario using SSMS. What is linq-to-sql doing with my data before it returns my query results? Why does the profile of the data (namely the primary key values) affect the processing speed on the client side? </p>\n\n<p>Here is some code to help if you want to test this:</p>\n\n<p>SQL Server table generation:</p>\n\n<pre><code>CREATE TABLE [dbo].[TestClusteredIndex]\n(\n    [VID] [BIGINT] NOT NULL,\n    [EID] [BIGINT] NOT NULL,\n    [Filter] [NVARCHAR](64) COLLATE SQL_Latin1_General_CP1_CS_AS NOT NULL,\n    [MID] [NVARCHAR](64) COLLATE SQL_Latin1_General_CP1_CS_AS NOT NULL,\n    [SD] [DATE] NULL,\n    [ED] [DATE] NULL,\n    [B] [BIT] NOT NULL,\n\n    CONSTRAINT [PK_TestClusteredIndex] \n        PRIMARY KEY CLUSTERED ([EID] ASC, [Filter] ASC, [VID] ASC)\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[TestHeap](\n    [VID] [bigint] NOT NULL,\n    [EID] [bigint] NOT NULL,\n    [Filter] [nvarchar](64) COLLATE SQL_Latin1_General_CP1_CS_AS NOT NULL,\n    [MID] [nvarchar](64) COLLATE SQL_Latin1_General_CP1_CS_AS NOT NULL,\n    [SD] [date] NULL,\n    [ED] [date] NULL,\n    [B] [bit] NOT NULL\n) ON [PRIMARY]\n\nGO\n</code></pre>\n\n<p>Generate your own DataContext using SqlMetal. </p>\n\n<p>C# Test Code:</p>\n\n<pre><code>    public static void RunTests()\n    {\n        FillDB(false);\n        TestSpeedWithPK(true);\n        TestSpeedWithoutPK(true);\n\n        FillDB(true);\n        TestSpeedWithPK(true);\n        TestSpeedWithoutPK(true);\n    }\n\n    public static void FillDB(bool problematic)\n    {\n        long l1 = 5000;\n        long l2 = 750000;\n        bool dummy = true;\n        var db = new YourDataContext(@\"YourConnectionString\");\n        Console.WriteLine(\"\\nClearing database tables...\");\n        db.ExecuteCommand(\"DELETE FROM [TestClusteredIndex];\");\n        db.ExecuteCommand(\"DELETE FROM [TestHeap];\");\n\n        var rows = new List&lt;TestClusteredIndex&gt;();\n        Console.WriteLine(\"Generating \" + (problematic ? string.Empty : \"non-\") + \"problematic data...\");\n\n        for (int i = 0; i &lt; 120000; i++)\n        {\n            var row = new TestClusteredIndex\n            {\n                EID = problematic ? i : l1++,\n                VID = problematic ? i : l2++,\n                Filter = \"Filter\" + (char)(i % 3 + 65),\n                MID = (i / 0.5).GetHashCode().ToString(),\n                SD = null,\n                ED = null,\n                B = dummy = !dummy\n            };\n\n            rows.Add(row);\n        }\n        Console.WriteLine(\"Saving \" + rows.Count + \" rows to table with primary key...\");\n        db.TestClusteredIndex.InsertAllOnSubmit(rows);\n        db.SubmitChanges();\n        Console.WriteLine(\"Copying data to table with no primary key...\");\n        db.ExecuteCommand(\"INSERT INTO [TestHeap]([VID],[EID],[Filter],[MID],[SD],[ED],[B]) SELECT [VID],[EID],[Filter],[MID],[SD],[ED],[B] FROM [TestClusteredIndex];\");\n        Console.WriteLine(\"Done creating test data.\\n\");\n    }\n\n    public static void TestSpeedWithPK(bool displayQuery)\n    {\n        Console.Write(\"Running speed test (primary key: yes)... \");\n        var db = new YourDataContext(@\"YourConnectionString\");\n        var sw = new Stopwatch();\n        sw.Start();\n\n        var items = db.TestClusteredIndex\n            .Where(x =&gt; x.Filter == \"FilterA\")\n            .ToList();\n\n        sw.Stop();\n        Console.WriteLine(\"Queried \" + items.Count + \" records in \" + Math.Round(sw.ElapsedMilliseconds / 1000.0, 2) + \" seconds.\");\n    }\n\n    public static void TestSpeedWithoutPK(bool displayQuery)\n    {\n        Console.Write(\"Running speed test (primary key:  no)... \");\n        var db = new YourDataContext(@\"YourConnectionString\");\n        var sw = new Stopwatch();\n        sw.Start();\n\n        var items = db.TestHeap\n            .Where(x =&gt; x.Filter == \"FilterA\")\n            .ToList();\n\n        sw.Stop();\n        Console.WriteLine(\"Queried \" + items.Count + \" records in \" + Math.Round(sw.ElapsedMilliseconds / 1000.0, 2) + \" seconds.\");\n    }\n</code></pre>\n\n<p>Here is the output when I run the test scripts:</p>\n\n<pre><code>/*\nClearing database tables...\nGenerating non-problematic data...\nSaving 120000 rows to table with primary key...\nCopying data to table with no primary key...\nDone creating test data.\n\nRunning speed test (primary key: yes)... Queried 40000 records in 0.29 seconds.\n\n@p0:FilterA\nSELECT [t0].[VID], [t0].[EID], [t0].[Filter], [t0].[MID], [t0].[SD], [t0].[ED], [t0].[B]\nFROM [dbo].[TestClusteredIndex] AS [t0]\nWHERE [t0].[Filter] = @p0\n\nRunning speed test (primary key:  no)... Queried 40000 records in 0.09 seconds.\n\n@p0:FilterA\nSELECT [t0].[VID], [t0].[EID], [t0].[Filter], [t0].[MID], [t0].[SD], [t0].[ED], [t0].[B]\nFROM [dbo].[TestHeap] AS [t0]\nWHERE [t0].[Filter] = @p0\n\nClearing database tables...\nGenerating problematic data...\nSaving 120000 rows to table with primary key...\nCopying data to table with no primary key...\nDone creating test data.\n\nRunning speed test (primary key: yes)... Queried 40000 records in 30.46 seconds.\n\n@p0:FilterA\nSELECT [t0].[VID], [t0].[EID], [t0].[Filter], [t0].[MID], [t0].[SD], [t0].[ED], [t0].[B]\nFROM [dbo].[TestClusteredIndex] AS [t0]\nWHERE [t0].[Filter] = @p0\n\nRunning speed test (primary key:  no)... Queried 40000 records in 0.07 seconds.\n\n@p0:FilterA\nSELECT [t0].[VID], [t0].[EID], [t0].[Filter], [t0].[MID], [t0].[SD], [t0].[ED], [t0].[B]\nFROM [dbo].[TestHeap] AS [t0]\nWHERE [t0].[Filter] = @p0\n*/\n</code></pre>\n"}, {"tags": ["c#", "wpf", "popup", "controls"], "comments": [{"owner": {"reputation": 870, "user_id": 8607018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9c0c3ccbc1689e908b575ddd11e17?s=128&d=identicon&r=PG&f=1", "display_name": "P.Manthe", "link": "https://stackoverflow.com/users/8607018/p-manthe"}, "edited": false, "score": 1, "creation_date": 1541035206, "post_id": 53091793, "comment_id": 93084690, "body": "Did you tried the suggested solutions provided by your link? The one handling the <code>PreviewMouseLeftButtonDown</code> may help. Anyway, when you need a lot of workarounds to make a control works the way you want, you may consider changing the control ^^."}, {"owner": {"reputation": 343, "user_id": 4332618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ddsm85lMILY/AAAAAAAAAAI/AAAAAAAAANk/g-fELxNDe1g/photo.jpg?sz=128", "display_name": "Paul Karkoska", "link": "https://stackoverflow.com/users/4332618/paul-karkoska"}, "reply_to_user": {"reputation": 870, "user_id": 8607018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9c0c3ccbc1689e908b575ddd11e17?s=128&d=identicon&r=PG&f=1", "display_name": "P.Manthe", "link": "https://stackoverflow.com/users/8607018/p-manthe"}, "edited": false, "score": 0, "creation_date": 1541036531, "post_id": 53091793, "comment_id": 93084959, "body": "Indeed, I did. After doing \u201ce.Handled = true\u201d in all the mouse events of the Popup control, the Popup no longer disappeared, but intercepted all the mouse input and disallowed any of the nested controls from being manipulated."}, {"owner": {"reputation": 870, "user_id": 8607018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9c0c3ccbc1689e908b575ddd11e17?s=128&d=identicon&r=PG&f=1", "display_name": "P.Manthe", "link": "https://stackoverflow.com/users/8607018/p-manthe"}, "edited": false, "score": 1, "creation_date": 1541063546, "post_id": 53091793, "comment_id": 93092206, "body": "Can you provide a bit more code? I copy/paste your code with the empty <code>DataGrid</code> an added a <code>MainPopup.IsOpen = true;</code> into a <code>Button.Click</code> and I can interact with the Popup&#39;s button without problem."}, {"owner": {"reputation": 343, "user_id": 4332618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ddsm85lMILY/AAAAAAAAAAI/AAAAAAAAANk/g-fELxNDe1g/photo.jpg?sz=128", "display_name": "Paul Karkoska", "link": "https://stackoverflow.com/users/4332618/paul-karkoska"}, "reply_to_user": {"reputation": 870, "user_id": 8607018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9c0c3ccbc1689e908b575ddd11e17?s=128&d=identicon&r=PG&f=1", "display_name": "P.Manthe", "link": "https://stackoverflow.com/users/8607018/p-manthe"}, "edited": false, "score": 0, "creation_date": 1541086324, "post_id": 53091793, "comment_id": 93104096, "body": "Absolutely, I am glad to provide more if it helps find a solution. Original post was updated with more info. Thank you, @P.Manthe! =)"}, {"owner": {"reputation": 870, "user_id": 8607018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9c0c3ccbc1689e908b575ddd11e17?s=128&d=identicon&r=PG&f=1", "display_name": "P.Manthe", "link": "https://stackoverflow.com/users/8607018/p-manthe"}, "edited": false, "score": 1, "creation_date": 1541135471, "post_id": 53091793, "comment_id": 93120772, "body": "I added the <code>Popup</code> into <code>DataGridTemplateColumn.CellEditingTemplate</code>/<code>DataTemplate</code>/<code>Grid</code> =&gt; <code>Popup</code> and it works well. I can interact with the button belonging to the <code>Popup</code>. The only difference is that I added <code>IsOpen=True</code> into the XAML."}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 4332618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ddsm85lMILY/AAAAAAAAAAI/AAAAAAAAANk/g-fELxNDe1g/photo.jpg?sz=128", "display_name": "Paul Karkoska", "link": "https://stackoverflow.com/users/4332618/paul-karkoska"}, "is_accepted": true, "score": 0, "last_activity_date": 1541519668, "creation_date": 1541519668, "answer_id": 53175431, "question_id": 53091793, "link": "https://stackoverflow.com/questions/53091793/interact-with-controls-inside-a-wpf-popup-without-it-closing/53175431#53175431", "title": "Interact With Controls Inside a WPF Popup Without It Closing", "body": "<p>It seems as though my problem was related to the fact that I was actually using a separate UserControl to host my Popup. When placing it <em>directly</em> into my CellEditingTemplate DataTemplate, it worked. So while I'm not sure how to fix the initial issue, my workaround was to create all the Popup content inside its own DataTemplate (instead of a UserControl), which seems to mostly do the trick.</p>\n"}], "owner": {"reputation": 343, "user_id": 4332618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ddsm85lMILY/AAAAAAAAAAI/AAAAAAAAANk/g-fELxNDe1g/photo.jpg?sz=128", "display_name": "Paul Karkoska", "link": "https://stackoverflow.com/users/4332618/paul-karkoska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 53175431, "answer_count": 1, "score": 0, "last_activity_date": 1541519668, "creation_date": 1541019141, "last_edit_date": 1541086290, "question_id": 53091793, "link": "https://stackoverflow.com/questions/53091793/interact-with-controls-inside-a-wpf-popup-without-it-closing", "title": "Interact With Controls Inside a WPF Popup Without It Closing", "body": "<p>In my WPF application, I am trying to use a Popup control in several places instead of having to represent the controls in the MainWindow, which would be redundant and messy with my current layout. The following XAML shows my current Popup and its contents.</p>\n\n<pre><code>&lt;Popup x:Name=\"MainPopup\"\n       StaysOpen=\"False\"\n       Placement=\"Center\"\n       PopupAnimation=\"Slide\"\n       AllowsTransparency=\"True\"&gt;\n    &lt;Border BorderBrush=\"White\"\n        Background=\"White\"\n        BorderThickness=\"1\"&gt;\n        &lt;Grid Background=\"White\"&gt;\n            &lt;DataGrid&gt;\n\n            &lt;!--Dummy Data --&gt;\n\n            &lt;/DataGrid&gt;\n            &lt;Button Click=\"Button_Click\"/&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n&lt;/Popup&gt;\n</code></pre>\n\n<p>The main issue is that any attempt to interact with the DataGrid or Button result in the Popup control closing. I've tried many different configurations of <code>StaysOpen</code>, <code>IsOpen</code>, <code>Focusable</code>,<code>AllowsTransparency</code>, and even set the backgrounds properties to actual colors.</p>\n\n<p>Two things I found that <em>looked</em> promising (but did not yield any positive results) are listed below:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/619798/why-does-a-wpf-popup-close-when-its-background-area-is-clicked\">Why does a WPF Popup close when its background area is clicked?</a></p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/security/en-US/be1a55df-8008-4af5-b782-5a15f1bc146c/wpf-how-to-restrict-the-popup-from-closing-while-click-on-a-windows-forms-element?forum=wpf\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/security/en-US/be1a55df-8008-4af5-b782-5a15f1bc146c/wpf-how-to-restrict-the-popup-from-closing-while-click-on-a-windows-forms-element?forum=wpf</a></p>\n\n<p>Any help is much appreciated. Thank you!</p>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>To clarify, I am using the Popup control in a DataGrid cell editing template.\nThe app is basically a visual data entry app and the content in the MainWindow serves as the data input form. Here is a rough outline of the structure, along with an image of the actual Popup control.</p>\n\n<ul>\n<li>MainWindow\n\n<ul>\n<li>ItemsControl\n\n<ul>\n<li>DataGrid (ItemTemplate)\n\n<ul>\n<li>Popup (CellEditingTemplate)</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p><strong>Popup Example:</strong>\n<a href=\"https://i.stack.imgur.com/HyrOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HyrOB.png\" alt=\"Popup\"></a></p>\n\n<p>So, when I scroll to an item that I want to see the popup for, I double-click on that cell, thus enabling the Popup. So any single Popup is sort of \"hosted\" within a single DataGrid cell. Perhaps this is related to the issue?</p>\n"}, {"tags": ["c#", "sql", "sql-server", "sqlbulkcopy"], "answers": [{"tags": [], "owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019827, "creation_date": 1541019827, "answer_id": 53091935, "question_id": 53091771, "link": "https://stackoverflow.com/questions/53091771/sqlbulkcopy-throws-exception-the-given-value-of-type-string-from-the-data-sourc/53091935#53091935", "title": "SqlBulkCopy throws exception: The given value of type String from the data source cannot be converted to type bigint of the specified target column", "body": "<p>That issue is often caused before the column type in the <code>DataTable</code> are not explicit.</p>\n\n<p>By example, setting the column type might fix that error:</p>\n\n<pre><code>var dt = new DataTable();\ndt.Columns.Add(\"ScreeningId\", typeof(long));\ndt.Columns.Add(\"Message\");\ndt.Columns.Add(\"Time\", typeof(long));\n</code></pre>\n\n<p>More documentation about this issue here: <a href=\"https://sqlbulkcopy-tutorial.net/type-a-cannot-be-converted-to-type-b\" rel=\"nofollow noreferrer\">https://sqlbulkcopy-tutorial.net/type-a-cannot-be-converted-to-type-b</a></p>\n"}, {"tags": [], "owner": {"reputation": 1357, "user_id": 2335172, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/vFUCd.jpg?s=128&g=1", "display_name": "Tarta", "link": "https://stackoverflow.com/users/2335172/tarta"}, "is_accepted": true, "score": 1, "last_activity_date": 1541497058, "creation_date": 1541497058, "answer_id": 53169193, "question_id": 53091771, "link": "https://stackoverflow.com/questions/53091771/sqlbulkcopy-throws-exception-the-given-value-of-type-string-from-the-data-sourc/53169193#53169193", "title": "SqlBulkCopy throws exception: The given value of type String from the data source cannot be converted to type bigint of the specified target column", "body": "<p>Found the solution, explicit column mappings are required:</p>\n\n<pre><code>public async Task Handle(DetectionLoggingIntegrationEvent @event)\n{\n    var dt = new DataTable();\n    dt.Columns.Add(\"ScreeningId\", typeof(long));\n    dt.Columns.Add(\"Message\");\n    dt.Columns.Add(\"Time\", typeof(long));\n\n    @event.OperationTimePairs.ForEach(pair =&gt; dt.Rows.Add(@event.ScreeningId, pair.Key, pair.Value));\n\n    using (var sqlBulk = new SqlBulkCopy(_configProvider.FdbConnectionString))\n    {\n        var mapping = new SqlBulkCopyColumnMapping(\"ScreeningId\", \"ScreeningId\");\n        sqlBulk.ColumnMappings.Add(mapping);\n\n        mapping = new SqlBulkCopyColumnMapping(\"Message\", \"Message\");\n        sqlBulk.ColumnMappings.Add(mapping);\n\n        mapping = new SqlBulkCopyColumnMapping(\"Time\", \"Time\");\n        sqlBulk.ColumnMappings.Add(mapping);\n\n        sqlBulk.DestinationTableName = \"DetectionLoggingTime\";\n        sqlBulk.WriteToServer(dt);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1357, "user_id": 2335172, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/vFUCd.jpg?s=128&g=1", "display_name": "Tarta", "link": "https://stackoverflow.com/users/2335172/tarta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4444, "favorite_count": 0, "accepted_answer_id": 53169193, "answer_count": 2, "score": 1, "last_activity_date": 1541497058, "creation_date": 1541019016, "last_edit_date": 1541020228, "question_id": 53091771, "link": "https://stackoverflow.com/questions/53091771/sqlbulkcopy-throws-exception-the-given-value-of-type-string-from-the-data-sourc", "title": "SqlBulkCopy throws exception: The given value of type String from the data source cannot be converted to type bigint of the specified target column", "body": "<p>I'm trying for the first time to use <code>SqlBulkCopy</code>. I have a table created this way:</p>\n\n<pre><code>IF NOT EXISTS(SELECT 1 FROM sys.tables \n              WHERE Name = N'DetectionLoggingTime' \n                AND Object_ID = Object_ID(N'dbo.DetectionLoggingTime'))\nBEGIN\n    PRINT N'Creating [dbo].[DetectionLoggingTime]...';\n\n    CREATE TABLE [dbo].[DetectionLoggingTime]\n    (\n        [LogId]       INT PRIMARY KEY IDENTITY(1,1) NOT NULL,\n        [ScreeningId] BIGINT        NOT NULL,\n        [Message]     NVARCHAR(255) NOT NULL,\n        [Time]        BIGINT        NULL\n    );\nEND\n</code></pre>\n\n<p>I am trying to insert values in this way:</p>\n\n<pre><code>public async Task Handle(DetectionLoggingIntegrationEvent @event)\n{\n    var dt = new DataTable();\n    dt.Columns.Add(\"ScreeningId\");\n    dt.Columns.Add(\"Message\");\n    dt.Columns.Add(\"Time\");\n\n    @event.OperationTimePairs.ForEach(pair =&gt; dt.Rows.Add(@event.ScreeningId, pair.Key, pair.Value));\n\n    using (var sqlBulk = new SqlBulkCopy(_configProvider.MyConnectionString))\n    {\n        sqlBulk.DestinationTableName = \"DetectionLoggingTime\";\n        sqlBulk.WriteToServer(dt);\n    }\n}\n</code></pre>\n\n<p>My feeling is that the insertion is trying to insert the <strong>LogId</strong> which I would like it to be incremental and automatically generated by SQL Server. What am I doing wrong?</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 4391, "user_id": 5717094, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/l5lO0.png?s=128&g=1", "display_name": "Yurii N.", "link": "https://stackoverflow.com/users/5717094/yurii-n"}, "edited": false, "score": 0, "creation_date": 1541019229, "post_id": 53091738, "comment_id": 93080398, "body": "Could you provide link to the tutorial?"}, {"owner": {"reputation": 153, "user_id": 7389335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48db0c864ceaf7f577090d743f589ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7389335/alice"}, "reply_to_user": {"reputation": 4391, "user_id": 5717094, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/l5lO0.png?s=128&g=1", "display_name": "Yurii N.", "link": "https://stackoverflow.com/users/5717094/yurii-n"}, "edited": false, "score": 0, "creation_date": 1541019461, "post_id": 53091738, "comment_id": 93080493, "body": "<a href=\"https://www.udemy.com/build-an-app-with-aspnet-core-and-angular-from-scratch/?start=330\" rel=\"nofollow noreferrer\">udemy.com/&hellip;</a>  it&#39;s on Udemy but it&#39;s not entirely free to watch"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1541020221, "post_id": 53091738, "comment_id": 93080765, "body": "Can you post the output from the <code>dotnet ef \u2026. </code> command with <code>-v</code> or <code>--verbose</code> appended at the end (i.e. <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet#common-options\" rel=\"nofollow noreferrer\">verbose output</a> option). Also which EF Core version are you using? Looks like 2.1, so shouldn&#39;t you use the new <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet#common-options\" rel=\"nofollow noreferrer\">BuildWebHost</a> pattern as described in the <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dbcontext-creation\" rel=\"nofollow noreferrer\">Design-time DbContext Creation</a>?"}, {"owner": {"reputation": 153, "user_id": 7389335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48db0c864ceaf7f577090d743f589ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7389335/alice"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1541021075, "post_id": 53091738, "comment_id": 93081083, "body": "@Ivan Stoev I&#39;ve edited the question to post the output.  Yes, I&#39;m using 2.1 EF Core Version. As I&#39;ve stated, I&#39;m learning from the tutorial, I&#39;m not yet sure about more options of DbContext creation. I&#39;m going to read about this pattern, thanks for the link."}, {"owner": {"reputation": 4391, "user_id": 5717094, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/l5lO0.png?s=128&g=1", "display_name": "Yurii N.", "link": "https://stackoverflow.com/users/5717094/yurii-n"}, "edited": false, "score": 0, "creation_date": 1541021848, "post_id": 53091738, "comment_id": 93081365, "body": "I&#39;ve created ASP.NET Core Web Application (Model-View-Controller) from scratch and everything is fine. Can you create new project, perform that migration and if everything is correct transfer all your code to new project?"}, {"owner": {"reputation": 153, "user_id": 7389335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48db0c864ceaf7f577090d743f589ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7389335/alice"}, "reply_to_user": {"reputation": 4391, "user_id": 5717094, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/l5lO0.png?s=128&g=1", "display_name": "Yurii N.", "link": "https://stackoverflow.com/users/5717094/yurii-n"}, "edited": false, "score": 0, "creation_date": 1541026730, "post_id": 53091738, "comment_id": 93082836, "body": "@Yuriy N. it worked on a different laptop. No idea why, though"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1541038232, "post_id": 53091738, "comment_id": 93085296, "body": "It seems there is something wrong in your project which we could not find based on your current code. Could you share us the demo project to reproduce your issue?"}, {"owner": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 0, "creation_date": 1586179671, "post_id": 53091738, "comment_id": 108024787, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/43503424/error-the-entity-type-requires-a-primary-key\">Error: the entity type requires a primary key</a>"}], "owner": {"reputation": 153, "user_id": 7389335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48db0c864ceaf7f577090d743f589ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7389335/alice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2166, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541020932, "creation_date": 1541018860, "last_edit_date": 1541020932, "question_id": 53091738, "link": "https://stackoverflow.com/questions/53091738/error-the-entity-type-requires-a-primary-key-to-be-defined", "title": "Error: The entity type requires a primary key to be defined", "body": "<p>I'm trying to follow some tutorial on Entity Framework Core. This tutorial takes the code-first approach on creating the database. When I'm trying to run the first migration, this error shows:</p>\n\n<blockquote>\n  <p>The entity type 'Value' requires a primary key to be defined.</p>\n</blockquote>\n\n<p>The exact message is as follows:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: The entity type 'Value' requires a\n  primary key to be defined.    at\n  Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel\n  model)    at\n  Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel\n  model)    at\n  Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel\n  model)    at\n  Microsoft.EntityFrameworkCore.Internal.SqliteModelValidator.Validate(IModel\n  model)    at\n  Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext\n  context, IConventionSetBuilder conventionSetBuilder, IModelValidator\n  validator)    at\n  Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.&lt;>c__DisplayClass5_0.b__1()\n  at System.Lazy<code>1.ViaFactory(LazyThreadSafetyMode mode)    at\n  System.Lazy</code>1.ExecutionAndPublication(LazyHelper\n  executionAndPublication, Boolean useDefaultConstructor)    at\n  System.Lazy<code>1.CreateValue()    at\n  Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext\n  context, IConventionSetBuilder conventionSetBuilder, IModelValidator\n  validator)    at\n  Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\n  at\n  Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()<br>\n  at\n  Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.&lt;&gt;c.&lt;TryAddCoreServices&gt;b__7_1(IServiceProvider\n  p)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite\n  factoryCallSite, ServiceProviderEngineScope scope)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor</code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite\n  scopedCallSite, ServiceProviderEngineScope scope)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor<code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite\n  constructorCallSite, ServiceProviderEngineScope scope)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor</code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite\n  scopedCallSite, ServiceProviderEngineScope scope)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor<code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.&lt;&gt;c__DisplayClass1_0.&lt;RealizeService&gt;b__0(ServiceProviderEngineScope\n  scope)    at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type\n  serviceType, ServiceProviderEngineScope serviceProviderEngineScope)<br>\n  at\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type\n  serviceType)    at\n  Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider\n  provider, Type serviceType)    at\n  Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider\n  provider)    at\n  Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()<br>\n  at\n  Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider() \n  at\n  Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure&lt;System.IServiceProvider&gt;.get_Instance()\n  at\n  Microsoft.EntityFrameworkCore.Internal.InternalAccessorExtensions.GetService[TService](IInfrastructure</code>1\n  accessor)    at\n  Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure<code>1\n  accessor)    at\n  Microsoft.EntityFrameworkCore.Design.Internal.DbContextOperations.CreateContext(Func</code>1\n  factory)    at\n  Microsoft.EntityFrameworkCore.Design.Internal.DbContextOperations.CreateContext(String\n  contextType)    at\n  Microsoft.EntityFrameworkCore.Design.Internal.MigrationsOperations.AddMigration(String\n  name, String outputDir, String contextType)    at\n  Microsoft.EntityFrameworkCore.Design.OperationExecutor.AddMigrationImpl(String\n  name, String outputDir, String contextType)    at\n  Microsoft.EntityFrameworkCore.Design.OperationExecutor.AddMigration.&lt;>c__DisplayClass0_1.&lt;.ctor>b__0()\n  at\n  Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.&lt;>c__DisplayClass3_0`1.b__0()\n  at\n  Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action\n  action) The entity type 'Value' requires a primary key to be defined.</p>\n</blockquote>\n\n<p>(could someone edit this msg because it looks horrible and I'm not able to fix it?)</p>\n\n<p>I've double checked if I have <strong>Id</strong> property in the <strong>Value</strong> class and I've added [Key] to it just to be sure. \nI've also restarted my laptop as it could have to do with an instance of server running from previous testing sessions or something like this.</p>\n\n<p>My model class:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nnamespace DatingApp.API.Models\n{\n    public class Value\n    {\n        [Key]\n        public int Id { get; set; }\n        public string Name { get; set; } \n    }\n}\n</code></pre>\n\n<p>DbContext: </p>\n\n<pre><code>using DatingApp.API.Models;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace DatingApp.API.Data\n{\n    public class DataContext : DbContext\n    {\n        public DataContext(DbContextOptions&lt;DataContext&gt; options) : base (options) {}\n\n        public DbSet&lt;Value&gt; Values {get; set;}\n    }\n}\n</code></pre>\n\n<p>Startup.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing DatingApp.API.Data;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.AspNetCore.HttpsPolicy;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Logging;\nusing Microsoft.Extensions.Options;\n\nnamespace DatingApp.API\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddDbContext&lt;DataContext&gt;(c =&gt; c.UseSqlite(Configuration.GetConnectionString(\"DefaultConnection\")));\n            services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n               // app.UseHsts();\n            }\n\n            // app.UseHttpsRedirection();\n            app.UseMvc();\n        }\n    }\n}\n</code></pre>\n\n<p>And connection string:</p>\n\n<pre><code>{\n  \"ConnectionStrings\":\n  {\n    \"DefaultConnection\": \"Data Source=DatingApp.db\"\n  },\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\"\n}\n</code></pre>\n\n<p>The thing I wrote in the terminal:</p>\n\n<pre><code>dotnet ef migrations add InitialMigration\n</code></pre>\n\n<p>EDIT: </p>\n\n<blockquote>\n<pre><code>D:\\DatingApp\\DatingApp.API&gt;dotnet ef migrations add InitialMigration -v\nUsing project 'D:\\DatingApp\\DatingApp.API\\DatingApp.API.csproj'.\nUsing startup project 'D:\\DatingApp\\DatingApp.API\\DatingApp.API.csproj'.\nWriting 'D:\\DatingApp\\DatingApp.API\\obj\\DatingApp.API.csproj.EntityFrameworkCore.targets'...\ndotnet msbuild /target:GetEFProjectMetadata /property:EFProjectMetadataFile=C:\\Users\\B590\\AppData\\Local\\Temp\\tmp24D5.tmp\n</code></pre>\n  \n  <p>/verbosity:quiet /nologo\n  D:\\DatingApp\\DatingApp.API\\DatingApp.API.csproj\n      Writing 'D:\\DatingApp\\DatingApp.API\\obj\\DatingApp.API.csproj.EntityFrameworkCore.targets'...\n      dotnet msbuild /target:GetEFProjectMetadata /property:EFProjectMetadataFile=C:\\Users\\B590\\AppData\\Local\\Temp\\tmp2B8C.tmp\n  /verbosity:quiet /nologo\n  D:\\DatingApp\\DatingApp.API\\DatingApp.API.csproj\n      dotnet build D:\\DatingApp\\DatingApp.API\\DatingApp.API.csproj /verbosity:quiet /nologo</p>\n\n<pre><code>Compilation succesfull.\n    Warnings: 0\n    Errors: 0\n\nTime passed: 00:00:02.25\ndotnet exec --depsfile D:\\DatingApp\\DatingApp.API\\bin\\Debug\\netcoreapp2.1\\DatingApp.API.deps.json\n</code></pre>\n  \n  <p>--additionalprobingpath C:\\Users\\B590.nuget\\packages --additionalprobingpath \"C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder\" --runtimeconfig\n  D:\\DatingApp\\DatingApp.API\\bin\\Debug\\netcoreapp2.1\\DatingApp.API.runtimeconfig.json\n  \"C:\\Program\n  Files\\dotnet\\sdk\\2.1.403\\DotnetTools\\dotnet-ef\\2.1.4\\tools\\netcoreapp2.1\\any\\tools\\netcoreapp2.0\\any\\ef.dll\"\n  migrations add InitialMigration --assembly\n  D:\\DatingApp\\DatingApp.API\\bin\\Debug\\netcoreapp2.1\\DatingApp.API.dll\n  --startup-assembly D:\\DatingApp\\DatingApp.API\\bin\\Debug\\netcoreapp2.1\\DatingApp.API.dll\n  --project-dir D:\\DatingApp\\DatingApp.API\\ --language C# --working-dir D:\\DatingApp\\DatingApp.API --verbose --root-namespace DatingApp.API\n      Using assembly 'DatingApp.API'.\n      Using startup assembly 'DatingApp.API'.\n      Using application base 'D:\\DatingApp\\DatingApp.API\\bin\\Debug\\netcoreapp2.1'.\n      Using working directory 'D:\\DatingApp\\DatingApp.API'.\n      Using root namespace 'DatingApp.API'.\n      Using project directory 'D:\\DatingApp\\DatingApp.API\\'.\n      Finding DbContext classes...\n      Finding IDesignTimeDbContextFactory implementations...\n      Finding application service provider...\n      Finding IWebHost accessor...\n      Using environment 'Development'.\n      Using application service provider from IWebHost accessor on 'Program'.\n      Found DbContext 'DataContext'.\n      Finding DbContext classes in the project...\n      Using context 'DataContext'.\n      System.InvalidOperationException: The entity type 'Value' requires a primary key to be defined.\n         at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel\n  model)\n         at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel\n  model)\n         at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel\n  model)\n         at Microsoft.EntityFrameworkCore.Internal.SqliteModelValidator.Validate(IModel\n  model)\n         at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext\n  context, IConventionSetBuilder conventionSetBuilder, IModelValidator\n  validator)\n         at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.&lt;>c__DisplayClass5_0.b__1()\n         at System.Lazy<code>1.ViaFactory(LazyThreadSafetyMode mode)\n         at System.Lazy</code>1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)\n         at System.Lazy<code>1.CreateValue()\n         at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext\n  context, IConventionSetBuilder conventionSetBuilder, IModelValidator\n  validator)\n         at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\n         at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\n         at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.&lt;&gt;c.&lt;TryAddCoreServices&gt;b__7_1(IServiceProvider\n  p)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite\n  factoryCallSite, ServiceProviderEngineScope scope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor</code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite\n  scopedCallSite, ServiceProviderEngineScope scope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor<code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite\n  constructorCallSite, ServiceProviderEngineScope scope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor</code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite\n  scopedCallSite, ServiceProviderEngineScope scope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor<code>2.VisitCallSite(IServiceCallSite\n  callSite, TArgument argument)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.&lt;&gt;c__DisplayClass1_0.&lt;RealizeService&gt;b__0(ServiceProviderEngineScope\n  scope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type\n  serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type\n  serviceType)\n         at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider\n  provider, Type serviceType)\n         at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider\n  provider)\n         at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\n         at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\n         at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure&lt;System.IServiceProvider&gt;.get_Instance()\n         at Microsoft.EntityFrameworkCore.Internal.InternalAccessorExtensions.GetService[TService](IInfrastructure</code>1\n  accessor)\n         at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure<code>1\n  accessor)\n         at Microsoft.EntityFrameworkCore.Design.Internal.DbContextOperations.CreateContext(Func</code>1\n  factory)\n         at Microsoft.EntityFrameworkCore.Design.Internal.DbContextOperations.CreateContext(String\n  contextType)\n         at Microsoft.EntityFrameworkCore.Design.Internal.MigrationsOperations.AddMigration(String\n  name, String\n      outputDir, String contextType)\n         at Microsoft.EntityFrameworkCore.Design.OperationExecutor.AddMigrationImpl(String\n  name, String outputDir, String contextType)\n         at Microsoft.EntityFrameworkCore.Design.OperationExecutor.AddMigration.&lt;>c__DisplayClass0_1.&lt;.ctor>b__0()\n         at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.&lt;>c__DisplayClass3_0`1.b__0()\n         at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action\n  action)\n      The entity type 'Value' requires a primary key to be defined.</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "entity-framework"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1541019402, "post_id": 53091732, "comment_id": 93080479, "body": "You could push the responsibility to dispose up to the consumer by instantiating the context as a field during construction, implementing IDisposable on the DaoClass, and making sure all consumers are properly disposing of it. In your current case, each method is responsible for provisioning and disposing of it&#39;s resources."}], "answers": [{"tags": [], "owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019443, "creation_date": 1541019443, "answer_id": 53091853, "question_id": 53091732, "link": "https://stackoverflow.com/questions/53091732/alternative-to-multiple-using-blocks/53091853#53091853", "title": "Alternative To Multiple using Blocks", "body": "<p>The way you show it is how I've seen it recommended everywhere. I've seen there be weird issues with class level declaration returning stale or incorrect data. </p>\n\n<p>To get around duplicating all the code I like to write an execute method that I can reuse, or make changes without having to go to every using.</p>\n\n<pre><code>   private T Execute&lt;T&gt;(Func&lt;MyModelContext, T&gt; function)\n        {\n            using (MyModelContext ctx = new MyModelContext())\n            {\n                var result = function(ctx);\n                ctx.SaveChanges();\n                return result;\n            }\n        }\n\n  public List&lt;Type&gt; GetTypes()\n        {\n            return Execute((ctx) =&gt;\n            {\n                return ctx.Types.ToList();\n            });\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 1753877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/35d44be5eb572db7ccc449e07ffa6014?s=128&d=identicon&r=PG", "display_name": "John Steed", "link": "https://stackoverflow.com/users/1753877/john-steed"}, "edited": false, "score": 0, "creation_date": 1541019869, "post_id": 53091855, "comment_id": 93080646, "body": "So is the only benefit of the <code>using</code> statements in my original post is the disposal of the object? Is that correct?"}, {"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "reply_to_user": {"reputation": 529, "user_id": 1753877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/35d44be5eb572db7ccc449e07ffa6014?s=128&d=identicon&r=PG", "display_name": "John Steed", "link": "https://stackoverflow.com/users/1753877/john-steed"}, "edited": false, "score": 0, "creation_date": 1541078035, "post_id": 53091855, "comment_id": 93099525, "body": "Correct. <code>using</code> statements are just syntactic sugar. It wraps the statement in the parenthesis in a <code>try...finally</code> block and calls the object&#39;s <code>Dispose()</code> method in the <code>finally</code> block. See <a href=\"https://stackoverflow.com/a/212210/4416750\">this answer</a>."}], "tags": [], "owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "is_accepted": true, "score": 2, "last_activity_date": 1541019461, "creation_date": 1541019461, "answer_id": 53091855, "question_id": 53091732, "link": "https://stackoverflow.com/questions/53091732/alternative-to-multiple-using-blocks/53091855#53091855", "title": "Alternative To Multiple using Blocks", "body": "<p>You could have the <code>DaoClass</code> implement <code>IDisposable</code> and have the context be a property of the class. Just make sure to wrap <code>DaoClass</code> in a <code>using</code> statement or call <code>Dispose()</code> on the instance of the <code>DaoClass</code>.</p>\n\n<pre><code>public class DaoClass : IDisposable\n{\n    MyModelContext context = new MyModelContext();\n\n    public void DoSomething()\n    {\n        // use the context here\n    }\n\n    public void DoAnotherThing()\n    {\n        // use the context here\n    }\n\n    public void DoSomethingElse()\n    {\n        // use the context here\n    }\n\n    public void Dispose()\n    {\n        context.Dispose();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1541097195, "post_id": 53097711, "comment_id": 93109913, "body": "Note that while a DbContext instance is intended to support a UnitOfWork, it is a bigger scope than a database transaction.  You might fetch data, work on it in memory and finally save it to the database in your UnitOfWork.  This would be too long-running for a database transaction.  I might be better to describe the scope as a &quot;business transaction&quot;."}], "tags": [], "owner": {"reputation": 584, "user_id": 4769814, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a7b048a1288d37fb061648a02fdafe63?s=128&d=identicon&r=PG&f=1", "display_name": "Kostas Dafnomilis", "link": "https://stackoverflow.com/users/4769814/kostas-dafnomilis"}, "is_accepted": false, "score": 1, "last_activity_date": 1541061668, "creation_date": 1541061668, "answer_id": 53097711, "question_id": 53091732, "link": "https://stackoverflow.com/questions/53091732/alternative-to-multiple-using-blocks/53097711#53097711", "title": "Alternative To Multiple using Blocks", "body": "<p>Please note that the <code>context</code> object is the equivalent to a database <strong>transaction</strong>.</p>\n\n<p>It implements the <code>IDisposable</code> interface because a transaction must be closed when done with and you either have to use the <code>using</code> statement or make an implementation of <code>IDisposable</code> like Lews Therin demonstrated. </p>\n\n<p>We use multiple instances of a <code>context</code> object to separate different transactions. There will be cases when you want all changes to go as a single transaction and either commit all together or rollback everything. Then you put it all in one <code>context</code> instance. But there will also be cases where you want to separate the saving of one data pack from another. Then you use different transactions, i.e. different <code>context</code> objects.</p>\n\n<p>To get a better grasp of this chapter take a look at the <em>unit of work</em> pattern.</p>\n\n<p>Hope I could help, merry coding!</p>\n"}], "owner": {"reputation": 529, "user_id": 1753877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/35d44be5eb572db7ccc449e07ffa6014?s=128&d=identicon&r=PG", "display_name": "John Steed", "link": "https://stackoverflow.com/users/1753877/john-steed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53091855, "answer_count": 3, "score": 1, "last_activity_date": 1541061668, "creation_date": 1541018841, "question_id": 53091732, "link": "https://stackoverflow.com/questions/53091732/alternative-to-multiple-using-blocks", "title": "Alternative To Multiple using Blocks", "body": "<p>In all the examples I see for Entity Framework data access, every method has its own <code>using</code> block, as shown below. </p>\n\n<p>Is there an alternative to this approach? For example, can the context object just be a class member, such as:</p>\n\n<pre><code>MyModelContext context = new MyModelContext();\n</code></pre>\n\n<p>Is there a reason why a new context object has to be created for each method in the DAO class?</p>\n\n<pre><code>public class DaoClass\n{\n    public void DoSomething()\n    {\n         using (var context = new MyModelContext()) \n         {     \n             // Perform data access using the context \n         }\n    }\n\n    public void DoAnotherThing()\n    {\n         using (var context = new MyModelContext()) \n         {     \n             // Perform data access using the context \n         }\n    }\n\n    public void DoSomethingElse()\n    {\n         using (var context = new MyModelContext()) \n         {     \n             // Perform data access using the context \n         }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "ef-core-2.1"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1541019300, "post_id": 53091722, "comment_id": 93080431, "body": "Any lazy loading involved? In other words, does your entity have related data and if yes, are you using (enabled) the lazy loading? I would suggest turning the <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/logging\" rel=\"nofollow noreferrer\">EF Core logging</a> to see the database call activity. Also, since you are returning <code>IQueryable</code>, you don&#39;t know when exactly it is executed (materialized) and how long it takes (the rest w/o lazy loading should be serialization), so you may try calling <code>ToList</code> before returning from the method."}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1541019611, "post_id": 53091722, "comment_id": 93080551, "body": "Instrument the code ,time in and elapsed time on db call.  If not db instrument client side repeat until lag is found."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541022870, "post_id": 53091722, "comment_id": 93081698, "body": "How large is the HTML payload (uncompressed) being sent over the wire?"}, {"owner": {"reputation": 3255, "user_id": 2134021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/6vRxL.png?s=128&g=1", "display_name": "Marshall Tigerus", "link": "https://stackoverflow.com/users/2134021/marshall-tigerus"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1541428479, "post_id": 53091722, "comment_id": 93203242, "body": "@IvanStoev I originally had .ToList to provide immediate execution, but removed it in hopes that the IQueryable would instead be slightly faster.  Local DB and Integrated Dev timings are similar for the DB calls (subsecond, usually around 150ms at peak)."}, {"owner": {"reputation": 3255, "user_id": 2134021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/6vRxL.png?s=128&g=1", "display_name": "Marshall Tigerus", "link": "https://stackoverflow.com/users/2134021/marshall-tigerus"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1541428723, "post_id": 53091722, "comment_id": 93203395, "body": "@mjwills 7.6mb, which seems to be a significant problem"}], "answers": [{"comments": [{"owner": {"reputation": 3255, "user_id": 2134021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/6vRxL.png?s=128&g=1", "display_name": "Marshall Tigerus", "link": "https://stackoverflow.com/users/2134021/marshall-tigerus"}, "edited": false, "score": 0, "creation_date": 1541428623, "post_id": 53091951, "comment_id": 93203337, "body": "While all this makes sense, I&#39;m worried about latency.  Our users are very used to a distributed application that does not involve any of the internet latency (which is why this is such a huge issue in the first place).  In other parts of our application, we are reliant on calls to an external web service that makes paging problematic. I will definitely look into this and attempt to get a workable solution from it, thank you."}], "tags": [], "owner": {"reputation": 16142, "user_id": 1258525, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7l2U0.jpg?s=128&g=1", "display_name": "Brian Ogden", "link": "https://stackoverflow.com/users/1258525/brian-ogden"}, "is_accepted": true, "score": 6, "last_activity_date": 1541023601, "last_edit_date": 1541023601, "creation_date": 1541019932, "answer_id": 53091951, "question_id": 53091722, "link": "https://stackoverflow.com/questions/53091722/28-000-rows-being-returned-very-slowly-in-production-environment/53091951#53091951", "title": "28,000 rows being returned very slowly in production environment", "body": "<p>Your problem has nothing to do with ASP.NET or a microservice architecture...</p>\n\n<p>If you have 28,000 records in a database table and request all records over HTTP it is going to be slow. </p>\n\n<p>Part of the reason the request is fast localhost is that all 28,000 records are being sent localhost, not \"over the wire\" as is the case in production. In production, all 28,000 records have to travel over the internet. Another reason the request may be fast localhost is that your database is running localhost as well, so there again, the data does not have to travel \"over the wire\". In production, even if the database is internal, the data might still have some distance to travel from the database to the API, also \"over the wire\" and that is not happening if your database is running localhost as well.</p>\n\n<p>The solution is to implement paging in your API and on the frontend:\n<a href=\"https://i.stack.imgur.com/yTgI2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yTgI2.png\" alt=\"enter image description here\"></a></p>\n\n<p>You mentioned the requirement: \"but the business preference is to have everything and let a front-end table sort and filter it.\"</p>\n\n<p>Sorting and filtering is also done in conjunction with paging:\n<a href=\"https://i.stack.imgur.com/Qbw72.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qbw72.png\" alt=\"enter image description here\"></a></p>\n\n<p>You might not have realized it at first, but this is one of the most common problems with web applications, and it is always solved with paging or vertical scroll lazy loading web pages and web controls. Downloading all the data so the frontend can do the paging, sorting and filtering is the not the correct way to go about the problem.</p>\n"}], "owner": {"reputation": 3255, "user_id": 2134021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/6vRxL.png?s=128&g=1", "display_name": "Marshall Tigerus", "link": "https://stackoverflow.com/users/2134021/marshall-tigerus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 53091951, "answer_count": 1, "score": -1, "last_activity_date": 1541023601, "creation_date": 1541018805, "last_edit_date": 1541020971, "question_id": 53091722, "link": "https://stackoverflow.com/questions/53091722/28-000-rows-being-returned-very-slowly-in-production-environment", "title": "28,000 rows being returned very slowly in production environment", "body": "<p>I have what is a very simple get that literally grabs the entire DB set and returns it over the wire. The set in question is around 28k rows at the moment.  </p>\n\n<p>When testing locally, the calls to the database are completed in less than a second, but the swagger call takes around a minute. In our production environment it takes about 1-2 minutes to complete the call (we don't have timing code there for exact db calls, but we are timing on the front-end how long it takes, and it is also 1-2 minutes).</p>\n\n<p>Something between the data call and it arriving to the front-end is taking a long time, and I'm not sure exactly how to resolve it.  </p>\n\n<p>The code is literally:</p>\n\n<pre><code>[HttpGet]\npublic IActionResult GetAllCustomers()\n{\n    return Ok(_context.Customers);\n}\n</code></pre>\n\n<p>What else can I do to debug this? </p>\n\n<p>Our working solution is going to be to restrict the dataset down significantly, returning &lt; 1000 records instead, but the business preference is to have everything and let a front-end table sort and filter it.</p>\n\n<p>On a lark, I removed all the related objects from the model, and stripped it down to the 10 or so columns in the table, and it still took a very long time.</p>\n"}, {"tags": ["c#", "perforce"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10146077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5806455bc01c1489247b53267dd031?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Criss", "link": "https://stackoverflow.com/users/10146077/ethan-criss"}, "edited": false, "score": 0, "creation_date": 1541021343, "post_id": 53091924, "comment_id": 93081180, "body": "I&#39;m attempting to test this, but it will be a few hours before the bits get out. My understanding was that p4&#39;s c# api should be cleanly handling this though."}, {"owner": {"reputation": 35, "user_id": 10146077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5806455bc01c1489247b53267dd031?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Criss", "link": "https://stackoverflow.com/users/10146077/ethan-criss"}, "edited": false, "score": 0, "creation_date": 1541088414, "post_id": 53091924, "comment_id": 93105340, "body": "Disconnecting did not end up resolving the problem :("}], "tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019780, "creation_date": 1541019780, "answer_id": 53091924, "question_id": 53091617, "link": "https://stackoverflow.com/questions/53091617/perforce-connection-connect-failfast-error/53091924#53091924", "title": "Perforce Connection.Connect FailFast Error", "body": "<p>If the C# API works the same way as the C++ API, you'll want to <code>Final()</code> the connection before attempting to reopen it with <code>Connect()</code>.  </p>\n"}], "owner": {"reputation": 35, "user_id": 10146077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5806455bc01c1489247b53267dd031?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Criss", "link": "https://stackoverflow.com/users/10146077/ethan-criss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541019780, "creation_date": 1541018343, "question_id": 53091617, "link": "https://stackoverflow.com/questions/53091617/perforce-connection-connect-failfast-error", "title": "Perforce Connection.Connect FailFast Error", "body": "<p>Using the .net P4 api and encountering a strange error. I am creating a P4 client using a p4.ini file that looks to be correct with a valid client and server port. Calling into this client's Connection.Connect(new Options()), to reset the connection for separate reasons, ends up failing and fails by calling into FailFast which leaves me with no good debugging logs. I'm not sure what is failing here, since the client/p4.ini look just fine and this only comes up with using the Connection.Connect.</p>\n\n<p>How can I either catch the error that is causing this behavior, or resolve the error?</p>\n\n<p>at System.Environment.FailFast(System.String)\nat System.Windows.Documents.MoveSizeWinEventHandler.WinEventProc(Int32, IntPtr)\nat Perforce.P4.P4Bridge.ConnectA(System.String, System.String, System.String, System.String, LogMessageDelegate)\nat Perforce.P4.P4Bridge.ConnectA(System.String, System.String, System.String, System.String, LogMessageDelegate)\nat Perforce.P4.P4Server..ctor(System.String, System.String, System.String, System.String, System.String)\nat Perforce.P4.P4Server..ctor(System.String, System.String, System.String, System.String)\nat Perforce.P4.Connection.Connect(Perforce.P4.Options)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1541018645, "post_id": 53091612, "comment_id": 93080164, "body": "Begining with .NET 4.5, <i>all</i> versions are labeled &quot;4.0.30319&quot;. That number became totally irrelevant. Additionally, Windows 10 comes with .NET 4.6 and later updates promptly install 4.7 (wheter you want it or not). I doubt it has anything to do with the framework, but maybe with a library or some component of your program is outdated."}, {"owner": {"reputation": 1110, "user_id": 40333, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de0dd77a89c32854ba95384fac93d44a?s=128&d=identicon&r=PG", "display_name": "Arthurdent510", "link": "https://stackoverflow.com/users/40333/arthurdent510"}, "reply_to_user": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1541018904, "post_id": 53091612, "comment_id": 93080258, "body": "Ah, I was kind of wondering if it was something like that... one thing to check off the list of possible issues then I guess."}], "owner": {"reputation": 1110, "user_id": 40333, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de0dd77a89c32854ba95384fac93d44a?s=128&d=identicon&r=PG", "display_name": "Arthurdent510", "link": "https://stackoverflow.com/users/40333/arthurdent510"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541018334, "creation_date": 1541018334, "question_id": 53091612, "link": "https://stackoverflow.com/questions/53091612/app-on-server-2016-running-under-framework-version-v4-0-30319-instead-of-4-6", "title": "App on Server 2016 running under Framework Version: v4.0.30319 instead of 4.6?", "body": "<p>I have a full framework 4.6.2 windows service running on a Server 2016 box.  I recently moved it from using Ninject to the Microsoft extensions DI framework.  Runs fine on my local system, but when I try to run it on the server it's throwing an error, specifically something about a missing method exception.  I traced it down to my GenerateProvider method, but it's about as basic as you can get.  What caught my eye was in the error message it included this:</p>\n\n<pre><code>Framework Version: v4.0.30319\n</code></pre>\n\n<p>The full error for reference:</p>\n\n<pre><code>Application: MyApp.exe\nFramework Version: v4.0.30319\nDescription: The process was terminated due to an unhandled exception.\nException Info: System.MissingMethodException\n   at MyApp.Repository.WorkOrderRepository..ctor()\n   at MyApp.Repository.ProcessingRepository..ctor()\n   at MyApp.Worker..ctor(MyApp.Repository.IJobRepository)\n   at MyApp.Program.Main()\n</code></pre>\n\n<p>If I'm reading that right, is it really trying to run this under the 4.0.30319 framework?  Microsoft extensions needs 4.6.1, so I imagine that'd be part of my error.  But server 2016 comes with 4.6.2, any thoughts as to why it'd try to run an app as 4.0?</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "cqrs"], "comments": [{"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1541028673, "post_id": 53091381, "comment_id": 93083346, "body": "Where did you get the example code? The exception is clear: None of the constructors found with &#39;Autofac.Core.Activators.Reflection.DefaultConstructorFinder&zwnj;&#8203;&#39; on type &#39;EventFlow.ReadStores.MultipleAggregateReadStoreManager<code>3[Eve&zwnj;&#8203;ntFlow.ReadStores.In&zwnj;&#8203;Memory.IInMemoryRead&zwnj;&#8203;Store</code>1[querymodel.en&zwnj;&#8203;dpoint.EndpointModel&zwnj;&#8203;],querymodel.endpoin&zwnj;&#8203;t.EndpointModel,quer&zwnj;&#8203;ymodel.endpoint.Endp&zwnj;&#8203;ointByCodeLocator]&#39; can be invoked with the available services and parameters. Can you show more code of your model and locator?"}, {"owner": {"reputation": 1, "user_id": 10587934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd9503c521396a168ca3ee7130d6d1e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/10587934/robert"}, "reply_to_user": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1541105827, "post_id": 53091381, "comment_id": 93113773, "body": "Yes your&#39;e right the exception is clear but the registration in documentation of EventFlow the looks quite simple. Look here: <a href=\"http://docs.geteventflow.net/ReadStores.html\" rel=\"nofollow noreferrer\">docs.geteventflow.net/ReadStores.html</a> and here <a href=\"http://docs.geteventflow.net/GettingStarted.html\" rel=\"nofollow noreferrer\">docs.geteventflow.net/GettingStarted.html</a>"}, {"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1541112284, "post_id": 53091381, "comment_id": 93115933, "body": "Can you show your code of EndpointModel and EndpointByCodeLocator?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10587934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd9503c521396a168ca3ee7130d6d1e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/10587934/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1541165164, "creation_date": 1541165164, "answer_id": 53119441, "question_id": 53091381, "link": "https://stackoverflow.com/questions/53091381/eventflow-cqrs-autofac-registration-of-readmodellocator-throws-exception/53119441#53119441", "title": "eventflow cqrs Autofac registration of ReadModelLocator throws exception", "body": "<p>The Endpoint and EndpointByCodeLocator class have been implemented like this</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Endpoint : AggregateRoot&lt;Endpoint, EndpointId&gt;\n{\n    public Endpoint(EndpointId id) : base(id){}\n    public string Code { get; private set; }\n    public void Initialize(string code, string source)\n    {\n        Emit(new EndpointInitializedEvent(code,source));\n    }\n    public void Apply(EndpointInitializedEvent evt)\n    {\n        Code = evt.Code;\n    }\n}\n\npublic class EndpointByCodeLocator : IReadModelLocator\n{\n    public IEnumerable&lt;string&gt; GetReadModelIds(IDomainEvent evt)\n    {\n        var endpointInitializedEvent = evt as IDomainEvent&lt;Endpoint, EndpointId, EndpointInitializedEvent&gt;;\n        if (endpointInitializedEvent == null)\n            yield break;\n        else\n            yield return endpointInitializedEvent.AggregateEvent.Code;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10587934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd9503c521396a168ca3ee7130d6d1e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/10587934/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541165164, "creation_date": 1541017291, "last_edit_date": 1541024078, "question_id": 53091381, "link": "https://stackoverflow.com/questions/53091381/eventflow-cqrs-autofac-registration-of-readmodellocator-throws-exception", "title": "eventflow cqrs Autofac registration of ReadModelLocator throws exception", "body": "<p>I'm trying to use EventFlow CQRS framework in a AspNetCore 2.1 webapi. Everything is working fine but after registration of a ReadModelLocator, the code throws an exception:</p>\n\n<pre><code>**Exception has occurred: CLR/System.AggregateException**\nAn exception of type 'System.AggregateException' occurred in EventFlow.dll but was not handled in user code: 'An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = DomainEventPublisher (ReflectionActivator), Services = [EventFlow.Subscribers.DomainEventPublisher], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = IReadStoreManager[] (DelegateActivator), Services = [System.Collections.Generic.IEnumerable`1[[EventFlow.ReadStores.IReadStoreManager, EventFlow, Version=0.67.3697.0, Culture=neutral, PublicKeyToken=null]]], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = ExternallyOwned ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = IReadStoreManager (DelegateActivator), Services = [EventFlow.ReadStores.IReadStoreManager], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = ExternallyOwned ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = MultipleAggregateReadStoreManager`3 (ReflectionActivator), Services = [EventFlow.ReadStores.MultipleAggregateReadStoreManager`3[[EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[[querymodel.endpoint.EndpointModel, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EventFlow, Version=0.67.3697.0, Culture=neutral, PublicKeyToken=null],[querymodel.endpoint.EndpointModel, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[querymodel.endpoint.EndpointByCodeLocator, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---&gt; None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'EventFlow.ReadStores.MultipleAggregateReadStoreManager`3[EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[querymodel.endpoint.EndpointModel],querymodel.endpoint.EndpointModel,querymodel.endpoint.EndpointByCodeLocator]' can be invoked with the available services and parameters:\nCannot resolve parameter 'querymodel.endpoint.EndpointByCodeLocator readModelLocator' of constructor 'Void .ctor(EventFlow.Logs.ILog, EventFlow.Configuration.IResolver, EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[querymodel.endpoint.EndpointModel], EventFlow.ReadStores.IReadModelDomainEventApplier, querymodel.endpoint.EndpointByCodeLocator, EventFlow.ReadStores.IReadModelFactory`1[querymodel.endpoint.EndpointModel])'. (See inner exception for details.) (See inner exception for details.) (See inner exception for details.) (See inner exception for details.), An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = IDomainEventPublisher (DelegateActivator), Services = [EventFlow.Subscribers.IDomainEventPublisher], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = ExternallyOwned ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = DomainEventPublisher (ReflectionActivator), Services = [EventFlow.Subscribers.DomainEventPublisher], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = IReadStoreManager[] (DelegateActivator), Services = [System.Collections.Generic.IEnumerable`1[[EventFlow.ReadStores.IReadStoreManager, EventFlow, Version=0.67.3697.0, Culture=neutral, PublicKeyToken=null]]], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = ExternallyOwned ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = IReadStoreManager (DelegateActivator), Services = [EventFlow.ReadStores.IReadStoreManager], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = ExternallyOwned ---&gt; An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = MultipleAggregateReadStoreManager`3 (ReflectionActivator), Services = [EventFlow.ReadStores.MultipleAggregateReadStoreManager`3[[EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[[querymodel.endpoint.EndpointModel, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EventFlow, Version=0.67.3697.0, Culture=neutral, PublicKeyToken=null],[querymodel.endpoint.EndpointModel, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[querymodel.endpoint.EndpointByCodeLocator, query-model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---&gt; None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'EventFlow.ReadStores.MultipleAggregateReadStoreManager`3[EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[querymodel.endpoint.EndpointModel],querymodel.endpoint.EndpointModel,querymodel.endpoint.EndpointByCodeLocator]' can be invoked with the available services and parameters:\nCannot resolve parameter 'querymodel.endpoint.EndpointByCodeLocator readModelLocator' of constructor 'Void .ctor(EventFlow.Logs.ILog, EventFlow.Configuration.IResolver, EventFlow.ReadStores.InMemory.IInMemoryReadStore`1[querymodel.endpoint.EndpointModel], EventFlow.ReadStores.IReadModelDomainEventApplier, querymodel.endpoint.EndpointByCodeLocator, EventFlow.ReadStores.IReadModelFactory`1[querymodel.endpoint.EndpointModel])'\n</code></pre>\n\n<p>I've registered all components as described in the example:</p>\n\n<pre><code>var builder = new ContainerBuilder();\nbuilder.Populate(services);\nvar container = EventFlowOptions.New\n  .UseAutofacContainerBuilder(builder)\n  .UseConsoleLog()\n  .UseFilesEventStore(FilesEventStoreConfiguration.Create(\"./evt-store\"))\n  .AddDefaults(typeof(Endpoint).Assembly)\n  .AddDefaults(typeof(EndpointModel).Assembly)\n  .AddDefaults(typeof(CreateEndpointCommand).Assembly)\n  .UseInMemoryReadStoreFor&lt;EndpointModel, EndpointByCodeLocator&gt;()\n  .CreateContainer();\n</code></pre>\n\n<p>Any ideas? THX!</p>\n"}, {"tags": ["c#", "inheritance"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1541018108, "post_id": 53091380, "comment_id": 93079976, "body": "Can you explain why you want this thing?  The idea of an abstract property is that you can change its value in the derived class; the idea of a read-only property is that it cannot be changed. Those seem like opposites. What is your use case?"}, {"owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541018335, "post_id": 53091380, "comment_id": 93080057, "body": "We want a string to be passed in a derived class ctor to override the base class value, but be const after initialization."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1541018494, "post_id": 53091380, "comment_id": 93080116, "body": "Then why is the property <i>abstract</i>?  Why is it not simply a concrete, readonly, non-virtual property?"}, {"owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541019259, "post_id": 53091380, "comment_id": 93080414, "body": "@EricLippert Good suggestion. For my use case your suggestion would get me around the above requirement. Thks!"}], "answers": [{"tags": [], "owner": {"reputation": 3797, "user_id": 3194005, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/500059610/picture?type=large", "display_name": "Derrick Moeller", "link": "https://stackoverflow.com/users/3194005/derrick-moeller"}, "is_accepted": false, "score": 3, "last_activity_date": 1580226534, "last_edit_date": 1580226534, "creation_date": 1541019279, "answer_id": 53091817, "question_id": 53091380, "link": "https://stackoverflow.com/questions/53091380/c-abstract-property-that-can-be-initialized-in-constructor-but-readonly-afterwa/53091817#53091817", "title": "C# abstract property that can be initialized in constructor but readonly afterwards?", "body": "<p>You likely don't want an <code>abstract</code> property. You would only use that if you wanted to force the derived class to provide a custom implementation. In your case you simply want it to be set in the constructor and <code>readonly</code>.</p>\n\n<pre><code>public abstract class Base\n{\n    protected string MyProperty { get; }\n\n    public Base(string myProperty)\n    {\n        MyProperty = myProperty;\n    }\n}\n\npublic class Derived : Base\n{\n    public Derived()\n        : base(\"DefaultValue\")\n    { }\n}\n</code></pre>\n"}], "owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1580226916, "creation_date": 1541017285, "last_edit_date": 1541017764, "question_id": 53091380, "link": "https://stackoverflow.com/questions/53091380/c-abstract-property-that-can-be-initialized-in-constructor-but-readonly-afterwa", "title": "C# abstract property that can be initialized in constructor but readonly afterwards?", "body": "<p>In a class I have a property</p>\n\n<pre><code>protected abstract string test{ get; }\n</code></pre>\n\n<p>When I try to initialize it in a constructor. I get an error saying:</p>\n\n<blockquote>\n  <p>Property or indexer xxx cannot be assigned to. -- it is read-only. </p>\n</blockquote>\n\n<p>Is there a way to allow some property to be </p>\n\n<ol>\n<li>abstract</li>\n<li>Read-only after initialization in ctor ?</li>\n</ol>\n"}, {"tags": ["c#", "json", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1541018336, "post_id": 53091379, "comment_id": 93080059, "body": "What have you investigated? See <a href=\"https://stackoverflow.com/questions/10007722/post-array-as-json-to-mvc-controller\">this</a> SO question for example."}, {"owner": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1541018870, "post_id": 53091379, "comment_id": 93080239, "body": "thankx for helping but in this question the request is not converted into json object but in my case it is as i already used <code>JSON.stringify</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2155, "user_id": 4056487, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifsBv.jpg?s=128&g=1", "display_name": "Tiago &#193;vila", "link": "https://stackoverflow.com/users/4056487/tiago-%c3%81vila"}, "reply_to_user": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "edited": false, "score": 0, "creation_date": 1541018758, "post_id": 53091452, "comment_id": 93080198, "body": "Try a list of RootObject in your action: public string addWwarehouse([FromBody] List&lt;RootObject&gt; warehouses)"}, {"owner": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "edited": false, "score": 0, "creation_date": 1541019103, "post_id": 53091452, "comment_id": 93080343, "body": "Yes sir it is working but can you explain how as we dont have anything like <code>RootObject</code> in our json data ?"}, {"owner": {"reputation": 2155, "user_id": 4056487, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifsBv.jpg?s=128&g=1", "display_name": "Tiago &#193;vila", "link": "https://stackoverflow.com/users/4056487/tiago-%c3%81vila"}, "reply_to_user": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "edited": false, "score": 0, "creation_date": 1541019838, "post_id": 53091452, "comment_id": 93080632, "body": "RootObject is just the name of the class, you can change for anything that makes more sense for you. What I did was, I took your json and converted to a c# class using that site: <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp.com</a> and after that I realized that your json is inside of [] brackets, what means that you need a list of your class in your action."}], "tags": [], "owner": {"reputation": 2155, "user_id": 4056487, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifsBv.jpg?s=128&g=1", "display_name": "Tiago &#193;vila", "link": "https://stackoverflow.com/users/4056487/tiago-%c3%81vila"}, "is_accepted": true, "score": 1, "last_activity_date": 1541017607, "creation_date": 1541017607, "answer_id": 53091452, "question_id": 53091379, "link": "https://stackoverflow.com/questions/53091379/how-to-deserialize-json-array-data-in-asp-net-mvc-controller/53091452#53091452", "title": "How to deserialize json array data in ASP.NET MVC controller", "body": "<p>Because the way that your json is, you need a class like this:</p>\n\n<pre><code>public class Warehouses\n{\n    public string name { get; set; }\n    public string location { get; set; }\n}\n\npublic class RootObject\n{\n    public Warehouses warehouses { get; set; }\n}\n</code></pre>\n\n<p>Then, in your action shoud be like this:</p>\n\n<pre><code>public string addWwarehouse([FromBody] RootObject warehouses)\n</code></pre>\n\n<p>I think this will resolve.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "edited": false, "score": 0, "creation_date": 1541018317, "post_id": 53091457, "comment_id": 93080050, "body": "Sir I already tried this approach but the problem is my json request is created like the above array as mentioned starting with <code>[]</code> brackets so is there any approach i could do to deserialize it  ?"}], "tags": [], "owner": {"reputation": 12429, "user_id": 4995012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a300442854f4caef5cd41a7b3084a6e?s=128&d=identicon&r=PG", "display_name": "Fabjan", "link": "https://stackoverflow.com/users/4995012/fabjan"}, "is_accepted": false, "score": 2, "last_activity_date": 1541019951, "last_edit_date": 1541019951, "creation_date": 1541017642, "answer_id": 53091457, "question_id": 53091379, "link": "https://stackoverflow.com/questions/53091379/how-to-deserialize-json-array-data-in-asp-net-mvc-controller/53091457#53091457", "title": "How to deserialize json array data in ASP.NET MVC controller", "body": "<p>Welcome to StackOverflow.</p>\n\n<p>It doesn't because your model is not a <code>List&lt;warehouse&gt;</code>:</p>\n\n<pre><code>[{\n    \"warehouses\":\n    {\n        \"name\":\"WarehouseA\",\n        \"location\":\"locationA\"\n    }\n}]\n</code></pre>\n\n<p>It is an array of objects <em>each</em> with a property called \"warehouses\" that contains a singular object of type <code>warehouse</code>. You might want to send an array of warehouses instead:</p>\n\n<pre><code>[{\n    \"name\":\"WarehouseA\",\n    \"location\":\"locationA\"\n}, {\n    \"name\":\"WarehouseB\",\n    \"location\":\"locationB\"\n}]\n</code></pre>\n\n<p>And deserialize it to <code>List&lt;warehouse&gt;</code></p>\n\n<p>P.S.\nIf you have no control over json format then the answer by @Tiago \u00c1vila should do the trick.</p>\n\n<p>Let's inspect the model:</p>\n\n<pre><code>[{                                // [...] - array of some outer objs\n    \"warehouses\":                 // with single property\n    {                \n        \"name\":\"WarehouseA\",      // inner obj that resides inside outer obj\n        \"location\":\"locationA\"\n    }\n}]\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 10534410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoPZx.jpg?s=128&g=1", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/10534410/mohsin-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 53091452, "answer_count": 2, "score": 1, "last_activity_date": 1541034354, "creation_date": 1541017274, "last_edit_date": 1541034354, "question_id": 53091379, "link": "https://stackoverflow.com/questions/53091379/how-to-deserialize-json-array-data-in-asp-net-mvc-controller", "title": "How to deserialize json array data in ASP.NET MVC controller", "body": "<p>I had successfully deserialized a simple json object but when I send an array of json object using a POST request to my controller, it fails. Here is my code: </p>\n\n<pre><code>[HttpPost]\npublic string addWwarehouse([FromBody] warehouse warehouses)\n{\n      System.Diagnostics.Debug.WriteLine(warehouses[0].name);\n      return \"success\";\n}\n</code></pre>\n\n<p>This is working json data: </p>\n\n<pre><code>{\n    \"warehouses\":\n    {\n        \"name\":\"WarehouseA\",\n        \"location\":\"locationA\"\n    }\n}\n</code></pre>\n\n<p>But when I use an array like this,</p>\n\n<pre><code>[{\n    \"warehouses\":\n    {\n        \"name\":\"WarehouseA\",\n        \"location\":\"locationA\"\n    }\n}]\n</code></pre>\n\n<p>It doesn't work. I also tried using <code>List&lt;warehouse&gt;</code> but still no luck. This is my <code>warehouse</code> class:</p>\n\n<pre><code>public class warehouse { \n    public string name  { get; set; }\n    public string location { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "gridview", "row", "add"], "comments": [{"owner": {"reputation": 444, "user_id": 9115319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4e2d89c784b2c575c1ba83f8c2a1d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "Dot Net Dev", "link": "https://stackoverflow.com/users/9115319/dot-net-dev"}, "edited": false, "score": 0, "creation_date": 1541018183, "post_id": 53091353, "comment_id": 93080004, "body": "you can use <code>grid.Rows.InsertAt(DataRow, index);</code>"}, {"owner": {"reputation": 1, "user_id": 10587962, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U9nLBGAbBL0/AAAAAAAAAAI/AAAAAAAAACk/7bpoeHcSaAY/photo.jpg?sz=128", "display_name": "Don Slipo", "link": "https://stackoverflow.com/users/10587962/don-slipo"}, "reply_to_user": {"reputation": 444, "user_id": 9115319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4e2d89c784b2c575c1ba83f8c2a1d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "Dot Net Dev", "link": "https://stackoverflow.com/users/9115319/dot-net-dev"}, "edited": false, "score": 0, "creation_date": 1541019063, "post_id": 53091353, "comment_id": 93080329, "body": "@DotNetDev  <code>InsertAt(DataRow, index);</code> function doesnt seem to exist?  There is <code>Insert(rowIndex, DataGridViewRow)</code> tho."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10587962, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U9nLBGAbBL0/AAAAAAAAAAI/AAAAAAAAACk/7bpoeHcSaAY/photo.jpg?sz=128", "display_name": "Don Slipo", "link": "https://stackoverflow.com/users/10587962/don-slipo"}, "edited": false, "score": 0, "creation_date": 1541026467, "post_id": 53092736, "comment_id": 93082773, "body": "Not sure if it will work for me, as number of columns is not determined from the start.  It is determined  when program is finished parsing data from a file and puts in into a <code>List&lt;string&gt; data</code> (in a single row), from which I do <code>data.Count</code> to get the number of required columns.  From that point I want to display whole &#39;data&#39; in a row of GridView each time it is requierd in the code."}], "tags": [], "owner": {"reputation": 45, "user_id": 6789916, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V8wR7WgkxEo/AAAAAAAAAAI/AAAAAAAAAQQ/a_FpSmH4B0o/photo.jpg?sz=128", "display_name": "Yousef Golnahali", "link": "https://stackoverflow.com/users/6789916/yousef-golnahali"}, "is_accepted": false, "score": 0, "last_activity_date": 1541024322, "creation_date": 1541024322, "answer_id": 53092736, "question_id": 53091353, "link": "https://stackoverflow.com/questions/53091353/c-gridview-rows-added-in-wrong-place/53092736#53092736", "title": "C# GridView rows added in wrong place?", "body": "<p>You can create DataTable and then show it on GridView!\ntry this:</p>\n\n<pre><code>System.Data.DataTable table = new DataTable();\ntable.Columns.Add(\"col1\", typeof(string));\ntable.Columns.Add(\"col2\", typeof(string));\ntable.Columns.Add(\"col3\", typeof(string));\n...\n</code></pre>\n\n<p>this is creating the rows:</p>\n\n<pre><code>for (int i = 0; i &lt; n - 1; i++)\n        {\n            DataRow dr = table.NewRow();\n            if(i==0)\n               {\n                  dr[col1]=\"Data\"\n                  dr[col2]= ...\n                  dr[col3]= ...\n                  ...\n               }\n             if(i&gt;0)\n               {\n                  // your code\n               }\n            table.Rows.Add(dr);\n         }\n</code></pre>\n\n<p>to add this table to GridView:</p>\n\n<pre><code>DataView dv1 = new DataView(table);\ndataGridView1.DataSource = dv1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 444, "user_id": 9115319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4e2d89c784b2c575c1ba83f8c2a1d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "Dot Net Dev", "link": "https://stackoverflow.com/users/9115319/dot-net-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1541078130, "creation_date": 1541078130, "answer_id": 53102074, "question_id": 53091353, "link": "https://stackoverflow.com/questions/53091353/c-gridview-rows-added-in-wrong-place/53102074#53102074", "title": "C# GridView rows added in wrong place?", "body": "<p>Use <code>Insert</code> to add the records and <code>Count</code> for the last position</p>\n\n<p>Something like:</p>\n\n<pre><code>grid.Rows.Insert(grid.Rows.Count-1, row);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10587962, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U9nLBGAbBL0/AAAAAAAAAAI/AAAAAAAAACk/7bpoeHcSaAY/photo.jpg?sz=128", "display_name": "Don Slipo", "link": "https://stackoverflow.com/users/10587962/don-slipo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541078130, "creation_date": 1541017174, "last_edit_date": 1541021632, "question_id": 53091353, "link": "https://stackoverflow.com/questions/53091353/c-gridview-rows-added-in-wrong-place", "title": "C# GridView rows added in wrong place?", "body": "<p>I want to add rows to my GridView while the function is running.</p>\n\n<p>Before function for adding rows is called there is always 1 \"DATA\" row present from previous function.</p>\n\n<p>To add rows I tried to use:</p>\n\n<pre><code>int n = grid.Rows.Count;    \ngrid.Rows.Add(\"Step\" + n.ToString());\n</code></pre>\n\n<p>and I would expect to get rows with labels:</p>\n\n<pre><code>Data...    \nStep1...\nStep2...\nStep3...\netc\n</code></pre>\n\n<p>instead I get:</p>\n\n<pre><code>Step1...\nStep2...\nStep3...\netc\nData...\n</code></pre>\n\n<p>(DATA row is pushed to the very bottom, all rows are added above it)\nWhere is my mistake?</p>\n\n<p>EDIT:\nI tried:</p>\n\n<pre><code>int n = grid.Rows.Count;\nDataGridViewRow row = new DataGridViewRow();         \ngrid.Rows.Insert(n, row);\ngrid.Rows[n].Cells[0].Value = \"Step\"+n.ToString();\n</code></pre>\n\n<p>but it bugs out.</p>\n"}, {"tags": ["c#", "html", "web-scraping", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "edited": false, "score": 0, "creation_date": 1541018498, "post_id": 53091596, "comment_id": 93080120, "body": "Using version 1.8.9. Its possible the IP has been temporarily blacklisted. In that case would the webpage still come up in the browser? Also are you getting the full HTML of the page? Not just the HTML of the Error page?"}, {"owner": {"reputation": 2147, "user_id": 4180382, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AFiNM.jpg?s=128&g=1", "display_name": "Ole EH Dufour", "link": "https://stackoverflow.com/users/4180382/ole-eh-dufour"}, "reply_to_user": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "edited": false, "score": 0, "creation_date": 1541018767, "post_id": 53091596, "comment_id": 93080208, "body": "I&#39;m getting the full HTML of the above url, not the error page. Yes I&#39;m using 1.8.9 too."}, {"owner": {"reputation": 2147, "user_id": 4180382, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AFiNM.jpg?s=128&g=1", "display_name": "Ole EH Dufour", "link": "https://stackoverflow.com/users/4180382/ole-eh-dufour"}, "reply_to_user": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "edited": false, "score": 0, "creation_date": 1541019107, "post_id": 53091596, "comment_id": 93080344, "body": "Are you executing the code many times? Maybe the server&#39;s falling over..."}, {"owner": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "edited": false, "score": 0, "creation_date": 1541020565, "post_id": 53091596, "comment_id": 93080880, "body": "Each run of the code only calls the page once and I haven&#39;t run it that many times."}], "tags": [], "owner": {"reputation": 2147, "user_id": 4180382, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AFiNM.jpg?s=128&g=1", "display_name": "Ole EH Dufour", "link": "https://stackoverflow.com/users/4180382/ole-eh-dufour"}, "is_accepted": false, "score": 0, "last_activity_date": 1541020375, "last_edit_date": 1541020375, "creation_date": 1541018268, "answer_id": 53091596, "question_id": 53091324, "link": "https://stackoverflow.com/questions/53091324/c-htmlagilitypack-returns-a-404-error-page-unexpectedly/53091596#53091596", "title": "C# HTMLAgilityPack returns a 404 error page unexpectedly", "body": "<ul>\n<li>Are you sure that you are using the latest version of the HtmlAgilityPack?</li>\n<li>Are you maybe calling the code too often so that your ip adress is blacklisted temporarily ?</li>\n</ul>\n\n<p>The below code works for me and bodyInnerHtml is correctly assigned the InnerHtml of the body :</p>\n\n<pre><code>            string uri = \"http://bc.rcmp-grc.gc.ca/ViewPage.action?siteNodeId=2087&amp;languageId=1&amp;contentId=57000\";\n            var web = new HtmlWeb();\n            web.UseCookies = true;\n            var doc = web.Load(uri);\n            IEnumerable&lt;HtmlParseError&gt; d = doc.ParseErrors; // 6 errors, but so what\n\n            if ( (web.StatusCode != HttpStatusCode.OK))\n            {\n            //    return string.Empty;\n            }\n            else\n            {\n               // works for me:\n               var bodyInnerhtml = doc.DocumentNode.SelectNodes(\"//body\")[0].InnerHtml;                            \n            }\n</code></pre>\n\n<p>Result :\n<a href=\"https://i.stack.imgur.com/el8BY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/el8BY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541020375, "creation_date": 1541017054, "question_id": 53091324, "link": "https://stackoverflow.com/questions/53091324/c-htmlagilitypack-returns-a-404-error-page-unexpectedly", "title": "C# HTMLAgilityPack returns a 404 error page unexpectedly", "body": "<p>I'm using HTML Agility Pack to parse webpages and it was working great up until recently. Now when I try to load the page instead of the full HTML response I'm getting the 404 error page. </p>\n\n<p>Here is an example of a URL with this behavior: <a href=\"http://bc.rcmp-grc.gc.ca/ViewPage.action?siteNodeId=2087&amp;languageId=1&amp;contentId=57000\" rel=\"nofollow noreferrer\">http://bc.rcmp-grc.gc.ca/ViewPage.action?siteNodeId=2087&amp;languageId=1&amp;contentId=57000</a></p>\n\n<p>And here is the code: </p>\n\n<pre><code>    public string Body(string uri)\n    {\n        var web = new HtmlWeb();\n        web.UseCookies = true;\n        var doc = web.Load(uri);\n        if ((doc.ParseErrors.Count() &gt; 0) || (web.StatusCode != HttpStatusCode.OK))\n        {\n             return string.Empty;\n        }\n        else \n        {\n            return doc.DocumentNode\n            .SelectNodes(\"//body\")\n            .First()\n            .InnerHtml;\n        }\n    }\n</code></pre>\n\n<p>And this is the output I get: \nBody: we couldn't find that web page error 404 / nous ne pouvons trouver cette page web erreur 404 we couldn't find that web page error 404 we're sorry you ended up here sometimes page gets moved deleted but hopefully we can help you find what you're looking for return bc rcmp home page nous ne pouvons trouver cette page web erreur 404 nous sommes d\u00e9sol\u00e9s que vous ayez abouti ici il arrive parfois qu'une page ait \u00e9t\u00e9 d\u00e9plac\u00e9e ou supprim\u00e9e heureusement nous pouvons vous aider \u00e0 trouver ce que vous cherchez retournez \u00e0 la grc en c-b page d'accueil /**/</p>\n\n<p>It looks like it may be the error page for this particular site: <a href=\"http://bc.rcmp-grc.gc.ca/error.jsp\" rel=\"nofollow noreferrer\">http://bc.rcmp-grc.gc.ca/error.jsp</a></p>\n"}, {"tags": ["c#", "sql-server", "visual-studio", "entity-framework", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1541016986, "post_id": 53091299, "comment_id": 93079606, "body": "Why is this tagged with 3 separate programming languages?"}, {"owner": {"reputation": 21, "user_id": 10474384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1FIxBQWafyk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVVUgb2hzKtyyfT3vgnOvtLy-tgEg/mo/photo.jpg?sz=128", "display_name": "David Lerma Segura", "link": "https://stackoverflow.com/users/10474384/david-lerma-segura"}, "reply_to_user": {"reputation": 3975, "user_id": 8513665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39368317b0749f5d8f09735796c470e?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Gibbons", "link": "https://stackoverflow.com/users/8513665/christian-gibbons"}, "edited": false, "score": 0, "creation_date": 1541026257, "post_id": 53091299, "comment_id": 93082720, "body": "@ChristianGibbons edited"}, {"owner": {"reputation": 21, "user_id": 10474384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1FIxBQWafyk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVVUgb2hzKtyyfT3vgnOvtLy-tgEg/mo/photo.jpg?sz=128", "display_name": "David Lerma Segura", "link": "https://stackoverflow.com/users/10474384/david-lerma-segura"}, "reply_to_user": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1541026273, "post_id": 53091299, "comment_id": 93082724, "body": "@emsimpson92 edited"}], "answers": [{"tags": [], "owner": {"reputation": 409, "user_id": 6215829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfa2407b527f50c30a79d02f1c531d08?s=128&d=identicon&r=PG&f=1", "display_name": "Besher Tobeh", "link": "https://stackoverflow.com/users/6215829/besher-tobeh"}, "is_accepted": false, "score": 2, "last_activity_date": 1541080324, "creation_date": 1541080324, "answer_id": 53102704, "question_id": 53091299, "link": "https://stackoverflow.com/questions/53091299/how-to-go-to-next-page-if-records-exist/53102704#53102704", "title": "How to go to next page if records exist?", "body": "<p>if you are using entity framework you have to add this line:</p>\n\n<pre><code>contextObject.Skip(skip).Take(result.PageSize).ToList();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10474384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1FIxBQWafyk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVVUgb2hzKtyyfT3vgnOvtLy-tgEg/mo/photo.jpg?sz=128", "display_name": "David Lerma Segura", "link": "https://stackoverflow.com/users/10474384/david-lerma-segura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541080324, "creation_date": 1541016923, "last_edit_date": 1541026054, "question_id": 53091299, "link": "https://stackoverflow.com/questions/53091299/how-to-go-to-next-page-if-records-exist", "title": "How to go to next page if records exist?", "body": "<p>I'm doing a paging calculation to paging my records. Is the typical calculation that we found in every web site:</p>\n\n<pre><code>totalPage = (int) Math.Ceiling((double) TotalRecords / PageSize);\n</code></pre>\n\n<p>What i want to do now is a paging On-Demand. I mean 10 by 10 (for example)</p>\n\n<p>In my grid i don't need to show all the pages calculated as i said before. \nI just want to show a \"next button\" and a \"previous button\"</p>\n\n<p>How can i do that? i'm using sql server and c#</p>\n\n<p>This is my current code:</p>\n\n<pre><code>var result = new Utils.PagedResult&lt;T&gt;\n{\n    CurrentPage = page,\n    PageSize = pageSize\n    Total = query.Count()\n};\n     result.TotalPages = (int)Math.Ceiling(result.Total / (double)pageSize);\n     result.TotalPages = (int)Math.Ceiling(result.Total / (double)pageSize);\n     result.PreviousPage = page &gt; 1 ? \"Yes\" : \"No\";\n     result.NextPage = page &lt; result.TotalPages ? \"Yes\" : \"No\";\n     var pageCount = (double)result.Total / pageSize;\n     result.PageCount = (int)Math.Ceiling(pageCount);\n\n     var skip = (page - 1) * pageSize;\n</code></pre>\n"}, {"tags": ["c#", "plsqldeveloper"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1541016884, "post_id": 53091286, "comment_id": 93079569, "body": "It is very unclear what you are trying to ask."}, {"owner": {"reputation": 365, "user_id": 243919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mAsfx.jpg?s=128&g=1", "display_name": "lerthe61", "link": "https://stackoverflow.com/users/243919/lerthe61"}, "edited": false, "score": 0, "creation_date": 1541018398, "post_id": 53091286, "comment_id": 93080079, "body": "The best place to start is the Oracle SQL <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_10002.htm\" rel=\"nofollow noreferrer\">documentation</a>, which is good quality and very straightforward. The local community is helpful, but you would need to show that you did some effort to investigate your question."}, {"owner": {"reputation": 365, "user_id": 243919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mAsfx.jpg?s=128&g=1", "display_name": "lerthe61", "link": "https://stackoverflow.com/users/243919/lerthe61"}, "edited": false, "score": 0, "creation_date": 1541018609, "post_id": 53091286, "comment_id": 93080153, "body": "Returning to your question, using AT (@) symbol is usually reffering on special syntax that was introduced to support distributed queries (queries that need to query data from different databases)."}, {"owner": {"reputation": 1, "user_id": 10587971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WcxP_WKcoVI/AAAAAAAAAAI/AAAAAAAABCs/lK8B1tYh_Dk/photo.jpg?sz=128", "display_name": "sal", "link": "https://stackoverflow.com/users/10587971/sal"}, "edited": false, "score": 0, "creation_date": 1541082217, "post_id": 53091286, "comment_id": 93101782, "body": "All i&#39;m looking for is what what follows after @ in oracle. I&#39;m able to execute the query using the .net Code but when I try to execute the same sql from the SQL Developer studio, it gives me error at @here"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 3433702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rS4c5.jpg?s=128&g=1", "display_name": "Vijay Dodamani", "link": "https://stackoverflow.com/users/3433702/vijay-dodamani"}, "is_accepted": false, "score": 0, "last_activity_date": 1541017657, "creation_date": 1541017657, "answer_id": 53091458, "question_id": 53091286, "link": "https://stackoverflow.com/questions/53091286/passing-oracle-query-from-c/53091458#53091458", "title": "passing oracle query from c#", "body": "<p>You can try to write the query as below:</p>\n\n<pre><code>\"Select first_name, last_name from database_name where name =:name\"\n</code></pre>\n\n<p>where :name would be parameter we would like to send</p>\n\n<pre><code>query.AddParameter(\"name\",actual_Value)\n</code></pre>\n\n<p>after this execute query.</p>\n\n<p>This solved my problem</p>\n"}], "owner": {"reputation": 1, "user_id": 10587971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WcxP_WKcoVI/AAAAAAAAAAI/AAAAAAAABCs/lK8B1tYh_Dk/photo.jpg?sz=128", "display_name": "sal", "link": "https://stackoverflow.com/users/10587971/sal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541082435, "creation_date": 1541016834, "last_edit_date": 1541082435, "question_id": 53091286, "link": "https://stackoverflow.com/questions/53091286/passing-oracle-query-from-c", "title": "passing oracle query from c#", "body": "<p>Does anyone know what does it reflects when passing a query from C# code to oracle database?</p>\n\n<p>Select first_name, last_name from database_name@whatisthis</p>\n\n<p>I'm particularly interested in @ sign then the word whatisthis, I mean, is it a linked server or a remote database name etc. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "identity"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1541016551, "post_id": 53091156, "comment_id": 93079430, "body": "isn&#39;t it something like <code>HttpContext.Current.User.Identity</code>?"}, {"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1541017630, "post_id": 53091156, "comment_id": 93079812, "body": "@Hogan, AFAIK there&#39;s no &#39;HttpContext.Current&#39; in Asp.net Core."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1541025744, "post_id": 53091156, "comment_id": 93082555, "body": "@PoulBak -- probably in web content then."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9069649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808f3a491c65c52ce5a232f33955a52?s=128&d=identicon&r=PG&f=1", "display_name": "philkills", "link": "https://stackoverflow.com/users/9069649/philkills"}, "edited": false, "score": 0, "creation_date": 1541016922, "post_id": 53091220, "comment_id": 93079586, "body": "But is this better than var user = await _userManager.GetUserAsync(User); Won&#39;t I still need to perform a check to see if userId is null or invalid?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 55, "user_id": 9069649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808f3a491c65c52ce5a232f33955a52?s=128&d=identicon&r=PG&f=1", "display_name": "philkills", "link": "https://stackoverflow.com/users/9069649/philkills"}, "edited": false, "score": 0, "creation_date": 1541017121, "post_id": 53091220, "comment_id": 93079646, "body": "No. And technically you don&#39;t need to with <code>GetUserAsync</code> either. If this is behind an authorized endpoint, then the user must exist or they wouldn&#39;t be logged in. I suppose it&#39;s possible for something like the user to log in and then have their user record deleted following, but that would be weird to say the least. Claims are even more reliable, though, since they&#39;re tied to the actual logged in principal. As long as the user is logged in the claims will be set, regardless of what happens at the database-level."}, {"owner": {"reputation": 55, "user_id": 9069649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808f3a491c65c52ce5a232f33955a52?s=128&d=identicon&r=PG&f=1", "display_name": "philkills", "link": "https://stackoverflow.com/users/9069649/philkills"}, "edited": false, "score": 0, "creation_date": 1541017330, "post_id": 53091220, "comment_id": 93079710, "body": "Hmm, it&#39;s just weird that they do this null check in their exemplar applications even if behind an Authorised filter.... Any idea if it still hits the db on a check or is it just reading the clients cookie data?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 55, "user_id": 9069649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808f3a491c65c52ce5a232f33955a52?s=128&d=identicon&r=PG&f=1", "display_name": "philkills", "link": "https://stackoverflow.com/users/9069649/philkills"}, "edited": false, "score": 0, "creation_date": 1541017665, "post_id": 53091220, "comment_id": 93079822, "body": "Anytime you query a database, it&#39;s best practice to assume your query might not match anything. While with this, it&#39;s fairly obvious it will return something, it certainly doesn&#39;t hurt to be over-cautious. When you access claims on the user principal, however, you are not hitting the database. Those exist in-memory."}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 3, "last_activity_date": 1541016576, "creation_date": 1541016576, "answer_id": 53091220, "question_id": 53091156, "link": "https://stackoverflow.com/questions/53091156/c-net-core-best-way-to-get-current-user-id/53091220#53091220", "title": "C# .NET core Best way to get current user ID", "body": "<p>User id is a claim. You can get it via:</p>\n\n<pre><code>var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);\n</code></pre>\n\n<p>Note: You'll need to add a using for <code>System.Security.Claims</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 10375392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5enl.jpg?s=128&g=1", "display_name": "Nikunj", "link": "https://stackoverflow.com/users/10375392/nikunj"}, "is_accepted": false, "score": 0, "last_activity_date": 1541056610, "creation_date": 1541056610, "answer_id": 53096711, "question_id": 53091156, "link": "https://stackoverflow.com/questions/53091156/c-net-core-best-way-to-get-current-user-id/53096711#53096711", "title": "C# .NET core Best way to get current user ID", "body": "<p>In WebApi 2 you can use RequestContext.Principal from within a method on ApiController</p>\n\n<pre><code>string id;\nid = User.Identity.GetUserId();\nid = RequestContext.Principal.Identity.GetUserId();\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9069649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808f3a491c65c52ce5a232f33955a52?s=128&d=identicon&r=PG&f=1", "display_name": "philkills", "link": "https://stackoverflow.com/users/9069649/philkills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541056610, "creation_date": 1541016298, "question_id": 53091156, "link": "https://stackoverflow.com/questions/53091156/c-net-core-best-way-to-get-current-user-id", "title": "C# .NET core Best way to get current user ID", "body": "<p>I have a lot of tables in my database that use a user's identity User.Id as a foreign key. Now, in a lot of the requests I need to do the below lines it seems just in case the User is null (even if I add [Authorise] filter to the function).</p>\n\n<pre><code>var user = await _userManager.GetUserAsync(User);\nif (user == null)\n{\n    ViewBag.ErrorCode = \"1201\";\n    ViewBag.ErrorMsg = \"User not found\";\n    return View(\"HandledError\");\n}\nvar userId = user.Id;\n</code></pre>\n\n<p>Does anyone know the best way I can access this without copying this same code for each function?</p>\n\n<p>I guess I could have a function that retrieves the Id... and throws an exception on Null.. but then I would still need to write it in a try catch everytime anyway....</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "docker", "asp.net-core", "identityserver4"], "answers": [{"comments": [{"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541057771, "post_id": 53094778, "comment_id": 93089954, "body": "Yeah, that was it.  I figured it out about an hour after I posted the question.  Do all the ports have to be 80?"}, {"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541059692, "post_id": 53094778, "comment_id": 93090604, "body": "Could you have a lok at my update before I accept - it was part of the otiginal question as well.  Thanks."}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541060368, "post_id": 53094778, "comment_id": 93090871, "body": "@w0051977 could not reproduce your issue. I got <code>Couldn&#39;t resolve host name</code> with the invalidate hostname."}, {"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541065406, "post_id": 53094778, "comment_id": 93093039, "body": "I notice there is a reference to www.webaddresshelp.bt.com in the JSON response (see JSON response).  Could my ISP (BT) be forwarding my request somewhere else on port 80 - if the URL is invalid? More about BT Address Help here: <a href=\"http://preferences.webaddresshelp.bt.com/selfcare/\" rel=\"nofollow noreferrer\">preferences.webaddresshelp.bt.com/selfcare</a>"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541065597, "post_id": 53094778, "comment_id": 93093139, "body": "@w0051977 How to reproduce your issue with <a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/tree/release/Quickstarts/6_AspNetIdentity\" rel=\"nofollow noreferrer\">6_AspNetIdentity</a>"}, {"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541065976, "post_id": 53094778, "comment_id": 93093349, "body": "are you asking me a question?"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1541066141, "post_id": 53094778, "comment_id": 93093428, "body": "Yes, I did not know how to reproduce your issue."}, {"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1562163400, "post_id": 53094778, "comment_id": 100292919, "body": "Are you able to have a look at my other identity server question here: <a href=\"https://stackoverflow.com/questions/56872070/using-identity-server-inside-an-xamarin-app\" title=\"using identity server inside an xamarin app\">stackoverflow.com/questions/56872070/&hellip;</a> ? Thanks."}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 0, "last_activity_date": 1541042324, "creation_date": 1541042324, "answer_id": 53094778, "question_id": 53091110, "link": "https://stackoverflow.com/questions/53091110/mvc-project-uses-web-api-project-inside-same-docker-container/53094778#53094778", "title": "MVC project uses Web API project inside same Docker container", "body": "<p>For web apps in <code>docker compose</code>, they are sharing the same networks in the <code>Compose</code>.     </p>\n\n<p>Per to your steps, it seems you only changed the request URLs. You also need to change the <code>Authority</code> in api project.     </p>\n\n<p>Try to change <code>src\\Api\\Startup.cs</code> with below:      </p>\n\n<pre><code>            services.AddAuthentication(\"Bearer\")\n            .AddIdentityServerAuthentication(options =&gt;\n            {\n                options.Authority = \"http://identityserverwithaspnetidentity:80\";\n                options.RequireHttpsMetadata = false;\n\n                options.ApiName = \"api1\";\n            });\n</code></pre>\n"}], "owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 53094778, "answer_count": 1, "score": 1, "last_activity_date": 1541059666, "creation_date": 1541016072, "last_edit_date": 1541059666, "question_id": 53091110, "link": "https://stackoverflow.com/questions/53091110/mvc-project-uses-web-api-project-inside-same-docker-container", "title": "MVC project uses Web API project inside same Docker container", "body": "<p>I am trying to learn more about Docker in my free time. I am currently trying to get ASP.NET Identity Server to work with it.  </p>\n\n<p>Here are the steps I have taken:</p>\n\n<ol>\n<li><p>Download: <a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/tree/release/Quickstarts/6_AspNetIdentity\" rel=\"nofollow noreferrer\">https://github.com/IdentityServer/IdentityServer4.Samples/tree/release/Quickstarts/6_AspNetIdentity</a></p></li>\n<li><p>Run the ASP.NET MVC client application and the server application and browse to the following URL to make sure it is working properly: <a href=\"http://localhost:5002/Home/CallApiUsingClientCredentials\" rel=\"nofollow noreferrer\">http://localhost:5002/Home/CallApiUsingClientCredentials</a></p>\n\n<p>The code looks like this:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; CallApiUsingClientCredentials()\n{\n        var tokenClient = new TokenClient(\"http://localhost:5000/connect/token\", \"mvc\", \"secret\");\n        var tokenResponse = await tokenClient.RequestClientCredentialsAsync(\"api1\");\n\n        var client = new HttpClient();\n        client.SetBearerToken(tokenResponse.AccessToken);\n        var content = await client.GetStringAsync(\"http://localhost:5001/identity\");\n\n        ViewBag.Json = JArray.Parse(content).ToString();\n        return View(\"Json\");\n}\n</code></pre>\n\n<p>I get the response I am expecting.</p></li>\n<li><p>Right click on the API project and select Add Container Orchestration Support.</p></li>\n<li>Right click on MVCClient and select: Add/Container Orchestration Support.  </li>\n</ol>\n\n<p>Docker Compose Override then looks like this:</p>\n\n<pre><code>version: '3.4'\n\nservices:\n  mvcclient:\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n    ports:\n      - \"5002:80\"\n\n  api:\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n    ports:\n      - \"5001:80\"\n\n\n  identityserverwithaspnetidentity:\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n    ports:\n      - \"5000:80\"\n</code></pre>\n\n<p>Make changes to the code above as follows:</p>\n\n<p>Line 3 change to:</p>\n\n<pre><code>var tokenClient = new TokenClient(\"http://identityserverwithaspnetidentity:80/connect/token\", \"mvc\", \"secret\");\n</code></pre>\n\n<p>Line 10 change to:</p>\n\n<pre><code>var content = await client.GetStringAsync(\"http://api:80/Identity\");\n</code></pre>\n\n<p>When I browse to <a href=\"http://localhost:5002/Home/CallApiUsingClientCredentials\" rel=\"nofollow noreferrer\">http://localhost:5002/Home/CallApiUsingClientCredentials</a>; I am receiving a weird response:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Transitional//EN\\\" \\\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\\\"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=\\\"refresh\\\" content=\\\"0;url=http://www.webaddresshelp.bt.com/main?ParticipantID=mg76cjr54t8kx45jjw4j4k9j5hsr5m26&amp;FailedURI=http%3A%2F%2Fapi1%2FIdentity&amp;FailureMode=1&amp;Implementation=&amp;AddInType=4&amp;Version=pywr1.0&amp;ClientLocation=uk\\\"/&gt;&lt;script type=\\\"text/javascript\\\"&gt;url=\\\"http://www.webaddresshelp.bt.com/main?ParticipantID=mg76cjr54t8kx45jjw4j4k9j5hsr5m26&amp;FailedURI=http%3A%2F%2Fapi1%2FIdentity&amp;FailureMode=1&amp;Implementation=&amp;AddInType=4&amp;Version=pywr1.0&amp;ClientLocation=uk\\\";if(top.location!=location){var w=window,d=document,e=d.documentElement,b=d.body,x=w.innerWidth||e.clientWidth||b.clientWidth,y=w.innerHeight||e.clientHeight||b.clientHeight;url+=\\\"&amp;w=\\\"+x+\\\"&amp;h=\\\"+y;}window.location.replace(url);&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>What is the problem please?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Why do the lines below return the output above (what I referred to as the weird response):</p>\n\n<pre><code>var content = await client.GetStringAsync(\"http://bert:80/Identity\");\nvar content = await client.GetStringAsync(\"http://somerandomserver:80/Identity\");\nvar content = await client.GetStringAsync(\"http://hello:80/Identity\");\n</code></pre>\n\n<p>bert; somerandomserver and hello do not exist.  It appears the response above is always received as long as I use port 80 i.e. regardless of the server name I use i.e. I can make it up.  Why?</p>\n"}, {"tags": ["c#", "pdf", "plot", "oxyplot"], "owner": {"reputation": 1495, "user_id": 3072101, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/GqT65.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3072101/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541016045, "creation_date": 1541016045, "question_id": 53091105, "link": "https://stackoverflow.com/questions/53091105/oxyplot-how-to-give-every-point-on-my-lineseries-a-color", "title": "Oxyplot: How to give every point on my lineseries a color", "body": "<p>I am using oxyplot. I need a <code>LineSeries</code> combined with a HeatMap.\nI allready found the <code>ScatterSeries</code> that kind of does what I need:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pWbd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWbd7.png\" alt=\"Scatter\"></a></p>\n\n<p>But I don't want single circles - i want a line.\nSomething like this would be perfect:</p>\n\n<p><a href=\"https://i.stack.imgur.com/X1plh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1plh.png\" alt=\"My own heatmap\"></a></p>\n\n<p>Can I achieve this with oxyplot and how?</p>\n"}, {"tags": ["c#", "button", "frameworks", "copy", "bots"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1541015791, "post_id": 53091018, "comment_id": 93079081, "body": "If you&#39;re using the bot to call a new form, then it&#39;s dependent on the form (I believe. Not sure enough to post as answer). Have you tried adding the button already? What was the outcome? What went wrong?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1541017220, "post_id": 53091018, "comment_id": 93079676, "body": "Can you return a text file, or put text on to the clipboard.  If you can, then you can return an Excel file (but, you&#39;d need to create it - don&#39;t use the Excel object model).  Putting Excel data on the clipboard would be interesting.  What I do when I want to put columnar data on the clipboard is put stuff as text in CSV format (actually, tab-separated-value, not comma-separated).  Excel usually swallows it whole, Word will allow the user to easily create a table from the text (Insert-Table-Convert text to table)."}], "owner": {"reputation": 1, "user_id": 10577125, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S2C52ZoccKY/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAerHgAAGU5qcy7WBa2OYQ1oHr3Og/mo/photo.jpg?sz=128", "display_name": "Sakshi Grover", "link": "https://stackoverflow.com/users/10577125/sakshi-grover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541015665, "creation_date": 1541015665, "question_id": 53091018, "link": "https://stackoverflow.com/questions/53091018/is-it-possible-to-have-export-to-excel-button-in-a-bot", "title": "Is it possible to have export to excel button in a bot?", "body": "<p>We are writing a bot,where in one of the response we show result in a tabular form.</p>\n\n<p>We would like to give Export to excel button as an option to user to export it.</p>\n\n<p>Or we can have a Copy button that copies the content in clipboard.</p>\n\n<p>Is it possible to achieve using Microsoft Bot framework using C#.</p>\n"}, {"tags": ["c#", "casting"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1541016184, "post_id": 53090996, "comment_id": 93079254, "body": "What kind of integer is it?"}, {"owner": {"reputation": 29, "user_id": 4003370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0101b9b506f3bc5af3697b5efe6cf0fc?s=128&d=identicon&r=PG&f=1", "display_name": "vbreuss", "link": "https://stackoverflow.com/users/4003370/vbreuss"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1541016367, "post_id": 53090996, "comment_id": 93079346, "body": "My question is language independent. I am mostly working in c#, but am especially interested in the cases where the backingField is another language or a database. Assume that the integer is 32 bits long."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1541016990, "post_id": 53090996, "comment_id": 93079607, "body": "Doubles can precisely store all integer values <a href=\"https://stackoverflow.com/questions/1848700/biggest-integer-that-can-be-stored-in-a-double\">up to 2^53</a>, so if it&#39;s only 32-bit that avoids that problem at least. I can&#39;t think of any other reason why it wouldn&#39;t be fine, but I&#39;m not an expert on floating-point implementations so I&#39;ll let someone else answer."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 2, "creation_date": 1541054441, "post_id": 53090996, "comment_id": 93088724, "body": "The <code>double</code> type might not be accurate in fractions, but it does not have an accuracy problem with integers. Any 10 base integer can be represented accurately as a binary number - but that is not the case when dealing with floating points - and that&#39;s the reason floating-point arithmetic sometimes returns rounded numbers."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 0, "creation_date": 1541511004, "post_id": 53090996, "comment_id": 93235517, "body": "It would probably be wise to go through floating point specification, but I did a quick test and tested all int values between <code>int.MinValue</code> and <code>int.MaxValue</code> and all were exactly the same after casting to <code>double</code> and back to <code>int</code>"}, {"owner": {"reputation": 29, "user_id": 4003370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0101b9b506f3bc5af3697b5efe6cf0fc?s=128&d=identicon&r=PG&f=1", "display_name": "vbreuss", "link": "https://stackoverflow.com/users/4003370/vbreuss"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 0, "creation_date": 1541790315, "post_id": 53090996, "comment_id": 93350613, "body": "@FCin, thanks for the effort!"}], "answers": [{"comments": [{"owner": {"reputation": 2630, "user_id": 1983197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwjpR.png?s=128&g=1", "display_name": "LordWilmore", "link": "https://stackoverflow.com/users/1983197/lordwilmore"}, "edited": false, "score": 1, "creation_date": 1541510402, "post_id": 53172665, "comment_id": 93235131, "body": "All this says is that you can cast between these types without specifying a direct cast.  It doesn&#39;t say anything about the effect of those casts."}], "tags": [], "owner": {"reputation": 2450, "user_id": 2239678, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da8ab5f68f50f527dec747aa39cb6104?s=128&d=identicon&r=PG", "display_name": "andrei.ciprian", "link": "https://stackoverflow.com/users/2239678/andrei-ciprian"}, "is_accepted": false, "score": -5, "last_activity_date": 1541511103, "last_edit_date": 1541511103, "creation_date": 1541510118, "answer_id": 53172665, "question_id": 53090996, "link": "https://stackoverflow.com/questions/53090996/is-casting-an-int-to-double-and-back-safe/53172665#53172665", "title": "Is casting an int to double and back safe", "body": "<p>There are <em>predefined implicit conversions</em> from int to long, float, double, or decimal. As put, </p>\n\n<blockquote>\n  <p>Any integral type is implicitly convertible to any floating-point type.</p>\n</blockquote>\n\n<p>Check <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/implicit-numeric-conversions-table\" rel=\"nofollow noreferrer\">Implicit numeric conversions table (C# Reference)</a> on ms docs.</p>\n\n<p>Then, for the inverse operation</p>\n\n<blockquote>\n  <p>Precision but not magnitude might be lost in the conversions from int to float.</p>\n</blockquote>\n\n<p><em>Float to double</em> is an implicit cast also.</p>\n\n<p>You might use a technique similar to testing frameworks asserting equality for numerical types with a tolerance. </p>\n\n<p><strong>To my detractors</strong> (edit)</p>\n\n<p>Linked to your microservices issues, quoting Sam Newman on this </p>\n\n<blockquote>\n  <p>Be liberal in what you accept, conservative in what you send.</p>\n</blockquote>\n\n<p>If you have a client requiring say, integers, store your data as double, or decimal, and use some mechanism to prevent loss of precision when casting to <code>int</code>, like <code>Math.Floor</code> or <code>Math.Ceiling</code> with proper <em>rounding</em> options. Else if another client requires some format for which there's an implicit cast with no loss of precision, you're off easy.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 4003370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0101b9b506f3bc5af3697b5efe6cf0fc?s=128&d=identicon&r=PG&f=1", "display_name": "vbreuss", "link": "https://stackoverflow.com/users/4003370/vbreuss"}, "edited": false, "score": 0, "creation_date": 1541790111, "post_id": 53173063, "comment_id": 93350529, "body": "I know, that if I use rounding I won&#39;t have a problem at all. But the default casting from double to int just strips of everything after the comma and I can&#39;t guarantee how other clients that communicate with my service are doing their casting..."}], "tags": [], "owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "is_accepted": false, "score": 0, "last_activity_date": 1541511888, "last_edit_date": 1541511888, "creation_date": 1541511462, "answer_id": 53173063, "question_id": 53090996, "link": "https://stackoverflow.com/questions/53090996/is-casting-an-int-to-double-and-back-safe/53173063#53173063", "title": "Is casting an int to double and back safe", "body": "<p>Simply casting just strips everything past the decimal point. I know you probably don't need to do any rounding, but just to make this answer more complete, here's the scoop on it. To round up or down, you can use the <a href=\"http://msdn.microsoft.com/en-us/library/ms131275.aspx\" rel=\"nofollow noreferrer\">Math.Round()</a> method. This will round up or down and provides a parameter on what to do if its midway. You could also use the <a href=\"http://msdn.microsoft.com/en-us/library/k7ycc7xh.aspx\" rel=\"nofollow noreferrer\">Math.Floor()</a> or <a href=\"http://msdn.microsoft.com/en-us/library/zx4t0t48.aspx\" rel=\"nofollow noreferrer\">Math.Ceiling()</a> methods to implicitly round up or round down prior to casting. Here are some examples:</p>\n\n<pre><code>double num1 = 3.5;\ndouble num2 = 3.2;\ndouble num3 = 3.9;\n\n(int)num1 // returns 3;\n(int)num2 // returns 3;\n(int)num3 // returns 3 also;\n(int)Math.Round(num1) // returns 4\n(int)Math.Round(num2) // returns 3\n(int)Math.Round(num3) // returns 4\n(int)Math.Floor(num1) // returns 3\n(int)Math.Floor(num2) // returns 3\n(int)Math.Floor(num3) // returns 3\n(int)Math.Ceiling(num1) // returns 4\n(int)Math.Ceiling(num2) // returns 4;\n(int)Math.Ceiling(num3) // returns 4;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4003370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0101b9b506f3bc5af3697b5efe6cf0fc?s=128&d=identicon&r=PG&f=1", "display_name": "vbreuss", "link": "https://stackoverflow.com/users/4003370/vbreuss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1541511888, "creation_date": 1541015549, "last_edit_date": 1541050759, "question_id": 53090996, "link": "https://stackoverflow.com/questions/53090996/is-casting-an-int-to-double-and-back-safe", "title": "Is casting an int to double and back safe", "body": "<p>Is it safe to cast an Integer to Double and back again?</p>\n\n<p>To be a bit more specific, is it true for all integers that <code>originalValue</code> equals <code>retrievedValue</code> in the following scenario:</p>\n\n<pre><code>int originalValue = 42;\ndouble backingField = (double)originalValue;\nint retrievedValue = (int)backingField;\n</code></pre>\n\n<p>A bit of background/motivation:\nI am writing lots of micro services in C# with lots of interfaces. For a time interval in seconds, some clients send them as integers, others as floating values. I need to store them and return the same value as the client sent me.\nMy question targets, if it is safe to assume, that when I retrieve an integer, but store all values as double that a cast to integer on the retrieving client will always return the original value.\nEspecially as casting is done by truncating any values after the comma.</p>\n\n<p>Can any cast to double result in a value lower than the integer, e.g. 42 -> 41.9999999999999?</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "edited": false, "score": 0, "creation_date": 1541015483, "post_id": 53090952, "comment_id": 93078943, "body": "What is it the error that you are getting?"}, {"owner": {"reputation": 25, "user_id": 10488182, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UyOC5jGHHP4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX5SP-YvfbCs5QAsKHtkYljKe0wNA/mo/photo.jpg?sz=128", "display_name": "JeamsAndernson Jorge", "link": "https://stackoverflow.com/users/10488182/jeamsandernson-jorge"}, "reply_to_user": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "edited": false, "score": 0, "creation_date": 1541015615, "post_id": 53090952, "comment_id": 93078998, "body": "im not able to save my file in Image Folder"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541015910, "post_id": 53090952, "comment_id": 93079130, "body": "File.WriteAllBytes or use a FileStream"}, {"owner": {"reputation": 25, "user_id": 10488182, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UyOC5jGHHP4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX5SP-YvfbCs5QAsKHtkYljKe0wNA/mo/photo.jpg?sz=128", "display_name": "JeamsAndernson Jorge", "link": "https://stackoverflow.com/users/10488182/jeamsandernson-jorge"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541016072, "post_id": 53090952, "comment_id": 93079198, "body": "@Igor do u have any code please Share wirh"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541016563, "post_id": 53090952, "comment_id": 93079435, "body": "No but there is plenty out there in the documentation or <a href=\"https://stackoverflow.com\">Stack Overflow</a>. Just google <code>how to write bytes to a file c#</code>."}, {"owner": {"reputation": 25, "user_id": 10488182, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UyOC5jGHHP4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX5SP-YvfbCs5QAsKHtkYljKe0wNA/mo/photo.jpg?sz=128", "display_name": "JeamsAndernson Jorge", "link": "https://stackoverflow.com/users/10488182/jeamsandernson-jorge"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541017135, "post_id": 53090952, "comment_id": 93079652, "body": "@Igor Thank you soo much"}], "answers": [{"tags": [], "owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1541031825, "last_edit_date": 1541031825, "creation_date": 1541021387, "answer_id": 53092212, "question_id": 53090952, "link": "https://stackoverflow.com/questions/53090952/how-can-i-save-file-stored-inside-varbinary-column-into-a-folder/53092212#53092212", "title": "How can I save file stored inside VARBINARY column into a folder?", "body": "<p>Since it's a binary file, you could use the <code>System.IO.File.WriteAllBytes()</code> method:</p>\n\n<pre><code>foreach(var _somedata in c)\n{\n    var abc = new FileData\n                {\n                    _FileData = _somedata.FileData,\n                    FileName = _somedata.FileName,\n                };\n\n    string Img_name = abc.FileName;\n    string folder_path = System.Web.HttpContext.Current.Server.MapPath(\"~/Images\");\n\n    if (!Directory.Exists(folder_path))\n    {\n        Directory.CreateDirectory(folder_path);\n    }\n\n    string imgPath = Path.Combine(folder_path, Img_name);\n\n    // this call will write out all the bytes (content) of your file\n    // to the file name you've specified   \n    File.WriteAllBytes(imgPath, abc._FileData);\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10488182, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UyOC5jGHHP4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX5SP-YvfbCs5QAsKHtkYljKe0wNA/mo/photo.jpg?sz=128", "display_name": "JeamsAndernson Jorge", "link": "https://stackoverflow.com/users/10488182/jeamsandernson-jorge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 53092212, "answer_count": 1, "score": 0, "last_activity_date": 1541031825, "creation_date": 1541015341, "last_edit_date": 1541021254, "question_id": 53090952, "link": "https://stackoverflow.com/questions/53090952/how-can-i-save-file-stored-inside-varbinary-column-into-a-folder", "title": "How can I save file stored inside VARBINARY column into a folder?", "body": "<p>I stored my file into SQL Server in the form of a <code>VARBINARY</code> column in a table.\nHere I'm trying to fetch that content and save it as a file into a folder:</p>\n\n<pre><code>List&lt;FileData&gt; newData = new List&lt;FileData&gt;();\n\nvar c = from n in db.FileTable\n        where n.Id == 1\n        select n;\n\nforeach(var _somedata in c)\n{\n    var abc = new FileData\n                {\n                    _FileData = _somedata.FileData,\n                    FileName = _somedata.FileName,\n                };\n\n    newData.Add(abc);\n    string Img_name = abc.FileName;\n    string folder_path = System.Web.HttpContext.Current.Server.MapPath(\"~/Images\");\n\n    if (!Directory.Exists(folder_path))\n    {\n        Directory.CreateDirectory(folder_path);\n    }\n\n    string imgPath = Path.Combine(folder_path, Img_name);\n    ...\n}\n</code></pre>\n\n<p>How can I store my file into that folder?</p>\n"}, {"tags": ["c#", "list", "class"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1541015198, "post_id": 53090883, "comment_id": 93078796, "body": "<code>&quot;cannot come up with a solution that works.&quot;</code> -- show us solutions that didnt work then.  We aren&#39;t a code writing service"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1541015778, "post_id": 53090883, "comment_id": 93079071, "body": "I tried using a for loop and match on orders[x].orderNumber == orders[x + 1].orderNumber and then add both &quot;id&quot;s to a list of strings and increment a count.  Once the loop finds the next orderNumber where it doesn&#39;t match, I assign the list of strings to the &quot;idList&quot; of each order using another for loop that goes up to the count.  This would work for 1 set of orders that have the same orderNumber but not multiples."}], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": true, "score": 2, "last_activity_date": 1541016207, "last_edit_date": 1541016207, "creation_date": 1541015296, "answer_id": 53090941, "question_id": 53090883, "link": "https://stackoverflow.com/questions/53090883/list-of-class-assign-multiple-values-to-string-list/53090941#53090941", "title": "List of Class Assign multiple values to string list", "body": "<p>You may GroupBy the orderNumber, and join <code>id</code>s of those within the same group:</p>\n\n<pre><code>var result = orders.GroupBy(x =&gt; x.orderNumber).Select(g =&gt; new orders{\n           orderNumber  = g.Key,\n           idList = g.Select(x =&gt; x.Id).ToList()\n          }\n</code></pre>\n\n<p>However as you don't really need a list of  <code>orders</code> so its better to either select an anonymous type:</p>\n\n<pre><code>.Select(g =&gt; new {\n               orderNumber  = g.Key,\n               idList = g.Select(x =&gt; x.Id).ToList()\n              }\n</code></pre>\n\n<p>Or just create a new type of class like:</p>\n\n<p>class FinalOrder\n{\n     public string orderNumber;\n     public List idList ;\n}</p>\n\n<p>and then:</p>\n\n<pre><code>.Select(g =&gt; new FinalOrder{\n               orderNumber  = g.Key,\n               idList = g.Select(x =&gt; x.Id).ToList()\n     }\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 53090941, "answer_count": 1, "score": 1, "last_activity_date": 1541016207, "creation_date": 1541015081, "last_edit_date": 1541015887, "question_id": 53090883, "link": "https://stackoverflow.com/questions/53090883/list-of-class-assign-multiple-values-to-string-list", "title": "List of Class Assign multiple values to string list", "body": "<pre><code>class orders\n{\n    public string orderNumber { get; set; }\n    public string id { get; set; }\n    public List&lt;string&gt; idList { get; set; }\n}\n</code></pre>\n\n<p>I have a list of orders that can be anywhere from 1 to 100.  I need to assign each member of the list all of the \"id\"s of the other members of the list where the \"orderNumber\" is the same.  I want to assign this to the \"idList\" list of strings.  Within the list of orders, there might be multiple sets of orders that have the same \"orderNumber\".</p>\n\n<p>I've tried to logically think this out but cannot come up with a solution that works.</p>\n\n<p>I tried the following:</p>\n\n<pre><code>List&lt;string&gt; temp = new List&lt;string&gt;();\n            for (int x = 0; x &lt; orders.Count; x++)\n            {\n\n                if (string.Equals(orders[x].orderNumber, orders[x + 1].orderNumber))\n                {\n                    temp.Add(orders[x].id);\n                    temp.Add(orders[x + 1].id);\n                    i++;\n                }\n                else\n                {\n                    for(int o = 0; o &lt; i; o++)\n                    {\n                        orders[o].idList= new List&lt;string&gt;();\n                        orders[o].idList= temp;\n                    }\n\n                    i = 0;\n                    temp.Clear();\n                }\n            }\n</code></pre>\n"}, {"tags": ["c#", "excel-interop"], "comments": [{"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 1, "creation_date": 1541017385, "post_id": 53090692, "comment_id": 93079729, "body": "I realize you stated that file is not corrupt, but humor me and try: <code>xlWorkBook = xlApp.Workbooks.Open(Filename: templateFilename, CorruptLoad: Excel.XlCorruptLoad.xlRepairFile);</code>.  You will also need to alter the close statement: <code>xlWorkBook.Close(SaveChanges: true, Filename: templateFilename);</code>"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1541018080, "post_id": 53090692, "comment_id": 93079969, "body": "Have you stepped through the code and made sure the values are properly being filled?"}, {"owner": {"reputation": 1308, "user_id": 98659, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/deecbd579a51ad799d1485aab49f824d?s=128&d=identicon&r=PG", "display_name": "J Edward Ellis", "link": "https://stackoverflow.com/users/98659/j-edward-ellis"}, "edited": false, "score": 0, "creation_date": 1541020658, "post_id": 53090692, "comment_id": 93080919, "body": "Yes I have tried using repair file.  It made no difference."}, {"owner": {"reputation": 1308, "user_id": 98659, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/deecbd579a51ad799d1485aab49f824d?s=128&d=identicon&r=PG", "display_name": "J Edward Ellis", "link": "https://stackoverflow.com/users/98659/j-edward-ellis"}, "edited": false, "score": 0, "creation_date": 1541020916, "post_id": 53090692, "comment_id": 93081034, "body": "Yes I have stepped through.  The file exists test succeeds. The Excel.Application returns a COM object with the correct name (Excel.Application).  Then the open throws an exception.  It never gets to the close.  I&#39;ve tried opening a CSV file with two rows and two columns.  It does the same thing."}, {"owner": {"reputation": 1009, "user_id": 225389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0efb450e9047ad70a8c673aaee2f46?s=128&d=identicon&r=PG", "display_name": "Chizh", "link": "https://stackoverflow.com/users/225389/chizh"}, "edited": false, "score": 0, "creation_date": 1541024930, "post_id": 53090692, "comment_id": 93082335, "body": "probably it is a permission problem. i can&#39;t remember details of excel interop, but i suppose it runs an excel.exe in background, and it may be that the excel.exe process &#39;today&#39; runs under different permissions than &#39;yesterday&#39;"}, {"owner": {"reputation": 127, "user_id": 11378299, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s-rW5nAae4M/AAAAAAAAAAI/AAAAAAAAAH8/vEhSkInZykE/photo.jpg?sz=128", "display_name": "Kuba Do", "link": "https://stackoverflow.com/users/11378299/kuba-do"}, "edited": false, "score": 1, "creation_date": 1565605550, "post_id": 53090692, "comment_id": 101392263, "body": "You need to specify full path of excel file You work on : C:/Desktop/Test.xlsx"}], "owner": {"reputation": 1308, "user_id": 98659, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/deecbd579a51ad799d1485aab49f824d?s=128&d=identicon&r=PG", "display_name": "J Edward Ellis", "link": "https://stackoverflow.com/users/98659/j-edward-ellis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1541021763, "creation_date": 1541014179, "last_edit_date": 1541021763, "question_id": 53090692, "link": "https://stackoverflow.com/questions/53090692/excel-workbooks-open-fails-with-hresult-0x800a03ec-in-development-environment", "title": "Excel.Workbooks.Open fails with HRESULT: 0x800A03EC in development environment", "body": "<p>Back in the day Excel Interop was a reliable tool.  Today it simply would not work.\nI realize that the HRESULT is extremely generic and provides very little context.  I have examined the other questions which I will summarize:</p>\n\n<ol>\n<li><p>The files were corrupt.</p></li>\n<li><p>The files used a non-US English locale.</p></li>\n<li><p>It worked fine in the development environment, but it failed in a\nserver environment.</p></li>\n</ol>\n\n<p>None of these apply. The file is not corrupt.  It opens fine in Excel.  It uses US English locale. It doesn't work even in the development environment.  We have recently changed to use Office 365 ProPlus, but I've found documentation that says the current interop should work with Office 365.  I'm using version 15.0.0.0 of the interop DLL with this code. I'm running Windows 10.0.17134 and Visual Studio 2017 Pro Version 15.8.8.  The app is a console app targeting .NET Framework 4.6.1.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Reflection;\nusing Excel = Microsoft.Office.Interop.Excel;\n\nnamespace DERPA_Test\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Excel.Application xlApp;\n            Excel.Workbook xlWorkBook;\n            string templateFilename = \"template.xlsx\";\n\n            if (File.Exists(templateFilename))\n            {\n                try\n                {\n                    xlApp = new Excel.Application();\n                    object misValue = Missing.Value;\n                    xlWorkBook = xlApp.Workbooks.Open(templateFilename);\n                    // Exception thrown here in the Open.\n                    // Also tried this.  It didn't work either.\n                    // xlWorkBook = xlApp.Workbooks.Open(templateFilename, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue, misValue);\n                    xlWorkBook.Close(true, misValue, misValue);\n                    xlApp.Quit();\n                }\n                catch (Exception e)\n                {\n                    Console.WriteLine(e);\n                    throw;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is an even simpler example.  Create a CSV file named \"test.csv\" and containing:</p>\n\n<blockquote>\n  <p>\"Header 1\",\"Header2\"<br>\n  \"Data 1\",\"Data 2\"</p>\n</blockquote>\n\n<pre><code>using Excel = Microsoft.Office.Interop.Excel;\nnamespace DERPA_Test\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Excel.Application xlApp = new Excel.Application();\n            Excel.Workbook xlWorkBook = xlApp.Workbooks.Open(\"test.csv\");\n        }\n    }\n}\n</code></pre>\n\n<p>This has the same behavior.</p>\n"}, {"tags": ["c#", ".net", "task-parallel-library", "stackexchange.redis"], "comments": [{"owner": {"reputation": 711, "user_id": 436649, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6ae8a98be10f3d2d7320b0238b1eddf4?s=128&d=identicon&r=PG", "display_name": "santubangalore", "link": "https://stackoverflow.com/users/436649/santubangalore"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1541014455, "post_id": 53090536, "comment_id": 93078413, "body": "NKosi, no it is not. Thats why I posted the question. The title is &quot;Unable to convert Redis.RedisValue to Task&lt;T&gt;&quot;."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1541015370, "post_id": 53090536, "comment_id": 93078884, "body": "What do you store and in what format?"}], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 4, "last_activity_date": 1541017515, "last_edit_date": 1541017515, "creation_date": 1541015618, "answer_id": 53091008, "question_id": 53090536, "link": "https://stackoverflow.com/questions/53090536/unable-to-convert-redis-redisvalue-to-taskt/53091008#53091008", "title": "Unable to convert Redis.RedisValue to Task&lt;T&gt;", "body": "<p>Assuming the value was originally stored as JSON in the cache, </p>\n\n<pre><code>cache.StringSet($\"Device_Status:{code}\", JsonConvert.SerializeObject(myObject)));\n</code></pre>\n\n<p>then just deserialize the returned value to the desired type</p>\n\n<pre><code>public async Task&lt;T&gt; GetValue(string code) {\n    var cache = RedisConnectorHelper.Connection.GetDatabase();\n    var value = await cache.StringGetAsync($\"Device_Status:{code}\");\n    T resultFromCache = JsonConvert.DeserializeObject&lt;T&gt;(value);\n    return resultFromCache;\n}\n</code></pre>\n\n<p>I would suggest refactoring the cache service to</p>\n\n<pre><code>public interface IRedisCache {\n    Task&lt;T&gt; GetValue&lt;T&gt;(string code);\n}\n</code></pre>\n\n<p>With implementation using what was suggested above</p>\n\n<pre><code>public class RedisCache : IRedisCache {\n    public async Task&lt;T&gt; GetValue&lt;T&gt;(string code) {\n        var cache = RedisConnectorHelper.Connection.GetDatabase();\n        var value = await cache.StringGetAsync($\"Device_Status:{code}\");\n        T resultFromCache = JsonConvert.DeserializeObject&lt;T&gt;(value);\n        return resultFromCache;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 711, "user_id": 436649, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6ae8a98be10f3d2d7320b0238b1eddf4?s=128&d=identicon&r=PG", "display_name": "santubangalore", "link": "https://stackoverflow.com/users/436649/santubangalore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1134, "favorite_count": 0, "accepted_answer_id": 53091008, "answer_count": 1, "score": 1, "last_activity_date": 1541085021, "creation_date": 1541013466, "last_edit_date": 1541085021, "question_id": 53090536, "link": "https://stackoverflow.com/questions/53090536/unable-to-convert-redis-redisvalue-to-taskt", "title": "Unable to convert Redis.RedisValue to Task&lt;T&gt;", "body": "<p>I am trying to write a generic class/interface that will fetch data from Redis Cache. I have tried to make it generic because we have different type of data and it's difficult to write so many classes for each data type.</p>\n\n<p>Here is my interface &amp; class.</p>\n\n<pre><code>public interface IRedisCache&lt;T&gt;\n{\n    Task&lt;T&gt; GetValue(string code);\n}\n\npublic class RedisCache&lt;T&gt; : IRedisCache&lt;T&gt;\n{\n\n    public RedisCache()\n    {\n\n    }\n\n    public Task&lt;T&gt; GetValue(string code)\n    {\n        var cache = RedisConnectorHelper.Connection.GetDatabase();\n        var value = cache.StringGet($\"Device_Status:{code}\");\n\n        Task&lt;T&gt; myTask = (Task&lt;T&gt;)value;\n\n        return myTask;\n    }\n\n}\n</code></pre>\n\n<p>I am facing problem in line:</p>\n\n<pre><code>Task&lt;T&gt; myTask = (Task&lt;T&gt;)value;\n</code></pre>\n\n<p>The problem is in converting Redis.RedisValue type to <code>Task&lt;T&gt;</code> type. </p>\n\n<p>I am getting error message</p>\n\n<blockquote>\n  <p>\"Cannot convert <code>Redis.Redisvalue</code> type to <code>System.Threading.Tasks.Task&lt;T&gt;</code>\"</p>\n</blockquote>\n\n<p>I am using Stack Exchange.Redis library, with Dot Net core 2.</p>\n"}, {"tags": ["c#", "winforms", "dropdown"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "edited": false, "score": 0, "creation_date": 1541014484, "post_id": 53090704, "comment_id": 93078430, "body": "I just want to set the selected text of the dropdown list to what I have in the string manufacturerName variable."}, {"owner": {"reputation": 133, "user_id": 9700144, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Pancabiel", "link": "https://stackoverflow.com/users/9700144/pancabiel"}, "reply_to_user": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "edited": false, "score": 0, "creation_date": 1541015621, "post_id": 53090704, "comment_id": 93079001, "body": "So in your code change the <code>SelectedIndex</code> to <code>SelectedText</code>"}], "tags": [], "owner": {"reputation": 133, "user_id": 9700144, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Pancabiel", "link": "https://stackoverflow.com/users/9700144/pancabiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1541014239, "creation_date": 1541014239, "answer_id": 53090704, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string/53090704#53090704", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<p>You may want to use the <code>ComboBox</code> differently.\nLike using its DataSource and Id (int) instead of names (string).\nAn example: <a href=\"https://stackoverflow.com/questions/600869/how-to-bind-a-list-to-a-combobox-winforms\">how to bind a list to a combobox? (Winforms)</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "edited": false, "score": 0, "creation_date": 1541015382, "post_id": 53090873, "comment_id": 93078890, "body": "I want the selected text of the dropdown list to be the one that matches the manufacturerName I provide."}, {"owner": {"reputation": 976, "user_id": 6028706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f61418d68fea0f38897ff779fa8b9e?s=128&d=identicon&r=PG&f=1", "display_name": "roozbeh S", "link": "https://stackoverflow.com/users/6028706/roozbeh-s"}, "reply_to_user": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "edited": false, "score": 0, "creation_date": 1541023003, "post_id": 53090873, "comment_id": 93081746, "body": "well if the <code>manufacturerName</code> exists in the <code>combobox.Items</code> then this should work. You can debug your code and see what index the <code>FindIndex</code> returns."}], "tags": [], "owner": {"reputation": 976, "user_id": 6028706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f61418d68fea0f38897ff779fa8b9e?s=128&d=identicon&r=PG&f=1", "display_name": "roozbeh S", "link": "https://stackoverflow.com/users/6028706/roozbeh-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1541015054, "creation_date": 1541015054, "answer_id": 53090873, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string/53090873#53090873", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<p>I don't know what you exactly want to do here but you can assign your combobox to an item like this:</p>\n\n<pre><code>childEditProduct.cmbManufacturer.SelectedIndex = \n    childEditProduct.cmbManufacturer.Items.Cast&lt;string&gt;().ToList()\n        .FindIndex(x =&gt; x == manufacturerName);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10532423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6sGBnXoFldo/AAAAAAAAAAI/AAAAAAAAATA/P5aOeD-XkIc/photo.jpg?sz=128", "display_name": "Pourya Zarei", "link": "https://stackoverflow.com/users/10532423/pourya-zarei"}, "is_accepted": false, "score": 0, "last_activity_date": 1541095873, "creation_date": 1541095873, "answer_id": 53106995, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string/53106995#53106995", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<pre><code>//use combobox and just set SelectedText\n ComboBox.SelectedText = manufacturerName;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 5011382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3117c664287b2b97626232e04551e369?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Gales", "link": "https://stackoverflow.com/users/5011382/thomas-gales"}, "is_accepted": false, "score": 1, "last_activity_date": 1541111214, "creation_date": 1541111214, "answer_id": 53110258, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string/53110258#53110258", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<p>If your items are strings, try using Combobox.SelectedItem instead:</p>\n\n<pre><code>childEditProduct.cmbManufacturer.SelectedItem = manufacturerName;\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.combobox.selecteditem?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">MSDN documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "is_accepted": true, "score": 0, "last_activity_date": 1541190530, "creation_date": 1541190530, "answer_id": 53125433, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string/53125433#53125433", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<p>As I was loading the manufacturer dropdown list on my childForm load event using the following function:</p>\n\n<pre><code>private void LoadManufacturers()\n    {\n        cmbManufacturer.Items.Clear();\n        DataTable dtManufacturers = DataAccess.Select(\"select manufacturername from tblmanufacturer order by manufacturername asc\");\n        foreach (DataRow dr in dtManufacturers.Rows)\n        {\n            cmbManufacturer.Items.Add(dr[0].ToString());\n        }\n        //cmbManufacturer.SelectedIndex = 0;\n    }\n</code></pre>\n\n<p>While loading manufacturers on the page load event, I was also specifying the selected index of the dropdown list using the code <code>cmbManufacturer.SelectedIndex = 0;</code> which I commented out later.</p>\n\n<p>Once done, I then recalculate (re-query) the selected manufacturer (which the user want to update) within the load event of the dropdown list like this:</p>\n\n<pre><code>private void frmChildEditProduct_Load(object sender, EventArgs e)\n    {\n        LoadManufacturers(); // Calling the loadManufacturers function to load all the manufacturers to the dropdown list.\n\n        string manufacturerID = lblManufacturerId.Text;\n\n        DataTable dtMName = Products.SelectByManufacturerId(manufacturerID);\n                if (dtMName.Rows.Count &gt; 0)\n                {\n                    foreach (DataRow manufacturer in dtMName.Rows)\n                    {\n                        string manufacturerName = manufacturer[0].ToString();\n                        cmbManufacturer.SelectedIndex = Convert.ToInt32(cmbManufacturer.FindStringExact(manufacturerName));\n                    }\n                }\n     }\n</code></pre>\n\n<p>And my problem was solved. Thanks for the support I got on Stackoverflow.</p>\n"}], "owner": {"reputation": 121, "user_id": 9328171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b52596ac29337607c5883f50b28d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Noor", "link": "https://stackoverflow.com/users/9328171/noor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 53125433, "answer_count": 5, "score": 1, "last_activity_date": 1541190530, "creation_date": 1541013417, "question_id": 53090524, "link": "https://stackoverflow.com/questions/53090524/how-to-set-the-exact-dropdownlist-item-that-matches-a-given-string", "title": "How to set the exact dropdownlist item that matches a given string?", "body": "<p>I am working on a Windows Form Application where I have to edit a given record. This record also contains a dropdown list. What I want to do is to allow the user to edit the dropdown list item as well along with the rest of the record.</p>\n\n<p>I have queried the required dropdown list item from the database that the user has to edit and assign that to a string variable like as follow:</p>\n\n<pre><code>DataTable dtMName = Products.SelectByManufacturerId(manufacturerId);\n               if (dtMName.Rows.Count &gt; 0)\n               {\n                   foreach (DataRow item in dtMName.Rows)\n                   {\n                       string manufacturerName = item[0].ToString();\n                   }  \n               }\n</code></pre>\n\n<p>Now, within the foreach loop (as the returned data row just have a single manufacturer name which the user will edit later), I want to select the dropdown list item that matches the <code>string manufacturerName</code>.</p>\n\n<p>As far, I have tried the following code but no luck.</p>\n\n<pre><code>childEditProduct.cmbManufacturer.SelectedIndex = childEditProduct.cmbManufacturer.FindString(manufacturerName);\n</code></pre>\n\n<p>Is there any problem with this approach for selecting the matching dropdown list item? or is there any effective way that can help in my case? Any help will highly be appreciated!</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1541013264, "post_id": 53090468, "comment_id": 93077859, "body": "Werent there any instruction on how to connect?  Typically that is thru an API rather than connecting directly"}, {"owner": {"reputation": 1652, "user_id": 10311601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8Svm.png?s=128&g=1", "display_name": "bolkay", "link": "https://stackoverflow.com/users/10311601/bolkay"}, "edited": false, "score": 0, "creation_date": 1541013404, "post_id": 53090468, "comment_id": 93077919, "body": "Going by your code, you haven&#39;t opened the connection. Mind to post the full code?"}, {"owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "reply_to_user": {"reputation": 1652, "user_id": 10311601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8Svm.png?s=128&g=1", "display_name": "bolkay", "link": "https://stackoverflow.com/users/10311601/bolkay"}, "edited": false, "score": 0, "creation_date": 1541014069, "post_id": 53090468, "comment_id": 93078215, "body": "@bolkay I just have another line in there that says <code>connection.open()</code> @Disaffected 1070452 I followed this tutorial <a href=\"https://www.codeproject.com/Articles/823854/How-to-connect-SQL-Database-to-your-Csharp-program\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 1652, "user_id": 10311601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8Svm.png?s=128&g=1", "display_name": "bolkay", "link": "https://stackoverflow.com/users/10311601/bolkay"}, "edited": false, "score": 0, "creation_date": 1541014560, "post_id": 53090468, "comment_id": 93078465, "body": "Your connection string is a bit weird to me. The server, database, uid and password doesn&#39;t appear valid to me."}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "edited": false, "score": 0, "creation_date": 1541014570, "post_id": 53090468, "comment_id": 93078470, "body": "did you try my answer? replacing, password with pwd?"}, {"owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "edited": false, "score": 0, "creation_date": 1541015719, "post_id": 53090468, "comment_id": 93079040, "body": "Spoke to one of my classmates and they said the server is a LAMP server, would that cause an issue connecting to it from C#?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541016042, "post_id": 53090468, "comment_id": 93079187, "body": "What error do you get?"}, {"owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "edited": false, "score": 0, "creation_date": 1541016470, "post_id": 53090468, "comment_id": 93079389, "body": "I get <code>MySqlException.number = 0</code> and the <code>MySqlException.message=&quot;Reading from the stream has failed&quot;</code>"}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1541018059, "post_id": 53090468, "comment_id": 93079960, "body": "@ZackSloan Is the server host and the mysql server application configured to allow external connections to the database?"}, {"owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "edited": false, "score": 0, "creation_date": 1541018577, "post_id": 53090468, "comment_id": 93080143, "body": "Might not be. I will check with my teacher in the morning."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "edited": false, "score": 0, "creation_date": 1541015684, "post_id": 53090525, "comment_id": 93079029, "body": "tried adjusting the password to pwd. No change there"}], "tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": false, "score": 0, "last_activity_date": 1541013418, "creation_date": 1541013418, "answer_id": 53090525, "question_id": 53090468, "link": "https://stackoverflow.com/questions/53090468/connecting-to-a-database-hosted-on-a-server-from-within-a-c-project/53090525#53090525", "title": "Connecting to a database hosted on a server from within a C# project", "body": "<p>First of all make sure that the values for <code>SERVER</code>,<code>DATABASE</code>,<code>UID</code> and <code>PWD</code> are correct (I think it must be <code>PWD=somePassword</code> instead of <code>PASSWORD=somePassword</code>).</p>\n\n<p>Secondly, if mysql port is not the default port, you must also specify it, like:</p>\n\n<pre><code>Server=myServerAddress;Port=1234;Database=myDataBase;Uid=myUsername;\nPwd=myPassword; \n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 6272990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd4cc00abd3a8e19ac6d6dc3cfacef6?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Sloan", "link": "https://stackoverflow.com/users/6272990/zack-sloan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541013418, "creation_date": 1541013160, "question_id": 53090468, "link": "https://stackoverflow.com/questions/53090468/connecting-to-a-database-hosted-on-a-server-from-within-a-c-project", "title": "Connecting to a database hosted on a server from within a C# project", "body": "<p>I am trying to connect to a database that is being hosted on my school's network within my C# project. I have tried connecting to the database like so:</p>\n\n<pre><code>        server = \"**Server's Webaddress**\";\n        database = \"**dbname**\"; \n        uid = \"**username**\";\n        password = \"**password**\";\n\n        string connectionString = \"SERVER=\" + server + \";\" + \"DATABASE=\" + database + \";\"\n            + \"UID=\" + uid + \";\" + \"PASSWORD=\" + password + \";\";\n\n        connection = new MySqlConnection(connectionString);\n</code></pre>\n\n<p>Is there any way that I can connect to this database hosted on the site? I am able to log into the phpmyadmin page and connect to the server using Putty.</p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 11986, "user_id": 812837, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l9uC.jpg?s=128&g=1", "display_name": "Clockwork-Muse", "link": "https://stackoverflow.com/users/812837/clockwork-muse"}, "edited": false, "score": 1, "creation_date": 1541013333, "post_id": 53090458, "comment_id": 93077889, "body": "You&#39;re not <code>await</code>ing <code>Example1()</code>, so execution blithely continues after submission.  This is besides the problem that you shouldn&#39;t be using <code>Thread.Sleep</code>, but instead doing <code>await Task.Delay(...)</code>.  Recent versions of C# can do <a href=\"https://blogs.msdn.microsoft.com/mazhou/2017/05/30/c-7-series-part-2-async-main/\" rel=\"nofollow noreferrer\">an <code>async Main()</code></a>"}, {"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 1, "creation_date": 1541013369, "post_id": 53090458, "comment_id": 93077903, "body": "Nothing in the Main to wait, make Main method too Async Await, and return only Task or Task&lt;T&gt;, no void"}, {"owner": {"reputation": 5716, "user_id": 1105214, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/C15zn.png?s=128&g=1", "display_name": "samis", "link": "https://stackoverflow.com/users/1105214/samis"}, "edited": false, "score": 0, "creation_date": 1541445374, "post_id": 53090458, "comment_id": 93211883, "body": "<a href=\"https://blogs.msdn.microsoft.com/pfxteam/2012/01/20/await-synchronizationcontext-and-console-apps/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/pfxteam/2012/01/20/&hellip;</a> <a href=\"https://msdn.microsoft.com/en-us/magazine/jj891052.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/magazine/jj891052.aspx</a> <a href=\"https://blogs.msdn.microsoft.com/benwilli/2015/09/10/tasks-are-still-not-threads-and-async-is-not-parallel/#comment-4375\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/benwilli/2015/09/10/&hellip;</a> <a href=\"https://blogs.msdn.microsoft.com/pfxteam/2012/06/15/executioncontext-vs-synchronizationcontext/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/pfxteam/2012/06/15/&hellip;</a> <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/asynchronous-programming-patterns/task-based-asynchronous-pattern-tap?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/standard/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "is_accepted": true, "score": 0, "last_activity_date": 1541013302, "creation_date": 1541013302, "answer_id": 53090504, "question_id": 53090458, "link": "https://stackoverflow.com/questions/53090458/await-ed-async-task-with-sleeping-thread-not-being-waited-for/53090504#53090504", "title": "await-ed async Task with sleeping thread not being waited for", "body": "<p>When you do void in the Example1 method it is telling it fire and forget.</p>\n\n<blockquote>\n  <p>public static async void Example1()</p>\n</blockquote>\n\n<p>change it to a task;</p>\n\n<blockquote>\n  <p>public static async Task Example1()</p>\n</blockquote>\n\n<p>then wait for it with  </p>\n\n<blockquote>\n  <p>Example1().Wait();</p>\n</blockquote>\n\n<p>or if async method await</p>\n"}], "owner": {"reputation": 5716, "user_id": 1105214, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/C15zn.png?s=128&g=1", "display_name": "samis", "link": "https://stackoverflow.com/users/1105214/samis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1541013322, "accepted_answer_id": 53090504, "answer_count": 1, "score": 0, "last_activity_date": 1541013302, "creation_date": 1541013076, "question_id": 53090458, "link": "https://stackoverflow.com/questions/53090458/await-ed-async-task-with-sleeping-thread-not-being-waited-for", "closed_reason": "Duplicate", "title": "await-ed async Task with sleeping thread not being waited for", "body": "<p>In the below example, <strong>BREAKPOINT-2</strong> is only reached if I wait sufficiently long at <strong>BREAKPOINT-1</strong> (5 seconds or more). Otherwise, when <code>Main</code> exits, the program halts and <code>T1</code> never gets to complete. <strong>Is it normal behavior for an <code>await</code>-ed <code>async</code> <code>Task</code> with a sleeping thread to not be waited for?</strong></p>\n\n<pre><code>public class Example\n{\n    private static Task T1()\n    {\n        return Task.Run(async () =&gt; \n        {\n            // ManagedThreadId=N (N != 1)\n\n            Thread.Sleep(5000);\n            int x = 1; /*BREAKPOINT-2*/\n        });\n    }\n\n    public static async void Example1()\n    {\n        await T1();\n    }\n\n    public static void Main()\n    {\n        // ManagedThreadId=1\n\n        Example1();\n    } /*BREAKPOINT-1*/\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "layout", "url-redirection"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1541018483, "post_id": 53090378, "comment_id": 93080105, "body": "You appear to be making an ajax calls (ajax calls do not redirect)"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 5693064, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10153301182563519/picture?type=large", "display_name": "Maxime Bonin", "link": "https://stackoverflow.com/users/5693064/maxime-bonin"}, "is_accepted": true, "score": 0, "last_activity_date": 1541630620, "creation_date": 1541630620, "answer_id": 53199034, "question_id": 53090378, "link": "https://stackoverflow.com/questions/53090378/asp-net-mvc-problem-in-controller-managing-a-httppost-renders-layout-and-pag/53199034#53199034", "title": "ASP.net MVC problem in Controller managing a [HttpPost] : renders Layout and Page twice", "body": "<p>The issue was the JQuery mobile plugin interfered with the rendering of the new view.\nOur frontend dev quickly replaced it with <a href=\"https://hammerjs.github.io/\" rel=\"nofollow noreferrer\">Hammer.j</a>s library and we're up and running. (We needed touch gestures implemented in our webapp) </p>\n"}], "owner": {"reputation": 61, "user_id": 5693064, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10153301182563519/picture?type=large", "display_name": "Maxime Bonin", "link": "https://stackoverflow.com/users/5693064/maxime-bonin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 53199034, "answer_count": 1, "score": -1, "last_activity_date": 1541630620, "creation_date": 1541012798, "question_id": 53090378, "link": "https://stackoverflow.com/questions/53090378/asp-net-mvc-problem-in-controller-managing-a-httppost-renders-layout-and-pag", "title": "ASP.net MVC problem in Controller managing a [HttpPost] : renders Layout and Page twice", "body": "<p>I'm having an issue of RedirectToAction in an ASP.net MVC app</p>\n\n<p>Explanation of what my app should do :</p>\n\n<ol>\n<li>In the 'Home/AddItem' web page, the User enters text in a textbox (in a form)</li>\n<li>User presses a 'Save' button</li>\n<li>The 'AddItem' controller which is decorated with an [HttpPost] attribute  is triggered</li>\n<li>In this controller, I save the populated model-object to my Web\nService</li>\n<li><p>I want to do a 'return RedirectoAction' to another controller,\nbut it doesn't work :</p>\n\n<p>return RedirectToAction(\"Home\", \"Index\");</p></li>\n</ol>\n\n<p>It actually renders the page on which the user was filling out the form. It leaves a couple of blank lines. Then I see a foreign string \"Loading\" and the page 'Home/Index' is rendered afterward.</p>\n\n<p>And the URL in the Browser contains the URL to the former page (/Home/AddItem) not the one I'm expecting (/Home/Index)</p>\n\n<p><a href=\"https://i.stack.imgur.com/8FWBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8FWBw.png\" alt=\"foreign string &#39;Loading&#39; appears in the page\"></a>\n<a href=\"https://i.stack.imgur.com/gKqce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKqce.png\" alt=\"sketch of the problematic view inside a view\"></a></p>\n\n<p>I've tried to make my 'AddItem' controller return the 'AddItem' view, but same problem happens : the former page is at the top of the page and duplicate 'AddItem' page is appended to it !!</p>\n\n<p>I've tried RedirectToURL, RedirectToRoute, etc.  to no avail !!\nThe only thing that makes the RedirectToAction(\"Home\", \"Index\") works is by not rendering the 'AddItem' view into a Layout.  But this is not a solution for our project !!</p>\n\n<p>Here are code snippets of my _ViewStart.cshtml page and of the 'AddItem' controller :</p>\n\n<pre><code>_ViewStart.cshtml\n\n@{\n    if (this.ViewContext.RouteData.Values[\"controller\"].ToString() == \"Login\") {\n        Layout = \"~/Views/Shared/_LayoutLogin.cshtml\";\n    }\n    else {\n        Layout = \"~/Views/Shared/_Layout.cshtml\";\n    }\n}\n\n[Authorize]\n  public ActionResult AddItem(DateTime? date) {\n      if (!ValidateUserAuthentication(out User user)) {\n          return Redirect(\"~/Login/Login\");\n      }\n\n      ViewBag.CurrentDayOfWeek = myService.GetCurrentDayOfWeek();\n\n      return View();\n  }\n\n[HttpPost]\npublic ActionResult AddItem(Transaction myTransaction) {\n\n   // code that saves 'myTransaction' via my  Web Service\n\n   // to make things simple, I return the 'AddItem' view\n   // but it doesn't work : it appends a new view to the former view\n\n    return View();\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "smoothing", "flappy-bird-clone"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541012491, "post_id": 53090214, "comment_id": 93077529, "body": "I made a similar thing as a tutorial and what I did was vertical force force to the bird with the AddForce function. I never moved the bird in the vertical dir. The secret is to move the background instead. You can still do it your way but it would be more complicated to do smoothly but still possible"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541013898, "post_id": 53090214, "comment_id": 93078114, "body": "Yes i&#39;m moving the background, the bird only moves in the Y axis"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541014195, "post_id": 53090214, "comment_id": 93078275, "body": "By the way @Programmer sorry for the late reply, i was checking if someone answer me in unity&#39;s oficcial page but nobody ever does ^^&#39; and meanwhile was still trying to fix the game and didn&#39;t see the time pass. I don&#39;t wanna give up on this, i really don&#39;t. Everytime i go to sleep i keep thinking and thinking and i can&#39;t figure this out, i&#39;m kinda desperated so i had to ask for help, thank you very much"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541016624, "post_id": 53090214, "comment_id": 93079463, "body": "I missed the <i>&quot;and Scenary objects(theGroundForExample) to make the illusion of the Bird moving&quot;</i> part. You missed a part of my comment. You should add force to  the bird with AddForce instead of changing the velocity. Also, replace the <code>17f</code> with a public variable you can edit from the Editor. Make that value to be a smaller one."}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541017433, "post_id": 53090214, "comment_id": 93079743, "body": "I tried addForce but i think the velocity feels better, the problem isn&#39;t in the bird but thanks. The speed is 17f because my camera size is 35. If that is a problem i will update the game ti fit a lower camera size. Do you have any ideias to move the Pipes smoothly?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541019890, "post_id": 53090214, "comment_id": 93080652, "body": "<i>&quot; the problem isn&#39;t in the bird&quot;</i> You didn&#39;t mention the problem....What&#39;s the problem if not the bird? I assumed the problem is the bed not jumping smoothly..."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1541021405, "post_id": 53090214, "comment_id": 93081201, "body": "It&#39;s for the pipes and the background, right? Get  rid of anything that&#39;s already moving the pipes and put this in <code>void FixedUpdate()</code>: <code>transform.Translate(Vector2.left * 1f * Time.deltaTime);</code> Is there anything going wrong when you do that?"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541022566, "post_id": 53090214, "comment_id": 93081608, "body": "@Programmer Sorry if i didn&#39;t write things good enough. The problem are the pipes because they are moving in the left direction, but they don&#39;t move smoothly"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1541022676, "post_id": 53090214, "comment_id": 93081642, "body": "@Ruzihm When i do that it still is not smooth, it&#39;s nothing like the original game Flappy Bird, i can see like a ghosting in the pipes, like if i had low fps or something like that, if you need i can try to show you a video, thanks for the help"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1541023098, "post_id": 53090214, "comment_id": 93081773, "body": "@ColdFire Yes, please post a gif or video of what&#39;s going on, and include it in an edit to your question."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1541023599, "post_id": 53090214, "comment_id": 93081931, "body": "In the meantime, go into your texture and turn off compression, mipmaps. Then, in your spriterenderer&#39;s material, turn on pixel-perfect mode."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541024232, "post_id": 53090214, "comment_id": 93082101, "body": "Did you attach Rigidbody to them (pipes)?"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "edited": false, "score": 0, "creation_date": 1541024335, "post_id": 53090214, "comment_id": 93082140, "body": "I havent the mipmap setting and the pixel-perfect either, i&#39;ll try to record a video with a program, altough i never tested with unity, so i hope my pc can handle it"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541024621, "post_id": 53090214, "comment_id": 93082237, "body": "@Programmer Yes i did and i made it Kinematic"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541024835, "post_id": 53090214, "comment_id": 93082314, "body": "It&#39;s RB powered so use the MovePostion function. Your Move Dir is <code>Vector2 velocity = new Vector2(17f, 0)</code> then move it like <code>rb2d.MovePosition(rb2d.position + velocity * Time.fixedDeltaTime);</code>. It must be done in the <code>FixedUpdate()</code> function  not <code>Update</code> function"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541025323, "post_id": 53090214, "comment_id": 93082446, "body": "@Programmer Okay i will try let me upload the video first"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "edited": false, "score": 0, "creation_date": 1541025636, "post_id": 53090214, "comment_id": 93082534, "body": "Since it is impossible for me to record a video in my pc, because it is too slow for that(PentiumIV 2.0ghz you know..) So i will record with my phone"}, {"owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541026680, "post_id": 53090214, "comment_id": 93082823, "body": "@Programmer i tried your code but it doesn&#39;t work, the game glitches hard, i will read better how MovePosition works"}], "owner": {"reputation": 1, "user_id": 10166628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YVUBm-OZLTI/AAAAAAAAAAI/AAAAAAAAATI/yUbfqFu91yE/photo.jpg?sz=128", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/10166628/coldfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541039291, "creation_date": 1541012079, "last_edit_date": 1541039291, "question_id": 53090214, "link": "https://stackoverflow.com/questions/53090214/unity-i-cant-smooth-the-continuous-movement-of-my-kinematic-rigidbody2d", "title": "Unity - I can&#39;t smooth the continuous movement of my Kinematic Rigidbody2D", "body": "<p>Hello I'm Tiago and I'm making an Android game inspired in Flappy Bird, so I followed the <a href=\"https://unity3d.com/pt/learn/tutorials/topics/2d-game-creation/project-goals?playlist=17093\" rel=\"nofollow noreferrer\">Unity's Official tutorial</a> (using custom sprites and script for my bird for better feeling);</p>\n\n<p>But as you know Flappy Bird must be smooth, and I can't make mine feel like the original, the scrolling objects seem to ghost a bit, they move constantly but I can notice especially on Android that they seem to move with low fps, but the bird wich only moves up and down moves smoothly, I'm using Velocity for the bird, but he is Dynamic, not Kinematic -> <code>rb2d.velocity = new Vector2(0, FlapForce);</code></p>\n\n<p>The problem is I can't figure it out how to move the Kinematic Obstacles(green pipes) and Scenery objects(theGroundForExample) to make the illusion of the Bird moving. I've tried these</p>\n\n<pre><code>transform.Translate(Vector2.left * 17f * Time.deltaTime); - not smooth\nrb2d.velocity = new Vector2(17f, 0); - not smooth\nrb2d.velocity = rb2d.velocity.normalized * 17f; - doesn't do anything\n</code></pre>\n\n<p>I also tried making them dynamic with gravity on 0 and use addForce, but they don't move\nI tried to put this codes in Start, Update and FixedUpdate but it's always the same\nI tried Interpolate and Extrapolate, but still, I don't see any difference.</p>\n\n<p>I've read numerous of other questions related, and I tried many things but anything works, I read a lot of unity documentation, and I also read this: <a href=\"http://www.kinematicsoup.com/news/2016/8/9/rrypp5tkubynjwxhxjzd42s3o034o8\" rel=\"nofollow noreferrer\">Timesteps and Achieving Smooth Motion in Unity</a>\nBut I didn't understand how to implement that and how it works.</p>\n\n<p>Thank you in advance to everyone who read this, all help is truly appreciated since I'm stuck with this for days, and I don't want to continue with the game before fixing this because it is essential, thank you!</p>\n\n<p>Edit1: Here is the video of what i mean, i hope you can see because i had to record with my phone due to my PC being too bad to record properly.\n<a href=\"https://drive.google.com/file/d/1GqCf2u_sBxv9yDxiDvZ-8MS1FRWVcdRd/view?usp=drivesdk\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1GqCf2u_sBxv9yDxiDvZ-8MS1FRWVcdRd/view?usp=drivesdk</a></p>\n\n<p>Edit2: There is a apk file(the only purpose is to you see the pipes are not moving smoothly, the best way you can see is there)\n<a href=\"https://drive.google.com/file/d/1zXdhz1ZexjRw3NbMrUxAh7_ShMXpj9jo/view?usp=drivesdk\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1zXdhz1ZexjRw3NbMrUxAh7_ShMXpj9jo/view?usp=drivesdk</a></p>\n"}, {"tags": ["c#", "wpf", "mvvm", "binding"], "answers": [{"tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": false, "score": 0, "last_activity_date": 1541166144, "last_edit_date": 1541166144, "creation_date": 1541015762, "answer_id": 53091040, "question_id": 53090121, "link": "https://stackoverflow.com/questions/53090121/wpf-is-it-possible-to-bind-to-a-parent-on-usercontrol-property-and-set-its-data/53091040#53091040", "title": "WPF: Is it possible to bind to a parent on userControl property and set its DataContext to a viewmodel?", "body": "<p>You can always bind to a property in the DataContext of a control's Parent element like this:</p>\n\n<pre><code>Visibility=\"{Binding Parent.DataContext.Connected,\n                     RelativeSource={RelativeSource Self},\n                     Converter={StaticResource BoolToVis}}\"\n</code></pre>\n\n<hr>\n\n<p>You may however consider a different design, where your UserControl does not directly bind to an explicitly assigned DataContext.</p>\n\n<p>The control could expose dependency properties that are bound when you instantiate it. It would thus become independent of any particular view model.</p>\n\n<pre><code>&lt;userControls:SessionSetupUserControl\n    Visibility=\"{Binding Connected, Converter={StaticResource BoolToVis}}\"\n    SomeProperty=\"{Binding SessionSetupViewModel.SomeVmProperty}\"\n    SomeOtherProperty=\"{Binding SessionSetupViewModel.SomeOtherVmProperty}\"\n    .../&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 7576305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d2b5ea286bb55f6931588e5a4827c9?s=128&d=identicon&r=PG&f=1", "display_name": "T.Nielsen", "link": "https://stackoverflow.com/users/7576305/t-nielsen"}, "edited": false, "score": 0, "creation_date": 1541069976, "post_id": 53094312, "comment_id": 93095338, "body": "The answer by @Clemens are good and correct. But i&#39;m going to use this solutions since it does not invoke arcane binding magic which should make this easier to maintain. This plus a comment should be easy to parse for those that are not used to WPF."}], "tags": [], "owner": {"reputation": 43082, "user_id": 74195, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2Il1P.jpg?s=128&g=1", "display_name": "DRapp", "link": "https://stackoverflow.com/users/74195/drapp"}, "is_accepted": true, "score": 0, "last_activity_date": 1541038012, "creation_date": 1541038012, "answer_id": 53094312, "question_id": 53090121, "link": "https://stackoverflow.com/questions/53090121/wpf-is-it-possible-to-bind-to-a-parent-on-usercontrol-property-and-set-its-data/53094312#53094312", "title": "WPF: Is it possible to bind to a parent on userControl property and set its DataContext to a viewmodel?", "body": "<p>Another option for bindings would be to nest the control...</p>\n\n<pre><code>&lt;UserControl Visibility=\"{Binding Connected, Mode=OneWay, Converter={StaticResource BoolToVis}, FallbackValue=Collapsed}\" &gt;\n\n    &lt;userControls:SessionSetupUserControl x:Name=\"SessionSetupUserControl\" \n        DataContext=\"{Binding SessionSetupViewModel}\" /&gt;\n\n&lt;/UserControl&gt;\n</code></pre>\n\n<p>This way, the outer generic \"UserControl\" has its bindings directly to itself and can be visible/hidden/collapsed based on your converter.</p>\n\n<p>Then the inner user control is specifically bound to the data context of the SessionSetupViewModel</p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 1077814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11d9bee5136921a10566b173fdd9715?s=128&d=identicon&r=PG", "display_name": "Gabriel Morin", "link": "https://stackoverflow.com/users/1077814/gabriel-morin"}, "is_accepted": false, "score": 0, "last_activity_date": 1560308554, "creation_date": 1560308554, "answer_id": 56554103, "question_id": 53090121, "link": "https://stackoverflow.com/questions/53090121/wpf-is-it-possible-to-bind-to-a-parent-on-usercontrol-property-and-set-its-data/56554103#56554103", "title": "WPF: Is it possible to bind to a parent on userControl property and set its DataContext to a viewmodel?", "body": "<p>Since you changed the DataContext for your SessionSetupUserControl instance, other bindings are trying to resolve on the DataContext you assigned.</p>\n\n<p>This means that your binding for Visibility is looking for a property named \"Connected\" on SessionSetupViewModel.</p>\n\n<p>Pay attention to the Visual Studio output log when debugging, you must be seeing binding errors that say pretty much this.</p>\n"}], "owner": {"reputation": 85, "user_id": 7576305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d2b5ea286bb55f6931588e5a4827c9?s=128&d=identicon&r=PG&f=1", "display_name": "T.Nielsen", "link": "https://stackoverflow.com/users/7576305/t-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53094312, "answer_count": 3, "score": 0, "last_activity_date": 1560308554, "creation_date": 1541011668, "question_id": 53090121, "link": "https://stackoverflow.com/questions/53090121/wpf-is-it-possible-to-bind-to-a-parent-on-usercontrol-property-and-set-its-data", "title": "WPF: Is it possible to bind to a parent on userControl property and set its DataContext to a viewmodel?", "body": "<p>I got stuck on this for a while before i even found out why things was not working. I'm changing the visibility on two different UserControls based on the value of Connected which is a property on the SetupViewModel(parent). One of these usercontrols also have its DataContext set to a viewmodel that is created in the SetupViewModel. But the binding to connect does not work when also setting the DataContext.</p>\n\n<hr>\n\n<p>This is how i would like it to work </p>\n\n<pre><code>&lt;userControls:SessionSetupUserControl x:Name=\"SessionSetupUserControl\" DataContext=\"{Binding SessionSetupViewModel}\" Visibility=\"{Binding Connected, Mode=OneWay, Converter={StaticResource BoolToVis}, FallbackValue=Collapsed}\" /&gt;\n</code></pre>\n\n<p>But when using this the Visibility value will not update.</p>\n\n<hr>\n\n<p>When i remove the DataContext the visibility starts to update.</p>\n\n<pre><code>&lt;userControls:SessionSetupUserControl x:Name=\"SessionSetupUserControl\" Visibility=\"{Binding Connected, Mode=OneWay, Converter={StaticResource BoolToVis}, FallbackValue=Collapsed}\" /&gt;\n</code></pre>\n\n<hr>\n\n<p>This is the parent ViewModel. Only showing the relevant bindings.</p>\n\n<pre><code>public class SetupViewModel : BindableBase\n{\n    private bool _connected;\n\n    public SessionSetupViewModel SessionSetupViewModel { get; private set; }\n\n    public bool Connected\n    {\n        get\n        {\n            return _connected;\n        }\n        private set\n        {\n            SetPropertyAndNotifyChanges(ref _connected, value);\n        }\n    }\n}\n</code></pre>\n\n<p>I assume that the DataContext of the UserControl is changed when the visibility binding is resolved but i'm not that used to working with WPF nor bindings so i've not been able to get it working.</p>\n\n<p>Any help would be most appreciated. </p>\n"}, {"tags": ["c#", "selenium", "exception", "exception-handling", "nosuchelementexception"], "comments": [{"owner": {"reputation": 399, "user_id": 5364231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBWTe.png?s=128&g=1", "display_name": "elgato", "link": "https://stackoverflow.com/users/5364231/elgato"}, "edited": false, "score": 0, "creation_date": 1541011667, "post_id": 53090080, "comment_id": 93077220, "body": "<code>ExpectedConditions.InvisibilityOfElementLocated()</code> behaves exactly the same"}, {"owner": {"reputation": 5091, "user_id": 10474999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9379ef6b63d5d67645354b797d3caa82?s=128&d=identicon&r=PG&f=1", "display_name": "Navarasu", "link": "https://stackoverflow.com/users/10474999/navarasu"}, "edited": false, "score": 0, "creation_date": 1541012944, "post_id": 53090080, "comment_id": 93077728, "body": "So You are getting always one result, ie. Both  your method and ExpectedConditions.InvisibilityOfElementLocated() wait till max timeout and throw no such element exception at end . Right?"}, {"owner": {"reputation": 399, "user_id": 5364231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBWTe.png?s=128&g=1", "display_name": "elgato", "link": "https://stackoverflow.com/users/5364231/elgato"}, "reply_to_user": {"reputation": 5091, "user_id": 10474999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9379ef6b63d5d67645354b797d3caa82?s=128&d=identicon&r=PG&f=1", "display_name": "Navarasu", "link": "https://stackoverflow.com/users/10474999/navarasu"}, "edited": false, "score": 0, "creation_date": 1541013452, "post_id": 53090080, "comment_id": 93077936, "body": "Yes, that&#39;s correct. Both of them behave exactly the same."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1541020750, "post_id": 53090080, "comment_id": 93080965, "body": "Are you sure the locator is good? I&#39;m wondering if you aren&#39;t looking at a different element than the spinner and it&#39;s always there/visible. Check your locator using Chrome devtools and make sure that it&#39;s unique."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1541020817, "post_id": 53090080, "comment_id": 93080995, "body": "Also, how do you know it&#39;s succeeding?"}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 8604768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63290c815857ff00088d3ea9113bfbb?s=128&d=identicon&r=PG&f=1", "display_name": "Waqar Nadir", "link": "https://stackoverflow.com/users/8604768/waqar-nadir"}, "is_accepted": false, "score": 0, "last_activity_date": 1541050635, "creation_date": 1541050635, "answer_id": 53095710, "question_id": 53090080, "link": "https://stackoverflow.com/questions/53090080/webdriverwait-will-wait-until-timeout-even-when-succeding/53095710#53095710", "title": "WebDriverWait will wait until timeout even when succeding", "body": "<p>your code seems good. Make sure that the locator you pass is correct.</p>\n\n<ol>\n<li><p>Open dev tool in chrome using following command</p>\n\n<blockquote>\n  <p>CTRL + SHIFT+ i</p>\n</blockquote></li>\n<li><p>Verify xpath(locator) of spinner is exact same as you pass in code. </p></li>\n<li><p>Also observe the behavior of spinner in chrome dev tool. Change in xpath when it is hidden and when it appears again.</p></li>\n</ol>\n"}], "owner": {"reputation": 399, "user_id": 5364231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBWTe.png?s=128&g=1", "display_name": "elgato", "link": "https://stackoverflow.com/users/5364231/elgato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541050635, "creation_date": 1541011461, "question_id": 53090080, "link": "https://stackoverflow.com/questions/53090080/webdriverwait-will-wait-until-timeout-even-when-succeding", "title": "WebDriverWait will wait until timeout even when succeding", "body": "<p>I am scratching my head at the problem I am having.</p>\n\n<p>I have defined the following method:</p>\n\n<pre><code>private static void WaitSpinner(By locator)\n{\n    wait.Timeout = TimeSpan.FromSeconds(10);\n    wait.PollingInterval = TimeSpan.FromMilliseconds(250);\n    wait.Message = \"El spinner ha tardado demasiado en desaparecer\";\n\n    wait.Until(driver =&gt;\n    {\n        try\n        {\n            IWebElement spinner = driver.FindElement(locator);\n\n            if (spinner.Displayed) { return false; }\n            else { return true; }\n        }\n        catch (NoSuchElementException)\n        {\n            return true;\n        }\n    });\n}\n</code></pre>\n\n<p>However, two things are happening that I don't understand:</p>\n\n<ol>\n<li>Method will wait until timeout even if it succedes</li>\n<li>NoSuchElementException will be reported to <code>ExceptionThrown</code> event, even if it is being caught by the method.</li>\n</ol>\n\n<p>What am I doing wrong?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "inheritance"], "comments": [{"owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "edited": false, "score": 0, "creation_date": 1541011665, "post_id": 53090046, "comment_id": 93077219, "body": "Because its an existing code base and FirstClass already has many methods reusable by SecondClass. Also its not good practice to move these common methods to base because other class inherits from base don&#39;t need these methods..."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1541012168, "post_id": 53090046, "comment_id": 93077415, "body": "If what you want is to log the class name then why not simply have your logging code call <code>this.GetType().Name</code> ?"}, {"owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541012655, "post_id": 53090046, "comment_id": 93077585, "body": "The story is long, but short story is because legacy code is designed in a way we could not do that :(."}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 8, "last_activity_date": 1541011849, "last_edit_date": 1541011849, "creation_date": 1541011547, "answer_id": 53090098, "question_id": 53090046, "link": "https://stackoverflow.com/questions/53090046/require-a-property-to-be-overridden-when-inheriting-from-a-non-abstract-class/53090098#53090098", "title": "Require a property to be overridden when inheriting from a non-abstract class", "body": "<blockquote>\n  <p>Is there a way to require a property to be overridden in a derived class when base class is not abstract?</p>\n</blockquote>\n\n<p>(The original question asks about fields. Fields may not be overridden at all; you meant \"property\", not \"field\".)</p>\n\n<p>No.</p>\n\n<p>Whether a derived class chooses to override or not is an implementation detail that is up to the author of that derived class, who knows more about the business domain of that class than the author of the base class knows.</p>\n\n<p>The only way to make a member that must be overridden is to make it abstract.</p>\n\n<p>It <em>is</em> legal to override with an abstract. This would be legal, for instance:</p>\n\n<pre><code>abstract class BaseClass\n{\n    protected virtual string Test =&gt; \"Base\";\n}\nabstract class FirstClass : BaseClass\n{\n    // override abstract is slightly unusual but legal\n    protected override abstract string Test { get; }\n    // Concrete derived classes must override\n}\nclass SecondClass : FirstClass\n{\n    protected override string Test =&gt; \"Second Class\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1115, "user_id": 4672050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/81239e26e67e7eac464a86a437005436?s=128&d=identicon&r=PG&f=1", "display_name": "Yituo", "link": "https://stackoverflow.com/users/4672050/yituo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 53090098, "answer_count": 1, "score": 0, "last_activity_date": 1541011990, "creation_date": 1541011326, "last_edit_date": 1541011990, "question_id": 53090046, "link": "https://stackoverflow.com/questions/53090046/require-a-property-to-be-overridden-when-inheriting-from-a-non-abstract-class", "title": "Require a property to be overridden when inheriting from a non-abstract class", "body": "<p>Is there a way to require a property to be overridden in a derived class when base class is not abstract? For example: </p>\n\n<pre><code>public abstract class BaseClass\n{\n    protected abstract string Test {get;}\n}\n\ninternal class FirstClass : BaseClass\n{\n    protected override string Test =&gt; \"First Class\";\n    // Methods common to FirstClass and SecondClass\n}\n\ninternal class SecondClass : FirstClass\n{\n    protected override string Test =&gt; \"Second Class\"\n}\n</code></pre>\n\n<p>Is there a way to force property <code>test</code> in <code>FirstClass</code> to be overridden if any class inherits from <code>FirstClass</code>? </p>\n\n<p>There is practical need for this (maybe not a big one) is that while logging information, we want to log source of error (class name etc.), therefore we want to  force all leaf derived class to override certain properties.</p>\n"}, {"tags": ["c#", "jquery", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541010659, "post_id": 53089724, "comment_id": 93076765, "body": "Does alert($text) alerts-popup you correct value in the browser on button click?"}, {"owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "reply_to_user": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541010815, "post_id": 53089724, "comment_id": 93076850, "body": "Yes, it does @Hitesh Gaur. The issue is the service doesn&#39;t get called in the debug mode of visual studio - Seems like missed something."}, {"owner": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541013635, "post_id": 53089724, "comment_id": 93078018, "body": "if it helps, can you check output in network tab of developer tools in your browser?  and look for what response are you receiving for the specific ajax request."}, {"owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "edited": false, "score": 0, "creation_date": 1541020691, "post_id": 53089724, "comment_id": 93080932, "body": "Doesn\u2019t <code>WebMethod</code> require a <code>static</code> method?"}, {"owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "reply_to_user": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541044283, "post_id": 53089724, "comment_id": 93086434, "body": "No, the ajax actually doesn&#39;t get called and checked in the network tab @Hitesh Gaur."}, {"owner": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541096370, "post_id": 53089724, "comment_id": 93109540, "body": "@AT-2017: do you get any error reported in console of dev tools? it looks like your code is failing to reach to the point it makes ajax calls to &quot;/SampleWebForm.aspx/InsertPersons&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "edited": false, "score": 0, "creation_date": 1541083141, "post_id": 53103016, "comment_id": 93102300, "body": "Already tried that @Kevbo. Didn&#39;t work I mean the method doesn&#39;t get called."}], "tags": [], "owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1541081402, "creation_date": 1541081402, "answer_id": 53103016, "question_id": 53089724, "link": "https://stackoverflow.com/questions/53089724/webmethod-doesnt-get-called-on-debug/53103016#53103016", "title": "WebMethod Doesn&#39;t Get Called on Debug", "body": "<p>you need to declare the function \"Static\" or it wont work</p>\n\n<pre><code>public static string InsertPersons(Person persons)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "is_accepted": false, "score": 1, "last_activity_date": 1541097010, "last_edit_date": 1541097010, "creation_date": 1541096585, "answer_id": 53107170, "question_id": 53089724, "link": "https://stackoverflow.com/questions/53089724/webmethod-doesnt-get-called-on-debug/53107170#53107170", "title": "WebMethod Doesn&#39;t Get Called on Debug", "body": "<p>Make sure your code reaches to the point it can make ajax request.</p>\n\n<p>A script manager may help, with Page methods enabled in it.. <a href=\"https://stackoverflow.com/questions/16775117/asp-net-scriptmanager-pagemethods-is-undefined\">check here on previous SO article</a>.</p>\n\n<pre><code>&lt;asp:ScriptManager ID=\"scriptManager\"\n        runat=\"server\"\n        EnablePageMethods=\"true\" &gt;\n&lt;/asp:ScriptManager&gt;\n</code></pre>\n\n<p>Also, use Static methods. Verify JSON string to be sent as value of data parameter. <a href=\"https://www.aspsnippets.com/Articles/Call-ASPNet-Page-Method-using-jQuery-AJAX-Example.aspx\" rel=\"nofollow noreferrer\">This article</a> may help.</p>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 1538539, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VxmqR.png?s=128&g=1", "display_name": "China Syndrome", "link": "https://stackoverflow.com/users/1538539/china-syndrome"}, "is_accepted": false, "score": 1, "last_activity_date": 1541099695, "creation_date": 1541099695, "answer_id": 53107923, "question_id": 53089724, "link": "https://stackoverflow.com/questions/53089724/webmethod-doesnt-get-called-on-debug/53107923#53107923", "title": "WebMethod Doesn&#39;t Get Called on Debug", "body": "<p>That is not a webservice(.asmx) but an exposed Page method in an .aspx</p>\n\n<p>Use the annotation [PageMethod] instead of the webmethod annotation</p>\n"}, {"tags": [], "owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "is_accepted": true, "score": 0, "last_activity_date": 1541348243, "creation_date": 1541348243, "answer_id": 53142783, "question_id": 53089724, "link": "https://stackoverflow.com/questions/53089724/webmethod-doesnt-get-called-on-debug/53142783#53142783", "title": "WebMethod Doesn&#39;t Get Called on Debug", "body": "<p>I was able to make it work and my fault was, I was trying to pass a <code>List</code> though the C# method has an object to be passed. Not a list of object. So I changed the following:</p>\n\n<pre><code>debugger;\nvar persons = new Array();\nvar person = {};\n\nperson.name = $row.find(\".val\").text();\npersons.push(person);\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>debugger;\nvar person = {};\n\nperson.name = $row.find(\".val\").text();\n</code></pre>\n\n<p>Just removed the <code>push()</code> method and the <strong>persons</strong> array. Thanks all for your valuable suggestions.</p>\n"}], "owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 53142783, "answer_count": 4, "score": 0, "last_activity_date": 1541348243, "creation_date": 1541009795, "last_edit_date": 1541081070, "question_id": 53089724, "link": "https://stackoverflow.com/questions/53089724/webmethod-doesnt-get-called-on-debug", "title": "WebMethod Doesn&#39;t Get Called on Debug", "body": "<p>I am trying to insert data using <code>jQuery</code> and have done that earlier. But for the time being, I am doing this after a long time. Now the issue is I am trying to do debugging with browser and can see that the Ajax call actually doesn't get called. So here is my scenario: I've a table data and every row is associated with a button. If I click on the button, the associated row data will be inserted into database table (But here I put break-point in the debugger to check if the web method is called). So this is what I've tried:</p>\n\n<pre><code>&lt;title&gt;Tutorial - Sample App&lt;/title&gt;\n&lt;script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"&gt;&lt;/script&gt;\n&lt;form id=\"form1\" runat=\"server\"&gt;\n&lt;div&gt;\n  &lt;asp:Label ID=\"lblPersons\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n\n &lt;script&gt;\n    $(\".use-address\").click(function () {\n        var $row = $(this).closest(\"tr\");    //Get the row\n        var $text = $row.find(\".val\").text(); //Get the text or value\n\n        alert($text);\n\n        debugger;\n        var persons = new Array();\n        var person = {};\n\n        person.name = $row.find(\".val\").text();\n        persons.push(person);\n\n        //The Ajax call here\n        $.ajax({\n            type: \"POST\",\n            url: \"/SampleWebForm.aspx/InsertPersons\", //This isn't called actually and keeping the code in the same page - SampleWebForm.aspx\n            data: JSON.stringify(persons),\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function (data) {\n                alert(data + \" record(s) inserted.\");\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Then the C# section here:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n   lblPersons.Text = Concatenate();\n}\n\npublic class Person\n{\n   public string name { get; set; }\n   public string age { get; set; }\n}\n\npublic List&lt;Person&gt; GetPersons()\n{\n   List&lt;Person&gt; lst = new List&lt;Person&gt;\n   {\n      new Person { name = \"John\", age = \"20\" },\n      new Person { name = \"Jack\", age = \"30\" }\n   };\n\n   return lst;\n}\n\npublic string Concatenate()\n{\n   string data = \"\";\n          data += \"&lt;table id = 'tblPersons'\" +\n                  \"&lt;thead&gt;\" +\n                  \"&lt;tr class='ui-widget-header'&gt;\" +\n                  \"&lt;th&gt;Name&lt;/th&gt;\" +\n                  \"&lt;th&gt;Age&lt;/th&gt;\" +\n                  \"&lt;/tr&gt;\" +\n                  \"&lt;/thead&gt;\" +\n                  \"&lt;tbody&gt;\" +\n                  \"\";\n                  foreach (var item in GetPersons())\n                  {\n          data +=   \"&lt;tr&gt;&lt;td class='val'&gt;&lt;span&gt;\" + item.name + \"&lt;/span&gt;&lt;/td&gt;\" +\n                    \"&lt;td&gt;\" + item.age + \"&lt;/td&gt;&lt;br/&gt;\" +\n                    \"&lt;td&gt;&lt;button type = 'button' id = 'btnSave'&gt;Click Here&lt;/button&gt;&lt;td&gt;&lt;tr&gt;\" +\n                    \"&lt;/td&gt;\";\n                  }\n          data += \"\" +\n                  \"&lt;/tbody&gt;\" +\n                  \"&lt;/table&gt;\";\n\n    return data;\n}\n\n[WebMethod]\npublic string InsertPersons(Person persons) //This is the method that's supposed to be hit while debugging but doesn't\n{\n   string name = \"\";\n   name = persons.name;\n\n   return name;\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "extjs", "ext.net"], "owner": {"reputation": 3389, "user_id": 3121975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27507c7b9958f8863c6640543baec276?s=128&d=identicon&r=PG&f=1", "display_name": "Woody1193", "link": "https://stackoverflow.com/users/3121975/woody1193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541009777, "creation_date": 1541009777, "question_id": 53089722, "link": "https://stackoverflow.com/questions/53089722/disabling-command-column-buttons-in-ext-js", "title": "Disabling Command Column Buttons in Ext.JS", "body": "<p>I have an Ext.NET/Ext.JS MVC project with following grid view in my .cshtml file:</p>\n\n<pre><code>@(x.Viewport()\n    .ID(\"MyViewport\")\n    .Items(x.GridPanel()\n        .ID(\"MyListGrid\")\n        .View(x.GridView()\n            .GetRowClass(a =&gt;\n            {\n                a.Args = new[] { \"record\" };\n                a.Fn = \"MyJs.renderInactiveRow\";\n            })\n            .ID(\"MyGrid\")\n            .Store(x.Store()\n                .AutoLoad(true)\n                .Proxy(x.AjaxProxy()\n                    .Url(Url.Action(\"GetList\", \"Home\"))\n                    .Reader(x.JsonReader().RootProperty(\"data\")))\n                .Model(x.Model()\n                    .Fields(\n                        x.ModelField()\n                            .Name(\"Name\")\n                            .Type(ModelFieldType.String),\n                        x.ModelField()\n                            .Name(\"Id\")\n                            .Type(ModelFieldType.Int),\n                        x.ModelField()\n                            .Name(\"IsActive\")\n                            .Type(ModelFieldType.Boolean))))\n            .ColumnModel(\n                x.Column()\n                    .DataIndex(\"Name\")\n                x.CommandColumn()\n                    .DisabledCls(\"non-viewable\")\n                    .Commands(\n                        x.GridCommand()\n                            .CommandName(\"Run\")\n                            .IconCls(\"far fa-play-circle\")\n                            .Cls(\"btn-action\")\n                            .Text(Model.RunButtonText))))))\n</code></pre>\n\n<p>My JavaScript file has the following code:</p>\n\n<pre><code>renderInactiveRow: function(record) {\n    return record.data.IsActive ? null : \"inactive non-viewable\";\n}\n</code></pre>\n\n<p>The <code>inactive</code> class corresponds to a .css file that will change the grid row's background color. So far, this portion works. Now I'm trying to make this function also disable the button in the command column and I can't seem to make that happen. I've tried adding a renderer to the column:</p>\n\n<pre><code>renderRunBtn: function(value, metadata, record) {\n    if (!record.data.IsActive) {\n        metadata.tdCls = \"non-viewable\";\n    }\n\n    return value;\n}\n</code></pre>\n\n<p>but that hasn't helped either. It seems that <code>metadata</code>, the cell reference doesn't actually contain the button but that it is rather attached to the column. So, how do I get this button to disable it? Or is there a better way to do this?</p>\n"}, {"tags": ["c#", "unit-testing", ".net-core", "moq", ".net-standard"], "answers": [{"comments": [{"owner": {"reputation": 28367, "user_id": 1678148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cb1aee4193fab0cdc8ccd3ca950c038e?s=128&d=identicon&r=PG", "display_name": "Darren Wainwright", "link": "https://stackoverflow.com/users/1678148/darren-wainwright"}, "edited": false, "score": 0, "creation_date": 1541011481, "post_id": 53089865, "comment_id": 93077131, "body": "Thanks so much Peter. I guess i was just totally overthinking things - figured i would need a key and what-not."}], "tags": [], "owner": {"reputation": 796, "user_id": 8700582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4900b1c81bd0f24e33fb00f684ac3232?s=128&d=identicon&r=PG&f=1", "display_name": "P&#233;ter Csajtai", "link": "https://stackoverflow.com/users/8700582/p%c3%a9ter-csajtai"}, "is_accepted": true, "score": 4, "last_activity_date": 1541010860, "last_edit_date": 1541010860, "creation_date": 1541010392, "answer_id": 53089865, "question_id": 53089632, "link": "https://stackoverflow.com/questions/53089632/how-to-mock-microsoft-practices-enterpriselibrary-security-cryptography-cryptogr/53089865#53089865", "title": "How to Mock Microsoft.Practices.EnterpriseLibrary.Security.Cryptography.CryptographyManager", "body": "<p>As I can see from the documentation the <code>CryptographyManager</code> is an <code>abstract</code> class so it can be mocked very easily like:</p>\n\n<pre><code>var mockCryptoManager = new Mock&lt;CryptographyManager&gt;();\n</code></pre>\n\n<p>After this you have to setup the call your actual code makes on it:</p>\n\n<pre><code>mockCryptoManager\n    .Setup(cm =&gt; cm.DecryptSymmetric(\"RijndaelManaged\", It.IsAny&lt;byte[]&gt;()))\n    .Returns(/* Here you have to put the value you want the mock return with */);\n</code></pre>\n\n<p>And then you can use your mock like:</p>\n\n<pre><code>CryptographyManager cryptographyManager = mockCryptoManager.Object;\n</code></pre>\n"}], "owner": {"reputation": 28367, "user_id": 1678148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cb1aee4193fab0cdc8ccd3ca950c038e?s=128&d=identicon&r=PG", "display_name": "Darren Wainwright", "link": "https://stackoverflow.com/users/1678148/darren-wainwright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 53089865, "answer_count": 1, "score": 2, "last_activity_date": 1573134971, "creation_date": 1541009413, "last_edit_date": 1573134971, "question_id": 53089632, "link": "https://stackoverflow.com/questions/53089632/how-to-mock-microsoft-practices-enterpriselibrary-security-cryptography-cryptogr", "title": "How to Mock Microsoft.Practices.EnterpriseLibrary.Security.Cryptography.CryptographyManager", "body": "<p>I am putting a small NuGet package together using dotnet core Standard.</p>\n\n<p>The NuGet will parse an encrypted SAML package. </p>\n\n<p>Our organization utilizes the Microsoft.Practices.EnterpriseLibrary.Security.Cryptography library.</p>\n\n<p>To allow for separation I've written the code to accept an instance of CryptographyManager in the constructor of one of the classes.</p>\n\n<p>I am trying to write unit tests that will test the decryption of an encrypted string but do not know how to <code>Moq</code> the CryptographyManager.</p>\n\n<p>Unit Test project is a DotNet Core project.</p>\n\n<p>I am specifically, in the NuGet, calling :</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var eb = Convert.FromBase64String(_xmlString);\n// Decryption occurs here\nvar db = _cryptographyManager.DecryptSymmetric(\"RijndaelManaged\", eb);\n_xmlString = Encoding.Unicode.GetString(db);\n</code></pre>\n\n<p>Can anybody offer pointers on how this can be unit tested? I would offer some code, though have no idea where to start... My Unit Test is missing a big piece:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[TestMethod]\npublic void TestThatEmployeeInformationEncryptedIsParsedCorrect()\n{\n\n    // arrange\n    // NO IDEA WHAT TO DO HERE //\n    CryptographyManager cryptographyManager = null;   \n\n    EmployeeInformation expected = new EmployeeInformation\n    {\n        FirstName = \"Test\",\n        LastName = \"Case\",\n        EmployeeNumber = \"0001111111\",\n        LanguageCode = \"en\",\n        CountryCode = \"CA\",\n        RequestedPage = string.Empty,\n        PositionId = \"POS9999999\",\n        Role = \"EKR\"\n    };\n\n    IParser p = new XMLParser(_encryptedGoodXml, cryptographyManager);\n\n    // act\n    EmployeeInformation result = p.EmployeeInformation;\n\n    // assert\n    result.Should().BeEquivalentTo(expected);\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 12429, "user_id": 4995012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a300442854f4caef5cd41a7b3084a6e?s=128&d=identicon&r=PG", "display_name": "Fabjan", "link": "https://stackoverflow.com/users/4995012/fabjan"}, "edited": false, "score": 0, "creation_date": 1541009444, "post_id": 53089607, "comment_id": 93076205, "body": "Welcome to StackOverflow! &quot;That didn&#39;t work&quot; isn&#39;t the best explanation. Please be more specific, show what exactly isn&#39;t working and add the actual Error/Exception to your post"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1541009465, "post_id": 53089607, "comment_id": 93076217, "body": "First of all, your if statement logic in <code>MuteButtonPressed()</code> is all wrong, there is no else condition, what do you think is going to happen?  Also, you dont need all that code in there anyway, just make the method body simply: <code>mute = !mute;</code>. Next, what is the actual problem you are having?  Its not playing sounds?  Have you debugged to see if <code>mute</code> has the value expected when you try to do your &quot;sound stuff&quot;?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 2, "creation_date": 1541009710, "post_id": 53089607, "comment_id": 93076340, "body": "Read the steps/logic of <code>MuteButtonPressed</code> and consider what happens when mute is true."}], "answers": [{"comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1541010479, "post_id": 53089723, "comment_id": 93076689, "body": "You missed the <code>;</code> on the <code>return</code> and <code>mute = !mute</code>."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1541010560, "post_id": 53089723, "comment_id": 93076718, "body": "<code>&quot;to avoid that you have to add return like this:&quot;</code> -- or just use an <code>if&#47;else</code> instead of <code>if&#47;if</code>"}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 1, "creation_date": 1541010682, "post_id": 53089723, "comment_id": 93076781, "body": "I&#39;d also recommend demonstrating some better formatting practices as well. An if condition and 2 additional statements <i>plus</i> curly braces makes my eyes water."}], "tags": [], "owner": {"reputation": 8689, "user_id": 7380779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211702939720023/picture?type=large", "display_name": "Frenchy", "link": "https://stackoverflow.com/users/7380779/frenchy"}, "is_accepted": false, "score": 1, "last_activity_date": 1541010687, "last_edit_date": 1541010687, "creation_date": 1541009783, "answer_id": 53089723, "question_id": 53089607, "link": "https://stackoverflow.com/questions/53089607/mute-button-turns-off-sound-but-not-back-on/53089723#53089723", "title": "Mute button turns off sound but not back on?", "body": "<p>Ok, i describe your error: you have written</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    if (mute == true) { mute = false; } // if mute == true then mute = false\n    if (mute == false) { mute = true; } // the process continue so mute = true\n}\n</code></pre>\n\n<p>to avoid that you have to add return like this:</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    if (mute == true) { mute = false; return;} \n    if (mute == false) { mute = true; }\n}\n</code></pre>\n\n<p>but this solution is better:</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    mute = !mute;\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 1, "creation_date": 1541011104, "post_id": 53089976, "comment_id": 93076981, "body": "Much better than the strange if/return situation... Easier to read too. Whitespace and formatting are our friends."}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 1, "last_activity_date": 1541011115, "last_edit_date": 1541011115, "creation_date": 1541010948, "answer_id": 53089976, "question_id": 53089607, "link": "https://stackoverflow.com/questions/53089607/mute-button-turns-off-sound-but-not-back-on/53089976#53089976", "title": "Mute button turns off sound but not back on?", "body": "<p>The core of your problem is you are using two <code>if</code> statements instead of an <code>if/else</code> statement.</p>\n\n<p>Consider your logic if <code>mute</code> is true:</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    if (mute == true) \n    { \n        mute = false; //mute is true so make it false\n    } \n    if (mute == false) //We just set mute to false so now this triggers\n    { \n        mute = true; //setting mute to true again\n    } \n}\n</code></pre>\n\n<p>With your logic, effectively nothing changes after running this method.  To fix that, use an <code>if/else</code> statement.  Two <code>if</code> statements will run after another, an <code>if/else</code> statement will only run <em>one</em> of the blocks:</p>\n\n<pre><code>public void MuteButtonPressed()\n{        \n    if (mute) //if mute is true run the if block\n    { \n        mute = false; \n    } \n    else //if mute is false run the else block\n    { \n        mute = true; \n    } \n}\n</code></pre>\n\n<p>Or way more simply:</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    mute = !mute; //make mute equal to the opposite of mute (i.e flip the switch)\n}\n</code></pre>\n\n<p>I also strongly recommend reading up on proper formatting.  Having your if statements inline like you were doing is very hard to read and debug.</p>\n"}], "owner": {"reputation": 57, "user_id": 10576580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7d5d8233bc7c6c49877dcfa5b7b5c8b?s=128&d=identicon&r=PG&f=1", "display_name": "NomadicBinary", "link": "https://stackoverflow.com/users/10576580/nomadicbinary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53089976, "answer_count": 2, "score": -1, "last_activity_date": 1541011115, "creation_date": 1541009327, "question_id": 53089607, "link": "https://stackoverflow.com/questions/53089607/mute-button-turns-off-sound-but-not-back-on", "title": "Mute button turns off sound but not back on?", "body": "<p>I have a function that plays sound that looks like this.</p>\n\n<pre><code>void PlaySound()\n{\n    if (!mute)\n    {\n        Sound stuff here\n    }\n}\n</code></pre>\n\n<p>Then I have a function that handles the mute button being pressed which does this.</p>\n\n<pre><code>public void MuteButtonPressed()\n{\n    if (mute == true) { mute = false; }\n    if (mute == false) { mute = true; }\n}\n</code></pre>\n\n<p>This script will turn the sound off when pressed, but will not turn it back on if I press it again. I've tried using !mute instead of mute == false and that didn't work. What am I doing wrong?</p>\n"}, {"tags": ["c#", "azure", "ssis", "azure-sql-database"], "answers": [{"tags": [], "owner": {"reputation": 11424, "user_id": 8184139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ic5yh.jpg?s=128&g=1", "display_name": "Alberto Morillo", "link": "https://stackoverflow.com/users/8184139/alberto-morillo"}, "is_accepted": true, "score": 1, "last_activity_date": 1541016092, "creation_date": 1541016092, "answer_id": 53091120, "question_id": 53089434, "link": "https://stackoverflow.com/questions/53089434/c-script-source-equivalent-alternative-in-azure/53091120#53091120", "title": "C# Script Source Equivalent/Alternative in Azure?", "body": "<p>You can use <a href=\"https://github.com/Azure/Azure-DataFactory/commit/60fa54bad499a8f42455a212aeaa7eb6b8940d13\" rel=\"nofollow noreferrer\">Azure Data Factory Custom Activity</a> to run C# code. <a href=\"https://docs.microsoft.com/en-us/azure/data-factory/\" rel=\"nofollow noreferrer\">Azure Data Factory</a> is an alternative to SSIS on Azure. </p>\n"}], "owner": {"reputation": 734, "user_id": 2657602, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d7e9af796fdb4c109458234846e13f52?s=128&d=identicon&r=PG&f=1", "display_name": "Sewder", "link": "https://stackoverflow.com/users/2657602/sewder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53091120, "answer_count": 1, "score": 1, "last_activity_date": 1541016092, "creation_date": 1541008670, "question_id": 53089434, "link": "https://stackoverflow.com/questions/53089434/c-script-source-equivalent-alternative-in-azure", "title": "C# Script Source Equivalent/Alternative in Azure?", "body": "<p>I have an SSIS package that I'm trying to deploy in Azure but I've ran into some permission issues.</p>\n\n<p>I have 2 question:</p>\n\n<ol>\n<li>Does Azure have a Script Source equivalent?</li>\n<li>Are there alternatives to using a SSIS and run my C# Script?</li>\n</ol>\n\n<p>Sorry if super vague but bascially I have an C# script that I want to use a datasource, it gets data from 2 web apis on is Sharepoint Online and the other is Excel Online, and copy it to a Azure Sql Database.</p>\n\n<p>I've tried deploying the SSIS-IR but ran into some permission issues.</p>\n\n<p>I thought I could run an activity but I don't think it supports C# scripts as a source?</p>\n"}, {"tags": ["c#", "generics", "delegates"], "comments": [{"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1541008896, "post_id": 53089424, "comment_id": 93075955, "body": "What if the delegate has parameters? You just called <code>DynamicInvoke</code> with no parameters."}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1541009059, "post_id": 53089424, "comment_id": 93076040, "body": "And what is the purpose of <code>SomeClass</code> anyway? Can&#39;t you just store an instance of whatever delegate type you use?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6900229"}, "reply_to_user": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1541009140, "post_id": 53089424, "comment_id": 93076081, "body": "That&#39;s a good question, @Sweeper.  Now you&#39;ve got me wondering if there&#39;s a way to thread parameters through.  But, let&#39;s suppose, even, that all the delegates had no parameters, but could all return the same type, including void.  The purpose of <code>SomeClass</code> is to be a much contrived, but far less lengthy example with which to frame my question."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1541009149, "post_id": 53089424, "comment_id": 93076085, "body": "@Sweeper This quote, &quot;I know this is a rather contrived pseudo example. I aim for a more involved usage, of course.&quot; states that there is other work done in the class that is elided."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6900229"}, "edited": false, "score": 0, "creation_date": 1541009681, "post_id": 53089559, "comment_id": 93076326, "body": "Thanks, Servy.  I&#39;m too low rep to upvote.  Given the laxer constraint of supposing no parameters, this works.  With a passed in delegate type returning a U but having an potentially arbitrary parameter signature, this would not work.  As Sweeper pointed out, I&#39;d need a way to thread the parameters through to the invocation, though."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1541012365, "post_id": 53089559, "comment_id": 93077489, "body": "@DavidClark And you should most certainly not do that.  It&#39;s not useful to accept a delegate with parameters if the caller is going to be providing the parameters themselves.  If they want to call a function with parameters they provide, it&#39;s trivial for them to write a parameterless method that calls whatever method(s) they want with whatever parameters they have."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6900229"}, "edited": false, "score": 0, "creation_date": 1541023029, "post_id": 53089559, "comment_id": 93081755, "body": "that (your last comment) is how I\u2019m presently doing it now.  I suppose I just went down a rabbit hole looking for \u201cbetter\u201d, only to learn what I already have is the accepted answer. \ud83d\ude2c"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 0, "last_activity_date": 1541009110, "creation_date": 1541009110, "answer_id": 53089559, "question_id": 53089424, "link": "https://stackoverflow.com/questions/53089424/restrict-return-type-of-generic-delegate-irrespective-of-parameters/53089559#53089559", "title": "Restrict Return Type of Generic Delegate Irrespective of Parameters", "body": "<p>.NET already defines a generic delegate that returns the generic argument as it's result, <code>Func&lt;T&gt;</code>.  You don't even need to define it.</p>\n\n<pre><code>public class SomeClass&lt;U&gt;\n{\n    private Func&lt;U&gt;;\n\n    public SomeClass(Func&lt;U&gt; someDelegate)\n    {\n        this.someDelegate = someDelegate;\n    }\n\n    public U Run()\n    {\n        return someDelegate();\n    }\n}\n</code></pre>\n\n<p>There's no real useful reason to allow a user of the type to provide any arbitrary delegate of the same signature.  Really I'd advise you to avoid using any delegates in your code other than <code>Func</code> and <code>Action</code> (with various different numbers of generic arguments) whenever possible, as it's just creating a hassle to do so.  I would consider it a reasonable restriction on any caller that has a delegate of a different type but the same signature to simply convert it to a <code>Func&lt;T&gt;</code> anyway, it's not like it's even a difficult conversion for them.</p>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": -1, "last_activity_date": 1541009982, "creation_date": 1541009982, "answer_id": 53089767, "question_id": 53089424, "link": "https://stackoverflow.com/questions/53089424/restrict-return-type-of-generic-delegate-irrespective-of-parameters/53089767#53089767", "title": "Restrict Return Type of Generic Delegate Irrespective of Parameters", "body": "<p>If you don't want to use <code>Func&lt;T&gt;</code> (as Servy suggests), e.g. if you have a custom delegate of your own that you want to be passed with type-safety, then perhaps you can make your custom delegate generic with respect to its return type. Then you can do it this way:</p>\n\n<pre><code>public delegate T MyDelegate&lt;T&gt;();\n\npublic class Foo&lt;T&gt;\n{\n    private readonly MyDelegate&lt;T&gt; _delegate;\n\n    public Foo(MyDelegate&lt;T&gt; handler)\n    {\n        _delegate = handler;\n    }\n\n    public T Bar()\n    {\n        return _delegate();\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6900229"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53089559, "answer_count": 2, "score": 0, "last_activity_date": 1541009982, "creation_date": 1541008640, "last_edit_date": 1541008939, "question_id": 53089424, "link": "https://stackoverflow.com/questions/53089424/restrict-return-type-of-generic-delegate-irrespective-of-parameters", "title": "Restrict Return Type of Generic Delegate Irrespective of Parameters", "body": "<p>I'm trying to restrict the return type of a generic delegate without specifying the parameter signature, and I don't know how to do this, or if it is even possible.</p>\n\n<p>How can I do this or is it impossible?</p>\n\n<p>My research has come up dry.  Some pseudo-C# code would probably help steer you toward what I'm trying to do:</p>\n\n<pre><code>public class SomeClass&lt; T, U &gt; where T : Delegate // returning U\n{\n    private someDelegate;\n\n    public SomeClass( T someDelegate )\n    {\n        this.someDelegate = someDelegate;\n    }\n\n    public U Run()\n    {\n        return someDelegate.DynamicInvoke();\n    }\n}\n</code></pre>\n\n<p>... Elsewhere</p>\n\n<pre><code>public delegate string aDelegate();\n\npublic static string SayHi()\n{\n    return \"Hello!\";\n}\n\naDelegate greeter = SayHi;\n\nvar something = new SomeClass&lt; aDelegate, string&gt;( greeter );\n\nConsole.WriteLine( something.Run() ); // Should write \"Hello\" to the console.\n</code></pre>\n\n<p>I know this is a rather contrived pseudo example.  I aim for a more involved usage, of course.  I'm trying to write a console menu class that would associate a list of given menu options with actions that would fire depending on what option the user chooses.  Right now, it just returns the string the user chose from the menu.  What I'd like be able to do is return what--if anything--the associated method returns.  This could perhaps be returned <em>with</em> the user chosen option string in a tuple...  But, I figured this mini-example just cut straight to the technical hurdle I'm experiencing.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "unity3d", "dump", "shaderlab"], "comments": [{"owner": {"reputation": 5819, "user_id": 2109038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ve1RL.jpg?s=128&g=1", "display_name": "Confused", "link": "https://stackoverflow.com/users/2109038/confused"}, "edited": false, "score": 3, "creation_date": 1541036599, "post_id": 53089318, "comment_id": 93084975, "body": "I can&#39;t be the only one amazed that there&#39;s something you don&#39;t know about Unity. Feel like this deserves a screenshot, or framing, or an achievement unlocked award... or something ;)"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 5819, "user_id": 2109038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ve1RL.jpg?s=128&g=1", "display_name": "Confused", "link": "https://stackoverflow.com/users/2109038/confused"}, "edited": false, "score": 1, "creation_date": 1541037081, "post_id": 53089318, "comment_id": 93085061, "body": "Surprised you&#39;re amazed. No one knows everything. and  all learn from others on this site."}, {"owner": {"reputation": 5819, "user_id": 2109038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ve1RL.jpg?s=128&g=1", "display_name": "Confused", "link": "https://stackoverflow.com/users/2109038/confused"}, "edited": false, "score": 0, "creation_date": 1541037146, "post_id": 53089318, "comment_id": 93085075, "body": "No. I&#39;m AMAZED! I have a pedestal in my computer room. Upon which your icon sits. It says: God-like Unity User, right underneath ;)"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 5819, "user_id": 2109038, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ve1RL.jpg?s=128&g=1", "display_name": "Confused", "link": "https://stackoverflow.com/users/2109038/confused"}, "edited": false, "score": 0, "creation_date": 1541037201, "post_id": 53089318, "comment_id": 93085084, "body": "@Confused Lol thanks"}], "answers": [{"comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541009380, "post_id": 53089450, "comment_id": 93076176, "body": "Being using Unity for a long time and have never came across about this API. This will do the job. I just checked it out and it looks like it&#39;s from the <code>UnityEditor</code> namespace which means that it can only be used in the Editor. It&#39;s still fine. You just have to detect when the build button is clicked then obtain the properties and types with ShaderUtil then save to the resources folder like <a href=\"https://stackoverflow.com/a/52892856/3785314\">this</a>. It would be good to mention that in your answer. Thanks."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541009594, "post_id": 53089450, "comment_id": 93076274, "body": "Ah, I&#39;ve never used it before. That&#39;s a good thing to add. I&#39;m just going to add that part of your comment to the answer verbatim if that&#39;s ok."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541009631, "post_id": 53089450, "comment_id": 93076294, "body": "That&#39;s fine with me"}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 5, "last_activity_date": 1562964844, "last_edit_date": 1562964844, "creation_date": 1541008727, "answer_id": 53089450, "question_id": 53089318, "link": "https://stackoverflow.com/questions/53089318/dump-resources-from-unity-game-to-a-file/53089450#53089450", "title": "Dump resources from Unity game to a file", "body": "<p>Use <a href=\"https://docs.unity3d.com/ScriptReference/ShaderUtil.html\" rel=\"nofollow noreferrer\"><code>ShaderUtil</code></a>.  </p>\n\n<ul>\n<li><p><code>ShaderUtil.GetPropertyCount</code> will let you iterate through each\nproperty.</p></li>\n<li><p><code>ShaderUtil.GetPropertyName</code> will let you get the property name for\nuse in methods like <code>GetTexture</code>.</p></li>\n<li><p><code>ShaderUtil.GetPropertyType</code> will let you call the proper methods to\nhandle the property you are currently on.</p></li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>Shader shader = mat.shader;\nfor (int i = 0 ; i &lt; ShaderUtil.GetPropertyCount(shader) ; i++) {\n    String propertyName = ShaderUtil.GetPropertyName(shader,i);\n    ShaderUtil.ShaderPropertyType propertyType = ShaderUtil.GetPropertyType(shader,i);\n\n    switch(propertyType) {\n        case ShaderUtil.ShaderPropertyType.TexEnv: {\n            Texture tex = mat.GetTexture(propertyName);\n            SaveTex(tex);\n        } break;\n\n        default: {\n            Debug.Log(propertyName + \" is not a texture.\");\n        } break;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>It's from the <code>UnityEditor</code> namespace which means that it can only be used in the Editor. It's still fine. You just have to detect when the build button is clicked then obtain the properties and types with <code>ShaderUtil</code> then save to the resources folder like <a href=\"https://stackoverflow.com/a/52892856/3785314\">this</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 1, "accepted_answer_id": 53089450, "answer_count": 1, "score": 3, "last_activity_date": 1562964844, "creation_date": 1541008217, "question_id": 53089318, "link": "https://stackoverflow.com/questions/53089318/dump-resources-from-unity-game-to-a-file", "title": "Dump resources from Unity game to a file", "body": "<p>I am trying to create a function that dumps every Resources data in a Unity game to a file and was able to dump the video, audio, script names and the image on the screen from the current loaded scene. </p>\n\n<p>I am stuck when trying to do the-same thing for the shader data such as Textures and Matrix, Vectors and int values and floats. I know I can obtain these formation with the <code>Material.GetXXX</code> functions.</p>\n\n<p>For example, I can currently obtain the main <code>Texture</code> from the standard shader which has a Texture type property named <code>_MainTex</code> with:</p>\n\n<pre><code>Material mat = gameObject.GetComponent&lt;MeshRenderer&gt;().material;\nTexture mat1Tex = mat.GetTexture(\"_MainTex\");\nSaveTex(mat1Tex);\n</code></pre>\n\n<p><em>The problem is that I need to know the names of properties and which type it is such as Texture, Matrix, Float, Color and so on before I can obtain their values during run-time</em></p>\n\n<p>I expect many shaders from third party sources to be in the project and it would be complicated to manually go over each shader, copy their property names and the type so that I can obtain the data.</p>\n\n<p>Is there a way to get the shader property and the type required to retrieve their values with the <code>Material.GetXXX</code> functions? If this is not possible, is there any way to dump the shader data individually? </p>\n\n<p><strong>Note</strong>:</p>\n\n<p><em>This is not a save feature and I'm not looking for way to save and load game state. It's a plugin used to analyze and troubleshoot Unity games.</em> </p>\n"}, {"tags": ["c#", "selenium", "proxy", "selenium-chromedriver"], "owner": {"reputation": 11, "user_id": 10587338, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HQhcVoJwfcY/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBBP9yp531bm5qfHqMSvgW049dO9w/mo/photo.jpg?sz=128", "display_name": "oksid9009", "link": "https://stackoverflow.com/users/10587338/oksid9009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1590820934, "creation_date": 1541008214, "last_edit_date": 1590820934, "question_id": 53089317, "link": "https://stackoverflow.com/questions/53089317/how-use-proxy-with-login-and-password-in-selenium-c-chromedriver", "title": "How use proxy with login and password in Selenium C# (ChromeDriver)", "body": "<p>I try to use proxy with Authentication, but i have problems.\nI try to use this code:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.AddArgument(\"ignore-certificate-errors\");\nchromeOptions.AddArgument(\"--ignore-ssl-errors\");\nchromeOptions.AddArgument(\"--proxy-server=http://\" + \"login:pass@IP:Port\"); \nvar driver = new ChromeDriver(chromeOptions);\ndriver.Navigate().GoToUrl(\"https://2ip.ru/\");\n</code></pre>\n\n<p>But browser say me: <code>\"ERR_NO_SUPPORTED_PROXIES\"</code>.\nProxy is ok. How can i solve this problem?</p>\n\n<p>P.s. Also I try use this code:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\nproxy = new Proxy();\nproxy.Kind = ProxyKind.Manual;\nproxy.IsAutoDetect = false;\nproxy.HttpProxy =\nproxy.SslProxy = \"IP:Port\";\nproxy.SocksPassword = \"pass\";\nproxy.SocksUserName = \"login\";\noptions.Proxy = proxy;\noptions.AddArgument(\"ignore-certificate-errors\");\nvar chromedriver = new ChromeDriver(options);\n</code></pre>\n"}, {"tags": ["c#", "azure", "authentication", "model-view-controller", "azure-active-directory"], "comments": [{"owner": {"reputation": 7881, "user_id": 10130385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34KiA.png?s=128&g=1", "display_name": "Rohit Saigal", "link": "https://stackoverflow.com/users/10130385/rohit-saigal"}, "edited": false, "score": 0, "creation_date": 1541008338, "post_id": 53089263, "comment_id": 93075663, "body": "Is the local version and server version using same Azure AD app registration? If you are using different values for clientId/ApplicationId in those two places (i..e pointing to different app registrations), then make sure that the the second application registration manifest also has <code>&quot;groupMembershipClaims&quot;: &quot;SecurityGroup&quot;</code> mentioned in it.. If that is missing in manifest, group claims will be missing."}, {"owner": {"reputation": 13, "user_id": 6332150, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3G4i6jYE7Q/AAAAAAAAAAI/AAAAAAAAG4w/wBJC-iafFqU/photo.jpg?sz=128", "display_name": "cyberjudge", "link": "https://stackoverflow.com/users/6332150/cyberjudge"}, "reply_to_user": {"reputation": 7881, "user_id": 10130385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34KiA.png?s=128&g=1", "display_name": "Rohit Saigal", "link": "https://stackoverflow.com/users/10130385/rohit-saigal"}, "edited": false, "score": 0, "creation_date": 1541008897, "post_id": 53089263, "comment_id": 93075956, "body": "Thanks Rohit, we are using 2 different Applications but the Manifests both have &quot;groupMembershipClaims&quot;: &quot;SecurityGroup&quot;"}, {"owner": {"reputation": 7881, "user_id": 10130385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34KiA.png?s=128&g=1", "display_name": "Rohit Saigal", "link": "https://stackoverflow.com/users/10130385/rohit-saigal"}, "edited": false, "score": 0, "creation_date": 1541009586, "post_id": 53089263, "comment_id": 93076272, "body": "If you have 2 applications, with one working perfectly while other is not with essentially same code (unless there is a difference).. I definitely advise taking the two json manifests side by side and compare them (may be use a tool to do text comparison in two files).. I have even seen cases where same attribute &quot;groupMembershipClaims&quot; was specified more than once in the same manifest with different values and that was causing issue in getting group claims at run time.."}, {"owner": {"reputation": 13, "user_id": 6332150, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3G4i6jYE7Q/AAAAAAAAAAI/AAAAAAAAG4w/wBJC-iafFqU/photo.jpg?sz=128", "display_name": "cyberjudge", "link": "https://stackoverflow.com/users/6332150/cyberjudge"}, "reply_to_user": {"reputation": 7881, "user_id": 10130385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34KiA.png?s=128&g=1", "display_name": "Rohit Saigal", "link": "https://stackoverflow.com/users/10130385/rohit-saigal"}, "edited": false, "score": 0, "creation_date": 1541011366, "post_id": 53089263, "comment_id": 93077085, "body": "So we went ahead and did a little test and re-pointed our local to point to the application the server uses, groups come in just fine. Could the issue be an IIS configuration issue on the server? or possibly a firewall issue?"}], "owner": {"reputation": 13, "user_id": 6332150, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3G4i6jYE7Q/AAAAAAAAAAI/AAAAAAAAG4w/wBJC-iafFqU/photo.jpg?sz=128", "display_name": "cyberjudge", "link": "https://stackoverflow.com/users/6332150/cyberjudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541007971, "creation_date": 1541007971, "question_id": 53089263, "link": "https://stackoverflow.com/questions/53089263/azure-group-authentication-mvc", "title": "Azure Group Authentication MVC", "body": "<p>I have an MVC solution I have built in Visual Studio 2015 Pro. I have setup the solution to use Azure Authentication to authenticate against our Azure Active Directory. The authentication works to allow only those in our Active Directory in, however when we limit access to a Controller to a specific security group it appears to work when running from Visual Studio, however when we deploy to our IIS server, it does not work. We proceeded to return the (ClaimsPrincipal)Thread.CurrentPrincipal object and running through Visual Studio (F5) we see all the groups returned. When we look at the server, it matches what we saw locally, however groups are blank. Any ideas how to fix this? Code below shows how we captured the ClaimsPrincipal.</p>\n\n<pre><code>var\u00a0Identity = (ClaimsPrincipal)Thread.CurrentPrincipal;\u00a0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0var\u00a0newCLAIM = Identity.Claims;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0StringBuilder\u00a0sb =\u00a0new\u00a0StringBuilder();\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0foreach\u00a0(var\u00a0item\u00a0in\u00a0newCLAIM)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sb.Append(item.Type.ToString());\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sb.Append(\" : \");\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sb.Append(item.Value.ToString());\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sb.Append(\" ;; \");\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7989212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c4c635d508762aa19105c037cdc01d?s=128&d=identicon&r=PG&f=1", "display_name": "Waz Wgs", "link": "https://stackoverflow.com/users/7989212/waz-wgs"}, "edited": false, "score": 0, "creation_date": 1541010792, "post_id": 53089651, "comment_id": 93076835, "body": "still not working. My problem now is the items in listbox2 were being deleted but label1 keeps on shuffling the same items like nothing was deleted."}, {"owner": {"reputation": 2266, "user_id": 5698517, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/915a651f37965c17b3a65cd9505bc6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Tor", "link": "https://stackoverflow.com/users/5698517/ali-tor"}, "reply_to_user": {"reputation": 11, "user_id": 7989212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c4c635d508762aa19105c037cdc01d?s=128&d=identicon&r=PG&f=1", "display_name": "Waz Wgs", "link": "https://stackoverflow.com/users/7989212/waz-wgs"}, "edited": false, "score": 0, "creation_date": 1541098054, "post_id": 53089651, "comment_id": 93110329, "body": "try not creating <code>Random</code> class instance repeatly. Just create once as global as in my update."}], "tags": [], "owner": {"reputation": 2266, "user_id": 5698517, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/915a651f37965c17b3a65cd9505bc6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Tor", "link": "https://stackoverflow.com/users/5698517/ali-tor"}, "is_accepted": false, "score": 0, "last_activity_date": 1541098154, "last_edit_date": 1541098154, "creation_date": 1541009490, "answer_id": 53089651, "question_id": 53089255, "link": "https://stackoverflow.com/questions/53089255/how-to-remove-items-in-listbox-that-was-randomly-selected-using-timer/53089651#53089651", "title": "How to remove items in listbox that was randomly selected using timer", "body": "<p>You can use:</p>\n\n<pre><code>int i = listBox2.Items\n.Cast&lt;ListBoxItem&gt;()\n.ToList()\n.FindIndex(x=&gt;x==label1.Text);\n\nlistBox2.RemoveAt(i);\n</code></pre>\n\n<p>UPDATE: </p>\n\n<pre><code>Random rnd = new Random();\nprivate void timer2_Tick(object sender, EventArgs e)\n    {\n        int num = rnd.Next(1, listBox2.Items.Count);\n        label1.Text = num.ToString();\n        if (label3.Text == \"10\")\n        {\n            listBox1.Items.Add(label1.Text);\n            listBox2.Items.Remove(label1.Text); //this line of code isnt working. It doesnt delete anything.\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7989212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c4c635d508762aa19105c037cdc01d?s=128&d=identicon&r=PG&f=1", "display_name": "Waz Wgs", "link": "https://stackoverflow.com/users/7989212/waz-wgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541098154, "creation_date": 1541007926, "question_id": 53089255, "link": "https://stackoverflow.com/questions/53089255/how-to-remove-items-in-listbox-that-was-randomly-selected-using-timer", "title": "How to remove items in listbox that was randomly selected using timer", "body": "<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        timer1.Start();\n        timer2.Start();\n    }\n\n    private void timer1_Tick(object sender, EventArgs e)\n    {\n        int a = int.Parse(label3.Text)\n            + 1;\n        label3.Text = a.ToString();\n        if (label3.Text == \"10\")\n        {\n            listBox1.Items.Add(label1.Text);\n            label3.Text = \"0\";\n        }\n    }\n\n    private void timer2_Tick(object sender, EventArgs e)\n    {\n        Random rnd = new Random();\n        int num = rnd.Next(1, listBox2.Items.Count);\n        label1.Text = num.ToString();\n        if (label3.Text == \"10\")\n        {\n            listBox1.Items.Add(label1.Text);\n            listBox2.Items.Remove(label1.Text); //this line of code isnt working. It doesnt delete anything.\n        }\n    }\n</code></pre>\n\n<p>What i wanted to happen is my label1 will shuffle all the items(1-10) in my listbox2 using timer1 then if the timer reach 10 seconds the listbox1 will add label1 last number as its item and listbox2 will remove it. It's working fine but it doesnt remove what's in the listbox2</p>\n"}, {"tags": ["c#", "asp.net-mvc", ".net-core", "data-annotations"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541008211, "post_id": 53089235, "comment_id": 93075612, "body": "Why not take the code that does the validation out of the attribute? Then you can apply the same validation wherever you need it - in the attribute or on the database records."}, {"owner": {"reputation": 378, "user_id": 1954933, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FpFUs.jpg?s=128&g=1", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1954933/eduardo"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541008346, "post_id": 53089235, "comment_id": 93075667, "body": "That validation is very specific. I have to validate the field before create the record. For me, its normal to put the validation in the model. Do you have an example of your solution?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541008646, "post_id": 53089235, "comment_id": 93075836, "body": "I understand you want the model to validate the name, but the model doesn&#39;t have to contain the actual validation code, which could be located in another class. This then allows it to be called from the model and other places, like applying the validation to existing DB data, or unit-testing the validation code."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5555760, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LZtYGHn_cjc/AAAAAAAAAAI/AAAAAAAAAHs/P5HXMjXv4Do/photo.jpg?sz=128", "display_name": "Aday", "link": "https://stackoverflow.com/users/5555760/aday"}, "edited": false, "score": 1, "creation_date": 1565961651, "post_id": 53089588, "comment_id": 101517164, "body": "It helped me greatly! This answer should have hundreds of votes since it&#39;s the only good one currently in the internet."}], "tags": [], "owner": {"reputation": 378, "user_id": 1954933, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FpFUs.jpg?s=128&g=1", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1954933/eduardo"}, "is_accepted": true, "score": 6, "last_activity_date": 1541009238, "creation_date": 1541009238, "answer_id": 53089588, "question_id": 53089235, "link": "https://stackoverflow.com/questions/53089235/net-core-get-dbcontext-within-model/53089588#53089588", "title": ".NET Core - Get DbContext within Model", "body": "<p>I never found the answer, even on Stack Overflow. But after many days, I got the solution. So, I'm answering below, I hope it helps.</p>\n\n<p>First of all, add <code>using System.Linq;</code> in your model class.</p>\n\n<p>So, apply the context:</p>\n\n<pre><code>var _context = (ApplicationDbContext)validationContext.GetService(typeof(ApplicationDbContext));\n</code></pre>\n\n<p>Now we are able to perform queries within the ValidationAttribute.</p>\n\n<p>A full example:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.EntityFrameworkCore;\nusing System.Linq;\n\npublic class MyModel\n{\n\n  public int? ID { get; set; }\n\n  [Required(ErrorMessage = \"Name can not be blank\")]\n  [ExampleValidation]\n  public string Name { get; set; }\n\n}\n\npublic class ExampleValidation : ValidationAttribute\n{\n\n  protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n      var _context = (ApplicationDbContext)validationContext\n                         .GetService(typeof(ApplicationDbContext));\n\n      /* my query here using the _context, and if necessary, apply the error message below: */\n      return new ValidationResult(\"My error message here\");\n\n    }\n\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 1954933, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FpFUs.jpg?s=128&g=1", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1954933/eduardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 0, "accepted_answer_id": 53089588, "answer_count": 1, "score": 3, "last_activity_date": 1541009238, "creation_date": 1541007827, "last_edit_date": 1541008215, "question_id": 53089235, "link": "https://stackoverflow.com/questions/53089235/net-core-get-dbcontext-within-model", "title": ".NET Core - Get DbContext within Model", "body": "<p>I need to get the ApplicationDbContext within a Model.</p>\n\n<p>I am creating a ValidationAttribute. That validation will check some records on database and generate an error if necessary.</p>\n\n<pre><code>public class MyModel\n{\n  public int? ID { get; set; }\n  [MyValidationForName]\n  public string Name { get; set; }\n}\n\n\npublic class MyValidationForName : ValidationAttribute\n{\n  protected ValidationResult IsValid(object value, ValidationContext validationContext)\n  {\n    /* code here */\n    return new ValidationResult(\"This field contains an error\");\n  }\n}\n</code></pre>\n\n<p>The example above generates an error (DataAnnotation) when saving the record. It is okay only to check dates, lenghts, etc.</p>\n\n<p>But I have to query some records on database. To perform that, the DB context can not be passed to the model.</p>\n\n<p>All SO topics I've read explains how to validate with Remote and JS, putting the validation on the Controller. I do not want this.</p>\n\n<p>The most related SO topic is: <a href=\"https://stackoverflow.com/questions/48317852/using-db-context-in-a-custom-validation-attribute\">Using DB Context in a Custom Validation Attribute</a> (by adding the context it still not work)</p>\n\n<p>Can anyone help me to pass the ApplicationDbContext to the model to perform queries and validate it with ValidationAttribute?</p>\n"}, {"tags": ["c#", ".net", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 879, "user_id": 935836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/04682003f2a172b41429eb9a24636de5?s=128&d=identicon&r=PG", "display_name": "davor", "link": "https://stackoverflow.com/users/935836/davor"}, "edited": false, "score": 0, "creation_date": 1541009513, "post_id": 53089427, "comment_id": 93076244, "body": "Thanks for IsLoaded property. I slightly modified it, so my code is actually if(IsLoaded) { MyViewModel.DateChanged(); }"}], "tags": [], "owner": {"reputation": 220, "user_id": 9362652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8032e4cc77b9c142f0bcb04e1291df6?s=128&d=identicon&r=PG&f=1", "display_name": "sean", "link": "https://stackoverflow.com/users/9362652/sean"}, "is_accepted": true, "score": 0, "last_activity_date": 1541008646, "creation_date": 1541008646, "answer_id": 53089427, "question_id": 53089197, "link": "https://stackoverflow.com/questions/53089197/prevent-valuechanged-execution-while-viewmodel-is-being-initialized/53089427#53089427", "title": "Prevent ValueChanged execution while ViewModel is being initialized", "body": "<p>Replace</p>\n\n<pre><code>if (!MyViewModel.IsInitializing) // PROBLEM!\n    MyViewModel.DateChanged();\n</code></pre>\n\n<p>with </p>\n\n<pre><code>if (!IsLoaded) return;\n\nMyViewModel.DateChanged();\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 935836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/04682003f2a172b41429eb9a24636de5?s=128&d=identicon&r=PG", "display_name": "davor", "link": "https://stackoverflow.com/users/935836/davor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53089427, "answer_count": 1, "score": 2, "last_activity_date": 1541008646, "creation_date": 1541007619, "question_id": 53089197, "link": "https://stackoverflow.com/questions/53089197/prevent-valuechanged-execution-while-viewmodel-is-being-initialized", "title": "Prevent ValueChanged execution while ViewModel is being initialized", "body": "<p>i want to prevent ValueChanged event execution while I'm initializing form with data.</p>\n\n<p>I have 2 form constructors (Wpf Window). The problem is with the second one, used for entry update.</p>\n\n<p>This is xaml.cs code:</p>\n\n<pre><code>public MyForm() // for new entry\n{\n    InitializeComponent();\n    DataContext = MyViewModel;\n}\n\npublic MyForm(int id) // for entry update - PROBLEM!\n{\n    InitializeComponent();\n    DataContext = MyViewModel;\n\n    MyViewModel.PreapareFormWithData(id); // load data\n}\n\nprivate void dteDate_EditValueChanged(object sender, DevExpress.Xpf.Editors.EditValueChangedEventArgs e)\n{\n    if (!MyViewModel.IsInitializing) // PROBLEM!\n        MyViewModel.DateChanged();\n}\n</code></pre>\n\n<p>After I create a new instance of MyForm, and call ShowDialog(), the event dteDate_EditValueChanged is being fired (because MyModel.Date is being set from database, not because user changed value on GUI control).</p>\n\n<p>I tried to avoid this, by setting the IsInitializing flag to false, but the problem is that the PreapareFormWithData() method if already executed (and the flag is set to false) when ValueChanged is fired.</p>\n\n<p>My current solution is to change IsInitialized flag with ValueChangedCounter, so I can put ValueChangedCounter > 1 instead od !IsInitialized, but I'm not really happy with that kind of solution.</p>\n\n<p>Here is my ViewModel.cs</p>\n\n<pre><code>private MyViewModel _MyViewModel;\n\npublic MyViewModel MyViewModel \n{\n    get\n    {\n        if (_MyViewModel== null)\n            _MyViewModel = new MyViewModel();\n        return _MyViewModel;\n    }\n    set { _MyViewModel= value; OnPropertyChanged(\"MyViewModel\"); }\n}\n\npublic bool IsInitializing = true; // flag\n\npublic MyViewModel() { }\n\npublic void PreapareFormWithData(int id)\n{\n    MyModel = MyModel.GetData(id);\n    IsInitializing = false; // data loading completed, set flag to false\n}\n\npublic void DateChanged()\n{\n    // MyModel.Date changed, do some stuff...\n}\n</code></pre>\n\n<p>And My Model:</p>\n\n<pre><code>public class MyModel\n{\n    public DateTime Date { get; set; } // without OnPropertyChanged()...\n}\n</code></pre>\n"}, {"tags": ["c#", "api", "http-post"], "comments": [{"owner": {"reputation": 357, "user_id": 5817377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730af4b61e0d70d35bfa5fc95d16dbe4?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Magers", "link": "https://stackoverflow.com/users/5817377/eric-magers"}, "edited": false, "score": 0, "creation_date": 1541010108, "post_id": 53089187, "comment_id": 93076520, "body": "I&#39;m really hoping the ID and secret you provided aren&#39;t real values, if so do you want to maybe get rid of them for your own safety?"}, {"owner": {"reputation": 37, "user_id": 10575105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F7x-vrH2nzo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCz4xGGDIrD0Ax4-HPFLMwmycUQqg/mo/photo.jpg?sz=128", "display_name": "Teo Lawrence", "link": "https://stackoverflow.com/users/10575105/teo-lawrence"}, "reply_to_user": {"reputation": 357, "user_id": 5817377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730af4b61e0d70d35bfa5fc95d16dbe4?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Magers", "link": "https://stackoverflow.com/users/5817377/eric-magers"}, "edited": false, "score": 0, "creation_date": 1541011198, "post_id": 53089187, "comment_id": 93077025, "body": "Yes, it&#39;s not real id"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3538475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d426c964305206fd72d9d8d9c461969?s=128&d=identicon&r=PG&f=1", "display_name": "user3538475", "link": "https://stackoverflow.com/users/3538475/user3538475"}, "edited": false, "score": 0, "creation_date": 1543398640, "post_id": 53091230, "comment_id": 93901930, "body": "how do you get  &#39;PDC&#39;. Any DLL can provide"}, {"owner": {"reputation": 83, "user_id": 3538475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d426c964305206fd72d9d8d9c461969?s=128&d=identicon&r=PG&f=1", "display_name": "user3538475", "link": "https://stackoverflow.com/users/3538475/user3538475"}, "edited": false, "score": 0, "creation_date": 1543398694, "post_id": 53091230, "comment_id": 93901960, "body": "($&quot;<a href=\"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=\" rel=\"nofollow noreferrer\">qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=</a>{CorpID}&amp;corp&zwnj;&#8203;secret={Secret}&quot;); -- should be @ ?"}, {"owner": {"reputation": 37, "user_id": 10575105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F7x-vrH2nzo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCz4xGGDIrD0Ax4-HPFLMwmycUQqg/mo/photo.jpg?sz=128", "display_name": "Teo Lawrence", "link": "https://stackoverflow.com/users/10575105/teo-lawrence"}, "reply_to_user": {"reputation": 83, "user_id": 3538475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d426c964305206fd72d9d8d9c461969?s=128&d=identicon&r=PG&f=1", "display_name": "user3538475", "link": "https://stackoverflow.com/users/3538475/user3538475"}, "edited": false, "score": 0, "creation_date": 1545472336, "post_id": 53091230, "comment_id": 94635249, "body": "@user3538475 The PDC is only a Module that I use it to store some information inside. So my PDC.DEPTID is call the PDC module and find DEPTID inside"}], "tags": [], "owner": {"reputation": 37, "user_id": 10575105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F7x-vrH2nzo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCz4xGGDIrD0Ax4-HPFLMwmycUQqg/mo/photo.jpg?sz=128", "display_name": "Teo Lawrence", "link": "https://stackoverflow.com/users/10575105/teo-lawrence"}, "is_accepted": true, "score": 0, "last_activity_date": 1541018702, "last_edit_date": 1541018702, "creation_date": 1541016612, "answer_id": 53091230, "question_id": 53089187, "link": "https://stackoverflow.com/questions/53089187/c-url-post-web-api/53091230#53091230", "title": "c# URL POST Web API", "body": "<p>I has been done my Code without Problem, this is the code below for everyone who need.</p>\n\n<p>The code to get Token from Https API</p>\n\n<pre><code>internal static string Token(string CorpID, string Secret)\n    {\n        CorpID = CorpID ?? \"\" + PDC.CorpID + \"\";\n        Secret = Secret ?? \"\" + PDC.Secret + \"\";\n\n        string token;\n        using (var wc = new WebClient())\n        {\n            token = wc.DownloadString($\"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid={CorpID}&amp;corpsecret={Secret}\");\n        }\n        if (token.Contains(\"access_token\"))\n        {\n            return token.Split(',')[2].Split(':')[1].Replace(\"\\\"\", \"\");\n        }\n        return \"\";\n    }\n</code></pre>\n\n<p>The Method of POST</p>\n\n<pre><code>internal static string PostWebRequest(string PostUrl, string ParamData, Encoding DataEncode)\n    {\n        string ret = string.Empty;\n        try\n        {\n            byte[] byteArray = DataEncode.GetBytes(ParamData);\n            HttpWebRequest webReq = (HttpWebRequest)WebRequest.Create(new Uri(PostUrl));\n            webReq.Method = \"POST\";\n            webReq.ContentType = \"application/x-www-form-urlencoded\";\n\n            webReq.ContentLength = byteArray.Length;\n            Stream newStream = webReq.GetRequestStream();\n            newStream.Write(byteArray, 0, byteArray.Length);\n            newStream.Close();\n            HttpWebResponse response = (HttpWebResponse)webReq.GetResponse();\n            StreamReader sr = new StreamReader(response.GetResponseStream(), Encoding.Default);\n            ret = sr.ReadToEnd();\n            sr.Close();\n            response.Close();\n            newStream.Close();\n        }\n        catch (Exception ex)\n        {\n            return ex.Message;\n        }\n        return ret;\n    }\n</code></pre>\n\n<p>The code to using WECHAT WORK for sending Message</p>\n\n<pre><code>internal static string SendMsg(string CorpID, string Secret, string ParamData, Encoding DataEncode)\n    {\n        string AccessToken = Token(CorpID, Secret);\n        string PostUrl = string.Format(\"https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token={0}\", AccessToken);\n\n        return PostWebRequest(PostUrl, ParamData, DataEncode);\n    }\n\npublic static void SendMsg2()\n    {\n        string sCorpID = \"\" + PDC.CorpID + \"\";\n        string sSecret = \"\" + PDC.Secret + \"\";\n        PDC.CONTENT = \"Test Message\";\n\n        string Message = \"Test\";\n\n\n        string MsgContent = \"{\";\n        MsgContent += \"\\\"totag\\\": \\\"\" + PDC.DEPTID + \"\\\",\";\n        MsgContent += \"\\\"msgtype\\\": \\\"text\\\",\";\n        MsgContent += \"\\\"agentid\\\": \\\"\" + PDC.AGENTID + \"\\\",\";\n        MsgContent += \"\\\"text\\\": {\";\n        MsgContent += \"  \\\"content\\\": \\\"\" + Message + \"\\\"\";\n        MsgContent += \"},\";\n        MsgContent += \"\\\"safe\\\":\\\"0\\\"\";\n        MsgContent += \"}\";\n\n        SendMsg(sCorpID, sSecret, MsgContent, Encoding.UTF8);\n    }\n</code></pre>\n\n<p>The Button Event for active Send Message Function</p>\n\n<pre><code>private void BtnSendMsg_Click(object sender, EventArgs e)\n    {\n        string token = MSG.Token(null, null);\n        if (!string.IsNullOrEmpty(token))\n        {\n            PDC.MSGTOKEN = token;\n        }\n\n        MSG.SendMsg2();\n    }\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10575105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F7x-vrH2nzo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCz4xGGDIrD0Ax4-HPFLMwmycUQqg/mo/photo.jpg?sz=128", "display_name": "Teo Lawrence", "link": "https://stackoverflow.com/users/10575105/teo-lawrence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 1, "accepted_answer_id": 53091230, "answer_count": 1, "score": 0, "last_activity_date": 1541018702, "creation_date": 1541007574, "question_id": 53089187, "link": "https://stackoverflow.com/questions/53089187/c-url-post-web-api", "title": "c# URL POST Web API", "body": "<p>I'm trying to do a function which work with WECHAT API, \nHere is my code:</p>\n\n<p>I use the code below to get a connection Token</p>\n\n<pre><code>internal static string Token(string CorpID, string Secret)\n    {\n        CorpID = CorpID ?? \"wwe1f80304633\";\n        Secret = Secret ?? \"Ev7_oVN7RqD9k4yUy5pzkfcZ_QhX9l0VjZnAQ\";\n\n        string token;\n        using (var wc = new WebClient())\n        {\n            token = wc.DownloadString($\"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid={CorpID}&amp;corpsecret={Secret}\");\n        }\n        if (token.Contains(\"access_token\"))\n        {\n            return token.Split(',')[2].Split(':')[1].Replace(\"\\\"\", \"\");\n        }\n        return \"\";\n    }\n</code></pre>\n\n<p>It's successful to get a valid token from WECHAT Server,</p>\n\n<p>And the code below is I want to POST a request to WECHAT API and ask WECHAT to Send Message to selected Department Person.</p>\n\n<pre><code>internal static string SendMsg(string sendtext)\n    {\n\n        string ACTOKEN = \"\" + PDC.MSGTOKEN + \"\";\n        string CONTENT = \"\" + PDC.CONTENT + \"\";\n        string PostUrl;\n        using (var wc2 = new WebClient())\n        {\n            PostUrl = wc2.UploadString($\"https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token={0}{1}\", ACTOKEN, CONTENT);\n        }\n\n\n        return \"\";\n    }\n\npublic static void SendMsg2()\n    {\n\n        PDC.CONTENT = \"Test Message\";\n        string MsgContent = \"{\\\"toparty\\\": \\\"\" + PDC.DEPTID + \"\\\",\\\"msgtype\\\": \\\"text\\\",\\\"agentid\\\": \\\"\" + PDC.AGENTID + \"\\\",\\\"text\\\": {\\\"content\\\": \\\"\" + PDC.CONTENT + \"\\\"},\\\"safe\\\":0}\";\n        SendMsg(MsgContent);\n\n        MessageBox.Show(\"\" + MsgContent + \"\");\n    }\n</code></pre>\n\n<p>And I Added a button on my WinForm and trying to make it work</p>\n\n<pre><code>private void BtnSendMsg_Click(object sender, EventArgs e)\n    {\n        string token = MSG.Token(null, null);\n        if (!string.IsNullOrEmpty(token))\n        {\n            PDC.MSGTOKEN = token;\n            MessageBox.Show(\"\" + PDC.MSGTOKEN + \"\");\n        }\n        else\n        {\n            MessageBox.Show(\" Invalid Token \");\n        }\n\n        MSG.SendMsg2();\n    }\n</code></pre>\n\n<p>However seems it doesn't work, and if I'm not wrong the problem on this part</p>\n\n<pre><code>internal static string SendMsg(string sendtext)\n    {\n\n        string ACTOKEN = \"\" + PDC.MSGTOKEN + \"\";\n        string CONTENT = \"\" + PDC.CONTENT + \"\";\n        string PostUrl;\n        using (var wc2 = new WebClient())\n        {\n            PostUrl = wc2.UploadString($\"https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token={0}{1}\", ACTOKEN, CONTENT);\n        }\n\n\n        return \"\";\n    }\n</code></pre>\n\n<p>May anyone can give me some ideas how I can solve this problem ? Many Many Many Thanks ~ </p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541007947, "post_id": 53089153, "comment_id": 93075481, "body": "Check <a href=\"https://msdnshared.blob.core.windows.net/media/2016/11/debugger-settings-1024x690.png\" rel=\"nofollow noreferrer\">this setting</a>"}, {"owner": {"reputation": 593, "user_id": 9165130, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec7e931938e8dd0be5e2078c52f95772?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Smith", "link": "https://stackoverflow.com/users/9165130/robert-smith"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1541008366, "post_id": 53089153, "comment_id": 93075678, "body": "Stuart, thanks for your help!  It looks like it was set that way, please take a look at the update."}, {"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541010302, "post_id": 53089153, "comment_id": 93076613, "body": "Check <a href=\"https://stackoverflow.com/questions/2155930/how-do-i-remedy-the-the-breakpoint-will-not-currently-be-hit-no-symbols-have-b\" title=\"how do i remedy the the breakpoint will not currently be hit no symbols have b\">stackoverflow.com/questions/2155930/&hellip;</a> and also <a href=\"https://stackoverflow.com/questions/2468852/the-breakpoint-will-not-currently-be-hit-the-source-code-is-different-from-the\" title=\"the breakpoint will not currently be hit the source code is different from the\">stackoverflow.com/questions/2468852/&hellip;</a>."}, {"owner": {"reputation": 593, "user_id": 9165130, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec7e931938e8dd0be5e2078c52f95772?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Smith", "link": "https://stackoverflow.com/users/9165130/robert-smith"}, "edited": false, "score": 0, "creation_date": 1541073463, "post_id": 53089153, "comment_id": 93097097, "body": "Rui, I saw those links. However those are for a different error.  I did try those suggestions in any case but they did not help.  Thank you."}, {"owner": {"reputation": 69, "user_id": 1433302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4713c32510237cbe5f6c23b06aeb9c8d?s=128&d=identicon&r=PG", "display_name": "Dnyati", "link": "https://stackoverflow.com/users/1433302/dnyati"}, "edited": false, "score": 0, "creation_date": 1574677420, "post_id": 53089153, "comment_id": 104303242, "body": "Any update I am facing issue same issue."}], "owner": {"reputation": 593, "user_id": 9165130, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec7e931938e8dd0be5e2078c52f95772?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Smith", "link": "https://stackoverflow.com/users/9165130/robert-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2781, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541008325, "creation_date": 1541007428, "last_edit_date": 1541008325, "question_id": 53089153, "link": "https://stackoverflow.com/questions/53089153/no-executable-code-of-the-debuggers-target-code-type-is-associated-with-this-li", "title": "No executable code of the debugger&#39;s target code type is associated with this line - mvc", "body": "<p>Receiving the following error:</p>\n\n<blockquote>\n  <p>The breakpoint will not currently be hit. No executable code of the debugger's target code type is associated with this line.  Possible causes include: conditional compilation, compiler optimizations, or the target architecture of this line is not supported by the current debugger code type.</p>\n</blockquote>\n\n<p>The same error happens on any MVC project, even if I create a brand new project for testing this issue.  The error is when I set a breakpoint on any javascript line in my .cshtml files.  For example, I receive this error if I set a breakpoint on \"alert\" below:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    alert('test');\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Environment</strong>: Windows 7 64bit, VS2017 15.8.8, Framework 4.6.1, MVC Empty application.\nCreate one controller and one view, add this code to the bottom of the view:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    alert('test');\n&lt;/script&gt;\n</code></pre>\n\n<p>Then I receive the error when I start debugging, the error shows on the breakpoint circle for that line.</p>\n\n<p><strong>Settings</strong>: (All default settings, nothing has been modified)</p>\n\n<ul>\n<li>Define DEBUG Constant is checked</li>\n<li>Define TRACE Constant is checked</li>\n<li>Advanced-Debugging information is full</li>\n</ul>\n\n<p>I have tried rebooting the machine with no help.  Everything was working fine a couple of days ago.</p>\n\n<p><strong>Update</strong>: (Here is a picture of debug settings)</p>\n\n<p><a href=\"https://i.stack.imgur.com/3eWzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3eWzs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "nunit-3.0"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1541007446, "post_id": 53089134, "comment_id": 93075251, "body": "why don&#39;t you create the test data in your test - or a in a startup step?"}, {"owner": {"reputation": 1007, "user_id": 7952244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed5c4abef2ae0d72b24714dc00a1d70?s=128&d=identicon&r=PG&f=1", "display_name": "O.MeeKoh", "link": "https://stackoverflow.com/users/7952244/o-meekoh"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1541007738, "post_id": 53089134, "comment_id": 93075381, "body": "its a bit more involved than that. We are generating everything up front and creating items in the database using docker to host our database. We need to perform an application pool reset before each configured test data can be viewed in the client. Performing App Pool can take up to 2 mins to reconnect to the client. This would make each test take at least 2 mins plus however long the test itself takes. Very inefficient. We have to generate everything up front based on the test suite executing."}], "answers": [{"tags": [], "owner": {"reputation": 2638, "user_id": 612510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aae0eaaf72364c6a85f8fb8608286deb?s=128&d=identicon&r=PG", "display_name": "Mike Marynowski", "link": "https://stackoverflow.com/users/612510/mike-marynowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1541178034, "last_edit_date": 1541178034, "creation_date": 1541021884, "answer_id": 53092311, "question_id": 53089134, "link": "https://stackoverflow.com/questions/53089134/can-nunit-3-0-know-how-many-tests-are-selected-to-execute-before-they-get-execut/53092311#53092311", "title": "Can Nunit 3.0 know how many tests are selected to execute before they get executed?", "body": "<p>I think you are overthinking this a bit. Your setup can be done with a combination of splitting the setup work between the whole test assembly setup that only runs once, namespace wide setup that runs once before any test in the namespace is run, the constructor for a test fixture, the start of an actual test, etc. </p>\n\n<p>If you are reusing a docker instance and app pool for all the tests then initialize it in the whole assembly setup so that it is only done once. Then each test can just add whatever data it needs before it starts. If some of that data is shared between tests then just setup global flags to indicate what has been done already and if some data a test needs hasn't been setup then just do the incremental additional setup needed before continuing with that test, but this generally isn't required if you organize your tests into namespaces properly and just use the namespace wide setup for fixtures.</p>\n"}], "owner": {"reputation": 1007, "user_id": 7952244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed5c4abef2ae0d72b24714dc00a1d70?s=128&d=identicon&r=PG&f=1", "display_name": "O.MeeKoh", "link": "https://stackoverflow.com/users/7952244/o-meekoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541178034, "creation_date": 1541007327, "question_id": 53089134, "link": "https://stackoverflow.com/questions/53089134/can-nunit-3-0-know-how-many-tests-are-selected-to-execute-before-they-get-execut", "title": "Can Nunit 3.0 know how many tests are selected to execute before they get executed?", "body": "<p>Is it possible to determine how many tests have been selected to execute before the test runner executes them? This would be helpful for local testing since our logic generates test configuration for every test suite configuration at a time, having the ability to figure out which tests have been selected to execute could allow me to create logic to only create test data configuration for those tests.</p>\n\n<p>This would be useful when writing tests and testing that they work. Since we only want to generate test data for the selected test.</p>\n\n<p>Right now we have to comment out code to disable it from executing the test data configuration.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "unity3d", "video", "render"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1541007509, "post_id": 53089104, "comment_id": 93075274, "body": "Turn on the Profiler, start the game, wait for it to get laggy, and then pause the game and show us what is in the cpu usage timeline"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541009074, "post_id": 53089104, "comment_id": 93076053, "body": "From my past experiment with the <code>VideoPlayer</code> API, it can only handle one video at a time. You try to load multiple videos with multiple <code>VideoPlayer</code>, you will run into lag or memory issues especially on mobile devices. Your option might be to use an expinse Video API from the assetstore or try not to use RenderTexture. Try to use the <code>RawImage</code> components to display the videos."}, {"owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1541010879, "post_id": 53089104, "comment_id": 93076881, "body": "@Programmer makes sense, thank you - so you&#39;d recommend RawImage components? Or do you have a specific asset in mind?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1541011079, "post_id": 53089104, "comment_id": 93076966, "body": "Yes, I recommend RawImage and that&#39;s what I use. See <a href=\"https://stackoverflow.com/questions/41144054/using-new-unity-videoplayer-and-videoclip-api-to-play-video?s=3|72.4169\">here</a> for an example. You can always set the Canvas to World Space if needed."}], "answers": [{"tags": [], "owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "is_accepted": false, "score": 1, "last_activity_date": 1541008299, "creation_date": 1541008299, "answer_id": 53089345, "question_id": 53089104, "link": "https://stackoverflow.com/questions/53089104/rendertexture-slows-down-unity/53089345#53089345", "title": "Rendertexture slows down unity?", "body": "<p>Based on the CPU taking 848ms per frame rendered, you are clearly bottlenecked on CPU. If you want to run at 30 frames per second, you'll need to get CPU time below 33ms per frame.</p>\n\n<p>Since the CPU time is getting markedly worse after adding video players, it seems that the video codec is taxing your CPU heavily. Consider reducing the video quality as much as possible, especially reducing the resolution.</p>\n\n<p>If that won't work, you may need to implement a shader-based solution using animated sprite sheets. That's more work for you, but it will run much more efficiently in the engine.</p>\n"}], "owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541008299, "creation_date": 1541007204, "question_id": 53089104, "link": "https://stackoverflow.com/questions/53089104/rendertexture-slows-down-unity", "title": "Rendertexture slows down unity?", "body": "<p>I'm confused as to what is going wrong here but I am sure that the problem is my rendertextures/video players - I have maybe 20 gameobjects that are iPhones, and I need animated .mov files that I made to play behind the screens. </p>\n\n<p>To do this I followed tutorials to hook up Videoplayers with render textures (now there are about 8 of them) like this, then plugging the render texture into the emission slot in a material:</p>\n\n<p><a href=\"https://i.stack.imgur.com/osX5l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osX5l.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ZNDKY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZNDKY.png\" alt=\"enter image description here\"></a></p>\n\n<p>And with even 2 render textured cubes the game is INCREDIBLY laggy, here are stats</p>\n\n<p><a href=\"https://i.stack.imgur.com/rQJVE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQJVE.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried turning the depth off but don't know whats wrong here - my movie files are just in the KB range. How can I play videos without lagging?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-2.0"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5849780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aad78a66fafa8a1633783ffd81b5b1e?s=128&d=identicon&r=PG&f=1", "display_name": "gsr1992", "link": "https://stackoverflow.com/users/5849780/gsr1992"}, "edited": false, "score": 0, "creation_date": 1541073133, "post_id": 53089472, "comment_id": 93096947, "body": "Thank&#39;s. Worked perfectly."}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": true, "score": 2, "last_activity_date": 1541008796, "creation_date": 1541008796, "answer_id": 53089472, "question_id": 53089027, "link": "https://stackoverflow.com/questions/53089027/how-do-i-set-a-specific-route-on-href-with-net-core/53089472#53089472", "title": "How do i set a specific route on href with .NET Core", "body": "<p>Use <code>asp-route</code> for named routes:</p>\n\n<pre><code>&lt;a class=\"btn btn-primary float-right\"\n   style=\"margin-bottom:4px;\"\n   asp-route=\"Route_3\"\n   asp-route-id=\"@Model.Id\"&gt;\n    Click button\n&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5849780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aad78a66fafa8a1633783ffd81b5b1e?s=128&d=identicon&r=PG&f=1", "display_name": "gsr1992", "link": "https://stackoverflow.com/users/5849780/gsr1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 1, "accepted_answer_id": 53089472, "answer_count": 1, "score": 0, "last_activity_date": 1541063056, "creation_date": 1541006892, "last_edit_date": 1541063056, "question_id": 53089027, "link": "https://stackoverflow.com/questions/53089027/how-do-i-set-a-specific-route-on-href-with-net-core", "title": "How do i set a specific route on href with .NET Core", "body": "<p>How do i set in the razor page, what's the route will be called on href, using tag helpers?</p>\n\n<p>My Controller, named TestController:</p>\n\n<pre><code>[Route(\"A/B/C\",Name = \"Route_1\")]\n[Route(\"A/B/C/{id?}\",Name = \"Route_2\")]\n[Route(\"A/B/C/D/{id?}\",Name = \"Route_3\")]\npublic IActionResult TestAction(string id = null)\n{\n    ... \n}\n</code></pre>\n\n<p>The view:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a class=\"btn btn-primary float-right\"\n   style=\"margin-bottom:4px;\"\n   asp-controller=\"TestController\"\n   asp-action=\"TestAction\"\n   asp-route-id=\"@Model.Id\"&gt;\n    Click button\n&lt;/a&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net", "avi", "screen-recording", "screencast"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12302898, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xhuc5nEaqTY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdid1zTE4f4wyupqyTyrNTe4GcyWA/photo.jpg?sz=128", "display_name": "Downzie", "link": "https://stackoverflow.com/users/12302898/downzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1572522081, "creation_date": 1572522081, "answer_id": 58642597, "question_id": 53089008, "link": "https://stackoverflow.com/questions/53089008/using-sharpavi-to-record-the-screen-why-is-the-avi-file-playing-back-as-if-its/58642597#58642597", "title": "Using SharpAVI to record the screen, why is the .avi file playing back as if its sped up when I increase the FPS?", "body": "<p>If anyone is interested this is an issue i had. I found you have to timestamp each of the frames individually as the media player you are using doesnt know when to update the frame so by default just updates them as quickly as possible.</p>\n"}], "owner": {"reputation": 49, "user_id": 8908365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e417253eb7324d7e53f1e1c4d87be44?s=128&d=identicon&r=PG&f=1", "display_name": "zach", "link": "https://stackoverflow.com/users/8908365/zach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1572522081, "creation_date": 1541006835, "question_id": 53089008, "link": "https://stackoverflow.com/questions/53089008/using-sharpavi-to-record-the-screen-why-is-the-avi-file-playing-back-as-if-its", "title": "Using SharpAVI to record the screen, why is the .avi file playing back as if its sped up when I increase the FPS?", "body": "<p>I'm working on a project where I need to record the desktop during an event started by the user. I found <a href=\"https://stackoverflow.com/a/32797504/8908365\">this code</a> which has been really helpful, since I am new to C#. </p>\n\n<p>However, when I increase the FPS in the Recorder Params in main, the outputted video file is sped up drastically. It seems to be speeding up in relation to how much you increase the FPS by. </p>\n\n<p>I've tried to look into why this might be happening, but I can't find any  documentation on SharpAVI or on Captura. Can anyone shed some light on why this might be happening? It would be really nice to be able to have a 30 FPS avi, and for the sake of learning, I'd really like to know whats going on. </p>\n"}, {"tags": ["c#", "xml", "asp.net-mvc-5", "webhooks"], "comments": [{"owner": {"reputation": 639, "user_id": 9011635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/belm1.jpg?s=128&g=1", "display_name": "Raj Kumar", "link": "https://stackoverflow.com/users/9011635/raj-kumar"}, "edited": false, "score": 0, "creation_date": 1541058012, "post_id": 53088888, "comment_id": 93090035, "body": "can&#39;t you register different webhooks on different URLs ? Its looks like all your different webhooks get fired on same endpoint."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "reply_to_user": {"reputation": 639, "user_id": 9011635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/belm1.jpg?s=128&g=1", "display_name": "Raj Kumar", "link": "https://stackoverflow.com/users/9011635/raj-kumar"}, "edited": false, "score": 0, "creation_date": 1541085058, "post_id": 53088888, "comment_id": 93103361, "body": "Yes they seem to fire on same endpoint."}, {"owner": {"reputation": 639, "user_id": 9011635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/belm1.jpg?s=128&g=1", "display_name": "Raj Kumar", "link": "https://stackoverflow.com/users/9011635/raj-kumar"}, "edited": false, "score": 0, "creation_date": 1541085904, "post_id": 53088888, "comment_id": 93103880, "body": "if you can make them fire on different endpoints, you&#39;re golden."}, {"owner": {"reputation": 2076, "user_id": 3111788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b848b20de04ec23c2784e68fe57f118?s=128&d=identicon&r=PG", "display_name": "dmulter", "link": "https://stackoverflow.com/users/3111788/dmulter"}, "edited": false, "score": 0, "creation_date": 1541088845, "post_id": 53088888, "comment_id": 93105560, "body": "Some webhook sources allow selecting only specific events for just this case. Not sure what your source permits."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1541101593, "post_id": 53088888, "comment_id": 93111990, "body": "It would appear I cannot so I&#39;m stuck finding a solution better than what I suggested above."}], "owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541006330, "creation_date": 1541006330, "question_id": 53088888, "link": "https://stackoverflow.com/questions/53088888/differentiating-webhooks", "title": "Differentiating Webhooks", "body": "<p>I'm trying to setup to receive webhooks and then do something with that data. I have managed to receieve a specific webhook and then parse the data and use that data. However, since I am very new to webhooks, one part troubles me and I'm not sure how to go about resolving it.</p>\n\n<p>With the provider that I am using webhooks with, I setup an endpoint. They will now send over 100 different webhook events straight to my endpoint. Now they have different xml parent node for each event. I am only really interested in maybe 3 events. What I am trying to find out is how do I differentiate these events?</p>\n\n<p>One way is to try to parse the first node and then check against white list and then if its one of the ones I want, I parse into a specific object and off I go. But to me that feels rather clunky and wondering if I am missing something and there is a better way to go about this.</p>\n\n<p>For example:</p>\n\n<pre><code>public ActionResult Webhook()\n{\n    var requestContent = GetRequestContent();\n    var type = GetTypeBasedOnFirstNode(requestContent);\n    var document = _xmlService.DeserializeFromString&lt;type&gt;(requestContent);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "regex", "split"], "comments": [{"owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "edited": false, "score": 0, "creation_date": 1541006613, "post_id": 53088818, "comment_id": 93074780, "body": "<code>where delimiter followed by some character</code> you know <code>space</code> is too a character."}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "edited": false, "score": 0, "creation_date": 1541006935, "post_id": 53088818, "comment_id": 93074968, "body": "@RickyTad please check my answer and the demo."}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "edited": false, "score": 0, "creation_date": 1541007600, "post_id": 53088818, "comment_id": 93075314, "body": "see my edited answer. and please note that making big changes to question makes the previously correct answer incorrect, so please edit question if there is an error in your question, and not change or extend it, you may ask another question for that."}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5027016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a837e9239b80b91bfd43763c56d89d0?s=128&d=identicon&r=PG&f=1", "display_name": "RickyTad", "link": "https://stackoverflow.com/users/5027016/rickytad"}, "edited": false, "score": 0, "creation_date": 1541008966, "post_id": 53088938, "comment_id": 93075990, "body": "The first part of the question is solved, thanks. Regarding the second part of the question: the string between {} has to be parsed separately later, thus cannot be deleted directly. How could this part be first extracted before getting removed?"}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "reply_to_user": {"reputation": 249, "user_id": 5027016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a837e9239b80b91bfd43763c56d89d0?s=128&d=identicon&r=PG&f=1", "display_name": "RickyTad", "link": "https://stackoverflow.com/users/5027016/rickytad"}, "edited": false, "score": 0, "creation_date": 1541009294, "post_id": 53088938, "comment_id": 93076139, "body": "well, you don&#39;t have to really remove it, may be put the altered string in another variable or just: <code>reg.Split(Regex.Replace(input, @&quot;\\{[^}]*\\}&quot;, &quot;&quot;)).</code>, your input value does not change but it the part in <code>{}</code> in the split string, and please note that it might be possible to do both in one regex (i don&#39;t know how) but its not fine to write a very complex regex that takes lots of time to execute just to avoid doing it in two lines."}], "tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": true, "score": 1, "last_activity_date": 1541007435, "last_edit_date": 1541007435, "creation_date": 1541006543, "answer_id": 53088938, "question_id": 53088818, "link": "https://stackoverflow.com/questions/53088818/split-string-by-delimiter-and-skip-parts-where-delimiter-followed-by-some-charac/53088938#53088938", "title": "Split string by delimiter and skip parts where delimiter followed by some character", "body": "<p>Use:</p>\n\n<pre><code>:(?!=)\n</code></pre>\n\n<p>So your code should be like:</p>\n\n<pre><code>string input = \"One : Two:Three:=Four\";\nstring pattern = @\":(?!=)\";\nRegex reg = new Regex(pattern);\nvar parts = reg.Split(input);\n</code></pre>\n\n<p>For the second part of your question, you may first choose to remove those between <code>{}</code> and then split them:</p>\n\n<pre><code>input = Regex.Replace(input, @\"\\{[^}]*\\}\", \"\");\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/LE9QxL/2\" rel=\"nofollow noreferrer\">Live Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 249, "user_id": 5027016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a837e9239b80b91bfd43763c56d89d0?s=128&d=identicon&r=PG&f=1", "display_name": "RickyTad", "link": "https://stackoverflow.com/users/5027016/rickytad"}, "edited": false, "score": 0, "creation_date": 1541009864, "post_id": 53089258, "comment_id": 93076418, "body": "Thank you for answering to the second part of my question."}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1541007942, "creation_date": 1541007942, "answer_id": 53089258, "question_id": 53088818, "link": "https://stackoverflow.com/questions/53088818/split-string-by-delimiter-and-skip-parts-where-delimiter-followed-by-some-charac/53089258#53089258", "title": "Split string by delimiter and skip parts where delimiter followed by some character", "body": "<p>You can split with:</p>\n\n<pre><code>:(?!=)(?![^{]*})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": false, "score": 0, "last_activity_date": 1541012431, "last_edit_date": 1541012431, "creation_date": 1541010263, "answer_id": 53089828, "question_id": 53088818, "link": "https://stackoverflow.com/questions/53088818/split-string-by-delimiter-and-skip-parts-where-delimiter-followed-by-some-charac/53089828#53089828", "title": "Split string by delimiter and skip parts where delimiter followed by some character", "body": "<p>You could use a negative lookbehind <code>(?&lt;!</code> and a negative lookahead <code>(?!</code> to assert that the colon is not between curly braces.</p>\n\n<p>To make sure that the colon is not followed by an equals sign you could also use a negative lookahead.</p>\n\n<p><code>(?&lt;!\\{[^{}]*):(?!=)(?![^{}]*})</code></p>\n\n<p><a href=\"http://regexstorm.net/tester?p=%28%3f%3c!%5c%7b%5b%5e%7b%7d%5d*%29%3a%28%3f!%3d%29%28%3f!%5b%5e%7b%7d%5d*%7d%29&amp;i=One+%3a+Two%3aThree%3a%3dFour\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li><code>(?&lt;!</code> Negative lookbehind to check what is on the left is not\n\n<ul>\n<li><code>\\{[^{}]*</code> Match <code>{</code> followed by matching 0+ times not <code>{</code> or <code>}</code></li>\n</ul></li>\n<li><code>)</code> Close non capturing group</li>\n<li><code>:(?!=)</code> Match a colon if what follows is not an equals sign</li>\n<li><code>(?!</code> Negative lookahead\n\n<ul>\n<li><code>[^{}]*}</code> Match 0+ times not <code>{</code> or <code>}</code> followed by matching <code>}</code></li>\n</ul></li>\n<li><code>)</code></li>\n</ul>\n\n<p>Using your example, that would look like:</p>\n\n<pre><code>string input = \"One : Two:Three:=Four\";\nstring pattern = @\"(?&lt;!\\{[^{}]+):(?!=)(?![^{}]+})\";\nRegex reg = new Regex(pattern);\nvar parts = reg.Split(input);\n</code></pre>\n\n<p><a href=\"https://ideone.com/Tszn9R\" rel=\"nofollow noreferrer\">Demo C#</a></p>\n"}], "owner": {"reputation": 249, "user_id": 5027016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a837e9239b80b91bfd43763c56d89d0?s=128&d=identicon&r=PG&f=1", "display_name": "RickyTad", "link": "https://stackoverflow.com/users/5027016/rickytad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 53088938, "answer_count": 3, "score": 1, "last_activity_date": 1541012431, "creation_date": 1541006064, "last_edit_date": 1541006948, "question_id": 53088818, "link": "https://stackoverflow.com/questions/53088818/split-string-by-delimiter-and-skip-parts-where-delimiter-followed-by-some-charac", "title": "Split string by delimiter and skip parts where delimiter followed by some character", "body": "<p>Is it possible to use Regex.Split() to split a string by a delimiter, but only if delimiter not followed by some character.\nFor instance I would like to split a string by the \":\" delimiter, but ignore the \":=\" delimiter. This code:</p>\n\n<pre><code>string input = \"One : Two:Three:=Four\";\nstring pattern = @\":\";\nRegex reg = new Regex(pattern);\nvar parts = reg.Split(input):\n</code></pre>\n\n<p>returns 4 parts : \"One\", \"Two\", \"Three\" and \"=Four\". </p>\n\n<p>I tried to modify the sample like this:</p>\n\n<pre><code>string input = \"One : Two:Three:=Four\";\nstring pattern = @\":[^=]\";\nRegex reg = new Regex(pattern);\nvar parts = reg.Split(input):\n</code></pre>\n\n<p>Now I get 3 parts: \"One\", \"Two\" and \"hree:=Four\". What has to be changed in the pattern to get also the start of the third part correctly, like this: \"Three:=Four\".</p>\n\n<p>What about extending the above example with an additional start/end delimiter definition that disables also the split by the defined delimiter. For instance:</p>\n\n<pre><code>string input = \"One : Two:Three:=Four {Comment:String:=\"This is a comment\";AddditionalInfo:String:=\"This is some additional info\";}\";\n</code></pre>\n\n<p>The result should contain the following 3 parts: \"One\", \"Two\" and \"Three:=Four {Comment:String:=\"This is ...}\".</p>\n\n<p>I mean the \":\" delimiter should be ignored if present between the \"{\" and \"}\" delimiters.</p>\n"}, {"tags": ["c#", "math", "drag-and-drop", "mouseevent", "draggable"], "answers": [{"tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": true, "score": 2, "last_activity_date": 1541007339, "last_edit_date": 1541007339, "creation_date": 1541006811, "answer_id": 53089003, "question_id": 53088677, "link": "https://stackoverflow.com/questions/53088677/moving-object-with-mouse/53089003#53089003", "title": "Moving object with mouse?", "body": "<p>Dragging process stages:</p>\n\n<p>Start at MouseDown:<br>\n  - check whether object is touched<br>\n  -  remember <code>ObjectPos0</code>, <code>MousePos0</code><br>\n  -  set <code>isDragging</code> flag (denotes that MouseDown is on object)</p>\n\n<p>On MouseMove (if <code>isDragging</code>):<br>\n  - <code>ObjectPos = ObjectPos0 + (MousePos - MousePos0)</code><br>\n  - redraw</p>\n\n<p>On MouseUp (if <code>isDragging</code>):<br>\n   - fix final position<br>\n   - make needed work<br>\n   - clear <code>isDragging</code> flag</p>\n"}], "owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 53089003, "answer_count": 1, "score": 0, "last_activity_date": 1541007470, "creation_date": 1541005514, "last_edit_date": 1541007470, "question_id": 53088677, "link": "https://stackoverflow.com/questions/53088677/moving-object-with-mouse", "title": "Moving object with mouse?", "body": "<p>I am currently trying to move a 2D texture in SharpDX. I can successfully move it but it jumps quite a bit every few frames. For example, if I'm dragging from bottom, right to top, left, I'll get an occasional jump where the origin of the image is at 75% bottom, right and then goes back to where it was a few frames later. This is quite odd in my opinion and I think it's possibly due to the event or the mouse position.</p>\n\n<p>I'm updating the texture's position via the MouseMove event on my form:</p>\n\n<pre><code>private void MouseMove(object sender, MouseEventArgs e) {\n    if (e.Button == MouseButtons.Left) {\n        testSprite.Position = new Vector2(e.X - testSprite.Position.X,\n                                          e.Y - testSprite.Position.Y);\n    }\n}\n</code></pre>\n\n<p>I think this is mostly due to the way I'm setting the <code>X</code> and <code>Y</code> values. Am I doing the math correctly here or is that what is causing my issue? I chose to write it this way because I don't want the texture's origin (0, 0: top, left) to jump to the mouse position, but instead move smoothly with the mouse from its current position.</p>\n\n<hr>\n\n<h2>Clarity</h2>\n\n<ul>\n<li>Is my math for assigning <code>X</code> and <code>Y</code> correct?\n\n<ul>\n<li>Yes: What else could cause this <em>jump</em>?</li>\n<li>No: What is the correct math?</li>\n</ul></li>\n</ul>\n\n<p>While debugging and trying different approaches I have learned that:</p>\n\n<ul>\n<li>Setting the <code>Position</code> to just <code>e.X,Y</code> gives smooth movement.\n\n<ul>\n<li>However, this jumps to mouse position which is not desired.</li>\n</ul></li>\n</ul>\n"}, {"tags": ["c#", ".net", "data-annotations", "validationattribute"], "answers": [{"tags": [], "owner": {"reputation": 48727, "user_id": 1366033, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/DU0SY.jpg?s=128&g=1", "display_name": "KyleMit", "link": "https://stackoverflow.com/users/1366033/kylemit"}, "is_accepted": true, "score": 5, "last_activity_date": 1541004748, "last_edit_date": 1592644375, "creation_date": 1541004748, "answer_id": 53088477, "question_id": 53088476, "link": "https://stackoverflow.com/questions/53088476/whats-the-difference-between-datatypedatatype-phonenumber-phoneattribute/53088477#53088477", "title": "What&#39;s the difference between DataType(DataType.PhoneNumber) &amp; PhoneAttribute", "body": "<h3><em>TLDR</em>: <code>[Phone]</code> provides validation logic while <code>[DataType]</code> does not</h3>\n<p>The inheritance chain looks like this:</p>\n<p><code>Attribute</code><br />\n\u00a0\u00a0\u21b3 <code>ValidationAttribute</code><br />\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u21b3 <code>DataTypeAttribute</code><br />\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u21b3 <code>PhoneAttribute</code></p>\n<p>So both are instances of <code>ValidationAttribute</code>, however both don't provide Validation out of the box.  The DataType base class just provides the structure for assigning an <code>enum DataType</code> and leaves overriding the validation up to the caller</p>\n<h3><code>DataType</code> - According to the Docs:</h3>\n<blockquote>\n<p>When you apply the <code>DataTypeAttribute</code> attribute to a data field you must do the following:</p>\n<ul>\n<li>Issue validation errors as appropriate.</li>\n</ul>\n</blockquote>\n<h3><code>DataType</code> - According to the Source Code:</h3>\n<pre class=\"lang-cs prettyprint-override\"><code>[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Method | AttributeTargets.Parameter, AllowMultiple = false)]\npublic class DataTypeAttribute : ValidationAttribute\n{\n    /// &lt;summary&gt; Override of &lt;see cref=&quot;ValidationAttribute.IsValid(object)&quot; /&gt; &lt;/summary&gt;\n    /// &lt;remarks&gt;This override always returns &lt;c&gt;true&lt;/c&gt;.  Subclasses should override this to provide the correct result.&lt;/remarks&gt;\n    /// &lt;param name=&quot;value&quot;&gt;The value to validate&lt;/param&gt;\n    /// &lt;returns&gt;Unconditionally returns &lt;c&gt;true&lt;/c&gt;&lt;/returns&gt;\n    /// &lt;exception cref=&quot;InvalidOperationException&quot;&gt; is thrown if the current attribute is ill-formed.&lt;/exception&gt;\n    public override bool IsValid(object value)\n    {\n        EnsureValidDataType();\n\n        return true;\n    }\n }\n</code></pre>\n<p><strong>Aside</strong>: Since you are required to override <code>IsValid</code>, I'm not sure why .NET didn't mark the class and property as <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/abstract\" rel=\"noreferrer\"><code>abstract</code></a> to guarantee an implementation programmatically.</p>\n<h3><code>PhoneAttribute</code> - Validation Logic</h3>\n<p>So if you do want to provide validation, and you're using .NET 4.5+ or .NET Core, you can use the <code>[Phone]</code> attribute, but the mechanism for validation has changed over time as well and also you might have a different set of rules on what constitutes valid input for your business process.</p>\n<p>.NET Framework initially used the following regular expression:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>const string pattern = @&quot;^(\\+\\s?)?((?&lt;!\\+.*)\\(\\+?\\d+([\\s\\-\\.]?\\d+)?\\)|\\d+)([\\s\\-\\.]?(\\(\\d+([\\s\\-\\.]?\\d+)?\\)|\\d+))*(\\s?(x|ext\\.?)\\s?\\d+)?$&quot;;\n</code></pre>\n<p>But this was deprecated in .NET Framework 4.7.2 per <a href=\"https://github.com/Microsoft/dotnet/blob/master/Documentation/compatibility/aspnet-472-compat-doc.md\" rel=\"noreferrer\">this change description</a>, likely due to injection/security concerns layed out in the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/best-practices\" rel=\"noreferrer\">Regular Expression Best Practices</a> from unconstrained input.</p>\n<p>If you want to continue using regex validation, you'd have to set the following in the <code>configuration</code> &gt; <code>appsettings</code> section of your <code>.config</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;add key=&quot;dataAnnotations:dataTypeAttribute:disableRegEx&quot; value=&quot;false&quot;/&gt;\n        \n</code></pre>\n<p>The Test project includes a sample of what inputs should pass/fail according to <a href=\"https://source.dot.net/#System.ComponentModel.Annotations.Tests/System/ComponentModel/DataAnnotations/PhoneAttributeTests.cs\" rel=\"noreferrer\">PhoneAttributeTests.cs</a> and here's a <a href=\"https://regexr.com/429je\" rel=\"noreferrer\">Regexr page</a> if you want to test out matching input against the (deprecated) regular expression validation engine.</p>\n<hr />\n<p>Here's some links for source code and documentation for different flavors of .NET:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                  | .NET Core         | .NET Core 2.1  |  .NET 4.7.2     | .NET           |\n------------------|-------------------|----------------|-----------------|----------------|\n<b>DataTypeAttribute</b> | <a href=\"https://github.com/dotnet/corefx/blob/v2.1.5/src/System.ComponentModel.Annotations/src/System/ComponentModel/DataAnnotations/DataTypeAttribute.cs\" rel=\"noreferrer\">github.com/dotnet</a> | <a href=\"https://source.dot.net/#System.ComponentModel.Annotations/System/ComponentModel/DataAnnotations/DataTypeAttribute.cs\" rel=\"noreferrer\">source.dot.net</a> | <a href=\"https://referencesource.microsoft.com/#System.ComponentModel.DataAnnotations/DataAnnotations/DataTypeAttribute.cs\" rel=\"noreferrer\">referencesource</a> | <a href=\"https://docs.microsoft.com/en-us/dotnet/api/System.ComponentModel.DataAnnotations.DataTypeAttribute\" rel=\"noreferrer\">docs.microsoft</a> |\n<b>PhoneAttribute</b>    | <a href=\"https://github.com/dotnet/corefx/blob/v2.1.5/src/System.ComponentModel.Annotations/src/System/ComponentModel/DataAnnotations/PhoneAttribute.cs\" rel=\"noreferrer\">github.com/dotnet</a> | <a href=\"https://source.dot.net/#System.ComponentModel.Annotations/System/ComponentModel/DataAnnotations/PhoneAttribute.cs\" rel=\"noreferrer\">source.dot.net</a> | <a href=\"https://referencesource.microsoft.com/#System.ComponentModel.DataAnnotations/DataAnnotations/PhoneAttribute.cs\" rel=\"noreferrer\">referencesource</a> | <a href=\"https://docs.microsoft.com/en-us/dotnet/api/System.ComponentModel.DataAnnotations.PhoneAttribute\" rel=\"noreferrer\">docs.microsoft</a> |\n</code></pre>\n<p><strong>Note</strong>: The current docs for <code>[Phone]</code> mistakenly remarks that the validation uses Regular Expressions, which has not been true since 4.7.2+ or anywhere in .NET core, so I've <a href=\"https://github.com/dotnet/dotnet-api-docs/pull/686\" rel=\"noreferrer\">submitted this PR to update</a></p>\n"}], "owner": {"reputation": 48727, "user_id": 1366033, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/DU0SY.jpg?s=128&g=1", "display_name": "KyleMit", "link": "https://stackoverflow.com/users/1366033/kylemit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 1, "accepted_answer_id": 53088477, "answer_count": 1, "score": 2, "last_activity_date": 1541004748, "creation_date": 1541004748, "question_id": 53088476, "link": "https://stackoverflow.com/questions/53088476/whats-the-difference-between-datatypedatatype-phonenumber-phoneattribute", "title": "What&#39;s the difference between DataType(DataType.PhoneNumber) &amp; PhoneAttribute", "body": "<p>What's the difference between using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/System.ComponentModel.DataAnnotations.DataTypeAttribute\" rel=\"nofollow noreferrer\" title=\"System.ComponentModel.DataAnnotations.DataTypeAttribute\"><code>DataType</code> Attribute</a> and passing in a value of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/System.ComponentModel.DataAnnotations.DataType\" rel=\"nofollow noreferrer\" title=\"System.ComponentModel.DataAnnotations.DataType\"><code>DataType.Phone</code></a> and the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/System.ComponentModel.DataAnnotations.PhoneAttribute\" rel=\"nofollow noreferrer\" title=\"System.ComponentModel.DataAnnotations.PhoneAttribute\"><code>Phone</code> Attribute</a> which inherits from <code>DataType</code> and automatically sets <code>DataType.Phone</code>?</p>\n\n<p>Is there any difference between these two classes?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Person {\n   <b>[DataType(DataType.PhoneNumber)]</b>\n   public string PhoneNumber {get;set;}\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Person {\n   <b>[Phone]</b>\n   public string PhoneNumber {get;set;}\n}\n</code></pre>\n"}, {"tags": ["c#", "powershell"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 2, "creation_date": 1541004794, "post_id": 53088463, "comment_id": 93073869, "body": "Have you looked into <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.process.start?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Process.Start()</a>?"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1541005387, "post_id": 53088463, "comment_id": 93074163, "body": "These may also be helpful: <a href=\"https://stackoverflow.com/questions/20195392/to-call-a-powershell-script-file-example-ps1-from-c-sharp\">Call a Powershell Script</a> and <a href=\"https://stackoverflow.com/questions/527513/execute-powershell-script-from-c-sharp-with-commandline-arguments\">Execute Powershell Script</a>"}, {"owner": {"reputation": 18851, "user_id": 361842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86a19e4ceb02445eadc25d935472a77f?s=128&d=identicon&r=PG", "display_name": "JohnLBevan", "link": "https://stackoverflow.com/users/361842/johnlbevan"}, "edited": false, "score": 2, "creation_date": 1541005965, "post_id": 53088463, "comment_id": 93074443, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20195392/to-call-a-powershell-script-file-example-ps1-from-c-sharp\">To call a powershell script file (example.ps1) from C#</a>"}], "owner": {"reputation": 1, "user_id": 10587083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32026c88e54799402b5c2fa60aa0621?s=128&d=identicon&r=PG&f=1", "display_name": "cmdrummer", "link": "https://stackoverflow.com/users/10587083/cmdrummer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541004702, "creation_date": 1541004702, "question_id": 53088463, "link": "https://stackoverflow.com/questions/53088463/running-ps1-file-in-c", "title": "Running ps1 file in C#", "body": "<p>First, I'm fairly new to this roll, and it's likely that this has been answered, but that I do not understand the information.</p>\n\n<p>I have a ps1 file that I want to run on Server A.  The script in the PS1 file connects to Server B and runs a Schedule Task.  I'm able to verify this part works by calling up the PS1 file from command prompt on Server A.</p>\n\n<p>I have a an Automated Test written with c#, and I need to add code to the test that will run the PS1 file.  Is someone able to assist with this and break it down to beginner format?</p>\n"}, {"tags": ["c#", ".net", "api", "asp.net-web-api"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1541004619, "post_id": 53088373, "comment_id": 93073769, "body": "Use <code>Path.Combine</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": true, "score": 3, "last_activity_date": 1541004785, "creation_date": 1541004785, "answer_id": 53088493, "question_id": 53088373, "link": "https://stackoverflow.com/questions/53088373/image-folder-creation-in-web-api-using-concatenate-strings/53088493#53088493", "title": "Image folder creation in web api using concatenate strings", "body": "<p>Let OS decide what to use for sub directories, as it might not always be the familiar <code>\\</code> character. Using <code>Path.Combine()</code> method uses the character that is valid in that environment:</p>\n\n<pre><code>folderPath =Path.Combine(imageURL,formData.RootFolder, formData.TypeFolder, postedFile.FileName);\n</code></pre>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 53088493, "answer_count": 1, "score": 1, "last_activity_date": 1541004785, "creation_date": 1541004370, "question_id": 53088373, "link": "https://stackoverflow.com/questions/53088373/image-folder-creation-in-web-api-using-concatenate-strings", "title": "Image folder creation in web api using concatenate strings", "body": "<p>I am new to c# ,Here I'm trying to form a URL to store the image in API itself .</p>\n\n<p>I want to create a folder in the following structure </p>\n\n<p><strong>Images_Folder --> Fruits_Folder--> Seedless_Folder --> Image.jpg</strong></p>\n\n<p>coding :</p>\n\n<pre><code>string imageURL = HttpContext.Current.Server.MapPath(\"~/Images/\");\n\nfolderPath = imageURL + formData.RootFolder + formData.TypeFolder + \"/\";\n\nfilePath = (folderPath + postedFile.FileName);\n\npostedFile.SaveAs(filePath);\n</code></pre>\n\n<p>By using the above code it stores the image in the following structure.</p>\n\n<p><strong>Images-->Fruits_FolderSeedless_Folder --> Image.jpg</strong></p>\n\n<p>While debugging the code I could see the URL format as follows </p>\n\n<p><strong>\"D:\\Projects\\Dot Net\\FruitsDisplay\\FruitsDisplaySolution\\Images\\FruitsSeedless/\"</strong></p>\n\n<p>Ex: Images-->FruitsSeedless-->Image.jpg</p>\n\n<p>But I want it should be as <strong>Images-->Fruits-->Seedless-->Image.jpg</strong></p>\n\n<p>can anyone help me to solve this.</p>\n"}, {"tags": ["c#", "wpf", "binding"], "comments": [{"owner": {"reputation": 3724, "user_id": 967885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d024fba65c96618ea159a6962f3a0e59?s=128&d=identicon&r=PG", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/967885/peregrine"}, "edited": false, "score": 1, "creation_date": 1541003973, "post_id": 53088183, "comment_id": 93073445, "body": "I think you&#39;re using the wrong Fody tool - you want Fody.PropertyChanged"}, {"owner": {"reputation": 3724, "user_id": 967885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d024fba65c96618ea159a6962f3a0e59?s=128&d=identicon&r=PG", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/967885/peregrine"}, "edited": false, "score": 0, "creation_date": 1541004526, "post_id": 53088183, "comment_id": 93073723, "body": "I&#39;ve just found an actual use case for INotifyPropertyChanging other than the ugly &quot;throw an exception to stop a property setter&quot; - <a href=\"https://stackoverflow.com/a/41472332/967885\">stackoverflow.com/a/41472332/967885</a>"}, {"owner": {"reputation": 300, "user_id": 7047764, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d98a8e09610e23ba7d7d2e1a87e97802?s=128&d=identicon&r=PG&f=1", "display_name": "KyleKW", "link": "https://stackoverflow.com/users/7047764/kylekw"}, "reply_to_user": {"reputation": 3724, "user_id": 967885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d024fba65c96618ea159a6962f3a0e59?s=128&d=identicon&r=PG", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/967885/peregrine"}, "edited": false, "score": 0, "creation_date": 1541005434, "post_id": 53088183, "comment_id": 93074190, "body": "@Peregrine You are right! Would you like to submit that so I can accept your answer? Thank you so much for catching that!"}], "answers": [{"tags": [], "owner": {"reputation": 22524, "user_id": 285795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/597432bc4cb512372176db67c6fba151?s=128&d=identicon&r=PG", "display_name": "\u03a9megaMan", "link": "https://stackoverflow.com/users/285795/%ce%a9megaman"}, "is_accepted": false, "score": -1, "last_activity_date": 1541008524, "creation_date": 1541008524, "answer_id": 53089398, "question_id": 53088183, "link": "https://stackoverflow.com/questions/53088183/label-content-does-not-change-with-binding/53089398#53089398", "title": "Label Content does not change with binding", "body": "<p>The event you are using, <em>changing</em> is not used by most dependency properties, such as the <code>Content</code> you have bound to in a <code>Label</code>. You need to use <code>INotifyPropertyChanged</code> event which supplies a notification when the value fully changes and can be used. As mentioned it appears you need to use <code>Fody.PropertyChanged</code> instead.</p>\n"}], "owner": {"reputation": 300, "user_id": 7047764, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d98a8e09610e23ba7d7d2e1a87e97802?s=128&d=identicon&r=PG&f=1", "display_name": "KyleKW", "link": "https://stackoverflow.com/users/7047764/kylekw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1541006575, "answer_count": 1, "score": 0, "last_activity_date": 1541008524, "creation_date": 1541003693, "last_edit_date": 1541003908, "question_id": 53088183, "link": "https://stackoverflow.com/questions/53088183/label-content-does-not-change-with-binding", "closed_reason": "Duplicate", "title": "Label Content does not change with binding", "body": "<p>I'm currently having problems with my label content being updated. Is there something I'm missing here to have it update on <code>Current_Plan</code> property update? See below for implementation:</p>\n\n<p>In my xaml code I have a Label called <code>LabelProductionPlan</code> set up like the following:</p>\n\n<pre><code>   &lt;Label x:Name=\"LabelProductionPlan\" \n          Content=\"{Binding Current_Plan.ProductionPlanName, \n                            Mode=TwoWay,\n                            UpdateSourceTrigger=PropertyChanged}\"/&gt;\n</code></pre>\n\n<p>In my <code>MainWindow.xaml.cs</code> file, the setup is as follows:</p>\n\n<pre><code>public partial class MainWindow : Window\n    {\n\n        private FrontEndManager FEM;\n\n        public MainWindow()\n        {\n            InitializeComponent();\n            WindowStartupLocation = System.Windows.WindowStartupLocation.CenterScreen;\n\n\n            FEM = new FrontEndManager\n            {\n                Current_Plan = new ProductionPlanModel\n                {\n\n                }\n\n            };\n\n            LabelProductionPlan.DataContext = FEM;\n        }}\n</code></pre>\n\n<p>The <code>FrontEndManager</code> is setup with the following <a href=\"https://github.com/Fody/PropertyChanging\" rel=\"nofollow noreferrer\">Fody feature</a> to implement PropertyChanging:</p>\n\n<pre><code>[ImplementPropertyChanging]\npublic class FrontEndManager\n{\n    public ProductionPlanModel Current_Plan { get; set; }\n}\n</code></pre>\n\n<p>With the <code>ProductionPlanModel</code> implemented as well with <code>PropertyChanging</code>:</p>\n\n<pre><code>[ImplementPropertyChanging]\npublic class ProductionPlanModel\n{\n    public string ProductionPlanName { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "x86", "64-bit", "user32"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1541003995, "post_id": 53088177, "comment_id": 93073455, "body": "&quot;Building the new app for x86 fixed this issue&quot;... If there&#39;s no need for your program to be compiled for 64bit then you&#39;re good to go, no? To run in 64bit, most likely you&#39;ll need a DLL compiled for 64 bit platforms."}, {"owner": {"reputation": 1639, "user_id": 2623411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4K5cB.jpg?s=128&g=1", "display_name": "MikeS159", "link": "https://stackoverflow.com/users/2623411/mikes159"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1541004173, "post_id": 53088177, "comment_id": 93073544, "body": "There is no need for it to run as x64, but since it is using a standard Windows dll, I would be surprised if there was no way to use it under a x64 application."}], "answers": [{"tags": [], "owner": {"reputation": 624, "user_id": 3805124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4add9217b9f50ce20a47ff343ea5bb78?s=128&d=identicon&r=PG&f=1", "display_name": "PhilS", "link": "https://stackoverflow.com/users/3805124/phils"}, "is_accepted": true, "score": 2, "last_activity_date": 1541005245, "creation_date": 1541005245, "answer_id": 53088601, "question_id": 53088177, "link": "https://stackoverflow.com/questions/53088177/user32-dll-code-works-under-x86-but-not-x64/53088601#53088601", "title": "user32.dll code works under x86 but not x64", "body": "<p>Its not going to work as the Windows functions are architecture specific, in this case 32 bit specific. </p>\n\n<p>To make <code>SendInput</code> work for 64bit see <a href=\"https://stackoverflow.com/q/6830651/3805124\">SendInput and 64bits</a>  </p>\n\n<p>However there is not an equivalent 64 bit function for <code>GetLastInputInfo</code> but see <a href=\"https://stackoverflow.com/q/52531072/3805124\">Is there a 64 bit equivalent to GetLastInputInfo / LASTINPUTINFO?</a> for how you might be able to do it if you need to be running in 64 bit.</p>\n"}], "owner": {"reputation": 1639, "user_id": 2623411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4K5cB.jpg?s=128&g=1", "display_name": "MikeS159", "link": "https://stackoverflow.com/users/2623411/mikes159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 53088601, "answer_count": 1, "score": -1, "last_activity_date": 1541005245, "creation_date": 1541003663, "question_id": 53088177, "link": "https://stackoverflow.com/questions/53088177/user32-dll-code-works-under-x86-but-not-x64", "title": "user32.dll code works under x86 but not x64", "body": "<p>I have been using some code from <a href=\"https://github.com/cerebrate/mousejiggler\" rel=\"nofollow noreferrer\">https://github.com/cerebrate/mousejiggler</a> to keep a Windows PC from going idle. It worked find, but when I ported it to a new app it started crashing when ever it executed. Specifically at the line:</p>\n\n<pre><code>if (SendInput(1, ref inp, 28) != 1)\n    throw new Win32Exception();\n</code></pre>\n\n<p>The new app was running as a x64 application, where as the old one was x86. Building the new app for x86 fixed this issue. The full code is below. I am struggling to work out why this is the case. There is one <code>IntPtr</code> in the strut that will change from 4 bytes to 8 bytes depending on the platform, but as far as I'm aware there isn't a way to change this. I guess I could create a 32 bit int pointer and use unsafe code, but I'm not even sure this is actually the problem yet.</p>\n\n<p>Any ideas on how I can fix it for x64 platforms?</p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential)]\nstruct LASTINPUTINFO\n{\n    public static readonly int SizeOf = Marshal.SizeOf(typeof(LASTINPUTINFO));\n\n    [MarshalAs(UnmanagedType.U4)]\n    public UInt32 cbSize;\n    [MarshalAs(UnmanagedType.U4)]\n    public UInt32 dwTime;\n}\n\n[DllImport(\"user32.dll\")]\nstatic extern bool GetLastInputInfo(ref LASTINPUTINFO plii);\n\nstatic uint GetLastInputTime()\n{\n    uint idleTime = 0;\n    LASTINPUTINFO lastInputInfo = new LASTINPUTINFO();\n    lastInputInfo.cbSize = (uint)Marshal.SizeOf(lastInputInfo);\n    lastInputInfo.dwTime = 0;\n\n    uint envTicks = (uint)Environment.TickCount;\n\n    if (GetLastInputInfo(ref lastInputInfo))\n    {\n        uint lastInputTick = lastInputInfo.dwTime;\n\n        idleTime = envTicks - lastInputTick;\n    }\n\n    return ((idleTime &gt; 0) ? (idleTime / 1000) : 0);\n}\n\npublic static class Jiggler\n{\n    internal const int INPUT_MOUSE = 0;\n    internal const int MOUSEEVENTF_MOVE = 0x0001;\n\n    [DllImport(\"user32.dll\", SetLastError = true)]\n    private static extern uint SendInput(uint nInputs, ref INPUT pInputs, int cbSize);\n\n    public static void Jiggle(int dx, int dy)\n    {\n        var inp = new INPUT();\n        inp.TYPE = Jiggler.INPUT_MOUSE;\n        inp.dx = dx;\n        inp.dy = dy;\n        inp.mouseData = 0;\n        inp.dwFlags = Jiggler.MOUSEEVENTF_MOVE;\n        inp.time = 0;\n        inp.dwExtraInfo = (IntPtr)0;\n\n        if (SendInput(1, ref inp, 28) != 1)\n            throw new Win32Exception();\n    }\n}\n\n[StructLayout(LayoutKind.Sequential)]\ninternal struct INPUT\n{\n    public int TYPE;\n    public IntPtr dwExtraInfo;\n    public int dwFlags;\n    public int dx;\n    public int dy;\n    public int mouseData;\n    public int time;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "json"], "comments": [{"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541003981, "post_id": 53088150, "comment_id": 93073447, "body": "Could you please give us a bit more context? Where/how are you going to use this validation? An ASP.NET application, or...?"}, {"owner": {"reputation": 31, "user_id": 10587012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee253aae771872dde58188db59c4f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Villarroel", "link": "https://stackoverflow.com/users/10587012/luis-villarroel"}, "reply_to_user": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541007000, "post_id": 53088150, "comment_id": 93075014, "body": "ASP.NET web api 2, I have a transactionController class that has a method to make the publication, but before should going through the filter to validate the quantity parameter."}, {"owner": {"reputation": 31, "user_id": 10587012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee253aae771872dde58188db59c4f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Villarroel", "link": "https://stackoverflow.com/users/10587012/luis-villarroel"}, "reply_to_user": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541007071, "post_id": 53088150, "comment_id": 93075059, "body": "namespace SchoolPortal.API.Filters {     public class ValidateModelTransaction : ActionFilterAttribute     {                  public override void OnActionExecuting(HttpActionContext actionContext)         {              var posted = actionContext.Request.Content.ReadAsStringAsync().Result;             TransactionModel amount = JsonConvert.DeserializeObject&lt;TransactionModel&gt;(posted);           }"}, {"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541007126, "post_id": 53088150, "comment_id": 93075095, "body": "Please edit your question and add all these details"}, {"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541008097, "post_id": 53088150, "comment_id": 93075552, "body": "Added more details to my answer, please take a look."}, {"owner": {"reputation": 31, "user_id": 10587012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee253aae771872dde58188db59c4f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Villarroel", "link": "https://stackoverflow.com/users/10587012/luis-villarroel"}, "reply_to_user": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541010804, "post_id": 53088150, "comment_id": 93076843, "body": "Hi, the next code line              var json = actionContext.Request.Content.ReadAsStringAsync().Result; //is null"}, {"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541010931, "post_id": 53088150, "comment_id": 93076905, "body": "Well, find a way to read the json string of the request object - after that you just need to invoke my method :)"}, {"owner": {"reputation": 31, "user_id": 10587012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee253aae771872dde58188db59c4f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Villarroel", "link": "https://stackoverflow.com/users/10587012/luis-villarroel"}, "reply_to_user": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541011003, "post_id": 53088150, "comment_id": 93076938, "body": "could use  var values = actionContext.ActionArguments.Values;"}, {"owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "edited": false, "score": 0, "creation_date": 1541011068, "post_id": 53088150, "comment_id": 93076962, "body": "Run some tests and try to find a way to read the json. I have tested my method but not the ValidateModelTransaction attribute. I cannot do everything for you"}], "answers": [{"tags": [], "owner": {"reputation": 9692, "user_id": 558486, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/758a1b8e56090cab54a177355b391d3d?s=128&d=identicon&r=PG", "display_name": "Rui Jarimba", "link": "https://stackoverflow.com/users/558486/rui-jarimba"}, "is_accepted": false, "score": 0, "last_activity_date": 1541008080, "last_edit_date": 1541008080, "creation_date": 1541004733, "answer_id": 53088471, "question_id": 53088150, "link": "https://stackoverflow.com/questions/53088150/how-i-can-get-the-arguments-of-my-json-and-validate-before-of-make-a-post-int-we/53088471#53088471", "title": "How i can get the arguments of my Json and validate before of make a post int web api 2 .net?", "body": "<p>You can create a custom function that uses a <code>JsonTextReader</code> to read the value of the <code>amount</code> property, and takes a delegate as a parameter to validate the amount:</p>\n\n<pre><code>private static bool ValidateAmount(string json, Func&lt;int, bool&gt; validateFunc)\n{\n    using (JsonTextReader reader = new JsonTextReader(new StringReader(json)))\n    {\n        reader.CloseInput = true;\n\n        while (reader.Read())\n        {\n            if (reader.TokenType == JsonToken.PropertyName &amp;&amp; reader.Value.Equals(\"amount\"))\n            {\n                int? amount = reader.ReadAsInt32();\n\n                if (!amount.HasValue)\n                {\n                    return false;\n                }\n\n                bool isValid = validateFunc(amount.Value);\n                return isValid;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Using a delegate as a parameter (<code>Func&lt;int, bool&gt; validateFunc</code>) allows you to reuse the method in different scenarios - example:</p>\n\n<pre><code>string json = @\"{\"\"amount\"\":\"\"10\"\"}\";\n\nbool isPositiveAmount = ValidateAmount(json, x =&gt; x &gt; 0); // returns true\nbool isBetween100And200 = ValidateAmount(json, x =&gt; x &gt; 100 &amp;&amp; x &lt; 200); // returns false\n</code></pre>\n\n<h1>EDIT</h1>\n\n<p>The <code>ValidateAmount</code> method can eventually be used in an <code>ActionFilterAttribute</code>. </p>\n\n<p>Example - check if the amount is positive:</p>\n\n<pre><code>public class ValidateModelTransaction : ActionFilterAttribute\n{\n    public override void OnActionExecuting(HttpActionContext actionContext)\n    {\n        var json = actionContext.Request.Content.ReadAsStringAsync().Result;\n        bool isPositiveAmount = ValidateAmount(json, x =&gt; x &gt; 0);\n\n        if (isPositiveAmount)\n        {\n            // ....\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10587012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee253aae771872dde58188db59c4f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Villarroel", "link": "https://stackoverflow.com/users/10587012/luis-villarroel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541008080, "creation_date": 1541003569, "last_edit_date": 1541007742, "question_id": 53088150, "link": "https://stackoverflow.com/questions/53088150/how-i-can-get-the-arguments-of-my-json-and-validate-before-of-make-a-post-int-we", "title": "How i can get the arguments of my Json and validate before of make a post int web api 2 .net?", "body": "<p>For example, the next json, I want validate the amount before of make a post</p>\n\n<pre><code>{\n    \"amount\":\"10\"\n}\n</code></pre>\n\n<p>Could I create a filter class and get this argument and validate it, I have to make a cast?</p>\n\n<pre><code>public class ValidateModelTransaction : ActionFilterAttribute\n{\n    public override void OnActionExecuting(HttpActionContext actionContext)\n    {\n        var posted = actionContext.Request.Content.ReadAsStringAsync().Result;\n        TransactionModel amount = JsonConvert.DeserializeObject&lt;TransactionModel&gt;(posted);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1541003876, "post_id": 53088129, "comment_id": 93073394, "body": "<code>SecretIngredient secret = new SecretIngredient(drink);</code>"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 1, "creation_date": 1541004079, "post_id": 53088129, "comment_id": 93073499, "body": "You have two completely different <code>GetDescription</code> methods. One defined in <code>Drink</code> and one in <code>DrinkDecorator</code>. I think you should have only one in <code>Drink</code> and have it be a virtual method."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1541005427, "post_id": 53088129, "comment_id": 93074185, "body": "When you wrote this program you should have gotten a warning telling you that something confusing could happen here because &quot;GetDescriptor hides inherited member&quot;. As the warning suggests, indeed something confusing is happening with calls to GetDescriptor. <b>Pay attention to compiler warnings and understand them</b>. We designed those warnings to help you. If you had taken the time to understand why the compiler was giving you a warning, then you would have figured this question out."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541005838, "post_id": 53088129, "comment_id": 93074380, "body": "Also, you say that you are studying the decorator pattern, but this is not how you do the decorator pattern in C#. What tutorial or reference did you use to learn this incorrect implementation of the pattern? I am curious to know how people come to have incorrect beliefs about programming; it helps me write better articles and tutorials that teach correct beliefs."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541006522, "post_id": 53088129, "comment_id": 93074734, "body": "@EricLippert Apologies, but I don&#39;t believe this has to do with it hiding the base member.  He&#39;s going to get this result whether he uses the new keyword or not and the fact is that since he is hiding it he&#39;s wondering why he&#39;s still using it.  The question suggests that the GetDecriptor is using the base method <code>GetDescriptor()</code> although he has instantiated a <code>SecreIngredient</code>.  If he uses <code>Console.WriteLine(((SecretIngredient)drink).GetDescription()&zwnj;&#8203;);</code> then it works."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541006951, "post_id": 53088129, "comment_id": 93074976, "body": "@MichaelPuckettII: I disagree.  On seeing the warning mentioned by Eric, I tried replacing the triggering line (<code>public abstract string GetDescription();</code> ) with <code>public abstract override string GetDescription();</code> (the warning said to use <code>new</code> if hiding was intended, but hiding was not intended).  This of course generated an error, warning me that the inherited member was not marked <code>virtual</code>, <code>abstract</code>, or <code>override</code>.  So, I marked the base member <code>virtual</code>, as that was the only possible choice.  This eliminated all warnings and generated the output expected by OP."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1541007096, "post_id": 53088129, "comment_id": 93075074, "body": "@Brian You confused me because I copied and pasted it exactly and ran it.  I then use the &#39;new&#39; keyword and ran it.  I then added the conversion as I did in my comment and ran it.  I didn&#39;t have to make other changes.  TBH; this questions and code is a complete mess but I think I get what the OP is trying to solve.  I believe I nailed it in my answer below... Would you also take a look and let me know your thoughts?"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1541007259, "post_id": 53088129, "comment_id": 93075165, "body": "@Brian  As soon as you reference the types as they are expected things work.  This is the same issue you fall into when using multiple similar interfaces on types which I also tried to show in my answer.  Types can have many same members and it&#39;s always the referenced type of which these members are invoked.  This has nothing to do with hiding members I wouldn&#39;t think. Am I missing something?"}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1541007633, "post_id": 53088129, "comment_id": 93075333, "body": "@MichaelPucketII:  Given the output the &quot;expected output&quot; section of the OP&#39;s question, I think the OP is interested in leveraging inheritance, not method hiding.  Further, this fits well with the OP&#39;s existing code.  With <a href=\"https://stackoverflow.com/a/5709191/18192\">rare exceptions</a>, I consider <code>new</code> to indicate poor/no communication between the designers of the base and inherited class.  Lack of communication is unavoidable if the base class is developed by a different team than the derived class, but such an inheritance hierarchy should not created intentionally."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1541007757, "post_id": 53088129, "comment_id": 93075391, "body": "@Brian I agree... My point is that the <code>new</code>  keyword doesn&#39;t solve the problem either.  This isn&#39;t an issue of member hiding but of type referencing.  Any type that is referenced as another type will fall back to the referenced type for it&#39;s members and invoke them.  I have shown all this below in my answer and this is a problem with understanding type referencing (implicit vs explicit and more).  See how converting solves the issue:  <code>System.Diagnostics.Debug.WriteLine(((SecretIngredient)drink)&zwnj;&#8203;.GetDescription());</code>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541007844, "post_id": 53088129, "comment_id": 93075420, "body": "No offense taken, and the problem is exactly that hiding is used when it is not intended; the warning makes that clear. The right response to the warning is not to add <code>new</code> to make the warning go away. The right response is to <b>understand why the warning exists, think hard about it, and ensure that you are implementing the pattern correctly</b>. In this case the pattern is not implemented correctly, which is the crux of the problem."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541007921, "post_id": 53088129, "comment_id": 93075469, "body": "@EricLippert  That&#39;s my point exactly.  When you add <code>new</code> it doesn&#39;t solve the problem.  This is an issue with type referencing."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541008003, "post_id": 53088129, "comment_id": 93075504, "body": "Right, <code>new</code> does not solve the problem. But <b>the point of the decorator pattern is that you must be able to use the decoration object as though it was an instance of the underlying object</b>. You <i>must</i> be able to cast to <code>Drink</code> and have it work as expected. If the implementation does not have that property then it is not an example of the decorator pattern!"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1541008219, "post_id": 53088129, "comment_id": 93075615, "body": "@EricLippert  Right!  I think we are saying the same thing.  The reason the pattern isn&#39;t working is because one, it&#39;s not implemented correctly to start with but 2 because it&#39;s not referencing properly; which is what the pattern overcomes.  However; I didn&#39;t feel that hiding was the issue."}], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 8005367, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101391308823060/picture?type=large", "display_name": "Ryan Pierce Williams", "link": "https://stackoverflow.com/users/8005367/ryan-pierce-williams"}, "edited": false, "score": 1, "creation_date": 1541062974, "post_id": 53088536, "comment_id": 93091947, "body": "I haven&#39;t used the Decorator Pattern myself yet, but liked your example. I&#39;ll have to start looking for places to use it at work :)"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 534, "user_id": 8005367, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101391308823060/picture?type=large", "display_name": "Ryan Pierce Williams", "link": "https://stackoverflow.com/users/8005367/ryan-pierce-williams"}, "edited": false, "score": 0, "creation_date": 1541070068, "post_id": 53088536, "comment_id": 93095374, "body": "@RyanPierceWilliams Thanks :)"}], "tags": [], "owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "is_accepted": false, "score": 1, "last_activity_date": 1541020384, "last_edit_date": 1541020384, "creation_date": 1541005000, "answer_id": 53088536, "question_id": 53088129, "link": "https://stackoverflow.com/questions/53088129/decorator-pattern-in-object-oriented-programming/53088536#53088536", "title": "Decorator Pattern in object-oriented programming", "body": "<p>This is because you have <code>Drink</code> declared as a <code>Drink</code> type.  </p>\n\n<p>Before you read my explanation; if you do this to your code it will work and I try to explain why below:</p>\n\n<pre><code>System.Diagnostics.Debug.WriteLine(((SecretIngredient)drink).GetDescription());\n</code></pre>\n\n<p>When you assign a <code>Type</code> to the reference then this <code>Type</code> is the fallback for metadata.  In other words, whatever fields, methods, properties, the <code>Type</code> has (or has inherited) is what is used; nothing above.</p>\n\n<p>Here we have a simple <code>Person</code> that is also the base of an <code>Employee</code>.  Look at the output and follow the type declarations.</p>\n\n<pre><code>using System;\nnamespace Question_Answer_Console_App\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Person person = new Person() { Name = \"Mathew\" };\n            Person employeePerson = new Employee() { Name = \"Mark\" };\n            Person castedEmployee = new Employee() { Name = \"Luke\" };\n            Employee employee = new Employee() { Name = \"John\" };\n            //Compile error -&gt; Employee personEmployee = new Person() { Name = \"Acts\" };    \n\n            Console.WriteLine(person.Name);\n            Console.WriteLine(employeePerson.Name); //Referenced Employee but got Person\n            Console.WriteLine(((Employee)castedEmployee).Name); //Notice we cast here\n            Console.WriteLine(employee.Name);\n\n            Console.ReadKey();\n        }\n    }\n\n    public class Person\n    {\n        public string Name { get; set; } = \"No Name\";\n    }\n\n    public class Employee : Person\n    {\n        new public string Name { get; set; }\n        public string Address { get; set; }\n    }\n    //Output\n    //Mathew\n    //No Name\n    //Luke\n    //John\n}\n</code></pre>\n\n<hr>\n\n<p>Ok, so if you were able to follow that and make sense of how <code>Type</code> metadata is used then now you need to look at this with <code>interface</code>.  It's the same thing but we can have an awkward twist.</p>\n\n<p>With in <code>interface</code> it is possible for two interfaces to have the same properties or methods or even property and method names but different logic.  When a <code>Type</code> uses more than one <code>interface</code> and they share any of these but the logic required is different we then need to explicitly declare that interface members.  However; when we do this then we ONLY get to use those members when the <code>Type</code> is references as such.  Look at this similar example:</p>\n\n<p>First notice that now 'Luke' (previously this was Mark but same logic) prints... Why is that when we are referencing a <code>Person</code> but it's instantiated as <code>Employee</code>.  Before this didn't work.\nAlso notice there's a hole in the output although the member was defined; however in this case our reference is to <code>IEmployee</code> when that happens.  Play with all of this code for a while until it sinks in because it can be a big problem later.  </p>\n\n<pre><code>using System;\nnamespace Question_Answer_Console_App\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            IPerson iPerson = new Person() { Name = \"Mathew\" };\n            Person person = new Person() { Name = \"Mark\" };\n            Person employeePerson = new Employee() { Name = \"Luke\" }; //pay attention to this!!\n            IPerson iEmployeePerson = new Employee() { Name = \"John\" };\n            IEmployee iEmployee = new Employee() { Name = \"Acts\" }; //And pay attention to this!!            \n            Employee employee = new Employee() { Name = \"Romans\" };\n\n            Console.WriteLine(iPerson.Name);\n            Console.WriteLine(person.Name);\n            Console.WriteLine(employeePerson.Name);\n            Console.WriteLine(iEmployeePerson.Name);\n            Console.WriteLine(iEmployee.Name);\n            iEmployee.Name = \"Corinthians\"; //And pay attention to this!!\n            Console.WriteLine(iEmployee.Name);\n            Console.WriteLine(employee.Name);\n\n            Console.ReadKey();\n        }\n    }\n\n    public interface IPerson\n    {\n        string Name { get; set; }\n    }\n\n    public interface IEmployee\n    {\n        string Name { get; set; }\n    }\n\n    public class Person : IPerson\n    {\n        public string Name { get; set; } = \"No Name\";\n    }\n\n    public class Employee : Person, IEmployee\n    {\n        public string Address { get; set; }\n        string IEmployee.Name { get; set; } //And pay attention to this!! (Explicit interface declaration)\n    }\n    //Output\n    //Mathew\n    //Mark\n    //Luke\n    //John\n\n    //Corinthians\n    //Romans\n}\n</code></pre>\n\n<hr>\n\n<p>Now; if you understand that so far then let's look at ways to get around it.  Take the first example:  If you add <code>virtual</code> to Name property of <code>Person</code> and then use <code>override</code> in the Name property of <code>Employee</code> you'll see that the types now work as expected.  This is because we are not referencing two different methods.  We are marking one with the ability to be re-referenced (virtual) and another to reference it (override).  This changes the behavior greatly.  </p>\n\n<p>So all that said and understood then let's make a proper decorator.</p>\n\n<p>First; we need to have a type:</p>\n\n<pre><code>public class Person\n{\n    public virtual string Name { get; set; } = \"John Doe\";\n}\n</code></pre>\n\n<p>Now we need types that have extended functionality... (this will need to be altered later)</p>\n\n<pre><code>public class Employee : Person\n{\n    public override string Name =&gt; $\"Employee, {base.Name}\";\n    public string Job { get; set; }\n}\n\npublic class Customer : Person\n{\n    public override string Name =&gt; $\"Customer, {base.Name}\";\n    public bool IsShopping { get; set; }\n}\n</code></pre>\n\n<p>Now it is possible for an employee to also be a customer.  Based on our current design we have a problem... We should have added interfaces but then what about computation?  In this example there isn't any, except for Name, which isn't real world but it does it's job.  So in order to allow <code>Person</code> to be dynamically updated we should add a <code>PersonDecorator</code>.  When we add this decorator we need to inherit from it and use other types to instantiate.</p>\n\n<p>Here's our decorator:</p>\n\n<pre><code>public abstract class PersonDecorator : Person\n{\n    protected Person Person { get; }\n    public PersonDecorator(Person person) =&gt; Person = person;\n    public override string Name =&gt; Person.Name;\n}\n</code></pre>\n\n<p>Now we can extend <code>Person</code> dynamically where we couldn't before. Upgrading <code>Employee</code> and <code>Customer</code> shows how to do this:</p>\n\n<pre><code>public class Employee : PersonDecorator\n{\n    public Employee(Person person = null) : base(person ?? new Person()) { }\n    public override string Name =&gt; $\"Employee, {base.Name}\";\n    public string Job { get; set; }\n}\n\npublic class Customer : PersonDecorator\n{\n    public Customer(Person person) : base(person ?? new Person()) { }\n    public override string Name =&gt; $\"Customer, {base.Name}\";\n    public bool IsShopping { get; set; }\n}\n</code></pre>\n\n<p>Now we have upgraded our types to utilize a decorator (and notice it has fallback to types that may not). Let's use it in a small example:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Person person = new Person() { Name = \"Mathew\" };\n    Console.WriteLine(person.Name);\n\n    person = new Employee(person) { Job = \"Stocker\" };\n    Console.WriteLine(person.Name);\n\n    person = new Customer(person) { IsShopping = true };\n    Console.WriteLine(person.Name); \n\n    Console.ReadKey();\n}\n//OUTPUTS\n//Mathew\n//Employee, Mathew\n//Customer, Employee, Mathew\n</code></pre>\n\n<p>Notice how we have now dynamically extended <code>Person</code>.  </p>\n\n<p>We could also make person dynamic like so:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Person person = new Customer(new Employee(new Person(){ Name = \"Mathew\" }){ Job = \"Stocker\" }){ IsShopping = true };\n    Console.WriteLine(person.Name);\n    Console.ReadKey();\n}\n//OUTPUTS\n//Customer, Employee, Mathew\n</code></pre>\n\n<p>Look how it works without the base implemented first; it remains dynamic and true to itself.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    //Person person = new Person() { Name = \"Mathew\" };\n    //Console.WriteLine(person.Name);\n\n    Person person = new Employee() { Job = \"Stocker\" };\n    Console.WriteLine(person.Name);\n\n    person = new Customer(person) { IsShopping = true }\n    Console.WriteLine(person.Name); \n\n    Console.ReadKey();\n}\n//OUTPUTS\n//Employee, John Doe\n//Customer, Employee, John Doe\n</code></pre>\n\n<hr>\n\n<p>Here's the entire code for reference <strong>Decorator Pattern</strong></p>\n\n<pre><code>using System;\nnamespace Question_Answer_Console_App\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Person person = new Person() { Name = \"Mathew\" };\n            Console.WriteLine(person.Name);\n\n            person = new Employee(person) { Job = \"Stocker\" };\n            Console.WriteLine(person.Name);\n\n            person = new Customer(person) { IsShopping = true };            \n            Console.WriteLine(person.Name);\n\n            Console.ReadKey();\n        }\n        //OUTPUTS\n        //Mathew\n        //Employee, Mathew\n        //Customer, Employee, Mathew\n    }\n\n    public class Person\n    {\n        public virtual string Name { get; set; } = \"John Doe\";\n    }\n\n    public abstract class PersonDecorator : Person\n    {\n        protected Person Person { get; }\n        public PersonDecorator(Person person) =&gt; Person = person;\n        public override string Name =&gt; Person.Name;\n    }\n\n    public class Employee : PersonDecorator\n    {\n        public Employee(Person person = null) : base(person ?? new Person()) { }\n        public override string Name =&gt; $\"Employee, {base.Name}\";\n        public string Job { get; set; }\n    }\n\n    public class Customer : PersonDecorator\n    {\n        public Customer(Person person) : base(person ?? new Person()) { }\n        public override string Name =&gt; $\"Customer, {base.Name}\";\n        public bool IsShopping { get; set; }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Here's your code updated to the decorator pattern.  Notice how you can dynamically update <code>Drink</code> which was an <code>Expresso</code> by adding it to decorators.</p>\n\n<pre><code>using System;\nnamespace Question_Answer_Console_App\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Drink drink = new Espresso() { Description = \"Expresso\" };\n            Console.WriteLine(drink.Description);\n\n            drink = new SecretIngredient(drink);\n            Console.WriteLine(drink.Description);\n\n            drink = new Ice(drink);\n            Console.WriteLine(drink.Description);\n\n            Console.ReadKey();\n        }\n        //OUTPUTS\n        //Expresso\n        //Expresso with SecretIngredient\n        //Expresso with SecretIngredient with Ice\n    }\n\n    public class Drink\n    {\n        public virtual string Description { get; set; }\n    }\n\n    public class Espresso : Drink { }\n\n    public abstract class DrinkDecorator : Drink\n    {\n        protected Drink drink;\n        protected DrinkDecorator(Drink drink) =&gt; this.drink = drink;\n        public override string Description =&gt; drink.Description;\n    }\n\n    public class SecretIngredient : DrinkDecorator\n    {\n        public SecretIngredient(Drink drink) : base(drink) { }\n        public override string Description =&gt; $\"{drink.Description} with {nameof(SecretIngredient)} \";\n    }\n\n    public class Ice : DrinkDecorator\n    {\n        public Ice(Drink drink) : base(drink) { }\n        public override string Description =&gt; $\"{drink.Description} with {nameof(Ice)} \";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014395, "post_id": 53089468, "comment_id": 93078389, "body": "Apologies man but you&#39;ve implemented it wrong in your example.  In your example there&#39;s no need for a decorator.  I believe this was an accident... The <code>DrinkDecorator</code> should have the concrete <code>Drink</code> type and ideally it should be protected.  The inheritors of <code>DrinkDecorator</code> shouldn&#39;t have a hold on the drink type themselves; only pass it to the base (<code>DrinkDecorator</code>).  This works but only if we do this for every type; in which case, we don&#39;t need a decorator anymore."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014660, "post_id": 53089468, "comment_id": 93078512, "body": "The decorator also shouldn&#39;t be abstract; it simply needs to override the <code>drink</code> it instantiated. I&#39;ll paste the code in the comment and you can take a look; like I said I think this was accidental."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014697, "post_id": 53089468, "comment_id": 93078534, "body": "@MichaelPuckettII: Sure, the logic can reasonably go in the decorator base class. The point of the exercise is that <i>there is only one description slot</i>, and not two as in the original code."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014733, "post_id": 53089468, "comment_id": 93078554, "body": "public abstract class DrinkDecorator : Drink {     protected Drink drink;     protected DrinkDecorator(Drink drink) =&gt; this.drink = drink;     public override string Description =&gt; drink.Description; }  public class SecretIngredient : DrinkDecorator {     public SecretIngredient(Drink drink) : base(drink) { }     public override string Description =&gt;       $&quot;{drink.Description}, {nameof(SecretIngredient)} &quot;; }"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014737, "post_id": 53089468, "comment_id": 93078557, "body": "public class AnotherSecretIngredient : DrinkDecorator {     public AnotherSecretIngredient(Drink drink) : base(drink) { }     public override string Description =&gt;       $&quot;{drink.Description}, {nameof(AnotherSecretIngredient)} &quot;; }"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541014800, "post_id": 53089468, "comment_id": 93078593, "body": "Well, I wasn&#39;t trying to blow you up just thought you missed it on accident and figured you&#39;d want to correct it.  I think that&#39;s why you lost the votes on your answer."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541015120, "post_id": 53089468, "comment_id": 93078755, "body": "Your proposed implementation adds complexity without any demonstration of how that complexity provides a benefit. Again, the point of the exercise is not to debate the fine details of the decorator type hierarchy; there are lots of correct ways to implement that. The point is that (1) the relevant members must be virtual in the decorated class so that they can be overridden in the decorator, and (2) pay attention to compiler warnings that tell you that your code is wrong, because those warnings are right. I long ago stopped caring about downvotes, but I appreciate your concern."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541015506, "post_id": 53089468, "comment_id": 93078952, "body": "Apologies again man but you did state <code>A correct implementation of the decorator pattern would be as follows</code> and in your implementation; you can remove the decorator and just reference the base Drink and it still works.  The purpose of a decorator is to extend a type dynamically not force a type to implement extension.  If you inherit from the decorator then you can extend but if you avoid the decorator then you should be concrete in those regards.  You&#39;re right; it&#39;s not a debate but I still feel this is misleading."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541015538, "post_id": 53089468, "comment_id": 93078967, "body": "Also, in my code in the comments.. This removes complexity, it doesn&#39;t add it.  Why would you say that?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541015945, "post_id": 53089468, "comment_id": 93079152, "body": "@MichaelPuckettII: Because in both our example implementations, the decorator base class adds zero value; it has no useful implementation to share, and it is never used polymorphically, so it has no value. Both of them are useless, but at least mine is short! <i>What is the compelling benefit of having a base class for all decorators?</i> Regardless though, the point of this exercise is not to consider the many possible ways that a decorator class hierarchy could be implemented, but rather to note that the virtual methods must be overridden correctly."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1541016156, "post_id": 53089468, "comment_id": 93079243, "body": "Ha, I was going to comment on that too.  It should be an interface in our example but there is potential for base logic that isn&#39;t part of our descriptor.  And if we use an interface then we are doing more in virtualization the type and the code changes even more.  The point is; if you&#39;re going to make a decorator, then make a decorator lol.  But if you&#39;re happy with that being your example then by all means let it stick."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 2, "last_activity_date": 1541008784, "creation_date": 1541008784, "answer_id": 53089468, "question_id": 53088129, "link": "https://stackoverflow.com/questions/53088129/decorator-pattern-in-object-oriented-programming/53089468#53089468", "title": "Decorator Pattern in object-oriented programming", "body": "<p>The fundamental problem is that <strong>you have not implemented the decorator pattern correctly</strong>.  A correct implementation of the decorator pattern would be as follows (and we'll fix a bunch more stuff while we're at it.)</p>\n\n<pre><code>public abstract class Drink\n{\n  // Fields should be private or protected, but the \n  // description field that was here is useless, and\n  // even if it were here, it should be a constant, \n  // not a variable\n  // Eliminate it.\n  // public string description = \"Generic drink\";\n\n  // Things that are logically properties should be\n  // properties, not GetBlah methods.\n\n  // In new versions of C# you can use compact syntax \n  // for properties.\n\n  // In the decorator pattern the behaviour mutated by the\n  // decorator should be virtual.\n\n  public virtual string Description =&gt; \"generic drink\";\n}\n\npublic abstract class DrinkDecorator : Drink\n{\n  // The decorator must override the underlying implementation.\n  public abstract override string Description { get; }\n}\n\npublic class SecretIngredient : DrinkDecorator\n{\n    Drink drink;\n    public SecretIngredient (Drink drink)\n    {\n        this.drink = drink;\n    }\n\n    // Use interpolation.\n    public override string Description =&gt;\n      $\"{this.drink.Description}, SecretIngredient \";\n}\n\npublic class Espresso : Drink\n{\n    public Espresso()\n    {\n       // This is just wrong. We have a mechanism for overriding\n       // behaviour so **use it**.\n       //   description = \"Espresso\";\n    }\n    public override string Description =&gt; \"Espresso\";\n}\n\n\n[TestFixture]\nclass TestClass\n{\n    [Test]\n    public void TestMethod()\n    {\n        Drink drink = new Espresso();\n        System.Diagnostics.Debug.WriteLine(drink.Description);\n        drink = new SecretIngredient (drink);\n        System.Diagnostics.Debug.WriteLine(drink.Description);\n    }\n}\n</code></pre>\n\n<p>And now the correct implementation has the expected output.</p>\n\n<p>The reason your wrong implementation got the wrong output was because it was wrong.  You had <strong>two entirely separate</strong> implementations of <code>GetDescription</code> that had nothing to do with each other, one implemented by <code>Drink</code> and the other by the decorator, so which one got called depended on the compile-time type of the receiver, which was <code>Drink</code>.</p>\n\n<p>You should have gotten a warning saying that you had a possibly unintentional hiding of an old method by a new method. <strong>Pay attention to those warnings</strong>. If you get a warning saying \"this method is probably wrong\" and then you get a wrong result when you call that method, <strong>the warning was right</strong>. </p>\n"}], "owner": {"reputation": 93, "user_id": 2916644, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4cf7651abccab28a62285d18d503d6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Luca F.", "link": "https://stackoverflow.com/users/2916644/luca-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541020384, "creation_date": 1541003507, "last_edit_date": 1592644375, "question_id": 53088129, "link": "https://stackoverflow.com/questions/53088129/decorator-pattern-in-object-oriented-programming", "title": "Decorator Pattern in object-oriented programming", "body": "<p>I was studying the &quot;Decorator pattern&quot;. Doing some tests with C# I do not understand why I do not get the expected result. This is the code:</p>\n<pre><code>public abstract class Drink\n{\n    public string description = &quot;Generic drink&quot;;\n\n    public string GetDescription()\n    {\n        return description;\n    }\n}\n\npublic abstract class DrinkDecorator : Drink\n{\n    public abstract string GetDescription();\n}\n\n\npublic class SecretIngredient : DrinkDecorator\n{\n    Drink drink;\n\n    public SecretIngredient (Drink drink)\n    {\n        this.drink = drink;\n    }\n\n    public override string GetDescription()\n    {\n        return this.drink.GetDescription() + &quot;, SecretIngredient &quot;;\n    }\n}\n\npublic class Espresso : Drink\n{\n    public Espresso()\n    {\n        description = &quot;Espresso&quot;;\n    }\n}\n\n\n[TestFixture]\nclass TestClass\n{\n    [Test]\n    public void TestMethod()\n    {\n        Drink drink = new Espresso();\n        System.Diagnostics.Debug.WriteLine(drink.GetDescription());\n\n        drink = new SecretIngredient (drink);\n        System.Diagnostics.Debug.WriteLine(drink.GetDescription());\n    }\n}\n</code></pre>\n<p>Performing the test I get:</p>\n<blockquote>\n<p>Espresso</p>\n<p>Generic drink</p>\n</blockquote>\n<p>While I would have expected:</p>\n<blockquote>\n<p>Espresso</p>\n<p>Espresso, SecretIngredient</p>\n</blockquote>\n<p>Why? Thanks in advance.</p>\n"}, {"tags": ["c#", ".net", "events", "garbage-collection"], "comments": [{"owner": {"reputation": 2267, "user_id": 726986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/721a6cdbac66106ee86ce91bfeea3f4e?s=128&d=identicon&r=PG", "display_name": "tigerswithguitars", "link": "https://stackoverflow.com/users/726986/tigerswithguitars"}, "edited": false, "score": 0, "creation_date": 1541002857, "post_id": 53087885, "comment_id": 93072819, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4526829/why-and-how-to-avoid-event-handler-memory-leaks\" title=\"why and how to avoid event handler memory leaks\">stackoverflow.com/questions/4526829/&hellip;</a>"}, {"owner": {"reputation": 32, "user_id": 8817806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xhvOpAhLYvI/AAAAAAAAAAI/AAAAAAAAABs/eQYq9DeNsVM/photo.jpg?sz=128", "display_name": "Josef Lintz", "link": "https://stackoverflow.com/users/8817806/josef-lintz"}, "reply_to_user": {"reputation": 2267, "user_id": 726986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/721a6cdbac66106ee86ce91bfeea3f4e?s=128&d=identicon&r=PG", "display_name": "tigerswithguitars", "link": "https://stackoverflow.com/users/726986/tigerswithguitars"}, "edited": false, "score": 0, "creation_date": 1541002955, "post_id": 53087885, "comment_id": 93072881, "body": "Might be yes. but if you read the code you would have seen that I&#39;ve attempted that and it didn&#39;t work"}], "owner": {"reputation": 32, "user_id": 8817806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xhvOpAhLYvI/AAAAAAAAAAI/AAAAAAAAABs/eQYq9DeNsVM/photo.jpg?sz=128", "display_name": "Josef Lintz", "link": "https://stackoverflow.com/users/8817806/josef-lintz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541002713, "creation_date": 1541002713, "question_id": 53087885, "link": "https://stackoverflow.com/questions/53087885/subscribing-to-event-prevents-objects-in-list-to-be-garbage-collected", "title": "Subscribing to event prevents objects in List to be garbage collected", "body": "<p>So I am basically questioning everything I've learned so far about garbage collecting in C#.</p>\n\n<p>I have a class called <code>User</code>, <code>User</code> has 2 properties a <code>(system.Timers)Timer</code> and a name property everytime a <code>User</code> is created I bind an event, the event consists of every 0.5 seconds notify log that and event has occurred.</p>\n\n<p>The problem is every time I bind an event to a <code>User</code> it appears that the garbage collector just doesn't seem to dispose of the class even if I remove it from the list.</p>\n\n<p><code>User</code> <strong>class</strong></p>\n\n<pre><code>public class User\n{\n    /// &lt;summary&gt;\n    /// A specific name that I give to created users so I know which one was created/destroyed\n    /// &lt;/summary&gt;\n    public string Name { get; set; }\n\n    /// &lt;summary&gt;\n    /// A timer that fires an event every so often\n    /// &lt;/summary&gt;\n    public Timer _timer;\n\n\n    public User(string name)\n    {\n\n        Name = name;\n\n        // Initializing the Timer\n        // Here is where it get interesting when I initialize the Timer class this user class just doesn't get disposed\n        // even if I set \"Enabled\" to false\n        _timer = new Timer()\n        {\n            AutoReset = true,\n            Enabled = true,\n            Interval = TimeSpan.FromSeconds(0.5).TotalMilliseconds,\n        };\n\n\n        // Notifying console that user has been created\n        IoC.Log().WriteLine($\"\\n{Name} was created\\n\");\n\n\n        // Bind the event\n        // I've attempted to bind the event as lambada function and as a \n        // \"normal\" function both seem to be causing the \"error\"\n        //_timer.Elapsed += (sender, e) =&gt; IoC.Log().WriteLine($\"{Name} elapsed\");\n    }\n\n    /*\n    private void _timer_Elapsed(object sender, ElapsedEventArgs e)\n    {\n        // Notify that an event has been called\n        IoC.Log().WriteLine($\"{Name} elapsed\");\n    }*/\n\n\n\n    ~User()\n    {\n        // Notify that user has been destroyed/disposed\n        IoC.Log().WriteLine($\"\\n{Name} destroyed &lt;---------- \\n\");\n    }\n}\n</code></pre>\n\n<p><code>UserList</code> Class</p>\n\n<pre><code>public class UserList\n    {\n\n        private ObservableCollection&lt;User&gt; _user = new ObservableCollection&lt;User&gt;();\n\n        /// &lt;summary&gt;\n        /// Stores a list of users \n        /// &lt;/summary&gt;\n        public ObservableCollection&lt;User&gt; Users\n        {\n            get =&gt; _user;\n            set =&gt; _user = value;\n        }\n\n        public UserList()\n        {\n            Users.CollectionChanged += Users_CollectionChanged;\n        }\n\n\n        private void Users_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n        {\n            // When a user is added to the list\n            if (e.Action == NotifyCollectionChangedAction.Add)\n            {\n                // Get the new user\n                User addedUser = Users[e.NewStartingIndex];\n\n                // Bind an Elapsed event to the user's timer\n                addedUser._timer.Elapsed += (_sender, _e) =&gt; IoC.Log().WriteLine($\"{addedUser.Name} elapsed\"); \n            };\n        }\n    }\n</code></pre>\n\n<p>Calling class</p>\n\n<p>protected override async void OnStartup(StartupEventArgs e)\n{\n    // Setup DI (Using ninject with a constant binding to UserList class just as a test)\n    IoC.Setup();</p>\n\n<pre><code>// Initialize a window\nMainWindow = new MainWindow();\nMainWindow.Show();\n\n\n// Create a scoped user\n// Should be destoryed as soon as we get out of scope\n// Does actaully get disposed (because I am not binding an event ?)\n{\n    User user = new User(\"user\");\n};\n\n\n// Adding user as a new instance \nIoC.Get&lt;UserList&gt;().Users.Add(new User(\"New User1\"));\nIoC.Get&lt;UserList&gt;().Users.Add(new User(\"New user2\"));\n\n\n// Creating user as a reference\nUser user1 = new User(\"user1\");\nUser user2 = new User(\"user2\");\n\n\n// Adding the \"reference\" userlist\nIoC.Get&lt;UserList&gt;().Users.Add(user1);\nIoC.Get&lt;UserList&gt;().Users.Add(user2);\n\n\n\n// Notify that we are deleting users\nIoC.Log().WriteLine(\"\\nWaiting 5 seconds\\n\");\n\nawait Task.Delay(3000);\n\nIoC.Log().WriteLine(\"\\nDeleting users..\\n\");\n\n\n// Removing created users\nIoC.Get&lt;UserList&gt;().Users.RemoveAt(3);\nIoC.Get&lt;UserList&gt;().Users.RemoveAt(2);\nIoC.Get&lt;UserList&gt;().Users.RemoveAt(1);\nIoC.Get&lt;UserList&gt;().Users.RemoveAt(0);\n\n\n// NOtify that we finished \nIoC.Log().WriteLine(\"\\nFinised deleting\\n\");\n\n//  And after a while the Garbage collector should dispose of the references\n\nreturn;\n</code></pre>\n\n<p>Here is what I've attempted so far:</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/251412/will-having-an-event-with-subscribers-prevent-an-object-from-being-gced\">Solution 1</a></li>\n<li><a href=\"https://stackoverflow.com/questions/298261/do-event-handlers-stop-garbage-collection-from-occurring\">Solution 2</a></li>\n</ul>\n\n<p>Creating an event inside the calling class that will be the same as the <code>ElapsedEvent</code> and binding the event when I am creating a <code>User</code> object \nand when I am about to dispose of a <code>User</code> object I unbind the event</p>\n\n<p>Calling class</p>\n\n<pre><code>// Not binding any event to the user's that will be added to the list\n// This works fine they are disposed like intended\n\n//But this scoped user appears to not be disposed \nUser user;\n{\n     user = new User(\"user\");\n     user._timer.Elapsed += _timer_Elapsed;\n };\n\n // Logic that takes a while\n // So we can see the event in action\n await Task.Delay(3000)\n\n\n // Unbind event.\n // But 'user' is still not being disposed even after existing scope\n user._timer.Elapsed -= _timer_Elapsed;\n</code></pre>\n\n<p>Trying to bind the event inside the UserList class. This didn't work because when I called the 'CollectionChanged' I didn't have access to the removed user And there was no way to unbind the event</p>\n\n<p><code>UserList</code> class</p>\n\n<pre><code>    private void Users_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n{\n     // When a user is added to the list\n     if (e.Action == NotifyCollectionChangedAction.Add)\n     {\n          // Get the new user\n          User addedUser = Users[e.NewStartingIndex];\n\n          / Bind an Elapsed event to the user's timer\n          // This works because I have access to the newly created/added user \n          //addedUser._timer.Elapsed += (_sender, _e) =&gt; IoC.Log().WriteLine($\"{addedUser.Name} elapsed\"); \n                };\n      }\n      // If a user is removed from the list\n      else\n      {\n           // After all user's have been removed this throws an OutOfRangeException, Furthermore I never have acces to the CURRENT user that was removed\n           User addedUser = Users[e.OldStartingIndex];\n      };\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 9797997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f085621fe9a557bec684e3f16cda65ec?s=128&d=identicon&r=PG&f=1", "display_name": "raxabizze", "link": "https://stackoverflow.com/users/9797997/raxabizze"}, "edited": false, "score": 0, "creation_date": 1541008760, "post_id": 53088807, "comment_id": 93075896, "body": "And I change 1. to <code>print(GetComponent&lt;Tilemap&gt;().GetInstantiatedObject(pos).nam&zwnj;&#8203;e)</code>?"}, {"owner": {"reputation": 152, "user_id": 9797997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f085621fe9a557bec684e3f16cda65ec?s=128&d=identicon&r=PG&f=1", "display_name": "raxabizze", "link": "https://stackoverflow.com/users/9797997/raxabizze"}, "edited": false, "score": 0, "creation_date": 1541008824, "post_id": 53088807, "comment_id": 93075926, "body": "but I get an error  <code>Object reference not set to an instance of an object</code>? Do you have any idea what causes this error?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 152, "user_id": 9797997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f085621fe9a557bec684e3f16cda65ec?s=128&d=identicon&r=PG&f=1", "display_name": "raxabizze", "link": "https://stackoverflow.com/users/9797997/raxabizze"}, "edited": false, "score": 0, "creation_date": 1541009161, "post_id": 53088807, "comment_id": 93076092, "body": "@raxabizze What line does that happen on? It means that something on the left of a <code>.</code> is <code>null</code> Also just as a piece of advice you should be avoiding calling <code>GetComponent</code> in <code>Update</code> methods or in methods that are used in <code>Update</code> whenever possible."}, {"owner": {"reputation": 152, "user_id": 9797997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f085621fe9a557bec684e3f16cda65ec?s=128&d=identicon&r=PG&f=1", "display_name": "raxabizze", "link": "https://stackoverflow.com/users/9797997/raxabizze"}, "edited": false, "score": 0, "creation_date": 1541010822, "post_id": 53088807, "comment_id": 93076854, "body": "Thanks, really helpful."}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 1, "last_activity_date": 1541006025, "creation_date": 1541006025, "answer_id": 53088807, "question_id": 53087876, "link": "https://stackoverflow.com/questions/53087876/how-can-i-get-the-tile-gameobject-by-position/53088807#53088807", "title": "How can I get the tile gameObject by position?", "body": " \n\n<blockquote>\n  <ol>\n  <li>After I get a grid's position, how can I get the tile gameObject?</li>\n  </ol>\n</blockquote>\n\n<p>Use <code>Tilemap.GetInstantiatedObject</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Tilemap tilemap; // Given\nVector3Int pos;  // Given\nGameObject gameObjectAtPosition = tilemap.GetInstantiatedObject(pos);\n</code></pre>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>When I set player.transform.position to the grid's position, it look like PNG-A, but what I want is like PNG-B, at the center of the tile's x position. </li>\n  </ol>\n</blockquote>\n\n<p>Add half of the tile's width (<code>0.5 * GridLayout.cellSize.x</code>) to the x of the position you are getting right now. You can use <code>Vector3.Scale</code> to do this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>GameObject person;    // Given\nVector3 tilePosition; // Given\nperson.transform.position = tilePosition + Vector3.Scale(new Vector3(0.5f,0f,0f), GridLayout.cellSize) ;\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 9797997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f085621fe9a557bec684e3f16cda65ec?s=128&d=identicon&r=PG&f=1", "display_name": "raxabizze", "link": "https://stackoverflow.com/users/9797997/raxabizze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 53088807, "answer_count": 1, "score": 2, "last_activity_date": 1541014156, "creation_date": 1541002693, "last_edit_date": 1541014156, "question_id": 53087876, "link": "https://stackoverflow.com/questions/53087876/how-can-i-get-the-tile-gameobject-by-position", "title": "How can I get the tile gameObject by position?", "body": "<p>I'm new to Unity and found <a href=\"https://stackoverflow.com/questions/48277320/how-can-i-get-the-x-y-coordinate-location-of-a-tile-in-the-tilemap\">this</a>, so I can get the grid's position from mouse click.</p>\n\n<p>I want to destroy a tile and move player to the grid's position by mouse click.</p>\n\n<p>I have 2 problems which I don't know how to solve.</p>\n\n<ol>\n<li>After I get a grid's position, how can I get the tile gameObject?</li>\n<li>When I set player.transform.position to the grid's position,\nit look like <a href=\"https://i.stack.imgur.com/jAU1Q.png\" rel=\"nofollow noreferrer\">PNG-A</a>, but what I want is like <a href=\"https://i.stack.imgur.com/DonaX.png\" rel=\"nofollow noreferrer\">PNG-B</a>, \nat the center of the tile's x position.</li>\n</ol>\n\n<p>If you don't understand, I'm sorry for that, I'm not good in english.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1541002387, "post_id": 53087737, "comment_id": 93072522, "body": "Not even sure how that is working, there is no collection named <code>owner</code> shown in your code."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1541002407, "post_id": 53087737, "comment_id": 93072535, "body": "Where is <code>owner</code> defined? What are you going to do with the data once you get it?"}, {"owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "edited": false, "score": 1, "creation_date": 1541002414, "post_id": 53087737, "comment_id": 93072542, "body": "Hello and welcome to SO. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1, "user_id": 9439342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98ade71a321bcafb115a5e3383647d?s=128&d=identicon&r=PG&f=1", "display_name": "r.doe", "link": "https://stackoverflow.com/users/9439342/r-doe"}, "edited": false, "score": 0, "creation_date": 1541002601, "post_id": 53087737, "comment_id": 93072662, "body": "sorry i added in query for owner, still stuck on how to get the data without the need for foreach, thanks."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541002827, "post_id": 53087737, "comment_id": 93072799, "body": "there is still no <code>owner</code> in your code. I am going to <a href=\"https://stackoverflow.com/posts/53087737/edit\">edit</a> it for you because I believe I know what you are trying to convey."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1541002915, "post_id": 53087737, "comment_id": 93072855, "body": "So you are printing out the results of your query. Something you do not want to do? What exactly are you trying to achieve?"}, {"owner": {"reputation": 1, "user_id": 9439342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98ade71a321bcafb115a5e3383647d?s=128&d=identicon&r=PG&f=1", "display_name": "r.doe", "link": "https://stackoverflow.com/users/9439342/r-doe"}, "edited": false, "score": 0, "creation_date": 1541003118, "post_id": 53087737, "comment_id": 93072970, "body": "i am trying to retrieve data from each of the tables and print them to console, only way i know how to access the data is through the foreach. for example numbers column could have 1,2,2,3,4, i want to access the data and display them"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1541005480, "post_id": 53087737, "comment_id": 93074213, "body": "What&#39;s wrong with foreach/looping?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1541013792, "post_id": 53087737, "comment_id": 93078077, "body": "What is wrong with <code>foreach</code>? It is the proper language construct for executing statements against every element in a collection."}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 456716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2388e584236767f8687452730d0be594?s=128&d=identicon&r=PG", "display_name": "elecstrat", "link": "https://stackoverflow.com/users/456716/elecstrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1541003082, "creation_date": 1541003082, "answer_id": 53087992, "question_id": 53087737, "link": "https://stackoverflow.com/questions/53087737/how-to-retrieve-data-from-query-instead-of-foreach-loop/53087992#53087992", "title": "How to retrieve data from query instead of foreach loop?", "body": "<p>If you are expecting limited content, say one result item, simply use <code>.FirstOrDefault()</code> here is an example:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18184166/linq-firstordefault-check-for-default-value\">LINQ FirstOrDefault check for default value</a></p>\n\n<p>If you are expecting multiple rows, looping is a good approach.</p>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 1, "last_activity_date": 1541005210, "creation_date": 1541005210, "answer_id": 53088588, "question_id": 53087737, "link": "https://stackoverflow.com/questions/53087737/how-to-retrieve-data-from-query-instead-of-foreach-loop/53088588#53088588", "title": "How to retrieve data from query instead of foreach loop?", "body": "<p>If you are religiously against ForEach loops, you can get rid of it, I suppose.  Change this:</p>\n\n<pre><code>foreach (var OwnerName in owner)\n{\n    Console.WriteLine(String.Format(\"{0,-10} | {1,-10} |\", \n        OwnerName.Surname, \n        OwnerName.Forename));\n}\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>Console.WriteLine\n(\n    string.Join\n    (\n        Environment.NewLine, \n        owner.Select\n        (\n            o =&gt; string.Format(\"{0,-10} | {1,-10} |\", o.Surname, o.Forename)\n        )\n    )\n);\n</code></pre>\n\n<p>Not sure it improves readability, but we sure kicked ForEach to the curb!</p>\n"}], "owner": {"reputation": 1, "user_id": 9439342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98ade71a321bcafb115a5e3383647d?s=128&d=identicon&r=PG&f=1", "display_name": "r.doe", "link": "https://stackoverflow.com/users/9439342/r-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1541005210, "creation_date": 1541002233, "last_edit_date": 1541002872, "question_id": 53087737, "link": "https://stackoverflow.com/questions/53087737/how-to-retrieve-data-from-query-instead-of-foreach-loop", "title": "How to retrieve data from query instead of foreach loop?", "body": "<p>I'm trying get data from query, i'm having luck with <code>foreach</code> but I don't want to loop in order to get data.</p>\n\n<p>Sample of how I get data:</p>\n\n<pre><code>using (var db = new VeterinaryModelContainer())\n{\n    var owner = from b in db.Owners\n                orderby b.Surname\n                select b;\n    var pets = from b in db.Pets\n               select b;\n    foreach (var OwnerName in owner)\n    {\n        Console.WriteLine(String.Format(\"{0,-10} | {1,-10} |\", \n            OwnerName.Surname, \n            OwnerName.Forename));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "asp.net-core-2.1"], "comments": [{"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "edited": false, "score": 0, "creation_date": 1541005720, "post_id": 53087709, "comment_id": 93074315, "body": "1.0 is not a supported format to this specific region... In french, the decimal is not a dot but a comma."}], "answers": [{"tags": [], "owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "is_accepted": true, "score": 2, "last_activity_date": 1541006048, "creation_date": 1541006048, "answer_id": 53088815, "question_id": 53087709, "link": "https://stackoverflow.com/questions/53087709/convert-changetype-shows-input-formatexception-on-a-different-language/53088815#53088815", "title": "Convert.ChangeType shows input FormatException on a different language", "body": "<p>When you're converting to/from string at the application-database boundary, pass <code>CultureInfo.InvariantCulture</code> as the third parameter to <code>Convert.ChangeType</code>.</p>\n\n<p>For example, when reading from the database:</p>\n\n<pre><code>Convert.ChangeType(\"1.0\", Type.GetType(\"System.Decimal\"), CultureInfo.InvariantCulture)\n</code></pre>\n\n<p>...and when saving to the database:</p>\n\n<pre><code>Convert.ChangeType(1.0M, typeof(string), CultureInfo.InvariantCulture)\n</code></pre>\n\n<p>Then the database will always have the same format.</p>\n"}], "owner": {"reputation": 1641, "user_id": 2899030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0461f0bdd8d4c71f6173ca16996af15b?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/2899030/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 53088815, "answer_count": 1, "score": 0, "last_activity_date": 1541006048, "creation_date": 1541002117, "question_id": 53087709, "link": "https://stackoverflow.com/questions/53087709/convert-changetype-shows-input-formatexception-on-a-different-language", "title": "Convert.ChangeType shows input FormatException on a different language", "body": "<p>In my database I store a value's type and value in strings, then convert it back as a dynamic object when needed. Though the conversion seems to fail when using the french-Canadian route.</p>\n\n<p>Below are the steps to quickly recreate the error using the ASP.NET Core Web Application (2.1 MVC) template :</p>\n\n<p><strong>Startup.cs</strong></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    ...\n    services.Configure&lt;RequestLocalizationOptions&gt;(options =&gt;\n    {\n        var supportedCultures = new[]\n        {\n            new CultureInfo(\"en-CA\"),\n            new CultureInfo(\"fr-CA\")\n        };\n\n        options.DefaultRequestCulture = new RequestCulture(\"en-CA\");\n        options.SupportedCultures = supportedCultures;\n        options.SupportedUICultures = supportedCultures;\n        options.RequestCultureProviders = new List&lt;IRequestCultureProvider&gt;\n        {\n            new RouteDataRequestCultureProvider()\n        };\n    });\n}\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    ...\n    var options = app.ApplicationServices.GetService&lt;IOptions&lt;RequestLocalizationOptions&gt;&gt;();\n    app.UseRouter(routes =&gt;\n    {\n        routes.MapMiddlewareRoute(\"{culture=en-CA}/{*mvcRoute}\", subApp =&gt;\n        {\n            subApp.UseRequestLocalization(options.Value);\n\n            subApp.UseMvc(mvcRoutes =&gt;\n            {\n                mvcRoutes.MapRoute(\n                    name: \"default\",\n                    template: \"{culture=en-CA}/{controller=Home}/{action=Index}/{id?}\");\n            });\n        });\n    });\n}\n</code></pre>\n\n<p><strong>HomeController.cs</strong></p>\n\n<pre><code>[Route(\"{culture=en-CA}\")]\npublic class HomeController : Controller\n{\n    [Route(\"\")]\n    public dynamic Index()\n    {\n        return Convert.ChangeType(\"1,0\", Type.GetType(\"System.Decimal\"));\n    }\n}\n</code></pre>\n\n<p>I noticed the following when I was playing around with the value string:</p>\n\n<p><strong>GET / or GET /en-CA</strong></p>\n\n<pre><code>\"1\"   =&gt; \"1.0\"\n\"1.0\" =&gt; \"1.0\"\n\"1,0\" =&gt; \"10.0\"\n</code></pre>\n\n<p><strong>GET /fr-CA</strong></p>\n\n<pre><code>\"1\"   =&gt; \"1.0\"\n\"1.0\" =&gt; Error\n\"1,0\" =&gt; \"1.0\"\n</code></pre>\n\n<p>I don't want to localize the numbers, so how do I output everything in just decimal notation (1.0)?</p>\n"}, {"tags": ["c#", ".net", "string"], "comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1541002183, "post_id": 53087678, "comment_id": 93072393, "body": "Do you need to do this in a tight loop, or do you have very large strings? because if not, I wouldn&#39;t worry about O(n^2) efficiency too much."}, {"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 2, "creation_date": 1541002216, "post_id": 53087678, "comment_id": 93072417, "body": "What are even duplicates?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1541002227, "post_id": 53087678, "comment_id": 93072421, "body": "&quot;I have written the logic&quot; Do you mind sharing that with us?"}, {"owner": {"reputation": 89, "user_id": 10519551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5e45a99e8309250c3541b4b6f8e3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vadiya", "link": "https://stackoverflow.com/users/10519551/vadiya"}, "edited": false, "score": 0, "creation_date": 1541002282, "post_id": 53087678, "comment_id": 93072459, "body": "Sure I will share-@Heretic."}, {"owner": {"reputation": 1641, "user_id": 2899030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0461f0bdd8d4c71f6173ca16996af15b?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/2899030/brian"}, "edited": false, "score": 0, "creation_date": 1541002391, "post_id": 53087678, "comment_id": 93072526, "body": "you have two &quot;a&quot;s in the output"}, {"owner": {"reputation": 1152, "user_id": 4078718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7090024e46e43bf86eace985087357e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/4078718/ian"}, "edited": false, "score": 0, "creation_date": 1541002487, "post_id": 53087678, "comment_id": 93072587, "body": "I&#39;m guessing an &quot;even duplicate&quot; is every other instance.."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "reply_to_user": {"reputation": 1641, "user_id": 2899030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0461f0bdd8d4c71f6173ca16996af15b?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/2899030/brian"}, "edited": false, "score": 2, "creation_date": 1541002488, "post_id": 53087678, "comment_id": 93072588, "body": "@Brian I think that&#39;s not wrong. If I understand correctly, the OP wants to remove every second occurrence of a char - so if that char appears three times in the input (and <code>a</code> does) it should appear two times in the output."}, {"owner": {"reputation": 1641, "user_id": 2899030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0461f0bdd8d4c71f6173ca16996af15b?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/2899030/brian"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1541002570, "post_id": 53087678, "comment_id": 93072646, "body": "@ZoharPeled Whoops. you&#39;re right, it does say so in the question."}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "edited": false, "score": 0, "creation_date": 1541002865, "post_id": 53087678, "comment_id": 93072825, "body": "I edited my answer. please have a look."}], "answers": [{"comments": [{"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 0, "creation_date": 1541002617, "post_id": 53087815, "comment_id": 93072670, "body": "Nice one. Now remove every third :)"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 0, "creation_date": 1541002619, "post_id": 53087815, "comment_id": 93072672, "body": "Note that you could improve performance marginally by using the bool return on Add or Remove to avoid the call to Contains, but I feel like that would reduce the readability of the method."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 0, "creation_date": 1541002708, "post_id": 53087815, "comment_id": 93072729, "body": "@TimSchmelter: Haha, yeah. You could use a Dictionary to track the number of occurrences and use an arbitrary criteria on the count to determine whether to output the value."}, {"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 1, "creation_date": 1541003287, "post_id": 53087815, "comment_id": 93073072, "body": "Yes,for the sake of completeness i have provided this <a href=\"https://stackoverflow.com/a/53088006/284240\">dictionary approach</a>"}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1541002485, "creation_date": 1541002485, "answer_id": 53087815, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net/53087815#53087815", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>I'd use a HashSet to keep track of which characters you've seen an odd number of times.</p>\n\n<pre><code>string input = \"acdhqodcqasaf\";\nvar oddOccurrences = new HashSet&lt;char&gt;();\nvar output = new StringBuilder();\nforeach (var c in input)\n{\n    if (!oddOccurrences.Contains(c))\n    {\n        output.Append(c);\n        oddOccurrences.Add(c);\n    }\n    else\n    {\n        oddOccurrences.Remove(c);\n    }\n}\nConsole.WriteLine(output.ToString());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1541002803, "post_id": 53087824, "comment_id": 93072781, "body": "Slightly faster than my HashSet approach, but it assumes that all char values will fall in the 0-255 value range."}, {"owner": {"reputation": 1152, "user_id": 4078718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7090024e46e43bf86eace985087357e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/4078718/ian"}, "edited": false, "score": 0, "creation_date": 1541002994, "post_id": 53087824, "comment_id": 93072910, "body": "Yep, chars are 16-bit in C# ;)"}], "tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": false, "score": 0, "last_activity_date": 1541003186, "last_edit_date": 1541003186, "creation_date": 1541002509, "answer_id": 53087824, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net/53087824#53087824", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>Create a bool[], that keeps track of odd and even for you:</p>\n\n<pre><code>bool[] even = new bool[256];\nstring input = \"acdhqodcqasaf\";\nstring output = \"\";\nfor(int i=0;i&lt;input.Length;i++)\n{\n    int x = (int)input[i];\n    if(!even[x])output += input[i];\n    even[x] = !even[x];\n}\n</code></pre>\n\n<p>change <code>bool[256]</code> to <code>bool[256*256]</code>, for 16-bit char support.</p>\n\n<p><a href=\"https://dotnetfiddle.net/sHS5Lg\" rel=\"nofollow noreferrer\">Live Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 13022, "user_id": 693272, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/49ffa5199ff39ecaddefe2c34e6a9478?s=128&d=identicon&r=PG&f=1", "display_name": "AD.Net", "link": "https://stackoverflow.com/users/693272/ad-net"}, "is_accepted": false, "score": 0, "last_activity_date": 1541002549, "creation_date": 1541002549, "answer_id": 53087840, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net/53087840#53087840", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>You can traverse the array, keep a <code>dictionary&lt;char,int&gt;</code> to keep count of each character. Check the count to see if you should delete the char or not add it in a result string.</p>\n"}, {"tags": [], "owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "is_accepted": true, "score": 4, "last_activity_date": 1541003120, "creation_date": 1541003120, "answer_id": 53088006, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net/53088006#53088006", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>You could use a dictionary to track the number of occurences and use the <code>%</code> operator:</p>\n\n<pre><code>string input = \"acdhqodcqasaf\";\nvar charOccurences = new Dictionary&lt;char, int&gt;();\nint removeEvery = 2;\nvar outputBuilder = new StringBuilder();\n\nforeach (char c in input)\n{\n    charOccurences.TryGetValue(c, out int charOccurence);\n    charOccurence++;\n    charOccurences[c] = charOccurence;\n    if (charOccurence % removeEvery != 0)\n        outputBuilder.Append(c);\n}\n\nstring output = outputBuilder.ToString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10663, "user_id": 168425, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/90Rr6.jpg?s=128&g=1", "display_name": "Ralf de Kleine", "link": "https://stackoverflow.com/users/168425/ralf-de-kleine"}, "is_accepted": false, "score": 0, "last_activity_date": 1541069566, "last_edit_date": 1541069566, "creation_date": 1541069213, "answer_id": 53099702, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net/53099702#53099702", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>Just for fun and giggles I've stopwatched the top answers for this question and added a Distinct method:</p>\n\n<pre><code>return new string(input.Distinct().ToArray());\n</code></pre>\n\n<p>The output was interesting (10k runs):</p>\n\n<pre><code>ASDHFAJSHKDFASJDFHJgasdfkjhasdjhfashdfkjasdjkfajkhewkjrhwakhfuiwhfsdnfvjndfsjkgnklwerjliu4596945\nDistinct 344\nRunForEach1 551\nRunForEach2 522\nRunFor 454\n</code></pre>\n\n<p>When running 10k times distinct seems to win (in speed) although when running 100 times the result is quite different:</p>\n\n<pre><code>ASDHFAJSHKDFASJDFHJgasdfkjhasdjhfashdfkjasdjkfajkhewkjrhwakhfuiwhfsdnfvjndfsjkgnk\nDistinct 9\nRunForEach1 7\nRunForEach2 1\nRunFor 1\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var input = Console.ReadLine();\n            var sw = new System.Diagnostics.Stopwatch();\n\n            sw.Start();\n            for (int i = 0; i &lt; 100000; i++)\n            {\n                RunDistinct(input);\n            }\n            sw.Stop();\n            Console.WriteLine($\"Distinct {sw.ElapsedMilliseconds}\");\n\n            sw.Reset();\n            sw.Start();\n            for (int i = 0; i &lt; 100000; i++)\n            {\n                RunForEach1(input);\n            }\n            sw.Stop();\n            Console.WriteLine($\"RunForEach1 {sw.ElapsedMilliseconds}\");\n\n            sw.Reset();\n            sw.Start();\n            for (int i = 0; i &lt; 100000; i++)\n            {\n                RunForEach2(input);\n            }\n            sw.Stop();\n            Console.WriteLine($\"RunForEach2 {sw.ElapsedMilliseconds}\");\n\n            sw.Reset();\n            sw.Start();\n            for (int i = 0; i &lt; 100000; i++)\n            {\n                RunFor(input);\n            }\n            sw.Stop();\n            Console.WriteLine($\"RunFor {sw.ElapsedMilliseconds}\");\n\n            Console.ReadKey();\n        }\n\n\n        private static string RunDistinct(string input) {\n            return new string(input.Distinct().ToArray());\n        }\n\n        private static string RunForEach1(string input) {\n            var charOccurences = new Dictionary&lt;char, int&gt;();\n            int removeEvery = 2;\n            var outputBuilder = new StringBuilder();\n\n            foreach (char c in input)\n            {\n                charOccurences.TryGetValue(c, out int charOccurence);\n                charOccurence++;\n                charOccurences[c] = charOccurence;\n                if (charOccurence % removeEvery != 0)\n                    outputBuilder.Append(c);\n            }\n\n            return outputBuilder.ToString();\n        }\n\n        private static string RunForEach2(string input)\n        {\n            var oddOccurrences = new HashSet&lt;char&gt;();\n            var output = new StringBuilder();\n            foreach (var c in input)\n            {\n                if (!oddOccurrences.Contains(c))\n                {\n                    output.Append(c);\n                    oddOccurrences.Add(c);\n                }\n                else\n                {\n                    oddOccurrences.Remove(c);\n                }\n            }\n            return output.ToString();\n        }\n\n        private static string RunFor(string input)\n        {\n            bool[] even = new bool[256];\n            string output = \"\";\n            for (int i = 0; i &lt; input.Length; i++)\n            {\n                int x = (int)input[i];\n                if (!even[x]) output += input[i];\n                even[x] = !even[x];\n            }\n\n            return output;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 10519551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5e45a99e8309250c3541b4b6f8e3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vadiya", "link": "https://stackoverflow.com/users/10519551/vadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 53088006, "answer_count": 5, "score": 3, "last_activity_date": 1541069566, "creation_date": 1541002029, "last_edit_date": 1541068378, "question_id": 53087678, "link": "https://stackoverflow.com/questions/53087678/how-to-find-even-duplicates-character-in-a-string-in-c-net", "title": "how to find even duplicates character in a string in C# .Net", "body": "<p>I have a question of how to remove even duplicates in a string in C#.</p>\n\n<p>example - input string: </p>\n\n<blockquote>\n  <p>acdhqodcqasaf</p>\n</blockquote>\n\n<p>output: </p>\n\n<blockquote>\n  <p>acdhqosaf</p>\n</blockquote>\n\n<p>What I really mean is to remove even occurrences of characters.I have written the logic but I have used nested for loops and its efficiency is O(n^2) which is not good efficiency.So I was asked to do in different way searched online still did not get the answer</p>\n"}, {"tags": ["c#", "visual-studio", "opos", "pos", "pos-for-.net"], "answers": [{"tags": [], "owner": {"reputation": 2943, "user_id": 9014308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6e0464313ca63c239f5d973213daf9?s=128&d=identicon&r=PG&f=1", "display_name": "kunif", "link": "https://stackoverflow.com/users/9014308/kunif"}, "is_accepted": false, "score": 0, "last_activity_date": 1541035252, "creation_date": 1541035252, "answer_id": 53094003, "question_id": 53087677, "link": "https://stackoverflow.com/questions/53087677/pos-for-net-print-formatting-cant-escape-justfiy-right/53094003#53094003", "title": "POS for .Net print formatting - can&#39;t escape justfiy right", "body": "<p>It seems that there is no problem with how you use it on the specification.</p>\n\n<p>However, support for these features depends on hardware and service object.<br>\nEven with no problem in specification, situations where hardware and service object do not support it often happen.</p>\n\n<p>Please check the manual of the printer and service object(POS for.NET or OPOS) you are using.<br>\nAlternatively, if the service object supports the ValidateData method, you can check whether the corresponding function is supported depending on the result by calling the ValidateData method with the created print request string as a parameter.</p>\n\n<p>If it is not supported, you need to edit the print layout in the application and then print it to POS for.NET.</p>\n"}], "owner": {"reputation": 5, "user_id": 9119797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5999ee386b64b9286e012d8fc137c4c?s=128&d=identicon&r=PG&f=1", "display_name": "ByAvora", "link": "https://stackoverflow.com/users/9119797/byavora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541035252, "creation_date": 1541002021, "last_edit_date": 1541002561, "question_id": 53087677, "link": "https://stackoverflow.com/questions/53087677/pos-for-net-print-formatting-cant-escape-justfiy-right", "title": "POS for .Net print formatting - can&#39;t escape justfiy right", "body": "<p>i tried to use set text align right but when I trying above this code, I got that error.</p>\n\n<pre><code>var esc = (char)27;\nvar right = esc + \"|rA\";\n//string right = Encoding.ASCII.GetString(new byte[] { 27, (byte)'|', (byte)'r', (byte)'A' });\nforeach (ListViewItem item in listView_Sepet.Items)\n{\n   posPrinter.PrintNormal(PrinterStation.Slip, right + item.SubItems[1].Text + Environment.NewLine);\n}\n</code></pre>\n\n<p>Here is error:</p>\n\n<blockquote>\n  <p>The input string was not in the correct format.</p>\n</blockquote>\n\n<p>My Pos for .net version is 1.14.1</p>\n\n<p>I tried two ways gave error.</p>\n\n<p>First way</p>\n\n<pre><code>var esc = (char)27;\nvar right = esc + \"|rA\";\n</code></pre>\n\n<p>Second Way</p>\n\n<pre><code>string right = Encoding.ASCII.GetString(new byte[] { 27, (byte)'|', (byte)'r', (byte)'A' });\n</code></pre>\n"}, {"tags": ["c#", "html-agility-pack"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1541002242, "post_id": 53087655, "comment_id": 93072431, "body": "Use the debugger to determine what variable or property is null."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1541003681, "post_id": 53087655, "comment_id": 93073320, "body": "Break that huge XPath expression into separate expressions and test each one."}, {"owner": {"reputation": 67, "user_id": 9096606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305971e26af0dd1800ca5117ae71acd7?s=128&d=identicon&r=PG&f=1", "display_name": "R Jay", "link": "https://stackoverflow.com/users/9096606/r-jay"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1541004514, "post_id": 53087655, "comment_id": 93073713, "body": "@Igor I&#39;m getting, &quot;System.NullReferenceException: &#39;Object reference not set to an instance of an object.&#39;  HtmlAgilityPack.HtmlAttributeCollection.this[string].get returned null.&quot;. But it doesn&#39;t return null when I test in .Net Fiddle link in OP"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 9096606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305971e26af0dd1800ca5117ae71acd7?s=128&d=identicon&r=PG&f=1", "display_name": "R Jay", "link": "https://stackoverflow.com/users/9096606/r-jay"}, "is_accepted": false, "score": 0, "last_activity_date": 1541006494, "creation_date": 1541006494, "answer_id": 53088928, "question_id": 53087655, "link": "https://stackoverflow.com/questions/53087655/c-htmlagilitypack-system-nullreferenceexception/53088928#53088928", "title": "C# HTMLAgilityPack System.NullReferenceException", "body": "<p>I did some more searching and found this: <a href=\"https://stackoverflow.com/questions/35179687/htmlagilitypack-produces-missing-closing-tags-in-outerhtml/35180911\">HtmlAgilityPack produces missing closing tags in OuterHtml</a></p>\n\n<p>It looks like HTMLAgilityPack had an issue with parsing  tags where it removed the closing tag. I've updated my HTMLAgilityPack version to the latest and it is working now.</p>\n"}], "owner": {"reputation": 67, "user_id": 9096606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305971e26af0dd1800ca5117ae71acd7?s=128&d=identicon&r=PG&f=1", "display_name": "R Jay", "link": "https://stackoverflow.com/users/9096606/r-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541006494, "creation_date": 1541001961, "question_id": 53087655, "link": "https://stackoverflow.com/questions/53087655/c-htmlagilitypack-system-nullreferenceexception", "title": "C# HTMLAgilityPack System.NullReferenceException", "body": "<p>I can get the following to work in .Net Fiddle: <a href=\"https://dotnetfiddle.net/Xd8pO1\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/Xd8pO1</a></p>\n\n<pre><code>using HtmlAgilityPack;\nusing System;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var html =\n        \"&lt;select class=\\\"vui-input d2l-select\\\" name=\\\"roleid\\\" id=\\\"z_d\\\" title=\\\"Role\\\"&gt;&lt;option value=\\\"0\\\" selected=\\\"selected\\\"&gt;-- Select a Role --&lt;option value=\\\"104\\\"&gt;Instructor&lt;option value=\\\"105\\\"&gt;Student&lt;option value=\\\"106\\\"&gt;TA 1&lt;option value=\\\"107\\\"&gt;TA 2&lt;option value=\\\"108\\\"&gt;TA 3&lt;option value=\\\"109\\\"&gt;TA 4&lt;option value=\\\"114\\\"&gt;TA 5&lt;option value=\\\"115\\\"&gt;TA 6&lt;option value=\\\"111\\\"&gt;Course Developer&lt;/select&gt;\";\n\n        var htmlDoc = new HtmlDocument();\n        htmlDoc.LoadHtml(html);\n\n        string name = htmlDoc.DocumentNode\n                        .SelectNodes(\"//*[text()[contains(., 'Instructor')]]\").First().Attributes[\"value\"].Value;\n\n        Console.WriteLine(name);\n    }\n}\n</code></pre>\n\n<p>However, it does not work when I try to run it in my .Net application or in a new console application.</p>\n\n<p>I get the following error:</p>\n\n<pre><code>System.NullReferenceException\n  HResult=0x80004003\n  Message=Object reference not set to an instance of an object.\n  Source=DELETE\n  StackTrace:\n   at Program.Main() in E:\\...........:line 18\n</code></pre>\n\n<p>I've tested to make sure the source is correctly formatted. Replacing line 18 with the following works:</p>\n\n<pre><code>string name = `htmlDoc.DocumentNode.SelectNodes(\"//select/option[@value=104]\")\n.First()\n.Attributes[\"value\"].Value;`\n</code></pre>\n\n<p>Any ideas why this is working in .Net Fiddle but not in my c# application in Visual Studio?</p>\n"}, {"tags": ["c#", "performance", "for-loop", "foreach", "uwp"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1541002623, "post_id": 53087629, "comment_id": 93072674, "body": "Having a sorted list opens up a whole lot of optimization options."}, {"owner": {"reputation": 342, "user_id": 2464607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHKtd.jpg?s=128&g=1", "display_name": "Hitesh Gaur", "link": "https://stackoverflow.com/users/2464607/hitesh-gaur"}, "edited": false, "score": 0, "creation_date": 1541004402, "post_id": 53087629, "comment_id": 93073665, "body": "What do you need as an output, a boolean value indicating lists are equal or lists of matching items only?"}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "reply_to_user": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "edited": false, "score": 1, "creation_date": 1541091485, "post_id": 53087629, "comment_id": 93107046, "body": "First question you should ask yourself is &quot;how fast does it have to be?&quot; and the second is &quot;how fast is it?&quot; Maybe you don&#39;t need to change anything at all (although @Martin&#39;s answer also makes your code easier to read, so is overall goodness)."}], "answers": [{"tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 3, "last_activity_date": 1541002797, "creation_date": 1541002797, "answer_id": 53087911, "question_id": 53087629, "link": "https://stackoverflow.com/questions/53087629/compare-2-lists-with-better-performance-possible/53087911#53087911", "title": "Compare 2 lists with better performance possible?", "body": "<p>The performance problem is here:</p>\n\n<pre><code>for(int i = 0; i &lt; cleanupDocList.Count; i++)\n{\n    for(int j = 0; j &lt; existingDocuments.Count; j++)\n    {\n      ...\n    }\n}\n</code></pre>\n\n<p>What is happening here is for each file in <code>cleanupDocList</code> you are enumerating all files in <code>existingDocuments</code>. This means if there is N files in both lists the time complexity is <code>O(N^2)</code>, which is not optimal.</p>\n\n<p>In this case you can observe the only thing you are interested in is the <code>UniqueID</code>, so what you can do is to first build a <code>HashSet&lt;string&gt;</code> of all the ids in the <code>existingDocuments</code> list and then just check if the item exists in the hashset. This is much faster, as <code>HashSet&lt;&gt;</code> is implemented as a <a href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">hash table</a>, which has constant average time complexity for lookup (<code>O(1)</code>), which means we overall got to <code>O(N*1)=O(N)</code> time complexity, which is significant, especially as <code>N</code> grows.</p>\n\n<p>The code would look like this:</p>\n\n<pre><code>var existingIds = new HashSet&lt;string&gt;(\n        existingDocuments.Select(doc =&gt; doc.UniqueID.ToString()));\n\nfor(int i = 0; i &lt; cleanupDocList.Count; i++)\n{\n    if (existingIds.Contains(cleanupDocList[i].id))\n    { \n        toDelete.Add(cleanupDocList[i].filename);\n    }\n}\n\nforeach(string fileToDelete in toDelete)\n{\n    await _spManager.fileStorage.DeleteFileAsync(fileToDelete);\n}    \n</code></pre>\n\n<p>The great thing is that this approach not only improved performance, but greatly simplified the code at the same time. Let's call that a win-win :-) !</p>\n"}, {"tags": [], "owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "is_accepted": false, "score": 2, "last_activity_date": 1541003031, "creation_date": 1541003031, "answer_id": 53087977, "question_id": 53087629, "link": "https://stackoverflow.com/questions/53087629/compare-2-lists-with-better-performance-possible/53087977#53087977", "title": "Compare 2 lists with better performance possible?", "body": "<p>I would use Linq's <code>Except()</code> to do this, to get a two-way comparison to find all the items that are in list1 but not list2, and vice-versa.</p>\n\n<p>Here's an example just using lists of strings. This also shows how to find items in both lists:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace Demo\n{\n    static class Program\n    {\n        public static void Main()\n        {\n            List&lt;string&gt; list1 = new List&lt;string&gt;{\"A\", \"B\", \"C\", \"D\", \"E\"};\n            List&lt;string&gt; list2 = new List&lt;string&gt;{\"D\", \"E\", \"F\", \"G\", \"H\"};\n\n            var inList1ButNotList2 = list1.Except(list2);\n            var inList2ButNotList1 = list2.Except(list1);\n            var inBothLists        = list1.Intersect(list2);\n\n            Console.WriteLine(\"In list1 but not list2 = \" + string.Join(\", \", inList1ButNotList2));\n            Console.WriteLine(\"In list2 but not list1 = \" + string.Join(\", \", inList2ButNotList1));\n            Console.WriteLine(\"In both lists          = \" + string.Join(\", \", inBothLists));\n        }\n    }\n}\n</code></pre>\n\n<p>To use this approach for your problem, you'd need to have the two collections of items of the same type to compare, and a comparison method. In the code above, I'm just using the default string equality comparer, but you can create your own equality comparer, like so:</p>\n\n<pre><code>public class MyComparer : IEqualityComparer&lt;string&gt; // Instead of string, put your own type.\n{\n    public bool Equals(string x, string y)\n    {\n        return string.Equals(x, y); // You'd implement your own comparison here.\n    }\n\n    public int GetHashCode(string obj)\n    {\n        return obj.GetHashCode();\n    }\n}\n</code></pre>\n\n<p>which you can pass to the <code>Except()</code> methods:</p>\n\n<pre><code>static class Program\n{\n    public static void Main()\n    {\n        List&lt;string&gt; list1 = new List&lt;string&gt;{\"A\", \"B\", \"C\", \"D\", \"E\"};\n        List&lt;string&gt; list2 = new List&lt;string&gt;{\"D\", \"E\", \"F\", \"G\", \"H\"};\n\n        var comparer = new MyComparer();\n\n        var inList1ButNotList2 = list1.Except(list2,    comparer);\n        var inList2ButNotList1 = list2.Except(list1,    comparer);\n        var inBothLists        = list1.Intersect(list2, comparer);\n\n        Console.WriteLine(\"In list1 but not list2 = \" + string.Join(\", \", inList1ButNotList2));\n        Console.WriteLine(\"In list2 but not list1 = \" + string.Join(\", \", inList2ButNotList1));\n        Console.WriteLine(\"In both lists          = \" + string.Join(\", \", inBothLists));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 663, "user_id": 10093744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc284af781b6d1ce22fdbe167e0f589?s=128&d=identicon&r=PG&f=1", "display_name": "axbeit", "link": "https://stackoverflow.com/users/10093744/axbeit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541003031, "creation_date": 1541001867, "last_edit_date": 1541002267, "question_id": 53087629, "link": "https://stackoverflow.com/questions/53087629/compare-2-lists-with-better-performance-possible", "title": "Compare 2 lists with better performance possible?", "body": "<p>I have 2 lists. One is a list of all files in a folder and the other is a list from a database. I have to compare those lists and I wonder if there is a better way to do it because I think the performance suffers from it. here are a few ways I did:</p>\n\n<pre><code>for(int i=0; i &lt; docListFallback.Count; i++ )\n{\n    if (docListFallback[i].id == metadataItem.UniqueID.ToString())\n    {\n        if (docListFallback[i].modifiedDate &lt; metadataItem.Geaendert)\n        {\n            isDocumentMissing = true;\n            downloadFile = isDocumentMissing;\n        }\n        docListFallback.Remove(docListFallback[i]);\n        break;\n    }\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>for (int i = 0; i &lt; docListModDate.Count; i++)\n{\n    if (docListModDate[i].id == metadataItem.UniqueID.ToString())\n    {\n        if (docListModDate[i].modifiedDate != metadataItem.Geaendert)\n        {\n           await _spManager.fileStorage.modifyDate(metadataItem.Geaendert, docListModDate[i].id);\n        }\n        docListModDate.Remove(docListModDate[i]);\n        break;\n    }\n}\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>for(int i = 0; i &lt; cleanupDocList.Count; i++)\n{\n    for(int j = 0; j &lt; existingDocuments.Count; j++)\n    {\n        if(cleanupDocList[i].id == existingDocuments[j].UniqueID.ToString())\n        {\n            addToDelList = false;\n            break;\n        }\n        else\n        {\n            addToDelList = true;\n        }\n    }\n    if(addToDelList)\n    {\n        toDelete.Add(cleanupDocList[i].filename);\n    }\n}\n\nforeach(string fileToDelete in toDelete)\n{\n    await _spManager.fileStorage.DeleteFileAsync(fileToDelete);\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "group-by"], "comments": [{"owner": {"reputation": 11158, "user_id": 754438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2750dcbebe593c1021fe131c88dd8447?s=128&d=identicon&r=PG", "display_name": "Renatas M.", "link": "https://stackoverflow.com/users/754438/renatas-m"}, "edited": false, "score": 2, "creation_date": 1541001935, "post_id": 53087572, "comment_id": 93072238, "body": "<code>.Select(grp =&gt;new LocalizationPage {Title = grp .Key,LocalizationItemList = grp .ToList() })</code> something like this"}], "answers": [{"tags": [], "owner": {"reputation": 16987, "user_id": 303427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de44ded2e8f143cd4cc98914bc929db?s=128&d=identicon&r=PG", "display_name": "Diego Torres", "link": "https://stackoverflow.com/users/303427/diego-torres"}, "is_accepted": true, "score": 2, "last_activity_date": 1541002032, "creation_date": 1541002032, "answer_id": 53087680, "question_id": 53087572, "link": "https://stackoverflow.com/questions/53087572/how-do-i-convert-from-groupby-to-object-with-linq/53087680#53087680", "title": "How do I convert from GroupBy() to object with Linq?", "body": "<p>You can do it within the <code>Select</code></p>\n\n<pre><code>var localizationGroups =  _context.Localization\n                                  .GroupBy(p =&gt; p.Page)\n                                  .Select(group =&gt; new LocalizationPage\n                                  {\n                                      Title = group.Key,\n                                      LocalizationItemList = group.ToList()\n                                  })\n                                  .ToList();\n</code></pre>\n"}], "owner": {"reputation": 920, "user_id": 8340311, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9fQy4.jpg?s=128&g=1", "display_name": "mr_blond", "link": "https://stackoverflow.com/users/8340311/mr-blond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 53087680, "answer_count": 1, "score": 0, "last_activity_date": 1541002032, "creation_date": 1541001639, "last_edit_date": 1541001851, "question_id": 53087572, "link": "https://stackoverflow.com/questions/53087572/how-do-i-convert-from-groupby-to-object-with-linq", "title": "How do I convert from GroupBy() to object with Linq?", "body": "<p>The are two classes:</p>\n\n<pre><code>public class LocalizationPage\n{\n    public string Title { get; set; }\n    public List&lt;LocalizationItem&gt; LocalizationItemList { get; set; }\n}\n\npublic class LocalizationItem\n{\n    public int Id { get; set; }\n    public string Key { get; set; }\n    //...\n}\n</code></pre>\n\n<p>I need to get a LocalizationItem list and fill a LocalizationPage with it.</p>\n\n<p>That's how I fill the LocalizationGroups list:</p>\n\n<pre><code>var LocalizationGroupsTemp = db.Localization.GroupBy(p =&gt; p.Page);\n\nList&lt;LocalizationPage&gt; LocalizationGroups = new List&lt;LocalizationPage&gt;();\n\nforeach (var item in LocalizationGroupsTemp)\n{\n    LocalizationGroups.Add(new LocalizationPage\n    {\n        Title = item.Key,\n        LocalizationItemList = item.ToList()\n    });\n}\n</code></pre>\n\n<p>How to simplify it with using Linq somehow like this?</p>\n\n<pre><code>List&lt;LocalizationPage&gt; LocalizationGroups = _context.Localization\n    .GroupBy(p =&gt; p.Page)\n    .Select(grp =&gt; grp.ToList())\n    //...\n    .ToList();\n</code></pre>\n"}]