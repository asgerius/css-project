[{"tags": ["javascript", "c#", "jquery", "css", "asp.net"], "comments": [{"owner": {"reputation": 2811, "user_id": 4001497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LeYKJ.jpg?s=128&g=1", "display_name": "Sushil", "link": "https://stackoverflow.com/users/4001497/sushil"}, "edited": false, "score": 0, "creation_date": 1431561818, "post_id": 30227136, "comment_id": 48558055, "body": "can u try actionLinks.unbind(&#39;click&#39;)?"}, {"owner": {"reputation": 1415, "user_id": 921420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ee245826d879ebb8352b869a1118cdd?s=128&d=identicon&r=PG", "display_name": "Developer", "link": "https://stackoverflow.com/users/921420/developer"}, "reply_to_user": {"reputation": 2811, "user_id": 4001497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LeYKJ.jpg?s=128&g=1", "display_name": "Sushil", "link": "https://stackoverflow.com/users/4001497/sushil"}, "edited": false, "score": 0, "creation_date": 1431561989, "post_id": 30227136, "comment_id": 48558106, "body": "Ya I tired it but it didn&#39;t work.."}, {"owner": {"reputation": 2811, "user_id": 4001497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LeYKJ.jpg?s=128&g=1", "display_name": "Sushil", "link": "https://stackoverflow.com/users/4001497/sushil"}, "edited": false, "score": 0, "creation_date": 1431619468, "post_id": 30227136, "comment_id": 48585193, "body": "can u share a fiddle?"}], "answers": [{"tags": [], "owner": {"reputation": 11698, "user_id": 309641, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YuQvL.jpg?s=128&g=1", "display_name": "David Zorychta", "link": "https://stackoverflow.com/users/309641/david-zorychta"}, "is_accepted": false, "score": 0, "last_activity_date": 1431563353, "creation_date": 1431563353, "answer_id": 30227418, "question_id": 30227136, "link": "https://stackoverflow.com/questions/30227136/how-to-enable-default-link-button-after-preventdefault/30227418#30227418", "title": "How to enable default link button after preventDefault()", "body": "<p>replace <code>.click(</code> with <code>.one( \"click\",</code></p>\n\n<pre><code>jQuery(function($) {\n\n    var actionLinks = $(\"a[id$=cmdLogin]\");\n    actionLinks.one( \"click\", function(e) {\n\n        e.preventDefault();\n\n        //    e.stopPropagation();\n        $('html,body').animate({\n            scrollTop: 0\n        }, 'fast');\n\n\n    });\n\n});\n</code></pre>\n\n<ul>\n<li>The first time the button is pressed the event handler will run</li>\n<li>The second time the button is pressed, the default handler will run</li>\n</ul>\n"}], "owner": {"reputation": 1415, "user_id": 921420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ee245826d879ebb8352b869a1118cdd?s=128&d=identicon&r=PG", "display_name": "Developer", "link": "https://stackoverflow.com/users/921420/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431563353, "creation_date": 1431561532, "last_edit_date": 1431562775, "question_id": 30227136, "link": "https://stackoverflow.com/questions/30227136/how-to-enable-default-link-button-after-preventdefault", "title": "How to enable default link button after preventDefault()", "body": "<p>I want to scroll top when user press Login button. I am using Link button as Login. Now here is my logic to scroll to top. </p>\n\n<pre><code>&lt;asp:LinkButton id=\"cmdLogin\" resourcekey=\"cmdLogin\" cssclass=\"dnnPrimaryAction\" text=\"Login\" runat=\"server\" /&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n    jQuery(function($) {\n\n        var actionLinks = $(\"a[id$=cmdLogin]\");\n        actionLinks.click(function(e) {\n\n            e.preventDefault();\n\n            //    e.stopPropagation();\n            $('html,body').animate({\n                scrollTop: 0\n            }, 'fast');\n\n\n        });\n\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The scrolling working fine with this code but the problem is when I click on login button it got disable. I can click it again but it prevent default css code and button seems like disable. It is actually not showing the error message because of preventDefault(). \nPlease help me how can I enable default after using <code>event.preventDefault();</code></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 4606756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f44038833d8129c96d188d671cbf68d8?s=128&d=identicon&r=PG&f=1", "display_name": "A C", "link": "https://stackoverflow.com/users/4606756/a-c"}, "edited": false, "score": 0, "creation_date": 1431562457, "post_id": 30227111, "comment_id": 48558243, "body": "This doesn&#39;t seem to work. It returns the same number of items in the list. Does it actually modify the list I&#39;m grouping by? I tried your solution by doing &quot;coList.GroupBy(...).Select(...)&quot;"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "reply_to_user": {"reputation": 119, "user_id": 4606756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f44038833d8129c96d188d671cbf68d8?s=128&d=identicon&r=PG&f=1", "display_name": "A C", "link": "https://stackoverflow.com/users/4606756/a-c"}, "edited": false, "score": 2, "creation_date": 1431562991, "post_id": 30227111, "comment_id": 48558398, "body": "@AC IEnumerable methods always return a <i>new</i> sequence (or query for an IQueryable). You have to assign it back to a variable (probably after a ToList call)."}, {"owner": {"reputation": 119, "user_id": 4606756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f44038833d8129c96d188d671cbf68d8?s=128&d=identicon&r=PG&f=1", "display_name": "A C", "link": "https://stackoverflow.com/users/4606756/a-c"}, "edited": false, "score": 0, "creation_date": 1431570284, "post_id": 30227111, "comment_id": 48560139, "body": "I see. Thank you, it worked perfectly when I assigned it to a new list."}], "tags": [], "owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "is_accepted": true, "score": 3, "last_activity_date": 1431562305, "last_edit_date": 1431562305, "creation_date": 1431561383, "answer_id": 30227111, "question_id": 30227086, "link": "https://stackoverflow.com/questions/30227086/linq-how-to-use-group-by-to-simplify-lists-with-duplicate-attributes/30227111#30227111", "title": "LINQ how to use &quot;group by&quot; to simplify lists with duplicate attributes", "body": "<p>The general approach is as follows:</p>\n\n<pre><code>// First GroupBy compound type\n.GroupBy(i =&gt; new { i.Type, i.Year })\n\n// Then select from the Group Key and\n// apply an Aggregate/query on the Grouped Values\n.Select(g =&gt; new {\n   Type = g.Key.Type,         // Pull out key values\n   Year = g.Key.Year,\n   Cost = g.Sum(i =&gt; i.Cost)  // Sum all items in group\n})\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4606756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f44038833d8129c96d188d671cbf68d8?s=128&d=identicon&r=PG&f=1", "display_name": "A C", "link": "https://stackoverflow.com/users/4606756/a-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 30227111, "answer_count": 1, "score": 1, "last_activity_date": 1431562305, "creation_date": 1431561181, "question_id": 30227086, "link": "https://stackoverflow.com/questions/30227086/linq-how-to-use-group-by-to-simplify-lists-with-duplicate-attributes", "title": "LINQ how to use &quot;group by&quot; to simplify lists with duplicate attributes", "body": "<p>I have an object \"ChartObject\" and I want to group certain fields together before I can plot the whole list.</p>\n\n<pre><code>public class ChartObject\n{\n    public string Type { get; set; }\n    public int Year { get; set; }\n    public long Cost { get; set; }\n}\n</code></pre>\n\n<p>I want to group the Type for each Year to prevent duplicate types for each year. For each type I want the summed cost under that year. </p>\n\n<p>For example this list:<br>\nChartObject(Type1, 2015, $10)<br>\nChartObject(Type1, 2015, $20)<br>\nChartObject(Type2, 2016, $10)<br>\nChartObject(Type1, 2016, $10)<br>\nChartObject(Type2, 2017, $10)<br>\nChartObject(Type2, 2017, $10)  </p>\n\n<p>Should be combined to this:<br>\nChartObject(Type1, 2015, $30)<br>\nChartObject(Type1, 2016, $10)<br>\nChartObject(Type2, 2016, $10)<br>\nChartObject(Type2, 2017, $20)  </p>\n\n<p>This is my LINQ query I have so far. It is not correct since it doesn't also group by the year:</p>\n\n<pre><code>List&lt;ChartObject&gt; coList = GetItems();\n\nvar query =\n(\n    from l in coList\n    group l by l.Type into X\n    select new ChartObject()\n    {\n        Cost = X.Sum(c =&gt; c.Cost),\n        Type = X.First().Type,\n        Year = X.First().Year,\n    }\n\n).ToList();\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "change-tracking"], "comments": [{"owner": {"reputation": 102855, "user_id": 5056, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/315b95cdcac83705c10ea14e239aeaf5?s=128&d=identicon&r=PG", "display_name": "George Mauer", "link": "https://stackoverflow.com/users/5056/george-mauer"}, "edited": false, "score": 0, "creation_date": 1431561333, "post_id": 30227076, "comment_id": 48557931, "body": "Thanks @Claies that&#39;s not technically the answer, but seems like a solid hint."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 1, "creation_date": 1431561364, "post_id": 30227076, "comment_id": 48557939, "body": "<a href=\"https://msdn.microsoft.com/en-us/data/jj592677.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/data/jj592677.aspx</a>"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1431561371, "post_id": 30227076, "comment_id": 48557940, "body": "that should be a better link"}], "answers": [{"comments": [{"owner": {"reputation": 102855, "user_id": 5056, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/315b95cdcac83705c10ea14e239aeaf5?s=128&d=identicon&r=PG", "display_name": "George Mauer", "link": "https://stackoverflow.com/users/5056/george-mauer"}, "edited": false, "score": 0, "creation_date": 1431618807, "post_id": 30235307, "comment_id": 48584769, "body": "This looks right...will accept once I...figure out how the heck I can try this out in a unit test."}], "tags": [], "owner": {"reputation": 1328, "user_id": 2697817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/241e4153ea3a3c484c6947f1e774ef32?s=128&d=identicon&r=PG&f=1", "display_name": "user2697817", "link": "https://stackoverflow.com/users/2697817/user2697817"}, "is_accepted": true, "score": 14, "last_activity_date": 1576744392, "last_edit_date": 1576744392, "creation_date": 1431600218, "answer_id": 30235307, "question_id": 30227076, "link": "https://stackoverflow.com/questions/30227076/use-ef-changetracker-to-manually-get-set-of-changes/30235307#30235307", "title": "Use EF changetracker to manually get set of changes?", "body": "<p>You could use the context's <code>DbChangeTracker</code> which returns an <code>IEnumerable&lt;DbEntityEntry&gt;</code>. You could then loop over these comparing the CurrentValues with the OriginalValues. The original values are the values from the last query to the db.   </p>\n\n<pre><code>var modifiedEntries = ChangeTracker.Entries().Where(e =&gt; e.State == EntityState.Modified);\nforeach (DbEntityEntry entity in modifiedEntries)\n{\n    foreach (var propName in entity.CurrentValues.PropertyNames)\n    {\n        var current = entity.CurrentValues[propName];\n        var original = entity.OriginalValues[propName];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 102855, "user_id": 5056, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/315b95cdcac83705c10ea14e239aeaf5?s=128&d=identicon&r=PG", "display_name": "George Mauer", "link": "https://stackoverflow.com/users/5056/george-mauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10249, "favorite_count": 2, "accepted_answer_id": 30235307, "answer_count": 1, "score": 4, "last_activity_date": 1576744392, "creation_date": 1431561071, "question_id": 30227076, "link": "https://stackoverflow.com/questions/30227076/use-ef-changetracker-to-manually-get-set-of-changes", "title": "Use EF changetracker to manually get set of changes?", "body": "<p>If I load up an entity, make some changes, and then go to save it, EF generates an update statement.</p>\n\n<p>This must mean that at some point something (presumably the change tracker) is navigating the loaded object hierarchy and generating a list of (entity, property, value) that changed. For an unrelated bit of infrastructure I need to basically diff object graphs in a similar fashion. I'm thinking that I should be able to reuse the same mechanism.</p>\n\n<p>So that's the question - can I do this? Can I query changes to a particular entity or even to the entire object graph? How?</p>\n"}, {"tags": ["c#", "wcf", "soap"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 2, "creation_date": 1431576786, "post_id": 30227063, "comment_id": 48561671, "body": "You would probably have to do a lot of work to add username/password validation to protect the WSDL.  A simpler solution is to simply disable metadata publishing by the service and provide a copy of the WSDL to clients that need it.  They can generate a proxy from a WSDL file as easily as they can from a metadata endpoint."}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431577375, "post_id": 30227063, "comment_id": 48561842, "body": "Another option would be to configure the application on the server (for example, the IIS Application that host the WCF server) to require credentials of some sort to even access the application."}, {"owner": {"reputation": 27873, "user_id": 569662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DROcJ.png?s=128&g=1", "display_name": "tom redfern", "link": "https://stackoverflow.com/users/569662/tom-redfern"}, "edited": false, "score": 0, "creation_date": 1431588909, "post_id": 30227063, "comment_id": 48566357, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/ms733114(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms733114(v=vs.110).aspx</a>"}, {"owner": {"reputation": 25, "user_id": 1237699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa054d508295f5b2fd1597b546210593?s=128&d=identicon&r=PG", "display_name": "user1237699", "link": "https://stackoverflow.com/users/1237699/user1237699"}, "edited": false, "score": 0, "creation_date": 1431608027, "post_id": 30227063, "comment_id": 48577360, "body": "i like to do something programmatically, leave that responsibility with the service and not the web server (iis) because added a wcf service in a MVC application, only to host a website. the first option would work, but would like something automated, for example, create a controller to return the service wsdl, and authenticate through ActionFilterAttribute."}, {"owner": {"reputation": 25, "user_id": 1237699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa054d508295f5b2fd1597b546210593?s=128&d=identicon&r=PG", "display_name": "user1237699", "link": "https://stackoverflow.com/users/1237699/user1237699"}, "edited": false, "score": 0, "creation_date": 1431608190, "post_id": 30227063, "comment_id": 48577465, "body": "would be perfect, you can use something like actionfiterattribute the MVC framework with wcf services."}], "owner": {"reputation": 25, "user_id": 1237699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa054d508295f5b2fd1597b546210593?s=128&d=identicon&r=PG", "display_name": "user1237699", "link": "https://stackoverflow.com/users/1237699/user1237699"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1431560960, "creation_date": 1431560960, "question_id": 30227063, "link": "https://stackoverflow.com/questions/30227063/wcf-basic-authentication-request-to-display-the-wsdl", "title": "wcf basic authentication request to display the wsdl", "body": "<p>I am using UserNamePasswordValidator for consumption of wcf service, however would like to display the wsdl only to authenticated users, I would like to implement Basic authentication to then validate the User and Password and show the wsdl the service, through https, how could I do that? I am using basicHttpBinding, need interoperability with other languages.</p>\n"}, {"tags": ["c#", "winforms", "listbox"], "comments": [{"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1431560952, "post_id": 30227008, "comment_id": 48557821, "body": "Try using <code>listBox1.Items.Add(eventArg.ToString());</code> and see if that works."}, {"owner": {"reputation": 796, "user_id": 4596954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44e836845fbb093b8348b5d96f90bea?s=128&d=identicon&r=PG", "display_name": "Ulric", "link": "https://stackoverflow.com/users/4596954/ulric"}, "edited": false, "score": 0, "creation_date": 1431560980, "post_id": 30227008, "comment_id": 48557830, "body": "<code>button1.Text = eventArg;</code> won&#39;t even compile for me."}, {"owner": {"reputation": 23, "user_id": 4890638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af85f3f5cd24fdcf5d20b733a3a53871?s=128&d=identicon&r=PG&f=1", "display_name": "Obelus", "link": "https://stackoverflow.com/users/4890638/obelus"}, "reply_to_user": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "edited": false, "score": 0, "creation_date": 1431561288, "post_id": 30227008, "comment_id": 48557921, "body": "@Grant Winney yep, working as it should @ dub stylee, no it does not"}], "answers": [{"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": -1, "last_activity_date": 1431561513, "creation_date": 1431561513, "answer_id": 30227134, "question_id": 30227008, "link": "https://stackoverflow.com/questions/30227008/cant-add-strings-to-listbox/30227134#30227134", "title": "Can&#39;t add strings to listbox", "body": "<p>You cannot add items to a listbox during the construction of the form.  You need to move the code into the Load event.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4890638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af85f3f5cd24fdcf5d20b733a3a53871?s=128&d=identicon&r=PG&f=1", "display_name": "Obelus", "link": "https://stackoverflow.com/users/4890638/obelus"}, "edited": false, "score": 0, "creation_date": 1431563399, "post_id": 30227324, "comment_id": 48558513, "body": "Nope, VS suggested just standart operations and in library code is nothing announced but <code>string text</code> as i can see."}, {"owner": {"reputation": 992, "user_id": 1617161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svd4J.jpg?s=128&g=1", "display_name": "iCode", "link": "https://stackoverflow.com/users/1617161/icode"}, "reply_to_user": {"reputation": 23, "user_id": 4890638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af85f3f5cd24fdcf5d20b733a3a53871?s=128&d=identicon&r=PG&f=1", "display_name": "Obelus", "link": "https://stackoverflow.com/users/4890638/obelus"}, "edited": false, "score": 0, "creation_date": 1431564499, "post_id": 30227324, "comment_id": 48558783, "body": "I see that now. The delegate is declared with the second parameter as a string. My next question is when does the event get fired? Could eventArg ever be null? Perhaps add a null check to only add items with a value. ie. If (!string.IsNullOrEmpty(eventArg)) { listBox1.Items.Add(eventArg); }"}], "tags": [], "owner": {"reputation": 992, "user_id": 1617161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svd4J.jpg?s=128&g=1", "display_name": "iCode", "link": "https://stackoverflow.com/users/1617161/icode"}, "is_accepted": false, "score": 0, "last_activity_date": 1431562735, "creation_date": 1431562735, "answer_id": 30227324, "question_id": 30227008, "link": "https://stackoverflow.com/questions/30227008/cant-add-strings-to-listbox/30227324#30227324", "title": "Can&#39;t add strings to listbox", "body": "<p>You are adding EventArgs to the Items list for the ListBox. Is there an eventArgs.[someString] that you can add?</p>\n"}, {"tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": true, "score": 1, "last_activity_date": 1431568214, "last_edit_date": 1431568214, "creation_date": 1431563673, "answer_id": 30227458, "question_id": 30227008, "link": "https://stackoverflow.com/questions/30227008/cant-add-strings-to-listbox/30227458#30227458", "title": "Can&#39;t add strings to listbox", "body": "<p>The <code>OnNewTextFound</code> event is firing on a separate thread from the UI, so your attempt to update the UI is failing. An exception is thrown in the other thread, aborting the rest of that method, but your UI thread keeps executing.</p>\n\n<p>You'll have to call <code>Invoke()</code> in order to execute the code back on the UI thread:</p>\n\n<pre><code>listBox1.Invoke(new MethodInvoker(delegate { listBox1.Items.Add(eventArg); }));\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4890638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af85f3f5cd24fdcf5d20b733a3a53871?s=128&d=identicon&r=PG&f=1", "display_name": "Obelus", "link": "https://stackoverflow.com/users/4890638/obelus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1504, "favorite_count": 1, "accepted_answer_id": 30227458, "answer_count": 3, "score": 2, "last_activity_date": 1431568214, "creation_date": 1431560579, "last_edit_date": 1495540691, "question_id": 30227008, "link": "https://stackoverflow.com/questions/30227008/cant-add-strings-to-listbox", "title": "Can&#39;t add strings to listbox", "body": "<p>Hi i'm trying to collect output of <a href=\"http://www.codeproject.com/Tips/467361/Using-Clipboard-Csharp-Wrapper-inside\" rel=\"nofollow noreferrer\">this</a> library into listbox.</p>\n\n<p>Here's part of code from the test project, with i've tried to modify:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    D.Net.Clipboard.ClipboardManager Manager;\n\n    public Form1()\n    {\n        InitializeComponent();\n        Manager = new D.Net.Clipboard.ClipboardManager(this);\n        Manager.Type = D.Net.Clipboard.ClipboardManager.CheckType.Text;\n        Manager.OnNewTextFound += (sender, eventArg) =&gt;\n        {\n            button1.Text = eventArg;            //just testing, working correctly\n            listBox1.Items.Add(eventArg);       //does not show neither result nor any error\n            MessageBox.Show(String.Format(\"New text found in clipboard : {0}\", eventArg));\n        };\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        listBox1.Items.Add(\"test\");             //working correctly\n    }\n}\n</code></pre>\n\n<p>Problem is when i trying to add item into the list it does nothing, and further lines of code (in this function) don't run at all.</p>\n\n<p>I tried to fix it thru some custom classes and different expressions but nothing worked for me (yes, I'm a noob). Also tried to do it with textBox, result is the same, but text on buttons changes as it should.</p>\n\n<p>Looks like completely lame problem, but i've spent almost 5 hours by googling, reading microsoft documentation, SO, and closest i can get is <a href=\"https://stackoverflow.com/questions/8759934/cant-add-items-to-listbox-from-another-class-c-sharp\">this</a> as i can see stuff suggested there already implemented.</p>\n"}, {"tags": ["c#", "multidimensional-array", "inline-code"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1431560744, "post_id": 30226989, "comment_id": 48557756, "body": "Please show us the definition of your 2D array."}, {"owner": {"reputation": 688, "user_id": 868253, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8efdf3e3bc9c9a7f2b33db601e08f618?s=128&d=identicon&r=PG", "display_name": "Weavermount", "link": "https://stackoverflow.com/users/868253/weavermount"}, "edited": false, "score": 0, "creation_date": 1431560855, "post_id": 30226989, "comment_id": 48557787, "body": "Yes. I was using x and y to mean the iterating variable in the for loops. Where ultimately the point is to call &quot; thePassedInlineCode(x,y) &quot;"}, {"owner": {"reputation": 688, "user_id": 868253, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8efdf3e3bc9c9a7f2b33db601e08f618?s=128&d=identicon&r=PG", "display_name": "Weavermount", "link": "https://stackoverflow.com/users/868253/weavermount"}, "edited": false, "score": 0, "creation_date": 1431561014, "post_id": 30226989, "comment_id": 48557838, "body": "I have different representations of 2d data. This is the main reason I would like a method to simplely generate every integer coordinate and pass them to specific code"}, {"owner": {"reputation": 688, "user_id": 868253, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8efdf3e3bc9c9a7f2b33db601e08f618?s=128&d=identicon&r=PG", "display_name": "Weavermount", "link": "https://stackoverflow.com/users/868253/weavermount"}, "edited": false, "score": 0, "creation_date": 1431561285, "post_id": 30226989, "comment_id": 48557920, "body": "My real issue is picking the right kind of inline code, and using that in a method signature, and then calling it"}], "answers": [{"tags": [], "owner": {"reputation": 2344, "user_id": 1102585, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/773c7057e6c2b7c20d4d245e9d49379f?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Wada", "link": "https://stackoverflow.com/users/1102585/eduardo-wada"}, "is_accepted": true, "score": 2, "last_activity_date": 1431561548, "creation_date": 1431561548, "answer_id": 30227139, "question_id": 30226989, "link": "https://stackoverflow.com/questions/30226989/c-trouble-passing-inline-code/30227139#30227139", "title": "C# trouble passing inline code", "body": "<p>I usually use action as the type parameter, and a lambda when calling:</p>\n\n<pre><code>ForEachPair(5, 5, (x, y) =&gt;\n{\n    Console.Write(x + \",\" + y);\n});\n\npublic void ForEachPair(int width, int height, Action&lt;int, int&gt; callback)\n{\n    for (int i = 0; i &lt; width; i++)\n    {\n        for (int j = 0; j &lt; height; j++)\n        {\n            callback(i, j);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "is_accepted": false, "score": 1, "last_activity_date": 1431562218, "creation_date": 1431562218, "answer_id": 30227244, "question_id": 30226989, "link": "https://stackoverflow.com/questions/30226989/c-trouble-passing-inline-code/30227244#30227244", "title": "C# trouble passing inline code", "body": "<p>While there are many ways to do this, one of the simplest and best ways is to define a delegate and accept that as an argument.  </p>\n\n<pre><code>delegate void XYFunction(int x, int y); // define the return type and args\n\nvoid ForEachXYPair(int width, int height, XYFunction func)\n{\n    // open your loop however\n    {\n        func(x, y);\n    }\n}\n</code></pre>\n\n<p>And then to call it...  </p>\n\n<pre><code>ForEachXYPair(4, 4, (int x, int y) =&gt; { work; });\n// OR\nForEachXYPair(4, 4, new XYFunction(AMethodForAbstractionsSake));\n</code></pre>\n"}], "owner": {"reputation": 688, "user_id": 868253, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8efdf3e3bc9c9a7f2b33db601e08f618?s=128&d=identicon&r=PG", "display_name": "Weavermount", "link": "https://stackoverflow.com/users/868253/weavermount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 30227139, "answer_count": 2, "score": 2, "last_activity_date": 1431562218, "creation_date": 1431560430, "last_edit_date": 1431560606, "question_id": 30226989, "link": "https://stackoverflow.com/questions/30226989/c-trouble-passing-inline-code", "title": "C# trouble passing inline code", "body": "<p>Hey I know there are a lot of questions already that contain the answer I need, but I'm having a hard time sifting between Func/Action/Delegate/Lambda, and as a javascript guy it all feels needlessly complex.</p>\n\n<p>I'm working with 2d arrays and would like to write a method that accepts int width, int height, and any form of inline code to be called with every x/y pair. The point is just to avoid the bugs and time from writing a nested for loop over and over. But I'm unsure about the proper type of inline code to use, or what that looks like. I've tried a bunch of combos but can't make it work out.</p>\n\n<p>What signature should I use on the method, and how do I call that?</p>\n"}, {"tags": ["c#", "regex", "string", "escaping"], "answers": [{"tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 0, "last_activity_date": 1431564653, "last_edit_date": 1431564653, "creation_date": 1431563533, "answer_id": 30227444, "question_id": 30226970, "link": "https://stackoverflow.com/questions/30226970/escape-parts-of-string-with-a-character-in-c-using-regex/30227444#30227444", "title": "Escape parts of string with a character in c# using regex", "body": "<p>This should work for you:</p>\n\n<pre><code>public static string QueryEscape(this string str)\n{\n    return Regex.Replace(str.Replace(\"-\", \" \"), @\"[^/]*(\\s[^/]*)+\", \"#$&amp;#\");\n}\n</code></pre>\n\n<p>Basically the idea is to match spans of text that isn't a slash that contains a (white-)space character in it. Then add the pound signs around the match.</p>\n"}], "owner": {"reputation": 490, "user_id": 4897782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/730a8d7776e7284b798a5d7f0fc8add8?s=128&d=identicon&r=PG&f=1", "display_name": "Amir Setoudeh", "link": "https://stackoverflow.com/users/4897782/amir-setoudeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 30227444, "answer_count": 1, "score": 1, "last_activity_date": 1431564653, "creation_date": 1431560332, "question_id": 30226970, "link": "https://stackoverflow.com/questions/30226970/escape-parts-of-string-with-a-character-in-c-using-regex", "title": "Escape parts of string with a character in c# using regex", "body": "<p>I have a string such as this:</p>\n\n<pre><code>/one/two/three-four/five six seven/eight/nine ten eleven-twelve\n</code></pre>\n\n<p>I need to first replace dashes with spaces, and then be able to escape any grouping of words that have a space between them with a \"#\" symbol, so the above string should be:</p>\n\n<pre><code>/one/two/#three four#/#five six seven#/eight/#nine ten eleven twelve#\n</code></pre>\n\n<p>I have the following extension method which works great for two words, but how can I make it work for any number of words.</p>\n\n<pre><code> public static string QueryEscape(this string str)\n    {\n        str = str.Replace(\"-\", \" \");\n        return Regex.Replace(str, @\"(\\w*) (\\w*)\", new MatchEvaluator(EscapeMatch));\n    }\n\nprivate static string EscapeMatch(Match match)\n    {\n        return string.Format(\"#{0}#\", match.Value);\n    }\n</code></pre>\n\n<p>So I guess I really need help with the proper regex that takes into account that</p>\n\n<ol>\n<li>there could be any number of spaces</li>\n<li>there may or may not be a trailing slash (\"/\")</li>\n<li>takes into account that words are grouped between slashes, with the exception of #2 above.</li>\n<li>Dashes are illegal and need to replaced with spaces</li>\n</ol>\n\n<p>Thank you in advance for your support.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "web-services", "asp.net-identity"], "answers": [{"comments": [{"owner": {"reputation": 1564, "user_id": 3655841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/b0qz3.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/3655841/ron"}, "edited": false, "score": 0, "creation_date": 1431596125, "post_id": 30227024, "comment_id": 48570132, "body": "So you suggest to create a new DB (Identity DB) and point the two component to the new DB ?  What would I do next month when I want to integrate another component to the DB ? say Web API ? I would need to create another new DB ?"}, {"owner": {"reputation": 7626, "user_id": 29467, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/266da6038aa5035e1eeedc7c68f16203?s=128&d=identicon&r=PG", "display_name": "Nathan Fisher", "link": "https://stackoverflow.com/users/29467/nathan-fisher"}, "reply_to_user": {"reputation": 1564, "user_id": 3655841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/b0qz3.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/3655841/ron"}, "edited": false, "score": 0, "creation_date": 1431914038, "post_id": 30227024, "comment_id": 48684466, "body": "I&#39;m not sure I follow.  Your question was about primarily about sharing Identity across different projects(Web API, WCF, etc) and how to accomplish that.  All your applications can share the same database for Identity and application data if that is what is needed."}], "tags": [], "owner": {"reputation": 7626, "user_id": 29467, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/266da6038aa5035e1eeedc7c68f16203?s=128&d=identicon&r=PG", "display_name": "Nathan Fisher", "link": "https://stackoverflow.com/users/29467/nathan-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1431560723, "creation_date": 1431560723, "answer_id": 30227024, "question_id": 30226737, "link": "https://stackoverflow.com/questions/30226737/connect-to-an-existing-mvc-5-db-identity-model-from-external-project/30227024#30227024", "title": "Connect to an Existing MVC 5 DB (Identity model) From External Project", "body": "<p>You can create a seperate Identity Database and have all your users authenticate against that. When you create the UserManager/RoleManager etc you can point the connection string to the Identity Database</p>\n"}, {"tags": [], "owner": {"reputation": 1564, "user_id": 3655841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/b0qz3.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/3655841/ron"}, "is_accepted": true, "score": 0, "last_activity_date": 1443024161, "creation_date": 1443024161, "answer_id": 32744360, "question_id": 30226737, "link": "https://stackoverflow.com/questions/30226737/connect-to-an-existing-mvc-5-db-identity-model-from-external-project/32744360#32744360", "title": "Connect to an Existing MVC 5 DB (Identity model) From External Project", "body": "<p>After reading a couple of articles I understand how the passwords verifier works and with a little help from the open source code of Microsoft I manage to build a class that take care of the password verify.</p>\n\n<h2>UserValidation class:</h2>\n\n<pre><code> public class UserValidation \n{\n    public override void Validate(string userName, string password)\n    {\n        if (null == userName || null == password)\n        {\n            throw new ArgumentNullException();\n        }\n\n        string hashPassword = DataQueries.GetHashPassword(userName);\n\n        if (!VerifyHashedPassword(hashPassword, password))\n            throw new FaultException(\"Unknown Username or incorrect Password\");\n\n    }\n\n    private static string HashPassword(string password)\n    {\n        byte[] salt;\n        byte[] buffer2;\n        if (password == null)\n        {\n            throw new ArgumentNullException(\"password\");\n        }\n        using (Rfc2898DeriveBytes bytes = new Rfc2898DeriveBytes(password, 0x10, 0x3e8))\n        {\n            salt = bytes.Salt;\n            buffer2 = bytes.GetBytes(0x20);\n        }\n        byte[] dst = new byte[0x31];\n        Buffer.BlockCopy(salt, 0, dst, 1, 0x10);\n        Buffer.BlockCopy(buffer2, 0, dst, 0x11, 0x20);\n        return Convert.ToBase64String(dst);\n    }\n\n    private static bool VerifyHashedPassword(string hashedPassword, string password)\n    {\n        byte[] buffer4;\n        if (hashedPassword == null)\n        {\n            return false;\n        }\n        if (password == null)\n        {\n            throw new ArgumentNullException(\"password\");\n        }\n        byte[] src = Convert.FromBase64String(hashedPassword);\n        if ((src.Length != 0x31) || (src[0] != 0))\n        {\n            return false;\n        }\n        byte[] dst = new byte[0x10];\n        Buffer.BlockCopy(src, 1, dst, 0, 0x10);\n        byte[] buffer3 = new byte[0x20];\n        Buffer.BlockCopy(src, 0x11, buffer3, 0, 0x20);\n        using (Rfc2898DeriveBytes bytes = new Rfc2898DeriveBytes(password, dst, 0x3e8))\n        {\n            buffer4 = bytes.GetBytes(0x20);\n        }\n        return ByteArraysEqual(buffer3, buffer4);\n    }\n\n    private static bool ByteArraysEqual(byte[] b1, byte[] b2)\n    {\n        if (b1 == b2) return true;\n        if (b1 == null || b2 == null) return false;\n        if (b1.Length != b2.Length) return false;\n        for (int i = 0; i &lt; b1.Length; i++)\n        {\n            if (b1[i] != b2[i]) return false;\n        }\n        return true;\n    }\n</code></pre>\n\n<h2>The idea behind Microsoft password verify algorithm is:</h2>\n\n<p>The string that stored in the DB contains the hash of the password with salt, here is an example:\nWe have a string in the DB : 123456789, part of the string is the hash password and part of it is the salt, in our example lets say 123456 is the hash password and the 789 is the salt. (the number of characters that hold the salt is always the same in Microsoft algorithm but could be changed manually)</p>\n"}], "owner": {"reputation": 1564, "user_id": 3655841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/b0qz3.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/3655841/ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 32744360, "answer_count": 2, "score": 4, "last_activity_date": 1443024161, "creation_date": 1431558983, "last_edit_date": 1436124464, "question_id": 30226737, "link": "https://stackoverflow.com/questions/30226737/connect-to-an-existing-mvc-5-db-identity-model-from-external-project", "title": "Connect to an Existing MVC 5 DB (Identity model) From External Project", "body": "<p><strong>Background:</strong> I've a Web App that offers a service to my customers.</p>\n\n<p><strong>Motivation:</strong> Now I want to expose that service with the help of an API (WCF &amp; Web API). The consumers of the service will need to authenticate.</p>\n\n<p><strong>The Problem:</strong> Most of the consumers of the API will be from my customers of the Web App.</p>\n\n<p>I don't want that one client will have 2 passwords, one for the Web App and one for the API.</p>\n\n<p><strong>How can I share the Web App (MVC5) DB with other projects?</strong> like WCF for example.</p>\n\n<p>I need in my WCF two methods that will run exactly like the Web App:</p>\n\n<ul>\n<li>Register.</li>\n<li>Login.</li>\n</ul>\n\n<p>This methods are implement in my project as follow:</p>\n\n<p><strong>Register:</strong></p>\n\n<pre><code> public async Task&lt;ActionResult&gt; Register(RegisterViewModel model)\n    {\n        if (ModelState.IsValid)\n        {\n            var user = new ApplicationUser { UserName = model.UserName, Email = model.Email, OrganizationID = \"10\", DateJoin = DateTime.Now, LockoutEndDateUtc=DateTime.UtcNow.AddYears(5),LockoutEnabled=false};\n            var result = await UserManager.CreateAsync(user, model.Password);\n            if (result.Succeeded)\n            {\n\n                IdentityResult resultClaim = await UserManager.AddClaimAsync(user.Id, new Claim(\"OrgID\", \"10\"));\n\n                if(resultClaim.Succeeded)\n                {\n                    UserManager.AddToRole(user.Id, \"guest\");\n                    await SignInManager.SignInAsync(user, isPersistent: false, rememberBrowser: false);\n                    return RedirectToAction(\"Index\", \"Home\");\n                }\n\n\n            }\n            AddErrors(result);\n        }\n\n        // If we got this far, something failed, redisplay form\n        return View(model);\n    }\n</code></pre>\n\n<p><strong>Login:</strong></p>\n\n<pre><code>  public async Task&lt;ActionResult&gt; Login(LoginViewModel model, string returnUrl)\n    {\n\n        if (!ModelState.IsValid || User.Identity.IsAuthenticated)\n        {\n            return View(model);\n        }\n\n        // This doesn't count login failures towards account lockout\n        // To enable password failures to trigger account lockout, change to shouldLockout: true\n        var result = await SignInManager.PasswordSignInAsync(model.UserName, model.Password, model.RememberMe, shouldLockout: false);\n        switch (result)\n        {\n           case SignInStatus.Success:\n                Session[\"Timezone\"] = model.offSet;\n                    return RedirectToLocal(returnUrl);\n\n            case SignInStatus.LockedOut:\n                return View(\"Lockout\");\n\n            case SignInStatus.RequiresVerification:\n                return RedirectToAction(\"SendCode\", new { ReturnUrl = returnUrl, RememberMe = model.RememberMe });\n\n            case SignInStatus.Failure:\n            default:\n                ModelState.AddModelError(\"\", \"Invalid login attempt.\");\n                return View(model);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6762, "user_id": 845655, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ySyzL.jpg?s=128&g=1", "display_name": "DeanOC", "link": "https://stackoverflow.com/users/845655/deanoc"}, "edited": false, "score": 2, "creation_date": 1431559370, "post_id": 30226734, "comment_id": 48557378, "body": "All the code that manipulates the download should be moved to the <code>Completed</code> method, so that it will only be executed once the download is finished. Currently your code would only wait for the download if the download was run synchronously as the thread would then wait."}, {"owner": {"reputation": 1176, "user_id": 2359892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36177d00538d1e0c0e447e23dd6a6673?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo Prota", "link": "https://stackoverflow.com/users/2359892/massimo-prota"}, "edited": false, "score": 0, "creation_date": 1431559632, "post_id": 30226734, "comment_id": 48557449, "body": "which .NET framework version are you using?"}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431572132, "post_id": 30226734, "comment_id": 48560548, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1176, "user_id": 2359892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36177d00538d1e0c0e447e23dd6a6673?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo Prota", "link": "https://stackoverflow.com/users/2359892/massimo-prota"}, "edited": false, "score": 0, "creation_date": 1431559835, "post_id": 30226834, "comment_id": 48557506, "body": "that will keep the UI, and application frozen while dowloading, which is bad! There are many better alternatives"}, {"owner": {"reputation": 47, "user_id": 4897749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c3344df6e3ba653542fa3d67eb79bda?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Bowell", "link": "https://stackoverflow.com/users/4897749/dan-bowell"}, "edited": false, "score": 0, "creation_date": 1431568363, "post_id": 30226834, "comment_id": 48559711, "body": "Yeah I noticed that, however, making a backgroundworker run the void seems to fix the freezing thing ^^"}, {"owner": {"reputation": 2297, "user_id": 1726296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8mT7.jpg?s=128&g=1", "display_name": "Tejasvi Hegde", "link": "https://stackoverflow.com/users/1726296/tejasvi-hegde"}, "edited": false, "score": 9, "creation_date": 1484718359, "post_id": 30226834, "comment_id": 70619467, "body": "DownloadFile  does not trigger progress events"}], "tags": [], "owner": {"reputation": 712, "user_id": 2350913, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42f58938856ccf3d7b99673c4a87bc47?s=128&d=identicon&r=PG", "display_name": "Ricardo Silva", "link": "https://stackoverflow.com/users/2350913/ricardo-silva"}, "is_accepted": true, "score": 0, "last_activity_date": 1431559640, "creation_date": 1431559640, "answer_id": 30226834, "question_id": 30226734, "link": "https://stackoverflow.com/questions/30226734/wait-for-downloadfileasync-to-finish-downloading-and-then-do-something/30226834#30226834", "title": "Wait for DownloadFileAsync to finish downloading and then do something", "body": "<p>You can use the DownloadFile method. The Async word means that this method will run asynchronous (in other thread), that's why it's goes to next line praticaly instantly.\nIf you want wait for download ends, use the DownloadFile instead of DownloadFileAsync</p>\n"}], "owner": {"reputation": 47, "user_id": 4897749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c3344df6e3ba653542fa3d67eb79bda?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Bowell", "link": "https://stackoverflow.com/users/4897749/dan-bowell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3995, "favorite_count": 0, "accepted_answer_id": 30226834, "answer_count": 1, "score": 3, "last_activity_date": 1431572102, "creation_date": 1431558975, "last_edit_date": 1431572102, "question_id": 30226734, "link": "https://stackoverflow.com/questions/30226734/wait-for-downloadfileasync-to-finish-downloading-and-then-do-something", "title": "Wait for DownloadFileAsync to finish downloading and then do something", "body": "<p>So basically my DownloadFile is:</p>\n\n<pre><code>public void DownloadFile()\n{\n    settings_btn.Enabled = false;\n    label1.Text = \"Checking for updates...\";\n    //Defines the server's update directory\n    string Server = \"http://downloadurl/update/\";\n\n    //Defines application root\n    string Root = AppDomain.CurrentDomain.BaseDirectory;\n\n    //Make sure version file exists\n    FileStream fs = null;\n    if (!File.Exists(\"pversion\"))\n    {\n        using (fs = File.Create(\"pversion\")){}\n        using (StreamWriter sw = new StreamWriter(\"pversion\")){sw.Write(\"1.0\");}\n    }\n    //checks client version\n    string lclVersion;\n    using (StreamReader reader = new StreamReader(\"pversion\"))\n    {\n        lclVersion = reader.ReadLine();\n    }\n    decimal localVersion = decimal.Parse(lclVersion);\n\n    //server's list of updates\n    XDocument serverXml = XDocument.Load(@Server + \"pUpdates.xml\");\n\n    //The Update Process\n    foreach (XElement update in serverXml.Descendants(\"pupdate\"))\n    {\n        string version = update.Element(\"pversion\").Value;\n        string file = update.Element(\"pfile\").Value;\n\n        decimal serverVersion = decimal.Parse(version);\n\n\n        string sUrlToReadFileFrom = Server + file;\n\n        string sFilePathToWriteFileTo = Root + file;\n\n        if (serverVersion &gt; localVersion)\n        {\n            using (webClient = new WebClient())\n            {\n                webClient.DownloadFileCompleted += new AsyncCompletedEventHandler(Completed);\n                webClient.DownloadProgressChanged += new DownloadProgressChangedEventHandler(ProgressChanged);\n\n                // The variable that will be holding the url address (making sure it starts with http://)\n                Uri url = new Uri(sUrlToReadFileFrom);\n\n                // Start the stopwatch which we will be using to calculate the download speed\n                sw.Start();\n\n                try\n                {\n                    // Start downloading the file\n                    webClient.DownloadFileAsync(url, sFilePathToWriteFileTo);\n\n                    // Change the currently running executable so it can be overwritten.\n                    Process thisprocess = Process.GetCurrentProcess();\n                    string me = thisprocess.MainModule.FileName;\n                    string bak = me + \".bak\";\n                    if (File.Exists(bak))\n                    {\n                        File.Delete(bak);\n                    }\n                    File.Move(me, bak);\n                    File.Copy(bak, me);\n\n                    //unzip\n                    using (ZipFile zip = ZipFile.Read(file))\n                    {\n                        foreach (ZipEntry zipFiles in zip)\n                        {\n                            zipFiles.Extract(Root + \"\\\\\", true);\n                        }\n                    }\n\n                    //download new version file\n                    webClient.DownloadFile(Server + \"pversion.txt\", @Root + \"pversion\");\n\n                    //Delete Zip File\n                    deleteFile(file);\n\n                    var spawn = Process.Start(me);\n                    thisprocess.CloseMainWindow();\n                    thisprocess.Close();\n                    thisprocess.Dispose();\n                }\n                catch (Exception ex)\n                {\n                    MessageBox.Show(ex.Message);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And my problem is that once it finds a new version and starts downloading the file <code>webClient.DownloadFileAsync(url, sFilePathToWriteFileTo);</code>, it instantly runs the code below which is the changing name, unzipping and downloading new version file progress</p>\n\n<p>What I want it to do is wait for it to finish downloading the file, and THEN do the rest. How do I do this?</p>\n\n<p>-- In case this is necessary, ProgressChanged:</p>\n\n<pre><code>private void ProgressChanged(object sender, DownloadProgressChangedEventArgs e)\n{\n    label3.Text = string.Format(\"{0} kb/s\", (e.BytesReceived / 1024d / sw.Elapsed.TotalSeconds).ToString(\"0.00\")) + \" \" + string.Format(\"{0} MB's / {1} MB's\", (e.BytesReceived / 1024d / 1024d).ToString(\"0.00\"), (e.TotalBytesToReceive / 1024d / 1024d).ToString(\"0.00\"));;\n    progressBar1.Value = e.ProgressPercentage;\n    label1.Text = e.ProgressPercentage.ToString() + \"%\";\n}\n</code></pre>\n\n<p>and Completed:</p>\n\n<pre><code>private void Completed(object sender, AsyncCompletedEventArgs e)\n{\n    sw.Reset();\n    if (e.Cancelled == true)\n    {\n        label1.Text = \"Download cancelled!\";\n    }\n    else\n    {\n        label1.Text = \"Download completed!\";\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "concatenation"], "answers": [{"tags": [], "owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1431560372, "last_edit_date": 1431560372, "creation_date": 1431560004, "answer_id": 30226898, "question_id": 30226727, "link": "https://stackoverflow.com/questions/30226727/regex-to-concatenate-two-strings-in-c/30226898#30226898", "title": "regex to concatenate two strings in C#", "body": "<p>You can do as follows :</p>\n\n<pre><code>Regex regex = new Regex(@\"(\\w{2})\\w*\\s(\\d{9})\\d*\");\nvar matches = regex.Matches(\"ABTTPQR 00100300250000\");\nString output = matches[0].Groups[1].Value + matches[0].Groups[2].Value;\n//AB001003002\n</code></pre>\n\n<p>Regex Explanation:</p>\n\n<pre><code>(\\w{2})\\w*\\s(\\d{9})\\d*\n</code></pre>\n\n<p>The <code>(\\w{2})</code> will match the first 2 chars, then it will look for more chars and a space <code>\\w*\\s</code> then it will match first 9 digits <code>(\\d{9})</code> and then will look for more digits <code>\\d*</code>.</p>\n\n<p>The <code>()</code> captures the matches into groups which are accessed in c# like shown in code sample: <code>matches[0].Groups[1].Value</code> for group 1 (chars) and <code>matches[0].Groups[2].Value</code> for group 2 (digits)</p>\n"}, {"tags": [], "owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "is_accepted": false, "score": 2, "last_activity_date": 1431566962, "creation_date": 1431566962, "answer_id": 30227843, "question_id": 30226727, "link": "https://stackoverflow.com/questions/30226727/regex-to-concatenate-two-strings-in-c/30227843#30227843", "title": "regex to concatenate two strings in C#", "body": "<p>Much shorter variation using references:</p>\n\n<pre><code>Regex.Replace(\"ABTTPQR 00100300250000\", @\"^(\\w{2})\\w*\\s(\\d{9})\\d+$\", @\"$1$2\")\n// = \"AB001003002\"\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4897757, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3xew9hoz684/AAAAAAAAAAI/AAAAAAAAALg/0aAvvatD0f8/photo.jpg?sz=128", "display_name": "Hareesh TK", "link": "https://stackoverflow.com/users/4897757/hareesh-tk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 0, "closed_date": 1431576376, "answer_count": 2, "score": 0, "last_activity_date": 1431566962, "creation_date": 1431558932, "last_edit_date": 1431560585, "question_id": 30226727, "link": "https://stackoverflow.com/questions/30226727/regex-to-concatenate-two-strings-in-c", "closed_reason": "Needs details or clarity", "title": "regex to concatenate two strings in C#", "body": "<p>Is it possible to concatenate two sub strings from a input string using Regex\nExample : Input string \"ABTTPQR    00100300250000\" and I want take first two characters \"AB\" and first 9 digits \"001003002\" and concatenate these two string to one \"AB001003002\"</p>\n"}, {"tags": ["c#", "nodatime"], "answers": [{"comments": [{"owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431562986, "post_id": 30227021, "comment_id": 48558396, "body": "Unfortunately the customer requirement is to be able to say things like: minimum of 13 years old, minimum sale duration of 1 month, or campaign duration of 2 days...  I&#39;ll update my question to account for this.  The day only comparison unfortunately won&#39;t work, but the post was still very informative!"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431563979, "post_id": 30227021, "comment_id": 48558661, "body": "You can still use the approach I described in the last bullet.  You would just need to vary the period units based on the validation you were trying to do.  For example, <code>...PeriodUnits.Months).Months</code> or <code>...PeriodUnits.Years).Years</code>."}, {"owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431564595, "post_id": 30227021, "comment_id": 48558811, "body": "So if I wrote a way to check what the period unit was by saying Year != 0 -&gt; Year or Month != 0 -&gt; Month... etc.  Would that suffice? (Based on the RelativeMinimum or RelativeMaximum)"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431564857, "post_id": 30227021, "comment_id": 48558875, "body": "Essentially, yes.  See the update I posted.  I think you can extrapolate the other methods from there.  The key part is that the <code>Between</code> operation is told what type of calendrical component you are looking for."}, {"owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431565004, "post_id": 30227021, "comment_id": 48558905, "body": "Thanks Matt!  Perfect insight I needed on this :-)  Greatly appreciated!"}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 3, "last_activity_date": 1431565247, "last_edit_date": 1431565247, "creation_date": 1431560690, "answer_id": 30227021, "question_id": 30226705, "link": "https://stackoverflow.com/questions/30226705/best-way-to-compare-periods-in-using-nodatime-or-alternative/30227021#30227021", "title": "Best way to compare Periods in using NodaTime (or alternative)", "body": "<p>The main reason periods aren't comparable is that they can contain components of variable lengths.</p>\n\n<p>Two one-month periods aren't necessarily the same number of days long.  As an example, which is greater: 1 month or 30 days?  If the month is January, then that's longer than 30 days.  If the month is February, that's less than 30 days.</p>\n\n<p>The same applies to years.  Some are 365 days long, some are 366.</p>\n\n<p>Of course, that all assumes you're using the Gregorian calendar.  Noda Time supports other calendar systems, and there are similar quirks in those as well.</p>\n\n<p>Regarding the code:</p>\n\n<ul>\n<li><p>If you want a <code>LocalDate</code> from a <code>DateTime</code>, use <code>LocalDateTime.FromDateTime(dt).Date</code></p></li>\n<li><p>To get the current date, use <code>SystemClock.Instance.Now.InZone(tz).Date</code></p>\n\n<ul>\n<li>If you intended that to be the same as <code>DateTime.Now</code>, which uses the local time zone of the computer where the code is running, then get <code>tz</code> by calling <code>DateTimeZoneProviders.Tzdb.GetSystemDefault()</code></li>\n</ul></li>\n<li><p>For comparison of the type of problem you have described, consider defining min and max <em>days</em> instead of min and max <em>periods</em>.  Then you wont have such variation of units.  You can get the difference in days like this:</p>\n\n<pre><code>long days = Period.Between(d1, d2, PeriodUnits.Days).Days;\n</code></pre></li>\n</ul>\n\n<p>I believe something like this would work well for your use case:</p>\n\n<pre><code>public static bool IsDifferenceLessThan(LocalDate d1, LocalDate d2, Period p)\n{\n    if (p.HasTimeComponent)\n        throw new ArgumentException(\"Can only compare dates.\", \"p\");\n\n    if (p.Years != 0)\n    {\n        if (p.Months != 0 || p.Weeks != 0 || p.Days != 0)\n            throw new ArgumentException(\"Can only compare one component of a period.\", \"p\");\n\n        var years = Period.Between(d1, d2, PeriodUnits.Years).Years;\n        return years &lt; p.Years;\n    }\n\n    if (p.Months != 0)\n    {\n        if (p.Weeks != 0 || p.Days != 0)\n            throw new ArgumentException(\"Can only compare one component of a period.\", \"p\");\n\n        var months = Period.Between(d1, d2, PeriodUnits.Months).Months;\n        return months &lt; p.Months;\n    }\n\n    if (p.Weeks != 0)\n    {\n        if (p.Days != 0)\n            throw new ArgumentException(\"Can only compare one component of a period.\", \"p\");\n\n        var weeks = Period.Between(d1, d2, PeriodUnits.Weeks).Weeks;\n        return weeks &lt; p.Weeks;\n    }\n\n    var days = Period.Between(d1, d2, PeriodUnits.Days).Days;\n    return days &lt; p.Days;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431608831, "post_id": 30237004, "comment_id": 48577842, "body": "I had been looking at the <code>Comparer</code> and didn&#39;t think it could really solve what I was after.  However, it&#39;s nice to actually understand what / how the <code>CreateComparer</code> works, this might provide another alternative approach.  (RTFM I know... Thank you @jon-skeet!!)"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431609083, "post_id": 30237004, "comment_id": 48578014, "body": "@VulgarBinary: Yup - I added this answer basically for others... I don&#39;t think it&#39;s the right solution to your use case, but <i>may</i> be the right solution for others who want to compare periods in a simple way."}, {"owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "edited": false, "score": 0, "creation_date": 1431610507, "post_id": 30237004, "comment_id": 48578941, "body": "Yep!  The API docs on the nodatime.org site didn&#39;t completely click for me, but this did. I&#39;m sure others looking around will find this immensely helpful.  :-)"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1431626845, "post_id": 30237004, "comment_id": 48589530, "body": "Nice.  I didn&#39;t know about this particular tidbit. :)"}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 2, "last_activity_date": 1431605218, "creation_date": 1431605218, "answer_id": 30237004, "question_id": 30226705, "link": "https://stackoverflow.com/questions/30226705/best-way-to-compare-periods-in-using-nodatime-or-alternative/30237004#30237004", "title": "Best way to compare Periods in using NodaTime (or alternative)", "body": "<p>Just as an additional point to Matt's already-excellent answer, we provide an option for creating an <code>IComparer&lt;Period&gt;</code> with a specific anchor point, e.g.</p>\n\n<pre><code>var febComparer = Period.CreateComparer(new LocalDate(2015, 2, 1).AtMidnight());\nvar marchComparer = Period.CreateComparer(new LocalDate(2015, 3, 1).AtMidnight());\nvar oneMonth = Period.FromMonths(1);\nvar twentyNineDays = Period.FromDays(29);\n\n// -1: Feb 1st + 1 month is earlier than Feb 1st + 29 days\nConsole.WriteLine(febComparer.Compare(oneMonth, twentyNineDays));\n// 1: March 1st + 1 month is later than March 1st + 29 days\nConsole.WriteLine(marchComparer.Compare(oneMonth, twentyNineDays));\n</code></pre>\n"}], "owner": {"reputation": 3528, "user_id": 610561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QeHxV.jpg?s=128&g=1", "display_name": "VulgarBinary", "link": "https://stackoverflow.com/users/610561/vulgarbinary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "accepted_answer_id": 30227021, "answer_count": 2, "score": 2, "last_activity_date": 1431605218, "creation_date": 1431558803, "last_edit_date": 1431572633, "question_id": 30226705, "link": "https://stackoverflow.com/questions/30226705/best-way-to-compare-periods-in-using-nodatime-or-alternative", "title": "Best way to compare Periods in using NodaTime (or alternative)", "body": "<p>I have a requirement to have a relative min/max date validation able to be stored in a database to customize an application per customer.  I decided that the <code>NodaTime.Period</code> due to it's capability to specify years was the best choice.  However, <code>NodaTime.Period</code> does not offer a way to compare itself against another period.</p>\n\n<p>Example data provided for this validation:</p>\n\n<ul>\n<li>Minimum Age of 18 years old.</li>\n<li>Maximum Age o 100 years old.</li>\n<li>Minimum sale duration of 1 month</li>\n<li>Maximum sale duration of 3 months</li>\n<li>Minimum advertising campaign 7 days</li>\n</ul>\n\n<p>(Note: Current requirements are that Year / Month / Day will not be combined in validations)</p>\n\n<p>The validations are:</p>\n\n<pre><code>public Period RelativeMinimum { get; set; }\npublic Period RelativeMaximum { get; set; }\n</code></pre>\n\n<p>Given a user entered date (and now):</p>\n\n<pre><code>var now = new LocalDate(DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day);\nvar userValue = new LocalDate(date.Year, date.Month, date.Day);\nvar difference = Period.Between(userValue, now);\n</code></pre>\n\n<p>I have a comparison of:</p>\n\n<pre><code>if(RelativeMinimum != null &amp;&amp; difference.IsLessThan(RelativeMinimum))))\n{\n    response.IsValid = false;\n    response.Errors.Add(MinimumErrorMessage);\n}\n</code></pre>\n\n<p>Which is consuming an extensions class:</p>\n\n<pre><code>public static class PeriodExtensions\n{\n    public static bool IsLessThan(this Period p, Period p2)\n    {\n        return (p.Years &lt; p2.Years) || (p.Years == p2.Years &amp;&amp; p.Months &lt; p2.Months) || (p.Years == p2.Years &amp;&amp; p.Months == p2.Months &amp;&amp; p.Days &lt; p2.Days);\n    }\n\n    public static bool IsGreaterThan(this Period p, Period p2)\n    {\n        return (p.Years &gt; p2.Years) || (p.Years == p2.Years &amp;&amp; p.Months &gt; p2.Months) || (p.Years == p2.Years &amp;&amp; p.Months == p2.Months &amp;&amp; p.Days &gt; p2.Days);\n    }\n}\n</code></pre>\n\n<p>While this approach works, given the test conditions I have, I have to wonder why @jon-skeet didn't implement this, and immediately have to worry over what am I missing and what alternative should I be using instead?</p>\n"}, {"tags": ["c#", ".net", "winforms", "charts"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1431559838, "post_id": 30226679, "comment_id": 48557507, "body": "What charting library is this?"}, {"owner": {"reputation": 595, "user_id": 4580759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/488ac11c3eeac7c00c1d1ad5f29f39ad?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Hamutel", "link": "https://stackoverflow.com/users/4580759/daniel-hamutel"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1431560846, "post_id": 30226679, "comment_id": 48557785, "body": "I added a reference using System.Windows.Forms.DataVisualization.Charting; and the control is: using System.Windows.Forms.DataVisualization.Charting.Chart that i dragged over in my designer."}], "answers": [{"tags": [], "owner": {"reputation": 7480, "user_id": 3330348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/q5U6s.jpg?s=128&g=1", "display_name": "PiotrWolkowski", "link": "https://stackoverflow.com/users/3330348/piotrwolkowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1431569214, "last_edit_date": 1495542115, "creation_date": 1431567913, "answer_id": 30227973, "question_id": 30226679, "link": "https://stackoverflow.com/questions/30226679/how-can-i-change-windows-forms-chart-control-data/30227973#30227973", "title": "How can I change Windows Forms Chart control data?", "body": "<p>Your graph displays numbers from 0/-1 to 10 because that's the range of values you provide. When the numbers are higher the graph will change labeling to include them. As to your code you provide a random numbers hence your result. To get what you described your data points have to contain the specified values: {1, 116} {2, 105} {100, 3}, etc. I don't understand what's the rule behind this series so I wasn't able to continue that. But to give you an example I generating the following: {116, 1} {112.13, 2} {108.26, 3} etc - with each step 116 is decreasing by thirtieth part of 116:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    for (var i = 1.0; i &lt; 30.0; ++i)\n    {\n        chart1.Series[\"Series1\"].Points.AddXY(i, (116.0 / 30.0) * (31.0 - i));\n    }\n\n    chart1.Series[\"Series1\"].ChartType = SeriesChartType.FastLine;\n    chart1.Series[\"Series1\"].Color = Color.Red;\n    chart1.Series[\"Series1\"].ChartType = SeriesChartType.FastLine;\n}\n</code></pre>\n\n<p>And the result is the following chart:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Xg302.png\" alt=\"enter image description here\"></p>\n\n<p>If you need more control over your labels than you have to use <code>CustomLabel</code> and <code>ChartAreas</code> but it can be tricky. <a href=\"https://stackoverflow.com/a/11993282/3330348\">This post</a> has some details</p>\n"}, {"tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 2, "last_activity_date": 1431577823, "creation_date": 1431577823, "answer_id": 30229255, "question_id": 30226679, "link": "https://stackoverflow.com/questions/30226679/how-can-i-change-windows-forms-chart-control-data/30229255#30229255", "title": "How can I change Windows Forms Chart control data?", "body": "<p>It is not entirely clear to me what you are trying to do. But this is how I interpreted your question:</p>\n\n<blockquote>\n  <p>On the left side instead the numbers 0 to 10 to see the numbers 1 to 116 And on the bottom instead -1 to 10 to see 1 to 30.</p>\n</blockquote>\n\n<p>I take this to mean that you would like to change the range of each axis, such that the X axis starts at 1 and ends at 30, and the Y axis starts at 1, and ends at 116.</p>\n\n<blockquote>\n  <p>But I want to know how to use it how to draw a line starting 116 and moving down according to the 1 to 30.</p>\n</blockquote>\n\n<p>I take this to mean that, in addition to the actual data series (i.e. your random points drawn as an XY scatter graph, as in your example), you would like a line overlaid on the chart area, where the line starts at the graph coordinate of (1, 116) and connects to the graph coordinate of (30, 1).</p>\n\n<p>With that in mind, here is your original code with additions to accomplish the above:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    Random rdn = new Random();\n    for (int i = 116; i &gt; 0; i--)\n    {\n        chart1.Series[\"Series1\"].Points.AddXY\n            (rdn.Next(0, 10), rdn.Next(0, 10));\n    }\n\n    chart1.Series[\"Series1\"].ChartType = SeriesChartType.FastLine;\n    chart1.Series[\"Series1\"].Color = Color.Red;\n\n    ChartArea area = chart1.ChartAreas[0];\n\n    // Set the min and max for each axis\n    area.AxisX.Minimum = 1;\n    area.AxisX.Maximum = 30;\n    area.AxisY.Minimum = 1;\n    area.AxisY.Maximum = 116;\n\n    // Add a line on top of the chart\n    LineAnnotation line = new LineAnnotation();\n\n    chart1.Annotations.Add(line);\n\n    // Set the annotation positioning to be relative to the X and Y axes\n    line.AxisX = area.AxisX;\n    line.AxisY = area.AxisY;\n\n    // Set the actual annotation position and boundary. Disable\n    // IsSizeAlwaysRelative so that the annotation's size is\n    // determined by the absolute positioning of the boundary.\n    line.IsSizeAlwaysRelative = false;\n    line.X = 1; line.Y = 116;\n    line.Right = 30; line.Bottom = 1;\n\n    // Format the line so it shows up better\n    line.LineColor = Color.Blue;\n    line.LineWidth = 3;\n}\n</code></pre>\n\n<p>That results in a chart that looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/DLtEc.png\" alt=\"enter image description here\"></p>\n\n<p>(I didn't change the range on your random number generation, which you had set to select random integer points between 0 and 10 for both the X and Y coordinates, so the data series itself is of course clustered in the lower left of the chart).</p>\n"}], "owner": {"reputation": 595, "user_id": 4580759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/488ac11c3eeac7c00c1d1ad5f29f39ad?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Hamutel", "link": "https://stackoverflow.com/users/4580759/daniel-hamutel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "accepted_answer_id": 30229255, "answer_count": 2, "score": 0, "last_activity_date": 1431577823, "creation_date": 1431558577, "last_edit_date": 1431566035, "question_id": 30226679, "link": "https://stackoverflow.com/questions/30226679/how-can-i-change-windows-forms-chart-control-data", "title": "How can I change Windows Forms Chart control data?", "body": "<p>This is the code I'm using now:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    Random rdn = new Random();\n    for (int i = 116; i &gt; 0; i--)\n    {\n        chart1.Series[\"Series1\"].Points.AddXY\n            (rdn.Next(0, 10), rdn.Next(0, 10));\n    }\n\n    chart1.Series[\"Series1\"].ChartType = SeriesChartType.FastLine; \n    chart1.Series[\"Series1\"].Color = Color.Red;\n\n    chart1.Series[\"Series1\"].ChartType = SeriesChartType.FastLine;\n}\n</code></pre>\n\n<p>What I get is:</p>\n\n<p><img src=\"https://i.stack.imgur.com/o09oF.jpg\" alt=\"Chart\"></p>\n\n<p>But now I want to change it.</p>\n\n<p>On the left side instead the numbers 0 to 10 to see the numbers 1 to 116\nAnd on the bottom instead -1 to 10 to see 1 to 30.</p>\n\n<p>And to draw a line starting at 116 until 1 according to the 1 to 30.\nFor example in 1 it's 116 then in 2 it will be 105 then 100&hellip;it's just for testing so it can be random or just straight line from 116 to the 30.</p>\n\n<p>But I want to know how to use it how to draw a line starting 116 and moving down according to the 1 to 30.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 2, "creation_date": 1431558932, "post_id": 30226664, "comment_id": 48557264, "body": "While the endpoints of those line segments are equal, the tangents are not, so their edges are pointing in slightly different directions. If you&#39;re not going to zoom in, you could ignore the issue. If you are, you could use more segments, insert extra &quot;end&quot; segments, or use your own mesh/sprite that avoids any continuity problems by design."}, {"owner": {"reputation": 984, "user_id": 2232443, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZGtRS.jpg?s=128&g=1", "display_name": "Berke Cagkan Toptas", "link": "https://stackoverflow.com/users/2232443/berke-cagkan-toptas"}, "reply_to_user": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 0, "creation_date": 1431600293, "post_id": 30226664, "comment_id": 48572596, "body": "drawing circles (diameter will be the width of line, center will be your segment coordinate) at the intersection may do the trick. Otherwise, I agree with @rutter that you need to build your own mesh."}], "answers": [{"tags": [], "owner": {"reputation": 6580, "user_id": 505345, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fUve4.png?s=128&g=1", "display_name": "Jinbom Heo", "link": "https://stackoverflow.com/users/505345/jinbom-heo"}, "is_accepted": false, "score": 0, "last_activity_date": 1431674385, "creation_date": 1431674385, "answer_id": 30253758, "question_id": 30226664, "link": "https://stackoverflow.com/questions/30226664/how-can-i-fix-this-imperfect-circle-i-made-using-linerenderer/30253758#30253758", "title": "How can I fix this imperfect circle I made using LineRenderer?", "body": "<p>This solution could be a little bit complicated. But it'll works. <br/>\nThe idea is </p>\n\n<p>1) Draw first segment as small segmented area.<br/>\n2) Draw from seconds to last -1 segments as big segment. <br/>\n3) Draw last segment as small segmented area too.<br/></p>\n\n<p>It makes seamless edge between the start segment and the end segment.\nAnd total segment's count is not too many.</p>\n\n<pre><code>total segment = segment + 2 * subsegment\n</code></pre>\n\n<p>This is sample code.</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class CircleShapeGenerator : MonoBehaviour {\n\n    public int segments = 100;\n    public int edgeSegments = 10;\n    public float radius = 1f; \n\n    int vertCount;\n    float increAngle, increAngleEdge;\n\n    public Color c1 = new Color( 1, 1, 1, 1f );\n    public Color c2 = new Color( 1, 1, 1, 1f );\n\n    LineRenderer line;\n\n    void Start ()\n    {\n        vertCount = segments + 2*edgeSegments - 2 + 1;\n        increAngle = 360f / segments;\n        increAngleEdge = increAngle/edgeSegments;\n\n        line = gameObject.AddComponent&lt;LineRenderer&gt;();\n\n        line.material = new Material(Shader.Find(\"Particles/Additive\"));\n        line.SetWidth(0.05F, 0.05F);\n        line.SetVertexCount (vertCount);\n        line.useWorldSpace = false;\n    }\n\n    void Update()\n    {\n        line.SetColors(c1, c2);\n\n        //draw first segment\n        float angle = 0;\n        for (int i = 0; i &lt; edgeSegments; i++)\n        {\n            float x = Mathf.Sin (Mathf.Deg2Rad * angle) * radius;\n            float y = Mathf.Cos (Mathf.Deg2Rad * angle) * radius;\n\n            line.SetPosition( i, new Vector3(x, y, 0) );\n            angle += increAngleEdge;\n        }\n\n        //draw from seconds to last-1  segment\n        angle -= increAngleEdge;\n        for (int i = 0; i &lt; segments-2; i++)\n        {\n            angle += increAngle;\n\n            float x = Mathf.Sin (Mathf.Deg2Rad * angle) * radius;\n            float y = Mathf.Cos (Mathf.Deg2Rad * angle) * radius;\n\n            line.SetPosition( edgeSegments + i, new Vector3(x, y, 0) );\n        }\n\n        //draw last segment\n        for (int i = 0; i &lt; edgeSegments+1; i++)\n        {\n            angle += increAngleEdge;\n\n            float x = Mathf.Sin (Mathf.Deg2Rad * angle) * radius;\n            float y = Mathf.Cos (Mathf.Deg2Rad * angle) * radius;\n\n            line.SetPosition( edgeSegments + segments - 2 + i, new Vector3(x, y, 0) );\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2898, "user_id": 1480218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y9nPp.jpg?s=128&g=1", "display_name": "Discipol", "link": "https://stackoverflow.com/users/1480218/discipol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431674385, "creation_date": 1431558519, "question_id": 30226664, "link": "https://stackoverflow.com/questions/30226664/how-can-i-fix-this-imperfect-circle-i-made-using-linerenderer", "title": "How can I fix this imperfect circle I made using LineRenderer?", "body": "<p>So I made this shape which I applied to a sprite via this script:</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class CircleShapeGenerator : MonoBehaviour\n{\n    public int segments = 100;\n    public float radius = 1;\n\n    public Color c1 = new Color( 1, 1, 1, 0.1f );\n    public Color c2 = new Color( 1, 1, 1, 0.1f );\n\n    LineRenderer line;\n\n    void Start ()\n    {\n        line = gameObject.AddComponent&lt;LineRenderer&gt;();\n\n        line.material = new Material(Shader.Find(\"Particles/Additive\"));\n        line.SetWidth(0.05F, 0.05F);\n        line.SetVertexCount (segments + 1);\n        line.useWorldSpace = false;\n    }\n    void Update()\n    {\n        line.SetColors(c1, c2);\n\n        float angle = 20f;\n\n        for (int i = 0; i &lt; (segments + 1); i++)\n        {\n            float x = Mathf.Sin (Mathf.Deg2Rad * angle) * radius;\n            float y = Mathf.Cos (Mathf.Deg2Rad * angle) * radius;\n\n            line.SetPosition( i, new Vector3( x,y,0) );\n\n            angle += (360f / segments);\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see in the screenshot, the start and end do not connect as they should. How can I fix this? I found this snippet of code on the entire internet but all give this result. Can somebody fix this or provide, perhaps, a spline solution? I think its overkill to go to a Shader solution (0 experience with shaders).</p>\n\n<p><img src=\"https://i.stack.imgur.com/pnclk.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "asp.net-mvc", "validation"], "comments": [{"owner": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 3, "creation_date": 1431558345, "post_id": 30226625, "comment_id": 48557115, "body": "Please show us what you&#39;ve tried and how its failed rather than suggesting that we write it for you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1431558519, "post_id": 30226625, "comment_id": 48557170, "body": "Simpliest UI would be to just use a dropdownlist, but you can always use a <code>[RegularExpression]</code> attribute if you want to annoy your users."}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1431768594, "post_id": 30226625, "comment_id": 48646971, "body": "If you have a limited set of choices they can make, then give them a selection of those choices rather than forcing them to type them in as text and possibly get them wrong.  Use a dropdown, radio buttons, listbox, etc... then only those choices can be selected."}], "answers": [{"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431558885, "creation_date": 1431558885, "answer_id": 30226721, "question_id": 30226625, "link": "https://stackoverflow.com/questions/30226625/how-do-i-validate-only-certain-strings-in-c-mvc/30226721#30226721", "title": "How do I validate only certain strings in C# MVC?", "body": "<p>I would recommend using a dropdown box with those values, but that still doesn't validate the response.</p>\n\n<p>For server side validation, and assuming you have the value coming in via a parameter, something like this will work:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Submit(string color)\n    {\n        string[] validColors = new string[] { \"RED\", \"BLUE\", \"GREEN\", \"BLACK\" };\n        if (!validColors.Contains(color))\n        {\n            ViewBag.ErrorMessage = color + \" is not a valid color.\";\n            return View();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4740248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-u9Js1minLwY/AAAAAAAAAAI/AAAAAAAAF8c/TzkLU-KJG80/photo.jpg?sz=128", "display_name": "Harsh Panchal", "link": "https://stackoverflow.com/users/4740248/harsh-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431742088, "creation_date": 1431558273, "last_edit_date": 1431730435, "question_id": 30226625, "link": "https://stackoverflow.com/questions/30226625/how-do-i-validate-only-certain-strings-in-c-mvc", "title": "How do I validate only certain strings in C# MVC?", "body": "<p>How to validate only certain string in C#? For example if I have 4 colors RED, BLUE, GREEN and BLACK I only wants user to enter these colors. If a user enters other color such as WHITE than, the code throws an error like \"\nHow do I use this in my model validation in MVC C#?</p>\n\n<p>For example:\nMODEL:</p>\n\n<pre><code>public int ID {get; set;}\npublic string color {get; set;}\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code>    [HttpPost]\npublic ActionResult Create(\n            [Bind(Include = \"ID, color\")] tblColor myColor)\n        {\n            try { \n                if (ModelState.IsValid &amp;&amp; ModelState != ModelState)\n\n  if(myColor == RED, GREEN, BLUE, BLACK)\n{\n                    db.Projects.Add(myColor);\n                    db.SaveChanges();\n                    return RedirectToAction(\"Index\");\n}\nelse\n{\n// error == \"You are only allow to insert one of the RED, BLUE, GREEN, BLACK\";\n}\n                }\n            }\n            catch (Exception)\n            {\n               // Error message\n            }\n            return View(myColor);\n        }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 638, "user_id": 71957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f2aa00a49fbe00630ad5e700b12078b1?s=128&d=identicon&r=PG", "display_name": "Javier", "link": "https://stackoverflow.com/users/71957/javier"}, "is_accepted": false, "score": 0, "last_activity_date": 1431560784, "creation_date": 1431560784, "answer_id": 30227032, "question_id": 30226615, "link": "https://stackoverflow.com/questions/30226615/action-always-going-to-index-using-submit/30227032#30227032", "title": "Action always going to Index using submit()", "body": "<p>You're not accessing the 'action' attribute of the form itself, but to the jQuery selector result, in order for your code to work, you need to access the DOM element from inside the selector with $form[0].\nI recommend to stick to jQuery, you're already using it!. Below is a working code with jQuery selectors.</p>\n\n<p><code>&lt;form id=\"myForm\"&gt;&lt;/form&gt;\n    &lt;input type=\"button\" value=\"Save Only\" id=\"save\" data-action=\"saveOnly\"  /&gt;\n</code>   </p>\n\n<pre><code>&lt;script&gt;\n\n$('#save').click(function(){\n    var action = $(this).data('action');\n    var $form = $(\"#myForm\");\n    $form.attr('action', \"www.google.com?q=\" + action);\n    $form.attr('method', 'GET');\n    $form.submit();\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 1530, "user_id": 2865175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b3c2c07bac0f69acfa021dc1d07b2d8b?s=128&d=identicon&r=PG&f=1", "display_name": "navig8tr", "link": "https://stackoverflow.com/users/2865175/navig8tr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434601720, "creation_date": 1431558200, "last_edit_date": 1434601720, "question_id": 30226615, "link": "https://stackoverflow.com/questions/30226615/action-always-going-to-index-using-submit", "title": "Action always going to Index using submit()", "body": "<p>In my view, I'm using a function, <code>submitForm(action)</code> to submit the form on button click. This is one of many buttons that will use this function. The <code>action</code> parameter will indicate which controller method to use. </p>\n\n<p>The function seems to generate the correct Action attribute (the path is correct in the console), but it is always directed to the <code>Index</code> method rather than the <code>action</code> parameter.</p>\n\n<p>The button:</p>\n\n<p><code>&lt;input type=\"button\" value=\"Save Only\" id=\"save\" onclick=\"submitForm('SaveOnly')\" /&gt;</code></p>\n\n<p>The function:</p>\n\n<pre><code>function submitForm(action) {\n    var $form = $(\"#myForm\"); \n    $form.action = (\"/Area/MyController/\" + action);\n    $form.submit();\n}\n</code></pre>\n"}, {"tags": ["c#", "stderr"], "comments": [{"owner": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "edited": false, "score": 0, "creation_date": 1431558470, "post_id": 30226584, "comment_id": 48557151, "body": "The <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.process.standarderror(v=vs.110).aspx\" rel=\"nofollow noreferrer\">example</a> should answer your question."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1431566197, "post_id": 30226584, "comment_id": 48559166, "body": "Please be more specific about what it is in the documentation you are having trouble understanding. The docs are <b>very clear</b> regarding the deadlock risk that exists when redirecting both stdout and stderr. If you have a <i>specific</i> question relative to what the documentation says, please edit your question so that it&#39;s clear what you are actually asking."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431572364, "post_id": 30226584, "comment_id": 48560614, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "owner": {"reputation": 2967, "user_id": 2324576, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/993e0f8ecc3e4d85f2990b6a6fe5b0a1?s=128&d=identicon&r=PG", "display_name": "James Joshua Street", "link": "https://stackoverflow.com/users/2324576/james-joshua-street"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1431574437, "creation_date": 1431557979, "last_edit_date": 1431574437, "question_id": 30226584, "link": "https://stackoverflow.com/questions/30226584/will-a-program-deadlock-if-the-error-stream-is-not-read-from-regularly", "title": "will a program deadlock if the error stream is not read from regularly?", "body": "<p>I originally wanted to quickly check an error stream from a program right after it starts to make sure that it ran successfully.</p>\n\n<pre><code>ProcessStartInfo startInfo = new ProcessStartInfo();\nstartInfo.RedirectStandardError = true;\nstring errortext = Process.StandardError.ReadToEnd();\n</code></pre>\n\n<p>However, I was wondering do I have to redirect the Process's standard error back to a file.</p>\n\n<p>I would think that if nothing is reading from std error and the program writes many errors to the stream, then eventually the buffer will fill up. I don't know exactly how <code>ProcessStartInfo.RedirectStandardError</code> works, but I assume that the buffer won't automatically write to a file when full. </p>\n\n<p>In order to avoid freezing up the program I'm reading from, should stderror be redirected to a file instead? and then just read that file into the string to check for errors at startup?</p>\n"}, {"tags": ["c#", "wpf", "wcf", "xaml"], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 2, "last_activity_date": 1431558655, "creation_date": 1431558655, "answer_id": 30226686, "question_id": 30226572, "link": "https://stackoverflow.com/questions/30226572/how-to-run-business-logic-on-one-computer-of-the-local-network-and-gui-on-anothe/30226686#30226686", "title": "How to run business logic on one computer of the local network and GUI on another?", "body": "<p>An <em>easy</em> way? No. </p>\n\n<p>You can, as you noted, use WCF. You could also use SignalR, a message bus, standard TCP sockets, or a number of other technologies.</p>\n\n<p><strong>None</strong> of these however will give you the absolute transparency you seem to desire. They all work off the concept that you are going to invoke a method on the server, and it may or may not return data. In the case of TCP, you send data and may get data back. You don't simply access/change a property or listen to an event (SignalR and WCF do support server->client invocation, which isn't <em>exactly</em> the same thing as an event, but it can work like one). </p>\n\n<p>I think you need to look at implementing a standard client/server model, inconvenient as you may believe it to be.</p>\n"}, {"comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431558981, "post_id": 30226693, "comment_id": 48557276, "body": "Network ops can be async, so they need to not make UI interaction painful . That said, I&#39;m not sure this really answers the question (though you could argue it could solve his problem)"}, {"owner": {"reputation": 1329, "user_id": 1921830, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b6c64f9e0e2ead18abf67d62c4b71e64?s=128&d=identicon&r=PG", "display_name": "Aloraman", "link": "https://stackoverflow.com/users/1921830/aloraman"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431560110, "post_id": 30226693, "comment_id": 48557583, "body": "@BradleyDotNET, I think,in general, async operations cannot save from problems with managing and synchronization of &#39;view state&#39; between GUI and BL machines, if GUI and BL are tightly coupled. So, if refactoring isn&#39;t an option, than my answer should suffice, otherwise application should be reimplemented with client/server architecture"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431561827, "post_id": 30226693, "comment_id": 48558057, "body": "Sure, you have to have a decoupled architecture before <i>any</i> networking is possible. Of course, such an architecture is desirable anyways :). Never enough time to do it right, always enough time to do it over."}, {"owner": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "edited": false, "score": 0, "creation_date": 1431587692, "post_id": 30226693, "comment_id": 48565741, "body": "Obviously I made mistake when I chose WPF and basically I am thinking about redoing the thing with MVC but for the sake of time I&#39;ll stick with RemoteApps. So, thank you for the link."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "edited": false, "score": 0, "creation_date": 1431618038, "post_id": 30226693, "comment_id": 48584225, "body": "@DmitryTimofeev If you use MVVM with WPF (as you should) then the decoupled architecture should come <i>very</i> naturally."}, {"owner": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431620377, "post_id": 30226693, "comment_id": 48585684, "body": "@BradleyDotNET Basically I am having MVVM with WPF and when I wrote &quot;GUI and BL should stay coupled&quot; I meant that GUI and VM should stay synchronized as in usual WPF MVVM. And when I mentioned events I meant that my VM is using other classes which are using events. But as far as I can see WCF does not allow to work with Properties which should be enough to say that WCF is not really applicable. Or maybe I am wrong?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "edited": false, "score": 0, "creation_date": 1431629880, "post_id": 30226693, "comment_id": 48591299, "body": "@DmitryTimofeev It is 100% possible to use a WCF proxy as your model. You just have to get away from the idea of setting properties, and if you need events use a duplex WCF channel. Realize that you are actually talking to a <i>service</i> (which you are at that point) and design for that. The fact that you are using WPF is irrelevant at that point."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "edited": false, "score": 0, "creation_date": 1431641668, "post_id": 30226693, "comment_id": 48597490, "body": "@DmitryTimofeev The bindings should be to the <i>view model</i> which then talks to the WCF proxy (acting as the model). Bindings should not be affected. Consider coming to WPF chat to talk about this: <a href=\"http://chat.stackoverflow.com/rooms/18165/wpf\">chat.stackoverflow.com/rooms/18165/wpf</a>"}, {"owner": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431642200, "post_id": 30226693, "comment_id": 48597663, "body": "@BradleyDotNET Well, this is exatcly how I started adapting WCF to my case and that is why I came here to ask if there are other easier ways. As I wrote I can adapt my WPF/MVVM to work with WCF but that will take time. That being said."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "edited": false, "score": 0, "creation_date": 1431642647, "post_id": 30226693, "comment_id": 48597793, "body": "@DmitryTimofeev Yes, it will take time. I don&#39;t deny this. However, as in my answer <i>any</i> solution will take time as you have to move to a server/client model. I&#39;m glad you found a working solution :)"}], "tags": [], "owner": {"reputation": 1329, "user_id": 1921830, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b6c64f9e0e2ead18abf67d62c4b71e64?s=128&d=identicon&r=PG", "display_name": "Aloraman", "link": "https://stackoverflow.com/users/1921830/aloraman"}, "is_accepted": true, "score": 2, "last_activity_date": 1431558726, "creation_date": 1431558726, "answer_id": 30226693, "question_id": 30226572, "link": "https://stackoverflow.com/questions/30226572/how-to-run-business-logic-on-one-computer-of-the-local-network-and-gui-on-anothe/30226693#30226693", "title": "How to run business logic on one computer of the local network and GUI on another?", "body": "<p>No, there is no simple way to do that.<br>\nIf your GUI and BL are running on different machines, then you have to implement special code to perform network communications between apps (i.e. GUI and BL are two different apps), and if GUI and BL are tightly coupled, it's almost impossible and pointless to do so (network-related code would contain service contracts tremendous in size and remoting would consume large amount of time, making UI interaction slow and painful) - it should be refactored.\n <br><br>\n    There is, however, a workaround for your problem - you can run your app on machine with both BL and GUI, then show that GUI on different machine: RemoteDesktop or RemoteApp (<a href=\"https://technet.microsoft.com/en-us/library/cc755055.aspx\" rel=\"nofollow\">https://technet.microsoft.com/en-us/library/cc755055.aspx</a>) could help with that.</p>\n"}], "owner": {"reputation": 341, "user_id": 1964961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b3a5295cbe475aeccd3e19831f85448?s=128&d=identicon&r=PG", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/1964961/dimitri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 30226693, "answer_count": 2, "score": 2, "last_activity_date": 1431558726, "creation_date": 1431557921, "question_id": 30226572, "link": "https://stackoverflow.com/questions/30226572/how-to-run-business-logic-on-one-computer-of-the-local-network-and-gui-on-anothe", "title": "How to run business logic on one computer of the local network and GUI on another?", "body": "<p>I have a WPF application running on a computer which is connected to a local network and there is a special device connected to this computer which is controlled by the application. Is there any easy way to migrate the GUI (WPF XAML) to another computer connected to the same network so that the GUI and BL stay coupled?</p>\n\n<p>I have been looking into WCF but there are quite some limitations which would make it time consuming to adapt WCF to my situation. WCF would work perfectly if it could handle both properties (not supported at all) and events in one ServiceContract.</p>\n"}, {"tags": ["c#", "xaml", "windows-phone-8.1", "winrt-xaml"], "answers": [{"tags": [], "owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1431573434, "creation_date": 1431573434, "answer_id": 30228652, "question_id": 30226556, "link": "https://stackoverflow.com/questions/30226556/winrt-how-to-not-have-page-go-up-when-virtual-key-board-appears-windows-phone-8/30228652#30228652", "title": "WinRT how to not have page go up when virtual key board appears Windows Phone 8.1", "body": "<p>You need to handle the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.viewmanagement.inputpane.showing.aspx\" rel=\"nofollow\"><code>InputPane.Showing</code></a> event, and set the <code>EnsuredFocusedElementInView</code> property to <code>true</code>. This will stop Windows from trying to make the item come into view. </p>\n"}], "owner": {"reputation": 2803, "user_id": 1733263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5Ysp4.jpg?s=128&g=1", "display_name": "Damien", "link": "https://stackoverflow.com/users/1733263/damien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 30228652, "answer_count": 1, "score": 1, "last_activity_date": 1431618639, "creation_date": 1431557748, "last_edit_date": 1431618639, "question_id": 30226556, "link": "https://stackoverflow.com/questions/30226556/winrt-how-to-not-have-page-go-up-when-virtual-key-board-appears-windows-phone-8", "title": "WinRT how to not have page go up when virtual key board appears Windows Phone 8.1", "body": "<p>I have an AutoSuggestBox in a XAML Page for a Windows Phone 8.1 app and when i click on the AutoSuggestBox the whole page goes up.  Does anyone know how to disable this feature?</p>\n\n<p>Thanks</p>\n\n<p>Edit:\nHere is the code fix, thank you Peter Torr - MSFT.</p>\n\n<pre><code>Windows.UI.ViewManagement.InputPane.GetForCurrentView().Showing += (s, args) =&gt;\n            {\n                args.EnsuredFocusedElementInView = true;\n            };\n</code></pre>\n"}, {"tags": ["c#", "formatting", "double", "number-formatting"], "comments": [{"owner": {"reputation": 824, "user_id": 537323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005d9aa69eb2638e2a7f214a72024d09?s=128&d=identicon&r=PG", "display_name": "Thiago S&#225;", "link": "https://stackoverflow.com/users/537323/thiago-s%c3%a1"}, "edited": false, "score": 2, "creation_date": 1431557796, "post_id": 30226540, "comment_id": 48556962, "body": "See this <a href=\"http://stackoverflow.com/questions/4997085/c-sharp-convert-to-double-with-2-precision-string-after-dot\" title=\"c sharp convert to double with 2 precision string after dot\">stackoverflow.com/questions/4997085/&hellip;</a>"}, {"owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "edited": false, "score": 1, "creation_date": 1431557867, "post_id": 30226540, "comment_id": 48556990, "body": "Show your code. And bear in mind floating-point data types cannot represent decimal values precisely."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431558474, "post_id": 30226540, "comment_id": 48557153, "body": "No matter how you slice it, a double will represent all the precision it can. It might be &quot;2.0000000000000&quot; but it will <i>never</i> be &quot;2.00&quot;"}], "owner": {"reputation": 9, "user_id": 3678213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9755ef2fcbed0402fd31842230492ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3678213", "link": "https://stackoverflow.com/users/3678213/user3678213"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1431558430, "answer_count": 0, "score": 0, "last_activity_date": 1431557655, "creation_date": 1431557655, "question_id": 30226540, "link": "https://stackoverflow.com/questions/30226540/double-data-type-formatting", "closed_reason": "Duplicate", "title": "&quot;Double&quot; data type formatting", "body": "<p>So I'm a beginner C# programmer and cannot seem to figure out how to format a double to show a \".00\" at the end of a WHOLE NUMBER. Keep in mind, I do not simply want the program to display the \".00\" but want the variable to actually take that value. I cannot get this to occur even if I divide the value by \"1.00\". Perhaps someone would be able to show me how to cast a variable to have 2 decimal places as I would need to cast some variables and perform arithmetic with them in order to save an answer to a double variable.\nI would truly appreciate any help on this matter. \nThank you very much </p>\n"}, {"tags": ["c#", "string", "hex"], "comments": [{"owner": {"reputation": 1778, "user_id": 441517, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Uhjle.jpg?s=128&g=1", "display_name": "Shane van Wyk", "link": "https://stackoverflow.com/users/441517/shane-van-wyk"}, "edited": false, "score": 0, "creation_date": 1431557881, "post_id": 30226433, "comment_id": 48556995, "body": "Can you please be more clear what you need help with?"}], "answers": [{"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1431558680, "post_id": 30226567, "comment_id": 48557210, "body": "Can you please clarify what exactly you are answering? Question is so unclear that it is hard to reason if your post is related  to question at all... Also If OP would need such conversion they would find many questions with similar suggestion already...."}, {"owner": {"reputation": 21, "user_id": 4897630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf641d2524f201e560cd115bf26a5b1?s=128&d=identicon&r=PG&f=1", "display_name": "giuseppe loddo", "link": "https://stackoverflow.com/users/4897630/giuseppe-loddo"}, "edited": false, "score": 0, "creation_date": 1431636354, "post_id": 30226567, "comment_id": 48594980, "body": "I was right thinking that the issue was the space but I was not knowing how to split and do the conversion like you have done.  Execuse me if I&#39;ve posted all the code, my question was only about the string ToHex() method."}], "tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431557881, "creation_date": 1431557881, "answer_id": 30226567, "question_id": 30226433, "link": "https://stackoverflow.com/questions/30226433/c-convert-a-string-hex-to-ascii-string-reading-from-a-csv-file/30226567#30226567", "title": "c# convert a string hex to ascii ? string reading from a csv file", "body": "<p>I've got a more straight forward solution for you, to convert your hex data back into string format.  I've got sample data in here also:</p>\n\n<pre><code>string s = \"4E 4F 54 49 46 59\"; // Sample data\nstring hex = \"0123456789ABCDEF\";\nstring[] tokens = s.Split(' ');\nStringBuilder sb = new StringBuilder();\nforeach (string token in tokens)\n    sb.Append((char)(hex.IndexOf(token[0]) * 16 + hex.IndexOf(token[1])));\nstring output = sb.ToString(); // The variable output contains your converted text.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1431559382, "post_id": 30226765, "comment_id": 48557383, "body": "p.s., there are other fundamental issues with the rest of your code... I&#39;m addressing your question."}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 1, "last_activity_date": 1431559214, "creation_date": 1431559214, "answer_id": 30226765, "question_id": 30226433, "link": "https://stackoverflow.com/questions/30226433/c-convert-a-string-hex-to-ascii-string-reading-from-a-csv-file/30226765#30226765", "title": "c# convert a string hex to ascii ? string reading from a csv file", "body": "<p>You had the right idea to convert the hex bytes to actual bytes but your approach doesn't work.  Assuming that you're passing in a sequence of valid hex bytes that are space separated, you could do this in your <code>ToHex()</code> method:</p>\n\n<pre><code>var hexBytes = \"4E 4F 54 49 46 59\";\nvar bytes = hexBytes.Split(' ')\n    .Select(hb =&gt; Convert.ToByte(hb, 16)) // converts string -&gt; byte using base 16\n    .ToArray();\nvar asciiStr = System.Text.Encoding.ASCII.GetString(bytes);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4897630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf641d2524f201e560cd115bf26a5b1?s=128&d=identicon&r=PG&f=1", "display_name": "giuseppe loddo", "link": "https://stackoverflow.com/users/4897630/giuseppe-loddo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3452, "favorite_count": 0, "accepted_answer_id": 30226765, "answer_count": 2, "score": -1, "last_activity_date": 1431559214, "creation_date": 1431557038, "last_edit_date": 1431558453, "question_id": 30226433, "link": "https://stackoverflow.com/questions/30226433/c-convert-a-string-hex-to-ascii-string-reading-from-a-csv-file", "title": "c# convert a string hex to ascii ? string reading from a csv file", "body": "<p>I'm trying in C# and visual studio express to convert a very long string of chars that contains hex data names in ASCII words</p>\n\n<p>Example : The file column that I read contain the string</p>\n\n<blockquote>\n  <p>4E 4F 54 49 46 59 .................. (continue)</p>\n</blockquote>\n\n<p>that means in ASCI  \"NOTIFY\"</p>\n\n<p>My program is getting this exception when with the method ToHex I try to convert this.</p>\n\n<p>Why appear this exception? Is it caused by the char of space between each two chars of hex ASCII values?</p>\n\n<blockquote>\n  <p>A first chance exception of type 'System.FormatException' occurred in\n  mscorlib.dll A first chance exception of type<br>\n  'System.Reflection.TargetInvocationException' occurred in mscorlib.dll\n  A first chance exception of type<br>\n  'System.Reflection.TargetInvocationException' occurred in mscorlib.dll</p>\n</blockquote>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.IO;\nusing LumenWorks.Framework.IO;\nusing LumenWorks.Framework.IO.Csv;\n\n//main class\nnamespace WpfApplication2\n{\n    public partial class MainWindow : Window\n    {\n        public String FirstName { get; set; }\n\n        public MainWindow()\n        {\n            InitializeComponent();\n            ConvertTrace.HexUtf8toAsci();\n        }\n    }\n\n    //convert service classe\n    public class ConvertTrace\n    {\n        public static String output;\n        public static String fine;\n        /*this is the method for convert the string that contain the hex spaced couples of chars into a asci readable string*/\n\n        public static string ToHex(String hexString)\n        {\n            byte[] dBytes = Enumerable.Range(0, hexString.Length).Where(x =&gt; x % 2 == 0).Select(x =&gt; Convert.ToByte(hexString.Substring(x, 2), 16)).ToArray();\n\n            output = System.Text.Encoding.ASCII.GetString(dBytes);\n            return output;\n        }\n\n        public static void HexUtf8toAsci()\n        {\n            // open the file \"data.csv\" which is a CSV file with headers\n            using (CsvReader csv = new CsvReader(new StreamReader(\"test3pulito.csv\"), true))\n            {\n                int fieldCount = csv.FieldCount;\n                string[] headers = csv.GetFieldHeaders();\n                while (csv.ReadNextRecord())\n                {\n                    for (int i = 0; i &lt; fieldCount; i++)\n                    {\n                        string line2 = null;\n                        int line_number2 = 0;\n                        using (StreamWriter writer2 = new StreamWriter(\"test3new.csv\"))\n                        {\n                            System.Text.UTF8Encoding encoding;\n                            byte[] dBytes;\n                            string ASCIIresult;\n                            string utf8result;\n                            string corretto;\n                            string originale;\n                            string risultato;\n                            line_number2++;\n                            //here I check the column of the file where to get the string to convert\n                            if (i&gt;7)\n                            {\n                                originale = csv[i];\n                                Console.WriteLine(originale + \"\\r\");\n                                /*here is where I call the convert method*/\n                                corretto = ToHex(originale);\n                                Console.WriteLine(corretto + \"\\r\");**\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "entity-framework-6"], "comments": [{"owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "edited": false, "score": 0, "creation_date": 1431556218, "post_id": 30226231, "comment_id": 48556482, "body": "Tried <code>CashTransact = cashtransacts.Text</code>?"}, {"owner": {"reputation": 44, "user_id": 2374256, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bM4M9.jpg?s=128&g=1", "display_name": "Robert Omete", "link": "https://stackoverflow.com/users/2374256/robert-omete"}, "reply_to_user": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "edited": false, "score": 0, "creation_date": 1431605408, "post_id": 30226231, "comment_id": 48575647, "body": "Does not work not even in intellisense"}, {"owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "edited": false, "score": 0, "creation_date": 1431605677, "post_id": 30226231, "comment_id": 48575819, "body": "Then there&#39;s something else wrong. You should be able to access the TextBox.Text property."}], "answers": [{"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 1, "last_activity_date": 1431556326, "creation_date": 1431556326, "answer_id": 30226312, "question_id": 30226231, "link": "https://stackoverflow.com/questions/30226231/pass-a-value-from-textbox-to-entityframework-insert-method-in-windows-form/30226312#30226312", "title": "Pass a value from textbox to entityframework insert method in windows form", "body": "<p>\"value in my textbox\"</p>\n\n<p>The correct way to get a value from a textbox is TextBox.Text.</p>\n\n<p>The TextBox.Name will only return the name of the control that you provided it.  </p>\n"}], "owner": {"reputation": 44, "user_id": 2374256, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bM4M9.jpg?s=128&g=1", "display_name": "Robert Omete", "link": "https://stackoverflow.com/users/2374256/robert-omete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431579869, "creation_date": 1431555943, "last_edit_date": 1431579869, "question_id": 30226231, "link": "https://stackoverflow.com/questions/30226231/pass-a-value-from-textbox-to-entityframework-insert-method-in-windows-form", "title": "Pass a value from textbox to entityframework insert method in windows form", "body": "<p>I am using C# windows forms with entityframework 6.1.3 as the datasource.I am tryng to insert data into a windows form. I have searched for various guides but all of them show an example like this</p>\n\n<pre><code>   private void CreateCash(object sender, DevExpress.XtraBars.ItemClickEventArgs e)\n    {\n        LegalGridView.AddNewRow();\n        LegalGridView.ShowPopupEditForm();\n        var CashBookCreate = new CashBook \n        {\n            CashTransact = cashtransacts.Name\n\n\n        };\n        dbContext.CashBooks.Add(CashBookCreate);\n        dbContext.SaveChanges();\n    }\n}\n</code></pre>\n\n<p><em>CashTransact</em> is the name of my class and in that format it enters \"Legal Fees\" in the database but I want to substitute \"Legal Fees\" for the value in my textbox 'cashtransacts' which unfortunately when I replace it there as <em>cashtransacts.Name</em> instead gets me the name of the column instead of the value I type in?</p>\n"}, {"tags": ["c#", "asp.net", "viewstate"], "comments": [{"owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "edited": false, "score": 1, "creation_date": 1431563035, "post_id": 30226217, "comment_id": 48558408, "body": "You certainly need to create your controls during the Init event, Load is too late. Check out the <a href=\"https://msdn.microsoft.com/en-us/library/ms178472.aspx\" rel=\"nofollow noreferrer\">asp.Net page life&#39;s cycle</a> for details."}], "answers": [{"comments": [{"owner": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431557005, "post_id": 30226374, "comment_id": 48556734, "body": "I do provide a unique id for each checkbox...checkboxId = &quot;checkbox&quot; + (string)item.Attributes[&quot;ree_sectionnumber&quot;].ToString() + (string)item.Attributes[&quot;ree_sequencenumber&quot;].ToString();. What I end up with is checkbox11,checkbox12, etc."}, {"owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "reply_to_user": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431558264, "post_id": 30226374, "comment_id": 48557098, "body": "Problem with that might be when you are post-processing ... how do you know which key value pair to get from the Response? The &quot;chk_&quot; + dr(&quot;ID&quot;)] needs to be something that you can build from the data that is available at hand during the post-processing."}, {"owner": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431558687, "post_id": 30226374, "comment_id": 48557214, "body": "The rows are built from the CRM database and the id is also built from the same information. That information doesn&#39;t change from the initial creation to the post back so the id will remain that same."}], "tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431556686, "creation_date": 1431556686, "answer_id": 30226374, "question_id": 30226217, "link": "https://stackoverflow.com/questions/30226217/how-can-i-get-the-value-of-a-dynamically-created-checkbox-when-the-submit-button/30226374#30226374", "title": "How can I get the value of a dynamically created checkbox when the submit button is clicked?", "body": "<p>You need to provide an ID for the checkbox control when you create it.  Since you are creating multiple checkboxes; one for each row in the database ... you need to add the unique row identifier to the ID.  So you need to build the checkbox ID from the row ID (usually the IDENTITY).  Example: \"></p>\n\n<p>Then on postback while you are post-processing each row in the table, you can query the request for that specific key value pair.  Something similar to this:</p>\n\n<p>foreach (DataRow dr in dataTable.Rows)\n    Response[\"chk_\" + dr(\"ID\")];</p>\n"}, {"comments": [{"owner": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431624535, "post_id": 30227434, "comment_id": 48588195, "body": "I switched the creation of the controls to page_init and I still cannot find them in the viewstate."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2655145"}, "is_accepted": false, "score": 0, "last_activity_date": 1431563473, "creation_date": 1431563473, "answer_id": 30227434, "question_id": 30226217, "link": "https://stackoverflow.com/questions/30226217/how-can-i-get-the-value-of-a-dynamically-created-checkbox-when-the-submit-button/30227434#30227434", "title": "How can I get the value of a dynamically created checkbox when the submit button is clicked?", "body": "<p>Use Page Init as opossed to page_Load event. As per <a href=\"https://msdn.microsoft.com/en-us/library/ms178472.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms178472.aspx</a> \"Use this event to read or initialize control properties\"</p>\n"}, {"tags": [], "owner": {"reputation": 2612, "user_id": 1313789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jG0DC.jpg?s=128&g=1", "display_name": "Yuri", "link": "https://stackoverflow.com/users/1313789/yuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1431563877, "creation_date": 1431563877, "answer_id": 30227479, "question_id": 30226217, "link": "https://stackoverflow.com/questions/30226217/how-can-i-get-the-value-of-a-dynamically-created-checkbox-when-the-submit-button/30227479#30227479", "title": "How can I get the value of a dynamically created checkbox when the submit button is clicked?", "body": "<p>In case for that to work you need to add an event handler to dynamically added controls\nin your case</p>\n\n<pre><code>checkbox = new CheckBox();\nphChecklist.Controls.Add(checkbox);\ncheckbox.CheckedChanged += checkBox_CheckedChanged;\n</code></pre>\n\n<p>and then what you need to do in the method</p>\n\n<pre><code>private void CheckBox_CheckedChanged(object sender, System.EventArgs e)\n{\n  ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431622564, "post_id": 30227528, "comment_id": 48587002, "body": "I can&#39;t have asp.net choose the id because I need to reference the value back to the db. Also I changed the code so the controls are created during page_init and I still cannot find them in the viewstate."}, {"owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "reply_to_user": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "edited": false, "score": 0, "creation_date": 1431702129, "post_id": 30227528, "comment_id": 48625366, "body": "I edited my answer accordingly. Covered ViewState, which I believe should not be used explicitly here, and suggested a new way to generate your control which gets rid of the static client ID&#39;s and ViewState."}], "tags": [], "owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "is_accepted": false, "score": 0, "last_activity_date": 1431702027, "last_edit_date": 1495540260, "creation_date": 1431564311, "answer_id": 30227528, "question_id": 30226217, "link": "https://stackoverflow.com/questions/30226217/how-can-i-get-the-value-of-a-dynamically-created-checkbox-when-the-submit-button/30227528#30227528", "title": "How can I get the value of a dynamically created checkbox when the submit button is clicked?", "body": "<p>As I commented, you certainly need to create your controls during the Init event, Load is too late. Check out the <a href=\"https://msdn.microsoft.com/en-us/library/ms178472.aspx\" rel=\"nofollow noreferrer\">asp.Net page life's cycle</a> for details.</p>\n\n<p>On a side note, you might want to let ASP.NET handle the controls's ID. You say you need to keep some value in order to get back to the database, you can <a href=\"https://msdn.microsoft.com/en-us/library/7bewx260%28v=vs.140%29.aspx\" rel=\"nofollow noreferrer\">wrap your checkboxes in a table</a>. You will then be able to iterate through your controls without having to guess their names.</p>\n\n<p>For instance, if your row has a HiddenField followed by your actual CheckBox:</p>\n\n<pre><code>//Please call me during Init\nprotected void createTheControls() { \n    TableRow tr;\n    TableCell td;\n    CheckBox cb;\n    HiddenField section, sequence;\n\n    foreach (Object item in someList)\n    {\n        section = new HiddenField();\n        section.Value = item.Attributes[\"ree_sectionnumber\"].ToString();\n\n        sequence = new HiddenField;\n        sequence.Value = item.Attributes[\"ree_sequencenumber\"].ToString();\n\n        cb = new CheckBox();\n        cb.ID = String.Concat(\"checkbox\", (String)sequence.Value);\n        if (item.Attributes.Contains(\"ree_completed\"))\n            cb.Checked = (bool)item.Attributes[\"ree_completed\"];\n\n            td = new TableCell();\n            td.Controls.Add(section);\n            td.Controls.Add(sequence);\n            td.Controls.Add(cb);\n\n            tr = new TableRow();\n            tr.Cells.Add(td);\n        }\n    }\n\nprotected void readTheControls()\n{\n    foreach (TableRow tr in myTable.Rows)\n    {\n        HiddenField section = (HiddenField)tr.Cells[0].Controls[0];\n        HiddenField sequence = (HiddenField)tr.Cells[0].Controls[1];\n        CheckBox cb = (CheckBox)tr.Cells[0].Controls[2];\n    }\n}\n</code></pre>\n\n<p>I notice you try to use the ViewState explicitly, which I believe is not going to be of any help here. The solution above may look cumbersome, but it will ensure you dont need to mess with ID's when fetching the controls.</p>\n\n<p>Here's a <a href=\"https://msdn.microsoft.com/en-us/library/ms972976.aspx\" rel=\"nofollow noreferrer\">thorough explanation from MSDN</a>, and here are a <a href=\"https://stackoverflow.com/questions/14807928/when-do-i-need-to-use-viewstate\">few short and sweet SO answers</a> explaining ViewState's purpose.</p>\n"}], "owner": {"reputation": 1684, "user_id": 1436325, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1c43c25cc16788bcd01f8a4868653128?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1436325/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2571, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1431702027, "creation_date": 1431555855, "last_edit_date": 1431561064, "question_id": 30226217, "link": "https://stackoverflow.com/questions/30226217/how-can-i-get-the-value-of-a-dynamically-created-checkbox-when-the-submit-button", "title": "How can I get the value of a dynamically created checkbox when the submit button is clicked?", "body": "<p>I have a asp.net page that has two controls on it, A placeholder and a submit button. During the Page_Load I create a checklist of tasks dynamically. Each row consists of a description, link to a tutorial, and a checkbox. All of the information in the row is kept in a database. If the database says the task has been checked, the code sets the checked property to true. The problem I'm having is that when the submit button is clicked I cannot find what the value is of the checked property for all of the checkboxes on the page(about 23 total). </p>\n\n<p>Here is the code to create the checkboxes...</p>\n\n<pre><code>checkbox = new CheckBox();\nphChecklist.Controls.Add(checkbox);\n\nif (item.Attributes.Contains(\"ree_completed\"))\ncheckbox.Checked = (bool)item.Attributes[\"ree_completed\"];\n\ncheckbox.EnableViewState = true;\ncheckbox.ClientIDMode = System.Web.UI.ClientIDMode.Static;\n\ncheckboxId = \"checkbox\" + (string)item.Attributes[\"ree_sectionnumber\"].ToString() + (string)item.Attributes[\"ree_sequencenumber\"].ToString();\ncheckbox.ID = checkboxId;\n</code></pre>\n\n<p>Here is the code to try and find the value of the checkbox...</p>\n\n<pre><code>foreach (Entity item in checklistCollection.Entities)\n{\n    checkboxId = \"checkbox\" + (string)item.Attributes[\"ree_sectionnumber\"].ToString() + (string)item.Attributes[\"ree_sequencenumber\"].ToString();\n\n    itemChecked = (bool)ViewState[checkboxId];\n\n    if (itemChecked == \"true\")\n        ** update database **\n\n     //CheckBox checkbox = (CheckBox)phchecklist.FindControl(checkboxId);\n}\n</code></pre>\n\n<p>I think I've read every post on this subject and have tried most of them. I have also read about the ViewState but the suggestions that I have read about have not worked. As you can see I also tried finding the checkbox in the controls collection by the id and that also did not work.</p>\n\n<p>I do not recreate the checkboxes when posting back to the page. Some posts mention that you have to recreate the controls but when I tried to do that I received an error message saying it was a duplicate id. The other reason I would prefer not to have to recreate the page is the performance hit. The database is in a Microsoft Dynamic CRM database that is remote.</p>\n\n<p>How do I retain the value of checked property across a post back?</p>\n\n<p><strong>UPDATE:</strong> I changed my logic around and fixed the duplicate id error. The page will now recreate all of the controls during the post back. I still cannot find the value of any of the checkbox controls when the submit button is clicked.</p>\n\n<p>Gary</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 1, "creation_date": 1431555945, "post_id": 30226206, "comment_id": 48556383, "body": "1.  If you haven&#39;t already, please learn about SQL Injection and how to use parameterized queries to avoid it.  2.  What is the value in <code>txtEngRef.Text</code>?"}, {"owner": {"reputation": 371, "user_id": 2855805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/537483783/picture?type=large", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/2855805/kevin-fischer"}, "edited": false, "score": 0, "creation_date": 1431715782, "post_id": 30226206, "comment_id": 48633364, "body": "have you tried using a breakpoint and walking through (hovering over variables) to see if it&#39;s loading <code>dr</code> correctly?  have you double checked your SQL to make sure there are supposed to be rows with that call?"}, {"owner": {"reputation": 371, "user_id": 2855805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/537483783/picture?type=large", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/2855805/kevin-fischer"}, "edited": false, "score": 0, "creation_date": 1431715998, "post_id": 30226206, "comment_id": 48633498, "body": "something that i was taught when writing SQL was to have their special words (<code>SELECT FROM WHERE LIKE</code> etc) in all caps for ease of reading.  I also create my calls in SQL first, then bring it over to Visual Studio (this is just want I do, others do it differently).  For me, I can test the call with the exact variables I expect, so I know that my SQL will be right.  I&#39;m fairly new to web development too, these are just a few things that I do that might help you in the beginning stages."}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 3515765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d86a477276741af80c326767d1111e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3515765", "link": "https://stackoverflow.com/users/3515765/user3515765"}, "edited": false, "score": 0, "creation_date": 1431585101, "post_id": 30226283, "comment_id": 48564518, "body": "I am new with this programming language, i changed it to queryString and it came up with same error in a different place: Incorrect syntax near &#39;EquipmentRegister&#39;."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "reply_to_user": {"reputation": 197, "user_id": 3515765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d86a477276741af80c326767d1111e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3515765", "link": "https://stackoverflow.com/users/3515765/user3515765"}, "edited": false, "score": 0, "creation_date": 1431585518, "post_id": 30226283, "comment_id": 48564679, "body": "Well, First this means that this problem is fixed, since you don&#39;t get an error on that row. please edit your question to include the stack trace of the new error."}, {"owner": {"reputation": 197, "user_id": 3515765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d86a477276741af80c326767d1111e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3515765", "link": "https://stackoverflow.com/users/3515765/user3515765"}, "edited": false, "score": 0, "creation_date": 1431630853, "post_id": 30226283, "comment_id": 48591863, "body": "Just realised I&#39;ve missed out &#39;From&#39; from the query could this be throwing error?"}, {"owner": {"reputation": 197, "user_id": 3515765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d86a477276741af80c326767d1111e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3515765", "link": "https://stackoverflow.com/users/3515765/user3515765"}, "edited": false, "score": 0, "creation_date": 1431631497, "post_id": 30226283, "comment_id": 48592188, "body": "Ok so error is no more. Thank you for your guidance.  The issue now is it hits &#39;else&#39; :( why wont this work!! Thank you I will mark answer for this :)"}], "tags": [], "owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "is_accepted": true, "score": 0, "last_activity_date": 1431556195, "creation_date": 1431556195, "answer_id": 30226283, "question_id": 30226206, "link": "https://stackoverflow.com/questions/30226206/trying-to-search-by-id-then-display-data-in-gridview-but-getting-syntax-error/30226283#30226283", "title": "Trying to Search by id then display data in gridview but getting syntax error", "body": "<p>Your sqlDataAdapter is initialized with the connectionString instead of the query. This is the reason you get an sql exception.<br>\nUse the constructor that recieves an SqlCommand instead.</p>\n\n<p>Also, you should use parameterized queries.</p>\n"}], "owner": {"reputation": 197, "user_id": 3515765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d86a477276741af80c326767d1111e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3515765", "link": "https://stackoverflow.com/users/3515765/user3515765"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 30226283, "answer_count": 1, "score": -1, "last_activity_date": 1431630711, "creation_date": 1431555805, "last_edit_date": 1431630711, "question_id": 30226206, "link": "https://stackoverflow.com/questions/30226206/trying-to-search-by-id-then-display-data-in-gridview-but-getting-syntax-error", "title": "Trying to Search by id then display data in gridview but getting syntax error", "body": "<p>Could some please explain why I am getting this error? I am aware my code has no security but this is not for public access. Please could you explain where I am going wrong? I want to search by id then display data in gridview. I have linked the gridview with data.</p>\n\n<p><strong>Exception Details:</strong> System.Data.SqlClient.SqlException: Incorrect syntax near 'EquipmentRegister''. <strong>Line: 53 is highlighted in source error</strong></p>\n\n<p><strong>Source Error:</strong>    </p>\n\n<pre><code>    Line 51:         SqlDataAdapter da = new SqlDataAdapter(queryString, con);\n    Line 52:         DataSet ds = new DataSet();\n    Line 53:         da.Fill(ds);\n    Line 54:         gvRegister.DataSource = ds;\n    Line 55:         gvRegister.DataBind();\n</code></pre>\n\n<p>Here is the apsx file:</p>\n\n<pre><code>private void rep_bind()\n    {\n        string theConnectString = System.Configuration.ConfigurationManager.ConnectionStrings[\"EquipRegisterConnectionString\"].ConnectionString;\n        SqlConnection con = new SqlConnection(theConnectString);\n        string queryString = (\"SELECT * EquipmentRegister WHERE EngineerRef like '\" + txtEngRef.Text + \"%'\");\n        SqlCommand com = new SqlCommand(queryString, con);\n        com.Connection = con;\n        con.Open();\n        SqlDataAdapter da = new SqlDataAdapter(theConnectString, con);\n        DataSet ds = new DataSet();\n        da.Fill(ds);\n        gvRegister.DataSource = ds;\n        gvRegister.DataBind();\n\n    }\n\n\n    protected void btnSearch_Click(object sender, EventArgs e)\n    {\n\n\n        string theConnectString = System.Configuration.ConfigurationManager.ConnectionStrings[\"EquipRegisterConnectionString\"].ConnectionString;\n        SqlConnection con = new SqlConnection(theConnectString);\n        string queryString = (\"SELECT EngineerRef from EquipmentRegister  WHERE EngineerRef like'\" + txtEngRef.Text + \"%'\");\n        SqlCommand com = new SqlCommand(queryString,con);\n        com.Connection = con;\n        con.Open();\n        SqlDataReader dr;\n        dr = com.ExecuteReader();\n\n        if (dr.HasRows)\n        {\n            dr.Read();\n            rep_bind();\n            gvRegister.Visible = true;\n\n        }\n        else\n        {\n            gvRegister.Visible = false;\n\n        }\n</code></pre>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>    [SqlException (0x80131904): Incorrect syntax near 'EquipmentRegister'.]\n   System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) +1789294\n   System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) +5340642\n   System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) +244\n   System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady) +1691\n   System.Data.SqlClient.SqlDataReader.TryConsumeMetaData() +61\n   System.Data.SqlClient.SqlDataReader.get_MetaData() +90\n   System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString) +377\n   System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task&amp; task, Boolean asyncWrite, SqlDataReader ds) +1421\n   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task&amp; task, Boolean asyncWrite) +177\n   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method) +53\n   System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method) +137\n   System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior) +41\n   System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior) +10\n   System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior) +140\n   System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior) +316\n   System.Data.Common.DbDataAdapter.Fill(DataSet dataSet) +88\n   ViewRegister.rep_bind() in c:\\Users\\Michelle\\Desktop\\COMF510_65300_HS_task_2\\ViewRegister.aspx.cs:53\n   ViewRegister.btnSearch_Click(Object sender, EventArgs e) in c:\\Users\\Michelle\\Desktop\\COMF510_65300_HS_task_2\\ViewRegister.aspx.cs:77\n   System.Web.UI.WebControls.Button.OnClick(EventArgs e) +9628614\n   System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +103\n   System.Web.UI.WebControls.Button.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10\n   System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13\n   System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +35\n   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +1724\n</code></pre>\n"}, {"tags": ["c#", "fileinfo", "settings"], "answers": [{"tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 1, "last_activity_date": 1431557401, "last_edit_date": 1495535049, "creation_date": 1431557020, "answer_id": 30226428, "question_id": 30226182, "link": "https://stackoverflow.com/questions/30226182/fileinfo-in-usersettings-saves-as-null/30226428#30226428", "title": "FileInfo in UserSettings saves as Null?", "body": "<p>You can't.  <code>XmlSerializer</code> requires a parameter-less constructor - which <code>FileInfo</code> does not have.  It's marked <code>Serializable</code> because there are other serializers that don't have the same requirement.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3579394/application-settings-directoryinfo-fileinfo\">Related question.</a></p>\n"}], "owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 30226428, "answer_count": 1, "score": 1, "last_activity_date": 1431557401, "creation_date": 1431555683, "question_id": 30226182, "link": "https://stackoverflow.com/questions/30226182/fileinfo-in-usersettings-saves-as-null", "title": "FileInfo in UserSettings saves as Null?", "body": "<p>I've looked at the FileInfo class and I see it is marked with the SerializableAttribute. I do not fully understand what this attribute indicates, but to me it suggests that the FileInfo class should serialize into the XML file into which the settings save, but that is not the case, as the FileInfo setting comes through as null when the project loads.</p>\n\n<p>How can I save FileInfo into UserSettings?</p>\n"}, {"tags": ["c#", "windows-runtime", "windows-store-apps", "windows-10"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 1757621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e4aff015404a24e56b5fd022ea1a05?s=128&d=identicon&r=PG", "display_name": "Arjan Snoek", "link": "https://stackoverflow.com/users/1757621/arjan-snoek"}, "edited": false, "score": 0, "creation_date": 1431556211, "post_id": 30226202, "comment_id": 48556478, "body": "Thank you. That was what I was missing in the documentation."}], "tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1431555791, "creation_date": 1431555791, "answer_id": 30226202, "question_id": 30226114, "link": "https://stackoverflow.com/questions/30226114/unauthorizedaccessexception-on-storagefolder-getfolderfrompathasync-while-having/30226202#30226202", "title": "UnAuthorizedAccessException on StorageFolder.GetFolderFromPathAsync while having access through FilePicker", "body": "<p>Your app doesn't have access to the path. The permission to access the file is handled via the StorageFolder returned by the picker.</p>\n\n<p>Instead of this line to try to create a new StorageFolder from pickedFolder</p>\n\n<pre><code>StorageFolder folder = await StorageFolder.GetFolderFromPathAsync(pickedFolder.Path);\n</code></pre>\n\n<p>Just use the pickedFolder itself:</p>\n\n<pre><code>var pathFolderList = await pickedFolder.GetFilesAsync(); //Exception\n</code></pre>\n\n<p>I went into this in more detail in my blog entry <a href=\"http://blogs.msdn.com/b/wsdevsol/archive/2012/12/05/stray-from-the-path-stick-to-the-storagefile.aspx\" rel=\"nofollow\">Skip the path: stick to the StorageFile</a> </p>\n"}], "owner": {"reputation": 103, "user_id": 1757621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e4aff015404a24e56b5fd022ea1a05?s=128&d=identicon&r=PG", "display_name": "Arjan Snoek", "link": "https://stackoverflow.com/users/1757621/arjan-snoek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1603, "favorite_count": 0, "accepted_answer_id": 30226202, "answer_count": 1, "score": 4, "last_activity_date": 1458006763, "creation_date": 1431555308, "question_id": 30226114, "link": "https://stackoverflow.com/questions/30226114/unauthorizedaccessexception-on-storagefolder-getfolderfrompathasync-while-having", "title": "UnAuthorizedAccessException on StorageFolder.GetFolderFromPathAsync while having access through FilePicker", "body": "<p>I try to read files from a network location. But I keep getting an UnAuthorizedAccessException. </p>\n\n<p>I pick the StorageFolder through StorageFolder.GetFolderFromPathAsync but listing the files throws the exception.</p>\n\n<p>When I pick the same folder through the FolderPicker it works.</p>\n\n<p>So I tried pinpointing the problem with this code:</p>\n\n<pre><code>FolderPicker picker = new FolderPicker();\npicker.FileTypeFilter.Add(\"*\");\n\nStorageFolder pickedFolder = await picker.PickSingleFolderAsync();\nif (pickedFolder != null)\n{\n    var pickedFolderList = await pickedFolder.GetFilesAsync();\n    var count = pickedFolderList.Count;\n    if (count &gt; 0)\n    {\n        StorageFolder folder = await StorageFolder.GetFolderFromPathAsync(pickedFolder.Path);\n        var pathFolderList = await folder.GetFilesAsync(); //Exception\n        if (pathFolderList.Count == count)\n        {\n             ProcessFolder(folder);\n        }\n    }\n}\n</code></pre>\n\n<p>The exception is thrown at the marked line where the variable pathFolderList is set. While I had already listed the same folder a few lines above.</p>\n\n<p>I have set these capabilities:</p>\n\n<pre><code>&lt;Capabilities&gt;\n  &lt;Capability Name=\"internetClient\" /&gt;\n  &lt;Capability Name=\"privateNetworkClientServer\"/&gt;\n  &lt;uap:Capability Name=\"enterpriseAuthentication\"/&gt;\n  &lt;uap:Capability Name=\"removableStorage\"/&gt;\n&lt;/Capabilities&gt;\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "window", "controls"], "comments": [{"owner": {"reputation": 2018, "user_id": 3026181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4cV6.jpg?s=128&g=1", "display_name": "muglio", "link": "https://stackoverflow.com/users/3026181/muglio"}, "edited": false, "score": 1, "creation_date": 1431555520, "post_id": 30226075, "comment_id": 48556221, "body": "I would suggest you look at databinding. You can bind two UI controls to a common dataset which if you perform an update on one control it will  update the view on the other control. It allows you to cleanly monitor and update objects between views without having to couple.  <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh464965.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/apps/xaml/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 4897641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8df81a5bc642fa7504089b5e185c61?s=128&d=identicon&r=PG&f=1", "display_name": "The Monarch Gamer", "link": "https://stackoverflow.com/users/4897641/the-monarch-gamer"}, "reply_to_user": {"reputation": 2018, "user_id": 3026181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4cV6.jpg?s=128&g=1", "display_name": "muglio", "link": "https://stackoverflow.com/users/3026181/muglio"}, "edited": false, "score": 0, "creation_date": 1431556024, "post_id": 30226075, "comment_id": 48556418, "body": "Thanks a ton, I will certainly look into that!"}, {"owner": {"reputation": 11, "user_id": 4897641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8df81a5bc642fa7504089b5e185c61?s=128&d=identicon&r=PG&f=1", "display_name": "The Monarch Gamer", "link": "https://stackoverflow.com/users/4897641/the-monarch-gamer"}, "reply_to_user": {"reputation": 2018, "user_id": 3026181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4cV6.jpg?s=128&g=1", "display_name": "muglio", "link": "https://stackoverflow.com/users/3026181/muglio"}, "edited": false, "score": 0, "creation_date": 1431556390, "post_id": 30226075, "comment_id": 48556544, "body": "@muglio Thanks, but I don&#39;t think that really answered the question I intended to ask - I&#39;m looking for a solution that would allow me to do something like this: mainWindow.stackPanel1.children.add(data1).  So basically, I can&#39;t figure out the code for how to access a different window&#39;s controls, or if this is even possible.  If there is a better way, I&#39;d appreciate it if someone let me know."}, {"owner": {"reputation": 2018, "user_id": 3026181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4cV6.jpg?s=128&g=1", "display_name": "muglio", "link": "https://stackoverflow.com/users/3026181/muglio"}, "edited": false, "score": 1, "creation_date": 1431575214, "post_id": 30226075, "comment_id": 48561257, "body": "You absolutely can. When you open up your dataInputWin you can set the MainWindow or pass in a specific user control. You just need to add a property to dataInputWin. Ex: public MainWindow OtherWindow {get;set;} You can do it but you absolutely shouldn&#39;t do it this way. See:  <a href=\"http://programmers.stackexchange.com/questions/212515/why-is-tight-coupling-between-functions-and-data-bad\">Tight Coupling...</a> What I am recommending is that with databinding you can share a poco between the two Windows and databind to that poco. Or implement the observer pattern between the two windows."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 2, "creation_date": 1431591107, "post_id": 30226075, "comment_id": 48567410, "body": "Be aware that this is possible but it is considered a bad design. You&#39;ll get hopelessly lost when you scale this up. The real answer is the MVVM pattern, but in any case: do not use controls as data-store. Their function is to display things."}, {"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1431592132, "post_id": 30226075, "comment_id": 48567861, "body": "I would recomend to share <code>DataContext</code> between the two windows, and make sure that the collection is either <code>ObservableCollection</code> in your <code>ViewModel</code> or use the <code>CollectionViewSource</code> in your <code>View</code>s. Anyhow @HenkHolterman is right do not do <code>WinForms</code> in <code>WPF</code> or you will get stuck."}, {"owner": {"reputation": 11, "user_id": 4897641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8df81a5bc642fa7504089b5e185c61?s=128&d=identicon&r=PG&f=1", "display_name": "The Monarch Gamer", "link": "https://stackoverflow.com/users/4897641/the-monarch-gamer"}, "reply_to_user": {"reputation": 2018, "user_id": 3026181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4cV6.jpg?s=128&g=1", "display_name": "muglio", "link": "https://stackoverflow.com/users/3026181/muglio"}, "edited": false, "score": 0, "creation_date": 1431609736, "post_id": 30226075, "comment_id": 48578425, "body": "@muglio and everyone else since it&#39;s telling me that only one user can be notified, thanks a ton for the help, I&#39;ll certainly look into those ideas."}], "owner": {"reputation": 11, "user_id": 4897641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8df81a5bc642fa7504089b5e185c61?s=128&d=identicon&r=PG&f=1", "display_name": "The Monarch Gamer", "link": "https://stackoverflow.com/users/4897641/the-monarch-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431589804, "creation_date": 1431555143, "last_edit_date": 1431589804, "question_id": 30226075, "link": "https://stackoverflow.com/questions/30226075/access-control-in-other-window", "title": "Access control in other window", "body": "<p>This my first question, so bear with me if I don't explain everything as thoroughly as I should - thanks in advance!</p>\n\n<p>I'm working on an app that's a sort of database, and I'd like to have my information viewable in the main window.  However, when someone goes to add a new piece of information, I'd like to create a new label in the original window that lists the data-point.</p>\n\n<p>For example, if you have the mainWindow, and the 'input a new datapoint window' (dataInputWin), you type your datapoint (data1)in the dataInputWin and hit enter, and it adds a label to mainWindow with contents (data1).</p>\n\n<p>I'm a beginner in WPF, and my biggest problem here is accessing the StackPanel or grid in a different window so that I can input/create a new label.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 8861, "user_id": 49251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a3b05f845f8c433de0ca3e5805bcd7a6?s=128&d=identicon&r=PG", "display_name": "DWright", "link": "https://stackoverflow.com/users/49251/dwright"}, "edited": false, "score": 1, "creation_date": 1431555124, "post_id": 30226038, "comment_id": 48556040, "body": "What code triggers the error? I&#39;m guessing it&#39;s the HtmlDecode stuff, but it&#39;s good if your post is specific."}, {"owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "reply_to_user": {"reputation": 8861, "user_id": 49251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a3b05f845f8c433de0ca3e5805bcd7a6?s=128&d=identicon&r=PG", "display_name": "DWright", "link": "https://stackoverflow.com/users/49251/dwright"}, "edited": false, "score": 0, "creation_date": 1431555200, "post_id": 30226038, "comment_id": 48556067, "body": "The index.cshtml (view snipper) which reads: @Html.Raw(HttpUtility.HtmlDecode((modelItem =&gt; modelItem.PageBody).ToString().Substring(0,250)))"}, {"owner": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1431556781, "post_id": 30226038, "comment_id": 48556658, "body": "shouldn&#39;t it just be <code>modelItem.PageBody.ToString()</code> not <code>(modelItem =&gt; modelItem.PageBody).ToString()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 0, "creation_date": 1431624847, "post_id": 30226459, "comment_id": 48588375, "body": "This doesn&#39;t work inside a foreach loop? Both item.PageBody and Model.PageBody are pulling up a NullReferenceException error.                       @ foreach (var item in Model{"}, {"owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 0, "creation_date": 1431639111, "post_id": 30226459, "comment_id": 48596306, "body": "Never mind. I found out the.substring(0,250) creates an error if the value for the PageBody string is null. Any suggestions?"}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 0, "creation_date": 1431639450, "post_id": 30226459, "comment_id": 48596481, "body": "@JosephCasey I suggest you check it with the <code>?:</code> Operator: <code>@(Model.PageBody == null ? string.Empty : Html.Raw(HttpUtility.HtmlDecode(Model.PageBody).Substring(0,&zwnj;&#8203;250)))</code>"}, {"owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 0, "creation_date": 1431640070, "post_id": 30226459, "comment_id": 48596758, "body": "Html.Raw outputs IHtmlString so &quot;? string.Empty&quot; won&#39;t work. I&#39;m checking for a way to check if IHTMLStrings are null."}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 1, "creation_date": 1431640452, "post_id": 30226459, "comment_id": 48596934, "body": "Ok, I am not so familiar with MVC/Razor...but you can also change the Position of the <code>?:</code>: <code>@Html.Raw(string.IsNullOrEmpty(Model.PageBody) ? string.Empty : HttpUtility.HtmlDecode(Model.PageBody).Substring(0,250))</code>"}, {"owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "edited": false, "score": 0, "creation_date": 1431640733, "post_id": 30226459, "comment_id": 48597074, "body": "That&#39;s the ticket. I also should note that I wrote it to pull the inner text instead since <code>&lt;p&gt;blah blah blah&lt;&#47;</code> would be really bad."}], "tags": [], "owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "is_accepted": true, "score": 2, "last_activity_date": 1431557174, "creation_date": 1431557174, "answer_id": 30226459, "question_id": 30226038, "link": "https://stackoverflow.com/questions/30226038/how-do-you-sanitize-and-publish-html-into-asp-net-view/30226459#30226459", "title": "How do you sanitize and publish HTML into ASP.Net View?", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/7c5fyk1k(v=vs.110).aspx\" rel=\"nofollow\"><code>HttpUtility.HtmlDecode</code></a> takes a string and returns another. But you pass a lambda expression (<code>modelItem =&gt; modelItem.PageBody</code>) on that was the <code>ToString</code>- and <code>SubString</code> methods are called.</p>\n\n<p>You must change your code to the following:</p>\n\n<pre><code>@Html.Raw(HttpUtility.HtmlDecode(Model.PageBody).Substring(0,250))\n</code></pre>\n\n<p>In that code, you give the <code>PageBody</code> property to the <code>HtmlDecode</code> method and then call <code>SubString</code>. This string is given to the <code>Raw</code> method.</p>\n\n<p>Much methods like <code>@Html.EditorFor</code> take a lambda as an argument, but <code>HtmlDecode</code> needs a string. That is the main problem.</p>\n\n<p>PS: If <code>PageBody</code>is not a string, you must call <code>ToString</code>on it before passing it to <code>HtmlDecode</code>.</p>\n"}], "owner": {"reputation": 1225, "user_id": 1596825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/l2M5x.jpg?s=128&g=1", "display_name": "Joseph Casey", "link": "https://stackoverflow.com/users/1596825/joseph-casey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 30226459, "answer_count": 1, "score": 1, "last_activity_date": 1431639183, "creation_date": 1431554943, "last_edit_date": 1592644375, "question_id": 30226038, "link": "https://stackoverflow.com/questions/30226038/how-do-you-sanitize-and-publish-html-into-asp-net-view", "title": "How do you sanitize and publish HTML into ASP.Net View?", "body": "<h1>My Goal</h1>\n<p><strong>Save and post html to a blog post using C# ASP.Net MVC, using best practices</strong></p>\n<p>How do I do this?</p>\n<hr />\n<p>Below is the source that causes the following error:</p>\n<blockquote>\n<p>Error 2   Operator '.' cannot be applied to operand of type 'lambda\nexpression'</p>\n</blockquote>\n<hr />\n<h1>ArticleContent.CS (controller)</h1>\n<pre><code>  // POST: Article/Articles/Create\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    [Authorize(Roles = &quot;canEdit&quot;)]\n    public ActionResult Create([Bind(Include = &quot;PostId,Title,PublishDate,CreateDate,ModifyDate,Author,PageBody,Feature,Published,Excerpt,CreateDateUTC,PublishDateUTC,ModifyDateUTC,CanonicalUrl,UrlSlug,Category,Tag&quot;)] ArticleContent articles)\n    {\n        if (ModelState.IsValid)\n        {\n            db.Articles.Add(articles);\n            db.SaveChanges();\n            return RedirectToAction(&quot;Index&quot;);\n        }\n\n        return View(articles);\n    }\n</code></pre>\n<hr />\n<h1>Article.cs (Model)</h1>\n<pre><code>    [Display(Name = &quot;Body of Article&quot;)]\n    public string PageBody { get; set; }\n</code></pre>\n<hr />\n<h1>index.cshtml (View) &lt;-- Trigger</h1>\n<pre><code>@Html.Raw(HttpUtility.HtmlDecode((modelItem =&gt; modelItem.PageBody).ToString().Substring(0,250)))\n</code></pre>\n<hr />\n<h1>index.cshtml (Full Version of View)</h1>\n<pre><code>&lt;section class=&quot;bg-ocean row light text-center shelve&quot;&gt;\n        @if (User.IsInRole(&quot;canCreate&quot;))\n        {\n            &lt;button class=&quot;btn btn-info btn-lg btn-block&quot;&gt;\n                @Html.ActionLink(&quot;Create New&quot;, &quot;Create&quot;)\n            &lt;/button&gt;\n        }\n        @foreach (var item in Model)\n        {\n                &lt;article class=&quot;headline&quot;&gt;\n                        &lt;div class=&quot;col-xs-12 col-md-7 headline-image np nm&quot;&gt;\n                            &lt;a href=&quot;@Url.Action(&quot;Details&quot;, &quot;Details&quot;, new { id = item.PostId })&quot; target=&quot;_blank&quot;&gt;\n                                &lt;img src=&quot;@Html.DisplayFor(modelItem =&gt; item.Feature)&quot; /&gt;\n                                &lt;span&gt;\n                                    @Html.DisplayFor(modelItem =&gt; item.Categories)\n                                &lt;/span&gt;\n                            &lt;/a&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;col-xs-12 col-md-5 bg-light headline-content np nm&quot;&gt;\n                            &lt;a href=&quot;@Url.Action(&quot;Details&quot;, &quot;Details&quot;, new { id = item.PostId })&quot; target=&quot;_blank&quot;&gt;\n                                &lt;small class=&quot;dark&quot;&gt;@Html.DisplayFor(modelItem =&gt; item.ModifyDate)&lt;/small&gt;\n                                &lt;h2 class=&quot;media-heading dark&quot;&gt;@Html.DisplayFor(modelItem =&gt; item.Title)&lt;/h2&gt;\n                                &lt;hr /&gt;\n                                &lt;p&gt;@Html.DisplayFor(modelItem =&gt; item.Excerpt)&lt;/p&gt;\n                            &lt;/a&gt;\n                            &lt;div class=&quot;headline-footer&quot;&gt;\n                                &lt;div class=&quot;btn-group btn-group-justified&quot;&gt;\n                                    &lt;span class=&quot;btn btn-default&quot; role=&quot;button&quot;&gt;&lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i&gt; 172&lt;/span&gt;\n                                    &lt;span class=&quot;btn btn-default&quot; role=&quot;button&quot;&gt;&lt;i class=&quot;fa fa-comment&quot;&gt;&lt;/i&gt;&lt;a href=&quot;@Url.Action(&quot;Details&quot;, &quot;Details&quot;, new { id = item.PostId + &quot;%23disqus_thread&quot; })&quot;&gt;&lt;/a&gt;&lt;/span&gt;\n                                    &lt;span class=&quot;btn btn-default highlight&quot; role=&quot;button&quot;&gt;&lt;i class=&quot;fa fa-share&quot;&gt;&lt;/i&gt; 210&lt;/span&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                            @if (User.IsInRole(&quot;canEdit&quot;))\n                            {\n                                @Html.ActionLink(&quot;E&quot;, &quot;Edit&quot;, new { id = item.PostId })\n                            }\n                            @if (User.IsInRole(&quot;canDelete&quot;))\n                            {\n                                @Html.ActionLink(&quot;D&quot;, &quot;Delete&quot;, new { id = item.PostId })\n                            }\n            &lt;/article&gt;\n        }\n&lt;/section&gt;\n</code></pre>\n<hr />\n<h1>Questions as Resources</h1>\n<p><a href=\"https://stackoverflow.com/questions/21662766/how-to-save-html-to-database-and-retrieve-it-properly\">How to save html to database and retrieve is properly</a></p>\n<p><a href=\"https://stackoverflow.com/questions/28535741/mvc-razor-view-output-text-as-both-raw-and-html-parsed\">Text both raw and parsed html</a></p>\n<hr />\n<h2>Future Note</h2>\n<p>Using  <code>.Substring(0,250)</code> with a null value creates an error due to strings 0 - 250 not existing.</p>\n"}, {"tags": ["c#", ".net", "timezone", "nodatime"], "comments": [{"owner": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "edited": false, "score": 2, "creation_date": 1431555001, "post_id": 30225991, "comment_id": 48555983, "body": "Can the downvoter explain how I can improve the question?"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1431555480, "post_id": 30225991, "comment_id": 48556202, "body": "Seems clear enough to me.  Not sure why it was downvoted."}], "answers": [{"comments": [{"owner": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "edited": false, "score": 0, "creation_date": 1431555455, "post_id": 30226135, "comment_id": 48556192, "body": "But the datetime is <b>not</b> in my local timezone."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "edited": false, "score": 2, "creation_date": 1431555548, "post_id": 30226135, "comment_id": 48556235, "body": "&quot;local&quot; in <code>LocalDateTime</code> does not mean &quot;local for you&quot;.  It just means local for <i>somebody</i>.  It is detached from all time zone information.   It is just a date and a time, just like a <code>DateTime</code> with <code>.Kind == DateTimeKind.Unspecified</code>."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "edited": false, "score": 0, "creation_date": 1431555598, "post_id": 30226135, "comment_id": 48556254, "body": "In other words, it&#39;s not the same definition as <code>DateTimeKind.Local</code>, which <i>does</i> mean &quot;local for you&quot;."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "edited": false, "score": 2, "creation_date": 1431583223, "post_id": 30226135, "comment_id": 48563707, "body": "@Matthew: And yes, we&#39;re aware that causes confusion :( If I had a <i>really good</i> alternative, I&#39;d consider the massive breaking change of renaming it for 2.0... but I haven&#39;t heard anything better, so far."}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 1, "last_activity_date": 1431555624, "last_edit_date": 1431555624, "creation_date": 1431555425, "answer_id": 30226135, "question_id": 30225991, "link": "https://stackoverflow.com/questions/30225991/given-an-unzoned-datetime-and-a-timezone-how-can-i-construct-an-instant-in-noda/30226135#30226135", "title": "Given an unzoned DateTime and a timezone, how can I construct an instant in NodaTime?", "body": "<p>First, convert your <code>DateTime</code> to a <code>LocalDateTime</code>.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.FromDateTime(myDateTime);\n</code></pre>\n\n<p>Then you can assign it to a zone:</p>\n\n<pre><code>ZonedDateTime zdt = ldt.InZoneLeniently(myTimeZone);\n</code></pre>\n\n<p>And map it back to an instant:</p>\n\n<pre><code>Instant instant = zdt.ToInstant();\n</code></pre>\n"}], "owner": {"reputation": 9866, "user_id": 369775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xocl7.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/369775/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 30226135, "answer_count": 1, "score": 2, "last_activity_date": 1431555624, "creation_date": 1431554706, "last_edit_date": 1431555467, "question_id": 30225991, "link": "https://stackoverflow.com/questions/30225991/given-an-unzoned-datetime-and-a-timezone-how-can-i-construct-an-instant-in-noda", "title": "Given an unzoned DateTime and a timezone, how can I construct an instant in NodaTime?", "body": "<p>I have a <code>DateTime</code> constructed explicitly.</p>\n\n<pre><code>var myDateTime = new DateTime(2015,1,1,0,0,0);\n</code></pre>\n\n<p>I have a timezone obtained explicitly.</p>\n\n<pre><code>var myTimeZone = DateTimeZoneProviders.Tzdb[\"America/Los_Angeles\"];\n</code></pre>\n\n<p><code>myDate</code> is known to be represented in <code>myTimeZone</code> </p>\n\n<p>How should I use this information to generate a <code>ZonedDateTime</code> or an <code>Instant</code> using NodaTime?</p>\n"}, {"tags": ["c#", "winforms", "parent-child"], "comments": [{"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431556503, "post_id": 30225989, "comment_id": 48556577, "body": "Check out this SO Question here --&gt; <a href=\"http://stackoverflow.com/questions/9152667/check-whether-current-user-is-a-member-of-an-active-directory-group\" title=\"check whether current user is a member of an active directory group\">stackoverflow.com/questions/9152667/&hellip;</a>  I use this approach at work so users of different security groups can only see/use certain things in my applications"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431555670, "post_id": 30226159, "comment_id": 48556288, "body": "Yes, how do I do that? So far all the examples I&#39;ve seen are to initiate a new instance. In VB.Net you can just call form1.method1() in a form2 control."}, {"owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "reply_to_user": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431555986, "post_id": 30226159, "comment_id": 48556403, "body": "One method you can use is to use a global variable and during the construction, you can assign the &quot;this&quot; to that global variable."}], "tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431555565, "creation_date": 1431555565, "answer_id": 30226159, "question_id": 30225989, "link": "https://stackoverflow.com/questions/30225989/how-to-use-a-method-from-the-startup-form-to-enable-its-controls-when-called-thr/30226159#30226159", "title": "How to use a method from the Startup form to enable its controls when called through a child form?", "body": "<p>What is happening is that you have two separate copies of the form instantiated.  At launch, the startup form is instantiated.  During login, you are instantiating a totally new copy.  Your login needs to reference the existing startup form.</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431557002, "post_id": 30226164, "comment_id": 48556732, "body": "Thanks, this solved it. however, what should I have searched to have solved this on my own?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431557142, "post_id": 30226164, "comment_id": 48556774, "body": "There are a lot of info on this basic functionality of the windows forms. Probably you should search for Modal DialogBox or something about the form DialogResult property and the effect that setting this property has on the form lifecycle. Also search about the button DialogResult property that is automatically transferred to the form DialogResult property when you click that button. This will full automate the closing of the form with info for the calling client code"}, {"owner": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431557646, "post_id": 30226164, "comment_id": 48556915, "body": "since your enclosing the showdialog in an IDisposable, wouldn&#39;t it automatically dispose the frmAdminPassword if the DialogResult is say None or cancelled?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "edited": false, "score": 0, "creation_date": 1431558248, "post_id": 30226164, "comment_id": 48557089, "body": "No DialogResult.None doesn&#39;t exits from the login form (ShowDialog()). Any other DialogResult will exit from ShowDialog(). But the form is just hidden not closed or disposed so you could read whatever you need from the instance before code meets the closing brace of the using statement. (this include the native form properties like DialogResult but also your own public property that you have set in the ok button click )event"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 2, "last_activity_date": 1431556786, "last_edit_date": 1431556786, "creation_date": 1431555590, "answer_id": 30226164, "question_id": 30225989, "link": "https://stackoverflow.com/questions/30225989/how-to-use-a-method-from-the-startup-form-to-enable-its-controls-when-called-thr/30226164#30226164", "title": "How to use a method from the Startup form to enable its controls when called through a child form?", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.showdialog(v=vs.110).aspx\" rel=\"nofollow\">ShowDialog()</a> to show your login form. This will stop the execution of code in the startup form until the login form closes</p>\n\n<pre><code>private void adminToolStripMenuItem_Click(object sender, EventArgs e)\n{\n    // Putting the creation of the form inside a using block allows\n    // the automatic closing and disposing of the form when the code\n    // reaches the closing brace of the using block.\n    using(FrmAdminPassword frmAdminPassword = new FrmAdminPassword())\n    {\n        // This opens the frmAdminPassword form in modal mode, no \n        // code is executed after the call until you close the \n        // form with DialogResult.OK, DialogResult.Cancel or whatever \n        if(DialogResult.OK == frmAdminPassword.ShowDialog())\n        {\n            MessageBox.Show(\"Login executed with success!\");\n        }\n        else\n        {\n            // Mo password given or form cancelled\n            // put here the logic to exit or disable things\n        }\n    }\n}\n</code></pre>\n\n<p>Now in the Login form OK button click you could execute your logic to validate the password and to allow the closing of the form if the password match</p>\n\n<pre><code>public partial class FrmAdminPassword : Form\n{\n    private void btnLoginAdmin_Click(object sender, EventArgs e)\n    {\n        if (mskAdminPassword.Text == \"password\")\n            this.DialogResult = DialogResult.OK;\n        else\n        {\n            MessageBox.Show(\"Not a valid password\");\n            this.DialogResult = DialogResult.None;\n        }\n    }\n}\n</code></pre>\n\n<p>To make this work you need to set the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.dialogresult(v=vs.110).aspx\" rel=\"nofollow\">DialogResult</a> property of the Login Form to something different from <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.dialogresult(v=vs.110).aspx\" rel=\"nofollow\">DialogResult.None</a>. This Will force the Login form to automatically hide (not close) so you can read the <code>DialogResult</code> property on the initial instance of the startup form and decide what to do next. You should also provide some method to exit from the login form with <code>DialogResult.Cancel</code> and stop further processing because the user decided to not give a password.</p>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "is_accepted": false, "score": 1, "last_activity_date": 1431556026, "last_edit_date": 1431556026, "creation_date": 1431555667, "answer_id": 30226180, "question_id": 30225989, "link": "https://stackoverflow.com/questions/30225989/how-to-use-a-method-from-the-startup-form-to-enable-its-controls-when-called-thr/30226180#30226180", "title": "How to use a method from the Startup form to enable its controls when called through a child form?", "body": "<p>Try this...</p>\n\n<p>FrmAdminPassword </p>\n\n<pre><code>    private void btnLoginAdmin_Click(object sender, EventArgs e)\n    {\n        if (mskAdminPassword.Text == \"password\")\n        {\n            this.DialogResult = System.Windows.Forms.DialogResult.OK;\n        }\n        else\n        {\n            MessageBox.Show(\"Not a valid password\");\n            this.Close();\n        }\n     }\n</code></pre>\n\n<p>StartupForm </p>\n\n<pre><code>        private void adminToolStripMenuItem_Click(object sender, EventArgs e)\n        {\n            FrmAdminPassword frmAdminPassword = new FrmAdminPassword();\n            using(frmAdminPassword)\n            {\n                if(frmAdminPassword.Show() == System.Windows.Forms.DialogResult.OK)\n                {\n                    AdminLogin();\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4833804, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a79ef25f24dd2158cf3efdd7b5976852?s=128&d=identicon&r=PG&f=1", "display_name": "svb", "link": "https://stackoverflow.com/users/4833804/svb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30226164, "answer_count": 3, "score": 1, "last_activity_date": 1431558497, "creation_date": 1431554700, "last_edit_date": 1495540691, "question_id": 30225989, "link": "https://stackoverflow.com/questions/30225989/how-to-use-a-method-from-the-startup-form-to-enable-its-controls-when-called-thr", "title": "How to use a method from the Startup form to enable its controls when called through a child form?", "body": "<p>I am trying to enable admin privileges on my startup form. For this I've created an admin toolstrip login which would cause a password form to launch. I am however unable to update the startup form through the password form. I've seen a similar article over here [<a href=\"https://stackoverflow.com/questions/13910093/why-the-controls-not-update-when-call-method-from-other-form][1]\">Why the controls not update, when call method from other form</a> but this hasn't helped me solve my problem. My code is as below and what I have achieved so far is as below:</p>\n\n<pre><code>// Code for startup form...\npublic partial class StartupForm : Form {\n    private void adminToolStripMenuItem_Click(object sender, EventArgs e) {\n        FrmAdminPassword frmAdminPassword = new FrmAdminPassword();\n        frmAdminPassword.Show();\n        //this.Close();\n        //AdminLogin();\n    }\n\n    public void AdminLogin() {\n        loginToolStripMenuItem.Enabled = false;\n        logoutToolStripMenuItem.Enabled = true;\n        cmb1.Enabled = true;\n        btn1.Enabled = true;\n        tab1.Enabled = true;\n        tab2.Enabled = true;\n        tabControl1.TabPages.Add(tabAdminTasks);\n        MessageBox.Show(\"Admin Logged In\");\n    }\n}\n\n// Code for password form\npublic partial class FrmAdminPassword : Form {\n    private void btnLoginAdmin_Click(object sender, EventArgs e) {\n        if (mskAdminPassword.Text == \"password\") {\n            StartupForm frm = new StartupForm();\n            frm.Show();\n            frm.AdminLogin();\n            this.Close();\n        }\n        else {\n            MessageBox.Show(\"Not a valid password\");\n            this.Close();\n        }\n\n    }\n}\n</code></pre>\n\n<p>If I implement it this way, what happens is that the original instance of the startup form is still present as a duplicate instance with all tabs and controls disabled and a new form is launched with all controls enabled.</p>\n\n<p>What I actually want to achieve is: </p>\n\n<ol>\n<li>Click on the <code>adminToolStripMenuItem</code>.</li>\n<li>Launch the <code>FrmAdminPassword</code>.</li>\n<li>Enter the password and hit Login on <code>FrmAdminPassword</code>.</li>\n<li>After hitting Login, close the <code>FrmAdminPassword</code> and enable the controls on <code>StartupForm</code>.</li>\n</ol>\n\n<p>Could someone please help on this? Thanks.</p>\n"}, {"tags": ["c#", "arrays", "string"], "comments": [{"owner": {"reputation": 6942, "user_id": 225600, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f7ef6af7822f38db2fc5deb0c4d484df?s=128&d=identicon&r=PG", "display_name": "Prescott", "link": "https://stackoverflow.com/users/225600/prescott"}, "edited": false, "score": 0, "creation_date": 1431554911, "post_id": 30225988, "comment_id": 48555945, "body": "See Jon Skeet&#39;s answer here - <a href=\"http://stackoverflow.com/a/9367156/225600\">stackoverflow.com/a/9367156/225600</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "edited": false, "score": 0, "creation_date": 1431555065, "post_id": 30226027, "comment_id": 48556016, "body": "Awesome! Thank you so much. I was pretty stumped."}], "tags": [], "owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "is_accepted": false, "score": 2, "last_activity_date": 1431554880, "creation_date": 1431554880, "answer_id": 30226027, "question_id": 30225988, "link": "https://stackoverflow.com/questions/30225988/replacing-specific-parts-of-a-string-in-an-array/30226027#30226027", "title": "Replacing specific parts of a string in an array", "body": "<p>Because <code>string</code> can be translated to and from an array of <code>char</code> you could easily transform your problem into <em>replace things in an array</em> problem:</p>\n\n<pre><code>char[] characters = input.ToCharArray();\n\n// do your replace logic here\n\nstring result = new string(characters);\n</code></pre>\n\n<p>Or you could use <code>Substring</code>. Assuming <code>n</code> is number of characters you want to replace from the beginning or the string:</p>\n\n<pre><code>string result = new string('x', n) + input.Substring(n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1431555126, "creation_date": 1431555126, "answer_id": 30226070, "question_id": 30225988, "link": "https://stackoverflow.com/questions/30225988/replacing-specific-parts-of-a-string-in-an-array/30226070#30226070", "title": "Replacing specific parts of a string in an array", "body": "<p>You can use Linq:</p>\n\n<pre><code>String test = \"1234123412341234\";\nstring output = new String(test.Select((c, index) =&gt; index &lt; 12 ? 'x' : c).ToArray());\nConsole.WriteLine(output);\n//xxxxxxxxxxxx1234\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431555126, "creation_date": 1431554695, "question_id": 30225988, "link": "https://stackoverflow.com/questions/30225988/replacing-specific-parts-of-a-string-in-an-array", "title": "Replacing specific parts of a string in an array", "body": "<p>I'm pretty familiar with finding and replacing things in an array, but I'm having trouble finding out how to replace specific parts of a string. For instance, say the first item in my array is a string of sixteen random numbers like 1786549809654768. How would I go about replacing the first twelve characters with x's for example?</p>\n"}, {"tags": ["c#", "mysql", "where", "sql-like", "radcombobox"], "comments": [{"owner": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "edited": false, "score": 0, "creation_date": 1431555208, "post_id": 30225978, "comment_id": 48556074, "body": "You&#39;re query construction in the first case is a little flawed, should be <code>....LIKE &#39;%&quot; + ....</code>. In the second case, you&#39;ve not provided any <code>%</code> symbols, unless they are already in <code>e.Text</code>."}, {"owner": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "edited": false, "score": 2, "creation_date": 1431556012, "post_id": 30225978, "comment_id": 48556414, "body": "Nooooo, I&#39;ve had a <code>your</code>/<code>you&#39;re</code> typo immortalized! ;_;"}, {"owner": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "reply_to_user": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "edited": false, "score": 0, "creation_date": 1431557628, "post_id": 30225978, "comment_id": 48556909, "body": "@Uueerdo you can edit your own comments."}, {"owner": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "reply_to_user": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "edited": false, "score": 0, "creation_date": 1431558234, "post_id": 30225978, "comment_id": 48557086, "body": "@OllieJones AFAIK, not after a certain amount of time passes."}, {"owner": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "edited": false, "score": 0, "creation_date": 1431558461, "post_id": 30225978, "comment_id": 48557150, "body": "Oh, yeah, that&#39;s right."}, {"owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "edited": false, "score": 0, "creation_date": 1431643656, "post_id": 30225978, "comment_id": 48598088, "body": "Uueerdo, the second case is what is working so far. It is my working basis. I should have mentioned that."}, {"owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "edited": false, "score": 0, "creation_date": 1431644232, "post_id": 30225978, "comment_id": 48598244, "body": "And for the first case, @ is missing. you should read WHERE TransactionCategory LIKE &#39;%&#39; + @TransactionCategory + &#39;%&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1431557724, "creation_date": 1431557724, "answer_id": 30226554, "question_id": 30225978, "link": "https://stackoverflow.com/questions/30225978/mysql-where-like-with-radcombobox-text/30226554#30226554", "title": "Mysql WHERE LIKE with RadCombobox.Text", "body": "<p>The <code>+</code> operator in MySQL works on numbers.</p>\n\n<p>You want <code>... LIKE CONCAT('%', TransactionCategory, '%')</code> if you're trying to construct strings in your query.</p>\n\n<p>The kicker is this:   <code>0 + 'somethingrandom'</code> has the result value of zero, because MySQL tries to convert <code>'somethingrandom'</code> to an integer, and decides it's zero.</p>\n\n<pre><code>0 + '2randomthings'\n</code></pre>\n\n<p>has a value of 2.</p>\n\n<p>So, your query is saying <code>WHERE column LIKE 0</code> which </p>\n\n<ol>\n<li>doesn't fail by throwing any kind of syntax error. </li>\n<li>doesn't find anything useful.</li>\n</ol>\n\n<p>Debugging this kind of stuff in MySQL is a pain in the synt*x</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "is_accepted": false, "score": 0, "last_activity_date": 1431645079, "creation_date": 1431645079, "answer_id": 30248972, "question_id": 30225978, "link": "https://stackoverflow.com/questions/30225978/mysql-where-like-with-radcombobox-text/30248972#30248972", "title": "Mysql WHERE LIKE with RadCombobox.Text", "body": "<p>Thank you Ollie. \nI tried your solution in phpmyadmin and it looks like these both options work:</p>\n\n<ul>\n<li>LIKE CONCAT('%', 'TransactionCategory', '%') (meaning your answer adding the ' before and after TransactionCategory)</li>\n<li>LIKE '%TransactionCategory%'</li>\n</ul>\n\n<p>So my problem is now: how can I replace TransactionCategory by @TransactionCategory, which is the value of what is entered in the RadComboBox \"rcbTransactionCategory\"</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "edited": false, "score": 0, "creation_date": 1431650644, "post_id": 30249203, "comment_id": 48599946, "body": "Hello Tim. I am a bit confused as first you advise me to use the second method (&#39;%TransactionCategory%&#39;) and then you give me a third one (&#39;%&quot; + str_TransactionCategory + &quot;%&#39;) that I cannot run successfully in phpmyadmin. (it doesn&#39;t return any value). I tried the following to use your str_TransactionCategory: RadComboBox rcbAccountCode = (RadComboBox)item.FindControl(&quot;rcbAccountCode&quot;); and then how can I state str_TransactionCategory = rcbAccountCode.Text?"}, {"owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "reply_to_user": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "edited": false, "score": 0, "creation_date": 1431653958, "post_id": 30249203, "comment_id": 48600881, "body": "You need gather the value from your form somehow,maybe just like your code. I don&#39;t have your whole setup and it&#39;s up to you to find out, maybe by reading a complete tutorial somewhere. The second method makes things complicated and you can master it later."}], "tags": [], "owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "is_accepted": false, "score": 0, "last_activity_date": 1431646570, "creation_date": 1431646570, "answer_id": 30249203, "question_id": 30225978, "link": "https://stackoverflow.com/questions/30225978/mysql-where-like-with-radcombobox-text/30249203#30249203", "title": "Mysql WHERE LIKE with RadCombobox.Text", "body": "<p>You should try to make the second method work, it's better than the first.</p>\n\n<p>To solve your problem, in c#, your statement should be like this:</p>\n\n<p>string Mysql = \"SELECT * FROM sytransactioncategory WHERE TransactionCategory LIKE '%\" + str_TransactionCategory + \"%'\";</p>\n\n<p>Where str_TransactionCategory is the variable holding your search value. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "is_accepted": false, "score": 0, "last_activity_date": 1431797445, "creation_date": 1431797445, "answer_id": 30278722, "question_id": 30225978, "link": "https://stackoverflow.com/questions/30225978/mysql-where-like-with-radcombobox-text/30278722#30278722", "title": "Mysql WHERE LIKE with RadCombobox.Text", "body": "<p>In fact, the answer was quite simple. No need to use findcontrol. This works for me: </p>\n\n<pre><code>string Mysql = \"SELECT * FROM sytransactioncategory WHERE TransactionCategory LIKE CONCAT('%', @TransactionCategory, '%');\n</code></pre>\n\n<p>Thank you for your help.</p>\n"}], "owner": {"reputation": 1, "user_id": 4789788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b858c2141f8608edae0a0f6ab3f525f8?s=128&d=identicon&r=PG&f=1", "display_name": "NALL", "link": "https://stackoverflow.com/users/4789788/nall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1520850838, "creation_date": 1431554645, "last_edit_date": 1520850838, "question_id": 30225978, "link": "https://stackoverflow.com/questions/30225978/mysql-where-like-with-radcombobox-text", "title": "Mysql WHERE LIKE with RadCombobox.Text", "body": "<p>I am having trouble with SELECT WHERE LIKE due to the use of @.</p>\n\n<p>Using</p>\n\n<pre><code>string Mysql = \"SELECT * FROM sytransactioncategory WHERE TransactionCategory LIKE '%' + @TransactionCategory + '%'\";\n</code></pre>\n\n<p>Do not Work.</p>\n\n<p>I found several interesting answers, like <a href=\"https://stackoverflow.com/questions/251276/howto-parameters-and-like-statement-sql\">this</a> but I did not not manage to adapt it to my case.\nHere is my current C# code:</p>\n\n<pre><code>string Mysql = \"SELECT * FROM sytransactioncategory WHERE TransactionCategory LIKE @TransactionCategory\";\nMySqlDataAdapter adapter = new MySqlDataAdapter(Mysql,ConfigurationManager.ConnectionStrings[\"DefaultConnection\"].ConnectionString);\nadapter.SelectCommand.Parameters.AddWithValue(\"@TransactionCategory\", e.Text);\n</code></pre>\n\n<p>Anyone could give me a track please?</p>\n"}, {"tags": ["c#", "exception", "dictionary", "settings"], "answers": [{"comments": [{"owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "edited": false, "score": 0, "creation_date": 1431554729, "post_id": 30225950, "comment_id": 48555859, "body": "This is not a viable solution. The settings class contains many settings objects. Also; I have success with ObservableCollections. Is it possible that the &#39;,&#39; character in the XML string needs to be escaped? (That is my initial suspicion, but I have not been able to figure out how to escape a comma in an XML string)"}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "edited": false, "score": 0, "creation_date": 1431554997, "post_id": 30225950, "comment_id": 48555979, "body": "@Will I think this is the best option but you can try to kludge it.  See <a href=\"http://stackoverflow.com/a/4046036/3980331\">here</a>."}], "tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 1, "last_activity_date": 1431554529, "creation_date": 1431554529, "answer_id": 30225950, "question_id": 30225912, "link": "https://stackoverflow.com/questions/30225912/dictionary-in-settings-throws-an-exception/30225950#30225950", "title": "Dictionary in Settings throws an exception?", "body": "<p>.NET settings do not handle generics very well.  This is what I do:</p>\n\n<pre><code>[XmlRoot(\"dictionary\")]\npublic class MyDictionary : SerializableDictionary&lt;int, string&gt;\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 30225950, "answer_count": 1, "score": 0, "last_activity_date": 1431554529, "creation_date": 1431554360, "question_id": 30225912, "link": "https://stackoverflow.com/questions/30225912/dictionary-in-settings-throws-an-exception", "title": "Dictionary in Settings throws an exception?", "body": "<p>I want to save a dictionary in the default UserSettings class of my project.</p>\n\n<p>I've tried the following in the code of the Settings file but it fails:</p>\n\n<pre><code>&lt;Setting Name=\"MediaKeys\" Type=\"System.Collections.ObjectModel.Dictionary&amp;lt;System.Input.Key, System.IO.FileInfo&amp;gt;\" Scope=\"User\"&gt;\n  &lt;Value Profile=\"(Default)\" /&gt;\n&lt;/Setting&gt;\n</code></pre>\n\n<p>I get this error message when I look at the UI for the Settings:</p>\n\n<blockquote>\n  <p>Could not load file or assembly 'System.IO.FileInfo>' or one of its\n  dependencies. The parameter is incorrect. (Exception from HRESULT:\n  0x80070057 (E_INVALIDARG))</p>\n</blockquote>\n\n<p>Bearing in mind, please, that I will deal with the whole Serializable Dictionary at another point in time, why am I getting this exception? Even non-serializable objects (such as FileInfo, as I have tested) do not throw this exception.</p>\n"}, {"tags": ["c#", "image", "xaml", "windows-phone-8.1", "winrt-xaml"], "comments": [{"owner": {"reputation": 579, "user_id": 1640410, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6bb20034a931bf1f29c1240fb0541570?s=128&d=identicon&r=PG", "display_name": "Rohit Garg", "link": "https://stackoverflow.com/users/1640410/rohit-garg"}, "edited": false, "score": 1, "creation_date": 1431604425, "post_id": 30225852, "comment_id": 48575030, "body": "try doing stretch uniform. &lt;Image Source=&quot;<a href=\"http://image.png\" rel=\"nofollow noreferrer\">image.png</a>&quot;                        Stretch=&quot;Uniform&quot;&gt;"}, {"owner": {"reputation": 189, "user_id": 4882331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cf499d102acb2739c9479c313b55e9?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Smits", "link": "https://stackoverflow.com/users/4882331/robin-smits"}, "reply_to_user": {"reputation": 579, "user_id": 1640410, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6bb20034a931bf1f29c1240fb0541570?s=128&d=identicon&r=PG", "display_name": "Rohit Garg", "link": "https://stackoverflow.com/users/1640410/rohit-garg"}, "edited": false, "score": 0, "creation_date": 1431671195, "post_id": 30225852, "comment_id": 48605911, "body": "Hi Rohit, Yes tried that in various combinations. But it gave not the results I wanted."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4882331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cf499d102acb2739c9479c313b55e9?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Smits", "link": "https://stackoverflow.com/users/4882331/robin-smits"}, "edited": false, "score": 0, "creation_date": 1431671260, "post_id": 30233222, "comment_id": 48605949, "body": "Hi Clemens, Tried your suggestion and it worked! Thanks my problem is solved now."}], "tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": true, "score": 1, "last_activity_date": 1431594015, "creation_date": 1431594015, "answer_id": 30233222, "question_id": 30225852, "link": "https://stackoverflow.com/questions/30225852/fill-viewbox-completely-with-part-of-image-area-determined-by-image-clip/30233222#30233222", "title": "Fill ViewBox completely with part of image area determined by Image.Clip", "body": "<p>You may fill a fixed size Rectangle with a translated ImageBrush like this:</p>\n\n<pre><code>&lt;Viewbox Stretch=\"Uniform\" StretchDirection=\"Both\"&gt;\n    &lt;Rectangle Width=\"600\" Height=\"700\"&gt;\n        &lt;Rectangle.Fill&gt;\n            &lt;ImageBrush ImageSource=\"http://image.png\"\n                        Stretch=\"None\" AlignmentX=\"Left\" AlignmentY=\"Top\"&gt;\n                &lt;ImageBrush.Transform&gt;\n                    &lt;TranslateTransform X=\"-500\" Y=\"-100\"/&gt;\n                &lt;/ImageBrush.Transform&gt;\n            &lt;/ImageBrush&gt;\n        &lt;/Rectangle.Fill&gt;\n    &lt;/Rectangle&gt;\n&lt;/Viewbox&gt;\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4882331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cf499d102acb2739c9479c313b55e9?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Smits", "link": "https://stackoverflow.com/users/4882331/robin-smits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 30233222, "answer_count": 1, "score": 1, "last_activity_date": 1431594015, "creation_date": 1431554110, "question_id": 30225852, "link": "https://stackoverflow.com/questions/30225852/fill-viewbox-completely-with-part-of-image-area-determined-by-image-clip", "title": "Fill ViewBox completely with part of image area determined by Image.Clip", "body": "<p>I have a large image I want to use within an Windows Phone 8.1 app. For the purpose of my application I want to show only a certain part of the image and want to fill the complete ViewBox with that specific part.</p>\n\n<p>I can easily get the specific part of the Image by using Image.Clip. However until now I have been unable to get the ViewBox filled with only the part determined by Image.Clip.\nI use the following XAML.</p>\n\n<pre><code>     &lt;Pivot&gt;\n        &lt;PivotItem Margin=\"10\"&gt;\n            &lt;Viewbox Stretch=\"Uniform\" StretchDirection=\"Both\"&gt;\n                &lt;Image Source=\"http://image.png\"\n                       Stretch=\"None\"&gt;\n                    &lt;Image.Clip&gt;\n                         &lt;RectangleGeometry Rect=\"500,100,600,700\"/&gt;\n                    &lt;/Image.Clip&gt;\n                &lt;/Image&gt;\n            &lt;/Viewbox&gt;\n        &lt;/PivotItem&gt;\n    &lt;/Pivot&gt; \n</code></pre>\n\n<p>I've tried various combinations of Stretch settings on both the Image and the ViewBox. I'also experimented with ScaleTransforms but until now no luck.</p>\n\n<p>So my question is is what I want to do possible from within XAML and if so which combination of XAML code should I use?</p>\n"}, {"tags": ["c#", "xml", "datatable"], "comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1431554246, "post_id": 30225838, "comment_id": 48555638, "body": "Look at ReadXml method of dataset"}, {"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "edited": false, "score": 1, "creation_date": 1431554307, "post_id": 30225838, "comment_id": 48555661, "body": "It&#39;s somewhat unclear from your example whether that XML element constitutes only one string (i.e. each such string corresponds to one data table row), or if the various attribute values are the strings making up the list of strings that you mention (i.e. there will only be one data table row). (Btw. you&#39;re missing a double quote at the end of <code>from_number</code>.)"}], "answers": [{"comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431579529, "post_id": 30226101, "comment_id": 48562455, "body": "Of course, this only works if the XML can be represented as a set of DataTables. Sometimes, it cannot."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431585961, "post_id": 30226101, "comment_id": 48564885, "body": "John : It always can be made to be a set of tables, sometimes these tables are useless due to the organization.  Once the level of tags in a XML file get to be 5 the XML tables get to be too fragmented to be practical."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431616143, "post_id": 30226101, "comment_id": 48583003, "body": "It cannot always be made to be a set of tables. I had a case once where ReadXml tried to create a grandchild table which would have been a child of two different parent tables. That&#39;s not permitted."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431671692, "post_id": 30226101, "comment_id": 48606165, "body": "But it ran and didn&#39;t give an exception."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431681648, "post_id": 30226101, "comment_id": 48611472, "body": "I mean that <i>this particular</i> XML may fit into table, but not every possible XML document can fit into tables."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1431703274, "post_id": 30226101, "comment_id": 48626149, "body": "Never seen an XML that wouldn&#39;t go into a dataset.  Some weren&#39;t very useful."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1431555243, "creation_date": 1431555243, "answer_id": 30226101, "question_id": 30225838, "link": "https://stackoverflow.com/questions/30225838/inserting-data-in-a-string-into-a-datatable/30226101#30226101", "title": "Inserting Data in a String into a DataTable", "body": "<p>Much easier to use ReadXML and WriteXML methods like code below.  You need to put DataTable into a DataSet to be able to use this method.  You are missing one column in your input string (from name) and you last int32 needs to be a long.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Data;\n\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME1 = @\"C:\\temp\\test.xml\";\n\n        static void Main(string[] args)\n        {\n            DataSet ds = new DataSet();\n            DataTable callsDT = new DataTable();\n            ds.Tables.Add(callsDT);\n            callsDT.Columns.Add(\"id\", typeof(Int32));\n            callsDT.Columns.Add(\"origination\", typeof(String));\n            callsDT.Columns.Add(\"start_time\", typeof(DateTime));\n            callsDT.Columns.Add(\"from\", typeof(String));\n            callsDT.Columns.Add(\"from_name\", typeof(String));\n            callsDT.Columns.Add(\"from_number\", typeof(long));\n\n            List&lt;List&lt;object&gt;&gt; input = new List&lt;List&lt;object&gt;&gt;(){\n               new List&lt;object&gt;() {55555, \"incoming\", DateTime.Parse(\"2001-01-01 00:00:00\"), \"John\",  \"Doe\", 5555555555},\n               new List&lt;object&gt;() {55556, \"incoming\", DateTime.Parse(\"2001-01-02 00:00:00\"), \"Mary\",  \"Smith\", 5555555556},\n               new List&lt;object&gt;() {55557, \"incoming\", DateTime.Parse(\"2001-01-03 00:00:00\"), \"Rob\",  \"Robon\", 55555555557},\n               new List&lt;object&gt;() {55558, \"incoming\", DateTime.Parse(\"2001-01-04 00:00:00\"), \"Sally\",  \"Rode\", 5555555558}\n            };\n\n            foreach(List&lt;object&gt; newRow in input)\n            {\n                callsDT.Rows.Add(newRow.ToArray());\n            }\n\n            ds.WriteXml(FILENAME1, XmlWriteMode.WriteSchema);\n\n            ds = null;\n            ds = new DataSet();\n            ds.ReadXml(FILENAME1, XmlReadMode.ReadSchema);\n\n\n        }\n    }\n}\n\u200b\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4897608"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431555243, "creation_date": 1431554065, "last_edit_date": 1431554470, "question_id": 30225838, "link": "https://stackoverflow.com/questions/30225838/inserting-data-in-a-string-into-a-datatable", "title": "Inserting Data in a String into a DataTable", "body": "<p>I have this DataTable:</p>\n\n<pre><code>DataTable callsDT = new DataTable();\ncallsDT.Columns.Add(\"id\", typeof(Int32));\ncallsDT.Columns.Add(\"origination\", typeof(String));\ncallsDT.Columns.Add(\"start_time\", typeof(DateTime));\ncallsDT.Columns.Add(\"from\", typeof(String));\ncallsDT.Columns.Add(\"from_name\", typeof(String));\ncallsDT.Columns.Add(\"from_number\", typeof(Int32));\n</code></pre>\n\n<p>I have a list of strings taken from an XML file that look like this:</p>\n\n<pre><code>  &lt;call id=\"55555\" origination=\"incoming\" start_time=\"2001-01-01 00:00:00\" from_name=\"John Doe\" from_number=\"5555555555 &lt;/call&gt;\n</code></pre>\n\n<p>I need to iterate through each string and assign each data point to a variable but am struggling to come up with an elegant way of doing that.</p>\n"}, {"tags": ["c#", "syslog"], "comments": [{"owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "edited": false, "score": 0, "creation_date": 1431554308, "post_id": 30225821, "comment_id": 48555662, "body": "I&#39;m not sure how you put errors in errorCol (upload this code maybe?), maybe some concurrent access is messing up. If so, the proper way to go would be <a href=\"https://msdn.microsoft.com/fr-fr/library/ms228964(v=vs.110).aspx\" rel=\"nofollow noreferrer\">synchronisation</a>"}, {"owner": {"reputation": 5893, "user_id": 1486834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xnxhK.png?s=128&g=1", "display_name": "Kuba Wyrostek", "link": "https://stackoverflow.com/users/1486834/kuba-wyrostek"}, "edited": false, "score": 0, "creation_date": 1431554592, "post_id": 30225821, "comment_id": 48555796, "body": "Are you sure that messages are lost? Did you try to sniff the wire on the server side?"}, {"owner": {"reputation": 655, "user_id": 1664700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c814a2f0bf16c43cf0b78414f1c50c9?s=128&d=identicon&r=PG", "display_name": "Samuel Prout", "link": "https://stackoverflow.com/users/1664700/samuel-prout"}, "reply_to_user": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "edited": false, "score": 0, "creation_date": 1431555503, "post_id": 30225821, "comment_id": 48556212, "body": "@RenaudGauthier <code>errorCol</code> is filled from a database call.  I can break between that and the syslog loop and the behavior is the same."}, {"owner": {"reputation": 655, "user_id": 1664700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c814a2f0bf16c43cf0b78414f1c50c9?s=128&d=identicon&r=PG", "display_name": "Samuel Prout", "link": "https://stackoverflow.com/users/1664700/samuel-prout"}, "reply_to_user": {"reputation": 5893, "user_id": 1486834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xnxhK.png?s=128&g=1", "display_name": "Kuba Wyrostek", "link": "https://stackoverflow.com/users/1486834/kuba-wyrostek"}, "edited": false, "score": 0, "creation_date": 1431556480, "post_id": 30225821, "comment_id": 48556564, "body": "@KubaWyrostek thanks for the suggestion...it seems the server is receiving all messages, but dropping them.  &quot;5000 received, 136 dropped by the kernel.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 4615266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y6gFr.jpg?s=128&g=1", "display_name": "Renaud Gauthier", "link": "https://stackoverflow.com/users/4615266/renaud-gauthier"}, "is_accepted": true, "score": 1, "last_activity_date": 1431566667, "creation_date": 1431566667, "answer_id": 30227804, "question_id": 30225821, "link": "https://stackoverflow.com/questions/30225821/why-am-i-losing-40-of-syslog-messages-unless-i-sleep-the-thread/30227804#30227804", "title": "Why am I losing 40% of syslog messages unless I sleep the thread?", "body": "<p>It looks like the OS rejects some logs when spammed too much, and the sleep will most likely do just fine. But there are indeed some more reliable solutions. You can setup a <a href=\"https://msdn.microsoft.com/en-us/library/System.Timers.Timer(v=vs.110).aspx\" rel=\"nofollow\">Timer</a> object and call your logger <a href=\"https://msdn.microsoft.com/en-us/library/system.timers.timer.elapsed(v=vs.110).aspx\" rel=\"nofollow\">using the <em>Elapsed</em> event</a>. </p>\n\n<p>Something like:</p>\n\n<pre><code>//likely much longer than needed, I figure you dont need this to breeze anyway\naTimer = new System.Timers.Timer(50); \n\naTimer.Elapsed += timeToLog;\naTimer.Enabled = true;\n</code></pre>\n\n<p>Then you log in time:</p>\n\n<pre><code>private static void timeToLog(Object source, ElapsedEventArgs e)\n{\n    var error = getNextError(); //Keep an iterator somewhere\n    SyslogMessage(\"AppName\", error.Value);\n}\n</code></pre>\n\n<p>I can add the code you'll need in order to create and manage the iterator (getNextError), although we're getting outside the scope of your question. </p>\n"}], "owner": {"reputation": 655, "user_id": 1664700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c814a2f0bf16c43cf0b78414f1c50c9?s=128&d=identicon&r=PG", "display_name": "Samuel Prout", "link": "https://stackoverflow.com/users/1664700/samuel-prout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 30227804, "answer_count": 1, "score": 1, "last_activity_date": 1431566667, "creation_date": 1431554023, "question_id": 30225821, "link": "https://stackoverflow.com/questions/30225821/why-am-i-losing-40-of-syslog-messages-unless-i-sleep-the-thread", "title": "Why am I losing 40% of syslog messages unless I sleep the thread?", "body": "<p>I'm using <a href=\"https://www.nuget.org/packages/SyslogNet.Client/\" rel=\"nofollow\">SyslogNet.Client</a> to syslog (UDP) messages to a server.  I loop through a collection of errors from a database and send them.  Only ~40% of messages arrive.  I understand that with UDP, there is no guarantee of message arrival, but this is a very high percentage. However, if I call <code>Thread.Sleep(1)</code> between each iteration of the loop, 100% of the messages arrive.  I'm having trouble understanding why this is happening.<br>\nHere's the loop:</p>\n\n<pre><code>    private static void SyslogErrors(Dictionary&lt;int, string&gt; errorCol)\n    {\n        foreach (var error in errorCol)\n        {\n            SyslogMessage(\"AppName\", error.Value);\n            Thread.Sleep(1);\n        }\n    }\n</code></pre>\n\n<p>And here's <code>SyslogMessage</code>:</p>\n\n<pre><code>    private static void SyslogMessage(string appName, string message)\n    {\n        using (_syslogSender = new SyslogUdpSender(Server, Port))\n        {\n            var msg = new SyslogMessage(DateTime.Now,\n                Facility.SecurityOrAuthorizationMessages1,\n                Severity.Informational,\n                Environment.MachineName,\n                appName,\n                message);\n            _syslogSender.Send(msg, new SyslogRfc3164MessageSerializer());\n        }\n    }\n</code></pre>\n\n<p>First of all, why is this happening?  Secondly, what's the \"best practices\" way to slow the loop down?  Thread.Sleep(1) doesn't seem like a very clean solution.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 7661, "user_id": 2851870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2a9c45d271e7b497f7e7edcf27922d?s=128&d=identicon&r=PG", "display_name": "Tasos K.", "link": "https://stackoverflow.com/users/2851870/tasos-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1431557002, "last_edit_date": 1431557002, "creation_date": 1431555036, "answer_id": 30226056, "question_id": 30225783, "link": "https://stackoverflow.com/questions/30225783/how-can-i-call-a-method-of-a-content-from-masterpage-in-asp-net/30226056#30226056", "title": "How can I call a Method of a Content from MasterPage in ASP.NET", "body": "<p>The object of type <code>produtosCategoria</code> is already created and it can be accessed from your master page via <code>this.Page</code>.</p>\n\n<p>So to change the label of your content page you can do as in the snippet below.</p>\n\n<p>Also, I added a simple type check so you won't get an error if another content page is loaded</p>\n\n<pre><code>protected void btnSalada_Click(object sender, ImageClickEventArgs e)\n{\n    // Check if it is the correct content page\n    if (this.Page.GetType() == typeof(produtosCategoria)) \n    {\n        produtosCategoria x = (produtosCategoria)this.Page;\n        x.changeLabel(\"Salada\");\n    }\n}\n</code></pre>\n\n<p>Note: When code executes in the master page <code>this</code> is the master page and <code>this.Page</code> is the content page</p>\n"}], "owner": {"reputation": 1, "user_id": 4826876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19698e196d685cdd071317cb91b6f05?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/4826876/alexandre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431557002, "creation_date": 1431553835, "last_edit_date": 1431554452, "question_id": 30225783, "link": "https://stackoverflow.com/questions/30225783/how-can-i-call-a-method-of-a-content-from-masterpage-in-asp-net", "title": "How can I call a Method of a Content from MasterPage in ASP.NET", "body": "<p>I want to call a method of a Content from a master page sending a Parameter to manipulate one label.</p>\n\n<pre><code>public partial class MasterCategoria : System.Web.UI.MasterPage\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n\n    protected void btnSalada_Click(object sender, ImageClickEventArgs e)\n    {\n        produtosCategoria x = new produtosCategoria();\n        x.changeLabel(\"Salada\");\n    }\n}\n</code></pre>\n\n<p>Manipulating this button on this WebForm which is a Content</p>\n\n<pre><code>public partial class produtosCategoria : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n\n    public void changeLabel(string name)\n    {\n        lblTexto.Text = name;\n    }\n</code></pre>\n\n<p>But this isn't working. How can I do this work?</p>\n\n<p>Thank you guys, and sorry about my english.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1431553947, "post_id": 30225738, "comment_id": 48555495, "body": "&quot;But once it hits 05/03/15 it switches back to 05/01/15.&quot;  Why is this incorrect?  The first of the month of 05/03 - 2 days (05/01) is 05/01."}, {"owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "reply_to_user": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1431553955, "post_id": 30225738, "comment_id": 48555500, "body": "So I figured it out, I did this: static string StartMonthly = GetMonthly.Year + &quot;/&quot; + GetMonthly.Month + &quot;/&quot; + &quot;01&quot;; but how do I get the month with a 0 in front of single digit months."}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 2, "creation_date": 1431553961, "post_id": 30225738, "comment_id": 48555505, "body": "You could create a new <code>DateTime</code> providing the month/year values, and setting the day value to 1 to get the start of the month.  Then get your end of range by <code>firstOfMonth.AddMonths(1).AddDays(-2);</code>"}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 1, "creation_date": 1431554009, "post_id": 30225738, "comment_id": 48555529, "body": "@BillyHen that&#39;s a job for <a href=\"https://msdn.microsoft.com/en-us/library/8kb3ddd4%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\"><code>.ToString</code> formatting</a>."}, {"owner": {"reputation": 586, "user_id": 1880844, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74e8d3e7e54600678a718f3bdb19f699?s=128&d=identicon&r=PG", "display_name": "din", "link": "https://stackoverflow.com/users/1880844/din"}, "edited": false, "score": 0, "creation_date": 1431554013, "post_id": 30225738, "comment_id": 48555532, "body": "this would help new DateTime(GetMonthly.Year, GetMonthly.Month, 1);"}, {"owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "reply_to_user": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1431554033, "post_id": 30225738, "comment_id": 48555536, "body": "@ryanyuyu GetMonthly.Month.ToString(&quot;MM&quot;) doesn&#39;t work tho?"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431554122, "post_id": 30225738, "comment_id": 48555583, "body": "@Billy Hen...Look up DateTime in the C# API and scroll down to ToString"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 1, "creation_date": 1431554236, "post_id": 30225738, "comment_id": 48555633, "body": "Could you perhaps try to reword what you are trying to do?  I read over it again and now I am confused.  Are you trying to find how many days between the first of last month and 2 days prior to today?"}, {"owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "reply_to_user": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1431554337, "post_id": 30225738, "comment_id": 48555678, "body": "@dubstylee Thanks for your help.  I was trying to get the first of the month of a particular DateTime.  I was able to do this by: static string StartMonthly = GetMonthly.Year + &quot;/&quot; + GetMonthly.Month.ToString(&quot;ss&quot;) + &quot;/&quot; + &quot;01&quot;;"}, {"owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "reply_to_user": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1431554370, "post_id": 30225738, "comment_id": 48555695, "body": "@dubstylee But I do not know how to make the GetMonthly.Month into a 05 string instead of 5"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1431554446, "post_id": 30225738, "comment_id": 48555726, "body": "@BillyHen rather than using a <code>static string</code>, you should make your <code>StartMonthly</code> be a <code>DateTime</code>, then you can use the formatting of the <code>DateTime.ToString()</code> method: <code>StartMonthly.ToString(&quot;yy&#47;MM&#47;dd&quot;);</code>"}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1431554452, "post_id": 30225738, "comment_id": 48555728, "body": "@BillyHen format the entire DateTime at once like <code>&quot;MM&#47;dd&#47;yy</code>.  Also <code>DateTime.ToShortDateString()</code> should work too."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "is_accepted": false, "score": 0, "last_activity_date": 1431557151, "creation_date": 1431557151, "answer_id": 30226453, "question_id": 30225738, "link": "https://stackoverflow.com/questions/30225738/get-datetime-of-month-and-year/30226453#30226453", "title": "Get Datetime of month and year", "body": "<p>I know there is a better way to do it but I ended up doing this:</p>\n\n<pre><code>static DateTime GetMonthly = DateTime.Today.AddDays(-2);\n\nstatic string StartMonthly = GetMonthly.Year + \"/\" + GetMonthly.Month.ToString().PadLeft(2, '0') + \"/\" + \"01\";\n\nstatic string EndMonthly = GetMonthly.ToString(\"yyyy-MM-dd\");\n</code></pre>\n\n<p>Just wanted to show anyone who asks this question again.</p>\n"}], "owner": {"reputation": 13, "user_id": 4746937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f592895fcc8bec8aabb8524649aa760?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Hen", "link": "https://stackoverflow.com/users/4746937/billy-hen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431557151, "creation_date": 1431553651, "question_id": 30225738, "link": "https://stackoverflow.com/questions/30225738/get-datetime-of-month-and-year", "title": "Get Datetime of month and year", "body": "<p>I am trying to get a month range of the first of the month to the last two days (-2)</p>\n\n<p>So for example:  It is May 1st 2015 or 05/01/2015.</p>\n\n<p>I want to pull the last two days as the end date 04/29/15 and the first of that month 04/01/15.</p>\n\n<p>So my range would be 04/01/15 - 04/29/15 when the current day is 05/01/2015.</p>\n\n<p>So if the current day is 05/02/15 I want to get the range 04/01/15 - 04/30/15.</p>\n\n<p>But once it hits 05/03/15 it switches back to 05/01/15.  </p>\n\n<p>So this is what I have so far:</p>\n\n<pre><code>    static DateTime GetMonthly = DateTime.Today.AddDays(-2);\n\n    static string StartMonthly = ?????\n\n    static string EndMonthly = GetMonthly.ToString(\"yyyy-MM-dd\");\n</code></pre>\n\n<p>I know how to get the EndMonthly but not the first day of the GetMontly -2 days.</p>\n\n<p>Also I would need to grab the year according to the GetMonthly.  So when its 01/01/2016, I would want to grab 12/01/15 - 12/30/15</p>\n\n<p>Does anyone know how I could do this?</p>\n"}, {"tags": ["c#", "video", "aforge"], "answers": [{"tags": [], "owner": {"reputation": 4565, "user_id": 1968462, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6ef24851a32cb6519312916524da2586?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/1968462/kat"}, "is_accepted": true, "score": 3, "last_activity_date": 1431710708, "creation_date": 1431710708, "answer_id": 30265384, "question_id": 30225716, "link": "https://stackoverflow.com/questions/30225716/rendering-video-to-file-that-may-have-an-inconsistent-frame-rate/30265384#30265384", "title": "Rendering video to file that may have an inconsistent frame rate", "body": "<p>It turns out <code>WriteVideoFrame</code> is overloaded and one variant of the function is <a href=\"http://www.aforgenet.com/framework/docs/html/84a560df-bfd5-e0d6-2812-f810b56a254d.htm\" rel=\"nofollow\"><code>WriteVideoFrame(Bitmap frame, TimeSpan timestamp)</code></a>. As you can guess, the time stamp is used to make a frame appear at a certain time in the video.</p>\n\n<p>Thus, by keeping track of the real time, we can set each frame to use the time that it should be in the video. Of course, the video quality will be worse if you can't render quickly enough, but this resolves the issue at hand.</p>\n\n<p>Here's the code that I used for the <code>Draw</code> function:</p>\n\n<pre><code>// We can provide a frame offset so that each frame has a time that it's supposed to be\n// seen at. This ensures that the video looks correct if the render rate is lower than\n// the frame rate, since these times will be used (it'll be choppy, but at least it'll\n// be paced correctly -- necessary so that sound won't go out of sync).\nlong currentTick = DateTime.Now.Ticks;\nStartTick = StartTick ?? currentTick;\nvar frameOffset = new TimeSpan(currentTick - StartTick.Value);\n\n// Figure out if we need to render this frame to the file (ie, has enough time passed\n// that this frame will be in the file?). This prevents us from going over the\n// desired frame rate and improves performance (assuming that we can go over the frame\n// rate).\ndouble elapsedTimeInSeconds = stopwatch.ElapsedTicks / (double) Stopwatch.Frequency;\ndouble timeBetweenFramesInSeconds = 1.0 / FrameRate;\nif (elapsedTimeInSeconds &gt;= timeBetweenFramesInSeconds)\n{\n    stopwatch.Restart();\n\n    Writer.WriteVideoFrame(frame.ToBitmap(), frameOffset);\n}\n</code></pre>\n\n<p>Where <code>StartTick</code> is a <code>long?</code> member of the object.</p>\n"}, {"comments": [{"owner": {"reputation": 7506, "user_id": 622391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea6f87ff9eacc4b168afcb647d69977?s=128&d=identicon&r=PG", "display_name": "Simon M\u1d9cKenzie", "link": "https://stackoverflow.com/users/622391/simon-m%e1%b6%9ckenzie"}, "edited": false, "score": 0, "creation_date": 1449466801, "post_id": 34126811, "comment_id": 56002467, "body": "It may be worth using <a href=\"https://msdn.microsoft.com/library/system.diagnostics.stopwatch.aspx\" rel=\"nofollow noreferrer\"><code>System.Diagnostics.Stopwatch</code></a> instead of <code>DateTime</code> subtraction if you&#39;re working with high framerates - <code>Stopwatch</code> <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2010/04/08/precision-and-accuracy-of-datetime.aspx\" rel=\"nofollow noreferrer\">is more accurate</a>."}, {"owner": {"reputation": 4565, "user_id": 1968462, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6ef24851a32cb6519312916524da2586?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/1968462/kat"}, "edited": false, "score": 0, "creation_date": 1449522194, "post_id": 34126811, "comment_id": 56034360, "body": "That&#39;s pretty much the same thing that I used, except I (for whatever reason at the time) got the timespan from subtracting ticks from <code>DateTime.Now</code> instead of just subtracting directly (which results in a <code>TimeSpan</code>. Although I&#39;m pretty sure you can&#39;t use <code>TimeOfDay</code>. That will fail if your recording passes midnight. Should use just <code>DateTime.Now</code>."}, {"owner": {"reputation": 1736, "user_id": 3867490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbUwC.jpg?s=128&g=1", "display_name": "keysl", "link": "https://stackoverflow.com/users/3867490/keysl"}, "edited": false, "score": 0, "creation_date": 1449568028, "post_id": 34126811, "comment_id": 56052014, "body": "I&#39;m only using 25 fps and even though my web camera can handle that. The application just can&#39;t process that frame fast enough. In my case I forcefully reset the saving when it hit the midnight then initialize a new one. One good way to increase the frame process of aforge is to make a new separate thread for the writer."}], "tags": [], "owner": {"reputation": 1736, "user_id": 3867490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbUwC.jpg?s=128&g=1", "display_name": "keysl", "link": "https://stackoverflow.com/users/3867490/keysl"}, "is_accepted": false, "score": 1, "last_activity_date": 1449469086, "last_edit_date": 1449469086, "creation_date": 1449464788, "answer_id": 34126811, "question_id": 30225716, "link": "https://stackoverflow.com/questions/30225716/rendering-video-to-file-that-may-have-an-inconsistent-frame-rate/34126811#34126811", "title": "Rendering video to file that may have an inconsistent frame rate", "body": "<p>I have also faced this problem. In my case I'm mimicking a CCTV System using Aforge. CCTV should be accurate in the times it is recording so I faced a big dilemma for that. Here is the work around I used in this.</p>\n\n<p>First, declare a Timespan which will be the base of the recording. You need to set this when you start the recording meaning. The value of this is the time you start the recording. For sake of this answer let's call this <code>tmspStartRecording</code></p>\n\n<p>Then in a new frame event of your capture device:</p>\n\n<pre><code>var currentTime = DateTime.Now.TimeOfDay;\n// this will get the elapse time between\n// the current time from the time you start your recording\nTimeSpan elapse = currentTime - tmspStartRecording;\nwriter.WriteVideoFrame((Bitmap)image.Clone(),elapse);\n</code></pre>\n\n<p>Don't forget to set the value of the starting Timespan, OK?</p>\n"}], "owner": {"reputation": 4565, "user_id": 1968462, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6ef24851a32cb6519312916524da2586?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/1968462/kat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2312, "favorite_count": 0, "accepted_answer_id": 30265384, "answer_count": 2, "score": 3, "last_activity_date": 1449469086, "creation_date": 1431553529, "question_id": 30225716, "link": "https://stackoverflow.com/questions/30225716/rendering-video-to-file-that-may-have-an-inconsistent-frame-rate", "title": "Rendering video to file that may have an inconsistent frame rate", "body": "<p>I'm getting raw video frames from a source (that can be considered a black box) at a rate that can be inconsistent. I'm trying to record the video feed to the disk. I'm doing so with AForge's <code>VideoRecorder</code> and am writing to an MP4 file.</p>\n\n<p>However, the inconsistent rate at which I receive frames causes the video to appear sped up. It seems that I only have the ability to create video files that have a fixed frame rate, even though the source does not have a fixed frame rate.</p>\n\n<p>This isn't an issue when rendering to the screen, as we can just render as fast as possible. I can't do this when writing to the file, since playing back the file would play at the fixed frame rate.</p>\n\n<p>What solutions are there? The output does not have to be the same video format as long as there's some reasonable way to convert it later (which wouldn't have to be real time). The video feeds can be quite long, so I can't just store everything in memory and encode later.</p>\n\n<p>My code currently looks along the lines of:</p>\n\n<pre><code>VideoFileWriter writer = new VideoFileWriter();\nStopwatch stopwatch = new Stopwatch();\n\npublic override void Start() {\n    writer.Open(\"output.mp4\", videoWidth, videoHeight, frameRate, AForge.Video.FFMPEG.VideoCodec.MPEG4);\n    stopwatch.Start();\n}\n\npublic override void End() {\n    writer.Close();\n}\n\npublic override void Draw(Frame frame) {\n    double elapsedTimeInSeconds = stopwatch.ElapsedTicks / (double) Stopwatch.Frequency;\n    double timeBetweenFramesInSeconds = 1.0 / FrameRate;\n    if (elapsedTimeInSeconds &gt;= timeBetweenFramesInSeconds) {\n        stopwatch.Restart();\n        writer.WriteVideoFrame(frame.ToBitmap());\n    }\n}\n</code></pre>\n\n<p>Where our black box calls the <code>Start</code>, <code>End</code>, and <code>Draw</code> methods. The current check that I have in <code>Draw</code> prevents us from drawing too fast, but doesn't do anything to handle the case of drawing too slowly.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431553708, "post_id": 30225688, "comment_id": 48555405, "body": "Why message.Body = string.Format(string.Format(&quot;...&quot;)? This looks unnecessary"}], "answers": [{"tags": [], "owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "is_accepted": false, "score": 3, "last_activity_date": 1431553690, "creation_date": 1431553690, "answer_id": 30225749, "question_id": 30225688, "link": "https://stackoverflow.com/questions/30225688/in-string-format-escape-user-entered-characters-such-as-0-1/30225749#30225749", "title": "In string.Format escape user entered characters such as {0), {1}", "body": "<p>Just concat the string outside format:    </p>\n\n<pre><code>    message.Body = string.Format(\"&lt;html&gt;&lt;body&gt;- Service Request&lt;br/&gt; A new service request is in queue &lt;br/&gt; Please use the following link to access the details of the Service Request &lt;a href=\\\"{0}{1}\\\"&gt;{0}{1}&lt;/a&gt; &lt;br/&gt;\", \n   ServiceRequestURL, Entry.ServiceEntryID) +\n   entry.RunDescription +\n   \"Thank you &lt;br/&gt; Administrator &lt;br/&gt;&lt;/body&gt;&lt;/html&gt;\";\n</code></pre>\n\n<p>If you still want to escape, <code>{</code> should be repaced with <code>{{</code> and <code>}</code> should be replaced with <code>}}</code></p>\n"}, {"tags": [], "owner": {"reputation": 886, "user_id": 4753834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BazXc.png?s=128&g=1", "display_name": "JimiLoe", "link": "https://stackoverflow.com/users/4753834/jimiloe"}, "is_accepted": true, "score": 0, "last_activity_date": 1431554080, "last_edit_date": 1431554080, "creation_date": 1431553758, "answer_id": 30225766, "question_id": 30225688, "link": "https://stackoverflow.com/questions/30225688/in-string-format-escape-user-entered-characters-such-as-0-1/30225766#30225766", "title": "In string.Format escape user entered characters such as {0), {1}", "body": "<p>Don't \"add\" the user entered <code>entry.RunDescription</code> string to the <strong>format string</strong>. Instead add an additional parameter for it: </p>\n\n<pre><code>message.Body = string.Format(\" ... &lt;br/&gt;{2} ...\",\n    ServiceRequestURL, Entry.ServiceEntryID, entry.RunDescription));\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 1442975, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1b6e3da2c4f0eedeb154bb4441a11f46?s=128&d=identicon&r=PG", "display_name": "user721", "link": "https://stackoverflow.com/users/1442975/user721"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 30225766, "answer_count": 2, "score": 0, "last_activity_date": 1431554080, "creation_date": 1431553405, "last_edit_date": 1431553506, "question_id": 30225688, "link": "https://stackoverflow.com/questions/30225688/in-string-format-escape-user-entered-characters-such-as-0-1", "title": "In string.Format escape user entered characters such as {0), {1}", "body": "<p>While sending an SMTP email I am getting the following error:</p>\n\n<blockquote>\n  <p>Index (zero based) must be greater than or equal to zero and less than\n  the size of the argument list.</p>\n</blockquote>\n\n<p>This error is specifically  happening because the entry.RunDescription has the following user entered text with some characters confusing the string.format method in email body.</p>\n\n<pre><code>pipettor ({0}) Test ({1}) Assay ({2}) Pack ({3}) Wedge ({4}) location ({5}) Final position ({6}) Maximum ({7})\n</code></pre>\n\n<p>Since this is a user entred text, Is there any way I could make it work besides adding logic that the user does not enter these characters or how could I escape these characters and still retain the text?</p>\n\n<pre><code>message.Body = string.Format(string.Format(\"&lt;html&gt;&lt;body&gt;- Service Request&lt;br/&gt; A new service request is in queue &lt;br/&gt; Please use the following link to access the details of the Service Request &lt;a href=\\\"{0}{1}\\\"&gt;{0}{1}&lt;/a&gt; &lt;br/&gt;\" +\nentry.RunDescription +\n\"Thank you &lt;br/&gt; Administrator &lt;br/&gt;&lt;/body&gt;&lt;/html&gt;\", ServiceRequestURL, Entry.ServiceEntryID));\n</code></pre>\n"}, {"tags": ["c#", "performance", "linq", "ilist"], "comments": [{"owner": {"reputation": 19681, "user_id": 4751173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Haz6W.jpg?s=128&g=1", "display_name": "Glorfindel", "link": "https://stackoverflow.com/users/4751173/glorfindel"}, "edited": false, "score": 0, "creation_date": 1431553420, "post_id": 30225639, "comment_id": 48555299, "body": "You don&#39;t need the &lt;string&gt; in the Count() and ToList() methods."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1431553435, "post_id": 30225639, "comment_id": 48555307, "body": "<code>ToList()</code> doesn&#39;t <i>cast</i> to a list.  It <i>creates</i> a list containing the enumerable items, even if the input enumerable is already a list.  See the <a href=\"http://referencesource.microsoft.com/#System.Core/System/Linq/Enumerable.cs,e276d6892241255b,references\" rel=\"nofollow noreferrer\">reference source</a>.  So <code>Count()</code> will be faster since it doesn&#39;t create a copied list."}, {"owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "edited": false, "score": 2, "creation_date": 1431553712, "post_id": 30225639, "comment_id": 48555407, "body": "I don&#39;t think it&#39;s a duplicate - author doesn&#39;t have a <code>List&lt;T&gt;</code> or <code>T[]</code> array, it has <code>IEnumerable&lt;T&gt;</code> and calls <code>ToList</code> on it to get <code>Count</code> property access. Calling <code>ToList</code> might be much expensive than calling <code>Count()</code> method from LINQ."}], "answers": [{"comments": [{"owner": {"reputation": 109546, "user_id": 38206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eea78103ba2306f23b41fd15b46228e?s=128&d=identicon&r=PG", "display_name": "Brian Rasmussen", "link": "https://stackoverflow.com/users/38206/brian-rasmussen"}, "edited": false, "score": 0, "creation_date": 1431553458, "post_id": 30225672, "comment_id": 48555321, "body": "That&#39;s not true. The underlying collection might have a count property and Linq will use that."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "reply_to_user": {"reputation": 109546, "user_id": 38206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eea78103ba2306f23b41fd15b46228e?s=128&d=identicon&r=PG", "display_name": "Brian Rasmussen", "link": "https://stackoverflow.com/users/38206/brian-rasmussen"}, "edited": false, "score": 0, "creation_date": 1431554784, "post_id": 30225672, "comment_id": 48555876, "body": "@BrianRasmussen: <code>in the general case</code>."}, {"owner": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1431555017, "post_id": 30225672, "comment_id": 48555989, "body": "That&#39;s an important sublety though. <code>ToList</code> is always O(n) and Count() is potentially O(1). So the real answer is &quot;It depends on the backing type&quot;."}, {"owner": {"reputation": 109546, "user_id": 38206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4eea78103ba2306f23b41fd15b46228e?s=128&d=identicon&r=PG", "display_name": "Brian Rasmussen", "link": "https://stackoverflow.com/users/38206/brian-rasmussen"}, "edited": false, "score": 0, "creation_date": 1431555455, "post_id": 30225672, "comment_id": 48556193, "body": "A lot of collections implement both <code>IEnumerable</code> and <code>ICollection</code> in which case the property can be used."}], "tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1431555283, "last_edit_date": 1431555283, "creation_date": 1431553341, "answer_id": 30225672, "question_id": 30225639, "link": "https://stackoverflow.com/questions/30225639/linq-count-vs-ilist-count/30225672#30225672", "title": "Linq count vs IList count", "body": "<p>Either version requires (in the general case) that you completely iterate your <code>IEnumerable&lt;string&gt;</code>.</p>\n\n<p>In some cases, the backing type provides a mechanism to directly determine the count which can be used for O(1) performance.  See @Marcin's answer for details.</p>\n\n<p>The version where you call ToList() will have an additional CPU overhead, though very small and possibly hard to measure.  It will also allocate memory that would not otherwise be allocated.  If your count is high, that would be the greater concern.</p>\n"}, {"comments": [{"owner": {"reputation": 1778, "user_id": 441517, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Uhjle.jpg?s=128&g=1", "display_name": "Shane van Wyk", "link": "https://stackoverflow.com/users/441517/shane-van-wyk"}, "edited": false, "score": 0, "creation_date": 1431554009, "post_id": 30225705, "comment_id": 48555531, "body": "<code>Enumerable.Count has some performance improvements</code> - Do you mean <code>Enumerable</code> or <code>IEnumerable</code>. Either way I cant find a Count method unless you are referring to the Linq Count."}, {"owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "reply_to_user": {"reputation": 1778, "user_id": 441517, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Uhjle.jpg?s=128&g=1", "display_name": "Shane van Wyk", "link": "https://stackoverflow.com/users/441517/shane-van-wyk"}, "edited": false, "score": 0, "creation_date": 1431554054, "post_id": 30225705, "comment_id": 48555549, "body": "<code>Enumerable</code> - that&#39;s the name of a class that implements all LINQ extension methods on <code>IEnumerable</code> and <code>IEnumerable&lt;T&gt;</code>: <a href=\"http://referencesource.microsoft.com/#System.Core/System/Linq/Enumerable.cs,577032c8811e20d3\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#System.Core/System/Linq/&hellip;</a>"}], "tags": [], "owner": {"reputation": 117905, "user_id": 1163867, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2fe5ef74a2c17f19c75d2f49b95fb71d?s=128&d=identicon&r=PG", "display_name": "MarcinJuraszek", "link": "https://stackoverflow.com/users/1163867/marcinjuraszek"}, "is_accepted": true, "score": 4, "last_activity_date": 1431553473, "creation_date": 1431553473, "answer_id": 30225705, "question_id": 30225639, "link": "https://stackoverflow.com/questions/30225639/linq-count-vs-ilist-count/30225705#30225705", "title": "Linq count vs IList count", "body": "<p>Calling <code>Count</code> directly is a better choice. </p>\n\n<p><code>Enumerable.Count</code> has some performance improvements built in that will let it return without enumerating the entire collection:</p>\n\n<pre><code>public static int Count&lt;TSource&gt;(this IEnumerable&lt;TSource&gt; source) {\n    if (source == null) throw Error.ArgumentNull(\"source\");\n    ICollection&lt;TSource&gt; collectionoft = source as ICollection&lt;TSource&gt;;\n    if (collectionoft != null) return collectionoft.Count;\n    ICollection collection = source as ICollection;\n    if (collection != null) return collection.Count;\n    int count = 0;\n    using (IEnumerator&lt;TSource&gt; e = source.GetEnumerator()) {\n        checked {\n            while (e.MoveNext()) count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p><code>ToList()</code> uses similar optimizations, baked into <code>List&lt;T&gt;(IEnumerable&lt;T&gt; source)</code> constructor:</p>\n\n<pre><code>public List(IEnumerable&lt;T&gt; collection) {\n    if (collection==null)\n        ThrowHelper.ThrowArgumentNullException(ExceptionArgument.collection);\n    Contract.EndContractBlock();\n\n    ICollection&lt;T&gt; c = collection as ICollection&lt;T&gt;;\n    if( c != null) {\n        int count = c.Count;\n        if (count == 0)\n        {\n            _items = _emptyArray;\n        }\n        else {\n            _items = new T[count];\n            c.CopyTo(_items, 0);\n            _size = count;\n        }\n    }    \n    else {                \n        _size = 0;\n        _items = _emptyArray;\n        // This enumerable could be empty.  Let Add allocate a new array, if needed.\n        // Note it will also go to _defaultCapacity first, not 1, then 2, etc.\n\n        using(IEnumerator&lt;T&gt; en = collection.GetEnumerator()) {\n            while(en.MoveNext()) {\n                Add(en.Current);                                    \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But as you can see it only uses generic <code>ICollection&lt;T&gt;</code>, so if your collection implements <code>ICollection</code> but not its generic version calling <code>Count()</code> directly will be much faster.</p>\n\n<p>Not calling <code>ToList</code> first also saves you an allocation of new <code>List&lt;T&gt;</code> instance - not something overly expensive, but it's always better to avoid unnecessary allocation when possible.</p>\n"}, {"tags": [], "owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1431554564, "last_edit_date": 1431554564, "creation_date": 1431553838, "answer_id": 30225784, "question_id": 30225639, "link": "https://stackoverflow.com/questions/30225639/linq-count-vs-ilist-count/30225784#30225784", "title": "Linq count vs IList count", "body": "<p>A very rudimentary LinqPad test indicates that calling <code>IEnumerable&lt;string&gt;.Count()</code> is faster than creating a list collection and getting the count, not to mention more memory efficient (as mentioned in other answers) and faster still when revisited the already enumerated collection.</p>\n\n<p>I had an average of ~4 ticks for calling Count() off of the IEnumerable vs ~10k for creating a new list to obtain Count.</p>\n\n<pre><code>void Main()\n{\n    IEnumerable&lt;string&gt; ienumerable = GetStrings();\n    var test1 = new Stopwatch();\n    test1.Start();\n    var count1 = ienumerable.Count();\n    test1.Stop();\n    test1.ElapsedTicks.Dump();\n\n    var test2 = new Stopwatch();\n    test2.Start();\n    var count2 = ienumerable.ToList().Count;\n    test2.Stop();\n    test2.ElapsedTicks.Dump();\n\n    var test3 = new Stopwatch();\n    test3.Start();\n    var count3 = ienumerable.Count();\n    test3.Stop();\n    test3.ElapsedTicks.Dump();\n}\n\npublic IEnumerable&lt;string&gt; GetStrings()\n{\n    var testString = \"test\";\n    var strings = new List&lt;string&gt;();\n    for (int i = 0; i &lt; 500000; i++)\n    {\n        strings.Add(testString);\n    }\n\n    return strings;\n}\n</code></pre>\n\n<p>In the latter case, you're incurring the cycles required to create a new collection from an existing collection (which under the hood has to iterate the collection), then pull the Count property off of the collection.  As a result, the Enumerable optimizations win and return the count value faster. </p>\n\n<p>In the third test run, average ticks dropped to ~2 since it immediately returned the previously seen count (as highlighted below).</p>\n\n<pre><code>IColllection&lt;TSource&gt; collectionoft = source as ICollection&lt;TSource&gt;;\nif (collectionoft != null) return collectionoft.Count;\nICollection collection = source as ICollection;\nif (collection != null) return collection.Count;\n</code></pre>\n\n<p>However, the real cost here is not CPU cycles, but rather memory consumption.  That's what you should be more concerned about.</p>\n\n<p>Finally, as a warning, be careful to not use Count() while IN the enumeration of the collection.  Doing so will re-enumerate the collection, leading to possible collisions.  If you need to use count for something while iterating the collection, the proper approach is to create a new list with <code>.ToList()</code> and iterate that list, referencing <code>Count</code></p>\n"}], "owner": {"reputation": 1778, "user_id": 441517, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Uhjle.jpg?s=128&g=1", "display_name": "Shane van Wyk", "link": "https://stackoverflow.com/users/441517/shane-van-wyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 1, "accepted_answer_id": 30225705, "answer_count": 3, "score": 1, "last_activity_date": 1431555283, "creation_date": 1431553198, "last_edit_date": 1431554715, "question_id": 30225639, "link": "https://stackoverflow.com/questions/30225639/linq-count-vs-ilist-count", "title": "Linq count vs IList count", "body": "<p>If I have the following IEnumerable list which comes from some repository.</p>\n\n<pre><code>IEnumerable&lt;SomeObject&gt; items = _someRepo.GetAll();\n</code></pre>\n\n<p>What is faster:</p>\n\n<pre><code>items.Count(); // Using Linq on the IEnumerable interface.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;SomeObject&gt; temp = items.ToList&lt;SomeObject&gt;(); // Cast as a List\n\ntemp.Count(); // Do a count on a list\n</code></pre>\n\n<p>Is the <code>Linq</code> <code>Count()</code> faster or slower than casting the <code>IEnumerable</code> to a <code>List</code> and then performing a <code>Count()</code>?</p>\n\n<p>Update: Improved the question a little bit to a bit more realistic scenario.</p>\n"}, {"tags": ["c#", "allegrograph", "dotnetrdf"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2357906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241d6372058b298e1717498e4290a33?s=128&d=identicon&r=PG", "display_name": "Elipson", "link": "https://stackoverflow.com/users/2357906/elipson"}, "edited": false, "score": 0, "creation_date": 1431625517, "post_id": 30232793, "comment_id": 48588751, "body": "I grabbed the version off of NuGet: dotNetRDF - 1.0.8.3533"}], "tags": [], "owner": {"reputation": 25881, "user_id": 107591, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7f07885cd1bf5945d1a104bc1d44ae11?s=128&d=identicon&r=PG", "display_name": "RobV", "link": "https://stackoverflow.com/users/107591/robv"}, "is_accepted": false, "score": 0, "last_activity_date": 1431942891, "last_edit_date": 1431942891, "creation_date": 1431592497, "answer_id": 30232793, "question_id": 30225632, "link": "https://stackoverflow.com/questions/30225632/dotnetrdf-allegrograph/30232793#30232793", "title": "DotNetRDF &amp; AllegroGraph", "body": "<p>What version of dotNetRDF are you using?</p>\n\n<p>This sounds like a bug which was fixed in our recent 1.0.8 release so I would first try upgrading to the latest version which should resolve the issue</p>\n\n<h3>Update</h3>\n\n<p>So it looks like this is a bug in AllegroGraph, according to their <a href=\"http://franz.com/agraph/support/documentation/current/http-protocol.html\" rel=\"nofollow\">documentation</a> they are expecting the MIME type for NTriples to be <code>text/plain</code> whereas most current systems (including dotNetRDF) use the now standard <code>application/n-triples</code> as the MIME type for NTriples.</p>\n\n<p>Currently there is no workaround for this, filed as <a href=\"http://dotnetrdf.org/tracker/Issues/IssueDetail.aspx?id=447\" rel=\"nofollow\">CORE-447</a> to be fixed for the next release</p>\n"}], "owner": {"reputation": 83, "user_id": 2357906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241d6372058b298e1717498e4290a33?s=128&d=identicon&r=PG", "display_name": "Elipson", "link": "https://stackoverflow.com/users/2357906/elipson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431942891, "creation_date": 1431553165, "question_id": 30225632, "link": "https://stackoverflow.com/questions/30225632/dotnetrdf-allegrograph", "title": "DotNetRDF &amp; AllegroGraph", "body": "<p>I'm working on an application for bulk parsing and uploading to an AllegroGraph triplestore, but have run into a snag. I am able to open and read the graph in question using the below code:</p>\n\n<pre><code>        AllegroGraphConnector conn = new AllegroGraphConnector(myHost, myGraph, myUsername, myPassword);\n\n        Graph g = new Graph();\n        conn.LoadGraph(g, \"\");\n\n        g.BaseUri = new Uri(MOG);\n        foreach (RTSNode r in _nodes)\n        {\n            IUriNode sbj = g.CreateUriNode(new Uri(RTSuri + r.myName));\n            IUriNode pred = g.CreateUriNode(new Uri(MOG));\n            ILiteralNode obj = g.CreateLiteralNode(r.myName, \"en\");\n\n            g.Assert(new Triple(sbj, pred, obj));\n        }\n\n        conn.SaveGraph(g);\n</code></pre>\n\n<p>As mentioned the graph loads fine and triples are being added to the local version. But when I attempt to save it, I get an 400- Bad request error. Turning on full debugging shows the error to be due to:</p>\n\n<blockquote>\n  <p>UNSUPPORTED FILE FORMAT: 'application/n-triples' is not a supported content-type</p>\n</blockquote>\n\n<p>Is there an option for changing the default format with which AllegroGraphConnector communicates?</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["c#", "xaml", "combobox", "listbox"], "answers": [{"comments": [{"owner": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 0, "creation_date": 1431553945, "post_id": 30225789, "comment_id": 48555492, "body": "Don&#39;t use the Tag property. There is no need for it, and it is an extremely bad habit."}, {"owner": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 0, "creation_date": 1431554200, "post_id": 30225789, "comment_id": 48555618, "body": "I get my binding correct to begin with. I have had to fix unimaginably horrendous code from developers that had a fondness for using the Tag property, and it&#39;s an old hack left over from the days of VB (where you had no other option)."}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 0, "creation_date": 1431554654, "post_id": 30225789, "comment_id": 48555826, "body": "@slugster I think you would change the model, right? It is possible but I do not understand why I have to change my data structure if it is much easier to do this completely in XAML. I also not understand what it has to do with VB from the Point of view of XAML.  &gt; I do not talk about the <code>Tag</code> property as a memory to access it from code behind and so on; it will only used as a redirecting route for the value"}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 0, "creation_date": 1431554838, "post_id": 30225789, "comment_id": 48555907, "body": "@slugster PS: I think about the problem from the view of Windows Apps. The <code>RelativeSource</code> is there not as good as in WPF. So @user1336827&#39;s first solution won&#39;t work there."}, {"owner": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1431585457, "post_id": 30225789, "comment_id": 48564641, "body": "What would be the solution then ? Is the problem coming from how I organised my data ? Is my DefaultViewModel wrong ?"}], "tags": [], "owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "is_accepted": false, "score": -1, "last_activity_date": 1431553862, "creation_date": 1431553862, "answer_id": 30225789, "question_id": 30225600, "link": "https://stackoverflow.com/questions/30225600/how-to-bind-to-a-source-inside-a-listbox-different-from-the-itemssource-already/30225789#30225789", "title": "How to bind to a source inside a ListBox different from the ItemsSource already specified", "body": "<p>It can be a little bit tricky to create a good working binding in Windows Apps. A widely used work around is to use the <code>Tag</code> property.</p>\n\n<pre><code>&lt;ListBox x:Name=\"ListBox1\" ItemsSource=\"{Binding players}\" Margin=\"0,184,0,0\" Tag=\"{Binding Path=ListOfElements}\"&gt;\n    &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel&gt;\n                &lt;TextBox Text=\"{Binding Path=PlayerName, Mode=TwoWay}\"/&gt;\n                &lt;TextBox Text=\"{Binding Path=Tag, ElementName=ListBox1}\"/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;\n</code></pre>\n\n<p>A binding to an element wirh the specific name will work always. And the <code>ListOfElements</code> should be in the scope of the <code>ListBox</code> so you can use the <code>Tag</code> property as a proxy. If you need to bind more than one property, you can also use dummy XAML elements:</p>\n\n<pre><code>&lt;Border Tag=\"{Binding ...}\" Name=\"dummy1\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1431585369, "post_id": 30225805, "comment_id": 48564615, "body": "Thank you for helping. I have tried the &quot;AncestorType&quot; solution but I get an error in the IDE : &quot;Member unknown &#39;AncestorType&#39; on element &#39;RelativeSource&#39;&quot; (rough translation from french)."}, {"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "reply_to_user": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1431609045, "post_id": 30225805, "comment_id": 48577988, "body": "That should work, you could try this method too: {Binding ElementName=ListBox1,Path=ListOfItems}"}, {"owner": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1431694646, "post_id": 30225805, "comment_id": 48619886, "body": "Any idea why I can&#39;t use the AncestorType option. When I type in &quot;RelativeSource={RelativeSource&quot; the IDE proposes only &quot;Dispatcher&quot; or &quot;Mode&quot;, not AncestorType ... If I select Mode, there are 3 different properties : &quot;none&quot;, &quot;self&quot;, &quot;TemplatedParent&quot; ..."}, {"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "reply_to_user": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1431954537, "post_id": 30225805, "comment_id": 48703652, "body": "As mentioned below, I guess that method works in WPF, but not in windows phone, Sorry I assumed that we were in wpf. Perhaps the second method will work. Just name your outside most control, then bind to it by element name."}, {"owner": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "edited": false, "score": 0, "creation_date": 1432101157, "post_id": 30225805, "comment_id": 48775981, "body": "It is a universal application, I was working on the &quot;windows part&quot; of the app. However, I tried the second solution and it worked, thanks for your help."}], "tags": [], "owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "is_accepted": true, "score": 1, "last_activity_date": 1431553941, "creation_date": 1431553941, "answer_id": 30225805, "question_id": 30225600, "link": "https://stackoverflow.com/questions/30225600/how-to-bind-to-a-source-inside-a-listbox-different-from-the-itemssource-already/30225805#30225805", "title": "How to bind to a source inside a ListBox different from the ItemsSource already specified", "body": "<p>You can walk up the visual tree and bind to an ancestors datacontext:</p>\n\n<pre><code>{Binding Path=PathToProperty, RelativeSource={RelativeSource AncestorType={x:Type typeOfAncestor}}}\n</code></pre>\n\n<p>EX:</p>\n\n<pre><code>{Binding Path=ListOfItems, RelativeSource={RelativeSource AncestorType={x:Type ListBox}}}\n</code></pre>\n\n<p>that should give you the datacontext that the listbox has, so assuming your ListOfItems exists in that data context.</p>\n\n<p>Or you can name your control, and then bind to its datacontext by element name:</p>\n\n<pre><code>{Binding ElementName=mySourceElement,Path=ListOfItems}\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 4380700, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0e6183e353b2b22f9ffe1c8534b8738e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/4380700/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 0, "accepted_answer_id": 30225805, "answer_count": 2, "score": 1, "last_activity_date": 1431594578, "creation_date": 1431553002, "last_edit_date": 1431594578, "question_id": 30225600, "link": "https://stackoverflow.com/questions/30225600/how-to-bind-to-a-source-inside-a-listbox-different-from-the-itemssource-already", "title": "How to bind to a source inside a ListBox different from the ItemsSource already specified", "body": "<p>I have a ListBox inside a HubSection, whose Items are bound to a class \"players\" added to my DefaulViewModel via code behind.\nFirst I simply put a TextBox bound to the property \"PlayerName\" of my class \"players\".\nNow I would like to add a ComboBox with some items that are NOT part of the class players.</p>\n\n<p>Is it possible ? I thought that definind an ItemsSource in the ComboBox would sort of override the ItemsSource of the ListBox, but nothing displays.</p>\n\n<p>The DataContext of the whole page is defined like so:</p>\n\n<pre><code>DataContext=\"{Binding DefaultViewModel, RelativeSource={RelativeSource Self}}\"\n</code></pre>\n\n<p>Then the HubSection is like so:</p>\n\n<pre><code>&lt;HubSection x:Name=\"HubSec1\"&gt;\n        &lt;DataTemplate&gt;                    \n            &lt;ListBox x:Name=\"ListBox1\" ItemsSource=\"{Binding players}\"&gt;\n                &lt;ListBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                       &lt;StackPanel&gt;\n                            &lt;TextBox Text=\"{Binding Path=PlayerName, Mode=TwoWay}\"/&gt;\n                            &lt;ComboBox ItemsSource=\"{Binding Path=ListOfElements}\"/&gt;                                                                                                                                                             \n                        &lt;/StackPanel&gt;\n                     &lt;/DataTemplate&gt;\n                &lt;/ListBox.ItemTemplate&gt;\n            &lt;/ListBox&gt;\n        &lt;/DataTemplate&gt;\n&lt;/HubSection&gt;\n</code></pre>\n\n<p>If I define the ComboBox in the same way but outside the ListBox, it will display the string elements of \"ListOfElements\" properly.\nBut in this ListBox, the ComboBox is empty. So my guess is that having defined an ItemsSource for the ListBox, it is not possible to override it.</p>\n\n<p>I have tried to define a DataTemplate but was not successful doing so, but it might be the good solution (and I did not proceed properly)</p>\n\n<p>What am I missing ?</p>\n\n<p>Edit :\nThe ComboBox items is an ObservableCollection. It is not part of the \"players\" class.\nHere is how I added these elements to the DefaultViewModel</p>\n\n<pre><code> DefaultViewModel.Add(\"players\", players);\n DefaultViewModel.Add(\"MyItemsList\", ListOfElements);\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "printing"], "comments": [{"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431553366, "post_id": 30225596, "comment_id": 48555276, "body": "Check this link out here --&gt; <a href=\"http://stackoverflow.com/questions/86138/whats-the-best-way-to-get-the-default-printer-in-net\" title=\"whats the best way to get the default printer in net\">stackoverflow.com/questions/86138/&hellip;</a>  good info there"}, {"owner": {"reputation": 5967, "user_id": 399508, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/030ea300bdf13a1dc0f0a20db6a9205d?s=128&d=identicon&r=PG", "display_name": "software is fun", "link": "https://stackoverflow.com/users/399508/software-is-fun"}, "reply_to_user": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431553956, "post_id": 30225596, "comment_id": 48555501, "body": "is there a way to IsDefaultPrinte using XAML?"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 1, "creation_date": 1431554622, "post_id": 30225596, "comment_id": 48555812, "body": "&quot;using XAML&quot; There is still C# in your programming project right? Alexander&#39;s answer should work well for any case.  Apply Alexander&#39;s answer in your C# code and you should find success."}, {"owner": {"reputation": 5967, "user_id": 399508, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/030ea300bdf13a1dc0f0a20db6a9205d?s=128&d=identicon&r=PG", "display_name": "software is fun", "link": "https://stackoverflow.com/users/399508/software-is-fun"}, "reply_to_user": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431556640, "post_id": 30225596, "comment_id": 48556617, "body": "@waltmagic System.Printing.LocalPrintServer doesn&#39;t exist. Can you show some sample code?"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431556966, "post_id": 30225596, "comment_id": 48556723, "body": "Did you add the reference for System.Printing.LocalPrintServer to your project?  If not it will tell you it doesn&#39;t exist.  If you want an example check out the official Microsoft Documentation here --&gt; System.Printing.LocalPrintServer"}, {"owner": {"reputation": 5967, "user_id": 399508, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/030ea300bdf13a1dc0f0a20db6a9205d?s=128&d=identicon&r=PG", "display_name": "software is fun", "link": "https://stackoverflow.com/users/399508/software-is-fun"}, "reply_to_user": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431557012, "post_id": 30225596, "comment_id": 48556735, "body": "No Items found when trying to find the reference assembly"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431557221, "post_id": 30225596, "comment_id": 48556794, "body": "I have to go afk for the day but if you read through the API for System.Printing.LocalPrintServer and add the reference, instructions here --&gt; <a href=\"https://msdn.microsoft.com/en-us/library/wkze6zky.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/wkze6zky.aspx</a>  you will get what you want.  I just can&#39;t provide the code for you today.  Hope this helps you get where you need to go!"}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "edited": false, "score": 0, "creation_date": 1431557848, "post_id": 30225596, "comment_id": 48556984, "body": "A reference to <code>System.Drawing</code> is also required to use the <code>PrinterSettings</code> class."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1431571796, "post_id": 30225596, "comment_id": 48560468, "body": "In what way do you want to &quot;indicate which printer...is the default printer&quot;? The code you show just displays the printer names. Do you want the default printer to be displayed in a different text color? Background? Just add some text to the name that&#39;s shown? Something else? It is not hard to do what you want, but the exact technique depends on the specific change in the visual presentation you are trying to achieve."}], "answers": [{"tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": false, "score": 1, "last_activity_date": 1431575408, "creation_date": 1431575408, "answer_id": 30228920, "question_id": 30225596, "link": "https://stackoverflow.com/questions/30225596/xaml-show-which-installed-printer-is-the-default/30228920#30228920", "title": "XAML show which installed printer is the default", "body": "<p>It's not entirely clear to me what <em>specifically</em> you are having trouble with, nor how you want the visual display of the printer names to change. So, here is a general-purpose example of a XAML-only implementation that displays all of the installed printers, along with the name of the current default printer:</p>\n\n<pre><code>&lt;Window x:Class=\"TestSO30225596DefaultPrinter.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:Printing=\"clr-namespace:System.Printing;assembly=System.Printing\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n  &lt;Window.Resources&gt;\n    &lt;Printing:LocalPrintServer x:Key=\"localPrintServer1\"/&gt;\n    &lt;ObjectDataProvider x:Key=\"printerCollection\"\n                        ObjectInstance=\"{StaticResource localPrintServer1}\"\n                        MethodName=\"GetPrintQueues\"&gt;\n      &lt;ObjectDataProvider.MethodParameters&gt;\n        &lt;x:ArrayExtension Type=\"{x:Type Printing:EnumeratedPrintQueueTypes}\"&gt;\n          &lt;Printing:EnumeratedPrintQueueTypes&gt;Local&lt;/Printing:EnumeratedPrintQueueTypes&gt;\n          &lt;Printing:EnumeratedPrintQueueTypes&gt;Connections&lt;/Printing:EnumeratedPrintQueueTypes&gt;\n        &lt;/x:ArrayExtension&gt;\n      &lt;/ObjectDataProvider.MethodParameters&gt;\n    &lt;/ObjectDataProvider&gt;\n  &lt;/Window.Resources&gt;\n  &lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n      &lt;RowDefinition Height=\"*\"/&gt;\n      &lt;RowDefinition Height=\"Auto\"/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;ListBox x:Name=\"displayInstalledPrinterListView\"\n             HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"\n             Height=\"311\" Width=\"499\" Margin=\"10,0,0,0\"\n             ItemsSource=\"{Binding Source={StaticResource printerCollection}}\"\n             AlternationCount=\"2\" FontSize=\"16\"&gt;\n      &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n          &lt;StackPanel Orientation=\"Horizontal\"&gt;\n            &lt;TextBlock Text=\"{Binding Name}\"/&gt;\n          &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n      &lt;/ListBox.ItemTemplate&gt;\n    &lt;/ListBox&gt;\n    &lt;StackPanel Orientation=\"Horizontal\" Grid.Row=\"1\"&gt;\n      &lt;TextBlock Text=\"Default Printer: \"/&gt;\n      &lt;TextBlock Text=\"{Binding Source={StaticResource localPrintServer1}, Path=DefaultPrintQueue.Name}\"/&gt;\n    &lt;/StackPanel&gt;\n  &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Note that you will need to add a reference to the WPF-compatible <code>System.Printing.dll</code> assembly. The above technically meets your broad specification, i.e. it does indicate (through the text displayed below the <code>ListBox</code>) which printer is the default.</p>\n\n<p>I trust that given the above example, you can modify it to suit your specific needs, by using the <code>DefaultPrintQueue.Name</code> property value to compare with the actual name of each printer, and present whatever indication you deem most appropriate based on that.</p>\n"}, {"tags": [], "owner": {"reputation": 1606, "user_id": 1940514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CmLm.jpg?s=128&g=1", "display_name": "Nitin Joshi", "link": "https://stackoverflow.com/users/1940514/nitin-joshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1508370530, "last_edit_date": 1508370530, "creation_date": 1431601891, "answer_id": 30235881, "question_id": 30225596, "link": "https://stackoverflow.com/questions/30225596/xaml-show-which-installed-printer-is-the-default/30235881#30235881", "title": "XAML show which installed printer is the default", "body": "<p>You can use following code:</p>\n\n<p><strong>XAML:</strong></p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:WpfApplication1\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Grid&gt;\n        &lt;ComboBox HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" ItemsSource=\"{Binding Printers}\"&gt;\n            &lt;ComboBox.ItemTemplate&gt;\n                &lt;DataTemplate DataType=\"{x:Type local:PrinterWrapper}\"&gt;\n                    &lt;Grid&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                            &lt;ColumnDefinition Width=\"*\"/&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;TextBlock Text=\"Default - \" x:Name=\"default\" Visibility=\"Collapsed\"/&gt;\n                        &lt;TextBlock Text=\"{Binding PrinterName}\" Grid.Column=\"1\" /&gt;\n                    &lt;/Grid&gt;\n                    &lt;DataTemplate.Triggers&gt;\n                        &lt;DataTrigger Binding=\"{Binding IsDefaultPrinter}\" Value=\"True\"&gt;\n                            &lt;Setter TargetName=\"default\" Property=\"Visibility\" Value=\"Visible\"/&gt;\n                        &lt;/DataTrigger&gt;\n                    &lt;/DataTemplate.Triggers&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ComboBox.ItemTemplate&gt;\n        &lt;/ComboBox&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p><strong>Code Behind:</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.Linq;\nusing System.Printing;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\n\nnamespace WpfApplication1\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            this.DataContext = new ViewModel();\n        }\n    }\n\n    public class ViewModel\n    {\n        public ObservableCollection&lt;PrinterWrapper&gt; Printers { get; set; }\n\n        public ViewModel()\n        {\n            this.Printers = new ObservableCollection&lt;PrinterWrapper&gt;();\n\n            LocalPrintServer server = new LocalPrintServer();\n            var printQueues = server.GetPrintQueues(new EnumeratedPrintQueueTypes[] { EnumeratedPrintQueueTypes.Local, EnumeratedPrintQueueTypes.Connections });\n            foreach (var printQueue in printQueues)\n            {\n                var printerWrapper = new PrinterWrapper();\n                printerWrapper.PrinterName = printQueue.Name;\n                printerWrapper.IsDefaultPrinter = (printQueue.Name == server.DefaultPrintQueue.Name);\n\n                this.Printers.Add(printerWrapper);\n            }\n            server.Dispose(); // Depends on you :-)\n        }\n    }\n    public class PrinterWrapper\n    {\n        public string PrinterName { get; set; }\n        public bool IsDefaultPrinter { get; set; }\n    }\n}\n</code></pre>\n\n<p>Note: <code>PrinterWrapper</code> class you can use to accommodate more printer related properties and in <code>ViewModel</code> you can write your printing logic. Also instead of showing just the text Default before the default printer name, you can use some image or some other fancy stuff.</p>\n"}], "owner": {"reputation": 5967, "user_id": 399508, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/030ea300bdf13a1dc0f0a20db6a9205d?s=128&d=identicon&r=PG", "display_name": "software is fun", "link": "https://stackoverflow.com/users/399508/software-is-fun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1508370530, "creation_date": 1431552985, "last_edit_date": 1431554561, "question_id": 30225596, "link": "https://stackoverflow.com/questions/30225596/xaml-show-which-installed-printer-is-the-default", "title": "XAML show which installed printer is the default", "body": "<pre><code>&lt;UserControl x:Class=\"MyApp.PrinterSelection\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n             xmlns:Printing=\"clr-namespace:System.Drawing.Printing;assembly=System.Drawing\"\n             xmlns:local=\"clr-namespace:MyApp\"\n             mc:Ignorable=\"d\" \n             d:DesignHeight=\"300\" d:DesignWidth=\"300\"&gt;\n\n&lt;Grid&gt;\n\n        &lt;ListBox x:Name=\"displayInstalledPrinterListView\" HorizontalAlignment=\"Left\" Height=\"311\" Margin=\"10,0,0,0\" VerticalAlignment=\"Top\" Width=\"499\" ItemsSource=\"{x:Static Printing:PrinterSettings.InstalledPrinters}\" SelectionChanged=\"displayInstalledPrinterListView_SelectionChanged\" AlternationCount=\"2\" FontSize=\"16\"/&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p>how can I indicate which printer in the ListBox is the default printer using XAML. If it's not possible to do this with XAML, then whats the best approach?</p>\n\n<p>I know I can programatically check each printer to see if IsDefaultPrinter is true. However I wanted to know if this can be done with XAML (only)</p>\n"}, {"tags": ["c#", "xaml", "listview", "windows-phone-8.1"], "owner": {"reputation": 1208, "user_id": 1725974, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/6944aebdee3bbcbbe929dfdcf4592b52?s=128&d=identicon&r=PG", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/1725974/anonymous-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431552864, "creation_date": 1431552864, "question_id": 30225571, "link": "https://stackoverflow.com/questions/30225571/wp8-1-implementation-of-listview-to-display-a-list-of-countries", "title": "WP8.1 - Implementation of ListView to display a list of countries", "body": "<p>In my WP8.1 RT project, I am trying to implement a ListView that displays a list of countries. (For now) I have a three page setup: P1 has a hyperlink button that takes you to P2, that has a ListView (with which I'd be binding the list of all countries), which, when selected, takes you to p3, that has it's own stuffs going on there. The articles I've gone through are the ones where the ListView is not a multipage layout. It is usually a single page one. It gets difficult because a lot of factors. I would like your help in determining a few things because of that..</p>\n\n<ol>\n<li>Can I have a multipage (three-page lay out in my case) layout containing a ListView. Also, considering, I might have to use the item selected in the list, on another page (say P4 or P5, even P3 perhaps).</li>\n<li>Is it ok to have the list of the countries hard-coded (i know it is exhausting to even think of it) to the ListView, for an app that has a very minimal use (say a social networking stuff)?</li>\n<li>If not, do you prefer I have the names of the countries in a Model (MVVM setup), say in a .cs file, and have that exposed to the XAML? - This I've tried and has worked, but not very well, UI-wise.</li>\n<li>If not that also, do you prefer I have them listed in an XML file and parse through them? - This, I haven't tried, and would need some guidance.</li>\n<li>What'd be the convenient way of accomplishing this: p1 (hyperlink button) -> p2 (shows a list of countries; makes a selection) -> P3 (it's own stuffs)?</li>\n</ol>\n\n<p>Oh, another thing: The reason I need the listview is because I need to implement the semantic zoom feature to display the countries.</p>\n\n<p>Thank you for your help in advance :)</p>\n"}, {"tags": ["c#", "iis", "asp.net-web-api2", "owin"], "owner": {"reputation": 2903, "user_id": 204564, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c3dea5474696dc4cbc14e06ce255217?s=128&d=identicon&r=PG", "display_name": "Wayne", "link": "https://stackoverflow.com/users/204564/wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1431560466, "creation_date": 1431552756, "last_edit_date": 1431560466, "question_id": 30225533, "link": "https://stackoverflow.com/questions/30225533/owin-custom-response-code-for-expired-token", "title": "OWIN custom response code for expired token", "body": "<p>We have a OWIN Web Api 2 site that needs both OAuth2 security and also Windows Integrated Security.</p>\n\n<p>The problem is that when access tokens are expired.  Owin returns a 401 unauthorized response. This causes the browser to popup a login box.\nThat's because there are XXX-Authenticate headers with Negotiate and NTLM values. Also one with Bearer</p>\n\n<p>But if we disable Windows Integrated Security in IIS, then it doesn't have those headers but only has XXX-Authenticate: Bearer  and so it the browser does not popup a login window.</p>\n\n<p>On the client side, we want to catch the error code when the token is expired and then refresh the access token.  This actually works except for the browser's ugly popup box asking for id and password.</p>\n\n<p>But we must have both mixed authentication types for this application.</p>\n\n<p>The solution seems to be to send back a different http status code for expired tokens so that the browser won't pop up the login box and we can still catch that code in the client.</p>\n\n<p>However, I'm not having any success figuring how to do this with OWIN.</p>\n\n<p>I registered a middle wear method at the top of the stack to look at\nand modify the response code but when the token is expired it seems\nto return 200 from OWIN but somehow gets changed to 401 when sent\nto the client.</p>\n\n<p>How can I change the status code returned only for expired tokens?</p>\n"}, {"tags": ["c#", "unity3d", "camera", "touch"], "comments": [{"owner": {"reputation": 1864, "user_id": 4675770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f03c96e787ca2330d89c2e3c6b8d2cb?s=128&d=identicon&r=PG", "display_name": "Jinjinov", "link": "https://stackoverflow.com/users/4675770/jinjinov"}, "edited": false, "score": 0, "creation_date": 1431602148, "post_id": 30225529, "comment_id": 48573660, "body": "what are you confused about? your solution seems pretty standard to me :) (btw, try to guess the max distance for the raycast - the smaller the distance, the faster the raycast will work - Mathf.Infinity will work the slowest)"}, {"owner": {"reputation": 768, "user_id": 1868672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d57c0205b22cca90f83965de03bbc245?s=128&d=identicon&r=PG&f=1", "display_name": "Utamaru", "link": "https://stackoverflow.com/users/1868672/utamaru"}, "edited": false, "score": 0, "creation_date": 1431609108, "post_id": 30225529, "comment_id": 48578024, "body": "Your idea is way to go. Just calculate your touch&#39;s delta position and apply its to camera&#39;s X and Z position every frame. Camera&#39;s Y position will be equal to height + hit.position (after you perform Raycast(Camera.position, Vector3.down, etc...) )"}, {"owner": {"reputation": 199, "user_id": 1973892, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KnyuI.jpg?s=128&g=1", "display_name": "4t0m1c", "link": "https://stackoverflow.com/users/1973892/4t0m1c"}, "edited": false, "score": 0, "creation_date": 1431616297, "post_id": 30225529, "comment_id": 48583115, "body": "The raycast doesn&#39;t seem to hit the terrain even though there is a collider attached. I read through some other posts and tried <code>if ( Terrain.activeTerrain.collider.Raycast(ray, out hit, 1000f) ) </code> but no luck. It doesn&#39;t see the terrain.."}, {"owner": {"reputation": 199, "user_id": 1973892, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KnyuI.jpg?s=128&g=1", "display_name": "4t0m1c", "link": "https://stackoverflow.com/users/1973892/4t0m1c"}, "edited": false, "score": 0, "creation_date": 1431679177, "post_id": 30225529, "comment_id": 48609984, "body": "I&#39;m an idiot lol, had hit.transform.postition instead of hit.point"}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 1973892, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KnyuI.jpg?s=128&g=1", "display_name": "4t0m1c", "link": "https://stackoverflow.com/users/1973892/4t0m1c"}, "is_accepted": true, "score": 1, "last_activity_date": 1562851539, "last_edit_date": 1562851539, "creation_date": 1432123027, "answer_id": 30348986, "question_id": 30225529, "link": "https://stackoverflow.com/questions/30225529/rts-touch-camera-movement/30348986#30348986", "title": "RTS touch camera movement", "body": "<p>Ok, I finally got it. A nice smooth accurate camera movement, based on the physical locations on the map from where my fingers touch the screen.</p>\n\n<pre><code>using UnityEngine;\n\npublic class SimpleCamMove : MonoBehaviour\n{\n    private RaycastHit hit;\n    private Vector3 InitialHit;\n    private Vector3 CurrentHit;\n    private Vector3 DirectionHit;\n    private bool CamActive;\n\n    protected virtual void OnEnable()\n    {\n        // Hook into the OnFingerDown event\n        Lean.LeanTouch.OnFingerDown += OnFingerDown;\n\n        // Hook into the OnFingerUp event\n        Lean.LeanTouch.OnFingerUp += OnFingerUp;\n    }\n\n    protected virtual void OnDisable()\n    {\n        // Unhook the OnFingerDown event\n        Lean.LeanTouch.OnFingerDown -= OnFingerDown;\n\n        // Unhook the OnFingerUp event    \n        Lean.LeanTouch.OnFingerUp -= OnFingerUp;\n    }\n\n    public void OnFingerDown(Lean.LeanFinger finger)\n    {\n        //Fires ray with ScreenToWorld at finger pos using LeanTouch\n        var ray = finger.GetRay (); \n        int layerMask = (1 &lt;&lt; 8); //ground layer\n        CamActive = true;\n        if (Physics.Raycast (ray, out hit, 1500, layerMask)) {\n            InitialHit = hit.point;\n        }\n    }\n\n    protected virtual void LateUpdate()\n    {\n        if (CamActive == true) {\n            var finger = Lean.LeanTouch.Fingers [Lean.LeanTouch.Fingers.Count - 1];\n            var ray = finger.GetRay ();\n            int layerMask = (1 &lt;&lt; 8);\n            if (Physics.Raycast (ray, out hit, 1500, layerMask)) {\n                CurrentHit = hit.point;\n                DirectionHit = (CurrentHit - InitialHit);\n                //Camera stays at same height. \n                //Invert coords to move camera the correct direction\n                this.transform.Translate(\n                     new Vector3(-DirectionHit.x,0,-DirectionHit.z)); \n            }\n        }\n    }\n\n    public void OnFingerUp(Lean.LeanFinger finger)\n    {\n        CamActive = false;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 1973892, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KnyuI.jpg?s=128&g=1", "display_name": "4t0m1c", "link": "https://stackoverflow.com/users/1973892/4t0m1c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 30348986, "answer_count": 1, "score": 0, "last_activity_date": 1562851539, "creation_date": 1431552738, "last_edit_date": 1533578833, "question_id": 30225529, "link": "https://stackoverflow.com/questions/30225529/rts-touch-camera-movement", "title": "RTS touch camera movement", "body": "<p>I've been trying to get my head around a solution for my camera movement. These are the parameters it needs to work by and some thoughts I had tried:</p>\n\n<ul>\n<li>Camera movement / not world movement</li>\n<li>Raycast to move camera accurately along terrain</li>\n<li>Touch movement works by \"grabbing\" the terrain towards you or \"pushing\" it away</li>\n<li>Screen space to world space will not work because of the angle of the camera</li>\n</ul>\n\n<p>So my thoughts have lead me to devise a solution to grab the Vector3 point where the ray hits the ground under the finger on fingerDown then move the camera in an opposite direction to the real world distance between the origin and movingPoint. If that makes any sense. </p>\n\n<p>I'm pretty confused about it so could someone either confirm or deny my idea and give a clear way forward =)</p>\n\n<p>I'm using an asset called LeanTouch (brilliant piece of free scripts) for the touch inputs and this is as far as my brain wants to go: (lol)</p>\n\n<pre><code>var finger = Lean.LeanTouch.Fingers [Lean.LeanTouch.Fingers.Count - 1];\nvar ray = finger.GetRay ();\nint layerMask = (1 &lt;&lt; 8);\nPhysics.Raycast (ray, out hit, Mathf.Infinity, layerMask);\nInitialHit = hit.transform.position;\n</code></pre>\n\n<p>Btw i'm working in Unity and C#</p>\n"}, {"tags": ["c#", "asp.net-web-api", "imagemagick"], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 3591108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LNGSB.jpg?s=128&g=1", "display_name": "olingern", "link": "https://stackoverflow.com/users/3591108/olingern"}, "edited": false, "score": 0, "creation_date": 1431555606, "post_id": 30226073, "comment_id": 48556257, "body": "Ah, awesome catch. Thank you! I didn&#39;t know the image needed to be disposed"}], "tags": [], "owner": {"reputation": 6835, "user_id": 2410453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wLIMR.png?s=128&g=1", "display_name": "dlemstra", "link": "https://stackoverflow.com/users/2410453/dlemstra"}, "is_accepted": true, "score": 1, "last_activity_date": 1431555139, "creation_date": 1431555139, "answer_id": 30226073, "question_id": 30225512, "link": "https://stackoverflow.com/questions/30225512/unable-to-delete-created-and-streamed-file/30226073#30226073", "title": "Unable to delete created and streamed file", "body": "<p>I am assuming that the Image class that you are returning is a System.Drawing.Image. You need to Dispose this object to release the file lock.</p>\n\n<pre><code>// Instead of this:\nusing (MemoryStream ms = new MemoryStream())\n{\n  TheLocalSellerRepo.GetConvertedPDFImage().Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);\n  base64 = System.Convert.ToBase64String(ms.ToArray());\n}\n\n// Should you be doing this:\nusing (MemoryStream ms = new MemoryStream())\n{\n  using (Image img = TheLocalSellerRepo.GetConvertedPDFImage())\n  {\n    img.Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);\n    base64 = System.Convert.ToBase64String(ms.ToArray());\n  }\n}\n\n// Or you could even do this (if GetConvertedPDFImage() returns a MagickImage):\nusing (MagickImage img = TheLocalSellerRepo.GetConvertedPDFImage())\n{\n  img.Format = MagickFormat.Jpeg;\n  base64 = img.ToBase64();\n}\n</code></pre>\n"}], "owner": {"reputation": 494, "user_id": 3591108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LNGSB.jpg?s=128&g=1", "display_name": "olingern", "link": "https://stackoverflow.com/users/3591108/olingern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 30226073, "answer_count": 1, "score": 0, "last_activity_date": 1431555139, "creation_date": 1431552649, "question_id": 30225512, "link": "https://stackoverflow.com/questions/30225512/unable-to-delete-created-and-streamed-file", "title": "Unable to delete created and streamed file", "body": "<p>I'm using <a href=\"https://www.nuget.org/packages/Magick.NET-Q16-x86/\" rel=\"nofollow\">Magick.NET</a> to convert a PDF to a PNG and stream it back to the page via ajax. </p>\n\n<p>Everything works until a PDF is uploaded twice. When trying to overwrite or delete the existing file, the debugger tells me that the file is in use by another process.</p>\n\n<p>Here's my function that returns an Image to the controller:</p>\n\n<pre><code>    //path is a fully qualified path to a file ending in .PDF\n    private Image ConvertPDFTOneImage(string path)\n    {\n        MagickReadSettings settings = new MagickReadSettings();\n        settings.Density = new PointD(300, 300);\n\n        using (MagickImageCollection images = new MagickImageCollection())\n        {\n            FileInfo file = new FileInfo(path);\n            images.Read(file);\n            file = null;\n\n            using (MagickImage horizontal = images.AppendHorizontally())\n            {\n                string PNGName = Path.ChangeExtension(path, \".png\");\n                horizontal.Write(PNGName);\n            }\n\n            return Image.FromFile(path.Replace(\"pdf\", \"png\"));\n        }\n    }\n</code></pre>\n\n<p>And my controller that streams the response back to the browser:</p>\n\n<pre><code> public async Task&lt;HttpResponseMessage&gt; PostFormData([FromUri] int sellerID, [FromUri] int eventID, [FromUri] string section, [FromUri] string row, [FromUri] string seat)\n        {\n            if (HttpContext.Current.Request.Files.AllKeys.Any())\n            {\n                try\n                {\n                    string base64 = string.Empty;\n                    SellerObjects.Externeal.SellerTicket TicketToSave = new SellerObjects.Externeal.SellerTicket();\n\n                    TicketToSave.UploadedFile = HttpContext.Current.Request.Files[\"UploadedImage\"];\n                    SellerTicketRepo TheLocalSellerRepo = new SellerTicketRepo(TicketToSave);\n\n                    using (MemoryStream ms = new MemoryStream())\n                    {\n                        TheLocalSellerRepo.GetConvertedPDFImage().Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);\n                        base64 = System.Convert.ToBase64String(ms.ToArray());\n                    }\n\n                    HttpResponseMessage result = new HttpResponseMessage(HttpStatusCode.OK);\n                    result.Content = new StringContent(base64);\n                    result.Content.Headers.ContentType = new MediaTypeHeaderValue(\"image/png\");\n                    return result;\n                }\n                catch (Exception ex)\n                {\n                    return Request.CreateResponse(HttpStatusCode.BadRequest, \"Error saving file.\");\n                }\n            }\n\n            return Request.CreateErrorResponse(HttpStatusCode.BadRequest, \"An error has occurred\");\n        }\n</code></pre>\n"}, {"tags": ["c#", "lambda", "task-parallel-library", "task"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1431552832, "post_id": 30225476, "comment_id": 48555050, "body": "It&#39;s not clear what you&#39;d want the <i>value</i> of the parameter to be. Where would it come from? If you&#39;ve already got it, just capture it in the lambda expression..."}, {"owner": {"reputation": 1980, "user_id": 4063639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wNGZA.jpg?s=128&g=1", "display_name": "MFatihMAR", "link": "https://stackoverflow.com/users/4063639/mfatihmar"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1431554079, "post_id": 30225476, "comment_id": 48555559, "body": "@JonSkeet <code>rawData</code> is a network data packet that has a container class (like DataPacket) and I&#39;m re-using this instance to reduce GC pressure. So, if I use <code>rawData</code> directly in <code>Task</code>, it can (probably) be changed before <code>Task</code> handles it. Now, I think I can create another <code>byte[]</code> instance for it. I think it&#39;s the simplest solution for me."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1431582583, "post_id": 30225476, "comment_id": 48563426, "body": "Yes, if you need to clone the byte array, you clone the byte array. Having an <code>Action&lt;byte[]&gt;</code> doesn&#39;t change that."}, {"owner": {"reputation": 6783, "user_id": 5935112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ymenn.jpg?s=128&g=1", "display_name": "Just Shadow", "link": "https://stackoverflow.com/users/5935112/just-shadow"}, "edited": false, "score": 0, "creation_date": 1579344889, "post_id": 30225476, "comment_id": 105740447, "body": "<a href=\"https://stackoverflow.com/a/59799778/5935112\">Here</a> are some <b>good solutions</b> to pass parameters to a task."}], "answers": [{"comments": [{"owner": {"reputation": 1498, "user_id": 2797746, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TaPVN.jpg?s=128&g=1", "display_name": "Alexandre Severino", "link": "https://stackoverflow.com/users/2797746/alexandre-severino"}, "edited": false, "score": 24, "creation_date": 1431553429, "post_id": 30225551, "comment_id": 48555301, "body": "You are not awaiting <code>Task.Run(() =&gt; MethodWithParameter(param));</code>. Which means that if <code>param</code> gets modified <b>after</b> the <code>Task.Run</code>, you might have unexpected results on the <code>MethodWithParameter</code>."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 1498, "user_id": 2797746, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TaPVN.jpg?s=128&g=1", "display_name": "Alexandre Severino", "link": "https://stackoverflow.com/users/2797746/alexandre-severino"}, "edited": false, "score": 1, "creation_date": 1431553845, "post_id": 30225551, "comment_id": 48555456, "body": "@Kilouco Of course.  That&#39;s the expected behavior when passing by reference.  Same would happen if you did <code>ThreadPool.QueueUserWorkItem(x =&gt; { MethodWithParameter((string)x); }, param);</code>  Welcome to threading, don&#39;t shoot yourself in the foot..."}, {"owner": {"reputation": 1498, "user_id": 2797746, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TaPVN.jpg?s=128&g=1", "display_name": "Alexandre Severino", "link": "https://stackoverflow.com/users/2797746/alexandre-severino"}, "edited": false, "score": 0, "creation_date": 1431553929, "post_id": 30225551, "comment_id": 48555487, "body": "I&#39;m just suggesting giving OP a heads-up about this risk."}, {"owner": {"reputation": 1980, "user_id": 4063639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wNGZA.jpg?s=128&g=1", "display_name": "MFatihMAR", "link": "https://stackoverflow.com/users/4063639/mfatihmar"}, "edited": false, "score": 0, "creation_date": 1431554193, "post_id": 30225551, "comment_id": 48555611, "body": "I&#39;m accepting answer because of clear/simple implementation. There is no <code>Task.Run(Action&lt;T&gt;)</code> like method to call. Thanks!"}, {"owner": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 9, "creation_date": 1493158867, "post_id": 30225551, "comment_id": 74292923, "body": "Why is this an accepted answer when it&#39;s wrong. It&#39;s not at all equivalent of passing state object."}, {"owner": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 7, "creation_date": 1493490910, "post_id": 30225551, "comment_id": 74443306, "body": "@Zer0 a state object is the second paremeter in Task.Factory.StartNew <a href=\"https://msdn.microsoft.com/en-us/library/dd321456(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd321456(v=vs.110).aspx</a> and it saves the value of the object at the moment of the call to StartNew, while your answer creates a closure, which keeps the reference (if the value of param changes before the task is run it will also change in the task), so your code is not at all equivalent to what the question was asking. The answer really is that there is no way to write it with Task.Run()."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 0, "creation_date": 1493881757, "post_id": 30225551, "comment_id": 74593061, "body": "@EgorPavlikhin - What?  <code>Task.Run</code> is short-hand for <code>Task.Factory.StartNew</code>.  They are quite literally <a href=\"https://blogs.msdn.microsoft.com/pfxteam/2011/10/24/task-run-vs-task-factory-startnew/\" rel=\"nofollow noreferrer\">one in the same</a>.  I want this crystal clear so no one gets misinformation from your comment.  Modifying an object you pass to <code>Task.Factory.StartNew</code> is <b>not</b> thread-safe.  It does <i>not</i> create a copy.  It&#39;s just as dangerous as using a closure.  You&#39;re far beyond the scope of OP&#39;s question. Yet again, I answered his simple bolded question correctly.  This isn&#39;t an in depth class on closures.  EOD."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 0, "creation_date": 1493882313, "post_id": 30225551, "comment_id": 74593410, "body": "@EgorPavlikhin -  For you, and others, <a href=\"http://stackoverflow.com/questions/22550777/about-the-task-startnewactionobject-object-method\">see here</a> for a better discussion of that particular overload.  Totally off-topic but it&#39;s more in depth.  Outside the scope of this question and a better place to look.  Closures are something I&#39;m not going into here.  But you can get tripped up by them regardless if you&#39;re using <code>StartNew</code> or <code>Task.Run</code> as they do the same thing, one is simply short-hand."}, {"owner": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 2, "creation_date": 1494716160, "post_id": 30225551, "comment_id": 74948493, "body": "@Zer0 for structs Task.Run with closure and Task.Factory.StartNew with 2nd parameter (which is not the same as Task.Run per your link) <i>will</i> behave differently, since in the latter case a copy will be made. My mistake was in referring to objects in general in the original comment, what I meant was that they are not fully equivalent."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 0, "creation_date": 1494742041, "post_id": 30225551, "comment_id": 74952385, "body": "@EgorPavlikhin Still incorrect. <code>Task.Run</code> IS absolutely implemented the same way. Did you not read the link I included? Perhaps you should read the actual source code? You are discussing closures, period. Common language feature has no ties with the TPL in any way. Again... closures are a big part of C# and not at all something unique to <code>Task.Run</code>. You can use the synonymous short hand method <i>without</i> closures too... Lastly closures are dangerous for <i>both</i> reference types and structs. So you&#39;re off there as well. End of discussion."}, {"owner": {"reputation": 16268, "user_id": 178980, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6f4c87db4e692b4b234a33c8ef86d4b7?s=128&d=identicon&r=PG", "display_name": "Egor Pavlikhin", "link": "https://stackoverflow.com/users/178980/egor-pavlikhin"}, "edited": false, "score": 3, "creation_date": 1495228503, "post_id": 30225551, "comment_id": 75182153, "body": "@Zer0 Perhaps <i>you</i> should read the source code. One passes the state object, the other one doesn&#39;t. Which is what I said from the begining. Task.Run is <b>not</b> a short-hand for Task.Factory.StartNew. The state object version is there for legacy reasons, but it is still there and it behaves differently sometimes, so people should be aware of that."}, {"owner": {"reputation": 1154, "user_id": 303623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a7be2787417fe82e9677e541fb096cb?s=128&d=identicon&r=PG", "display_name": "Rick O&#39;Shea", "link": "https://stackoverflow.com/users/303623/rick-oshea"}, "edited": false, "score": 2, "creation_date": 1540581222, "post_id": 30225551, "comment_id": 92933583, "body": "OMG.  That&#39;s the TL&#39;DR-est explanation of a simple question I&#39;ve seen yet, and that&#39;s usually an indication of not getting the concept therefore not being able to articulate it simply. That said, the example is no good, so explaining why it&#39;s no good (not thread safe) is less desirable than just providing a working example or maybe deleting the answer."}, {"owner": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "edited": false, "score": 0, "creation_date": 1541433585, "post_id": 30225551, "comment_id": 93206294, "body": "@Zer0 if am doing this, it works fine Task.Run(() =&gt; Myfunc(Param1, Param2, Param3, Param4));  but i want to pass the token and taskcreationoptions, so if i do as below i get many errors Task.Run(() =&gt; Myfunc(Param1, Param2, Param3, Param4),mycancellationtoken,TaskCreationOptions.LongRunning)&zwnj;&#8203;;"}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "reply_to_user": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "edited": false, "score": 0, "creation_date": 1544497125, "post_id": 30225551, "comment_id": 94287470, "body": "@Harry Task.Run does not support specifying your own task creation options. It defaults to DenyChildAttach (not None). Use Task.Factory.StartNew instead."}, {"owner": {"reputation": 92, "user_id": 2199050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72b8546d3647188fe117cc7c9f91dd57?s=128&d=identicon&r=PG&f=1", "display_name": "davidcarr", "link": "https://stackoverflow.com/users/2199050/davidcarr"}, "edited": false, "score": 3, "creation_date": 1549402032, "post_id": 30225551, "comment_id": 95887691, "body": "Reading Toub&#39;s article I will highlight this sentence &quot; You get to use overloads that accept object state, which for performance-sensitive code paths can be used to avoid closures and the corresponding allocations&quot;. I think this is what @Zero is implying when considering Task.Run over StartNew usage."}], "tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 118, "last_activity_date": 1503020658, "last_edit_date": 1503020658, "creation_date": 1431552810, "answer_id": 30225551, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/30225551#30225551", "title": "Task.Run with Parameter(s)?", "body": "<pre><code>private void RunAsync()\n{\n    string param = \"Hi\";\n    Task.Run(() =&gt; MethodWithParameter(param));\n}\n\nprivate void MethodWithParameter(string param)\n{\n    //Do stuff\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Due to popular demand I must note that the <code>Task</code> launched will run in parallel with the calling thread.  Assuming the default <code>TaskScheduler</code> this will use the .NET <code>ThreadPool</code>.  Anyways, this means you need to account for whatever parameter(s) being passed to the <code>Task</code> as potentially being accessed by multiple threads at once, making them shared state.  This includes accessing them on the calling thread.</p>\n\n<p>In my above code that case is made entirely moot.  Strings are immutable.  That's why I used them as an example.  But say you're not using a <code>String</code>...</p>\n\n<p>One solution is to use <code>async</code> and <code>await</code>.  This, by default, will capture the <code>SynchronizationContext</code> of the calling thread and will create a continuation for the rest of the method after the call to <code>await</code> and attach it to the created <code>Task</code>.  If this method is running on the WinForms GUI thread it will be of type <code>WindowsFormsSynchronizationContext</code>.</p>\n\n<p>The continuation will run after being posted back to the captured <code>SynchronizationContext</code> - again only by default.  So you'll be back on the thread you started with after the <code>await</code> call.  You can change this in a variety of ways, notably using <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.task.configureawait(v=vs.110).aspx\" rel=\"noreferrer\"><code>ConfigureAwait</code></a>.  In short, the rest of that method will not continue until <strong>after</strong> the <code>Task</code> has completed on another thread.  But the calling thread will continue to run in parallel, just not the rest of the method.</p>\n\n<p>This waiting to complete running the rest of the method may or may not be desirable.  If nothing in that method later accesses the parameters passed to the <code>Task</code> you may not want to use <code>await</code> at all.</p>\n\n<p>Or maybe you use those parameters much later on in the method.  No reason to <code>await</code> immediately as you could continue safely doing work.  Remember, you can store the <code>Task</code> returned in a variable and <code>await</code> on it later - even in the same method.  For instance, once you need to access the passed parameters safely after doing a bunch some other work.  Again, you do <em>not</em> need to <code>await</code> on the <code>Task</code> right when you run it.</p>\n\n<p>Anyways, a simple way to make this thread-safe with respect to the parameters passed to <code>Task.Run</code> is to do this:</p>\n\n<p>You must first decorate <code>RunAsync</code> with <code>async</code>:</p>\n\n<pre><code>private async void RunAsync()\n</code></pre>\n\n<p><strong>Important Note</strong></p>\n\n<p>Preferably the method marked <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/async\" rel=\"noreferrer\"><code>async</code></a> <strong>should not</strong> return void, as the linked documentation mentions.  The common exception to this is event handlers such as button clicks and such.  They must return void.  Otherwise I always try to return a <code>Task</code> or <code>Task&lt;TResult&gt;</code> when using <code>async</code>.  It's good practice for a quite a few reasons.</p>\n\n<p>Now you can <code>await</code> running the <code>Task</code> like below.  You cannot use <code>await</code> without <code>async</code>.</p>\n\n<pre><code>await Task.Run(() =&gt; MethodWithParameter(param));\n//Code here and below in the same method will not run until AFTER the above task has completed in one fashion or another\n</code></pre>\n\n<p>So, in general, if you <code>await</code> the task you can avoid treating passed in parameters as a potentially shared resource with all the pitfalls of modifying something from multiple threads at once.  Also, beware of <a href=\"http://csharpindepth.com/Articles/Chapter5/Closures.aspx\" rel=\"noreferrer\">closures</a>.  I won't cover those in depth but the linked article does a great job of it.</p>\n\n<p><strong>Side Note</strong></p>\n\n<p>A bit off topic, but be careful using any type of \"blocking\" on the WinForms GUI thread due to it being marked with <code>[STAThread]</code>.  Using <code>await</code> won't block at all, but I do sometimes see it used in conjunction with some sort of blocking.</p>\n\n<p>\"Block\" is in quotes because you technically <a href=\"https://stackoverflow.com/questions/4154429/apartmentstate-for-dummies/4156000#4156000\">cannot block the WinForms GUI thread</a>.  Yes, if you use <code>lock</code> on the WinForms GUI thread it <em>will</em> still pump messages, despite you thinking it's \"blocked\".  It's not.</p>\n\n<p>This can cause bizarre issues in very rare cases.  One of the reasons you never want to use a <code>lock</code> when painting, for example.  But that's a fringe and complex case; however I've seen it cause crazy issues.  So I noted it for completeness sake.</p>\n"}, {"comments": [{"owner": {"reputation": 1498, "user_id": 2797746, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TaPVN.jpg?s=128&g=1", "display_name": "Alexandre Severino", "link": "https://stackoverflow.com/users/2797746/alexandre-severino"}, "edited": false, "score": 11, "creation_date": 1431553603, "post_id": 30225556, "comment_id": 48555369, "body": "+1 for taking into consideration the important fact that the variable might be changed right after calling <code>Task.Run</code>."}, {"owner": {"reputation": 462, "user_id": 1142958, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IArSI.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/1142958/ovi"}, "edited": false, "score": 1, "creation_date": 1468405553, "post_id": 30225556, "comment_id": 64110773, "body": "how is this going to help? if you use x inside the task thread, and x is a reference to an object, and if the object is modified in the same time when the task thread is running it can lead to havoc."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 462, "user_id": 1142958, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IArSI.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/1142958/ovi"}, "edited": false, "score": 1, "creation_date": 1468416482, "post_id": 30225556, "comment_id": 64118433, "body": "@Ovi-WanKenobi Yes, but that is not what this question was about. It was how to pass a parameter. If you passed a reference to a object as a parameter to a normal function you would have the exact same problem there too."}, {"owner": {"reputation": 171, "user_id": 2203864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f66f38e6a3b6f38321c4596f901f4db?s=128&d=identicon&r=PG", "display_name": "David Price", "link": "https://stackoverflow.com/users/2203864/david-price"}, "edited": false, "score": 0, "creation_date": 1556807912, "post_id": 30225556, "comment_id": 98561453, "body": "Yup this does not work. My task has no reference back to x in the calling thread. I just get null."}, {"owner": {"reputation": 481, "user_id": 1154363, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ed3798b2a129f58b3a14db72e9937f06?s=128&d=identicon&r=PG", "display_name": "RashadRivera", "link": "https://stackoverflow.com/users/1154363/rashadrivera"}, "edited": false, "score": 0, "creation_date": 1607280073, "post_id": 30225556, "comment_id": 115216703, "body": "Scott Chamberlain,  Passing argument via capture comes with its own issues.  In particular, there is the issue of memory leaking and memory pressure.  In particular when you try to scale up.  (see &quot;8 Ways You can Cause Memory Leaks&quot; for more details)."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 34, "last_activity_date": 1431552820, "creation_date": 1431552820, "answer_id": 30225556, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/30225556#30225556", "title": "Task.Run with Parameter(s)?", "body": "<p>Use variable capture to \"pass in\" parameters.</p>\n\n<pre><code>var x = rawData;\nTask.Run(() =&gt;\n{\n    // Do something with 'x'\n});\n</code></pre>\n\n<p>You also could use <code>rawData</code> directly but you must be careful, if you change the value of <code>rawData</code> outside of a task (for example a iterator in a <code>for</code> loop) it will also change the value inside of the task.</p>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1431553035, "post_id": 30225567, "comment_id": 48555151, "body": "Just be careful of closures if you do it that way <code>for(int rawData = 0; rawData &lt; 10; ++rawData) { Task.Run(() =&gt; { Console.WriteLine(rawData); } ) }</code> will not behave the same as if <code>rawData</code> was passed in like in the OP&#39;s StartNew example."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1431553199, "post_id": 30225567, "comment_id": 48555213, "body": "@ScottChamberlain - That seems like a different example ;) I would hope most people understand about closing over lambda values."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 3, "creation_date": 1431553592, "post_id": 30225567, "comment_id": 48555362, "body": "And if those previous comments made no sense, please see Eric Lipper&#39;s blog on the topic: <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2009/11/12/closing-over-the-loop-variable-considered-harmful.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/ericlippert/archive/2009/11/12/&hellip;</a> It explains why this happens very well."}], "tags": [], "owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "is_accepted": false, "score": 5, "last_activity_date": 1431553200, "last_edit_date": 1431553200, "creation_date": 1431552857, "answer_id": 30225567, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/30225567#30225567", "title": "Task.Run with Parameter(s)?", "body": "<p>Just use Task.Run</p>\n\n<pre><code>var task = Task.Run(() =&gt;\n{\n    //this will already share scope with rawData, no need to use a placeholder\n});\n</code></pre>\n\n<p>Or, if you would like to use it in a method and await the task later</p>\n\n<pre><code>public Task&lt;T&gt; SomethingAsync&lt;T&gt;()\n{\n    var task = Task.Run(() =&gt;\n    {\n        //presumably do something which takes a few ms here\n        //this will share scope with any passed parameters in the method\n        return default(T);\n    });\n\n    return task;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3114, "user_id": 197591, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZZacK.jpg?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/197591/neo"}, "edited": false, "score": 0, "creation_date": 1605387603, "post_id": 37104705, "comment_id": 114636284, "body": "This is the best answer as it allows a state to be passed in, and prevents the possible situation mentioned in <a href=\"https://stackoverflow.com/a/40029969/197591\">Kaden Burgart&#39;s answer</a>. For example, if you need to pass a <code>IDisposable</code> object into the task delegate to resolve the ReSharper warning <i>&quot;Captured variable is disposed in the outer scope&quot;</i>, this does it very nicely. Contrary to popular belief, there&#39;s nothing wrong with using <code>Task.Factory.StartNew</code> instead of <code>Task.Run</code> where you need to pass state. See <a href=\"https://devblogs.microsoft.com/pfxteam/task-run-vs-task-factory-startnew/\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 7581, "user_id": 466227, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5939906390b0857eae705e05d42bcd97?s=128&d=identicon&r=PG", "display_name": "Arnaud F.", "link": "https://stackoverflow.com/users/466227/arnaud-f"}, "is_accepted": false, "score": 8, "last_activity_date": 1462740838, "creation_date": 1462740838, "answer_id": 37104705, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/37104705#37104705", "title": "Task.Run with Parameter(s)?", "body": "<p>From now you can also :</p>\n\n<pre><code>Action&lt;int&gt; action = (o) =&gt; Thread.Sleep(o);\nint param = 10;\nawait new TaskFactory().StartNew(action, param)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 5429071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y4gpf8M_THM/AAAAAAAAAAI/AAAAAAAAAHY/cuov9WN-X-M/photo.jpg?sz=128", "display_name": "Kaden Burgart", "link": "https://stackoverflow.com/users/5429071/kaden-burgart"}, "edited": false, "score": 5, "creation_date": 1476389237, "post_id": 40029969, "comment_id": 67337201, "body": "I eagerly await anyone who can think of a way to do this more legibly with less overhead. This is admittedly rather ugly."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 5, "creation_date": 1476389515, "post_id": 40029969, "comment_id": 67337342, "body": "Here you go: <code>var localParam = param; await Task.Run(() =&gt; MethodWithParam(localParam));</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1476390817, "post_id": 40029969, "comment_id": 67338049, "body": "Which, by the way, Stephen already discussed in his answer, a year and a half ago."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1476393969, "post_id": 40029969, "comment_id": 67339788, "body": "@Servy: That was <a href=\"http://stackoverflow.com/a/30225556/263693\">Scott&#39;s answer</a>, actually. I didn&#39;t answer this one."}, {"owner": {"reputation": 131, "user_id": 5429071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y4gpf8M_THM/AAAAAAAAAAI/AAAAAAAAAHY/cuov9WN-X-M/photo.jpg?sz=128", "display_name": "Kaden Burgart", "link": "https://stackoverflow.com/users/5429071/kaden-burgart"}, "edited": false, "score": 0, "creation_date": 1476819021, "post_id": 40029969, "comment_id": 67504497, "body": "Scott&#39;s answer would not have worked for me actually, as I was running this in a for loop. The local param would have been reset in the next iteration. The difference in the answer I posted is that the param gets copied into the scope of the lambda expression, so the variable is immediately safe. In Scott&#39;s answer, the parameter is still in the same scope, so it could still change between calling the line, and executing the async function."}], "tags": [], "owner": {"reputation": 131, "user_id": 5429071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y4gpf8M_THM/AAAAAAAAAAI/AAAAAAAAAHY/cuov9WN-X-M/photo.jpg?sz=128", "display_name": "Kaden Burgart", "link": "https://stackoverflow.com/users/5429071/kaden-burgart"}, "is_accepted": false, "score": 7, "last_activity_date": 1476389065, "creation_date": 1476389065, "answer_id": 40029969, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/40029969#40029969", "title": "Task.Run with Parameter(s)?", "body": "<p>I know this is an old thread, but I wanted to share a solution I ended up having to use since the accepted post still has an issue.</p>\n\n<p>The Issue:</p>\n\n<p>As pointed out by Alexandre Severino, if <code>param</code> (in the function below) changes shortly after the function call, you might get some unexpected behavior in <code>MethodWithParameter</code>.</p>\n\n<pre><code>Task.Run(() =&gt; MethodWithParameter(param)); \n</code></pre>\n\n<p>My Solution:</p>\n\n<p>To account for this, I ended up writing something more like the following line of code:</p>\n\n<pre><code>(new Func&lt;T, Task&gt;(async (p) =&gt; await Task.Run(() =&gt; MethodWithParam(p)))).Invoke(param);\n</code></pre>\n\n<p>This allowed me to safely use the parameter asynchronously despite the fact that the parameter changed very quickly after starting the task (which caused issues with the posted solution).</p>\n\n<p>Using this approach, <code>param</code> (value type) gets its value passed in, so even if the async method runs after <code>param</code> changes, <code>p</code> will have whatever value <code>param</code> had when this line of code ran.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11176508, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f8f3220cbb3e4a52b527d9a8603efd82?s=128&d=identicon&r=PG", "display_name": "Harald J", "link": "https://stackoverflow.com/users/11176508/harald-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1552151748, "creation_date": 1552151748, "answer_id": 55079937, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/55079937#55079937", "title": "Task.Run with Parameter(s)?", "body": "<p>It's unclear if the original problem was the same problem I had: wanting to max CPU threads on computation inside a loop while preserving the iterator's value and keeping inline to avoid passing a ton of variables to a worker function.</p>\n\n<pre><code>for (int i = 0; i &lt; 300; i++)\n{\n    Task.Run(() =&gt; {\n        var x = ComputeStuff(datavector, i); // value of i was incorrect\n        var y = ComputeMoreStuff(x);\n        // ...\n    });\n}\n</code></pre>\n\n<p>I got this to work by changing the outer iterator and localizing its value with a gate.</p>\n\n<pre><code>for (int ii = 0; ii &lt; 300; ii++)\n{\n    System.Threading.CountdownEvent handoff = new System.Threading.CountdownEvent(1);\n    Task.Run(() =&gt; {\n        int i = ii;\n        handoff.Signal();\n\n        var x = ComputeStuff(datavector, i);\n        var y = ComputeMoreStuff(x);\n        // ...\n\n    });\n    handoff.Wait();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "edited": false, "score": 1, "creation_date": 1585156012, "post_id": 60849690, "comment_id": 107666343, "body": "While this may answer the question, it was flagged for review.  Answers with no explanation are often considered low-quality. Please provide some commentary for why this is the correct answer."}], "tags": [], "owner": {"reputation": 179, "user_id": 554404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87a9e5a9a4b3d33451f39cf9f8a1597?s=128&d=identicon&r=PG", "display_name": "CodeDigger", "link": "https://stackoverflow.com/users/554404/codedigger"}, "is_accepted": false, "score": 0, "last_activity_date": 1585162532, "last_edit_date": 1585162532, "creation_date": 1585142348, "answer_id": 60849690, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters/60849690#60849690", "title": "Task.Run with Parameter(s)?", "body": "<p>Idea is to avoid using a Signal like above.\nPumping int values into a struct prevents those values from changing (in the struct).\nI had the following Problem: loop var i would change before DoSomething(i) was called (i was incremented at end of loop before ()=> DoSomething(i,i<em>i) was called). With the structs it doesn't happen anymore. Nasty bug to find: DoSomething(i, i</em>i) looks great, but never sure if it gets called each time with a different value for i (or just a 100 times with i=100), hence -> struct</p>\n\n<pre><code>struct Job { public int P1; public int P2; }\n\u2026\nfor (int i = 0; i &lt; 100; i++) {\n    var job = new Job { P1 = i, P2 = i * i}; // structs immutable...\n    Task.Run(() =&gt; DoSomething(job));\n}\n</code></pre>\n"}], "owner": {"reputation": 1980, "user_id": 4063639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wNGZA.jpg?s=128&g=1", "display_name": "MFatihMAR", "link": "https://stackoverflow.com/users/4063639/mfatihmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147976, "favorite_count": 18, "accepted_answer_id": 30225551, "answer_count": 7, "score": 89, "last_activity_date": 1585162532, "creation_date": 1431552454, "question_id": 30225476, "link": "https://stackoverflow.com/questions/30225476/task-run-with-parameters", "title": "Task.Run with Parameter(s)?", "body": "<p>I'm working on a multi-tasking network project and I'm new on <code>Threading.Tasks</code>. I implemented a simple <code>Task.Factory.StartNew()</code> and I wonder how can I do it with <code>Task.Run()</code>?</p>\n\n<p>Here is the basic code:</p>\n\n<pre><code>Task.Factory.StartNew(new Action&lt;object&gt;(\n(x) =&gt;\n{\n    // Do something with 'x'\n}), rawData);\n</code></pre>\n\n<p>I looked into <code>System.Threading.Tasks.Task</code> in <em>Object Browser</em> and I couldn't find a <code>Action&lt;T&gt;</code> like parameter. There is only <code>Action</code> that takes <code>void</code> parameter and no <em>type</em>.</p>\n\n<p>There are only 2 things similiar: <code>static Task Run(Action action)</code> and <code>static Task Run(Func&lt;Task&gt; function)</code> but can't post parameter(s) with both.</p>\n\n<p>Yes, I know I can create a simple extension method for it but <strong>my main question is can we write it on single line</strong> with <code>Task.Run()</code>?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "generics", "attributes", "automapper"], "comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1431552577, "post_id": 30225377, "comment_id": 48554924, "body": "Even if you weren&#39;t using generics, I don&#39;t believe C# will let you use lambda expressions when decorating members with custom attributes. It&#39;s pretty much limited to literals and <code>typeof()</code> expressions."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 1, "creation_date": 1431552803, "post_id": 30225377, "comment_id": 48555031, "body": "@StriplingWarrior oh good point!  No <code>Expression</code>, <code>Func</code> etcs... yeesh.  Maybe I can <a href=\"http://stackoverflow.com/questions/4695902/asp-net-mvc-3-action-filters-and-autofac-dependency-injection\">dependency inject the drop down values directly into the attribute</a>.... :)"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1431553009, "post_id": 30225377, "comment_id": 48555140, "body": "@ErikPhilips you&#39;d have to override the Attribute activator step though wouldn&#39;t you?  Since your constructors would want the values when you decorated them.  Maybe property injection inside of an attribute...tricky.  You&#39;d still need to override the attribute construction phase."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 1, "creation_date": 1431553067, "post_id": 30225377, "comment_id": 48555161, "body": "On a separate note, I just found this interesting link <a href=\"http://stackoverflow.com/questions/19056573/authorize-attribute-lifecycle\" title=\"authorize attribute lifecycle\">stackoverflow.com/questions/19056573/&hellip;</a>  : ASP.NET MVC will cache ActionFilters and try to reuse them on subsequent requests. The actual authorization will occur on each request but the contructor will only get called on the first. You should not maintain any internal state in an ActionFilter."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1431553304, "post_id": 30225377, "comment_id": 48555252, "body": "Yeah, I think anything you do to try to avoid magic strings is just going to cause more problems than anything. I&#39;ve learned to accept the fact that MVC uses magic strings for some things. I haven&#39;t really had any big problems arise from it so far (crosses fingers)."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1431553392, "post_id": 30225377, "comment_id": 48555287, "body": "I&#39;ll have to do some testing, my link in the comment stated the same thing, but appeared to suggest that Autofac could either; override the caching or (much less likely) it could/would update the dependency per request."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1431554178, "post_id": 30225377, "comment_id": 48555605, "body": "@ErikPhilips I&#39;d imagine that the only way to override the caching would be to hijack the Attribute construction step in the lifecycle and explicitly tell it NOT to pull those values from cache."}], "answers": [{"tags": [], "owner": {"reputation": 3558, "user_id": 1056639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLH2T.jpg?s=128&g=1", "display_name": "Grax32", "link": "https://stackoverflow.com/users/1056639/grax32"}, "is_accepted": false, "score": 0, "last_activity_date": 1431627173, "creation_date": 1431627173, "answer_id": 30244418, "question_id": 30225377, "link": "https://stackoverflow.com/questions/30225377/strongly-typed-generic-attribute-alternatives/30244418#30244418", "title": "Strongly Typed Generic Attribute alternatives", "body": "<p>You could name your property in Planets as \"PlanetSelectedValue\" which would cause AutoMapper to automagically determine what value goes there. (i.e. Planet.SelectedValue maps to PlanetSelectedValue)</p>\n\n<p>This is similar to the magic string problem in that if you change the property name, AutoMapper will no longer know where to put that value, but that is no different than any other AutoMapper issue.</p>\n\n<pre><code>public class MyPlanets\n{\n    public string PlanetSelectedValue { get; set; }\n}\n</code></pre>\n\n<p>OR:</p>\n\n<p>Use AutoMapper's IgnoreMap attribute to ignore the DropDownListTemplate property and make a separate AutoMapper-friendly PlanetId property that manipulates the values inside the DropdownListTemplate.</p>\n\n<pre><code>public class DropDownListTemplate\n{\n    public string SelectedValue { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; Values { get; set; }\n}\n\npublic class MyViewModel\n{\n    [IgnoreMap]\n    public DropDownListTemplate Planet { get; set; }\n    public string PlanetId\n    {\n        get { return Planet.SelectedValue; }\n        set { Planet.SelectedValue = value; }\n    }\n}\n</code></pre>\n\n<p>Also, when it is possible for your project, look at the C# 6.0 nameof() expression to pull in the name of a property without using the magic string.</p>\n"}, {"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1491226870, "post_id": 43185795, "comment_id": 73445479, "body": "I&#39;ll look into this.  Very promising."}], "tags": [], "owner": {"reputation": 1610, "user_id": 668403, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9cc24f35021ac8897a929a314b209126?s=128&d=identicon&r=PG", "display_name": "Waaghals", "link": "https://stackoverflow.com/users/668403/waaghals"}, "is_accepted": true, "score": 1, "last_activity_date": 1491225684, "creation_date": 1491225684, "answer_id": 43185795, "question_id": 30225377, "link": "https://stackoverflow.com/questions/30225377/strongly-typed-generic-attribute-alternatives/43185795#43185795", "title": "Strongly Typed Generic Attribute alternatives", "body": "<p>To make the property name strongly typed you could use <code>nameof</code> which is introduced in C# 6. </p>\n\n<p><code>nameof</code> is an expression just like <code>typeof</code>, but instead of returning the value's type it returns the value as a string.</p>\n\n<blockquote>\n  <p>Used to obtain the simple (unqualified) string name of a variable, type, or member. When reporting errors in code, hooking up model-view-controller (MVC) links, firing property changed events, etc., you often want to capture the string name of a method. Using nameof helps keep your code valid when renaming definitions. </p>\n</blockquote>\n\n<pre><code>public class MyViewModel\n{\n  [DropDownList(nameof(Planets))]\n  public string PlanetId{ get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Planets { get; set; }\n\n  [DropDownList(nameof(Cars))]\n  public string CarId{ get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Cars { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1493, "favorite_count": 2, "accepted_answer_id": 43185795, "answer_count": 2, "score": 9, "last_activity_date": 1491225684, "creation_date": 1431551972, "last_edit_date": 1495540460, "question_id": 30225377, "link": "https://stackoverflow.com/questions/30225377/strongly-typed-generic-attribute-alternatives", "title": "Strongly Typed Generic Attribute alternatives", "body": "<p>Lets start with a simple view model:</p>\n\n<pre><code>public class MyViewModel\n{\n  public string Value { get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Values { get; set; }\n}\n</code></pre>\n\n<p>A drop down list might look like:</p>\n\n<pre><code>@Html.DropDownListFor(m =&gt; m.Value, Model.Values)\n</code></pre>\n\n<p>However, because a drop down list requires two values it can't be used like:</p>\n\n<pre><code>public class MyViewModel\n{\n  [UIHint(\"DropDownList\")]\n  public string Value { get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Values { get; set; }\n}\n</code></pre>\n\n<p>with a view containing:</p>\n\n<pre><code>@Html.EditForModel()\n</code></pre>\n\n<p>Because there is no inherent way for the drop down to know the source, until you derrive from UIHint:</p>\n\n<pre><code>public DropDownListAttribute : UIHintAttribute\n{\n  public DropDownListAttribute (string valuesSource)\n    : base(\"DropDownList\", \"MVC\")\n  {\n  }\n}\n</code></pre>\n\n<p>Then one might use it like:</p>\n\n<pre><code>public class MyViewModel\n{\n  [DropDownList(\"Planets\")]\n  public string PlanetId{ get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Planets { get; set; }\n\n  [DropDownList(\"Cars\")]\n  public string CarId{ get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Cars { get; set; }\n}\n</code></pre>\n\n<p>However, this isn't really strongly typed, someone renames one of the <a href=\"http://en.wikipedia.org/wiki/Magic_number_(programming)#Unnamed_numerical_constants\" rel=\"nofollow noreferrer\">magic strings</a> or propery names without changing the other and it breaks at run-time.</p>\n\n<p>One theoretical solution is to create a generic attribute:</p>\n\n<pre><code>public DropDownListAttribute&lt;TModel, TValue&gt; : UIHintAttribute\n{\n  public DropDownListAttribute (Expression&lt;Func&lt;TModel, TValue&gt; expression)\n    : base(\"DropDownList\", \"MVC\")\n  {\n  }\n}\n</code></pre>\n\n<p>and the usage would be:</p>\n\n<pre><code>public class MyViewModel\n{\n  [DropDownList&lt;MyViewModel, IEnumerable&lt;SelectListItem&gt;&gt;( m =&gt; m.Planets)]\n  public string PlanetId{ get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Planets { get; set; }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/294216/why-does-c-sharp-forbid-generic-attribute-types\">But (currently) Generic Attributes aren't allowed</a> :/</p>\n\n<p>Another option is to encapsulate the two into a single class that the ModelBinder can recreate on post-back:</p>\n\n<pre><code>public class DropDownListTemplate\n{\n  public string SelectedValue { get; set; }\n  public IEnumerable&lt;SelectListItem&gt; Values { get; set; }\n}\n\npublic class MyViewModel\n{\n  public DropDownListTemplate Planet { get; set; }\n}\n</code></pre>\n\n<p>This creates simplicity in the ViewModel, Binding and EditFor/DisplayFor templates but from my limited knowledge of AutoMapper it adds complexity when <a href=\"https://stackoverflow.com/questions/8944577/automapper-map-child-property-that-also-has-a-map-defined\">AutoMapper Mapping to Properties of Class Properties</a>.  As far as I know I can't simply:</p>\n\n<pre><code>public class MyPlanets\n{\n  public string SelectedPlanet { get; set; }\n}\n\nMapper.CreateMap&lt;MyPlanets, MyViewModel&gt;();\nMapper.CreateMap&lt;MyViewModel, MyPlanets&gt;();\n</code></pre>\n\n<p>Is there an easier way with automapper to map these values auto-magically or is there a way to create a strongly-typed non-generic attribute?</p>\n"}, {"tags": ["c#", "powershell", "nuget"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 1663905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/866c543de54d1233b3b00cb0b8c069f7?s=128&d=identicon&r=PG", "display_name": "bperkins24", "link": "https://stackoverflow.com/users/1663905/bperkins24"}, "is_accepted": true, "score": 0, "last_activity_date": 1431552777, "creation_date": 1431552777, "answer_id": 30225535, "question_id": 30225352, "link": "https://stackoverflow.com/questions/30225352/how-to-change-copytooutputdirectory-on-project-reference-via-powershell/30225535#30225535", "title": "How to change CopyToOutputDirectory on project reference via powershell", "body": "<p>I realized that I was mixing up CopyLocal and CopyToOutputDirectory.  The solution was to do this after setting $configItem as I did above:</p>\n\n<pre><code>$configItem.CopyLocal = $false\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 1663905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/866c543de54d1233b3b00cb0b8c069f7?s=128&d=identicon&r=PG", "display_name": "bperkins24", "link": "https://stackoverflow.com/users/1663905/bperkins24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 30225535, "answer_count": 1, "score": 0, "last_activity_date": 1431552777, "creation_date": 1431551861, "last_edit_date": 1495540689, "question_id": 30225352, "link": "https://stackoverflow.com/questions/30225352/how-to-change-copytooutputdirectory-on-project-reference-via-powershell", "title": "How to change CopyToOutputDirectory on project reference via powershell", "body": "<p>I created a nuget package which contains 3rd party assemblies so that I don't have to put them in a lib folder in every repo where I want to reference them.  The nature of the 3rd party libraries is that I cannot have their references set to copy to the output directory (it causes an error done the line with their deploy scripts).</p>\n\n<p>To get around this I figured I could create a install.ps1 script in my nuget package and change the CopyToOutputDirectory property to Never.  I have not been able to find any examples of this on the web.  The only samples I find are related to content files existing in the ProjectItems collection (e.g. <a href=\"https://stackoverflow.com/questions/15460869/nuget-setting-copytooutputdirectory-on-content-in-subfolders\">Nuget - Setting CopyToOutputDirectory on content in subfolders</a>).</p>\n\n<p>I tried to modify this based on some other google searches and came up with this method to get the reference</p>\n\n<pre><code>param($installPath, $toolsPath, $package, $project) \n\n$configItem = $project.Object.References | Where-Object { $_.Name -eq 'ReferencedDll' }\n</code></pre>\n\n<p>Now $configItem does indeed hold the reference and I have verified this by doing a Write-Host $configItem.Name but I can't figure out how to change CopyToOutputDirectory at this point or find any MS docs on the object model of the reference.  Can anyone help point me in the right direction?</p>\n"}, {"tags": ["c#", "visual-studio", "windows-phone-8", "winrt-xaml"], "answers": [{"tags": [], "owner": {"reputation": 4680, "user_id": 652259, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/I4urp.png?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/652259/dave"}, "is_accepted": true, "score": 1, "last_activity_date": 1431553966, "creation_date": 1431553966, "answer_id": 30225810, "question_id": 30225315, "link": "https://stackoverflow.com/questions/30225315/having-a-storyboard-in-visual-studio-like-in-xcode/30225810#30225810", "title": "having a storyboard in visual studio like in Xcode?", "body": "<p>I've seen nothing like Xcode's storyboard in Visual Studio.  </p>\n\n<p>Blend for Visual Studio has a lot of visual tools.  The Objects and Timeline pane might be the closest in functionality:  <a href=\"https://msdn.microsoft.com/en-us/expression/dd565842.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/expression/dd565842.aspx</a></p>\n"}], "owner": {"reputation": 2803, "user_id": 1733263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5Ysp4.jpg?s=128&g=1", "display_name": "Damien", "link": "https://stackoverflow.com/users/1733263/damien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 1, "accepted_answer_id": 30225810, "answer_count": 1, "score": 4, "last_activity_date": 1431553966, "creation_date": 1431551648, "question_id": 30225315, "link": "https://stackoverflow.com/questions/30225315/having-a-storyboard-in-visual-studio-like-in-xcode", "title": "having a storyboard in visual studio like in Xcode?", "body": "<p>I would like to know if any of you have found a way to have a storyboard element like the one there is in XCode when you develop for an IOS application? But for Visual Studio when you develop for Windows Phone or Store apps? Does visual studio do this? Do i need to add a feature to Visual Studio to do this? or is it only in XCode?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 3, "creation_date": 1431551395, "post_id": 30225167, "comment_id": 48554298, "body": "Without seeing your code it&#39;s impossible to answer your question (which is also too broad). It&#39;s fairly simple to implement fast scrolling (even for huge images) as long as it&#39;s implemented efficiently. Incrementing position by 1 pixel per scroll bar move is likely the wrong approach - you need to rely on the ratio of visible vs hidden size of the image."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431551534, "post_id": 30225167, "comment_id": 48554394, "body": "@xxbbcc The code has only - <code>g.DrawImage(image, rec1, rec2, GraphicsUnit.Pixel);</code> and <code>panel1.Refresh();</code>. Without it - nothing would get updated. The rest is just creating the <code>Graphics</code> and a loop. Incrementing by more than 1 was too jerky to even be considered."}, {"owner": {"reputation": 8905, "user_id": 467172, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9c514bac9e4a66fbb6e7d350f9fd65bb?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/467172/anthony"}, "edited": false, "score": 1, "creation_date": 1431551948, "post_id": 30225167, "comment_id": 48554584, "body": "&quot;creating the <code>Graphics</code>&quot;... are you creating the graphics object yourself? You shouldn&#39;t be doing that, it should be provided to you via the <code>Paint</code> event arguments."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431553326, "post_id": 30225167, "comment_id": 48555261, "body": "@ispiro Why do you have that <code>for</code> loop for drawing? You redraw the image 100 times... if you want to do animation, you need to use a timer instead. If this is in response to scrolling, you need to invalidate the relevant part of the panel and repaint that in the <code>Paint</code> event (or whatever it&#39;s called, I always forget the name :)  )."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431554004, "post_id": 30225167, "comment_id": 48555525, "body": "Why use DrawImage? Any why on a Panel without Doblebuffering?? Why not use a PictureBox in a Panel with AutoScroll???"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431554216, "post_id": 30225167, "comment_id": 48555627, "body": "@TaW The scrolling will be by the program, not by the user so I can&#39;t use any built-in scrollbars. A PictureBox was my first choice, when that was too slow - I tried a Panel - with the same result. It <i>is</i> Doublebuffered as I mentioned in the question."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431554402, "post_id": 30225167, "comment_id": 48555708, "body": "<i>The scrolling will be by the program, not by the user so I can&#39;t use any built-in scrollbars</i> Well, that doesn&#39;t exactly sound like what a browser does.. but you still can use the same mechanism: Move the Location of the PictureBox inside the Panel. But animation will <b>never</b> be smooth in Winforms; it is a built-in limitation."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431554412, "post_id": 30225167, "comment_id": 48555715, "body": "@xxbbcc The loop is just for a simple working example - so you can see how slow it is. There won&#39;t be any user-scrolling so I can&#39;t use scollbars (also - they actually don&#39;t work so well with large images.) As for using the <code>Paint</code> event - why would that be any better??"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431554536, "post_id": 30225167, "comment_id": 48555767, "body": "@ispiro If you&#39;re trying to do animation, you need to use a timer, not a tight loop. You need to establish a movement vector, that will give you X / Y pixels per second (or whatever time unit you want) and then you need to move the image at that speed in the timer."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431554623, "post_id": 30225167, "comment_id": 48555813, "body": "@TaW a) I already tried moving a Panel behind a Panel before asking my question. It proved not much better. b) <code>But animation will never be smooth in Winforms; it is a built-in limitation.</code> - whoa - that would be the answer! Do you have a source for that?"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431554837, "post_id": 30225167, "comment_id": 48555905, "body": "@xxbbcc Yes. I realize all that. This was just to show the limitation. Moving more than one pixel at a time was not smooth enough. (and one - not fast enough) that&#39;s why I&#39;m asking this question. (According to TaW - It&#39;s some Winforms limitation.)"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431554998, "post_id": 30225167, "comment_id": 48555980, "body": "@ispiro It&#39;s perfectly possible to create smooth animation in Winforms - I did it several times in the past. You need to add more details to your question about why you&#39;re trying to move a picture by 1 pixel at a time. As it is, your question is way unclear."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555114, "post_id": 30225167, "comment_id": 48556036, "body": "<i>Do you have a source for that?</i> About 34 trillion posts here ;-) - The problem is that for smooth moving animations you need to stay in sync with the monitor and that&#39;s not possible with winforms. There are a few weird attempts to workaround but the best bet is to either give up on the goal or on winforms and go for WPF or UI with the upcoming win2D.. DirectX has it built-in and WPF is using that and Win2D a friendly subset, but I haven&#39;t mastered either.."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555201, "post_id": 30225167, "comment_id": 48556068, "body": "@ xxbbcc: I&#39;d <b>love</b> to learn about how to move event a circle smoothly across the screen. Never saw an example, and I have been looking.."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555345, "post_id": 30225167, "comment_id": 48556142, "body": "@TaW Define smoothly, then, maybe we&#39;re talking about something different."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555501, "post_id": 30225167, "comment_id": 48556211, "body": "@TaW Ah, ok, I just saw your comment. I agree with you then - doing this without <i>any</i> tearing is very hard, to say the least, using GDI or GDI+. When I said smooth animation is possible, I didn&#39;t mean tear-free animation."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555527, "post_id": 30225167, "comment_id": 48556225, "body": "Smoothness: You know it when you see it, and I have never seen a movement that doesn&#39;t start to get jerky after a second or so.. Note that this implies a certain slowness, fast movements look better but slow movements just don&#39;t work. I&#39;d love to be able to scroll text smoothly but It&#39;s  just not possible, I hate to admit (being a big fan of good ole Winforms..)"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431555656, "post_id": 30225167, "comment_id": 48556281, "body": "@TaW If you mean &quot;smoothly&quot; (not tear-free) then it&#39;s definitely possible - I indeed did that many times. It depends on keeping track of time between movements because the execution rate of the code is not guaranteed to be constant. So in each update during the animation, a different distance may have to be covered for smooth movement."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431555659, "post_id": 30225167, "comment_id": 48556284, "body": "<a href=\"http://stackoverflow.com/questions/950294/how-can-i-get-rid-of-jerkiness-in-winforms-scrolling-animation\" title=\"how can i get rid of jerkiness in winforms scrolling animation\">stackoverflow.com/questions/950294/&hellip;</a>"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431555771, "post_id": 30225167, "comment_id": 48556326, "body": "@ispiro See the link above. Even that won&#39;t give you completely tear-free animation (no control over vsync) but it results in fairly smooth movement."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431556301, "post_id": 30225167, "comment_id": 48556518, "body": "@TaW OK. So perhaps it&#39;s time to move on to WPF... I didn&#39;t realize that might make a serious difference. Thanks."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431556528, "post_id": 30225167, "comment_id": 48556583, "body": "@xxbbcc Thanks for all the input. (Just a note: if you mean animating a sprite - it&#39;s much less work than moving over a million pixels.)"}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1431556716, "post_id": 30225167, "comment_id": 48556639, "body": "@ispiro If you&#39;re trying animate huge images, you need to use DirectX. WinForms can deal with reasonable animation pretty well but full-screen high-quality animation is way out of scope for it."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1431556948, "post_id": 30225167, "comment_id": 48556715, "body": "It seems from the comments like the answer to my question is that browsers use hardware acceleration which is unavailable to Winforms."}], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1432207385, "post_id": 30226376, "comment_id": 48834468, "body": "Since the commentators didn&#39;t post their answers for a couple of days, I&#39;m undeleting my answer."}], "tags": [], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "is_accepted": true, "score": 0, "last_activity_date": 1431556692, "creation_date": 1431556692, "answer_id": 30226376, "question_id": 30225167, "link": "https://stackoverflow.com/questions/30225167/scroll-an-image-quickly-and-smoothly/30226376#30226376", "title": "Scroll an image quickly and smoothly", "body": "<p>It seems from the comments like the answer to my question is that browsers use hardware acceleration which is unavailable to Winforms. (Please feel free to correct me if I'm wrong.)</p>\n"}, {"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431560731, "creation_date": 1431560731, "answer_id": 30227025, "question_id": 30225167, "link": "https://stackoverflow.com/questions/30225167/scroll-an-image-quickly-and-smoothly/30227025#30227025", "title": "Scroll an image quickly and smoothly", "body": "<p>The easiest solution is to use a Panel object with the scroll bars set to Auto.  Place a picturebox as a child object with the size mode set to Auto.  The picture box will expand to the size of the image that you assign to it.  Since the picture box will expand to be larger than the panel, the panel's scroll bars will appear.  When you scroll the image using the panel, it will be smooth.  </p>\n\n<p>If you still want to manually provide the drawing yourself, you are getting the \"flicker\" because the Invalidate method automatically performs background erasing which is not performed during the OnPaint event.  You need to subclass the parent control that you are drawing on and override the OnPaintBackground event.  Like below:</p>\n\n<pre><code>protected override void OnPaintBackground(PaintEventArgs pevent)\n{\n   // base.OnPaintBackground(pevent);\n}\n</code></pre>\n\n<p>Also, remember to perform ALL drawing during the OnPaint event and use the e.Graphics object.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 30226376, "answer_count": 2, "score": 2, "last_activity_date": 1431560731, "creation_date": 1431551071, "last_edit_date": 1431552599, "question_id": 30225167, "link": "https://stackoverflow.com/questions/30225167/scroll-an-image-quickly-and-smoothly", "title": "Scroll an image quickly and smoothly", "body": "<p>When scrolling an image in a browser using the scrollbars - the image scrolls quickly and smoothly. On the other hand, making a tight loop with <a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.graphics.drawimage.aspx\" rel=\"nofollow\">Graphics.DrawImage</a>, incrementing the location's X-coordinate by 1 each iteration - returns a slow motion. (It's also somewhat jerky even after making the Control <code>DoubleBuffered</code>.)</p>\n\n<p>How can I get fast rendering like a browser's?</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>void DoNow()\n{\n    Rectangle rec1 = new Rectangle(Point.Empty, panel1.BackgroundImage.Size);\n    Rectangle rec2 = new Rectangle(Point.Empty, panel1.BackgroundImage.Size);\n\n    using (Graphics g = Graphics.FromImage(panel1.BackgroundImage))\n    {\n        for (int i = 0; i &lt; 100; i++)\n        {\n            rec2.Location = new Point(rec2.Location.X + 1, rec2.Location.Y);\n            g.DrawImage(image, rec1, rec2, GraphicsUnit.Pixel);\n            panel1.Refresh();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "compatibility"], "comments": [{"owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 8, "creation_date": 1431550901, "post_id": 30225089, "comment_id": 48554030, "body": "This is probably because of a mismatch in Architectures, e.g. an x64 process using and x86 library"}, {"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 0, "creation_date": 1431559765, "post_id": 30225089, "comment_id": 48557483, "body": "Application where you are using this SupprotProject.dll is targeted for .Net version lesser than 4.0."}, {"owner": {"reputation": 52, "user_id": 4820915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a064b835738ebb6739126fa205f2a2c2?s=128&d=identicon&r=PG&f=1", "display_name": "pslover", "link": "https://stackoverflow.com/users/4820915/pslover"}, "reply_to_user": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 0, "creation_date": 1431584821, "post_id": 30225089, "comment_id": 48564414, "body": "@PankajKapare Thanks."}, {"owner": {"reputation": 52, "user_id": 4820915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a064b835738ebb6739126fa205f2a2c2?s=128&d=identicon&r=PG&f=1", "display_name": "pslover", "link": "https://stackoverflow.com/users/4820915/pslover"}, "reply_to_user": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 0, "creation_date": 1431589885, "post_id": 30225089, "comment_id": 48566827, "body": "@PankajKapare I&#39;m compiling target project in .NET 4. But there are some errors introduced. These are related to classes in my SupportProject.dll. Though they are present there in SupportProject but Target project is not able to find. TIA [I hope I hv conveyed my problem :)]"}, {"owner": {"reputation": 52, "user_id": 4820915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a064b835738ebb6739126fa205f2a2c2?s=128&d=identicon&r=PG&f=1", "display_name": "pslover", "link": "https://stackoverflow.com/users/4820915/pslover"}, "reply_to_user": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 0, "creation_date": 1431598246, "post_id": 30225089, "comment_id": 48571348, "body": "@DaveShaw Plz respond to my above comment. TIA"}, {"owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 0, "creation_date": 1431602817, "post_id": 30225089, "comment_id": 48574057, "body": "What is the application architecture set to for both projects ?"}, {"owner": {"reputation": 52, "user_id": 4820915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a064b835738ebb6739126fa205f2a2c2?s=128&d=identicon&r=PG&f=1", "display_name": "pslover", "link": "https://stackoverflow.com/users/4820915/pslover"}, "reply_to_user": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 0, "creation_date": 1431615799, "post_id": 30225089, "comment_id": 48582773, "body": "@DaveShaw both are x64. I googled for COM but what i got is code licensed by microsoft. COM for supporting .NET4 dlls in .NET 2. As i mentioned in my earlier comment I also tried compiling project in .NET 4 but errors."}], "owner": {"reputation": 52, "user_id": 4820915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a064b835738ebb6739126fa205f2a2c2?s=128&d=identicon&r=PG&f=1", "display_name": "pslover", "link": "https://stackoverflow.com/users/4820915/pslover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431551623, "creation_date": 1431550815, "last_edit_date": 1431551623, "question_id": 30225089, "link": "https://stackoverflow.com/questions/30225089/net-runtime-error-while-excuting-net-application", "title": ".NET runtime error while excuting .Net application", "body": "<p>I have compiled my code to SupportProject.dll using <strong>.Net Framework 4</strong>. I'm using this dll in my another project Target. But while executing the project Target I'm getting below error</p>\n\n<blockquote>\n  <p>Unhandled Exception: System.BadImageFormatException: Could not load file or asse\n      mbly 'SupportProject, Version=1.3.8325.1453, Culture=neutral, PublicKeyToken=null' or\n       one of its dependencies. This assembly is built by a runtime newer than the cur\n      rently loaded runtime and cannot be loaded.\n      File name: 'SupportProject, Version=1.3.8325.1453, Culture=neutral, PublicKeyToken=nu\n      ll'</p>\n</blockquote>\n\n<p>Machine on which I'm executing Target project has <strong>.net version 4.0</strong>\nTIA.</p>\n"}, {"tags": ["java", "c#", "certificate", "server", "self-signed"], "comments": [{"owner": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 0, "creation_date": 1431552704, "post_id": 30225055, "comment_id": 48554984, "body": "someone just asked a similar question - <a href=\"http://stackoverflow.com/questions/30224607/getting-images-from-https-with-java\" title=\"getting images from https with java\">stackoverflow.com/questions/30224607/&hellip;</a>"}, {"owner": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 0, "creation_date": 1431552813, "post_id": 30225055, "comment_id": 48555036, "body": "however, you are using C# on client side, which I have no knowledge of. But the basic problems are the same - and I think you can easily google the exception."}, {"owner": {"reputation": 15, "user_id": 4897384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e153fcd1baac7e58672384f6f79df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Wlad4Coding", "link": "https://stackoverflow.com/users/4897384/wlad4coding"}, "reply_to_user": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 0, "creation_date": 1431555748, "post_id": 30225055, "comment_id": 48556323, "body": "This didn&#39;t help me... I tried to init() the SSLContext... but that gives me an error. &quot;and I think you can easily google the exception&quot; -&gt; I was... but i found nothing useful."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4897384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e153fcd1baac7e58672384f6f79df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Wlad4Coding", "link": "https://stackoverflow.com/users/4897384/wlad4coding"}, "edited": false, "score": 0, "creation_date": 1431596503, "post_id": 30227562, "comment_id": 48570333, "body": "Thanks for your great answer! I&#39;m going to check this out. I&#39;ll tell you whether this worked for me :)"}, {"owner": {"reputation": 15, "user_id": 4897384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e153fcd1baac7e58672384f6f79df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Wlad4Coding", "link": "https://stackoverflow.com/users/4897384/wlad4coding"}, "edited": false, "score": 0, "creation_date": 1431603631, "post_id": 30227562, "comment_id": 48574545, "body": "I&#39;m sorry... I&#39;m really new to C# coding. I coded only in Java before... But how can I set the certificate? I added the .pfx to the &quot;Personal certificate store&quot; section but LocalCertificate is still null... Also I searched for the .NET Certificate Api to assign the certificate to my aplication but I didn&#39;t found anything..."}, {"owner": {"reputation": 7213, "user_id": 233596, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7cba92ae4cd4794fd91d6e277ec859c6?s=128&d=identicon&r=PG", "display_name": "Jim Flood", "link": "https://stackoverflow.com/users/233596/jim-flood"}, "reply_to_user": {"reputation": 15, "user_id": 4897384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e153fcd1baac7e58672384f6f79df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Wlad4Coding", "link": "https://stackoverflow.com/users/4897384/wlad4coding"}, "edited": false, "score": 0, "creation_date": 1431647189, "post_id": 30227562, "comment_id": 48599052, "body": "@Wlad4Coding I updated my answer with some C# code to find a certificate from the Personal certificate store of the current user."}], "tags": [], "owner": {"reputation": 7213, "user_id": 233596, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7cba92ae4cd4794fd91d6e277ec859c6?s=128&d=identicon&r=PG", "display_name": "Jim Flood", "link": "https://stackoverflow.com/users/233596/jim-flood"}, "is_accepted": true, "score": 0, "last_activity_date": 1431647140, "last_edit_date": 1431647140, "creation_date": 1431564583, "answer_id": 30227562, "question_id": 30225055, "link": "https://stackoverflow.com/questions/30225055/ssl-connection-with-self-signed-certificate-error-c-socket-connect-to-java-ser/30227562#30227562", "title": "SSL Connection with self-signed certificate error (C# Socket connect to Java Server Socket)", "body": "<p>The RemoteCertificateNameMismatch policy error is not related to a missing local certificate. This error just tells you that the SAN (Subject Alternative Name) in the received server certificate, or, if there is no SAN, then the Common Name of the received server certificate's Subject name, does NOT match the hostname that you connect to. You can ignore this error if you do not expect to see the hostname in the certificate in one of these two places.</p>\n\n<p>I would guess that you have no local certificate, because you are loading the certificate from a file, and there is no corresponding private key for this certificate in the Windows private key store.</p>\n\n<p>Try importing a certificate and private key (for example, from a PFX file that has both the certificate and the private key) using MMC to the local computer Personal certificate store, and then load <em>that</em> certificate here using the .NET certificate store APIs. As long as you have access to the private key (which you will if <em>you</em> are the Windows user that imported the PFX), then you should be able to connect with this client certificate.</p>\n\n<p>In your code, instead of reading the certificate from a file, load it from the certificate store, with something like this:</p>\n\n<pre><code>var store = new X509Store(StoreName.My, StoreLocation.CurrentUser);\n\nstore.Open(OpenFlags.ReadOnly | OpenFlags.OpenExistingOnly);\n\ntry\n{\n  X509Certificate2Collection collection = store.Certificates.Find(X509FindType.FindByThumbprint, thumbprint, false);\n  return TakeFirstCertificate(collection);\n}\nfinally\n{\n  store.Close();\n}\n</code></pre>\n\n<p>You can look for it using something other that thumbprint -- this is just an example. This is what you have SelectLocalCertificate return.</p>\n"}], "owner": {"reputation": 15, "user_id": 4897384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e153fcd1baac7e58672384f6f79df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Wlad4Coding", "link": "https://stackoverflow.com/users/4897384/wlad4coding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2492, "favorite_count": 1, "accepted_answer_id": 30227562, "answer_count": 1, "score": 0, "last_activity_date": 1431736268, "creation_date": 1431550694, "last_edit_date": 1431736268, "question_id": 30225055, "link": "https://stackoverflow.com/questions/30225055/ssl-connection-with-self-signed-certificate-error-c-socket-connect-to-java-ser", "title": "SSL Connection with self-signed certificate error (C# Socket connect to Java Server Socket)", "body": "<p>At first... This program is only just-4-fun and wont be published ever. It's only for testing Sockets, so don't care about the security of this connection.\nI coded a little messenger where you can type in a message in a textbox and it will be send to the server and from the server to all clients. So far, so good. Just for fun I wanted to use SSL for this connection.\nBut when I'm trying to connect to the server socket it returns RemoteCertificateNameMismatch at ValidateServerCertificate.\nAfter I added some debug-messages I discovered that Sslstream.LocalCertificate is null. How can I fix this missing certificate? I am using a self-signed certificate.</p>\n\n<p>Please help, here's my code... and yes... sorry for my bad english :/ :</p>\n\n<h2>C# Client</h2>\n\n<p>[...]</p>\n\n<pre><code>             public bool ValidateServerCertificate(\n             object sender,\n             X509Certificate certificate,\n             X509Chain chain,\n             SslPolicyErrors sslPolicyErrors)\n             {                 \n              //sslPolicyErrors returns RemoteCertificateNameMismatch\n              return true; //Code shortened\n             }\n\n        public X509CertificateCollection getCertificates()\n        {\n\n            X509CertificateCollection cCollection = new X509CertificateCollection();\n            cCollection.Add(getCertificate());\n\n            return cCollection;\n        }\n\n        private X509Certificate getCertificate()\n        {\n            string Certificate = \"D:/Wlad/Programmierung/Zertifikat/CA/CertificateAuthority.crt\";\n            string ClientCertificatePassword = \"...\";\n\n            return new X509Certificate(Certificate, ClientCertificatePassword);\n        }\n\n        public X509Certificate SelectLocalCertificate(\n            object sender,\n            string targetHost,\n            X509CertificateCollection localCertificates,\n            X509Certificate remoteCertificate,\n            string[] acceptableIssuers)\n        {\n\n            foreach(X509Certificate cer in localCertificates) {\n                return cer;\n            }\n\n            return getCertificate();\n        }\n\n        public void connect(String username)\n        {\n                XMLConfigManager xml = XMLConfigManager.getInstance();\n                String ip = xml.get(\"ip\");\n\n\n                tc = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp); ;\n                tc.Connect(ip, int.Parse(xml.get(\"port\")));\n\n                networdstream = new NetworkStream(tc);\n\n                using(sslstream = new SslStream(networdstream, false, new RemoteCertificateValidationCallback(ValidateServerCertificate),  new LocalCertificateSelectionCallback(SelectLocalCertificate)))\n                {\n\n                        sslstream.AuthenticateAsClient(ip, getCertificates(), SslProtocols.Default, true);\n\n                }\n\n\n\n                sendMessage(username);\n\n                t = new Thread(new ThreadStart(checkInput));\n                t.Start();\n                tm.addThread(t);\n\n                th = new Thread(new ThreadStart(userTimer));\n                th.Start();\n                tm.addThread(th);\n\n        }\n\n        public void disconnect()\n        {\n            if(sslstream != null) {\n                sslstream.Close();\n            }\n\n            if(tc != null) {\n                tc.Close();\n            }\n\n\n        }\n\n        [...]\n\n        static byte[] GetBytes(string str)\n        {\n            byte[] bytes = new byte[str.Length * sizeof(char)];\n            System.Buffer.BlockCopy(str.ToCharArray(), 0, bytes, 0, bytes.Length);\n            return bytes;\n        }\n\n        public void sendMessage(String s)\n        {\n            try\n            {\n                if ((s != null) &amp;&amp; (s.Length &gt; 0))\n                {\n                    try\n                    {\n                        sslstream.Write(GetBytes(s));\n                    }\n                    catch (Exception)\n                    {\n\n                    }\n\n                }\n            }\n            catch (Exception ex)\n            {\n                endError(ex);\n                return;\n            }\n\n        }\n\n        public void userTimer()\n        {\n            Thread.Sleep(2000);\n\n\n            sendCommand(\"usercount\");\n\n            th = new Thread(new ThreadStart(userTimer));\n            th.Start();\n            tm.addThread(th);\n        }\n\n        [...]\n\n        static String ReadMessage(SslStream sslStream)\n        {\n            byte[] buffer = new byte[2048];\n            StringBuilder messageData = new StringBuilder();\n            int bytes = -1;\n            do\n            {\n                bytes = sslStream.Read(buffer, 0, buffer.Length);\n\n                // Use Decoder class to convert from bytes to UTF8\n                // in case a character spans two buffers.\n                Decoder decoder = Encoding.UTF8.GetDecoder();\n                char[] chars = new char[decoder.GetCharCount(buffer, 0, bytes)];\n                decoder.GetChars(buffer, 0, bytes, chars, 0);\n                messageData.Append(chars);\n            } while (bytes != 0);\n\n            return messageData.ToString();\n        }\n\n        public void checkInput()\n        {\n            try \n            {\n                Form2 f2 = f1.f;\n\n                if(!isConnected()) {\n                    t.Abort();\n                    return;\n                }\n\n                String s = ReadMessage(sslstream);\n\n                if(s == null) {\n                    t.Abort();\n                    return;\n                }\n\n\n\n                CommandHandler ch = new CommandHandler();\n                Boolean handle = ch.handle(s, f1.f);\n\n                if (!handle) {\n\n                    if (s == \"Der Benutzername ist schon vergeben.\")\n                    {\n                        endDuplicatename();\n                        return;\n                    }\n                    f2.Invoke(new Action(() =&gt; f2.chat.Items.Add(s)));\n                    f2.Invoke(new Action(() =&gt; f2.select_newest()));\n\n                }\n\n\n\n\n            } \n            finally \n            {\n                t = new Thread(new ThreadStart(checkInput));\n                t.Start();\n                tm.addThread(t);\n            }\n        }\n</code></pre>\n\n<h2>Java Server Socket</h2>\n\n<pre><code>package de.wladhd.server;\n\nimport java.net.Socket;\n\nimport javax.net.ssl.SSLServerSocket;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.net.ssl.SSLSocket;\n\nimport de.wladhd.client.Client;\nimport de.wladhd.client.ClientManager;\nimport de.wladhd.logs.Log;\nimport de.wladhd.logs.LogType;\n\npublic class DateServer {\n\n    private SSLServerSocket server;\n    private boolean running = true;\n\n    private String keyStore = \"D:/Wlad/Programmierung/Zertifikat/CA/CertificateAuthority.pfx\";\n    private String keyStorePassword = \"...\";\n    private String keyStoreType = \"PKCS12\";\n\n\n    private String trustStore = \"D:/Wlad/Programmierung/Zertifikat/CA/CertificateAuthority.pfx\";\n    private String trustStorePassword = \"...\";\n    private String trustStoreType = \"PKCS12\";\n\n    public void execute() throws Exception {\n        //System.setProperty(\"javax.net.debug\",\"all\");\n\n        System.setProperty(\"javax.net.ssl.keyStoreType\", keyStoreType);\n        System.setProperty(\"javax.net.ssl.keyStore\", keyStore);\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", keyStorePassword);\n\n        System.setProperty(\"javax.net.ssl.trustStoreType\", trustStoreType);\n        System.setProperty(\"javax.net.ssl.trustStore\", trustStore);\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", trustStorePassword);\n        //System.setProperty(\"javax.net.ssl.trustStore\", \"de.wladhd.server.Trusting\");\n\n        SSLServerSocketFactory serverFactory = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n\n        if(serverFactory == null) {\n            new Log(\"Error occured... Server Factory == null!\", LogType.ERROR);\n            return;\n        }\n\n        server = (SSLServerSocket) serverFactory.createServerSocket(9090);\n\n\n\n\n        running = true;\n\n        new Log(\"Server now running on query: \" + server.getInetAddress().getHostAddress() + \":\" + server.getLocalPort(), LogType.INFO);\n\n        while (running) {\n            try {\n                if(server.isClosed()) {\n                    return;\n                }\n\n                new Log(\"Client connecting...\", LogType.DEBUG);\n\n                final Socket rawsocket = server.accept();\n\n                if(!(rawsocket instanceof SSLSocket)) {\n                    new Log(\"Client isnt an instance of SSLSocket!\", LogType.DEBUG);\n                    return; \n                }\n\n                final SSLSocket socket = (SSLSocket) rawsocket;\n\n                try {\n                    socket.startHandshake();\n                } catch (Exception ex) {\n\n                }\n\n\n                new Log(\"Client - Connected: \" + socket.isConnected(), LogType.DEBUG);\n\n                new Log(\"Client - Protocol: \" + socket.getSession().getProtocol(), LogType.DEBUG);\n\n                new Log(\"Client - Session valid: \" + socket.getSession().isValid(), LogType.DEBUG);\n\n                new Log(\"Client - CipherSuite: \" + socket.getSession().getCipherSuite(), LogType.DEBUG);\n\n                new Log(\"Client - NeedClientAuth: \" + socket.getNeedClientAuth(), LogType.DEBUG);\n\n                new Log(\"Client - WantClientAuth: \" + socket.getWantClientAuth(), LogType.DEBUG);\n\n                Client c = new Client(socket);\n\n                //socket.getHandshakeSession() returns null and peer not authenticated exception...\n\n            } catch (Exception ex) {\n                ex.printStackTrace();\n                continue;\n            }\n        } \n\n    }\n\n    public void disconnect() throws Exception {\n        new Log(\"Server disconnecting...\", LogType.INFO);\n        setRunning(false);\n\n        ClientManager.getInstance().disconnectClients();\n\n        if(server != null) {\n            server.close();\n        }\n\n        new Log(\"Server successfully disconnected!\", LogType.INFO);\n\n    }\n\n    public boolean isRunning() {\n        return running;\n    }\n\n    public void setRunning(boolean state) {\n        running = state;\n    }\n\n\n}\n</code></pre>\n\n<p>If you need something please tell me...</p>\n"}, {"tags": ["c#", "asp.net", "checkbox"], "comments": [{"owner": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431550795, "post_id": 30225053, "comment_id": 48553966, "body": "I haven&#39;t used the SqlDataReader for a while, but are you sure you don&#39;t have to cast/parse the result of sdr[&quot;MarketID&quot;] to an int?"}, {"owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "reply_to_user": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431550940, "post_id": 30225053, "comment_id": 48554048, "body": "@BjarkeS&#248;gaard I&#39;m getting the results of another query without issue using the same code when assigned bit values to checkboxes and text values to textboxes. The issues is when I&#39;m attempting to take where a row column certain criteria and assign its value to a checkbox like above."}, {"owner": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 1, "creation_date": 1431551049, "post_id": 30225053, "comment_id": 48554115, "body": "I just realized you have a logical error. Every time a row is read, you&#39;re setting all 4 checkboxes. Meaning that obviously there can never be more than 1 checkbox Checked. Instead of &quot;.Checked = sdr...&quot;, use an If and only set it if it equals."}, {"owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "reply_to_user": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551165, "post_id": 30225053, "comment_id": 48554180, "body": "@BjarkeS&#248;gaard I was kind of wondering if that was the only way. There could be some 50+ checkboxes so was hoping to keep my code a little cleaner than 50+ if statements but if thats the only way, then I guess thats what I will need to do."}, {"owner": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551277, "post_id": 30225053, "comment_id": 48554245, "body": "Either you could loop through all controls and check if it&#39;s typeof(Checkbox), and perform actions accordingly, OR you could write a wrapper around the Checkbox so you can add it to a List and just loop through it when reading from the database."}, {"owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "reply_to_user": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551912, "post_id": 30225053, "comment_id": 48554572, "body": "@BjarkeS&#248;gaard posted answer with your feedback. Thanks much!"}], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "is_accepted": false, "score": 0, "last_activity_date": 1431551856, "creation_date": 1431551856, "answer_id": 30225350, "question_id": 30225053, "link": "https://stackoverflow.com/questions/30225053/sql-rows-as-checkboxes/30225350#30225350", "title": "SQL Rows as CheckBoxes", "body": "<p>Heres what I ended up doing:</p>\n\n<pre><code>string sqlConn = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\nusing (SqlConnection sqlConnection1 = new SqlConnection(sqlConn))\n{\n    using (SqlCommand cmd = new SqlCommand())\n    {\n        cmd.CommandText = (\"usp_EmployeeMarkets\");\n        cmd.CommandType = CommandType.StoredProcedure;\n        cmd.Connection = sqlConnection1;\n        cmd.Parameters.AddWithValue(\"EmployeeID\", id);\n        sqlConnection1.Open();\n\n        SqlDataReader sdr = cmd.ExecuteReader();\n\n        while (sdr.Read())\n        {\n            string value = sdr[\"MarketID\"].ToString();\n            if (value == \"1\")\n            {\n                Market1CheckBox.Checked = true;\n            }\n            if (value == \"2\")\n            {\n                Market2CheckBox.Checked = true;\n            }\n            if (value == \"3\")\n            {\n                Market3CheckBox.Checked = true;\n            }\n            if (value == \"4\")\n            {\n                Market4CheckBox.Checked = true;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "edited": false, "score": 0, "creation_date": 1431555208, "post_id": 30225403, "comment_id": 48556073, "body": "Much cleaner than my solution. Thank you."}], "tags": [], "owner": {"reputation": 61, "user_id": 4897241, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gjcR7BJE6Z8/AAAAAAAAAAI/AAAAAAAAADc/oQim7Bb7csw/photo.jpg?sz=128", "display_name": "Manish Shukla", "link": "https://stackoverflow.com/users/4897241/manish-shukla"}, "is_accepted": true, "score": 0, "last_activity_date": 1431556761, "last_edit_date": 1431556761, "creation_date": 1431552111, "answer_id": 30225403, "question_id": 30225053, "link": "https://stackoverflow.com/questions/30225053/sql-rows-as-checkboxes/30225403#30225403", "title": "SQL Rows as CheckBoxes", "body": "<pre><code>  List&lt;string&gt; listOfMarkets=new List&lt;string&gt;();    \n   while (sdr.Read())\n    {\n        listOfMarkets.Add(sdr[\"MarketID\"].ToString());\n    }\n        Market1CheckBox.Checked = listOfMarkets.Contains(\"1\")?true:false;\n        Market2CheckBox.Checked = listOfMarkets.Contains(\"2\")?true:false;\n        Market3CheckBox.Checked = listOfMarkets.Contains(\"3\")?true:false;\n        Market4CheckBox.Checked =listOfMarkets.Contains(\"4\")?true:false;\n</code></pre>\n\n<p>try this it will surely work</p>\n"}], "owner": {"reputation": 486, "user_id": 988520, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b6279bace31b311178c4a023a0df06bd?s=128&d=identicon&r=PG&f=1", "display_name": "aantiix", "link": "https://stackoverflow.com/users/988520/aantiix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 30225403, "answer_count": 2, "score": 0, "last_activity_date": 1431556761, "creation_date": 1431550689, "question_id": 30225053, "link": "https://stackoverflow.com/questions/30225053/sql-rows-as-checkboxes", "title": "SQL Rows as CheckBoxes", "body": "<p>I have an employee web form where the employees can be assigned to any number of markets. I'm attempting to take the SQL row values and assign them to checkboxes in C#. </p>\n\n<p>So for example my SQL database would be like the following:</p>\n\n<pre><code>EmployeeID  MarketID\n99999       1\n99999       2\n99999       4\n</code></pre>\n\n<p>My code behind is</p>\n\n<pre><code>string sqlConn = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\nusing (SqlConnection sqlConnection1 = new SqlConnection(sqlConn))\n{\n    using (SqlCommand cmd = new SqlCommand())\n    {\n        cmd.CommandText = (\"usp_EmployeeMarkets\");\n        cmd.CommandType = CommandType.StoredProcedure;\n        cmd.Connection = sqlConnection1;\n        cmd.Parameters.AddWithValue(\"EmployeeID\", id);\n        sqlConnection1.Open();\n\n        SqlDataReader sdr = cmd.ExecuteReader();\n\n        while (sdr.Read())\n        {\n            Market1CheckBox.Checked = sdr[\"MarketID\"].Equals(1);\n            Market2CheckBox.Checked = sdr[\"MarketID\"].Equals(2);\n            Market3CheckBox.Checked = sdr[\"MarketID\"].Equals(3);\n            Market4CheckBox.Checked = sdr[\"MarketID\"].Equals(4);\n        }\n    }\n}\n</code></pre>\n\n<p>So in the example above checkboxes 1,2,4 should be checked where as checkbox 3 should not be. Obviously this isn't correct as I have done it so far as none of the checkboxes are checked. How can I accomplish what I'm looking to do? </p>\n"}, {"tags": ["c#", ".net", "vb.net", "timer"], "comments": [{"owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "edited": false, "score": 2, "creation_date": 1431550794, "post_id": 30224963, "comment_id": 48553964, "body": "Not the amount of time it takes per se, but what it does. I.e. if it uses resources that are going to be disposed at the same time, you may have to synchronize with timer completion, and allow for cooperative cancellation of the work being done in the delegate."}, {"owner": {"reputation": 10782, "user_id": 400589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/140fb76e8776265c75f9b8cd7517d5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/400589/denis"}, "reply_to_user": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "edited": false, "score": 0, "creation_date": 1431550879, "post_id": 30224963, "comment_id": 48554017, "body": "@Alex - so how would you write a dispose method for such a class?"}, {"owner": {"reputation": 10782, "user_id": 400589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/140fb76e8776265c75f9b8cd7517d5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/400589/denis"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1431551178, "post_id": 30224963, "comment_id": 48554188, "body": "@Plutonix - not what I am asking. What you are saying is a given. I think Alex is on the right track about &quot;cooperative cancellation&quot; but am curious how he would do it."}], "answers": [{"tags": [], "owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "is_accepted": false, "score": 1, "last_activity_date": 1431553228, "last_edit_date": 1431553228, "creation_date": 1431552711, "answer_id": 30225522, "question_id": 30224963, "link": "https://stackoverflow.com/questions/30224963/what-is-the-proper-way-to-dispose-of-a-class-with-a-timer/30225522#30225522", "title": "What is the proper way to Dispose of a class with a Timer?", "body": "<p>There are multiple approaches to this, and like Alex said in the comments it depends on whether or not objects the delegate will be using are also disposed.  </p>\n\n<p>Let's say we have a \"worst-case\" scenario, in which the delegate does need to use objects which would be disposed.<br>\nA good way to handle this would be similar to a method the <code>Process</code> object has: <code>WaitForExit()</code>. This method would simply loop until it sees the delegate is done working (have a <code>working</code> bool which is set before and after the delegate runs?) then returns. Now you can have something like this in the code using that class:  </p>\n\n<pre><code>// Time to shut down\nmyDisposable.WaitForFinish();\nmyDisposable.Dispose();\n</code></pre>\n\n<p>Thus we are essentially ensuring the delegate is done before disposing of it, stopping any sort of <code>ObjectDisposedException</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1431553630, "post_id": 30225642, "comment_id": 48555381, "body": "You could use a <code>System.Threading.Timer</code> to prevent tick reentrency without the need for the manual reset event.  Just use <code>Change(nextRunTime, Timeout.Infinite)</code> at the end of every tick."}, {"owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "reply_to_user": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1431553878, "post_id": 30225642, "comment_id": 48555471, "body": "@Zer0, the main reason for the event is the need to wait for the user delegate to be completed. The reentrancy usage is purely incidental, given that (I believe) the OP asked for a solution when using <code>System.Timers.Timer</code>. But it is a good point, a different timer mechanism might be preferable."}, {"owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "edited": false, "score": 0, "creation_date": 1431554038, "post_id": 30225642, "comment_id": 48555538, "body": "Thought it was worth a mention.  But +1 for thread safe <code>Stop</code> and using <code>CancellationTokenSource</code>."}], "tags": [], "owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "is_accepted": true, "score": 6, "last_activity_date": 1431613133, "last_edit_date": 1431613133, "creation_date": 1431553206, "answer_id": 30225642, "question_id": 30224963, "link": "https://stackoverflow.com/questions/30224963/what-is-the-proper-way-to-dispose-of-a-class-with-a-timer/30225642#30225642", "title": "What is the proper way to Dispose of a class with a Timer?", "body": "<p>If, you need to stop your timer during disposal, and work could still be in progress in your timer delegate, that relies on shared resources, being disposed at the same time, you need to coordinate the \"shutdown\" process. The below snippet shows an example of doing this:</p>\n\n<pre><code>public class PeriodicTimerTask : IDisposable\n{\n    private readonly System.Timers.Timer _timer;\n    private CancellationTokenSource _tokenSource;\n    private readonly ManualResetEventSlim _callbackComplete;\n    private readonly Action&lt;CancellationToken&gt; _userTask;\n\n    public PeriodicTimerTask(TimeSpan interval, Action&lt;CancellationToken&gt; userTask)\n    {\n        _tokenSource = new CancellationTokenSource();\n        _userTask = userTask;\n        _callbackComplete = new ManualResetEventSlim(true);\n        _timer = new System.Timers.Timer(interval.TotalMilliseconds);\n    }\n\n    public void Start()\n    {\n        if (_tokenSource != null)\n        {\n            _timer.Elapsed += (sender, e) =&gt; Tick();\n            _timer.AutoReset = true;\n            _timer.Start();\n        }\n    }\n\n    public void Stop()\n    {\n        var tokenSource = Interlocked.Exchange(ref _tokenSource, null);\n        if (tokenSource != null)\n        {\n            _timer.Stop();\n            tokenSource.Cancel();\n            _callbackComplete.Wait();\n            _timer.Dispose();\n            _callbackComplete.Dispose();\n            tokenSource.Dispose();\n        }\n    }\n\n    public void Dispose()\n    {\n        Stop();\n        GC.SuppressFinalize(this);\n    }\n\n    private void Tick()\n    {\n        var tokenSource = _tokenSource;\n        if (tokenSource != null &amp;&amp; !tokenSource.IsCancellationRequested)\n        {\n            try\n            {\n                _callbackComplete.Wait(tokenSource.Token); // prevent multiple ticks.\n                _callbackComplete.Reset();\n                try\n                {\n                    tokenSource = _tokenSource;\n                    if (tokenSource != null &amp;&amp; !tokenSource.IsCancellationRequested)\n                        _userTask(tokenSource.Token);\n                }\n                finally\n                {\n                    _callbackComplete.Set();\n                }\n            }\n            catch (OperationCanceledException) { }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>public static void Main(params string[] args)\n{\n    var periodic = new PeriodicTimerTask(TimeSpan.FromSeconds(1), cancel =&gt; {\n        int n = 0;\n        Console.Write(\"Tick ...\");\n        while (!cancel.IsCancellationRequested &amp;&amp; n &lt; 100000)\n        {\n            n++;\n        }\n        Console.WriteLine(\" completed.\");\n    });\n    periodic.Start();\n    Console.WriteLine(\"Press &lt;ENTER&gt; to stop\");\n    Console.ReadLine();\n    Console.WriteLine(\"Stopping\");\n    periodic.Dispose();\n    Console.WriteLine(\"Stopped\");\n}\n</code></pre>\n\n<p>With output like below:</p>\n\n<pre><code>Press &lt;ENTER&gt; to stop\nTick ... completed.\nTick ... completed.\nTick ... completed.\nTick ... completed.\nTick ... completed.\n\nStopping\nStopped\n</code></pre>\n"}], "owner": {"reputation": 10782, "user_id": 400589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/140fb76e8776265c75f9b8cd7517d5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/400589/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3527, "favorite_count": 0, "accepted_answer_id": 30225642, "answer_count": 2, "score": 1, "last_activity_date": 1431613133, "creation_date": 1431550316, "last_edit_date": 1431550726, "question_id": 30224963, "link": "https://stackoverflow.com/questions/30224963/what-is-the-proper-way-to-dispose-of-a-class-with-a-timer", "title": "What is the proper way to Dispose of a class with a Timer?", "body": "<p>Let's say I have a class which has a Timer object that doesn't do any critical work - just some GUI work. Let's say there are 2 scenarios where the timer elapses every 5 minutes:</p>\n\n<ol>\n<li>in the <code>Timer_Elapsed</code> delegate there is a lot of work that is done and it takes 2 minutes to complete. </li>\n<li>in the <code>Timer_Elapsed</code> delegate there is little work to be done and it takes a couple of milliseconds to complete</li>\n</ol>\n\n<p>What is the proper way to dispose of the object &amp; timer? Does the amount of time the <code>Timer_Elapsed</code> event delegate runs influence your decision on how to Dispose properly? </p>\n"}, {"tags": ["c#", "oracle", "odp.net-managed"], "comments": [{"owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1431556279, "post_id": 30224952, "comment_id": 48556508, "body": "In 40+ years of writing software I&#39;ve discovered two actual verified bugs in vendor-supplied software. I&#39;ve thought I&#39;ve discovered tons of them. This has led me to an observation: any time I believe I&#39;ve found a bug it&#39;s extremely likely that the &quot;bug&quot; is located in my code, and that checking my own code over with a very fine comb is probably more productive than blaming the vendor (whose testing criteria likely are better than mine). Just an observation..."}, {"owner": {"reputation": 13, "user_id": 3245753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d99f3e02d66491e4da375e4660b4eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3245753", "link": "https://stackoverflow.com/users/3245753/user3245753"}, "reply_to_user": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1431618045, "post_id": 30224952, "comment_id": 48584228, "body": "Thanks for your observation Bob.  I also agree that it is more likely for a single developer to have a bug in their implementation than the vendor.  However I do not think asking &quot;Is this a bug&quot; is the same thing as &quot;blaming the vendor&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3245753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d99f3e02d66491e4da375e4660b4eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3245753", "link": "https://stackoverflow.com/users/3245753/user3245753"}, "edited": false, "score": 0, "creation_date": 1431617477, "post_id": 30224990, "comment_id": 48583849, "body": "Re-reading my question I see I created a cut and paste error in asking it.  This isn&#39;t the question I wanted to ask, but your response is of course correct to the question I did ask."}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 5, "last_activity_date": 1431550434, "creation_date": 1431550434, "answer_id": 30224990, "question_id": 30224952, "link": "https://stackoverflow.com/questions/30224952/is-this-a-bug-in-the-oracle-odp-net/30224990#30224990", "title": "Is this a bug in the Oracle ODP.NET", "body": "<p>No; the problem is that your query makes no sense.</p>\n\n<p><code>':EMPNO'</code> is a string with the literal value <code>:EMPNO</code>, which is five characters long.</p>\n\n<p>To reference a parameter, don't write a string literal.</p>\n"}], "owner": {"reputation": 13, "user_id": 3245753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d99f3e02d66491e4da375e4660b4eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3245753", "link": "https://stackoverflow.com/users/3245753/user3245753"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 30224990, "answer_count": 1, "score": 1, "last_activity_date": 1431550434, "creation_date": 1431550245, "question_id": 30224952, "link": "https://stackoverflow.com/questions/30224952/is-this-a-bug-in-the-oracle-odp-net", "title": "Is this a bug in the Oracle ODP.NET", "body": "<p>I'm curious if this is a bug in the Oracle ODP.NET provider.  I created a parameterized insert statement.  I named one of the parameters ':EMPNO' and when testing it gave it a value of '8000'.  In the database the EMPNO column was defined as varchar2(4 byte).  However, the insert gave an error message of </p>\n\n<blockquote>\n  <p>ORA-12899: value too large for column \"HR\".\"HR_DEPARTURE\".\"EMPNO\" (actual: 6, maximum: 4)</p>\n</blockquote>\n\n<p>Here is some code snipets:</p>\n\n<pre><code>\"INSERT INTO HR.HR_DEPARTURE (EMPNO) ':EMPNO'\"\n</code></pre>\n\n<p>I then add a parameter</p>\n\n<pre><code>new OracleParameter(\":EMPNO\", OracleDbType.Varchar2) {Value = empNo ?? Convert.DBNull}\n</code></pre>\n\n<p>Create a command and add the parameter (there were multiple parameters thus the array)</p>\n\n<pre><code>DbCommand cmd = Connection.CreateCommand();\ncmd.Parameters.AddRange(sqlParams.ToArray());\n</code></pre>\n\n<p>I did some research and considered things like encoding and the fact that Oracle defaults to bind by position (instead of BindByName).  However, none of these resolved the issue.  I then took a shot in the dark and changed the parameter name to \":EMPN\" and got the following error message:</p>\n\n<blockquote>\n  <p>ORA-12899: value too large for column \"HR\".\"HR_DEPARTURE\".\"EMPNO\" (actual: 5, maximum: 4)</p>\n</blockquote>\n\n<p>This clued me in to change the parameter name to \":EMP\" at which time the query worked.\nI find it very odd that the provider is enforcing the database column size on the parameter name in c#.  The database size should be an enforcement of the value ('8000' which I kept the same in all tests).</p>\n"}, {"tags": ["c#", "wpf", "xaml", "dependency-properties", "ismouseover"], "comments": [{"owner": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551427, "post_id": 30224881, "comment_id": 48554322, "body": "Why are you making the &quot;IsMouseOver&quot; property yourself? I&#39;m pretty sure that all FrameworkElements has that property inherently."}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "reply_to_user": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551466, "post_id": 30224881, "comment_id": 48554344, "body": "Yeah, that code is wrong. ( //This is far from working)"}, {"owner": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551631, "post_id": 30224881, "comment_id": 48554442, "body": "In regards to your original question, off the top of my head I would say that&#39;s probably not possible, unless you create all the standard &quot;IsMouseOver&quot; code AGAIN, and have it react to the inner control instead of the UserControl as a whole. Which seems like a lot of work, so I&#39;d recommend instead just doing the work in the original xaml view."}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "reply_to_user": {"reputation": 1252, "user_id": 2520789, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ekhXG.jpg?s=128&g=1", "display_name": "Falgantil", "link": "https://stackoverflow.com/users/2520789/falgantil"}, "edited": false, "score": 0, "creation_date": 1431551678, "post_id": 30224881, "comment_id": 48554471, "body": "Thanks for your suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "is_accepted": true, "score": 1, "last_activity_date": 1433001636, "last_edit_date": 1495540693, "creation_date": 1431552654, "answer_id": 30225514, "question_id": 30224881, "link": "https://stackoverflow.com/questions/30224881/bind-to-or-expose-ismouseover-or-any-other-readonly-dependencyproperty-from-elem/30225514#30225514", "title": "Bind to or Expose IsMouseOver or any other ReadOnly DependencyProperty from element inside UserControl", "body": "<p>Just in case anyone cares, here's the solution</p>\n\n<p>Adapted from this answer: <a href=\"https://stackoverflow.com/a/317699/3596441\">https://stackoverflow.com/a/317699/3596441</a></p>\n\n<p>Expose child controls properties in UserControl:</p>\n\n<pre><code>public partial class userControl : UserControl\n{\n    public userControl()\n    {\n        InitializeComponent();\n        DependencyPropertyDescriptor descriptor = DependencyPropertyDescriptor.FromProperty(FrameworkElement.IsMouseOverProperty, typeof(FrameworkElement));\n        descriptor.AddValueChanged(this.innerControl, new EventHandler(OnIsMouseOverChanged));\n\n    }\n\n    // Dependency Property Declaration\n    private static DependencyPropertyKey ElementIsMouseOverPropertyKey = DependencyProperty.RegisterReadOnly(\"ElementIsMouseOver\", typeof(bool),typeof(userControl), new PropertyMetadata());\n    public static DependencyProperty ElementIsMouseOverProperty = ElementIsMouseOverPropertyKey.DependencyProperty;\n\n\n    public bool ElementIsMouseOver\n    {\n        get { return (bool)GetValue(ElementIsMouseOverProperty); }\n    }\n    private void SetIsMouseOver(bool value)\n    {\n        SetValue(ElementIsMouseOverPropertyKey, value);\n    }\n\n    // Dependency Property Callback\n    // Called when this.MyElement.ActualWidth is changed\n    private void OnIsMouseOverChanged(object sender, EventArgs e)\n    {\n        this.SetIsMouseOver(this.innerControl.IsMouseOver);\n    }\n\n\n}\n</code></pre>\n\n<p>Use like this:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication4.MainWindow\"\n  ...\n    xmlns:local=\"clr-namespace:WpfApplication4\"\n    &gt;\n&lt;DockPanel&gt;\n    &lt;Grid DockPanel.Dock=\"Left\" Width=\"100\" Height=\"100\" Background=\"Yellow\"&gt;\n        &lt;Grid.Style&gt;\n            &lt;Style TargetType=\"Grid\"&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding ElementIsMouseOver, ElementName=userControl}\" Value=\"True\"&gt;\n                        &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Grid.Style&gt;\n    &lt;/Grid&gt;\n\n    &lt;local:userControl x:Name=\"userControl\" Width=\"300\" Height=\"300\"/&gt;\n\n&lt;/DockPanel&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "accepted_answer_id": 30225514, "answer_count": 1, "score": 0, "last_activity_date": 1433001636, "creation_date": 1431549978, "last_edit_date": 1431552870, "question_id": 30224881, "link": "https://stackoverflow.com/questions/30224881/bind-to-or-expose-ismouseover-or-any-other-readonly-dependencyproperty-from-elem", "title": "Bind to or Expose IsMouseOver or any other ReadOnly DependencyProperty from element inside UserControl", "body": "<p>I have a window with a UserControl, that UserControl has an element.\nIf I move the mouse over the element inside the UserControl, I want that some other elements inside the Window to react (for example: hide them).</p>\n\n<p><img src=\"https://i.stack.imgur.com/dSNrr.png\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication4.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"\n    xmlns:local=\"clr-namespace:WpfApplication4\"\n    &gt;\n&lt;DockPanel&gt;\n    &lt;Grid Width=\"50\" Height=\"50\" Background=\"Yellow\"&gt;\n        &lt;Grid.Style&gt;\n            &lt;Style TargetType=\"Grid\"&gt;\n                &lt;Style.Triggers&gt;\n\n                    &lt;!-- When hovering innerControl inside userControl  this grid should become invisible, of course this doesn't work, it hides the element if I move the mouse over any part of the usercontrol--&gt;\n\n                    &lt;DataTrigger Binding=\"{Binding userControl.IsMouseOver, ElementName=userControl}\" Value=\"True\"&gt;\n                        &lt;Setter Property=\"Visibility\" Value=\"Collapsed\" /&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Grid.Style&gt;\n    &lt;/Grid&gt;\n    &lt;local:userControl x:Name=\"userControl\" Width=\"300\" Height=\"300\"/&gt;\n&lt;/DockPanel&gt;\n</code></pre>\n\n<p></p>\n\n<p>UserControl</p>\n\n<pre><code>&lt;UserControl x:Class=\"WpfApplication4.userControl\"\n         xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n         xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n         xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n         mc:Ignorable=\"d\" \n         d:DesignHeight=\"300\" d:DesignWidth=\"300\"\n         Background=\"Red\"\n         &gt;\n    &lt;Grid&gt;\n    &lt;Grid x:Name=\"innerControl\" Background=\"Blue\" Width=\"100\" Height=\"100\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>public partial class userControl : UserControl\n{\n    public userControl()\n    {\n        InitializeComponent();\n    }\n\n    //This is far from working\n\n    public new bool  IsMouseOver\n    {\n        get { return (bool)GetValue(IsMouseOverProperty); }\n        set { SetValue(IsMouseOverProperty, value); }\n    }\n\n    public new static readonly DependencyProperty IsMouseOverProperty =\n        Border.IsMouseOverProperty.AddOwner(typeof(Border));\n}\n</code></pre>\n\n<p>I know I have to use Dependency Properties, but I can't adapt the examples I have found to this problem.</p>\n"}, {"tags": ["c#", "winforms", "text-files", "readfile"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1431550620, "post_id": 30224856, "comment_id": 48553884, "body": "I can&#39;t really see what the problem is, but the whole <code>Start XXX</code>/<code>End XXX</code> really detracts from your code readability."}, {"owner": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "edited": false, "score": 1, "creation_date": 1431550801, "post_id": 30224856, "comment_id": 48553971, "body": "Based on what you&#39;ve posted it&#39;s hard to tell what (if any) problem you&#39;re having.  What is the expected behavior vs what&#39;s happening?  What do you mean it looks like it&#39;s reading like it&#39;s a different file?  You&#39;d need to use class fields (or properties) to store the file path so you can reuse it in different methods."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431551252, "post_id": 30224856, "comment_id": 48554229, "body": "I want to have a dynamic file name not just one that is static like &quot;bob.txt&quot;"}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431551307, "post_id": 30224856, "comment_id": 48554264, "body": "I want to use the openfiledialog let the user choose the file then store that file info like the file name in a global variable so i call it later"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552538, "post_id": 30224856, "comment_id": 48554904, "body": "@Colin - so why not store in a class level (global) variable then?  Do note though, that when you create a <code>StreamReader</code>, it will be positioned at the start of the file - which means you will only get the first line everytime.  Better approach would be to create the <code>StreamReader</code> at a higher scope level - but then you have to be careful to manage it&#39;s state."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552772, "post_id": 30224856, "comment_id": 48555017, "body": "@Tim So put the the &#39;openfiledialog&#39;  code in a class too with the rest of file info? and then call it, would that work and still allow the user to choose a different file?"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552866, "post_id": 30224856, "comment_id": 48555067, "body": "@Colin - the code you already have is in a class, right?  You don&#39;t need to create a new class - simply make the variables you intend to use across methods class level variables.  I.e., <code>public class MyClass { private string fileName; private string filePath; public void SomeMethod() { } public void SomeMethod2() { } }</code>.  Both <code>fileName</code> and <code>filePath</code> will be available to any methods defined in the class <code>MyClass</code>."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552896, "post_id": 30224856, "comment_id": 48555089, "body": "@Tim No its a method sadly"}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552924, "post_id": 30224856, "comment_id": 48555107, "body": "@Tim Should I convert it to a class perhaps?"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552960, "post_id": 30224856, "comment_id": 48555124, "body": "@Colin - that doesn&#39;t make sense.  You have methods outside of a class?  Can you post the beginning and end of the file that has the methods?  you don&#39;t need to post all the code."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431553101, "post_id": 30224856, "comment_id": 48555175, "body": "@Tim What do you mean? Should I just post the entire code?"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431553240, "post_id": 30224856, "comment_id": 48555235, "body": "@Colin - the file that contains the method(s) you posted - is the only thing in that file the method code?  I would expect it to be in a class like <code>public class Form1 : Form { }</code> or something similiar.  Otherwise, how would you call those methods?  They can&#39;t exist outside of a class or some other object."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431553748, "post_id": 30224856, "comment_id": 48555426, "body": "@Tim okay I edited it for you take a look"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431553992, "post_id": 30224856, "comment_id": 48555516, "body": "@Colin - writing an answer.  Stand by."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431554825, "post_id": 30224856, "comment_id": 48555902, "body": "@Tim Okay! standing by"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431551570, "post_id": 30225217, "comment_id": 48554412, "body": "Okay cool thanks, but if you notice my streamreader is reading from a &quot;static&quot; filename that coded in there. I want it to read from a dynamic file name like the one where the user opened and chose like in the first block of code i have"}, {"owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "reply_to_user": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431551681, "post_id": 30225217, "comment_id": 48554474, "body": "@Colin Update the List and set the counter to 0 each time they open a new file perhaps? Have a function which populates that list for the sake of abstraction, ideally."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431551883, "post_id": 30225217, "comment_id": 48554563, "body": "Yeah that could work, But like I want this counter to go through the current file that was opened in the first block of code. If you see what Im saying: The design is:  User opens file, first line of text from file is displayed on form, Then I have a &#39;previous&quot; and &#39;next&#39; button that I want to cycle through the lines of text from that same file."}, {"owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "reply_to_user": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431552003, "post_id": 30225217, "comment_id": 48554610, "body": "@Colin Then I don&#39;t see what&#39;s wrong? When do you want to &quot;change files&quot;? It seems you want all the lines to be from the first file they opened."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431552350, "post_id": 30225217, "comment_id": 48554808, "body": "Yeah I dont want to change files. And yes I do want all the lines to be from the first file they opened. The problem is I cant access the variables such as &quot;FileName&quot;, &quot;FilePath&quot;, ect from the first block of code, in my next block of code. So Im stuck as to how to access the that same text file (Since the user could pick any), from a different method in my code. This is hard to explain haha"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552488, "post_id": 30225217, "comment_id": 48554882, "body": "One simple solution would be to make the filename a class level variable."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552641, "post_id": 30225217, "comment_id": 48554952, "body": "@Tim Yes, but the user gets to choose any text file from when the openfiledialog is clicked and thus a dynamic file name so I cant do a class"}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "reply_to_user": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431552707, "post_id": 30225217, "comment_id": 48554986, "body": "@Colin - yes, you can.   The code you posted is in a <code>class</code>, correct?  Simply set the filename as a class level variable in that class, and then set the value base don the user&#39;s input from the <code>OpenFileDialog</code>."}, {"owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1431552864, "post_id": 30225217, "comment_id": 48555065, "body": "@Tim Well actually the code I posted is in a method.? So would your way still work?"}, {"owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "reply_to_user": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "edited": false, "score": 0, "creation_date": 1431552924, "post_id": 30225217, "comment_id": 48555108, "body": "@Colin Unless you mark the class-scope variable <code>const</code> you can easily change it at any time. Declare the var outside of the method, then initialise it inside the method. It will be the same class-wide. I&#39;d recommend not storing the <code>StreamReader</code> but rather the <code>List&lt;string&gt;</code> I talked about."}], "tags": [], "owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "is_accepted": false, "score": 1, "last_activity_date": 1431551238, "creation_date": 1431551238, "answer_id": 30225217, "question_id": 30224856, "link": "https://stackoverflow.com/questions/30224856/read-same-text-file-in-different-methods/30225217#30225217", "title": "Read Same Text File in Different Methods", "body": "<p>Of course it doesn't go from line to line. Each time the button is clicked you are simply reading the first line.  </p>\n\n<p>The best approach is to read all the lines in the file into a <code>List&lt;string&gt;</code> and have an <code>int counter</code> which you increment or decrement depending on if they move back or forward. Just increment/decrement each time and set the text to <code>yourListVar[counter]</code></p>\n\n<p>Or, if you want it to read from the file each time you can cycle through <code>ReadLine()</code>'s until you hit the index that matches the counter.</p>\n"}, {"tags": [], "owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "is_accepted": true, "score": 0, "last_activity_date": 1431555199, "last_edit_date": 1431555199, "creation_date": 1431554853, "answer_id": 30226022, "question_id": 30224856, "link": "https://stackoverflow.com/questions/30224856/read-same-text-file-in-different-methods/30226022#30226022", "title": "Read Same Text File in Different Methods", "body": "<p>There are a couple of things you need to do.  First, you need to create class level variables (more properly referred to as fields) to hold information that needs to be accessed by different methods.</p>\n\n<p>Secondly, you need to keep track of where you are (what line) in the file, because everytime you create a <code>StreamReader</code>, it will position the reader at the first line.  As a corollary, as RogueBukkitDev said, you should read the file one time and dump it into a <code>List&lt;string&gt;</code> or an array (<code>string[]</code>).  You would then increase or decrease the current position in the collection based on the user's direction - forward or back.</p>\n\n<p>It could look something like this:</p>\n\n<pre><code>public partial class Form1 : Form\n{ \n\n    // Class level fields\n    private string fileName = String.Empty;\n    private string[] fileLines;\n    private int currentLine = 0;\n    const char DELIM = '|';\n\n    public void ScrubData()\n    {           \n\n        // Display an OpenFile Dialog box for user\n        OpenFileDialog openFileDialog1 = new OpenFileDialog();\n        openFileDialog1.Filter = \"txt Files|*.txt\";\n        openFileDialog1.Title = \"Select a txt File\";\n\n        // Show the Dialog. If user clicked OK in the dialog\n        if (openFileDialog1.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n        {\n            try\n            {\n                fileName = openFileDialog1.FileName;\n                newFileName = String.Format(@\"{0}\\{1}_scrubed.txt\",\n                           openFileDialog1.InitialDirectory,\n                           Path.GetFileNameWithoutExtension(fileName));\n                fileLines = File.ReadAllLines(fileName);\n                currentLine = 0;\n            } \n        }\n    }\n\n    public void BtnNext_Click(object sender, EventArgs e)\n    {\n\n        if (currentLine &lt;= fileLines.Length)\n        {\n            string line2 = fileLines[currentLine];\n            string[] word = line2.Split(DELIM);\n\n            Txt2NormAccNum.Text = word[3];\n            Txt3NormAmnt.Text = word[4];\n            Txt4NormFirstNam.Text = word[1];\n            Txt5NormLastNam.Text = word[2];\n            Txt6NormSS.Text = word[0];\n            Txt7NormItem.Text = word[5];\n\n            currentLine = currentLine + 1;\n        }\n    }\n}\n</code></pre>\n\n<p>Lots of changes here, and I ommitted code that wasn't relevant to the example.</p>\n\n<p>First, I declare 4 fields - one for the fileName, one for the scrubbed filename, one for the current line of the file, and one constant for the delimiter.</p>\n\n<p>Next, in the <code>ScrubData</code> method were the file is selected by the user, it simply calls <code>File.ReadAllLines()</code>, which will return an array of strings (one array element per line), and stores it in the class level field <code>fileLines</code>.  It also sets the <code>currentLine</code> to 0, in case the user is choosing a different file before exiting the program.</p>\n\n<p>In the <code>btnNext_Click</code> event handler, it reads the current line from the array of lines (<code>fileLines</code>) - after making sure you won't have an index out bounds error, then splits them on the delimiter and populates the text boxes.  It then increases the <code>currentLine</code> by one.</p>\n\n<p>To go back, it would be essentially the same logic, except that you would <strong>decrease</strong> <code>currentLine</code> by 1 (and check to make sure you don't go past 0).</p>\n\n<p>This is the basic outline of what we've been trying to explain.  You may need to modify it to suit your actual needs, but the principle remains the same.</p>\n"}], "owner": {"reputation": 3, "user_id": 4897421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SkmvAQU9tKU/AAAAAAAAAAI/AAAAAAAAA6A/nP1EwwbjKn0/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4897421/colin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 30226022, "answer_count": 2, "score": 0, "last_activity_date": 1431555199, "creation_date": 1431549863, "last_edit_date": 1431553722, "question_id": 30224856, "link": "https://stackoverflow.com/questions/30224856/read-same-text-file-in-different-methods", "title": "Read Same Text File in Different Methods", "body": "<p>In the <code>BtnNext_Click</code> method it's just reading from the text file like it was a different text file, and not from the one that already was opened.  It does not go from line to line. \nI need help </p>\n\n<p>Here is the code:</p>\n\n<pre><code>public void ScrubData()\n{           \n    string FileName1;\n    string FilePath1;\n\n    // Display an OpenFile Dialog box for user\n    OpenFileDialog openFileDialog1 = new OpenFileDialog();\n    openFileDialog1.Filter = \"txt Files|*.txt\";\n    openFileDialog1.Title = \"Select a txt File\";\n\n    // Show the Dialog. If user clicked OK in the dialog\n    if (openFileDialog1.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n    {\n        try\n        {\n            String strFileName = openFileDialog1.FileName;\n            String strFilePath = System.IO.Path.GetDirectoryName(strFileName);\n            String fileName = System.IO.Path.GetFileNameWithoutExtension(strFileName);\n            String strFileNameAndPathNew = strFilePath +\n                openFileDialog1.InitialDirectory + \"\\\\\" + fileName + \"_scrubbed.txt\";\n\n            // If scrubbed file exists, delete it first\n            if (System.IO.File.Exists(strFileNameAndPathNew))\n            {\n                System.IO.File.Delete(strFileNameAndPathNew);\n            } // End IF\n            if (System.IO.File.Exists(strFileName))\n            {\n                int lineCount = System.IO.File.ReadAllLines(strFileName).Length;\n                System.IO.StreamReader file = new System.IO.StreamReader(strFileName);\n                // Status label \n                LblStatus.Text = \"File Loaded Successfully\";\n                LblStatus.Visible = true;\n                string line;\n                while ((line = file.ReadLine()) != null)\n                {\n                    const char DELIM = '|';\n                    // MessageBox.Show(line);\n\n                    string[] word = line.Split(DELIM);\n                     Txt2NormAccNum.Text = word[3];\n                    //string accScrubbed = ReplaceData(word[0],\"SSN\");\n                    Txt3NormAmnt.Text = word[4];\n                    Txt4NormFirstNam.Text = word[1];\n                    Txt5NormLastNam.Text = word[2];\n                    Txt6NormSS.Text = word[0];\n                    Txt7NormItem.Text = word[5];\n                } // End WHILE\n            } // End IF\n            else\n            {\n                // Status label \n                LblStatus.Text = \"File Load Failed!\";\n                LblStatus.Visible = true;\n            } // End ELSE\n            // Text box one code:\n            FileName1 = openFileDialog1.FileName;\n            Txt1.Text = FileName1;\n            //\n        } // End TRY\n        catch (Exception e1)\n        {\n             if (e1.Source != null)\n            {\n                Console.WriteLine(\"IOException source: {0}\", e1.Source);\n                throw;\n            } // End IF\n        } // End CATCH\n    } // End IF\n} // End Scrub Method\n</code></pre>\n\n<p>I need to reuse the variables such as \"strFileName\" in my next method.</p>\n\n<p>I am creating a previous &amp; next buttons to cycle through each line in the text file:</p>\n\n<pre><code>public void BtnNext_Click(object sender, EventArgs e)\n{\n    StreamReader myReader2 = new StreamReader(\"colin.txt\");\n    string line2 = \"\";\n\n    while (line2 != null)\n    {\n        line2 = myReader2.ReadLine();\n        if (line2 != null)\n        {\n            const char DELIM = '|';\n            // MessageBox.Show(line);\n            string[] word = line2.Split(DELIM);\n            Txt2NormAccNum.Text = word[3];\n            Txt3NormAmnt.Text = word[4];\n            Txt4NormFirstNam.Text = word[1];\n            Txt5NormLastNam.Text = word[2];\n            Txt6NormSS.Text = word[0];\n            Txt7NormItem.Text = word[5];\n\n            //Txt12ScrubSS.Text;\n            //Txt10ScrubFirstNam.Text;\n            //Txt11ScrubLastNam.Text;\n            //Txt8ScrubAcctNum.Text;\n            //Txt9ScrubAmt.Text;\n            //Txt13ScrubItem.Text;\n        }\n    }\n    myReader2.Close();\n\n} // end method\n</code></pre>\n\n<p>If you see what Im saying: The design is:  User opens file, first line of text from file is displayed on form, Then I have a 'previous\" and 'next' button that I want to cycle through the lines of text from that same file.</p>\n\n<p>@Tim Yeah I think I know what your saying Here look at this:</p>\n\n<pre><code>    using System;\n    using System.Collections.Generic;\n    using System.ComponentModel;\n    using System.Data;\n    using System.Drawing;\n    using System.Linq;\n    using System.Text;\n    using System.Threading.Tasks;\n    using System.Windows.Forms;\n    using System.IO;\n\n    namespace Project2_DataScrubber\n    {\npublic partial class Form1 : Form\n{ // Begin Class #1\n\n    public Form1()\n    { // Begin Main Method\n\n\n        InitializeComponent();\n\n        // MessageBox.Show(GetRandomNumbers().ToString());\n\n\n    } // End Main Method\n\n    private void Btn4_Click(object sender, EventArgs e)\n    { // Btn4 CLICK Method\n\n        // Closes Form 1\n        this.Close();\n    } // End Method\n\n    private void Btn3_Click(object sender, EventArgs e)\n    { // Btn3 CLICK Method\n\n        // Display alert message box of are you sure you want to reset the data\n        DialogResult dialogResult1 = MessageBox.Show(\"Are you want to reset the data?\", \"ALERT\", MessageBoxButtons.YesNo);\n        if (dialogResult1 == DialogResult.Yes)\n        {\n            // Resets all the data, textboxes, ect\n            Txt1.Text = \"No file loaded.\";\n            Txt2NormAccNum.Clear();\n            Txt3NormAmnt.Clear();\n            Txt4NormFirstNam.Clear();\n            Txt5NormLastNam.Clear();\n            Txt6NormSS.Clear();\n            Txt7NormItem.Clear();\n            Txt8ScrubAcctNum.Clear();\n            Txt9ScrubAmt.Clear();\n            Txt10ScrubFirstNam.Clear();\n            Txt11ScrubLastNam.Clear();\n            Txt12ScrubSS.Clear();\n            Txt13ScrubItem.Clear();\n            Txt14ScrubYesNo.Clear();\n            LblStatus.Visible = false;\n        }\n        else if (dialogResult1 == DialogResult.No)\n        {\n            // Do nothing\n        }\n\n    } // End Method\n\n    public  void Btn1_Click(object sender, EventArgs e)\n    { // Btn1 CLICK Method\n\n        ScrubData();\n    } // End Method\n\n    public void Btn2_Click (object sender, EventArgs e)\n    {\n        if (Txt2NormAccNum.Text != \"\" || Txt3NormAmnt.Text != \"\" || Txt4NormFirstNam.Text != \"\" || Txt5NormLastNam.Text != \"\" ||\n            Txt6NormSS.Text != \"\" || Txt7NormItem.Text != \"\")\n        {\n                                                                //\n            Txt12ScrubSS.Text = GetRandomNumbers().ToString();  // Replace SS textbox\n            //\n            #region\n            int lastNameLetters = Txt5NormLastNam.Text.Length;  //   \n            string lettersTwo = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n            Random randLetters = new Random();\n            string randomString = \"\";\n            for (int i = 0; i &lt; lastNameLetters; i++)\n            {                                                   // Replace Last Name\n                randomString += lettersTwo\n                    [randLetters.Next(0, 25)].ToString();\n            }\n            Txt11ScrubLastNam.Text = randomString;              //\n            #endregion\n            #region\n            var newAccountNum = \"\";                             //\n            int numOfCharacters = 4; // # to leave behind\n            for (var i = 0; i&lt;Txt2NormAccNum.Text.Length - numOfCharacters; i++)\n            {\n                newAccountNum += \"X\";                           // Replace Account Number\n            }\n            newAccountNum += Txt2NormAccNum.Text.Substring\n                (Txt2NormAccNum.Text.Length - numOfCharacters);\n            Txt8ScrubAcctNum.Text = newAccountNum;              //\n            #endregion\n            #region\n            double moneyAmountDoub = 0;                         //\n            string moneyAmountStr = \"\";\n            moneyAmountStr = Txt3NormAmnt.Text;\n            moneyAmountDoub = Convert.ToDouble(moneyAmountStr);\n            if (moneyAmountDoub &gt; 100.00)\n            {                                                   // Get Yes or No answer\n                Txt14ScrubYesNo.Text = \"Yes\";               \n            }\n            else\n            {\n                Txt14ScrubYesNo.Text = \"No\";\n            }                                                   //\n            #endregion\n\n            Txt10ScrubFirstNam.Text = Txt4NormFirstNam.Text;\n            Txt13ScrubItem.Text = Txt7NormItem.Text;\n            Txt13ScrubItem.Text = Txt7NormItem.Text;\n            Txt9ScrubAmt.Text = Txt3NormAmnt.Text;\n\n\n\n\n        }\n        else \n        {\n            MessageBox.Show(\"Error: Information missing from the Data section\");\n        }\n    }\n\n    public void ScrubData()\n    { // Begin Scrub Method\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "edited": false, "score": 0, "creation_date": 1431551396, "post_id": 30224851, "comment_id": 48554299, "body": "The fact that there seems to be an initial <code>bookings</code> table of some sort and that the result is also called <code>bookings</code> could be confusing."}], "answers": [{"comments": [{"owner": {"reputation": 1664, "user_id": 1181309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b596f6463cf41af696196501024145f?s=128&d=identicon&r=PG", "display_name": "tintyethan", "link": "https://stackoverflow.com/users/1181309/tintyethan"}, "edited": false, "score": 0, "creation_date": 1431551326, "post_id": 30225005, "comment_id": 48554270, "body": "oh my, I thought I might be way off. This is perfect - thanks!"}], "tags": [], "owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "is_accepted": true, "score": 1, "last_activity_date": 1431550519, "creation_date": 1431550519, "answer_id": 30225005, "question_id": 30224851, "link": "https://stackoverflow.com/questions/30224851/linq-group-by-or-distinct-with-join/30225005#30225005", "title": "Linq Group By or Distinct with Join", "body": "<p>Let me assume that you have navigation properties, or otherwise you will start using them:</p>\n\n<pre><code>var bookings = from b in bookings\n               where b.bookingscontacts\n                      .Any(bc =&gt; bc.contact.email == contactemail)\n               select b;\n</code></pre>\n\n<p>This will generate an <code>EXISTS</code> query, so the bookings are not duplicated.</p>\n"}], "owner": {"reputation": 1664, "user_id": 1181309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b596f6463cf41af696196501024145f?s=128&d=identicon&r=PG", "display_name": "tintyethan", "link": "https://stackoverflow.com/users/1181309/tintyethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 30225005, "answer_count": 1, "score": 1, "last_activity_date": 1431550588, "creation_date": 1431549845, "last_edit_date": 1431550588, "question_id": 30224851, "link": "https://stackoverflow.com/questions/30224851/linq-group-by-or-distinct-with-join", "title": "Linq Group By or Distinct with Join", "body": "<p>I may be going about this incorrectly, but I have a bookings table and a contacts table with a jointable connecting the two.</p>\n\n<p>I need to get all bookings that have a related contact with an email containing a given string.</p>\n\n<p>In other words, users want to search bookings by contact email.</p>\n\n<p>this is what I've come up with. It works, but returns duplicate rows for each booking. I haven't been able to figure out how to group the rows or use a distinct method as in T-SQL...</p>\n\n<pre><code>if (!String.IsNullOrWhiteSpace(form[\"contactemail\"]))\n{\n    string contactemail = form[\"contactemail\"];\n    IList&lt;int&gt; bookingids = bookings.Select(x =&gt; x.bookingid).ToList();\n    IQueryable&lt;contact&gt; con = (from y in db.bookingscontacts where bookingids.Contains(y.bookingid) select y.contact);\n    //EDIT:        I hadn't included the email filter...\n    IQueryable&lt;contact&gt; conmatches = (from c in con where c.email1.Contains(contactemail) select c);\n    IList&lt;int&gt; contactids = conmatches.Select(x =&gt; x.contactsid).ToList();\n\n    bookings = (from r in bookings from c in db.bookingscontacts where contactids.Contains(c.contactsid) &amp;&amp; bookingids.Contains(r.bookingid) select r);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "listview"], "comments": [{"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431551323, "post_id": 30224844, "comment_id": 48554268, "body": "Can we please see how you are binding the data to your ListView? I suspect you are binding it on every PostBack."}, {"owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "reply_to_user": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431555580, "post_id": 30224844, "comment_id": 48556247, "body": "I&#39;m binding it in the ItemDataBound method, as above. I suspect I am, too, but don&#39;t know how to bind it only in the EditTemplate and not in the ItemTemplate anywhere but the ItemDataBound method for the ListView."}, {"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431558614, "post_id": 30224844, "comment_id": 48557189, "body": "The <code>ItemDataBound</code> event is actually only part of the data binding process. What I&#39;m looking for is when you actually set a DataSource and call DataBind. The code would look something like <code>ListView1.DataSource = someDataSource;</code> and <code>ListView1.DataBind();</code>. My guess is these lines are in your <code>Page_Load</code> event. Could I please see how you are doing this DataBinding?"}, {"owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "reply_to_user": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431562557, "post_id": 30224844, "comment_id": 48558271, "body": "You bet! The binding is here:"}, {"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431563063, "post_id": 30224844, "comment_id": 48558418, "body": "Ok and where do you call the <code>DisplayListView</code> method?"}, {"owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "reply_to_user": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431563913, "post_id": 30224844, "comment_id": 48558638, "body": "In Page_Load, initially."}, {"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431564096, "post_id": 30224844, "comment_id": 48558686, "body": "Ok and are you making sure not to call <code>DisplayListView</code> on every PostBack? In other words, is your <code>DisplayListView</code> called wrapped in an <code>if (!IsPostBack)</code>?"}, {"owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "reply_to_user": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431564570, "post_id": 30224844, "comment_id": 48558802, "body": "Oy, that was it! I wrapped that call in an if (!IsPostback) brace in Page_Load and the problem is solved. I had forgotten that the initial page load isn&#39;t a post back. Thank you very much for your help; that was a frustrating problem."}, {"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "edited": false, "score": 0, "creation_date": 1431565110, "post_id": 30224844, "comment_id": 48558926, "body": "Great! You&#39;re welcome. I know that one has bit me in the past too."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "edited": false, "score": 0, "creation_date": 1431572208, "post_id": 30227610, "comment_id": 48560569, "body": "Can&#39;t upvote as yet, but wanted to say thanks again."}, {"owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "reply_to_user": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "edited": false, "score": 0, "creation_date": 1431572265, "post_id": 30227610, "comment_id": 48560584, "body": "Not a problem! Welcome to StackOverflow!"}], "tags": [], "owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1431565065, "creation_date": 1431565065, "answer_id": 30227610, "question_id": 30224844, "link": "https://stackoverflow.com/questions/30224844/asp-net-dropdownlist-in-listviews-onitemupdating-method-always-has-a-selectedin/30227610#30227610", "title": "ASP.NET DropDownList in ListView&#39;s OnItemUpdating method always has a SelectedIndex of 0", "body": "<p>Make sure you aren't binding your ListView on every PostBack. Wrap it in a condition to check for that.</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        DisplayListView();\n    }\n}\n</code></pre>\n\n<p>If you don't, your entire ListView, including your DropDownLists will rebind. This would cause you DropDownList to reset its SelectedIndex to 0.</p>\n"}], "owner": {"reputation": 13, "user_id": 4897397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff918103eaddb7fafb537421b0e5f0e?s=128&d=identicon&r=PG&f=1", "display_name": "caerwyn589", "link": "https://stackoverflow.com/users/4897397/caerwyn589"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 30227610, "answer_count": 1, "score": 1, "last_activity_date": 1431565065, "creation_date": 1431549810, "last_edit_date": 1431563637, "question_id": 30224844, "link": "https://stackoverflow.com/questions/30224844/asp-net-dropdownlist-in-listviews-onitemupdating-method-always-has-a-selectedin", "title": "ASP.NET DropDownList in ListView&#39;s OnItemUpdating method always has a SelectedIndex of 0", "body": "<p>In a ListView's <code>EditTemplate</code>, I have a DropDownList control. The DropDownList is populated in the <code>ItemDataBound</code> method of the <code>ListView</code> (only way I found to get the list to populate in the EditTemplate....the DropDownList only exists in the EditTemplate; it must be a label in the <code>ItemTemplate</code>). </p>\n\n<p>The list populates, and it all works. The issue I have is when the Update button is clicked and the <code>ItemUpdating</code> method is called, the <code>SelectedIndex</code> of the DropDownList is <em>always</em> zero, no matter which value is selected at the time.</p>\n\n<p>The aspx code, minus the extra templates looks like this:</p>\n\n<pre><code>&lt;asp:ListView ID=\"ListView1\" runat=\"server\" OnItemDataBound=\"ListView1_ItemDataBound\" OnItemUpdating=\"ListView1_ItemUpdating\" OnItemEditing=\"ListView1_ItemEditing\"&gt;\n&lt;EditItemTemplate&gt;\n    &lt;tr style=\"\"&gt;\n    &lt;td&gt;&lt;asp:DropDownList CssClass=\"vaultDropDownList\" ID=\"EditStaffList\" runat=\"server\" AutoPostBack=\"false\" CausesValidation=\"True\"&gt;&lt;/asp:DropDownList&gt;&lt;/td&gt;\n    &lt;td&gt;\n       &lt;asp:LinkButton ID=\"UpdateButton\" runat=\"server\" CommandName=\"Update\" Text=\"Update\" /&gt;\n       &lt;asp:LinkButton ID=\"CancelButton\" runat=\"server\" CommandName=\"Cancel\" Text=\"Cancel\" /&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/EditItemTemplate&gt;\n&lt;/asp:ListView&gt;\n</code></pre>\n\n<p>And the codebehind:</p>\n\n<pre><code>protected void ListView1_ItemEditing(object sender, ListViewEditEventArgs e)\n{            \n    ListView1.EditIndex = e.NewEditIndex;\n}\n\nprotected void ListView1_ItemDataBound(object sender, ListViewItemEventArgs e)\n{\n    if (e.Item.DisplayIndex == ListView1.EditIndex)\n    {\n        DropDownList ddl = e.Item.FindControl(\"EditStaffList\") as DropDownList;\n        BindDropDownList(ddl);\n    }\n}\n\nprotected void ListView1_ItemUpdating(object sender, ListViewUpdateEventArgs e)\n{\n   DropDownList staff = ListView1.Items[e.ItemIndex].FindControl(\"EditStaffList\") as DropDownList;\n\n   //SQL update stuff will go here\n   ListView1.EditIndex = -1;\n}\n</code></pre>\n\n<p>If I try to populate the DropDownList in the <code>Page_Load</code> method to use <code>IsPostBack</code>, the dropdown control always returns <code>null</code>. </p>\n\n<p>Any help greatly appreciated!</p>\n\n<p>Edit: The ListView bind:</p>\n\n<pre><code>protected void DisplayListView(object sender, EventArgs e) \n{ \n    string connString = SQLstringTooLong; \n    SqlConnection sqlConnection = new SqlConnection(connString); \n    DataTable initialTable = new DataTable(); \n    string queryStatement = \"SELECT lotsastuff\"; \n    SqlDataAdapter dataAdapter = new SqlDataAdapter(queryStatement, sqlConnection); \n    dataAdapter.Fill(initialTable); \n    ListView1.DataSource = initialTable; \n    ListView1.DataBind(); \n}\n</code></pre>\n\n<p>Edit2: Here's the dropdownlist bind method:</p>\n\n<pre><code>public static void CreateStaffList(DropDownList list, string searchGroup) \n{ \n    ArrayList userList = new ArrayList(); \n    //more SQL stuff \n    list.DataSource = userList; \n    list.DataBind(); \n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 1, "creation_date": 1431549821, "post_id": 30224821, "comment_id": 48553466, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}, {"owner": {"reputation": 679, "user_id": 1424834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6rtCF.jpg?s=128&g=1", "display_name": "Chris Jenkins", "link": "https://stackoverflow.com/users/1424834/chris-jenkins"}, "reply_to_user": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431549984, "post_id": 30224821, "comment_id": 48553557, "body": "Thanks John, will keep that in mind for the future"}], "answers": [{"comments": [{"owner": {"reputation": 1397, "user_id": 4023771, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mH1UU.jpg?s=128&g=1", "display_name": "Jacob Roberts", "link": "https://stackoverflow.com/users/4023771/jacob-roberts"}, "edited": false, "score": 2, "creation_date": 1431550988, "post_id": 30224848, "comment_id": 48554074, "body": "Isn&#39;t <code>AddOrUpdate</code> for migrations?"}, {"owner": {"reputation": 679, "user_id": 1424834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6rtCF.jpg?s=128&g=1", "display_name": "Chris Jenkins", "link": "https://stackoverflow.com/users/1424834/chris-jenkins"}, "edited": false, "score": 0, "creation_date": 1431551133, "post_id": 30224848, "comment_id": 48554163, "body": "It does appear it was primarily designed for migrations, but it is working exactly as expected. My other question is do I even need to write this kind of stuff, or is there a better way to do what I&#39;m trying to do? With simple CRUD  actions, this seems like a lot of extra overhead."}, {"owner": {"reputation": 21093, "user_id": 150342, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/15059b386eb3a25b97852a9a6e2d20ac?s=128&d=identicon&r=PG", "display_name": "Colin", "link": "https://stackoverflow.com/users/150342/colin"}, "edited": false, "score": 1, "creation_date": 1431592902, "post_id": 30224848, "comment_id": 48568248, "body": "Essential reading: Take care with the AddOrUpdate method: <a href=\"http://thedatafarm.com/data-access/take-care-with-ef-4-3-addorupdate-method/\" rel=\"nofollow noreferrer\">thedatafarm.com/data-access/&hellip;</a>"}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 3, "last_activity_date": 1431623565, "last_edit_date": 1495541364, "creation_date": 1431549833, "answer_id": 30224848, "question_id": 30224821, "link": "https://stackoverflow.com/questions/30224821/update-record-if-it-exists/30224848#30224848", "title": "Update record if it exists", "body": "<h1>Short Answer</h1>\n\n<blockquote>\n  <p>...if I make any updates to the customer model, I actually need to check EF if my key already exists, and if it does, run an update instead.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.migrations.idbsetextensions.addorupdate%28v=vs.103%29.aspx\" rel=\"nofollow noreferrer\"><code>AddOrUpdate()</code></a> does just this. From the docs:</p>\n\n<blockquote>\n  <p>Adds or updates entities by key when SaveChanges is called. Equivalent to an \"upsert\" operation from database terminology</p>\n</blockquote>\n\n<h1>Example</h1>\n\n<p>In other words, change your code to this: </p>\n\n<pre><code>context.Customers.AddOrUpdate(c =&gt; c.UserId, customer);\ncontext.SaveChanges();\n</code></pre>\n\n<p>In the above example, the <code>c =&gt; c.UserId</code> is an expression specifying that the <code>UserId</code> should be used when determining whether an Add or Update operation should be performed. </p>\n\n<h1>Considerations</h1>\n\n<ul>\n<li><code>AddOrUpdate()</code> matches database tables based on an arbitrary, user supplied key value. In the example, this key is <code>UserId</code>. Be sure to use an appropriate key. </li>\n<li><code>AddOrUpdate()</code> updates <em>all</em> entity values and sets database cells to null for properties that a lack value. Be sure to set all the property values of the object (e.g. <code>customer</code>) before using it.</li>\n</ul>\n\n<h1>See also</h1>\n\n<p><a href=\"https://stackoverflow.com/questions/5557829/update-row-if-it-exists-else-insert-logic-with-entity-framework\">Update Row if it Exists Else Insert Logic with Entity Framework</a> It has a few answers that talk about four or more different approaches. </p>\n"}, {"comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1431622781, "post_id": 30225251, "comment_id": 48587145, "body": "Using <code>dbContext.Table.First(t =&gt; t.Id == _id)</code> to check for existence has the same limitation as the way we check for existence with <code>AddOrUpdate</code>. In both cases, it&#39;s up to the user to provide an appropriate key value. In your example, you happen to be checking the <code>Id</code> value, which is likely a primary key. That&#39;s good. It&#39;s still <i>possible</i> though for a less informed user to use an inappropriate key."}], "tags": [], "owner": {"reputation": 1397, "user_id": 4023771, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mH1UU.jpg?s=128&g=1", "display_name": "Jacob Roberts", "link": "https://stackoverflow.com/users/4023771/jacob-roberts"}, "is_accepted": false, "score": 2, "last_activity_date": 1431551373, "creation_date": 1431551373, "answer_id": 30225251, "question_id": 30224821, "link": "https://stackoverflow.com/questions/30224821/update-record-if-it-exists/30225251#30225251", "title": "Update record if it exists", "body": "<p>I personally like a long winded approach of pulling the data object and using if null to determine if it should be added or updated.  However, I do have a table with a lot of columns that gets changed frequently due to new or deprecated business rules.  So I use the below</p>\n\n<pre><code>var currentModel = dbContext.Table.First(t =&gt; t.Id == _id);\ndbContext.Entry(currentModel).CurrentValues.SetValues(newModel);\ndbContext.SaveChanges();\n</code></pre>\n\n<p>I get my newModel from my viewModel where I have a ToModel method that returns the DTO.  Now all I have to update is my view and viewModel when a change to the database table is made.</p>\n"}], "owner": {"reputation": 679, "user_id": 1424834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6rtCF.jpg?s=128&g=1", "display_name": "Chris Jenkins", "link": "https://stackoverflow.com/users/1424834/chris-jenkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5092, "favorite_count": 0, "accepted_answer_id": 30224848, "answer_count": 2, "score": 2, "last_activity_date": 1431623565, "creation_date": 1431549721, "last_edit_date": 1431549815, "question_id": 30224821, "link": "https://stackoverflow.com/questions/30224821/update-record-if-it-exists", "title": "Update record if it exists", "body": "<p>I'm new to EF, and I'm trying to understand the best way to handle inserting and updating data. Just for some context, I'm using the .net mvc website boiler plate, and I've created a customers table with a 1:1 relationship to aspnetusers. I've created a view to manage customer data. </p>\n\n<p>Here is my HttpPost ActionResult:</p>\n\n<pre><code>    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public async Task&lt;ActionResult&gt; AddCard(External.Stripe.Customer customer)\n    {\n        if (!ModelState.IsValid)\n        {\n            return View(customer);\n        }\n\n        External.Stripe.CustomerOperations co = new External.Stripe.CustomerOperations();\n        customer = co.Create(customer);\n\n        var user = UserManager.FindById(User.Identity.GetUserId());\n        customer.UserId = user.Id;\n\n        var context = new External.Stripe.CustomerContext();\n\n\n        context.Customers.Add(customer);\n        context.SaveChanges();\n\n        return RedirectToAction(\"Index\", \"Manage\");\n    }\n</code></pre>\n\n<p>I feel like I'm going down the wrong path, because if I make any updates to the customer  model, I actually need to check EF if my key already exists, and if it does, run an update instead. I figured EF would have a native way of saving my model if it needs to be updated. I also don't know if this is even where I would persist my model, or if it is better placed somewhere else in my code.</p>\n"}, {"tags": ["c#", ".net", "visual-studio-2013", "assemblies"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1431549774, "post_id": 30224789, "comment_id": 48553440, "body": "Make very sure that the top project (FP) also is not signed."}, {"owner": {"reputation": 5000, "user_id": 3856907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ub3wd.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/3856907/erik"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1431549829, "post_id": 30224789, "comment_id": 48553470, "body": "It&#39;s not. I&#39;ve unchecked the &quot;sign this assembly&quot; box for all projects in the solution. I&#39;ve verified and reverified it for FP. It&#39;s driving me nuts."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1431550004, "post_id": 30224789, "comment_id": 48553563, "body": "To be clear, they were signed before? It&#39;s one of those shouldn&#39;t happen things. Clean, Rebuild, Restart VS, Restart PC, Reinstall, Reformat. In that order."}, {"owner": {"reputation": 5000, "user_id": 3856907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ub3wd.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/3856907/erik"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1431550042, "post_id": 30224789, "comment_id": 48553588, "body": "Yeah, they were signed before."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 2, "creation_date": 1431550304, "post_id": 30224789, "comment_id": 48553717, "body": "Well, something got stuck. Pay close attention to the Ouptut window when compiling and/or use MsBuild. Also clean your folders very thoroughly, and reverify all references etc. Search for duplicates of those DLLs, etc. You have a misconfiguration. Always at a place you&#39;re sure is fine / not involved."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1431566527, "post_id": 30224789, "comment_id": 48559261, "body": "There is no programming question here. You simply need to go back and double-check everything. <i>Something</i> is still requiring a signed assembly; there&#39;s not enough context for anyone except you to figure out what that is."}], "owner": {"reputation": 5000, "user_id": 3856907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ub3wd.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/3856907/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1391, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1431549625, "creation_date": 1431549625, "question_id": 30224789, "link": "https://stackoverflow.com/questions/30224789/referenced-assembly-does-not-have-strong-name-and-it-shouldnt", "title": "Referenced assembly does not have strong name, and it shouldn&#39;t", "body": "<p>I'm trying to do instrumented profiling in Visual Studio. Since it has to instrument the binaries, I have turned off assembly signing in all the assemblies in my project. </p>\n\n<p>However, when building, a couple of my assemblies are getting this error: <code>Assembly generation failed -- Referenced assembly XXX does not have a strong name</code>. <strong>The assemblies being compiled are not signed.</strong> I've already turned that off.</p>\n\n<p>To be specific, I have assemblies: NEL, NC, FP, SR, which depend on each other in that order (NC depends on NEL, FP depends on NC and NEL, etc). I have turned off signing in all the assemblies. FP is complaining that NEL and NC do not have strong names. This does not make any sense to me, since FP is not being signed it should not have any trouble referencing another unsigned assembly. Also, NC does not complain about NEL being unsigned.</p>\n\n<p>I've done several clean->rebuild cycles. This does not fix the problem.</p>\n\n<p>I've tried removing the references in VS and readding them. This did not help.</p>\n\n<p>I've checked in the <code>FP.csproj</code> file and found <code>&lt;SignAssembly&gt;false&lt;/SignAssembly&gt;</code>, as expected, and nothing else that would indicate to me that the assembly should be signed.</p>\n\n<p>Existing solutions on stackoverflow point to ways to sign the assembly. This is not what I want to do; I want to have my assemblies be unsigned so that VS can instrument them for profiling.</p>\n\n<p>So how do I fix this, so I can build all my assemblies unsigned and use the instrumenting profiler? </p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431549492, "post_id": 30224723, "comment_id": 48553304, "body": "You want to make the <code>XmlDocument</code> object accept an invalid Xml document? Can you post some of the Xml document that is invalid?"}, {"owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431549572, "post_id": 30224723, "comment_id": 48553344, "body": "This is the XmlDocument  -&gt;            &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;  &lt;personas&gt; &lt;nombre&gt;Pablo&lt;/nombre&gt; &lt;edad&gt; 34 &amp; 34 &lt;/edad&gt; &lt;/personas&gt;"}, {"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 0, "creation_date": 1431549863, "post_id": 30224723, "comment_id": 48553496, "body": "Are you able to load the Xml file into memory and parse out any erroneous information? I.e. convert the ampersands (<code>&amp;</code>) to the appropriate escape sequences?"}, {"owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 0, "creation_date": 1431549869, "post_id": 30224723, "comment_id": 48553498, "body": "I can only modify the document through Visual c#"}], "answers": [{"comments": [{"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 1, "creation_date": 1431550826, "post_id": 30225040, "comment_id": 48553988, "body": "As a purist I have to warn against the blanket replacements of ampersands (<code>&amp;</code>) with the escape (<code>&amp;amp</code>): who knows what ampersands in the XML are already escaped, or worse: escape something else."}, {"owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 0, "creation_date": 1431551044, "post_id": 30225040, "comment_id": 48554110, "body": "Visual c# say me that &#39;File&#39; don&#180;t exit, What I do?"}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "reply_to_user": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 0, "creation_date": 1431551191, "post_id": 30225040, "comment_id": 48554200, "body": "@EBrown: I agree. In such case the only solution would be probably a custom XML parser, which could be a tedious task to do."}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "reply_to_user": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 0, "creation_date": 1431551359, "post_id": 30225040, "comment_id": 48554280, "body": "@garci: I have updated the code in the answer according to your question."}, {"owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 0, "creation_date": 1431551384, "post_id": 30225040, "comment_id": 48554289, "body": "It is a error in the program, and I can not run the program"}, {"owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 0, "creation_date": 1431551715, "post_id": 30225040, "comment_id": 48554494, "body": "Visual c# say me in &#39;File.&#39;, the name &#39;File&#39; not exist in the actual context"}, {"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "reply_to_user": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "edited": false, "score": 1, "creation_date": 1431607606, "post_id": 30225040, "comment_id": 48577089, "body": "@garci You should add a <code>using System.IO;</code> at the top of the <code>.cs</code> file. If you don&#39;t have a basic enough understanding of Visual Studio, C# or .NET to make this determination, I recommend you read some tutorials on it: <a href=\"https://msdn.microsoft.com/en-us/library/aa288436%28v=vs.71%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa288436%28v=vs.71%29.aspx</a>"}, {"owner": {"reputation": 530, "user_id": 2723135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GANQC.png?s=128&g=1", "display_name": "gramgram", "link": "https://stackoverflow.com/users/2723135/gramgram"}, "edited": false, "score": 0, "creation_date": 1573460837, "post_id": 30225040, "comment_id": 103876236, "body": "As @420_Gone mentioned, you have to take care about signs already escaped and possible special chars like &amp;nbsp;... it becomes $amp;nbsp; It&#39;s far from ideal."}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "reply_to_user": {"reputation": 530, "user_id": 2723135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GANQC.png?s=128&g=1", "display_name": "gramgram", "link": "https://stackoverflow.com/users/2723135/gramgram"}, "edited": false, "score": 0, "creation_date": 1573508032, "post_id": 30225040, "comment_id": 103897339, "body": "@gramgram I agree. My answer offers a very basic and quick solution."}], "tags": [], "owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "is_accepted": true, "score": 3, "last_activity_date": 1431551290, "last_edit_date": 1431551290, "creation_date": 1431550659, "answer_id": 30225040, "question_id": 30224723, "link": "https://stackoverflow.com/questions/30224723/can-not-read-xml-document-containing-ampersand-symbol/30225040#30225040", "title": "Can not read XML document containing ampersand symbol", "body": "<p>As @EBrown suggested, one possibility would be read the file content in a string variable and replace the <code>&amp;</code> symbol with the correct representation for propert XML <code>&amp;amp;</code> and then parse the XML structure. A possible solution could look like this:</p>\n\n<pre><code>var xmlContent = File.ReadAllText(@\"nuevo.xml\");\nXmlDocument doc;\ndoc = new XmlDocument();\ndoc.LoadXml(xmlContent.Replace(\"&amp;\", \"&amp;amp;\"));\n\nXmlNodeList Xpersonas = doc.GetElementsByTagName(\"personas\");\nXmlNodeList Xlista = ((XmlElement)Xpersonas[0]).GetElementsByTagName(\"edad\");\n\nforeach (XmlElement nodo in Xlista)\n{\n    string edad = nodo.GetAttribute(\"edad\");\n    string nombre = nodo.InnerText;\n    Console.WriteLine(nodo.InnerXml.Replace(\"&amp;amp;\", \"&amp;\"));\n}\n</code></pre>\n\n<p>The output is: </p>\n\n<pre><code>34 &amp; 34 \n</code></pre>\n\n<p>If it is ok to use LINQ2XML, then the solution is even shorter, and there is no need to write the reverse(second) replace, because LINQ2XML make this for you automatically:</p>\n\n<pre><code>var xmlContent = File.ReadAllText(@\"nuevo.xml\");\nvar xmlDocument = XDocument.Parse(xmlContent.Replace(\"&amp;\", \"&amp;amp;\"));\nvar edad = xmlDocument.Root.Element(\"edad\").Value;\nConsole.WriteLine(edad);\n</code></pre>\n\n<p>The output is the same as above.</p>\n"}], "owner": {"reputation": 87, "user_id": 4897411, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0935594ba8402758fd23280df35ea166?s=128&d=identicon&r=PG&f=1", "display_name": "garci", "link": "https://stackoverflow.com/users/4897411/garci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4548, "favorite_count": 0, "accepted_answer_id": 30225040, "answer_count": 1, "score": 5, "last_activity_date": 1431551290, "creation_date": 1431549380, "last_edit_date": 1431550974, "question_id": 30224723, "link": "https://stackoverflow.com/questions/30224723/can-not-read-xml-document-containing-ampersand-symbol", "title": "Can not read XML document containing ampersand symbol", "body": "<p>I am writing a program that reads a XML file with Visual C#. I have a problem reading the Xml file, because it contains invalid XML symbols, for example '&amp;'. </p>\n\n<p>I have to read the XML but I can not modify the document. How can I modify the Xml file using C#? My code so far:</p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n    {\n        XmlDocument doc;\n        doc = new XmlDocument();\n        doc.Load(\"nuevo.xml\");\n\n\n        XmlNodeList Xpersonas = doc.GetElementsByTagName(\"personas\");\n        XmlNodeList Xlista = ((XmlElement)Xpersonas[0]).GetElementsByTagName(\"edad\");\n\n            foreach (XmlElement nodo in Xlista)\n            {\n                string edad = nodo.GetAttribute(\"edad\");\n                string nombre = nodo.InnerText;\n                textBox1.Text = nodo.InnerXml;\n            }\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "winforms", "timer", "dispose"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1431549582, "post_id": 30224717, "comment_id": 48553353, "body": "Try removing the event first, <code>updateStuff.Elapsed -= updateStuff_Elapsed;</code> then proceed with the disposal code. This should probably be done in the <code>FormClosing</code> method though, and just call <code>updateStuff.Dispose</code> in the <code>Dispose</code> method."}, {"owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431550265, "post_id": 30224717, "comment_id": 48553694, "body": "I tried calling <code>updateStuff.Elapsed -= updateStuff_Elapsed</code> before stopping, closing, disposing the timer, no luck. My forms application does not appear to have a FormClosing method, is that a method of the form class from which form1 is subclassed?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431550356, "post_id": 30224717, "comment_id": 48553741, "body": "You have to add an override for it. In your form class, start typing <code>override</code> and you&#39;ll see the <code>OnFormClosing</code> in the list of methods, select it to create an override and put the code in there. Alternatively you can create an event in the constructor for the <code>FormClosing</code> event, but you should override it instead of using internal events like that."}, {"owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431550852, "post_id": 30224717, "comment_id": 48554004, "body": "IT WORKS!! I just typed in override, found the OnFormClosing event, pressed tab and visual studio took care of everything. Wow. Thanks Ron."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 1, "creation_date": 1431552002, "post_id": 30224717, "comment_id": 48554609, "body": "Do not embed answers, particularly those based on someone else&#39;s, into your question. If you have your own answer and is sufficiently different to others then post it as an answer below"}], "answers": [{"comments": [{"owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "edited": false, "score": 0, "creation_date": 1431550345, "post_id": 30224914, "comment_id": 48553732, "body": "Ok, I will try to figure out how to expose that event in my code and stop the timer from within it."}], "tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431550117, "creation_date": 1431550117, "answer_id": 30224914, "question_id": 30224717, "link": "https://stackoverflow.com/questions/30224717/how-to-prevent-timer-elapsed-event-from-occurring-if-forms-application-closes-c/30224914#30224914", "title": "How to prevent Timer Elapsed event from occurring if forms application closes C#", "body": "<p>Handling the dispose event is too late (which is during the garbage collection).  You need to perform the cleanup process on the FormClosing event.</p>\n"}, {"comments": [{"owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "edited": false, "score": 0, "creation_date": 1431555669, "post_id": 30225700, "comment_id": 48556287, "body": "Very elegant solution, it works. Happy to find two solutions to the same problem."}], "tags": [], "owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "is_accepted": true, "score": 3, "last_activity_date": 1431553457, "creation_date": 1431553457, "answer_id": 30225700, "question_id": 30224717, "link": "https://stackoverflow.com/questions/30224717/how-to-prevent-timer-elapsed-event-from-occurring-if-forms-application-closes-c/30225700#30225700", "title": "How to prevent Timer Elapsed event from occurring if forms application closes C#", "body": "<p>As stated in documentation for <a href=\"https://msdn.microsoft.com/en-us/library/system.timers.timer.aspx\" rel=\"nofollow\">System.Timers.Timer</a>, Timer's event handler calls are queued on ThreadPool thread. Therefore you must assume that event handler can be called multiple times at once or can be called after Timer is disabled. So event handler must be designed to handle these situations properly. </p>\n\n<p>First, set <a href=\"https://msdn.microsoft.com/en-us/library/system.timers.timer.synchronizingobject.aspx\" rel=\"nofollow\">SynchronizingObject</a> property of timer to instance of Form. This will marshall all calls of event handler to UI thread, so we don't need to bother with locking of form fields (we will always access everything from the same UI thread). With this property set, you also don't need to call this.Invoke(...) in setText method.</p>\n\n<pre><code>public Form1()\n{\n    updateStuff = new System.Timers.Timer();\n    updateStuff.SynchronizingObject = this;\n    ...\n}\n\npublic void setText(string text)\n{\n    lblTest.Text = text;\n}\n</code></pre>\n\n<p>Then create flag, that will let you know, wheather timer has been disposed or not. Then simply check this flag in event handler:</p>\n\n<pre><code>partial class Form1 \n{\n    private bool Disposed;\n    ....\n}\n\nprotected override void Dispose(bool disposing)\n{\n    if (disposing &amp;&amp; (components != null))\n    {\n            updateStuff.Dispose();\n            Disposed = true;\n    }\n\n    base.Dispose(disposing);\n}\n\nprivate void updateStuff_Elapsed(object sender, System.Timers.ElapsedEventArgs e)\n{\n    if(!Disposed)\n    {\n          if (!channel.isOffline)\n          {\n              object[] status = channel.GetACRCustom(\"P6144\");\n              setText(System.Convert.ToString(status[0]));\n          }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1431557111, "post_id": 30226237, "comment_id": 48556767, "body": "Disposing Timer in OnFormClosing method IMHO doesn&#39;t solve the problem. At best, it makes problem more unlikely to happen (or in other words it increases probability that all queued event handler calls will finish before Form is disposed), but it doesn&#39;t guarantee proper functionality."}], "tags": [], "owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "is_accepted": false, "score": 0, "last_activity_date": 1431555990, "creation_date": 1431555990, "answer_id": 30226237, "question_id": 30224717, "link": "https://stackoverflow.com/questions/30224717/how-to-prevent-timer-elapsed-event-from-occurring-if-forms-application-closes-c/30226237#30226237", "title": "How to prevent Timer Elapsed event from occurring if forms application closes C#", "body": "<p>To expand on what Ron and Marc said,\nThe solution was to override the <code>OnFormClosing</code> method of the class <code>Form</code> from which <code>Form1</code> is subclassed:</p>\n\n<pre><code>    protected override void OnFormClosing(FormClosingEventArgs e)\n    {\n        //It appears it needs everything here to be turned off...amazing.\n        updateStuff.Elapsed -= updateStuff_Elapsed;\n        updateStuff.AutoReset = false;\n        updateStuff.Stop();\n        updateStuff.Dispose();\n        base.OnFormClosing(e);\n    }\n</code></pre>\n\n<p>The other solution is to put the timer on the same thread as the user interface, as Nuf stated.</p>\n"}], "owner": {"reputation": 1377, "user_id": 3277889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0cfdedc7a964f0be935e8823188be028?s=128&d=identicon&r=PG&f=1", "display_name": "OrangeSherbet", "link": "https://stackoverflow.com/users/3277889/orangesherbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 30225700, "answer_count": 3, "score": 4, "last_activity_date": 1431555990, "creation_date": 1431549356, "last_edit_date": 1431555749, "question_id": 30224717, "link": "https://stackoverflow.com/questions/30224717/how-to-prevent-timer-elapsed-event-from-occurring-if-forms-application-closes-c", "title": "How to prevent Timer Elapsed event from occurring if forms application closes C#", "body": "<p>I have a timer in a windows forms application (Visual C#) that is causing problems when I want to exit the application.</p>\n\n<p>The timer is defined as a member of the form's class:</p>\n\n<pre><code> partial class Form1 \n     {\n        //These are the members in question:\n        internal ComACRServerLib.Channel channel;\n        private System.Timers.Timer updateStuff;\n     }\n</code></pre>\n\n<p>The timer is declared/constructed in the form application's constructor:</p>\n\n<pre><code>public Form1()\n        {\n            InitializeComponent();\n            updateStuff = new System.Timers.Timer();\n            updateStuff.Elapsed += new System.Timers.ElapsedEventHandler(updateStuff_Elapsed);\n        }\n</code></pre>\n\n<p>The timer is started and configured with a push of a button:</p>\n\n<pre><code> private void btnAcquire_Click(object sender, EventArgs e)\n    {\n        updateStuff.Interval = 100;\n        updateStuff.Enabled = true;\n        updateStuff.AutoReset = true;\n        updateStuff.Start();\n    }\n</code></pre>\n\n<p>When the timer elapses, it calls <code>updateStuff_Elapsed</code>, which gets information to be displayed with <code>setText</code>(there's some code to make sure the call to <code>setText</code> is thread-safe).</p>\n\n<pre><code> private void updateStuff_Elapsed(object sender, System.Timers.ElapsedEventArgs e)\n       {\n              if (!channel.isOffline)\n              {\n                  object[] status = channel.GetACRCustom(\"P6144\");\n                  setText(System.Convert.ToString(status[0]));\n              }\n       }\n\n public delegate void setTextDelegate(string text);\n\n public void setText(string text)\n       {\n             if (this.lblTest.InvokeRequired == true)\n             {\n                  setTextDelegate d = new setTextDelegate(setText);\n                  this.Invoke(d, new object[] { text });\n             }\n             else\n             {\n                  lblTest.Text = text;\n             }\n       }\n</code></pre>\n\n<p>On application exit I try to get rid of the timer and prevent it from firing again with the following:</p>\n\n<pre><code>protected override void Dispose(bool disposing)\n        {\n\n            if (disposing &amp;&amp; (components != null))\n            {\n                updateStuff.AutoReset = false;\n                updateStuff.Stop();\n                updateStuff.Close();\n                updateStuff.Dispose();\n\n                components.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n</code></pre>\n\n<p>But if the timer is autorunning and I exit the program, I always get errors that the routine called by the Timer Elapsed event <code>updateStuff_elapsed</code>is attempting to use resources that have been disposed already! Even though I have tried my best to stop and destroy the timer before disposal occurs.</p>\n\n<p>How do I stop the timer from firing when the application closes??</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I tried moving the <code>Dispose</code> code around to try to force the timer to close but no luck. I also tried using <code>updateStuff.Elapsed -= updateStuff_Elapsed</code> to remove the event call before stopping and disposing;</p>\n\n<pre><code>protected override void Dispose(bool disposing)\n        {\n            //now this code HAS to run always.\n            updateStuff.Elapsed -= updateStuff_Elapsed;\n            updateStuff.AutoReset = false;\n            updateStuff.Stop();\n            updateStuff.Close();\n            updateStuff.Dispose();\n\n            if (disposing &amp;&amp; (components != null))\n            {           \n                components.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431550544, "post_id": 30224714, "comment_id": 48553840, "body": "Please be a bit more clear, you can certainly create user controls (and even inherit from button, though I doubt you <i>really</i> want to do that). Could you clarify where you are struggling?"}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431551017, "post_id": 30224714, "comment_id": 48554089, "body": "Okay, I guess you know that you can create those templates for every widget (type) in wpf. In my app I&#39;ve created a border with a textbox. But now I want to create type with those widgets. So I can import it and use it so often I want. I hope it was a good explanation ... Well I&#39;ll upload a picture."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431551703, "post_id": 30224714, "comment_id": 48554483, "body": "I think I kind of get it. Let me know if my answer helps! Also, please edit that comment&#39;s information into your post, it does help clarify it. If you post a link to the image I&#39;ll upload for you."}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431552105, "post_id": 30224714, "comment_id": 48554670, "body": "<a href=\"http://de.tinypic.com/r/2zgx2r9/8\" rel=\"nofollow noreferrer\">de.tinypic.com/r/2zgx2r9/8</a> Heres my picture"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1431552286, "post_id": 30224714, "comment_id": 48554766, "body": "Answer is still the same, but I added it in for you :)"}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1431552529, "post_id": 30225322, "comment_id": 48554897, "body": "Ahh ... I think I&#39;ve understand the first example. I will test it :P brb"}, {"owner": {"reputation": 3179, "user_id": 3836669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d7a1723055a47768715c1322cb6683?s=128&d=identicon&r=PG&f=1", "display_name": "kidshaw", "link": "https://stackoverflow.com/users/3836669/kidshaw"}, "edited": false, "score": 0, "creation_date": 1431552617, "post_id": 30225322, "comment_id": 48554945, "body": "Templates looks the way to go."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 3179, "user_id": 3836669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d7a1723055a47768715c1322cb6683?s=128&d=identicon&r=PG&f=1", "display_name": "kidshaw", "link": "https://stackoverflow.com/users/3836669/kidshaw"}, "edited": false, "score": 0, "creation_date": 1431552668, "post_id": 30225322, "comment_id": 48554962, "body": "@kidshaw Usually yes, <code>UserControl</code> is very commonly misused in WPF."}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1431553481, "post_id": 30225322, "comment_id": 48555332, "body": "Exception: An object of the type &quot;System.Windows.DataTemplate&quot; cannot be applied to a property that expects the type &quot;System.Windows.Controls.ControlTemplate&quot;.                                       I tried &lt;Button Template=&quot;{StaticResource myDataTemp&quot;/&gt; but it gave me this error :("}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1431554538, "post_id": 30225322, "comment_id": 48555768, "body": "@Sens4 Not really what I meant... That property expects a <code>ControlTemplate</code> which you <i>could</i> create though there is no reason to. I&#39;ll add an example that will help. You just need to use the <code>ContentTemplate</code>"}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 4, "last_activity_date": 1431555538, "last_edit_date": 1431555538, "creation_date": 1431551686, "answer_id": 30225322, "question_id": 30224714, "link": "https://stackoverflow.com/questions/30224714/wpf-create-your-own-type/30225322#30225322", "title": "WPF create your own type", "body": "<p>There are two approaches to this, each with their own pros and cons:</p>\n\n<p><strong>Templates</strong> allow you to reuse a section of XAML. There is (almost always) no code-behind, and you certainly won't be deriving from <code>Button</code>. For example, if you wanted to have a bordered text box repeated in an <code>ItemsControl</code>:</p>\n\n<pre><code>&lt;DataTemplate x:Key=\"MyDataTemplate\"&gt;\n    &lt;Border&gt;\n        &lt;TextBox/&gt;\n    &lt;/Border&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>Or in a button class you use <code>ContentTemplate</code>:</p>\n\n<pre><code>&lt;Button ContentTemplate={StaticResource MyTemplate}&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>And you would use it as <code>XTemplate=\"{StaticResource MyDataTemplate}\"</code> in an existing control that used templates. This is <em>usually</em> the way to go. Note that the name of the property won't be <code>Template</code>, but <code>ItemTemplate</code>, or <code>ContentTemplate</code> or something similar.</p>\n\n<p>The exception is if you want custom <em>behavior</em>, in which case you use a <strong>UserControl</strong>. This technically could inherit from <code>Button</code> though you usually wouldn't. Subclassing a basic control should only be done if you are sure you actually want to do that. Once your user control is created, the syntax would look similar to what you have in your question:</p>\n\n<pre><code>&lt;local:MyButton&gt;\n&lt;/local:MyButton&gt;\n</code></pre>\n\n<p>Note that \"local\" is a made-up xmlns. Your user control would consist of whatever controls you wanted, and you can expose \"attributes\" to the using code via dependency properties.  </p>\n"}], "owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447356663, "creation_date": 1431549338, "last_edit_date": 1431552197, "question_id": 30224714, "link": "https://stackoverflow.com/questions/30224714/wpf-create-your-own-type", "title": "WPF create your own type", "body": "<p>I want to create a template (resource dictionary) for my app. where my type inherits the button type and I then can call it through:</p>\n\n<pre><code>&lt;my-custom-type inherit from button&gt;\n&lt;/my-custom-type inherit from button&gt;\n</code></pre>\n\n<p>And of course in WPF.</p>\n\n<p>More specifically, I would like to create copies of the control in the image below with simple XAML syntax as above.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Nibq7.png\" alt=\"button\"></p>\n"}, {"tags": ["c#", "random", "numbers"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "edited": false, "score": 0, "creation_date": 1431550604, "post_id": 30224782, "comment_id": 48553874, "body": "AH, thank you both, I completely blanked on for (int i = 0; i &lt; input.Length; i++) for some reason. Didn&#39;t know about string builder, but it rings a bell. I&#39;ll have to recheck my notes."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "edited": false, "score": 0, "creation_date": 1431555063, "post_id": 30224782, "comment_id": 48556015, "body": "<code>StringBuilder</code> is a more efficient way to concatenate strings (using <code>.Append</code>), but the type of <code>newString</code> could be changed to a <code>string</code>, and then in the body of the <code>for</code> you could just do <code>newString += rnd.Next(10).ToString();</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "edited": false, "score": 0, "creation_date": 1431555315, "post_id": 30224782, "comment_id": 48556123, "body": "One other thing to note, is that the creation of <code>Random</code> should really be outside of this method. If you call this method with the same string in rapid succession, they will all end up with the same random characters. I will update the answer to reflect a better way."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1431555893, "last_edit_date": 1431555893, "creation_date": 1431549594, "answer_id": 30224782, "question_id": 30224685, "link": "https://stackoverflow.com/questions/30224685/replacing-string-with-a-series-of-randomly-generated-numbers/30224782#30224782", "title": "Replacing string with a series of randomly generated numbers", "body": "<p>Not sure I completely understood, but it sounds like you want a method that returns a string of random numbers that is the same length as th input string? If so, this should work:</p>\n\n<pre><code>private static Random _rnd = new Random();\n\npublic static string ReplaceCharactersWithRandomNumbers(string input)\n{\n    if (input == null) return null;\n\n    var newString = new StringBuilder();\n\n    for (int i = 0; i &lt; input.Length; i++)\n    {\n        newString.Append(_rnd.Next(10));\n    }\n\n    return newString.ToString();\n}\n</code></pre>\n\n<p><strong>Update</strong> </p>\n\n<p>I modified the code to initialize the <code>Random</code> outside the method. This will ensure unique numbers each time you call it. If the object is initialized in the method, it may get seeded with the same value each time it's called, and will generate the same numbers each time.</p>\n\n<p>If you want to be tricky, here's a one-line way to do it:</p>\n\n<pre><code>private static readonly Random Rnd = new Random();\n\npublic static string ReplaceCharactersWithRandomNumbers(string input)\n{\n    return input == null ? null : string.Join(\"\", input.Select(c =&gt; Rnd.Next(10)));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": -1, "last_activity_date": 1431549609, "creation_date": 1431549609, "answer_id": 30224783, "question_id": 30224685, "link": "https://stackoverflow.com/questions/30224685/replacing-string-with-a-series-of-randomly-generated-numbers/30224783#30224783", "title": "Replacing string with a series of randomly generated numbers", "body": "<p>You need to enumerate the string and rebuild the entire string.  It looks like your input string is a set of tokens separated with tee (\"|\") marks.  I use the StringBuilder because concatenation of a lot of strings is slow in .NET.</p>\n\n<p>Try this ... or something similar:</p>\n\n<pre><code>    public static string ScrubData(string line)\n    {\n        string[] words = line.Split('|');\n        System.Text.StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; words.Length; i++)\n        {\n            sb.Append(GetRandomNumber().ToString());\n            if (i + 1 &lt; words.Length)\n                sb.Append(\"|\");\n        }\n        return sb.ToString();\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4288898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff5fac7dd338b177d4a1eed330aefb?s=128&d=identicon&r=PG&f=1", "display_name": "Action Frank", "link": "https://stackoverflow.com/users/4288898/action-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1431549391, "answer_count": 2, "score": 0, "last_activity_date": 1431555893, "creation_date": 1431549234, "last_edit_date": 1431549625, "question_id": 30224685, "link": "https://stackoverflow.com/questions/30224685/replacing-string-with-a-series-of-randomly-generated-numbers", "closed_reason": "Duplicate", "title": "Replacing string with a series of randomly generated numbers", "body": "<p>I'm trying to create a scrubbing program and I'm stuck on a bit where I have to generate a set of random numbers to replace a string of numbers and while I can get the random number once, I can't seem to figure out how to make it replace the entire nine character string. </p>\n\n<pre><code>public static int GetRandomNumber()\n        {\n            Random rnd = new Random();\n            // creates a number between 0 and 9\n            int ranNum = rnd.Next(10);\n            return ranNum;\n        }\n</code></pre>\n\n<p>I know it has something to do with checking against the string length and repeating until it replaces the entire string but I can't for the life of me remember how and googling is a bit too non-specific. The string itself is being pulled from a text file and has been split into an array.</p>\n\n<pre><code>public static string[] ScrubData(string line)\n        {\n            string[] words = line.Split('|');\n            replaceData(words);\n            MessageBox.Show(words[0] + words[2]);\n            return words;\n        }\n\n        private static void replaceData(string[] words)\n        {\n\n            words[0] = Convert.ToString(GetRandomNumber());            \n        }\n</code></pre>\n\n<p>I know someone already asked a similar question, but I have no idea what \"lock\" is or how to connect their question with mine.</p>\n"}, {"tags": ["c#", "types", "type-conversion", "boxing", "unboxing"], "comments": [{"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431549284, "post_id": 30224655, "comment_id": 48553215, "body": "your mixing things up. public belongs in the class declaration not in the body of a method"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431549294, "post_id": 30224655, "comment_id": 48553218, "body": "You can define objects at the class level, but you can&#39;t perform operations on them. The last two lines are not valid in the class level, they need to go inside a method body. It would be much more apparent if you posted the entire class snippet rather than just a few lines of it."}], "answers": [{"tags": [], "owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "is_accepted": true, "score": 1, "last_activity_date": 1431960784, "last_edit_date": 1431960784, "creation_date": 1431549452, "answer_id": 30224743, "question_id": 30224655, "link": "https://stackoverflow.com/questions/30224655/assign-predefined-variables-value-to-object-type-variable-in-boxing-and-unboxin/30224743#30224743", "title": "Assign Predefined Variable&#39;s Value To Object Type Variable In Boxing And UnBoxing Actions", "body": "<p>You need some sort of structure to your code:</p>\n\n<pre><code>class foo\n{  \n    public int I = 123; // is okay\n    /*The following line boxes i.*/ \n    public object O = new object();\n\n    foo()\n    {\n        // operations in a body\n        O = 123;\n        I = (int)O;  // unboxing\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2091, "user_id": 2223556, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MKRHV.jpg?s=128&g=1", "display_name": "Eyal Perry", "link": "https://stackoverflow.com/users/2223556/eyal-perry"}, "is_accepted": false, "score": 0, "last_activity_date": 1431549665, "creation_date": 1431549665, "answer_id": 30224800, "question_id": 30224655, "link": "https://stackoverflow.com/questions/30224655/assign-predefined-variables-value-to-object-type-variable-in-boxing-and-unboxin/30224800#30224800", "title": "Assign Predefined Variable&#39;s Value To Object Type Variable In Boxing And UnBoxing Actions", "body": "<p>It seems to me that the lines of code are within the class declaration.\nYou can declare and initialize variables there, which you do in the first two lines. You can not, however, do more than that in the class scope.</p>\n\n<p>The last two lines are valid only within the scope of a method.</p>\n"}], "owner": {"reputation": 306, "user_id": 1708323, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q0Z5R.jpg?s=128&g=1", "display_name": "Mert &#214;zo\u011ful", "link": "https://stackoverflow.com/users/1708323/mert-%c3%96zo%c4%9ful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 30224743, "answer_count": 2, "score": 0, "last_activity_date": 1431960784, "creation_date": 1431549104, "last_edit_date": 1431549284, "question_id": 30224655, "link": "https://stackoverflow.com/questions/30224655/assign-predefined-variables-value-to-object-type-variable-in-boxing-and-unboxin", "title": "Assign Predefined Variable&#39;s Value To Object Type Variable In Boxing And UnBoxing Actions", "body": "<p>I want to examine boxing and unboxing actions in C#. I defined variables in user defined class (it is my class). But when i want to use predefined varibles and then the strange error is occured. My code block like as below.</p>\n\n<pre><code>   public int i = 123;\n   /*The following line boxes i.*/ \n   public object o = i; \n   o = 123;\n   i = (int)o;  // unboxing\n</code></pre>\n\n<p>When i test this code to see boxing and unboxing action in C# and then the following error is occurred. </p>\n\n<pre><code>Error   3   Invalid token ')' in class, struct, or interface member declaration \nError   4   Invalid token ';' in class, struct, or interface member declaration \nError   1   Invalid token '=' in class, struct, or interface member declaration \nError   2   Invalid token '=' in class, struct, or interface member declaration\n</code></pre>\n\n<p>I've never met such a mistake. I just want to use variables which i defined previously in user defined class (my class). </p>\n"}, {"tags": ["c#", "biginteger"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 6, "creation_date": 1431548960, "post_id": 30224589, "comment_id": 48553047, "body": "Are you sure you need a number that large?"}, {"owner": {"reputation": 1803, "user_id": 3964723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8d4363c9d626aa266613f971246e70d?s=128&d=identicon&r=PG&f=1", "display_name": "austin wernli", "link": "https://stackoverflow.com/users/3964723/austin-wernli"}, "edited": false, "score": 0, "creation_date": 1431549056, "post_id": 30224589, "comment_id": 48553097, "body": "Duplicate of <a href=\"http://stackoverflow.com/questions/4582277/biginteger-powbiginteger?rq=1\" title=\"biginteger powbiginteger\">stackoverflow.com/questions/4582277/&hellip;</a>"}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1431549060, "post_id": 30224589, "comment_id": 48553098, "body": "I agree with @RufusL, <code>int</code> supports a maximum of ~2 billion, do you really need to raise something to the power of 2 billion?"}, {"owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "reply_to_user": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "edited": false, "score": 3, "creation_date": 1431573210, "post_id": 30224589, "comment_id": 48560762, "body": "@Matthew Yes. 2 billion isn&#39;t enough in order to calculate it."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431635187, "post_id": 30224589, "comment_id": 48594386, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1431549344, "post_id": 30224646, "comment_id": 48553237, "body": "And of course if he has a <code>BigInteger</code> value that just happens to be less than ~2 billion he can always cast it down to an <code>Int32</code> before passing it to <code>pow</code>, if that&#39;s his concern."}, {"owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "edited": false, "score": 0, "creation_date": 1431573600, "post_id": 30224646, "comment_id": 48560861, "body": "The number is too large to use int. Example of a large number to be calculated: <a href=\"http://en.wikipedia.org/wiki/Googleplex\" rel=\"nofollow noreferrer\">Googleplex</a>"}, {"owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "edited": false, "score": 2, "creation_date": 1431599607, "post_id": 30224646, "comment_id": 48572150, "body": "Googlepex can not be stored in memory as a number. It would consume memory beyond imagination (10^100 bytes). What do you need those numbers for and why can&#39;t handle them &quot;theoretically&quot; rather than actually storing the number?"}, {"owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "edited": false, "score": 1, "creation_date": 1431612046, "post_id": 30224646, "comment_id": 48580005, "body": "Googol is 10^100. But Googolplex is 10^10^100. Therefore, it cannot simply be calculated."}, {"owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "edited": false, "score": 2, "creation_date": 1431619696, "post_id": 30224646, "comment_id": 48585331, "body": "Well, you answered your own question then ;)"}], "tags": [], "owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "is_accepted": false, "score": 8, "last_activity_date": 1431549967, "last_edit_date": 1431549967, "creation_date": 1431549078, "answer_id": 30224646, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger/30224646#30224646", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>Just from the aspect of general maths, this doesn't make sense. That's why it's not implemented.</p>\n\n<p>Think of this example: Your <code>BigInteger</code> number is <strong>2</strong> and you need to potentiate it by 1024. This means that the result is a 1 KB number (2^1024). Now imagine you take <code>int.MaxValue</code>: Then, your number will consume 2 GB of memory already. Using a <code>BigInteger</code> as an exponent would yield a number beyond memory capacity!</p>\n\n<hr>\n\n<p>If your application requires numbers in this scale, where the number itself is too large for your memory, you probably want a solution that stores the number and the exponent separately, but that's something I can only speculate about since it's not part of your question.</p>\n\n<hr>\n\n<p>If your your issue is that your exponent variable is a <code>BigInteger</code>, you can just cast it to int:</p>\n\n<pre><code>BigInteger.Pow(bigInteger, (int)exponent); // exponent is BigInteger\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1048, "user_id": 1159805, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7cce584580a3b9493a242a9935afa201?s=128&d=identicon&r=PG", "display_name": "Eric Dand", "link": "https://stackoverflow.com/users/1159805/eric-dand"}, "is_accepted": false, "score": 1, "last_activity_date": 1431549406, "creation_date": 1431549406, "answer_id": 30224732, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger/30224732#30224732", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>As others have pointed out, raising something to a power higher than the capacity of <code>int</code> is bad news. However, assuming you're aware of this and are just being given your exponent in the form of a <code>BigInteger</code>, you can just cast to an <code>int</code> and proceed on your merry way:</p>\n\n<pre><code>BigInteger.Pow(myBigInt, (int)myExponent);\n</code></pre>\n\n<p>or, even better,</p>\n\n<pre><code>try\n{\n    BigInteger.Pow(myBigInt, (int)myExponent);\n}\ncatch (OverflowException)\n{\n    // Do error handling and stuff.\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "edited": false, "score": 2, "creation_date": 1431551788, "post_id": 30225002, "comment_id": 48554526, "body": "You&#39;re funny :D Maybe in a thousand years, someone will stumble upon this post and laugh at us having just a few gigs of RAM..."}, {"owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "edited": false, "score": 0, "creation_date": 1431612637, "post_id": 30225002, "comment_id": 48580438, "body": "When I try to use this method, I get <code>Exception of type &#39;System.OutOfMemoryException&#39; was thrown.</code> Can I perform the action without throwing an exception?"}, {"owner": {"reputation": 792, "user_id": 1301192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cbd39a41ecac81f43a1577522336e43?s=128&d=identicon&r=PG", "display_name": "dog", "link": "https://stackoverflow.com/users/1301192/dog"}, "edited": false, "score": 0, "creation_date": 1431622822, "post_id": 30225002, "comment_id": 48587178, "body": "A computer with 1 bit of memory can store a number from 0 to 1, a computer with 100 bits of memory can store a number from 0 to (2^100)-1. The biggest number you could compute is about Pow(2,bits available). So the function above will not work if you don&#39;t have enough memory, hence the &#39;System.OutOfMemoryException&#39; exception."}, {"owner": {"reputation": 25698, "user_id": 58391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e59c8cc8b022a9ddd36b3821cf168b4f?s=128&d=identicon&r=PG", "display_name": "codekaizen", "link": "https://stackoverflow.com/users/58391/codekaizen"}, "edited": false, "score": 1, "creation_date": 1443568632, "post_id": 30225002, "comment_id": 53544223, "body": "1,152,921 terabytes should be enough for anyone."}], "tags": [], "owner": {"reputation": 792, "user_id": 1301192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cbd39a41ecac81f43a1577522336e43?s=128&d=identicon&r=PG", "display_name": "dog", "link": "https://stackoverflow.com/users/1301192/dog"}, "is_accepted": false, "score": 4, "last_activity_date": 1431551443, "last_edit_date": 1431551443, "creation_date": 1431550508, "answer_id": 30225002, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger/30225002#30225002", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>Pow(2, int64.MaxValue) requires 1,152,921 terabytes just to hold the number, for a sense of scale. But here's the function anyways, in case you have a really nice computer.</p>\n\n<pre><code>  static BigInteger Pow(BigInteger a, BigInteger b) {\n     BigInteger total = 1;\n     while (b &gt; int.MaxValue) {\n        b -= int.MaxValue ;\n        total = total * BigInteger.Pow(a, int.MaxValue);\n     }\n     total =  total * BigInteger.Pow(a, (int)b);\n     return total;\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 2, "creation_date": 1431635135, "post_id": 30246436, "comment_id": 48594361, "body": "And how long does it take to run this method on a number that&#39;s bigger than <code>long.MaxValue</code>?"}], "tags": [], "owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "is_accepted": false, "score": 0, "last_activity_date": 1431634219, "creation_date": 1431634219, "answer_id": 30246436, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger/30246436#30246436", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>I came up with: </p>\n\n<pre><code>public BigInteger Pow(BigInteger value, BigInteger exponent)\n{\n    BigInteger originalValue = value;\n    while (exponent-- &gt; 1)\n        value = BigInteger.Multiply(value, originalValue);\n    return value;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 3771755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e623a79609f27df6c9818d8a127813?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/3771755/marc"}, "is_accepted": false, "score": 1, "last_activity_date": 1557092114, "creation_date": 1557092114, "answer_id": 55996620, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger/55996620#55996620", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>For me the solution was to use the function <strong>BigInteger.ModPow(BigInteger value, BigInteger exponent, BigInteger modulus)</strong> because I needed to do a mod afterwards anyway.</p>\n\n<p>The function calculates a given BigInteger to the power of another BigInteger and calculates the modulo with a third BitInteger. \nAlthough it will still take a good amount of CPU Power it can be evaluated because the function already knows about the modulo and therefore can save a ton of memory.  </p>\n\n<p>Hope this might help some with the same question. </p>\n\n<p>Edit:\nIs available since .Net Framework 4.0 and is in .Net Standard 1.1 and upwards.</p>\n"}], "owner": {"reputation": 141, "user_id": 3920658, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oOQvZ.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/3920658/avi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4548, "favorite_count": 0, "answer_count": 5, "score": 6, "last_activity_date": 1557092114, "creation_date": 1431548836, "last_edit_date": 1431635180, "question_id": 30224589, "link": "https://stackoverflow.com/questions/30224589/biginteger-powbiginteger-biginteger", "title": "BigInteger.Pow(BigInteger, BigInteger)?", "body": "<p>I'm trying to calculate a large number, which requires <code>BigInteger.Pow()</code>, but I need the exponent to also be a <code>BigInteger</code> and not <code>int</code>.</p>\n\n<p>i.e.</p>\n\n<pre><code>BigInteger.Pow(BigInteger)\n</code></pre>\n\n<p>How can I achieve this?</p>\n\n<p><strong>EDIT:</strong> I came up with an answer. User <a href=\"https://stackoverflow.com/users/1301192/dog\">dog</a> helped me to achieve this.  </p>\n\n<pre><code>public BigInteger Pow(BigInteger value, BigInteger exponent)\n{\n    BigInteger originalValue = value;\n    while (exponent-- &gt; 1)\n        value = BigInteger.Multiply(value, originalValue);\n    return value;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "smtp"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1431549798, "post_id": 30224514, "comment_id": 48553454, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/704636/sending-email-through-gmail-smtp-server-with-c-sharp\">Sending email through Gmail SMTP server with C#</a>"}], "answers": [{"tags": [], "owner": {"reputation": 664, "user_id": 762063, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7642c55cf0efb052347851a02ddab7c6?s=128&d=identicon&r=PG", "display_name": "Sanjay Singh", "link": "https://stackoverflow.com/users/762063/sanjay-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1431561225, "creation_date": 1431561225, "answer_id": 30227093, "question_id": 30224514, "link": "https://stackoverflow.com/questions/30224514/not-able-to-send-mails-using-gmail-smtp-in-c/30227093#30227093", "title": "Not able to send mails using Gmail SMTP in C#", "body": "<p>I think you need to set usedefaultcredentials as false. Otherwise username /password that you set in network credentials will not be used.</p>\n"}, {"tags": [], "owner": {"reputation": 1123, "user_id": 3174436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vjqow.jpg?s=128&g=1", "display_name": "Brandon O&#39;Dell", "link": "https://stackoverflow.com/users/3174436/brandon-odell"}, "is_accepted": false, "score": 0, "last_activity_date": 1431562056, "last_edit_date": 1495541196, "creation_date": 1431562056, "answer_id": 30227216, "question_id": 30224514, "link": "https://stackoverflow.com/questions/30224514/not-able-to-send-mails-using-gmail-smtp-in-c/30227216#30227216", "title": "Not able to send mails using Gmail SMTP in C#", "body": "<p>You don't want to set UseDefaultCredentials to true for the SmtpClient as it will use the credentials of the currently logged in user, as per <a href=\"https://msdn.microsoft.com/en-us/library/system.net.mail.smtpclient.usedefaultcredentials%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.net.mail.smtpclient.usedefaultcredentials%28v=vs.110%29.aspx</a></p>\n\n<p>Also, it might make more sense to configure your settings via the web.config as any changes wont require recompilation and deployment of your code.  Similar question answered here: <a href=\"https://stackoverflow.com/questions/757987/send-email-via-c-sharp-through-google-apps-account\">Send Email via C# through Google Apps account</a></p>\n\n<p>If you choose to keep your smtp settings in code it should look like this:</p>\n\n<pre><code>mailMessage.From = new MailAddress(fromEmailAddress);\nmailMessage.Subject = \"Test\";\nmailMessage.Body = \"Manish\";\nmailMessage.IsBodyHtml = true;\nmailMessage.To.Add(new MailAddress(toEmailAddress));\nSmtpClient smtp = new SmtpClient(\"smtp.gmail.com\", 465);          \nsmtp.EnableSsl = true;\nsmtp.Credentials = new System.Net.NetworkCredential(userNAme, password);\nsmtp.Send(mailMessage);\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4897241, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gjcR7BJE6Z8/AAAAAAAAAAI/AAAAAAAAADc/oQim7Bb7csw/photo.jpg?sz=128", "display_name": "Manish Shukla", "link": "https://stackoverflow.com/users/4897241/manish-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1431765073, "creation_date": 1431548563, "last_edit_date": 1431765073, "question_id": 30224514, "link": "https://stackoverflow.com/questions/30224514/not-able-to-send-mails-using-gmail-smtp-in-c", "title": "Not able to send mails using Gmail SMTP in C#", "body": "<pre><code>mailMessage.From = new MailAddress(fromEmailAddress);\n        mailMessage.Subject = \"Test\";\n        mailMessage.Body = \"Manish\";\n        mailMessage.IsBodyHtml = true;\n        mailMessage.To.Add(new MailAddress(toEmailAddress));\n        SmtpClient smtp = new SmtpClient(\"smtp.gmail.com\", 465);          \n        smtp.EnableSsl = true;\n        System.Net.NetworkCredential NetworkCred = new System.Net.NetworkCredential();\n        NetworkCred.UserName = userNAme;\n        NetworkCred.Password = password;\n        smtp.UseDefaultCredentials = true;\n        smtp.Credentials = NetworkCred;\n        smtp.Send(mailMessage);\n</code></pre>\n\n<p>I am trying to configure Gmail SMTP and tried with both TSL and SSL but the above code is always throwing TimeOut Exception</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1431548761, "post_id": 30224501, "comment_id": 48552958, "body": "What do you mean when you say &quot;get the hierarchies&quot;?  Do you want a list of all nodes in all of those hierarchies, a list of the roots?"}, {"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "reply_to_user": {"reputation": 4152, "user_id": 621827, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c08dff659b99dc4f1d8c64017921694a?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/621827/stephen"}, "edited": false, "score": 0, "creation_date": 1431549122, "post_id": 30224501, "comment_id": 48553135, "body": "@Stephen: I tried to get the list of objects where NeedsShowing == true, but it only returned the root objects of each hierarchy. Not mush use there. Somehow I need to build the hiearchies from the list, but I have no idea how."}, {"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431549188, "post_id": 30224501, "comment_id": 48553181, "body": "Servy: I mean to get all nodes: root node + all sub nodes of the hierarchy tree where the root node has NeedsShowing == true."}, {"owner": {"reputation": 4152, "user_id": 621827, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c08dff659b99dc4f1d8c64017921694a?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/621827/stephen"}, "edited": false, "score": 0, "creation_date": 1431549498, "post_id": 30224501, "comment_id": 48553308, "body": "I think you should add the code for your classes, at least their properties, and the List you&#39;re trying to run the query against."}], "answers": [{"comments": [{"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431549296, "post_id": 30224681, "comment_id": 48553220, "body": "Thanks, but this will only show the root nodes and not the entire hierarchy under the root."}, {"owner": {"reputation": 161, "user_id": 3906726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy8Bg.jpg?s=128&g=1", "display_name": "Zrethreal", "link": "https://stackoverflow.com/users/3906726/zrethreal"}, "reply_to_user": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431549501, "post_id": 30224681, "comment_id": 48553312, "body": "But you don&#39;t explain how the hierarchy is related to the root node. Does it have something to do with ParentID? If so it wouldn&#39;t be possible as ParentID is null when NeedsShowing is true, hence you have no way to get any hierarchy from that"}, {"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431549881, "post_id": 30224681, "comment_id": 48553504, "body": "Sorry if I was unclear. ID is a unique identifier for each node. ParentID contains the ID of the node directly above it in the hierarchy. ParentID is only null when we talk about the root node, otherwise it contains the ID of the node above."}, {"owner": {"reputation": 161, "user_id": 3906726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy8Bg.jpg?s=128&g=1", "display_name": "Zrethreal", "link": "https://stackoverflow.com/users/3906726/zrethreal"}, "reply_to_user": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431550301, "post_id": 30224681, "comment_id": 48553714, "body": "I edited my answer to give you the root nodes + the nodes one level below  the root - does your hierarchies contain deeper levels than that?"}, {"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431550414, "post_id": 30224681, "comment_id": 48553774, "body": "Yes, they can go to any depth (there&#39;s no limit involved but I&#39;ve seen 20 deep hierarchies) in our application."}, {"owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "edited": false, "score": 0, "creation_date": 1431552611, "post_id": 30224681, "comment_id": 48554941, "body": "This seems to be working nicely. I run a few tests to make sure. Thanks a lot for your efforts."}], "tags": [], "owner": {"reputation": 161, "user_id": 3906726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy8Bg.jpg?s=128&g=1", "display_name": "Zrethreal", "link": "https://stackoverflow.com/users/3906726/zrethreal"}, "is_accepted": true, "score": 1, "last_activity_date": 1431551820, "last_edit_date": 1431551820, "creation_date": 1431549221, "answer_id": 30224681, "question_id": 30224501, "link": "https://stackoverflow.com/questions/30224501/c-linq-select-hierarchy-from-list-where-root-has-a-certain-property-value/30224681#30224681", "title": "C# LINQ select hierarchy from list where root has a certain property value", "body": "<p>Try this</p>\n\n<pre><code>List&lt;FileHierarchy&gt; mylist = GetList();\nvar selected = mylist.Where(s =&gt; s.NeedsShowing.HasValue &amp;&amp; s.NeedsShowing.Value);\nvar children = mylist.Where(c =&gt; c.ParentID.HasValue &amp;&amp; selected.Select(s =&gt; s.ID).Contains(c.ParentID.Value));\nvar unselected = mylist.Except(selected);\nwhile (children.Any())\n{\n    unselected = unselected.Except(children);\n    var childChild = unselected.Where(c =&gt; c.ParentID.HasValue &amp;&amp; children.Select(s =&gt; s.ID).Contains(c.ParentID.Value));\n    selected = selected.Union(children);\n    children = childChild;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 942, "user_id": 821807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9ZY5.png?s=128&g=1", "display_name": "outbred", "link": "https://stackoverflow.com/users/821807/outbred"}, "is_accepted": false, "score": 0, "last_activity_date": 1431555116, "creation_date": 1431555116, "answer_id": 30226068, "question_id": 30224501, "link": "https://stackoverflow.com/questions/30224501/c-linq-select-hierarchy-from-list-where-root-has-a-certain-property-value/30226068#30226068", "title": "C# LINQ select hierarchy from list where root has a certain property value", "body": "<p>I think this is a bit more readable and debuggable and you can tweak the result if you'd like. Maybe faster (haven't compared directly). There's really no way to do it other than recursively or ultra-iteratively like @Zrethreal's answer.  I prefer recursion.</p>\n\n<pre><code>    private static void Main(string[] args)\n    {\n        var files = GetFiles();\n        var searchableFiles = files.Except(files.Where(f1 =&gt; f1.NeedsShowing ?? false &amp;&amp; f1.ParentID == null)).ToList()\n        var whereNeedShowing = (from f in files\n                                where f.NeedsShowing ?? false\n                                select new {Root = f, Descendants = FindDescendants(f.ID, searchableFiles) }).ToList();\n        Debug.Assert(whereNeedShowing.Count == 2);\n    }\n\n    static List&lt;FileHierarchy&gt; FindDescendants(int? parentId, IEnumerable&lt;FileHierarchy&gt; files)\n    {\n        var children = files.Where(f =&gt; f.ParentID == parentId).ToList();\n        foreach(var child in children.ToList())\n        {\n            var newChildren = FindDescendants(child.ID, files.Except(children));\n            children.AddRange(newChildren);\n        }\n        return children;\n    }\n\n    static List&lt;FileHierarchy&gt; GetFiles()\n    {\n        var result = new List&lt;FileHierarchy&gt;();\n        for (int i = 1; i &lt;= 9; i++)\n        {\n            var file = new FileHierarchy()\n            {\n                ID = i, \n                ParentID = i == 1 || i == 5 || i == 8 ? (int?) null : i - 1, \n                NeedsShowing = i == 1 || i == 8 ? true : (i == 5 ? false : (bool?) null)\n            };\n            result.Add(file);\n            if (i == 3)\n            {\n                file.ParentID = 1;\n            }\n            else if (i == 4)\n            {\n                file.ParentID = 2;\n            }\n        }\n        return result;\n    }\n}\n\npublic class FileHierarchy\n{\n    public int ID { get; set; }\n    public int? ParentID { get; set; }\n    public bool? NeedsShowing { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 1291, "user_id": 885957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89dfaa68fef9a37f09ef1e4bc707dfad?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/885957/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "accepted_answer_id": 30224681, "answer_count": 2, "score": 0, "last_activity_date": 1470481085, "creation_date": 1431548523, "last_edit_date": 1592644375, "question_id": 30224501, "link": "https://stackoverflow.com/questions/30224501/c-linq-select-hierarchy-from-list-where-root-has-a-certain-property-value", "title": "C# LINQ select hierarchy from list where root has a certain property value", "body": "<p>I have a class with the following properties:</p>\n<ul>\n<li>int ID</li>\n<li>int? ParentID</li>\n<li>bool? NeedsShowing</li>\n</ul>\n<p>I have a list of these objects, which list represents multiple hierarchies: ID is the key value while ParentID is acting as a foreign key. NeedsShowing is only filled at the root level of each hierarchy, meaning it is only present when <code>ParentID == null</code>.</p>\n<p>What I need to accomplish - preferably with the simplest possible LINQ - is to select only those hierarchies in the list, where <code>NeedsShowing == true</code>  (basically applying a filter).</p>\n<p>I have approximately 50,000 objects in the list representing roughly 13,000 hierarchies.</p>\n<h3>Code</h3>\n<pre><code>Public Class FileHierarchy\n{\n  int ID { get; set; }\n  int? ParentID { get; set; }\n  bool? NeedsShowing { get; set; }\n}\n</code></pre>\n<p>List of FileHierarchy class with values:</p>\n<pre><code>ID     ParentID       NeedsShowing\n----------------------------------\n1      null           true\n2      1              null\n3      1              null\n4      2              null\n5      null           false\n6      5              null\n7      6              null\n8      null           true\n9      8              null\n</code></pre>\n<p>This means I have three hierarchies with root node ID 1, 5, 8 (where <code>parent ID == null</code>). I only want to get all nodes in hierarchies with root ID 1 and 8, because root ID 5 has <code>NeedsShowing == false</code>.</p>\n"}, {"tags": ["c#", "asp.net", "gridview"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 0, "creation_date": 1431550346, "post_id": 30224879, "comment_id": 48553734, "body": "tx @waltmagic, but this is a call to a different function than GridView1_RowCommand. I am talking about this part   Visible=&#39;&lt;%# ShowMergeUserButton((String)Eval(&quot;UserName&quot;) etc... this doesn&#39;t pass the sender. Unless I make it do this..?"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "reply_to_user": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 0, "creation_date": 1431550657, "post_id": 30224879, "comment_id": 48553897, "body": "@Dina, I wouldn&#39;t do it that way, it&#39;s not good practice as they say. Maybe you should edit your question and remove all your code except for the html/asp and then describe what you are trying to do.  You will get much better answers that way."}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "reply_to_user": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 0, "creation_date": 1431550952, "post_id": 30224879, "comment_id": 48554055, "body": "@Dina If the GridView has more than one row you want the visible = true, correct? So maybe handle the DataBound event with GridView1_DataBound event handler.  If numOfRows &gt; 1 visible = true on the controls in question"}, {"owner": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 1, "creation_date": 1431552544, "post_id": 30224879, "comment_id": 48554907, "body": "yes! I didn&#39;t understand what DataBound was all about at all, so this was a great learning example."}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "reply_to_user": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 1, "creation_date": 1431552814, "post_id": 30224879, "comment_id": 48555038, "body": "This is why I love StackOverflow...I learn all the time on here too :D Glad we could help you out."}], "tags": [], "owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "is_accepted": false, "score": 0, "last_activity_date": 1431549958, "creation_date": 1431549958, "answer_id": 30224879, "question_id": 30224481, "link": "https://stackoverflow.com/questions/30224481/how-do-i-pass-the-number-of-rows-in-gridview-as-an-argument-to-onrowcommand-call/30224879#30224879", "title": "How do I pass the number of rows in GridView as an argument to OnRowCommand call", "body": "<p>Since OnRowCommand is an event you can get that information from your event handler.  In your codebehind find the GridView1_RowCommand event handler and cast the object sender to GridView like this...</p>\n\n<pre><code>void GridView1_RowCommand(Object sender, GridViewCommandEventArgs e)\n{\n    GridView gridView = (GridView)sender;\n    int numOfRows = gridView.Rows.Count;\n    // Now you can  do something with numOfRows!\n}\n</code></pre>\n\n<p>As far as the other things you are wanting to do, you may want to create a new question that is more specific to those other tasks.  But there is no need to pass the number of rows to the event handlers of a GridView because the sender object(the GridView that fired the event) will have all these properties.  Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 0, "creation_date": 1431550453, "post_id": 30224923, "comment_id": 48553788, "body": "Thanks! Just curious does it need to be a viewstate? Note, what I am trying to do is make a button appear only if certain criteria is met."}, {"owner": {"reputation": 2048, "user_id": 4773983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed5e8ae9df639b3d0cc5b2d3e9ef733?s=128&d=identicon&r=PG", "display_name": "Enrique Zavaleta", "link": "https://stackoverflow.com/users/4773983/enrique-zavaleta"}, "reply_to_user": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 0, "creation_date": 1431550739, "post_id": 30224923, "comment_id": 48553935, "body": "I&#39;m not sure that what is your goal, but if the NumberRowsGridView = dt.Count&lt;items&gt;().ToString(); line is called in the same postback that ShowMergeUserButton, a simple public variable should work"}], "tags": [], "owner": {"reputation": 2048, "user_id": 4773983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed5e8ae9df639b3d0cc5b2d3e9ef733?s=128&d=identicon&r=PG", "display_name": "Enrique Zavaleta", "link": "https://stackoverflow.com/users/4773983/enrique-zavaleta"}, "is_accepted": false, "score": 1, "last_activity_date": 1431550146, "creation_date": 1431550146, "answer_id": 30224923, "question_id": 30224481, "link": "https://stackoverflow.com/questions/30224481/how-do-i-pass-the-number-of-rows-in-gridview-as-an-argument-to-onrowcommand-call/30224923#30224923", "title": "How do I pass the number of rows in GridView as an argument to OnRowCommand call", "body": "<p>I'm not sure what you are trying to accomplish, but this should solve your problem:</p>\n\n<p>Add a property like this in your code, the <code>ViewState</code> will keep your value through the life-cycle of the page. </p>\n\n<pre><code>public string NumberRowsGridView\n{\n    get { return ViewState[\"NumberRowsGridView\"] == null ? null : ViewState[\"NumberRowsGridView\"].ToString(); }\n    set { ViewState[\"NumberRowsGridView\"] = value; }\n}\n</code></pre>\n\n<p>now edit this part of your code like this</p>\n\n<pre><code>NumberRowsGridView = dt.Count&lt;items&gt;().ToString();\nGridView1.DataSource = dt; \nGridView1.DataBind();\n</code></pre>\n\n<p>and the button markup like this</p>\n\n<pre><code>&lt;asp:Button ID=\"Button3\" runat=\"server\" ... Visible='&lt;%# ShowMergeUserButton((String)Eval(\"UserName\"),(String)Eval(\"Email\"), NumberRowsGridView) %&gt;'/&gt;\n</code></pre>\n\n<p>it should work properly</p>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431551134, "post_id": 30224996, "comment_id": 48554164, "body": "There we go! Good answer here @Dina...beat me to it j.f ;)"}, {"owner": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "edited": false, "score": 1, "creation_date": 1431552478, "post_id": 30224996, "comment_id": 48554875, "body": "This really simplified the code and put everything into one place. Done!"}], "tags": [], "owner": {"reputation": 3834, "user_id": 3711928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fn5p.jpg?s=128&g=1", "display_name": "j.f.", "link": "https://stackoverflow.com/users/3711928/j-f"}, "is_accepted": true, "score": 2, "last_activity_date": 1431550993, "last_edit_date": 1431550993, "creation_date": 1431550469, "answer_id": 30224996, "question_id": 30224481, "link": "https://stackoverflow.com/questions/30224481/how-do-i-pass-the-number-of-rows-in-gridview-as-an-argument-to-onrowcommand-call/30224996#30224996", "title": "How do I pass the number of rows in GridView as an argument to OnRowCommand call", "body": "<p>This won't answer your question about how to do it in the markup, but when things get complicated like that, I like to go a simpler route. What you could do instead is hide/show the buttons once the entire GridView is bound.</p>\n\n<p>Add the <code>DataBound</code> event to your GridView.</p>\n\n<pre><code>&lt;asp:GridView ID=\"GridView1\" runat=\"server\"\n    OnRowCommand=\"GridView1_RowCommand\"\n    OnDataBound=\"GridView1_DataBound\"&gt;\n</code></pre>\n\n<p>Then in this event, all your rows will have been bound. So if you have more than one row, show the button. If not, hide the button. This should give you an idea.</p>\n\n<pre><code>protected void GridView1_DataBound(object sender, EventArgs e)\n{\n    if (GridView1.Rows.Count &gt; 1)\n    {\n        foreach (GridViewRow row in GridView1.Rows)\n        {\n            Button Button3 = (Button)row.FindControl(\"Button3\");\n            Button3.Visible = true;\n        }\n    }\n}\n</code></pre>\n\n<p>If you must do it in the markup, Enrique Zavaleta's answer should get you there.</p>\n"}], "owner": {"reputation": 113, "user_id": 895199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a3575a09c2c48d9ba5672a66b3088b?s=128&d=identicon&r=PG", "display_name": "Dina", "link": "https://stackoverflow.com/users/895199/dina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 30224996, "answer_count": 3, "score": 1, "last_activity_date": 1431550993, "creation_date": 1431548451, "question_id": 30224481, "link": "https://stackoverflow.com/questions/30224481/how-do-i-pass-the-number-of-rows-in-gridview-as-an-argument-to-onrowcommand-call", "title": "How do I pass the number of rows in GridView as an argument to OnRowCommand call", "body": "<p>I am trying to make a button &amp; checkbox display on a GridView dynamically only if there is more than 1 row in the GridView. (The view is results based on a search for users, so the number of rows is dynamic based on the search results)</p>\n\n<p>The purpose of button and checkbox allow me to combine 2 or more user accounts. There is no point showing this button if there is only 1 row in the GridView (its confusing), so I set \"Visible\" parameter using a function. However, using GridViewID.Rows.Count in this function does not work. (What I figure it is actually the max number of rows displayed from when the call to function is taking place). ie: call from 2nd row of Gridview gives me Row.Count=2. So I am trying to pass a hidden control instead, but it is not working.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;asp:GridView ID=\"GridView1\" runat=\"server\" OnRowCommand=\"GridView1_RowCommand\"&gt;\n&lt;Columns&gt;\n        &lt;asp:TemplateField ShowHeader=\"false\"&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:HiddenField ID=\"HiddenUserID\" runat=\"server\" Visible=\"false\" Value= '&lt;%#Eval(\"UserID\") %&gt;' &gt;&lt;/asp:HiddenField&gt; \n                    &lt;asp:HiddenField ID=\"NumberRowsGridView\" runat=\"server\" Visible=\"false\" Value='&lt;%#Bind(\"NumberRowsGridView\") %&gt;'&gt;&lt;/asp:HiddenField&gt;\n            &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:BoundField DataField=\"UserName\" HeaderText=\"User Name\"/&gt;\n            &lt;asp:BoundField DataField=\"Email\" HeaderText=\"Email Address\"/&gt;\n &lt;asp:TemplateField ShowHeader=\"false\"&gt;\n        &lt;ItemTemplate&gt;\n                &lt;asp:CheckBox ID=\"CheckBox1\" runat=\"server\" Visible='&lt;%# ShowMergeUserButton((String)Eval(\"UserName\"),(String)Eval(\"Email\"),(String)Eval(\"NumberRowsGridView\")) %&gt;' /&gt;\n            &lt;/ItemTemplate&gt;\n     &lt;/asp:TemplateField&gt;\n\n     &lt;asp:TemplateField ShowHeader=\"True\" HeaderText=\"Merging Actions\"&gt;\n        &lt;ItemTemplate&gt;\n                &lt;asp:Button ID=\"Button3\" runat=\"server\" CausesValidation=\"false\" CommandName=\"MergeIntoUser\"\n                    Text=\"Merge Into This Account\" CommandArgument='&lt;%# Container.DataItemIndex + \",\" + Eval(\"UserID\")%&gt;' Visible='&lt;%# ShowMergeUserButton((String)Eval(\"UserName\"),(String)Eval(\"Email\"),(String)Eval(\"NumberRowsGridView\")) %&gt;'/&gt;\n            &lt;/ItemTemplate&gt;\n &lt;/asp:TemplateField&gt;\n     &lt;/Columns&gt;\n</code></pre>\n\n<p></p>\n\n<p>The code behind function:</p>\n\n<pre><code>protected Boolean ShowMergeUserButton(String Username, String Email, String NumRows)\n{\nreturn (Username == Email &amp;&amp; Convert.ToInt32(NumRows) &gt; 1);\n}\n</code></pre>\n\n<p>I have created a Hidden field and tried to insert it into the GridView, but my code has a runtime error: (Note, I'm new to ASP :)</p>\n\n<pre><code>protected System.Web.UI.WebControls.HiddenField NumberRowsGridView;\n</code></pre>\n\n<p>-- in function that populates GridView\n-- dt is the data source</p>\n\n<pre><code>GridView1.DataSource = dt; \nGridView1.DataBind();\nNumberRowsGridView.Value = dt.Count&lt;items&gt;().ToString();\n</code></pre>\n\n<p>The error I get is:\nSystem.Web.HttpException: DataBinding: 'MyASPPageName+dt' does not contain a property with the name 'NumberRowsGridView'.</p>\n\n<p>So I'm basically doing this completely wrong.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 0, "creation_date": 1431548597, "post_id": 30224454, "comment_id": 48552879, "body": "Of course it returns null - the URL is completely encoded. You need to decode it first. You should also fix the <code>http:&#47;&#47;</code> portion: <code>http%3a%2f%2fmyurl.test.me%2fSometjing%2fProduct%2fSearch%3f&zwnj;&#8203;q=Tomato</code>"}], "answers": [{"comments": [{"owner": {"reputation": 118621, "user_id": 497356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ceaca2e4d36db284cae876622c9cfa2?s=128&d=identicon&r=PG", "display_name": "Andrew Whitaker", "link": "https://stackoverflow.com/users/497356/andrew-whitaker"}, "reply_to_user": {"reputation": 8102, "user_id": 810815, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a9d72fdddc4e6a7fd4a908427620e52d?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/810815/john-doe"}, "edited": false, "score": 0, "creation_date": 1431549601, "post_id": 30224536, "comment_id": 48553362, "body": "@johndoe: Sure thing, glad to help."}], "tags": [], "owner": {"reputation": 118621, "user_id": 497356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ceaca2e4d36db284cae876622c9cfa2?s=128&d=identicon&r=PG", "display_name": "Andrew Whitaker", "link": "https://stackoverflow.com/users/497356/andrew-whitaker"}, "is_accepted": true, "score": 4, "last_activity_date": 1431548627, "creation_date": 1431548627, "answer_id": 30224536, "question_id": 30224454, "link": "https://stackoverflow.com/questions/30224454/querystring-out-of-encoded-url/30224536#30224536", "title": "QueryString Out of Encoded URL", "body": "<p>You're missing a few steps. You need to decode the URL, then pull out the query string, and then parse the query string:</p>\n\n<pre><code>string decoded = \n    HttpUtility.UrlDecode(\"http%3a%2f%2fmyurl.test.me%2fSometjing%2fProduct%2fSearch%3fq=Tomato\");\n\nvar uri = new Uri(decoded);\nvar parsedQuery = HttpUtility.ParseQueryString(uri.Query);\n\nConsole.WriteLine (parsedQuery[\"q\"]); // Tomato\n</code></pre>\n\n<p>Also, your encoded URL is a little malformed. The one in your post decoded looks like this:</p>\n\n<blockquote>\n  <p>http:/%myurl.test.me/Sometjing/Product/Search?q=Tomato</p>\n</blockquote>\n\n<p>I think you just missed a <code>2f</code> after the <code>%</code> right before <code>myurl.test</code>:</p>\n\n<blockquote>\n  <p>http%3a%2f%2fmyurl.test.me%2fSometjing%2fProduct%2fSearch%3fq=Tomato</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1981412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fa70b8eb04ce41b475fb7460ff20e1f?s=128&d=identicon&r=PG", "display_name": "CodeShadow", "link": "https://stackoverflow.com/users/1981412/codeshadow"}, "is_accepted": false, "score": 0, "last_activity_date": 1431548854, "creation_date": 1431548854, "answer_id": 30224594, "question_id": 30224454, "link": "https://stackoverflow.com/questions/30224454/querystring-out-of-encoded-url/30224594#30224594", "title": "QueryString Out of Encoded URL", "body": "<p>The URL needs to decoded first before you can use the <code>HttpUtility.ParseQueryString()</code>.</p>\n\n<p>Fair warning though mentioned directly from MSDN.</p>\n\n<blockquote>\n  <p>The ParseQueryString method uses query strings that might contain user input, which is a potential security threat. By default, ASP.NET Web pages validate that user input does not include script or HTML elements. <a href=\"https://msdn.microsoft.com/en-us/library/ms150047(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 8102, "user_id": 810815, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a9d72fdddc4e6a7fd4a908427620e52d?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/810815/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 30224536, "answer_count": 2, "score": 0, "last_activity_date": 1431548854, "creation_date": 1431548341, "question_id": 30224454, "link": "https://stackoverflow.com/questions/30224454/querystring-out-of-encoded-url", "title": "QueryString Out of Encoded URL", "body": "<p>I have an encoded URL. </p>\n\n<pre><code>http%3a%2f%myurl.test.me%2fSometjing%2fProduct%2fSearch%3fq=Tomato\n</code></pre>\n\n<p>I am trying to get query string out of the url which is \"Tomato\". I am using the following code but it returns null. </p>\n\n<pre><code> var parsedQuery = HttpUtility.ParseQueryString((url));\n            Console.Write(parsedQuery[\"q\"]); // null \n</code></pre>\n"}, {"tags": ["c#", "winforms", "asynchronous", "wmi-query"], "comments": [{"owner": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "edited": false, "score": 0, "creation_date": 1431548782, "post_id": 30224424, "comment_id": 48552964, "body": "Have you tried using TaskFactory? It is available in .net4 but what you could do is on launch, start a task to run your LoadNics() method and either wait for it to complete before continuing or let it complete on its own time."}, {"owner": {"reputation": 15, "user_id": 3603617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f00b3b022796b23472adb0fcfe1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Corey O", "link": "https://stackoverflow.com/users/3603617/corey-o"}, "reply_to_user": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "edited": false, "score": 0, "creation_date": 1431549026, "post_id": 30224424, "comment_id": 48553083, "body": "KPS, no I&#39;d never heard of it, I&#39;ll see if I can make it work tonight! Thanks!"}, {"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431549031, "post_id": 30224424, "comment_id": 48553086, "body": "you are calling the wrong Get() see <a href=\"https://msdn.microsoft.com/en-us/library/0w3ak0sb(v=vs.100).aspx\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "reply_to_user": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431549316, "post_id": 30224424, "comment_id": 48553227, "body": "See my answer for example code. @RadioSpace is there a reason you say that?"}, {"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "reply_to_user": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "edited": false, "score": 0, "creation_date": 1431549538, "post_id": 30224424, "comment_id": 48553332, "body": "@KPS Get has an overload which is linked in my comment. personally I think the task is better cause you get to manage it."}, {"owner": {"reputation": 15, "user_id": 3603617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f00b3b022796b23472adb0fcfe1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Corey O", "link": "https://stackoverflow.com/users/3603617/corey-o"}, "edited": false, "score": 0, "creation_date": 1431615458, "post_id": 30224424, "comment_id": 48582532, "body": "RadioSpace, the MSDN article I linked to was on using the Get() overload, but being new to C#/Winforms/multithreaded applications I can&#39;t figure out how to poll the observer in the background while the rest of the UI remains active."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3603617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f00b3b022796b23472adb0fcfe1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Corey O", "link": "https://stackoverflow.com/users/3603617/corey-o"}, "edited": false, "score": 0, "creation_date": 1431615157, "post_id": 30224678, "comment_id": 48582327, "body": "I just dropped that in and it sort of works, the main form pops up now, but some of the buttons have a delay drawing, and changes to the textbox don&#39;t show up until after LoadNicList() has finished. Thanks for the suggestion, I think this will get me going in the right direction."}, {"owner": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "reply_to_user": {"reputation": 15, "user_id": 3603617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f00b3b022796b23472adb0fcfe1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Corey O", "link": "https://stackoverflow.com/users/3603617/corey-o"}, "edited": false, "score": 0, "creation_date": 1431631809, "post_id": 30224678, "comment_id": 48592358, "body": "You could do something like this: var task = Task.Factory.StartNew(() =&gt;                             {                                 LoadNicList();                             }, cancellationToken, TaskCreationOptions.None, uiScheduler);  Then you will be able to do a task.Wait() and wait for the NIC list to load before going forward"}], "tags": [], "owner": {"reputation": 898, "user_id": 970190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2877c40d359c1e9cb9c3740a838ddd?s=128&d=identicon&r=PG", "display_name": "nGX", "link": "https://stackoverflow.com/users/970190/ngx"}, "is_accepted": true, "score": 1, "last_activity_date": 1431549203, "creation_date": 1431549203, "answer_id": 30224678, "question_id": 30224424, "link": "https://stackoverflow.com/questions/30224424/c-running-wmi-query-while-loading-form/30224678#30224678", "title": "C# running WMI query while loading form", "body": "<p>Try using this instead of just LoadNicList()</p>\n\n<pre><code>    //create cancellation token for future use\n            CancellationToken cancellationToken = new CancellationToken();\n\n//uischeduler is used to update the UI using the main thread\n            TaskScheduler uiScheduler = TaskScheduler.FromCurrentSynchronizationContext();\n            Task.Factory.StartNew(() =&gt;\n                            {\n                                LoadNicList();\n                            }, cancellationToken, TaskCreationOptions.None, uiScheduler);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3603617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f00b3b022796b23472adb0fcfe1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Corey O", "link": "https://stackoverflow.com/users/3603617/corey-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 30224678, "answer_count": 1, "score": 0, "last_activity_date": 1431549203, "creation_date": 1431548220, "question_id": 30224424, "link": "https://stackoverflow.com/questions/30224424/c-running-wmi-query-while-loading-form", "title": "C# running WMI query while loading form", "body": "<p>I've got a C#/Winforms program that needs to list the computer's network adapters on the initial form, so this is a simplified version of my function to put together that list:</p>\n\n<pre><code>void LoadNicList() \n{\n    ManagementObjectSearcher mos = new ManagementObjectSearcher(@\"SELECT * \n                                         FROM   Win32_NetworkAdapter \n                                         WHERE  Manufacturer != 'Microsoft'\n                                         AND NOT ProductName LIKE '%Wireless%'\n                                         AND NOT ProductName LIKE '%Wifi%'\n                                         AND NOT ProductName LIKE '%Wi-Fi%'\n                                         AND NOT PNPDeviceID LIKE 'ROOT\\\\%'\");\n    foreach (ManagementObject mo in mos.Get())\n    {\n        if (mo[\"MACAddress\"] != null)\n        {\n            comboBox1.Items.Add(mo[\"name\"].ToString());\n        }\n    }\n}\n</code></pre>\n\n<p>I haven't included the try/catch or any of the other stuff that goes on just to keep it simple, but this function should compile and run. This function is called by Form1_Load(). The problem is, this can cause quite a long delay loading the form, and the normal async/await functions can't be used.</p>\n\n<p>I found this MSDN article on running ManagementObjectSearcher asynchronously: <a href=\"https://msdn.microsoft.com/en-us/library/cc143292.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/cc143292.aspx</a> I'd like to start LoadNicList() in the background while the form starts with a \"Loading\" message in the combobox, and then populate the list once it's ready, but I can't figure out how. Is that doable?</p>\n"}, {"tags": ["c#", "winforms", "picturebox"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431548436, "post_id": 30224393, "comment_id": 48552807, "body": "Before you call Sleep, call <code>Application.DoEvents()</code>, although this is frowned upon and isn&#39;t typically the right thing to do. Technically you want to do a <code>dialog.Invoke</code> and in the delegate procedure set the image."}, {"owner": {"reputation": 59, "user_id": 4897290, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e350a2f5806cb5076193c6b4529db6a1?s=128&d=identicon&r=PG&f=1", "display_name": "Papanash", "link": "https://stackoverflow.com/users/4897290/papanash"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1431548885, "post_id": 30224393, "comment_id": 48553010, "body": "@DanielA.White yes this is in winforms"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1431548978, "post_id": 30224393, "comment_id": 48553060, "body": "You are loading the images before the pb has time to show them. if you want to use some kind of animation a Timer would be better, but if you call PB.Refresh before the thread.Sleep it should work as well.."}, {"owner": {"reputation": 59, "user_id": 4897290, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e350a2f5806cb5076193c6b4529db6a1?s=128&d=identicon&r=PG&f=1", "display_name": "Papanash", "link": "https://stackoverflow.com/users/4897290/papanash"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431548979, "post_id": 30224393, "comment_id": 48553061, "body": "@RonBeyer how can i set the image in the delegate procedure"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1431549069, "post_id": 30224393, "comment_id": 48553105, "body": "Something like <code>dialog.Invoke(delegate { dialog.ImageLocation = ...; });</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1431548531, "creation_date": 1431548531, "answer_id": 30224503, "question_id": 30224393, "link": "https://stackoverflow.com/questions/30224393/picturebox-doesnt-appear/30224503#30224503", "title": "PictureBox doesn&#39;t appear", "body": "<p>You probably need to issue a  PictureBox.Refresh and/or a DoEvents command for the picture box to actually get a chance to load and display the picture.</p>\n\n<p>The MessageBox automatically performs a DoEvents ... which is why it is working during debugging.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4897290, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e350a2f5806cb5076193c6b4529db6a1?s=128&d=identicon&r=PG&f=1", "display_name": "Papanash", "link": "https://stackoverflow.com/users/4897290/papanash"}, "edited": false, "score": 0, "creation_date": 1431549655, "post_id": 30224702, "comment_id": 48553383, "body": "Thank you, but it seems it worked out with the <code>Application.DoEvents()</code> too."}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": true, "score": 0, "last_activity_date": 1431549305, "creation_date": 1431549305, "answer_id": 30224702, "question_id": 30224393, "link": "https://stackoverflow.com/questions/30224393/picturebox-doesnt-appear/30224702#30224702", "title": "PictureBox doesn&#39;t appear", "body": "<p>What you're doing now just freezes the UI. Use a <code>System.Windows.Forms.Timer</code> instead. Drop a Timer from the toolbox onto your Form.</p>\n\n<p>Then create some fields that the Timer can access, to store your pics and the current pic position:</p>\n\n<pre><code>private List&lt;string&gt; pics = new List&lt;string&gt;();\nprivate int currentPic = 0;\n</code></pre>\n\n<p>Finally, load it up with the pics you want to display, and start the Timer to go through them:</p>\n\n<pre><code>pics.Clear();\npics.AddRange(date.Where(x =&gt; x != \"teach\" &amp;&amp; x != \"end\"));\ntimer1.Interval = 5000;\ntimer1.Start();\n</code></pre>\n\n<p>Then you'll have to tell your Timer to display the next picture. Increase the counter, and reset it when necessary. Something like this should work. Modify as necessary.</p>\n\n<pre><code>private void timer1_Tick(object sender, EventArgs e)\n{\n    dialog.ImageLocation = string.Format(\"{0}/npc/{1}/{2}.png\", folder, score_npc, pics[currentPic]);\n\n    currentPic++;\n\n    if (currentPic &gt;= pics.Count)\n        currentPic = 0;\n\n    // Alternatively, stop the Timer when you get to the end, if you want\n    // if (currentPic &gt;= pics.Count)\n    //     timer1.Stop();\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4897290, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e350a2f5806cb5076193c6b4529db6a1?s=128&d=identicon&r=PG&f=1", "display_name": "Papanash", "link": "https://stackoverflow.com/users/4897290/papanash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 30224702, "answer_count": 2, "score": 0, "last_activity_date": 1431549305, "creation_date": 1431548096, "last_edit_date": 1431548903, "question_id": 30224393, "link": "https://stackoverflow.com/questions/30224393/picturebox-doesnt-appear", "title": "PictureBox doesn&#39;t appear", "body": "<p>I have an <code>if</code> statement, inside that if statement is a <code>foreach</code>, for accessing each <code>string</code> from a <code>string[]</code>. </p>\n\n<p>The strings are some parameters for an NPC which are read from a file. The first one represents the NPC type which are two : \"battle\" and \"teach\", the last <code>string[]</code> for a \"teach\" NPC is \"end\", and the rest of parameters represents photo names, which I want to load in a \"dialog\" PictureBox. </p>\n\n<p>My test file looks like this:</p>\n\n<pre><code>teach\npoza1\npoza2\nend\n</code></pre>\n\n<p>So I have 2 photos to load in the dialog PictureBox. The idea is that I must pause for 5 seconds that <code>foreach</code> statement, otherwise the dialog PictureBox pictures will be loaded too fast, and I won't see them. </p>\n\n<p>So I tried to do that, and here is how the code looks:</p>\n\n<pre><code>if (date[0].Equals(\"teach\")) //the first line of the date[] string, date represent the text from the file\n{\n    foreach (string parametru in date) // i think that you know what this does\n    {\n        if (parametru != \"teach\" &amp;&amp; parametru != \"end\") // checking if the parameter isn't the first or the last line of the file\n        {\n\n            dialog.ImageLocation = folder + \"/npc/\" + score_npc + \"/\" + parametru + \".png\"; //loading the photo\n            System.Threading.Thread.Sleep(5000);\n\n        }\n    }\n    //other instructions , irelevants in my opinion\n}\n</code></pre>\n\n<p>In my attempt of debugging this, I realised that if I use a <code>MessageBox</code>, the function will load the both photos. Also I'm sure of the fact that the parameters will pass the if statement. </p>\n\n<p>It seems so easy to fix this error, but I can't figure out how to do it.</p>\n"}, {"tags": ["c#", "sql-server", "ssis"], "comments": [{"owner": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "edited": false, "score": 1, "creation_date": 1431548612, "post_id": 30224374, "comment_id": 48552887, "body": "It depends on the underlying structure of the table, but my GUESS is that the table is keyed off of rowguid , or rowguid may simply just not be allowed to be null. I think perhaps your assumption is faulty that it automatically generates them. If the table has a default set up on that column for say <code>newid()</code> then it should automatically generate it. If it doesnt however, you&#39;ll have to either alter the table to have it, or create a derived column in your SSIS package to generate a guid for the column. You can run <code>sp_help &lt;myTable&gt;</code> to see constraints on the table."}], "answers": [{"tags": [], "owner": {"reputation": 265, "user_id": 2673722, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/184ef78cd5da48bb3abff2d8615c1a46?s=128&d=identicon&r=PG", "display_name": "user2673722", "link": "https://stackoverflow.com/users/2673722/user2673722"}, "is_accepted": false, "score": 0, "last_activity_date": 1431606606, "creation_date": 1431606606, "answer_id": 30237461, "question_id": 30224374, "link": "https://stackoverflow.com/questions/30224374/cannot-insert-the-value-null-into-column-rowguid/30237461#30237461", "title": "Cannot insert the value NULL into column &#39;rowguid&#39;", "body": "<p>In the database table itself, a uniqueidentifier constraint can be put on rowguid, which auto generates the data and eliminates the error.An example would go like this:</p>\n\n<pre><code>ALTER TABLE [dbo].[TableName] ADD  CONSTRAINT [MSmerge_df_rowguid_AA7400445B994489BB04D2C090DB574C]  DEFAULT (NEWSEQUENTIALID()) FOR [rowguid]\nGO\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 2673722, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/184ef78cd5da48bb3abff2d8615c1a46?s=128&d=identicon&r=PG", "display_name": "user2673722", "link": "https://stackoverflow.com/users/2673722/user2673722"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 729, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431606606, "creation_date": 1431548035, "question_id": 30224374, "link": "https://stackoverflow.com/questions/30224374/cannot-insert-the-value-null-into-column-rowguid", "title": "Cannot insert the value NULL into column &#39;rowguid&#39;", "body": "<p>I have a C# script in my SSIS package which manipulates two CSV files and writes another CSV file. The data from the new CSV files goes through a lookup match and is then updated in the SQL Server databases.</p>\n\n<p>The CSV files do not have the \"rowguid\" column, and my understanding was that SQL server generates the rowguid values by itself. So, in the column mapping in the OLEDB destination, nothing is mapped to the rowguid variable.</p>\n\n<p>On executing the package, I get the following error on the ODB DashboardStats component, which maps the error output to the database table:\n\"Cannot insert the value NULL into column 'rowguid'</p>\n\n<p>I looked at similar posts but I do not want to make the rowguid column in the database nullable since it's not the best practice.I have also tried un-checking Keep Identity in ODB DashboardStats, shown in the diagram below, but that didn't help either.\nIn this case, would the best bet me to insert a rowguid column through SSIS?If so, what would be the best way to do that?(C#, SSIS newbie :( )</p>\n\n<p>Below are some screenshots for reference:\n  <img src=\"https://i.stack.imgur.com/UerMZ.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/FWMCT.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "wpf", "mvvm", "key-bindings"], "answers": [{"tags": [], "owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "is_accepted": true, "score": 0, "last_activity_date": 1431632980, "creation_date": 1431632980, "answer_id": 30246087, "question_id": 30224372, "link": "https://stackoverflow.com/questions/30224372/disable-keybindings-in-mvvm/30246087#30246087", "title": "Disable Keybindings in MVVM", "body": "<p>I solved it by completely defining the keybinding in my code-behind like this</p>\n\n<pre><code>this.InputBindings.Add(new KeyBinding(((MainViewModel) this.DataContext).  \n                           SavePartCommand, new KeyGesture(Key.S, ModifierKeys.Control)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8056, "user_id": 1061668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Vmm1b.png?s=128&g=1", "display_name": "Mikko Viitala", "link": "https://stackoverflow.com/users/1061668/mikko-viitala"}, "is_accepted": false, "score": 1, "last_activity_date": 1431637197, "last_edit_date": 1431637197, "creation_date": 1431636770, "answer_id": 30247145, "question_id": 30224372, "link": "https://stackoverflow.com/questions/30224372/disable-keybindings-in-mvvm/30247145#30247145", "title": "Disable Keybindings in MVVM", "body": "<p>I see you already got around it. Good.</p>\n\n<p>Still, one way to do this w/o having any code-behind code would be to modify the static command's <code>CanExecute</code> logic from your viewmodel.</p>\n\n<p>Let's say you have a <code>MainWindow</code>, it's data context as <code>MainViewModel</code> and your menu related commands in static <code>Commands</code> class. Then consider the following XAML for MainWindow.</p>\n\n<pre><code>// xmlns:app=\"clr-namespace:&lt;app_namespace&gt;\"\n&lt;Window.DataContext&gt;\n    &lt;viewModel:MainViewModel /&gt;\n&lt;/Window.DataContext&gt;\n\n&lt;Window.CommandBindings&gt;\n    &lt;CommandBinding Command=\"{x:Static app:Commands.SavePartCommand}\" /&gt;\n&lt;/Window.CommandBindings&gt;\n&lt;Window.InputBindings&gt;\n    &lt;KeyBinding Command=\"app:Commands.SavePartCommand\" Key=\"S\" Modifiers=\"Ctrl\" /&gt;\n&lt;/Window.InputBindings&gt;\n</code></pre>\n\n<p>This is basically the same code you posted but no event handlers specified. In MainViewModel you simply instruct your <code>SavePartsCommand</code> to not be available.</p>\n\n<pre><code>public class MainViewModel\n{\n    public MainViewModel()\n    {\n        Commands.ToggleCanExecuteSavePartsCommand = true;\n    }\n}\n</code></pre>\n\n<p>And the actual (dummy) command could then look like the following.</p>\n\n<pre><code>public static class Commands\n{\n    private static RelayCommand _savePartsCommand;\n\n    public static ICommand SavePartCommand\n    {\n        get\n        {\n            return _savePartsCommand ?? \n                (_savePartsCommand = new RelayCommand(() =&gt; \n                    Console.WriteLine(@\"Save\"), CanExecuteSavePartsCommand));\n        }\n    }\n\n    public static bool ToggleCanExecuteSavePartsCommand { get; set; }\n\n    private static bool CanExecuteSavePartsCommand()\n    {\n        return ToggleCanExecuteSavePartsCommand;\n    }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 30246087, "answer_count": 2, "score": 0, "last_activity_date": 1431637197, "creation_date": 1431548027, "question_id": 30224372, "link": "https://stackoverflow.com/questions/30224372/disable-keybindings-in-mvvm", "title": "Disable Keybindings in MVVM", "body": "<p>I have a menu in my WPF app. Some menu items can also be called by shortcut. But I want some shortcuts not always be active.</p>\n\n<p>I tried various code but got stuck. This is my current approach:</p>\n\n<pre><code>&lt;Window.CommandBindings&gt;\n    &lt;CommandBinding Command=\"{x:Static views:MainWindow.SavePartCommand}\"\n                    Executed=\"SavePartExecuted\"\n                    CanExecute=\"SavePartCanExecute\"/&gt;\n&lt;/Window.CommandBindings&gt;\n&lt;Window.InputBindings&gt;\n    &lt;KeyBinding Command=\"{x:Static views:MainWindow.SavePartCommand}\" \n                Key=\"S\" Modifiers=\"Ctrl\" /&gt;\n&lt;/Window.InputBindings&gt;\n</code></pre>\n\n<p>But <code>SavePartCommand</code> is not recognized and if I define that in my Code-Behind I don't know how to link that static command to my actual MVVM Model.</p>\n"}, {"tags": ["c#", ".net", "azure", "asynchronous", "azure-table-storage"], "comments": [{"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1431548284, "post_id": 30224332, "comment_id": 48552728, "body": "Depends on what you&#39;re hoping to get out of it. What if the API can&#39;t be reached or the service is otherwise inaccessible?"}, {"owner": {"reputation": 4150, "user_id": 912961, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2cfc98941a670cf375ee58173dcfd424?s=128&d=identicon&r=PG", "display_name": "Brian Rak", "link": "https://stackoverflow.com/users/912961/brian-rak"}, "reply_to_user": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1431550888, "post_id": 30224332, "comment_id": 48554024, "body": "Thanks for the reply. I&#39;ve edited the question to clarify that I don&#39;t need to know about results. If there&#39;s a transient problem, it&#39;s fine because I&#39;ll just try again in the future."}], "answers": [{"tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1431553153, "creation_date": 1431553153, "answer_id": 30225629, "question_id": 30224332, "link": "https://stackoverflow.com/questions/30224332/azure-storage-tables-is-it-okay-to-fire-and-forget-async-methods/30225629#30225629", "title": "Azure Storage Tables: Is it okay to fire-and-forget async methods?", "body": "<p>You can do this in the sense that it works and does what you want. You don't care about the potential for lost work.</p>\n\n<p>You still probably want error handling and logging. Imagine you have set up the storage configuration wrongly and <em>all</em> work items fail. You probably want to know about that.</p>\n\n<p>Wrap <code>table.ExecuteBatchAsync(batch)</code> in an async function where you catch and log exceptions. Discard the task returned by that function. (Alternatively, attach a continuation but I find that to be worse code.)</p>\n\n<p>Also note, that resource use it unbounded. If this loop is iterated many times then many operations queue up or run concurrently. This can be a problem. If you expect low load it is valid to take this risk.</p>\n"}], "owner": {"reputation": 4150, "user_id": 912961, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2cfc98941a670cf375ee58173dcfd424?s=128&d=identicon&r=PG", "display_name": "Brian Rak", "link": "https://stackoverflow.com/users/912961/brian-rak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 30225629, "answer_count": 1, "score": 3, "last_activity_date": 1431553153, "creation_date": 1431547894, "last_edit_date": 1431550739, "question_id": 30224332, "link": "https://stackoverflow.com/questions/30224332/azure-storage-tables-is-it-okay-to-fire-and-forget-async-methods", "title": "Azure Storage Tables: Is it okay to fire-and-forget async methods?", "body": "<p>I have a method in my MVC web app that cleans up old data from Azure Table Storage like abandoned user sessions. I'm batching up my work into <code>TableBatchOperation</code> objects which I'm executing with <code>CloudTable.ExecuteBatchAsync</code>. I don't need to wait around for the results, and if the operation fails for some reason like network trouble, it doesn't matter because I can just try again later. Is it okay to just call the method without an <code>await</code> or anything and walk away?</p>\n\n<p>That is to say, is this code going to cause problems?</p>\n\n<pre><code>List&lt;TableBatchOperation&gt; batches = { ... }\nforeach (TableBatchOperation batch in batches) {\n    table.ExecuteBatchAsync(batch);\n}\n\n// Method ends here\n</code></pre>\n\n<p>Or do I need to capture all the return objects and call <code>Wait()</code> on them?</p>\n"}, {"tags": ["c#", "unit-testing", "vs-unit-testing-framework"], "comments": [{"owner": {"reputation": 58628, "user_id": 227267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b03410a67ad6b9cf3fce7b0bf45084c8?s=128&d=identicon&r=PG", "display_name": "Matti Virkkunen", "link": "https://stackoverflow.com/users/227267/matti-virkkunen"}, "edited": false, "score": 0, "creation_date": 1431547699, "post_id": 30224230, "comment_id": 48552437, "body": "You&#39;re attempting to unit test your IoC container? And what&#39;s that crazy extension method on strings for?"}, {"owner": {"reputation": 4653, "user_id": 1874991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjXlv.jpg?s=128&g=1", "display_name": "kamil-mrzyglod", "link": "https://stackoverflow.com/users/1874991/kamil-mrzyglod"}, "edited": false, "score": 0, "creation_date": 1431547903, "post_id": 30224230, "comment_id": 48552522, "body": "How are you going to unit test private method?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1431547970, "post_id": 30224230, "comment_id": 48552558, "body": "IMHO you should not unit test Main - you might be able to unit test what <code>Main</code> <i>does</i> but a <i>true</i> unit test would require you to mock out the <code>Register</code> and <code>SetupFilter</code> methods, and just verify that <code>Main</code> calls those two methods, which is probably not what you&#39;re wanting to do."}, {"owner": {"reputation": 8861, "user_id": 49251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a3b05f845f8c433de0ca3e5805bcd7a6?s=128&d=identicon&r=PG", "display_name": "DWright", "link": "https://stackoverflow.com/users/49251/dwright"}, "edited": false, "score": 0, "creation_date": 1431548047, "post_id": 30224230, "comment_id": 48552596, "body": "IMO, it doesn&#39;t make any sense to unit test the Main method.  Normally,  when you unit test a method, you are testing one of two things:  1. It&#39;s return value, or 2. something it did to the state of the application.  In this case, you are not setting a return value of Main, and the state perishes with the exit of Main."}, {"owner": {"reputation": 10223, "user_id": 592182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fu0me.jpg?s=128&g=1", "display_name": "forsvarir", "link": "https://stackoverflow.com/users/592182/forsvarir"}, "edited": false, "score": 0, "creation_date": 1431549315, "post_id": 30224230, "comment_id": 48553226, "body": "What does your existing test look like?"}, {"owner": {"reputation": 65, "user_id": 3802253, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6727b496dba1a3fb2f8df31d9261a1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/3802253/ted"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1431608717, "post_id": 30224230, "comment_id": 48577792, "body": "@DStanley tell me more on your idea. My understanding is you can MOQ  the class and not the method. Also, as mentioned in my original post the reason I can&#39;t use MOQ is that the compiler complains about &quot;static types cannot be used as type arguments&quot;. Because when you MOQ you instantiate a new class and a static class cannot be instantiated..."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1431609290, "post_id": 30224230, "comment_id": 48578145, "body": "I&#39;m not sure what class you&#39;re talking about, but yes you cannot mock static methods )(or classes) because they are bound at compile-time.  You can certainly <i>test</i> <code>SetupFilter</code> directly, but I don&#39;t see the point of <i>unit</i> testing your startup method - that should be done as part of integration testing."}], "answers": [{"comments": [{"owner": {"reputation": 10223, "user_id": 592182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fu0me.jpg?s=128&g=1", "display_name": "forsvarir", "link": "https://stackoverflow.com/users/592182/forsvarir"}, "edited": false, "score": 1, "creation_date": 1431549377, "post_id": 30224361, "comment_id": 48553255, "body": "I believe the ops problem is actually linked to <code>SetupFilter</code> being static... not Main.  You&#39;ve fixed the wrong problem."}], "tags": [], "owner": {"reputation": 18020, "user_id": 1749895, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/18fce96d020cb3b88bb8e10b1521c171?s=128&d=identicon&r=PG", "display_name": "Piotr Stapp", "link": "https://stackoverflow.com/users/1749895/piotr-stapp"}, "is_accepted": false, "score": 1, "last_activity_date": 1431547995, "creation_date": 1431547995, "answer_id": 30224361, "question_id": 30224230, "link": "https://stackoverflow.com/questions/30224230/unit-testing-a-static-main-method-in-c/30224361#30224361", "title": "unit testing a static Main() method in c#", "body": "<p>In my opinion you have to do a small refactor of your code:</p>\n\n<pre><code>public class MyClass\n{\n    public static void Main()   \n    {\n       (new MyClass()).run();\n    }\n    public void Run()\n    {\n        StructureMapBootstrapper.Register();\n        SetupFilter&lt;Applicant&gt;();\n    }\n}\n</code></pre>\n\n<p>Then you can test normal method instead of <code>static</code></p>\n"}], "owner": {"reputation": 65, "user_id": 3802253, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6727b496dba1a3fb2f8df31d9261a1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/3802253/ted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4057, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1431547995, "creation_date": 1431547524, "question_id": 30224230, "link": "https://stackoverflow.com/questions/30224230/unit-testing-a-static-main-method-in-c", "title": "unit testing a static Main() method in c#", "body": "<p>I am trying to write unit tests using visual studio unit testing framework for a static Main method, which is also my entry point to my application. I have my method as follows. </p>\n\n<pre><code>public static void Main()\n        {\n            StructureMapBootstrapper.Register();\n            SetupFilter&lt;Applicant&gt;();\n        }\n</code></pre>\n\n<p>and this calls a generic SetupFilter method</p>\n\n<pre><code>private static void SetupFilter&lt;T&gt;() where T : IDataFilterBase, new()\n        {\n            var filterName = typeof(T).Name;\n            if (\"StartReceiver\".TryGetTrueOrFalseConfigValue(filterName))\n            {\n                ObjectFactory.Configure(x =&gt; x.For&lt;IDataFilterBase&gt;().Use&lt;T&gt;());\n                var filter = new T();\n                filter.StartReceiver();\n                LogHelper.LogInfo(string.Format(\"Started {0} Filter Service\", filterName));\n            }\n            else\n            {\n                LogHelper.LogInfo(string.Format(\"{0} Filter Service NOT started. StartReceiver flag is set to false\", filterName));\n            }\n        }\n</code></pre>\n\n<p>First thing that came to my mind is to use MOQ and verify that SetupFilter method was called at least once but the compiler complained on the method being static.\nAny idea on how to write a test for this method? How do I set it up using VS-unit testing framework and what do I need to Assert?</p>\n"}, {"tags": ["c#", "wcf", "azure", "servicebus"], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 2048603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b309b08bee41bfebc493b3af5d49e0fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nido", "link": "https://stackoverflow.com/users/2048603/nido"}, "is_accepted": true, "score": 1, "last_activity_date": 1432146690, "creation_date": 1432146690, "answer_id": 30357718, "question_id": 30224200, "link": "https://stackoverflow.com/questions/30224200/azure-service-bus-topic-timeout-exception/30357718#30357718", "title": "Azure Service Bus Topic Timeout exception", "body": "<p>I am able to resolve the issue. However, I am going to describe what I learned in this whole exercise.</p>\n\n<ol>\n<li>The token provider added in the behavior  is used for Service Bus Authentication with ACS (Active Directory Service)</li>\n<li>Namespaces created using Azure Portal don't create an ACS endpoint/ACS authentication by default. When you create a namespace it only creates SAS (Shared Access Signature) by default.</li>\n<li>To Authenticate your wcf call with SAS use this Token provider: &lt;<strong>sharedAccessSignature</strong> keyName=\"RootManageSharedAccessKey\" key=\"<strong>key</strong>\" /></li>\n<li><p>In case you want to use ACS authentication then create namespace using Azure Power Shell. Following is the PS command to create Namespace with ACS Authentication enabled:</p>\n\n<p>New-AzureSBNamespace \"Namespace\" \"East US\" -CreateACSNamespace $true -NamespaceType Messaging</p></li>\n</ol>\n\n<p>So to resolve my issue I used the Point 3 described above and it started working.</p>\n"}, {"tags": [], "owner": {"reputation": 9492, "user_id": 743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/40KVo.jpg?s=128&g=1", "display_name": "Ralph Willgoss", "link": "https://stackoverflow.com/users/743/ralph-willgoss"}, "is_accepted": false, "score": 0, "last_activity_date": 1470735426, "creation_date": 1470735426, "answer_id": 38847121, "question_id": 30224200, "link": "https://stackoverflow.com/questions/30224200/azure-service-bus-topic-timeout-exception/38847121#38847121", "title": "Azure Service Bus Topic Timeout exception", "body": "<p>Another thing to look out for, is has someone accidentally left the proxy enabled in your App.config or Web.config? This will produce a similar exception when sending.</p>\n\n<p>Look for something like the following:</p>\n\n<pre><code>  &lt;system.net&gt;\n    &lt;defaultProxy enabled=\"true\" useDefaultCredentials=\"true\"&gt;\n      &lt;proxy autoDetect=\"false\" bypassonlocal=\"false\" proxyaddress=\"http://127.0.0.1:8888\" usesystemdefault=\"false\" /&gt;\n    &lt;/defaultProxy&gt;\n  &lt;/system.net&gt;\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 2048603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b309b08bee41bfebc493b3af5d49e0fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nido", "link": "https://stackoverflow.com/users/2048603/nido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2021, "favorite_count": 0, "accepted_answer_id": 30357718, "answer_count": 2, "score": 1, "last_activity_date": 1470735426, "creation_date": 1431547424, "question_id": 30224200, "link": "https://stackoverflow.com/questions/30224200/azure-service-bus-topic-timeout-exception", "title": "Azure Service Bus Topic Timeout exception", "body": "<p>I am building a POC for Azure Service Bus Topics using the code given on this blog post: <a href=\"http://blogs.msdn.com/b/tomholl/archive/2011/10/09/using-service-bus-topics-and-subscriptions-with-wcf.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/tomholl/archive/2011/10/09/using-service-bus-topics-and-subscriptions-with-wcf.aspx</a> However, I am getting following error. </p>\n\n<blockquote>\n  <p>System.TimeoutException: The request has timed out after 00:00:00 milliseconds. The successful completion of the request cannot be determined. Additional queries should be made to determine whether or not the operation has succeeded.</p>\n</blockquote>\n\n<p>I have done everything as per the Link. Here is my Code, I receive error on this line: ((IChannel)clientChannerl).Open();</p>\n\n<pre><code>        var accountEventLog = new AccountEventLog()\n        {\n            AccountId = 123,\n            EventType = \"BE\",\n            Date = DateTime.Now\n        };\n\n        ChannelFactory&lt;IAccountEventNotification&gt; factory = null;\n        try\n        {\n            factory = new ChannelFactory&lt;IAccountEventNotification&gt;(\"Subscribers\");\n            var clientChannerl = factory.CreateChannel();\n            ((IChannel)clientChannerl).Open();\n\n            using (new OperationContextScope((IContextChannel)clientChannerl))\n            {\n                var bmp = new BrokeredMessageProperty();\n                bmp.Properties[\"AccountId\"] = accountEventLog.AccountId;\n                bmp.Properties[\"EventType\"] = accountEventLog.EventType;\n                bmp.Properties[\"Date\"] = accountEventLog.Date;\n                OperationContext.Current.OutgoingMessageProperties.Add(BrokeredMessageProperty.Name, bmp);\n\n                clientChannerl.onEventOccurred(accountEventLog);\n            }\n\n            ((IChannel)clientChannerl).Close();\n            factory.Close();\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n        }\n</code></pre>\n\n<p>Here is my config settings</p>\n\n<pre><code>    &lt;behaviors&gt;\n      &lt;endpointBehaviors&gt;\n        &lt;behavior name=\"securityBehavior\"&gt;\n          &lt;transportClientEndpointBehavior&gt;\n            &lt;tokenProvider&gt;\n              &lt;sharedSecret issuerName=\"RootManageSharedAccessKey\" issuerSecret=\"Shared Key Here\" /&gt;\n            &lt;/tokenProvider&gt;\n          &lt;/transportClientEndpointBehavior&gt;\n        &lt;/behavior&gt;\n      &lt;/endpointBehaviors&gt;\n    &lt;/behaviors&gt;      \n    &lt;bindings&gt;\n      &lt;netMessagingBinding&gt;\n        &lt;binding name=\"messagingBinding\" sendTimeout=\"00:03:00\" receiveTimeout=\"00:03:00\"\n                  openTimeout=\"00:03:00\" closeTimeout=\"00:03:00\" sessionIdleTimeout=\"00:01:00\"\n                  prefetchCount=\"-1\"&gt;\n          &lt;transportSettings batchFlushInterval=\"00:00:01\" /&gt;\n        &lt;/binding&gt;\n      &lt;/netMessagingBinding&gt;\n    &lt;/bindings&gt;\n    &lt;client&gt;\n      &lt;endpoint name=\"Subscribers\"\n                address=\"sb://Namespace/topicname\"\n                binding=\"netMessagingBinding\"\n                bindingConfiguration=\"messagingBinding\"\n                contract=\"My Contract\"\n                behaviorConfiguration=\"securityBehavior\" /&gt;\n    &lt;/client&gt;\n</code></pre>\n\n<p>Any help will be highly appreciated</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 0, "creation_date": 1431547176, "post_id": 30224125, "comment_id": 48552142, "body": "Have you tried <code>.Count</code> without the parenthesis?"}, {"owner": {"reputation": 6495, "user_id": 1082327, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FzJNd.jpg?s=128&g=1", "display_name": "PoweredByOrange", "link": "https://stackoverflow.com/users/1082327/poweredbyorange"}, "reply_to_user": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 1, "creation_date": 1431547280, "post_id": 30224125, "comment_id": 48552210, "body": "@EBrown <code>Count()</code> is a method in IEnumerables."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 3, "creation_date": 1431547321, "post_id": 30224125, "comment_id": 48552239, "body": "Are you certain that <code>Model.IncomeExpensesViewModel.LastSixIncomeExpenses</code> is not null?  That&#39;s what the exception indicates."}, {"owner": {"reputation": 595, "user_id": 2874985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/025d1f6f76b952d4d79a045432131446?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Ene", "link": "https://stackoverflow.com/users/2874985/marian-ene"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1431547401, "post_id": 30224125, "comment_id": 48552276, "body": "@ChrisDunaway well it is null, and in that case I don&#39;t send any hidden data. But why does it crash at the IF statement"}, {"owner": {"reputation": 6721, "user_id": 3199927, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c899baa07af6e20669ac8867f08a7ddc?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3199927/tom"}, "edited": false, "score": 2, "creation_date": 1431547445, "post_id": 30224125, "comment_id": 48552293, "body": "Because that&#39;s where you&#39;re trying to get the <code>Count</code> of a <code>null</code> object.  You will need to make sure it&#39;s not <code>null</code> first, and then check the count."}, {"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "reply_to_user": {"reputation": 6495, "user_id": 1082327, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FzJNd.jpg?s=128&g=1", "display_name": "PoweredByOrange", "link": "https://stackoverflow.com/users/1082327/poweredbyorange"}, "edited": false, "score": 0, "creation_date": 1431547614, "post_id": 30224125, "comment_id": 48552388, "body": "@PoweredByOrange <a href=\"https://msdn.microsoft.com/en-us/library/27b47ht3%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/27b47ht3%28v=vs.110%29.aspx</a> The <code>List&lt;T&gt;</code> type contains an explicit <code>.Count</code> property. (Though that doesn&#39;t seem to be the issue here, seems to be a <code>NullReferenceException</code>.)"}, {"owner": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "edited": false, "score": 0, "creation_date": 1431548261, "post_id": 30224125, "comment_id": 48552714, "body": "Based on the error message; none of your objects are null or you would get a NullReference error message. Count() is a method and doesn&#39;t take any parameters; so that can&#39;t be the problem either.  Your question refers to &quot;when I submit&quot; ... which tells me this error is generated during the postback.  The error message corroborates that also.  My first suspicion is that the error is not being generated at the source location that you believe."}, {"owner": {"reputation": 4653, "user_id": 1874991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjXlv.jpg?s=128&g=1", "display_name": "kamil-mrzyglod", "link": "https://stackoverflow.com/users/1874991/kamil-mrzyglod"}, "reply_to_user": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "edited": false, "score": 0, "creation_date": 1431548744, "post_id": 30224125, "comment_id": 48552947, "body": "@MarcJohnston - not exactly, referring to <a href=\"https://msdn.microsoft.com/pl-pl/library/bb337697%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/pl-pl/library/bb337697%28v=vs.110%29.aspx</a> - <code>Any()</code> and <code>Count()</code> throws ArgumentNullException when source is null, not NullReferenceException. What is more, <code>Count()</code> do take parameters but there is also a no-parameter overload."}, {"owner": {"reputation": 595, "user_id": 2874985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/025d1f6f76b952d4d79a045432131446?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Ene", "link": "https://stackoverflow.com/users/2874985/marian-ene"}, "reply_to_user": {"reputation": 1187, "user_id": 651740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49d25a5b1991c87d2a194c220de1b00?s=128&d=identicon&r=PG", "display_name": "Marc Johnston", "link": "https://stackoverflow.com/users/651740/marc-johnston"}, "edited": false, "score": 0, "creation_date": 1431549148, "post_id": 30224125, "comment_id": 48553149, "body": "@MarcJohnston, so I&#39;ve started to dig deeper. I&#39;ve inserted manually a row in the table where I wanted to insert with the form, and the date is changes, it&#39;s in a different format from the one on my local machine. Could this be a problem? P.S. I tried adding the != null stuff and I don&#39;t get the error anymore but I don&#39;t do any inserts aswell."}, {"owner": {"reputation": 1371, "user_id": 1565652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8e73b818424b20cba44e68bfe29954d3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankara", "link": "https://stackoverflow.com/users/1565652/sankara"}, "edited": false, "score": 0, "creation_date": 1431551739, "post_id": 30224125, "comment_id": 48554504, "body": "try this .. foreach (var incomeModel in  Model.IncomeExpensesViewModel.LastSixIncomeExpenses ??  new Model.IncomeExpensesViewModel.LastSixIncomeExpenses ())"}, {"owner": {"reputation": 595, "user_id": 2874985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/025d1f6f76b952d4d79a045432131446?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Ene", "link": "https://stackoverflow.com/users/2874985/marian-ene"}, "reply_to_user": {"reputation": 1371, "user_id": 1565652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8e73b818424b20cba44e68bfe29954d3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankara", "link": "https://stackoverflow.com/users/1565652/sankara"}, "edited": false, "score": 0, "creation_date": 1431553747, "post_id": 30224125, "comment_id": 48555425, "body": "@Adam, thank you for the suggestion, but I think I found the issue. So when I insert a row in the DB, besides all of the data, I also insert a date. I get this date from a field where I use a JS Datepicker. I changed the format of the date to <code>dd.mm.yyyy</code> and because of the culture, when I insertsome data in the DB I get <code>mm.dd.yyyy</code>. So if I wanted to insert something in 20th May (20.05.2015 in my timezone), I was inserting 5th of X (i&#39;m getting the date as a string from the field and convert it before I call the SP). I&#39;ll fix this tomorrow. Thank you all for your help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1431563072, "post_id": 30224125, "comment_id": 48558422, "body": "Why on earth are you using <code>@Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Sum, new { @Value = Model.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Sum })</code> - it should be just <code>@Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Sum)</code> - you don&#39;t need to override the <code>value</code> attribute to set it to exactly was it already is"}], "answers": [{"tags": [], "owner": {"reputation": 4653, "user_id": 1874991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjXlv.jpg?s=128&g=1", "display_name": "kamil-mrzyglod", "link": "https://stackoverflow.com/users/1874991/kamil-mrzyglod"}, "is_accepted": false, "score": 0, "last_activity_date": 1431548088, "creation_date": 1431548088, "answer_id": 30224389, "question_id": 30224125, "link": "https://stackoverflow.com/questions/30224125/unusual-value-cannot-be-null/30224389#30224389", "title": "Unusual &quot;value cannot be null&quot;", "body": "<p>You have to change your statement to <code>@if (Model.IncomeExpensesViewModel.LastSixIncomeExpenses != null &amp;&amp; Model.IncomeExpensesViewModel.LastSixIncomeExpenses.Count() &gt; 0)</code> cause you cannot enumerate null collection.</p>\n\n<p>The same is with <code>.Any()</code> - it doesn't check whether collection is not null so it throws exception in that case.</p>\n"}], "owner": {"reputation": 595, "user_id": 2874985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/025d1f6f76b952d4d79a045432131446?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Ene", "link": "https://stackoverflow.com/users/2874985/marian-ene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 732, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431548088, "creation_date": 1431547139, "last_edit_date": 1431547218, "question_id": 30224125, "link": "https://stackoverflow.com/questions/30224125/unusual-value-cannot-be-null", "title": "Unusual &quot;value cannot be null&quot;", "body": "<p>I have an unusual problem on the server where I host my website (on local works just fine).</p>\n\n<p>In a post request, I pass some values to a list, in case I get an error message from the model not being valid, so the data can remain on the screen while the user make the changes (the data I'm referring to is in a table, on the same page with the form)</p>\n\n<pre><code>@if (Model.IncomeExpensesViewModel.LastSixIncomeExpenses.Count() &gt; 0)\n{\n for (var i = 0; i &lt; Model.IncomeExpensesViewModel.LastSixIncomeExpenses.Count(); i++)\n {\n @Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Sum, new { @Value = Model.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Sum })\n @Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Tag, new { @Value = Model.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Tag })\n @Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Date, new { @Value = Model.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Date })\n @Html.HiddenFor(m =&gt; m.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Type, new { @Value = Model.IncomeExpensesViewModel.LastSixIncomeExpenses[i].Type })\n  }\n}\n</code></pre>\n\n<p>So when I submit the input info, I get the error</p>\n\n<pre><code>Value cannot be null. Parameter name: source\n</code></pre>\n\n<p>on this line</p>\n\n<pre><code>@if (Model.IncomeExpensesViewModel.LastSixIncomeExpenses.Count() &gt; 0)\n</code></pre>\n\n<p><code>Model.IncomeExpensesViewModel.LastSixIncomeExpenses</code> is a <code>List&lt;SingleIncomeExpenseViewModel&gt;</code></p>\n\n<p>I tried with Count() and Any(). It didn't work.</p>\n\n<p>Can someone help me?</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 1767, "user_id": 753871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0588fbba6dee14d8bab1c69caa2300?s=128&d=identicon&r=PG", "display_name": "Nguyen Kien", "link": "https://stackoverflow.com/users/753871/nguyen-kien"}, "is_accepted": true, "score": 2, "last_activity_date": 1431547759, "creation_date": 1431547759, "answer_id": 30224296, "question_id": 30224124, "link": "https://stackoverflow.com/questions/30224124/wpf-get-element-from-template-in-code/30224296#30224296", "title": "WPF get element from template in code", "body": "<p>It seem <code>OnApplyTemplate</code> is for <code>UserControl</code> not <code>ContentControl</code></p>\n\n<p>You can write a custom control like this:</p>\n\n<pre><code>public class MyControl : ContentControl\n{\n     public MyControl()\n     {\n         DefaultStyleKey = typeof(MyControl);\n     }\n\n     public override void OnApplyTemplate()\n     {\n         base.OnApplyTemplate();\n         var template = this.pion_test.Template;\n         var contour = GetTemplateChild(\"contour_forme\");\n         forme_path = template.FindName(\"contour_forme\", this.pion_test) as Path;\n         Path path = FindVisualChild&lt;Path&gt;(this.pion_test);\n         var test = this.pion_test.FindName(\"contour_forme\");\n         var test2 = this.pion_test.Template.FindName(\"contour_forme\", this.pion_test);\n     }\n}\n</code></pre>\n\n<p>And Template:</p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type MyControl}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n             &lt;ControlTemplate TargetType=\"MyControl\"&gt;\n             .....\n             &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n"}], "owner": {"reputation": 1240, "user_id": 2088807, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/7761202feccbf9f18be9a36a588220f4?s=128&d=identicon&r=PG", "display_name": "user2088807", "link": "https://stackoverflow.com/users/2088807/user2088807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2313, "favorite_count": 0, "accepted_answer_id": 30224296, "answer_count": 1, "score": 1, "last_activity_date": 1431547759, "creation_date": 1431547138, "question_id": 30224124, "link": "https://stackoverflow.com/questions/30224124/wpf-get-element-from-template-in-code", "title": "WPF get element from template in code", "body": "<p>I want to get an element (a path) which is the template of my content control. I want to get a reference on \"contour_forme\" but every solution found on the internet returns null. I've tried overriding OnApplyTemplate but still null :    </p>\n\n<pre><code>public override void OnApplyTemplate()\n    {\n        base.OnApplyTemplate();\n        var template = this.pion_test.Template;\n        var contour = GetTemplateChild(\"contour_forme\");\n        forme_path = template.FindName(\"contour_forme\", this.pion_test) as Path;\n        Path path = FindVisualChild&lt;Path&gt;(this.pion_test);\n        var test = this.pion_test.FindName(\"contour_forme\");\n        var test2 = this.pion_test.Template.FindName(\"contour_forme\", this.pion_test);\n    }\n</code></pre>\n\n<p>my xaml :</p>\n\n<pre><code>&lt;UserControl.Resources&gt;\n        &lt;Style TargetType=\"{x:Type ContentControl}\" x:Key=\"StylePion\"&gt;\n            &lt;Setter Property=\"BorderBrush\" Value=\"Black\"/&gt;\n            &lt;Setter Property=\"Background\" Value=\"White\" /&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ContentControl\"&gt;\n                        &lt;Grid Width=\"33\" Height=\"34\"&gt;\n                            &lt;Path x:Name=\"contour_forme\"\n                              Stroke=\"{TemplateBinding BorderBrush}\"\n                              StrokeThickness=\"1\"\n                              Stretch=\"Uniform\"\n                              Width=\"28\"\n\n                              HorizontalAlignment=\"Left\"\n                                  Margin=\"0,-1,0,0\"\n                                  RenderTransformOrigin=\"0.59,0.5\"\n                              Fill=\"{TemplateBinding Background}\"\n                              Data=\"M17.36,24.623c-2.142-0.006-4.153-0.552-5.907-1.506l0,0l-0.076-0.046\n        c-1.952-1.08-3.57-2.673-4.692-4.589L0,11.942l7.126-6.514c1.077-1.584,2.519-2.896,4.2-3.84l0.127-0.077l0,0\n        C13.23,0.544,15.27-0.006,17.441,0c6.844z\"\n                                  Tag=\"{TemplateBinding Tag}\"\n                              &gt;\n                                &lt;Path.RenderTransform&gt;\n                                    &lt;RotateTransform Angle=\"50\"/&gt;\n                                &lt;/Path.RenderTransform&gt;\n                            &lt;/Path&gt;\n                            &lt;Ellipse Width=\"21\" Height=\"21\" VerticalAlignment=\"Center\"\n                                     HorizontalAlignment=\"Center\"\n                              Fill=\"{TemplateBinding Background}\"\n                                     /&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/UserControl.Resources&gt;\n    &lt;Grid Name=\"grid_pion\"&gt;\n        &lt;ContentControl Name=\"pion_test\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Tag=\"4\" Content=\"5\" Style=\"{StaticResource StylePion}\" &gt;\n\n        &lt;/ContentControl&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>I want to find a reference to set a rotate transform on it.</p>\n\n<p>What am i doing wrong ?</p>\n"}, {"tags": ["c#", "entity-framework-6", "savechanges"], "answers": [{"tags": [], "owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "is_accepted": false, "score": 0, "last_activity_date": 1431624628, "creation_date": 1431624628, "answer_id": 30243639, "question_id": 30224090, "link": "https://stackoverflow.com/questions/30224090/inserting-entity-that-is-also-mapped-to-a-view/30243639#30243639", "title": "Inserting Entity that is also mapped to a view", "body": "<blockquote>\n  <p>If you have an entity that you know already exists in the database but which is not currently being tracked by the context then you can tell the context to track the entity using the Attach method on DbSet. The entity will be in the Unchanged state in the context.</p>\n</blockquote>\n\n<p>-- <em><a href=\"https://msdn.microsoft.com/en-us/data/jj592676.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/data/jj592676.aspx</a></em></p>\n\n<hr>\n\n<p>If should be fine to just set the <code>State</code> to <code>Added</code>, or even better, to use <code>DbSet&lt;YourEntity&gt;.Add()</code>. You shouldn't both set <code>State</code> and perform <code>Attach()</code>.</p>\n"}], "owner": {"reputation": 163, "user_id": 3348535, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1ef09355f62f986f8891796d9157c9b3?s=128&d=identicon&r=PG&f=1", "display_name": "DeveryDay", "link": "https://stackoverflow.com/users/3348535/deveryday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431627468, "creation_date": 1431547015, "last_edit_date": 1431627468, "question_id": 30224090, "link": "https://stackoverflow.com/questions/30224090/inserting-entity-that-is-also-mapped-to-a-view", "title": "Inserting Entity that is also mapped to a view", "body": "<p>I'm pretty new to Entity Framework 6 and so it may be a bit difficult on how to ask this question, but essentially I have an entity configuration that is set up like so:</p>\n\n<pre><code>public class EntityExampleConfiguration : EntityTypeConfiguration&lt;Entity&gt;\n{\n    public EntityExampleConfiguration()\n    {\n        Map(f =&gt;\n            {\n                f.Properties(p =&gt; new\n                {\n                    p.ID,\n                    p.Status\n                    p.Filed\n                    p.By,\n                    p.Title,\n                    p.Waiver,\n                    p.Notes,\n                    p.Type\n                });\n                f.ToTable(\"EntityTable\");\n            })\n        .Map(f =&gt;\n            {\n                f.Properties(p =&gt; new\n                {\n                    p.EntityID,\n                    p.EntityName,\n                    p.County,\n                    p.Hash\n                });\n                f.ToTable(\"View\");\n            });\n\n        HasKey(f =&gt; f.ID);\n\n        Property(f =&gt; f.ID).HasColumnName(\"ExID\");\n        Property(f =&gt; f.EntityID).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Computed);\n        Property(f =&gt; f.EntityName).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Computed);\n        Property(f =&gt; f.County).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Computed);\n        Property(f =&gt; f.Hash).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Computed);\n\n    }\n}\n</code></pre>\n\n<p>Where the <code>EntityExampleConfiguration</code> combines a table (<code>EntityTable</code>) with a view (<code>View</code>). My problem (I believe) is that because of the way this is set up, when I try to insert something it doesn't insert:</p>\n\n<pre><code>Db.Entry(EntityObjectToInsert).State = EntityState.Added;\nDb.Entity.Attach(EntityObjectToInsert);\nDb.SaveChanges();\n</code></pre>\n\n<p>I don't get an exception or anything, and my program just continues execution, but if I stop at a breakpoint after attempting to save, <code>EntityObjectToInsert.ID</code> is still -1 (which is default when the object is created), and it's not in my table. </p>\n\n<p>I suspect the view has something to do with this but can't find any good information on how it could be, if it even is. I am able to load data into a model and update, but inserting is a new function I am building into the application and it's the only thing not working.</p>\n"}, {"tags": ["c#", "list", "object", "save"], "comments": [{"owner": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 3, "creation_date": 1431547078, "post_id": 30224045, "comment_id": 48552095, "body": "It&#39;s called <a href=\"https://msdn.microsoft.com/en-us/library/4abbf6k0%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Serialization/DeSerialization.</a>"}, {"owner": {"reputation": 3581, "user_id": 1696044, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77e0d1571ed8fd1f9249a01e7569db05?s=128&d=identicon&r=PG", "display_name": "Erik Gillespie", "link": "https://stackoverflow.com/users/1696044/erik-gillespie"}, "edited": false, "score": 0, "creation_date": 1431547177, "post_id": 30224045, "comment_id": 48552144, "body": "Could you put some mention of what you have already tried or be more specific about what you&#39;re asking (e.g. do you want to save binary data to a file, JSON, XML, etc.)?"}, {"owner": {"reputation": 41, "user_id": 4797549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c175901a05517bb8695ac724fbe5e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4797549/john"}, "reply_to_user": {"reputation": 3581, "user_id": 1696044, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77e0d1571ed8fd1f9249a01e7569db05?s=128&d=identicon&r=PG", "display_name": "Erik Gillespie", "link": "https://stackoverflow.com/users/1696044/erik-gillespie"}, "edited": false, "score": 1, "creation_date": 1431547898, "post_id": 30224045, "comment_id": 48552518, "body": "@ErikGillespie, XML serilization seems to be what I am looking for."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1431551217, "post_id": 30224045, "comment_id": 48554211, "body": "The conclusion of <i>public class HighScore</i> is &quot;{&quot;. Shouldn&#39;t it be &quot;}&quot;. I don&#39;t think it will compile as stated. And how does &quot;public partial class Form1 : Form&quot; end?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4797549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c175901a05517bb8695ac724fbe5e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4797549/john"}, "edited": false, "score": 0, "creation_date": 1431547811, "post_id": 30224240, "comment_id": 48552480, "body": "Thank you for pointing out XML serialization. I will be looking into XML serialization and try to  implement it into my test program."}], "tags": [], "owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "is_accepted": true, "score": 2, "last_activity_date": 1431551094, "last_edit_date": 1431551094, "creation_date": 1431547557, "answer_id": 30224240, "question_id": 30224045, "link": "https://stackoverflow.com/questions/30224045/how-do-i-save-an-object-list-when-i-close-the-program-and-load-it-when-i-open-i/30224240#30224240", "title": "How do I save an object list when I close the program, and load it when I open it again?", "body": "<p>One easy-to-implement way is to serialize with the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.serialization.formatters.binary.binaryformatter(v=vs.110).aspx\" rel=\"nofollow\">binaryformatter</a>.</p>\n\n<p>Add the <code>[Serializable]</code> attribute to your high score class:</p>\n\n<pre><code>[Serializable]\npublic class HighScore\n{\n    public string name;\n    public int points;\n\n    public HighScore(string N, int P)\n    {\n       this.name = N;\n       this.points = P;\n    }\n</code></pre>\n\n<p>To save your data, you serialize the List&lt;T> (which also has the Serializable attriibute)</p>\n\n<pre><code>BinaryFormatter.Serialize(somestream,somehighsscorelist)\n</code></pre>\n\n<p>And to get it back again:</p>\n\n<pre><code>List&lt;HighScore&gt; savedscores = (List&lt;HighScore&gt;)BinaryFormatter.Deserialize(somestream)\n</code></pre>\n\n<p>Also I would store the file name as an application setting and remember that if you change the structure of the HighScore class you won't be able to deserialize your old files. XML serialization would be more version tolerant.</p>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 4119143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc245ca422daa844173fb025a3291f4?s=128&d=identicon&r=PG&f=1", "display_name": "tuxy42", "link": "https://stackoverflow.com/users/4119143/tuxy42"}, "is_accepted": false, "score": 0, "last_activity_date": 1431550843, "last_edit_date": 1431550843, "creation_date": 1431548674, "answer_id": 30224548, "question_id": 30224045, "link": "https://stackoverflow.com/questions/30224045/how-do-i-save-an-object-list-when-i-close-the-program-and-load-it-when-i-open-i/30224548#30224548", "title": "How do I save an object list when I close the program, and load it when I open it again?", "body": "<p>This is a full example:</p>\n\n<pre><code>[Serializable]\npublic class HighScore {\n    public string name;\n    public int points;\n\n    public HighScore(string N, int P) {\n        this.name = N;\n        this.points = P;\n    }\n\n}\n\n[Serializable]\npublic class GameData {\n    public List&lt;HighScore&gt; ScoreList { get; set; }\n    public GameData() {\n        ScoreList = new List&lt;HighScore&gt;();\n    }\n}\n\n\n    private GameData gameData = new GameData();\n\n    private void load_Click(object sender, RoutedEventArgs e) {\n        Stream stream = null;\n        try {\n            stream = File.Open(\"file.bin\", FileMode.Open);\n            BinaryFormatter bformatter = new BinaryFormatter();\n            gameData = (GameData)bformatter.Deserialize(stream);\n        } finally {\n            if (stream != null)\n                stream.Close();\n        }\n    }\n\n    private void save_Click(object sender, RoutedEventArgs e) {\n        Stream stream = null;\n        try {\n            stream = File.Open(\"file.bin\", FileMode.Create);\n            BinaryFormatter bformatter = new BinaryFormatter();\n            bformatter.Serialize(stream, gameData);\n            stream.Close();\n        } finally {\n            if (stream != null)\n                stream.Close();\n        }\n    }\n\n    private void display_Click(object sender, RoutedEventArgs e) {\n        foreach (HighScore per in gameData.ScoreList) {\n            Console.WriteLine(per.name + \"  \" + per.points + \"\\n\");\n        }\n    }\n\n    private void addscore_Click(object sender, RoutedEventArgs e) {\n        gameData.ScoreList.Add(new HighScore(\"Doe\", 3000));\n    }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4797549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c175901a05517bb8695ac724fbe5e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4797549/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "closed_date": 1431576386, "accepted_answer_id": 30224240, "answer_count": 2, "score": -1, "last_activity_date": 1431551094, "creation_date": 1431546860, "last_edit_date": 1431550722, "question_id": 30224045, "link": "https://stackoverflow.com/questions/30224045/how-do-i-save-an-object-list-when-i-close-the-program-and-load-it-when-i-open-i", "closed_reason": "Duplicate", "title": "How do I save an object list when I close the program, and load it when I open it again?", "body": "<p>How do I save an object list to the computer as XML when I close the program, and load it when I open the progam again?</p>\n\n<p>This is my test code with the object list I want to save, and then load when I open the program again:</p>\n\n<pre><code>public class HighScore\n{\n    public string name;\n    public int points;\n\n    public HighScore(string N, int P)\n    {\n        this.name = N;\n        this.points = P;\n    }\n{\n\n\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    public static string name;\n    public static int points;\n    public static List&lt;HighScore&gt; scorem = new List&lt;HighScore&gt;();\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        scorem.Add(new HighScore(\"Paul\", 20));\n        scorem.Add(new HighScore(\"Robert\", 30));\n        scorem.Add(new HighScore(\"John\", 35));\n        scorem.Add(new HighScore(\"Steph\", 25));\n        scorem.Add(new HighScore(\"Seth\", 40));\n        scorem.Add(new HighScore(\"Johnny\", 55));\n        scorem.Add(new HighScore(\"Michael\", 200));\n        scorem.Add(new HighScore(\"Robertinoe\", 300));\n        scorem.Add(new HighScore(\"Marstrand\", 2500));\n        scorem.Add(new HighScore(\"Doe\", 3000));\n\n        scorem = scorem.OrderByDescending(x =&gt; x.points).ToList();\n\n        foreach(HighScore per in scorem)\n        {\n           label1.Text += per.name + \"  \" + per.points + \"\\n\";\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "cs-script"], "comments": [{"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431546862, "post_id": 30224006, "comment_id": 48551964, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/ms972962.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms972962.aspx</a>"}, {"owner": {"reputation": 59, "user_id": 4897297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DGQ5lqzAsMU/AAAAAAAAAAI/AAAAAAAAACk/EYE3nHh2Mlk/photo.jpg?sz=128", "display_name": "rzhw3h", "link": "https://stackoverflow.com/users/4897297/rzhw3h"}, "reply_to_user": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431549373, "post_id": 30224006, "comment_id": 48553254, "body": "@RadioSpace ill take look on that thanks."}, {"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431549680, "post_id": 30224006, "comment_id": 48553400, "body": "I swear there was a built in set of classes they introduced a while back but I can&#39;t think of it right now"}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431556147, "post_id": 30224006, "comment_id": 48556454, "body": "@RadioSpace Did you mean MEF? <a href=\"https://msdn.microsoft.com/de-de/library/ee332203.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/de-de/library/ee332203.aspx</a>"}, {"owner": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "reply_to_user": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "edited": false, "score": 0, "creation_date": 1431561829, "post_id": 30224006, "comment_id": 48558059, "body": "@Koopakiller that&#39;s the one. <a href=\"https://msdn.microsoft.com/en-us/library/dd460648(v=vs.100).aspx\" rel=\"nofollow noreferrer\">English</a> version. thanks I forgot the name."}, {"owner": {"reputation": 2669, "user_id": 1623754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/382890079c7edd28ea2de92e6f2815f8?s=128&d=identicon&r=PG", "display_name": "Koopakiller", "link": "https://stackoverflow.com/users/1623754/koopakiller"}, "reply_to_user": {"reputation": 933, "user_id": 3246007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WqWj7.png?s=128&g=1", "display_name": "RadioSpace", "link": "https://stackoverflow.com/users/3246007/radiospace"}, "edited": false, "score": 0, "creation_date": 1431610223, "post_id": 30224006, "comment_id": 48578760, "body": "@RadioSpace Thank you, I forgot to change the language of the link."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4897297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DGQ5lqzAsMU/AAAAAAAAAAI/AAAAAAAAACk/EYE3nHh2Mlk/photo.jpg?sz=128", "display_name": "rzhw3h", "link": "https://stackoverflow.com/users/4897297/rzhw3h"}, "reply_to_user": {"reputation": 13946, "user_id": 547640, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4b225b23e824b87350647be70b5c44c?s=128&d=identicon&r=PG", "display_name": "Karl-Johan Sj&#246;gren", "link": "https://stackoverflow.com/users/547640/karl-johan-sj%c3%b6gren"}, "edited": false, "score": 0, "creation_date": 1431807831, "post_id": 30237565, "comment_id": 48659009, "body": "@Karl-Johan somewhy the formatting didnt work well thanks anyways"}], "tags": [], "owner": {"reputation": 59, "user_id": 4897297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DGQ5lqzAsMU/AAAAAAAAAAI/AAAAAAAAACk/EYE3nHh2Mlk/photo.jpg?sz=128", "display_name": "rzhw3h", "link": "https://stackoverflow.com/users/4897297/rzhw3h"}, "is_accepted": true, "score": 2, "last_activity_date": 1431607865, "last_edit_date": 1431607865, "creation_date": 1431606951, "answer_id": 30237565, "question_id": 30224006, "link": "https://stackoverflow.com/questions/30224006/c-compiling-source-files-as-plugins/30237565#30237565", "title": "C# compiling source files as plugins", "body": "<p>did it</p>\n\n<pre><code>using System;  \nusing Weird;  \n\npublic class WAddon : IAddon  \n{  \n    public void Load(ResourceManager resManager)  \n    {  \n        resManager.add(\"var\", \"24\");  \n    }  \n}\n</code></pre>\n\n<p>needed to add interface : </p>\n\n<pre><code>using System;    \n\nnamespace Weird  \n{  \n    public interface IAddon  \n    {  \n        void Load(ResourceManager resManager, Overlay overlay);  \n    }  \n}\n</code></pre>\n\n<p>code from run method :</p>\n\n<pre><code>CSScript.Evaluator.ReferenceAssembliesFromCode(\n        Weird.Properties.Resources.iaddon_source\n    );\nIAddon block = (IAddon) CSScript.Evaluator.LoadCode(File.ReadAllText(f.FullName));\n\nblock.Load(resManager, overlay);  \n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4897297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DGQ5lqzAsMU/AAAAAAAAAAI/AAAAAAAAACk/EYE3nHh2Mlk/photo.jpg?sz=128", "display_name": "rzhw3h", "link": "https://stackoverflow.com/users/4897297/rzhw3h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 2, "accepted_answer_id": 30237565, "answer_count": 1, "score": 3, "last_activity_date": 1431607865, "creation_date": 1431546709, "question_id": 30224006, "link": "https://stackoverflow.com/questions/30224006/c-compiling-source-files-as-plugins", "title": "C# compiling source files as plugins", "body": "<p>i want to make plugin support for my program  </p>\n\n<p>the goal is to make it compile files in plugin folder and launch\nfew methods but i can get it working  </p>\n\n<p>my current progress using CSScriptLibrary :</p>\n\n<pre><code>public static void run(String fileName, String methodName, params Object[] parameters)\n    {\n        FileInfo f = new FileInfo(fileName);\n\n        try\n        {\n            CSScript.Evaluator.Reset();\n            CSScript.Evaluator.ReferenceAssembliesFromCode(File.ReadAllText(Environment.CurrentDirectory + @\"\\addons\\ResourceManager.cs\"));\n            dynamic block = CSScript.Evaluator.LoadCode(File.ReadAllText(f.FullName));\n            block.Load(parameters); // &lt;---- Exception\n        }\n        catch(Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n</code></pre>\n\n<p>but it throws exception :</p>\n\n<pre><code>Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: The best overloaded method match for 'WAddon.Load(Weird.ResourceManager)' has some invalid arguments AddonManager.cs:line 28\n</code></pre>\n\n<p>the addon file :</p>\n\n<pre><code>using System;\nusing Weird;\n\nclass WAddon\n{\npublic static void Load(ResourceManager resManager)\n{\n    resManager.add(\"var\", \"0\");\n}\n}\n</code></pre>\n\n<p>i dont think resmanager class is important anyways want to pass instance of it to load function so it can change things on original program</p>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 6495, "user_id": 1082327, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FzJNd.jpg?s=128&g=1", "display_name": "PoweredByOrange", "link": "https://stackoverflow.com/users/1082327/poweredbyorange"}, "edited": false, "score": 5, "creation_date": 1431547165, "post_id": 30223982, "comment_id": 48552134, "body": "The error is saying IIS cannot find an endpoint for this specific contract <code>SMSGatewayPort</code>. Double check your web.config file and make sure there&#39;s an endpoint defined for this service. Or are you creating the endpoints in the code?"}, {"owner": {"reputation": 2450, "user_id": 2239678, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da8ab5f68f50f527dec747aa39cb6104?s=128&d=identicon&r=PG", "display_name": "andrei.ciprian", "link": "https://stackoverflow.com/users/2239678/andrei-ciprian"}, "edited": false, "score": 0, "creation_date": 1431589302, "post_id": 30223982, "comment_id": 48566533, "body": "If you are not creating the endpoint and binding to the external service programmatically upon calling it from your IIS hosted service (and external service client at the same time) you need to add the external.config enpoints and bindings into your.config just as you would do with any WCF client."}], "answers": [{"comments": [{"owner": {"reputation": 3334, "user_id": 1083913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9c3d233c7e8d3930961e1fc3c32c7777?s=128&d=identicon&r=PG", "display_name": "AlexandruC", "link": "https://stackoverflow.com/users/1083913/alexandruc"}, "edited": false, "score": 0, "creation_date": 1496068173, "post_id": 30232534, "comment_id": 75498587, "body": "I am trying to consume a web service from another web service, while using mutual ssl for communication, somehow I&#39;m having an issue with this when they are both hosted under the same IIS <a href=\"https://stackoverflow.com/questions/44238239/wcf-client-inside-wcf-service-with-mutual-ssl?noredirect=1#comment75497248_44238239\" title=\"wcf client inside wcf service with mutual ssl\">stackoverflow.com/questions/44238239/&hellip;</a>"}], "tags": [], "owner": {"reputation": 27873, "user_id": 569662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DROcJ.png?s=128&g=1", "display_name": "tom redfern", "link": "https://stackoverflow.com/users/569662/tom-redfern"}, "is_accepted": true, "score": 2, "last_activity_date": 1431591479, "creation_date": 1431591479, "answer_id": 30232534, "question_id": 30223982, "link": "https://stackoverflow.com/questions/30223982/how-to-call-wcf-service-to-wcf-service-in-c/30232534#30232534", "title": "How to call WCF service to WCF service in C#", "body": "<p>There is no technical reason why you can't call a WCF service from another WCF service. You can chain as many service calls together as you like.</p>\n\n<p>Let's call your calling service ServiceA and the external service ServiceB.</p>\n\n<p>The error you are getting is saying that there is a problem with the client configuration in ServiceA. What this means is that the code telling WCF how to construct the client channel from ServiceA to ServiceB is missing or invalid.</p>\n\n<p>Now, for each service you want to call, you need to define an <a href=\"https://msdn.microsoft.com/en-us/library/ms731762(v=vs.110).aspx\" rel=\"nofollow\">endpoint</a> inside the <a href=\"https://msdn.microsoft.com/en-us/library/ms731704(v=vs.110).aspx\" rel=\"nofollow\">client</a> section in your <code>&lt;system.serviceModel/&gt;</code> configuration. Your endpoint definition must specify: </p>\n\n<ol>\n<li>A name for the endpoint definition</li>\n<li>The address of the service you are calling</li>\n<li>Which transport binding the service is exposed over</li>\n<li>The fully qualified name of the type containing the service definition </li>\n</ol>\n\n<p>Optionally, you may need to include a <a href=\"https://msdn.microsoft.com/en-us/library/ms731721(v=vs.110).aspx\" rel=\"nofollow\">service identity</a> specification, depending on if the service you're calling requires authentication.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;client&gt;\n    &lt;endpoint name=\"MyExternalEndpoint\"\n              address=\"http://externalservice.com\"\n              binding=\"wsHttpBinding\" \n              contract=\"ExternalService.IServiceContract\" &gt;\n      &lt;identity&gt;\n        &lt;dns value=\"externalservice.com\" /&gt;\n      &lt;/identity&gt;\n    &lt;/endpoint&gt;\n&lt;/client&gt; \n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4730585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/38ffd08c3b958dd9bda7fb382ab331e3?s=128&d=identicon&r=PG&f=1", "display_name": "Chiranjeevi", "link": "https://stackoverflow.com/users/4730585/chiranjeevi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3187, "favorite_count": 0, "accepted_answer_id": 30232534, "answer_count": 1, "score": 1, "last_activity_date": 1431591479, "creation_date": 1431546608, "question_id": 30223982, "link": "https://stackoverflow.com/questions/30223982/how-to-call-wcf-service-to-wcf-service-in-c", "title": "How to call WCF service to WCF service in C#", "body": "<p>I am facing strange issue.</p>\n\n<p>I have one WCF Library that is calling one external wcf service. and i am able to see the result as expected in test client.</p>\n\n<p>But i have to host this WCF Library in IIS, for that i have to use one wcf service.\nI refered Wcflibrary dll into the service, but getting the below error while creating object to external wcf service.</p>\n\n<blockquote>\n  <p>An exception of type 'System.InvalidOperationException' occurred in\n  System.ServiceModel.dll but was not handled in user code</p>\n  \n  <p>Additional information: Could not find default endpoint element that\n  references contract 'SMSAgent.SMSGatewayPort' in the ServiceModel\n  client configuration section. This might be because no configuration\n  file was found for your application, or because no endpoint element\n  matching this contract could be found in the client element.</p>\n</blockquote>\n\n<p>can any body please suggest.Is this scenario is having any issues?</p>\n"}, {"tags": ["c#", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 1417, "user_id": 1633784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a81d32eee416b06f47cd4c55861a850?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Richmeier", "link": "https://stackoverflow.com/users/1633784/jason-richmeier"}, "edited": false, "score": 0, "creation_date": 1450472815, "post_id": 30225815, "comment_id": 56470357, "body": "I stumbled across this post a few moments ago.  I <i>think</i> I have the resource (.resx file) embedded in my assembly.  How do I access it?"}, {"owner": {"reputation": 1309, "user_id": 400771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be4725b0bd0f9813afbe767dc269f0d?s=128&d=identicon&r=PG", "display_name": "David Driscoll", "link": "https://stackoverflow.com/users/400771/david-driscoll"}, "reply_to_user": {"reputation": 1417, "user_id": 1633784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a81d32eee416b06f47cd4c55861a850?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Richmeier", "link": "https://stackoverflow.com/users/1633784/jason-richmeier"}, "edited": false, "score": 0, "creation_date": 1452193161, "post_id": 30225815, "comment_id": 57071525, "body": ".resx files are another story, they are not automatically compiled in the same way they are with the MSBuild based tasks.  If you&#39;re looking to just read the xml of .resx, then you just need to read the file out of the assembly using the same methods you would read any embedded resource from an assembly."}, {"owner": {"reputation": 487, "user_id": 5529255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zIdnf.jpg?s=128&g=1", "display_name": "dune.rocks", "link": "https://stackoverflow.com/users/5529255/dune-rocks"}, "edited": false, "score": 1, "creation_date": 1492513406, "post_id": 30225815, "comment_id": 73995558, "body": "Coming from C and I just can&#39;t believe what an utter mess all this is lmao."}], "tags": [], "owner": {"reputation": 1309, "user_id": 400771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be4725b0bd0f9813afbe767dc269f0d?s=128&d=identicon&r=PG", "display_name": "David Driscoll", "link": "https://stackoverflow.com/users/400771/david-driscoll"}, "is_accepted": true, "score": 4, "last_activity_date": 1431553996, "creation_date": 1431553996, "answer_id": 30225815, "question_id": 30223947, "link": "https://stackoverflow.com/questions/30223947/how-do-i-add-an-embedded-resource-to-a-class-library-package-project-in-vs-2/30225815#30225815", "title": "How Do I Add an Embedded Resource to a &quot;Class Library (Package)&quot; Project in VS 2015 RC?", "body": "<p>There is the default magic <code>/compiler/resources</code> that you can use to drop files in and they will be embedded automatically.  I have an example @ <a href=\"https://github.com/Blacklite/Features/tree/master/src/Blacklite.Framework.Features.Http\" rel=\"nofollow\">https://github.com/Blacklite/Features/tree/master/src/Blacklite.Framework.Features.Http</a> ( Note as of this post, it was not updated to beta4, but the functionality hasn't changed to my knowledge )</p>\n\n<p>Also as per the schema, you can point at a specific folder using the \"resources\" key in your <code>project.json</code>.\nSee: <a href=\"http://json.schemastore.org/project\" rel=\"nofollow\">http://json.schemastore.org/project</a></p>\n"}], "owner": {"reputation": 3600, "user_id": 467380, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ebc3f83cda879c33270baf5ecc17fd5?s=128&d=identicon&r=PG", "display_name": "vbullinger", "link": "https://stackoverflow.com/users/467380/vbullinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4788, "favorite_count": 0, "accepted_answer_id": 30225815, "answer_count": 1, "score": 6, "last_activity_date": 1431553996, "creation_date": 1431546516, "question_id": 30223947, "link": "https://stackoverflow.com/questions/30223947/how-do-i-add-an-embedded-resource-to-a-class-library-package-project-in-vs-2", "title": "How Do I Add an Embedded Resource to a &quot;Class Library (Package)&quot; Project in VS 2015 RC?", "body": "<p>There is a new project template in the Visual Studio 2015 release candidate called \"Class Library (Package).\" It's in the Visual C#/Web category. In the information panel of the project type, it says \"PREVIEW - A project template for creating a class library as a NuGet package that can target any platform.\"</p>\n\n<p>I'm doing something similar that I did in a normal Class Library project and involves an embedded resource. Normally, there's an option in the Properties dialog that allows you to specify a \"Build Action.\" You can then select \"Embedded Resource.\" That option does not appear in the Properties dialog for a file in a \"Class Library (Project)\" project.</p>\n\n<p>Does anybody know how to add an embedded resource to a \"Class Library (Package)\" project in VS 2015 RC? Is it even possible?</p>\n"}, {"tags": ["c#", "entity-framework", "oop", "crud"], "comments": [{"owner": {"reputation": 114215, "user_id": 414076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GTTci.png?s=128&g=1", "display_name": "Anthony Pegram", "link": "https://stackoverflow.com/users/414076/anthony-pegram"}, "edited": false, "score": 1, "creation_date": 1431546406, "post_id": 30223895, "comment_id": 48551730, "body": "oldMyEntity is just a variable, not some permanent tether to the object returned from the data context. What&#39;s odd is why you would think overwriting the entire variable would behave differently. What brought you to your original conclusion?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1431546464, "post_id": 30223895, "comment_id": 48551757, "body": "Why <i>would</i> updating the reference update the object?  If you edit your listed address in the yellow pages from 123 Fake St. to 987 Other Ln does it mean the house at 123 Fake St. gets picked up and moved to 987 Other Ln. automatically?  Editing an address to another address isn&#39;t going to affect either objects referred to by either address."}, {"owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "edited": false, "score": 0, "creation_date": 1431546578, "post_id": 30223895, "comment_id": 48551814, "body": "I get the point, but now I&#39;m confused. Then why does the latter code example update the object?"}, {"owner": {"reputation": 26629, "user_id": 206394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/67b588ca896693bf58fa04dc13917d1d?s=128&d=identicon&r=PG", "display_name": "Dan Bryant", "link": "https://stackoverflow.com/users/206394/dan-bryant"}, "edited": false, "score": 1, "creation_date": 1431546579, "post_id": 30223895, "comment_id": 48551816, "body": "Regarding the EF-specific question, what you may be wanting to do here is to <a href=\"http://www.entityframeworktutorial.net/EntityFramework5/attach-disconnected-entity-graph.aspx\" rel=\"nofollow noreferrer\">Attach</a> your &#39;myEntity&#39; object by its key so that EF can detect the changes and save them.  The exact details of how you do this depend on the lifetime of your context and where your &#39;myEntity&#39; came from, but this might point you in the right direction."}, {"owner": {"reputation": 7677, "user_id": 649922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6018c4ebb37ea82122c941aeaaab3b4b?s=128&d=identicon&r=PG", "display_name": "Ortiga", "link": "https://stackoverflow.com/users/649922/ortiga"}, "edited": false, "score": 0, "creation_date": 1431546650, "post_id": 30223895, "comment_id": 48551863, "body": "In NHibernate, you can achieve that by updating the first level cache. Not sure if it works this way in EF..."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1431546739, "post_id": 30223895, "comment_id": 48551905, "body": "@Sami Why does mutating the object that is referred to by an address you have to that object actually mutate that object?  Because you mutated the object.  When you mutate the object it mutates the object.  When you mutate the reference it mutates the reference.  Mutating either one of those two things doesn&#39;t mutate the other."}, {"owner": {"reputation": 8861, "user_id": 49251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a3b05f845f8c433de0ca3e5805bcd7a6?s=128&d=identicon&r=PG", "display_name": "DWright", "link": "https://stackoverflow.com/users/49251/dwright"}, "edited": false, "score": 0, "creation_date": 1431547002, "post_id": 30223895, "comment_id": 48552046, "body": "In the first case, it&#39;s as though you never called <code>MyEntity oldMyEntity = context.MyEntities.Where(m =&gt; m.Id == myEntity.Id).FirstOrDefault();     oldMyEntity = myEntity;</code>, because you immediately change what <code>oldMyentity</code> refers to (on the next line). So, <code>oldMyEntity</code> no longer refers to what you retrieved form the context.  In the second case, you altered what was retrieved from the context--so that the context is aware of the change and the update is saved."}, {"owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1431547155, "post_id": 30223895, "comment_id": 48552127, "body": "@Servy Did I get this now, using your previous house as an example: If I declare a <code>var House = aLittleRedCottage</code> and after that <code>House = aCottageNextToTheRedOne</code> I change the variable&#39;s reference to a whole other house and the red cottage stays as it is. Instead <code>House.DoorKnob = aCottageNextToTheRedOne.DoorKnob</code> would change the little red cottage&#39;s doorknob to match the other?"}, {"owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1431547316, "post_id": 30223895, "comment_id": 48552237, "body": "@Servy Thanks.. I feel enlightened, yet a bit embarrased ;)"}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 5, "last_activity_date": 1431547596, "last_edit_date": 1431547596, "creation_date": 1431546909, "answer_id": 30224059, "question_id": 30223895, "link": "https://stackoverflow.com/questions/30223895/why-doesnt-updating-a-reference-update-the-object/30224059#30224059", "title": "Why doesn&#39;t updating a reference update the object?", "body": "<p>What happens in your first code snippet is not an update of a by-reference object, it is an update of a reference to an object, while the object itself remains unchanged.</p>\n\n<p>Here is what happens:</p>\n\n<ul>\n<li>First line gets <code>MyEntity</code> object from the <code>context</code>.</li>\n<li>Second line replaces the reference to that object with a reference to another object.</li>\n<li>The object that you have just retrieved is no longer accessible directly, and it has not been modified.</li>\n<li>Context has no changes to save, because the object retrieved from <code>context</code> remains unmodified.</li>\n</ul>\n\n<p>Here is an illustration: before reassignment object references look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/379qI.png\" alt=\"Before assignment\"></p>\n\n<p>After the assignment, it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ipAny.png\" alt=\"After the assignment\"></p>\n\n<p>In contrast, your second code snippet modifies the original object given to you by the <code>context</code>. This object is tracked, so setting new values to its properties results in an update at the time that you save changes:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7lHhO.png\" alt=\"Assigning a property\"></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 3906726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oy8Bg.jpg?s=128&g=1", "display_name": "Zrethreal", "link": "https://stackoverflow.com/users/3906726/zrethreal"}, "is_accepted": false, "score": 1, "last_activity_date": 1431546930, "creation_date": 1431546930, "answer_id": 30224064, "question_id": 30223895, "link": "https://stackoverflow.com/questions/30223895/why-doesnt-updating-a-reference-update-the-object/30224064#30224064", "title": "Why doesn&#39;t updating a reference update the object?", "body": "<p>You almost answer the question yourself.</p>\n\n<p>oldMyEntity is a reference to an object - when you do the assignment</p>\n\n<pre><code>oldMyEntity = myEntity;\n</code></pre>\n\n<p>you change the reference to point to another object and the previous reference is lost - hence you are never changing any values and there are no changed values to save.</p>\n\n<p>Your second example works because you keep the reference to the object you load from your context and change the value in that particular object to something else</p>\n"}], "owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 30224059, "answer_count": 2, "score": 1, "last_activity_date": 1431547596, "creation_date": 1431546299, "question_id": 30223895, "link": "https://stackoverflow.com/questions/30223895/why-doesnt-updating-a-reference-update-the-object", "title": "Why doesn&#39;t updating a reference update the object?", "body": "<p>I have a project with Entity Framework repository pattern to manage objects in a database. I'm wondering why doesn't an object update by passing a new object's reference to it. (question may be a bit inaccurate, but you'll get the picture with the code)<br/>\nMy update method is the following:</p>\n\n<pre><code>public void UpdateMyEntity(MyEntity myEntity)\n{\n    MyEntity oldMyEntity = context.MyEntities.Where(m =&gt; m.Id == myEntity.Id).FirstOrDefault();\n    oldMyEntity = myEntity;\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>Now I have checked that properties on <code>oldMyEntity</code> are updated to match those on <code>myEntity</code>, so I could assume that the object in the database gets updated. For some reason this is not the case. If I change my code to following:</p>\n\n<pre><code>public void UpdateMyEntity(MyEntity myEntity)\n{\n    MyEntity oldMyEntity = context.MyEntities.Where(m =&gt; m.Id == myEntity.Id).FirstOrDefault();\n    oldMyEntity.MyProperty = myEntity.MyProperty;\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>The object is updated as it should.<br />\n<strong>Question:</strong> Why doesn't passing the whole object work? It would be a lot more efficient to pass the whole object and not all properties one by one.\n<br />Sorry for the verbose question and thanks for your answers.</p>\n"}, {"tags": ["c#", "memory-leaks", "openxml-sdk"], "comments": [{"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431547974, "post_id": 30223850, "comment_id": 48552561, "body": "Try this link here --&gt; <a href=\"http://stackoverflow.com/questions/134086/what-strategies-and-tools-are-useful-for-finding-memory-leaks-in-net\" title=\"what strategies and tools are useful for finding memory leaks in net\">stackoverflow.com/questions/134086/&hellip;</a>  I have it bookmarked because there are some very useful suggestions/links/answers there"}, {"owner": {"reputation": 4386, "user_id": 1282151, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1YtR.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1282151/alex"}, "reply_to_user": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431554551, "post_id": 30223850, "comment_id": 48555780, "body": "I really do appreciate help with memory leak fighting tools. I do! But what can I do when I find memory leak in OpenXML? That was the reason why I posted this example. I don&#39;t know how to fight this memory leak - don&#39;t use OpenXML? Or Windows?"}, {"owner": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431554887, "post_id": 30223850, "comment_id": 48555934, "body": "I use OpenXML all the time and don&#39;t usually have memory issues.  If you read through all the answers in the link I posted you will find numerous blog posts and articles for troubleshooting strategies, not just tools."}, {"owner": {"reputation": 4386, "user_id": 1282151, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1YtR.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1282151/alex"}, "reply_to_user": {"reputation": 604, "user_id": 3633230, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/955bc51bad05149724b691ccbeb2bb80?s=128&d=identicon&r=PG&f=1", "display_name": "waltmagic", "link": "https://stackoverflow.com/users/3633230/waltmagic"}, "edited": false, "score": 0, "creation_date": 1431565068, "post_id": 30223850, "comment_id": 48558918, "body": "I like your link and bookmarked it too. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": true, "score": 2, "last_activity_date": 1431548143, "creation_date": 1431548143, "answer_id": 30224409, "question_id": 30223850, "link": "https://stackoverflow.com/questions/30223850/c-openxml-memory-leak/30224409#30224409", "title": "C# OpenXML memory leak", "body": "<p>Well, if we're sticking with free or we're in a production environment, I would use <code>ADPlus</code> to create a memory dump and <code>WinDbg</code> to analyze it.  You could Google around there's plenty of knowledge out there on the subject.</p>\n\n<p>But the easier way would be to attach a memory profiler while your application is running.  The profilers I use are commercial, but there's also a built-in memory profiler in Visual Studio 2013.  Go to ANALYZE -> Performance and Diagnostics and select .NET memory allocation.</p>\n"}], "owner": {"reputation": 4386, "user_id": 1282151, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1YtR.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1282151/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "accepted_answer_id": 30224409, "answer_count": 1, "score": 4, "last_activity_date": 1431548143, "creation_date": 1431546149, "question_id": 30223850, "link": "https://stackoverflow.com/questions/30223850/c-openxml-memory-leak", "title": "C# OpenXML memory leak", "body": "<p>I had noticed memory leak in my application and tried to find it out. I don't know good and free memory leaking discovering techniques (any suggestions?) so I made it simple - inserted memory usage prints (with and without GC) and then dig deeper where biggest leak was. Fixable I had fixed but some I can not because they are inside packages. Like this very simplified one</p>\n\n<pre><code>using System;\nusing System.Threading;\nusing DocumentFormat.OpenXml.Packaging;\n\nnamespace WorkTest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"0) \" + System.GC.GetTotalMemory(true).ToString(\"000,000,000\", Thread.CurrentThread.CurrentCulture));\n            Console.WriteLine(\"Start\");\n            Console.WriteLine(\"1) \" + System.GC.GetTotalMemory(true).ToString(\"000,000,000\", Thread.CurrentThread.CurrentCulture));\n\n            using (WordprocessingDocument wordPackage = WordprocessingDocument.Open(@\"c:\\tmp\\a.docx\", true))\n            {\n              // This is Open XML Format SDK 2.5 - v4.0.30319\n              // It does nothing within this particular block/example \n            }\n            Console.WriteLine(\"2) \" + System.GC.GetTotalMemory(true).ToString(\"000,000,000\", Thread.CurrentThread.CurrentCulture));\n            Console.WriteLine(\"End\");\n            Console.WriteLine(\"3) \" + System.GC.GetTotalMemory(true).ToString(\"000,000,000\", Thread.CurrentThread.CurrentCulture));\n        }\n    }\n}\n</code></pre>\n\n<p>usually it produces something like</p>\n\n<pre><code>0) 000,215,984\nStart\n1) 000,218,528\n2) 000,325,472\nEnd\n3) 000,325,472\n</code></pre>\n\n<p>To start with small leak - step 0-1 is simple output. It doesn't eat a lot. Only 3K but it still something. Step 2-3 is the same but it doesn't eat anything. \nOK. I agree. Some IO packages may need some memory. Not good but understandable.</p>\n\n<p>Second one - step 1-2 is not such understandable. \"Using\" and even separate block {} should totally clean after themselves. And they don't. Even worse. This example is simplified. In reality every time when I execute this code within my methods memory is gone. In this one example it is 90K. After 100 documents it is 9Mb.</p>\n\n<p>With described methodology I also found few places in my app when invoking GC consumes and doesn't return memory. Every time GC is called the only result that 4K memory is gone. Unfortunately I cannot reproduce it in simple example.</p>\n\n<p>So far I had found only one solution - when memory became critical I restart my application. Not good solution but I can't find better one.</p>\n"}, {"tags": ["c#", "visual-studio-2010"], "comments": [{"owner": {"reputation": 1166, "user_id": 4508732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kHbUzaSJCg/AAAAAAAAAAI/AAAAAAAABKs/pmWe5PHQpdY/photo.jpg?sz=128", "display_name": "mjw", "link": "https://stackoverflow.com/users/4508732/mjw"}, "edited": false, "score": 0, "creation_date": 1431546534, "post_id": 30223848, "comment_id": 48551797, "body": "I assume this is attached to a form? What you&#39;ve shown will work, but you may want to store your ID in a hidden form field instead of relying on the button Tag."}], "answers": [{"comments": [{"owner": {"reputation": 1817, "user_id": 3083996, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gb8A1.jpg?s=128&g=1", "display_name": "CiucaS", "link": "https://stackoverflow.com/users/3083996/ciucas"}, "edited": false, "score": 0, "creation_date": 1431548554, "post_id": 30224429, "comment_id": 48552860, "body": "Thank you, i missed that detail."}], "tags": [], "owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "is_accepted": true, "score": 2, "last_activity_date": 1431548232, "creation_date": 1431548232, "answer_id": 30224429, "question_id": 30223848, "link": "https://stackoverflow.com/questions/30223848/assign-a-tag-to-a-button-and-retrieve-it/30224429#30224429", "title": "Assign a tag to a button and retrieve it", "body": "<p>This is because you are trying to cast an <code>Int16</code> to and <code>int</code> (aka <code>Int32</code>).</p>\n\n<p>An <code>Int16</code> is a <code>short</code> and <code>Int32</code> is <code>int</code>, also <code>Int64</code> is a <code>long</code>.</p>\n\n<p>Try either putting in an <code>Int32</code> or pulling out an <code>Int16</code>:</p>\n\n<p>Pull out as <code>Int16</code>:</p>\n\n<pre><code>dtProducts = LoadProducts((Int16)(sender as Button).Tag);     \n</code></pre>\n\n<p>Or put in as <code>Int32</code>:</p>\n\n<pre><code>btnCategorie.Tag =  Int32.Parse(row[\"IDSubcategorie\"].ToString());\n</code></pre>\n\n<p>You only need one of the above, not both otherwise you have the same problem as before.</p>\n\n<p>I'd recommend using <code>Int32</code> / <code>int</code> for everything, unless you have a specific need for <code>Int16</code> - in this day and age of computing, you're not going to get much benefit.</p>\n"}], "owner": {"reputation": 1817, "user_id": 3083996, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gb8A1.jpg?s=128&g=1", "display_name": "CiucaS", "link": "https://stackoverflow.com/users/3083996/ciucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1633, "favorite_count": 0, "accepted_answer_id": 30224429, "answer_count": 1, "score": 1, "last_activity_date": 1431548232, "creation_date": 1431546142, "last_edit_date": 1431547775, "question_id": 30223848, "link": "https://stackoverflow.com/questions/30223848/assign-a-tag-to-a-button-and-retrieve-it", "title": "Assign a tag to a button and retrieve it", "body": "<p>I have some buttons built at run-time, and I want to assign a tag for each of the buttons.</p>\n\n<p>I do it so</p>\n\n<pre><code>private void CreateCategory(DataTable dt)\n{\n     int top = 0;\n     int left = 0;\n     string color = \"\";\n\n     foreach (DataRow row in dt.Rows)\n     {\n         //  MessageBox.Show(row[\"Denumire\"].ToString());\n         //       List&lt;Button&gt; buttons = new List&lt;Button&gt;(); \n\n         Button btnCategorie = new Button();                \n         color = row[\"Culoare\"].ToString();\n         btnCategorie.Text = row[\"Denumire\"].ToString();\n         btnCategorie.BackColor = rbgToColor(color);\n         btnCategorie.Top = 0 + top;\n         btnCategorie.Left = 0 + left;\n         btnCategorie.Width = 120;\n         btnCategorie.Height = 120;\n         btnCategorie.FlatStyle = FlatStyle.Popup;\n         btnCategorie.Tag =  Int16.Parse(row[\"IDSubcategorie\"].ToString());\n         //   buttons.Add(newButton);                    \n         tabCategorii.Controls.Add(btnCategorie);\n         btnCategorie.Click += new System.EventHandler(this.btnCategorii_Click);\n         left = left + 120;\n         if (left % 600 == 0) \n         { \n              top = top + 120;\n              left = 0;\n         }\n    }\n}\n</code></pre>\n\n<p>Now I've tried to retrieve it like this</p>\n\n<pre><code>DataTable dtProducts  = new DataTable();\ndtProducts = LoadProducts((int)(sender as Button).Tag);         \nCreateProducts( dtProducts, (sender as Button).BackColor, pnlProduse);\n</code></pre>\n\n<p>This throws an error when trying to convert</p>\n\n<pre><code>Additional information: Specified cast is not valid.\n</code></pre>\n\n<p>I've managed to do it, but it looks like a hack, and i don't like it, is there a better way to retrieve my tag value?</p>\n\n<pre><code> dtProducts = LoadProducts(Int32.Parse((sender as Button).Tag.ToString()));\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1431546362, "post_id": 30223813, "comment_id": 48551712, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/15759688/update-label-text-in-background-worker-winforms\">Update label text in background worker winforms</a>"}, {"owner": {"reputation": 10210, "user_id": 1251861, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/b7Asj.jpg?s=128&g=1", "display_name": "Deblaton Jean-Philippe", "link": "https://stackoverflow.com/users/1251861/deblaton-jean-philippe"}, "edited": false, "score": 0, "creation_date": 1431547036, "post_id": 30223813, "comment_id": 48552070, "body": "Welcome on this site John. If you want better chance to get answered, have a look at this : <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "reply_to_user": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1431547299, "post_id": 30223813, "comment_id": 48552226, "body": "@demonplus that person on that post is using backgroundworker to insert mysql values. I&#39;m not. You should read the post before saying it&#39;s a duplicate"}, {"owner": {"reputation": 721, "user_id": 1689089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/206b6c0925d37bfa5b5d9077dea71d13?s=128&d=identicon&r=PG&f=1", "display_name": "valsidalv", "link": "https://stackoverflow.com/users/1689089/valsidalv"}, "edited": false, "score": 0, "creation_date": 1431550208, "post_id": 30223813, "comment_id": 48553667, "body": "@JohnK when someone suggest a duplicate it may mean that there is code in that question that can be of use to you - I think you took it the wrong way. Your question is partially about updating labels when using <code>BackgroundWorker</code> which is the same as the linked question."}, {"owner": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "reply_to_user": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1431550282, "post_id": 30223813, "comment_id": 48553703, "body": "Oh. My bad. I&#39;m sorry, @demonplus."}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 4893053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920717251dc0ccb25b81d456072e383f?s=128&d=identicon&r=PG&f=1", "display_name": "User92", "link": "https://stackoverflow.com/users/4893053/user92"}, "edited": false, "score": 0, "creation_date": 1431547781, "post_id": 30224173, "comment_id": 48552467, "body": "I think the link that @demonplus posted will be helpful. Regardless of what the background worker is doing, it is a different thread to that which the UI objects are on, so you can&#39;t just update them as normal."}, {"owner": {"reputation": 5757, "user_id": 255243, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XEHjT.png?s=128&g=1", "display_name": "raddevus", "link": "https://stackoverflow.com/users/255243/raddevus"}, "edited": false, "score": 0, "creation_date": 1431549228, "post_id": 30224173, "comment_id": 48553198, "body": "Actually, he seems to be updating the UI thread objects (label) properly by only doing that in the ProgressChanged event.  Using the ProgressChanged event to update UI elements is the correct way to do that and you can see that it works in my answer where I update a label on the form.  You just can&#39;t access UI (form) elements from the DoWork() method --- that&#39;s a separate thread of execution and will fail."}, {"owner": {"reputation": 306, "user_id": 4893053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920717251dc0ccb25b81d456072e383f?s=128&d=identicon&r=PG&f=1", "display_name": "User92", "link": "https://stackoverflow.com/users/4893053/user92"}, "reply_to_user": {"reputation": 5757, "user_id": 255243, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XEHjT.png?s=128&g=1", "display_name": "raddevus", "link": "https://stackoverflow.com/users/255243/raddevus"}, "edited": false, "score": 1, "creation_date": 1431549584, "post_id": 30224173, "comment_id": 48553355, "body": "@daylight very true, I didn&#39;t think of this. For anyone who wants confirmation of this, the article <a href=\"https://msdn.microsoft.com/en-us/library/ka89zff4(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ka89zff4(v=vs.110).aspx</a> states that &quot;The ProgressChanged event handler executes on the thread that created the BackgroundWorker.&quot; I&#39;m new to StackOverflow, do you suggest I delete my answer or leave it?"}, {"owner": {"reputation": 5757, "user_id": 255243, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XEHjT.png?s=128&g=1", "display_name": "raddevus", "link": "https://stackoverflow.com/users/255243/raddevus"}, "edited": false, "score": 0, "creation_date": 1431549837, "post_id": 30224173, "comment_id": 48553476, "body": "I like that you examined what I said and kept the discussion open. I think you should just update it and mention that you discovered the new information. But I&#39;m no SO expert so not sure."}], "tags": [], "owner": {"reputation": 306, "user_id": 4893053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920717251dc0ccb25b81d456072e383f?s=128&d=identicon&r=PG&f=1", "display_name": "User92", "link": "https://stackoverflow.com/users/4893053/user92"}, "is_accepted": false, "score": 0, "last_activity_date": 1431550873, "last_edit_date": 1431550873, "creation_date": 1431547327, "answer_id": 30224173, "question_id": 30223813, "link": "https://stackoverflow.com/questions/30223813/c-backgroundworker-download-progress-in-label-get-bytes-in-label/30224173#30224173", "title": "C# Backgroundworker download progress in label, get bytes in label", "body": "<p>I would imagine this is because you are trying to update UI objects on a different thread. HAve you tried using the Dispatcher if using wpf? <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.threading.dispatcher.invoke(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.windows.threading.dispatcher.invoke(v=vs.110).aspx</a></p>\n\n<p>or Invoke if using Winforms? <a href=\"https://msdn.microsoft.com/fr-ca/library/zyzhdc6b(v=vs.85).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/fr-ca/library/zyzhdc6b(v=vs.85).aspx</a></p>\n\n<p>Edit: \nAs @daylight pointed out to be, the UI was being updated in the progresschanged event, which executes on the thread which created the background worker, therefore there shouldn't be an issue regarding threading. See <a href=\"https://msdn.microsoft.com/en-us/library/ka89zff4(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ka89zff4(v=vs.110).aspx</a> for more info</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "edited": false, "score": 1, "creation_date": 1431550061, "post_id": 30224642, "comment_id": 48553602, "body": "This worked like a charm (for the showing percentage part) thank you!"}, {"owner": {"reputation": 5757, "user_id": 255243, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XEHjT.png?s=128&g=1", "display_name": "raddevus", "link": "https://stackoverflow.com/users/255243/raddevus"}, "reply_to_user": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "edited": false, "score": 0, "creation_date": 1431551216, "post_id": 30224642, "comment_id": 48554210, "body": "@JohnK I added the additional functionality implementing the UserState object and passing an additional value into the ProgressChanged event to show you how you could show number of bytes with another label."}, {"owner": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "edited": false, "score": 0, "creation_date": 1431553158, "post_id": 30224642, "comment_id": 48555197, "body": "I&#39;m not sure how I would make this work with my int64 iSize value, however, I&#39;ll be sure to experiment with it, thank you!"}], "tags": [], "owner": {"reputation": 5757, "user_id": 255243, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XEHjT.png?s=128&g=1", "display_name": "raddevus", "link": "https://stackoverflow.com/users/255243/raddevus"}, "is_accepted": true, "score": 2, "last_activity_date": 1431551133, "last_edit_date": 1431551133, "creation_date": 1431549063, "answer_id": 30224642, "question_id": 30223813, "link": "https://stackoverflow.com/questions/30223813/c-backgroundworker-download-progress-in-label-get-bytes-in-label/30224642#30224642", "title": "C# Backgroundworker download progress in label, get bytes in label", "body": "<p>Here's some working code which updates a label on Form1 using the BackgroundWorker.</p>\n\n<p>Create a new Windows Form project and drop it in your code and it'll work. \nIt's super ugly, but it works. \nAfter that, just plug your code into the DoWork method and calculate your value and send to ReportProgress.</p>\n\n<p>Keep in mind that the work done in DoWork method is the actual Background Thread.\nThat means that in that method (DoWork) you cannot access UI (form) elements because they are on the UI thread.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Dui9O.png\" alt=\"enter image description here\"></p>\n\n<pre><code> public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            backgroundWorker1.DoWork += backgroundWorker1_DoWork;\n            backgroundWorker1.ProgressChanged += backgroundWorker1_ProgressChanged;\n            backgroundWorker1.WorkerReportsProgress = true;\n            backgroundWorker1.RunWorkerCompleted += backgroundWorker1_RunWorkerCompleted;\n        }\n\n        void backgroundWorker1_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n        {\n            button1.Enabled = true;\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            button1.Enabled = false;\n            backgroundWorker1.RunWorkerAsync();\n        }\n\n        void backgroundWorker1_ProgressChanged(object sender, ProgressChangedEventArgs e)\n        {\n            label1.Text = e.ProgressPercentage.ToString();\n        }\n\n        void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)\n        {\n            FakeCountingWork();\n        }\n\n\n        private void FakeCountingWork()\n        {\n            int totalNumber = 100;\n            int progressCounter = 0;\n            while (progressCounter &lt; totalNumber)\n            {\n                int fakecounter = 0;\n                for (int x = 0; x &lt; 100000000; x++)\n                {\n                    fakecounter++;\n                }\n                progressCounter++;\n                backgroundWorker1.ReportProgress(progressCounter);\n            }\n        }\n    }\n</code></pre>\n\n##################################  EDITED TO ADD OTHER FUNCTIONALITY\n\n<p>Okay, here's how you can implement a label which displays the number of bytes downloaded so far.\nAdd a second label named label2 to your form.<br>\nNext alter the following methods from my previous example.\nHere we are going to use the UserState to pass an extra value to the ProgressChanged Event.  It's very simple.  You can see that I'm generating a random number and it will now appear in Label2. This is where you could show your number of bytes.</p>\n\n<pre><code>  void backgroundWorker1_ProgressChanged(object sender, ProgressChangedEventArgs e)\n        {\n            label1.Text = e.ProgressPercentage.ToString();\n            label2.Text = e.UserState.ToString();\n        }\n\n private void FakeCountingWork()\n        {\n            int totalNumber = 100;\n            int progressCounter = 0;\n            Random rnd = new Random();\n            while (progressCounter &lt; totalNumber)\n            {\n                int fakecounter = 0;\n                for (int x = 0; x &lt; 100000000; x++)\n                {\n                    fakecounter++;\n                }\n                progressCounter++;\n               updateValue = rnd.Next();\n              backgroundWorker1.ReportProgress(progressCounter,updateValue);\n            }\n        }\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/d2cKm.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 11, "user_id": 4897265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9933eedf32c6c9a3f10f9ebdd2f1946c?s=128&d=identicon&r=PG&f=1", "display_name": "John K", "link": "https://stackoverflow.com/users/4897265/john-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 30224642, "answer_count": 2, "score": 0, "last_activity_date": 1530291072, "creation_date": 1431545991, "last_edit_date": 1530291072, "question_id": 30223813, "link": "https://stackoverflow.com/questions/30223813/c-backgroundworker-download-progress-in-label-get-bytes-in-label", "title": "C# Backgroundworker download progress in label, get bytes in label", "body": "<p>I've created an application that patches my game servers files.\nHowever, I've got 3 problems which I can't solve:</p>\n\n<ol>\n<li>When downloading a new patch, it doesn't update the progressbar instantly, but refreshes it after around 30-40 seconds</li>\n<li>I want a label to show how much mega bytes they are downloading, and how much they have so far (for example: 122Mb/750Mb</li>\n<li>When downloading, I want a label to show ~% of how much it has downloaded so far</li>\n</ol>\n\n<p>I am not sure how to add number 2 and 3, and the number 1 problem just seems ridiculous, because there's nothing that indicates it should refresh after 30-40 seconds in my coding (at least as far as I know)</p>\n\n<p>My backgroundWorker1_DoWork:</p>\n\n<pre><code>private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)\n    {\n        //Defines the server's update directory\n        string Server = \"http://localhost/dl/game-updates/\";\n\n        //Defines application root\n        string Root = AppDomain.CurrentDomain.BaseDirectory;\n\n        //Make sure version file exists\n        FileStream fs = null;\n        if (!File.Exists(\"version\"))\n        {\n            using (fs = File.Create(\"version\"))\n            {\n\n            }\n\n            using (StreamWriter sw = new StreamWriter(\"version\"))\n            {\n                sw.Write(\"1.0\");\n            }\n        }\n        //checks client version\n        string lclVersion;\n        using (StreamReader reader = new StreamReader(\"version\"))\n        {\n            lclVersion = reader.ReadLine();\n        }\n        decimal localVersion = decimal.Parse(lclVersion);\n\n        //server's list of updates\n        XDocument serverXml = XDocument.Load(@Server + \"Updates.xml\");\n\n        //The Update Process\n        foreach (XElement update in serverXml.Descendants(\"update\"))\n        {\n            string version = update.Element(\"version\").Value;\n            string file = update.Element(\"file\").Value;\n\n            decimal serverVersion = decimal.Parse(version);\n\n\n            string sUrlToReadFileFrom = Server + file;\n\n            string sFilePathToWriteFileTo = Root + file;\n\n            if (serverVersion &gt; localVersion)\n            {\n                Uri url = new Uri(sUrlToReadFileFrom);\n                System.Net.HttpWebRequest request = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);\n                System.Net.HttpWebResponse response = (System.Net.HttpWebResponse)request.GetResponse();\n                response.Close();\n\n                Int64 iSize = response.ContentLength;\n\n                Int64 iRunningByteTotal = 0;\n\n                using (System.Net.WebClient client = new System.Net.WebClient())\n                {\n                    using (System.IO.Stream streamRemote = client.OpenRead(new Uri(sUrlToReadFileFrom)))\n                    {\n                        using (Stream streamLocal = new FileStream(sFilePathToWriteFileTo, FileMode.Create, FileAccess.Write, FileShare.None))\n                        {\n                            int iByteSize = 0;\n                            byte[] byteBuffer = new byte[iSize];\n                            while ((iByteSize = streamRemote.Read(byteBuffer, 0, byteBuffer.Length)) &gt; 0)\n                            {\n                                streamLocal.Write(byteBuffer, 0, iByteSize);\n                                iRunningByteTotal += iByteSize;\n\n                                double dIndex = (double)(iRunningByteTotal);\n                                double dTotal = (double)byteBuffer.Length;\n                                double dProgressPercentage = (dIndex / dTotal);\n                                int iProgressPercentage = (int)(dProgressPercentage * 100);\n\n                                backgroundWorker1.ReportProgress(iProgressPercentage);\n                            }\n\n                            streamLocal.Close();\n                        }\n\n                        streamRemote.Close();\n                    }\n                }\n\n                //unzip\n                using (ZipFile zip = ZipFile.Read(file))\n                {\n                    foreach (ZipEntry zipFiles in zip)\n                    {\n                        zipFiles.Extract(Root + \"\\\\\", true);\n                    }\n                }\n\n                //download new version file\n                WebClient webClient = new WebClient();\n                webClient.DownloadFile(Server + \"version.txt\", @Root + \"version\");\n\n                //Delete Zip File\n                deleteFile(file);\n            }\n        }\n    }\n</code></pre>\n\n<p>My backgroundWorker1_ProgressChanged:</p>\n\n<pre><code>private void backgroundWorker1_ProgressChanged(object sender, ProgressChangedEventArgs e)\n    {\n        progressBar1.Value = e.ProgressPercentage;\n        label1.Text = \"Downloading updates...\";\n    }\n</code></pre>\n\n<p>And my backgroundWorker1_RunWorkerCompleted:</p>\n\n<pre><code>private void backgroundWorker1_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        settings_btn.Enabled = true;\n        start_btn_disabled.Enabled = false;\n        start_btn_disabled.Visible = false;\n        start_btn.Visible = true;\n        start_btn.Enabled = true;\n        progressBar1.Value = 100;\n        label1.Text = \"Client is up to date!\";\n    }\n</code></pre>\n\n<p>Also, a side note: I'm also having a bit problems of updating labels in backgroundWorker2_DoWork?\nAny ideas?</p>\n"}, {"tags": ["c#", "autofac"], "comments": [{"owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1431552244, "post_id": 30223705, "comment_id": 48554745, "body": "This is because <a href=\"https://github.com/autofac/Autofac/blob/c9b56b7737df387afa667a6833b9d6100f6100be/src/Autofac/Features/Collections/CollectionRegistrationSource.cs\" rel=\"nofollow noreferrer\"><code>CollectionRegistrationSource</code></a>.<code>IsAdapterForIndividualComponent&zwnj;&#8203;s</code> return false. It is quite difficult to answer the question as is, could you precise why you need to know that ?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1431565872, "post_id": 30223705, "comment_id": 48559094, "body": "It&#39;s related to <a href=\"http://stackoverflow.com/questions/30086194/iautofacactionfilter-injecting-a-logger\">this issue</a>.  I&#39;m trying to get the actual service type for the logger.  But both of the <code>LimitType</code>s are the same.  So what do?"}], "answers": [{"tags": [], "owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "is_accepted": false, "score": 0, "last_activity_date": 1431605933, "creation_date": 1431605933, "answer_id": 30237234, "question_id": 30223705, "link": "https://stackoverflow.com/questions/30223705/autofac-gives-unexpected-component-target-activator-limittype-when-resolving-arr/30237234#30237234", "title": "Autofac gives unexpected Component.Target.Activator.LimitType when resolving array", "body": "<p>You want to know who is resolving <code>ALogger</code>. </p>\n\n<p>Your code use a custom parameter which is injected while the base type is preparing. Using this, you are able to access the base type. </p>\n\n<p>The problem now is that you want to resolve <code>IEnumerable&lt;IFoo&gt;</code> but due to the way <a href=\"https://github.com/autofac/Autofac/blob/c9b56b7737df387afa667a6833b9d6100f6100be/src/Autofac/Features/Collections/CollectionRegistrationSource.cs\" rel=\"nofollow\"><code>CollectionRegistrationSource</code></a> works you are not able to get what you want. </p>\n\n<p>You can try to cast the resolving context to <code>IInstanceLookup</code> and obtain what you want : </p>\n\n<pre><code>protected override void AttachToComponentRegistration(\n    IComponentRegistry componentRegistry, IComponentRegistration registration)\n{\n    registration.Preparing += (sender, args) =&gt;\n    {\n        Console.WriteLine(\"Preparing {0}\", registration.Activator\n                                                       .LimitType\n                                                       .GetPrettyName());\n\n        args.Parameters = args.Parameters.Union(new[]\n        {\n            new ResolvedParameter(\n                predicate: (pi, c) =&gt; pi.ParameterType == typeof(ALogger), \n                valueAccessor: (pi, c) =&gt;\n                {\n                    Parameter limitTypeParameter = null; \n                    IInstanceLookup lookup = c as IInstanceLookup; \n                    if(lookup != null)\n                    {\n                        String prettyName = lookup.ComponentRegistration\n                                                  .Activator\n                                                  .LimitType\n                                                  .GetPrettyName();\n                        limitTypeParameter = new NamedParameter(\"limitType\", prettyName); \n                    }\n                    else \n                    {\n                        limitTypeParameter = new NamedParameter(\"limitType\", null); \n                    }\n\n                    return c.Resolve&lt;ALogger&gt;(limitTypeParameter); \n                })\n        });\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431605933, "creation_date": 1431545549, "question_id": 30223705, "link": "https://stackoverflow.com/questions/30223705/autofac-gives-unexpected-component-target-activator-limittype-when-resolving-arr", "title": "Autofac gives unexpected Component.Target.Activator.LimitType when resolving array", "body": "<p>Can anyone explain why <code>Component.Target.Activator.LimitType</code> shows <code>Meta&lt;Lazy&lt;IFoo&gt;&gt;[]</code> instead of the expected <code>Foo</code> when I resolve for an array?  Is this a bug in Autofac?  How can I get the expected limit type = <code>Foo</code>?</p>\n\n<p>This is a complete program using Autofac 3.5.2 and .Net 4.5:</p>\n\n<pre><code>static class Program\n{\n    static void Main()\n    {\n        var builder = new ContainerBuilder();\n        builder.RegisterModule&lt;ALoggerModule&gt;();\n        builder.RegisterType&lt;Foo&gt;()\n            .As&lt;IFoo&gt;();\n        var container = builder.Build();\n\n        Debug.WriteLine(\"Resolving Meta&lt;Lazy&lt;IFoo&gt;&gt;[]\");\n        var metafoos = container.Resolve&lt;Meta&lt;Lazy&lt;IFoo&gt;&gt;[]&gt;();\n        foreach (var metalazyfoo in metafoos)\n        {\n            Debug.WriteLine(\"\\tResult is: \".PadRight(39) + metalazyfoo.Value.Value.TheALogger.LimitType);\n        }\n\n        Debug.WriteLine(\"Resolving Meta&lt;Lazy&lt;IFoo&gt;&gt;\");\n        var secondmetalazyfoo = container.Resolve&lt;Meta&lt;Lazy&lt;IFoo&gt;&gt;&gt;();\n        Debug.WriteLine(\"\\tResult is: \".PadRight(39) + secondmetalazyfoo.Value.Value.TheALogger.LimitType);\n        Debug.WriteLine(\"Done\");\n    }\n\n    public static string GetPrettyName(this Type type)\n    {\n        if (type.IsGenericType)\n        {\n            var genargNames = type.GetGenericArguments().Select(GetPrettyName);\n            var idx = type.Name.IndexOf('`');\n            var typename = (idx &gt; 0) ? type.Name.Substring(0, idx) : type.Name;\n\n            return String.Format(\"{0}&lt;{1}&gt;\", typename, String.Join(\", \", genargNames));\n        }\n        else if (type.IsArray)\n        {\n            return String.Format(\"{0}[]\", GetPrettyName(type.GetElementType()));\n        }\n\n        return type.Name;\n    }\n}\n\n\n\npublic interface IFoo\n{\n    ALogger TheALogger { get; }\n}\n\n\npublic class Foo : IFoo\n{\n    public ALogger TheALogger { get; private set; }\n\n    public Foo(ALogger aLogger) { TheALogger = aLogger; }\n}\n\n\npublic class ALogger\n{\n    public string LimitType { get; private set; }\n\n    public ALogger(string limitType)\n    {\n        LimitType = limitType;\n    }\n}\n\npublic class ALoggerModule : Autofac.Module\n{\n    protected override void AttachToComponentRegistration(IComponentRegistry componentRegistry, IComponentRegistration registration)\n    {\n        registration.Preparing += (sender, args) =&gt;\n        {\n            args.Parameters = args.Parameters.Union(new[]\n            {\n                new ResolvedParameter(\n                    predicate: (p, i) =&gt; p.ParameterType == typeof(ALogger), \n                    valueAccessor: (p, i) =&gt;\n                    {\n                        Debug.WriteLine(String.Format(\"\\tComponent.Activator.LimitType:        {0}\", args.Component.Activator.LimitType.GetPrettyName()));\n                        Debug.WriteLine(String.Format(\"\\tComponent.Target.Activator.LimitType: {0}\", args.Component.Target.Activator.LimitType.GetPrettyName()));\n                        return new ALogger(args.Component.Target.Activator.LimitType.GetPrettyName());\n                    })\n            });\n        };\n    }\n}\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Resolving Meta&lt;Lazy&lt;IFoo&gt;&gt;[]\n    Component.Activator.LimitType:        Meta&lt;Lazy&lt;IFoo&gt;&gt;[]\n    Component.Target.Activator.LimitType: Meta&lt;Lazy&lt;IFoo&gt;&gt;[]\n    Result is:                            Meta&lt;Lazy&lt;IFoo&gt;&gt;[]\nResolving Meta&lt;Lazy&lt;IFoo&gt;&gt;\n    Component.Activator.LimitType:        Meta&lt;Lazy&lt;IFoo&gt;&gt;\n    Component.Target.Activator.LimitType: Foo\n    Result is:                            Foo\nDone\n</code></pre>\n"}, {"tags": ["c#", "filesystems", "server"], "answers": [{"comments": [{"owner": {"reputation": 1166, "user_id": 4508732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kHbUzaSJCg/AAAAAAAAAAI/AAAAAAAABKs/pmWe5PHQpdY/photo.jpg?sz=128", "display_name": "mjw", "link": "https://stackoverflow.com/users/4508732/mjw"}, "edited": false, "score": 0, "creation_date": 1431546354, "post_id": 30223722, "comment_id": 48551707, "body": "This is correct. You&#39;re grabbing the FILES in the &quot;LogFiles&quot; subfolder, then attempting to loop through folders named file1, file2, file3 etc...and unless you have a matching folder for every named file in LogFiles, this will never work as expected."}], "tags": [], "owner": {"reputation": 306, "user_id": 4893053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920717251dc0ccb25b81d456072e383f?s=128&d=identicon&r=PG&f=1", "display_name": "User92", "link": "https://stackoverflow.com/users/4893053/user92"}, "is_accepted": true, "score": 4, "last_activity_date": 1431545635, "creation_date": 1431545635, "answer_id": 30223722, "question_id": 30223642, "link": "https://stackoverflow.com/questions/30223642/cant-figure-out-why-getfiles-isnt-working-for-me/30223722#30223722", "title": "Can&#39;t figure out why GetFiles(...) isn&#39;t working for me", "body": "<p>You're calling string [] folders = System.IO.Directory.GetFiles(args[0]);</p>\n\n<p>Have you instead tried Directory.GetDirectories?</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/c1sez4sc(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/c1sez4sc(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 263, "user_id": 4843072, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6187f80739c11c016b8f415167a7dda0?s=128&d=identicon&r=PG&f=1", "display_name": "Fired from Amazon.com", "link": "https://stackoverflow.com/users/4843072/fired-from-amazon-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 30223722, "answer_count": 1, "score": 1, "last_activity_date": 1431545940, "creation_date": 1431545318, "question_id": 30223642, "link": "https://stackoverflow.com/questions/30223642/cant-figure-out-why-getfiles-isnt-working-for-me", "title": "Can&#39;t figure out why GetFiles(...) isn&#39;t working for me", "body": "<p>I'm making a simple program  where I'm trying to read through text files and count the number of occurrences of a specific phrase. These text files are in fact log files for my server, but anyhow the folder structure including my program is like</p>\n\n<pre><code>FailedReqLogFiles\n    ....\nLogFiles\n    folder1\n         textFile1\n         textFile2\n    folder2\n         textFile3\n    folder3\n         textFile4\n         textFile5\n         textFile6\nwmsvg\n    ....\nMyProgram.exe \n</code></pre>\n\n<p>and I'm running </p>\n\n<pre><code>C:\\inetpub\\logs\\MyProgram.exe \"LogFiles\" \"somephrase\"\n</code></pre>\n\n<p>from the Windows command line. The entire source code for my program is </p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Text.RegularExpressions;\n\n\nclass Test\n{\n    static void Main(string[] args)\n    {\n    // args[1] = expression to search for, e.g. \"cloudrealized-email-top-banner\"\n        try\n        {\n            int count = 0;\n            string [] folders = System.IO.Directory.GetFiles(args[0]); // LogFiles subfolders, e.g. {\"W3SVC1\", \"W3SVC3\", \"W3SVC5\" , ... }\n            Console.Write(\"length of folder: {0}\\n\", folders.Length);\n            foreach (string thisfolder in folders)\n            {\n                string[] logs = System.IO.Directory.GetFiles(thisfolder);\n                foreach (string thislog in logs)\n                {\n                    using (StreamReader sr = new StreamReader(args[0]))\n                    {\n                        String line = sr.ReadToEnd();\n                        for (Match m = Regex.Match(line, args[1]); m.Success; m = m.NextMatch()) ++count;\n                    }\n                }\n            }\n            Console.WriteLine(\"{0} currences of {1} found in log files\", count, args[1]);\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(\"Error occured\");\n            Console.WriteLine(e.Message);\n        }\n    }\n}\n</code></pre>\n\n<p>and I can't figure out why it's not finding the files, as it keeps printing <code>\"length of folder: 0\"</code> </p>\n\n<p>Is there any glaring problem with my program? </p>\n"}, {"tags": ["c#", "ms-word", "openxml", "docx"], "comments": [{"owner": {"reputation": 151, "user_id": 4032418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tarveen", "link": "https://stackoverflow.com/users/4032418/tarveen"}, "edited": false, "score": 0, "creation_date": 1431546277, "post_id": 30223623, "comment_id": 48551660, "body": "I have the exact same code except for this line. Not sure if that would make a difference. table.AppendChild&lt;TableProperties&gt;( tPr );"}, {"owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "reply_to_user": {"reputation": 151, "user_id": 4032418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tarveen", "link": "https://stackoverflow.com/users/4032418/tarveen"}, "edited": false, "score": 0, "creation_date": 1431546805, "post_id": 30223623, "comment_id": 48551937, "body": "The cast should not make a difference (just tested to confirm). Are your tables appearing styled?"}, {"owner": {"reputation": 151, "user_id": 4032418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tarveen", "link": "https://stackoverflow.com/users/4032418/tarveen"}, "edited": false, "score": 0, "creation_date": 1431547075, "post_id": 30223623, "comment_id": 48552092, "body": "Yes, they do. I can apply the style manually to the table too."}, {"owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "reply_to_user": {"reputation": 151, "user_id": 4032418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tarveen", "link": "https://stackoverflow.com/users/4032418/tarveen"}, "edited": false, "score": 0, "creation_date": 1431547366, "post_id": 30223623, "comment_id": 48552264, "body": "I can apply most of the properties (like border, color, etc) manually as well and that works fine. But I creating a lot of tables and would like to be able to use a predefined style to both simplify the code and allow them to be changed easier."}, {"owner": {"reputation": 151, "user_id": 4032418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tarveen", "link": "https://stackoverflow.com/users/4032418/tarveen"}, "edited": false, "score": 0, "creation_date": 1431548585, "post_id": 30223623, "comment_id": 48552872, "body": "What do you see in the xml file with the productivity tools? I see something like &lt;w:tbl&gt;&lt;w:tblPr&gt;&lt;w:tblStyle w:val=&quot;MyTableStyle&quot;/&gt;...."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431579428, "post_id": 30223623, "comment_id": 48562419, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "is_accepted": true, "score": 5, "last_activity_date": 1431569548, "creation_date": 1431569548, "answer_id": 30228204, "question_id": 30223623, "link": "https://stackoverflow.com/questions/30223623/apply-a-tablestyle-to-a-word-table/30228204#30228204", "title": "Apply a TableStyle to a Word Table", "body": "<p>Finally figured it out. I was using the style name and not the style id. So the line where the style is declared should look like:</p>\n\n<pre><code>TableStyle tableStyle = new TableStyle { Val = \"LightShading-Accent1\" };\n</code></pre>\n"}], "owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3535, "favorite_count": 0, "accepted_answer_id": 30228204, "answer_count": 1, "score": 0, "last_activity_date": 1431579413, "creation_date": 1431545245, "last_edit_date": 1431579413, "question_id": 30223623, "link": "https://stackoverflow.com/questions/30223623/apply-a-tablestyle-to-a-word-table", "title": "Apply a TableStyle to a Word Table", "body": "<p>Trying to style a table using a predefined style but nothing is working. I've tried with a a newly created document and one created from a saved template. Using the SDK Productivity tool I can see the style is there in the template but it's not being applied. I've tried appended the style or setting it directly and neither seem to work.</p>\n\n<pre><code>    public static void CreateWordprocessingDocument(string fileName) {\n\n        string[,] data = {\n            {\"Texas\", \"TX\"},\n            {\"California\", \"CA\"},\n            {\"New York\", \"NY\"},\n            {\"Massachusetts\", \"MA\"}\n        };\n\n        using (var wordDocument = WordprocessingDocument.Open(fileName, true)) {\n\n            // We need to change the file type from template to document.\n            wordDocument.ChangeDocumentType(WordprocessingDocumentType.Document);\n\n            var body = wordDocument.GetDocument().Body;\n\n            Table table = new Table();\n\n            TableProperties props = new TableProperties();\n            TableStyle tableStyle = new TableStyle { Val = \"Light Shading Accent 1\" };\n            props.TableStyle = tableStyle;\n            //props.Append(tableStyle);\n            table.AppendChild(props);\n\n            for (var i = 0; i &lt;= data.GetUpperBound(0); i++) {\n                var tr = new TableRow();\n                for (var j = 0; j &lt;= data.GetUpperBound(1); j++) {\n                    var tc = new TableCell();\n                    tc.Append(new Paragraph(new Run(new Text(data[i, j]))));\n                    tc.Append(new TableCellProperties(new TableCellWidth { Type = TableWidthUnitValues.Auto }));\n                    tr.Append(tc);\n                }\n                table.Append(tr);\n            }\n            body.Append(table);\n            wordDocument.GetDocument().Save();\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 1739, "user_id": 1362037, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dogfx.png?s=128&g=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1362037/stephan"}, "edited": false, "score": 0, "creation_date": 1431546136, "post_id": 30223646, "comment_id": 48551590, "body": "I didn&#39;t know that <code>ReferenceEquals</code> exists. This is actually the answer. Thanks."}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 9, "last_activity_date": 1431545333, "creation_date": 1431545333, "answer_id": 30223646, "question_id": 30223619, "link": "https://stackoverflow.com/questions/30223619/check-for-null-in-override/30223646#30223646", "title": "Check for null in == override", "body": "<p>You're looking for the <code>ReferenceEquals()</code> function, which will compare directly, bypassing your operator overload.</p>\n"}, {"tags": [], "owner": {"reputation": 26629, "user_id": 206394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/67b588ca896693bf58fa04dc13917d1d?s=128&d=identicon&r=PG", "display_name": "Dan Bryant", "link": "https://stackoverflow.com/users/206394/dan-bryant"}, "is_accepted": false, "score": 2, "last_activity_date": 1431545626, "creation_date": 1431545626, "answer_id": 30223720, "question_id": 30223619, "link": "https://stackoverflow.com/questions/30223619/check-for-null-in-override/30223720#30223720", "title": "Check for null in == override", "body": "<p>In addition to what SLaks said, you likely also want to return true if both are equal to null.  So, like this:</p>\n\n<pre><code>public static bool operator ==(WorkUnitType type1, WorkUnitType type2)\n{\n    if (ReferenceEquals(type1, null))\n        return ReferenceEquals(type2, null);\n\n    if (ReferenceEquals(type2, null))\n        return false;\n\n    return type1._type == type2._type;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "is_accepted": false, "score": 1, "last_activity_date": 1431547620, "creation_date": 1431547620, "answer_id": 30224255, "question_id": 30223619, "link": "https://stackoverflow.com/questions/30223619/check-for-null-in-override/30224255#30224255", "title": "Check for null in == override", "body": "<p>For completeness' sake: you can also cast the two arguments to <code>object</code>. This will use the implementation as defined in <code>object</code> and not your custom one.</p>\n\n<p>In code:</p>\n\n<pre><code>if ((object) type1 == null || (object) type2 == null)\n</code></pre>\n"}], "owner": {"reputation": 1739, "user_id": 1362037, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dogfx.png?s=128&g=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1362037/stephan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 30223646, "answer_count": 3, "score": 8, "last_activity_date": 1431547620, "creation_date": 1431545225, "last_edit_date": 1431545442, "question_id": 30223619, "link": "https://stackoverflow.com/questions/30223619/check-for-null-in-override", "title": "Check for null in == override", "body": "<p>In the following C# snippet I override the <code>==</code> method. <code>_type</code> is a number of type <code>short</code>. So I'm actually saying that two <code>WorkUnitType</code>s are the same when those two <code>short</code>s are the same.</p>\n\n<pre><code>public static bool operator ==(WorkUnitType type1, WorkUnitType type2)\n{\n    if (type1 == null || type2 == null)\n        return false;\n    return type1._type == type2._type;\n}\n</code></pre>\n\n<p>Because R# warns me, and it is totally clear why, that <code>type1</code>/<code>type2</code> could potentially be null I'm trying to catch that with the <code>if</code> statement above.</p>\n\n<p>Now I'm getting a <code>StackOverflowException</code> which makes totally sense because I'm actually calling the override.</p>\n\n<p><strong>Question:</strong> How do I write this method \"correct\". How can I catch the case that <code>type1</code> or <code>type2</code> can be <code>null</code>?</p>\n\n<p><strong>My best guess:</strong> Maybe I'm just misusing <code>==</code> here and checking for equality should be done with the <code>Equals</code> override. But still I think the problem exists. So where is my error in reasoning?</p>\n"}, {"tags": ["c#", "xml", "xml-parsing"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1431544708, "post_id": 30223419, "comment_id": 48550810, "body": "Both work for me.  Can you post your entire code?  Especially where you declare/get your xml string."}, {"owner": {"reputation": 1166, "user_id": 4508732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kHbUzaSJCg/AAAAAAAAAAI/AAAAAAAABKs/pmWe5PHQpdY/photo.jpg?sz=128", "display_name": "mjw", "link": "https://stackoverflow.com/users/4508732/mjw"}, "edited": false, "score": 0, "creation_date": 1431544777, "post_id": 30223419, "comment_id": 48550846, "body": "Only minor anomalies i&#39;m seeing is some whitespace in the e:CipherData elements before the &lt;e:CipherValue&gt; opening tag. Other than that loading those both work for me as well."}, {"owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "edited": false, "score": 0, "creation_date": 1431544984, "post_id": 30223419, "comment_id": 48550964, "body": "the values comes from a POST operation via web"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1431545431, "post_id": 30223419, "comment_id": 48551204, "body": "well, without providing us with the exact string you&#39;re trying to parse, we can&#39;t reproduce your error."}, {"owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "edited": false, "score": 0, "creation_date": 1431546252, "post_id": 30223419, "comment_id": 48551649, "body": "The string you can see it below &quot;The value of xmlToken is:&quot;"}, {"owner": {"reputation": 8273, "user_id": 773514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YG7R.jpg?s=128&g=1", "display_name": "Ivan G", "link": "https://stackoverflow.com/users/773514/ivan-g"}, "edited": false, "score": 0, "creation_date": 1431546349, "post_id": 30223419, "comment_id": 48551702, "body": "Are you <i>sure</i> that you&#39;re calling the right overload of <code>XmlTextReader</code>? Because this error is usually thrown by overload that accepts filepath (string) to XML file that contains XML when it tries to interpret XML as filepath. I reconstructed the example from your code and data and there was no error, it&#39;s a valid XML."}, {"owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "reply_to_user": {"reputation": 8273, "user_id": 773514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YG7R.jpg?s=128&g=1", "display_name": "Ivan G", "link": "https://stackoverflow.com/users/773514/ivan-g"}, "edited": false, "score": 0, "creation_date": 1431546871, "post_id": 30223419, "comment_id": 48551969, "body": "@IvanG I am using this one new XmlTextReader(new StringReader(xmlToken))  StringReader inherits from TeaxtReader"}], "answers": [{"tags": [], "owner": {"reputation": 2892, "user_id": 2246581, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ee6b71c2ffbf3f4b0e7e691fac6a6afe?s=128&d=identicon&r=PG", "display_name": "KnightFox", "link": "https://stackoverflow.com/users/2246581/knightfox"}, "is_accepted": false, "score": 0, "last_activity_date": 1431546872, "last_edit_date": 1495540691, "creation_date": 1431546872, "answer_id": 30224047, "question_id": 30223419, "link": "https://stackoverflow.com/questions/30223419/illegal-characters-in-path-parsing-token-xml/30224047#30224047", "title": "Illegal characters in path parsing token xml", "body": "<p>In the past, I have run into similar issues where the cause was a BOM character.</p>\n\n<p>Ref <a href=\"https://stackoverflow.com/questions/1772321/what-is-xml-bom-and-how-do-i-detect-it\">What is XML BOM and how do I detect it?</a></p>\n"}], "owner": {"reputation": 2959, "user_id": 819153, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a691c06e10ba780802b6df69be781637?s=128&d=identicon&r=PG", "display_name": "Zinov", "link": "https://stackoverflow.com/users/819153/zinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431546872, "creation_date": 1431544413, "last_edit_date": 1431544768, "question_id": 30223419, "link": "https://stackoverflow.com/questions/30223419/illegal-characters-in-path-parsing-token-xml", "title": "Illegal characters in path parsing token xml", "body": "<pre><code>var a = new XmlTextReader(new StringReader(xmlToken))\n</code></pre>\n\n<p>This throws : Illegal characters in path Exception.</p>\n\n<p>I tried the following but nothing</p>\n\n<pre><code>XmlDocument doc = new XmlDocument();\ndoc.LoadXml(xmlToken);\n</code></pre>\n\n<p>If you think that my xml has 2 roots I made this step I after the above line get None </p>\n\n<pre><code>var a = new XmlTextReader(new StringReader(doc.DocumentElement.OuterXml))\n</code></pre>\n\n<p>The value of xmlToken is:</p>\n\n<pre><code>&lt;xenc:EncryptedData Type=\"http://www.w3.org/2001/04/xmlenc#Element\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\"&gt;&lt;xenc:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#aes256-cbc\" /&gt;&lt;KeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;e:EncryptedKey xmlns:e=\"http://www.w3.org/2001/04/xmlenc#\"&gt;&lt;e:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\"&gt;&lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;&lt;/e:EncryptionMethod&gt;&lt;KeyInfo&gt;&lt;o:SecurityTokenReference xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;&lt;X509Data&gt;&lt;X509IssuerSerial&gt;&lt;X509IssuerName&gt;CN=BDDC1CA00, DC=HRT, DC=local&lt;/X509IssuerName&gt;&lt;X509SerialNumber&gt;120366057797367722148390&lt;/X509SerialNumber&gt;&lt;/X509IssuerSerial&gt;&lt;/X509Data&gt;&lt;/o:SecurityTokenReference&gt;&lt;/KeyInfo&gt;&lt;e:CipherData&gt;&lt;e:CipherValue&gt;PSAA8Gzcu+MIKB4T3RttHJhDS+TP3VgHP85BVrDua4DkNDtOL1ZNBaEknPz74rBbe/Pt1VaCw+K0JFw/xV0i7qCJrQ1yhYbUzjjOODnCZig4td1QI2h4RChSzrsXJ9ny9wjPAvrOIrXMWMZfiiFUFAkQbGaiJrBfLDj8UTMPxzxJfokINHk7KxAtTqRZkWRpyAlatM768juXD78hje7gucwMZsfeD6Q6EI+eW/tBOV0AzA3woYuwvCbvmYEv7Pz0cCZrvnJ5I5w8HfA7Smi+P53xNPzDzv+5q3SfM75fxP23obCRLTty9CTw7I5Xjhaq2uZkARFaMXztVBctiyRCbg==&lt;/e:CipherValue&gt;&lt;/e:CipherData&gt;&lt;/e:EncryptedKey&gt;&lt;/KeyInfo&gt;&lt;xenc:CipherData&gt;&lt;xenc:CipherValue&gt;hejzGN2pKoeuPYl7T6WgP3ZmDNc1JQMXM3FzWC6vbsOaJSGmlq6VffeZYRjB1xX53Lxrs6c+z8JTcZ6xz1N/2yJIvr7nqEgV2W5QIrKTLM6u3yPvdRZDFS4WbqiqapBMjXNDSbe2ZKku6ZfRZCt8mMMS37kWH3YGekxITrb7Tuk7p0Aueg0rwzbfo2gmNjs5Sgr0kEQdnu60crvLBHQ60o9aLMSm6LL4sPDcVxBAShb0SMf6wyccVnbGEcM0qSRCsZE+qCTO8/4OF+dJfEEx7IgnClDDR69XnT/HfJObcFdKBxJ0wjBl+LBMEG7Tdo2q5UVZgY7U5WSPrseTtZBg2ZCvddw+36aKUFqipDUkJBpH1emEFKL2J4K2x6Hy0nB0ZgpcwxDmYRC06zddxzjTa2f6EuWDOCzOaXxJngQs/9DOqKtLAvJFqpo20i3vItE/oiOpQ2ClJhxX7Cip5WLX3t5rnxdp0w9VZajSt2PB3max5gU/o5LbzJ+1/XUKKfZvzZmC5oahNME0VhxaMbj2ruhoFyGtZjkViIjmrhBQ3Dtxl0zXgYhqSF2EJAQlCNvqQyK3bqOdzWbS0xpNhPGGyI8LauGhFCEk0VnAkNsmDCmZUJhXkStJyIavgAJvq7OHlWvi3GiLRc3msInxe6qbHSgZWg3BvDBUJ7jAmgMuHIxQaOu1E5VL4KIlP3vD9dnbsh+PWMsEh2N25X4OBwytz4+NUvfAHjxAdkaNobhnZM2wwcV9JGwfX+m4KZjb9OqQ2QVnMSsTxw7sx4qEng5VlAXAPSHf6kaIs1qsF69A/R4DO3HFThoIV+nb3yF6rRD/frJAmbwDxcN5O36OQ6ycmD4y4O6yZM122jsSnDTMKGwhQJtJC8KQkH/GSu2QP67Lp6r8v9zYOpa4iAJjiCUeJsXgff0aTr2bmJxkmhOT6rjSgHL3BIX4R0eZMufgKN62Y32tCkAPbmw3pm10ULi06VnLZyDhOmfzey79qOrS9DJjDuVqnQXzBaklI+AkZ7/cZv5gVmQnxJxeMrKT3d3Ih+9qmc1qvTNWXTYSS/OtQuZvO7lhNiuWByh7nMBFjMzv4j0TDj4KWBnwXq5ev4E89LNVqo01D0WlRA/0Y4XoCJAyUSl9YOgJYuKW0MNfx6pvx4k/ERdVQHuiJDFSMxYPH3gTdQJ7KLaX2ONB1nQyp5yIecpEMVje+vluzJl6yEd/8TvtGPBtOVDrjRN3YULDB4EpOWc/dfcPqfUf8tEQrE1+xBgqVArGKVn6YlIIriKylbZzx2g3R3S8sQg+/RTbETV94ZFOvnz5owuiTX/eYbXy88OsH0apz9OGQ4T84YqZ8UMOtsOFtpElAF3QftZ1GlG8Yj2h/LhsPXrNLORxRFmjklTAbvzJ6twmfZtzbNDAzkbAy8l29GmkqiTGWjDio0340PqwpnbO2dwFd+z5IwDhzQcxrd0xTl9sEGfdzpKa/f93bduRPKYl5NHqqnrbd7sLLpVkX4PaFCoYrefdCeNCyI++yL9Lit5vGbtopvS1CJY6WQEHm3iBQ9647prYlNHQBH5wnrquCnNUL/iFC0iXP9aSgBdhyGYs/5VGwgl+ogRGk+NhuglbYft+nm8Yn8rVNsston5SBVZf/lRO9b4hnYXRmSann53nvN9q/41HTwh94dkR2gART0htF24NEwtZKSZPm/cKKyaZpC+qVgK6liT1gqcvBQzjMtFNJbnhLmet93/wuBwciWTsLTO0ckq4zH3V1/Y6p7ZoLF/Co21LKaWmeCrDZvUm4r/ELYyLMcKjcpHoARkfYd7hj8yqjPywW0LC2WJ7iZYnz6eNUN5yzaVguEc+PGPH2xCiN4zXOVFYYz/vLrmMB5pBjzo7L8OedwmZHNCT3oX7coVlbguPZZyqXrk2AAHgzfGz0ddXrUymq1HxwBwQX9NCAnXEE8rB0ouU2olZQ43VrJMBjXWpqVLY+Xcwti06ZcEBu/LxWHU74tF/+yKBxpL8z2KLevjzyMWaeVf7NjC6n1Y0YP19dzJzj2SifiySR6ZgH/REZM7nhTKLK7604Vt+rur5FtOuyeNXxbp1TOZHCDHSsyWe0fxmTEk7TxR2z/8+1gjoJC3/SnjY144VtAfRhF09K7PvDWCYRQVy3ei4WAiXx72xAJ2uhw+1IhPe7Mu3uAFwjuQ3GhZL9J4A6UQKDrfyI7OXYB6UIz2ihr6f+jOOs4mMyizd8TD1LCYl2C1oSyGpJOd14Hg5iLvoUdyF18ZR0OBMuO+KTOeHIB2yT26QbkwJSoQsKHZcYGhi9G69biR1VplV+yCAMq8oU0+5l6w9dAdEAIaq2dGl1u06xpl+U60iE9EeC6zhjeaxeGdLNYcFSfvJZZXtnPuPTl0da2oUCv8Y3C+G8bE9yHUF1NHvIHnUSt0MNp57DRcUs7ZShYGjA1Tr3aogFuba5vmBBxoGrLg0XDM5MOGGZMQAu8uy02SkR9A4n7yePQAIep8WstCD+Mr74PGlgg5XdqTh0t8CVybbTWn1Pkt4Hy6uRSIX1LN6NLBC672GHYyMpHwp5+Z3DfvWO6YK1DyxvWNCy7MDFCzlfxUGEIjnyXT6lpWFoUlMp5VNwWfK7pu9nHYdUtvTL1ry9MKioYW1mO157n95OdsO0Bbv+7i+j63qSNOROunuF4IXzJMtqWprSdsTT/MGSjuI2OHkAYd63HsJlQnt322erTbdISIgbzOGYQIxS0DygE1vmji7b2u9pf4kX/vU9jN40/QaDPKmtgTBlU0UAESt3VNJtbRBWRMMZ0RCISbNopUS9TjZD0sNGz7F6lFDGo14+zgPdXqBC1yzdPHq8SlVSIRZ1XHBRgwlGN654rBqvWiS6h+qHi3mQnYzd5vDGOzc2MF1H0dG5TjFzeJMcxs2DpBhgNCTd5QdDmB2hr0G71y1zkJ8MM9sK3fYQ33qapR7wuTyn2ETSYnbD2MjblVU8j/rVTP+ZK8yEt/kQ+DevIsK5kgIUl1fYFFTbSZSZZ/+vHn4/LD7vQouZFxY6KRJsUXr3ey79bY/+5+wYDBTeGka2BbO8gfgWCAx4xBzj4nO2teHplGECIFdmbjp+YMd2MoHKGT/8QktEkpkwWYu/F5f7RtzgyUUlwbZgoJBXAIRxRYRp5Y/k956WJJv84q3ICntiuq8+6DtL0uaC0qaQ3UNJKaxVOFmK/POTEgOnBqFgLNoa1zFLB6HVxJljsl1sl++B1CXLiFdzFDWtlg6U79YSeYrn4HKfwWDZ5lLOIbSYXzMU2WuqH3rVWnESMrrGGx4lpLZ6hncmXGDtctbkdInn14AC8GcQU16phXWQOTC7t4R0iY9laUcJYGZ9s4vB0AXmIeeUPmP6JAFnlf9GhIopnNKKhmLibY0r4Cr8koc3BjzUpbSELARRRNlrIuJP9Se9tzVW2zsEGhb4fi0yT1iQQ4XV1QHQa3DRrRxcFdYPE1zTneCPIVXQSEy75ikAOAbnZRrOkyvAGCmTcfPrIGGXNdgxErrsnQvPcmoZmqIkOcfCfLbSw0+9XtWq78jUP1WaneAQu4Lv2UZ/Vo8ejovgVC0U+f0uhcegClQDUwjkhO/lza4hbfV05HpoOree2nYo532nBfsUmPR+BXDZaC+MdaMlAomuZyJO9pHDXS+Kf5XHJyXFALCZi8+eYpr6fsDAAxXHZ97bHm7CyF7pxul0Kte+P4jLzXeUhKUmnz29VPYle1s1lLilbuus8nfxEfv3x5akuMH2XnAa2kc0ivW/pVA3W6hIw0buYTZKPpJ1OcH/HhfBB8x4DFlzYdcQQTbA/bJmS4aE2De4Pk90y5Wky+LRJxEUYTx3beXqn2vJYKzR/pnspz+RXMl0T/ccttYNDX7QtAwIc5JbooSsvClrw3MpThpIjhYZZmH226NZym1lfDDRvI7GPsZ8qntMsDftGYCrv8LdIKndFDrVnPEshfOVQna3DQPMND4VTMPTPswfV9dHhRsqdP4boFrlRukM0Fou2GOOlN4CqrCbbyced8Ux4GhLy6F7vBA9KiIN56aAVs5JhAijB/retrshxVjHkGcsrSuDT2B3gzLwrrE6Reb1/CcQmr788HPzYtGlC9JeQW9rhUI41i7MU6QqrStZ7Z5DzPysaobNn6k8knk6Q65HjH2LPjsbQW9jWotKncaZ5GLgMWaoWsbdn6uvXz08lG0Xk/ZT8PL5txDA6WhKxbPDpRI7RGO1V4owaEu6hp2omsmLOBdZQQ9NrPVTH7PkFU1ib4PWEQuHNwWsVzVz+NwYEpeQ2y3w8+akZ3WGJavKP+9mpgVLp1x4adXjZ3SadpIvSM4pDpRKOSCoRGlFSqMG3EM9MpnFow/k/Y6Bh3uwyvWCaOGFAtou2v8/VJPGO+3MUkAjacNqh7TDoCzP7oj4FCflkDZqfTnfn/8+7sQlljUwCrM8IXuwz3vXXjMzwYYdgutkoArzsZ3UkLWO+ZAGMlXi5kv8oLQ0ir0RlZ4eDqr6WmOm+moAH3m6AWnhfiu8gFYVhslVZXzBpjC/51q6lewr8eHBrBRqhOtDTYaIbABoqV7EFp3eWv9CIQhl3rur39JAIgfiNQ09weMqtAgYybPWBxJ0/HtuFLbT17N47jv4uQvAgcF3myToa7m3RJnFtg9OsF8D+UJc/vXvugk/3xbw4O9vTuCmL8LIoAXl63L0hVIQTmm6aOhJwwVkk0uspv6EYRrQmsDaNJaEJN86vnNjmXUlXpr7SccIiHxzEn80oDIP+MZQo+9G0M3oPu+359shgxIcbCktorubXtJJ1TYTCqIfBF9V3LbGpm6y0kVJCOQAu22kXz58nsjzG4uijHgPE50OrX6z13TNhQJa8WMu/TBnwPWfkqjWFrF6/2kfIXSLVKguXoiGy2sK15V65/0gCPpOyQ4KwkhlKkQpgfsFXEIU6u4zRe1ebJOshavrVWGSPC8JFbpXTxMG5WuhQDoPjXv1llBqT8EesIMHSjAKg57aB2P8fnoQEhHU0QLR7AtQWA75ju5stje4F43mq5OJwdmC/amQkaccbHb/X2JUg0gSRjLfx7cBXFlaUGBjir6MpbAqZYLVJ1mtsRA50Rr8eF0g4LrSmqkmRXElCQuqv3MTuB4gW4EBGxNzA0Gj/k01SVg8ADwwRXgfdx4EGeXWLfU2PwUpYvC5cbPKzku3kHCdHEriRvRVGhC9bxWL5BMW23hhZI0ElJp3Nq/UOA/XaUCcIyXhTTSTyuIAMF3+7UJHKIwIhzg3PlZxD/iJXeTa402MD63z+RfHiJ2qX0fRI60D+NKIX8p+/f5ItOw1v+oKPln3CjtQTt/+KYmLgsO+xiGakaqL+MsWOkkUtanJ9HnHeRY96w3bK/bfl5ayubwilzfuN9VtETjKHsjUQyPLiGYlgaTy0VzaIOPzIY7xMcpQ51sjUD6wGLyDhPx0HkyYmiXri+oTSvUMIFK+uwJxx9Qy6xizzWz2p2KyAALHzOptcDXPtVuulo5PtDgULe/nQiBsE/AaInqeZlS0qHHjxO4D1Y+ViUDDOaWt1jDZvOtp8VcqdV51Vc+H7j30HNAg2sI1We2vlO1mkCQl+KBB1RQIU4WQ2H98TWO+R7a15soI3/GdmCjaJoD9uBUdpQF6r2A6M3rc20SkyYtYJ+232kSVpTdj12Q94ptkyf7bfm4ZuQ88/J9ruJbHBXNx7eUdsF2FeAnnni5udBic9ME28q6iVa0R8xZb8jdeJgfJK8WCZNjgNyo4SKKV/DjhFHCg4GRG7ucHMHbaYbwjFB4bHLiNL0KJgUmq2QgdQrAAgLCr+9s1uKPKg/bUqlbz8WVK0qcIVXKBrdpwILWUbhEXj+naLDi93qxRzRwXFtSujcOO3KooWjIinghK05sZAjmk0CfL9bw62aXR9Xwmu9vTKcpbamH7EKL5EjN9GOZov7rIvDKCayf76NigrLaXBJQbMDFZVv2wxyFVBmxqshEXoLAF6AP7Lqx+jpFHIKX5SFwfJB2pi4K3/K+V644+NgV3z/oVWFfBRC3M84YrYsCn5XJo8osn1qyM1YQHrdtfcQGUQjNfsE5bv7LXRtlPpW+7nsvOo7YgBfMyHaOte3hHGmKx9EsspBK8fCo0kK7Dy2myP+Q2qsY9T5zq5G8EC9t5dbet5oSE/trCW2on7hoOr92XLFCvcyvXJRfv6pEGiwgirdCqvN3sqBwBinp31g8GwJk3NG3A4W2e/wEXN6YXpiXnrFoP/cEMFPEBlf95LoiPDTCSUXLTLR88HEqe2bfhSi5BEXdWFM6BGCcgEjuhcVw6bKxFBNDZo9TAdQLeyG9Dlbp6Gw9OkQWTmgrG7dS4crdu9TYikw5SvBjiPJ5hqS5Y39z5CMqp7IaKG3+fO9I7fPsqyQFz3qxo0ETsyLxb2RuOwATXUfCYhdhsATV9zVck3QCKmr0NPPh3RwWgtonacYEULNeadQIfc1MToLokKO1etccu7/Plu2r7kmFBUU+AFTLZeFEkp5sxMLtehA1M6hfstFAIZIjXuoQBLcqJMqfDHwyprPwFXe8i3pPRc0P/PxRWq2E/4kOw6KZfmcCfasFqPn8/ag6U8YQLRc0v7r2vjCj3PsqZUxhBh/KwN9RArvyI6AVUI88XL4hOZeYXuSwPx0r1n2UcDMcNhM5KkWk/FKJ5WJqVWo+GOjg+4PiN/ZibKUt6I2oRBGqhI1mLEwShmINCabH/ET2sfYPnqypn2o1oxrChmJO+2C9FOZAqRZeLstQo6e3+OFJlWyqDWigzBvIwwepeLXl7y/x1+JGgjD7F4sHyh0/0KTVmRGM8E3cayvWCwGP8UdBX6vD1CPpMzQWoGfGKYuJVfkPn8nNFPJr2om4T7wEeBRNLUpm1M7zzgonplmcnZFLPmIwFqkegJyznfWDSX5Q0tIg1EPTY7fSOpezx1QUMRvfhDcG4q6yqnThR/lRH5ec8Kxi7u588IxvnnpqFhVcmZEcUeYiKXeij8qRt5Z9mQ14N9TeV4ODQxNQ/tNGrltr+f4iX4G2bGH2XlKiYlaBIbjsqXjVk8tOpz1q/FngLdyIAdD4GBIrs7LQt/k7ywCe4sYULQkTTcKDWuevV9aqM2Pb3/tY2pP5uEL3LOYdvTzwYPYWkRtBdiDfrIPKjJrnwXA8o1yokd4xKLzM3JSzSugYiVgCigEAkC6Dt24UMaIHtx5xZFr7OIVqNRWrDkwwH8kK9Qs6a/Krp/KPLR6fR7sGwBqt8MWqx5zdwLtBHnvyvYW5poFm2Z1VgT6+QTayEVNr91f2UHNUpp9obJcB39DeeQYexwzAdTGXTRcLf9TyUtbgJPcdzFCVJRRC04EgCyNtVyTWCMJUjW+Z+sV3EBQlgxXLl7FZMMUEwE+qraw/NINPpXnkkFnAk4kTzWwu+PYFmIoyhaQDvrYHppswnMclQqiPy+RUuLck71wEY46J49WhWmW/bBV+cGWUuLdU+mo1G1KvD8XdNQds9Mp15E77MQ9AAYoUf0TobZAAiUs3fGu2k2trlmj6KVaZbuXLazNtyiRW8d6dCcEl9fhSnFJwSmtBlP8Klc1gql3vRHtgQqCmlVOx2juQbeu35Ud7HqR0YSUGShP1hD7JHLuD5h+u3jF5o0/vQF00g0UwcXIWHNe28yMYlGyDP9k2hnKoq0R6/rKZ8EjPF6OuJQLvl9HXsnLqzwh4W+8PMqaWAWhZVI1LbK6s/lgBtJjf8iexcPYp6h6Sg8aHOoBRW59HDhcSDeqhss8249+cHqjybYsKfA/w3DBaW/77N0LQxxgK7TWN0ztAxn4hRLVerOiXFes1F6VPimGoQWRvjiRBm2W/NFzzAwEP+HwXQFU9jQdF/rXGxGfkZKtpPC+n0tx12vpl+l+dBsEamdoydbtHhOz54KUyoz/Zf3uEbhAL5C1pSq9c77C+Yfq0v9spWEyJ8jHrCNgK9KpALh94cMr093cDTJsl+WZlojDsGHYsHcJRMc41p7KkSANtQlgGv9XWjS/Fe5ioANFZtEkuSbTdsjAfEp+cmg+0gSL/+yT6aJmnTuzP+4VTnsWHafvE00e06zVbnZEHSxdlo968kpFM5HuJDil9HmBH22/QdpIHUQ1EZfB0+qIxztjfaJGQr9ND5zsozdHdm7AVtWn3bFH4FucMa1MgFnrbpGzo1if1xHHb+QWMOyghn4PAuVNvn/0FV77/vlp9iIhkuOlVvKVcScRX80NhYc5ww8WlX6eQ7a8KPWXuo2oXw4eZUiE8WXQgZPU+A8Js2bCXZubuwQNzcSHLoD84SzBnl+PREaPNoDECSKjSmxBRh0kYWISwjHRJVMK6yFu/b0O1yo81wkHrekg63lrCk/RYl5DbjhlIN8HYlXsG8PlVHQ+kd0atxdGsYJ1l/Lft7iSjP4uAtqJp22sJYomgSA8IESz2C5ObB/S7LBSJfwutDCFWpd+DHcmrNdDM1IxM4aWaH15gpOhl2msl5AU3+9j6vEjhSoTwOW6qucFWbmF6Cl1ukV4N+L3LF0Vxa3s/49v6sGRpnSWdcur+3cIeIcxg24CS91WbXoDVwKhRuQdpzxuL1KqDUKqjEOlGq7A1ykWYNGJYpmOr92emkEbGqFmtFYXVfCDw09FXDeS4Ee7rIT1u1Z5VkHUPKwcWr5YSphIp/JP1FYaGySmCU0/0hnkIr5r3jf18PUqoTtCpoRZK1BtDQIq/D/3C9oWGrJQ/QKE9X/25ortROYLv6fDys8dmVfviyZqrCe4G63ZXToYJHn4J1D5MrQWC9vFsJrGk+w2iUixScbb2WUJxbHHTzQPVesoRXTzuhJMQJaKiK/uQloHayGvZsuf4K6RCr486BzR1RJan8HU4aGjre250B7h4DuXPPE5AqATBUslmLNRXsA6eihRUILE/8irbu4nSoS91InFBYkFu5tXXgl+asIvo//oL6v0dynD3I7a6+nRsEC7k8NeP6CiPDfc0lK9d9dagTmwSpEYiXDwqKMKE7pIKK9gxUQeVe2dCzF4EHD8gea6vwbnvhGo9yF/AV9x/Djk17ThtWlX3h4u0o8nEOWX44WrJ0BjeUbsljJIPmOBtDcfKiwOi8ZbWV4F11y/9LZin7TAW6XT48h7j/fJ3DPxAwzX1BYv3FQcDgdzwolyr1a9fXU3WTvvS2oRLwvsX9rHguVXrU+dS4KbfATuBApc/udS2J8GzorQPS6sanyg6LX9JBIA9JJIyGc7BGgUxyCPKe7GdWaEuJb+3HrnJ/0+eG1+mIJkos19LFw8lmDMq60c7N8BWkK57GYrE4WSdgTd0xMyYpqDoSWGF23JasoaKZClfLIgwRd+vMMJ1m91JRandAs8+NELn1/ikOrHzwF3agGqyoiJCWlPtMvYV6edYcIFY1i1po1YGPANTX+ZWr+zXPcRI1IWUTWAe5kssG+cpXQw88I0xNeFpoqRuYlHWSkS/mow+/KWYOr9FSpcafIfxmbKOC9aevk2yM79k&lt;/xenc:CipherValue&gt;&lt;/xenc:CipherData&gt;&lt;/xenc:EncryptedData&gt;\n</code></pre>\n\n<p>and formated looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xenc:EncryptedData xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" Type=\"http://www.w3.org/2001/04/xmlenc#Element\"&gt;\n   &lt;xenc:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#aes256-cbc\" /&gt;\n   &lt;KeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n      &lt;e:EncryptedKey xmlns:e=\"http://www.w3.org/2001/04/xmlenc#\"&gt;\n         &lt;e:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\"&gt;\n            &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n         &lt;/e:EncryptionMethod&gt;\n         &lt;KeyInfo&gt;\n            &lt;o:SecurityTokenReference xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n               &lt;X509Data&gt;\n                  &lt;X509IssuerSerial&gt;\n                     &lt;X509IssuerName&gt;CN=BDDC1CA00, DC=HRT, DC=local&lt;/X509IssuerName&gt;\n                     &lt;X509SerialNumber&gt;120366057797367722148390&lt;/X509SerialNumber&gt;\n                  &lt;/X509IssuerSerial&gt;\n               &lt;/X509Data&gt;\n            &lt;/o:SecurityTokenReference&gt;\n         &lt;/KeyInfo&gt;\n         &lt;e:CipherData&gt;\n            &lt;e:CipherValue&gt;NI/FjtC6xeFpssGl8hNtsBTWja6wfJIzhY9c0YkPL3N0d4QVLbvBmF3BAfwfUMKtR2ZgX5x60jbIZkfuL13T1AlT8/Mze3gsN5P505VawwrjJ/RyrjtTm1XJ/AbfFF6sJS+ATHLoRoRE0roUArf30rzcXiyyxsgZwvd5jBALJgZNlx+i/7g3niq+Xwh7zAdZ5dQsaxnROT8BcyYS2bs1fn7kFXkXqJJeGlYR7FWUeu0ndWWJZcJbYQWMJfI4sfZ8dtUkQY6Z/v8ba2DTIEF5COXftt3tC1ygn8ZuTe82t/aZCmmf5pAtDKMBjuRct/mBUrJb0bOVx02mGiTy07FN+Q==&lt;/e:CipherValue&gt;\n         &lt;/e:CipherData&gt;\n      &lt;/e:EncryptedKey&gt;\n   &lt;/KeyInfo&gt;\n   &lt;xenc:CipherData&gt;\n      &lt;xenc:CipherValue&gt;JhJAh/iWG9zI+6rOdc0Hlj14zYDgabnWlX86KpzJQ/ebVXuUGg5Wz2fHqh2oFIoqDP0KLmg5jDishE6LTjAbhfGLRpOUm1MuEPxUYTM4U1EthtoFSMwGqf6Ser13ngCnGBU/HiPJilClpQ3NLQsLd6dM2TaknC/zv/ohxNIMPapSXDXUOBSggedI9+SKkiJknIFMIjdI397dwFHhIrnn342K7ZsCrDLmN7cys8ca5st9nDtZ/zO5KXlxqd4eNmx7kf6zlkyLdnlVicVnHH5XI9s04TqVAuJ/BsBnyOnT+rwVda6BUB5kzeuktm68kDTexcd197KspVva6XBAUo277JYwUtWyKRiSZU4XhVhHLiiDsO3Ev1hYYvfXmwOjHa65yM0kLZzDLyUSCK4F3wLlk/6RUM8QSGOa/CttDYbKSY82zxRCcYziv6NZXGqtkiEZ2A6OaZakVwBIFA30vQtbBfleeTI/iPOZKjeyUwP1rRak8ij/rAd424uTtWJ17oC6z3TOsG+YIU9kLjSjG509lZ2UmAwKaJYKpCwebjJ/dF1tRrtb8EzyQQkX3BwNAStl1wCgg8Hlih9KFCAnC220uCZ8Uf7k15bVKQVtzdjZCyyb7OsKiMuezxWNw/CCSfSCs+DZjCdkgtEl+Yv88bOMOYk6AJTImMGc7J0xFHDsLLCzP7UCnuX187VqDEvFrLjo/m9DH/a0y65FTJkiYBvlXD5O7CGhKKVxK+tETLjly+zvff5ykL8jC8gIVc35gcII1O65jUQG/Vb37BQHtTLt6zm7kbpmTAZQf9lmTudvmE0OReUcRZSDiXFc9jxq9nyIQkcStXU6i4RTP1E2xBh7EjsjPdxkFQ5MVNBexfyJAU0XcxQnbl/y9sXY6C4nRPDyaFjNSw8rw9XEtRrXSpg5umrlyaJpkXwgZjSfQ6GyOO1ZS8NoZZyhKLxkyClqi64xylCHaV+GCGf2XLR63RqcE/VijnL0ZrDJhL8u6WWo5W6d40OTby4LN7ls+KyK/nTjnhFHA3G7rxzoXj3LFg/oV2xpktRGLqD9Ic84bYzO9B8ZZSE20CtiiPKfjWRrT0hfy/NE3IXt5w28O5RJP75QnMjPhuzHc8ED+nv0dz25ybolKJkj6EF4pDjLInNfALiUXMJTL8QJpvC3suVAU6W1w8sQnnSvRwHCzl7nl41CGMRTUW3rGh5il1j05y7CJpUy8AsW5WeEOqD8Z0f2YR9uLJ6ixgjB53+4XJ91SjvlSM3Nt4kVN3r97EyZVPQs3XstCyztFYk0J8uyGs0FI+ktVDMA/6csRHX+wvz1e9sZe+cg4Fz6PvTIbQus/LpFBBa8lQ6TOl1HyY77+Bzte2LiDUa+QX5Kr8jykhBYjl1FU8wvhQAdk5FGVNIdDk8SgeE11ZFHpW61S6fEXYzS/hbN4pu84ZSfZufcOp9hmRpe1hcFjPJPKDQ2iAW2SF5tD7Q6AlOCcW011CL3EuBLsQNSl6GJZVyRdtPweP4vx1oQrSrLSJNYWSisFtu73jtI67/qLCYV/q86GaZjFbk5ztFkBmqO6/VTl2MfqyqKIZxVPZB1i3pfervTdkjb3+aHcIx+j+W/b+X9gnI1rfKjC/qDSridUAQadqU5MyvKvMYn4spYswjxBvfp5qExO4uwDQip+AKjJPOWScrYuhOUQ/A3qqxAee9GortDDuGd0yt0OjZ0yBX3mUyqF0DpxNQ9zgj6Eqr3RFwlr+j+DAbz1O4zHLIVVub3rACs25yYnHP5kwiRZodA/EjoSQ3KkZCtWFo93FZ2g1aeBo6UQ7E0nUhcqk3ibV3ovmFbCKZLnFkRtGZ2gxW/2eBtyrSbs6iCWpwHPkcgtIQprPgPx2oWcKYCnstE/UkVTWenEUqNOxSJQqRMuiqWZiF3vMZCRCJZiH2M0oyPcDVsMrho1ErTEwrewEz4MYWEU6sIgFDSWrDMGuBAhbmUTe33DyFE/ukiFpgm3bjDul+UqxBM5t4ZBXON1oM5r4D1ka/jg6c2HgNXV4C4SfHKk2Ie8ZnKncSy75mYT4Q7k+2Gk3gWaDEtWIe+l6EIrLUOC1sKmwvzuA918lwFPhyQC//AsZ1BWqO59d4gGvFK0fP8S4sJkwXSHG8YJjz693RLkL7P7PqrRmyobZ8DdwaUQ65WQounvSH9rdJLH7PyL8ZL/kNTXptLpHJpSQV1oiVBi/PUfSLURSpdP8Vtr0htfwG5qAJUmueN1pK3rN5NwO2bBOBqcg9xJ56ylNmWaL0CGXcTgQN27Cw4o26q/oXbsHSwL7hvCke8VqedQ3hSDXww0US5YXKYUDnOoOstmjIy6yDbyaoMotvkWKeBl77aJY0q/3MY3D1AvpHVt8LtNnyTiQvKPwAcqi0tawDOHvsdOQvLXQWMeQU0jOf25+7yYzWmegiB1a9BcdPhyGgrmw80vCqYr73dIo/WNftWuVmTq5YvYLe0IUBVHCoCqL2QkUj7urHQC0vgEnp5b0Qq3eSeovDate0ZMz9u1b01oAAdUvgzmVKrfvzBULBsTfNnWUVhGtB/sr+NlsLasgfhl4lPPXRxy4kqXYWRaglwZzkC0oYuFt1LFeR+gBmlpuPYYmNMuR8yJ2ZFoZs+hx5/vzg0nwXB7XMGJKnx7fI9zvRULio6ANzDic5fPKRcP8vnrGPrrn/lpNq0P1KAdrJ1CZ10zxn67YbkzWDuDMkptpkF34v0qQAwr8c5cCgOKM2IrivcNryjwY5Qg51yAoDMhd/r5XXZ6YkEHZJ9N4cM5YUIR+3W8ScDslrQh8Er3qsLhZOhx5keC493EX6axtpAZRfF7VSTgE1H4+BE1DzY4Wk53T+s3ih9v1NL6uTYeg3R22b9Z3TAB24du30J6ryYd12o1R6QNEl/+gDP4wxj3CNWjOq3zlwFwS1oAjiAFBml8M6ZiZZOvK5Ormw2ZtuFxzoMEcehB6WY85CzsMLwmys7deMR7PoSK4K49p7k+m047zFBOtxAWO86PvB+/wNkNfm4cMx6GvxvDwbHFHBbW1K76CZYUcKTtctmJ2N7VLNt73himwEemM+LXTkuW1UYc01u8VoWQfxSU5dijs4SJcldPEyz5im4d6o7d7scnQp6ZQ2zHLXMX3FrwYHeoKryNDZeYttnrGXPhQjSFHjNWhHLc7L4mctBotIFhQzhTUAq4bvBiQljOWV83OPa943qAfW/yYhD405FnEVXVNbgtIfP0OB4OenzYQYTIVeRXPDabYMeU4SBnv2pinETDLq8zpPIYlGx0to8LVtfn7NNwMS3BqX8kUpMYN4i/jwlhUpy6wJ24su/v+oVeK9BJmFvoqWp9AkxB4Zg8DV3J2p6431k3SeirrdsLo2YhqWZVH1tkdDsSm/FyG4d842y2b8CEA7Vsg6IouCjpsgTiw0kDPWDReZCjjyhCdaD+Hnmf4TMPP54xBLgdVEoUHhSOht4FtSf2Rzv38AB8wLbniWECLVKv1VlkAx443LTFT3guryrqLJ6z7yvsf7PEMi93/6OSOGeR7bV0U6fFWilju/G4Q9xk2/gfPOfGOuS8Dbmm8RDszBNKliY84jycTB41dhOxh/Jao+x3vApiu4ilWGBDhZsUMIGhsy7D9D5Ox821RXyLnfE2n4QW3K8aLvdr4Jn6ubf8cvPO7UrNzDj01tgyw+uGIYc05viVcZ0xzjw3mJ5KX1a1Gvt2K3wWsBSOIJqvldkES1G4Q6fuGLDQmBnFV+J95P2X35jr23o1y337pFzjpB0fI75pZYNFb0gA8k3R+gGXynRLDLp/D9TKbDToN3aWMxRtw7/iTaIiRorXHpJgjLMajf2sZg25M95LEs/V/ncLwc5Tng0yGRhEFF+4cZ+R9eZlshlhJMbcWjTQiNG7T/f31e7UzvRxsvuOZ5CVT3lu9T+QhVrvf1FUXify4X9VxtOk4utK9Qxjac/aNUxfO7MpvEa9OfCB9I1Wl+0CDY5quZb+7GYhC35S86wGVbxcwKI+s+OCGZJSOdpvOpc2J9gU4f3rhidoXexplR+D8NU9R62ouS6w4YqMJ9663BNyAEMwiD2S2dAvu5s72fnThCZal0UqcWmKLOHgzI7fX7pNj5x2sfpEart7Ich7MMOheXn7Hn9S1lMuPgQzSUtX73sfcu8Je969f39OUd0+q+x3bHfTKyU2VGKjUvR1QtUhNjPGAPX92dCQgsiW9OjL289lOkC8kOIW8H5wncUoj/sfLe7OTLolNpcvSH6Fw3mgN2XapUx+JRt5Vbn/3kfkrbBwccdB5dJyhWEMzB+GPaaumcME96pDaDr0LutZ3qrUvnH5vB9e6ZdoVSb10k7dA3PVPNXX/eDtS6YSqT2fK06Elic6spKa4CtTAPyYPSbl6FArfRkQwJIwKnRdGK4dMFNVv6rKQuFbryhFbLiXq2Hwj/2Smqef39PlBcBMwT+H+R9Pb2WVSEKkoqwYMCF7bSNqRSCpjtEc2yor8LkpWX67NevOXw1MhqYvOx4gB3Koss8/fJeL2Nq74MlL2iMaf0ciypmTi6U6SFsyDHCDg6H5ym+G+kyVW6e08S3GjSfPyA7sD29D6nCSnycbD4udC42dgNymT160LBzq2y56+sKwZOgxWEtBpTiGUc07thTjeTuD8srxD2STzE8ATAtvW70LNq8wqwPm/qGikvRzqFQqXnndx4ykbC0XTHjy3hKE5FitDnzPZmqd0m++Jz/dq/VLfT0SPyHeGFKZHb55VODS78m1BPDsCTj0UVNLaGHfmPZo2ahIJbAP/1pw0CMUXyZEEHkI9mGp0VEq9i7eBwDJqbQGjiFHnvLt2aagiHce0jUDOZsApEhnFO2NdgCijXpIXOKKWuHKV+6ptGPn8XQrkd5cBe04hbX4mYRw3ae9Zu4La3EnfcZ3pOTvFH2BWdSur5hcaj0caspIXAiT+BISFR531/PAPD9/9GQ0cQBCQmnmB96X9KSW96FxU0mFB346aJuLI2jInCNcpfQiniX39EO8uHo+LxFMV3Q3fHTz35baTAgp+KrLfIbiE5frqaKxs7SjKXiZVAb+KfoDkJBM/AynvD3CS2gIF1PBIS0HBB1Bsg6TLqnDsl5s13xiZT40+RNrJmpDskkbXd9Yvy6imlFZyrXluvAUISwKmRf7XKeyTSpNznCKZA/MpbuDM6eusfR3pWble1Miyz3rZzooFdvbgw4Z1UiDlgm7tbpPYLnzst9D1B3nRu1+CuG5HxKrRxYk8/w8Ac6SILLutggMhi+tD0YSjN4K2O5jMtqXnBZqGlbj0g1XTlnkpUnoX0JKSVnCW7/P4CsajvbDqVUhBR2LmEgEbnkTG3Wh48Ekn7NnwPXF0IAOe7a8RU/ar6/aiuyQ3xmBl0KGQElfaf1sDK664nBwTOJNRXZIHaowdd1zE1cNd1qyto2iIOrJprziLFxnVBD8nI/qCXTYh9L+R+Nfs9NGofHPtHfQ6CnBMq36WtzdMtIy31iIeB/T/eH+6PyO2q1Hs9pKlZdTysUG6MWI7b+emDDwigC9Tt+l7gPkwR+vZR7q0KVuZvWToJe23rN7CPDBgS1galUD6RMrV1B4phTO+mCYeVpB8egXKSek/zoeUiQt3XNxthOGrFk39UZ7sdwx4D2lbchmshMaDMra4X/r8Jqxp3dnzeLtP1KemxD/5lT6eQ8CJSjxUt3I0Step63MUtP3PYSQMVKTl0CDc2m1yyTysoavzr8T8uQx9OcGnMrOKBEysx871JTo7PntVgN87V42PPDVf/IhHTfLrY6LkuAg71kMJYIMEXtwxCliIggnSNE2j54IN96Izlx89UbJmVGx0Sk5kvlOKYmStie2I3IJ4QMgZWVo69dGq4ZEdQ7d2x2Xk1nAsq4rAst0maPMsceIflWWK4Ss//FVZOzkfwFx+bsIbrukKj7fj8y0T6CWc+wYdagX/pr96XXIvN3WqBZGGq+TxZ6tHOf4KXPDUWuPY8TsHsdMGVWuCO9k3bKD9S0hq+cSaSNpctts4E0iXE9ZHCoIrjSA/qUtPGw8b66DmLsw2fpEo/BYYm8C90QemGVMHbmYtNtNVRfsYM1QRa+R7r5ZMGFKY5sCe1ruIQW2mByJec4aK57xx2C8OkLb+ixrXdmL04496zLirLaZG5/m4MrmN2l9h5//j8BjaBYIbPB5p2gtbWTY+7nyEY8zIvFQje6aRa/a89r49RFkSMXsdcdarwDjGambR6m864p2vkSsNWPZ6qZLY1WxT0Fi48lvnMtqH5PMLHZhXi3VUAyVB+In13MlMChvgKJ34vxwnxtM4LHLbdwo6snmNOpvg0p9rndw/ZDuJVzKtFZqGnXDcbqgxc5ciHO0ZKA+OmTvcONRwzdM7/LoxY1OkgMM4yIAAiSKUI9kN4XzTvC+ZaMxnPUWZyeYtefdqcyBlJcW6Tu9KPWVZMnfBrTxo1YbW0Lgu8VOBXcJBBxwlIyzyhKrOLTZ8988wWxOnp9cBDcqcvz05U0u2yCyVG01aIN9T68uO2X65o8P3FiGoRj1mfgodai6hidS5+MDlWB9z7LvcOB0siDCWUlSKYKyhPuwgnW3h0H+6KZY9XSq7g9m9FEE3wooFzC2pcGZivRUzjjPHiJqFhFQLwJWP224wD39rbMgc4eps3xZLPc4gUCr4+OSZ/NJfF42HR80jKm+z66eleCn64lNN0pAocpMAXdt1J6a/8M28YHViZcQw9kFNsecKEy7TP0PQPamGKw9ZzsGX27BstHdezwEP1+bBTr0xALw5MQLgJG4oA7eSh7pvJSygJbxfoA2O/GjGNFFh+lcPA0mrSI0kFXwLKFgABN7psTHj4RW3sZeAKQPA8NAwDpJ5GVApMz+YnTEpNew7ULlG9LqTH802gwQEplglXOjaMK04WNLXsNzqpgotlYVyZu5VHi30T8k8M9ShJPANFbk1BHAtiFfxEMAqCzlIpmp/V2qeVQv8ZFzey3lSqfkx5bwiMdOeEmVG2cAIl5A6Fv2su4FPX/rU5NxH7T6vvKhzxWDLH7k1TiS5KkVON6JOd+dsfA+8e7/5lAAvqV0vnuSYxtTLsCH9MJhxsg9RToN674BgD4den/8FB2WsSPAXDvY1R/s97FYyaMtZ5uobWIJeQrdC1F/9RH35Miac/X+wTCuYBLE0s5g9afXWK2HPFtGrvdPi33k7BE433mfJtNk5fBHC0gLx2UgKk+WFKuwdg/aCS193Vm/5kIQs03Cb321UU9tSAFxHkKA7iFWOXZNR/y8kYlzikRbi+91Go4z+5BEKOV/qs4U4BN1TOXviaupj+yK0bGO0jilBAoJb/nEkTD/kYQOQQE6Ck4WX0Jd/fJaKVZZFIgit7ki5Ru/cZXmeC3qszcnHcAr0alygcYG5HKieUfNYoQu1lz//SNHZlLu3jZu+7H8ucQkhZIwpGZ+HvqAcxaAXK4/+S9p9/a/F8tx9jpgiBPw4MFsg89KUNEYOi7tVTMYeTGjjjB48xY5LFWxEI46IQy17Eenc0uD2la/b86WYXZtcym8C1YQKaLMmC4gdPtvP9jkoUQESb1i9zX1kPErjB83yiCybs9JsxCSGLgpk3FlBp3gvpvXQsuz4536vqjRzLTGChYKsoYnQuFhIM/UwDf6XgT7FfS/TLHRO6DVU8/KSdK0I+WZtVajJfJsQJLMEAk3/N+F+vcniJWymWqMzCpCvPr4xPEo1sWrrthodX8+As2xybCVN8Z80GxaORuAgYLtEZlZQsf7ueA14OBznOHJiPhNeKJ7fhikxFnGK8UYNepvRbp0PRFgfVEwzgfXWfSw9ih8dcuv9KkdTf4ZvVDuyFPqBXpX1jarkzAh2vObmtSmL8vh6cjjaua4dsnROKWovWPUQ3lkIALeqFP5hqLaalBFPTsVfk98vEj94iATJLrMpO46Sjt+kbtugKrYUwDIcDoGnoe06RH5EnG4lAgTsG5sxDKT7tO8TvD0WRkZz9M4U6V9dfIW7rPb/vUfub5XaTqwSHGZc7+HxHNUsVYBpOMSGbkOKFYZC5aTt+r+sDQc8gQauqhyCec9N56jXUaxjAyS5bbv7pO/XHQW/63/S97nRDx9AQPMx+8ccM65HBQyl+4JbKFR/yedLcvnVp63s9ZR8Q0RsGYxJ1FqJyCJumjyVotWryJhvihyY8rO/8LzBTpaf0v9BteR22dsgLoQPJX7K3ib/j6t6YSmceYtPu35914E5CB+hMzqPXsAZSWFWdbhdbne3iz25yw3MmPgl9/tCyqpX1rij3sLre/DdRaO39WTpjF9Qe4l4QGwTlZ2jtkh2qUDzJRAgY14wi7qO11t+67k4gxUC7OXEpWJybY/HVdPs6uHYWCRsEvanvdQN0jUFS6I+l/wbnk+tjuTGZ2iSHPQxJ52XrFoilclbrDOPliFkmmR0EcWAX9A83j8pXcGsBQaojOudcnQC44xGSOA416BYUIsgw0G2EPmeauJ4P/h38JtkSUkx142TtMrV865J5nVino0URrRYcBsJNZzuXvagqodvj+kKlqzhs1nmebk60cH3O7LaCBGH43J8pYgOqsL+c1vq/198E+fjdDIS9fr0J1RA+zCKbk/h0RFVFn14aymGfAzsYm9e+HhjjGXi+eJqqyB6DuyscVVDOk68hRkO4/bCceUdL5bUo7BTQZYA4FaW1r5OHsCBaArdiB+atGAn7x2cBlkVjiqonfL4t6zMViHihmAZhcmpl2GIepeDz8GTyaa39ky0/ZGOqXAbgvKi2REnomOnH+YqUC4cOv1p2E0vtNGzCtgOX+NUAMR8lLX311deWM8mQJcmE5oQgPjTegsjU1bIsQcuvIe3SQyA1C8ZczwTrVOibObHIFoqTm6Onk/knJq6WDlDMRZcBWO/qveUk/+/0Kpe1WspLtkB2hq10TWbgEqVL8Mk6+PRzjKtJrqfy5ONrM+IZCjhQjo+dLVkCzq388JhdQMiKjm6JOTFuDalv4NktL1XmT5BInq0FClL6L3o8rkUfx5WMViY+cFn78lwnQYJGQUZW8Z/Wk/sM7t32/xEIzcGzdFSsi4cmK/PG5VZIabC8pOaUc1+VvBOVaZulkar/fcPg1othT+HwCjtSMxaxjDI5thQYKCnC5KHcPqKA+2XvqmliQ+n4j3k0Ajj71QHwawym0A0SYhR8qFPXs2JkVgadN9ty+I+j/SCVsEA4O2C0k7PGSFfYhE2t9fuOX+v0iF04iNhDFT9MmscODa8HIXKBjAp0AV303nhRGF+iXluM5X/dEV/TNWHiu02wtHHnJolOJV9v7UWNnJc2FBkalvUyAC4WIbiHis70ZCLlYFT1vPXpuvwJuH7iJlTZwM05XiT+1rCRb1bj0w+D1AY60A93x+4du4v/m5hWCNRZ8gzwYHXHGKVlyzP8upqCzitoVGy/t3IE74PjD2nwY4VBxY4tao9VlD4Mu7rjMube9wBgsEQlIKOPLns273B3xmf6EBJrK&lt;/xenc:CipherValue&gt;\n   &lt;/xenc:CipherData&gt;\n&lt;/xenc:EncryptedData&gt;\n</code></pre>\n"}, {"tags": ["c#", "gmap.net"], "answers": [{"tags": [], "owner": {"reputation": 1046, "user_id": 2436546, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/096b9340fd595995c99e2a34df1d1fcf?s=128&d=identicon&r=PG", "display_name": "Vajura", "link": "https://stackoverflow.com/users/2436546/vajura"}, "is_accepted": false, "score": 2, "last_activity_date": 1433396902, "creation_date": 1433396902, "answer_id": 30635870, "question_id": 30223382, "link": "https://stackoverflow.com/questions/30223382/how-rotate-custom-moving-marker-image-gmap/30635870#30635870", "title": "How rotate custom moving marker (image) GMap", "body": "<p>You can use this function to rotate the image of the marker and then just reasign the marker with this image.</p>\n\n<pre><code>public Bitmap RotateImage(Image image, float angle)\n{\n    Bitmap rotatedBmp = new Bitmap(image.Width, image.Height);\n    rotatedBmp.SetResolution(image.HorizontalResolution, image.VerticalResolution);\n    Graphics g = Graphics.FromImage(rotatedBmp);\n    PointF offset = new PointF(image.Width / 2, image.Height / 2);\n    g.TranslateTransform(offset.X, offset.Y);\n    g.RotateTransform(angle);\n    g.TranslateTransform(-offset.X, -offset.Y);\n    g.DrawImage(image, new PointF(0, 0));\n\n    return rotatedBmp;\n}   \n</code></pre>\n\n<p>you can just do it like this then</p>\n\n<pre><code>marker.img = RotateImage(innitialImg, xxx);\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 2283391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3c907e96776149e14a327072c9844bbe?s=128&d=identicon&r=PG", "display_name": "Vaibhav Pandya", "link": "https://stackoverflow.com/users/2283391/vaibhav-pandya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1602169191, "creation_date": 1431544293, "question_id": 30223382, "link": "https://stackoverflow.com/questions/30223382/how-rotate-custom-moving-marker-image-gmap", "title": "How rotate custom moving marker (image) GMap", "body": "<p>I have a marker(plane bug) on GMap which moves on a flight path but I want it to rotate when it turns. Is there any way of doing this in GMap C#?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1431544407, "post_id": 30223369, "comment_id": 48550634, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1431544609, "creation_date": 1431544609, "answer_id": 30223471, "question_id": 30223369, "link": "https://stackoverflow.com/questions/30223369/search-for-item-in-model/30223471#30223471", "title": "Search for item in Model", "body": "<p>You could use a Dictionary.</p>\n\n<pre><code>@model IDictionary&lt;int, Testproject.Models.FooModel&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n    @Model[3]\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4897119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072ff1ed33e79093276126bbcbe8ea2d?s=128&d=identicon&r=PG&f=1", "display_name": "lundeqvist", "link": "https://stackoverflow.com/users/4897119/lundeqvist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1434866622, "creation_date": 1431544248, "last_edit_date": 1434866622, "question_id": 30223369, "link": "https://stackoverflow.com/questions/30223369/search-for-item-in-model", "title": "Search for item in Model", "body": "<p>I'm doing a little test project in ASP.NET MVC. I want to search for specific model item in the view.</p>\n\n<p><strong>Testproject/Controllers/TestController</strong></p>\n\n<pre><code>public class TestController : Controller\n{\n    List&lt;FooModel&gt; testList = new List&lt;FooModel&gt;() { };\n\n    public ActionResult Index()\n    {\n        return View(testList);\n    }\n}\n</code></pre>\n\n<p><strong>Testproject/Models/FooModel.cs</strong></p>\n\n<pre><code>public class FooModel\n{\n    public int Id { get; set; }\n    public string TestString{ get; set; }\n}\n</code></pre>\n\n<p><strong>Testproject/Views/Test/Index.cshtml</strong></p>\n\n<pre><code>@model IEnumerable&lt;Testproject.Models.FooModel&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n    @Model.Find(Id = 3)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is there some way to set the type of Id in FooModel to a key type or something so that I can search for it from the IEnumerable-model in the view?</p>\n"}, {"tags": ["c#", "image", "tags", "mp3", "albumart"], "owner": {"reputation": 51, "user_id": 4731233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/068b40c7d112ede881d4fda164acd22d?s=128&d=identicon&r=PG&f=1", "display_name": "Ibizanhound", "link": "https://stackoverflow.com/users/4731233/ibizanhound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431550546, "creation_date": 1431543331, "last_edit_date": 1431550546, "question_id": 30223114, "link": "https://stackoverflow.com/questions/30223114/c-how-can-i-add-album-art-image-tag-to-a-custom-filetype", "title": "c# How can I add album art/ image tag to a custom filetype?", "body": "<p>I am trying to make my own file type which features a thumbnail.</p>\n\n<p>The thumbnail shell handler (CppShellExtThumbnailHandler) seemed to be exactly what I wanted. </p>\n\n<p><a href=\"https://code.msdn.microsoft.com/CppShellExtThumbnailHandler-32399b35\" rel=\"nofollow\">https://code.msdn.microsoft.com/CppShellExtThumbnailHandler-32399b35</a></p>\n\n<p>Basically my filetype is an <strong>XML</strong> that I rename so that it has my own custom extension and inside it I store a base64 image which I convert back to an image to be used as a thumbnail in windows explorer. But unfortunately the thumbnail that the <em>thumbnail shell handler</em> creates, is recognized only by the <strong>windows explorer</strong>, but not by other image viewer applications such as <strong>Infranview</strong> or <strong>Acdsee</strong> (32 or 64bit versions).</p>\n\n<p>So I am currently trying to see if anyone knows how album art/ image tags work in mp3 files, which seem to be compatible with other image viewers (at least with the old version of Acdsee v3.1) and if this structure could be applied to a custom filetype?\nThank you!</p>\n"}, {"tags": ["c#", ".net", ".net-3.5", "waithandle"], "comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 1, "creation_date": 1431545255, "post_id": 30223042, "comment_id": 48551110, "body": "There are no spurious wakeups. Almost all Windows programs would break if there was such a thing. You are fighting windmills. But yes, the synchronization functions perform a full memory barrier (which is well understood but nowhere documented)."}, {"owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1431545935, "post_id": 30223042, "comment_id": 48551487, "body": "I don&#39;t agree: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682052%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> &quot;Condition variables are subject to spurious wakeups (those not associated with an explicit wake) and stolen wakeups (another thread manages to run before the woken thread). Therefore, you should recheck a predicate (typically in a while loop) after a sleep operation returns.&quot;  Also in .NET 4.0+ there is code like this: <a href=\"http://referencesource.microsoft.com/#mscorlib/system/threading/ManualResetEventSlim.cs,635\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#mscorlib/system/threading/&hellip;</a> &quot;// Loop to cope with spurious wakeups from other waits being canceled&quot;"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 1, "creation_date": 1431546108, "post_id": 30223042, "comment_id": 48551578, "body": "An event is not a condition variable. This does not apply. The source code tells you that the framework handles this case for you. Spurious wakeups are not exposed to user code. They are an implementation detail that you dug up there."}, {"owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1431546316, "post_id": 30223042, "comment_id": 48551680, "body": "@usr In .NET 4.0 the <code>ManualResetEventSlim</code> specifically has code to handle spurious wakeups. The <code>ManualResetEvent</code> class does not, which is what the OP is forced to use in .NET 3.5. This implies that <code>ManualResetEvent</code> is subject to spurious wakeups."}, {"owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "edited": false, "score": 0, "creation_date": 1431546373, "post_id": 30223042, "comment_id": 48551717, "body": "The source code in the link provided is for .NET 4.5.  <code>ManualResetEventSlim</code> is not available in .NET 3.5 so I am stuck using <code>ManualResetEvent</code>.  From what I could find, there is no documentation indicating that spurious wakeups are not a concern in <code>ManualResetEvent</code>.  I am reasonably confident that <code>ManualResetEvent</code> is backed by a Win32 condition variable which (per link above) does have to deal with spurious wakeup.  If you have a link to a reference (or source code) that proves that I don&#39;t have to worry about them then I would gladly accept that as an answer. :)"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "edited": false, "score": 0, "creation_date": 1431546599, "post_id": 30223042, "comment_id": 48551822, "body": "@ean5533 this is not at all implied. The implementation is completely different. All it does is delegate to the kernel. The docs say that there are no spurious wakeups so there aren&#39;t any."}, {"owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1431546635, "post_id": 30223042, "comment_id": 48551847, "body": "@usr Can you link to the docs that say there aren&#39;t any spurious wakeups? I think that would sufficiently answer OPs question."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1431546649, "post_id": 30223042, "comment_id": 48551861, "body": "@MicahZoltu MRE is backed by a kernel event object (CreateEvent). The docs say &quot;Wait waits until the event is signaled&quot;. That is unambiguous. The event is signaled when the function returns."}], "answers": [{"comments": [{"owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "edited": false, "score": 0, "creation_date": 1431620598, "post_id": 30224023, "comment_id": 48585821, "body": "Digging into the reference source it does appear that <code>WaitHandle</code> is not backed by condition variables as you mentioned in the comment above.  Instead, they are backed by Event Objects, which as you mentioned, don&#39;t have spurious wakeups.  More information on Event Objects can be found here: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686915(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1431550659, "last_edit_date": 1431550659, "creation_date": 1431546775, "answer_id": 30224023, "question_id": 30223042, "link": "https://stackoverflow.com/questions/30223042/does-eventwaithandle-have-to-deal-with-spurious-wakes/30224023#30224023", "title": "Does EventWaitHandle have to deal with spurious wakes?", "body": "<p>There are no spurious wakeups for events (MRE, ARE, and the slim versions). Almost all Windows programs would break if there was such a thing with those objects. You are fighting windmills. But yes, many of the synchronization functions including waiting and setting events perform a full memory barrier (which is well understood but nowhere documented). Condition variables to allow spurious wakeups (as the docs state). They are unrelated to events.</p>\n\n<p>Also, why would there be spurious wakeups? Doesn't make sense from an API standpoint. The event could just loop internally and hide the spurious wakeups from you (indeed, MRESlim does that). I can only repeat: Almost all programs would break. That is not reality.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/58195swd(v=vs.110).aspx\" rel=\"nofollow\">The docs say:</a></p>\n\n<blockquote>\n  <p>Blocks the current thread until the current WaitHandle receives a signal.\n  The caller of this method blocks indefinitely until the current instance receives a signal. </p>\n</blockquote>\n\n<p>These statements would be false if spurious wakeups were to exist in the context of events.</p>\n\n<p>You are misinterpreting what you saw. You have a bug but it is not caused by the event. The <code>reallyDone</code> technique is not required.</p>\n"}], "owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 30224023, "answer_count": 1, "score": 3, "last_activity_date": 1431550659, "creation_date": 1431543117, "last_edit_date": 1431543252, "question_id": 30223042, "link": "https://stackoverflow.com/questions/30223042/does-eventwaithandle-have-to-deal-with-spurious-wakes", "title": "Does EventWaitHandle have to deal with spurious wakes?", "body": "<p>Note: I am constrained to .NET 3.5, so I can't use <code>ManualResetEventSlim</code>.</p>\n\n<p>Do I have to deal with <a href=\"https://en.wikipedia.org/wiki/Spurious_wakeup\" rel=\"nofollow\">Spurious wakeups</a> when doing something like this:</p>\n\n<pre><code>var waitHandle = new EventWaitHandle();\nnew Thread(() =&gt;\n{\n    Thread.Sleep(TimeSpan.FromSeconds(5));\n    waitHandler.Set();\n});\nwaitHandle.WaitOne();\n</code></pre>\n\n<p>If so, are the correct memory barrier set when calling <code>Set</code> and/or <code>WaitOne</code> such that this would be safe:</p>\n\n<pre><code>var reallyDone = false;\nvar waitHandle = new EventWaitHandle();\nnew Thread(() =&gt;\n{\n    Thread.Sleep(TimeSpan.FromSeconds(5));\n    reallyDone = true;\n    waitHandler.Set();\n});\nwhile (!reallyDone)\n    waitHandle.WaitOne();\n</code></pre>\n\n<p>In particular, is it possible that the main thread in this example might not see that <code>reallyDone</code> is set to true due to instruction reordering or caching?  Does <code>reallyDone</code> need to be volatile in this case or is that unnecessary?</p>\n"}]