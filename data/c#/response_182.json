[{"tags": ["c#", "dotnetbrowser"], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 7342291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4TOEdafLhyo/AAAAAAAAAAI/AAAAAAAAAC4/alOOB_pvNLw/photo.jpg?sz=128", "display_name": "Vladyslav Tsvek", "link": "https://stackoverflow.com/users/7342291/vladyslav-tsvek"}, "is_accepted": false, "score": 0, "last_activity_date": 1530889138, "creation_date": 1530889138, "answer_id": 51213103, "question_id": 51181787, "link": "https://stackoverflow.com/questions/51181787/c-visual-studio-dotnetbrowser-keeps-searching-getelementbyid/51213103#51213103", "title": "C# Visual Studio DotNetBrowser keeps searching GetelementbyID", "body": "<p>The <code>Browser.FinishLoadingFrameEvent</code> event is raised every time when a web page is fully loaded. So, the application is crashed, because it still setting values to elements which do not exist on the next web page.</p>\n\n<p>To resolve this behavior, it is necessary to add the check with the validated URL and unsubscribe from the <code>FinishLoadingFrameEvent</code> after the login code executes.</p>\n\n<p>Here is a reworked sample:</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\nusing DotNetBrowser;\nusing DotNetBrowser.DOM;\nusing DotNetBrowser.Events;\nusing DotNetBrowser.WinForms;\n\nnamespace WindowsFormsApp9\n{\n    class Program\n    {\n        public class WindowMain : Form\n        {\n            private WinFormsBrowserView browserView;\n\n            public WindowMain()\n            {\n                Browser browser = BrowserFactory.Create();\n                browserView = new WinFormsBrowserView(browser);\n\n                browser.FinishLoadingFrameEvent += Browser_FinishLoadingFrameEvent;\n\n                this.Controls.Add(browserView);\n\n                Width = 1024;\n                Height = 768;\n                this.Load += WindowMain_Loaded;\n            }\n\n            private void Browser_FinishLoadingFrameEvent(object sender, FinishLoadingEventArgs e)\n            {\n                if(e.IsMainFrame &amp;&amp; e.ValidatedURL.Contains(\"loginURL\"))\n                {\n                    DOMDocument document = e.Browser.GetDocument();\n                    DOMInputElement username = (DOMInputElement)document.GetElementById(\"id_Username\");\n                    DOMInputElement password = (DOMInputElement)document.GetElementById(\"id_Password\");\n\n                    username.Value = \"fo2\";\n                    password.Value = \"f2342156f\";\n\n                    e.Browser.FinishLoadingFrameEvent -= Browser_FinishLoadingFrameEvent;\n                }\n            }\n\n            void WindowMain_Loaded(object sender, EventArgs e)\n            {\n                browserView.Browser.LoadURL(\"http://test.com\");\n            }\n\n            [STAThread]\n            public static void Main()\n            {\n                WindowMain wnd = new WindowMain();\n                Application.Run(wnd);\n\n                var browser = wnd.browserView.Browser;\n                wnd.browserView.Dispose();\n                browser.Dispose();\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10034313, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215185132874384/picture?type=large", "display_name": "Lazaros Morfiadis", "link": "https://stackoverflow.com/users/10034313/lazaros-morfiadis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530889138, "creation_date": 1530747406, "last_edit_date": 1530801548, "question_id": 51181787, "link": "https://stackoverflow.com/questions/51181787/c-visual-studio-dotnetbrowser-keeps-searching-getelementbyid", "title": "C# Visual Studio DotNetBrowser keeps searching GetelementbyID", "body": "<p>I'm a started in coding, and I try to <code>autofill</code> username and password into a page but when I click login, code still search for <code>getelementbyid</code> on the next page(all pages are under same domain) and crashes.\nI'm using Visual Studio 2k17</p>\n\n<p>Thanks in advance, any help would be perfect!</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\nusing DotNetBrowser;\nusing DotNetBrowser.DOM;\nusing DotNetBrowser.Events;\nusing DotNetBrowser.WinForms;\n\nnamespace WindowsFormsApp9\n{\n    class Program\n    {\n        public class WindowMain : Form\n        {\n            private WinFormsBrowserView browserView;\n\n            public WindowMain()\n            {\n                Browser browser = BrowserFactory.Create();\n                browserView = new WinFormsBrowserView(browser);\n\n                browser.FinishLoadingFrameEvent += delegate (object sender, FinishLoadingEventArgs e)\n                {\n\n                    if (e.IsMainFrame)\n                    {\n                        DOMDocument document = e.Browser.GetDocument();\n                        DOMInputElement username = (DOMInputElement)document.GetElementById(\"id_Username\");\n                        DOMInputElement password = (DOMInputElement)document.GetElementById(\"id_Password\");\n\n\n                        username.Value = \"fo2\";\n                        password.Value = \"f2342156f\";\n\n                    }\n                };\n\n                this.Controls.Add(browserView);\n\n                Width = 1024;\n                Height = 768;\n                this.Load += WindowMain_Loaded;\n            }\n\n            void WindowMain_Loaded(object sender, EventArgs e)\n            {\n                browserView.Browser.LoadURL(\"http://test.com\");\n            }\n\n            [STAThread]\n            public static void Main()\n            {\n                WindowMain wnd = new WindowMain();\n                Application.Run(wnd);\n\n                var browser = wnd.browserView.Browser;\n                wnd.browserView.Dispose();\n                browser.Dispose();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sorting"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1530746419, "post_id": 51181665, "comment_id": 89345666, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (with sample data) so we can repo the issue at our end."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1530746466, "post_id": 51181665, "comment_id": 89345673, "body": "Linq is usally faster than any other method.  So where is the data coming from?  Also if you watch Task Manager while sort is being performed is memory being swapped?  If the data is coming from a DataBase like SQL Server consider using a stored procedure to perform the sort.  Also consider putting results into a view."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1530747721, "post_id": 51181665, "comment_id": 89345926, "body": "@Fredou I suspect the lack of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> may be part of the issue. If you provide a solution that can be easily copied and pasted into a console app and run, then people can debug it quickly and try and spot the issue. In effect, you make it easy for people to help you. For me to verify your above code I need to create a few classes with the relevant properties <i>and hope I defined them the same way you do</i>. The friction is too high - so people don&#39;t bother trying it."}], "answers": [{"comments": [{"owner": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "edited": false, "score": 0, "creation_date": 1530746619, "post_id": 51181701, "comment_id": 89345707, "body": "very good point, i&#39;m making something easy ... complex, always good to have a second opinion!"}, {"owner": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "edited": false, "score": 0, "creation_date": 1530746722, "post_id": 51181701, "comment_id": 89345729, "body": "for my own personal learning, can the list.sort replace the linq? (without firstordefault() ("}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "edited": false, "score": 0, "creation_date": 1530801623, "post_id": 51181701, "comment_id": 89369622, "body": "@Fredou they do different things, so... probably not fair to compare"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 9, "last_activity_date": 1530746394, "creation_date": 1530746394, "answer_id": 51181701, "question_id": 51181665, "link": "https://stackoverflow.com/questions/51181665/trying-to-figure-out-how-to-do-a-fast-complex-sorting-without-linq/51181701#51181701", "title": "trying to figure out how to do a fast complex sorting without LINQ", "body": "<p>If you're just after the \"first or default\" (min/max), you don't need to sort - you can do this in a single O(N) pass. Pick the first item and store it in a variable; now loop over all the <em>other</em> items in turn: if it is preferable by your criteria: shove it in the variable. When you get to the end, you have your winner.</p>\n"}, {"comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1530747926, "post_id": 51181791, "comment_id": 89345964, "body": "<code>MaxBy</code> is a great suggestion."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1530748061, "post_id": 51181791, "comment_id": 89345977, "body": "@mjwills Yeh, but writing the comparer is a PITA. Makes me think that a ComparerBuilder class might be useful that supports the same syntax as OrderBy and OrderByDescending. Might give it a crack now."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1530752279, "post_id": 51181791, "comment_id": 89346600, "body": "@mjwills That was a fun project before bedtime :) <a href=\"https://github.com/biggyspender/ComparerBuilder/blob/master/ComparerBuilderTest/UnitTest1.cs\" rel=\"nofollow noreferrer\">github.com/biggyspender/ComparerBuilder/blob/master/&hellip;</a>"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "edited": false, "score": 0, "creation_date": 1530795971, "post_id": 51181791, "comment_id": 89365763, "body": "@Fredou It&#39;s basically the same technique (and complexity) as that outlined by MarcGravell, but giving you something reusable at the end."}], "tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 4, "last_activity_date": 1530753150, "last_edit_date": 1530753150, "creation_date": 1530747483, "answer_id": 51181791, "question_id": 51181665, "link": "https://stackoverflow.com/questions/51181665/trying-to-figure-out-how-to-do-a-fast-complex-sorting-without-linq/51181791#51181791", "title": "trying to figure out how to do a fast complex sorting without LINQ", "body": "<p>You could create a custom comparer:</p>\n\n<pre><code>var comparer = Comparer&lt;SomeItem&gt;.Create((a, b) =&gt; \n    a.A == a.B \n        ? a.B == b.B \n            ? a.C == b.C \n                 ? 0 \n                 : b.C - a.C //the order of these subtractions will affect the order\n            : a.B - b.B \n        : a.A - b.A);\n</code></pre>\n\n<p>then use <a href=\"https://www.nuget.org/packages/morelinq/\" rel=\"nofollow noreferrer\">morelinq</a>'s <code>MinBy</code>:</p>\n\n<pre><code>IEnumerable&lt;SomeItem&gt; items = ...;\nvar best = items.MinBy(x =&gt; x, comparer); //.First() if it's morelinq3\n</code></pre>\n\n<p>...or if creating that comparer looks scary, I wrote a <a href=\"https://github.com/biggyspender/ComparerBuilder\" rel=\"nofollow noreferrer\">ComparerBuilder library</a> for making it a bit easier:</p>\n\n<pre><code>var builder = new ComparerBuilder&lt;Item&gt;();\nvar comparer = builder\n    .SortKey(x =&gt; x.A)\n    .ThenKeyDescending(x =&gt; x.B)\n    .ThenKey(x =&gt; x.C)\n    .Build();\nvar selectedItem = items.MinBy(x =&gt; x, comparer).First();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "is_accepted": false, "score": 0, "last_activity_date": 1530793997, "creation_date": 1530793997, "answer_id": 51191435, "question_id": 51181665, "link": "https://stackoverflow.com/questions/51181665/trying-to-figure-out-how-to-do-a-fast-complex-sorting-without-linq/51191435#51191435", "title": "trying to figure out how to do a fast complex sorting without LINQ", "body": "<p>based on Mark answer I came up with this;</p>\n\n<pre><code>    Node unlock = null;\n    Node locked = null;\n\n    if (Locked.Count &gt; 0)\n    {\n        unlock = Locked[0];\n        for (var i = 1; i &lt; Locked.Count; ++i)\n        {\n            locked = Locked[i];\n            if (unlock.Weight &gt; locked.Weight)\n            {\n                unlock = locked;\n            }\n            else if (unlock.Weight == locked.Weight)\n            {\n                var unlockStuffLevel = unlock.Stuff?.Level ?? 100;\n                var lockedStuffLevel = locked.Stuff?.Level ?? 100;\n\n                if (unlockStuffLevel &lt; lockedStuffLevel)\n                {\n                    unlock = locked;\n                }\n                else if (unlockStuffLevel == lockedStuffLevel )\n                {\n                    if (unlock.Penalty &gt; locked.Penalty)\n                    {\n                        unlock = locked;\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>profiling show that this now take about 15% instead of 65% before, this seem to replicate the same result as the LINQ, I might refine it more later but for now I got what I wanted</p>\n"}], "owner": {"reputation": 18826, "user_id": 40868, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6191322922ecb29b38339db6d65f56ac?s=128&d=identicon&r=PG", "display_name": "Fredou", "link": "https://stackoverflow.com/users/40868/fredou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 51181701, "answer_count": 3, "score": 2, "last_activity_date": 1530793997, "creation_date": 1530745932, "last_edit_date": 1530757593, "question_id": 51181665, "link": "https://stackoverflow.com/questions/51181665/trying-to-figure-out-how-to-do-a-fast-complex-sorting-without-linq", "title": "trying to figure out how to do a fast complex sorting without LINQ", "body": "<p>I guess I'm too used to use LINQ but this is slow, I did use a profiler and it consume 65% of the time for what I'm trying to do</p>\n\n<pre><code>var unlock = Locked.OrderBy(x =&gt; x.Weight) //double\n                   .ThenByDescending(x =&gt; x.Stuff?.Level ?? 100) //int\n                   .ThenBy(x =&gt; x.Penalty) //double\n                   .FirstOrDefault();\n</code></pre>\n\n<p>Locked is a list, I know the sort will change the list but I don't really care, I just want to make it work (if possible), the code below doesn't give the same result as the LINQ above;</p>\n\n<pre><code>Locked.Sort(delegate (Node a, Node b)\n{\n    int xdiff = a.Weight.CompareTo(b.Weight);\n\n    if (xdiff != 0) return xdiff;\n\n    var aStuff = a.Stuff?.Level ?? 100;\n    var bStuff = b.Stuff?.Level ?? 100;\n\n    xdiff = -1 * aStuff.CompareTo(bStuff);\n\n    if (xdiff != 0) return xdiff;\n\n    return xdiff = a.Penalty.CompareTo(b.Penalty);\n});\n\nvar unlock = Locked[0];\n</code></pre>\n\n<p>first thing is, is it possible with the List.Sort to do that <em>complex</em> sorting? asc / then desc / then asc ?</p>\n\n<p>if yes, where is my error?</p>\n\n<p>next is, is there a faster way of doing what I'm trying to do?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1530745997, "post_id": 51181582, "comment_id": 89345600, "body": "Know that your program was successful from where?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 3, "creation_date": 1530746711, "post_id": 51181582, "comment_id": 89345726, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/system.environment.exit.aspx\" rel=\"nofollow noreferrer\">The <code>Environment.Exit</code> method takes one parameter, which becomes the process exit code.</a>"}, {"owner": {"reputation": 1094, "user_id": 2080879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nv7uW.jpg?s=128&g=1", "display_name": "Sql Surfer", "link": "https://stackoverflow.com/users/2080879/sql-surfer"}, "edited": false, "score": 0, "creation_date": 1530753088, "post_id": 51181582, "comment_id": 89346727, "body": "More discussion on Environment.Exit ..  <a href=\"https://stackoverflow.com/questions/155610/how-do-i-specify-the-exit-code-of-a-console-application-in-net\" title=\"how do i specify the exit code of a console application in net\">stackoverflow.com/questions/155610/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": false, "score": 6, "last_activity_date": 1530745661, "last_edit_date": 1530745661, "creation_date": 1530745331, "answer_id": 51181612, "question_id": 51181582, "link": "https://stackoverflow.com/questions/51181582/c-main-function-being-void/51181612#51181612", "title": "C# main function being void", "body": "<p>The <code>Main</code> method can return <code>void</code> or an <code>int</code>:</p>\n\n<pre><code>static int Main()\n{\n    //... \n    return 0;\n}\n</code></pre>\n\n<p>See the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/main-and-command-args/main-return-values\" rel=\"noreferrer\">docs</a>.</p>\n"}], "owner": {"reputation": 172, "user_id": 9616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd372729d752196e0634e2be4711063?s=128&d=identicon&r=PG&f=1", "display_name": "Jacce", "link": "https://stackoverflow.com/users/9616687/jacce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1530776661, "answer_count": 1, "score": 1, "last_activity_date": 1530745661, "creation_date": 1530745081, "question_id": 51181582, "link": "https://stackoverflow.com/questions/51181582/c-main-function-being-void", "closed_reason": "Duplicate", "title": "C# main function being void", "body": "<p>In both C and C++ the main function is of type int and at the end of the main method it returns 0. If the program returns 0 I know that the program was successful. But in c# the main is of type void by default (I guess you could change it to an int and return 0 aswell) so how can I know that the program was successful in this case? Do I have to debug or do some debug writelines to really \nclarify that the program was successfull in this case where the main method is void?</p>\n"}, {"tags": ["c#", "php", "http"], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 9505568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2OTtmaKMUjc/AAAAAAAAAAI/AAAAAAAAABU/v97vNDetVhc/photo.jpg?sz=128", "display_name": "Lewis", "link": "https://stackoverflow.com/users/9505568/lewis"}, "is_accepted": true, "score": 0, "last_activity_date": 1530789672, "creation_date": 1530789672, "answer_id": 51190079, "question_id": 51181557, "link": "https://stackoverflow.com/questions/51181557/httpwebresponse-not-responding-from-php/51190079#51190079", "title": "HttpWebResponse not responding from PHP", "body": "<p>I managed to fix it by just removing Console.Writeline.</p>\n"}], "owner": {"reputation": 312, "user_id": 9505568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2OTtmaKMUjc/AAAAAAAAAAI/AAAAAAAAABU/v97vNDetVhc/photo.jpg?sz=128", "display_name": "Lewis", "link": "https://stackoverflow.com/users/9505568/lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51190079, "answer_count": 1, "score": 0, "last_activity_date": 1530789672, "creation_date": 1530744867, "question_id": 51181557, "link": "https://stackoverflow.com/questions/51181557/httpwebresponse-not-responding-from-php", "title": "HttpWebResponse not responding from PHP", "body": "<p>So I have this code in C#.</p>\n\n<pre><code>    private void SendMessage()\n{\n    // this is what we are sending\n    string post_data = \"loginIdPost=\" + 2 + \"&amp;\" + \"contentPost=\" + absenceInputField.text;\n\n    string uri = \"&lt;URI IS HERE&gt;\";\n\n    HttpWebRequest request = (HttpWebRequest)\n    WebRequest.Create(uri); request.KeepAlive = false;\n    request.ProtocolVersion = HttpVersion.Version10;\n    request.Method = \"POST\";\n\n    byte[] postBytes = Encoding.ASCII.GetBytes(post_data);\n\n\n    request.ContentType = \"application/x-www-form-urlencoded\";\n    request.ContentLength = postBytes.Length;\n    Stream requestStream = request.GetRequestStream();\n\n    requestStream.Write(postBytes, 0, postBytes.Length);\n    requestStream.Close();\n\n\n    HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n\n\n\n\n    Console.WriteLine(new StreamReader(response.GetResponseStream()).ReadToEnd());\n    Debug.Log(new StreamReader(response.GetResponseStream()).ReadToEnd());\n\n    Debug.Log(response.StatusCode);\n    Console.WriteLine(response.StatusCode);\n}\n</code></pre>\n\n<p>It sends some information to a PHP file, which then puts data into my database. The data is being successfully sent, but the HttpWebResponse is coming back blank. It returns \"\", an empty string.</p>\n\n<p>This is my PHP code.</p>\n\n<pre><code>    &lt;?php\n\n//Id\nif (isset($_POST[\"loginIdPost\"]))\n{\n  $loginId = $_POST[\"loginIdPost\"];\n} \nelse \n{\n  $loginId = null;\n}\n\n\n//Content\nif (isset($_POST[\"contentPost\"]))\n{\n  $content = $_POST[\"contentPost\"];\n} \nelse \n{\n  $content = null;\n}\n\ntry \n{\n    $conn = new PDO(\"Connection String\");\n    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n}\ncatch (PDOException $e) \n{\n    print(\"Error connecting to SQL Server.\");\n    die(print_r($e)); \n}\n\n$sth = $conn-&gt;prepare('Sql Query is here');\n$sth-&gt;execute('details of execution are here');\necho \"Success\";\n\n//Check Connection\nif(!$conn)\n{\n    die(\"Connection Failed. \". mysqli_connect_error());\n}\n?&gt; \n</code></pre>\n\n<p>Does anyone know why I'm getting an empty string back, when I'd expect to be getting \"Success\" back. Again, no errors in the php code as the SQL query does insert data into my database.</p>\n"}, {"tags": ["c#", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": true, "score": 7, "last_activity_date": 1530744196, "creation_date": 1530744196, "answer_id": 51181494, "question_id": 51181460, "link": "https://stackoverflow.com/questions/51181460/c-datetime-is-always-01-01-0001-when-passed-through-method-parameters/51181494#51181494", "title": "C# DateTime is always 01/01/0001 when passed through method parameters", "body": "<p>The correct syntax to initialize a datetime instance is this:</p>\n\n<pre><code>var christmas = new DateTime(2017, 12, 25);\n</code></pre>\n\n<p>The constructor is <a href=\"https://msdn.microsoft.com/en-us/library/xcfzdy4x(v=vs.110).aspx\" rel=\"noreferrer\">documented here</a>.</p>\n\n<p>And the reason why your approach did not work:</p>\n\n<p>You are dividing 25 by 12, then dividing the result of that by 2017. as an integer, this will be zero, as a date this will be <code>DateTime.MinValue</code> which is 01/01/0001.</p>\n\n<p>So why does the compiler not reject your attempted date literal? Because <a href=\"https://msdn.microsoft.com/en-us/library/z2xf7zzk(v=vs.110).aspx\" rel=\"noreferrer\">there is a constructor</a> which takes an <code>Int64</code> that fits the division expression. It has altogether different semantics though, it represents the</p>\n\n<blockquote>\n  <p>number of 100-nanosecond intervals that have elapsed since January 1, 0001 at 00:00:00.000 in the Gregorian calendar</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "is_accepted": false, "score": 2, "last_activity_date": 1530744230, "creation_date": 1530744230, "answer_id": 51181500, "question_id": 51181460, "link": "https://stackoverflow.com/questions/51181460/c-datetime-is-always-01-01-0001-when-passed-through-method-parameters/51181500#51181500", "title": "C# DateTime is always 01/01/0001 when passed through method parameters", "body": "<p>This is incorrect syntax (or at very least not what you think it is)</p>\n\n<pre><code>DateTime christmas = new DateTime(25 / 12 / 2017);\n</code></pre>\n\n<p>The numeric values are integers and '/' is divide.</p>\n\n<p>Instead you want to do something like this:</p>\n\n<pre><code>DateTime christmas = new DateTime(2017, 12, 25);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>DateTime christmas = new DateTime.Parse(\"12/25/2017\");\n</code></pre>\n\n<p>The format on that last one is culturally dependent.</p>\n"}], "owner": {"reputation": 3, "user_id": 8004215, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nlZrL_HuBrM/AAAAAAAAAAI/AAAAAAAAAKs/GxZAkPb67BM/photo.jpg?sz=128", "display_name": "Mariothedog", "link": "https://stackoverflow.com/users/8004215/mariothedog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3008, "favorite_count": 0, "accepted_answer_id": 51181494, "answer_count": 2, "score": -1, "last_activity_date": 1530744230, "creation_date": 1530743927, "question_id": 51181460, "link": "https://stackoverflow.com/questions/51181460/c-datetime-is-always-01-01-0001-when-passed-through-method-parameters", "title": "C# DateTime is always 01/01/0001 when passed through method parameters", "body": "<p>I'm trying to check if a DateTime is greater than another DateTime in a method, but when I try to pass it through the paramaters it says that one of the DateTime is 01/01/0001 even though I didn't pass it through as such.</p>\n\n<p>Method:  </p>\n\n<pre><code>int monthsCount2(DateTime date, DateTime birthday, int yOld)\n            {\n                int count = 0;\n                if (birthday.Date &gt;= date.Date)\n                {\n                    count++;\n                    if (!(yOld == 0))\n                        count += (yOld - 1);\n                }\n                else\n                    count += yOld;\n                return count;\n            }\n</code></pre>\n\n<p>Using the method:  </p>\n\n<pre><code>Console.WriteLine(\"You have lived through {0} christmases.\", \nmonthsCount2(christmas, birthDay, (int)yearsOld));\n</code></pre>\n\n<p>christmas variable:  </p>\n\n<pre><code>DateTime christmas = new DateTime(25 / 12 / 2017);\n</code></pre>\n\n<p>birthDay variable:  </p>\n\n<pre><code>try\n                {\n                    Console.WriteLine(\"Please enter your Birthdate. (dd/MM/yyyy)\");\n                    string input = Console.ReadLine();\n                    birthDay = DateTime.Parse(input);\n                    if (birthDay &gt; DateTime.Now)\n                        throw new FormatException();\n                }\n</code></pre>\n\n<p>yearsOld variable:  </p>\n\n<pre><code>TimeSpan secondsTimeSpan = DateTime.Now - birthDay;\n                double secondsOld = Math.Round(secondsTimeSpan.TotalSeconds);\n                double minutesOld = Math.Round(secondsOld / 60);\n                double hoursOld = Math.Round(minutesOld / 60);\n                double daysOld = Math.Round(hoursOld / 24);\n                double weeksOld = Math.Round(daysOld / 7);\n                double monthsOld = Math.Round(weeksOld / 4.34524);\n                double yearsOld = Math.Round(monthsOld / 12, 1);\n</code></pre>\n\n<p>Input - Console:<br>\n<a href=\"https://imgur.com/a/5GlysAp\" rel=\"nofollow noreferrer\">Console - Imgur</a></p>\n\n<p>Locals Debug:<br>\n<a href=\"https://imgur.com/a/7tXlHVy\" rel=\"nofollow noreferrer\">Locals - Imgur</a></p>\n\n<p>All Code:<br>\n<a href=\"https://gist.github.com/mariothedog/562df7d5e9b0ce28d12135b898392a5a\" rel=\"nofollow noreferrer\">Code - Github</a></p>\n"}, {"tags": ["c#", "android", "ios", "list", "xamarin"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1530742572, "post_id": 51181258, "comment_id": 89345012, "body": "are you sure <code>email1</code> is not null and has at least one element in it?"}, {"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1530785534, "post_id": 51181258, "comment_id": 89358846, "body": "@Jason Yes, you are right. I have Used Count. The output is 0."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 0, "creation_date": 1530785714, "post_id": 51181591, "comment_id": 89358976, "body": "Thanks @Vinit, Is my query right? How can i retrieve table data from an &quot;Easy Table&quot;. Do I have to use .Take(1) ? Why email1  is null."}, {"owner": {"reputation": 2289, "user_id": 2471463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEadi.jpg?s=128&g=1", "display_name": "Vinit", "link": "https://stackoverflow.com/users/2471463/vinit"}, "reply_to_user": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 0, "creation_date": 1530810000, "post_id": 51181591, "comment_id": 89374819, "body": "@Aslam Ranjha - Updated my answer based on your questions."}, {"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 0, "creation_date": 1530814431, "post_id": 51181591, "comment_id": 89376918, "body": "Thanks for your precious time. VS is giving error &quot;Severity\tCode\tDescription\tProject\tFile\tLine\tSuppression State Error\tCS1061\t&#39;IMobileServiceTableQuery&lt;string&gt;&#39; does not contain a definition for &#39;FirstOrDefaultAsync&#39; and no extension method &#39;FirstOrDefaultAsync&#39; accepting a first argument of type &#39;IMobileServiceTableQuery&lt;string&gt;&#39;&quot; could be found (are you missing a using directive or an assembly reference?)&quot; and when i used it with         .ToListAsync(); it throws exception that Equals() isn&#39;t supported with Where."}, {"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 0, "creation_date": 1530894167, "post_id": 51181591, "comment_id": 89409622, "body": "what Changes I make to make it working.i&#39;ve find this link <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/data-cloud/consuming/azure\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/xamarin-forms/data-cloud/&hellip;</a> but it&#39;s giving false output like &quot;PROJECTNAME.CLASSNAME&quot;. I need email as output."}], "tags": [], "owner": {"reputation": 2289, "user_id": 2471463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEadi.jpg?s=128&g=1", "display_name": "Vinit", "link": "https://stackoverflow.com/users/2471463/vinit"}, "is_accepted": true, "score": 1, "last_activity_date": 1530809952, "last_edit_date": 1530809952, "creation_date": 1530745171, "answer_id": 51181591, "question_id": 51181258, "link": "https://stackoverflow.com/questions/51181258/facing-arguments-exception-error-on-retrieving-data-from-list-of-a-query-using-c/51181591#51181591", "title": "Facing Arguments exception error on retrieving data from list of a query using c# in a cross platform xamarin project (ios and android)", "body": "<p>It seems the <code>email1</code> is empty, so it's unable to find first element in the list and cuasing index out of exception.\nYou should validate the list before accessing any elements of that list. </p>\n\n<pre><code>if(email1.Count &gt; 0)\n    notice3.Text = email1[0].ToString();\n</code></pre>\n\n<p>Possible reason for getting empty email1, might be the string comparison in where clause, you should ignore the case and compare the strings unless you are sure that both parameters in comparison have same case. Also if you want to fetch only one email then you should use FirstOrDefaultAsync. The modified query will look like below.</p>\n\n<pre><code>notice3.Text = await regTable\n                .Where(Reg =&gt; Reg.email.Equals(imail, StringComparison.OrdinalIgnoreCase))\n                .Select(email =&gt; email.Text.ToString()).FirstOrDefaultAsync&lt;string&gt;()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 2, "accepted_answer_id": 51181591, "answer_count": 1, "score": 0, "last_activity_date": 1530958386, "creation_date": 1530742127, "last_edit_date": 1530958386, "question_id": 51181258, "link": "https://stackoverflow.com/questions/51181258/facing-arguments-exception-error-on-retrieving-data-from-list-of-a-query-using-c", "title": "Facing Arguments exception error on retrieving data from list of a query using c# in a cross platform xamarin project (ios and android)", "body": "<p>Facing Arguments exception error on retrieving data from list of a query using c# in a cross platform xamarin project (ios and android). I am trying to retrieve data from easy tables on azure (cloud). here's my code</p>\n\n<pre><code>try\n{\n    var client = new MobileServiceClient(\"https://eg.azurewebsites.net\");\n    IMobileServiceTable&lt;Reg&gt; regTable = client.GetTable&lt;Reg&gt;();\n    Reg reg = new Reg();\n\n    string imail = uemail2.Text.ToString();\n\n    // This query to seach email\n    var email1 = await regTable\n        .Where(Reg =&gt; Reg.email.ToString() == imail)\n        .Select(email =&gt; email.Text.ToString())\n        .ToListAsync();\n\n    notice3.Text = email1[0].ToString();\n}\ncatch (ArgumentException ex)\n{\n    notice.Text = \"Arguments Error\" + ex.Message + ex.StackTrace + ex.HelpLink + ex.Source;\n}\n</code></pre>\n\n<p><strong>ERROR DETAILS</strong></p>\n\n<blockquote>\n  <p>Index was out of range. Must be non-negative and less than the size of\n  the collection. Parameter name: index at\n  System.ThrowHelper.ThrowArgumentOutofRange_IndexException....\n  ...//continued ex.Source = mscorlib</p>\n</blockquote>\n\n<p><strong>Thanks in Advance</strong></p>\n\n<p>My Updated Query:</p>\n\n<pre><code> public async Task&lt;ObservableCollection&lt;Reg&gt;&gt; GetTodoItemsAsync(bool syncItems = false)\n     {\nvar client = new MobileServiceClient(\"https://eg.azurewebsites.net\");\n             IMobileServiceTable&lt;Reg&gt; regTable = client.GetTable&lt;Reg&gt;();\n             Reg reg = new Reg();\n\n             string imail= uemail2.Text.ToString();\n\n         IEnumerable&lt;Reg&gt; items = await regTable\n                     .Where(email=&gt; email.Text.ToString() == imail)\n                     .ToEnumerableAsync();\n\n         return new ObservableCollection&lt;Reg&gt;(items);\n     }\n\nprivate async void v_OnClicked(object sender, EventArgs e)\n    {\n\nvar client = new MobileServiceClient(\"https://eg.azurewebsites.net\");\n            IMobileServiceTable&lt;Reg&gt; regTable = client.GetTable&lt;Reg&gt;();\n            Reg reg = new Reg();\n\n            string imail = uemail2.Text.ToString();\n\nawait GetTodoItemsAsync();\n            items email3 = new items();\n\n\n\n            vnotice2.Text = email3.ToString();\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "c++-cli", "clr", "cil"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530743943, "post_id": 51181173, "comment_id": 89345267, "body": "PITA to build, but works just fine, as expected.  This just isn&#39;t special at all."}, {"owner": {"reputation": 3637, "user_id": 3175, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5075320f2eaac3420b35d4c4724e5307?s=128&d=identicon&r=PG", "display_name": "Imbue", "link": "https://stackoverflow.com/users/3175/imbue"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530744290, "post_id": 51181173, "comment_id": 89345336, "body": "@HansPassant Did you build it as a pure MSIL assembly? And then call from a .NET Core app? Those are the only conditions it crashes under. It won&#39;t crash if built as or ran from a desktop (.NET Framework) app."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1530744743, "post_id": 51181173, "comment_id": 89345415, "body": "<a href=\"https://github.com/mono/CppSharp\" rel=\"nofollow noreferrer\">github.com/mono/CppSharp</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530745151, "post_id": 51181173, "comment_id": 89345476, "body": "Of course.  If you want somebody to look at your solution then you&#39;ll have to publish it somewhere."}, {"owner": {"reputation": 3637, "user_id": 3175, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5075320f2eaac3420b35d4c4724e5307?s=128&d=identicon&r=PG", "display_name": "Imbue", "link": "https://stackoverflow.com/users/3175/imbue"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530746146, "post_id": 51181173, "comment_id": 89345621, "body": "@HansPassant Here is the code. It has two projects. &quot;Library&quot; is the above code in C++ CLI, configured to compile as pure MSIL. CoreApp is a C# console app that&#39;ll call the library. I&#39;ve tried it on a couple computers. It crashes and it usually takes Visual Studio with it. <a href=\"https://app.box.com/s/xejfm4s46r9hs0inted2kzhkh9qzmjpb\" rel=\"nofollow noreferrer\">app.box.com/s/xejfm4s46r9hs0inted2kzhkh9qzmjpb</a> Thanks for looking!"}], "answers": [{"comments": [{"owner": {"reputation": 3637, "user_id": 3175, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5075320f2eaac3420b35d4c4724e5307?s=128&d=identicon&r=PG", "display_name": "Imbue", "link": "https://stackoverflow.com/users/3175/imbue"}, "edited": false, "score": 0, "creation_date": 1531504915, "post_id": 51234721, "comment_id": 89636903, "body": "Thanks for your answer. Maybe you could clarify a point for me.? A single bare pointer works fine. It&#39;s only when a second level of indirection is involved that things go bad. Why is that?"}, {"owner": {"reputation": 732, "user_id": 9750451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df0dd42da08ba3574f565287e531039?s=128&d=identicon&r=PG", "display_name": "Andy Ayers", "link": "https://stackoverflow.com/users/9750451/andy-ayers"}, "reply_to_user": {"reputation": 3637, "user_id": 3175, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5075320f2eaac3420b35d4c4724e5307?s=128&d=identicon&r=PG", "display_name": "Imbue", "link": "https://stackoverflow.com/users/3175/imbue"}, "edited": false, "score": 0, "creation_date": 1531516857, "post_id": 51234721, "comment_id": 89641285, "body": "SInce <code>b</code> is a local, the IL uses <code>ldloc</code> to get its value, and since <code>b</code> is typed as <code>float*</code>, this always gives the right sized pointer. Likewise when loading <code>c</code> the IL gets the right sized pointer, but loading <code>*c</code> is where the IL has to tell the JIT what size to use, and here it always specifies 4 bytes for an x86 build and 8 for an x64 build.  To put it another way, sometimes the size of the value to load is implicit (specified either by the opcode, <code>ldloca</code> say, or via a signature), and sometimes it is explicit. In the explicit case the IL producer must get the size right."}], "tags": [], "owner": {"reputation": 732, "user_id": 9750451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df0dd42da08ba3574f565287e531039?s=128&d=identicon&r=PG", "display_name": "Andy Ayers", "link": "https://stackoverflow.com/users/9750451/andy-ayers"}, "is_accepted": false, "score": 4, "last_activity_date": 1531077383, "last_edit_date": 1531077383, "creation_date": 1531072974, "answer_id": 51234721, "question_id": 51181173, "link": "https://stackoverflow.com/questions/51181173/array-of-pointers-in-c-cli-msil-assembly/51234721#51234721", "title": "Array of pointers in C++/CLI MSIL assembly", "body": "<p>This looks like an issue in the generated IL for the <code>test</code> method. At the point of the crash we're reading <code>**c</code>, and <code>c</code> is local number 5.</p>\n\n<pre><code>IL_00a5  11 05             ldloc.s      0x5\nIL_00a7  4a                ldind.i4    \nIL_00a8  4f                ldind.r8    \nIL_00a9  28 11 00 00 0a    call         0xA000011\n</code></pre>\n\n<p>So here we see the IL says to load the value of <code>c</code>, then load a 4 byte signed integer, then treat that integer as a pointer and load an 8 byte real type (double).</p>\n\n<p>On a 64 bit platform pointers should be either size-neutral or 64 bits. So the <code>ldind.i4</code> is problematic as the underlying address is 8 bytes. And since the IL specifies reading only 4 bytes, the jit must extend the result to get an 8 byte value. Here it chooses to sign extend.</p>\n\n<pre><code>library.h @ 27:\n00007ffd`b0cf2119 488b45a8        mov     rax,qword ptr [rbp-58h]\n00007ffd`b0cf211d 8b00            mov     eax,dword ptr [rax]\n00007ffd`b0cf211f 4863c0          movsxd  rax,eax   // **** sign extend ****\n&gt;&gt;&gt; 00007ffd`b0cf2122 c4e17b1000      vmovsd  xmm0,qword ptr [rax]\n00007ffd`b0cf2127 e854f6ffff      call    System.Console.WriteLine(Double) (00007ffd`b0cf1780)\n</code></pre>\n\n<p>You apparently get lucky when running on full framework as the array address is small and fits in 31 bits or less, so reading 4 bytes and then sign-exending to 8 bytes still gives the right address. But on Core it doesn't and so that's why the app crashes there.</p>\n\n<p>It appears you generated your library using the Win32 target. If you rebuild it with an x64 target the IL will use a 64 bit load for <code>*c</code>:</p>\n\n<pre><code>IL_00ab:  ldloc.s    V_5\nIL_00ad:  ldind.i8\nIL_00ae:  ldind.r8\nIL_00af:  call       void [mscorlib]System.Console::WriteLine(float64)\n</code></pre>\n\n<p>and the app runs just fine.</p>\n\n<p>It appears this is a feature in C++/CLI -- the binaries it produces are implicitly architecture dependent even in pure mode. Only <code>/clr:safe</code> can produce architecture-independent assemblies, and you can't use that with this code since it contains unverifiable constructs like pointers.</p>\n\n<p>Also please note not all features of C++/CLI are supported in .Net Core 2.x. This particular example avoids unsupported bits, but more complex ones may not.</p>\n"}], "owner": {"reputation": 3637, "user_id": 3175, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5075320f2eaac3420b35d4c4724e5307?s=128&d=identicon&r=PG", "display_name": "Imbue", "link": "https://stackoverflow.com/users/3175/imbue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1531077383, "creation_date": 1530741475, "last_edit_date": 1530808525, "question_id": 51181173, "link": "https://stackoverflow.com/questions/51181173/array-of-pointers-in-c-cli-msil-assembly", "title": "Array of pointers in C++/CLI MSIL assembly", "body": "<p>I'm trying to wrap some legacy C code for use with C# running on .NET Core. I'm using <a href=\"https://stackoverflow.com/a/9004833\">the approach given here</a> to create a C++ wrapper that compiles to pure MSIL. It's working well for simple functions, but I've found that if my code ever uses pointers-to-pointers or arrays of pointers it will crash with a memory violation. Often it crashes Visual Studio and I have to restart everything, which is tedious.</p>\n\n<p>For example, the following code will cause the crashes:</p>\n\n<pre><code>public ref class example\n    {\n    public:\n\n        static void test() {\n            Console::WriteLine(\"\\nTesting pointers.\");\n\n            double a[5] = {5,6,7,8,9}; //Array.\n            double *b = a; //Pointer to first element in array.\n\n            Console::WriteLine(\"\\nTesting bare pointers.\");\n            Console::WriteLine(a[0]); //Prints 5.\n            Console::WriteLine(b[0]); //Prints 5.\n\n            Console::WriteLine(\"\\nTesting pointer-to-pointer.\");\n            double **c = &amp;b;\n            Console::WriteLine(c == &amp;b); //Prints true.\n            Console::WriteLine(b[0]); //Works, prints 5.\n            Console::WriteLine(**c); //Crashes with memory access violation.\n\n            Console::WriteLine(\"\\nTesting array of pointers.\");\n            double* d[1];\n            d[0] = b;\n            Console::WriteLine(d[0] == b); //Prints false???\n            Console::WriteLine(b[0]); //Works, prints 5.\n            Console::WriteLine(d[0][0]); //Crashes with memory access violation.\n\n            Console::WriteLine(\"\\nTesting CLI array of pointers.\");\n            cli::array&lt;double*&gt; ^e = gcnew cli::array&lt;double*&gt; (5);\n            e[0] = b;\n            Console::WriteLine(e[0] == b); //Prints false???\n            Console::WriteLine(b[0]); //Works, prints 5.\n            Console::WriteLine(e[0][0]); //Crashes with memory access violation.\n        }\n}\n</code></pre>\n\n<p>Note that simply using pointers doesn't cause any problem. It's only when there is that extra level of indirection.</p>\n\n<p>If I drop the code in a CLR C++ console app, it works exactly as expected and doesn't crash. The crash only happens when compiling the code into an MSIL assembly with <code>clr:pure</code> and running from a .NET core app.</p>\n\n<p>What could be going on?</p>\n\n<p><strong>Update 1:</strong> Here are the Visual Studio files: <a href=\"https://app.box.com/s/xejfm4s46r9hs0inted2kzhkh9qzmjpb\" rel=\"noreferrer\">https://app.box.com/s/xejfm4s46r9hs0inted2kzhkh9qzmjpb</a> It's two projects. The MSIL assembly is called <code>library</code> and the <code>CoreApp</code> is a C# console app that'll call the library. Warning, it's likely to crash Visual Studio when you run it.</p>\n\n<p><strong>Update 2:</strong> I noticed this too:</p>\n\n<pre><code>        double a[5] = { 5,6,7,8,9 };\n        double* d[1];\n        d[0] = a;\n        Console::WriteLine(d[0] == a); //Prints true.\n        Console::WriteLine(IntPtr(a)); //Prints a number.\n        Console::WriteLine(IntPtr(d[0])); //Prints a completely different number.\n</code></pre>\n"}, {"tags": ["c#", "mvvm", "data-binding", "prism"], "comments": [{"owner": {"reputation": 25, "user_id": 6553488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fla2J.jpg?s=128&g=1", "display_name": "JL Tinoco", "link": "https://stackoverflow.com/users/6553488/jl-tinoco"}, "edited": false, "score": 0, "creation_date": 1530739705, "post_id": 51180925, "comment_id": 89344295, "body": "If I move my  <code>CommonProperty</code> from <code>BaseViewModel</code> to my  <code>AssignedViewModel </code> it works"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6553488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fla2J.jpg?s=128&g=1", "display_name": "JL Tinoco", "link": "https://stackoverflow.com/users/6553488/jl-tinoco"}, "edited": false, "score": 0, "creation_date": 1531144164, "post_id": 51181588, "comment_id": 89472952, "body": "Hi @Nkosi. I appreciate your help. For me, this looks like the long solution. Maybe would be easier if I put my common property in all my ViewModels.  But, I don&#180;t know if this would decrease my performance(at least a little bit)  What do you think?"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 1, "last_activity_date": 1530817329, "last_edit_date": 1530817329, "creation_date": 1530745138, "answer_id": 51181588, "question_id": 51180925, "link": "https://stackoverflow.com/questions/51180925/property-change-in-base-viewmodel-with-prism/51181588#51181588", "title": "Property change in Base ViewModel with prism", "body": "<p>Because you are doing asynchronous invocation on a separate thread the UI is not being notified of the change.</p>\n\n<p>The <code>async void</code> of <code>OnNavigatingTo</code>, which is not an event handler, means it is a fire and forget function running in a separate thread.</p>\n\n<p>Reference <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Async/Await - Best Practices in Asynchronous Programming</a></p>\n\n<p>Create a proper event and asynchronous event handler to perform your asynchronous operations there</p>\n\n<p>For example</p>\n\n<pre><code>public class AssignedViewModel : BaseViewModel, INavigatingAware {\n    public AssignedViewModel(INavigationService navigationService, IPageDialogService dialogService) \n        : base(navigationService, dialogService) {\n        //Subscribe to event\n        this.navigatedTo += onNavigated;\n    }\n\n    public void OnNavigatingTo(NavigationParameters parameters) {\n        navigatedTo(this, EventArgs.Empty); //Raise event\n    }\n\n    private event EventHandler navigatedTo = degelate { };\n    private async void onNavigated(object sender, EventArgs args) {\n        try {\n            Models.Vehicle Current = await App.SettingsInDb.CurrentVehicle();\n            CommonProperty = Current.NameToShow; //On UI Thread\n        } catch (Exception e) {\n            App.LogToDb.Error(e);\n        }\n    }\n}\n</code></pre>\n\n<p>That way when the awaited operation is completed the code will continue on the UI thread and it will get the property changed notification.</p>\n"}, {"comments": [{"owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1531044398, "post_id": 51229144, "comment_id": 89441000, "body": "In fact, this will prevent the <code>OnPropertyChanged</code> event, because <code>SetProperty</code> won&#39;t see the new value as different from the old value (obviously)"}, {"owner": {"reputation": 25, "user_id": 6553488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fla2J.jpg?s=128&g=1", "display_name": "JL Tinoco", "link": "https://stackoverflow.com/users/6553488/jl-tinoco"}, "edited": false, "score": 0, "creation_date": 1531144520, "post_id": 51229144, "comment_id": 89473230, "body": "Hi, @Mahdi Asgari. Thanks for your help. Definitely that was my problem.   I dit not even notice  that line code."}, {"owner": {"reputation": 25, "user_id": 6553488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fla2J.jpg?s=128&g=1", "display_name": "JL Tinoco", "link": "https://stackoverflow.com/users/6553488/jl-tinoco"}, "reply_to_user": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1531144706, "post_id": 51229144, "comment_id": 89473360, "body": "Also, thanks to you @Haukinger for your contribution."}], "tags": [], "owner": {"reputation": 293, "user_id": 9809143, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SH6527Z1FI4/AAAAAAAAAAI/AAAAAAAAAAo/rAXgaXcYYOg/photo.jpg?sz=128", "display_name": "Mahdi Asgari", "link": "https://stackoverflow.com/users/9809143/mahdi-asgari"}, "is_accepted": true, "score": 1, "last_activity_date": 1531028137, "creation_date": 1531028137, "answer_id": 51229144, "question_id": 51180925, "link": "https://stackoverflow.com/questions/51180925/property-change-in-base-viewmodel-with-prism/51229144#51229144", "title": "Property change in Base ViewModel with prism", "body": "<p>when you use SetProperty, you should not set value for the backfield.\nso you should remove this line:</p>\n\n<pre><code>_common = value;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6553488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fla2J.jpg?s=128&g=1", "display_name": "JL Tinoco", "link": "https://stackoverflow.com/users/6553488/jl-tinoco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "accepted_answer_id": 51229144, "answer_count": 2, "score": 0, "last_activity_date": 1531028137, "creation_date": 1530739610, "question_id": 51180925, "link": "https://stackoverflow.com/questions/51180925/property-change-in-base-viewmodel-with-prism", "title": "Property change in Base ViewModel with prism", "body": "<p>I'm using prism to develop an android app.</p>\n\n<p>I'm trying to make a Base ViewModel. Inside this ViewModel I would like to set common properties to all my ViewModels.</p>\n\n<pre><code>  public class BaseViewModel : BindableBase\n{\n    protected INavigationService _navigationService;\n    protected IPageDialogService _dialogService;\n\n    public BaseViewModel(INavigationService navigationService, IPageDialogService dialogService)\n    {\n        _navigationService = navigationService;\n        _dialogService = dialogService;\n    }\n\n    private string _common;\n    /// &lt;summary&gt;\n    /// Common property\n    /// &lt;/summary&gt;\n    public string CommonProperty\n    {\n        get { return _common; }\n        set\n        {\n            _common = value;\n            SetProperty(ref _common, value);\n        }\n    }  \n}\n</code></pre>\n\n<p>My problem is: when I set the common property in the constructor, works fine.\nBut when I\u00b4m setting the common property in <code>OnNavigatingTo</code> and using async, doesn\u00b4t work. The <code>SetProperty</code> is triggered when calling the <code>OnNavigatingTo</code>, but my binded label  with this common property doesn\u00b4t refresh the value.</p>\n\n<pre><code>namespace TaskMobile.ViewModels.Tasks\n{\n/// &lt;summary&gt;\n/// Specific view model\n/// &lt;/summary&gt;\npublic class AssignedViewModel : BaseViewModel, INavigatingAware\n{\n\n\n    public AssignedViewModel(INavigationService navigationService, IPageDialogService dialogService) : base(navigationService,dialogService)\n    {\n        CommonProperty= \"Jorge Tinoco\";  // This works\n    }\n\n    public async void OnNavigatingTo(NavigationParameters parameters)\n    {\n        try\n        {\n            Models.Vehicle Current = await App.SettingsInDb.CurrentVehicle();\n            CommonProperty= Current.NameToShow; //This doesn\u00b4t works\n        }\n        catch (Exception e)\n        {\n            App.LogToDb.Error(e);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "nunit", "assert", "assertion"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530739473, "post_id": 51180877, "comment_id": 89344222, "body": "Or use async await and just wait for the method to complete and do your assertion after"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530739589, "post_id": 51180877, "comment_id": 89344265, "body": "The question in its current state does not provide enough details about the subject under test. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem."}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 5212252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16148a6004361969dfed25ef507a7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/5212252/tee"}, "edited": false, "score": 0, "creation_date": 1530800940, "post_id": 51180945, "comment_id": 89369120, "body": "Interestingly, I&#39;m writing these units tests in preparation for refactoring some legacy code. Thanks for the Fowler link, things to keep in mind during the refactoring."}, {"owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "edited": false, "score": 0, "creation_date": 1530894331, "post_id": 51180945, "comment_id": 89409710, "body": "I agree completely with the notion of deterministic tests, with exceptions for times when you are testing something that isn&#39;t designed the way it should be :-) as well as for integration tests. Hard to know when to give this kind of advice or just answer the question as asked. Between us, we nailed both!"}], "tags": [], "owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "is_accepted": false, "score": 1, "last_activity_date": 1530770159, "last_edit_date": 1530770159, "creation_date": 1530739730, "answer_id": 51180945, "question_id": 51180877, "link": "https://stackoverflow.com/questions/51180877/evaluate-nunit-assertion-after-a-delay/51180945#51180945", "title": "Evaluate NUnit assertion after a delay", "body": "<p>Charlie's answer nails your actual problem (as his answers always do). However, I'd strongly recommend against having tests which depend upon delays. If your test fails, how will you know whether the problem was that you just didn't wait long enough.</p>\n\n<p>Also, if this is part of an automated test suite, the elapsed time for executing all the tests will become extremely expensive as you add more tests like this.</p>\n\n<p>Good tests are deterministic. For example, see Martin Fowler's <a href=\"https://martinfowler.com/articles/nonDeterminism.html\" rel=\"nofollow noreferrer\">Eradicating Non-Determinism in Tests</a>, which includes the phrase:</p>\n\n<blockquote>\n  <p>Never use bare sleeps to wait for asynchonous responses: use a callback or polling.</p>\n</blockquote>\n\n<p>My suggestion would be to refactor your code so that the functionality is separated from the threading, and test the functionality, not the threading part.</p>\n\n<p>Once this separation is achieved, the code which calls the functionality on a thread can be given a Mock, and you can simply verify that the Mock was called, since you have separately tested that it behaves correctly, although that still requires polling...so:</p>\n\n<p>If you encapsulate the code which launches the separate thread, then in your test, provide a mocked thread launcher which actually executes the code synchronously. So as soon as the code being tested has completed, you can make the assertion, without waiting.</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 5212252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16148a6004361969dfed25ef507a7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/5212252/tee"}, "edited": false, "score": 0, "creation_date": 1530800712, "post_id": 51183970, "comment_id": 89368949, "body": "Using <code>Has.Count.EqualTo</code> is also a cleaner approach"}], "tags": [], "owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "is_accepted": true, "score": 4, "last_activity_date": 1530768628, "creation_date": 1530768628, "answer_id": 51183970, "question_id": 51180877, "link": "https://stackoverflow.com/questions/51180877/evaluate-nunit-assertion-after-a-delay/51183970#51183970", "title": "Evaluate NUnit assertion after a delay", "body": "<p>Your call to <code>Assert.That</code> has an actual argument, which is evaluated immediately before the method is called. The value of <code>entries.Count</code> is taken and the resulting integer value is copied as the method argument. Within the method, we are dealing with a constant.</p>\n\n<p>When the constraint is re-evaluated every 250 milliseconds, it is done each time against that same copied constant, which of course never changes.</p>\n\n<p>When you use a delayed constraint, with or without polling, the actual argument has to be in the form of a delegate, a lambda or a reference to a field. The following simple modification should make it work.</p>\n\n<pre><code>Assert.That (() =&gt; entries.Count, Is.EqualTo(currentEntries+1).After(3).Seconds.PollEvery(250).MilliSeconds);\n</code></pre>\n\n<p>Alternatively, this should work as well</p>\n\n<pre><code>Assert.That (entries, Has.Count.EqualTo(currentEntries+1).After(3).Seconds.PollEvery(250).Milliseconds);\n</code></pre>\n\n<p>because the property is evaluated each time we poll.</p>\n"}], "owner": {"reputation": 384, "user_id": 5212252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16148a6004361969dfed25ef507a7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/5212252/tee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 0, "accepted_answer_id": 51183970, "answer_count": 2, "score": 1, "last_activity_date": 1530770159, "creation_date": 1530739276, "question_id": 51180877, "link": "https://stackoverflow.com/questions/51180877/evaluate-nunit-assertion-after-a-delay", "title": "Evaluate NUnit assertion after a delay", "body": "<p>I'm trying to write a unit test with NUnit for a method that could take anywhere from 1 to 3 seconds to complete. In order to valid the test all I need to do is check if a <code>List&lt;string&gt; entries</code> has been incremented in that 1 to 3 second span.</p>\n\n<p>My current solution is to use a <code>Thread.Sleep()</code>:</p>\n\n<pre><code>1. int currentEntries = entries.count;\n2. Call methodA()\n3. Thread.Sleep(3000);\n4. int updatedEntries = entries.count;\n5. Assert.That(updatedEntries, Is.EqualTo(currentEntries+1));\n</code></pre>\n\n<p>This solution always takes at least 3 seconds, even when methodA() finishes faster.</p>\n\n<p>I have tried using NUnits Delay constraint:</p>\n\n<pre><code>Assert.That(entries.Count, Is.EqualTo(currentEntries+1).After(3).Seconds.PollEvery(250).MilliSeconds);\n</code></pre>\n\n<p>This would have been ideal, since it supports polling. But the <code>After</code> constraint is still evaluated instantly instead of after 3 seconds, as discussed <a href=\"https://groups.google.com/d/msg/nunit-discuss/UtxlPa2czHU/_l06k5ggf54J\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Is there a better solution to this issue?</p>\n"}, {"tags": ["c#", ".net", "multithreading", "memory-barriers"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1530739480, "post_id": 51180784, "comment_id": 89344223, "body": "<a href=\"http://joeduffyblog.com/2010/06/27/on-partiallyconstructed-objects/\" rel=\"nofollow noreferrer\">relevant</a> on partially constructed instances; and of course <a href=\"https://stackoverflow.com/a/8359205/1132334\">this one</a>, second quote"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 2, "creation_date": 1530739873, "post_id": 51180784, "comment_id": 89344353, "body": "Yes. But do note that those other threads will have to ignore the lock. I wouldn&#39;t call this a big practical problem, it will only hurt &#39;lock free&#39; code. And when you think you&#39;re up to that, you can handle this little issue. And it&#39;s all about a hypotethical platform."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1530740038, "post_id": 51180784, "comment_id": 89344404, "body": "Thanks @dlatikay; those are very relevant links. Brian Gideon&#39;s answer implies that garbage data <i>could</i> be printed for the example in that question, which is sufficiently similar to mine."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1530740244, "post_id": 51180784, "comment_id": 89344444, "body": "@HenkHolterman: Thanks for the confirmation. Yes, I realize this will only happen on code that lacks the appropriate synchronization or memory barriers. On a practical level, I&#39;m more concerned about the security implications of it. If code were to be run on an architecture with a weak memory model, bugs such as the above could cause sensitive data to be leaked through access to unallocated memory, which is something I thought wasn&#39;t possible in .NET (excluding <code>unsafe</code>)."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1530740352, "post_id": 51180784, "comment_id": 89344474, "body": "&quot;unallocated&quot; but still from the same process. This won&#39;t let you spy on your neighbours."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1530740482, "post_id": 51180784, "comment_id": 89344515, "body": "And I retract my &quot;Yes&quot;. .NET clears out memory on allocation, so I think &quot;partially constructed&quot; will only show you 0/null (default) values, not the previous occupant of the bytes. Which makes the null-reference exception about the worst case scenario here."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1530740892, "post_id": 51180784, "comment_id": 89344621, "body": "That would make it &quot;safe&quot;, but I don&#39;t understand how it&#39;s achieved. Does the ECMA spec (which I admittedly haven&#39;t read) mandate a release fence after object allocation? If not, there&#39;s still no guarantee that the stores corresponding to the &quot;clearing out&quot; would not be reordered with respect to the storing of the new reference."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1530741705, "post_id": 51180784, "comment_id": 89344811, "body": "Well, the clearing can&#39;t be reordered to after the first of those &#39;other stores to a&#39;. Something must prevent that at least."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1530742157, "post_id": 51180784, "comment_id": 89344921, "body": "<a href=\"https://msdn.microsoft.com/en-us/magazine/jj883956.aspx\" rel=\"nofollow noreferrer\">this article</a> suggests that ECMA does not mandate a release fence. <a href=\"http://standards.iso.org/ittf/PubliclyAvailableStandards/c042927_ISO_IEC_23271_2006(E).zip\" rel=\"nofollow noreferrer\">ecma CLI F.4.1</a> is vague. CLR did use release fences by means of a ST.REL(ease) instead of a simple ST back when Itanium was a .NET target platform, which was the only hardware with a weak memory model architecture actually supported until now."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1530813157, "post_id": 51180784, "comment_id": 89376327, "body": "Thanks @dlatikay. These discussions used to be largely academic since very few of us were actually on IA-64. However, I understand that .NET Core can now run on ARM architectures, which also have a weak memory model, no?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1531050519, "post_id": 51180784, "comment_id": 89442445, "body": "Yes, he&#39;s saying that memory content might not look initialized from another thread on such a processor.  The IA64 gave Microsofties a very hard time, I remember reading that they punted by making every memory read acquire and every write a release.  Well, that&#39;s why the jitter is discontinued and the processor beyond life-support.  They did made changes in the memory model for the ARM jitter, not otherwise documented beyond &quot;we worked on it&quot;.  It was their job to just make it work, they seemed to have done a good job since I haven&#39;t yet seen a question about it on SO."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1531050679, "post_id": 51180784, "comment_id": 89442483, "body": "I should note that ARM is the only processor design that implemented the C++11 memory model in hardware.  They are pretty doggone good at keeping programmers happy, a winning strategy that IA64 missed so badly."}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1531052506, "post_id": 51180784, "comment_id": 89442961, "body": "Thanks @HansPassant for that helpful insight. It&#39;s good to know that these issues have been addressed for the ARM jitter."}, {"owner": {"reputation": 45685, "user_id": 69809, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yCVF0.jpg?s=128&g=1", "display_name": "Groo", "link": "https://stackoverflow.com/users/69809/groo"}, "edited": false, "score": 0, "creation_date": 1531387245, "post_id": 51180784, "comment_id": 89580379, "body": "The remark doesn&#39;t even have anything to do with locking, i.e. any code doing <code>field = new Something()</code> where <code>field</code> is not volatile could fail on a weak implementation, unless implemented as <code>var tmp = new Something(); Thread.MemoryBarrier(); field = tmp;</code>"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 45685, "user_id": 69809, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/yCVF0.jpg?s=128&g=1", "display_name": "Groo", "link": "https://stackoverflow.com/users/69809/groo"}, "edited": false, "score": 0, "creation_date": 1531416159, "post_id": 51180784, "comment_id": 89599240, "body": "@Groo: Agreed. That article was presenting one case where the absence of a memory barrier would case issues. There are several more."}], "answers": [{"comments": [{"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1532546721, "post_id": 51504067, "comment_id": 90021229, "body": "Thanks Eric for the detailed reply, which addresses all my questions from the POV of the CLR memory model. However, I am interested to know the state of affairs for other runtime implementations, such as CoreCLR running on ARM. Has there been a revised spec that mandates such implementations enforce a stronger memory model, meeting your guarantees, or could a conforming implementation still cause the issues I describe? The closest answer I&#39;ve gotten is <a href=\"https://stackoverflow.com/q/51180784/1149773#comment89442445_51180784\">Hans&#39;s comment</a> that the model has been changed but not documented."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 1, "creation_date": 1532558606, "post_id": 51504067, "comment_id": 90025765, "body": "@Douglas: The history of the memory model and its documentation is confusing and arcane, and I am unfortunately no expert on it. I do not know of any revised spec.  That said, I would be <i>incredibly surprised</i> if any conforming implementation of the CLR allowed you to <i>ever</i> read the previous contents of memory from code in the safe subset. That seems insanely dangerous from both a correctness and a security perspective, and I would expect that this would be prevented."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 2, "creation_date": 1532558702, "post_id": 51504067, "comment_id": 90025793, "body": "@Douglas: For example, consider ASP.NET. Yes, it supports process isolation if you want it, but a by-design scenario is that some hosting company is hosting both coke.com and pepsi.com, and the back-end code for both could be running in the same process. If there was a way for one web site running in the safe subset to see the not-yet-cleaned-up garbage of another, that would be front page news; the CLR is not supposed to be the new Heartbleed vector. :-)"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 14, "last_activity_date": 1532452643, "last_edit_date": 1532452643, "creation_date": 1532451813, "answer_id": 51504067, "question_id": 51180784, "link": "https://stackoverflow.com/questions/51180784/can-memory-reordering-cause-c-to-access-unallocated-memory/51504067#51504067", "title": "Can memory reordering cause C# to access unallocated memory?", "body": "<p>Let's not bury the lede here: the answer to your question is <strong>no, you will never observe the pre-allocated state of memory in the CLR 2.0 memory model</strong>.</p>\n\n<p>I'll now address a couple of your non-central points.</p>\n\n<blockquote>\n  <p>It is my understanding that C# is a safe language and doesn't allow one to access unallocated memory, other than through the unsafe keyword.</p>\n</blockquote>\n\n<p>That is more or less correct. There are some mechanisms by which one can access bogus memory without using <code>unsafe</code> -- via unmanaged code, obviously, or by abusing structure layout. But in general, yes, C# is memory safe.</p>\n\n<blockquote>\n  <p>However, its memory model allows reordering when there is unsynchronized access between threads.</p>\n</blockquote>\n\n<p>Again, that's more or less correct.  A better way to think about it is that C# allows reordering <em>at any point where the reordering would be invisible to a single threaded program</em>, subject to certain constraints. Those constraints include introducing acquire and release semantics in certain cases, and preserving certain side effects at certain critical points. </p>\n\n<blockquote>\n  <p>Chris Brumme (from the CLR team) ...</p>\n</blockquote>\n\n<p>The late great Chris's articles are gems and give a great deal of insight into the early days of the CLR, but I note that there have been some strengthenings of the memory model since 2003 when that article was written, particularly with respect to the issue you raise.</p>\n\n<p>Chris is right that double-checked locking is super dangerous. There is a correct way to do double-checked locking in C#, and the <em>moment</em> you depart from it even <em>slightly</em>, you are off in the weeds of horrible bugs that only repro on weak memory model hardware.</p>\n\n<blockquote>\n  <p>does this mean that the other thread might read memory that still contains data from garbage-collected objects</p>\n</blockquote>\n\n<p>I think your question is not specifically about the old weak ECMA memory model that Chris was describing, but rather about what guarantees are actually made today.  </p>\n\n<p><strong>It is not possible for re-orderings to expose the previous state of objects</strong>.  You are guaranteed that when you read a freshly-allocated object, its fields are all zeros.</p>\n\n<p>This is made possible by the fact that all writes have release semantics in the current memory model; see this for details:</p>\n\n<p><a href=\"http://joeduffyblog.com/2007/11/10/clr-20-memory-model/\" rel=\"noreferrer\">http://joeduffyblog.com/2007/11/10/clr-20-memory-model/</a></p>\n\n<p>The write that initializes the memory to zero will not be moved forwards in time with respect to a read later.</p>\n\n<blockquote>\n  <p>I've always been confused by \"partially constructed objects\"</p>\n</blockquote>\n\n<p>Joe discusses that here: <a href=\"http://joeduffyblog.com/2010/06/27/on-partiallyconstructed-objects/\" rel=\"noreferrer\">http://joeduffyblog.com/2010/06/27/on-partiallyconstructed-objects/</a></p>\n\n<p>Here the concern is not that we might see the pre-allocation state of an object. Rather, the concern here is that one thread might see an object <em>while the constructor is still running on another thread</em>.  </p>\n\n<p>Indeed, it is possible for the <em>constructor</em> and the <em>finalizer</em> to be running <em>concurrently</em>, which is super weird!  Finalizers are hard to write correctly for this reason.</p>\n\n<p>Put another way:  <strong>the CLR guarantees you that its own invariants will be preserved</strong>.  An invariant of the CLR is that newly allocated memory is observed to be zeroed out, so that invariant will be preserved. </p>\n\n<p>But the CLR is not in the business of preserving <em>your</em> invariants!  If you have a constructor which guarantees that field <code>x</code> is <code>true</code> if and only if <code>y</code> is non-null, then <em>you</em> are responsible for ensuring that this invariant is always observed to be true. If in some way <code>this</code> is observed by two threads, then one of those threads might observe the invariant being violated.</p>\n"}], "owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 1, "accepted_answer_id": 51504067, "answer_count": 1, "score": 13, "last_activity_date": 1532452643, "creation_date": 1530738764, "last_edit_date": 1531040759, "question_id": 51180784, "link": "https://stackoverflow.com/questions/51180784/can-memory-reordering-cause-c-to-access-unallocated-memory", "title": "Can memory reordering cause C# to access unallocated memory?", "body": "<p>It is my understanding that C# is a safe language and doesn't allow one to access unallocated memory, other than through the <code>unsafe</code> keyword. However, its memory model allows reordering when there is unsynchronized access between threads. This leads to race hazards where references to new instances appear to be available to racing threads before the instances have been fully initialized, and is a widely known problem for double-checked locking. Chris Brumme (from the CLR team) explains this in their <a href=\"https://blogs.msdn.microsoft.com/cbrumme/2003/05/17/memory-model/\" rel=\"noreferrer\">Memory Model</a> article:</p>\n\n<blockquote>\n  <p>Consider the standard double-locking protocol:</p>\n</blockquote>\n\n<pre><code>if (a == null)\n{\n    lock(obj)\n    {\n        if (a == null) \n            a = new A();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>This is a common technique for avoiding a lock on the read of \u2018a\u2019 in the typical case. It works just fine on X86. But it would be broken by a legal but weak implementation of the ECMA CLI spec. It\u2019s true that, according to the ECMA spec, acquiring a lock has acquire semantics and releasing a lock has release semantics.</p>\n  \n  <p>However, we have to assume that a series of stores have taken place during construction of \u2018a\u2019. Those stores can be arbitrarily reordered, including the possibility of delaying them until after the publishing store which assigns the new object to \u2018a\u2019. At that point, there is a small window before the store.release implied by leaving the lock. Inside that window, <strong>other CPUs can navigate through the reference \u2018a\u2019 and see a partially constructed instance</strong>.</p>\n</blockquote>\n\n<p>I've always been confused by what \"partially constructed instance\" means. Assuming that the .NET runtime clears out memory on allocation rather than garbage collection (<a href=\"https://stackoverflow.com/a/23087417/1149773\">discussion</a>), does this mean that the other thread might read memory that still contains data from garbage-collected objects (like <a href=\"https://stackoverflow.com/a/6445794/1149773\">what happens in unsafe languages</a>)?</p>\n\n<p>Consider the following concrete example:</p>\n\n<pre><code>byte[] buffer = new byte[2];\n\nParallel.Invoke(\n    () =&gt; buffer = new byte[4],\n    () =&gt; Console.WriteLine(BitConverter.ToString(buffer)));\n</code></pre>\n\n<p>The above has a race condition; the output would be either <code>00-00</code> or <code>00-00-00-00</code>. However, is it possible that the second thread reads the new reference to <code>buffer</code> <em>before</em> the array's memory has been initialized to 0, and outputs some other arbitrary string instead?</p>\n"}, {"tags": ["c#", "forms", "visual-studio"], "comments": [{"owner": {"reputation": 486, "user_id": 2925326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000706911999/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0646\u0639\u064a\u0645\u064a", "link": "https://stackoverflow.com/users/2925326/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d9%86%d8%b9%d9%8a%d9%85%d9%8a"}, "edited": false, "score": 0, "creation_date": 1530742196, "post_id": 51180693, "comment_id": 89344933, "body": "in dataGridView properties (MultiSelected) =False and (SelectionMode)=CellSelect  dataGridView1.CurrentCell.RowIndex -- get Row Index dataGridView1.CurrentCell.OwningRow -- get Row dataGridView1 .CurrentRow  -- get Row"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 8072803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8b236ca5200f4946bef2b03a218a55?s=128&d=identicon&r=PG&f=1", "display_name": "riley lyman", "link": "https://stackoverflow.com/users/8072803/riley-lyman"}, "edited": false, "score": 0, "creation_date": 1530744501, "post_id": 51181109, "comment_id": 89345378, "body": "This will not work for my purposes since I need to check for multiple selections, and otherwise this is basically the same code as I have above. The problem is that the cell appears to be selected in the form, but the cell.Selected property is set to false."}], "tags": [], "owner": {"reputation": 3, "user_id": 10034063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBvqo.jpg?s=128&g=1", "display_name": "Andres CN", "link": "https://stackoverflow.com/users/10034063/andres-cn"}, "is_accepted": false, "score": 0, "last_activity_date": 1530740970, "creation_date": 1530740970, "answer_id": 51181109, "question_id": 51180693, "link": "https://stackoverflow.com/questions/51180693/visual-studio-forms-sometimes-selecting-a-data-grid-cell-doesnt-set-the-cell/51181109#51181109", "title": "Visual Studio Forms: Sometimes, selecting a data grid cell doesn&#39;t set the cell&#39;s Selected property to true?", "body": "<p>You can use the Cell click event and do something like this:</p>\n\n<pre><code>private void Datagridview1_CellClick(object sender, DataGridViewCellEventArgs e)\n    {\n        int index = e.RowIndex;\n        if (!selectedRows.Exists(x =&gt;x == index))\n        {\n           selectedRows.Add(index)\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 8072803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8b236ca5200f4946bef2b03a218a55?s=128&d=identicon&r=PG&f=1", "display_name": "riley lyman", "link": "https://stackoverflow.com/users/8072803/riley-lyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530740970, "creation_date": 1530737993, "question_id": 51180693, "link": "https://stackoverflow.com/questions/51180693/visual-studio-forms-sometimes-selecting-a-data-grid-cell-doesnt-set-the-cell", "title": "Visual Studio Forms: Sometimes, selecting a data grid cell doesn&#39;t set the cell&#39;s Selected property to true?", "body": "<p>I am working with a data grid for Visual Studio forms. When I select a given cell, I want to keep track of the index of the row that cell is on, using the following code:</p>\n\n<pre><code>selectedRows.Clear();\nfor (int i = 0; i &lt; dataGrid.RowCount; i++)\n{\n            if (dataGrid[column, i].Selected)\n            {                    \n                selectedRows.Add(i);\n            }\n}\n</code></pre>\n\n<p>This works 80% of the time. However, occasionally, when I select the name cell of a row, it highlights the cell blue, which leads me to believe I selected it, but the index is not added to selectedRows. Is there something I am missing here?</p>\n\n<p>Am I correct in assuming that sometimes the cells Selected property is simply not set to true, which is causing this error, even though I have clearly selected the cell?</p>\n\n<p>P.S. I have checked that the \"column\" variable is correct. </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1530738429, "post_id": 51180669, "comment_id": 89343929, "body": "there are many possible approaches, one involves the addition of a data structure to keep track of the number of occurences of each letter so far, one involves the addition of a function to count occurrences per char and a formula; you can make the whole method a one-liner with LINQ, or have nested loops; which one would you chose to go for? or do you have an idea for an algorithm already and don&#39;t know how to express a certain aspect of it in C#?"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1530739674, "post_id": 51180669, "comment_id": 89344289, "body": "There is no point in creating a dictionary to just use it like a list. Get the desired entry with: <code>if (Letters.TryGetValue(o, out int value)) { score += value; }</code>. That&#39;s much faster than looping."}, {"owner": {"reputation": 2940, "user_id": 3800096, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dffaee3296e432469a794c508c297abc?s=128&d=identicon&r=PG&f=1", "display_name": "AustinWBryan", "link": "https://stackoverflow.com/users/3800096/austinwbryan"}, "edited": false, "score": 0, "creation_date": 1530757900, "post_id": 51180669, "comment_id": 89347459, "body": "It&#39;s really not hard to format the tabs and new lines correctly."}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 10032505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clhpj.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/10032505/mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1530758504, "last_edit_date": 1530758504, "creation_date": 1530738991, "answer_id": 51180825, "question_id": 51180669, "link": "https://stackoverflow.com/questions/51180669/name-score-test/51180825#51180825", "title": "Name score test", "body": "<p>You could use another dictionary to save every char with its number of occurrences and then calculate point based it.</p>\n\n<pre><code>Dictionary&lt;char, int&gt; Letters2 = new Dictionary&lt;char, int&gt;() ;\nforeach (char c in input)\n{\n    char o = Char.ToUpper(c);\n    int countofoccur = input.Split(o).Length - 1;\n    Letters2.Add(o, countofoccur);\n}\n</code></pre>\n\n<p>Or with linq:</p>\n\n<pre><code>Letters2.Add(o, input.Count(x =&gt; x == o));\n</code></pre>\n\n<p>and for point maybe not perfect approach but you could use switch statement and score has to be double , add this into end line of previous foreach:</p>\n\n<pre><code>double score = 0;\nDictionary&lt;char, double&gt; Letters3 = new  Dictionary&lt;char, double&gt;();\nforeach(var c2 in Letters)\n{\n    if (o == c2.Key)\n    {\n        switch(countofoccur)\n        {\n            case 1:\n                score = c2.Value;\n                Letters3.Add(o, score);\n                break;\n            case 2:\n                score = c2.Value+ (0.5 * c2.Value);\n                Letters3.Add(o, score);\n                break;\n\n            case 3:\n                score = c2.Value + (0.5 * c2.Value) +2*c2.Value;\n                Letters3.Add(o, score);\n                break;\n            default :  \n            break;  \n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 1, "last_activity_date": 1530796254, "last_edit_date": 1530796254, "creation_date": 1530740287, "answer_id": 51181011, "question_id": 51180669, "link": "https://stackoverflow.com/questions/51180669/name-score-test/51181011#51181011", "title": "Name score test", "body": "<p>For each letter you must store the number of occurrence. To do that you need to create a class containing the value and the occurrence.</p>\n\n<pre><code>class LetterInfo\n{\n    public LetterInfo(int value)\n    {\n        Value = value;\n    }\n\n    public int Value { get; }\n    public int Occurrence{ get; set; }\n}\n</code></pre>\n\n<p>Now you can initialize the dictionary with</p>\n\n<pre><code>private static Dictionary&lt;char, LetterInfo&gt; Letters = new Dictionary&lt;char, LetterInfo&gt;(){\n        ['A'] = new LetterInfo(1),\n        ['B'] = new LetterInfo(3),\n        ['C'] = new LetterInfo(3),\n        ['D'] = new LetterInfo(2),\n        ['E'] = new LetterInfo(1),\n        ['F'] = new LetterInfo(4),\n        ['G'] = new LetterInfo(2),\n        ['H'] = new LetterInfo(4),\n        ['I'] = new LetterInfo(1),\n        ['J'] = new LetterInfo(8),\n        ['K'] = new LetterInfo(5),\n        ['L'] = new LetterInfo(1),\n        ['M'] = new LetterInfo(3),\n        ['N'] = new LetterInfo(1),\n        ['O'] = new LetterInfo(1),\n        ['P'] = new LetterInfo(3),\n        ['Q'] = new LetterInfo(10),\n        ['R'] = new LetterInfo(1),\n        ['S'] = new LetterInfo(1),\n        ['T'] = new LetterInfo(1),\n        ['U'] = new LetterInfo(1),\n        ['V'] = new LetterInfo(4),\n        ['W'] = new LetterInfo(4),\n        ['X'] = new LetterInfo(8),\n        ['Y'] = new LetterInfo(4),\n        ['Z'] = new LetterInfo(10)\n};\n</code></pre>\n\n<p>Then the logic goes like this</p>\n\n<pre><code>int score = 0;\nint lastPoints = 0;\nchar lastLetter = (char)0;\nforeach (char c in input) {\n    char o = Char.ToUpper(c);\n    if (Letters.TryGetValue(o, out var info)) {\n        info.Occurrence++; // Keep track of the occurrence.\n        if (o == lastLetter) {\n            score += -lastPoints + 4 * info.Points; // Subtract points for last letter\n                                                    // then add double points for both.\n            lastPoints =  2 * info.Points;\n        } else {\n            switch (info.Occurrence) {\n                case 1:\n                    lastPoints = info.Points;\n                    break;\n                case 2:\n                    lastPoints = (info.Points + 1) / 2;\n                    break;\n                case 3:\n                    lastPoints = 2 * info.Points;\n                    break;\n                default:\n                    lastPoints = 0;\n                    break;\n            }\n            score += lastPoints;\n        }\n        lastLetter = o;\n    }\n}\n</code></pre>\n\n<p>Note that the code remembers the last letter and the points added to the score for that letter. If the current letter is the same as the last, then the points calculated previously in the last loop for that letter are removed, because the last rule applies for it. Then the double points added for both (i.e. 4 times the normal points).</p>\n\n<blockquote>\n  <p>Thomas &nbsp;&nbsp;&nbsp;--> 11<br>\n  Emanuelle --> 14  &nbsp;&nbsp;&nbsp;  interesting because you get 3 occurrences of <code>E</code> and a double <code>L</code>.</p>\n</blockquote>\n\n<hr>\n\n<p>An alternative way to store points and occurrences is to store them in an array and to use the character code as index. In C# you can perform integer arithmetic on <code>char</code>. the index is calculated with <code>int index = o - 'A';</code>, i.e., the index for <code>o == 'A'</code> is <code>0</code>.</p>\n\n<pre><code>private static int[] Points = new int[26] { 1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3,\n                                            10, 1, 1, 1, 1, 4, 4, 8, 4, 10 };\n</code></pre>\n\n<p>The implementation remains basically the same and we don't need an extra class.</p>\n\n<pre><code>int score = 0;\nint lastPoints = 0;\nchar lastLetter = (char)0;\nint[] occurrences = new int[26];\nforeach (char c in input) {\n    char o = Char.ToUpper(c);\n    if ('A' &lt;= o  &amp;&amp; o &lt;='Z') {\n        int index = o - 'A';\n        occurrences[index]++;\n        int points = Points[index];\n        if (o == lastLetter) {\n            score += -lastPoints + 4 * points;\n            lastPoints = 2 * points;\n        } else {\n            switch (occurrences[index]) {\n                case 1:\n                    lastPoints = points;\n                    break;\n                case 2:\n                    lastPoints = (points + 1) / 2;\n                    break;\n                case 3:\n                    lastPoints = 2 * points;\n                    break;\n                default:\n                    lastPoints = 0;\n                    break;\n            }\n            score += lastPoints;\n        }\n        lastLetter = o;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1530740997, "post_id": 51181028, "comment_id": 89344649, "body": "brilliant but not all rules are met.. still thanks.. it;s something i can start with cheers"}, {"owner": {"reputation": 1256, "user_id": 1992773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8jXd.jpg?s=128&g=1", "display_name": "Caldazar", "link": "https://stackoverflow.com/users/1992773/caldazar"}, "reply_to_user": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1530741104, "post_id": 51181028, "comment_id": 89344674, "body": "I tried to cover for all. Can you tell me what you don&#39;t see covered?"}, {"owner": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1530743226, "post_id": 51181028, "comment_id": 89345151, "body": "if the input is thomasss the total score shoulde 14 but the program is returning 17"}, {"owner": {"reputation": 1256, "user_id": 1992773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8jXd.jpg?s=128&g=1", "display_name": "Caldazar", "link": "https://stackoverflow.com/users/1992773/caldazar"}, "reply_to_user": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1530780462, "post_id": 51181028, "comment_id": 89355713, "body": "From your rules, case of thomasss would be 16, thoma is 10, and sss would be 6 since it&#39;s consecutive occurences of same letter, thus 2 for each letter? Or rule is somewhat different? I&#39;ll adjust the answer, but please elaborate, since in rules it states that in that case it&#39;s double letter value"}, {"owner": {"reputation": 1256, "user_id": 1992773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8jXd.jpg?s=128&g=1", "display_name": "Caldazar", "link": "https://stackoverflow.com/users/1992773/caldazar"}, "reply_to_user": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1531344176, "post_id": 51181028, "comment_id": 89566210, "body": "@fernandonicolalde did you manage to complete this? If not, can you answer my previous comment and I&#39;ll update the answer, based on your interpretation of the rules"}, {"owner": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "edited": false, "score": 0, "creation_date": 1531575194, "post_id": 51181028, "comment_id": 89653443, "body": "apologise for such late reply. The code work as expected cheers!"}], "tags": [], "owner": {"reputation": 1256, "user_id": 1992773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8jXd.jpg?s=128&g=1", "display_name": "Caldazar", "link": "https://stackoverflow.com/users/1992773/caldazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1530758520, "last_edit_date": 1530758520, "creation_date": 1530740411, "answer_id": 51181028, "question_id": 51180669, "link": "https://stackoverflow.com/questions/51180669/name-score-test/51181028#51181028", "title": "Name score test", "body": "<p>Here you go, with additional Dictionary to store occurences. I've tested with few examples:</p>\n\n<pre><code>public static class Program\n{\n    private static Dictionary&lt;char, int&gt; Letters = new Dictionary&lt;char, int&gt;(){\n            {'A', 1}, {'B', 3}, {'C', 3}, {'D', 2}, {'E', 1}, {'F', 4}, {'G', 2}, {'H', 4}, {'I', 1}, {'J', 8}, {'K', 5}, {'L', 1}, {'M', 3 }, {'N', 1}, {'O', 1}, {'P', 3}, {'Q', 10 }, {'R', 1}, {'S', 1}, {'T', 1}, {'U',1}, {'V', 4}, {'W', 4}, {'X', 8}, {'Y', 4}, {'Z', 10}\n        };\n    private static Dictionary&lt;char, int&gt; occurences = new Dictionary&lt;char, int&gt;();\n\n    private static char previous = ' ';\n\n    static void Main(string[] args)\n    {\n        int score = CalculateScore(\"Thomas\");\n\n        Console.WriteLine(\"Score for name Thomas is \" + score);\n        Console.WriteLine(\"Press any key to exit\");\n\n        Console.ReadKey();            \n    }\n\n    public static int CalculateScore(String input)\n    {\n     // The score\n     int score = 0;\n     foreach (char c in input)\n     {\n        char o = Char.ToUpper(c);\n\n        if (occurences.ContainsKey(o))\n        {\n           occurences[o] += 1;\n           if (occurences[o] == 2)\n           {\n              if (o == previous)\n              {\n               score += 3 * letters[o]; //if second letter, than previously was added normal value, thus we add triple value to get to double value for both letters\n              }\n              else\n              {\n                  score += (int) Math.Ceiling(1.0 * letters[o] / 2);\n              }\n           }\n           else if (occurences[o] == 3)\n            {\n               if (o == previous)\n               {\n                  score -= (int) Math.Ceiling(1.0 * letters[o] / 2); //subtracts previously added score for the letter (half of normal value)\n                  score += 4 * letters[o]; //adds double value for 2 letters, thus equals 4\n                }\n                else\n                {\n                   score += 2 * letters[o];\n                }\n            }\n            else if (o == previous)\n            {\n               score += 2 * letters[o];\n            }\n          }\n          else\n          {\n             occurences[o] = 1;\n             score += letters[o];\n          }\n          previous = o;\n          Console.WriteLine(score + \" \" + o);\n       }\n       return score;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5748750, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9d4419bac36c5e02aa214bfd75135c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Nicolalde", "link": "https://stackoverflow.com/users/5748750/fernando-nicolalde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1530796254, "creation_date": 1530737831, "last_edit_date": 1530739301, "question_id": 51180669, "link": "https://stackoverflow.com/questions/51180669/name-score-test", "title": "Name score test", "body": "<p>My code aims to calculate the name score test but im failing to apply the following rules to get the full score.</p>\n\n<p>rules:</p>\n\n<ul>\n<li><p>The first occurrence of a letter awards normal points for that letter.</p></li>\n<li><p>The second occurrence of a letter only awards half points rounded up.</p></li>\n<li><p>The third occurrence of a letter awards double points.</p></li>\n<li>Any additional occurrences of a letter award no points.</li>\n<li><p>If a letter appears twice next to each other in a string then both letters award double the normal points for that letter.</p>\n\n<pre><code>namespace NameScoreTest\n{\nusing System;\nusing System.Collections.Generic;\n\npublic static class Program\n{\n    private static Dictionary&lt;char, int&gt; Letters = new Dictionary&lt;char, int&gt;(){\n            {'A', 1}, {'B', 3}, {'C', 3}, {'D', 2}, {'E', 1}, {'F', 4}, {'G', 2}, {'H', 4}, {'I', 1}, {'J', 8}, {'K', 5}, {'L', 1}, {'M', 3 }, {'N', 1}, {'O', 1}, {'P', 3}, {'Q', 10 }, {'R', 1}, {'S', 1}, {'T', 1}, {'U',1}, {'V', 4}, {'W', 4}, {'X', 8}, {'Y', 4}, {'Z', 10}\n        };\n\n    static void Main(string[] args)\n    {\n        int score = CalculateScore(\"Thomas\");\n\n        Console.WriteLine(\"Score for name Thomas is \" + score);\n        Console.WriteLine(\"Press any key to exit\");\n\n        Console.ReadKey();            \n    }\n\n    public static int CalculateScore(String input)\n    {\n        // The score\n        int score = 0;\n\n\n\n    foreach (char c in input)\n\n    {\n        char o = Char.ToUpper(c);\n\n            foreach (var item in Letters)\n            {\n             // Must apply rules here\n                if(o == item.Key)   \n                {\n                    score += item.Value;\n\n                }\n            }\n}\n\n\n        return score;\n    }\n}\n}\n</code></pre></li>\n</ul>\n"}, {"tags": ["c#", "asp.net", "visual-studio-2017", "bootstrap-4"], "comments": [{"owner": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "edited": false, "score": 0, "creation_date": 1530738030, "post_id": 51180664, "comment_id": 89343791, "body": "<a href=\"https://stackoverflow.com/a/50824906/240564\">stackoverflow.com/a/50824906/240564</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3404, "user_id": 2181188, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/7JwZP.jpg?s=128&g=1", "display_name": "Fandango68", "link": "https://stackoverflow.com/users/2181188/fandango68"}, "edited": false, "score": 1, "creation_date": 1550029961, "post_id": 51180726, "comment_id": 96115480, "body": "I&#39;ve used LibMan to get the latest Bootstrap version, but I still see the old BS 3.3.7 version that was put there by default in VS2017. Should I ignore it?"}, {"owner": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "reply_to_user": {"reputation": 3404, "user_id": 2181188, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/7JwZP.jpg?s=128&g=1", "display_name": "Fandango68", "link": "https://stackoverflow.com/users/2181188/fandango68"}, "edited": false, "score": 0, "creation_date": 1550157581, "post_id": 51180726, "comment_id": 96174850, "body": "@Fandango68, so you have two versions?"}, {"owner": {"reputation": 3404, "user_id": 2181188, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/7JwZP.jpg?s=128&g=1", "display_name": "Fandango68", "link": "https://stackoverflow.com/users/2181188/fandango68"}, "edited": false, "score": 0, "creation_date": 1550194531, "post_id": 51180726, "comment_id": 96189575, "body": "Yes unfortunately. If you open VS2017 (latest version), and create a new ASP.Net WebForm project for example, the Bootstrap it loads is 3.3.7. I then do what you did using LibMan and I&#39;ve upgraded it to 4.2.1, but the 3.3.7 still stays in the Contents folder. What do you recommend?"}, {"owner": {"reputation": 3404, "user_id": 2181188, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/7JwZP.jpg?s=128&g=1", "display_name": "Fandango68", "link": "https://stackoverflow.com/users/2181188/fandango68"}, "edited": false, "score": 1, "creation_date": 1550194960, "post_id": 51180726, "comment_id": 96189683, "body": "Actually I solved it using Nuget package manager and updated it directly from there and it removed the 3.3.7 version. I am now wondering if LibMan is worth it? What&#39;s different with libman vs nuget?"}, {"owner": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "reply_to_user": {"reputation": 3404, "user_id": 2181188, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/7JwZP.jpg?s=128&g=1", "display_name": "Fandango68", "link": "https://stackoverflow.com/users/2181188/fandango68"}, "edited": false, "score": 0, "creation_date": 1550257969, "post_id": 51180726, "comment_id": 96217126, "body": "but from original question: &quot; NuGet don&#39;t support Bootstrap anymore&quot;"}, {"owner": {"reputation": 523, "user_id": 192744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQJ8u.jpg?s=128&g=1", "display_name": "TSmith", "link": "https://stackoverflow.com/users/192744/tsmith"}, "edited": false, "score": 0, "creation_date": 1552400535, "post_id": 51180726, "comment_id": 96988988, "body": "Nuget console --- <code>Install-Package bootstrap</code> works fine"}], "tags": [], "owner": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "is_accepted": false, "score": 4, "last_activity_date": 1530738279, "creation_date": 1530738279, "answer_id": 51180726, "question_id": 51180664, "link": "https://stackoverflow.com/questions/51180664/how-to-integrate-bootstrap-4-in-visual-studio-2017-asp-net-core-web-application/51180726#51180726", "title": "How to integrate Bootstrap 4 in Visual Studio 2017 ASP.NET Core Web Application?", "body": "<p>Use <a href=\"https://blogs.msdn.microsoft.com/webdev/2018/04/17/library-manager-client-side-content-manager-for-web-apps/\" rel=\"nofollow noreferrer\">Library Manager</a>:</p>\n\n<blockquote>\n  <p>Library Manager (\u201cLibMan\u201d for short) is Visual Studio\u2019s experimental\n  client-side library acquisition tool. It provides a lightweight,\n  simple mechanism that helps users find and fetch library files from an\n  external source (such as CDNJS) and place them in your project.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 8451520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wc4e0.png?s=128&g=1", "display_name": "ivcubr", "link": "https://stackoverflow.com/users/8451520/ivcubr"}, "is_accepted": true, "score": 5, "last_activity_date": 1530743836, "creation_date": 1530743836, "answer_id": 51181450, "question_id": 51180664, "link": "https://stackoverflow.com/questions/51180664/how-to-integrate-bootstrap-4-in-visual-studio-2017-asp-net-core-web-application/51181450#51181450", "title": "How to integrate Bootstrap 4 in Visual Studio 2017 ASP.NET Core Web Application?", "body": "<p>You could use the full .NET Framework instead of .NET Core. I have installed Bootstrap for this type of project many times using Nuget and never had a problem with it. </p>\n\n<p>Another way would be to use the Bootstrap CDN. This is often the prefered method as you do not need to host the source files yourself. Just add the following tags to your views and then it will load the Bootstrap CSS and JavaScript files for you.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" integrity=\"sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB\" crossorigin=\"anonymous\"&gt;\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js\" integrity=\"sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Note that you will need to have jquery and popper also included as dependancies. If you don't already have these setup, you can add these via a CDN as well:</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\" integrity=\"sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>A second option would be to include the references manually. To do this you would want to head over to <a href=\"http://getbootstrap.com/docs/4.1/getting-started/download/#compiled-css-and-js\" rel=\"noreferrer\" title=\"getbootstrap.com\">getbootstrap.com</a> and download the 'Compiled CSS and JS link'. This has the .CSS and .JS files you will want to include. So add these to Visual Studio and then add a link to them in your views. Add them as follows:</p>\n\n<p>For .JS files:</p>\n\n<pre><code>&lt;script src=\"myscripts.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>For .CSS files:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\"href=\"mystyle.css\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5397752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/954426957933435/picture?type=large", "display_name": "nicowi", "link": "https://stackoverflow.com/users/5397752/nicowi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13624, "favorite_count": 0, "accepted_answer_id": 51181450, "answer_count": 2, "score": 6, "last_activity_date": 1530743836, "creation_date": 1530737784, "question_id": 51180664, "link": "https://stackoverflow.com/questions/51180664/how-to-integrate-bootstrap-4-in-visual-studio-2017-asp-net-core-web-application", "title": "How to integrate Bootstrap 4 in Visual Studio 2017 ASP.NET Core Web Application?", "body": "<p>I want to use Bootstrap in an ASP.NET Core Web Application in VS.\nActually the NuGet don't support Bootstrap anymore.\nHow can I integrate it now?\nHow can I add the files of bootstrap to my project?</p>\n\n<p>Or can you suggest some other project types in VS where it is easier to use Bootstrap? I dont't know the differences between all the web projects types.</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 7, "creation_date": 1530737647, "post_id": 51180625, "comment_id": 89343663, "body": "How do you define &quot;middle most position&quot; and what have you tried doing?"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 5, "creation_date": 1530737818, "post_id": 51180625, "comment_id": 89343723, "body": "What would be the middle of 2x2 array?"}, {"owner": {"reputation": 327, "user_id": 3286147, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7c99399975858459c76f0f6cae02f69?s=128&d=identicon&r=PG&f=1", "display_name": "Pyreal", "link": "https://stackoverflow.com/users/3286147/pyreal"}, "edited": false, "score": 0, "creation_date": 1530737892, "post_id": 51180625, "comment_id": 89343738, "body": "In the context of my problem the &quot;rooms&quot; will always have odd sizes so there should be a real middle position. with [3,5] logically that would be [1,2] if you round with an int."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 4, "creation_date": 1530737958, "post_id": 51180625, "comment_id": 89343757, "body": "Then where is the problem? Can you tell how <code>1</code> is related to <code>3</code> and <code>2</code> is related to <code>5</code>?"}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1530924295, "post_id": 51180625, "comment_id": 89419202, "body": "@Pyreal You should <a href=\"https://stackoverflow.com/posts/51180625/edit\">edit</a> that information into your question. However, you really should define what you want to happen when the arrays have even sizes, because the code has to either handle that case, or test for and reject that case."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 10018244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ab5809d1b6e8de5175187e3e5620e2?s=128&d=identicon&r=PG&f=1", "display_name": "macejko", "link": "https://stackoverflow.com/users/10018244/macejko"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737908, "creation_date": 1530737908, "answer_id": 51180678, "question_id": 51180625, "link": "https://stackoverflow.com/questions/51180625/how-do-i-find-the-middle-of-a-2d-array/51180678#51180678", "title": "How do I find the middle of a 2d array?", "body": "<p>Use <code>rooms.GetLength(0) / 2</code> and <code>rooms.GetLength(1) / 2</code> to get the first and second index of the middle position.</p>\n\n<p>This was answered <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/a7ddde89-35cc-4a29-9aab-ac42b8fd75fe/c-30-two-dimensional-array-length?forum=csharpgeneral\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 327, "user_id": 3286147, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7c99399975858459c76f0f6cae02f69?s=128&d=identicon&r=PG&f=1", "display_name": "Pyreal", "link": "https://stackoverflow.com/users/3286147/pyreal"}, "edited": false, "score": 0, "creation_date": 1530738290, "post_id": 51180688, "comment_id": 89343878, "body": "my plan was to keep them odd so I have a &quot;true&quot; middle. I just wasn&#39;t sure how to handle a multi dimensional array. I think this is what I need."}], "tags": [], "owner": {"reputation": 991, "user_id": 6870582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9196bb9854ffa689f46798c68e640364?s=128&d=identicon&r=PG", "display_name": "Ben Hall", "link": "https://stackoverflow.com/users/6870582/ben-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1530758645, "last_edit_date": 1530758645, "creation_date": 1530737972, "answer_id": 51180688, "question_id": 51180625, "link": "https://stackoverflow.com/questions/51180625/how-do-i-find-the-middle-of-a-2d-array/51180688#51180688", "title": "How do I find the middle of a 2d array?", "body": "<pre><code>var middle = rooms[rooms.GetLength(0) / 2, rooms.GetLength(1) / 2]\n</code></pre>\n\n<p>But that's only going to work where they're odd. Define further behaviour required...</p>\n"}, {"comments": [{"owner": {"reputation": 327, "user_id": 3286147, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7c99399975858459c76f0f6cae02f69?s=128&d=identicon&r=PG&f=1", "display_name": "Pyreal", "link": "https://stackoverflow.com/users/3286147/pyreal"}, "edited": false, "score": 0, "creation_date": 1530738779, "post_id": 51180692, "comment_id": 89344024, "body": "This is the functionality I was looking for, I just wasn&#39;t sure how to handle a multidimensional array. Thank you."}], "tags": [], "owner": {"reputation": 733, "user_id": 9638388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIYkQ.png?s=128&g=1", "display_name": "geekley", "link": "https://stackoverflow.com/users/9638388/geekley"}, "is_accepted": true, "score": 1, "last_activity_date": 1530758634, "last_edit_date": 1530758634, "creation_date": 1530737992, "answer_id": 51180692, "question_id": 51180625, "link": "https://stackoverflow.com/questions/51180625/how-do-i-find-the-middle-of-a-2d-array/51180692#51180692", "title": "How do I find the middle of a 2d array?", "body": "<p>In the example, this would return 1:</p>\n\n<pre><code>int[,] rooms = new int[3,5] { { 0, 0, 0, 0, 0 }, { 0, 0, 1, 0, 0 }, { 0, 0, 0, 0, 0 } };\nint len0 = rooms.GetLength(0);\nint len1 = rooms.GetLength(1);\nreturn rooms[len0 / 2, len1 / 2];\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3133925"}, "is_accepted": false, "score": 1, "last_activity_date": 1550563771, "creation_date": 1550563771, "answer_id": 54761447, "question_id": 51180625, "link": "https://stackoverflow.com/questions/51180625/how-do-i-find-the-middle-of-a-2d-array/54761447#54761447", "title": "How do I find the middle of a 2d array?", "body": "<p>To find the row length</p>\n\n<pre><code>int rowLength = arr.length;\n</code></pre>\n\n<p>To find the column length</p>\n\n<pre><code>int columnLength = arr[0].length;\n</code></pre>\n\n<p>To find the middle element</p>\n\n<pre><code>int mid = arr[arr.length/2][arr[0].length/2];\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 3286147, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7c99399975858459c76f0f6cae02f69?s=128&d=identicon&r=PG&f=1", "display_name": "Pyreal", "link": "https://stackoverflow.com/users/3286147/pyreal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2248, "favorite_count": 0, "accepted_answer_id": 51180692, "answer_count": 4, "score": -2, "last_activity_date": 1550563771, "creation_date": 1530737549, "last_edit_date": 1530758623, "question_id": 51180625, "link": "https://stackoverflow.com/questions/51180625/how-do-i-find-the-middle-of-a-2d-array", "title": "How do I find the middle of a 2d array?", "body": "<p>Let's say I have a 2d array.</p>\n\n<pre><code>int[,] rooms = new int[3,5];\n</code></pre>\n\n<p>How would I find the middle most position?</p>\n"}, {"tags": ["c#", "winforms", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 4653657, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/36a1a8227286117ef7a04a63689993e0?s=128&d=identicon&r=PG&f=1", "display_name": "eng. Yahia Galal", "link": "https://stackoverflow.com/users/4653657/eng-yahia-galal"}, "is_accepted": false, "score": 2, "last_activity_date": 1530738378, "creation_date": 1530738378, "answer_id": 51180744, "question_id": 51180621, "link": "https://stackoverflow.com/questions/51180621/selecting-whole-row-in-datagridview/51180744#51180744", "title": "Selecting whole row in datagridview", "body": "<p>There are property in GridView  Related Of Mode Of Selecting Row in gridview</p>\n\n<pre><code>dataGridView1.SelectionMode = DataGridViewSelectionMode.FullRowSelect;\n</code></pre>\n\n<p>You Can Reference To This Document <a href=\"https://msdn.microsoft.com/en-us/library/3c89df86(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/3c89df86(v=vs.110).aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 10034063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBvqo.jpg?s=128&g=1", "display_name": "Andres CN", "link": "https://stackoverflow.com/users/10034063/andres-cn"}, "is_accepted": false, "score": 0, "last_activity_date": 1530741097, "last_edit_date": 1530741097, "creation_date": 1530738582, "answer_id": 51180769, "question_id": 51180621, "link": "https://stackoverflow.com/questions/51180621/selecting-whole-row-in-datagridview/51180769#51180769", "title": "Selecting whole row in datagridview", "body": "<p>Are you sure you select the option <strong>Full Row Select</strong> into the properties of the Datagrid like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/x7Tye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x7Tye.png\" alt=\"Full row select\"></a></p>\n"}], "owner": {"reputation": 87, "user_id": 9565210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5774e38141a15cf6fa9a5fdc5c968e3?s=128&d=identicon&r=PG&f=1", "display_name": "MikisaMaliDojnik", "link": "https://stackoverflow.com/users/9565210/mikisamalidojnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530743107, "creation_date": 1530737532, "last_edit_date": 1530743107, "question_id": 51180621, "link": "https://stackoverflow.com/questions/51180621/selecting-whole-row-in-datagridview", "title": "Selecting whole row in datagridview", "body": "<p>I want to select whole row of DataGridView, when I click on some cell in it.\n<br></p>\n\n<p>I added this code in  CellMouseDown event\n<br></p>\n\n<pre><code>private void dataGridView1_CellMouseDown(object sender, DataGridViewCellMouseEventArgs e)\n{   \n    dataGridView1.Rows[e.RowIndex].Selected = true;\n}\n</code></pre>\n\n<p><br>\nAnd it doesnt work, when I add this line to CellMouseClick event, it works, but it is slowly, it wait for mouse release, and then select it.\n<br></p>\n\n<pre><code>private void dataGridView1_CellClick(object sender, DataGridViewCellEventArgs e)\n{\n    dataGridView1.Rows[e.RowIndex].Selected = true;\n}\n</code></pre>\n\n<p><br></p>\n\n<p>Any solutions?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1530737301, "post_id": 51180555, "comment_id": 89343560, "body": "Install Visual Studio Community 2017. Also make sure to update the language version in the project settings <code>Build</code> tab, click <code>Adavanced</code> button."}, {"owner": {"reputation": 148, "user_id": 3626442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eed791f07369cada0a9f45658d69e03?s=128&d=identicon&r=PG", "display_name": "Wealsegun", "link": "https://stackoverflow.com/users/3626442/wealsegun"}, "edited": false, "score": 0, "creation_date": 1530737311, "post_id": 51180555, "comment_id": 89343563, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27968963/c-sharp-6-0-features-not-working-with-visual-studio-2015\">C# 6.0 Features Not Working with Visual Studio 2015</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530914566, "post_id": 51180555, "comment_id": 89417326, "body": "It is not an error, just a notification from the old compiler to remind you that it is, you know, old.  Why you are not using the one provided by VS2015 is very unclear.  Do create a project instead of trying to jockey it from the command line."}], "answers": [{"tags": [], "owner": {"reputation": 3960, "user_id": 654614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc0d43eb99234ed9702badb191b7d96?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Boyne", "link": "https://stackoverflow.com/users/654614/frank-boyne"}, "is_accepted": false, "score": 1, "last_activity_date": 1530913456, "creation_date": 1530913456, "answer_id": 51217972, "question_id": 51180555, "link": "https://stackoverflow.com/questions/51180555/how-to-update-c-compiler-to-version-6-visual-studio-community-2015/51217972#51217972", "title": "How to update C# Compiler to version 6-Visual Studio Community 2015", "body": "<p>If you are using Visual Studio 2015 Community Edition you should already have the C# 6 compilers since they shipped with Visual Studio 2015.  </p>\n\n<p>I just installed the RTM version of Visual Studio 2015 Community Edition on a clean system.  The <code>csc.exe</code> compiler it installs (under <code>C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\</code> reports itself as <strong>Microsoft (R) Visual C# Compiler version 1.0.0.50618</strong>.  The file's modified date is 6/21/2015.</p>\n\n<p>The help section on the langversion switch reports <strong>/langversion: &lt;string&gt;         Specify language version mode: ISO-1, ISO-2, 3, 4, 5, 6, or Default</strong></p>\n\n<blockquote>\n  <p>This compiler is provided as part of the Microsoft (R) .NET Framework, but only supports language versions up to C# 5, which is no longer the latest version. For compilers that support newer versions of the C# programming language, see <a href=\"http://go.microsoft.com/fwlink/?LinkID=533240\" rel=\"nofollow noreferrer\">http://go.microsoft.com/fwlink/?LinkID=533240</a></p>\n</blockquote>\n\n<p>The wording of this warning message suggests that you are using a version of the C# compiler shipped with the .NET Framework rather than one that was shipped with Visual Studio 2015.</p>\n"}], "owner": {"reputation": 11, "user_id": 9074970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2ca667741f84c219e2340d1aab2012?s=128&d=identicon&r=PG&f=1", "display_name": "Damina Townes", "link": "https://stackoverflow.com/users/9074970/damina-townes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3156, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530913456, "creation_date": 1530737097, "last_edit_date": 1530738300, "question_id": 51180555, "link": "https://stackoverflow.com/questions/51180555/how-to-update-c-compiler-to-version-6-visual-studio-community-2015", "title": "How to update C# Compiler to version 6-Visual Studio Community 2015", "body": "<p>I have been trying to update my C# compiler after getting the below error when trying to compile a file:</p>\n\n<p>This compiler is provided as part of the Microsoft (R) .NET Framework, but only supports language versions up to C# 5, which is no longer the latest version. For compilers that support newer versions of the C# programming language, see <a href=\"http://go.microsoft.com/fwlink/?LinkID=533240\" rel=\"nofollow noreferrer\">http://go.microsoft.com/fwlink/?LinkID=533240</a></p>\n\n<p>I downloaded Roslyn as directed (not sure if it needed to go in a particular folder with the visual studio files) but didn't get any further with it.</p>\n\n<p>I also found guidance to run the below command in visual studio :</p>\n\n<p>Install-Package Microsoft.Net.Compilers</p>\n\n<p>But this also generates errors when attempting, regardless of whether or not a solution is open. </p>\n\n<p>I'm trying to get the compiler to update to version 6, I feel like this should be very simple but I haven't gotten anywhere with the advice I've researched. Any ideas?</p>\n"}, {"tags": ["c#", "asp.net", "nhibernate"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 8444338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0e89736e28b5d4452d8a29914113c6?s=128&d=identicon&r=PG&f=1", "display_name": "Hidayat Arghandabi", "link": "https://stackoverflow.com/users/8444338/hidayat-arghandabi"}, "edited": false, "score": 0, "creation_date": 1530773238, "post_id": 51181706, "comment_id": 89351579, "body": "I cant not update my .netFramework version even i need to make it 4.5 according to company standard"}, {"owner": {"reputation": 144, "user_id": 8444338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0e89736e28b5d4452d8a29914113c6?s=128&d=identicon&r=PG&f=1", "display_name": "Hidayat Arghandabi", "link": "https://stackoverflow.com/users/8444338/hidayat-arghandabi"}, "edited": false, "score": 0, "creation_date": 1530773258, "post_id": 51181706, "comment_id": 89351593, "body": "I solved the question by Finding the last year version of NHibernate"}], "tags": [], "owner": {"reputation": 21, "user_id": 6950090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irHO9.jpg?s=128&g=1", "display_name": "Branhap", "link": "https://stackoverflow.com/users/6950090/branhap"}, "is_accepted": false, "score": 2, "last_activity_date": 1530746530, "creation_date": 1530746530, "answer_id": 51181706, "question_id": 51180538, "link": "https://stackoverflow.com/questions/51180538/why-can-i-not-install-nhibernate-framework-into-my-asp-net-mvc-project/51181706#51181706", "title": "Why can I not install NHibernate framework into my ASP.NET MVC project?", "body": "<p>You\u2019ll need to use .net framework 4.6.1 instead of 4.6.</p>\n\n<p>See <a href=\"https://www.nuget.org/packages/NHibernate/5.1.3\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/NHibernate/5.1.3</a> under dependencies.</p>\n"}], "owner": {"reputation": 144, "user_id": 8444338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0e89736e28b5d4452d8a29914113c6?s=128&d=identicon&r=PG&f=1", "display_name": "Hidayat Arghandabi", "link": "https://stackoverflow.com/users/8444338/hidayat-arghandabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572942135, "creation_date": 1530737016, "last_edit_date": 1572942135, "question_id": 51180538, "link": "https://stackoverflow.com/questions/51180538/why-can-i-not-install-nhibernate-framework-into-my-asp-net-mvc-project", "title": "Why can I not install NHibernate framework into my ASP.NET MVC project?", "body": "<p>My project has a 5-layer architecture. I am trying to have Entity Framework and NHibernate in the core of my project. </p>\n\n<p>The project .net framework version is at 4.6. I am getting the following message.\nRequesting immediate help. Thanks for sharing your ideas</p>\n\n<blockquote>\n  <p>Install-Package : Could not install package 'NHibernate 5.1.3'. You are trying to install this package into a project that targets '.NETFramework,Version=v4.6', but the package does not contain any assembly references or content files that are compatible with that framework. For more information, contact the package author.<br>\n  At line:1 char:1<br>\n  + Install-Package nhibernate<br>\n  + ~~~~~~~~~~~~~~~~~~~~~~~~~~<br>\n  + CategoryInfo          : NotSpecified: (:) [Install-Package], Exception<br>\n  + FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PackageManagement.PowerShellCmdlets.InstallPackageCommand</p>\n  \n  <p>Time Elapsed: 00:00:00.3142509</p>\n</blockquote>\n\n<p>Updated: Solved by selecting the version according to ASP.net MVC 5</p>\n"}, {"tags": ["c#", "unit-testing", "dependency-injection", ".net-core"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530737339, "post_id": 51180523, "comment_id": 89343579, "body": "Create a service collection, call your registration function and then assert that your <code>restServiceType</code> was added. Next build provider and resolve the <code>restServiceType</code> and assert that it is created as desired. Now that is based solely on what is currently being shown in your example as I am unaware of any other dependencies."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530737642, "post_id": 51180523, "comment_id": 89343662, "body": "@Nkosi err, I didn&#39;t realise I could just create a <code>new ServiceCollection()</code>, Ha.   If you want to post that as an answer I&#39;ll mark it correct"}], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 51, "last_activity_date": 1568291688, "last_edit_date": 1568291688, "creation_date": 1530738015, "answer_id": 51180695, "question_id": 51180523, "link": "https://stackoverflow.com/questions/51180523/unit-testing-iservicecollection-registration/51180695#51180695", "title": "Unit Testing IServiceCollection Registration", "body": "<p>Create a <code>ServiceCollection</code>, </p>\n\n<pre><code>var services = new ServiceCollection();\n</code></pre>\n\n<p>call your registration function and then assert that your <code>restServiceType</code> was added. </p>\n\n<p>Next build a provider from the service collection, resolve the <code>restServiceType</code></p>\n\n<pre><code>var provider = services.BuildServiceProvider();\nvar restService = provider.GetRequiredService(restServiceType);\n</code></pre>\n\n<p>and assert that it is created as desired. </p>\n\n<p>The <code>GetRequiredService</code> extension method will throw an exception if the service is unable to resolve the target type.</p>\n\n<p>Now that is based solely on what is currently being shown in your example as I am unaware of any other dependencies.</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13264, "favorite_count": 1, "accepted_answer_id": 51180695, "answer_count": 1, "score": 27, "last_activity_date": 1568291688, "creation_date": 1530736897, "last_edit_date": 1530737459, "question_id": 51180523, "link": "https://stackoverflow.com/questions/51180523/unit-testing-iservicecollection-registration", "title": "Unit Testing IServiceCollection Registration", "body": "<p>I'm trying to figure out the easiest way to test my Service Registrations method for my framework. I'm creating dynamic services my registration looks like so:</p>\n\n<pre><code>var messageHubConfig = new DynamicHubServiceConfiguration&lt;Message, MessageDTO&gt;();\nmessageHubConfig.SetDynamicHubOptions&lt;AstootContext&gt;(async (context, dto) =&gt;\n{\n    return await context.ConversationSubscriptions\n                        .Where(x =&gt; x.ConversationId == dto.ConversationId \n                               &amp;&amp; x.IsSubscribed)\n                        .Distinct()\n                        .Select(x =&gt; x.User.UniqueIdentifier)\n                        .ToListAsync();\n});\n\nmessageHubConfig.RequiresDynamicValidator = false;\nmessageHubConfig.EventMapping.AddCreateEvent(async (sp, obj, dto) =&gt;\n{\n    var conversationService = sp.GetService&lt;IRestEzService&lt;Conversation, ConversationDTO&gt;&gt;();\n    var conversationDTO = await conversationService.Get(new object[] { dto.ConversationId });\n    var hubTaskQueue = sp.GetService&lt;IHubServiceTaskQueue&gt;();\n    hubTaskQueue.QueueDynamicCreate(conversationDTO);\n}).When(async (sp, dto) =&gt; {\n    var context = sp.GetService&lt;AstootContext&gt;();\n    return await context.Conversations.Where(x =&gt; x.Id == dto.ConversationId).Where(x =&gt; x.Messages.Count == 1).AnyAsync();\n});\n\n//Registers service with a hub\nrestConfiguration.RegisterRestService(typeof(IMessageDTOService), \n                                      typeof(MessageDTOService), \n                                      messageHubConfig);\n</code></pre>\n\n<p>Inside of my Register Rest Service Method I have a lot of different services Getting registered e.g:</p>\n\n<pre><code>services.AddTransient(restServiceType, (IServiceProvider serviceProvider) =&gt;\n{\n    var restService = (IRestEzService&lt;TEntity, TDTO&gt;)\n        ActivatorUtilities.CreateInstance(serviceProvider, restServiceImplementationType);\n    serviceOption.EventMapping?.Register(serviceProvider, restService);\n\n    return restService;\n});\n</code></pre>\n\n<p>How can I be assure that my factory configuration is being registered properly, How can I create a Service Collection for testing?</p>\n"}, {"tags": ["c#", "sql-server", "nullreferenceexception", "datacontext", "submitchanges"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1530746770, "post_id": 51180484, "comment_id": 89345736, "body": "Use a SQL Command Builder.  A SQL command has 4 Queries : Select, Update, Delete, Insert.  The command builder takes the Select queury and creates the other three.  The Submit Changes require all four queries."}, {"owner": {"reputation": 21, "user_id": 10033845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ns6lyz49MUk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1hDvq2HU4nVGXY8hWNDa2uLfy9sA/mo/photo.jpg?sz=128", "display_name": "Marcin Sobolewski", "link": "https://stackoverflow.com/users/10033845/marcin-sobolewski"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1530971335, "post_id": 51180484, "comment_id": 89427950, "body": "Thanks for this answer, this solution helped me a lot, now it works well! When I&#39;ve been looking for the solution of my problem, I saw using of SqlCommand, but I just wanted to know, if there is a possibility of use LINQ way to execute update and for example insert, because select works well, as I said. In another words I just wanted to get to know, if there is a way to execute CRUD actions without writting SQL commands. Anyway, thanks for help mate!"}], "owner": {"reputation": 21, "user_id": 10033845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ns6lyz49MUk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1hDvq2HU4nVGXY8hWNDa2uLfy9sA/mo/photo.jpg?sz=128", "display_name": "Marcin Sobolewski", "link": "https://stackoverflow.com/users/10033845/marcin-sobolewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530739345, "creation_date": 1530736636, "last_edit_date": 1530739345, "question_id": 51180484, "link": "https://stackoverflow.com/questions/51180484/datacontext-submitchanges-throws-nullreferenceexception-everytime-i-want-to-up", "title": "DataContext.SubmitChanges() throws NullReferenceException everytime I want to update connected database", "body": "<p>As I said in the title of the topic, I have a problem with DataContext.SubmitChanges() method. I have two tables: Users and Administrators (and other roles as Doctors etc, but now I am working with these two tables).\nSQL scripts for those two tables: \nUsers: </p>\n\n<pre><code>`CREATE TABLE [dbo].[Users](\n    [usrId] [int] IDENTITY(1,1) NOT NULL,\n    [login] [nvarchar](50) NOT NULL,\n    [password] [nvarchar](50) NOT NULL,\n    [role] [char](3) NOT NULL,\n    [staffId] [int] NOT NULL,\n CONSTRAINT [PK_Users] PRIMARY KEY CLUSTERED \n(\n    [usrId] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]`\n</code></pre>\n\n<p>And for Administrators: </p>\n\n<pre><code>`CREATE TABLE [dbo].[Administrators](\n    [adminId] [int] IDENTITY(1,1) NOT NULL,\n    [name] [nvarchar](50) NOT NULL,\n    [surname] [nvarchar](50) NOT NULL,\n CONSTRAINT [PK_Administrators] PRIMARY KEY CLUSTERED \n(\n    [adminId] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]`\n</code></pre>\n\n<p>Now Administrators join Users on Administrators.adminId = Users.staffId (adminId is PK, staffId is FK). Simply - I know that User from table Users is an Administrator when User.staffId == Administrator.adminId AND User.role = \"ADM\". </p>\n\n<p>So where is the probem?\nI made LINQ mapping for this database: </p>\n\n<pre><code>[Database(Name = \"BD_PROJ_GKiO3\")]\npublic class BD_PROJ_GKiO3 : DataContext\n{\n    public Table&lt;User&gt; Users;\n    public Table&lt;Doctor&gt; Doctors;\n    public Table&lt;LaboratoryWorker&gt; LaboratoryWorkers;\n    public Table&lt;LaboratoryManager&gt; LaboratoryManagers;\n    public Table&lt;Registrator&gt; Registrators;\n    public Table&lt;Administrator&gt; Administrators;\n    public Table&lt;Appointment&gt; Appointments;\n    public Table&lt;ExaminationType&gt; ExaminationTypes;\n    public Table&lt;LaboratoryExamination&gt; LaboratoryExaminations;\n    public Table&lt;Patient&gt; Patients;\n    public Table&lt;PhysicalExamination&gt; PhysicalExaminations;\n\n    public BD_PROJ_GKiO3(IDbConnection connection) : base(connection)\n    {\n\n    }\n}\n</code></pre>\n\n<p>And mapping for User and Administrator: </p>\n\n<pre><code>[Table(Name = \"Users\")]\npublic class User\n{\n    //kolumna PK w tabeli Users\n    [Column(IsPrimaryKey = true, IsDbGenerated = true, DbType = \"Int NOT NULL IDENTITY\")]\n    public int usrId { get; set; }\n\n    //Reszta kolumn\n    [Column] public string login { get; set; }\n    [Column] public string password { get; set; }\n    [Column] public string role { get; set; }\n    [Column] public string status { get; set; }\n    [Column] public int staffId { get; set; }\n\n    //Mapowanie relacji z tabelami aktor\u00f3w\n    private EntitySet&lt;Doctor&gt; _Doctors;\n    [Association(Storage = \"_Doctors\", OtherKey = \"docId\", ThisKey = \"staffId\")]\n    public EntitySet&lt;Doctor&gt; Doctors\n    {\n        get { return this._Doctors; }\n        set { this._Doctors.Assign(value); }\n    }\n\n    private EntitySet&lt;Registrator&gt; _Registrators;\n    [Association(Storage = \"_Registrators\", OtherKey = \"registratorId\", ThisKey = \"staffId\")]\n    public EntitySet&lt;Registrator&gt; Registrators\n    {\n        get { return this._Registrators; }\n        set { this._Registrators.Assign(value); }\n    }\n\n    private EntitySet&lt;Administrator&gt; _Administrators;\n    [Association(Storage = \"_Administrators\", OtherKey = \"adminId\", ThisKey = \"staffId\", IsForeignKey = true)]\n    public EntitySet&lt;Administrator&gt; Administrators\n    {\n        get { return this._Administrators; }\n        set { this._Administrators.Assign(value); }\n    }\n\n    private EntitySet&lt;LaboratoryManager&gt; _LaboratoryManagers;\n    [Association(Storage = \"_LaboratoryManagers\", OtherKey = \"laboratoryPrincipalId\", ThisKey = \"staffId\")]\n    public EntitySet&lt;LaboratoryManager&gt; LaboratoryManagers\n    {\n        get { return this._LaboratoryManagers; }\n        set { this._LaboratoryManagers.Assign(value); }\n    }\n\n    private EntitySet&lt;LaboratoryWorker&gt; _LaboratoryWorkers;\n    [Association(Storage = \"_LaboratoryWorkers\", OtherKey = \"laboratoryWorkerId\", ThisKey = \"staffId\")]\n    public EntitySet&lt;LaboratoryWorker&gt; LaboratoryWorkers\n    {\n        get { return this._LaboratoryWorkers; }\n        set { this._LaboratoryWorkers.Assign(value); }\n    }}\n\n\n[Table(Name = \"Administrators\")]\npublic class Administrator\n{\n    //PK w tabeli Administrators\n    [Column(IsPrimaryKey = true, IsDbGenerated = true)]\n    public int adminId { get; set; }\n\n    //Reszta kolumn\n    [Column] public string name { get; set; }\n    [Column] public string surname { get; set; }\n\n    //Mapowanie relacji tabeli Administrators z tabel\u0105 Users\n    private EntitySet&lt;User&gt; _Users;\n    [Association(Storage = \"_Users\", OtherKey = \"staffId\", IsForeignKey = true, ThisKey = \"adminId\")]\n    public EntitySet&lt;User&gt; Users\n    {\n        get { return this._Users; }\n        set { this._Users.Assign(value); }\n    }}\n</code></pre>\n\n<p>Of course both classes have constructors, but I didn't pasted it here (when I will have to, I will do it). </p>\n\n<p>So above you can see, how I mapped tables and relations from database into objects. </p>\n\n<p>The problem is when I'm trying to update existing row in table Users with related row in table Administrators. I've created User instance (toUpdate), which stores data, with which table row should be updated, next, I'm adding to it an Administrator instances data (admin). As first - I'm getting DataContext object, next - I'm looking in database for my User to edit. </p>\n\n<p>As first: </p>\n\n<pre><code>BD_PROJ_GKiO3 newDB = new BD_PROJ_GKiO3(Program.getConnection());\n            User u = newDB.Users.SingleOrDefault(us =&gt; us.usrId == currentlyEdited.usrId);\n</code></pre>\n\n<p>Proper User (u) is found, so I'm trying to execute code below: </p>\n\n<pre><code>                            u.login = toUpdate.login;\n                            u.role = toUpdate.role;\n                            u.status = toUpdate.status;\n                            u.staffId = toUpdate.staffId;\n                            u.Administrators.ElementAt(0).name = admin.name;\n                            u.Administrators.ElementAt(0).surname = admin.surname;\n                            newDB.SubmitChanges();\n</code></pre>\n\n<p>And during executing last line (newDB.SubmitChanges()) is thrown NullReferenceException. </p>\n\n<p>Stack Trace: <a href=\"https://pastebin.com/3Z4FFuwm\" rel=\"nofollow noreferrer\">ExceptionStackTrace</a></p>\n\n<p>Thanks in advance to everyone who will try to help me, I will be very grateful!\nEdit: I just forgot to mention, that I think database made  and  mapped this way probably works well, because when my application starts, I'm creating new database as public field of program (application root) and using it, I'm giving user a possibility to log in, what works perfectly (on log in step we have to check data from Users and for example Administrators).</p>\n"}, {"tags": ["c#", "winforms", "events", "websocket"], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "edited": false, "score": 0, "creation_date": 1530794417, "post_id": 51190969, "comment_id": 89364664, "body": "It appears to be related to #1 somehow in that in my form load, if I set a property, the property becomes null when the OnMessage fires... but I dont create a new instance anywhere else in my form."}, {"owner": {"reputation": 1671, "user_id": 572760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhAbU.jpg?s=128&g=1", "display_name": "Stokke", "link": "https://stackoverflow.com/users/572760/stokke"}, "reply_to_user": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "edited": false, "score": 0, "creation_date": 1530795287, "post_id": 51190969, "comment_id": 89365259, "body": "Not used this WebSocketBehavior before, but could it be that it is automatically instantiated by the websocket framework?"}, {"owner": {"reputation": 1671, "user_id": 572760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhAbU.jpg?s=128&g=1", "display_name": "Stokke", "link": "https://stackoverflow.com/users/572760/stokke"}, "reply_to_user": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "edited": false, "score": 0, "creation_date": 1530795365, "post_id": 51190969, "comment_id": 89365318, "body": "If so, you could test by making the event static. I can update my answer to show an example as it is more convenient to write code there."}, {"owner": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "edited": false, "score": 0, "creation_date": 1530799990, "post_id": 51190969, "comment_id": 89368486, "body": "Thank you, this was indeed the case.  Making that event static resolved the issue."}, {"owner": {"reputation": 1671, "user_id": 572760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhAbU.jpg?s=128&g=1", "display_name": "Stokke", "link": "https://stackoverflow.com/users/572760/stokke"}, "reply_to_user": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "edited": false, "score": 0, "creation_date": 1530801676, "post_id": 51190969, "comment_id": 89369659, "body": "Great, happy to help. One final note of caution is that you probably want to de-register the listener when closing the dialog. This depends on your implementation of course, but if the event-raiser continues to live beyond the scope of the form it might otherwise call the eventlistener on the disposed form."}], "tags": [], "owner": {"reputation": 1671, "user_id": 572760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhAbU.jpg?s=128&g=1", "display_name": "Stokke", "link": "https://stackoverflow.com/users/572760/stokke"}, "is_accepted": true, "score": 1, "last_activity_date": 1530795668, "last_edit_date": 1530795668, "creation_date": 1530792554, "answer_id": 51190969, "question_id": 51180473, "link": "https://stackoverflow.com/questions/51180473/handling-custom-event-in-class-from-form/51190969#51190969", "title": "Handling Custom Event in Class from Form", "body": "<p>MessageReceivedEvent should not be null at this point:</p>\n\n<pre><code>MessageReceivedEvent?.Invoke(this, e);\n</code></pre>\n\n<p>when you've added a listener to it, which you wrote you did in OnLoad:</p>\n\n<pre><code>taskRoutingServer.MessageReceivedEvent += TaskRoutingServer_MessageReceivedEvent1;\n</code></pre>\n\n<p>This probably means that you are either </p>\n\n<ol>\n<li>not firing the event on the same instance (the taskRoutingMessage object in onLoad), or </li>\n<li>you've removed the listener at some point.</li>\n</ol>\n\n<p>If \"WebSocketBehaviour\" is somehow being automatically created by the framework it will not be the same instance. Then you could try to use a static eventhandler:</p>\n\n<pre><code>    public static event MessageReceivedEventHandler MessageReceivedEvent;\n\n    protected override void OnMessage(MessageEventArgs e)\n    {\n        MessageReceivedEvent?.Invoke(this, e);\n    }\n</code></pre>\n\n<p>...and set it like this in load:</p>\n\n<pre><code>Core.WebSocketServerWrapper.MessageReceivedEvent += \n                              TaskRoutingServer_MessageReceivedEvent1;\n</code></pre>\n"}], "owner": {"reputation": 1236, "user_id": 1651986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1319445556f5e9d20ba0c3a8880e6c09?s=128&d=identicon&r=PG", "display_name": "Jason Bayldon", "link": "https://stackoverflow.com/users/1651986/jason-bayldon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 51190969, "answer_count": 1, "score": 2, "last_activity_date": 1530795668, "creation_date": 1530736567, "last_edit_date": 1530754623, "question_id": 51180473, "link": "https://stackoverflow.com/questions/51180473/handling-custom-event-in-class-from-form", "title": "Handling Custom Event in Class from Form", "body": "<p>I am having problems attempting to handle an event I have created.  I am attempting to use WebSockets, and when I receive a message, I want to raise an event that one of my forms can subscribe to.</p>\n\n<p>In my Form_Load Event. I have:</p>\n\n<pre><code>taskRoutingServer = new Core.WebSocketServerWrapper();\ntaskRoutingServer.MessageReceivedEvent += \nTaskRoutingServer_MessageReceivedEvent1;\n</code></pre>\n\n<p>The method in my form looks like:</p>\n\n<pre><code>private void TaskRoutingServer_MessageReceivedEvent1(object sender, WebSocketSharp.MessageEventArgs e)\n{\n    throw new NotImplementedException();\n}\n</code></pre>\n\n<p>I intend to handle and work with 'e' which will contain the data that my form needs to work with.  The WebSocket class I have looks like this:</p>\n\n<pre><code>public class WebSocketServerWrapper : WebSocketBehavior\n{\n  private WebSocketServer socketServer;\n  public delegate void MessageReceivedEventHandler(object sender, MessageEventArgs e);\n  public event MessageReceivedEventHandler MessageReceivedEvent;\n  public string creator;\n\n  public WebSocketServerWrapper()\n  {\n      socketServer = new WebSocketServer(\"ws://localhost:9001\");\n      socketServer.AddWebSocketService&lt;WebSocketServerWrapper&gt;(\"/ws\");\n  }\n\n  public bool IsListening()\n  {\n      return socketServer.IsListening;\n  }\n\n  public void StartListening()\n  {\n      socketServer.Start();\n  }\n\n  public void StopListening()\n  {\n      socketServer.Stop();\n  }\n\n  protected override void OnMessage(MessageEventArgs e)\n  {\n      //invoke event\n      MessageReceivedEvent?.Invoke(this, e);\n  }\n}\n</code></pre>\n\n<p>The behavior currently is that <code>OnMessage</code> fires but <code>MessageReceivedEvent</code> is null, so the event is not invoked.  How should I handle this event correctly?</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1530752410, "post_id": 51180402, "comment_id": 89346619, "body": "Do keep in mind that <code>Random</code> isn&#39;t thread-safe so you can&#39;t use that outside of the <code>lock</code> either."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1530753480, "post_id": 51180402, "comment_id": 89346795, "body": "It&#39;s worth noting that if you change <code>for (int i = 0; i &lt; 100; i++)</code> to <code>for (int i = 0; i &lt; 2; i++)</code> your program ends with a positive balance. A vast majority of the <code>for</code> loop, when it is counting to 100, is a no-op because the balance is already zero."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 10033941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSEmh.jpg?s=128&g=1", "display_name": "Sparklll", "link": "https://stackoverflow.com/users/10033941/sparklll"}, "edited": false, "score": 0, "creation_date": 1530736775, "post_id": 51180444, "comment_id": 89343431, "body": "But why it&#39;s never go into minus , it&#39;s ending compilation with <code>0</code> account every time? About read/write at any given time no question,it&#39;s clear"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 113, "user_id": 10033941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSEmh.jpg?s=128&g=1", "display_name": "Sparklll", "link": "https://stackoverflow.com/users/10033941/sparklll"}, "edited": false, "score": 0, "creation_date": 1530736866, "post_id": 51180444, "comment_id": 89343455, "body": "@Sparkll look at the conditions in the lock"}, {"owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "edited": false, "score": 0, "creation_date": 1530736992, "post_id": 51180444, "comment_id": 89343481, "body": "Which renders your answer unnecessary? unless you edit it ^^"}], "tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": false, "score": -1, "last_activity_date": 1530736383, "creation_date": 1530736383, "answer_id": 51180444, "question_id": 51180402, "link": "https://stackoverflow.com/questions/51180402/the-c-lock-construction-misunderstanding-with-msdn-code-example/51180444#51180444", "title": "The C# lock construction misunderstanding (with msdn code example)", "body": "<p>I'm not 100% certain, but I'm assuming that the example that MSDN provided shows this with a producer-consumer like pattern. Without <code>lock</code>, things could go unintentionally wrong with multiple threads working on the same data, namely the <code>balance</code> variable. <code>lock</code> ensures that only one thread can read and write to <code>balance</code> at any given time.</p>\n"}, {"tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": false, "score": 0, "last_activity_date": 1530737516, "last_edit_date": 1530737516, "creation_date": 1530736683, "answer_id": 51180488, "question_id": 51180402, "link": "https://stackoverflow.com/questions/51180402/the-c-lock-construction-misunderstanding-with-msdn-code-example/51180488#51180488", "title": "The C# lock construction misunderstanding (with msdn code example)", "body": "<p>You are spawning ten threads, which are started almost at the same time and run concurrently. The <code>Console.WriteLine</code> calls are time consuming compared to the decrement operation, so without the <code>lock</code> multiple threads can and will enter the block of statements guarded by the <code>if (balance &gt;= amount)</code> (because there may still be sufficient balance by that time) <strong>while</strong> any of the other threads is already about to reach and execute the <code>balance = balance - amount</code> statement.</p>\n\n<p>(without the <code>Console.WriteLine</code> calls, the problem is the same - the likelihood for races may be lower, but <code>lock</code> is still needed unless the critical section is an atomic operation).</p>\n\n<p>With the <code>lock</code> in place, no two threads will ever enter the critical section at the same time, so in case the balance is already zero when the critical section is entered, it will safely branch to the <code>else</code> block where it says, \"transaction rejected\".</p>\n\n<p>I think your misunderstanding will be resolved as soon as you realize that this is the very purpose of the lock syntax - to prevent race conditions over resources that need serialized read and/or write access (here, the resource is the balance variable). From there, the next challenge is the <code>volatile</code> keyword, <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/volatile\" rel=\"nofollow noreferrer\">documented here</a></p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 10033941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSEmh.jpg?s=128&g=1", "display_name": "Sparklll", "link": "https://stackoverflow.com/users/10033941/sparklll"}, "edited": false, "score": 0, "creation_date": 1530737314, "post_id": 51180529, "comment_id": 89343565, "body": "everything is clear, I asked a stupid question .Now i carefully checked the code and realized that I didn&#39;t notice <code>if (balance &gt;= amount)</code>"}], "tags": [], "owner": {"reputation": 4240, "user_id": 5447084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/931257310275580/picture?type=large", "display_name": "Haytam", "link": "https://stackoverflow.com/users/5447084/haytam"}, "is_accepted": false, "score": 1, "last_activity_date": 1530736930, "creation_date": 1530736930, "answer_id": 51180529, "question_id": 51180402, "link": "https://stackoverflow.com/questions/51180402/the-c-lock-construction-misunderstanding-with-msdn-code-example/51180529#51180529", "title": "The C# lock construction misunderstanding (with msdn code example)", "body": "<p>The lock works as it's expected in this example, upon launching multiple threads they will all try to withdraw from the account which could result in a VERY bad functionning. How?<br>\nWell, imagine that the current balance is 40, thread 1 tries to withdraw 40 and thread 2 tries to withdraw 20, without a lock they would both succeed in doing so and the balance would be -20, which can't be acceptable.</p>\n\n<p>Now to your actual concern, why does the balance doesn't go negative? Simple:</p>\n\n<pre><code>lock (thisLock)\n    {\n        if (balance &gt;= amount)\n        {\n            Console.WriteLine(\"Balance before Withdrawal :  \" + balance);\n            Console.WriteLine(\"Amount to Withdraw        : -\" + amount);\n            balance = balance - amount;\n            Console.WriteLine(\"Balance after Withdrawal  :  \" + balance);\n            return amount;\n        }\n        else\n        {\n            return 0; // transaction rejected\n        }\n    }\n</code></pre>\n\n<p>The lock will ensure that every thread will withdraw only if the amount is available in the balance, so the condition <code>if (balance &gt;= amount)</code> coupled with <code>if (balance &lt; 0)</code> will ensure that the balance doesn't go negative.</p>\n\n<p>You can see this in details if you log the amount withdrawn by every thread:</p>\n\n<pre><code>Console.WriteLine(Withdraw(r.Next(1, 100)));\n</code></pre>\n\n<p>You'll see that a lot of them will output 0 after some time, because the account doesn't have balance anymore thus the <code>return 0</code> triggers.</p>\n"}], "owner": {"reputation": 113, "user_id": 10033941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSEmh.jpg?s=128&g=1", "display_name": "Sparklll", "link": "https://stackoverflow.com/users/10033941/sparklll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1530737516, "creation_date": 1530736115, "last_edit_date": 1530736923, "question_id": 51180402, "link": "https://stackoverflow.com/questions/51180402/the-c-lock-construction-misunderstanding-with-msdn-code-example", "title": "The C# lock construction misunderstanding (with msdn code example)", "body": "<p>I was interested in one thing using C# <code>lock</code> construction \nNow sample from MSDN and then main question after: </p>\n\n<p>The following sample uses threads and lock. As long as the lock statement is present, the statement block is a critical section and balance will never become a negative number. </p>\n\n<pre><code>class Account\n{\n    private Object thisLock = new Object();\n    int balance;\n\n    Random r = new Random();\n\n    public Account(int initial)\n    {\n        balance = initial;\n    }\n\n    int Withdraw(int amount)\n    {\n\n        // This condition never is true unless the lock statement\n        // is commented out.\n        if (balance &lt; 0)\n        {\n            throw new Exception(\"Negative Balance\");\n        }\n\n        // Comment out the next line to see the effect of leaving out \n        // the lock keyword.\n        lock (thisLock)\n        {\n            if (balance &gt;= amount)\n            {\n                Console.WriteLine(\"Balance before Withdrawal :  \" + balance);\n                Console.WriteLine(\"Amount to Withdraw        : -\" + amount);\n                balance = balance - amount;\n                Console.WriteLine(\"Balance after Withdrawal  :  \" + balance);\n                return amount;\n            }\n            else\n            {\n                return 0; // transaction rejected\n            }\n        }\n    }\n\n    public void DoTransactions()\n    {\n        for (int i = 0; i &lt; 100; i++)\n        {\n            Withdraw(r.Next(1, 100));\n        }\n    }\n}\n\nclass Test\n{\n    static void Main()\n    {\n        Thread[] threads = new Thread[10];\n        Account acc = new Account(1000);\n        for (int i = 0; i &lt; 10; i++)\n        {\n            Thread t = new Thread(new ThreadStart(acc.DoTransactions));\n            threads[i] = t;\n        }\n        for (int i = 0; i &lt; 10; i++)\n        {\n            threads[i].Start();\n        }\n\n        //block main thread until all other threads have ran to completion.\n        foreach (var t in threads)\n            t.Join();\n    }\n}\n</code></pre>\n\n<p>I don't understand why using <code>lock</code> account balance doesn't go into minus;it's always ending compilation with <code>0</code> balance. \n   P.S  Sorry for my English.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1530736131, "post_id": 51180389, "comment_id": 89343241, "body": "There is FirstOrDefault for this"}, {"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "edited": false, "score": 0, "creation_date": 1530736229, "post_id": 51180389, "comment_id": 89343278, "body": "Are you looking for linq <code>where</code> and <code>select</code>? Could you provide some code or sample string?"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 10018244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ab5809d1b6e8de5175187e3e5620e2?s=128&d=identicon&r=PG&f=1", "display_name": "macejko", "link": "https://stackoverflow.com/users/10018244/macejko"}, "is_accepted": true, "score": 4, "last_activity_date": 1530736362, "creation_date": 1530736362, "answer_id": 51180440, "question_id": 51180389, "link": "https://stackoverflow.com/questions/51180389/using-c-to-fill-a-variable-with-a-linq-any-match/51180440#51180440", "title": "Using c# to fill a variable with a LINQ any match", "body": "<p>Try using <code>stringArray.FirstOrDefault(stringToCheck.Contains)</code>.\nIt gives you <code>null</code> if the string was not found, else returns the string.</p>\n"}, {"comments": [{"owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "reply_to_user": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 2, "creation_date": 1530739339, "post_id": 51180570, "comment_id": 89344180, "body": "my bad - I read the question too quickly. Updated. And FWIW, I actually prefer the Lambda syntax as it generally matches more closely the other LINQ queries I have in my methods. Yes, it&#39;s a bit more verbose, but I actually find it more legible. &quot;Contains what? Oh, contains &#39;i&#39;&quot;"}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1530745453, "post_id": 51180570, "comment_id": 89345515, "body": "Fair enough. I think it&#39;s natural to tend toward conciseness when working with lambdas but what doesn&#39;t hold water is the argument that <code>i</code>, or other meaningless names like <code>a</code>, <code>b</code>, and so on, is somehow providing useful information; they don&#39;t so they&#39;re sort of worthless. Particularly in this case where we&#39;re calling <code>FirstOrDefault</code> on a <code>stringArray</code> and <code>Contains</code> on the <code>stringToCheck</code>. Pretty darn clear without the <code>i=&gt;...(i)</code> part. But opinions...we all have them."}], "tags": [], "owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "is_accepted": false, "score": 2, "last_activity_date": 1530740153, "last_edit_date": 1530740153, "creation_date": 1530737198, "answer_id": 51180570, "question_id": 51180389, "link": "https://stackoverflow.com/questions/51180389/using-c-to-fill-a-variable-with-a-linq-any-match/51180570#51180570", "title": "Using c# to fill a variable with a LINQ any match", "body": "<p>Try something more like:</p>\n\n<pre><code>    var stringArray = new string[3]{\"XX\", \"YY\", \"ZZ\"};\n    var stringToCheck = \"12-YY-34\";\n\n    Console.WriteLine(stringArray.FirstOrDefault(i=&gt;stringToCheck.Contains(i)));\n</code></pre>\n\n<p>returns:\n     YY</p>\n"}], "owner": {"reputation": 4239, "user_id": 6480658, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/79a2edab9dc17e4c66e1d91ebe7a40f7?s=128&d=identicon&r=PG&f=1", "display_name": "jamheadart", "link": "https://stackoverflow.com/users/6480658/jamheadart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 51180440, "answer_count": 2, "score": 1, "last_activity_date": 1530740153, "creation_date": 1530735963, "last_edit_date": 1530736587, "question_id": 51180389, "link": "https://stackoverflow.com/questions/51180389/using-c-to-fill-a-variable-with-a-linq-any-match", "title": "Using c# to fill a variable with a LINQ any match", "body": "<p>I've found this nifty function:</p>\n\n<pre><code>stringArray.Any(stringToCheck.Contains)\n</code></pre>\n\n<p>which gives a true if the <code>stringToCheck</code> contains any of the strings in the <code>stringArray</code></p>\n\n<p>what I want to do then is fill a variable with the string it actually matched - is is possible to extend this linq query to pull out the matched string?</p>\n\n<p>All I can think of is to cycle through the array and if there's a match then move it in to the variable - but if I'm doing it that way then I might as well just skip the oneliner function... I'm not really sure if this is possible,  so many other options so dunno where to start...</p>\n\n<pre><code>public class tester\n{\n    private string[] stringArray = { \"XX\", \"YY\", \"ZZ\" };\n    private string stringToCheck = \"12-YY-34\";\n    private string arrayMatch;\n}\n</code></pre>\n\n<p>I want to attribute \"YY\" to arrayMatch because the stringToCheck contains \"YY\" which can be found in the stringArray;</p>\n"}, {"tags": ["c#", "amazon-web-services", "visual-studio-code", ".net-core", "aws-lambda"], "answers": [{"tags": [], "owner": {"reputation": 2344, "user_id": 1127683, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a76519a679f758a73ba52aba846b14f6?s=128&d=identicon&r=PG", "display_name": "GreenyMcDuff", "link": "https://stackoverflow.com/users/1127683/greenymcduff"}, "is_accepted": false, "score": 1, "last_activity_date": 1531202946, "creation_date": 1531202946, "answer_id": 51258237, "question_id": 51180331, "link": "https://stackoverflow.com/questions/51180331/debug-dotnet-core-2-0-aws-lambda-functions-in-vs-code-c/51258237#51258237", "title": "Debug dotnet core 2.0 AWS Lambda Functions in VS Code (C#)", "body": "<p>OK so I found this, which says it's not possible at the moment:</p>\n\n<p><a href=\"https://github.com/aws/aws-lambda-dotnet/issues/246\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-dotnet/issues/246</a></p>\n\n<p>Am moving to NodeJs and the Serverless package to do this for now:</p>\n\n<p><a href=\"https://www.npmjs.com/package/serverless\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/serverless</a></p>\n\n<p>Will update this if / when things change for dotnet core</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 2515612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227c7003cef2b46bcae53682d3f82479?s=128&d=identicon&r=PG", "display_name": "user2515612", "link": "https://stackoverflow.com/users/2515612/user2515612"}, "is_accepted": false, "score": 0, "last_activity_date": 1568650623, "creation_date": 1568650623, "answer_id": 57960838, "question_id": 51180331, "link": "https://stackoverflow.com/questions/51180331/debug-dotnet-core-2-0-aws-lambda-functions-in-vs-code-c/57960838#57960838", "title": "Debug dotnet core 2.0 AWS Lambda Functions in VS Code (C#)", "body": "<p>processId it should be set to 1, because Docker assigns entry point executable PID of 1.  It is in launch.json of VS Code.</p>\n"}], "owner": {"reputation": 2344, "user_id": 1127683, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a76519a679f758a73ba52aba846b14f6?s=128&d=identicon&r=PG", "display_name": "GreenyMcDuff", "link": "https://stackoverflow.com/users/1127683/greenymcduff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568650623, "creation_date": 1530735494, "question_id": 51180331, "link": "https://stackoverflow.com/questions/51180331/debug-dotnet-core-2-0-aws-lambda-functions-in-vs-code-c", "title": "Debug dotnet core 2.0 AWS Lambda Functions in VS Code (C#)", "body": "<p>I'm using VS Code to write Lambda functions using the dotnet core 2.0 CLI.</p>\n\n<ul>\n<li>VS Code v1.24.1  </li>\n<li>dotnet Core CLI v2.1.200</li>\n</ul>\n\n<p><strong>Problem</strong><br>\nI can't get the debugger to work locally with the function I've written in VS Code.</p>\n\n<p>I place a breakpoint on the line <code>var body = request?.Body;</code> (See Function.cs code block below). When I then click the <code>start debugging</code> button in the <strong>Debug</strong> tab in VS Code, I get the following:</p>\n\n<pre><code>-------------------------------------------------------------------\nYou may only use the Microsoft .NET Core Debugger (vsdbg) with\nVisual Studio Code, Visual Studio or Visual Studio for Mac software\nto help you develop and test your applications.\n-------------------------------------------------------------------\nLoaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\2.0.7\\System.Private.CoreLib.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\nLoaded 'C:\\Users\\chris\\Documents\\Github\\tcdevs\\resource-it\\client-management-lambda\\ClientManagement.TestAsyncFunction\\test\\ClientManagement.TestAsyncFunction.Tests\\bin\\Debug\\netcoreapp2.0\\ClientManagement.TestAsyncFunction.Tests.dll'. Symbols loaded.\nLoaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\2.0.7\\System.Runtime.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\nThe program '[49584] ClientManagement.TestAsyncFunction.Tests.dll' has exited with code 0 (0x0).\n</code></pre>\n\n<p><strong>Function.cs</strong></p>\n\n<p>The Lambda Function uses the APIGatewayEvents package to accept a request from the API Gateway</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;APIGatewayProxyResponse&gt; FunctionHandler(APIGatewayProxyRequest request, ILambdaContext context)\n{\n    var body = request?.Body;\n\n    // do something asynchronously\n\n    return new APIGatewayProxyResponse()\n    {\n        Body = JsonConvert.SerializeObject(body),\n        StatusCode = 200,\n        Headers = new Dictionary&lt;string, string&gt;{ {\"Content-Type\", \"application/json\"} }\n    };\n}\n</code></pre>\n\n<p><strong>launch.json</strong></p>\n\n<p>I've configured this to use the Function.cs dll's (The file that was created by vs code was hitting the test project)</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>\"version\": \"0.2.0\",\n\"configurations\": [\n    {\n        \"name\": \".NET Core Launch (lambda)\",\n        \"type\": \"coreclr\",\n        \"request\": \"launch\",\n        \"preLaunchTask\": \"build\",\n        \"program\": \"${workspaceFolder}/src/ClientManagement.TestAsyncFunction/bin/Debug/netcoreapp2.0/ClientManagement.TestAsyncFunction.dll\",\n        \"args\": [],\n        \"cwd\": \"${workspaceFolder}/src/ClientManagement.TestAsyncFunction\",\n        \"console\": \"internalConsole\",\n        \"stopAtEntry\": false,\n        \"internalConsoleOptions\": \"openOnSessionStart\"\n    },\n    {\n        \"name\": \".NET Core Attach\",\n        \"type\": \"coreclr\",\n        \"request\": \"attach\",\n        \"processId\": \"${command:pickProcess}\"\n    }\n}\n</code></pre>\n\n<p>I've seen this post here:<br>\n<a href=\"https://cloudncode.blog/2017/01/24/getting-started-with-writing-and-debugging-aws-lambda-function-with-visual-studio-code/\" rel=\"nofollow noreferrer\">https://cloudncode.blog/2017/01/24/getting-started-with-writing-and-debugging-aws-lambda-function-with-visual-studio-code/</a></p>\n\n<p>But I don't think this method will work for dotnet core 2.0.  I've also done a lot of googling and have found almost no information on how to debug dotnet core 2.0 functions in VS Code.</p>\n"}, {"tags": ["c#", "linux", "ubuntu", "monodevelop", "monogame"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5595831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWhv4.png?s=128&g=1", "display_name": "Solar Omni", "link": "https://stackoverflow.com/users/5595831/solar-omni"}, "is_accepted": false, "score": 0, "last_activity_date": 1530736818, "creation_date": 1530736818, "answer_id": 51180507, "question_id": 51180195, "link": "https://stackoverflow.com/questions/51180195/monogame-3-6-shared-project-intellisense-not-working-in-monodevelop-7-5/51180507#51180507", "title": "Monogame 3.6 shared project intellisense not working in Monodevelop 7.5", "body": "<p>I figured it out. I just had to add the shared project to a real project that contained the references to Monogame and then everything works fine.</p>\n"}], "owner": {"reputation": 1, "user_id": 5595831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWhv4.png?s=128&g=1", "display_name": "Solar Omni", "link": "https://stackoverflow.com/users/5595831/solar-omni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530736818, "creation_date": 1530734573, "question_id": 51180195, "link": "https://stackoverflow.com/questions/51180195/monogame-3-6-shared-project-intellisense-not-working-in-monodevelop-7-5", "title": "Monogame 3.6 shared project intellisense not working in Monodevelop 7.5", "body": "<p>I'm really new to Monodevelop and Monogame and I just installed elementary OS Linux (which I'm not all that new to Linux but I'm not a pro) and I got everything working. However, I was going to refactor my game project for crossplatform support and so I wanted to try out this new thing I read about called shared projects. Well when I tried it out, intellisense does not seem to be working for the monogame framework. Which kind of makes sense, how does it know where to find the library and what's in it if it's not referenced? So how is this supposed to work? I tried using a monogame shared library instead, but my monogame.extended addon didn't seem to wanna work with that. Any help would be appreciated!</p>\n"}, {"tags": ["c#", "asynchronous", "synchronous"], "comments": [{"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 2, "creation_date": 1530734245, "post_id": 51180127, "comment_id": 89342657, "body": "I&#39;d return <code>Task.FromResult(...)</code>, making it run in another thread doesn&#39;t make it async IMO."}, {"owner": {"reputation": 916, "user_id": 9678775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neZ2Y.jpg?s=128&g=1", "display_name": "Vladi Pavelka", "link": "https://stackoverflow.com/users/9678775/vladi-pavelka"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1530734433, "post_id": 51180127, "comment_id": 89342717, "body": "What @orhtej2 said, + remove the async keyword from impl. <code>await Task.Run</code> would be only an additional useless context switch"}, {"owner": {"reputation": 2312, "user_id": 6330636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KwL7RaFztwM/AAAAAAAAAAI/AAAAAAAAADg/34eEeb890LE/photo.jpg?sz=128", "display_name": "Filip Cordas", "link": "https://stackoverflow.com/users/6330636/filip-cordas"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1530734446, "post_id": 51180127, "comment_id": 89342720, "body": "@orhtej2 technically it would make it asynchronous  but probably overkill."}], "answers": [{"tags": [], "owner": {"reputation": 498, "user_id": 6796948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dwiNf.png?s=128&g=1", "display_name": "Severius5", "link": "https://stackoverflow.com/users/6796948/severius5"}, "is_accepted": true, "score": 5, "last_activity_date": 1530734370, "creation_date": 1530734370, "answer_id": 51180165, "question_id": 51180127, "link": "https://stackoverflow.com/questions/51180127/preferred-way-of-synchronous-code-in-async-method/51180165#51180165", "title": "preferred way of synchronous code in async method", "body": "<p>You can return completed task from given result without calling for await / Task.Run (considering you really dont want to run it from another thread)</p>\n\n<pre><code>public Task&lt;Model&gt; GetDataAsync(CancellationToken token)\n{\n    return Task.FromResult(x.FirstOrDefault(...));\n}\n</code></pre>\n\n<p>and dont forget to remove <code>async</code> from method signature</p>\n"}], "owner": {"reputation": 1501, "user_id": 1688878, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/FiW5a.jpg?s=128&g=1", "display_name": "Roelant M", "link": "https://stackoverflow.com/users/1688878/roelant-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 51180165, "answer_count": 1, "score": 3, "last_activity_date": 1530734424, "creation_date": 1530734169, "last_edit_date": 1530734424, "question_id": 51180127, "link": "https://stackoverflow.com/questions/51180127/preferred-way-of-synchronous-code-in-async-method", "title": "preferred way of synchronous code in async method", "body": "<p>I've got a simple question, but i think there are multiple answers, but is there a good/bad practise about the following;</p>\n\n<p>i'm working on the implementation for a given interface method:</p>\n\n<pre><code>Task&lt;Model&gt; GetDataAsync(CancellationToken token);\n</code></pre>\n\n<p>so in my implementation i get the following signature;</p>\n\n<pre><code>public async Task&lt;Model&gt; GetDataAsync(CancellationToken token)\n</code></pre>\n\n<p>however, this implementation lacks any async calls;\njust a regular: <code>return x.firstOrDefault...</code></p>\n\n<p>So i get the next problem; and here is some advice needed;\nshould i do a <code>await Task.Run(...);</code> So i can still implement that given interface (that I need btw), or is there a better approach? and what are the benefits.</p>\n"}, {"tags": ["c#", ".net", "uwp", "stream", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 3529, "user_id": 7199329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dJtr.png?s=128&g=1", "display_name": "Breeze Liu - MSFT", "link": "https://stackoverflow.com/users/7199329/breeze-liu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1530761091, "creation_date": 1530761091, "answer_id": 51182968, "question_id": 51180074, "link": "https://stackoverflow.com/questions/51180074/issue-while-reading-from-stream-in-uwp/51182968#51182968", "title": "Issue while reading from Stream in UWP", "body": "<p>Firstly, I can not reproduce this issue in my side using the official <a href=\"https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/StreamSocket\" rel=\"nofollow noreferrer\">StreamSocket</a> sample.</p>\n\n<p>On the other hand, you can try to use the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.streams.datareader\" rel=\"nofollow noreferrer\">DataReader</a> class to read the data as the above sample.</p>\n\n<pre><code>private async void OnConnection(\n    StreamSocketListener sender, \n    StreamSocketListenerConnectionReceivedEventArgs args)\n{\n    DataReader reader = new DataReader(args.Socket.InputStream);\n    try\n    {\n        while (true)\n        {\n            // Read first 4 bytes (length of the subsequent string).\n            uint sizeFieldCount = await reader.LoadAsync(sizeof(uint));\n            if (sizeFieldCount != sizeof(uint))\n            {\n                // The underlying socket was closed before we were able to read the whole data.\n                return;\n            }\n\n            // Read the string.\n            uint stringLength = reader.ReadUInt32();\n            uint actualStringLength = await reader.LoadAsync(stringLength);\n            if (stringLength != actualStringLength)\n            {\n                // The underlying socket was closed before we were able to read the whole data.\n                return;\n            }\n\n            // Display the string on the screen. The event is invoked on a non-UI thread, so we need to marshal\n            // the text back to the UI thread.\n            NotifyUserFromAsyncThread(\n                String.Format(\"Received data: \\\"{0}\\\"\", reader.ReadString(actualStringLength)), \n                NotifyType.StatusMessage);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 632518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7fe6e9c839dcce314a5a21620fed20?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/632518/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530761091, "creation_date": 1530733843, "question_id": 51180074, "link": "https://stackoverflow.com/questions/51180074/issue-while-reading-from-stream-in-uwp", "title": "Issue while reading from Stream in UWP", "body": "<p>I have a small UWP app which uses a <em>StreamSocket</em>. The socket is accessed via using the <em>socket.InputStream.AsStreamForRead()</em> method. </p>\n\n<p>This works fine for nearly all sizes of incoming data (10 bytes to 6,000 bytes). But when using the overload with a buffer size the socket hangs when more data is received. So 6000 bytes are no longer received if the buffer is set to 4096. Even when reading the data in chunks of 10 bytes it does not work. The method <em>ReadAsync</em> hangs forever.</p>\n\n<p>I am not sure if this is a bug. I would expect that I can still receive the data. If not I need to know the default size or behavior of that buffer.</p>\n\n<p>Example code:</p>\n\n<pre><code>StreamSocket socket = InitSomewhere();\nvar readStream = socket.InputStream.AsStreamForRead(500);\nvar buffer = new byte[100]\nreadStream.ReadAsync(buffer, 0, 100) // Hangs here if received &gt; 500!\n</code></pre>\n\n<p>Does anyone have an idea?</p>\n\n<p>Best regards, Christan</p>\n"}, {"tags": ["c#", "winforms", "authentication", "jwt", "identityserver4"], "comments": [{"owner": {"reputation": 2125, "user_id": 1446543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934816c610f53abdab5f26510478bc24?s=128&d=identicon&r=PG", "display_name": "ForeverZer0", "link": "https://stackoverflow.com/users/1446543/foreverzer0"}, "edited": false, "score": 1, "creation_date": 1530733876, "post_id": 51180035, "comment_id": 89342538, "body": "What&#39;s the question?"}, {"owner": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "edited": false, "score": 0, "creation_date": 1530739108, "post_id": 51180035, "comment_id": 89344115, "body": "which technologie your application used ? Winforms, WPF?"}, {"owner": {"reputation": 11, "user_id": 10033766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kUv1um9dwnM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2dyYcfrjBNi5mf43ZoV8Db5FwUOQ/mo/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/10033766/mike"}, "edited": false, "score": 0, "creation_date": 1530774668, "post_id": 51180035, "comment_id": 89352402, "body": "Updated the text with a question"}, {"owner": {"reputation": 3675, "user_id": 1426685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a2c508412271afd6b8fd067e1ee5e4d?s=128&d=identicon&r=PG", "display_name": "d_f", "link": "https://stackoverflow.com/users/1426685/d-f"}, "edited": false, "score": 0, "creation_date": 1530895970, "post_id": 51180035, "comment_id": 89410519, "body": "If your app is supposed to be executed on a computer within a domain, you do not need jwt and Identity Server at all. Just use Windows identity everywhere. If your (target) computer is outside a domain, you can&#39;t use your windows user identity for validation (authentication) in AD. You can use ADFS and IdentityServer then, but that will be web auth, not the windows one (see how your MS VS behaves when connecting to VSTS)."}], "owner": {"reputation": 11, "user_id": 10033766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kUv1um9dwnM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2dyYcfrjBNi5mf43ZoV8Db5FwUOQ/mo/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/10033766/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530741252, "creation_date": 1530733574, "last_edit_date": 1530741252, "question_id": 51180035, "link": "https://stackoverflow.com/questions/51180035/identity-server4-authentication-for-windows-application", "title": "Identity Server4 Authentication for Windows Application", "body": "<p>I'm developing a c# windows desktop application (WinForms). I would like the application to get a JWT-token from Identity Server based on the logged in windows user. The user should not need to enter his or her credentials in the windows application. The application should use the logged in users credentials to authenticate and recieve an access token. Is this even possible?</p>\n\n<p>It's not possible (of course) to get the password of a logged windows user and resend it to Identity Server. If that would be possible, the ResourceOwnerPassword flow could be used.</p>\n\n<p>I've searched for an example of this but haven't found one yet. So, I'm starting \nto think that this is not possible.</p>\n\n<p>The question is, is it possible in a windows desktop application to authenticate with Identity Server with the current logged in AD-user? (Without having the user enter his/her credentials)</p>\n\n<p>The Identity Server will in the authentication process authenticate the user with the AD.</p>\n"}, {"tags": ["c#", "rabbitmq", "publish-subscribe"], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 7092030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef70e7f7201ed4fa11fbe403501fe486?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/7092030/nicolas"}, "edited": false, "score": 0, "creation_date": 1530793287, "post_id": 51190871, "comment_id": 89363964, "body": "Yes, it&#39;s java realization. For C# it&#39;s void."}], "tags": [], "owner": {"reputation": 126, "user_id": 6351592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jK1vYiaVOr8/AAAAAAAAAAI/AAAAAAAABNE/vKlDwM69Abw/photo.jpg?sz=128", "display_name": "Andrey Nadezhdin", "link": "https://stackoverflow.com/users/6351592/andrey-nadezhdin"}, "is_accepted": false, "score": 1, "last_activity_date": 1530792246, "creation_date": 1530792246, "answer_id": 51190871, "question_id": 51179968, "link": "https://stackoverflow.com/questions/51179968/rabbitmq-transactions-are-commiting-without-exceptions-while-queue-is-down/51190871#51190871", "title": "RabbitMQ transactions are commiting without exceptions while queue is down", "body": "<p>Do you check TxCommit for return value?</p>\n\n<p><a href=\"https://www.rabbitmq.com/releases/rabbitmq-java-client/v1.7.0/rabbitmq-java-client-javadoc-1.7.0/com/rabbitmq/client/Channel.html#txCommit()\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/releases/rabbitmq-java-client/v1.7.0/rabbitmq-java-client-javadoc-1.7.0/com/rabbitmq/client/Channel.html#txCommit()</a></p>\n\n<blockquote>\n  <p>Returns:\n  a transaction-commit method to indicate the transaction was successfully committed</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 6105804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/30o3N.png?s=128&g=1", "display_name": "d.stack", "link": "https://stackoverflow.com/users/6105804/d-stack"}, "is_accepted": false, "score": 2, "last_activity_date": 1530794553, "creation_date": 1530794553, "answer_id": 51191604, "question_id": 51179968, "link": "https://stackoverflow.com/questions/51179968/rabbitmq-transactions-are-commiting-without-exceptions-while-queue-is-down/51191604#51191604", "title": "RabbitMQ transactions are commiting without exceptions while queue is down", "body": "<p>From referenced code and article I don't see where would it fall with exception. </p>\n\n<p>For exception you would need TxSelect to process something. But as you won't get anything new in queue it won't have anything to work on. Thus no exception from it. \nOn the other hand I'd guess publish just get you Task, a promise that per your code seem just stay unprocessed as such. Again - no exception.</p>\n\n<p>I would recommend to do same thing without creating a queue. \nQuite sure there would be no exception either.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 72, "user_id": 7092030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef70e7f7201ed4fa11fbe403501fe486?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/7092030/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530794553, "creation_date": 1530733076, "question_id": 51179968, "link": "https://stackoverflow.com/questions/51179968/rabbitmq-transactions-are-commiting-without-exceptions-while-queue-is-down", "title": "RabbitMQ transactions are commiting without exceptions while queue is down", "body": "<p>I'm trying to send message from publisher to broker synchronically, via transaction, as described <a href=\"http://www.rabbitmq.com/blog/2011/02/10/introducing-publisher-confirms/\" rel=\"nofollow noreferrer\">here</a> (Guaranteed Delivery with Tx) in order to get guaranteed message delivery from publisher to broker.</p>\n\n<p>So i send messages to broker.</p>\n\n<pre><code>        try\n        {\n            var factory = new ConnectionFactory() {HostName = \"localhost\"};\n            using (var connection = factory.CreateConnection())\n            using (var channel = connection.CreateModel())\n            {\n                channel.QueueDeclare(queue: routingKey, durable: true, exclusive: false, autoDelete: false, arguments: null);\n\n                var properties = channel.CreateBasicProperties();\n                properties.Persistent = true;\n\n                channel.TxSelect();\n                for (int i = 0; i &lt; 10; i++)\n                {\n                    channel.BasicPublish(\"\", routingKey, properties, Encoding.UTF8.GetBytes(\"nop\"));\n                    channel.TxCommit();\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            //handle exception\n            Console.WriteLine(ex);\n        }\n</code></pre>\n\n<p>What I expect is that message will be delivered to broker and persisted to queue. Or exception will occur if something go wrong.</p>\n\n<p>But when I delete queue while messages are publishing nothing happens.</p>\n\n<p>Why transaction is committed without any exception?</p>\n"}, {"tags": ["c#", "wpf", "data-binding", "async-await", "telerik"], "comments": [{"owner": {"reputation": 189, "user_id": 1633740, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b35ee6582fc28c2542458bb7bb152010?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1633740/dominik"}, "edited": false, "score": 0, "creation_date": 1530732495, "post_id": 51179756, "comment_id": 89342117, "body": "The question was more about why it works in the case of GridView."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530732567, "post_id": 51179756, "comment_id": 89342136, "body": "You would need to look into the internals of both controls to figure out what the functional differences are that lead to RadListBox&#39;s limitation. Blind-guess: Perhaps the RadGridView does not support selection, thus it has no qualms if the collection is modified in another thread. The listbox on the other hand could get screwed, if the underlying collection changes while the UI thread might be busy with some work related to ListBox selection. Just guessing, though..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530732872, "post_id": 51179756, "comment_id": 89342232, "body": "Using <code>BindingOperations.EnableCollectionSynchronization</code> as demonstrated in some answers to the duplicate question should do the trick."}, {"owner": {"reputation": 189, "user_id": 1633740, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b35ee6582fc28c2542458bb7bb152010?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1633740/dominik"}, "edited": false, "score": 0, "creation_date": 1530733028, "post_id": 51179756, "comment_id": 89342272, "body": "Fair enough :) But what is the best practice when it comes to loading large amounts of data (every 10 secounds) without hanging UI. What is the point of using async await if you still need to modify the ObservableCollection on the UI thread using invoke?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530733657, "post_id": 51179756, "comment_id": 89342477, "body": "If you want to display a huge amount of items in an ItemsControl (such as a ListBox, for example), the control could become overwhelmed by the sheer number of items. The standard WPF listbox has built-in virtualization support (can be enabled/disabled via the attached property <code>VirtualizingStackPanel.IsVirtualizing</code>). Not sure how precisely Telerik RadListBox supports UI virtualization, though..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1530733974, "post_id": 51179756, "comment_id": 89342562, "body": "async/await allows you to run the task (adding elements to the collection) asynchronously without blocking the UI thread. The modification of the collection has still to be synchronized with the UI though (whether you use Dispatcher. Invoke or EnableCollectionSynchronization). Synchronization does not mean blocking of the UI thread. It means your task is blocked until the UI thread found time to do the action that is synchronized via Invoke/EnableCollectionSynchronization."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1530734129, "post_id": 51179756, "comment_id": 89342613, "body": "If you do not want the UI to be in some intermediate state while you are filling the collection, do not let the <code>Users</code> property return the empty collection. Create the collection and fill it before assigning it to the User property. If you do it this way, don&#39;t forget to signal this change of the <code>Users</code> property via PropertyChanged event."}, {"owner": {"reputation": 189, "user_id": 1633740, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b35ee6582fc28c2542458bb7bb152010?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1633740/dominik"}, "edited": false, "score": 0, "creation_date": 1530736023, "post_id": 51179756, "comment_id": 89343213, "body": "Well explained. Can You write something more, why should not I let empty collection return? In my case, the DataContext is assigned to View with an empty collection. Later after form shown i run method that use async await to add individual elements to the collection."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 189, "user_id": 1633740, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b35ee6582fc28c2542458bb7bb152010?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1633740/dominik"}, "edited": false, "score": 0, "creation_date": 1530736194, "post_id": 51179756, "comment_id": 89343269, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174368/discussion-between-elgonzo-and-dominik\">continue this discussion in chat</a>."}], "owner": {"reputation": 189, "user_id": 1633740, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b35ee6582fc28c2542458bb7bb152010?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1633740/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "closed_date": 1530733902, "answer_count": 0, "score": 0, "last_activity_date": 1530731817, "creation_date": 1530731817, "question_id": 51179756, "link": "https://stackoverflow.com/questions/51179756/why-is-dispatcher-needed-for-radlistbox", "closed_reason": "Duplicate", "title": "Why is dispatcher needed for RadListBox?", "body": "<p>Model:</p>\n\n<pre><code>public class User : INotifyPropertyChanged\n{\n    public override string ToString()\n    {\n        return Username;\n    }\n\n    private Int32 _ID;\n    public Int32 ID\n    {\n        get { return _ID; }\n        set\n        {\n            if (value != _ID)\n            {\n                _ID = value;\n                OnPropertyChanged();\n                OnPropertyChanged(\"ID\");\n            }\n        }\n    }\n\n    private String _Username;\n    public String Username\n    {\n        get { return _Username; }\n        set\n        {\n            if (value != _Username)\n            {\n                _Username = value;\n                OnPropertyChanged();\n                OnPropertyChanged(\"Username\");\n            }\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public virtual void OnPropertyChanged([CallerMemberName]string propertyName = \"\")\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p>DataContext:</p>\n\n<pre><code>public class DC\n{\n    public DC()\n    {\n        Users = new ObservableCollection&lt;User&gt;();\n        Users.Clear();\n    }\n\n    public ObservableCollection&lt;User&gt; Users\n    {\n        get;\n        set;\n    }\n\n    public async void LoadData()\n    {\n        await Task.Run(() =&gt;\n        {\n            // time-consuming load from DB\n            Users.Add(new User() { Username = \"Steve\", ID = 1 });\n            Users.Add(new User() { Username = \"Bill\", ID = 2 });\n        });\n    }\n}\n</code></pre>\n\n<p>App.xaml.cs:</p>\n\n<pre><code>public partial class App : System.Windows.Application\n{ \n    protected override void OnStartup(StartupEventArgs e)\n    {\n        base.OnStartup(e);\n\n        DC dc = new DC();\n        var view = new ViewMain();\n        view.DataContext = dc;\n        view.Show();\n        dc.LoadData();\n    }\n}\n</code></pre>\n\n<p>There are 2 controls in the view: RadGridView and RadListBox.<br>\nWhen i bind ItemsSource=\"{Binding Users}\" to RadGridView - it is working.<br>\nWhen i bind ItemsSource=\"{Binding Users}\" to RadListBox - i get exeption: <br></p>\n\n<blockquote>\n  <p>This type of CollectionView does not support changes to its SourceCollection from a thread different from the Dispatcher thread</p>\n</blockquote>\n\n<p>Why is it not working in this case?<br>\nOf course, I can use App.Current.Dispatcher.Invoke, but i don't know if this is a good solution when I want the view to be thread safe? (like not freezeing on adding a lot of items to ObservableCollection).</p>\n"}, {"tags": ["c#", "android", "debugging", "unity3d", "plugins"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1530753562, "post_id": 51179715, "comment_id": 89346808, "body": "<code>Debug.Log</code> should work fine"}, {"owner": {"reputation": 71, "user_id": 5811932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9767ad40e69ef36a493c052d12adc12a?s=128&d=identicon&r=PG&f=1", "display_name": "boogie_bullfrog", "link": "https://stackoverflow.com/users/5811932/boogie-bullfrog"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1530774689, "post_id": 51179715, "comment_id": 89352410, "body": "@Programmer  Including <code>Debug.Log</code> statements to SpinningCube.cs (Unity code) did not output anything to Android Studio&#39;s logcat -- where would you expect these statements to log to?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1530788760, "post_id": 51179715, "comment_id": 89360977, "body": "You have to filter it with Unity tag. See <a href=\"https://stackoverflow.com/questions/44690357/how-to-create-and-read-log-on-android-devices/44690501#44690501\">this</a> even for many other options you have"}, {"owner": {"reputation": 71, "user_id": 5811932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9767ad40e69ef36a493c052d12adc12a?s=128&d=identicon&r=PG&f=1", "display_name": "boogie_bullfrog", "link": "https://stackoverflow.com/users/5811932/boogie-bullfrog"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1530807134, "post_id": 51179715, "comment_id": 89373265, "body": "@Programmer helpful link. The Unity logs were not showing in Logcat because I was exporting Unity as a Release Build. They showed up once i switched to a Development Build."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1530807203, "post_id": 51179715, "comment_id": 89373308, "body": "Great. Glad you fixed it."}], "owner": {"reputation": 71, "user_id": 5811932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9767ad40e69ef36a493c052d12adc12a?s=128&d=identicon&r=PG&f=1", "display_name": "boogie_bullfrog", "link": "https://stackoverflow.com/users/5811932/boogie-bullfrog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1530731551, "creation_date": 1530731551, "question_id": 51179715, "link": "https://stackoverflow.com/questions/51179715/unity-android-communication-debugging-an-android-java-plugin-while-embedded", "title": "Unity -&gt; Android communication: Debugging an Android Java plugin while embedded", "body": "<p>I have embedded a Unity project into a separate Android app-- \nHow can I debug an AndroidJavaObject call in C# if its embedded (see SpinningCube.cs below)?</p>\n\n<p>Perhaps adding logging statements in the C# portion or attaching to some process?</p>\n\n<p>--</p>\n\n<p><strong>SpinningCube.cs</strong></p>\n\n<pre><code>public class SpinningCube : MonoBehaviour \n{\n    ...\n\n    //Sends dummy data to the receiveResult function in Java\n    void SendResultToJava(float value)\n    {\n        using (AndroidJavaClass javaPlugin = new AndroidJavaClass(\"com.example.my.button.MyPlugin\"))\n        {\n            AndroidJavaObject pluginInstance = javaPlugin.CallStatic&lt;AndroidJavaObject&gt;(\"instance\");\n            pluginInstance.Call(\"receiveResult\", value.ToString());\n        }\n\n    }\n\n    //Called from Java\n    void TestFunction(string dummy_key)\n    {\n        float value = (float)0.9999; \n        SendResultToJava(value); //Send the value to Java\n    }\n}\n</code></pre>\n\n<p>--</p>\n\n<p>I suspect my Android plugin <code>com.example.my.button.MyPlugin</code> is not setup or working properly b/c <code>receiveResult()</code> never seems to be called by Unity and no errors are popping in Android Studio.</p>\n\n<p><strong>MainActivity.java</strong> (<em>Cube</em> is the object name)</p>\n\n<pre><code>    ...\n    MyPlugin.testInstance = MyPlugin.instance();\n    String unity_str = MyPlugin.testInstance.UnitySendMessageExtension(\"Cube\", \"testFunction\",\"dummyKey\");\n</code></pre>\n\n<p><strong>MyPlugin.java</strong></p>\n\n<pre><code>    package com.example.my.button;\n\n    import com.unity3d.player.UnityPlayer;\n\n    public final class MyPlugin\n    {\n        //Make class static variable so that the callback function is sent to one instance of this class.\n        public static MyPlugin testInstance;\n\n        public static MyPlugin instance()\n        {\n            if(testInstance == null)\n            {\n                testInstance = new MyPlugin();\n            }\n            return testInstance;\n        }\n\n        String result = \"\";\n\n\n        public String UnitySendMessageExtension(String gameObject, String functionName, String funcParam)\n        {\n            UnityPlayer.UnitySendMessage(gameObject, functionName, funcParam);\n            String tempResult = result;\n            return tempResult;\n        }\n\n        //Receives result from C# and saves it to result  variable\n        void receiveResult(String value)\n        {\n            result = \"\";//Clear old data\n            result = value; //Get new one\n        }\n    }   \n</code></pre>\n\n<p><em>code adapted from <a href=\"https://stackoverflow.com/a/40088914/5811932\">Programmer's solution</a></em>      </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net", "razor"], "comments": [{"owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1530731411, "post_id": 51179623, "comment_id": 89341860, "body": "Too lengthy to read and understand, can you brief it and the pointers to the problem will be more helpful."}, {"owner": {"reputation": 11, "user_id": 8701759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_im6YDxv3Ro/AAAAAAAAAAI/AAAAAAAAABA/IrKC09cyzQ8/photo.jpg?sz=128", "display_name": "Kohdy Nicholson", "link": "https://stackoverflow.com/users/8701759/kohdy-nicholson"}, "reply_to_user": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1530731674, "post_id": 51179623, "comment_id": 89341905, "body": "@Rohit.007 The controller method is only being called once for each option in list 1. When an option is selected for a second time, it doesn&#39;t call the controller method. Edit: I would just like to add that SomeFunction() is being called everytime an option is selected in list 1. Also the .load() is also being executed successfully. The issue is, the controller method is only called the first time an option from list 1 is selected."}, {"owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1530731827, "post_id": 51179623, "comment_id": 89341951, "body": "Can you share the working code? as the attached code seems not appropriate to debug."}, {"owner": {"reputation": 11, "user_id": 8701759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_im6YDxv3Ro/AAAAAAAAAAI/AAAAAAAAABA/IrKC09cyzQ8/photo.jpg?sz=128", "display_name": "Kohdy Nicholson", "link": "https://stackoverflow.com/users/8701759/kohdy-nicholson"}, "reply_to_user": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "edited": false, "score": 0, "creation_date": 1530732192, "post_id": 51179623, "comment_id": 89342024, "body": "@Rohit.007 Unfortunately I am not sure how I would attach code for someone to copy and use for debugging as it is confidential. I was wondering if it was possibly a caching issue?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8701759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_im6YDxv3Ro/AAAAAAAAAAI/AAAAAAAAABA/IrKC09cyzQ8/photo.jpg?sz=128", "display_name": "Kohdy Nicholson", "link": "https://stackoverflow.com/users/8701759/kohdy-nicholson"}, "edited": false, "score": 0, "creation_date": 1530803014, "post_id": 51191763, "comment_id": 89370691, "body": "I appreciate the answer. I did not know you could specify @onchance directly in the DropDownList! However it turns out the simple solution to this problem was found here <a href=\"https://stackoverflow.com/questions/168963/stop-jquery-load-response-from-being-cached\" title=\"stop jquery load response from being cached\">stackoverflow.com/questions/168963/&hellip;</a>. It was a caching issue, the rendered partial view was being cached for later use."}], "tags": [], "owner": {"reputation": 1643, "user_id": 9177810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziLgX.jpg?s=128&g=1", "display_name": "JamesS", "link": "https://stackoverflow.com/users/9177810/jamess"}, "is_accepted": false, "score": 0, "last_activity_date": 1530795455, "last_edit_date": 1530795455, "creation_date": 1530794999, "answer_id": 51191763, "question_id": 51179623, "link": "https://stackoverflow.com/questions/51179623/jquery-ajax-load-only-hitting-controller-method-once/51191763#51191763", "title": "jQuery AJAX .load() only hitting controller method once", "body": "<p>Add an 'onchange' to the first drop down which calls a javascript function and passes 'this.value' </p>\n\n<pre><code>@Html.DropDownListFor(m =&gt; m.ResultId, new SelectList(The list of objects, \"fieldid\", \"value\"), new { @class = \"form-control HomePageDropDown\", @onchange = \"javascript:GetValues(this.value);\" }) \n</code></pre>\n\n<p>In your javascript function post data you want to the controller (id of the dropdown possibly). In your controller function get the list of objects you want for your next drop down and return it as a Json.</p>\n\n<p>In your ajax result create the markup for a dropdown and pass it to an id in your page.</p>\n\n<pre><code>            var markup = \"&lt;option Value='0'&gt;Select option&lt;/option&gt;\";\n\n            for (var i = 0; i &lt; result.length; i++)\n            {\n                markup += \"&lt;option Value=\" + result[i].Value + \"&gt;\" + result[i].Text + \"&lt;/option&gt;\";\n            }\n\n            $(\"#YOUR ID\").html(markup).show();\n\n\n&lt;select class=\"form-control HomePageDropDown\" data-val=\"true\" id=\"ID\" name=\"NAME\"&gt;&lt;/select&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8701759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_im6YDxv3Ro/AAAAAAAAAAI/AAAAAAAAABA/IrKC09cyzQ8/photo.jpg?sz=128", "display_name": "Kohdy Nicholson", "link": "https://stackoverflow.com/users/8701759/kohdy-nicholson"}, "is_accepted": false, "score": 0, "last_activity_date": 1530803126, "creation_date": 1530803126, "answer_id": 51194628, "question_id": 51179623, "link": "https://stackoverflow.com/questions/51179623/jquery-ajax-load-only-hitting-controller-method-once/51194628#51194628", "title": "jQuery AJAX .load() only hitting controller method once", "body": "<p>After looking into the issue more, I found the solution here: <a href=\"https://stackoverflow.com/questions/168963/stop-jquery-load-response-from-being-cached\">Stop jQuery .load response from being cached</a></p>\n\n<p>Turns out it was a caching issue after all.</p>\n"}], "owner": {"reputation": 11, "user_id": 8701759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_im6YDxv3Ro/AAAAAAAAAAI/AAAAAAAAABA/IrKC09cyzQ8/photo.jpg?sz=128", "display_name": "Kohdy Nicholson", "link": "https://stackoverflow.com/users/8701759/kohdy-nicholson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530803126, "creation_date": 1530730864, "last_edit_date": 1530732325, "question_id": 51179623, "link": "https://stackoverflow.com/questions/51179623/jquery-ajax-load-only-hitting-controller-method-once", "title": "jQuery AJAX .load() only hitting controller method once", "body": "<p>So I've read through some of the other similar questions and can't find one that exactly fits my scenario. I have script tag as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(document).on(\"change\", '[id*=\"SomeId]', function() {\r\n    SomeFunction();\r\n  });\r\n});\r\n\r\nfunction SomeFunction() {\r\n  $(\"SomeOtherId\").load('@(Url.Action(\"ControllerMethod\", \"Controller\", null, Request.Url.Scheme))?numberExample=' + 7);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"col-md-10 mrgn-tp-sm\"&gt;\r\n  @Html.DropDownListFor(model =&gt; model.SomeProperty, (SelectList)Model.SomeOtherProperty, htmlAttributes: new { @id=\"SomeId\", @class=\"form-control\" })\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"SomeOtherId\" class=\"col-md-10 mrgn-tp-sm\"&gt;\r\n  @Html.DropDownListFor(model =&gt; model.SomeEvenOtherProperty, (SelectList)Model.SomeEvenOtherOtherProperty, htmlAttributes: new { @class=\"form-control\" })\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So my goal is when the user selects a different option from the first dropdown list, the second dropdown list will dynamically change. This happens when the .load() function is called.</p>\n\n<p>Here is what is happening. I place a breakpoint at the beginning of the method in my controller. When I start the application, I go to this page and select an option from the first dropdown list. <code>SomeFunction()</code> is invoked and the .load() on the <code>SomeOtherId</code> div is run, which results in the breakpoint being hit. The controller method renders a partial view containing another list like this <code>@Html.DropDownListFor(model =&gt; model.SomeEvenOtherProperty, (SelectList)Model.SomeEvenOtherOtherProperty, htmlAttributes: new { @class = \"form-control\" })</code> in place of the old one. Now if I select a different option from the first dropdown list, again, the breakpoint will be hit and the second dropdown list will be updated. </p>\n\n<p>The issue arises when I go back to select my first option, the breakpoint is not hit, however the list is still updated. I need to hit that breakpoint EVERYTIME, however it seems that it only actually calls the controller method once. I have debugged through the Javascript and can confirm that the <code>SomeFunction()</code> is called everytime. I have also tried putting a callback with an alert to confirm the .load() function is executing successfully. This problem persists even after the page is reloaded. The only way I can hit that breakpoint twice for the one option is if I:</p>\n\n<ol>\n<li>Restart the application.</li>\n<li>Inspect Element -> Console.</li>\n</ol>\n\n<p>Oddly enough, when I inspect element on the page, it will hit the breakpoint more than once for a specific option.</p>\n\n<p><strong>Extra Details:</strong></p>\n\n<p>So in simpler terms, the second dropdown is supposed to contain a different set of options depending on what option is chosen in the first list. However, if the user chooses to save a new entity containing a combination of Option 2 from List 1 and Option 2 from List 2, they should not be able to save another entity with that same combination. </p>\n\n<p>So because this issue persists until the application is restarted, it allows a user to create the same combination TWICE, because the old list is being rendered in place of the second dropdown list. The purpose of the controller method is to render a filtered list by making a quick call to the DB to find out what combinations exist. If the user has saved Option 2 from List 1 and Option 2 from List 2 to the DB, when they go back to create another combination they should not be displayed Option 2 in List 2 if they choose Option 2 from List 1. However because the controller method is only being called the first time they create the combination, when they decide to create a another combination for Option 2 from List 1, it will render the old list, displaying Option 2 from List 2.</p>\n"}, {"tags": ["c#", "network-programming", "wmi", "remote-desktop"], "comments": [{"owner": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "edited": false, "score": 0, "creation_date": 1530743763, "post_id": 51179560, "comment_id": 89345235, "body": "does the user which you are using to connect to the remote machine have access to the shared resource??"}, {"owner": {"reputation": 11, "user_id": 10033361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nu94VvXVc94/AAAAAAAAAAI/AAAAAAAAAwc/Zf757ZGOrSI/photo.jpg?sz=128", "display_name": "hari prasad", "link": "https://stackoverflow.com/users/10033361/hari-prasad"}, "reply_to_user": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "edited": false, "score": 0, "creation_date": 1530768783, "post_id": 51179560, "comment_id": 89349652, "body": "Yes NicoRiff , user does have access to shared resource from remote machine. In fact I was able to successfully run batch file operation with shared path if launch it from remote machine."}], "owner": {"reputation": 11, "user_id": 10033361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nu94VvXVc94/AAAAAAAAAAI/AAAAAAAAAwc/Zf757ZGOrSI/photo.jpg?sz=128", "display_name": "hari prasad", "link": "https://stackoverflow.com/users/10033361/hari-prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530740440, "creation_date": 1530730452, "last_edit_date": 1530740440, "question_id": 51179560, "link": "https://stackoverflow.com/questions/51179560/unable-to-access-network-path-using-wmi-managementclass-invokemethod", "title": "Unable to access network path using WMI managementClass.InvokeMethod", "body": "<p>I have been trying to launch text pad installation from network path to a remote machine using <code>WMI managementclass.InvokeMethod</code>.<br>\nHowever several attempts have failed with </p>\n\n<blockquote>\n  <p>error code 1602</p>\n</blockquote>\n\n<p>So I created a batch file containing script to launch installation  executable from network path in a remote machine, and tried to invoke it with <code>managementclass.InvokeMethod</code>.<br>\nHowever, even this didn't work. </p>\n\n<p>I tried the same by changing the executable from network path to remote machine <code>C:\\path</code>.<br>\nAnd it worked!!!</p>\n\n<p>But I want to launch the installation executable from a network path.</p>\n\n<p>I would be grateful if somebody would help me.</p>\n"}, {"tags": ["c#", "expression"], "comments": [{"owner": {"reputation": 916, "user_id": 9678775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neZ2Y.jpg?s=128&g=1", "display_name": "Vladi Pavelka", "link": "https://stackoverflow.com/users/9678775/vladi-pavelka"}, "edited": false, "score": 2, "creation_date": 1530730399, "post_id": 51179506, "comment_id": 89341526, "body": "possible duplicate of: <a href=\"https://stackoverflow.com/q/5707561/9678775\">stackoverflow.com/q/5707561/9678775</a> (DateTime is a value type (struct). It is wrapped into the Convert() to do the boxing)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 2, "creation_date": 1530730543, "post_id": 51179506, "comment_id": 89341568, "body": "Note that DateTime is a <code>struct</code> (a value type). To handle it like an object (i.e., reference type), it needs to be boxed (i.e., converted/boxed into a reference type). That is basically what the expression in the debugger tooltip hints at. See here about boxing: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/boxing-and-unboxing\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/typ&zwnj;&#8203;es/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2252, "user_id": 7510463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWE8T.jpg?s=128&g=1", "display_name": "Fabulous", "link": "https://stackoverflow.com/users/7510463/fabulous"}, "reply_to_user": {"reputation": 734, "user_id": 6176919, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dbf2bb3daee58f0ee7d27914d54469cf?s=128&d=identicon&r=PG&f=1", "display_name": "Scarass", "link": "https://stackoverflow.com/users/6176919/scarass"}, "edited": false, "score": 2, "creation_date": 1530730899, "post_id": 51179592, "comment_id": 89341682, "body": "<code>Post.AuthorId</code> is a <code>string</code> which is a reference type."}], "tags": [], "owner": {"reputation": 2252, "user_id": 7510463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWE8T.jpg?s=128&g=1", "display_name": "Fabulous", "link": "https://stackoverflow.com/users/7510463/fabulous"}, "is_accepted": false, "score": 2, "last_activity_date": 1530730707, "creation_date": 1530730707, "answer_id": 51179592, "question_id": 51179506, "link": "https://stackoverflow.com/questions/51179506/c-expression-gets-converted-into-different-expression-by-itself/51179592#51179592", "title": "C# expression gets converted into different expression by itself", "body": "<p>You're likely running into boxing issues. <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/boxing-and-unboxing\" rel=\"nofollow noreferrer\">The documentation</a> has more on that, but basically boxing is the process of converting a value type (like your <code>DateTime</code>) to an <code>object</code>. It is an implicit conversion and would explain why you are seeing that behavior. If that is undesirable, you'd be better of using the type in your expression.</p>\n"}], "owner": {"reputation": 734, "user_id": 6176919, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dbf2bb3daee58f0ee7d27914d54469cf?s=128&d=identicon&r=PG&f=1", "display_name": "Scarass", "link": "https://stackoverflow.com/users/6176919/scarass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1530730707, "creation_date": 1530730129, "last_edit_date": 1530730414, "question_id": 51179506, "link": "https://stackoverflow.com/questions/51179506/c-expression-gets-converted-into-different-expression-by-itself", "title": "C# expression gets converted into different expression by itself", "body": "<p>I have a following model class:</p>\n\n<pre><code>public class Post\n{\n    public long Id { get; set; }\n    public string AuthorId { get; set; }\n    public DateTime CreatedAt { get; set; }\n    public string Text { get; set; }\n\n    public User Author { get; set; }\n    public IReadOnlyCollection&lt;PostRating&gt; Ratings { get; set; }\n\n    public IReadOnlyCollection&lt;PostAction&gt; UserPermissions { get; set; }\n}\n</code></pre>\n\n<p>I need to expose some properties using expressions, and everything seems to be ok with all properties besides with CreatedAt. When I need to expose that one, the expression somehow gets converted into a somewhat different expression.</p>\n\n<p>I think it's best if just show picture of my code, and the values that the debugger sees.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lpbL9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lpbL9.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, something strange had happened to that CreatedAt property expresssion.\nBut if I change type of that expression to <code>Expression&lt;Func&lt;Post, DateTime&gt;&gt;</code>, it works.</p>\n"}, {"tags": ["c#", "selenium", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530730625, "post_id": 51179474, "comment_id": 89341603, "body": "Can you try by this Xpath instead of class name - <code>.&#47;&#47;*[@id=&#39;app&#39;]&#47;div&#47;div[2]&#47;div&#47;div&#47;div</code>"}, {"owner": {"reputation": 31, "user_id": 2271920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6ee0dd63da5a6763e798b4d4392769?s=128&d=identicon&r=PG", "display_name": "Sam Van Gorden", "link": "https://stackoverflow.com/users/2271920/sam-van-gorden"}, "reply_to_user": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530908042, "post_id": 51179474, "comment_id": 89415313, "body": "That gives me one element with a tag type of anchor and text=&quot;Start trading now&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 623, "user_id": 1268668, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/85671c3a11b96b33bb7518d1b004d105?s=128&d=identicon&r=PG", "display_name": "Raghavendra Bankapur", "link": "https://stackoverflow.com/users/1268668/raghavendra-bankapur"}, "is_accepted": false, "score": 0, "last_activity_date": 1530756322, "creation_date": 1530756322, "answer_id": 51182527, "question_id": 51179474, "link": "https://stackoverflow.com/questions/51179474/elements-not-getting-populated-using-selenium-c-with-page-scrolling-in-chrome/51182527#51182527", "title": "Elements not getting populated using Selenium C# with page scrolling in Chrome", "body": "<p>It should ideally work with scroll. Check if there is any job event being triggered when you scroll. If so, try to invoke that function from IJavaScripExecutor. That should also load you with your elements.</p>\n"}], "owner": {"reputation": 31, "user_id": 2271920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6ee0dd63da5a6763e798b4d4392769?s=128&d=identicon&r=PG", "display_name": "Sam Van Gorden", "link": "https://stackoverflow.com/users/2271920/sam-van-gorden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530756322, "creation_date": 1530729941, "question_id": 51179474, "link": "https://stackoverflow.com/questions/51179474/elements-not-getting-populated-using-selenium-c-with-page-scrolling-in-chrome", "title": "Elements not getting populated using Selenium C# with page scrolling in Chrome", "body": "<p>The website I'm trying to scrape is <a href=\"https://hitbtc.com/market-overview/overview\" rel=\"nofollow noreferrer\">https://hitbtc.com/market-overview/overview</a>.</p>\n\n<p>I am trying to get cryptocurrency coin pairs from the page by accessing the following html (and other similar html for other coin pairs):</p>\n\n<pre><code>&lt;div class=\"ReactVirtualized__Table__row ReactVirtualized__Row__odd ReactVirtualized__Table__row ReactVirtualized__Row__odd animation__redToWhite--2EMEW\" role=\"row\" style=\"height: 30px; left: 0px; position: absolute; top: 0px; width: 1202px; overflow: hidden; padding-right: 0px;\"&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" style=\"flex: 0 1 200px; overflow: hidden;\"&gt;\n        **&lt;a href=\"/BTC-to-USDT\" style=\"color: rgb(55, 71, 79); text-decoration: none;\"&gt;BTC/USDT&lt;/a&gt;**\n    &lt;/div&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" style=\"flex: 0 1 200px; overflow: hidden;\"&gt;\n        &lt;div&gt;\n            &lt;div class=\"styles__imgUp--1O8Kn\"&gt;&lt;/div&gt;\n            1.92%\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" title=\"\u20ae 59 843 794\" style=\"flex: 0 1 200px; overflow: hidden;\"&gt;\u20ae 59 843 794&lt;/div&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" title=\"\u20ae 6780.73\" style=\"flex: 0 1 200px; overflow: hidden;\"&gt;\u20ae 6780.73&lt;/div&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" title=\"\u20ae 6486.82\" style=\"flex: 0 1 200px; overflow: hidden;\"&gt;\u20ae 6486.82&lt;/div&gt;\n    &lt;div class=\"ReactVirtualized__Table__rowColumn\" role=\"gridcell\" title=\"\u20ae 6833.25\" style=\"flex: 0 1 220px; overflow: hidden;\"&gt;\u20ae 6833.25&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to get the text from the first  tag, which should give me \"BTC/USDT\".  I found that by using Selenium's Driver.FindElements() I would only get the first 29 elements (i.e. the ones that are displayed without doing any scrolling).  Because of this I tried implementing a do-while loop to scroll down the page, obtaining element lists and appending them to a master list until the previously obtained list is the same as the current list (bottom of the page reached).  Here is my code:</p>\n\n<pre><code>List&lt;IWebElement&gt; totalElemList = new List&lt;IWebElement&gt;();\nList&lt;IWebElement&gt; elementList = new List&lt;IWebElement&gt;();\nList&lt;IWebElement&gt; prevList = new List&lt;IWebElement&gt;();\n\ndo\n{\n    prevList.Clear();\n    prevList.AddRange(elementList);\n    totalElemList.AddRange(prevList);\n    var infoList = RetryingFind(By.ClassName(\"ReactVirtualized__Table__row\"));\n    foreach (var element in infoList)\n    {\n        elementList.Add(element.FindElement(By.TagName(\"a\")));\n    }\n    Thread.Sleep(10000);\n    ((IJavaScriptExecutor)Browser.Driver).ExecuteScript(\"arguments[0].scrollIntoView(true);\", elementList[elementList.Count - 1]);\n}\nwhile (prevList != elementList);\n</code></pre>\n\n<p>However, elementList is not getting populated with any elements for some reason.  I added the Thread.Sleep() trying different sleep times up to 10 sec but it didn't fix the issue.  Then the ExecuteScript() line fails because it's trying to access index -1 of elementList, since its Count is 0.</p>\n\n<p>I'm having trouble understanding why I was able to populate the element list before with at least some of the elements on the page, but when I use the do-while loop I get nothing.  Any thoughts?    </p>\n"}, {"tags": ["c#", "asp.net", "iis", "kerberos"], "comments": [{"owner": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1530730488, "post_id": 51179437, "comment_id": 89341551, "body": "I like the topic, unfortuantely it&#39;s seems <a href=\"https://www.google.com/search?q=asp.net+core+kerberos\" rel=\"nofollow noreferrer\">overly broad</a>. Additionally, you&#39;ll need to expand on &quot;custom&quot;."}, {"owner": {"reputation": 45, "user_id": 9966593, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300220180105337/picture?type=large", "display_name": "Pradeepta Choudhury", "link": "https://stackoverflow.com/users/9966593/pradeepta-choudhury"}, "reply_to_user": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1530730764, "post_id": 51179437, "comment_id": 89341642, "body": "custom in the sense , I want to have a method that will get the session ticket using its spn,then it will decrypt the spn and file the role of the users"}, {"owner": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1530731102, "post_id": 51179437, "comment_id": 89341767, "body": "So is the preference for <code>Kerberos</code> based on Windows/Domain accounts? <i>If not</i>, you can have <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authorization/?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">accounts and roles</a>."}, {"owner": {"reputation": 45, "user_id": 9966593, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300220180105337/picture?type=large", "display_name": "Pradeepta Choudhury", "link": "https://stackoverflow.com/users/9966593/pradeepta-choudhury"}, "reply_to_user": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1530731202, "post_id": 51179437, "comment_id": 89341802, "body": "yes based on windows account"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1530748748, "post_id": 51179437, "comment_id": 89346087, "body": "Nothing is impossible, especially when you would like to do your own implementation. However, SPN is not something you can configure on your local machine, unless you implement your own Kerberos stack (more than just an IIS module). Like the other comment indicated, it is simply too broad to discuss, as who knows whether you have the capabilities to do a real implementation of such a complex protocol."}], "owner": {"reputation": 45, "user_id": 9966593, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300220180105337/picture?type=large", "display_name": "Pradeepta Choudhury", "link": "https://stackoverflow.com/users/9966593/pradeepta-choudhury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530729740, "creation_date": 1530729740, "question_id": 51179437, "link": "https://stackoverflow.com/questions/51179437/configuring-spn-for-iis-on-local-computer", "title": "configuring spn for iis on local computer", "body": "<p>I want to make use of Kerberos authentication on asp.net core web application . But I want to do the custom implementation of Kerberos .I don't want to just enable the windows authentication on iis . Is it possible ? if yes how to configure spn in iis on local computer?</p>\n"}, {"tags": ["c#", ".net", ".net-core"], "comments": [{"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1530729676, "post_id": 51179331, "comment_id": 89341274, "body": "Try import the <code>System.Runtime.Extensions.dll</code> from dotnetcore. If you have problems with classes with the same name, because .net framework already have a <code>System.IO</code> namespace, check <a href=\"https://stackoverflow.com/a/3672987/5762332\">this answer</a>"}, {"owner": {"reputation": 2544, "user_id": 2746150, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gbzBn.jpg?s=128&g=1", "display_name": "Anton Krouglov", "link": "https://stackoverflow.com/users/2746150/anton-krouglov"}, "reply_to_user": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 1, "creation_date": 1530735351, "post_id": 51179331, "comment_id": 89343017, "body": "@Magnetron How do I <i>import the System.Runtime.Extensions.dll from dotnetcore</i>?"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1530749118, "post_id": 51179331, "comment_id": 89346141, "body": "Yeah, it was just a thought because that&#39;s the assembly the article says it belongs to. I tried here but I couldn&#39;t do it. The nuget version gave me no classes, so I built a dotnet core app to pick the assembly, it gave me some classes but didn&#39;t gave me the Path class."}], "answers": [{"comments": [{"owner": {"reputation": 2544, "user_id": 2746150, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gbzBn.jpg?s=128&g=1", "display_name": "Anton Krouglov", "link": "https://stackoverflow.com/users/2746150/anton-krouglov"}, "edited": false, "score": 0, "creation_date": 1530734964, "post_id": 51180239, "comment_id": 89342882, "body": "Yeah, yet another variant of <a href=\"https://stackoverflow.com/questions/275689/how-to-get-relative-path-from-absolute-path\" title=\"how to get relative path from absolute path\">stackoverflow.com/questions/275689/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": false, "score": 9, "last_activity_date": 1530734847, "creation_date": 1530734847, "answer_id": 51180239, "question_id": 51179331, "link": "https://stackoverflow.com/questions/51179331/is-it-possible-to-use-path-getrelativepath-net-core2-in-winforms-proj-targeti/51180239#51180239", "title": "Is it possible to use Path.GetRelativePath (.NET Core2) in WinForms proj targeting 4.7.1?", "body": "<p>A workaround: If for some reason, the Core library cannot be referenced or called at runtime, you can implement the function yourself, it is quite simple:</p>\n\n<pre><code>public string GetRelativePath(string relativeTo, string path)\n{\n    var uri = new Uri(relativeTo);\n    var rel = Uri.UnescapeDataString(uri.MakeRelativeUri(new Uri(path)).ToString()).Replace(Path.AltDirectorySeparatorChar, Path.DirectorySeparatorChar);\n    if (rel.Contains(Path.DirectorySeparatorChar.ToString()) == false)\n    {\n        rel = $\".{ Path.DirectorySeparatorChar }{ rel }\";\n    }\n    return rel;\n}\n</code></pre>\n"}], "owner": {"reputation": 2544, "user_id": 2746150, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gbzBn.jpg?s=128&g=1", "display_name": "Anton Krouglov", "link": "https://stackoverflow.com/users/2746150/anton-krouglov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2789, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1545832897, "creation_date": 1530729159, "last_edit_date": 1545832897, "question_id": 51179331, "link": "https://stackoverflow.com/questions/51179331/is-it-possible-to-use-path-getrelativepath-net-core2-in-winforms-proj-targeti", "title": "Is it possible to use Path.GetRelativePath (.NET Core2) in WinForms proj targeting 4.7.1?", "body": "<p>This seems to be a pretty simple question, yet googling yield nothing useful.</p>\n\n<p>I have VS2017 WinForms C# project targeting .NET Framework 4.7.1. </p>\n\n<p>I would like to make use of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.path.getrelativepath\" rel=\"nofollow noreferrer\">Path.GetRelativePath</a> from <a href=\"https://github.com/dotnet/corefx/blob/master/src/Common/src/CoreLib/System/IO/Path.cs#L697\" rel=\"nofollow noreferrer\">.NET Core 2.X</a>.</p>\n\n<p>Is it achievable (nuget package or something)?</p>\n\n<p>PS. For those who are lazy to port .NET Core code themselves here is <a href=\"https://gist.github.com/antonKrouglov/07ccc117cb8c30ad8994446a86c062e5\" rel=\"nofollow noreferrer\">my adapted version of it</a>.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "answers": [{"comments": [{"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1530746527, "post_id": 51180183, "comment_id": 89345686, "body": "It works for binding, although we lose binding intellisense. I&#39;m however using a MethodBinding extension and that fails with this syntax: OnMediaLoaded=&quot;{wpf:MethodBinding {RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}, Viewer_MediaLoaded}&quot;&gt; Any better solution?"}, {"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 1, "creation_date": 1530747564, "post_id": 51180183, "comment_id": 89345902, "body": "Found another solution. I set the name UI on my window, expose a typed property ViewModel in code-behind (public MainViewModel ViewModel =&gt; DataContext as MainViewModel;) and then use {Binding ViewModel.Value1, ElementName=UI}. Much shorter syntax and it&#39;s strongly-typed."}, {"owner": {"reputation": 90, "user_id": 4810544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d71578f411c93fda54f4ce52330798?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri Baliev", "link": "https://stackoverflow.com/users/4810544/dmitri-baliev"}, "reply_to_user": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1530768000, "post_id": 51180183, "comment_id": 89349399, "body": "@Etienne Charland I tried different variants, but it seems intellisense for some reason does not know DesignTime type of the window DataContext. I find exposing the type of ViewModel in code behind is not very clean, but no other solution worked with intellisense. Even exposing DataContext as ViewModelBase does not give intellisense."}, {"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1530809085, "post_id": 51180183, "comment_id": 89374325, "body": "Of course, because DataContext is of type Object and ViewModelBase is of type... ViewModelBase, and it exposes properties as such."}, {"owner": {"reputation": 90, "user_id": 4810544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d71578f411c93fda54f4ce52330798?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri Baliev", "link": "https://stackoverflow.com/users/4810544/dmitri-baliev"}, "reply_to_user": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1530810268, "post_id": 51180183, "comment_id": 89374945, "body": "@EtienneCharland when ViewModels are exposed as ViewModelBase properties in ViewModelLocator, intellisense still recognises the concrete design-type of the ViewModel. As I understand, it uses reflection to get all properties on an object. So I don&#39;t get, why it doesn&#39;t work in other cases."}], "tags": [], "owner": {"reputation": 90, "user_id": 4810544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d71578f411c93fda54f4ce52330798?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri Baliev", "link": "https://stackoverflow.com/users/4810544/dmitri-baliev"}, "is_accepted": true, "score": 1, "last_activity_date": 1530734496, "creation_date": 1530734496, "answer_id": 51180183, "question_id": 51179204, "link": "https://stackoverflow.com/questions/51179204/mvvm-bind-to-page-datacontext-from-tabcontrol/51180183#51180183", "title": "MVVM Bind to Page.DataContext from TabControl", "body": "<p>You can use RelativeSource Binding with Mode set to FindAncestor. This will allow you to bind to the DataContext of your window (or any other element that contains your tab control) without knowing anything about it.</p>\n\n<p>I set up a simple example based on your description.\nI have 2 simple  View Models:</p>\n\n<pre><code>public class MainViewModel : ViewModelBase\n{\n    public double Zoom { get; } = 1;\n}\n\npublic class TabViewModel : ViewModelBase\n{\n    public double Zoom { get; } = 2;\n}\n</code></pre>\n\n<p>And here is the content of my xaml:</p>\n\n<pre><code>&lt;Window\n...blah blah blah...\nDataContext=\"{Binding Main, Source={StaticResource Locator}}\"\n&gt;\n&lt;Grid&gt;\n    &lt;TabControl&gt;\n        &lt;TabItem DataContext=\"{Binding Tab, Source={StaticResource Locator}}\" Header=\"TabItem\"&gt;\n            &lt;StackPanel&gt;\n                &lt;Label Content=\"{Binding DataContext.Zoom, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}\" /&gt;\n                &lt;Label Content=\"{Binding Zoom}\" /&gt;\n            &lt;/StackPanel&gt;\n        &lt;/TabItem&gt;\n    &lt;/TabControl&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>The first label gets it's value from the MainViewModel, and the second - from the TabViewModel.</p>\n\n<p>The one downside I found is design time data for such a binding does not work properly. This can be solved by providing a fallback value.</p>\n\n<p>Hope this solves your problem.</p>\n"}], "owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 51180183, "answer_count": 1, "score": 0, "last_activity_date": 1530734496, "creation_date": 1530728464, "question_id": 51179204, "link": "https://stackoverflow.com/questions/51179204/mvvm-bind-to-page-datacontext-from-tabcontrol", "title": "MVVM Bind to Page.DataContext from TabControl", "body": "<p>I'm structuring my WPF application using MVVM Light and am creating the ViewModel using the IOC.</p>\n\n<p>The page initializes its DataContext like this:</p>\n\n<pre><code>DataContext=\"{Binding Main, Source={StaticResource Locator}}\"\n</code></pre>\n\n<p>A TabControl has its content bound to another ViewModel, so binding from within the TabControl will access the tab ViewModel by default.</p>\n\n<p>Now, how can I instead access the page ViewModel in XAML?</p>\n\n<p>Before switching to use IOC, the ViewModel was created as a StaticResource and I could access it like this</p>\n\n<pre><code>Zoom=\"{Binding Zoom, Source={StaticResource ViewModel}, Mode=TwoWay}\"\n</code></pre>\n\n<p>Then I could also access it via the Locator, however I don't like this syntax as what happens if this ViewModel instance was created with a key? I don't think the content binding should care about such details.</p>\n\n<pre><code>Zoom=\"{Binding Main.Zoom, Source={StaticResource Locator}, Mode=TwoWay}\"\n</code></pre>\n\n<p>What's the right way of doing it?</p>\n"}, {"tags": ["c#", "forms", "visual-studio", "maximize"], "comments": [{"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "edited": false, "score": 1, "creation_date": 1530728151, "post_id": 51179094, "comment_id": 89352709, "body": "&gt; You can use Dock and anchor property of your controls to achieve what &gt; you want <b>Refer <a href=\"https://stackoverflow.com/questions/26581535/what-is-the-difference-between-dock-and-anchor\">this</a></b>"}, {"owner": {"reputation": 47, "user_id": 9542263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/av9ZD.png?s=128&g=1", "display_name": "Customizer", "link": "https://stackoverflow.com/users/9542263/customizer"}, "edited": false, "score": 0, "creation_date": 1530734598, "post_id": 51179094, "comment_id": 89342762, "body": "C# tag and VBA?  Which is it?"}], "owner": {"reputation": 27, "user_id": 9996190, "user_type": "registered", "profile_image": "https://graph.facebook.com/1946109732100648/picture?type=large", "display_name": "Rafael Ferronato", "link": "https://stackoverflow.com/users/9996190/rafael-ferronato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530750989, "creation_date": 1530727936, "last_edit_date": 1530750989, "question_id": 51179094, "link": "https://stackoverflow.com/questions/51179094/how-can-i-do-to-the-buttons-follow-the-maximize-size-of-the-screen-in-visual-bas", "title": "How can i do to the buttons follow the maximize size of the screen in Visual Basic?", "body": "<p>I developed a form in the size : 810;450 but i want to use it maximized. The problem is: i need that the components,that are inside the form, to fit in the screen maximized aswell. </p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "edited": false, "score": 2, "creation_date": 1530727965, "post_id": 51179053, "comment_id": 89340638, "body": "Please have a try catch around your code, and iterate through validation errors as described <a href=\"https://stackoverflow.com/a/7798264/4636715\">here</a>. Then, share the details. That would be extremely useful."}, {"owner": {"reputation": 905, "user_id": 5029185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce81e947c350f1cea1349896788ce1b4?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Raza", "link": "https://stackoverflow.com/users/5029185/asif-raza"}, "edited": false, "score": 0, "creation_date": 1530728582, "post_id": 51179053, "comment_id": 89340845, "body": "Its simple , please check length of character you are inserting in db. Match datatype and length of colum."}, {"owner": {"reputation": 21, "user_id": 6447288, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208285092476749/picture?type=large", "display_name": "Osama Elayan", "link": "https://stackoverflow.com/users/6447288/osama-elayan"}, "edited": false, "score": 0, "creation_date": 1530735030, "post_id": 51179053, "comment_id": 89342900, "body": "I&#39;m sorry but thats not helping"}], "owner": {"reputation": 21, "user_id": 6447288, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208285092476749/picture?type=large", "display_name": "Osama Elayan", "link": "https://stackoverflow.com/users/6447288/osama-elayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1530728585, "answer_count": 0, "score": 0, "last_activity_date": 1530727749, "creation_date": 1530727749, "question_id": 51179053, "link": "https://stackoverflow.com/questions/51179053/validation-failed-for-one-or-more-entities-see-entityvalidationerrors-propert", "closed_reason": "Duplicate", "title": "Validation failed for one or more entities. See &#39;EntityValidationErrors&#39; property for more details help me pleas", "body": "<p>Hi I cant seem to understand what's the problem here\nI keep getting this error message I tried using the debugger but it seems like its all working the way its supposed to\n but still it doesn't work  here's the code</p>\n\n<pre><code>protected void btnSave_Click(object sender, EventArgs e)\n{\n    newsParagraf n = new newsParagraf();\n    n.headTitle = txtHeader.Text;\n    n.Article = txtArticle.Text;\n    n.vids = txtVidLink.Text;\n\n    string photoName = \"\";\n    string extension = \"\";\n\n    if (FuPhoto.HasFile)\n    {\n        photoName = Guid.NewGuid().ToString();\n        extension = System.IO.Path.GetExtension(FuPhoto.PostedFile.FileName);\n    }\n    else\n    {\n        photoName = \"Default\";\n        extension = \"jpg\";\n    }\n    string fileName = photoName + \".\" + extension;\n    n.img = fileName;\n    db.newsParagrafs.Add(n);\n    db.SaveChanges();\n    FuPhoto.SaveAs(Server.MapPath(\"~/images/\" + fileName))\n    txtArticle.Text = string.Empty;\n    txtHeader.Text = string.Empty;\n    txtVidLink.Text = string.Empty;\n    Search();\n    mvArtical.ActiveViewIndex = 0;\n}\n</code></pre>\n\n<p>please help me am using entity framework on webforms </p>\n"}, {"tags": ["c#", "mysql", "devexpress", "checkedlistbox"], "comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1531244944, "post_id": 51178966, "comment_id": 89520892, "body": "That must mean that <code>value</code> is always true.   Is <code>OptActive</code> a <code>BIT</code> in the database?"}, {"owner": {"reputation": 21, "user_id": 6789437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209162949644515/picture?type=large", "display_name": "RickV", "link": "https://stackoverflow.com/users/6789437/rickv"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1531245103, "post_id": 51178966, "comment_id": 89520972, "body": "Yes, it is a <code>BIT</code> in database, but how can value always be true? If I&#39;m saying that it must get the value of the item if is checked or not, thanks to the <code>GetItemCheckState</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6789437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209162949644515/picture?type=large", "display_name": "RickV", "link": "https://stackoverflow.com/users/6789437/rickv"}, "edited": false, "score": 0, "creation_date": 1531248013, "post_id": 51271560, "comment_id": 89522240, "body": "I don&#39;t think there will be a problem with the injection, because I&#39;m doing this while using a checkedlistboxcontrol and a pre-set id, although I will change the format if necessary, going to try out your solution now."}, {"owner": {"reputation": 21, "user_id": 6789437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209162949644515/picture?type=large", "display_name": "RickV", "link": "https://stackoverflow.com/users/6789437/rickv"}, "edited": false, "score": 0, "creation_date": 1531248329, "post_id": 51271560, "comment_id": 89522385, "body": "Ok Just triend and yes because I was sending a <code>String</code> value to the <code>Bit</code> type column I was having that everything was saved as true, Thank you a lot."}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "reply_to_user": {"reputation": 21, "user_id": 6789437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209162949644515/picture?type=large", "display_name": "RickV", "link": "https://stackoverflow.com/users/6789437/rickv"}, "edited": false, "score": 0, "creation_date": 1531248513, "post_id": 51271560, "comment_id": 89522450, "body": "Also, using parameters gets you in the habit of writing better code, and forces you to properly respect data types.  Just a good all-around practice to get into."}], "tags": [], "owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "is_accepted": true, "score": 0, "last_activity_date": 1531245689, "creation_date": 1531245689, "answer_id": 51271560, "question_id": 51178966, "link": "https://stackoverflow.com/questions/51178966/checkedlistboxcontrol-devexpress-c-saving-all-items-in-mysql-database/51271560#51271560", "title": "CheckedListBoxControl Devexpress C# ---- Saving all items in MysQL Database", "body": "<p>First of all, use query parameters.  Your current code is dangerous.  Look up \"SQL Injection\" if you aren't sure why I say that.</p>\n\n<p>Now, using parameters, you'd have this:</p>\n\n<pre><code>var query = \"INSERT INTO TblSecProfile (Id, OptActive, SecOptionId) VALUES (@id, @optActive, @secOptionId)\";\n</code></pre>\n\n<p>And later...</p>\n\n<pre><code>comm.Parameters.Add(\"@id\", MySqlDbType.Int32).Value = id;\ncomm.Parameters.Add(\"@optActive\", MySqlDbType.Bit).Value = value;\ncomm.Parameters.Add(\"@secOptionId\", MySqlDbType.Int32).Value = opti;\ncomm.ExecuteNonQuery();\n</code></pre>\n\n<p>My guess is that because you are supplying a <code>String</code> value to the <code>BIT</code> typed column in the query, conversion is taking over and converting everything to <code>TRUE</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 6789437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209162949644515/picture?type=large", "display_name": "RickV", "link": "https://stackoverflow.com/users/6789437/rickv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 51271560, "answer_count": 1, "score": 1, "last_activity_date": 1531245689, "creation_date": 1530727328, "last_edit_date": 1531244682, "question_id": 51178966, "link": "https://stackoverflow.com/questions/51178966/checkedlistboxcontrol-devexpress-c-saving-all-items-in-mysql-database", "title": "CheckedListBoxControl Devexpress C# ---- Saving all items in MysQL Database", "body": "<p>Ok This is a new edit of this question, as you will see in my code below I make it so that I iterate through each item and then it is supposed to get the checked and unchecked value of each item and then save them in my MySql database, but well, the moment I save it does save but all items are saved in <strong>boolean true</strong>, not the boolean I'm assigning which is supposed to be <strong>Boolean value</strong>.\nMeaning that if an item is checked the boolean should be true while an item isn't checked the boolean should be false, and that is supposed to be saved, but... well it saves <strong>everything</strong> in true.\nHow can I solve this problem I'm having?</p>\n\n<pre><code>private void SbtnGuarda_Click(object sender, EventArgs e)\n    {\n        try\n        {\n            String id = txtId.Text.Trim();               \n            for (int i = 0; i &lt; CLBCpermits.ItemCount; i++)\n            {\n                object Row = CLBCpermits.GetItem(i);\n                DataRowView rew = Row as DataRowView;\n                Boolean value = Convert.ToBoolean(CLBCpermits.GetItemCheckState((int)rew[\"SecOptionId\"] - 1));\n                int opti = (int)rew[\"SecOptionId\"];                   \n                string qry = string.Format(\"INSERT INTO TblSecProfile (Id, OptActive, SecOptionId) VALUES ('{0}', '{1}', '{2}');\", id, value, opti);\n                using (MySqlConnection conn = new MySqlConnection(Global.ConnectionStringMySql))\n                {\n                    conn.Open();\n\n                    using (MySqlCommand comm = new MySqlCommand(qry, conn))\n                    {\n                        comm.ExecuteNonQuery();\n                    }\n\n                    conn.Close();\n                }      \n            }\n\n            XtraMessageBox.Show(\"Permits assigned to profile\", \"Process Finished\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n            SbtnGuarda.Enabled = false;\n            SbtnActualiza.Enabled = true;\n\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message, \"Error while giving permits\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n\n    }\n</code></pre>\n\n<p>Any help is greatly appreciated and thanks for bearing my like 4th time editing this post.</p>\n"}, {"tags": ["c#", "postgresql", "nhibernate"], "comments": [{"owner": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "edited": false, "score": 1, "creation_date": 1530778212, "post_id": 51178912, "comment_id": 89354515, "body": "You could to use alternative notation, <code>=&gt;</code> instead of <code>:=</code>."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "edited": false, "score": 1, "creation_date": 1530808123, "post_id": 51178912, "comment_id": 89373829, "body": "@Abelisto you should post that as an answer rather than a comment. While it does appear that NHibernate can&#39;t handle colons anywhere other than named parameters in their CreateSQLQuery method (I&#39;ve been pouring over their code over the last while), this should bypass it for my purposes. It&#39;s still a parsing bug they should fix, but this can work around it pretty quickly for me."}], "answers": [{"tags": [], "owner": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "is_accepted": true, "score": 1, "last_activity_date": 1530815792, "creation_date": 1530815792, "answer_id": 51197888, "question_id": 51178912, "link": "https://stackoverflow.com/questions/51178912/using-in-sqlquery/51197888#51197888", "title": "Using &quot;:=&quot; in SQLQuery", "body": "<p>Instead of <code>:=</code> (which is mentioned as an \"older syntax\" in the <a href=\"https://www.postgresql.org/docs/current/static/sql-syntax-calling-funcs.html#SQL-SYNTAX-CALLING-FUNCS-NAMED\" rel=\"nofollow noreferrer\">documentation</a>) you could to use <code>=&gt;</code>:</p>\n\n<pre><code>SELECT {(mytable).*} FROM myStoredProc(:p1, _namedParam =&gt; TRUE);\n</code></pre>\n\n<p>For now I don't remember any other places where colon used in the PostgreSQL syntax except the type casting like <code>&lt;value&gt;::&lt;type&gt;</code> (<code>'1'::integer</code> for instance) but it could be simply replaced by more general syntax like <code>cast(&lt;value&gt; as &lt;type&gt;)</code> or shortly <code>&lt;type&gt; &lt;value&gt;</code>.</p>\n"}], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 51197888, "answer_count": 1, "score": 0, "last_activity_date": 1530815792, "creation_date": 1530727073, "question_id": 51178912, "link": "https://stackoverflow.com/questions/51178912/using-in-sqlquery", "title": "Using &quot;:=&quot; in SQLQuery", "body": "<p>I have a query that is calling a postgres stored procedure with named parameters. The procedure can take many parameters, most of which have defaults, and I only want to use a couple.  The SQL looks like this:</p>\n\n<pre><code>SELECT {(mytable).*} FROM myStoredProc(:p1, _namedParam := TRUE);\n</code></pre>\n\n<p>I bind in <code>p1</code> and add <code>mytable</code> as an entity. However, I get <code>NHibernate.QueryException : Not all named parameters have been set: ['']</code> -- it appears it's from the <code>:=</code> in the named parameter.</p>\n\n<p>Is there a way to escape that colon so that I can get past this? I bind all my strings and such already, but I don't think I can bind syntax like this, so I need NHibernate to stop complaining about this non-parameter.  This stored proc takes something like a dozen or so parameters, and the one I'm setting here is the last one, so I'd rather not insert all the defaults explicitly in my C# code.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "reactive-programming", "reactiveui"], "comments": [{"owner": {"reputation": 560, "user_id": 3516731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PQAgt.jpg?s=128&g=1", "display_name": "Adri&#225;n Romero", "link": "https://stackoverflow.com/users/3516731/adri%c3%a1n-romero"}, "edited": false, "score": 1, "creation_date": 1530729880, "post_id": 51178867, "comment_id": 89341350, "body": "You dont need a UITextField  and UIButton  on your ViewModel.You need a ReactiveCommand, ReactiveCommand defines a IObservable&lt;bool&gt; called CanExecute and by combinig it with a WhenAnyValue operator you can achieve your goal"}, {"owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "reply_to_user": {"reputation": 560, "user_id": 3516731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PQAgt.jpg?s=128&g=1", "display_name": "Adri&#225;n Romero", "link": "https://stackoverflow.com/users/3516731/adri%c3%a1n-romero"}, "edited": false, "score": 0, "creation_date": 1530732306, "post_id": 51178867, "comment_id": 89342057, "body": "But how can I communicate from viewmodel to ViewController&#39;s objects like those button and uitextfield ? Can you write a little example?"}], "answers": [{"comments": [{"owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "edited": false, "score": 0, "creation_date": 1530767636, "post_id": 51182960, "comment_id": 89349284, "body": "Sorry my newbie questions, but how can I make LoginCommand Observable, which can disable or enable button?"}, {"owner": {"reputation": 504, "user_id": 5984310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XE0Ok.jpg?s=128&g=1", "display_name": "Colt Bauman", "link": "https://stackoverflow.com/users/5984310/colt-bauman"}, "reply_to_user": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "edited": false, "score": 0, "creation_date": 1530768028, "post_id": 51182960, "comment_id": 89349407, "body": "The LoginCommand is an observable, so it will enable/disable the button automatically in the above code. It knows when to enable/disable the button based on the <i>canLogin</i> variable. The condition I used was <code>!string.IsNullOrEmpty(userName)</code> and <code>!string.IsNullOrEmpty(password)</code>"}, {"owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "edited": false, "score": 0, "creation_date": 1530768535, "post_id": 51182960, "comment_id": 89349558, "body": "When I&#39;m trying to bind my button to the Command this exception occurs. [  Can&#39;t two-way convert between ReactiveUI.ReactiveCommand`2[System.Reactive.Unit,System.Rea&zwnj;&#8203;ctive.Unit] and UIKit.UIButton. To fix this, register a IBindingTypeConverter or call the version with converter Funcs.]"}, {"owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "edited": false, "score": 0, "creation_date": 1530768731, "post_id": 51182960, "comment_id": 89349634, "body": "In your example, LoginCommand is readonly so I cannot bind it from my view."}, {"owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "edited": false, "score": 0, "creation_date": 1530768758, "post_id": 51182960, "comment_id": 89349643, "body": "If I will make write setter for it like loginComand = value, this cause exception"}, {"owner": {"reputation": 469, "user_id": 1351913, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/b1aac68475fa428ef4b081d5c6c63682?s=128&d=identicon&r=PG", "display_name": "albilaga", "link": "https://stackoverflow.com/users/1351913/albilaga"}, "edited": false, "score": 0, "creation_date": 1530771184, "post_id": 51182960, "comment_id": 89350595, "body": "How do you bind command? You should use <code>this.BindCommand</code> not use <code>this.Bind</code> like in here <a href=\"https://reactiveui.net/docs/handbook/commands/binding-commands\" rel=\"nofollow noreferrer\">reactiveui.net/docs/handbook/commands/binding-commands</a>"}], "tags": [], "owner": {"reputation": 504, "user_id": 5984310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XE0Ok.jpg?s=128&g=1", "display_name": "Colt Bauman", "link": "https://stackoverflow.com/users/5984310/colt-bauman"}, "is_accepted": true, "score": 2, "last_activity_date": 1530771849, "last_edit_date": 1530771849, "creation_date": 1530761028, "answer_id": 51182960, "question_id": 51178867, "link": "https://stackoverflow.com/questions/51178867/cant-bind-uibutton-and-uitextfield-in-viewmodel-with-xamarin-ios-and-reactiveui/51182960#51182960", "title": "Cant Bind UIButton and UITextField in ViewModel with Xamarin-iOS and ReactiveUI", "body": "<p>A few suggestions:</p>\n\n<ul>\n<li><p>Your view models should never reference anything platform/view related (get rid of the UITextField and UIButton members). View models are meant to be platform independent, so they can be reused and testable.</p></li>\n<li><p>Use <a href=\"https://reactiveui.net/docs/handbook/commands/an-example\" rel=\"nofollow noreferrer\">ReactiveCommands</a>. They handle enabling/disabling the button automagically. If you check this documentation link, you'll find essentially the exact same example code/scenario.</p></li>\n<li><p>Use the <a href=\"https://github.com/Qonstrukt/ReactiveUI/blob/63f99c0f7831261ff307726019782f7009d4f62a/src/ReactiveUI/Cocoa/ReactiveNSViewController.cs\" rel=\"nofollow noreferrer\">generic version</a> of ReactiveViewController so you don't have to worry about implementing the ViewModel properties yourself (your version should have used RaiseAndSetIfChanged, as you'll see in the link).</p></li>\n</ul>\n\n<p>...</p>\n\n<pre><code>public class LoginViewModel : ReactiveObject\n{\n    public LoginViewModel()\n    {\n        var canLogin = this.WhenAnyValue(\n            x =&gt; x.UserName,\n            x =&gt; x.Password,\n            (userName, password) =&gt; !string.IsNullOrEmpty(userName) &amp;&amp; !string.IsNullOrEmpty(password));\n        LoginCommand = ReactiveCommand.CreateFromObservable(\n            LoginAsync, // A method that returns IObservable&lt;Unit&gt;\n            canLogin);\n    }\n\n    public ReactiveCommand&lt;Unit, Unit&gt; LoginCommand { get; }\n\n    private string _userName;\n    public string UserName\n    {\n        get { return _userName; }\n        set { this.RaiseAndSetIfChanged(ref _userName, value); }\n    }\n\n    private string _password;\n    public string Password\n    {\n        get { return _password; }\n        set { this.RaiseAndSetIfChanged(ref _password, value); }\n    }\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>public partial class LogInViewController : ReactiveViewController&lt;LoginViewModel&gt;\n{      \n    UITapGestureRecognizer SingUpGesture;\n\n    public LogInViewController (IntPtr handle) : base (handle)\n    {\n        this.WhenActivated(d =&gt;\n        {\n            d(this.Bind(ViewModel, vm =&gt; vm.UserName, v =&gt; v.userNameTextField.Text));\n            d(this.Bind(ViewModel, vm =&gt; vm.Password, v =&gt; v.passwordTextField.Text));\n            d(this.BindCommand(ViewModel, vm =&gt; vm.LoginCommand, v =&gt; v.logInButton));\n        });\n    }\n}\n</code></pre>\n\n<p>Here's a <a href=\"https://github.com/paulcbetts/XamarinEvolve2014/blob/46bac6c09f6683cfbefd4a975ff10377d8ad68a7/XamarinEvolve-Core/ViewModels/LoginStartViewModel.cs\" rel=\"nofollow noreferrer\">heavily documented ViewModel</a>, along with the corresponding sample project to help you get headed in the right direction. And I highly recommend the book, \"<a href=\"https://kent-boogaart.com/you-i-and-reactiveui/\" rel=\"nofollow noreferrer\">You, I, and ReactiveUI</a>\" if you really want to become proficient. Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 560, "user_id": 3516731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PQAgt.jpg?s=128&g=1", "display_name": "Adri&#225;n Romero", "link": "https://stackoverflow.com/users/3516731/adri%c3%a1n-romero"}, "is_accepted": false, "score": 1, "last_activity_date": 1530800561, "creation_date": 1530800561, "answer_id": 51193733, "question_id": 51178867, "link": "https://stackoverflow.com/questions/51178867/cant-bind-uibutton-and-uitextfield-in-viewmodel-with-xamarin-ios-and-reactiveui/51193733#51193733", "title": "Cant Bind UIButton and UITextField in ViewModel with Xamarin-iOS and ReactiveUI", "body": "<p>Ok friend if I understand correctly, you can have do something like this: </p>\n\n<p>In your ViewModel: </p>\n\n<pre><code>public ReactiveCommand&lt;Unit,Unit&gt; LoginCommand { get; set; }\n\n    public LoginViewModel()\n    {\n        //this operator does the magic, when UserName and Password be different than empty your button\n        //will be enabled\n        var canLogin = this.WhenAnyValue(x =&gt; x.UserName, x=&gt; x.Password, \n                                        (user,password) =&gt; !string.IsNullOrWhiteSpace(user) &amp;&amp; !string.IsNullOrWhiteSpace(password));\n\n        LoginCommand = ReactiveCommand.CreateFromTask&lt;Unit, Unit&gt;(async _ =&gt;\n        {\n            //Your login logic goes here..\n            return Unit.Default;\n        }, canLogin);\n\n    }\n</code></pre>\n\n<p>And in your View</p>\n\n<pre><code> public LogInViewController (IntPtr handle) : base (handle)\n    {\n        this.WhenActivated(d =&gt;\n        {\n            d(this.Bind(ViewModel, vm =&gt; vm.UserName, vm =&gt; vm.userNameTextField.Text));\n            d(this.Bind(ViewModel, vm =&gt; vm.Password, vm =&gt; vm.passwordTextField.Text));\n            d(this.BindCommand(this.ViewModel,vm =&gt; vm.LoginCommand,v =&gt; v.LoginButton));\n        });\n    }\n</code></pre>\n\n<p>your view and your viewmodel interacts via command binding. </p>\n\n<p>I hope this helps you. </p>\n"}], "owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 51182960, "answer_count": 2, "score": 0, "last_activity_date": 1530800561, "creation_date": 1530726898, "last_edit_date": 1530778829, "question_id": 51178867, "link": "https://stackoverflow.com/questions/51178867/cant-bind-uibutton-and-uitextfield-in-viewmodel-with-xamarin-ios-and-reactiveui", "title": "Cant Bind UIButton and UITextField in ViewModel with Xamarin-iOS and ReactiveUI", "body": "<p>I have LoginViewController class</p>\n\n<pre><code>// This file has been autogenerated from a class added in the UI designer.\n\nusing System;\nusing System.Collections.Generic;\nusing Foundation;\nusing UIKit;\nusing System.Linq;\nusing System.Reactive;\nusing ReactiveUI;\nusing GoBatumi.IOS.ViewModels;\n\nnamespace GoBatumi.IOS\n{\n    public partial class LogInViewController : ReactiveViewController,IViewFor&lt;LoginViewModel&gt;\n    {      \n        UITapGestureRecognizer SingUpGesture;\n        public LogInViewController (IntPtr handle) : base (handle)\n        {\n            this.WhenActivated(d =&gt;\n            {\n                d(this.Bind(ViewModel, vm =&gt; vm.UserName, vm =&gt; vm.userNameTextField.Text));\n                d(this.Bind(ViewModel, vm =&gt; vm.Password, vm =&gt; vm.passwordTextField.Text));\n                d(this.Bind(ViewModel, vm =&gt; vm.LoginButton, vm =&gt; vm.logInButton));\n                d(this.Bind(ViewModel, vm =&gt; vm.PasswordTextField, vm =&gt; vm.passwordTextField));\n            });\n        }\n\n        private void MakeViewModelBinding(){\n        }\n\n        public override void ViewDidLayoutSubviews(){\n            base.ViewWillLayoutSubviews();   \n        }\n\n        LoginViewModel _viewModel;\n        public LoginViewModel ViewModel \n        {\n            get =&gt; _viewModel ?? new LoginViewModel();\n            set =&gt; _viewModel = value;\n        }\n        object IViewFor.ViewModel \n        {\n            get =&gt; ViewModel;\n            set =&gt; ViewModel = (LoginViewModel)value; \n        }\n\n        public override void ViewDidLoad(){\n            base.ViewDidLoad();\n        }\n\n        private void ShouldChangeViewSettings(bool enable){\n            passwordTextField.Enabled = enable;\n            logInButton.Enabled = enable;         \n            if (enable)\n                logInButton.Alpha = 0.99f;\n            else\n                logInButton.Alpha = 0.4f;\n        }\n    }\n\n    public class TestUser\n    {\n        public string UserName{\n            get;\n            set;\n        }\n\n        public string Password{\n            get;\n            set;\n        }\n    }\n}\n</code></pre>\n\n<p>Also, I have LoginViewModel class</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing ReactiveUI;\nusing UIKit;\n\nnamespace GoBatumi.IOS.ViewModels\n{\n    public class LoginViewModel : ReactiveObject\n    {\n        public LoginViewModel()\n        {\n        }\n\n        private string _userName;\n        public string UserName\n        {\n            get =&gt; _userName;\n            set\n            {\n                this.RaiseAndSetIfChanged(ref _userName, value);\n                var result = string.IsNullOrEmpty(_userName);\n\n                ShouldChangeViewSettings(result);\n            }\n        }\n\n\n        private string _password;\n        public string Password\n        {\n            get =&gt; _password;\n            set\n            {\n                this.RaiseAndSetIfChanged(ref _password, value);\n            }    \n\n        }\n\n        private UIButton _loginButton;\n        public UIButton LoginButton\n        {\n            get =&gt; _loginButton;\n            set =&gt; this.RaiseAndSetIfChanged(ref _loginButton, value);\n        }\n\n        private UITextField _passwordTextField;\n        public UITextField PasswordTextField\n        {\n            get =&gt; _passwordTextField;\n            set =&gt; this.RaiseAndSetIfChanged(ref _passwordTextField, \n        }\n\n    }\n}\n</code></pre>\n\n<p>My problem is that string username and string password can bind with,\nusernameTextField.Texts and passwordTextField.Text</p>\n\n<p>But it UIButton and UITextField are always null, they haven't bound.</p>\n\n<p>My task is that whenever the user types a character into textField I must enable the button, and whenever a user deletes the wholeTextfield and if the string is empty, I must disable button again, so I need UiButton for changing the background color from ViewModel but UIButtonProperty always returns null.</p>\n\n<p>Where is the problem? </p>\n\n<p>I will be very glad if someone will give me a piece of advice.\nI'm a little bit new into MVVM and into ReactiveUi.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-web-api", "asp.net-identity"], "comments": [{"owner": {"reputation": 449, "user_id": 8090964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LJWJWDNQ9M4/AAAAAAAAAAI/AAAAAAAAADw/emH2ObJetoc/photo.jpg?sz=128", "display_name": "Murat Can O\u011eUZHAN", "link": "https://stackoverflow.com/users/8090964/murat-can-o%c4%9euzhan"}, "edited": false, "score": 0, "creation_date": 1530727314, "post_id": 51178800, "comment_id": 89340447, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40249076/the-entity-type-identityuser-is-not-part-of-the-model-for-the-current-context-in\">The entity type IdentityUser is not part of the model for the current context in ASP.NET Identity</a>"}, {"owner": {"reputation": 11, "user_id": 10033501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snKPlCpFwSM/AAAAAAAAAAI/AAAAAAAAARs/Y0JY8INFE14/photo.jpg?sz=128", "display_name": "Carlos Garcia", "link": "https://stackoverflow.com/users/10033501/carlos-garcia"}, "reply_to_user": {"reputation": 449, "user_id": 8090964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LJWJWDNQ9M4/AAAAAAAAAAI/AAAAAAAAADw/emH2ObJetoc/photo.jpg?sz=128", "display_name": "Murat Can O\u011eUZHAN", "link": "https://stackoverflow.com/users/8090964/murat-can-o%c4%9euzhan"}, "edited": false, "score": 0, "creation_date": 1530730401, "post_id": 51178800, "comment_id": 89341527, "body": "Not possible, my error is in OwinContext, I&#39;m not using MVC it is just a web API that tries to implement authentication, I had already checked that answer.  Thanks anyways."}], "owner": {"reputation": 11, "user_id": 10033501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snKPlCpFwSM/AAAAAAAAAAI/AAAAAAAAARs/Y0JY8INFE14/photo.jpg?sz=128", "display_name": "Carlos Garcia", "link": "https://stackoverflow.com/users/10033501/carlos-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530730951, "creation_date": 1530726512, "last_edit_date": 1530730951, "question_id": 51178800, "link": "https://stackoverflow.com/questions/51178800/owincontext-the-entity-type-identityuser-is-not-part-of-the-model-for-the-curre", "title": "OwinContext. The entity type IdentityUser is not part of the model for the current context", "body": "<p>I got an error while doing a demo Web API using .NET Framework and trying to implement custom authentication using JWT and Identity Framework, everything was going smooth. </p>\n\n<p>I already had a simple auth using Identity already working, but, when I implemented a relationship between <strong>AspNetUsers</strong> and my model <strong>Person</strong> I got an exception*'The entity type IdentityUser is not part of the model for the current context.'*</p>\n\n<p>I think that it might as well be something related with OwinContext because while debugging everything works fine, it gets the user data from the table but when the next code is executed it just returns the exception(mentioned above).</p>\n\n<p>Also I think it is different from other questions because OwinContext is the one that throws the exception when using the GetRoles method.</p>\n\n<pre><code>var userRoles = context.OwinContext.Get&lt;TwitterUserManager&gt;().GetRoles(user.Id.ToString());\n</code></pre>\n\n<p>My <strong>DB Context</strong>:</p>\n\n<pre><code>public class FakeTwitterContext: IdentityDbContext&lt;ApplicationUser&gt;\n{\n\n    public FakeTwitterContext() : base(\"FakeTwitterConnection\")\n    {\n        this.Configuration.LazyLoadingEnabled = false;\n    }\n\n}\n</code></pre>\n\n<p>My <strong>ApplicationUser</strong>:</p>\n\n<pre><code>public class Person\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    //. . .\n\n    public virtual ApplicationUser ApplicationUser { get; set; }\n}\n\npublic class ApplicationUser : IdentityUser\n{\n    public virtual Person Person { get; set; }\n\n    public ApplicationUser(): base()\n    {\n\n    }\n}\n</code></pre>\n\n<p>My <strong>PersonEntityConfig</strong>:</p>\n\n<pre><code>public class PersonConfiguration : EntityTypeConfiguration&lt;Person&gt;\n{\n    public PersonConfiguration()\n    {\n        //. . .\n\n        HasRequired(p =&gt; p.ApplicationUser)\n            .WithRequiredDependent(appUser =&gt; appUser.Person)\n            .Map(p =&gt; p.MapKey(\"UserId\"));\n    }\n}\n</code></pre>\n\n<p>And my <strong>CustomOAuthProvider.cs</strong> (where the code crashes)</p>\n\n<pre><code>public class CustomOAuthProvider : OAuthAuthorizationServerProvider\n{\n    public override Task GrantResourceOwnerCredentials(OAuthGrantResourceOwnerCredentialsContext context)\n    {\n        context.OwinContext.Response.Headers.Add(\"Access-Control-Allow-Origin\", new[] { \"*\" });\n\n        var user = context.OwinContext.Get&lt;FakeTwitterContext&gt;()\n            .Users.FirstOrDefault(u =&gt; u.UserName == context.UserName);\n\n        if (!context.OwinContext.Get&lt;TwitterUserManager&gt;()\n            .CheckPassword(user, context.Password)\n            )\n        {\n            context.SetError(\"invalid_grant\", \"The user name or password is incorrect\");\n            context.Rejected();\n            return Task.FromResult&lt;object&gt;(null);\n        }\n\n        var ticket = new AuthenticationTicket(SetClaimsIdentity(context, user), new AuthenticationProperties());\n        context.Validated(ticket);\n\n        return Task.FromResult&lt;object&gt;(null);\n    }\n\n    public override Task ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context)\n    {\n        context.Validated();\n        return Task.FromResult&lt;object&gt;(null);\n    }\n\n    private static ClaimsIdentity SetClaimsIdentity(OAuthGrantResourceOwnerCredentialsContext context, ApplicationUser user)\n    {\n        var identity = new ClaimsIdentity(\"JWT\");\n        identity.AddClaim(new Claim(ClaimTypes.Name, context.UserName));\n        identity.AddClaim(new Claim(\"sub\", context.UserName));\n\n        //Error\n        //The entity type IdentityUser is not part of the model for the current context.\n        var userRoles = context.OwinContext.Get&lt;TwitterUserManager&gt;().GetRoles(user.Id.ToString());\n        foreach (var role in userRoles)\n        {\n            identity.AddClaim(new Claim(ClaimTypes.Role, role));\n        }\n\n        return identity;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net", "webforms"], "answers": [{"comments": [{"owner": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530730496, "post_id": 51178907, "comment_id": 89341555, "body": "I deleted the Literal declaration from OnLoad and it still can&#39;t find the element."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530730726, "post_id": 51178907, "comment_id": 89341636, "body": "Is the element actually there?"}, {"owner": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530731329, "post_id": 51178907, "comment_id": 89341842, "body": "No, &quot;uploadContent&quot;  is not even there."}, {"owner": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530731401, "post_id": 51178907, "comment_id": 89341857, "body": "&lt;tr&gt; \t\t\t&lt;td valign=&quot;top&quot; style=&quot;width:50%;&quot; colspan=&quot;1&quot;&gt;&lt;div class=&quot;propertyCaption&quot;&gt;I&lt;i&gt;&lt;/i&gt;mageFile&lt;/div&gt;&lt;div class=&quot;propertyText&quot;&gt;&lt;input type=&quot;file&quot; name=&quot;vendorView$customPropertySheet$img_Prop_145811_100790&quot; id=&quot;vendorView_customPropertySheet_img_Prop_145811_100790&quot; style=&quot;height:30px;width:80px;&quot;&gt;&lt;/div&gt;&lt;/td&gt; \t\t&lt;/tr&gt;"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530813008, "post_id": 51178907, "comment_id": 89376262, "body": "I&#39;d suggest a new question where you ask how to inject custom content like you&#39;re attempting. The issue isn&#39;t that JavaScript can&#39;t find the element (because it can&#39;t find what&#39;s not there)."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "edited": false, "score": 0, "creation_date": 1530813204, "post_id": 51178907, "comment_id": 89376353, "body": "I&#39;d suggest creating the component via composition instead of inheritance, because customizing the markup of <code>FileUpload</code> will be more difficult than just creating a new component and having the <code>FileUpload</code> as a child."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1530727062, "creation_date": 1530727062, "answer_id": 51178907, "question_id": 51178679, "link": "https://stackoverflow.com/questions/51178679/javascript-function-cant-find-the-element/51178907#51178907", "title": "javascript function can&#39;t find the element", "body": "<p>It looks like you're expecting <code>litScript</code> here:</p>\n\n<pre><code>Literal litScript = new Literal();\nlitScript.Mode = LiteralMode.PassThrough;\ndiv.Controls.Add(litScript);\n</code></pre>\n\n<p>To be modified by the <code>OnLoad</code> event:</p>\n\n<pre><code>protected override void OnLoad(EventArgs e)\n{\n    Literal litScript = new Literal();\n    // ...\n    StringBuilder sb = new StringBuilder();\n    sb.Append(\"&lt;div id=\\\"uploadContent\\\"&gt;&lt;/div&gt;\");\n    litScript.Text = sb.ToString();\n    // ...\n    base.OnLoad(e);\n}\n</code></pre>\n\n<p>But your <code>OnLoad</code> is constructing its own <em>local</em> <code>Literal</code>. Just because it has the same <code>litScript</code> name as the outer <code>Literal</code> doesn't mean that the two are related. In short, nothing is writing that <code>div</code> to the page.</p>\n"}], "owner": {"reputation": 264, "user_id": 2690460, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100001598324172/picture?type=large", "display_name": "Jane wang", "link": "https://stackoverflow.com/users/2690460/jane-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530727062, "creation_date": 1530725814, "last_edit_date": 1530726546, "question_id": 51178679, "link": "https://stackoverflow.com/questions/51178679/javascript-function-cant-find-the-element", "title": "javascript function can&#39;t find the element", "body": "<p>I need to call some file uploader JavaScript from code behind. The JavaScript is basically customizing the style of the file uploader control. However, the JavaScript function can't find the element. I get this from the inspector:</p>\n\n<pre><code>*o = {element: null, \n      action: \"/Web/UploadHandler.axd?UploadID=55f3930c-6aa9-4201\u2026ccfdfae6c6&amp;ObjectID=145649&amp;RelationshipTypeID=223\", \n      sizeLimit: 209715\n</code></pre>\n\n<p>when it should look like this:</p>\n\n<pre><code>o = {element: div#uploadContent, action: \"/Web/UploadHandler.axd?UploadID=c1829b40-7869-4f19\u2026411e7a542c&amp;ObjectID=151808&amp;RelationshipTypeID=223\", sizeLimit: 20971520, acceptTypes: \"image/*\", onSubmit: \u0192, \u2026}\nqq.extend\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code> div = new HtmlGenericControl(\"div\") { ID = (\"dlWrapper\") };\n\n Literal litScript = new Literal();\n litScript.Mode = LiteralMode.PassThrough;\n div.Controls.Add(litScript);\n\n var imageUploader = (ImageUpload)CreateImageUploader(ActiveObject, p, litScript);\n div.Controls.Add(imageUploader);\n controls.Add(div);\n\n private static Control CreateImageUploader(ObjectInstance objectInstance, PropertyType propertyType, Literal litScript)\n {\n     ImageUpload imageUpload = new ImageUpload (objectInstance, litScript) { ID = ControlFactory.GetControlId(ControlFactory.IMAGE_PREFIX, ControlFactory.PROPERTY_TYPE_PREFIX, objectInstance.Id, propertyType.Id), Width = Unit.Pixel(80), Height = Unit.Pixel(30) };\n     PropertyInstanceValue piv = objectInstance.GetPropertyInstanceValue(propertyType.Id);           \n     return imageUpload;\n }\n\n public class ImageUpload : FileUpload\n {\n    public ObjectInstance ActiveObject {get; set; }\n    public Literal litScript { get; set; }\n    private string uploadID;\n    private string accept = \"image/*\";\n    public string UploadID\n    {\n        get\n        {\n            if (string.IsNullOrEmpty(uploadID))\n            {\n                uploadID = GetUploadID();\n            }\n            return uploadID;\n        }\n        set { uploadID = value; }\n    }\n\n    public ImageUpload(ObjectInstance activeObject, Literal literal)\n    {\n        ActiveObject = activeObject;\n        litScript = literal;\n    }\n\n    public string GetUploadID()\n    {\n        string uploadID;\n        if (HttpContext.Current.Session[EDM.Common.Definitions.SessionKey.UPLOAD_ID] != null)\n        {\n            uploadID = (string)HttpContext.Current.Session[EDM.Common.Definitions.SessionKey.UPLOAD_ID];\n            HttpContext.Current.Cache.Remove(\"cacheFlashSessionID_\" + uploadID);\n            HttpContext.Current.Cache.Remove(\"cacheFlashAuth_\" + uploadID);\n        }\n        uploadID = Guid.NewGuid().ToString();\n        HttpContext.Current.Session[EDM.Common.Definitions.SessionKey.UPLOAD_ID] = uploadID;\n        HttpContext.Current.Cache.Insert(\"cacheFlashSessionID_\" + uploadID, HttpContext.Current.Session.SessionID, null, DateTime.Now.AddMinutes(20), Cache.NoSlidingExpiration, CacheItemPriority.NotRemovable, null);\n        if (HttpContext.Current.Request.Cookies[FormsAuthentication.FormsCookieName] != null)\n        {\n            // ReSharper disable PossibleNullReferenceException\n            HttpContext.Current.Cache.Insert(\"cacheFlashAuth_\" + uploadID, HttpContext.Current.Request.Cookies[FormsAuthentication.FormsCookieName].Value, null, DateTime.Now.AddMinutes(20), Cache.NoSlidingExpiration, CacheItemPriority.NotRemovable, null);\n            // ReSharper restore PossibleNullReferenceException\n        }\n        return uploadID;\n    }\n\n    protected override void OnLoad(EventArgs e)\n    {\n        Literal litScript = new Literal();\n        ScriptManager scriptManager = ScriptManager.GetCurrent(Page);\n\n        StringBuilder sb = new StringBuilder();\n        sb.Append(\"&lt;div id=\\\"uploadContent\\\"&gt;&lt;/div&gt;\");\n        litScript.Text = sb.ToString();\n        sb.Remove(0, sb.Length);\n        sb.Append(\"&lt;script type=\\\"text/javascript\\\"&gt;\");\n        int maxBytes = ProcessUnity.Common.Utility.GetMaxRequestLength() * 1024;\n        sb.Append(\"var uploader = new qq.FileUploader({ element: document.getElementById('uploadContent'), action: '\" + Context.Request.ApplicationPath + \"/UploadHandler.axd?UploadID=\" + UploadID + \"&amp;ObjectID=\" + ActiveObject.Id + \"&amp;RelationshipTypeID=\" + EDM.Common.Definitions.RelationshipTypeId.IMAGE_FILE + \"', sizeLimit: \" + maxBytes + \", acceptTypes:'\" + accept + \"', onSubmit: uploadStart, onComplete: uploadComplete, onError: uploadError, multiple: false });\");\n        sb.Append(\"&lt;/script&gt;\");\n\n        if (scriptManager != null)\n        {\n            ScriptManager.RegisterClientScriptBlock(this, typeof(ImageUpload), Guid.NewGuid().ToString(), sb.ToString(), false);\n        }\n        else\n        {\n            Page.ClientScript.RegisterClientScriptBlock(typeof(Page), Guid.NewGuid().ToString(), sb.ToString());\n        }\n        base.OnLoad(e);\n    }     \n\n    private object GetScriptManager()\n    {\n        foreach (DictionaryEntry entry in Page.Items)\n        {\n            if (entry.Key.ToString().IndexOf(\"System.Web.UI.ScriptManager\") &gt;= 0)\n            {\n                return entry.Value;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "exception", "try-catch", "httpclient"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530725180, "post_id": 51178540, "comment_id": 89339679, "body": "Well, in your <code>catch</code> you are re-throwing the exception (even if that;s what you wanted, you shouldn&#39;t, use plain <code>throw;</code>)"}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1530725575, "post_id": 51178540, "comment_id": 89339834, "body": "... Or remove the <code>catch</code> block since it serves no purpose here (other than--to DavidG&#39;s point--destroying the stack trace as its currently written)"}, {"owner": {"reputation": 63, "user_id": 9952510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qd4zU-eXAKM/AAAAAAAAAAI/AAAAAAAAAAA/1pRlrZFtEts/photo.jpg?sz=128", "display_name": "Riko3412", "link": "https://stackoverflow.com/users/9952510/riko3412"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530725778, "post_id": 51178540, "comment_id": 89339916, "body": "@DavidG, You right, but I have tried everything, and in all cases I still have second exception."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530726891, "post_id": 51178540, "comment_id": 89340308, "body": "Yes, you have a second exception because you are throwing the exception again! What do you think <code>throw</code> does?"}, {"owner": {"reputation": 991, "user_id": 6870582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9196bb9854ffa689f46798c68e640364?s=128&d=identicon&r=PG", "display_name": "Ben Hall", "link": "https://stackoverflow.com/users/6870582/ben-hall"}, "edited": false, "score": 0, "creation_date": 1530727097, "post_id": 51178540, "comment_id": 89340376, "body": "@Riko3412 are you observing these in the Output window in VS? Because that might give you the impression it is re-firing and not being handled (if you say it behaves the same without the catch). I have tried your code but cannot repro."}, {"owner": {"reputation": 63, "user_id": 9952510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qd4zU-eXAKM/AAAAAAAAAAI/AAAAAAAAAAA/1pRlrZFtEts/photo.jpg?sz=128", "display_name": "Riko3412", "link": "https://stackoverflow.com/users/9952510/riko3412"}, "edited": false, "score": 0, "creation_date": 1530728118, "post_id": 51178540, "comment_id": 89340692, "body": "Now I see. I have just deleted catch block, and re-write my owner method for catching all exception inside it. Oh, I know about global exception handling, and I have tried it, but in Xamarin Forms it doens&#39;t work for me("}, {"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "edited": false, "score": 0, "creation_date": 1530730427, "post_id": 51178540, "comment_id": 89341533, "body": "You should never ever delete your catch block from that code part where you think exception might occour.If you know the type of exception then handle it there else throw it from that part and handle it uppper layer or Global Handler"}], "answers": [{"tags": [], "owner": {"reputation": 991, "user_id": 6870582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9196bb9854ffa689f46798c68e640364?s=128&d=identicon&r=PG", "display_name": "Ben Hall", "link": "https://stackoverflow.com/users/6870582/ben-hall"}, "is_accepted": true, "score": 0, "last_activity_date": 1530725310, "creation_date": 1530725310, "answer_id": 51178591, "question_id": 51178540, "link": "https://stackoverflow.com/questions/51178540/cant-catch-httprequestexception/51178591#51178591", "title": "Can&#39;t catch HttpRequestException", "body": "<p>You are re-throwing the exception when you catch it, which is as good as not catching it in the first place.</p>\n\n<p>Your app is crashing because there is nothing in place to handle this re-thrown exception - you do not have any global exception handling in place, which would be a very good idea if this is, itself, an ASP.NET app.</p>\n"}, {"comments": [{"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530727776, "post_id": 51178706, "comment_id": 89340585, "body": "the poster wanted to catch exception but was nt able to figure out how two exceptions were getting thrown."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530728499, "post_id": 51178706, "comment_id": 89340810, "body": "But this still rethrows the error, that&#39;s the problem!"}], "tags": [], "owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "is_accepted": false, "score": -1, "last_activity_date": 1530725988, "creation_date": 1530725988, "answer_id": 51178706, "question_id": 51178540, "link": "https://stackoverflow.com/questions/51178540/cant-catch-httprequestexception/51178706#51178706", "title": "Can&#39;t catch HttpRequestException", "body": "<pre><code>      try\n        {\n            HttpResponseMessage response = await client.PostAsync(URL, formData);\n            if (response.StatusCode == System.Net.HttpStatusCode.OK)\n            {\n                string stringContent = await response.Content.ReadAsStringAsync();\n                result = JsonConvert.DeserializeObject&lt;T&gt;(stringContent);\n            }\n        }\n        catch (HttpRequestException)\n        {\n\n            throw;\n        }\n</code></pre>\n\n<p>try this</p>\n"}], "owner": {"reputation": 63, "user_id": 9952510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qd4zU-eXAKM/AAAAAAAAAAI/AAAAAAAAAAA/1pRlrZFtEts/photo.jpg?sz=128", "display_name": "Riko3412", "link": "https://stackoverflow.com/users/9952510/riko3412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1779, "favorite_count": 0, "accepted_answer_id": 51178591, "answer_count": 2, "score": 2, "last_activity_date": 1530725988, "creation_date": 1530725062, "question_id": 51178540, "link": "https://stackoverflow.com/questions/51178540/cant-catch-httprequestexception", "title": "Can&#39;t catch HttpRequestException", "body": "<p>I have following code</p>\n\n<pre><code>public async Task&lt;T&gt; SendData&lt;T&gt;()\n{\n    T result = default(T);\n\n    using (var client = new HttpClient())\n    {\n        using (var formData = new MultipartFormDataContent())\n        {\n            try\n            {\n                foreach (var p in ParametresToSend)\n                    formData.Add(p.Value, p.Key);\n\n                HttpResponseMessage response = await client.PostAsync(URL, formData);\n\n                string stringContent = await response.Content.ReadAsStringAsync();\n                result = JsonConvert.DeserializeObject&lt;T&gt;(stringContent);\n            }\n            catch (Exception ex)\n            {\n                throw ex;\n            }\n            finally\n            {\n                ParametresToSend.Clear();\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>It works perfectly, but if internet is not available after checks for it availability (very short time, but it possible), it catch <strong>first</strong> HttpRequestException. And after this, immediately will be throw <strong>second</strong> HttpRequestException, but catch block doesn't catch it and app geting crash. Why is it happining? </p>\n"}, {"tags": ["c#", "rest", "api", "docusignapi"], "comments": [{"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530729118, "post_id": 51178486, "comment_id": 89341064, "body": "Have you tried with Fixed Positioning method ?"}, {"owner": {"reputation": 39, "user_id": 8295235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f049562443ea7e06e75421e8dbbca1?s=128&d=identicon&r=PG&f=1", "display_name": "user8295235", "link": "https://stackoverflow.com/users/8295235/user8295235"}, "reply_to_user": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530760722, "post_id": 51178486, "comment_id": 89347892, "body": "Fixed positioning is a kind of finding the position of an element and place signature there right.I did not try that, but why this is not working?"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530800332, "post_id": 51178486, "comment_id": 89368708, "body": "Hold on a sec- This json is not valid. You should have used <code>&quot;</code> instead of <code>&#39;</code>"}, {"owner": {"reputation": 39, "user_id": 8295235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f049562443ea7e06e75421e8dbbca1?s=128&d=identicon&r=PG&f=1", "display_name": "user8295235", "link": "https://stackoverflow.com/users/8295235/user8295235"}, "reply_to_user": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1531140375, "post_id": 51178486, "comment_id": 89470367, "body": "No that will work either with single quotes or double quotes"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1531147650, "post_id": 51178486, "comment_id": 89475440, "body": "You can check here, Json in your question is not valid - <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a>"}], "owner": {"reputation": 39, "user_id": 8295235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f049562443ea7e06e75421e8dbbca1?s=128&d=identicon&r=PG&f=1", "display_name": "user8295235", "link": "https://stackoverflow.com/users/8295235/user8295235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530728967, "creation_date": 1530724788, "last_edit_date": 1530728967, "question_id": 51178486, "link": "https://stackoverflow.com/questions/51178486/docusign-signature-is-not-replacing-usign-rest-api-pdf-form-fields", "title": "DocuSign Signature Is not Replacing usign Rest API PDF Form Fields", "body": "<p>I have one PDF which is having a Signature Field, with Field label SignFlags. I would  like to send that PDF for DocuSign Signing Ceremony. I can sent the document for Signing process. But that Signature field does not have any Docusign Signature Tab. </p>\n\n<p>JSON Request below:</p>\n\n<pre><code>'compositeTemplates': [{\n    'inlineTemplates': [{\n        'sequence': '1',\n        'recipients': {\n            'signers': [{\n                'email': 'Test@gmail.com',\n                'name': 'SignFlags',\n                'recipientId': '1',\n                'defaultRecipient': 'true',\n                 'tabs':{\n                         'signHereTabs':[\n                            {\n                               'tabLabel':''SignFlags'\n\n                            }\n                         ]}    \n            }]\n        }\n    }],\n    'document': {\n        'documentId': '1',\n        'name': 'irs_f4506t.pdf',\n        'documentBase64':'\" + document64+@\"',\n        'transformPdfFields': 'true'\n    }\n</code></pre>\n\n<p>Why it is not placing Docusign Tab</p>\n"}, {"tags": ["c#", "uwp", "windows-10-universal"], "answers": [{"tags": [], "owner": {"reputation": 721, "user_id": 8695112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7988955b5af088b4d13e4aadedf4f633?s=128&d=identicon&r=PG&f=1", "display_name": "rzippo", "link": "https://stackoverflow.com/users/8695112/rzippo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530727265, "creation_date": 1530727265, "answer_id": 51178952, "question_id": 51178379, "link": "https://stackoverflow.com/questions/51178379/apiinformation-check-for-storerequesthelper-sendrequestasync/51178952#51178952", "title": "ApiInformation check for StoreRequestHelper.SendRequestAsync()", "body": "<p>The issue resulted being about the way I obtained the name of the class, which needs to have the full namespace path. In fact <code>nameof</code> only returns the name of the class:\n<code>nameof(StoreRequestHelper) -&gt; \"StoreRequestHelper\"</code>. To obtain the correct name I used <code>typeof(StoreRequestHelper).FullName</code>. </p>\n\n<p>The working code is thus:</p>\n\n<pre><code>if(ApiInformation.IsMethodPresent(typeof(StoreRequestHelper).FullName, nameof(StoreRequestHelper.SendRequestAsync), 3))\n{\n     //use StoreRequestHelper.SendRequestAsync()\n}\nelse\n{\n     //Launcher.LaunchUriAsync()\n}\n</code></pre>\n"}], "owner": {"reputation": 721, "user_id": 8695112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7988955b5af088b4d13e4aadedf4f633?s=128&d=identicon&r=PG&f=1", "display_name": "rzippo", "link": "https://stackoverflow.com/users/8695112/rzippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530727265, "creation_date": 1530724232, "last_edit_date": 1530725052, "question_id": 51178379, "link": "https://stackoverflow.com/questions/51178379/apiinformation-check-for-storerequesthelper-sendrequestasync", "title": "ApiInformation check for StoreRequestHelper.SendRequestAsync()", "body": "<p>I'm using <code>SendRequestAsync()</code>, documented <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.services.store.storerequesthelper.sendrequestasync#Windows_Services_Store_StoreRequestHelper_SendRequestAsync_Windows_Services_Store_StoreContext_System_UInt32_System_String_\" rel=\"nofollow noreferrer\">here</a>, more specifically the request code <code>16</code> documented <a href=\"https://docs.microsoft.com/en-us/windows/uwp/monetize/request-ratings-and-reviews#show-a-rating-and-review-dialog-in-your-app\" rel=\"nofollow noreferrer\">here</a>, to show a review dialog in my app.\nMy code is essentially the one of the example and it's working fine on my system.</p>\n\n<p>From documentation it says that </p>\n\n<blockquote>\n  <p>The SendRequestAsync method is available only to apps that target Windows 10, version 1607, or later. Some of the requests supported by this method are only supported in releases after Windows 10, version 1607.</p>\n</blockquote>\n\n<p>And no info about the request code <code>16</code> seems to indicate that it requires a build later than <code>1607</code>.</p>\n\n<p>My objective now is to add a check via <code>ApiInformation</code> to use this method only from supported Windows 10 builds, otherwise use <a href=\"https://docs.microsoft.com/en-us/windows/uwp/monetize/request-ratings-and-reviews#launch-the-rating-and-review-page-for-your-app-in-the-store\" rel=\"nofollow noreferrer\">this uglier solution</a> which launches the Store app.</p>\n\n<p>I've tried with the following</p>\n\n<pre><code>if(ApiInformation.IsMethodPresent(nameof(StoreRequestHelper), nameof(StoreRequestHelper.SendRequestAsync)))\n{\n     //use StoreRequestHelper.SendRequestAsync()\n}\nelse\n{\n     //Launcher.LaunchUriAsync()\n}\n</code></pre>\n\n<p>However the check returns false even on my system, which is on the latest build and can open the dialog if the check is removed.</p>\n\n<p>What is the correct way to check for this API?</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1530725748, "post_id": 51178340, "comment_id": 89339901, "body": "Can you just use 2* for the top RowDefinition Height"}, {"owner": {"reputation": 99, "user_id": 9641911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt19I.jpg?s=128&g=1", "display_name": "ArXen42", "link": "https://stackoverflow.com/users/9641911/arxen42"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1530789157, "post_id": 51178340, "comment_id": 89361239, "body": "@paparazzo I can, but it will not prevent content from cropping when shrinking to some point (although it will definitely happen later then when using <code>1*</code>).  And the first button will always be much bigger then second even when there is enough space so they can be sized equally."}], "answers": [{"comments": [{"owner": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "edited": false, "score": 0, "creation_date": 1530736045, "post_id": 51178533, "comment_id": 89343216, "body": "this will kill performance if control is more complicated and uses lots of bindings"}, {"owner": {"reputation": 99, "user_id": 9641911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt19I.jpg?s=128&g=1", "display_name": "ArXen42", "link": "https://stackoverflow.com/users/9641911/arxen42"}, "reply_to_user": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "edited": false, "score": 0, "creation_date": 1530781425, "post_id": 51178533, "comment_id": 89356278, "body": "Thanks for the answer, I didn&#39;t see such a way to get <code>Auto</code> size of a control. Although code duplication doesn&#39;t seem to be the best solution in terms of maintainability and, as @KrzysztofSkowronek said, perfomance, it does the job."}, {"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "reply_to_user": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "edited": false, "score": 0, "creation_date": 1530781462, "post_id": 51178533, "comment_id": 89356304, "body": "@KrzysztofSkowronek that depends on how efficient the data model is converted into viewModel and how complex is the xaml code. given that it doesn&#39;t render twice, it kills a little IMO"}, {"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "reply_to_user": {"reputation": 99, "user_id": 9641911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt19I.jpg?s=128&g=1", "display_name": "ArXen42", "link": "https://stackoverflow.com/users/9641911/arxen42"}, "edited": false, "score": 0, "creation_date": 1530781915, "post_id": 51178533, "comment_id": 89356596, "body": "@ArXen42 yes, I agree. this is probably not your real code but you can improve or simplify the dummyControl as necessary. however IMO it&#39;s better to alter the design just a little bit in favor of the common wpf layout system"}], "tags": [], "owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1530725413, "last_edit_date": 1530725413, "creation_date": 1530725025, "answer_id": 51178533, "question_id": 51178340, "link": "https://stackoverflow.com/questions/51178340/how-to-automatically-constraint-rows-columns-minimal-size-when-using-proportiona/51178533#51178533", "title": "How to automatically constraint rows/columns minimal size when using proportional grid sizing (*)?", "body": "<p>Here's a quick and easy trick.</p>\n\n<p>Duplicate the control (and hide it) and use its measurements to find the <code>MinHeight</code>:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid x:Name=\"dummyControl\" VerticalAlignment=\"Center\"&gt;\n        &lt;Button Grid.Row=\"0\" Margin=\"2,2,2,2\" Visibility=\"Hidden\" IsHitTestVisible=\"False\"&gt;\n            &lt;TextBlock\n                Text=\"Button 1.&amp;#x0a;It has some text.&amp;#x0a;Button shouldn't shrink less then the text size.\"\n                TextWrapping=\"WrapWithOverflow\" /&gt;\n        &lt;/Button&gt;\n    &lt;/Grid&gt;\n\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition MinHeight=\"{Binding ElementName=dummyControl, Path=ActualHeight}\" Height=\"*\" /&gt;\n            &lt;RowDefinition Height=\"*\" /&gt;\n        &lt;/Grid.RowDefinitions&gt;\n\n        &lt;Button Grid.Row=\"0\" Margin=\"2,2,2,2\"&gt;\n            &lt;TextBlock\n                Text=\"Button 1.&amp;#x0a;It has some text.&amp;#x0a;Button shouldn't shrink less then the text size.\"\n                TextWrapping=\"WrapWithOverflow\" /&gt;\n        &lt;/Button&gt;\n        &lt;Button Grid.Row=\"1\" Content=\"Button 2\" Margin=\"2,2,2,2\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><code>VerticalAlignment</code> of <code>dummyControl</code> should be anything other than <code>Stretch</code></p>\n"}], "owner": {"reputation": 99, "user_id": 9641911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt19I.jpg?s=128&g=1", "display_name": "ArXen42", "link": "https://stackoverflow.com/users/9641911/arxen42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "accepted_answer_id": 51178533, "answer_count": 1, "score": 3, "last_activity_date": 1530732455, "creation_date": 1530724023, "last_edit_date": 1530732455, "question_id": 51178340, "link": "https://stackoverflow.com/questions/51178340/how-to-automatically-constraint-rows-columns-minimal-size-when-using-proportiona", "title": "How to automatically constraint rows/columns minimal size when using proportional grid sizing (*)?", "body": "<p>Assuming we have a simple window:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:WpfApplication1\"\n        Width=\"300\" Height=\"300\"&gt;\n\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"*\" /&gt;\n            &lt;RowDefinition Height=\"*\" /&gt;\n        &lt;/Grid.RowDefinitions&gt;\n\n        &lt;Button Grid.Row=\"0\" Margin=\"2,2,2,2\"&gt;\n            &lt;TextBlock\n                Text=\"Button 1.&amp;#x0a;It has some text.&amp;#x0a;Button shouldn't shrink less then the text size.\"\n                TextWrapping=\"WrapWithOverflow\" /&gt;\n        &lt;/Button&gt;\n        &lt;Button Grid.Row=\"1\" Content=\"Button 2\" Margin=\"2,2,2,2\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ny36q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ny36q.png\" alt=\"Normal size\"></a></p>\n\n<p>Seems ok. However, after resizing, the upper button's content is cropped:\n<a href=\"https://i.stack.imgur.com/k08d3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k08d3.png\" alt=\"Small size\"></a></p>\n\n<p>The desired layout should look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iBpWE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iBpWE.png\" alt=\"Desired behaviour\"></a></p>\n\n<p>In text: <strong>make the row height behave as proportional (*) with <code>MinHeight</code> equal to it's <code>Auto</code> height. In other words, have the <code>Height</code> to be <code>Max(1*,Auto)</code>.</strong></p>\n\n<p>I assume that if WPF is capable of determining size of row automatically when set to <code>Auto</code>, then there should be a way to make it respect that size when proportionally sizing.</p>\n\n<p>I found somewhat related questions (<a href=\"https://stackoverflow.com/questions/13860046/limit-rows-height-on-both-auto-and-1-in-wpf\">1</a>, <a href=\"https://stackoverflow.com/questions/37810682/wpf-grid-auto-sizing-with-minimum-height-constraints\">2</a>) but was unable to adapt techniques used there to my case.</p>\n\n<p>The only result achieved at the moment is</p>\n\n<ul>\n<li>Bind <code>Button.MinHeight</code> to nested <code>TextBlock.ActualHeight</code></li>\n<li>In code behind: enumerate all grid's childs placed in the first row, find maximal <code>MinHeight</code>, set it as <code>RowDefinition.MinHeight</code>. Looks crappy because the button is bigger then the text block.</li>\n</ul>\n\n<p>May be something related to <code>Measure &amp; Arrange</code> is needed? Or it is not worth the effort and it would be better to just place <code>MinHeight</code> manually (and also have some problems with the localization strings lenght differences)?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1530744086, "post_id": 51178311, "comment_id": 89345290, "body": "Unfortunately it cannot be reproduced. Maybe your Mac is broken by some other things."}], "answers": [{"comments": [{"owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1554733529, "post_id": 51234810, "comment_id": 97850187, "body": "I created a symlink (<code>$ ln -s &#47;usr&#47;lib&#47;libproc.dylib libproc.dylib</code>) to the same effect."}], "tags": [], "owner": {"reputation": 41, "user_id": 6635776, "user_type": "registered", "profile_image": "https://graph.facebook.com/1044960415544027/picture?type=large", "display_name": "Wei Weng", "link": "https://stackoverflow.com/users/6635776/wei-weng"}, "is_accepted": true, "score": 2, "last_activity_date": 1531073560, "creation_date": 1531073560, "answer_id": 51234810, "question_id": 51178311, "link": "https://stackoverflow.com/questions/51178311/dotnet-restore-unable-to-load-shared-library-libproc-or-one-of-its-dependencie/51234810#51234810", "title": "dotnet restore unable to load shared library &#39;libproc&#39; or one of its dependencies on Mac OS", "body": "<p>I got it to work by using fs-usage to examine where does dotnet try to find libproc.dylib. In my case, I found that dotnet was trying to find libproc.dylib at ~/libproc.dylib, so I copied /usr/lib/libproc.dylib to ~/libproc.dylib and dotnet worked.</p>\n\n<p>I think this is not a satisfactory answer so if anyone knows why dotnet was not looking for libproc.dylib at /usr/lib/libproc.dylib, please help me out. Thank you!</p>\n"}, {"tags": [], "owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "is_accepted": false, "score": 1, "last_activity_date": 1556309633, "last_edit_date": 1556309633, "creation_date": 1555104323, "answer_id": 55659619, "question_id": 51178311, "link": "https://stackoverflow.com/questions/51178311/dotnet-restore-unable-to-load-shared-library-libproc-or-one-of-its-dependencie/55659619#55659619", "title": "dotnet restore unable to load shared library &#39;libproc&#39; or one of its dependencies on Mac OS", "body": "<p>I noticed that my comment only worked when I started <code>pwsh</code> in <code>~</code>.</p>\n\n<p>I created a symlink in <code>/usr/local/microsoft/powershell/6</code> that points to <code>libproc.dylib</code>:</p>\n\n<pre><code>/usr/local/microsoft/powershell/6$ sudo ln -s /usr/lib/libproc.dylib libproc.dylib\n</code></pre>\n\n<p>PowerShell starts correctly in any directory.</p>\n\n<p>This will likely need to be recreated when I upgrade PowerShell Core (via Homebrew Cask).</p>\n\n<p>** edit **</p>\n\n<p>I should have read the question more closely--it was about <code>dotnet</code>, not <code>pwsh</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 6635776, "user_type": "registered", "profile_image": "https://graph.facebook.com/1044960415544027/picture?type=large", "display_name": "Wei Weng", "link": "https://stackoverflow.com/users/6635776/wei-weng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1432, "favorite_count": 0, "accepted_answer_id": 51234810, "answer_count": 2, "score": 2, "last_activity_date": 1556309633, "creation_date": 1530723876, "question_id": 51178311, "link": "https://stackoverflow.com/questions/51178311/dotnet-restore-unable-to-load-shared-library-libproc-or-one-of-its-dependencie", "title": "dotnet restore unable to load shared library &#39;libproc&#39; or one of its dependencies on Mac OS", "body": "<p>I am following the tutorial for .NET on</p>\n\n<p><a href=\"https://www.microsoft.com/net/learn/get-started/macos\" rel=\"nofollow noreferrer\">https://www.microsoft.com/net/learn/get-started/macos</a></p>\n\n<p>I installed the .NET SDK and create an app by using on macOS High Sierra Version 10.13.5:</p>\n\n<pre><code>~$ dotnet new console -o myApp\n</code></pre>\n\n<p>which gives me an error of:</p>\n\n<pre><code>The template \"Console Application\" was created successfully.\n\nProcessing post-creation actions...\nRunning 'dotnet restore' on myApp/myApp.csproj...\nUnable to load shared library 'libproc' or one of its dependencies. In order to help diagnose loading problems, consider setting the DYLD_PRINT_LIBRARIES \nenvironment variable: dlopen(liblibproc, 1): image not found\n</code></pre>\n\n<p>I tried to do</p>\n\n<pre><code>export DYLD_PRINT_LIBRARIES=/usr/lib/\n</code></pre>\n\n<p>before deleting the created folder and files, and I get a lot of printed statements that look like:</p>\n\n<pre><code>dyld: loaded: /usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.1.1/System.IO.Compression.Native.dylib\n</code></pre>\n\n<p>as well as the same error:</p>\n\n<pre><code>The template \"Console Application\" was created successfully.\n\nProcessing post-creation actions...\nRunning 'dotnet restore' on myApp/myApp.csproj...\nUnable to load shared library 'libproc' or one of its dependencies. In order to help diagnose loading problems, consider setting the DYLD_PRINT_LIBRARIES \nenvironment variable: dlopen(liblibproc, 1): image not found\n</code></pre>\n"}, {"tags": ["c#", "arrays", "sorting"], "comments": [{"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1530724007, "post_id": 51178272, "comment_id": 89339200, "body": "Seems you should be able to use any existing in-place sorting algorithm - just completely ignore (step over) positions that hold even values."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1530725546, "post_id": 51178272, "comment_id": 89339819, "body": "Welcome to StackOverflow; I notice that there is no <i>question</i> in your question, just a block of code and a statement of a problem. <b>What is your specific question?</b> If your code works and you&#39;d like a critique, post it on the code review site, not this site. If your code does not work then <i>ask a specific question about the problem</i>."}], "answers": [{"tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1530724892, "last_edit_date": 1530724892, "creation_date": 1530724330, "answer_id": 51178405, "question_id": 51178272, "link": "https://stackoverflow.com/questions/51178272/how-to-sort-ascending-only-odd-numbers-in-array/51178405#51178405", "title": "How to sort ascending only odd numbers in array?", "body": "<p>Check this code. Explanations added as comments</p>\n\n<pre><code>public static int[] SortArray(int[] array)\n{\n    //temp variable for holding larger value for switching\n    int temp = 0;\n\n    for (int i = 0; i &lt; array.Length; i++)\n    {\n        //If the value is 'even' continue with outer loop\n        if(array[i] % 2 == 0)\n           continue;\n\n        //Inner loop to compare array values\n        for(int j = (i + 1); j &lt; array.Length; j++)\n        {\n            //If this value is not even do comparison\n            if(array[j] % 2 != 0)\n            {\n                //If the left value is greater than the right value\n                //swap them\n                if(array[i] &gt; array[j])\n                {\n                   temp = array[i];\n                   array[i] = array[j];\n                   array[j] = temp;\n                }\n            }\n        }\n    }\n\n    return array;\n}\n\npublic static void Main()\n{\n    SortArray(new int[] { 5, 3, 2, 8, 1, 4});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 3, "last_activity_date": 1530727441, "last_edit_date": 1530727441, "creation_date": 1530726978, "answer_id": 51178886, "question_id": 51178272, "link": "https://stackoverflow.com/questions/51178272/how-to-sort-ascending-only-odd-numbers-in-array/51178886#51178886", "title": "How to sort ascending only odd numbers in array?", "body": "<p>You can do this with linq by indexing the numbers before you start:</p>\n\n<pre><code>var nums = new[] { 5, 3, 2, 8, 1, 4 };\nvar indexedNums = nums.Select((num, idx) =&gt; new { num, idx }).ToList();\n</code></pre>\n\n<p>Then sorting these indexed numbers into evens and odds:</p>\n\n<pre><code>var evens = indexedNums.Where(x =&gt; x.num % 2 == 0);\nvar odds = indexedNums.Where(x =&gt; x.num % 2 == 1);\n</code></pre>\n\n<p>Sorting the odd (indexed) numbers by their value:</p>\n\n<pre><code>var sortedOdds = odds.OrderBy(x =&gt; x.num); //sort the odd numbers by their value\n</code></pre>\n\n<p>Zipping this sequence with the <code>odds</code> sequence (which is sorted by index), taking the number from <code>sortedOdds</code> and the index from <code>odds</code></p>\n\n<pre><code>var reindexedOdds = sortedOdds.Zip(odds, (o1, o2) =&gt; new { o1.num, o2.idx });\n</code></pre>\n\n<p>...and throwing these <code>reindexedOdds</code> into a sequence with the indexed <code>evens</code> from above, sorting by index and then selecting out the number.</p>\n\n<pre><code>var endSequence = evens.Concat(reindexedOdds).OrderBy(x =&gt; x.idx).Select(x =&gt; x.num);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "is_accepted": false, "score": 1, "last_activity_date": 1530727542, "creation_date": 1530727542, "answer_id": 51179014, "question_id": 51178272, "link": "https://stackoverflow.com/questions/51178272/how-to-sort-ascending-only-odd-numbers-in-array/51179014#51179014", "title": "How to sort ascending only odd numbers in array?", "body": "<p>While the other solutions are formally correct, most of them are not efficient, being with <code>O(n^2)</code> time complexity.</p>\n\n<p>Another (and more time efficient) approach should imply the use of two lists: the first will contain the indexes of odd numbers, and the second will store the sorted odd numbers.</p>\n\n<pre><code>public static int[] SortArray(int[] array)\n{\n    var sortedOdds = new List&lt;int&gt;(array.Length);\n    var oddsIndexes = new List&lt;int&gt;(array.Length);\n    var newArray = new int[array.Length];\n\n    for(var i = 0; i &lt; array.Length; i++) // O(n)\n    {\n        var value = array[i];\n        if(value % 2 == 1)\n        {\n            sortedOdds.Add(value);\n            oddsIndexes.Add(i);\n        } else\n        {\n            newArray[i] = value;\n        }\n    }\n\n    sortedOdds.Sort(); // average complexity O(n log n)\n\n    for(var j = 0; j &lt; sortedOdds.Count; j++) // O(n)\n    {\n        var value = sortedOdds[j];\n        var index = oddsIndexes[j];\n        newArray[index] = value;\n    }\n\n    return newArray;\n}\n</code></pre>\n\n<p>This will reduce the complexity to an average of <code>O(n log n)</code> time.</p>\n"}], "owner": {"reputation": 162, "user_id": 8291866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe8bdf5c94cafcc5682a10ec014ee7e4?s=128&d=identicon&r=PG&f=1", "display_name": "DeveViru", "link": "https://stackoverflow.com/users/8291866/deveviru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2928, "favorite_count": 2, "accepted_answer_id": 51178405, "answer_count": 3, "score": 2, "last_activity_date": 1530727542, "creation_date": 1530723677, "last_edit_date": 1530725525, "question_id": 51178272, "link": "https://stackoverflow.com/questions/51178272/how-to-sort-ascending-only-odd-numbers-in-array", "title": "How to sort ascending only odd numbers in array?", "body": "<p>I want to sort only odd numbers without moving even numbers. For example, if my input is:</p>\n\n<pre><code>[5, 3, 2, 8, 1, 4]\n</code></pre>\n\n<p>The expected result is:</p>\n\n<pre><code>[1, 3, 2, 8, 5, 4]\n</code></pre>\n\n<p>I am new to C# and I came across a challenge on the Internet that has me perplexed. I have tried for hours and I would like to learn this concept in</p>\n\n<p>The challenge states:</p>\n\n<blockquote>\n  <p>You have an array of numbers. Your task is to sort ascending odd numbers but even numbers must be on their places. Zero isn't an odd number and you don't need to move it. If you have an empty array, you need to return it.</p>\n</blockquote>\n\n<p>Here is my code so far, please take it easy on me I am in the beginning stages of programming.</p>\n\n<pre><code>public static int[] SortArray(int[] array)\n{\n    var dict = new Dictionary&lt;int, int&gt;();\n    var dict2 = new Dictionary&lt;int, int&gt;();\n\n    for (int i = 0; i &lt; array.Length; i++)\n    {\n        int j =0;\n        if (array[i] % 2 != 0)\n        {\n            dict.Add(array[i], i+1);\n        }\n        else\n        {\n            dict2.Add(array[i], i+1);\n        }\n    }\n    var result = dict.OrderBy(x =&gt; x.Key);\n    Dictionary&lt;int, int&gt; resultDic = result.Union(dict2)\n      .GroupBy(x =&gt; x.Key).ToDictionary(o =&gt; o.Key, o =&gt; o.Key);\n}\n\npublic static void Main()\n{\n    SortArray(new int[] { 5, 3, 2, 8, 1, 4});\n}\n</code></pre>\n"}, {"tags": ["c#", "file.readalllines"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1530723678, "post_id": 51178219, "comment_id": 89339089, "body": "There&#39;s nothing wrong with your code. Are you sure you&#39;re reading the correct file?"}, {"owner": {"reputation": 35071, "user_id": 316799, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0fa8da5d4aacf3078d23d33c4effadd5?s=128&d=identicon&r=PG", "display_name": "Felipe Oriani", "link": "https://stackoverflow.com/users/316799/felipe-oriani"}, "edited": false, "score": 0, "creation_date": 1530723746, "post_id": 51178219, "comment_id": 89339108, "body": "I would try some <code>encoding</code> with this overload <a href=\"https://msdn.microsoft.com/en-us/library/ms143369.aspx\" rel=\"nofollow noreferrer\">File.ReadallText</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530724239, "post_id": 51178219, "comment_id": 89339284, "body": "If you made sure that you are indeed reading the correct text file and the problem persists, then first check the file size of this file. If the file size is not zero, then take a hex viewer/hex editor and look at the bytes inside the text file. What do you see?"}, {"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "edited": false, "score": 0, "creation_date": 1530724513, "post_id": 51178219, "comment_id": 89339411, "body": "I just tried to use ReadALlText() with &#39;&#194;&#39; chanracter.and its perfectly fine to use .can you post your file"}, {"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "edited": false, "score": 0, "creation_date": 1530724834, "post_id": 51178219, "comment_id": 89339550, "body": "can you hit [System.Text.Encoding]::Default command into your system power shell"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1530726481, "post_id": 51178219, "comment_id": 89340182, "body": "Please show the binary content of the file - if you use <code>byte[] data = File.ReadAllBytes(...);</code> and then <code>Console.WriteLine(BitConverter.ToString(data));</code> what does that show?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1530727535, "post_id": 51178219, "comment_id": 89340509, "body": "The &#39;&#194;&#39; character is fairly special, you&#39;ll often see it back in a utf-8 encoded text file.  Along with other accented A characters, 0xC0 and up are common bytes in such a file when it encodes text in a Latin alphabet.  It won&#39;t be &#39;&#194;&#39; anymore after StreamReader has applied its Encoding.  A return value of 0 is expected, such characters require more than 1 byte to encode.  So first thing you want to do is make sure that you are not looking for that character for the wrong reason."}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "edited": false, "score": 1, "creation_date": 1530724939, "post_id": 51178427, "comment_id": 89339596, "body": "this does not make sure you will get that character.its only applying system&#39;s default encoding setting to the file that stream is going to read."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1530726443, "post_id": 51178427, "comment_id": 89340169, "body": "We have no information to suggest that the OP&#39;s file is actually using the system default encoding."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 1, "creation_date": 1530727844, "post_id": 51178427, "comment_id": 89340604, "body": "Encoding.Default should only be used in very rare cases and generally be avoided. It may seem to work, but in the moment when you decide to export this file to another system or import a file from another system you basically have broken code as now everything is left up to chance."}, {"owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "edited": false, "score": 0, "creation_date": 1530730149, "post_id": 51178427, "comment_id": 89341456, "body": "Exactly,default might be different for each user setting."}], "tags": [], "owner": {"reputation": 149, "user_id": 6453170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78b5407df575177822f95574e99e797?s=128&d=identicon&r=PG&f=1", "display_name": "Sim&#227;o Ferreira", "link": "https://stackoverflow.com/users/6453170/sim%c3%a3o-ferreira"}, "is_accepted": false, "score": -1, "last_activity_date": 1530724457, "creation_date": 1530724457, "answer_id": 51178427, "question_id": 51178219, "link": "https://stackoverflow.com/questions/51178219/file-readalltext-cant-read/51178427#51178427", "title": "File.ReadAllText can&#39;t read", "body": "<p>It works, if you set the encoding as Default:</p>\n\n<pre><code>string result = File.ReadAllText(\"test.txt\", Encoding.Default);\n</code></pre>\n\n<p>This will give you the \"\u00c2\".</p>\n"}, {"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1530726417, "post_id": 51178731, "comment_id": 89340164, "body": "&quot;You are trying to read Latin character(s) which is 8859-1 encoding&quot; - the same characters can be represented in many encodings. You can&#39;t tell just from the character which encoding is being used."}], "tags": [], "owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "is_accepted": false, "score": -1, "last_activity_date": 1530726089, "creation_date": 1530726089, "answer_id": 51178731, "question_id": 51178219, "link": "https://stackoverflow.com/questions/51178219/file-readalltext-cant-read/51178731#51178731", "title": "File.ReadAllText can&#39;t read", "body": "<p>You are trying to read Latin character(s) which is 8859-1 encoding. Try below</p>\n\n<pre><code> Encoding iso = Encoding.GetEncoding(\"ISO-8859-1\");\n string a = File.ReadAllText(\"C:/example/example/test.txt\",iso);\n Console.WriteLine(a.Length);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8728865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb0f723b34f25ee6a93eb583b39862c3?s=128&d=identicon&r=PG&f=1", "display_name": "Sifflex", "link": "https://stackoverflow.com/users/8728865/sifflex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1266, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1530726089, "creation_date": 1530723451, "question_id": 51178219, "link": "https://stackoverflow.com/questions/51178219/file-readalltext-cant-read", "title": "File.ReadAllText can&#39;t read", "body": "<p>My problem is that I want to parse a file and it had to detect a special char (<strong>'\u00c2'</strong>) to do some stuff. I didn't manage to detect it but it worked with normal chars like 'a'.\nSo I tried to understand where the problem was coming from, and created a .txt file whose only char is '\u00c2'.</p>\n\n<pre><code>string a = File.ReadAllText(\"C:/example/example/test.txt\");\nConsole.WriteLine(a.Length);`\n</code></pre>\n\n<p>Console prints 0. It's like the char doesn't exist. So I tried with different encodings (File.ReadAllText with utf8, utf16, unicode and so) and had the same result.</p>\n\n<p>I really don't know what to do, thanks in advance!</p>\n"}, {"tags": ["c#", "process", "stream", "chess", "fen"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1530726334, "post_id": 51178170, "comment_id": 89340140, "body": "Well, i guess, as long as the process you started is running you won&#39;t encounter an &quot;end of stream&quot; on the process&#39; standard output stream. Just parse the data from stockfish in your GetEvaluation method until you got what you are looking for. Then exit the stockfish process (writing the appropriate command to stockfish standard input stream, i would guess) and leave GetEvaluation by returning the obtained data."}, {"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530727603, "post_id": 51178170, "comment_id": 89340529, "body": "@elgonzo - Thanks! Could you please demonstrate in an answer how will the code look like using your suggestion? The UCI command for stopping the engine is <code>quit</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530801617, "post_id": 51179855, "comment_id": 89369615, "body": "Thanks for the answer! It seems that you really put an effort into it. After running your code, I get all the output until <code>uciok</code>. But after that, how do I send a FEN to the <code>GetEvaluation</code> method and get the result? Thanks again!"}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530818654, "post_id": 51179855, "comment_id": 89378848, "body": "Evaluate the second answer please"}, {"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1531136696, "post_id": 51179855, "comment_id": 89468038, "body": "Is there a way to actually do that synchronically?"}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 1, "creation_date": 1531242257, "post_id": 51179855, "comment_id": 89519571, "body": "It is possible if you can determine what output line is going to be the last one. Otherwise, your ReadLine method will block your program eternally waiting for the output that will never happen."}], "tags": [], "owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "is_accepted": false, "score": 1, "last_activity_date": 1530732372, "creation_date": 1530732372, "answer_id": 51179855, "question_id": 51178170, "link": "https://stackoverflow.com/questions/51178170/loop-doesnt-reach-end-of-stream/51179855#51179855", "title": "Loop doesn&#39;t reach end of stream", "body": "<p>It appears that stockfish returns \"uciok\" in the end of his job.\nYou can try the following code to determine when it is finished (see <code>if (line == \"uciok\")</code>):</p>\n\n<pre><code>class Program\n{\n    class StockfishOracle\n    {\n        private readonly Process process = new Process();\n\n        public StockfishOracle()\n        {\n            process.StartInfo = new ProcessStartInfo\n            {\n                FileName = @\"D:\\stockfish-9-win\\Windows\\stockfish_9_x64.exe\",\n                UseShellExecute = false,\n                RedirectStandardError = true,\n                RedirectStandardInput = true,\n                RedirectStandardOutput = true\n            };\n\n            process.Start();\n            SendUciCommand(\"uci\");\n        }\n        public IEnumerable&lt;string&gt; GetEvaluation(string fen)\n        {\n            SendUciCommand($\"position fen {fen}\");\n            SendUciCommand(\"go depth 1\");\n\n            while (!process.StandardOutput.EndOfStream)\n            {\n                var line = process.StandardOutput.ReadLine();\n                yield return line;\n\n                if (line == \"uciok\")\n                {\n                    break;\n                }\n            }\n        }\n\n        private void SendUciCommand(string command)\n        {\n            process.StandardInput.WriteLine(command);\n            process.StandardInput.Flush();\n        }\n    }\n\n    static void Main(string[] args)\n    {\n        var s = new StockfishOracle();\n\n        foreach (var @out in s.GetEvaluation(\"\"))\n        {\n            Console.WriteLine(@out);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530819465, "post_id": 51198527, "comment_id": 89379172, "body": "This works! Thanks. How would you change the code if you would like to get the &quot;score cp&quot; instead of the best move?"}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530821348, "post_id": 51198527, "comment_id": 89379948, "body": "public class MoveInfo \t\t{ \t\t\tprivate readonly string moveString; \t\t\tprivate const string scorecp = &quot;score cp&quot;, nodes = &quot;nodes&quot;;  \t\t\tpublic MoveInfo(string moveString) \t\t\t{ \t\t\t\tthis.moveString = moveString; \t\t\t}  \t\t\tpublic string Score =&gt; moveString.Contains(scorecp) \t\t\t\t? moveString.Substring(moveString.IndexOf(scorecp), moveString.IndexOf(nodes) - moveString.IndexOf(scorecp)) \t\t\t\t: string.Empty; \t\t}  var moves = new List&lt;MoveInfo&gt;(); \t\t\toracle.DataReceived += (sender, args) =&gt; \t\t\t{ \t\t\t\tif (args.Data.Contains(&quot;info&quot;)) \t\t\t\t\tmoves.Add(new MoveInfo(args.Data)); \t\t\t};"}, {"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530872233, "post_id": 51198527, "comment_id": 89397047, "body": "Works perfectly! Question: is it necessary to have the <code>oracle.Wait(5000)</code> method? I would really like it to give me the result the fastest possible."}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 1, "creation_date": 1530877246, "post_id": 51198527, "comment_id": 89399880, "body": "It isn&#39;t necessary if you can determine the end condition in your event handler:  &#39;oracle.DataReceived += (sender, eventArgs) =&gt; ...&#39;  then you can just exit from your app when you determine it.  Also, it isn&#39;t necessary if your application has GUI (since it has a main thread with the event loop).  But in this particular example, console application will exit just when it reaches the end of Main procedure, Therefore I had to put wait block."}, {"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 0, "creation_date": 1530877520, "post_id": 51198527, "comment_id": 89400018, "body": "You are very helpful. My main goal is to have a loop that sends thousands of fens into the oracle, and then log the results into a .txt file (each line is like this: <code>{fen} {scroe}</code>). How would you do that? I am having trouble doing this with the asynchronous way."}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "edited": false, "score": 1, "creation_date": 1530879822, "post_id": 51198527, "comment_id": 89401395, "body": "In that case can&#39;t you just send all the commands to oracle and then wait infinitely until there is no output in terminal, and then shut down the program manually?"}, {"owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "reply_to_user": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "edited": false, "score": 0, "creation_date": 1530879860, "post_id": 51198527, "comment_id": 89401424, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174497/discussion-between-sipo-and-nicklaus-brain\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "is_accepted": true, "score": 1, "last_activity_date": 1530818624, "creation_date": 1530818624, "answer_id": 51198527, "question_id": 51178170, "link": "https://stackoverflow.com/questions/51178170/loop-doesnt-reach-end-of-stream/51198527#51198527", "title": "Loop doesn&#39;t reach end of stream", "body": "<p>Well, this appeared a nice riddle for me.\nLet's consider another approach and try to communicate with the chess oracle asynchronously:</p>\n\n<pre><code>class Program\n{\n    class StockfishOracle\n    {\n        private readonly Process process = new Process();\n\n        public StockfishOracle()\n        {\n            process.StartInfo = new ProcessStartInfo\n            {\n                FileName = @\"D:\\stockfish-9-win\\Windows\\stockfish_9_x64.exe\",\n                UseShellExecute = false,\n                RedirectStandardError = true,\n                RedirectStandardInput = true,\n                RedirectStandardOutput = true\n            };\n\n            process.OutputDataReceived += (sender, args) =&gt; this.DataReceived.Invoke(sender, args);\n        }\n\n        public event DataReceivedEventHandler DataReceived = (sender, args) =&gt; {};\n\n        public void Start()\n        {\n            process.Start();\n            process.BeginOutputReadLine();\n        }\n\n        public void Wait(int millisecond)\n        {\n            this.process.WaitForExit(millisecond);\n        }\n\n        public void SendUciCommand(string command)\n        {\n            process.StandardInput.WriteLine(command);\n            process.StandardInput.Flush();\n        }\n\n    }\n\n    static void Main()\n    {\n        var oracle = new StockfishOracle();\n        // this will contain all the output of the oracle\n        var output = new ObservableCollection&lt;string&gt;();\n        // in this way we redirect output from oracle to stdout of the main process\n        output.CollectionChanged += (sender, eventArgs) =&gt; Console.WriteLine(eventArgs.NewItems[0]);\n        // in this way collect all the output from oracle\n        oracle.DataReceived += (sender, eventArgs) =&gt; output.Add(eventArgs.Data);\n\n        oracle.Start();\n\n        oracle.SendUciCommand(\"position fen rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\");\n        oracle.SendUciCommand(\"position startpos moves e2e4\");\n        oracle.SendUciCommand(\"go depth 20\");\n\n        oracle.Wait(5000); // if output does not contain bestmove after given time, you can wait more\n\n        var bestMove = output.Last();\n\n        Console.WriteLine(\"Oracle says that the best move is: \" + bestMove);\n    }\n}\n</code></pre>\n\n<p>As far as i understood you are looking for the prediction of the best move. Now you can wait until it appear in the output. Also using the same event handler you can analyze every string the oracle writes into output until you see desired one.</p>\n"}], "owner": {"reputation": 2798, "user_id": 1925272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d114e95e000e9416056d863278731a7?s=128&d=identicon&r=PG", "display_name": "Sipo", "link": "https://stackoverflow.com/users/1925272/sipo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 51198527, "answer_count": 2, "score": 1, "last_activity_date": 1587286180, "creation_date": 1530723224, "last_edit_date": 1587286180, "question_id": 51178170, "link": "https://stackoverflow.com/questions/51178170/loop-doesnt-reach-end-of-stream", "title": "Loop doesn&#39;t reach end of stream", "body": "<p>I am developing a program for analyzing chess problems - especially endgame problems - using the .exe version of the open-source chess-engine <a href=\"https://stockfishchess.org/\" rel=\"nofollow noreferrer\">Stockfish 9</a>.</p>\n\n<p>Here is the (very simplified) <code>EndgameAnalyzer</code> class:</p>\n\n<pre><code>class EndgameAnalyzer\n{\n    private StockfishOracle oracle = new StockfishOracle();\n\n    public void AnalyzeByFEN(string fen)\n    {\n        var evaluation = oracle.GetEvaluation(fen);\n        Console.WriteLine($\"{fen}\\t{evaluation}\");\n    }\n}\n</code></pre>\n\n<p>The <code>AnalyzeByFEN</code> method receives a <a href=\"https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation\" rel=\"nofollow noreferrer\">FEN</a> (a string representing a chess position) and writes down the engine evaluation for this position.</p>\n\n<p><code>StockfishOracle</code> is the class which is used to communicate with the engine (like oracles are used to communicate with the gods :)), using the <a href=\"http://wbec-ridderkerk.nl/html/UCIProtocol.html\" rel=\"nofollow noreferrer\">UCI protocol</a>. The relevant UCI commands for this question are:</p>\n\n<blockquote>\n  <p><strong><code>uci</code></strong>: Enter uci mode.<br>\n  <strong><code>position fen //followed by a FEN</code></strong>: Set a position to analyze.<br>\n  <strong><code>go depth 1</code>:</strong> Analyze the position one ply (\"move\") deep.</p>\n</blockquote>\n\n<p>And here is the (again, very simplified) <code>StockfishOracle</code> class:</p>\n\n<pre><code>class StockfishOracle\n{\n    private Process process = new Process();\n\n    public StockfishOracle()\n    {\n        process.StartInfo = new ProcessStartInfo()\n        {\n            FileName = @\"C:\\stockfish_9_x64.exe\",\n            UseShellExecute = false,\n            RedirectStandardError = true,\n            RedirectStandardInput = true,\n            RedirectStandardOutput = true\n        };\n\n        process.Start();\n        SendUCICommand(\"uci\");\n    }\n    public string GetEvaluation(string fen)\n    {\n        SendUCICommand($\"position fen {fen}\");\n        SendUCICommand(\"go depth 1\");\n\n        string result = string.Empty;\n        while (!process.StandardOutput.EndOfStream)\n        {\n            result = process.StandardOutput.ReadLine();\n        }\n        return result;\n\n    }\n    private void SendUCICommand(string command)\n    {\n        process.StandardInput.WriteLine(command);\n        process.StandardInput.Flush();\n    }\n}\n</code></pre>\n\n<p>When calling the <code>AnalyzeByFEN</code> method with a FEN, no output is shown in the console. A careful investigation led to the observation that the loop <code>while (!process.StandardOutput.EndOfStream)</code> is going forever, so the output is never returned. I am pretty new to processes, so I am pretty sure there are some basic mistakes in my code. How to fix this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio-2017", "reportviewer"], "comments": [{"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1530759021, "post_id": 51178080, "comment_id": 89347635, "body": "Which line thrown the exception, are you attempting to upgrade <code>ReportViewer</code> from previous versions? Possibly you should look into web.config and package manager to ensure no conflict occurred."}, {"owner": {"reputation": 3, "user_id": 9958389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vZCZ32b-J54/AAAAAAAAAAI/AAAAAAAAAAA/MPYqIq4LhKw/photo.jpg?sz=128", "display_name": "jason dwyer", "link": "https://stackoverflow.com/users/9958389/jason-dwyer"}, "reply_to_user": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1530818604, "post_id": 51178080, "comment_id": 89378827, "body": "@TetsuyaYamamoto, no exception was thrown and I&#39;ve not upgrade reportviewer"}], "owner": {"reputation": 3, "user_id": 9958389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vZCZ32b-J54/AAAAAAAAAAI/AAAAAAAAAAA/MPYqIq4LhKw/photo.jpg?sz=128", "display_name": "jason dwyer", "link": "https://stackoverflow.com/users/9958389/jason-dwyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530729348, "creation_date": 1530722814, "last_edit_date": 1530729348, "question_id": 51178080, "link": "https://stackoverflow.com/questions/51178080/unable-to-display-data-on-rdlc-report-asp-net", "title": "Unable to display data on rdlc report asp.net", "body": "<p>I'm using a stored procedure and details on a report. I'm using report viewer and dataset; however I just seem to be getting an error in aspx file:</p>\n\n<blockquote>\n  <p>Error Creating Control - ReportViewer1Failed to create designer\n  'Microsoft.Reporting.WebForms.ReportViewer,\n  Microsoft.ReportViewer.WebForms, Version=11.0.0.0, Culture=neutral,\n  PublicKeyToken=89845dcd8080cc91'</p>\n</blockquote>\n\n<p>But when I execute it only shows this and no details on the report. </p>\n\n<p>Image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/61l2g.png\" alt=\"see image\"></p>\n\n<p>html </p>\n\n<pre><code>    &lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"Report.aspx.cs\" Inherits=\"Student_Report\" %&gt;\n\n&lt;%@ Register Assembly=\"Microsoft.ReportViewer.WebForms, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91\" Namespace=\"Microsoft.Reporting.WebForms\" TagPrefix=\"rsweb\" %&gt;\n\n\n\n\n\n\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Student Report&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\" style=\"text-align: center\"&gt;\n        &lt;h1 style=\"font-family: 'Comic Sans MS'; text-align: center; font-size: xx-large;\"&gt;Student Report\n        &lt;/h1&gt;\n\n  &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n            &lt;/asp:ScriptManager&gt;\n        &lt;rsweb:ReportViewer ID=\"ReportViewer1\" runat=\"server\"&gt;\n        &lt;/rsweb:ReportViewer&gt;\n\n\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Code Behind</p>\n\n<pre><code>if (!IsPostBack)\n    {\n        string strSQLconstring = System.Configuration.ConfigurationManager.ConnectionStrings[\"constr\"].ToString();\n        ReportViewer1.ProcessingMode = ProcessingMode.Local;\n        //report path\n        ReportViewer1.LocalReport.ReportPath = Server.MapPath(\"~/Report.rdlc\");\n        SqlDataAdapter adp = new SqlDataAdapter(\"sp_StudentData\", strSQLconstring);\n        adp.SelectCommand.CommandType = CommandType.StoredProcedure;\n        //object of Dataset DemoDataSet\n        TWCL_OPERATIONSDataSet ds = new TWCL_OPERATIONSDataSet();\n        adp.Fill(ds, \"sp_StudentData\");\n        //Datasource for report\n        ReportDataSource datasource = new ReportDataSource(\"DataSet1\", ds.Tables[0]);\n        ReportViewer1.Width = 2000;\n\n        ReportViewer1.LocalReport.DataSources.Clear();\n        ReportViewer1.LocalReport.DataSources.Add(datasource);\n        ReportViewer1.LocalReport.Refresh();\n    }\n</code></pre>\n\n<p>I've done some research and I can't seem to figure out what I did wrong.</p>\n"}, {"tags": ["c#", "entity-framework-core", "database-performance"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530722880, "post_id": 51178046, "comment_id": 89338751, "body": "The moment EF Core finds parts of your query that it cannot convert to SQL, it will drag the query results into memory and process them there. You have code like <code>_channelObjectMappingRepository.Get()....</code> that is impossible for EF Core to analyse so it will be executed once for every row."}, {"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530723056, "post_id": 51178046, "comment_id": 89338831, "body": "so if i dont use the repositories and just access the context directly, it will improve it?"}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1530723096, "post_id": 51178046, "comment_id": 89338851, "body": "Also (I didn&#39;t look well at the query but...) can&#39;t you do a <code>join</code> to avoid those two sub-queries?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1530723138, "post_id": 51178046, "comment_id": 89338873, "body": "Not just the repository query (that <i>might</i> not be too bad), but what about the recursive<code>GetChannelObject(...)</code>?"}, {"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 0, "creation_date": 1530723355, "post_id": 51178046, "comment_id": 89338957, "body": "that is the crux of my question i guess - can I recursively call something like this to build up a query n-tiers deep, and then execute it as one database call? if not, then what other method would you suggest to achieve a similar thing? i.e. an alternative to a huge select ... new {...}"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530723726, "post_id": 51178046, "comment_id": 89339104, "body": "Think about how you would write this same query in SQL, what would you do there?"}, {"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 0, "creation_date": 1530723859, "post_id": 51178046, "comment_id": 89339148, "body": "to be honest, i am not sure how I would write it in SQL... i guess a whole bunch of joins?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530724063, "post_id": 51178046, "comment_id": 89339225, "body": "And that&#39;s really the problem. SQL isn&#39;t designed for hierarchical queries like this. There&#39;s no nice way to do it really, because you need to get a parent row to be able to figure out what it&#39;s child is, and then that child and so on. Each iteration requires another query."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1530725100, "post_id": 51178046, "comment_id": 89339651, "body": "Is the <code>ChannelObjectModel</code> class the entity?"}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1530728265, "post_id": 51178046, "comment_id": 89340741, "body": "If you were to replace &quot;_channelObjectRepository.Get(x =&gt; x.Id == id)&quot; with a call to EF&#39;s DbSet&lt;&gt;.Find() method, You might sometimes save one query if that entity is already loaded in the DbContext ..."}, {"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 0, "creation_date": 1530778228, "post_id": 51178046, "comment_id": 89354527, "body": "thanks sam - thats good information, i didnt realise that!"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 1, "creation_date": 1530778238, "post_id": 51180739, "comment_id": 89354535, "body": "thanks so much - i am going to give this a try out today... if i get some improvements with it, ill mark this as the answer :)"}, {"owner": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "reply_to_user": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 0, "creation_date": 1531814472, "post_id": 51180739, "comment_id": 89723791, "body": "@MikeSowerbutts how did it go? :)"}, {"owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 2, "creation_date": 1531921038, "post_id": 51180739, "comment_id": 89777793, "body": "hey, it worked great thanks, sorry i forgot to mark it as the answer - i just did that now. you were really helpful! got the load time to around 2-3 seconds, instead of ~40 seconds, but kept the recursive nature of the code still"}, {"owner": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "reply_to_user": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "edited": false, "score": 0, "creation_date": 1531921089, "post_id": 51180739, "comment_id": 89777834, "body": "Glad to be helpful :)"}], "tags": [], "owner": {"reputation": 2496, "user_id": 3512524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d86f158f96941fef8bb311262cf3ad0e?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Skowronek", "link": "https://stackoverflow.com/users/3512524/krzysztof-skowronek"}, "is_accepted": true, "score": 0, "last_activity_date": 1530738360, "creation_date": 1530738360, "answer_id": 51180739, "question_id": 51178046, "link": "https://stackoverflow.com/questions/51178046/entity-framework-core-select-causes-too-many-queries/51180739#51180739", "title": "Entity Framework core select causes too many queries", "body": "<p>I work with EF6, not Core, but as far as I know, same things apply here.</p>\n\n<p>First of all, move this function to your repository, so that all calls share the DbContext instance. </p>\n\n<p>Secondly, use <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data\" rel=\"nofollow noreferrer\">Include</a> on your DbSet on properties to eager load them:</p>\n\n<pre><code>ctx.DbSet&lt;ChannelObjectModel&gt;()\n     .Include(x =&gt; x.Fields)\n     .Include(x =&gt; x.Mapping)\n     .Include(x =&gt; x.ParentObject) \n     ...\n</code></pre>\n\n<p>Good practice is to make this a function of context (or extension method) called for example BuildChannelObject() and it should return the IQueryable - just the includes.</p>\n\n<p>Then you can start the recursive part:</p>\n\n<pre><code>public ChannelObjectModel GetChannelObjectModel(Guid id)\n{\n    var set = ctx.BuildChannelObject(); // ctx is this\n\n    var channelModel = set.FirstOrDefault(x =&gt; x.Id == id); // this loads the first level\n\n    LoadRecursive(channelModel, set);\n\n    return channelModel;\n}\n\nprivate void LoadRecursive(ChannelObjectModel c, IQueryable&lt;ChannelObjectModel&gt; set)\n{\n     if(c == null)\n         return; // recursion end condition\n\n     c.ParentObject = set.FirstOrDefault(x =&gt; x.Id == c?.ParentObject.Id);\n    // all other properties\n\n     LoadRecursive(c.ParentObject, set);\n    // all other properties\n}\n</code></pre>\n\n<p>If all this code uses the same instance of DbContext, it should be quite fast. If not, you can use another trick:</p>\n\n<pre><code>ctx.DbSet&lt;ChannelObjectModel&gt;().BuildChannelObjectModel().Load();\n</code></pre>\n\n<p>This loads all objects to memory cache of your DbContext. Unfortunately, it dies with context instance, but it makes those recursive calls much faster, since no database trip is made.</p>\n\n<p>If this is still to slow, you can add <code>AsNoTracking()</code> as last instruction of BuildChannelObjectModel().</p>\n\n<p>If this is still to slow, just implement application wide memory cache of those objects and use that instead of querying database everytime - this works great if your app is a service that can have long startup, but then work fast.</p>\n\n<p>Whole another approach is to enable lazy loading by marking navigation properties as virtual - but remember that returned type will be derived type anonymous proxy, not your original ChannelObjectModel! Also, properties will load only as long you don't dispose the context - after that you get an exception. To load all properties with the context and then return complete object is also a little bit tricky - easiest (but not the best!) way to do it to serialize the object to JSON (remember about circural references) before returning it.</p>\n\n<p>If that does not satisfy you, switch to nHibernate which I hear has application wide cache by default.</p>\n"}], "owner": {"reputation": 35, "user_id": 7964399, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155047254694870/picture?type=large", "display_name": "Mike Sowerbutts", "link": "https://stackoverflow.com/users/7964399/mike-sowerbutts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 51180739, "answer_count": 1, "score": 0, "last_activity_date": 1530738360, "creation_date": 1530722663, "last_edit_date": 1530729314, "question_id": 51178046, "link": "https://stackoverflow.com/questions/51178046/entity-framework-core-select-causes-too-many-queries", "title": "Entity Framework core select causes too many queries", "body": "<p>I have the following method which is meant to build me up a single object instance, where its properties are built via recursively calling the same method:</p>\n\n<pre><code>public ChannelObjectModel GetChannelObject(Guid id, Guid crmId)\n    {\n        var result = (from channelObject in _channelObjectRepository.Get(x =&gt; x.Id == id)\n                      select new ChannelObjectModel\n                      {\n                          Id = channelObject.Id,\n                          Name = channelObject.Name,\n                          ChannelId = channelObject.ChannelId,\n                          ParentObjectId = channelObject.ParentObjectId,\n                          TypeId = channelObject.TypeId,\n                          ChannelObjectType = channelObject.ChannelObjectTypeId.HasValue ? GetChannelObject(channelObject.ChannelObjectTypeId.Value, crmId) : null,\n                          ChannelObjectSearchType = channelObject.ChannelObjectSearchTypeId.HasValue ? GetChannelObject(channelObject.ChannelObjectSearchTypeId.Value, crmId) : null,\n                          ChannelObjectSupportingObject = channelObject.ChannelObjectSupportingObjectId.HasValue ? GetChannelObject(channelObject.ChannelObjectSupportingObjectId.Value, crmId) : null,\n                          Mapping = _channelObjectMappingRepository.Get().Where(mapping =&gt; mapping.ChannelObjectId == channelObject.Id &amp;&amp; mapping.CrmId == crmId).Select(mapping =&gt; new ChannelObjectMappingModel\n                          {\n                              CrmObjectId = mapping.CrmObjectId\n                          }).ToList(),\n                          Fields = _channelObjectRepository.Get().Where(x =&gt; x.ParentObjectId == id).Select(field =&gt; GetChannelObject(field.Id, crmId)).ToList()\n                      }\n                     );\n        return result.First();\n    }\n\npublic class ChannelObjectModel\n{\n    public ChannelObjectModel()\n    {\n        Mapping = new List&lt;ChannelObjectMappingModel&gt;();\n        Fields = new List&lt;ChannelObjectModel&gt;();\n    }\n    public Guid Id { get; set; }\n    public Guid ChannelId { get; set; }\n    public string Name { get; set; }\n    public List&lt;ChannelObjectMappingModel&gt; Mapping { get; set; }\n    public int TypeId { get; set; }\n    public Guid? ParentObjectId { get; set; }\n    public ChannelObjectModel ParentObject { get; set; }\n    public List&lt;ChannelObjectModel&gt; Fields { get; set; }\n    public Guid? ChannelObjectTypeId { get; set; }\n    public ChannelObjectModel ChannelObjectType { get; set; }\n    public Guid? ChannelObjectSearchTypeId { get; set; }\n    public ChannelObjectModel ChannelObjectSearchType { get; set; }\n    public Guid? ChannelObjectSupportingObjectId { get; set; }\n    public ChannelObjectModel ChannelObjectSupportingObject { get; set; }\n}\n</code></pre>\n\n<p>this is connecting to a SQL database using Entity Framework Core 2.1.1</p>\n\n<p>Whilst it technically works, it causes loads of database queries to be made - I realise its because of the <code>ToList(</code>) and <code>First()</code> etc. calls.</p>\n\n<p>However because of the nature of the object, I can make one huge <code>IQueryable&lt;anonymous&gt;</code> object with a <code>from.... select new {...}</code> and call <code>First</code> on it, but the code was over 300 lines long going just 5 tiers deep in the hierarchy, so I am trying to replace it with something like the code above, which is much cleaner, albeit much slower..</p>\n\n<pre><code>ChannelObjectType, ChannelObjectSearchType, ChannelObjectSupportingObject\n</code></pre>\n\n<p>Are all <code>ChannelObjectModel</code> instances and Fields is a list of <code>ChannelObjectModel</code> instances.</p>\n\n<p>The query takes about 30 seconds to execute currently, which is far too slow and it is on a small localhost database too, so it will only get worse with a larger number of db records, and generates a lot of database calls when I run it.</p>\n\n<p>The 300+ lines code generates a lot less queries and is reasonably quick, but is obviously horrible, horrible code (which I didn't write!) </p>\n\n<p>Can anyone suggest a way I can recursively build up an object in a similar way to the above method, but drastically cut the number of database calls so it's quicker?</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "error-handling"], "comments": [{"owner": {"reputation": 35071, "user_id": 316799, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0fa8da5d4aacf3078d23d33c4effadd5?s=128&d=identicon&r=PG", "display_name": "Felipe Oriani", "link": "https://stackoverflow.com/users/316799/felipe-oriani"}, "edited": false, "score": 0, "creation_date": 1530723954, "post_id": 51177980, "comment_id": 89339183, "body": "You could remove the <code>try&#47;catch</code> block and implement something on the high layer, where you can your repositories or services. Maybe if you are using <code>asp.net mvc</code> you could use attributes to decorate your action on the controllers and handle any error on any layer on you architecture."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11026641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dBpRe3IWaig/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMrcB8aLhJ0x44JijRPHbK831XC1A/mo/photo.jpg?sz=128", "display_name": "Smith Doakes", "link": "https://stackoverflow.com/users/11026641/smith-doakes"}, "is_accepted": false, "score": 0, "last_activity_date": 1549530099, "creation_date": 1549530099, "answer_id": 54569627, "question_id": 51177980, "link": "https://stackoverflow.com/questions/51177980/class-level-error-handler-for-dao/54569627#54569627", "title": "Class Level Error Handler For DAO", "body": "<p>You can create a class like this and extend the controller from this class.</p>\n\n<p><strong>Error Handler class looks like this :</strong> </p>\n\n<pre><code>package com.wes.essex.rest;\n\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Set;\n\nimport javax.validation.ConstraintViolation;\nimport javax.validation.ConstraintViolationException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\n\nimport com.wes.essex.bean.ErrorResponse;\n\npublic class SkyNewsController {\n    private static final Logger LOGGER = LoggerFactory.getLogger(SkyNewsController.class);\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleError(Exception ex) {\n        LOGGER.info(\"start\");\n        LOGGER.error(ex.getMessage(), ex);\n        ErrorResponse error = new ErrorResponse();\n        error.setTimestamp(ZonedDateTime.now().format(DateTimeFormatter.ISO_INSTANT));\n        LOGGER.debug(\"error : {} \", error);\n        ResponseEntity&lt;ErrorResponse&gt; response = null;\n        if (ex instanceof ConstraintViolationException) {\n            error.setReasonCode(HttpStatus.BAD_REQUEST.value());\n            ConstraintViolationException constraintException = (ConstraintViolationException) ex;\n            Set&lt;ConstraintViolation&lt;?&gt;&gt; set = constraintException.getConstraintViolations();\n            String errorMessage = \"Input Validation Failed:\";\n            for (ConstraintViolation&lt;?&gt; constraintViolation : set) {\n                errorMessage += constraintViolation.getMessageTemplate() + \",\";\n            }\n            errorMessage = errorMessage.substring(0, errorMessage.length() - 1);\n            error.setErrorMessage(errorMessage);\n            response = new ResponseEntity&lt;ErrorResponse&gt;(error, HttpStatus.BAD_REQUEST);\n        } else {\n            error.setReasonCode(HttpStatus.INTERNAL_SERVER_ERROR.value());\n            error.setErrorMessage(ex.getMessage());\n            response = new ResponseEntity&lt;ErrorResponse&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>This would be the baean class for error response :</strong></p>\n\n<pre><code>package com.wes.essex.bean;\n\npublic class ErrorResponse {\n\n    private static final long serialVersionUID = 5776681206288518465L;\n\n    private String timestamp;\n    private String errorMessage;\n    private int reasonCode;\n\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n\n    public int getReasonCode() {\n        return reasonCode;\n    }\n\n    public void setReasonCode(int reasonCode) {\n        this.reasonCode = reasonCode;\n    }\n\n    public String getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(String timestamp) {\n        this.timestamp = timestamp;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 1753877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/35d44be5eb572db7ccc449e07ffa6014?s=128&d=identicon&r=PG", "display_name": "John Steed", "link": "https://stackoverflow.com/users/1753877/john-steed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549530099, "creation_date": 1530722281, "last_edit_date": 1530734753, "question_id": 51177980, "link": "https://stackoverflow.com/questions/51177980/class-level-error-handler-for-dao", "title": "Class Level Error Handler For DAO", "body": "<p>I am using Entity Framework. Below is an example of a list method for an Actors context in my ActorsDao class. If you imagine my application is like imdb, there will be CRUD methods for various other contexts such as Movies, Directors, Genres, Reviews, Studios etc. </p>\n\n<p>Regardless of the method or context, I handle errors in the same way. Due to my many methods across many contexts, my catch section is always exactly the same. </p>\n\n<p>Obviously, I could create an error handling class, put the code in there, and just call a method in that class from the catch block.</p>\n\n<p>However, I'm wondering if there a way to omit the TRY...CATCH from each method and set up a global error handler for the methods in my entity framework layer?</p>\n\n<p>I would only want this global error handler to handle these errors and not errors from the rest of the application. </p>\n\n<p>I seem to remember in Java Spring, you could annotate a class or method with the name of a method, and all errors would be passed to that without the need of a TRY...CATCH. I'm wondering if there is something similar for .NET (or a third party library with such functionality)?</p>\n\n<pre><code>    public List&lt;Actor&gt; ListActors()\n    {\n\n        List&lt;Actor&gt; actorList = new List&lt;Actor&gt;();\n\n        using (var context = new ActorContext())\n        {\n            try\n            {\n                actorList = context.Actors.ToList&lt;Actor&gt;();\n\n            }\n            catch (Exception e)\n            {\n                //Handle error code\n            }\n        }\n\n        return actorList;\n\n    }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I did some more research and found this code from here <a href=\"https://stackoverflow.com/a/4851985/1753877\">https://stackoverflow.com/a/4851985/1753877</a></p>\n\n<pre><code>private void GlobalTryCatch(Action action)\n{\n    try\n    {\n        action.Invoke();\n    }\n    catch (ExpectedException1 e)\n    {\n        throw MyCustomException(\"Something bad happened\", e);\n    }\n    catch (ExpectedException2 e)\n    {\n        throw MyCustomException(\"Something really bad happened\", e);\n    }\n}\n\npublic void DoSomething()\n{\n    GlobalTryCatch(() =&gt;\n    {\n        // Method code goes here\n    });\n}\n</code></pre>\n\n<p>Would using a delegate like this be OK? It certainly meets my requirements.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 734, "user_id": 9709907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4Sdr.jpg?s=128&g=1", "display_name": "Legion", "link": "https://stackoverflow.com/users/9709907/legion"}, "edited": false, "score": 0, "creation_date": 1530722444, "post_id": 51177955, "comment_id": 89338561, "body": "what you mean with &quot;if I filter by Dates, if gives my all, like there&#39;s no Filters&quot;? what is &quot;Dates&quot;?"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1530722678, "post_id": 51177955, "comment_id": 89338675, "body": "Who is <code>DataFrom</code> and <code>DataTo</code>? <code>DataFrom.Value</code> returns a string or a DateTime? if it&#39;s a string, you probably should parse to DateTime"}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530722699, "post_id": 51177955, "comment_id": 89338680, "body": "Yes, Like there&#39;s no filter applied! With Dates I mean Date Range DataFrom and DataTo. These 2 are 2 DatePickers I have in Form to filter date from DataFrom To DataTo Range."}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530722975, "post_id": 51177955, "comment_id": 89338791, "body": "DataFrom and DataTo are 2 DateTimePickers in Form, which is supposed to filter a Range of Dates to apply in Data Property (s =&gt; s.Data &gt;= DataFrom... I&#39;ve changed my query DataFrom.Checked and DataTo.Checked converting to Date..."}, {"owner": {"reputation": 315, "user_id": 9989577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHz1j.jpg?s=128&g=1", "display_name": "Afonso", "link": "https://stackoverflow.com/users/9989577/afonso"}, "edited": false, "score": 0, "creation_date": 1530722978, "post_id": 51177955, "comment_id": 89338793, "body": "Can you show the value from DataFrom and DataTo?"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1530723061, "post_id": 51177955, "comment_id": 89338835, "body": "I don&#39;t know if this is your problem, but you&#39;re filtering in the <code>OnLoad</code>event from the form, this means that it will pick the values from when the form was loaded, even if you change later it will not change. If you want to change later, you should either put a button on your form to update the values or pick events from the DatePickers and comboboxes"}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "reply_to_user": {"reputation": 315, "user_id": 9989577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHz1j.jpg?s=128&g=1", "display_name": "Afonso", "link": "https://stackoverflow.com/users/9989577/afonso"}, "edited": false, "score": 0, "creation_date": 1530723298, "post_id": 51177955, "comment_id": 89338933, "body": "@Afonso, I&#39;ve included some pictures where you can see DataFrom and DataTo values..."}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "reply_to_user": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1530723359, "post_id": 51177955, "comment_id": 89338959, "body": "@Magnetron, like I said, both Comboboxes filtering works. Only my Date filters not working."}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1530728639, "post_id": 51177955, "comment_id": 89340856, "body": "Your &quot;Count&quot; and &quot;Average&quot; aggregates are calculated without any filter though? - That filter is applied to the selected &quot;MyList&quot; objects only after they have been calculated?"}, {"owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "edited": false, "score": 0, "creation_date": 1530736854, "post_id": 51177955, "comment_id": 89343453, "body": "Throw a <code>query.ToList()</code> in there, or inspect <code>query</code> and enumerate it, before you apply any of the filters (ie after the group by but before the further queries). What is in there? How many records? What are the <code>data</code> values? are they as expected?"}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1530740747, "post_id": 51177955, "comment_id": 89344586, "body": "@Sam, Yes, If no filter is applied, Count will show 2 and Average will show 258,5. If I filter Con or Ent Comboboxes, it shows Count = 1 and Average = 458 for example. And it&#39;s correct like this. But, when I filter the Date, then is like no filter is done at all."}], "answers": [{"comments": [{"owner": {"reputation": 34066, "user_id": 3067523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iN64u.png?s=128&g=1", "display_name": "Dmitry Pavliv", "link": "https://stackoverflow.com/users/3067523/dmitry-pavliv"}, "edited": false, "score": 0, "creation_date": 1530729356, "post_id": 51179048, "comment_id": 89341161, "body": "Days are different- 9 and 19"}, {"owner": {"reputation": 361, "user_id": 7282022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef6bd5a034864709ea092f5053b078a?s=128&d=identicon&r=PG&f=1", "display_name": "Sviatoslav V.", "link": "https://stackoverflow.com/users/7282022/sviatoslav-v"}, "reply_to_user": {"reputation": 34066, "user_id": 3067523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iN64u.png?s=128&g=1", "display_name": "Dmitry Pavliv", "link": "https://stackoverflow.com/users/3067523/dmitry-pavliv"}, "edited": false, "score": 0, "creation_date": 1530730230, "post_id": 51179048, "comment_id": 89341483, "body": "@Dmitry Pavliv, totally hard day, sorry. What about format? And does member query returns two elements? Or you getting two elements later on?"}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530740492, "post_id": 51179048, "comment_id": 89344521, "body": "The Date format are similar on Database and Code... Format yyyy-MM-dd HH:mm:ss"}, {"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530742038, "post_id": 51179048, "comment_id": 89344895, "body": "I&#39;m almost sure the problem is in here! <code>Data = grp.Select(s =&gt; s.tblPrincipal.Data).FirstOrDefault()</code>. What I&#39;m trying to achieve here is get Date Property from Database so I can compare in the query!"}], "tags": [], "owner": {"reputation": 361, "user_id": 7282022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef6bd5a034864709ea092f5053b078a?s=128&d=identicon&r=PG&f=1", "display_name": "Sviatoslav V.", "link": "https://stackoverflow.com/users/7282022/sviatoslav-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1530727698, "creation_date": 1530727698, "answer_id": 51179048, "question_id": 51177955, "link": "https://stackoverflow.com/questions/51177955/filter-by-date-in-a-groupby/51179048#51179048", "title": "Filter By Date in a GroupBy", "body": "<p>I am probably saying something stupid after long work day, but what I see that both your database elements perfectly fits to range of the <code>inicio</code> and <code>fim</code>.</p>\n\n<p>DataTo and DateFrom and your dataset have the same day, month and year. Your dataset have hours that between 00 (data from) and 23 (data to).</p>\n\n<p>Also, I may assume that you have different formats inside your Database and code. \nFor example: </p>\n\n<pre><code>Database: mm/dd/yyyy, 24hours\nCode: dd/mm/yyyy, 12hours\n</code></pre>\n\n<p>That's might also occure the problem.\nHope it helps. If something not clear enough, please, do not hesitate to contact me.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530740435, "post_id": 51179312, "comment_id": 89344499, "body": "Thanks. But still no Date filter with your suggestion."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "reply_to_user": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1530790160, "post_id": 51179312, "comment_id": 89361980, "body": "@CarlosFerreira Are you sure? The error in your query is that you only filter on the first date in <code>grp</code>, which means that <code>grp</code> may contain dates outside the specified interval. The query in this answer shouldn&#39;t return any of these because the data is filtered before grouping. Anyway, this is the way to go."}], "tags": [], "owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1530729062, "creation_date": 1530729062, "answer_id": 51179312, "question_id": 51177955, "link": "https://stackoverflow.com/questions/51177955/filter-by-date-in-a-groupby/51179312#51179312", "title": "Filter By Date in a GroupBy", "body": "<p>I think you just need to apply your filter earlier to impact the aggregate values, like this : </p>\n\n<pre><code>public IEnumerable&lt;MyList&gt; LoadData()\n{\n    var ctx = new DbContext();\n\n    var set = ctx.tblTimes.AsQueryable();\n\n\n   if(DataFrom.Checked &amp;&amp; DataTo.Checked)\n   {\n       DateTime inicio = DataAgendFrom.Value;\n       DateTime fim = DataAgendTo.Value;\n       set = set.Where(s =&gt; s.Data &gt;= inicio &amp;&amp; s.Data &lt;= fim);\n    }\n\n    var query = (from t in set.Where(s =&gt; s.Included == true)\n                 join av in ctx.tblPrincipal on t.AID equals av.AID\n                 join c in ctx.tblCon on av.ConID equals c.ConID\n                 join e in ctx.tblEnt on av.EntID equals e.EntID\n                 group t by new\n                 {\n                     c.Name,\n                     e.Entity\n                 } into grp\n                 select new MyList\n                 {\n                     Con = grp.Key.Name,\n                     Ent = grp.Key.Entity,\n                     Count = grp.Count(),\n                     Med = grp.Average(s =&gt; s.Time),\n                     Data = grp.Select(s =&gt; s.tblPrincipal.Data).FirstOrDefault()\n                 });\n    if (CmbCon.SelectedItem != null)\n    {\n        var selected = (tblCon)CmbCon.SelectedItem;\n        query = query.Where(s =&gt; s.Name == selected.Name);\n    }\n    if (CmbEnt.SelectedItem != null)\n    {\n        var selected = (tblEnt)CmbEnt.SelectedItem;\n        query = query.Where(s =&gt; s.Entity == selected.Entity);\n    }\n\n    return query.ToList();\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4832282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/519a2cb21364279ab11e03c7cfe40f38?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/4832282/carlos-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1530780089, "creation_date": 1530722135, "last_edit_date": 1530780089, "question_id": 51177955, "link": "https://stackoverflow.com/questions/51177955/filter-by-date-in-a-groupby", "title": "Filter By Date in a GroupBy", "body": "<p>I need some help for a Filter By Date with LINQ query.</p>\n\n<p>So,</p>\n\n<p>This is my Class:</p>\n\n<pre><code>public class MyList\n    {\n        public string Ent { get; set; }\n        public string Con { get; set; }\n        public int Count { get; set; }\n        public double? Med { get; set; }\n        public DateTime Data { get; set; }\n    }\n</code></pre>\n\n<p>My Query:</p>\n\n<pre><code>public IEnumerable&lt;MyList&gt; LoadData()\n    {\n        var ctx = new DbContext();\n\n        var query = (from t in ctx.tblTimes.AsQueryable().Where(s =&gt; s.Included == true)\n                     join av in ctx.tblPrincipal on t.AID equals av.AID\n                     join c in ctx.tblCon on av.ConID equals c.ConID\n                     join e in ctx.tblEnt on av.EntID equals e.EntID\n                     group t by new\n                     {\n                         c.Name,\n                         e.Entity\n                     } into grp\n                     select new MyList\n                     {\n                         Con = grp.Key.Name,\n                         Ent = grp.Key.Entity,\n                         Count = grp.Count(),\n                         Med = grp.Average(s =&gt; s.Time),\n                         Data = grp.Select(s =&gt; s.tblPrincipal.Data).FirstOrDefault()\n                     });\n        if (CmbCon.SelectedItem != null)\n        {\n            var selected = (tblCon)CmbCon.SelectedItem;\n            query = query.Where(s =&gt; s.Name == selected.Name);\n        }\n        if (CmbEnt.SelectedItem != null)\n        {\n            var selected = (tblEnt)CmbEnt.SelectedItem;\n            query = query.Where(s =&gt; s.Entity == selected.Entity);\n        }\n        if(DataFrom.Checked &amp;&amp; DataTo.Checked)\n        {\n            DateTime inicio = DataAgendFrom.Value;\n            DateTime fim = DataAgendTo.Value;\n            query = query.Where(s =&gt; s.Data &gt;= inicio &amp;&amp; s.Data &lt;= fim);\n        }\n        return query.ToList();\n    }\n</code></pre>\n\n<p>My OnLoad event:</p>\n\n<pre><code>private void Form_OnLoad(object sender, EventArgs e)\n    {\n        data.DataSource = LoadData();\n        data.Columns[\"Data\"].Visible = false;\n    }\n</code></pre>\n\n<p>So, if I filter by the 2 ComboBox, the filter works fine and results are showed correctly, but if I filter by Dates, if gives my all, like there's no Filters...</p>\n\n<p>Some images from Inicio and Fim Date...</p>\n\n<p><strong>Inicio</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/FlTcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FlTcy.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Fim</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/RkGiK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkGiK.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my MSSQL Database, I have 2 records with Date like image below... The date range above perfectly fits 1 of my Database record.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IYO33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYO33.png\" alt=\"enter image description here\"></a></p>\n\n<p>But, When I apply dates in Image (Inicio and Fim), I get the 2 records (Count = 2 and Average = Average of 2 records).\nAny ideas?</p>\n\n<p><strong>EDIT</strong>: After some testings, I found that with range dates above, the query returns all records from database when only should return 1 record that fits range, but with another range (Inicio 2018-06-19 00:00:00; Fim 2018-06-19 23:59:59), no results are returned at all, which is wrong because the second record in database fits in this range! Can't understand, but I suspect the problem is this piece of code: </p>\n\n<pre><code>Data = grp.Select(s =&gt; s.tblPrincipal.Data).FirstOrDefault()\n</code></pre>\n\n<p>This is returning all records if the first record fits date range, if first records does not fit range, no results are returned!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "msbuild"], "comments": [{"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1530728502, "post_id": 51177945, "comment_id": 89340812, "body": "You can put Item/Property groups outside of a target, either inside a <code>.props</code> file imported higher up in the project file or just directly in the project file near the top/outside of a target. That said, <code>AdditionalReferencePaths</code> is not in the list of common MSBuild properties. It appears to have been a part of Team Build only (and the only references to it I can find are from 2005-7). You may have to write your own target that invokes msbuild with your own custom options. Though maybe the properties <code>AssemblySearchPaths</code> and <code>AdditionalLibPaths</code> may help you"}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1530728620, "post_id": 51177945, "comment_id": 89340853, "body": "Note that if you do get this working, consider using Directory.props files so you don&#39;t have to do this for every project <a href=\"https://docs.microsoft.com/en-us/visualstudio/msbuild/customize-your-build#directorybuildprops-and-directorybuildtargets\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/msbuild/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 34801, "user_id": 588868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1f898d66fc8a8141d172f5771e2c0d82?s=128&d=identicon&r=PG", "display_name": "Steve B", "link": "https://stackoverflow.com/users/588868/steve-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1530781590, "creation_date": 1530781590, "answer_id": 51187362, "question_id": 51177945, "link": "https://stackoverflow.com/questions/51177945/specify-additionalreferencepaths-from-an-external-target-file/51187362#51187362", "title": "Specify AdditionalReferencePaths from an external .target file", "body": "<p>I get rid of this issue after two fixes.</p>\n\n<ol>\n<li>The correct property wasn't <code>AdditionalReferencePath</code> but <code>ReferencePath</code></li>\n<li>I also have to move the <code>Import</code> before the first <code>ItemGroup</code> of my csproj. I guess this was required to have to properties set before the <code>Reference</code> element</li>\n</ol>\n"}], "owner": {"reputation": 34801, "user_id": 588868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1f898d66fc8a8141d172f5771e2c0d82?s=128&d=identicon&r=PG", "display_name": "Steve B", "link": "https://stackoverflow.com/users/588868/steve-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530781590, "creation_date": 1530722071, "question_id": 51177945, "link": "https://stackoverflow.com/questions/51177945/specify-additionalreferencepaths-from-an-external-target-file", "title": "Specify AdditionalReferencePaths from an external .target file", "body": "<p>I have a bunch of project that requires tweaks to be build in a continuous environement.</p>\n\n<p>I put every tweaks in a separate .target file to reuse this file across all projects.</p>\n\n<p>At the very end of my csproj files, I put (before the closing) <code>Project</code> element:</p>\n\n<p></p>\n\n<p>This is working quite well unless I try to include additional reference path.</p>\n\n<p>If I specify using command line the path (<code>msbuild myproject.csproj  /p:ReferencePath=\"C:\\path\\to\\dlls\"</code>). The project compile.</p>\n\n<p>My target file is :</p>\n\n<pre><code>&lt;Project xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n    &lt;!-- some tweaks here --&gt;\n    &lt;PropertyGroup Condition=\"'$(CompileFor)' == 'SP2013'\"&gt;\n        &lt;SomeProperty&gt;some value&lt;/SomeProperty&gt;\n        &lt;AdditionalReferencePaths&gt;C:\\path\\to\\dlls&lt;/AdditionalReferencePaths&gt;\n    &lt;/PropertyGroup&gt;      \n&lt;/Project&gt;\n</code></pre>\n\n<p>But this does not works (dll cannot be resolved).</p>\n\n<p>I also tried :</p>\n\n<pre><code>&lt;Project xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n     &lt;ItemGroup&gt;\n            &lt;AdditionalReferencePaths Include=\"C:\\path\\to\\dlls\"/&gt;            \n     &lt;/ItemGroup&gt; \n&lt;/Project&gt;\n</code></pre>\n\n<p>This is not working, because the <code>ItemGroup</code> element can't be out of a <code>Target</code> element</p>\n\n<p>Lastly, I tried:</p>\n\n<pre><code>&lt;Project xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;    \n    &lt;Target Name=\"SomeTarget\" BeforeTargets=\"BeforeBuild\"&gt;          \n        &lt;ItemGroup&gt;\n            &lt;AdditionalReferencePaths Include=\"C:\\path\\to\\dlls\"/&gt;              \n        &lt;/ItemGroup&gt; \n    &lt;/Target&gt;    \n&lt;/Project&gt;\n</code></pre>\n\n<p>This still isn't working. No error, I can see the target is called in the build log, but the DLLs are still not resolved.</p>\n\n<p><strong>How to fix it?</strong></p>\n\n<p>To give a bit of context, tweaks I include in the target file allows me to compile the project against different version of DLLs. The code is a plugin of a 3rd party application (SharePoint to name it), and I want to compile for several different versions of the product. Using some conditional, I can target either a folder with one version of the product or another folder for other version of the product.</p>\n"}, {"tags": ["c#", "class", "oop", "edx"], "comments": [{"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 0, "creation_date": 1530722925, "post_id": 51177893, "comment_id": 89338769, "body": "Please take your time to review and understand this statement: <code>Teacher : Course</code>, which means something like: a Teacher is a Course. Do you think that this make sense?"}, {"owner": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "edited": false, "score": 0, "creation_date": 1530723065, "post_id": 51177893, "comment_id": 89338836, "body": "Take care not to confuse class hierarchy with data hierarchy. This is a class hierarchy - inheritance that is - which is not the answer. Instead of instantiating everything in main, you should for example instantiate Course inside Degree. Only UIProgram needs instantiating in main."}, {"owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "edited": false, "score": 0, "creation_date": 1530728082, "post_id": 51177893, "comment_id": 89340674, "body": "Upvoted for the effort shown."}], "answers": [{"tags": [], "owner": {"reputation": 955, "user_id": 4690605, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0aeac316455899c3b875dd33cfeb8b84?s=128&d=identicon&r=PG&f=1", "display_name": "QTom", "link": "https://stackoverflow.com/users/4690605/qtom"}, "is_accepted": false, "score": 3, "last_activity_date": 1576682169, "last_edit_date": 1576682169, "creation_date": 1530722454, "answer_id": 51178011, "question_id": 51177893, "link": "https://stackoverflow.com/questions/51177893/instantiating-an-object-inside-another-object-c/51178011#51178011", "title": "Instantiating an object inside another object? (c#)", "body": "<p>The wording does seem a bit strange, but I believe they are simply saying that this class should contain a property of the type it is meant to \"contain\", and instantiate it in the constructor. For example:</p>\n\n<pre><code>public class Degree\n{\n    public Course Course { get; set; }\n\n    public Degree()\n    {\n        Course = new Course();\n    }\n}\n\npublic class Course\n{\n    public Student Student { get; set; }\n\n    public Course()\n    {\n        Student = new Student();\n    }\n}\n\npublic class Student\n{\n    public Student()\n    {\n\n    }\n}\n</code></pre>\n\n<p>Upon creating a an instance of Degree, it will create an instance of a Course inside it, which will create an instance of a Student inside it. Thus Degree contains a Course which contains a Student.</p>\n\n<p>The example above is using the constructors to instantiate these but as they are public properties they could also just be created from outside it (in which case the constructors above are unnecessary):</p>\n\n<pre><code>var degree = new Degree();\ndegree.Course = new Course();\ndegree.Course.Student = new Student();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 10007209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39557b21a17731ebee5d699e47a87635?s=128&d=identicon&r=PG&f=1", "display_name": "Denys Prodan", "link": "https://stackoverflow.com/users/10007209/denys-prodan"}, "is_accepted": false, "score": 1, "last_activity_date": 1530726933, "creation_date": 1530726933, "answer_id": 51178876, "question_id": 51177893, "link": "https://stackoverflow.com/questions/51177893/instantiating-an-object-inside-another-object-c/51178876#51178876", "title": "Instantiating an object inside another object? (c#)", "body": "<p>Just a few comments:</p>\n\n<p>I have big doubts that you need any inheritance here. For example: <em>Student : Course</em> - I doubt that \"Student is a Course\" :) . So, you probably need some composition here. I don't know (and can't remember) what diamonds in your picture exactly means, but can guess that filled diamond - is one item (or at least one, not sure) and empty means many items.\nSo, here how I would do this (you can split each class to separate file):</p>\n\n<pre><code>public class UProgram\n{\n    public string Name { get; set; }\n    public Degree Degree { get; set; }\n\n    public UProgram(string name, Degree degree)\n    {\n        Name = name;\n        Degree = degree;\n    }\n}\n\npublic class Degree\n{\n    public string Name { get; set; }\n    public Course Course { get; set; }\n\n    public Degree(string name, Course course)\n    {\n        Name = name;\n        Course = course;\n    }\n}\n\npublic class Course\n{\n    public List&lt;Teacher&gt; Teachers { get; set; }\n    public List&lt;Student&gt; Students { get; set; }\n    public string Name { get; set; }\n\n    public Course(string name, List&lt;Teacher&gt; teachers, List&lt;Student&gt; students)\n    {\n        Name = name;\n        Teachers = teachers;\n        Students = students;\n    }\n}\n\npublic class Teacher\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n}\n\npublic class Student\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n}\n</code></pre>\n\n<p>and Main function:</p>\n\n<pre><code>static void Main(string[] args)\n    {\n        var teachers = new List&lt;Teacher&gt;\n        {\n            new Teacher\n            {\n                FirstName = \"Colin\",\n                LastName = \"Firth\"\n            }\n        };\n        var students = new List&lt;Student&gt;\n        {\n            new Student\n            {\n                FirstName = \"Mary\",\n                LastName = \"Sue\"\n            },\n            new Student\n            {\n                FirstName = \"Joseph\",\n                LastName = \"Jojo\"\n            }\n        };\n\n        var softEngCourse = new Course(\"Software Engineering\", teachers, students);\n        var bachelorDegree = new Degree(\"Bachelor\", softEngCourse);\n\n        var technologyProgram = new UProgram(\"Technology\", bachelorDegree);\n\n        Console.ReadLine();\n    }\n</code></pre>\n\n<p>I still not sure that this exactly what your course is expected from you, this is how I would write code like this (with some minor changes, but it doesn't matter here).\nWhy in that way? Because it is almost always better to build an object in a \"working\" state when it explicitly receives everything that it needs, rather than create a raw object that will start in \"invalid\" state. Secondly, it is usually better to not \"bake in\" parameters values inside, but give a class consumer (I mean \"developer\" here) to configure it.</p>\n"}, {"tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": false, "score": 1, "last_activity_date": 1530728066, "creation_date": 1530728066, "answer_id": 51179115, "question_id": 51177893, "link": "https://stackoverflow.com/questions/51177893/instantiating-an-object-inside-another-object-c/51179115#51179115", "title": "Instantiating an object inside another object? (c#)", "body": "<p>You are misunderstanding the task. <code>Course</code> should not inherit from <code>Degree</code>, since <code>Course</code> is not a <code>Degree</code>. Instead, you will need to define <code>Course</code> data member in your <code>Degree</code> class. Neither <code>Student</code>, nor <code>Teacher</code> is a <code>Course</code>, therefore you should not inherit them from <code>Course</code>. They are members.</p>\n\n<p>I assume that a <code>Degree</code> can be achieved by a single <code>Course</code>.</p>\n\n<p>I assume that a <code>Course</code> has a single <code>Teacher</code>.</p>\n\n<p>I assume that a <code>Course</code> can have multiple <code>Students</code>.</p>\n\n<p>This means that you have a <code>Person</code> class, like this, since both <code>Student</code> and <code>Teacher</code> is a <code>Person</code>:</p>\n\n<pre><code>public class Person {\n    protected String firstName;\n    protected String lastName;\n\n    public String getFirstName() {\n        return this.firstName;\n    }\n\n    public String getLastName() {\n        return this.lastName;\n    }\n\n    public Student(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n\n<p>Now, inherit <code>Teacher</code> from <code>Person</code>:</p>\n\n<pre><code>public class Teacher : Person {\n    public Teacher(String firstName, String lastName) : base(firstName, lastName) {\n    }\n}\n</code></pre>\n\n<p>and <code>Student</code>:</p>\n\n<pre><code>public class Student : Person {\n    public Student(String firstName, String lastName) : base(firstName, lastName) {\n    }\n}\n</code></pre>\n\n<p>Now, let's define <code>Course</code>:</p>\n\n<pre><code>public class Course {\n    protected Teacher teacher;\n    protected List&lt;Student&gt; students;\n    protected String name;\n\n    public String getName() {\n        return this.name;\n    }\n\n    public Teacher getTeacher() {\n        return this.teacher;\n    }\n\n    public List&lt;Student&gt; getStudents() {\n        return this.students;\n    }\n\n    public void setTeacher(Teacher teacher) {\n        this.teacher = teacher;\n    }\n\n    public void setTeacher(String firstName, String lastName) {\n        this.teacher = new Teacher(firstName, lastName);\n    }\n\n    public void addStudent(Student student) {\n        this.students.Add(student);\n    }\n\n    public void addStudent(String firstName, String lastName) {\n        this.students.Add(new Student(firstName, lastName));\n    }\n\n    public Course(String name) {\n        this.name = name;\n        this.students = new List&lt;Student&gt;();\n    }\n}\n</code></pre>\n\n<p>Now, let's define <code>Degree</code>:</p>\n\n<pre><code>public class Degree {\n    protected String name;\n    protected Course course;\n\n    public String getName() {\n        return this.name;\n    }\n\n    public Course getCourse() {\n        return this.course;\n    }\n\n    public void setCourse(Course course) {\n        this.course = course;\n    }\n\n    public void setCourse(String name) {\n        this.course = new Course(name);\n    }\n\n    public Degree(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>Now, this is how you achieve what you wanted:</p>\n\n<pre><code>Degree degree = new Degree(\"mydegree\");\ndegree.setCourse(\"myCourse\");\nCourse course = degree.getCourse();\ncourse.setTeacher(\"John\", \"Smith\");\ncourse.addStudent(\"James\", \"Doe\");\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8809951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7niYw0DhQow/AAAAAAAAAAI/AAAAAAAAAB4/hRpXbbTwW0g/photo.jpg?sz=128", "display_name": "Suffer", "link": "https://stackoverflow.com/users/8809951/suffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1576682169, "creation_date": 1530721808, "last_edit_date": 1530722110, "question_id": 51177893, "link": "https://stackoverflow.com/questions/51177893/instantiating-an-object-inside-another-object-c", "title": "Instantiating an object inside another object? (c#)", "body": "<p>Firstly I'd like to say that I truly sorry if this is an idiotic question but I just started learning about Classes and I've thought that I managed to understand it but this confused the heck outta me so seems like I didn't</p>\n\n<p>I'm doing this C# OOP edx course where I had to make 5 classes (student, teacher, UProgram, degree, course) in different class files and there's this task:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UXPkr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXPkr.jpg\" alt=\"a pic that was included\"></a></p>\n\n<blockquote>\n  <ol>\n  <li>Instantiate a UProgram object called Information Technology.</li>\n  <li>Instantiate a Degree object, such as Bachelor, insude the UProgram object.</li>\n  <li>Instantiate a Course object called softeng inside the Degree object.</li>\n  </ol>\n</blockquote>\n\n<ol>\n<li>Was done, (hopefully) no issues with that one</li>\n<li>and 3. - eh.</li>\n</ol>\n\n<p>How I was thinking (bear in mind, im a beginner so):\nFirst I've thought of nested classes but I wasn't really sure about how they work and didn't think I could put the classes in different files as they should be nested (?)\nAnd then I tried something with the constructor but I couldn't see how I could make it work</p>\n\n<p>So now my final try was to create methods inside the classes (except for the Teacher and Student one as they won't have anything \"\"belonging to them\"\" like a Course has students and teachers belonging to it</p>\n\n<p>So I have the method in the form of (- let's say we're in the Degree class, having a method for creating several Courses for this degree -):</p>\n\n<pre><code>public void Newcourse(string Cname, Course sth)\n{\n    sth = new Course();\n    sth = Cname;\n}\n</code></pre>\n\n<p>And before I can use it, I have to write the</p>\n\n<pre><code>Course softeng = new Course();\n</code></pre>\n\n<p>line aka make an instance of the Course class before I can do the 3. point of the task</p>\n\n<p>The whole code:</p>\n\n<p><strong>UProgram.cs</strong></p>\n\n<pre><code>public class UProgram\n{\n    public void Newdegree(string Dname, Degree sth)\n    {\n        sth = new Degree();\n        sth.Dname = Dname;\n    }\n}\n</code></pre>\n\n<p><strong>Degree.cs</strong></p>\n\n<pre><code>public class Degree : UProgram\n{\n    public string Dname { get; set; }\n    public void Newcourse(string Cname, Course sth)\n    {\n        sth = new Course();\n        sth.Cname = Cname;\n    }\n}\n</code></pre>\n\n<p><strong>Course.cs</strong></p>\n\n<pre><code>public class Course : Degree\n{\n    public void NewTeacher(string FirstName, string LastName, Teacher sth)\n    {\n        sth = new Teacher();\n        sth.FirstName = FirstName;\n        sth.LastName = LastName;\n    }\n    public void NewStudent(string FirstName, string LastName, Student sth)\n    {\n        sth = new Student();\n        sth.FirstName = FirstName;\n        sth.LastName = LastName;\n    }\n    public string Cname { get; set; }\n}\n</code></pre>\n\n<p><strong>Teacher.cs</strong></p>\n\n<pre><code>public class Teacher : Course\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n}\n</code></pre>\n\n<p><strong>Student.cs</strong></p>\n\n<pre><code>public class Student : Course\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n}\n</code></pre>\n\n<p><strong>Program.cs</strong></p>\n\n<pre><code>class Program\n    {\n        static void Main(string[] args)\n        {\n            var Information_Technology = new UProgram();\n            Degree bachelors = new Degree();\n            Information_Technology.Newdegree(\"Bachelors\", bachelors);\n            Course softeng = new Course();\n            bachelors.Newcourse(\"Software Engineering\", softeng);\n            Teacher t1 = new Teacher();\n            softeng.NewTeacher(\"Colin\", \"Firth\", t1);\n            Student s1 = new Student();\n            softeng.NewStudent(\"Mary\", \"Sue\", s1);\n            Student s2 = new Student();\n            softeng.NewStudent(\"Joseph\", \"Jojo\", s2);\n            Console.ReadLine();\n        }\n    }\n</code></pre>\n\n<p>I know-I know, it's very convoluted and I'm not even sure whether this is good or not but that was all I could come up with and I'd be very grateful if any of you could help me out (in a tone that won't make me cry)</p>\n\n<p>Thank you and again, sorry for this mess of a code, eh, i tried</p>\n"}, {"tags": ["c#", ".net", "xamarin", "xamarin.forms"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 2, "creation_date": 1530723602, "post_id": 51177884, "comment_id": 89339051, "body": "<code>&quot;\\\\u00c1&quot;</code> is not a unicode code. Note the double backslash. You just escaped the backslash. That means, your string literally contains a backslash, followed by the characters &#39;0&#39;,&#39;0&#39;,&#39;c&#39;,&#39;1&#39;. <code>&quot;\\u00c1&quot;</code> would be a code (assuming you are not using the <code>@&quot;&quot;</code> verbatim string form). Not sure if that is just a typo in your question or whether the escaped backslash really appears in your source string, though..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530724634, "post_id": 51177884, "comment_id": 89339464, "body": "If the string comes from the WebAPI with character sequences being Unicode escape sequences (instead of the actual Unicode characters themselves), you can look at this question and their answers for some tips of how to translate the string representation of <code>@&quot;\\uXXXX&quot;</code> into an actual character: <a href=\"https://stackoverflow.com/questions/183907/how-do-i-convert-unicode-escape-sequences-to-unicode-characters-in-a-net-string\" title=\"how do i convert unicode escape sequences to unicode characters in a net string\">stackoverflow.com/questions/183907/&hellip;</a>"}, {"owner": {"reputation": 45, "user_id": 8351851, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209593121880696/picture?type=large", "display_name": "Guillermo G&#243;mez S&#225;nchez", "link": "https://stackoverflow.com/users/8351851/guillermo-g%c3%b3mez-s%c3%a1nchez"}, "edited": false, "score": 0, "creation_date": 1530732717, "post_id": 51177884, "comment_id": 89342179, "body": "The scaped backlash, really appears in my source string. I will check it out your answer, thank you elgonzo."}], "owner": {"reputation": 45, "user_id": 8351851, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209593121880696/picture?type=large", "display_name": "Guillermo G&#243;mez S&#225;nchez", "link": "https://stackoverflow.com/users/8351851/guillermo-g%c3%b3mez-s%c3%a1nchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530860038, "creation_date": 1530721772, "last_edit_date": 1530860038, "question_id": 51177884, "link": "https://stackoverflow.com/questions/51177884/modify-encoding-of-unicode-string-that-comes-from-a-web-api-econding-convert-do", "title": "Modify encoding of unicode string that comes from a Web API. Econding.Convert doesn&#39;t work", "body": "<p>I use the below code to convert from unicode to utf-8:</p>\n\n<pre><code>Encoding unicode = Encoding.Unicode;\nEncoding UTF8 = Encoding.UTF8;\nbyte[] unicodeBytes = unicode.GetBytes(stringResp);\nbyte[] UTF8Bytes = Encoding.Convert(unicode, UTF8, unicodeBytes);\nstring stringResp = UTF8.GetString(UTF8Bytes, 0, UTF8Bytes.Length);\n</code></pre>\n\n<p>But the special characters doesn't show, only their unicode code (\\u00c1 for \u00c1 for example). If I look manually the next string (\"\\\\u00c1\") and replace it for \u00c1 it works. Does someone knows why and how I can make an automatic conversion? </p>\n"}, {"tags": ["c#", "asp.net", "azure", "iis", "azure-web-app-service"], "comments": [{"owner": {"reputation": 1693, "user_id": 8053828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566af63aff1d3ce554cebbd17d39d343?s=128&d=identicon&r=PG&f=1", "display_name": "andresm53", "link": "https://stackoverflow.com/users/8053828/andresm53"}, "edited": false, "score": 0, "creation_date": 1530722937, "post_id": 51177880, "comment_id": 89338777, "body": "Usually that error refers to memory storage not to disk storage <a href=\"https://msdn.microsoft.com/en-us/library/ms837405.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms837405.aspx</a>. Check if your web app plan has enough memory while the issue is happening."}, {"owner": {"reputation": 33, "user_id": 1526827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZL1S7.jpg?s=128&g=1", "display_name": "Derk Van Lochem", "link": "https://stackoverflow.com/users/1526827/derk-van-lochem"}, "reply_to_user": {"reputation": 1693, "user_id": 8053828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566af63aff1d3ce554cebbd17d39d343?s=128&d=identicon&r=PG&f=1", "display_name": "andresm53", "link": "https://stackoverflow.com/users/8053828/andresm53"}, "edited": false, "score": 0, "creation_date": 1530725736, "post_id": 51177880, "comment_id": 89339893, "body": "Hi @andresm53 Thank you for yor answer, I&#39;ve checked and memory usage is pretty much steady around 37% and CPU around 7% so I guess nothing special is going on there... Also when this problem occurs"}, {"owner": {"reputation": 33, "user_id": 1526827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZL1S7.jpg?s=128&g=1", "display_name": "Derk Van Lochem", "link": "https://stackoverflow.com/users/1526827/derk-van-lochem"}, "reply_to_user": {"reputation": 1693, "user_id": 8053828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566af63aff1d3ce554cebbd17d39d343?s=128&d=identicon&r=PG&f=1", "display_name": "andresm53", "link": "https://stackoverflow.com/users/8053828/andresm53"}, "edited": false, "score": 0, "creation_date": 1530727146, "post_id": 51177880, "comment_id": 89340397, "body": "Can this one have something to do with Leaking Handles I see this metric increasing to approx 6.5K handles and then a steep decline after an app pool recycle?"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 1526827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZL1S7.jpg?s=128&g=1", "display_name": "Derk Van Lochem", "link": "https://stackoverflow.com/users/1526827/derk-van-lochem"}, "is_accepted": true, "score": 1, "last_activity_date": 1533646071, "creation_date": 1533646071, "answer_id": 51727212, "question_id": 51177880, "link": "https://stackoverflow.com/questions/51177880/iis-app-pool-recycle-triggers-not-enough-storage-is-available-to-complete-this/51727212#51727212", "title": "IIS App Pool Recycle triggers: Not enough storage is available to complete this operation (Azure App Service)", "body": "<p>At the end the problem indeed was the handle count being too large to handle for IIS. Investigation pointed out that the File Cache implementation of the Imagprocessor (<a href=\"http://imageprocessor.org\" rel=\"nofollow noreferrer\">http://imageprocessor.org</a>)  was causing this problem.</p>\n\n<ul>\n<li>You can see how many handles your App Service in the metrics section at your Azure Portal</li>\n<li>You can find the details at <a href=\"https://[your-app-service].scm.azurewebsites.net\" rel=\"nofollow noreferrer\">https://[your-app-service].scm.azurewebsites.net</a>. Go to Process Explorer -> Select properties of w3wp.exe -> Select Handles Tab</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 1526827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZL1S7.jpg?s=128&g=1", "display_name": "Derk Van Lochem", "link": "https://stackoverflow.com/users/1526827/derk-van-lochem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 1, "accepted_answer_id": 51727212, "answer_count": 1, "score": 1, "last_activity_date": 1546650777, "creation_date": 1530721750, "last_edit_date": 1546650777, "question_id": 51177880, "link": "https://stackoverflow.com/questions/51177880/iis-app-pool-recycle-triggers-not-enough-storage-is-available-to-complete-this", "title": "IIS App Pool Recycle triggers: Not enough storage is available to complete this operation (Azure App Service)", "body": "<p>I am running an ASP.Net Website on an Azure App Service which hangs pretty much every time an App Pool Recycle takes place. </p>\n\n<p>I've checked, the available storage, I am using approx 5 out of 50 Gb so that should not be the problem.</p>\n\n<p>See the stacktrace below. Does anyone have an idea? I've asked this question to Microsoft Support, they could not answer this one :-(</p>\n\n<p>Worst case scenario, can I prevent the <code>System.Diagnostics.Eventing.EventProvider.EtwRegister()</code> call?</p>\n\n<p>Help on this one would be very much appreciated!</p>\n\n<pre><code>Exception message: The pre-application start initialization method Start on type EnvSettings.SettingsProcessor threw an exception with the following error message: The type initializer for 'Microsoft.Web.Hosting.Tracing.AntaresEventProvider' threw an exception..\n   at System.Web.Compilation.BuildManager.InvokePreStartInitMethodsCore(ICollection`1 methods, Func`1 setHostingEnvironmentCultures)\n   at System.Web.Compilation.BuildManager.InvokePreStartInitMethods(ICollection`1 methods)\n   at System.Web.Compilation.BuildManager.CallPreStartInitMethods(String preStartInitListPath, Boolean&amp; isRefAssemblyLoaded)\n   at System.Web.Compilation.BuildManager.ExecutePreAppStart()\n   at System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel, Exception appDomainCreationException)\n\nThe type initializer for 'Microsoft.Web.Hosting.Tracing.AntaresEventProvider' threw an exception.\n   at Microsoft.Web.Hosting.Tracing.AntaresEventProvider.EventWriteDWASGenericLog(String LogStatement, String SiteName)\n   at EnvSettings.SettingsLogger.Trace(String format, Object[] args)\n   at EnvSettings.SettingsProcessor.Start()\n\nNot enough storage is available to complete this operation\n   at System.Diagnostics.Eventing.EventProvider.EtwRegister()\n   at System.Diagnostics.Eventing.EventProvider..ctor(Guid providerGuid)\n   at Microsoft.Web.Hosting.Tracing.EventProviderVersionTwo..ctor(Guid id)\n   at Microsoft.Web.Hosting.Tracing.AntaresEventProvider..cctor()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/qvyBe.png\" alt=\"Image of Mem and CPU usage. App Pool Recycled at July second and third \"></p>\n"}, {"tags": ["c#", "math"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1530725369, "post_id": 51177865, "comment_id": 89339757, "body": "<a href=\"http://csharphelper.com/blog/2014/10/find-a-polynomial-least-squares-fit-for-a-set-of-points-in-c/\" rel=\"nofollow noreferrer\">csharphelper.com/blog/2014/10/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 814422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad082805d1ce2e3766886195c720fca6?s=128&d=identicon&r=PG", "display_name": "kbolino", "link": "https://stackoverflow.com/users/814422/kbolino"}, "is_accepted": false, "score": 2, "last_activity_date": 1530725105, "last_edit_date": 1530725105, "creation_date": 1530724764, "answer_id": 51178481, "question_id": 51177865, "link": "https://stackoverflow.com/questions/51177865/shift-middle-point-of-number-range/51178481#51178481", "title": "Shift Middle Point of Number Range", "body": "<p>There's multiple ways this can be done, but if linear interpolation is sufficient, then you can just use some simple stretching and compression of the input parameter with a piecewise function.</p>\n\n<pre><code>public static double Interpolate(double val, double valmin, double valmax, double min, double max)\n{\n    return (max - min) * (val - 0.5 * (valmax + valmin)) / (valmax - valmin) + 0.5 * (max + min);\n}\n\npublic static double Normalize(double val, double valmin, double valmax, double min, double max, double midpoint)\n{\n    double m = Interpolate(midpoint, valmin, valmax, min, max);\n    if (val &lt; m) {\n        return Interpolate(val, valmin, m, min, midpoint);\n    } else if (val &gt; m) {\n        return Interpolate(val, m, valmax, midpoint, max);\n    } else {\n        return m;\n    }\n}\n</code></pre>\n\n<p>You should be able to replace <code>Interpolate</code> with something fancier, like one of the easing forms you linked, with the following mappings from your parameter names to theirs:</p>\n\n<pre><code>t = val - 0.5 * (valmax + valmin)\nb = 0.5 * (max + min)\nc = max - min\nd = valmax - valmin\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3557, "user_id": 6806643, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e3d663edd9e4e255790b9bf2d955ba13?s=128&d=identicon&r=PG&f=1", "display_name": "Matt McManis", "link": "https://stackoverflow.com/users/6806643/matt-mcmanis"}, "edited": false, "score": 0, "creation_date": 1530725360, "post_id": 51178558, "comment_id": 89339753, "body": "Looks like it&#39;s giving the right output, I will test on the GUI sliders. I need it because my sliders are <code>-100</code> to <code>100</code> but the value defaults here are not all <code>0</code>, some are <code>1</code>. <a href=\"https://ffmpeg.org/ffmpeg-filters.html#eq\" rel=\"nofollow noreferrer\">ffmpeg.org/ffmpeg-filters.html#eq</a>"}, {"owner": {"reputation": 3557, "user_id": 6806643, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e3d663edd9e4e255790b9bf2d955ba13?s=128&d=identicon&r=PG&f=1", "display_name": "Matt McManis", "link": "https://stackoverflow.com/users/6806643/matt-mcmanis"}, "edited": false, "score": 0, "creation_date": 1530736075, "post_id": 51178558, "comment_id": 89343222, "body": "It&#39;s working well, I was able to set certain defaults to 1 instead of 0 and they seem to scale correctly."}], "tags": [], "owner": {"reputation": 770, "user_id": 6996881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136596fedf0ef03739facf7555af7b24?s=128&d=identicon&r=PG", "display_name": "Jordi Cruzado", "link": "https://stackoverflow.com/users/6996881/jordi-cruzado"}, "is_accepted": true, "score": 3, "last_activity_date": 1530725726, "last_edit_date": 1530725726, "creation_date": 1530725157, "answer_id": 51178558, "question_id": 51177865, "link": "https://stackoverflow.com/questions/51177865/shift-middle-point-of-number-range/51178558#51178558", "title": "Shift Middle Point of Number Range", "body": "<p>I don't understand why do you need such a mapping but the way to do it is:</p>\n\n<pre><code>public static double Normalize( double val, double valmin, double valmax, double min, double max, double midpoint )\n{\n  double mid = ( valmin + valmax ) / 2.0;\n  if ( val &lt; mid )\n  {\n    return ( val - valmin ) / ( mid - valmin ) * ( midpoint - min ) + min;\n  }\n  else\n  {\n    return ( val - mid ) / ( valmax - mid ) * ( max - midpoint ) + midpoint;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3557, "user_id": 6806643, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e3d663edd9e4e255790b9bf2d955ba13?s=128&d=identicon&r=PG&f=1", "display_name": "Matt McManis", "link": "https://stackoverflow.com/users/6806643/matt-mcmanis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 1, "accepted_answer_id": 51178558, "answer_count": 2, "score": 2, "last_activity_date": 1530725726, "creation_date": 1530721687, "last_edit_date": 1530722075, "question_id": 51177865, "link": "https://stackoverflow.com/questions/51177865/shift-middle-point-of-number-range", "title": "Shift Middle Point of Number Range", "body": "<p>I have a function that Normalizes any number range to a new range.</p>\n\n<p>Such as<br>\n<code>[123,456]</code> to <code>[0,10]</code><br>\nor<br>\n<code>[-50,50]</code> to <code>[-1,1]</code></p>\n\n<p>I need help shifting the middle point of the new range.</p>\n\n<p>I'm using this for a GUI Slider that has a range of <code>[-100,100]</code> but controls a value of <code>[-2,2]</code>.<br>\nThe GUI Slider default is <code>0</code> but the value default is <code>1</code> (none).<br>\nMy program is a GUI for a CLI and I'm not able to change that program's value default to <code>0</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/98FD7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/98FD7.png\" alt=\"slider\"></a></p>\n\n<pre><code>Slider\n-100 --------------||-------------- 100\n                    0\nValue\n-2 |  |  | -1 |  |  0|  |  | 1  |  |  2\n\nShifted Value\n-2 |  | -1 |  | 0 | 1|  |  |  |  |  | 2\n</code></pre>\n\n<hr>\n\n<h2>Normalize</h2>\n\n<p><a href=\"https://dotnetfiddle.net/42jHvM\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/42jHvM</a></p>\n\n<pre><code>// Normalize Function\npublic static double Normalize(double val, double valmin, double valmax, double min, double max, double midpoint) \n{\n    return (((val - valmin) / (valmax - valmin)) * (max - min)) + min;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>double output = Normalize(  0, // slider input\n                         -100, // input min\n                          100, // input max\n                           -2, // normalize min\n                            2, // normalize max\n                            1  // middle point\n                         );\n</code></pre>\n\n<hr>\n\n<h2>Shift Middle Point</h2>\n\n<p>In my example I use <code>[-100,100]</code> converted to <code>[-2,2]</code>.</p>\n\n<p>The middle point of the <code>input</code> <code>[-100,100]</code> is <code>0</code>.<br>\nBut I need the <code>output</code> <code>[-2,2]</code> to have a middle point of <code>1</code> instead of <code>0</code>.</p>\n\n<p>So it will be skewed, slower towards <code>-2</code>, faster towards <code>2</code>.</p>\n\n<p><strong>Example</strong> I made in photoshop to visualize the middle point shift using a gradient.</p>\n\n<p><a href=\"https://i.stack.imgur.com/e0v0S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0v0S.jpg\" alt=\"shift\"></a></p>\n\n<p><strong>Easing</strong></p>\n\n<p>I tried using an <a href=\"http://www.gizma.com/easing/\" rel=\"nofollow noreferrer\">Ease Out Tween</a> to shift the middle point, but I don't know what values to use.<br>\nThe example output needs to be <code>Min: -2</code>, <code>Mid: 1</code>, <code>Max: 2</code>.</p>\n\n<p><a href=\"https://dotnetfiddle.net/nfNlBC\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/nfNlBC</a></p>\n\n<p>It uses:</p>\n\n<pre><code>//t: current time\n//b: start value\n//c: change in value\n//d: duration\n</code></pre>\n\n<hr>\n\n<p><strong>After the middle point has been shifted:</strong></p>\n\n<p>Input of <code>-100</code> should output <code>-2</code>.<br>\nInput of <code>-50</code> should output <code>-0.50</code>?<br>\nInput of <code>0</code> should output <code>1</code>.<br>\nInput of <code>50</code> should output <code>1.75</code>?<br>\nInput of <code>100</code> should output <code>2</code>.  </p>\n\n<p><strong>Before</strong></p>\n\n<pre><code>-100 | -50 | -25  |  0  |  25 |  50 | 100\n\n -2  | -1  | -0.5 |  0  | 0.5 |  1  |  2\n</code></pre>\n\n<p><strong>After</strong> <code>approximated</code></p>\n\n<pre><code>-100 | -50  | -25  |  0  |  25  |  50  | 100\n\n -2  |-0.50 | 0.25 |  1  | 1.25 | 1.75 |  2\n</code></pre>\n\n<hr>\n\n<h2>Question</h2>\n\n<p>How can I modify the Normalize function, or run it's output through a new Shift/Easing function to set the new middle point of the range and readjust the numbers?</p>\n"}, {"tags": ["c#", "asp.net-core", "identityserver4", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 1, "creation_date": 1530723261, "post_id": 51177862, "comment_id": 89338917, "body": "<code>client = new { client = clientData };</code> - Why are you wrapping your model inside an anonymous object? You need to serialize just your <code>Client</code> object, without any wrapping."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 0, "creation_date": 1530723494, "post_id": 51177862, "comment_id": 89339013, "body": "@FedericoDipuma I totally missed that. The wrapping will be an issue. You should put that as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "edited": false, "score": 0, "creation_date": 1530804913, "post_id": 51178310, "comment_id": 89371959, "body": "I have applied the above changes, but I am still having the issue.  Client is null.  I will attach some screen shots too."}, {"owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "edited": false, "score": 0, "creation_date": 1530805302, "post_id": 51178310, "comment_id": 89372190, "body": "I just discovered that I have a package reference version mismatch...&lt;PackageReference Include=&quot;IdentityServer4&quot; Version=&quot;2.1.3&quot; /&gt; and &lt;PackageReference Include=&quot;IdentityServer4&quot; Version=&quot;2.2.0&quot; /&gt;"}, {"owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "edited": false, "score": 0, "creation_date": 1530823796, "post_id": 51178310, "comment_id": 89381037, "body": "I have made both projects use version 2.2.0, I ran nuget locals all -clear, and dotnet restore... but when I hit f12 on the type it still shows the old one being referenced on my web api.  Why won&#39;t it reference the newer version of IS4?"}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "reply_to_user": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "edited": false, "score": 0, "creation_date": 1530895578, "post_id": 51178310, "comment_id": 89410336, "body": "I do not believe the nuget version would change <b>anything</b> in your scenario. Also, I do not understand your debugging window, how do you get the <code>json</code> variable inside your ASP.NET Core Controller?"}, {"owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "edited": false, "score": 0, "creation_date": 1530918586, "post_id": 51178310, "comment_id": 89418268, "body": "that&#39;s the watch window in the console app project, not the project with the web api Controller.  At this point I am almost certain it has to do with differing versions of Client.cs across projects because I followed the above advice and I am still having issues.  It looks like the Web API project includes an EF project as a reference, and the EF project uses IdentityServer4.EntityFramework which is, I think, where the old Client.cs resides"}], "tags": [], "owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "is_accepted": false, "score": 1, "last_activity_date": 1530724037, "last_edit_date": 1530724037, "creation_date": 1530723875, "answer_id": 51178310, "question_id": 51177862, "link": "https://stackoverflow.com/questions/51177862/identityserver4-models-client-as-httppost-parameter-always-null-in-aspnet-core-2/51178310#51178310", "title": "IdentityServer4.Models.Client as httppost parameter always null in aspnet core 2.x", "body": "<p>You are wrapping your model inside an anonymous object, which will turn its JSON representation into something which has nothing in common with your original <code>Client</code> class.</p>\n\n<p>This:</p>\n\n<pre><code>var clientData = new IdentityServer4.Models.Client();\nvar client = new { client = clientData };\nclient.client.ClientName = clientName;\n\nvar json = JsonConvert.SerializeObject(client);\n</code></pre>\n\n<p>Will result in a JSON similar to the following:</p>\n\n<pre><code>{\n    \"client\": { \n        \"clientName\": \"foo\",\n        \"anotherProperty\": \"bar\",\n        // other properties omitted for brevity\n    }\n}\n</code></pre>\n\n<p>But what you really want is just the <code>Client</code> object:</p>\n\n<pre><code>{ \n    \"clientName\": \"foo\",\n    \"anotherProperty\": \"bar\",\n    // other properties omitted for brevity\n}\n</code></pre>\n\n<p>Do not wrap your <code>clientData</code>, just serialize it directly to follow the model inside your MVC Action Method:</p>\n\n<pre><code>var clientData = new IdentityServer4.Models.Client();\nclientData.ClientName = clientName;\n\nvar json = JsonConvert.SerializeObject(clientData);\n</code></pre>\n\n<p>For everything to be working, you have to tell the model binder explicitly where to expect the data.</p>\n\n<p>Use <code>[FromBody]</code> attribute on the model.</p>\n\n<blockquote>\n  <p><code>[FromBody]</code>: Use the configured formatters to bind data from the request body. The formatter is selected based on content type of the request.</p>\n</blockquote>\n\n<pre><code>[HttpPost]        \npublic IActionResult Post([FromBody]IdentityServer4.Models.Client client) {\n\n    return Json(new { result = true });\n}\n</code></pre>\n\n<p>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">Model Binding in ASP.NET Core</a></p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "is_accepted": true, "score": 0, "last_activity_date": 1531166338, "creation_date": 1531166338, "answer_id": 51253159, "question_id": 51177862, "link": "https://stackoverflow.com/questions/51177862/identityserver4-models-client-as-httppost-parameter-always-null-in-aspnet-core-2/51253159#51253159", "title": "IdentityServer4.Models.Client as httppost parameter always null in aspnet core 2.x", "body": "<p>You're not going to believe this, but ultimately the reason why IdentityServer.Models.Client was null in the Web Api post parameter was because the class is decorated with [DebuggerDisplay(\"{ClientId}\")] and I did not provide a ClientId in my test application, so it was always showing up as null when in fact it actually WAS THERE THE WHOLE TIME.  I am glad this issue is behind me, but I am very angry about this \"feature\".  </p>\n"}], "owner": {"reputation": 63, "user_id": 4599155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UztzM.png?s=128&g=1", "display_name": "demifiend", "link": "https://stackoverflow.com/users/4599155/demifiend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 51253159, "answer_count": 2, "score": 0, "last_activity_date": 1531166338, "creation_date": 1530721684, "last_edit_date": 1530805111, "question_id": 51177862, "link": "https://stackoverflow.com/questions/51177862/identityserver4-models-client-as-httppost-parameter-always-null-in-aspnet-core-2", "title": "IdentityServer4.Models.Client as httppost parameter always null in aspnet core 2.x", "body": "<p>I am sending an httpPost parameter \"client\" of type IdentityServer4.Models.Client via a C# console application to a C# web api and <strong>client is always null</strong>.</p>\n\n<p>If I send a different object using the same code, the parameter is received just fine.  This seems to be a problem specific to Identity Server 4 and I don't know what's going on.</p>\n\n<p>Server code:</p>\n\n<pre><code>[HttpPost]        \npublic JsonResult Post(IdentityServer4.Models.Client client){   \n\n    return Json(new { result = true });\n}\n</code></pre>\n\n<p>Client code:</p>\n\n<pre><code>private static async Task Register(string clientName){\n\n        var controllerName = \"BasicClient\";             \n        var basicClientApi = string.Format(\"http://localhost:5100/api/{0}\", controllerName);\n        using (var httpClient = new HttpClient()){\n\n            var clientData = new IdentityServer4.Models.Client();\n            var client = new { client = clientData };\n            client.client.ClientName = clientName;\n\n            var json = JsonConvert.SerializeObject(client);\n            var content = new StringContent(json, Encoding.UTF8, \"application/json\");\n            content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\");\n\n\n            var response = await httpClient.PostAsync(basicClientApi, content);\n\n            if (!response.IsSuccessStatusCode)\n            {\n                Console.WriteLine(response.StatusCode);\n            }\n            else\n            {\n                var rawResponse = await response.Content.ReadAsStringAsync();\n\n                JObject o = JObject.Parse(rawResponse);\n                Console.WriteLine(o.ToString());\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>EDIT</strong>\nAfter applying [FromBody] and unwrapping the object, I am still getting null for client in the receiving Web API.  One thing caught my eye on the console application debug screen though.. see the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KEVu2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KEVu2.png\" alt=\"enter image description here\"></a></p>\n\n<p>The actual client variable is null in the console application, yet JsonConvert was able to serialize it into something.  What's that about?</p>\n"}, {"tags": ["c#", "razor", "asp.net-core", "razor-pages", "asp.net-core-2.1"], "answers": [{"tags": [], "owner": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "is_accepted": true, "score": 0, "last_activity_date": 1530776291, "last_edit_date": 1530776291, "creation_date": 1530775986, "answer_id": 51185642, "question_id": 51177800, "link": "https://stackoverflow.com/questions/51177800/razor-class-library-referencing-other-assembly-in-page-breaks-azure-publish/51185642#51185642", "title": "Razor Class Library: referencing other assembly in Page breaks Azure publish", "body": "<p>The fix was simply to add a reference to the proper Razor SDK to the RCL project. For some reason, it was using an old version.</p>\n\n<p>Fix : add a reference to Nuget package <code>Microsoft.NET.Sdk.Razor</code> version <code>2.1.1</code>.</p>\n"}], "owner": {"reputation": 8226, "user_id": 2698119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/961bffefb771c7848bb7c9239eb75abc?s=128&d=identicon&r=PG", "display_name": "M&#233;toule", "link": "https://stackoverflow.com/users/2698119/m%c3%a9toule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 51185642, "answer_count": 1, "score": 0, "last_activity_date": 1530776291, "creation_date": 1530721424, "question_id": 51177800, "link": "https://stackoverflow.com/questions/51177800/razor-class-library-referencing-other-assembly-in-page-breaks-azure-publish", "title": "Razor Class Library: referencing other assembly in Page breaks Azure publish", "body": "<p>Starting point : the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/razor-pages/ui-class?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">Razor Class Library (RCL) tutorial</a>. I can publish it on Azure, and access the Razor page as expected.</p>\n\n<p>Now, I'm creating another <code>.netstandard</code> library, called <code>MyCompany.ClassLibrary1</code>. It contains a single class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>namespace MyCompany.ClassLibrary1\n{\n    public class Class1\n    {\n        public string Message =&gt; \"This is a test\";\n    }\n}\n</code></pre>\n\n<p>I'm referencing it in the <code>Page1Model</code> class, like this: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using Microsoft.AspNetCore.Mvc.RazorPages;\nusing MyCompany.ClassLibrary1;\n\nnamespace RazorClassLib.MyFeature.Pages\n{\n    public class Page1Model : PageModel\n    {\n        public string Message;\n\n        public void OnGet()\n        {\n            Message = new Class1().Message;\n        }\n    }\n}\n</code></pre>\n\n<p>Finally, just to check that everything works properly, I use it in <code>Page1.cshtml</code>: </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@page\n@model RazorClassLib.MyFeature.Pages.Page1Model\n\n&lt;html&gt;\n&lt;body&gt;\n    OK from Razor page lib: @Model.Message\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When launching on my machine, everything works perfectly.</p>\n\n<p>However, when trying to publish the web app on Azure, the Razor page precompilation fails, with the following error:</p>\n\n<blockquote>\n  <p><code>Areas\\MyFeature\\Pages\\Page1.cshtml.cs(2,7): Error CS0246: The type or namespace name 'MyCompany' could not be found (are you missing a using directive or an assembly reference?)</code></p>\n</blockquote>\n\n<p><strong>Questions</strong>: </p>\n\n<ol>\n<li>Why does the publish step tries to recompile the Razor pages from the RCL?</li>\n<li>Why can't it find the namespace from my library?</li>\n</ol>\n\n<p>I've created a small <a href=\"https://github.com/metoule/RCL-PublishTest\" rel=\"nofollow noreferrer\">GitHub</a> repository with all the details.</p>\n"}, {"tags": ["c#", "oop", "exception"], "comments": [{"owner": {"reputation": 1695, "user_id": 1350913, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rzC4w.jpg?s=128&g=1", "display_name": "IronAces", "link": "https://stackoverflow.com/users/1350913/ironaces"}, "edited": false, "score": 1, "creation_date": 1530721798, "post_id": 51177786, "comment_id": 89338291, "body": "You don&#39;t need to catch and test the exception. If you are expecting an exception to occur then add<code>[ExpectedException(typeof(ArgumentException)</code> notation above your <code>[TestMethod]</code>."}, {"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "reply_to_user": {"reputation": 1695, "user_id": 1350913, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rzC4w.jpg?s=128&g=1", "display_name": "IronAces", "link": "https://stackoverflow.com/users/1350913/ironaces"}, "edited": false, "score": 0, "creation_date": 1530722188, "post_id": 51177786, "comment_id": 89338448, "body": "I&#39;ve tried that previously without success which is why I tried this method instead.  I get the error that it hasn&#39;t thrown an exception, which I don&#39;t understand."}, {"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "reply_to_user": {"reputation": 1695, "user_id": 1350913, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rzC4w.jpg?s=128&g=1", "display_name": "IronAces", "link": "https://stackoverflow.com/users/1350913/ironaces"}, "edited": false, "score": 0, "creation_date": 1530722304, "post_id": 51177786, "comment_id": 89338501, "body": "I have of course confirmed with debugging that the method is actually throwing the expected exception."}, {"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "reply_to_user": {"reputation": 1695, "user_id": 1350913, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rzC4w.jpg?s=128&g=1", "display_name": "IronAces", "link": "https://stackoverflow.com/users/1350913/ironaces"}, "edited": false, "score": 0, "creation_date": 1530722329, "post_id": 51177786, "comment_id": 89338511, "body": "It&#39;s almost as if it is getting caught by something else."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1530723398, "post_id": 51177786, "comment_id": 89338975, "body": "Are you sure the exception thrown is actually an ArgumentException? When looking at your code and assuming that indeed an exception occurs, the only thing i could imagine is some method invocation in your Send method throwing some exception of a type different from ArgumentException."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530727736, "post_id": 51177786, "comment_id": 89340570, "body": "Reference <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Async/Await - Best Practices in Asynchronous Programming</a>"}, {"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "edited": false, "score": 0, "creation_date": 1530770821, "post_id": 51177786, "comment_id": 89350432, "body": "@elgonzo Sorry I should have been more clear previously. I confirmed that the exception was thrown and it was an ArgumentException."}, {"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530770857, "post_id": 51177786, "comment_id": 89350448, "body": "@Nkosi Thank you, I will be reading up on that one!"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "edited": false, "score": 1, "creation_date": 1530740367, "post_id": 51179004, "comment_id": 89344479, "body": "First off, thank you for the thorough explanation! I had completely forgotten I made the method asynchronous and missed it when reviewing and refactoring. That\u2019s problem with revisiting code made months ago with no comments or explanations. I wasn\u2019t actually aware that an async void method wouldn\u2019t throw the exception back to a caller but it makes sense. I will test it out tomorrow when I get home and will update with the result. Thank you again!"}], "tags": [], "owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "is_accepted": true, "score": 2, "last_activity_date": 1530727507, "creation_date": 1530727507, "answer_id": 51179004, "question_id": 51177786, "link": "https://stackoverflow.com/questions/51177786/thrown-exception-not-caught-in-unittest-try-catch/51179004#51179004", "title": "Thrown Exception not caught in UnitTest try/catch", "body": "<p>there's a few things I want to raise in this answer. I'm not sure of your experience level so please don't think I'm being condescending at any point.</p>\n\n<p>Firstly a brief note on async methods and Tasks.</p>\n\n<ul>\n<li>Async void should be avoided unless in an async event handler. Async methods should return Task or Task otherwise there is nothing for the calling method to keep hold of to know when the method is done and to report back whether the method threw an exception. Async void is essentially fire and forget, there is no one left to observe the exceptions.  </li>\n</ul>\n\n<blockquote>\n  <p>\"In observed Tasks no one can you scream\" -Me ,2018</p>\n</blockquote>\n\n<ul>\n<li>Exceptions thrown in async methods are nicely unwrapped and thrown\nwhen the async method is awaited, with the call stack all preserved\nand reasonably sensible. If you don't await the result eventually at\nsome point in the future you will get an UnobservedTaskException\nthat, if you haven't configured a global handler for, will bring down\nyour application. If you get the result of an async method\nsynchronously using .Wait() or .Result or via\n.GetAwaiter().GetResult() (all 3 you should try and avoid but the 3rd\noption is best if you have to I have been informed), then you will\nget the original exception wrapped in an AggregateException.</li>\n</ul>\n\n<p>Now if none of this is making much sense to you, I would recommend doing some reading up Tasks and async/await.</p>\n\n<p>Now onto your Test.</p>\n\n<p>Your method is async void so there is nothing for the calling method to have returned to it to represent the work or to let it know that the method has thrown an exception. So it carries on, the test finishes and then everything completes with no exceptions because the UnobservedTaskException can be thrown at anypoint in the future (I think it is related to when the garbage collector tidies up the faulted Task and then it throws and because the garbage collector is non-deterministic we can't say when that will happen)</p>\n\n<p>So what if you made your async method return a Task??? Well that's still not quite right. You are now returning a Task that will be in a faulted state because of the exception, however because you never await it, the exception is never 'unwrapped' and actually thrown and so you're test happily continues.</p>\n\n<p>What you need to do is make your Test async and return a Task and make the method you're testing async Task not async void and await that method in your test.</p>\n\n<p>Like this</p>\n\n<pre><code>[TestMethod]\npublic async Task Send_FailsOnWrongHostName()\n{\n    var name = \"FailWithHostname\";\n    var msg = new Message(MyStates.Register, \"UnitTest\", \"Test\");\n\n    try\n    {\n        var client = new PipeClient();\n        await client.Send(\"lol\", name, msg);\n    }\n    catch (Exception e)\n    {\n        Assert.IsTrue(e is ArgumentException);\n    }\n}\n\npublic class PipeClient : IPipeClient\n{\n    public async Task Send(string host, string pipeName, Message msg)\n    {\n        if (string.IsNullOrEmpty(msg.PreparedMessage))\n            throw new ArgumentException(\"MESSAGE_NOT_FOUND\");\n\n        if (string.IsNullOrEmpty(host) || string.IsNullOrEmpty(pipeName))\n            throw new ArgumentNullException();\n\n        if (!host.TryParseHost()) \n            throw new ArgumentException(\"INVALID_HOST_NAME\");\n\n        using (var pipeClient = new NamedPipeClientStream(host, pipeName, PipeDirection.Out))\n        {\n            pipeClient.Connect(200);\n\n            using (var writer = new StreamWriter(pipeClient))\n            {\n                await Task.Run(() =&gt; writer.WriteLine(msg.PreparedMessage));\n                writer.Flush();\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6215719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTalQ.jpg?s=128&g=1", "display_name": "M. Pedersen", "link": "https://stackoverflow.com/users/6215719/m-pedersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 51179004, "answer_count": 1, "score": 3, "last_activity_date": 1530727507, "creation_date": 1530721343, "question_id": 51177786, "link": "https://stackoverflow.com/questions/51177786/thrown-exception-not-caught-in-unittest-try-catch", "title": "Thrown Exception not caught in UnitTest try/catch", "body": "<p>I'm designing some code right now where I'm throwing an exception if a string parameter is null or empty and the exception is thrown as it should be, but it isn't getting caught when I'm UnitTesting. </p>\n\n<p>Here's the client I'm using.</p>\n\n<pre><code>public class PipeClient : IPipeClient\n{\n    public async void Send(string host, string pipeName, Message msg)\n    {\n        if (string.IsNullOrEmpty(msg.PreparedMessage))\n            throw new ArgumentException(\"MESSAGE_NOT_FOUND\");\n\n        if (string.IsNullOrEmpty(host) || string.IsNullOrEmpty(pipeName))\n            throw new ArgumentNullException();\n\n        if (!host.TryParseHost()) \n            throw new ArgumentException(\"INVALID_HOST_NAME\");\n\n        using (var pipeClient = new NamedPipeClientStream(host, pipeName, PipeDirection.Out))\n        {\n            pipeClient.Connect(200);\n\n            using (var writer = new StreamWriter(pipeClient))\n            {\n                await Task.Run(() =&gt; writer.WriteLine(msg.PreparedMessage));\n                writer.Flush();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And here's the UnitTest</p>\n\n<pre><code>    [TestMethod]\n    public void Send_FailsOnWrongHostName()\n    {\n        var name = \"FailWithHostname\";\n        var msg = new Message(MyStates.Register, \"UnitTest\", \"Test\");\n\n        try\n        {\n            var client = new PipeClient();\n            client.Send(\"lol\", name, msg);\n        }\n        catch (Exception e)\n        {\n            Assert.IsTrue(e is ArgumentException);\n        }\n    }\n</code></pre>\n\n<p>So when I run that test it should as far as I know throw the exception when I call the the Send method (which is does) and then get caught in the catch clause because I'm not catching it inside the PipeClient. Yet it doesn't, it just exits with a failed test. </p>\n\n<p>If you need any more information just let me know, thanks in advance.</p>\n"}, {"tags": ["c#", ".net", "active-directory", "user-accounts", "directorysearcher"], "comments": [{"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530722376, "post_id": 51177778, "comment_id": 89338534, "body": "Try this filter - <code>(&amp;(objectCategory=person)(objectClass=user)(SAMAccountName=*&zwnj;&#8203;)(!(homeMDB=*NonUser&zwnj;&#8203;*)))</code>"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 1, "creation_date": 1530723034, "post_id": 51177778, "comment_id": 89338815, "body": "Just noticed one typo in above, use <code>sAMAccountName</code> instead of <code>SAMAccountName</code>. Also try by LDAP - <code>(&amp;(objectCategory=person)(objectClass=user)(sAMAccountName=*&zwnj;&#8203;)(!(cn=*O*)))</code>"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1530724362, "post_id": 51177778, "comment_id": 89339337, "body": "I think it is CN only and it is different from distinguishedName"}], "answers": [{"comments": [{"owner": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530726304, "post_id": 51178443, "comment_id": 89340130, "body": "sorry prany, does not work. It only removes common names with an &quot;O&quot;; also wanted names like &quot;thomas&quot;"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "reply_to_user": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530726697, "post_id": 51178443, "comment_id": 89340242, "body": "@boboes - There must be a domain name, right ? so you can filter by <code>(&amp;(objectCategory=person)(objectClass=user)(sAMAccountName=*&zwnj;&#8203;)(mail = *@Yourdomain.com))</code>"}, {"owner": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530726967, "post_id": 51178443, "comment_id": 89340335, "body": "HealthMailboxfbff1f1a718e4874917d7e39076275bd@writers.local"}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "reply_to_user": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530727120, "post_id": 51178443, "comment_id": 89340390, "body": "@boboes - Is this the output ?"}, {"owner": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530727171, "post_id": 51178443, "comment_id": 89340401, "body": "infact the users I don&#39;t want seem to be real users without any differences and I have to accept them when an exchange server is installed."}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "reply_to_user": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 0, "creation_date": 1530727822, "post_id": 51178443, "comment_id": 89340597, "body": "Give it a try on this one - <code>&amp;(objectClass=user)(cn=&quot; + username + &quot;);</code>"}, {"owner": {"reputation": 14241, "user_id": 64161, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/FJ0JL.jpg?s=128&g=1", "display_name": "Jakob Christensen", "link": "https://stackoverflow.com/users/64161/jakob-christensen"}, "reply_to_user": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "edited": false, "score": 1, "creation_date": 1530858759, "post_id": 51178443, "comment_id": 89389526, "body": "@boboes: If your admin has created those mailboxes as real users, there is no way to tell the difference in the AD.  I recommend trying the AD Explorer created way back by Mark Russinovich to see if you can find any properties that you can use to distinguish the two types of users: <a href=\"https://docs.microsoft.com/en-us/sysinternals/downloads/adexplorer\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sysinternals/downloads/adexplorer</a>"}], "tags": [], "owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "is_accepted": false, "score": 2, "last_activity_date": 1530724928, "last_edit_date": 1530724928, "creation_date": 1530724533, "answer_id": 51178443, "question_id": 51177778, "link": "https://stackoverflow.com/questions/51177778/directorysearcher-how-to-get-only-entries-for-real-users/51178443#51178443", "title": "DirectorySearcher: How to get only entries for &quot;real&quot; users", "body": "<p>Try below using LDAP</p>\n\n<pre><code> (&amp;(objectCategory=person)(objectClass=user)(sAMAccountName=*)(!(cn=*O*)))\n</code></pre>\n\n<p>Just for info - CN is Common Name. You can get more info on LDAP <a href=\"https://stackoverflow.com/questions/18756688/what-are-cn-ou-dc-in-an-ldap-search/18756876\">here</a></p>\n\n<p>You also asked me with what property can you retrieve cn. Here you can extract by this code snippet ( for double check). But as far as I know it is CN only </p>\n\n<pre><code> foreach (string property in result.Properties.PropertyNames)\n{\n      foreach (Object propertyValue in result.Properties[property])\n     {\n        // print out the Property Value here\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 1644, "user_id": 1574221, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3354f9ca5a8b1d4cc30f5bcc1de26ed5?s=128&d=identicon&r=PG", "display_name": "marsh-wiggle", "link": "https://stackoverflow.com/users/1574221/marsh-wiggle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1915, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530726722, "creation_date": 1530721318, "last_edit_date": 1530726722, "question_id": 51177778, "link": "https://stackoverflow.com/questions/51177778/directorysearcher-how-to-get-only-entries-for-real-users", "title": "DirectorySearcher: How to get only entries for &quot;real&quot; users", "body": "<p>I use a <code>DirectorySearcher</code> to get all users from Active Directory - but I need to get only \"real\" users.</p>\n\n<p>Filter:</p>\n\n<pre><code>search.Filter = \"(&amp;(objectClass=user)(objectCategory=person))\";\n</code></pre>\n\n<p>but I get all user accounts, like:</p>\n\n<pre><code>henry.miller            &lt;-wanted\nernest.hemingway        &lt;-wanted\nHealthMailboxced7671    &lt;-not wanted \n</code></pre>\n\n<p><strong>Question:</strong> how does my filter need to be modified to return only <em>real</em> users?</p>\n\n<p>My whole code:</p>\n\n<pre><code>string DomainPath = \"LDAP://DC=writers,DC=local\";\nDirectoryEntry searchRoot = new DirectoryEntry(DomainPath);\nDirectorySearcher search = new DirectorySearcher(searchRoot);\nsearch.Filter = \"(&amp;(objectClass=user)(objectCategory=person))\";\nsearch.PropertiesToLoad.Add(\"samaccountname\");\n\nSearchResult result;\n\nSearchResultCollection resultCol = search.FindAll();\n\nif (resultCol != null)\n{\n    for (int counter = 0; counter &lt; resultCol.Count; counter++)\n    {\n        result = resultCol[counter];\n\n        if (result.Properties.Contains(\"samaccountname\"))\n        {\n            Console.WriteLine((String)result.Properties[\"samaccountname\"][0]);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "richtextbox"], "comments": [{"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1530726239, "post_id": 51177763, "comment_id": 89340103, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2553090/wpf-richtextbox-selected-block\">WPF RichTextBox - Selected Block?</a>"}, {"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1530726292, "post_id": 51177763, "comment_id": 89340123, "body": "I marked as duplicate because I think once you have the value of the current block you can just insert the table to it."}], "owner": {"reputation": 21, "user_id": 6272377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7883494e8fe6dcfc246d14fdda53842e?s=128&d=identicon&r=PG&f=1", "display_name": "Omacron", "link": "https://stackoverflow.com/users/6272377/omacron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530721278, "creation_date": 1530721278, "question_id": 51177763, "link": "https://stackoverflow.com/questions/51177763/richtextbox-add-table-to-caretposition", "title": "RichTextBox add Table to CaretPosition", "body": "<p>How to add a <code>Table</code> (or other objects not text) to <code>RichTextBox</code> at the current <code>CaretPosition</code>.  I know how to add it to the end;</p>\n\n<pre><code>MyRichTextBox.Document.Blocks.Add(MyTable);\n</code></pre>\n\n<p>That works perfectly fine.  I know how to add text to the current</p>\n\n<pre><code>MyRichTextBox.CaretPosition.InsertTextInRun(\"Some Text\");\n</code></pre>\n\n<p>However, putting the <code>Table</code> at <code>CaretPosition</code> I am not sure</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 2, "creation_date": 1530721327, "post_id": 51177740, "comment_id": 89338092, "body": "If the only place you use the dictionary is for the email text, don&#39;t use a dictionary - just build a string?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 2, "creation_date": 1530721401, "post_id": 51177740, "comment_id": 89338133, "body": "Why even use a dictionary then ? Use String/StringBuilder as needed."}], "answers": [{"tags": [], "owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "is_accepted": true, "score": 2, "last_activity_date": 1530721482, "creation_date": 1530721482, "answer_id": 51177815, "question_id": 51177740, "link": "https://stackoverflow.com/questions/51177740/how-to-assign-a-dictionary-key-and-value-to-a-variable-as-a-string-c/51177815#51177815", "title": "How to assign a dictionary key and value to a variable as a string C#", "body": "<p>You can use Linq to construct a string:</p>\n\n<pre><code>string body = string.Join(Environment.NewLine, keys.Select(x=&gt;$\"{x.Key}: {x.Value}\"));\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 9329597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3492bb0081800c9b5b153bd44e100dc?s=128&d=identicon&r=PG&f=1", "display_name": "mohamedelhawary", "link": "https://stackoverflow.com/users/9329597/mohamedelhawary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 51177815, "answer_count": 1, "score": 0, "last_activity_date": 1530721686, "creation_date": 1530721140, "question_id": 51177740, "link": "https://stackoverflow.com/questions/51177740/how-to-assign-a-dictionary-key-and-value-to-a-variable-as-a-string-c", "title": "How to assign a dictionary key and value to a variable as a string C#", "body": "<p>I am trying to send  email and assign a dictionary key and value to a variable as a string .</p>\n\n<pre><code>public ActionResult SendContactUs(ContactUsModel model)\n    {\n        SendEmail sendemail = new SendEmail();\n\n        string toEmail = ConfigurationManager.AppSettings[\"ContactUsEmail\"];\n\n        var keys = new Dictionary&lt;string, string&gt;() {\n            { \"Firstname\", model.Firstname },\n            { \"Lastname\", model.Lastname },\n            { \"Email\", model.Email },\n            { \"Orgnization\", model.Orgnization },\n            { \"Message\", model.Message }\n        };\n   //here i want to pass keys  to body as string \n        string body = keys ;\n\n\n\n\n        sendemail.Send(new EmailModel()\n        {\n            Body = body,\n            To = new List&lt;string&gt;() { toEmail },\n\n       });\n\n        return Json(new { val = true }, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>for example i want to see the string body as </p>\n\n<pre><code>FirstName: scscd\nLastName : dcdcdcd\nEmail : dcdcd@dsds.rfrfr\nMessage : vxvxcvxcvxcvxcv\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "random"], "comments": [{"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 1, "creation_date": 1530721733, "post_id": 51177707, "comment_id": 89338262, "body": "I would help if you identify the line throwing the error."}, {"owner": {"reputation": 1, "user_id": 9598290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12abcb895fcfce2eb12913559aba03e1?s=128&d=identicon&r=PG&f=1", "display_name": "beritahebohindo", "link": "https://stackoverflow.com/users/9598290/beritahebohindo"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1530722301, "post_id": 51177707, "comment_id": 89338497, "body": "@paparazzo line throwing the error is : 122 at puzzleLocation [0].x = puzzle1[i];"}, {"owner": {"reputation": 4153, "user_id": 2938526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aba561f633da5f6fe58b227c5e685b6?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Rodrigues", "link": "https://stackoverflow.com/users/2938526/rodrigo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1530724014, "post_id": 51177707, "comment_id": 89339202, "body": "my bad, I read it wrong. Gonna erase the comments"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1530732334, "post_id": 51177707, "comment_id": 89342073, "body": "If I take your code and run it (specifying stub methods for the ones you haven&#39;t supplied), it works just fine."}], "owner": {"reputation": 1, "user_id": 9598290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12abcb895fcfce2eb12913559aba03e1?s=128&d=identicon&r=PG&f=1", "display_name": "beritahebohindo", "link": "https://stackoverflow.com/users/9598290/beritahebohindo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1530734203, "answer_count": 0, "score": 0, "last_activity_date": 1530721020, "creation_date": 1530721020, "question_id": 51177707, "link": "https://stackoverflow.com/questions/51177707/fisher-yates-method-for-random-with-unity-and-i-get-this-error-indexoutofrangee", "closed_reason": "Duplicate", "title": "fisher yates method for random with unity. and i get this error IndexOutOfRangeException: Array index is out of range.", "body": "<p>i am create game puzzle in unity. and using fisher yates shuffle for random the puzzle piece. I am get this error IndexOutOfRangeException: Array index is out of range. </p>\n\n<pre><code>public int m_randomLooping = 2;\nint[] puzzle1 = { 0,1,2 }; \nprivate int m_size = 3;\n\nvoid Shuffle(int[] a)\n{\n    // Loops through array\n    for (int i = a.Length-1; i &gt; 0; i--)\n    {\n        // Randomize a number between 0 and i (so that the range decreases each time)\n        int rnd = Random.Range(0,i);\n\n        // Save the value of the current i, otherwise it'll overright when we swap the values\n        int temp = a[i];\n\n        // Swap the new and old values\n        a[i] = a[rnd];\n        a[rnd] = temp;\n    }\n\n\n}    \n\nvoid RandomizePlacement (){\n    VectorInt2[] puzzleLocation = new VectorInt2[2];\n    Vector2[] puzzleOffset = new Vector2[2];\n\n    do {\n\n        for (int i = 0; i &lt; m_randomLooping; i++) {\n            Shuffle(puzzle1);\n\n            puzzleLocation [0].x = puzzle1[i];// if i change this puzzle[i]; to Random.Range (0, m_size); its works, but I want to use fisher yates for random\n            puzzleLocation [0].y = puzzle1[i];\n            puzzleLocation [1].x = puzzle1[i];\n            puzzleLocation [1].y = puzzle1[i];\n\n            puzzleOffset [0] = m_puzzle [puzzleLocation [0].x, puzzleLocation [0].y].GetImageOffset ();\n            puzzleOffset [1] = m_puzzle [puzzleLocation [1].x, puzzleLocation [1].y].GetImageOffset ();\n\n            m_puzzle [puzzleLocation [0].x, puzzleLocation [0].y].AssignImage (puzzleOffset [1]);\n            m_puzzle [puzzleLocation [1].x, puzzleLocation [1].y].AssignImage (puzzleOffset [0]);\n\n\n        }\n    } while (CheckBoard() == true);\n\n\n}\n</code></pre>\n\n<p>where is my mistake ? please help me for fix this code... thanks </p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 2904, "user_id": 580627, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdab596b1c704403fba98930c6955a56?s=128&d=identicon&r=PG", "display_name": "Fredrik Widerberg", "link": "https://stackoverflow.com/users/580627/fredrik-widerberg"}, "edited": false, "score": 0, "creation_date": 1530728087, "post_id": 51177697, "comment_id": 89340677, "body": "How about just having a txt-file where each line is like &quot;1100&quot;,&quot;1100&quot;?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1530733830, "post_id": 51177697, "comment_id": 89342528, "body": "What happened when &quot;but didn&#39;t succeed&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 9756856, "user_type": "registered", "profile_image": "https://graph.facebook.com/1813760182007989/picture?type=large", "display_name": "D&#225;niel K\u0151cs", "link": "https://stackoverflow.com/users/9756856/d%c3%a1niel-k%c5%91cs"}, "is_accepted": false, "score": 0, "last_activity_date": 1530795140, "creation_date": 1530795140, "answer_id": 51191807, "question_id": 51177697, "link": "https://stackoverflow.com/questions/51177697/dynamic-levels-brick-breaker/51191807#51191807", "title": "Dynamic levels brick breaker", "body": "<p>yes you can create a prefab for every level, just design them under one <code>GameObject</code> and create a Prefab from that <code>GameObject</code>. Now when you change the level, instantiate the correct prefab.\nI think that would be the easiest way.</p>\n\n<p>You could also try many other ways.\nHardcode the locations for each bricks on each levels and use those information when you \"dynamically\" load a new level.\nStore the position values somewhere else (file, database, etc.).</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 17, "user_id": 8345939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ecaa99d2c0f42864e150fed38f78bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Rach", "link": "https://stackoverflow.com/users/8345939/rach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530795140, "creation_date": 1530720977, "last_edit_date": 1530758849, "question_id": 51177697, "link": "https://stackoverflow.com/questions/51177697/dynamic-levels-brick-breaker", "title": "Dynamic levels brick breaker", "body": "<p>I'm trying to create a brick breaker game with dynamically loading levels. I'd like to stay in one scene the entire game, and then dynamically load different levels by changing the brick positions (e.g. one level in where the bricks are in the shape of a circle, another level where the bricks are in the shape of a square, etc.). </p>\n\n<p>I've imagined the screen as a grid of which each cell either has a brick or doesn't, and place them using for loops. My trouble is dynamically loading the data. Right now I have the grid data in terms of arrays. I've half attempted to upload 1 json file, but didn't succeed. </p>\n\n<p>I'm not sure how to go about this problem. Do I make individual json files for each level? Can json files even have jagged arrays? How would I extract the data as an array? Is there a way of doing this with playerprefs? </p>\n\n<p>Any help would be appreciated </p>\n\n<pre><code>public class BrickGrid : MonoBehaviour {\n    string filename = \"data.json\";\n    string jsonString;\n    string path;\n\n    public Transform brickPrefab;\n\n    [System.Serializable]\n    public class Bricks {\n        public string[] rows;\n    }\n\n    void Start() {\n        LoadGridData();\n        InitGrid();\n    }\n\n    void LoadGridData() {\n        path = Application.streamingAssetsPath + \"/\" + filename;\n\n        if (File.Exists(path)) {\n            jsonString = File.ReadAllText(path);\n            BrickPattern rows = JsonUtility.FromJson&lt;BrickPattern&gt;(jsonString);\n        }\n    }\n\n    void InitGrid() {\n        int[] row1 = { 0, 0, 1, 1 };\n        int[] row2 = { 1, 1, 0, 1 };\n        int[] row3 = { 0, 0, 0, 1 };\n\n        int[][] rows = new int[][] {row1, row2, row3};\n\n        Vector2 brickPosition = new Vector3(-2.25f, 4f, 0);\n\n        for (int i = 0; i &lt; rows.Length; i++) {\n            int[] individualRow = rows[i];\n            for (int j = 0; j &lt; individualRow.Length; j++){\n                if (individualRow[j] == 1){\n                    // instantiate\n                    Instantiate(brickPrefab, brickPosition, Quaternion.identity);\n\n                }\n                else if (individualRow[j] == 0) {\n                    continue;\n                }\n\n                // inrease x position\n                brickPosition.x = brickPosition.x + 1.5f;\n            }\n\n            // increase y position and reset x position\n            brickPosition.x = -2.25f;\n            brickPosition.y = brickPosition.y - 1.5f;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "inversion-of-control", "castle-windsor"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4312760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atA2Q.jpg?s=128&g=1", "display_name": "Oleksii Kavka", "link": "https://stackoverflow.com/users/4312760/oleksii-kavka"}, "edited": false, "score": 0, "creation_date": 1530860807, "post_id": 51191135, "comment_id": 89390538, "body": "This is not what I was looking for. The problem is to resolve <b>nested</b> dictionary (e.g. <code>Dictionary&lt;string,Dictionary&lt;string,Guid&gt;&gt;</code>) via <a href=\"http://www.castleproject.org/\" rel=\"nofollow noreferrer\">Castle Windsor</a>."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 37, "user_id": 4312760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atA2Q.jpg?s=128&g=1", "display_name": "Oleksii Kavka", "link": "https://stackoverflow.com/users/4312760/oleksii-kavka"}, "edited": false, "score": 0, "creation_date": 1530880314, "post_id": 51191135, "comment_id": 89401684, "body": "Your origanl posting wasn&#39;t consistent so I wasn&#39;t sure what you wanted.  You updated request is much better.  I updated the code.  Your xml has multiple levels with same tag name so you can&#39;t just use Descendants."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1530880161, "last_edit_date": 1530880161, "creation_date": 1530793101, "answer_id": 51191135, "question_id": 51177683, "link": "https://stackoverflow.com/questions/51177683/could-not-resolve-nested-dictionary-from-xml-via-castle-windsor/51191135#51191135", "title": "Could not resolve nested dictionary from XML via Castle Windsor", "body": "<p>I do this all the time at home using xml linq.  I don't have VS so I hope I get the syntax correct</p>\n\n<pre><code>XDocument doc = XDocument(\"filename\");\n\nList&lt;MyConfiguration&gt; configs = doc.Descendants(\"parameters\").Select(x =&gt; new MyConfiguration() {\n   Url = (string)x.Descendants(\"Url\").FirstOrDefault(),\n   Token = (string)x.Descendants(\"Token\").FirstOrDefault(),\n   Mapping = x.Elements(\"Mapping\").Select(m =&gt; m.Element(\"dictionary\").Elements(\"entry\")\n             .GroupBy(y =&gt; (string)y.Attribute(\"key\"), z =&gt; z.Descendants(\"entry\")\n                .GroupBy(a =&gt; (string)a.Attribute(\"key\"), b =&gt; (string)b)\n                .ToDictionary(a =&gt; a.Key, b =&gt; b.FirstOrDefault))\n             .ToDictionary(y =&gt; y.Key, z =&gt; z.FirstOrDefault())\n          .FirstOrDefault();\n</code></pre>\n\n<p>The code assume a class</p>\n"}], "owner": {"reputation": 37, "user_id": 4312760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atA2Q.jpg?s=128&g=1", "display_name": "Oleksii Kavka", "link": "https://stackoverflow.com/users/4312760/oleksii-kavka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530880161, "creation_date": 1530720884, "last_edit_date": 1530861242, "question_id": 51177683, "link": "https://stackoverflow.com/questions/51177683/could-not-resolve-nested-dictionary-from-xml-via-castle-windsor", "title": "Could not resolve nested dictionary from XML via Castle Windsor", "body": "<p>I have to resolve the following configuration from XML configuration file via Castle Windsor:</p>\n\n<pre><code>interface IMyConfiguration\n{\n    string Url { get; set; }\n    string Token { get; set; }\n    Dictionary &lt;string, Dictionary &lt;string, Guid&gt;&gt; Mapping { get; set; }\n}\n</code></pre>\n\n<p>From XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n    &lt;components&gt;\n        &lt;component id=\"myConfiguration\"\n                   service=\"Application.IMyConfiguration, Application\"\n                   type=\"Application.MyConfiguration, Application\"&gt;\n            &lt;parameters&gt;\n                &lt;Url&gt;example.com&lt;/Url&gt;\n                &lt;Token&gt;00000000-0000-0000-0000-000000000000&lt;/Token&gt;\n                &lt;Mapping&gt;\n                    &lt;dictionary&gt;\n                        &lt;entry key=\"AA\"&gt;${mapping_one}&lt;/entry&gt;\n                        &lt;entry key=\"BB\"&gt;${mapping_two}&lt;/entry&gt;\n                    &lt;/dictionary&gt;\n                &lt;/Mapping&gt;\n            &lt;/parameters&gt;\n        &lt;/component&gt;\n\n        &lt;component id=\"mapping_one\"\n                   service=\"System.Collections.Generic.IDictionary`2[[System.String, mscorlib],[System.Guid, mscorlib]]\"\n                   type=\"System.Collections.Generic.Dictionary`2[[System.String, mscorlib],[System.Guid, mscorlib]]\"&gt;\n            &lt;parameters&gt;\n                &lt;dictionary&gt;\n                    &lt;dictionary&gt;\n                        &lt;entry key=\"aa\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                        &lt;entry key=\"bb\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                        &lt;entry key=\"cc\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                    &lt;/dictionary&gt;\n                &lt;/dictionary&gt;\n            &lt;/parameters&gt;\n        &lt;/component&gt;\n\n        &lt;component id=\"mapping_two\"\n                   service=\"System.Collections.Generic.IDictionary`2[[System.String, mscorlib],[System.Guid, mscorlib]]\"\n                   type=\"System.Collections.Generic.Dictionary`2[[System.String, mscorlib],[System.Guid, mscorlib]]\"&gt;\n            &lt;parameters&gt;\n                &lt;dictionary&gt;\n                    &lt;dictionary&gt;\n                        &lt;entry key=\"aa\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                        &lt;entry key=\"bb\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                        &lt;entry key=\"cc\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                    &lt;/dictionary&gt;\n                &lt;/dictionary&gt;\n            &lt;/parameters&gt;\n        &lt;/component&gt;\n    &lt;/components&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But what I get is <code>Mapping</code> property set to <code>null</code>. Other properties resolve properly.</p>\n\n<p>What am I doing wrong? How to do it properly?</p>\n\n<p>I tried to google the solution, but it seems that no one uses nested dictionaries for configuration :)</p>\n\n<p>The best idea I've obtained so far is to use list instead of dictionary.</p>\n\n<hr>\n\n<p><strong>UPD.</strong> Resolving works fine if I put <code>mapping_one</code> and <code>mapping_two</code> inside the MyConfiguration component.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n    &lt;components&gt;\n        &lt;component id=\"myConfiguration\"\n                   service=\"Application.IMyConfiguration, Application\"\n                   type=\"Application.MyConfiguration, Application\"&gt;\n            &lt;parameters&gt;\n                &lt;Url&gt;example.com&lt;/Url&gt;\n                &lt;Token&gt;00000000-0000-0000-0000-000000000000&lt;/Token&gt;\n                &lt;Mapping&gt;\n                    &lt;dictionary&gt;\n                        &lt;entry key=\"AA\"&gt;\n                            &lt;dictionary&gt;\n                                &lt;entry key=\"aa\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                                &lt;entry key=\"bb\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                                &lt;entry key=\"cc\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                            &lt;/dictionary&gt;\n                        &lt;/entry&gt;\n                        &lt;entry key=\"BB\"&gt;\n                            &lt;dictionary&gt;\n                                &lt;entry key=\"aa\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                                &lt;entry key=\"bb\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                                &lt;entry key=\"cc\"&gt;00000000-0000-0000-0000-000000000000&lt;/entry&gt;\n                            &lt;/dictionary&gt;\n                        &lt;/entry&gt;\n                    &lt;/dictionary&gt;\n                &lt;/Mapping&gt;\n            &lt;/parameters&gt;\n        &lt;/component&gt;\n    &lt;/components&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But I want nested dictionaries to be separate components.</p>\n"}, {"tags": ["c#", "list", "asynchronous", "task"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1530722256, "post_id": 51177587, "comment_id": 89338477, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14630770/sequential-processing-of-asynchronous-tasks\">Sequential processing of asynchronous tasks</a>."}], "answers": [{"comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530721022, "post_id": 51177662, "comment_id": 89337968, "body": "How do you think the <a href=\"https://stackoverflow.com/questions/14630770/sequential-processing-of-asynchronous-tasks\">link I gave</a> wasn&#39;t a correct duplicate?"}, {"owner": {"reputation": 221, "user_id": 2130865, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95897aef7e723c8ef372f833a632adae?s=128&d=identicon&r=PG", "display_name": "Manuel Bleimuth", "link": "https://stackoverflow.com/users/2130865/manuel-bleimuth"}, "edited": false, "score": 0, "creation_date": 1530721041, "post_id": 51177662, "comment_id": 89337978, "body": "ok, i thought the would only start if i await them or request the .Result Property"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530721167, "post_id": 51177662, "comment_id": 89338034, "body": "@DavidG: it seems the essence of the question is why the tasks start running immediately, not how to run them in sequence."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530721238, "post_id": 51177662, "comment_id": 89338069, "body": "The sentence <i>After all tasks have been added to the list i want them to execute in a serial way</i> suggests otherwise. Anyway, that duplicate achieves both things."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 221, "user_id": 2130865, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95897aef7e723c8ef372f833a632adae?s=128&d=identicon&r=PG", "display_name": "Manuel Bleimuth", "link": "https://stackoverflow.com/users/2130865/manuel-bleimuth"}, "edited": false, "score": 0, "creation_date": 1530721240, "post_id": 51177662, "comment_id": 89338070, "body": "@ManuelBleimuth: yep, that&#39;s a common misconception. All that accessing <code>.Result</code> does is ensure all the async parts of the tasks complete resuming the thread&#39;s execution."}, {"owner": {"reputation": 221, "user_id": 2130865, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95897aef7e723c8ef372f833a632adae?s=128&d=identicon&r=PG", "display_name": "Manuel Bleimuth", "link": "https://stackoverflow.com/users/2130865/manuel-bleimuth"}, "edited": false, "score": 0, "creation_date": 1530721921, "post_id": 51177662, "comment_id": 89338339, "body": "well i thought if i do not await the result the task will not be executed at all"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1530722620, "post_id": 51177662, "comment_id": 89338646, "body": "Salient line from <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.task(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN</a>: &quot;Because tasks typically run asynchronously on a thread pool thread, the thread that creates and starts the task continues execution as soon as the task has been instantiated.&quot;"}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": -1, "last_activity_date": 1530720808, "creation_date": 1530720808, "answer_id": 51177662, "question_id": 51177587, "link": "https://stackoverflow.com/questions/51177587/http-postasync-without-execution/51177662#51177662", "title": "Http PostAsync without Execution", "body": "<p>That's the way that <code>Task</code>s work; they start executing immediately. If you want to defer execution of the tasks, you could consider making a list of task <em>creator</em> delegates instead:</p>\n\n<pre><code>var tasks = new List&lt;Func&lt;Task&lt;HttpResponseMessage&gt;&gt;&gt; {\n    () =&gt; PutAsyncJson(\"url\", obj1),\n    () =&gt; PutAsyncJson(\"url\", obj2)\n};\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 2130865, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95897aef7e723c8ef372f833a632adae?s=128&d=identicon&r=PG", "display_name": "Manuel Bleimuth", "link": "https://stackoverflow.com/users/2130865/manuel-bleimuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 1, "accepted_answer_id": 51177662, "answer_count": 1, "score": 0, "last_activity_date": 1530720808, "creation_date": 1530720418, "question_id": 51177587, "link": "https://stackoverflow.com/questions/51177587/http-postasync-without-execution", "title": "Http PostAsync without Execution", "body": "<p>i am working on a pretty simple project, i am trying to build a List of Tasks,\nto be precise a List of HttpPost Tasks.</p>\n\n<p>I have following method for posting data:</p>\n\n<pre><code> public Task&lt;HttpResponseMessage&gt; PutAsyncJson&lt;T&gt;(string uri, T o)\n {\n    return this.PutAsync&lt;T&gt;(uri, o, new JsonMediaTypeFormatter() { SerializerSettings = JsonSettings });\n }\n</code></pre>\n\n<p>where PutAsync is the Base Method of the .NET HttpClient</p>\n\n<p>Now i simply put the tasks in a List, therefore i use following code:</p>\n\n<pre><code>List&lt;Task&lt;HttpResponseMessage&gt;&gt; tasks = new List&lt;Task&lt;HttpResponseMessage&gt;&gt;();\nList.Add(PutAsyncJson(\"url\", obj1));\nList.Add(PutAsyncJson(\"url\", obj2));\n</code></pre>\n\n<p>After all tasks have been added to the list i want them to execute in a serial way.\nMy problem now is that the task already get executed when i add them to the list.\nWhy are they already executed there?</p>\n"}, {"tags": ["c#", "model-view-controller"], "comments": [{"owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "edited": false, "score": 0, "creation_date": 1530723987, "post_id": 51177524, "comment_id": 89339196, "body": "Please please please sate my OCD by changing <code>Isrequired</code> to <code>IsRequired</code>... I can over look <code>Zipcode</code> and <code>Areacode</code> :D"}, {"owner": {"reputation": 51, "user_id": 4694602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EXV5kjwkciI/AAAAAAAAAAI/AAAAAAAAAG8/WQ6KcoQDUd4/photo.jpg?sz=128", "display_name": "chandu ram naidu kodavatikanti", "link": "https://stackoverflow.com/users/4694602/chandu-ram-naidu-kodavatikanti"}, "reply_to_user": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "edited": false, "score": 0, "creation_date": 1530775114, "post_id": 51177524, "comment_id": 89352670, "body": "i will change for sure :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1530791439, "post_id": 51177524, "comment_id": 89362789, "body": "Setting the value in the controller does not affect <code>ModelState</code> (<code>ModelState</code> is set based on the request values before any of your code is executed). You need to make <code>Isrequired</code> a property (by adding <code>{ get; set; }</code> and then set it to <code>true</code> or <code>false</code> as required, and generate a form control for it so it gets posted back when you submit"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4694602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EXV5kjwkciI/AAAAAAAAAAI/AAAAAAAAAG8/WQ6KcoQDUd4/photo.jpg?sz=128", "display_name": "chandu ram naidu kodavatikanti", "link": "https://stackoverflow.com/users/4694602/chandu-ram-naidu-kodavatikanti"}, "edited": false, "score": 0, "creation_date": 1530775995, "post_id": 51178213, "comment_id": 89353203, "body": "this return always true @krzysztofukl"}], "tags": [], "owner": {"reputation": 136, "user_id": 9577959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d409df605439265b4e776652716aa85?s=128&d=identicon&r=PG&f=1", "display_name": "KrzysztofUkl", "link": "https://stackoverflow.com/users/9577959/krzysztofukl"}, "is_accepted": false, "score": 1, "last_activity_date": 1530723427, "creation_date": 1530723427, "answer_id": 51178213, "question_id": 51177524, "link": "https://stackoverflow.com/questions/51177524/change-model-before-model-state-validation-asp-net-mvc/51178213#51178213", "title": "Change model before model state validation ASP.NET MVC", "body": "<p>Try use combination of ModelState.Clear() and TryValidateModel().</p>\n\n<pre><code>ModelState.Clear();\nTryValidateModel(Response);\n</code></pre>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 51, "user_id": 4694602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EXV5kjwkciI/AAAAAAAAAAI/AAAAAAAAAG8/WQ6KcoQDUd4/photo.jpg?sz=128", "display_name": "chandu ram naidu kodavatikanti", "link": "https://stackoverflow.com/users/4694602/chandu-ram-naidu-kodavatikanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530723427, "creation_date": 1530720118, "last_edit_date": 1530722947, "question_id": 51177524, "link": "https://stackoverflow.com/questions/51177524/change-model-before-model-state-validation-asp-net-mvc", "title": "Change model before model state validation ASP.NET MVC", "body": "<p>I'm using foolproof library for dynamic attribute validation.</p>\n\n<p>The model is as follows:</p>\n\n<pre><code>public class ProfileQuestion\n{\n        public int QuestionId { get; set; }\n        public string QuestionText { get; set; }\n        public int QuestionTypeId { get; set; }\n        [RequiredIf(\"Isrequired\", true, ErrorMessage = \"Required\")]\n        public string Answer { get; set; }\n        public string Day { get; set; }\n        public string Month { get; set; }\n        public string Year { get; set; }   \n        public string Areacode { get; set; }\n        public string Zipcode { get; set; }\n        public List&lt;ProfileOptions&gt; OptionsList { get; set; }\n        public bool Isrequired = false;\n}\n</code></pre>\n\n<p>We have a list of question, some of the questions are required. If a question is required, then <code>Isrequired = true</code>. I'm setting <code>isrequired</code> flag before model state validation, but <code>ModelState.IsValid</code> is always false.</p>\n\n<pre><code>var mandatoryQuestions = objBusLayer.GetMandatoryQuestionIds(m);\n\nforeach (ProfileQuestion question in Response)\n{\n    if (question.QuestionId == 2)\n    {\n        string date = question.Year + @\"/\" + question.Month + @\"/\" + \nquestion.Day;\n        DateTime outdate;\n\n        if (DateTime.TryParse(date, out outdate))\n        {\n            question.Answer = date;\n        }\n    }\n\n    if (question.QuestionId == 3)\n    {\n        question.Answer = question.Areacode + '-' + question.Zipcode;\n    }\n\n    if (mandatoryQuestions.Contains(question.QuestionId.ToString()))\n    {\n        question.Isrequired = true;\n    }\n}\n\nif (ModelState.IsValid)\n{\n    Encryption encObj = new Encryption();\n    string decryptedExtPanelistId = encObj.DecryptText(e, password);\n    objBusLayer.Register(decryptedExtPanelistId, m, Response);\n    return RedirectToAction(\"Register\", new { e = e, m = m, pg = pg + 1 });\n}\n\nViewBag.pageId = pg;\nViewBag.extpnltid = e;\nViewBag.mid = m;\n\nreturn View(Response);\n</code></pre>\n\n<p>I could not find the issue, can anyone help me fix this issue?</p>\n"}, {"tags": ["c#", ".net", "sorting", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1530720411, "post_id": 51177511, "comment_id": 89337753, "body": "Using the <a href=\"https://msdn.microsoft.com/en-us/library/w56d4y5z(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Comparision&lt;T&gt;</a> or <a href=\"https://msdn.microsoft.com/en-us/library/234b841s(v=vs.110).aspx\" rel=\"nofollow noreferrer\">IComparer&lt;T&gt;</a> overloads of <code>Sort</code> would be less intrusive on the class."}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1530720830, "post_id": 51177511, "comment_id": 89337897, "body": "@KennethK.  Same basic idea.  In the Class can be convenient."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1530721041, "post_id": 51177511, "comment_id": 89337977, "body": "Well, yes and no. Yes it accomplishes the goal, but no you&#39;ve now locked your comparison logic in. What happens when you want to compare the items in a different manner? You can only implement the interface once. Do you now make some giant <code>case</code> statement (e.g.)?"}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1530721314, "post_id": 51177511, "comment_id": 89338087, "body": "@KennethK. Not going to debate it with you.  OP can decide which route he wants to take."}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530721928, "post_id": 51177511, "comment_id": 89338340, "body": "This sounds interesting choosing between Icomparable over Comparision and IComparer. However, before I decide upon this, do you see any cons in using CombinedIndex? I thought it would be much faster and lightweight compared to the two approaches mentioned here. Any thoughts?"}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530722032, "post_id": 51177511, "comment_id": 89338385, "body": "As I will iterate anyway this list once when I filter it based on some other criteria and can calculate combinedIndex upfront. Perhaps it might make sorting faster."}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "reply_to_user": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530722140, "post_id": 51177511, "comment_id": 89338430, "body": "@JayNanavaty Give it a try.  That sum seems problematic to me.  I would not have suggested this if I liked your idea."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530722736, "post_id": 51177511, "comment_id": 89338692, "body": "@JayNanavaty Don&#39;t guess about performance enhancements. Profile your code and locate the bottlenecks...then optimize."}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530723479, "post_id": 51177511, "comment_id": 89339005, "body": "Thanks for the quick comments. I am just going to try all these out and will share DotTrace result of performance to see how it goes. :)"}], "tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530720778, "last_edit_date": 1530720778, "creation_date": 1530720073, "answer_id": 51177511, "question_id": 51177451, "link": "https://stackoverflow.com/questions/51177451/sort-list-based-on-calculated-index-of-properties/51177511#51177511", "title": "Sort list based on calculated index of properties", "body": "<p>Just implement <a href=\"https://msdn.microsoft.com/en-us/library/system.icomparable(v=vs.110).aspx\" rel=\"nofollow noreferrer\">IComparable</a> and you can use List.Sort().</p>\n\n<pre><code>public class Header : IComparable\n{\n    public long CombinedIndex { get; private set; }\n    public int Key { get; set; } //Unique\n    public bool IsRequired { get; set; }// True or false\n    public DateTime? AvailableDate { get; set; } // null or date value\n    public int Index { get; set; } // a number and can be same among other Header \n\n    public void CalculateCombinedIndex()\n    {\n        CombinedIndex = Key + (IsRequired ? 0 : 1) + Index + (AvailableDate ?? DateTime.MaxValue).Ticks;\n    }\n\n    public int CompareTo(object obj)\n    {\n        if (obj == null) return 1;\n\n        Header otherHeader = obj as Header;\n        if (otherHeader != null)\n        {\n            if (this.IsRequired &amp;&amp; !otherHeader.IsRequired)\n                return 1;\n            if (!this.IsRequired &amp;&amp; otherHeader.IsRequired)\n                return -1;\n            if (this.Index &gt; otherHeader.Index)\n                return 1;\n            if (this.Index &lt; otherHeader.Index)\n                return -1;\n            //// ....\n            return 0;\n        }\n        else\n            throw new ArgumentException(\"Object is not a Temperature\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "is_accepted": false, "score": 2, "last_activity_date": 1530720075, "creation_date": 1530720075, "answer_id": 51177513, "question_id": 51177451, "link": "https://stackoverflow.com/questions/51177451/sort-list-based-on-calculated-index-of-properties/51177513#51177513", "title": "Sort list based on calculated index of properties", "body": "<p>I would do it with LINQ:</p>\n\n<pre><code>var ordered = list\n    .OrderByDescending(x =&gt; x.IsRequired)\n    .ThenBy(x =&gt; x.Index)\n    .ThenBy(x=&gt; x.AvailableDate)\n    .ThenBy(x=&gt; x.Key);\n</code></pre>\n\n<p>Only in case of ties the next condition will be used. So no need to create a combined index which makes it very difficult to change the order logic and which seems to be broken anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530778807, "post_id": 51179101, "comment_id": 89354857, "body": "How would you do in .net 4.6.2 for KeyComparer.Create method? I mean to say that without using Tuple syntax."}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530780877, "post_id": 51179101, "comment_id": 89355934, "body": "I think this is it:             var comparer = KeyComparer.Create((Header h) =&gt; Tuple.Create(!h.IsRequired, h.Index, h.AvailableDate, h.Key));"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530813041, "post_id": 51179101, "comment_id": 89376279, "body": "@JayNanavaty: Exactly. It&#39;s slightly less performant than the C# 7 version since <code>Tuple.Create</code> instantiates a reference type, but that won&#39;t matter for 50,000 records."}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530868283, "post_id": 51179101, "comment_id": 89394561, "body": "Is there any way to specify sort ascending or descending for h.Index, h.AvailableDate or so?"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530901056, "post_id": 51179101, "comment_id": 89412800, "body": "@JayNanavaty: I don&#39;t think it&#39;s possible to make tuples sort other than with the default comparer for their components. If you don&#39;t mind adulterating the values of your keys, you could apply negation to achieve that effect: <code>KeyComparer.Create((Header h) =&gt; Tuple.Create(!h.IsRequired, -h.Index, -h.AvailableDate.Ticks, h.Key));</code> Otherwise, you&#39;ll have to create a custom comparer."}, {"owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530901375, "post_id": 51179101, "comment_id": 89412910, "body": "Thanks about negation. I already used it for bool fields and it works all good. By using custom comparer, do you mean to specify one which will handle all the keys? Do you mean the one which is optional parameter in keycomparer?"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "reply_to_user": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "edited": false, "score": 0, "creation_date": 1530902099, "post_id": 51179101, "comment_id": 89413164, "body": "I meant a custom <code>IComparer&lt;T&gt;</code> implementation, similar to the <code>BoxComp</code> example shown on the <a href=\"https://msdn.microsoft.com/en-us/library/8ehhxeaf(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN article</a>. You can put in your custom logic there; e.g. <code>if (x.Index.CompareTo(y.Index) != 0) return -x.Index.CompareTo(y.Index);</code>"}], "tags": [], "owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "is_accepted": true, "score": 1, "last_activity_date": 1530728012, "creation_date": 1530728012, "answer_id": 51179101, "question_id": 51177451, "link": "https://stackoverflow.com/questions/51177451/sort-list-based-on-calculated-index-of-properties/51179101#51179101", "title": "Sort list based on calculated index of properties", "body": "<p>If you need to perform comparison operations based on a projected key from a given type, I find it helps to have a <code>KeyComparer</code> class that can create an <code>IComparer&lt;TSource&gt;</code> instance from a <code>Func&lt;TSource, TKey&gt;</code> delegate. This works especially well with the new tuple syntax introduced in C# 7. Here's an example of the resulting syntax:</p>\n\n<pre><code>// Create an IComparer&lt;Header&gt; instance based on your combined key.\nvar comparer = KeyComparer.Create((Header h) =&gt; (h.IsRequired, h.Index, h.AvailableDate, h.Key));\n\nList&lt;Header&gt; headers = ...\n\n// Sort the list using the combined key.\nheaders.Sort(comparer);\n\n// Convert to a dictionary keyed by the combined key.\nvar dict = headers.ToDictionary(comparer.KeySelector);\n</code></pre>\n\n<p>And here's a sample implementation of the class. (For a more detailed explanation, see <a href=\"https://dogmamix.com/cms/blog/KeyComparer\" rel=\"nofollow noreferrer\">my blog post</a>.)</p>\n\n<pre><code>public static class KeyComparer\n{\n    public static KeyComparer&lt;TSource, TKey&gt; Create&lt;TSource, TKey&gt;(\n        Func&lt;TSource, TKey&gt; keySelector,\n        IComparer&lt;TKey&gt; innerComparer = null)\n    {\n        return new KeyComparer&lt;TSource, TKey&gt;(keySelector, innerComparer);\n    }\n}\n\npublic class KeyComparer&lt;TSource, TKey&gt; : Comparer&lt;TSource&gt;\n{\n    protected internal KeyComparer(\n        Func&lt;TSource, TKey&gt; keySelector,\n        IComparer&lt;TKey&gt; innerComparer = null)\n    {\n        KeySelector = keySelector ?? throw new ArgumentNullException(nameof(keySelector));\n        InnerComparer = innerComparer ?? Comparer&lt;TKey&gt;.Default;\n    }\n\n    public Func&lt;TSource, TKey&gt; KeySelector { get; }\n    public IComparer&lt;TKey&gt; InnerComparer { get; }\n\n    public override int Compare(TSource x, TSource y)\n    {\n        if (object.ReferenceEquals(x, y))\n            return 0;\n        if (x == null)\n            return -1;\n        if (y == null)\n            return 1;\n\n        TKey xKey = KeySelector(x);\n        TKey yKey = KeySelector(y);\n        return InnerComparer.Compare(xKey, yKey);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 897, "user_id": 1764311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3oHih.jpg?s=128&g=1", "display_name": "Jay Nanavaty", "link": "https://stackoverflow.com/users/1764311/jay-nanavaty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 51179101, "answer_count": 3, "score": 0, "last_activity_date": 1530728012, "creation_date": 1530719859, "question_id": 51177451, "link": "https://stackoverflow.com/questions/51177451/sort-list-based-on-calculated-index-of-properties", "title": "Sort list based on calculated index of properties", "body": "<p>I have following class. </p>\n\n<pre><code> public class Header\n    {\n        public long CombinedIndex { get; private set; }\n        public int Key { get; set; } //Unique\n        public bool IsRequired { get; set; }// True or false\n        public DateTime? AvailableDate { get; set; } // null or date value\n        public int Index { get; set; } // a number and can be same among other Header \n\n        public void CalculateCombinedIndex()\n        {\n            CombinedIndex = Key + (IsRequired ? 0 : 1) + Index + (AvailableDate ?? DateTime.MaxValue).Ticks;\n        }\n    }\n</code></pre>\n\n<p>I am expected around 50,000 instances\nof it in an array. I need to sort them in following order:</p>\n\n<ul>\n<li>First based on IsRequired</li>\n<li>Then Index</li>\n<li>Then Available date (date value near to current date)</li>\n<li>Key (primary key)</li>\n</ul>\n\n<p>Does it make sense to say sum all these property value and\nderive a unique number and then only sort that number. \nLater, the list of Header can be converted to dictionary where\nKey is CombinedIndex and my already sorted array can lookup that\ndictionary in order I iterated the array. How efficient and \npromising this all looks?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "listview", "scrollviewer"], "comments": [{"owner": {"reputation": 235, "user_id": 5800711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c7c84d1c403ec3ff87862bc89a223a2?s=128&d=identicon&r=PG&f=1", "display_name": "TomerAgmon1", "link": "https://stackoverflow.com/users/5800711/tomeragmon1"}, "edited": false, "score": 0, "creation_date": 1530776648, "post_id": 51177421, "comment_id": 89353589, "body": "I don&#39;t know why you did the whole <code>GridView</code> inside <code>ListView</code> thing..but have you tried <code>Binding</code> the <code>ScrollViewer.VerticalOffset</code> to the <code>ListView.ScrollViewer.VerticalOffset</code>?"}, {"owner": {"reputation": 1651, "user_id": 3813069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xJs7n.gif?s=128&g=1", "display_name": "AmanVirdi", "link": "https://stackoverflow.com/users/3813069/amanvirdi"}, "reply_to_user": {"reputation": 235, "user_id": 5800711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c7c84d1c403ec3ff87862bc89a223a2?s=128&d=identicon&r=PG&f=1", "display_name": "TomerAgmon1", "link": "https://stackoverflow.com/users/5800711/tomeragmon1"}, "edited": false, "score": 0, "creation_date": 1530783308, "post_id": 51177421, "comment_id": 89357502, "body": "@TomerAgmon1, There is no access to these properties in xaml."}], "owner": {"reputation": 1651, "user_id": 3813069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xJs7n.gif?s=128&g=1", "display_name": "AmanVirdi", "link": "https://stackoverflow.com/users/3813069/amanvirdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1530791748, "creation_date": 1530719761, "last_edit_date": 1530791748, "question_id": 51177421, "link": "https://stackoverflow.com/questions/51177421/how-to-link-listview-vertical-scrollbar-to-scrollviewer-scrollbar-without-placin", "title": "How to link Listview vertical scrollbar to Scrollviewer scrollbar without placing ListView inside the scrollviewer", "body": "<p>I have one <strong>ListView</strong> like this:</p>\n\n<pre><code>&lt;ListView x:Name=\"TestLogListView\" ItemsSource=\"{Binding TestLogList}\"&gt;\n    &lt;ListView.View&gt;\n       &lt;GridView&gt;\n           &lt;GridViewColumn Width=\"auto\" Header=\"Type\" DisplayMemberBinding=\"{Binding Path=ActionType}\"/&gt;\n           &lt;GridViewColumn Width=\"auto\" Header=\"Step No.\" DisplayMemberBinding=\"{Binding Path=StepNumber}\"/&gt;\n           &lt;GridViewColumn Width=\"auto\" Header=\"Element\" DisplayMemberBinding=\"{Binding Path=Element}\"/&gt;\n           &lt;GridViewColumn Width=\"auto\" Header=\"Description\" DisplayMemberBinding=\"{Binding Path=Description}\"/&gt;\n        &lt;/GridView&gt;\n     &lt;/ListView.View&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>And <strong>ScrollViewer</strong> like this:</p>\n\n<pre><code>&lt;ScrollViewer x:Name=\"LogMapScrollViewer\" ScrollChanged=\"ScrollViewer_ScrollChanged\"&gt;\n    &lt;StackPanel Orientation=\"Vertical\" x:Name=\"LogMapStackPanel\" Width=\"0\"&gt;&lt;/StackPanel&gt;\n&lt;/ScrollViewer&gt;\n</code></pre>\n\n<p>I am trying to link scrollbars of both of the controls so that if Scrollviewer is scrolled then ListView also scrolled and the other-way-round.\nI dont want to place ListView inside a new ScrollViwer because the Gridview header row becomes scrollable.</p>\n\n<p>Is there any way to do that?</p>\n"}, {"tags": ["c#", "azure-web-app-service", "dotnet-httpclient", "http2"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530720980, "post_id": 51177381, "comment_id": 89337950, "body": "Is there any documentation stating that latest <code>System.Net.Http</code> supports 2.0"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530721121, "post_id": 51177381, "comment_id": 89338004, "body": "Check remarks here <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netframework-4.7.2#remarks\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> it looks like it is support on some platforms."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1530721215, "post_id": 51177381, "comment_id": 89338056, "body": "For windows you would need to change the handler to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.winhttphandler?view=netcore-2.0&amp;viewFallbackFrom=netframework-4.7.2\" rel=\"nofollow noreferrer\">WinHttpHandler Class</a>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1530721678, "post_id": 51177381, "comment_id": 89338244, "body": "This looks promising <a href=\"https://stackoverflow.com/a/43101990/5233410\">stackoverflow.com/a/43101990/5233410</a>"}], "owner": {"reputation": 5559, "user_id": 1350742, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4eKx5.jpg?s=128&g=1", "display_name": "Jakub Holovsky", "link": "https://stackoverflow.com/users/1350742/jakub-holovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2588, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1530719620, "creation_date": 1530719620, "question_id": 51177381, "link": "https://stackoverflow.com/questions/51177381/httpclient-only-http-1-0-and-http-1-1-version-requests-are-currently-supported", "title": "HttpClient - Only HTTP/1.0 and HTTP/1.1 version requests are currently supported. Parameter name: value", "body": "<p>Recently I enabled HTTP/2 support on Azure for our Web API. Followed this guide:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-10/http2-on-iis\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-10/http2-on-iis</a></p>\n\n<p>However when I try to do a HTTP/2 enabled request from our HttpClient I am getting following exception:</p>\n\n<blockquote>\n  <p>Only HTTP/1.0 and HTTP/1.1 version requests are currently supported.\n  Parameter name: value</p>\n</blockquote>\n\n<p>I have the latest System.Net.Http nuget package installed and setting the version on the request like this: </p>\n\n<pre><code>yourHttpRequestMessage.Version = new Version(2, 0);\n</code></pre>\n\n<p>I have no idea what is wrong here given that I followed the guide and used the latest System.Net.Http nuget package.</p>\n\n<p>Note that the HttpClient is living in a .net standard library and is being used in a Xamarin application.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-4.0", "aspx-user-control"], "answers": [{"comments": [{"owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "edited": false, "score": 0, "creation_date": 1530720993, "post_id": 51177594, "comment_id": 89337956, "body": "@Codelt Thanks. If possible Could you plz share an example with JavaScript instead of jQuery."}, {"owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "reply_to_user": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "edited": false, "score": 0, "creation_date": 1530721082, "post_id": 51177594, "comment_id": 89337993, "body": "@Ask_SO have a look at this thread: <a href=\"https://stackoverflow.com/questions/6876874/disabling-enabling-requiredfieldvalidators-with-javascript-and-server-side\" title=\"disabling enabling requiredfieldvalidators with javascript and server side\">stackoverflow.com/questions/6876874/&hellip;</a>"}, {"owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "reply_to_user": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "edited": false, "score": 0, "creation_date": 1530721351, "post_id": 51177594, "comment_id": 89338103, "body": "I have updated my answer to get you through it quickly. @Ask_SO"}, {"owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "edited": false, "score": 0, "creation_date": 1530721380, "post_id": 51177594, "comment_id": 89338117, "body": "@Codelt Thanks Much."}, {"owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "reply_to_user": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "edited": false, "score": 0, "creation_date": 1530721467, "post_id": 51177594, "comment_id": 89338161, "body": "@Ask_SO Cheers! :)"}], "tags": [], "owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1530721393, "last_edit_date": 1530721393, "creation_date": 1530720459, "answer_id": 51177594, "question_id": 51177314, "link": "https://stackoverflow.com/questions/51177314/how-to-bypass-asp-net-control-validation-only-for-few-control-on-button-click/51177594#51177594", "title": "How to bypass Asp.net control validation only for few control on button click?", "body": "<p>To skip some of the validations I suppose you might want to use <code>ValidatorEnable</code> method in <code>jquery</code> to enable/disable. Something like <a href=\"https://www.aspsnippets.com/Articles/Enable-Disable-ASPNet-Validator-Client-Side-Validation-using-JavaScript-or-jQuery.aspx\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>Email:\n&lt;asp:TextBox ID=\"txtEmail\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n&lt;asp:RequiredFieldValidator ID=\"valEmail\" ControlToValidate=\"txtEmail\" runat=\"server\" \n     ErrorMessage=\"*Required\" ForeColor=\"Red\" ValidationGroup=\"Group2\" /&gt;\n&lt;br /&gt;\nEnable Validation:\n&lt;input type=\"checkbox\" id=\"CheckBox2 checked=\"checked\" /&gt;\n&lt;br /&gt;\n&lt;asp:Button Text=\"Submit\" runat=\"server\" ValidationGroup=\"Group2\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).on(\"click\", \"#CheckBox2\", function () {\n        var valEmail = $(\"[id*=valEmail]\");\n        ValidatorEnable(valEmail[0], $(this).is(\":checked\"));\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Here is the live Demo in case you want to test it before heading towards its implementation: <a href=\"https://www.aspsnippets.com/demos/642/\" rel=\"nofollow noreferrer\">https://www.aspsnippets.com/demos/642/</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To achieve this task using pure <code>javascript</code> and not <code>jquery</code> you can do something like this:</p>\n\n<pre><code>ValidatorEnable(document.getElementById('&lt;%=yourValidator.ClientID%&gt;'), false);\n</code></pre>\n"}], "owner": {"reputation": 1426, "user_id": 7628000, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/a1fdb04e8c7ac32a645bfb974bb985fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ask_SO", "link": "https://stackoverflow.com/users/7628000/ask-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 51177594, "answer_count": 1, "score": 0, "last_activity_date": 1530721393, "creation_date": 1530719341, "question_id": 51177314, "link": "https://stackoverflow.com/questions/51177314/how-to-bypass-asp-net-control-validation-only-for-few-control-on-button-click", "title": "How to bypass Asp.net control validation only for few control on button click?", "body": "<p>I have an ASP.NET form that takes input from a user. There is a\u00a0Save\u00a0&amp; Add button on the form to perform different functionalities.\u00a0</p>\n\n<p>The problem I'm having is that on the form I have a set of\u00a0\u00a0validators and when the\u00a0Add\u00a0button is pressed the form gets validated. There are 5 controls on the page but during Add button click , I need to validate only two controls. Only during Save button click, I should validate all controls. </p>\n\n<p>How to ignore those 3 control validation during Add button click.</p>\n\n<p>Any way around this?</p>\n"}, {"tags": ["c#", ".net", "enterprise-library"], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 2531328, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/de2da60c9bb2e0d8d80be56f1979712e?s=128&d=identicon&r=PG", "display_name": "Stephen H. Anderson", "link": "https://stackoverflow.com/users/2531328/stephen-h-anderson"}, "edited": false, "score": 0, "creation_date": 1530719693, "post_id": 51177372, "comment_id": 89337427, "body": "So, there&#39;s no problem if the initialization is left outside the try?"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "reply_to_user": {"reputation": 782, "user_id": 2531328, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/de2da60c9bb2e0d8d80be56f1979712e?s=128&d=identicon&r=PG", "display_name": "Stephen H. Anderson", "link": "https://stackoverflow.com/users/2531328/stephen-h-anderson"}, "edited": false, "score": 0, "creation_date": 1530781104, "post_id": 51177372, "comment_id": 89356086, "body": "No, there is no problem, since if the <code>DB.ExecuteReader</code> throws an exception, the  <code>IDataReader</code> does not get initialized."}], "tags": [], "owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "is_accepted": false, "score": 1, "last_activity_date": 1530719584, "creation_date": 1530719584, "answer_id": 51177372, "question_id": 51177284, "link": "https://stackoverflow.com/questions/51177284/legacy-system-is-there-some-possible-database-connection-leak-with-this-code/51177372#51177372", "title": "Legacy System: Is there some possible database connection leak with this code?", "body": "<p>While cumbersome, this code should not create memory leaks from the data reader.</p>\n\n<p>However, it can be written much simpler and shorter, like this:</p>\n\n<pre><code>try\n{\n    using(var dr = DB.ExecuteReader(storedProcedureName, param1, param2))\n    {\n        dr.Read(); \n        // It should be probably be while(dr.Read()) { /* do something with the data */ }\n    }\n}\ncatch(Exception ex)\n{\n// Do something with the exception!\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1530721871, "creation_date": 1530721871, "answer_id": 51177903, "question_id": 51177284, "link": "https://stackoverflow.com/questions/51177284/legacy-system-is-there-some-possible-database-connection-leak-with-this-code/51177903#51177903", "title": "Legacy System: Is there some possible database connection leak with this code?", "body": "<blockquote>\n  <p>Your Code doesn't have any Leaks </p>\n</blockquote>\n\n<p>But According to this Official <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.close(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Microsoft docs</a> </p>\n\n<pre><code>SqlDataReader.Close()\n</code></pre>\n\n<p>Does not throw any Exceptions so you can get rid of inner try catch like this</p>\n\n<pre><code>try\n{   \n    IDataReader dr = DB.ExecuteReader(storedProcedureName, param1, param2);\n\n    try\n    {\n        dr.Read();\n    }\n    catch (Exception e)\n    {\n    }\n    finally \n    {\n        dr.Close();\n    }              \n}          \ncatch (Exception ex2)\n{\n}\n</code></pre>\n\n<p>But Efficient way of doing this would be to use <strong>Using</strong>  like this</p>\n\n<pre><code>try\n{\n    using(var dr = DB.ExecuteReader(storedProcedureName, param1, param2))\n    {\n        dr.Read(); \n    }\n}\ncatch(Exception ex)\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 782, "user_id": 2531328, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/de2da60c9bb2e0d8d80be56f1979712e?s=128&d=identicon&r=PG", "display_name": "Stephen H. Anderson", "link": "https://stackoverflow.com/users/2531328/stephen-h-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1530721871, "creation_date": 1530719237, "question_id": 51177284, "link": "https://stackoverflow.com/questions/51177284/legacy-system-is-there-some-possible-database-connection-leak-with-this-code", "title": "Legacy System: Is there some possible database connection leak with this code?", "body": "<p>We have this legacy system that uses the Microsoft.Practices.EnterpriseLibrary library from Microsoft:</p>\n\n<p>One method looks like this:</p>\n\n<pre><code>  try\n    {   \n        IDataReader dr = DB.ExecuteReader(storedProcedureName, param1, param2);\n\n        try\n        {\n            dr.Read();\n        }\n        catch (Exception e)\n        {\n        }\n        finally \n        {\n            try\n            {\n                dr.Close();\n            }\n            catch (Exception)\n            {\n            }\n        }              \n    }          \n    catch (Exception ex2)\n    {\n    }           \n</code></pre>\n\n<p>The library documentation:\n<a href=\"https://docs.microsoft.com/en-us/previous-versions/msp-n-p/bb748704(v=pandp.50)\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/previous-versions/msp-n-p/bb748704(v=pandp.50)</a></p>\n\n<p>states \"Executes the command and returns an IDataReader through which the result can be read. <strong>It is the responsibility of the caller to close the reader when finished</strong>.\"</p>\n\n<p>should the line:</p>\n\n<pre><code>IDataReader dr = DB.ExecuteReader(storedProcedureName, param1, param2);\n</code></pre>\n\n<p>have been included inside the second try? and the first try be removed? Can this generate some leaks? Why?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "facebook-oauth"], "comments": [{"owner": {"reputation": 87, "user_id": 6224086, "user_type": "registered", "profile_image": "https://graph.facebook.com/201038913619528/picture?type=large", "display_name": "Aleksandr Repetskyi", "link": "https://stackoverflow.com/users/6224086/aleksandr-repetskyi"}, "edited": false, "score": 0, "creation_date": 1531077998, "post_id": 51177282, "comment_id": 89449554, "body": "Very simple - you can pass needed information to query string in redirect uri"}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 6224086, "user_type": "registered", "profile_image": "https://graph.facebook.com/201038913619528/picture?type=large", "display_name": "Aleksandr Repetskyi", "link": "https://stackoverflow.com/users/6224086/aleksandr-repetskyi"}, "is_accepted": true, "score": 1, "last_activity_date": 1531078091, "creation_date": 1531078091, "answer_id": 51235338, "question_id": 51177282, "link": "https://stackoverflow.com/questions/51177282/how-to-pass-parameter-to-fb-auth-callback-in-asp-ne-core-2-1-without-identity/51235338#51235338", "title": "How to pass parameter to fb auth callback in ASP.NE Core 2.1, without identity?", "body": "<p>Very simple - you can pass needed information to query string in redirect uri</p>\n"}], "owner": {"reputation": 87, "user_id": 6224086, "user_type": "registered", "profile_image": "https://graph.facebook.com/201038913619528/picture?type=large", "display_name": "Aleksandr Repetskyi", "link": "https://stackoverflow.com/users/6224086/aleksandr-repetskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 51235338, "answer_count": 1, "score": 1, "last_activity_date": 1531078091, "creation_date": 1530719235, "last_edit_date": 1530818885, "question_id": 51177282, "link": "https://stackoverflow.com/questions/51177282/how-to-pass-parameter-to-fb-auth-callback-in-asp-ne-core-2-1-without-identity", "title": "How to pass parameter to fb auth callback in ASP.NE Core 2.1, without identity?", "body": "<p>How I can to pass parameter to Challenge method, and read it after facebook callback? I want to link social accounts, and id can be user id for example.</p>\n\n<p>Account controller example:</p>\n\n<pre><code>    [Route(\"accounts/facebook/{id}\")]\n    public IActionResult Facebook(string id)\n    {\n        var auth = new AuthenticationProperties { RedirectUri = \"/accounts/facebook/callback\" };\n\n        return Challenge(auth, \"Facebook\");\n    }\n\n    [Route(\"accounts/facebook/callback\")]\n    public void Callback() \n    {\n        //need to read custumId\n    }\n</code></pre>\n\n<p>Startup.cs example:</p>\n\n<pre><code> public void ConfigureServices(IServiceCollection services)\n    {\n        services\n            .AddAuthentication()\n            .AddFacebook(x =&gt;\n            {\n                x.AppId = \"*\";\n                x.AppSecret = \"*\";\n                x.CallbackPath = \"/accounts/facebook/callback\";\n            });\n\n        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n    }\n\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        app.UseDeveloperExceptionPage();\n\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n        });\n    }\n</code></pre>\n\n<p>Summary, I need to link social accounts to exiting profile in my system.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1530719651, "post_id": 51177279, "comment_id": 89337401, "body": "Have you tried to return a jagged array instead?"}, {"owner": {"reputation": 1899, "user_id": 160808, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8a575b41804c0ea9fa6b53aecc84f1a?s=128&d=identicon&r=PG", "display_name": "Ageis", "link": "https://stackoverflow.com/users/160808/ageis"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1530720173, "post_id": 51177279, "comment_id": 89337652, "body": "wow thanks my Chinese brother. I worked it out myself totally."}], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 1171270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c52dce737a1cf75e70cc85d9ebac7078?s=128&d=identicon&r=PG", "display_name": "ES2018", "link": "https://stackoverflow.com/users/1171270/es2018"}, "is_accepted": false, "score": 0, "last_activity_date": 1530724315, "creation_date": 1530724315, "answer_id": 51178401, "question_id": 51177279, "link": "https://stackoverflow.com/questions/51177279/2d-array-passed-into-jsonresult-doesnt-give-me-2d-array-in-json/51178401#51178401", "title": "2D array passed into JsonResult doesn&#39;t give me 2d array in json", "body": "<pre><code>int[,] data = new int[3, 2] { { 0, 1690 }, { 1, 1696 }, { 2, 1659 } };\nreturn JsonConvert.SerializeObject(data);\n</code></pre>\n"}], "owner": {"reputation": 1899, "user_id": 160808, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8a575b41804c0ea9fa6b53aecc84f1a?s=128&d=identicon&r=PG", "display_name": "Ageis", "link": "https://stackoverflow.com/users/160808/ageis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530724315, "creation_date": 1530719216, "question_id": 51177279, "link": "https://stackoverflow.com/questions/51177279/2d-array-passed-into-jsonresult-doesnt-give-me-2d-array-in-json", "title": "2D array passed into JsonResult doesn&#39;t give me 2d array in json", "body": "<p>Hi I have the following 2d array in c#</p>\n\n<pre><code>   int[,] data = new int[3, 2] { { 0, 1690 }, { 1, 1696 }, { 2, 1659 } };\n            return Json(data, JsonRequestBehavior.AllowGet);\n</code></pre>\n\n<p>Is there a reason why I get the following json </p>\n\n<pre><code>[0,1690,1,1696,2,1659] instead of [[0,1690],[1,1696],[2,1659]]\n</code></pre>\n\n<p>I need this because that's what flot expects.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", ".net-core", "command-line-interface"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 8372083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vThnm.jpg?s=128&g=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/8372083/vadim"}, "edited": false, "score": 0, "creation_date": 1530721454, "post_id": 51177457, "comment_id": 89338155, "body": "Ok, thanks when how to get it with legacy by CLI? I have *.bat in order to deploy it, could send me link to the documentation?"}, {"owner": {"reputation": 151, "user_id": 5401344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Zf8k0-xA10M/AAAAAAAAAAI/AAAAAAAAAIM/n2oNuJUYCCo/photo.jpg?sz=128", "display_name": "Tim", "link": "https://stackoverflow.com/users/5401344/tim"}, "reply_to_user": {"reputation": 117, "user_id": 8372083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vThnm.jpg?s=128&g=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/8372083/vadim"}, "edited": false, "score": 0, "creation_date": 1530794758, "post_id": 51177457, "comment_id": 89364857, "body": "Hi, for legacy, you can fing some <a href=\"https://docs.microsoft.com/en-us/aspnet/web-forms/overview/deployment/visual-studio-web-deployment/command-line-deployment\" rel=\"nofollow noreferrer\">extra info here</a> &amp; <a href=\"https://docs.microsoft.com/en-us/aspnet/web-forms/overview/deployment/visual-studio-web-deployment/command-line-deployment\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 151, "user_id": 5401344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Zf8k0-xA10M/AAAAAAAAAAI/AAAAAAAAAIM/n2oNuJUYCCo/photo.jpg?sz=128", "display_name": "Tim", "link": "https://stackoverflow.com/users/5401344/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1530719885, "creation_date": 1530719885, "answer_id": 51177457, "question_id": 51177213, "link": "https://stackoverflow.com/questions/51177213/asp-net-core-publishing-application-by-cli/51177457#51177457", "title": "ASP.NET Core publishing application by CLI", "body": "<p>you will need to <strong>convert your folder to an application</strong>.\nTo do so, just right click on it, and select \"convert to application\"\nAfter that, as you're publishing a .netCore application, you will have to configure the application pool running that app, and <strong>set \"Framework version\" to unmaged.</strong> (and leave \nthe pipeline to integrated)</p>\n\n<p><a href=\"https://docs.microsoft.com/fr-fr/aspnet/core/host-and-deploy/iis/?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">more information on hosting .NetCore on IIS </a></p>\n\n<p>This is a one step configuration.\nAll you next publish should work fine.</p>\n\n<p><strong>Some more explanations :</strong></p>\n\n<p>.NetCore is platform agnostics, so it can't know you're deploying on IIS. \nWhen you deploy with legacy .net (4.xx) Visual studio has an IIS target for deployment, and did all the work.\nWith .net core, as it can also be run under linux, mac, etc.. the IIS specificities have been removed.</p>\n"}], "owner": {"reputation": 117, "user_id": 8372083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vThnm.jpg?s=128&g=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/8372083/vadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 51177457, "answer_count": 1, "score": 0, "last_activity_date": 1530719885, "creation_date": 1530718967, "question_id": 51177213, "link": "https://stackoverflow.com/questions/51177213/asp-net-core-publishing-application-by-cli", "title": "ASP.NET Core publishing application by CLI", "body": "<p>I have problem with publishing under IIS. i have been trying to automate publishing web app to the IIS by following cmd <code>dotnet publish App.csproj -c -o C:\\inetpub\\wwwroot\\App.Web -c release</code>, but it just added it as folder, how to publish it as a Web Application, is it possible?</p>\n\n<p><a href=\"https://i.stack.imgur.com/bMGIx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bMGIx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "visual-studio", "nuget"], "comments": [{"owner": {"reputation": 4561, "user_id": 3936440, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Ylq1J.jpg?s=128&g=1", "display_name": "ViRuSTriNiTy", "link": "https://stackoverflow.com/users/3936440/virustrinity"}, "edited": false, "score": 0, "creation_date": 1530719345, "post_id": 51177161, "comment_id": 89337237, "body": "Does NuGet output the packages for both projects in the same path? I had similar issues in the past and i solved it by adding a NuGet configuration file to each project which states where to put the packages."}, {"owner": {"reputation": 83, "user_id": 4787754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65ede0af55fbb334a79fda28e0b015c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu A.", "link": "https://stackoverflow.com/users/4787754/mathieu-a"}, "reply_to_user": {"reputation": 4561, "user_id": 3936440, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Ylq1J.jpg?s=128&g=1", "display_name": "ViRuSTriNiTy", "link": "https://stackoverflow.com/users/3936440/virustrinity"}, "edited": false, "score": 0, "creation_date": 1530719620, "post_id": 51177161, "comment_id": 89337385, "body": "Yes all packages are stored in the same packages folder at the root of the solution."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1530722431, "post_id": 51177161, "comment_id": 89338556, "body": "Did you use nuget to add the references, or did you manually play with the files? Did the reference to that file already exist before the Nuget package was added? and do all of the relevant projects target the same version of the dot net framework? And trivial suggestion: have you tried closing all instances of Visual Studio, then removing the hidden solution project folder and re-opening the solution and rebuilding?"}, {"owner": {"reputation": 83, "user_id": 4787754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65ede0af55fbb334a79fda28e0b015c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu A.", "link": "https://stackoverflow.com/users/4787754/mathieu-a"}, "edited": false, "score": 0, "creation_date": 1530727064, "post_id": 51177161, "comment_id": 89340365, "body": "All nuget were added from the UI. All projects are .NET 4.6.2. I&#39;ve tried closing and everything. Same behaviour is also reproducible on other coworkers computer."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1530743896, "post_id": 51177161, "comment_id": 89345259, "body": "You&#39;d better report this issue to Microsoft via Help menu (there is a menu item down there)."}, {"owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "edited": false, "score": 0, "creation_date": 1530773862, "post_id": 51177161, "comment_id": 89351925, "body": "Does your project implicitly introduce <code>.netstandard</code> assembly? Some packages (System.Buffers, System.Threading.Tasks.DataFlow, etc) have a netstandard2.0 build. When a netstandard2.0 assembly is referenced in the desktop project we automatically add all the assemblies needed to make it work: no more package references. To resolve this issue, please try to add binding redirect: <a href=\"https://github.com/dotnet/corefx/issues/25773\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/issues/25773</a>"}, {"owner": {"reputation": 1323, "user_id": 3477911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MnFIc.png?s=128&g=1", "display_name": "Mr Slim", "link": "https://stackoverflow.com/users/3477911/mr-slim"}, "edited": false, "score": 0, "creation_date": 1530843253, "post_id": 51177161, "comment_id": 89385605, "body": "Are the projects that make up the solution used by any other solutions?"}, {"owner": {"reputation": 83, "user_id": 4787754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65ede0af55fbb334a79fda28e0b015c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu A.", "link": "https://stackoverflow.com/users/4787754/mathieu-a"}, "reply_to_user": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "edited": false, "score": 0, "creation_date": 1530903631, "post_id": 51177161, "comment_id": 89413711, "body": "@LeoLiu-MSFT This seems to be exactly the problem I have right now. I was able to make the dll load from packages instead of Program files by using a settings in the csproj (something like dependsOnNetStandard). This resolved the issue (however I had add a manual reference to netstandard because some nuget packages were using it).   Turns out it didn&#39;t fix my warning problem."}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1532340335, "post_id": 51177161, "comment_id": 89920653, "body": "@Mathieu A, Version 4.1.2.0 was included in the VS setup packages, and it was included in the .NET 461 folder, but 4.1.1.0 was installed from the Nuget package. How did you install this nuget package? Do you install .NET 4.6.2 in your VS IDE? If possible, you could check all projects&#39; .NET Framework version,   you could move the dll file 4.1.2.0, and then change the .NET version to be 4.6.2 for this project in property window, and then re-add the nuget package 4.1.0 version from the Manage Nuget Packages window."}], "owner": {"reputation": 83, "user_id": 4787754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65ede0af55fbb334a79fda28e0b015c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu A.", "link": "https://stackoverflow.com/users/4787754/mathieu-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1530743533, "creation_date": 1530718737, "last_edit_date": 1530743533, "question_id": 51177161, "link": "https://stackoverflow.com/questions/51177161/visual-studio-projects-loads-different-references-even-if-they-target-the-same-n", "title": "Visual studio projects loads different references even if they target the same nuget", "body": "<p>I have a C# solution in VS 15.7.4 with multiple .csproj.</p>\n\n<p>5 of these projects reference the same nuget package </p>\n\n<pre><code>&lt;package id=\"System.Runtime.Extensions\" version=\"4.3.0\" targetFramework=\"net462\" /&gt;\n</code></pre>\n\n<p>The problem I have is when I look at each project references properties they are not loaded from the same location and they do not have the same version number.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfIRj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfIRj.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/IbZpm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IbZpm.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is causing issue when I compile I get warnings that I should add binding redirect for that assembly. (I have this issue for multiple assemblies).</p>\n\n<p>I validated on my end that in all the .csproj they have a hintpath that points to the packages folder version. This seems to be ignored in some projects.</p>\n\n<ol>\n<li>How is it possible that the loaded references in one of my project is not the same as the other project when both target the same nuget packages?</li>\n<li>How can I resolve this issue and make sure both projects load the same reference?</li>\n</ol>\n"}, {"tags": ["c#", "oop"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1530719211, "post_id": 51177148, "comment_id": 89337175, "body": "Why store different type of data in a single table?"}, {"owner": {"reputation": 491, "user_id": 9890013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aryan M", "link": "https://stackoverflow.com/users/9890013/aryan-m"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1530791195, "post_id": 51177148, "comment_id": 89362656, "body": "Yeahh agreed. But currently, i cannot change the way the DB has been structured. Need to write a service on this data. For which i need to know if i should be doing anything else for a better design to start with"}], "owner": {"reputation": 491, "user_id": 9890013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aryan M", "link": "https://stackoverflow.com/users/9890013/aryan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530718704, "creation_date": 1530718704, "question_id": 51177148, "link": "https://stackoverflow.com/questions/51177148/oops-design-for-the-table-relationship", "title": "OOPS design for the table relationship", "body": "<p>For the below table design, i have designed the class as follows to perform the Get and Set operations on the DataItem table.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LFegl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LFegl.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In order to perform the required CRUD operations on the table, I have defined the class and methods as follows,</p>\n\n<pre><code>public enum DataType\n{\n    Cards = 1,\n    Activation = 2,\n    Super = 3\n}\n\npublic enum DataStatus\n{\n    ToBeProcessed = 1,\n    Processed = 2,\n    Failed = 3\n}\n\npublic class CommonDataItem\n{\n    public int DataItemID { get; set; }\n    public DataType DType { get; set; }\n    public DataStatus DStatus { get; set; }\n    public string Data { get; set; }\n    public DateTime? DateInserted { get; set; }\n    public int EmployeeID { get; set; }\n}\n\npublic GetDataItems(DataType dType, DataStatus dStatus)\n{\n\n}\n\npublic SetDataItems() { }\n</code></pre>\n\n<p>Basically the DataItem table holds the different JSON data for different data types as marked in the snapshot.</p>\n\n<p>I need to create a generic class so that irrespective of the data types added in future, this class should perform its operations.</p>\n\n<p>Please let me know if this is the right way to design the class structure or is there a better way to do the way via Interface and others.</p>\n"}, {"tags": ["c#", "wpf", "app-config", "desktop-application", "defaultproxy"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7672907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KdPdX.jpg?s=128&g=1", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/7672907/jeroen"}, "edited": false, "score": 0, "creation_date": 1530774130, "post_id": 51177288, "comment_id": 89352094, "body": "<code>WebRequest.DefaultProxy = WebRequest.GetSystemWebProxy();</code> did the trick. Thank you! Saved me a lot of head ache!"}], "tags": [], "owner": {"reputation": 46, "user_id": 8706980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6bab885681b7897f9aac5b0f86a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Bujara", "link": "https://stackoverflow.com/users/8706980/lukas-bujara"}, "is_accepted": true, "score": 3, "last_activity_date": 1530719252, "creation_date": 1530719252, "answer_id": 51177288, "question_id": 51177104, "link": "https://stackoverflow.com/questions/51177104/programmatically-changing-defaultproxy-instead-of-using-app-config/51177288#51177288", "title": "Programmatically changing defaultproxy instead of using app.config", "body": "<p>If you want to set the proxy back to the default proxy, you can use this static method</p>\n\n<pre><code>WebRequest.GetSystemWebProxy();\n</code></pre>\n\n<p>see here <a href=\"https://msdn.microsoft.com/de-de/library/system.net.webrequest.getsystemwebproxy(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/de-de/library/system.net.webrequest.getsystemwebproxy(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 17, "user_id": 7672907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KdPdX.jpg?s=128&g=1", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/7672907/jeroen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 51177288, "answer_count": 1, "score": 1, "last_activity_date": 1530719252, "creation_date": 1530718538, "question_id": 51177104, "link": "https://stackoverflow.com/questions/51177104/programmatically-changing-defaultproxy-instead-of-using-app-config", "title": "Programmatically changing defaultproxy instead of using app.config", "body": "<p>I'm creating a desktop application in WPF. This application uses webclient instances to communicate with an API to collect data from.</p>\n\n<p>In this desktop application I want to create a checkbox which should allow the user to ignore the internet options proxy or to use the default auto detect options. </p>\n\n<p>At this moment I added this defaultproxy setting to my app.config to stop my application from trying to communicate through the proxy and instead ignore it.</p>\n\n<pre><code>&lt;system.net&gt;\n    &lt;defaultProxy enabled=\"false\" useDefaultCredentials=\"false\"&gt;\n      &lt;proxy/&gt;\n      &lt;bypasslist/&gt;\n      &lt;module/&gt;\n    &lt;/defaultProxy&gt;\n&lt;/system.net&gt;\n</code></pre>\n\n<p>When I don't have this code in my app.config, my application will try to use the default internet options proxy.</p>\n\n<p>So in order to have this switchable by a checkbox in a settings menu I will have to change these settings programatically.</p>\n\n<p>I am aware of the fact that when I set the default proxy to a new webproxy that the application will ignore the internetoptions proxy.</p>\n\n<p><code>WebRequest.DefaultWebProxy = new WebProxy();</code></p>\n\n<p>But I can't for the life of me figure out how I can set this back to the automatically detecting of proxy use, like before I inserted above defaultproxy settings in the app.config. </p>\n\n<p>I am testing this by using a faulty proxy. This means that if I send an api request, the proxy can't be found and I receive a webexception. When I ignore the proxy with the app.config code, the request uses my normal internet connection, and returns API data.</p>\n\n<p>It would really help me out if anyone could tell me how I can programatically set my application to ignore the proxy or, most importantly, to use the default auto detection settings.</p>\n"}, {"tags": ["c#", "wpf", "binding"], "comments": [{"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 3, "creation_date": 1530718522, "post_id": 51177074, "comment_id": 89336817, "body": "are you 100% sure? disabled CheckBox looks pretty like enabled one in wpf default theme"}, {"owner": {"reputation": 3603, "user_id": 778899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c836ac059df54603acd488a7ea228c6b?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/778899/konrad"}, "reply_to_user": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1530719099, "post_id": 51177074, "comment_id": 89337103, "body": "I&#39;m sure ... the button is disabled (gray) and cannot be clicked while I can change the checkbox&#39;s checking ... setting the IsEnabled=&quot;false&quot; does exactly what I want ... but without binding."}, {"owner": {"reputation": 1795, "user_id": 4319113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fx6KX.jpg?s=128&g=1", "display_name": "Babbillumpa", "link": "https://stackoverflow.com/users/4319113/babbillumpa"}, "edited": false, "score": 1, "creation_date": 1530719240, "post_id": 51177074, "comment_id": 89337185, "body": "It looks strange. Any binding errors?"}, {"owner": {"reputation": 3603, "user_id": 778899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c836ac059df54603acd488a7ea228c6b?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/778899/konrad"}, "edited": false, "score": 3, "creation_date": 1530719806, "post_id": 51177074, "comment_id": 89337495, "body": "Some other part of code set the IsEnabled &quot;by hand&quot; ... damn ... Question can be closed/deleted."}, {"owner": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "edited": false, "score": 0, "creation_date": 1530721341, "post_id": 51177074, "comment_id": 89338097, "body": "Try debugging the code to find the statement setting the IsEnabled Property"}], "answers": [{"tags": [], "owner": {"reputation": 625, "user_id": 4436411, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6b66bf0c4a5aa4a07949330163aea0a4?s=128&d=identicon&r=PG&f=1", "display_name": "MaciejPL", "link": "https://stackoverflow.com/users/4436411/maciejpl"}, "is_accepted": false, "score": -2, "last_activity_date": 1530719999, "last_edit_date": 1530719999, "creation_date": 1530718827, "answer_id": 51177189, "question_id": 51177074, "link": "https://stackoverflow.com/questions/51177074/isenabled-binding-button-and-checkbox/51177189#51177189", "title": "IsEnabled binding Button and Checkbox", "body": "<p>Try doing something like this</p>\n\n<pre><code>IsEnabled=\"{Binding ElementName=ApplicationWindow, Path=WaitForRefresh}\"\n</code></pre>\n\n<p>where ElementName is name of your WPF window.</p>\n"}], "owner": {"reputation": 3603, "user_id": 778899, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c836ac059df54603acd488a7ea228c6b?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/778899/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530720055, "creation_date": 1530718371, "question_id": 51177074, "link": "https://stackoverflow.com/questions/51177074/isenabled-binding-button-and-checkbox", "title": "IsEnabled binding Button and Checkbox", "body": "<p>I've a button and a checkbox.\nFor both the <code>IsEnabled</code> binding is set to the same property:</p>\n\n<pre><code>&lt;CheckBox x:Name=\"CbShowAll\"\n          Content=\"Bla\"\n          IsEnabled=\"{Binding WaitForRefresh}\" /&gt;\n\n&lt;Button x:Name=\"BtnReload\"\n       Content=\"Bla\"\n       IsEnabled=\"{Binding WaitForRefresh}\" /&gt;\n</code></pre>\n\n<p>If I change the <code>WaitForRefresh</code> property, the button changes its enabled state - the checkbox not. Entering manually \"true\" or \"false\" to <code>IsEnabled</code> for the checkbox, everything work as expected.</p>\n"}, {"tags": ["c#", "tfs", "roslyn-code-analysis"], "comments": [{"owner": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530718438, "post_id": 51177027, "comment_id": 89336781, "body": "What version TFS are they using?  Are they using XAML builds or the newer vNext build agents?"}, {"owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "reply_to_user": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530720019, "post_id": 51177027, "comment_id": 89337590, "body": "Server is Visual Studio Team Foundation Server 2015. I think they&#39;re using vNext build agents."}, {"owner": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530720467, "post_id": 51177027, "comment_id": 89337770, "body": "To answer the second part of your question, as long as something in the build process writes to StdErr, a vNext build will fail.  As far as the first question goes... could you elaborate on how the NuGet packages are invoked?  If the NuGet packages hook directly into the build process (perhaps by using a .targets file), then you shouldn&#39;t have to do anything extra.  But if you have to manually invoke some executable that the NuGet package contains, then you&#39;ll have to add additional build steps to do the same."}, {"owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "reply_to_user": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530720822, "post_id": 51177027, "comment_id": 89337891, "body": "Re: 1st question, I think they use targets files because all a developer has to do to use those analyzers is to simply add them via NuGet on their solutions and they&#39;re automatically exposed as analyzers in VS. Re: 2nd question, so maybe a console app that analyzes a solution and outputs errors to stderr as a build step in TFS is the answer?"}, {"owner": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530720948, "post_id": 51177027, "comment_id": 89337944, "body": "That should do it.  vNext also lets you capture those steps as <b>task groups</b> so that you can reuse them in other build definitions"}, {"owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "reply_to_user": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530721125, "post_id": 51177027, "comment_id": 89338007, "body": "Thank you. One more question: analyzers are usually developed as DiagnosticAnalyzer classes with their corresponding CodeFixProviders, but of course they depend on VS infrastructure to use them for analysis. Can I reuse those same DiagnosticAnalyzers on a standalone code analysis tool and if so, how?"}, {"owner": {"reputation": 3707, "user_id": 1001100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7556309420d0cc3d4fd2eb2673a41c?s=128&d=identicon&r=PG", "display_name": "JamesQMurphy", "link": "https://stackoverflow.com/users/1001100/jamesqmurphy"}, "edited": false, "score": 0, "creation_date": 1530724248, "post_id": 51177027, "comment_id": 89339288, "body": "That, I don&#39;t know"}, {"owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 0, "creation_date": 1530784162, "post_id": 51177027, "comment_id": 89358020, "body": "How your custom analyzers works?   Did you just create custom code analysis rules in Visual Studio? And want to integrate this during your TFS build pipeline?"}, {"owner": {"reputation": 325, "user_id": 7493286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LNGkh.jpg?s=128&g=1", "display_name": "Valvestino", "link": "https://stackoverflow.com/users/7493286/valvestino"}, "edited": false, "score": 0, "creation_date": 1539097190, "post_id": 51177027, "comment_id": 92373415, "body": "As I understand, all developers add the analyzermanually to VS via a NuGet package.If you added the code analyzer assembly in each project under References/Analyzers your code analyzer will be used with all builds, the TFS build as well. Your code analyzer assembly has to be available on all machines that execute your build of course. Another benefit: no developer will be able to &quot;forget&quot; to install the code analyzer via NuGet. The build fails automatically when a diagnostic analyzer reports an error."}], "owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530719923, "creation_date": 1530718227, "last_edit_date": 1530719923, "question_id": 51177027, "link": "https://stackoverflow.com/questions/51177027/how-to-use-custom-analyzers-in-the-tfs-build", "title": "How to use custom analyzers in the TFS build?", "body": "<p>The company I work for has started using custom code analyzers (these were developed in-house) and now they're being used as NuGet packages that company developers must add to their projects. So far so good, but I was asked to find a way to reuse these same analyzers in a TFS build. </p>\n\n<p>One important detail is that they use VS as a build agent.</p>\n\n<p>So, my questions are:</p>\n\n<ol>\n<li>How can I reuse these custom analyzers so they're included in every TFS build?</li>\n<li>How do I make these analyzers to fail the build?</li>\n</ol>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "registry"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 9072807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k-feQR56GS0/AAAAAAAAAAI/AAAAAAAAAHg/ZYc1fXG0M7Y/photo.jpg?sz=128", "display_name": "Sillimon", "link": "https://stackoverflow.com/users/9072807/sillimon"}, "is_accepted": false, "score": 0, "last_activity_date": 1530788925, "creation_date": 1530788925, "answer_id": 51189801, "question_id": 51176908, "link": "https://stackoverflow.com/questions/51176908/c-editing-registry-value-doesnt-work-depending-on-computer-used/51189801#51189801", "title": "C# - Editing Registry Value doesn&#39;t work depending on computer used", "body": "<p>Think i found it !</p>\n\n<p>That was point 2 (and actually 3 too).</p>\n\n<p>The point is : by default, the owner of the key seems to be different (depending on Windows Version ? Or did i just change it inadvertently ?)</p>\n\n<p>While the key owner was SYSTEM on the Windows 10 VM, on Windows Server, it was TrustedInstaller. I wasn't allow to change permissions under that owner.\nChanging it for the current user allowed me to change permissions and potentially add a new key.</p>\n\n<p>I'm currently trying to make that change using C#.</p>\n\n<p>Remains two questions :</p>\n\n<p>Which owner should i choose to make it possible for all users ?</p>\n\n<p>Is there any possible security issue with changing it ?</p>\n"}], "owner": {"reputation": 19, "user_id": 9072807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k-feQR56GS0/AAAAAAAAAAI/AAAAAAAAAHg/ZYc1fXG0M7Y/photo.jpg?sz=128", "display_name": "Sillimon", "link": "https://stackoverflow.com/users/9072807/sillimon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1594057012, "creation_date": 1530717769, "last_edit_date": 1594057012, "question_id": 51176908, "link": "https://stackoverflow.com/questions/51176908/c-editing-registry-value-doesnt-work-depending-on-computer-used", "title": "C# - Editing Registry Value doesn&#39;t work depending on computer used", "body": "<p>I've gone into some troubles modifying a registry value using C#.</p>\n\n<p>Here is the problem :\ni'm trying to disable connection through Windows Login &amp; Password using C#.</p>\n\n<p>I did add a registry value inside the registry to make it available or not, depending on a checkbox state.</p>\n\n<p>I had it working on a Windows 10 VM, however, i get the following exception while using it on Windows Server 2012 : </p>\n\n<p>\"Access to the registry key '...' is denied.\"</p>\n\n<p>Here's my code :</p>\n\n<pre><code>            System.Security.AccessControl.RegistrySecurity userSecurity = new System.Security.AccessControl.RegistrySecurity();\n            System.Security.AccessControl.RegistryAccessRule userRule = new System.Security.AccessControl.RegistryAccessRule(\"Everyone\", System.Security.AccessControl.RegistryRights.FullControl, System.Security.AccessControl.AccessControlType.Allow);\n            userSecurity.AddAccessRule(userRule);\n\n            using (RegistryKey key = Registry.LocalMachine.CreateSubKey(@\"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Authentication\\Credential Providers\" + \"\\\\\" + @\"{60b78e88-ead8-445c-9cfd-0b87f74ea6cd}\", RegistryKeyPermissionCheck.ReadWriteSubTree, userSecurity))\n            {\n                key.OpenSubKey(Const.REG_HKLM + @\"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Authentication\\Credential Providers\" + \"\\\\\" + @\"{60b78e88-ead8-445c-9cfd-0b87f74ea6cd}\", true);\n\n                if (!paramAuthentication.IsCkbLoginPwChecked())\n                {\n                    key.SetValue(\"Disabled\", 1, RegistryValueKind.DWord);\n                }\n                else\n                {\n                    key.SetValue(\"Disabled\", 0, RegistryValueKind.DWord);\n                }\n                key.Close();\n            }\n</code></pre>\n\n<p>And the numerous solutions i found on forums :</p>\n\n<p>1)_ Run as administrator --> Ain't working</p>\n\n<p>2)_ Manually change permissions of the concerned subkey --> Got error \"Unable to save permission changes on '...'. Access is denied.</p>\n\n<p>3)_ Make out the current user the owner of the key --> i didn't try that one yet. But some points are disturbing me :\nFirst, this feature must be available for all user. \nAlso, i'm creating this key value through FullControl registry right. \nAnd finally, why would it make it work on Windows Server while it already does on Windows 10 ??</p>\n\n<p>There is definitely something i missed on that. What does exactly mean \"take the ownership of a key\" ?</p>\n\n<p>Any idea or lesson to provide me ?</p>\n"}, {"tags": ["c#", "networking", "dns", "mono", "ip-address"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1530717795, "post_id": 51176879, "comment_id": 89336464, "body": "Are you sure C# has anything to do with this? What does <code>nslookup</code> for the hostname give you on the 2 different computers?"}, {"owner": {"reputation": 343, "user_id": 3314466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8d88abaf0103d2003081a57ac51b4472?s=128&d=identicon&r=PG&f=1", "display_name": "L&#225;z&#225;r Zsolt", "link": "https://stackoverflow.com/users/3314466/l%c3%a1z%c3%a1r-zsolt"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1530718038, "post_id": 51176879, "comment_id": 89336581, "body": "Same as C#, it gives me different ip addresses"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1530718142, "post_id": 51176879, "comment_id": 89336645, "body": "Both machines are using the same DNS server? You cleared the DNS cache on both machines?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1530718333, "post_id": 51176879, "comment_id": 89336726, "body": "Either they are using different DNS servers, or the single dns server has multiple IP entries for that host name, etc...."}, {"owner": {"reputation": 343, "user_id": 3314466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8d88abaf0103d2003081a57ac51b4472?s=128&d=identicon&r=PG&f=1", "display_name": "L&#225;z&#225;r Zsolt", "link": "https://stackoverflow.com/users/3314466/l%c3%a1z%c3%a1r-zsolt"}, "edited": false, "score": 0, "creation_date": 1530718404, "post_id": 51176879, "comment_id": 89336758, "body": "Alright, this is getting weirder. On windows, <code>nslookup example.domain.com</code> returns a different address every time I run it. It alternates between two addresses."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1530718536, "post_id": 51176879, "comment_id": 89336823, "body": "@L&#225;z&#225;rZsolt The dns server(s) has multiple entries and is round-robining the entries..."}, {"owner": {"reputation": 343, "user_id": 3314466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8d88abaf0103d2003081a57ac51b4472?s=128&d=identicon&r=PG&f=1", "display_name": "L&#225;z&#225;r Zsolt", "link": "https://stackoverflow.com/users/3314466/l%c3%a1z%c3%a1r-zsolt"}, "edited": false, "score": 0, "creation_date": 1530718670, "post_id": 51176879, "comment_id": 89336892, "body": "Is there a way to return all ip addresses that point to that domain in C#?"}, {"owner": {"reputation": 343, "user_id": 3314466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8d88abaf0103d2003081a57ac51b4472?s=128&d=identicon&r=PG&f=1", "display_name": "L&#225;z&#225;r Zsolt", "link": "https://stackoverflow.com/users/3314466/l%c3%a1z%c3%a1r-zsolt"}, "edited": false, "score": 0, "creation_date": 1530718791, "post_id": 51176879, "comment_id": 89336955, "body": "This still doesn&#39;t explain why one computer only finds 1 of 3 addresses, while the other computer only finds the remaining two."}], "owner": {"reputation": 343, "user_id": 3314466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8d88abaf0103d2003081a57ac51b4472?s=128&d=identicon&r=PG&f=1", "display_name": "L&#225;z&#225;r Zsolt", "link": "https://stackoverflow.com/users/3314466/l%c3%a1z%c3%a1r-zsolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530717608, "creation_date": 1530717608, "question_id": 51176879, "link": "https://stackoverflow.com/questions/51176879/dns-gethostentry-returns-different-addresses-on-two-different-computers", "title": "Dns.GetHostEntry returns different addresses on two different computers", "body": "<p>When I try to resolve a specific domain name on my computer using <code>Dns.GetHostEntry</code> it returns an IP address (only one address in <code>AddressList</code>), but when I run the same line of code on my server which is on the same network, it returns a completely different address.</p>\n\n<p><a href=\"https://imgur.com/a/2oBX7DH\" rel=\"nofollow noreferrer\">Here's</a> a screenshot that sums it up.</p>\n\n<p>Unfortunately I can't disclose the actual domain names, but the two strings (example.domain.com) are exactly identical.</p>\n\n<p>I used mono and C# interactive for the sake of easier demonstration, the same happens when I run an actual program.</p>\n\n<p>The <code>hosts</code> file is intact on both computers, so it can't interfere with the ip lookup.</p>\n\n<p>So here's my question: Why are the two computers returning two different ip addresses for the same domain name? How can I force the program to return only one address / a list containing all addresses that domain name points to?</p>\n"}, {"tags": ["c#", "azure-cosmosdb"], "comments": [{"owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530717700, "post_id": 51176874, "comment_id": 89336409, "body": "Why did you do <code>&quot;&#47;\\&quot;id\\&quot;&quot;</code> and not simply <code>&quot;&#47;id&quot;</code>?"}, {"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "reply_to_user": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530717783, "post_id": 51176874, "comment_id": 89336457, "body": "I have tried <code>&quot;&#47;id&quot;</code> as well.."}, {"owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530717961, "post_id": 51176874, "comment_id": 89336547, "body": "I don&#39;t see you specifying the index type in the example. I am talking about something like this: <code>Indexes = new Collection&lt;Index&gt; { new RangeIndex(DataType.String) { Precision = 20 } } });</code>"}, {"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "reply_to_user": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530718037, "post_id": 51176874, "comment_id": 89336580, "body": "I think I have tried that as well, I will try again and get back here"}, {"owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530718188, "post_id": 51176874, "comment_id": 89336669, "body": "Oh wait a second. Did you try removing the <code>id</code>? As you can see <a href=\"https://stackoverflow.com/a/33989880/7523974\">here</a> &quot;the <code>id</code> is implicitly treated as the document&#39;s primary key - in which, id will always be indexed with uniqueness enforced.&quot;"}, {"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "reply_to_user": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530718391, "post_id": 51176874, "comment_id": 89336750, "body": "Yes I have tried that as well!, I will just update the question again... Give me few minutes"}, {"owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 1, "creation_date": 1530719246, "post_id": 51176874, "comment_id": 89337192, "body": "I see you have absolute paths. Have you tried adding the special characters needed at the end? For example the path for <code>CreatedOnUtc</code> should be <code>&#47;CreatedOnUtc&#47;?</code>"}, {"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "reply_to_user": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530721335, "post_id": 51176874, "comment_id": 89338094, "body": "It worked! Why did the question mark help?"}, {"owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530723814, "post_id": 51176874, "comment_id": 89339133, "body": "Because it is a necessary wildcard character. It\u2019s actually in the documentation."}, {"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "reply_to_user": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "edited": false, "score": 0, "creation_date": 1530759726, "post_id": 51176874, "comment_id": 89347729, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174376/discussion-between-bit-and-nick-chapsas\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "edited": false, "score": 0, "creation_date": 1530759670, "post_id": 51178394, "comment_id": 89347714, "body": "Thank you! I had been through numerous articles and videos; yet I wonder how did I miss the <code>?</code>"}], "tags": [], "owner": {"reputation": 5659, "user_id": 7523974, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blrFPq2oWcc/AAAAAAAAAAI/AAAAAAAAABw/KUy1xvWKMY8/photo.jpg?sz=128", "display_name": "Nick Chapsas", "link": "https://stackoverflow.com/users/7523974/nick-chapsas"}, "is_accepted": true, "score": 2, "last_activity_date": 1530780844, "last_edit_date": 1530780844, "creation_date": 1530724290, "answer_id": 51178394, "question_id": 51176874, "link": "https://stackoverflow.com/questions/51176874/cosmos-db-collection-with-certain-indexes-included-only/51178394#51178394", "title": "Cosmos Db collection with certain indexes included, only", "body": "<p>It looks like you are missing the a necessary wildcard character <code>?</code> at the end of the index path.</p>\n\n<p>The <code>?</code> character at the end of the index path is required to serve queries that query on this property. The character <code>*</code> should be used if you are planing to query on sub properties of the property for this path.</p>\n\n<p>You can read more about this on the <a href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/indexing-policies\" rel=\"nofollow noreferrer\">indexing policies documentation page</a></p>\n"}], "owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "accepted_answer_id": 51178394, "answer_count": 1, "score": 0, "last_activity_date": 1530780844, "creation_date": 1530717583, "last_edit_date": 1530718445, "question_id": 51176874, "link": "https://stackoverflow.com/questions/51176874/cosmos-db-collection-with-certain-indexes-included-only", "title": "Cosmos Db collection with certain indexes included, only", "body": "<p>I am trying to <code>exclude</code> all and <code>include</code> only certain indexes on a collection in CosmosDb. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>// A property in the class...\npublic override IEnumerable&lt;IncludedPath&gt; CollectionIndexes =&gt; new List&lt;IncludedPath&gt;\n{\n     new IncludedPath{ Path= \"/\\\"CreatedOnUtc\\\"\"  }, // I have tried \"/CreatedOnUtc\" as well\n     // few more indexes...    \n};\n\n// Code in the CreateCollection method...\ncollection.IndexingPolicy.ExcludedPaths.Add(new ExcludedPath { Path = \"/*\" }); // I have tried the code without this line as well\nforeach (var path in CollectionIndexes) // Add indexes over certain properties only.\n{\n     collection.IndexingPolicy.IncludedPaths.Add(path);\n}\n</code></pre>\n\n<p>When I run the code, I get this very exception ever single time:</p>\n\n<blockquote>\n  <p>Message: {\"Errors\":[\"The indexing path '/\\\"CreatedOnUtc\\\"' could not be\n  accepted, failed near position '5'. Please ensure that the path is a\n  valid path. Common errors include invalid characters or absence of\n  quotes around labels.\"]} ActivityId:\n  2627fe24-64a0-46b3-bf9a-13cb160c17a7, Request URI:\n  /apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/,\n  RequestStats: , SDK: Microsoft.Azure.Documents.Common/1.22.0.0,\n  documentdb-dotnet-sdk/1.22.0 Host/64-bit\n  MicrosoftWindowsNT/10.0.16299.0</p>\n</blockquote>\n\n<p>When I change the path to <code>\"/CreatedOnUtc\"</code>, I still get to see the same message:</p>\n\n<blockquote>\n  <p>Message: {\"Errors\":[\"The indexing path '/CreatedOnUtc' could not be accepted,\n  failed near position '3'. Please ensure that the path is a valid path.\n  Common errors include invalid characters or absence of quotes around\n  labels.\"]} ActivityId: 30dc7429-df87-4080-912e-60aa731ae809, Request\n  URI:\n  /apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/,\n  RequestStats: , SDK: Microsoft.Azure.Documents.Common/1.22.0.0,\n  documentdb-dotnet-sdk/1.22.0 Host/64-bit\n  MicrosoftWindowsNT/10.0.16299.0</p>\n</blockquote>\n\n<p>What am I missing out on? It seems to be something very basic but I have wasted 24 hours on this trying out various combinations!</p>\n\n<p>I am using the C# Sql API to do so. I am trying this out on the <code>CosmosDb Emulator</code> on my local PC.</p>\n"}, {"tags": ["c#", "path-finding", "a-star", "pathfinder"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1530717734, "post_id": 51176805, "comment_id": 89336428, "body": "Have you collected any benchmarks? What part is slow?"}, {"owner": {"reputation": 1, "user_id": 10026039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db959cbd3dd178bad5c34998be6942b?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/10026039/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9f%d1%83%d0%bf%d0%ba%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1530717835, "post_id": 51176805, "comment_id": 89336485, "body": "Yes, the slowest part after run jump searching in sample code, before integrating JPS the perfomance from one point to other in map[100x100] took 0.100 s, after it takes approximately a second"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1530718081, "post_id": 51176805, "comment_id": 89336609, "body": "You could use a collection type that&#39;s more suited to frequent removal of items such as <code>LinkedList&lt;&gt;</code>."}, {"owner": {"reputation": 1, "user_id": 10026039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db959cbd3dd178bad5c34998be6942b?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/10026039/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9f%d1%83%d0%bf%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1530718197, "post_id": 51176805, "comment_id": 89336672, "body": "@itsme86 I use this solution for removal items <a href=\"https://github.com/BlueRaja/High-Speed-Priority-Queue-for-C-Sharp/tree/master/Priority%20Queue%20Example\" rel=\"nofollow noreferrer\">github.com/BlueRaja/High-Speed-Priority-Queue-for-C-Sharp/tr&zwnj;&#8203;ee/&hellip;</a> it works fast"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1530718225, "post_id": 51176805, "comment_id": 89336684, "body": "Yes, it would be. :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1530718339, "post_id": 51176805, "comment_id": 89336728, "body": "You should tell us where you have identified problems. The idea is show what research you have done so people don&#39;t repeat work for no reason."}, {"owner": {"reputation": 1, "user_id": 10026039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db959cbd3dd178bad5c34998be6942b?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/10026039/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9f%d1%83%d0%bf%d0%ba%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1530718896, "post_id": 51176805, "comment_id": 89336995, "body": "@jdv I found a problem with differences while checking close and open lists after JPS ran. Is the list check the same as in astar, or not? Thx a lot"}, {"owner": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1530718935, "post_id": 51176805, "comment_id": 89337019, "body": "What does your graph look like?  JPS is only faster in 2D grids with large open areas; if it&#39;s something like a maze, JPS won&#39;t provide any benefit."}, {"owner": {"reputation": 1, "user_id": 10026039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db959cbd3dd178bad5c34998be6942b?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/10026039/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9f%d1%83%d0%bf%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 74851, "user_id": 238419, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/460167b95ff5a363d3977ddb56cfe074?s=128&d=identicon&r=PG", "display_name": "BlueRaja - Danny Pflughoeft", "link": "https://stackoverflow.com/users/238419/blueraja-danny-pflughoeft"}, "edited": false, "score": 0, "creation_date": 1530719071, "post_id": 51176805, "comment_id": 89337089, "body": "@BlueRaja-DannyPflughoeft My map is 2d array size of [108;192] have a marked by special number bounds, with the marked rectangles, that is it. The matrix is big, this algorithm should work really fast. I checked a demo in Github)"}], "owner": {"reputation": 1, "user_id": 10026039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db959cbd3dd178bad5c34998be6942b?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/10026039/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9f%d1%83%d0%bf%d0%ba%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530717549, "creation_date": 1530717328, "last_edit_date": 1530717549, "question_id": 51176805, "link": "https://stackoverflow.com/questions/51176805/update-a-to-jump-point-search", "title": "Update A* to Jump Point Search", "body": "<p>I have tried to integrate a JPS in my A* algorithm, but the performance is dropped. Reading the documentation and samples in GitHub, currently confused why is works slow. What should be corrected while checking or adding to some lists? Maybe I didn't understand the full sense of this algorithm.</p>\n\n<p>Here is my function which is modified Astar:</p>\n\n<pre><code>public List&lt;PathFinderNode&gt; FindPath(Point start, Point end, List&lt;Point&gt; ResultPoints)\n{\n    PathFinderNode parentNode;\n    bool found = false;\n    int gridX = mGrid[0].Count - 1;//horizontal size of grid\n    int gridY = mGrid.Count - 1; //vertical size of grid\n    mStopped = false;\n    mOpen.Clear();\n    mClose.Clear();\n    parentNode.G = 0;\n    parentNode.H = mHEstimate; //Equals 2\n    parentNode.F = parentNode.G + parentNode.H;\n    parentNode.X = start.X;\n    parentNode.Y = start.Y;\n    parentNode.PX = parentNode.X;\n    parentNode.PY = parentNode.Y;\n    mOpen.Push(parentNode); //Add a ParentNode First\n    while (mOpen.Count &gt; 0)\n    {\n        parentNode = mOpen.Pop();\n        if (parentNode.X == end.X &amp;&amp; parentNode.Y == end.Y)\n        {\n            mClose.Add(parentNode);\n            found = true;\n            break;\n        }\n\n        if (mClose.Count &gt; mSearchLimit)\n        {\n            mStopped = true;\n            return null;\n        }\n\n        //Checking Neibours\n        for (int i = 0; i &lt; 4; i++)\n        {\n            PathFinderNode newNode;\n            newNode.X = parentNode.X + direction[i, 0];\n            newNode.Y = parentNode.Y + direction[i, 1];\n\n            var tmpXY = jump(newNode.X, newNode.Y, parentNode.X, parentNode.Y, start,end); //doing a jump action\n\n            if (tmpXY[0] != -1) //if jump returns more than -1\n            {\n                int newG;\n                newNode.X = tmpXY[0];\n                newNode.Y = tmpXY[1];\n\n                newG = parentNode.G + (-1) * mGrid[newNode.Y][newNode.X];\n                if (newG == parentNode.G)\n                {\n                    continue;\n                }\n\n                int foundInOpenIndex = -1;\n                for (int j = 0; j &lt; mOpen.Count; j++) //openList check\n                {\n                    if (mOpen[j].X == newNode.X &amp;&amp; mOpen[j].Y == newNode.Y)\n                    {\n                        foundInOpenIndex = j;\n                        break;\n                    }\n                }\n                if (foundInOpenIndex != -1 &amp;&amp; mOpen[foundInOpenIndex].G &lt;= newG)\n                    continue;\n\n                int foundInCloseIndex = -1;\n\n                for (int j = 0; j &lt; mClose.Count; j++) //ClosedListCheck\n                {\n                    if (mClose[j].X == newNode.X &amp;&amp; mClose[j].Y == newNode.Y)\n                    {\n                        foundInCloseIndex = j;\n                        continue;\n                    }\n                }\n\n                if (foundInCloseIndex != -1 &amp;&amp; mClose[foundInCloseIndex].G &lt;= newG)\n                    continue;\n\n                newNode.PX = parentNode.X;\n                newNode.PY = parentNode.Y;\n                newNode.G = newG;\n                newNode.H = mHEstimate * (Math.Abs(newNode.X - end.X) + Math.Abs(newNode.Y - end.Y)); //Manhattan\n                newNode.F = newNode.G + newNode.H;\n                mOpen.Push(newNode);\n            }\n        }\n        mClose.Add(parentNode);\n    }\n    if (found)\n    {\n        PathFinderNode fNode = mClose[mClose.Count - 1];\n        for (int i = mClose.Count - 1; i &gt;= 0; i--)\n        {\n            if (fNode.PX == mClose[i].X &amp;&amp; fNode.PY == mClose[i].Y || i == mClose.Count - 1)\n            {\n                fNode = mClose[i];\n                ResultPoints.Add(new Point(fNode.X * 10, fNode.Y * 10));\n            }\n            else\n                mClose.RemoveAt(i);\n\n        }\n        mStopped = true;\n        return mClose;\n    }\n    mStopped = true;\n    return null;\n}\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "thread-safety"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530717472, "post_id": 51176802, "comment_id": 89336287, "body": "Can you work this up into a verifiable example of it failing?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530718083, "post_id": 51176802, "comment_id": 89336611, "body": "Isn&#39;t this just going to get you the <i>last</i> value of <code>IsSuccesful</code>, and as you&#39;re running multiple tasks in parallel you don&#39;t know which one is the last to run?"}, {"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530718545, "post_id": 51176802, "comment_id": 89336830, "body": "@stuartd Here&#39;s a test project: <a href=\"https://github.com/bdebaere/ThreadSafeBool/tree/master/ThreadSafeBool\" rel=\"nofollow noreferrer\">github.com/bdebaere/ThreadSafeBool/tree/master/ThreadSafeBoo&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530719205, "post_id": 51176802, "comment_id": 89337170, "body": "Not sure what you&#39;re trying to do here. If you just want to know if any of them fail, why not have a <code>Failed</code> property that you set when a task fails?"}, {"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530719388, "post_id": 51176802, "comment_id": 89337260, "body": "@stuartd Can you explain what you mean? I thought this was an implementation of that: a boolean value which I set based on the result of the tasks."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1530719561, "post_id": 51176802, "comment_id": 89337358, "body": "Not quite the same. If a test fails, set <code>Failed</code> as true. If another test succeds, then <code>Failed</code> is still true. If another test fails, <code>Failed</code> is still true. If you wanted to know <i>how many</i> failed, that would be a bit more involved."}], "answers": [{"comments": [{"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530718662, "post_id": 51176990, "comment_id": 89336887, "body": "Maybe I&#39;m not following but I need the result of the 10 separate tests because I need to know if one of them fails but also run all the tests for extra debug information. So I have to create the variable outside the Parallel.ForEach() because I have to return it after all of the tests have completed, not just stop when one fails."}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "reply_to_user": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530718771, "post_id": 51176990, "comment_id": 89336947, "body": "@bdebaere jsut edited the answer. But notice that even if your code worked correctly, you would no longer call <code>DoSomething</code> when <code>IsSuccessful</code> is false once, because <code>&amp;&amp;</code> does not evaluate the right operand when the left is already false."}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "reply_to_user": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530719018, "post_id": 51176990, "comment_id": 89337057, "body": "But the <code>&amp;</code> alone doesn&#39;t solve your thread-safety problem: You <b>read</b> <code>IsSuccessful</code>, then <b>execute</b> <code>DoSomething</code>, then <code>&amp;</code> the previoulsy read value with the return value and <b>set</b> this result to <code>IsSuccessful</code> again. If another thread changed <code>IsSuccessful</code> while that first thread was running <code>DoSomething</code>, you now overwrite this change again."}, {"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530719169, "post_id": 51176990, "comment_id": 89337153, "body": "Does this mean you merely solved it because you increment an integer value instead of setting a boolean value based on the read value of this boolean?"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "reply_to_user": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530719356, "post_id": 51176990, "comment_id": 89337244, "body": "No, it means I solved it by doing the <b>check</b> and the <b>write</b> at the same time, while you were checking the value long before writing. Your thread-safe bool class only ensures that two threads cannot read and set the value at the same time, but the way you used it was wrong. You read the value, then did a long operation (and while doing that, all other threads can have changed the value) and then set the value again based on its state a long time ago without checking its current state. So your &quot;thread-safety&quot; was useless."}, {"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530719757, "post_id": 51176990, "comment_id": 89337467, "body": "Thanks for your patience and explanations. I think I understand what you&#39;re saying when you&#39;re talking about what I did wrong. So basically if I write &quot;if(!DoSomething()) IsSuccesful = false;&quot; this will also solve my problem?"}, {"owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530720432, "post_id": 51176990, "comment_id": 89337761, "body": "Just out of curiosity. What if I wrote &quot;IsSuccessful = DoSomething() &amp; IsSuccesful&quot; instead of an if, would that work too?"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "reply_to_user": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "edited": false, "score": 0, "creation_date": 1530720750, "post_id": 51176990, "comment_id": 89337865, "body": "It could work better, but there is still no guarantee: There still is a little probability that between <i>reading</i> <code>IsSuccessful</code> and setting it, a different thread could have set it to <code>false</code>. The problem is the getter and the setter are separated non-atomic operations. After you read <code>IsSuccessful</code>, the lock is free, another thread can take it to <i>set</i> <code>IsSuccessful</code> and the first thread waits to get the lock and overwrites it again. Your locks do not span over both operations."}], "tags": [], "owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "is_accepted": true, "score": 2, "last_activity_date": 1560252835, "last_edit_date": 1560252835, "creation_date": 1530718073, "answer_id": 51176990, "question_id": 51176802, "link": "https://stackoverflow.com/questions/51176802/why-is-this-boolean-not-thread-safe/51176990#51176990", "title": "Why is this boolean not thread-safe?", "body": "<p>You said <code>DoSomething()</code> is expensive (so I guess <em>time</em> consuming).</p>\n\n<p>Now imagine two parallel calls, one where <code>DoSometing()</code> is successful (A) and one that fails (B). This is what obviously may happen:</p>\n\n<ol>\n<li>A checks <code>IsSuccessful</code> which is <code>true</code>, so <code>DoSomething</code> is called</li>\n<li>B checks <code>IsSuccessful</code> which still is <code>true</code>, so <code>DoSomething</code> is called</li>\n<li><code>DoSomething</code> returns <code>false</code> for B (well, it happened to be a little bit faster) and so B sets <code>IsSuccessful</code> to <code>false</code>.</li>\n<li>Now <code>DoSomething</code> returns <code>true</code> for A. Now A has <code>true &amp; true</code> (because <code>IsSuccessful</code> <em>was</em> <code>true</code> when it read it) and hence sets <code>IsSuccessful</code> to <code>true</code> again.</li>\n</ol>\n\n<p>The problem you face is because you use seperate methods for <strong>checking</strong> the value and <strong>setting</strong> the value. It's a classic <a href=\"https://en.wikipedia.org/wiki/Time_of_check_to_time_of_use\" rel=\"nofollow noreferrer\">TOCTTOU problem</a>.</p>\n\n<p>I suggest to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.interlocked.increment\" rel=\"nofollow noreferrer\"><code>Interlocked.Increment</code></a>, but on a single <code>int</code> inside the <code>Parallel.ForEach</code>.</p>\n\n<pre><code>public bool Get()\n{\n    int failed = 0;\n    Parallel.ForEach(..., ... =&gt;\n    {   \n        if (!DoSomething())         \n            Interlocked.Increment(ref failed);\n    });\n\n    return failed == 0;\n}\n</code></pre>\n\n<p>If you're only interested if <em>one</em> of the tests failed, you can of course simply do:</p>\n\n<pre><code>public bool Get()\n{\n    Parallel.ForEach(..., ... =&gt;\n    {   \n        if (!DoSomething()) IsSuccessful = false;\n    });\n\n    return IsSuccessful;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "is_accepted": false, "score": 1, "last_activity_date": 1530720344, "last_edit_date": 1592644375, "creation_date": 1530720006, "answer_id": 51177499, "question_id": 51176802, "link": "https://stackoverflow.com/questions/51176802/why-is-this-boolean-not-thread-safe/51177499#51177499", "title": "Why is this boolean not thread-safe?", "body": "<p>The <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/volatile\" rel=\"nofollow noreferrer\">volatile</a> should be enough. From docs:</p>\n<blockquote>\n<p>The volatile modifier is usually used for a field that is accessed by\nmultiple threads without using the lock statement to serialize access.</p>\n</blockquote>\n<p>It effectively serializes the access.</p>\n<h1>That said, I don't think that's the problem</h1>\n<p>You say the test should always return false, but sometimes it returns true.  In order to 'know' it will always return false, then all your DoSomething() calls must return false.  Is that true?  If this were a standard (serial) foreach, then it would always execute in the same order, so once a call to DoSomething returned false _isSuccessful remains false for the rest of the iteration.  When you run this parallel, order is out the window.  You end up with an execution order that can be different every time.  This is compounded by the fact that your DoSomething calls likely have different completion times and also can run in a different order each time.  Your results will be potentially be non-repeatable and inconsistent..</p>\n<p>I assume what you really want is a IsSuccessuful that is true only if all the DoSomething's return true.  One way to do this is to drop the &amp;&amp; and use a simple if statement.  For example:</p>\n<pre><code>public bool Get()\n{\n    var good = true;\n    Parallel.ForEach(..., ... =&gt;\n    {\n        var result = DoSomething();\n        if (result == false) \n        {\n            good = false;\n        }\n    });\n    IsSuccesful = good;\n    return IsSuccesful;\n}\n</code></pre>\n<p>Once, 'good' becomes false there is no method to set it back to true.  Therefore, if one test returns false, then IsSuccessful will return false.  This might also make the intent of your code clearer to the future developers who work with it.</p>\n"}], "owner": {"reputation": 1948, "user_id": 4290902, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/sbhEe.jpg?s=128&g=1", "display_name": "bdebaere", "link": "https://stackoverflow.com/users/4290902/bdebaere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 51176990, "answer_count": 2, "score": 0, "last_activity_date": 1560252835, "creation_date": 1530717321, "last_edit_date": 1530718900, "question_id": 51176802, "link": "https://stackoverflow.com/questions/51176802/why-is-this-boolean-not-thread-safe", "title": "Why is this boolean not thread-safe?", "body": "<p>I've written the piece of code below for an integration test which calls an expensive function DoSomething() for several different assemblies. I would have thought applying a lock would be enough to ensure thread safety but sometimes the boolean value is true when it should always be false in my current test case.</p>\n\n<p>I've also tried the solution <a href=\"https://stackoverflow.com/questions/29411961/c-sharp-and-thread-safety-of-a-bool\">here</a> with the Interlocked.CompareExchange which doesn't seem to work for me as well.</p>\n\n<p>Can someone please point me in the right direction as to what exactly I'm doing wrong?</p>\n\n<pre><code>public class SomeClass\n{\n    private object _lock = new object();\n    private volatile bool _isSuccessful = true;\n\n    private bool IsSuccesful\n    {\n        get\n        {\n            lock (_lock)\n            {\n                return _isSuccessful;\n            }\n        }\n        set\n        {\n            lock (_lock)\n            {\n                _isSuccessful = value;\n            }\n        }\n    }\n\n    public bool Get()\n    {\n        Parallel.ForEach(..., ... =&gt;\n        {\n            IsSuccesful = IsSuccesful &amp; DoSomething();\n        });\n\n        return IsSuccesful;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq", "parameters", "entity-framework-6"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530717597, "post_id": 51176768, "comment_id": 89336350, "body": "What is wrong with the <code>N&#39;</code> prefix? That&#39;s <a href=\"https://stackoverflow.com/questions/10025032/what-is-the-meaning-of-the-prefix-n-in-t-sql-statements\">perfectly normal SQL syntax</a>. Is it causing your queries to fail?"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1530717644, "post_id": 51176768, "comment_id": 89336376, "body": "<a href=\"https://stackoverflow.com/questions/10025032/what-is-the-meaning-of-the-prefix-n-in-t-sql-statements\" title=\"what is the meaning of the prefix n in t sql statements\">stackoverflow.com/questions/10025032/&hellip;</a>"}, {"owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530717890, "post_id": 51176768, "comment_id": 89336511, "body": "@DavidG the query&#39;s return 0 rows :S"}, {"owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1530717963, "post_id": 51176768, "comment_id": 89336549, "body": "@PeterBons the wierd thing is normal Linq dont add&#39;s the <code>N</code> character, probably, the problem is it doesn&#39;t recognize, the second and third parameters as number, if i pass them as numbers, it thrown an exception :S"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1530718485, "post_id": 51176768, "comment_id": 89336804, "body": "Yeah seems illogical. Anyway, I wouldn&#39;t give it much thought. There is nothing going wrong here."}], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "edited": false, "score": 0, "creation_date": 1530719342, "post_id": 51177141, "comment_id": 89337235, "body": "Thank you! But, is there another solution to avoid sql injection? Could you guide me to investigate?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "edited": false, "score": 1, "creation_date": 1530719573, "post_id": 51177141, "comment_id": 89337361, "body": "I&#39;m not all that familiar with Dynamic Linq unfortunately, I prefer to use <code>Expression</code>s."}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 3, "last_activity_date": 1530718677, "creation_date": 1530718677, "answer_id": 51177141, "question_id": 51176768, "link": "https://stackoverflow.com/questions/51176768/linq-dynamics-adds-an-n-to-my-parameters/51177141#51177141", "title": "Linq Dynamics adds an N to my parameters", "body": "<p>The problem is that Dynamic Linq is assuming the <code>example</code> value you are passing in is a <em>value</em> and not a <em>column</em> name. So the query returns no rows because the string <code>example</code> is not between the strings <code>10</code> and <code>20</code>.</p>\n\n<p>The <code>N'</code> prefix is perfectly normal SQL syntax and is only coercing the string into an <code>NVARCHAR</code> type instead of <code>VARCHAR</code>. See <a href=\"https://stackoverflow.com/questions/10025032/what-is-the-meaning-of-the-prefix-n-in-t-sql-statements\">this</a> for more info. For you code however, try this for example:</p>\n\n<pre><code>var sql = $\"{filtro.PropertyName} &gt; @0 AND {filtro.PropertyName} &lt; @1\";\nvar query = db.Where(sql, filtro.Value1, filtro.Value2);\n</code></pre>\n\n<p>Note: this leaves you open to SQL injection so is quite dangerous.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 51177141, "answer_count": 1, "score": 1, "last_activity_date": 1530718677, "creation_date": 1530717205, "question_id": 51176768, "link": "https://stackoverflow.com/questions/51176768/linq-dynamics-adds-an-n-to-my-parameters", "title": "Linq Dynamics adds an N to my parameters", "body": "<p>I'm working on custom filter with <code>System.Linq.Dynamic</code>, everything was ok until i start the fight with <code>BETWEEN</code>.</p>\n\n<p>I created a custom class called <code>Filtro</code>, it has this propertys .</p>\n\n<pre><code>public string PropertyName { get; set; }\npublic string Value1 { get; set; }\npublic string Value2 { get; set; }\n</code></pre>\n\n<p>Then, i basically filter a <code>IQueryable</code> object with the parameters of that class</p>\n\n<p>I'm trying this:</p>\n\n<pre><code>var query = db.Where(\"@0 &gt; @1 AND @0 &lt; @2\", filtro.PropertyName, filtro.Value1, filtro.Value2);\n</code></pre>\n\n<p>My problem is that the parameters are generated incorrectly in the query.</p>\n\n<p>Example:</p>\n\n<pre><code>filtro.PropertyName = \"example\";\nfiltro.Value1 = \"10\";\nfiltro.Value2 = \"20\";\n</code></pre>\n\n<p>When i generate query without parameters </p>\n\n<pre><code>var query = db.Where(\"example&gt;10 &amp;&amp; example&lt;20\");\n</code></pre>\n\n<p>It generates this:</p>\n\n<pre><code>SELECT \n    [Extent1].[randomField] AS [randomField], \n    [Extent1].[example] AS [example], \n    FROM [dbo].[Transformador] AS [Extent1]\n    WHERE ([Extent1].[example] &gt; cast(10 as decimal(18))) AND ([Extent1].[example] &lt; cast(20 as decimal(18)))\n    ORDER BY [Extent1].[randomField] ASC}\n</code></pre>\n\n<p>But when i use parameters (as i show before) i'm getting this</p>\n\n<pre><code>SELECT \n    [Extent1].[randomField] AS [randomField], \n    [Extent1].[example] AS [example]\n    FROM [dbo].[Transformador] AS [Extent1]\n    WHERE (N'example' &gt; N'10') AND (N'example' &lt; N'20')\n    ORDER BY [Extent1].[randomField] ASC\n</code></pre>\n\n<p>I guess I'm using the parameters of Linq Dynamics wrong, but I did not find anything similar going around on the internet</p>\n\n<p>I hope someone know what the problem is, thanks in advance! </p>\n"}, {"tags": ["c#", "docusignapi"], "owner": {"reputation": 11, "user_id": 6696253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dZhvsK5zEl0/AAAAAAAAAAI/AAAAAAAAADk/aMiCJg-nB1Q/photo.jpg?sz=128", "display_name": "Rafael Rozendo", "link": "https://stackoverflow.com/users/6696253/rafael-rozendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530717368, "creation_date": 1530716985, "last_edit_date": 1530717368, "question_id": 51176710, "link": "https://stackoverflow.com/questions/51176710/docusign-signing-group-invalid-with-certified-delivery", "title": "DocuSign SIGNING_GROUP_INVALID with Certified Delivery", "body": "<p>I already use DocuSign API.</p>\n\n<p>When I create an envelope, I usually send it to 2 recipients: 1 signer (with embedded authentication) and 1 certified delivery. </p>\n\n<p>But now I would like to use a signing group as the certified delivery. </p>\n\n<p>I use the <strong>DocuSign.eSign.dll</strong> NuGet package. My code is something like this:</p>\n\n<pre><code>public async Task CreateEnvelopeAsync(ContractRequest contract, Dictionary&lt;string, string&gt; customFields)\n    {\n        //do stuff...\n        var envelope = new EnvelopeDefinition\n        {\n            EmailSubject = name,\n            Status = \"sent\",\n            Documents = new List&lt;Document&gt;\n            {\n                new Document\n                {\n                    Name = $\"{name}.pdf\",\n                    DocumentBase64 = contract.DocumentBase64,\n                    DocumentId = \"1\"\n                }\n            },\n            Recipients = new Recipients\n            {\n                Signers = new List&lt;Signer&gt;(),\n                CertifiedDeliveries = new List&lt;CertifiedDelivery&gt;()\n            },\n            CustomFields = new CustomFields { TextCustomFields = new List&lt;TextCustomField&gt;() }\n        };\n\n        //do more stuff...\n        var signer = CreateSigner(recipient, recipientId);\n        envelope.Recipients.Signers.Add(signer);\n        var reviewer = CreateReviewer(recipientId, recipient, \"174339\");\n        envelope.Recipients.CertifiedDeliveries.Add(reviewer);\n        //do even more stuff...\n\n        var envelopeSummary = await _EnvelopesApi.CreateEnvelopeAsync(_AccountId, envelope).ConfigureAwait(false);\n    }\n\nstatic CertifiedDelivery CreateReviewer(int recipientId, Recipient recipient, int signingGroupId)\n    {\n        return new CertifiedDelivery\n        {\n            RecipientId = $\"{recipientId}\",\n            RoutingOrder = $\"{recipient.SignOrder}\",\n            SigningGroupId = $\"{signingGroupId}\"\n        };\n    }\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<blockquote>\n  <p>Error calling CreateEnvelope: {\\r\\n  \\\"errorCode\\\":\n  \\\"SIGNING_GROUP_INVALID\\\",\\r\\n  \\\"message\\\": \\\"Invalid signing group\n  supplied. Invalid group for the account\\\"\\r\\n}</p>\n</blockquote>\n\n<p>So, I have 3 questions:</p>\n\n<p>1) Is it possible to send a signing group as a certified delivery?<br>\n2) If the previous is possible, is it also possible to send a signing group as a certified delivery if I am already sending a signer with embeded authentication?<br>\n3) If both are possible, then what am I doing wrong?</p>\n\n<p>The signing group id that I'm passing really exists:\n<img src=\"https://i.stack.imgur.com/Hwtx2.png\" alt=\"screenshot\"></p>\n"}, {"tags": ["c#", "unity3d", "augmented-reality", "vuforia"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530718413, "post_id": 51176866, "comment_id": 89336765, "body": "I tried your solution but it does not work for me. sorry"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530718788, "post_id": 51176866, "comment_id": 89336953, "body": "The same solution work for simple UI buttons but not for Vuforia virtual button."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530753092, "post_id": 51176866, "comment_id": 89346729, "body": "How is it even possible that it works for UI button but not for virtual button? Are you sure that those functions are being called at-all?"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530796636, "post_id": 51176866, "comment_id": 89366213, "body": "I just used the logic of boolean variables and transform.Rotate() on UI button, it work fine there..."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530796761, "post_id": 51176866, "comment_id": 89366292, "body": "The it should work with <code>OnButtonPressed</code>, Can you use just the <code>OnButtonPressed</code> and <code>OnButtonReleased</code> in my answer then upload a screenshot of the Console log tab. I want to see the log."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530798691, "post_id": 51176866, "comment_id": 89367583, "body": "@SyedAun Ok. Is that log showing true|false when you press and hold or just true when pressed and false when released?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530798955, "post_id": 51176866, "comment_id": 89367772, "body": "Didn&#39;t really answer the question.  Is that log showing true|false when you press and hold <b>or</b> just true when pressed and false when released"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530799070, "post_id": 51176866, "comment_id": 89367860, "body": "When I hold the button it show true and when I release the button it show false."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530799196, "post_id": 51176866, "comment_id": 89367943, "body": "Ok. Inside <code>if (pressed)</code> put <code>Debug.Log(&quot;Rotating&quot;)</code> and tell me if that shows when button is pressed down"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530799857, "post_id": 51176866, "comment_id": 89368406, "body": "i did exactly as you said. &quot; Rotating &quot; also appeared multiple time in console log. so I think there is some problem with transforn.rotate() function."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530800569, "post_id": 51176866, "comment_id": 89368867, "body": "It shouldn&#39;t appear just &quot;multiple times&quot;. It should appear <b>Every</b> frame when held that. Does it stop or is it appearing every frame?"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530800913, "post_id": 51176866, "comment_id": 89369100, "body": "yes the message appear on every frame. when i release the button it stop the message &quot;rotating&quot;"}, {"owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530868246, "post_id": 51176866, "comment_id": 89394531, "body": "Thanks bro for being so helpful. The problem fixed by creating a new unity project and using same script in it. So there was some problem with the old unity project."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "edited": false, "score": 0, "creation_date": 1530868293, "post_id": 51176866, "comment_id": 89394567, "body": "I was in shock that didn&#39;t work. Glad you got it working."}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1530717542, "creation_date": 1530717542, "answer_id": 51176866, "question_id": 51176703, "link": "https://stackoverflow.com/questions/51176703/the-cube-does-not-rotate-by-pressing-vuforia-virtual-button-in-unity3d/51176866#51176866", "title": "The cube does not rotate by pressing Vuforia virtual button in Unity3d", "body": "<p>If you want to rotate every frame while the button is held down but stop when released then use a boolean variable to do that. Set it to <code>true</code> in <code>OnButtonPressed</code> and <code>false</code> in <code>OnButtonReleased</code>. Check if this flag in <code>true</code> in the <code>Update</code> function then rotate the cube.</p>\n\n<pre><code>public GameObject vbtn;\npublic GameObject cube;\npublic Renderer rend;\nbool pressed = false;\npublic float speed = 100f;\n\n// Use this for initialization\nvoid Start()\n{\n\n    vbtn = GameObject.Find(\"virtualbtn5\");\n    vbtn.GetComponent&lt;VirtualButtonBehaviour&gt;().RegisterEventHandler(this);\n    cube = GameObject.Find(\"Cube\");\n    rend = cube.GetComponent&lt;Renderer&gt;();\n}\n\npublic void OnButtonPressed(VirtualButtonBehaviour vb)\n{\n\n    Debug.Log(\"Button pressed\");\n    pressed = true;\n    rend.material.color = Color.blue;\n\n}\n\npublic void OnButtonReleased(VirtualButtonBehaviour vb)\n{\n\n    Debug.Log(\"Button released\");\n    pressed = false;\n    rend.material.color = Color.red;\n}\n\nvoid Update()\n{\n    if (pressed)\n        cube.transform.Rotate(new Vector3(0, Time.deltaTime * speed, 0));\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5784284, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LlxPJ.jpg?s=128&g=1", "display_name": "Syed Aun", "link": "https://stackoverflow.com/users/5784284/syed-aun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 51176866, "answer_count": 1, "score": 1, "last_activity_date": 1530798254, "creation_date": 1530716964, "last_edit_date": 1530798254, "question_id": 51176703, "link": "https://stackoverflow.com/questions/51176703/the-cube-does-not-rotate-by-pressing-vuforia-virtual-button-in-unity3d", "title": "The cube does not rotate by pressing Vuforia virtual button in Unity3d", "body": "<p>I added the cube on the image target of Vuforia. I also added the virtual button on the image target. Now I want to rotate the cube by pressing virtual button. For this purpose I implemented the following script.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing Vuforia;\n\npublic class rotate : MonoBehaviour, IVirtualButtonEventHandler {\n\n    public GameObject vbtn;\n    public GameObject cube;\n    public Renderer rend;\n\n    // Use this for initialization\n    void Start () {\n\n        vbtn = GameObject.Find (\"virtualbtn5\");\n        vbtn.GetComponent&lt;VirtualButtonBehaviour&gt; ().RegisterEventHandler (this);\n        cube = GameObject.Find (\"Cube\");\n        rend = cube.GetComponent&lt;Renderer&gt;();   \n    }\n\n    public void OnButtonPressed(VirtualButtonBehaviour vb){\n\n        Debug.Log (\"Button pressed\");\n        cube.transform.Rotate (new Vector3(0,Time.deltaTime*1000,0));\n        rend.material.color = Color.blue;\n\n    }\n\n    public void OnButtonReleased(VirtualButtonBehaviour vb){\n\n        Debug.Log (\"Button released\");\n        rend.material.color = Color.red;\n    }       \n\n}\n</code></pre>\n\n<p>The button seems to be working because the <code>Debug.Log (\"Button pressed\");</code> and <code>rend.material.color = Color.blue;</code> statements in <code>onButtonPressed</code> function are working fine. But <code>cube.transform.Rotate (new Vector3(0,Time.deltaTime*1000,0));</code> for rotating cube does not work.</p>\n\n<p>Simple is that the button can change the color of the cube but it does not rotate the cube.</p>\n\n<p>So the question is <strong>How would I rotate the cube by pressing virtual button of vuforia.</strong></p>\n\n<p><strong>Question Updated:</strong></p>\n\n<p>I also tried the following code but still the cube does not rotate on button press.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing Vuforia;\n\npublic class rotate : MonoBehaviour, IVirtualButtonEventHandler {\n\n    public GameObject vbtn;\n    public GameObject cube;\n    public Renderer rend;\n    public bool rotateit;\n    public float speed;\n    // Use this for initialization\n    void Start () {\n\n        vbtn = GameObject.Find (\"virtualbtn5\");\n        vbtn.GetComponent&lt;VirtualButtonBehaviour&gt; ().RegisterEventHandler (this);\n        cube = GameObject.Find (\"Cube\");\n        speed = 100f;\n\n        rend = cube.GetComponent&lt;Renderer&gt;();\n        rotateit = false;\n\n\n    }\n\n\n    void Update(){\n\n\n        if (rotateit) {\n\n            cube.transform.Rotate(new Vector3(0, Time.deltaTime * speed, 0));\n        }\n\n\n    }\n\n\n    public void OnButtonPressed(VirtualButtonBehaviour vb){\n\n        //Debug.Log (\"Button pressed\");\n        //cube.transform.RotateAround(cube.transform.position, new Vector3(0, 1, 0), 10000f * Time.deltaTime);\n        //cube.transform.Rotate (new Vector3(0,Time.deltaTime*1000,0));\n        rend.material.color = Color.blue;\n        rotateit = true;\n        Debug.Log (\"Button pressed \"+rotateit);\n\n    }\n\n    public void OnButtonReleased(VirtualButtonBehaviour vb){\n\n        //Debug.Log (\"Button released\");\n        rend.material.color = Color.red;\n        rotateit = false;\n        Debug.Log (\"Button released \"+rotateit);\n    }\n\n\n\n}\n</code></pre>\n\n<p>Also have a look at console window</p>\n\n<p><a href=\"https://i.stack.imgur.com/DAGSJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAGSJ.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": true, "score": 0, "last_activity_date": 1530787936, "creation_date": 1530787936, "answer_id": 51189478, "question_id": 51176628, "link": "https://stackoverflow.com/questions/51176628/sporadically-null-entity-framework-foreign-keys-using-dbset-find-and-lazy-loadin/51189478#51189478", "title": "Sporadically null Entity Framework Foreign keys using DbSet Find and Lazy Loading", "body": "<p>Got the same error with cases so I will show how I fixed it there. <code>Find</code> and <code>FirstOrDefault</code> like below both threw the same exception.</p>\n\n<pre><code>//Sporadic exceptions like above. \"Object reference not set to an instance of an object.\"\nvar tpCase = _DbContext.Cases\n    .FirstOrDefault(x =&gt; x.BusinessSystemId == businessSystemId &amp;&amp;\n                         x.CaseId == caseId);\n</code></pre>\n\n<p>However when I included everything in the query it worked:</p>\n\n<pre><code>var tpCase = _DbContext.Cases\n    .Where(x =&gt; x.BusinessSystemId == businessSystemId &amp;&amp;\n                x.CaseId == caseId)\n    .Include(tpCase =&gt; tpCase.RenewalCycles.Select(renewalCycle =&gt; renewalCycle.CaseEvents.Select(caseEvent =&gt; caseEvent.TPEvent.EventClassifications)))\n    .FirstOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51189478, "answer_count": 1, "score": 0, "last_activity_date": 1530787936, "creation_date": 1530716713, "question_id": 51176628, "link": "https://stackoverflow.com/questions/51176628/sporadically-null-entity-framework-foreign-keys-using-dbset-find-and-lazy-loadin", "title": "Sporadically null Entity Framework Foreign keys using DbSet Find and Lazy Loading", "body": "<p>As the title says I'm having sporadically null entries in my code. I can't find any pattern since one cycle below can work when the code is ran one time and fail another time. </p>\n\n<p>Code that fails:</p>\n\n<pre><code>var cycle = _dbContext.RenewalCycles.Find(businessSystemId, caseId, action, cycle);\n\nvar renewalDateEvent = cycle.CaseEvents?.FirstOrDefault(\n   caseEvent =&gt; caseEvent.TPEvent.EventClassifications.Any(eventClassification =&gt; eventClassification.ClassificationId == Classifications.RenewalDueDate));\n</code></pre>\n\n<p>Models:</p>\n\n<p>TPRenewalCycle:</p>\n\n<pre><code>public class TPRenewalCycle\n{\n    [Key, Column(Order = 0)]\n    [ForeignKey(\"TPCase\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    [MaxLength(15)]\n    public string BusinessSystemId { get; set; }\n\n    [Key, Column(Order = 1)]\n    [ForeignKey(\"TPCase\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int CaseId { get; set; }\n\n    public virtual TPCase TPCase { get; set; }\n\n    [Key, Column(Order = 2)]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    [MaxLength(5)]\n    public string Action { get; set; }\n\n    [Key, Column(Order = 3)]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int Cycle { get; set; }\n\n    public int? Year { get; set; }\n\n    [MaxLength(50)]\n    public string YearDescription { get; set; }\n\n    public bool IsActive { get; set; }\n\n    public bool IsCurrent { get; set; }\n\n    public virtual ICollection&lt;TPCaseEvent&gt; CaseEvents { get; set; }\n\n}\n</code></pre>\n\n<p>TPCaseEvent:</p>\n\n<pre><code>public class TPCaseEvent\n{\n    [Key, Column(Order = 0)]\n    [ForeignKey(\"TPRenewalCycle\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    [MaxLength(15)]\n    public string BusinessSystemId { get; set; }\n\n    [Key, Column(Order = 1)]\n    [ForeignKey(\"TPRenewalCycle\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int CaseId { get; set; }\n\n    [Key, Column(Order = 2)]\n    [ForeignKey(\"TPRenewalCycle\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    [MaxLength(5)]\n    public string Action { get; set; }\n\n    [Key, Column(Order = 3)]\n    [ForeignKey(\"TPRenewalCycle\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int Cycle { get; set; }\n\n    public virtual TPRenewalCycle TPRenewalCycle { get; set; }\n\n    [Key, Column(Order = 4)]\n    [ForeignKey(\"TPEvent\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int EventNo { get; set; }\n\n    public virtual TPEvent TPEvent { get; set; }\n\n    public DateTime? DueDate { get; set; }\n\n    public DateTime? EventDate { get; set; }\n}\n</code></pre>\n\n<p>TPEvent:</p>\n\n<pre><code>public class TPEvent\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int EventNo { get; set; }\n\n    [MaxLength(100)]\n    public string InternalName { get; set; }\n\n    [MaxLength(100)]\n    public string ExternalName { get; set; }\n\n    [Column(TypeName = \"nvarchar(MAX)\")]\n    [MaxLength]\n    public string Description { get; set; }\n\n    public virtual ICollection&lt;TPEventClassification&gt; EventClassifications { get; set; }\n}\n</code></pre>\n\n<p>TPEventClassification:</p>\n\n<pre><code>public class TPEventClassification\n{\n    [Key, Column(Order = 0)]\n    [ForeignKey(\"TPClassification\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public Classifications ClassificationId { get; set; }\n\n    public virtual TPClassification TPClassification { get; set; }\n\n    [Key, Column(Order = 1)]\n    [ForeignKey(\"TPEvent\")]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int EventNo { get; set; }\n\n    public virtual TPEvent TPEvent { get; set; }\n}\n</code></pre>\n\n<p>TPClassification:</p>\n\n<pre><code>public class TPClassification\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public Classifications ClassificationId { get; set; }\n\n    [MaxLength(100)]\n    public string Description { get; set; }\n\n    public bool IsCyclical { get; set; }\n\n    [MaxLength(400)]\n    public string Comment { get; set; }\n\n    public virtual ICollection&lt;TPEventClassification&gt; EventClassifications { get; set; }\n}\n</code></pre>\n\n<p>Null for TPEvent:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OcBLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OcBLS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Exception:</p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object.</p>\n</blockquote>\n\n<p>And when it is ran a second time it is loaded via <code>System.Data.Entity.DynamicProxies</code>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ApoLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ApoLA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is this happening here? Do I need to skip using <code>Find</code> and instead load using <code>FirstOrDefault</code> with <code>Include</code> for TPEvent?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 1761, "user_id": 311255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IVhgx.png?s=128&g=1", "display_name": "SelvaS", "link": "https://stackoverflow.com/users/311255/selvas"}, "edited": false, "score": 1, "creation_date": 1530717076, "post_id": 51176618, "comment_id": 89336075, "body": "Have you checked this closed issue? <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/7743\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/issues/7743</a> and this <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/10167\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/issues/10167</a>"}], "answers": [{"tags": [], "owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "is_accepted": true, "score": 0, "last_activity_date": 1530717785, "creation_date": 1530717785, "answer_id": 51176913, "question_id": 51176618, "link": "https://stackoverflow.com/questions/51176618/why-when-creating-new-row-in-db-currentvalue-in-key-is-equal-to-this-strange-i/51176913#51176913", "title": "Why, when creating new row in DB, currentValue in key is equal to this strange int?", "body": "<p>Thanks <strong>Selva TS</strong>!</p>\n\n<p>This strange int is actually a temporary ID coded in Entity Framework. Since my ID is auto incremented in my DB, it isn't a problem for me.</p>\n\n<p>They even have test for that so it isn't a bug, it's a feature :D </p>\n\n<p><a href=\"https://github.com/aspnet/EntityFrameworkCore/search?l=C%23&amp;q=int.MinValue+%2B1001&amp;type=\" rel=\"nofollow noreferrer\">Tests</a></p>\n"}], "owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 51176913, "answer_count": 1, "score": 1, "last_activity_date": 1530717912, "creation_date": 1530716692, "last_edit_date": 1530717912, "question_id": 51176618, "link": "https://stackoverflow.com/questions/51176618/why-when-creating-new-row-in-db-currentvalue-in-key-is-equal-to-this-strange-i", "title": "Why, when creating new row in DB, currentValue in key is equal to this strange int?", "body": "<p>I've found this weird error.</p>\n\n<p>I have my logging system which logs all changes in database.\nI'm using this to get keys of edited or added values. Short explain:</p>\n\n<pre><code>var changes = ChangeTracker.Entries()\n    .Where(p =&gt; p.State == EntityState.Modified || p.State == EntityState.Added).ToList();\n\nforeach (var change in changes) {\n    ...\n    var primaryKeys = change.Properties.Where(key =&gt; key.Metadata.IsPrimaryKey())\n        .ToDictionary(key =&gt; key.Metadata.Name,\n           key =&gt; key.CurrentValue.ToString());;\n    ...\n}\n</code></pre>\n\n<p>And when some row is added and key is <strong>int</strong>, <code>key.CurrentValue</code> is always equal to <code>-2147482647</code>.\nIt's strange because <strong>int</strong> minimal is <code>-2147483648</code> so diffrence is <code>1001</code>.</p>\n\n<p>Once again:</p>\n\n<p>key.CurrentValue: -214748<strong>2</strong>64<strong>7</strong></p>\n\n<p>Int minimal: -214748<strong>3</strong>64<strong>8</strong></p>\n\n<p>Do you have any ideas why this is happening?</p>\n"}, {"tags": ["c#", "jar", "process.start"], "comments": [{"owner": {"reputation": 3924, "user_id": 6722100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f1c741df6363ff4fe3e32eee854821c3?s=128&d=identicon&r=PG&f=1", "display_name": "achAmh&#225;in", "link": "https://stackoverflow.com/users/6722100/achamh%c3%a1in"}, "edited": false, "score": 2, "creation_date": 1530716518, "post_id": 51176550, "comment_id": 89335768, "body": "Why did you tag java?"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 2, "creation_date": 1530716711, "post_id": 51176550, "comment_id": 89335876, "body": "<code>Process.Start(&quot;java -jar C:\\\\Myjarfile.jar&quot;)</code>?"}, {"owner": {"reputation": 1, "user_id": 10032869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/981e79637d3b38f1e361b881ae0a21fe?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Johnson", "link": "https://stackoverflow.com/users/10032869/billy-johnson"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1530716829, "post_id": 51176550, "comment_id": 89335934, "body": "@GenoChen still says file cannot be found"}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1530716923, "post_id": 51176550, "comment_id": 89335992, "body": "Is the file located in that location? Spelled correctly? Capitalized correctly? Is it accessible?"}, {"owner": {"reputation": 1, "user_id": 10032869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/981e79637d3b38f1e361b881ae0a21fe?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Johnson", "link": "https://stackoverflow.com/users/10032869/billy-johnson"}, "reply_to_user": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1530717043, "post_id": 51176550, "comment_id": 89336059, "body": "@HovercraftFullOfEels yes"}, {"owner": {"reputation": 1779, "user_id": 5830773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e221616c08bf912559eccb219b5b89?s=128&d=identicon&r=PG&f=1", "display_name": "M. Schena", "link": "https://stackoverflow.com/users/5830773/m-schena"}, "edited": false, "score": 0, "creation_date": 1530717238, "post_id": 51176550, "comment_id": 89336172, "body": "either java is not installed and / or your file isn&#39;t at the location you try to call it from"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1530718102, "post_id": 51176550, "comment_id": 89336623, "body": "Do you have permission problem at C:\\ Root directory ?"}, {"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 1, "creation_date": 1530721080, "post_id": 51176550, "comment_id": 89337991, "body": "Can you run the file from the command line?"}], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 6730162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa308a83d635f7ed20b5af3106ac7b64?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Brohl", "link": "https://stackoverflow.com/users/6730162/tobias-brohl"}, "is_accepted": false, "score": -1, "last_activity_date": 1530721633, "creation_date": 1530721633, "answer_id": 51177856, "question_id": 51176550, "link": "https://stackoverflow.com/questions/51176550/how-to-run-a-jar-file-in-c/51177856#51177856", "title": "How to run a .jar file in c#", "body": "<p>Java .jar files are not executeable for themself. Instead you have to run the JRE with the arguments <code>-jar &lt;PathToYourJar&gt;</code>. Under <strong>most</strong> systems the JRE can be started with the <code>java</code> command. So you need to write <code>Process.Start(\"java -jar &lt;PathToYourJar&gt;\")</code></p>\n"}], "owner": {"reputation": 1, "user_id": 10032869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/981e79637d3b38f1e361b881ae0a21fe?s=128&d=identicon&r=PG&f=1", "display_name": "Billy Johnson", "link": "https://stackoverflow.com/users/10032869/billy-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1530729254, "creation_date": 1530716475, "last_edit_date": 1530729254, "question_id": 51176550, "link": "https://stackoverflow.com/questions/51176550/how-to-run-a-jar-file-in-c", "title": "How to run a .jar file in c#", "body": "<p>How to run the file <code>C:/Myjarfile.jar</code> in C#? When I try <code>Process.Start(\"C:\\\\Myjarfile.jar\")</code>, it says:</p>\n\n<blockquote>\n<pre><code>file cannot be found\n</code></pre>\n</blockquote>\n"}, {"tags": ["c#", "amazon-web-services", "google-api", "aws-lambda", "google-authentication"], "comments": [{"owner": {"reputation": 491, "user_id": 3585193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a476a38ab9bbda5b0ea1af80e2be711?s=128&d=identicon&r=PG&f=1", "display_name": "user3585193", "link": "https://stackoverflow.com/users/3585193/user3585193"}, "edited": false, "score": 1, "creation_date": 1582290445, "post_id": 51176480, "comment_id": 106736258, "body": "Did you manage to fix this ? i am having a similar issue"}], "owner": {"reputation": 3238, "user_id": 5392786, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-938kbcyvNu0/AAAAAAAAAAI/AAAAAAAAAF0/prkDhzgAJAE/photo.jpg?sz=128", "display_name": "Andy Furniss", "link": "https://stackoverflow.com/users/5392786/andy-furniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1530721480, "creation_date": 1530716240, "last_edit_date": 1530721480, "question_id": 51176480, "link": "https://stackoverflow.com/questions/51176480/google-api-authorization-with-aws-lambda-filedatastore-not-supported", "title": "Google API Authorization with AWS Lambda - FileDataStore not supported", "body": "<p>I have created a WebAPI and published it to AWS Lambda. Within this API I am automatically sending some emails via GMail SMTP. My email code looks like this:</p>\n\n<pre><code>var secrets = new ClientSecrets\n{\n    ClientId = Environment.GetEnvironmentVariable(\"GMailClientId\"),\n    ClientSecret = Environment.GetEnvironmentVariable(\"GMailClientSecret\")\n};\n\nvar googleCredentials = await GoogleWebAuthorizationBroker.AuthorizeAsync(secrets, new[] { GmailService.Scope.MailGoogleCom }, ((MailboxAddress)message.From.First()).Address, CancellationToken.None);\nif (googleCredentials.Token.IsExpired(SystemClock.Default))\n{\n    await googleCredentials.RefreshTokenAsync(CancellationToken.None);\n}\n\nusing (var client = new SmtpClient())\n{\n    client.Connect(\"smtp.gmail.com\", 587, SecureSocketOptions.StartTls);\n\n    var oauth2 = new SaslMechanismOAuth2(googleCredentials.UserId, googleCredentials.Token.AccessToken);\n    client.Authenticate(oauth2);\n\n    await client.SendAsync(message);\n    client.Disconnect(true);\n}\n</code></pre>\n\n<p>This works perfectly fine on my local machine but when try to run it through AWS Lambda I get the following error when calling <code>GoogleWebAuthorizationBroker.AuthorizeAsync</code>:</p>\n\n<blockquote>\n  <p>Relative FileDataStore paths not supported on this platform.</p>\n</blockquote>\n\n<p><code>GoogleWebAuthorizationBroker</code> defines <code>AuthorizeAsync</code> as :</p>\n\n<pre><code>public static Task&lt;UserCredential&gt; AuthorizeAsync(ClientSecrets clientSecrets, IEnumerable&lt;string&gt; scopes, string user, CancellationToken taskCancellationToken, IDataStore dataStore = null, ICodeReceiver codeReceiver = null);\n</code></pre>\n\n<p>I am not supplying anything to the dataStore parameter so by default it is using the <code>FileDataStore</code> implementation.</p>\n\n<p>I'm guessing Lambda doesn't like this because it's trying to access the file system.</p>\n\n<p>Has anyone come across this problem before and if so do you know of a solution? I'm not sure any of the Google implementations for <code>IDataStore</code> would work?\n<a href=\"https://developers.google.com/api-client-library/dotnet/reference/1.9.2/interfaceGoogle_1_1Apis_1_1Util_1_1Store_1_1IDataStore\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/dotnet/reference/1.9.2/interfaceGoogle_1_1Apis_1_1Util_1_1Store_1_1IDataStore</a></p>\n\n<p><strong>EDIT:</strong>\nI wonder if I need to create a db implementation of IDataStore? Something like: <a href=\"https://www.codeproject.com/Articles/1088092/ADO-NET-Implementation-of-Google-API-IDataStore\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/1088092/ADO-NET-Implementation-of-Google-API-IDataStore</a>. Seems a bit odd that Google doesn't supply such an implementation though...</p>\n"}, {"tags": ["c#", "json", "visual-studio", "list"], "comments": [{"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 2, "creation_date": 1530716166, "post_id": 51176424, "comment_id": 89335601, "body": "The square brackets <code>[]</code> around the JSON indicate that it&#39;s an array. In this case deserializing to a <code>List&lt;RootObject&gt;</code> is the most common solution, so <code>var ro = JsonConvert.DeserializeObject&lt;List&lt;Rootobject&gt;&gt;(text);</code>"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1530716420, "post_id": 51176424, "comment_id": 89335717, "body": "@Equalsk More like <code>List&lt;Class1&gt;</code> but yes, fundamentally correct :)"}, {"owner": {"reputation": 1332, "user_id": 4726479, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-aaef7e6Q5Oo/AAAAAAAAAAI/AAAAAAAAAMM/yNyCVrFVFxA/photo.jpg?sz=128", "display_name": "Frauke", "link": "https://stackoverflow.com/users/4726479/frauke"}, "edited": false, "score": 0, "creation_date": 1530716466, "post_id": 51176424, "comment_id": 89335741, "body": "After deserializing the JSON once you wan&#39;t have to do any further deserialization, you&#39;ll simply be able to access everything from the initial class."}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1530716598, "post_id": 51176424, "comment_id": 89335809, "body": "@DavidG Just checking everyone else is awake, honest..."}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "edited": false, "score": 1, "creation_date": 1530719588, "post_id": 51176424, "comment_id": 89337368, "body": "Well done! This was your first question and you provided all the relevant information we needed to a help you. You&#39;d be amazed how many people don&#39;t manage that on their first try!"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530718170, "post_id": 51176601, "comment_id": 89336661, "body": "Thank you for your reply. I am still not sure about the last line &quot;var name = result.name;&quot; . Do you mind to explain me what should I write instead of &quot;name&quot; to display the data inside the console? I was trying to call the Temperature method to display the temperature, but I got the error message that &quot;Temperature&quot; is not a part of Class1"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "reply_to_user": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530719336, "post_id": 51176601, "comment_id": 89337230, "body": "@Monika That was just to demonstrate that once deserialized, you could read any properties. To get the <code>Temperature</code> it is within the <code>Data</code> class so <code>result.data.Temperature</code>. To write to the console you use the very intuitively named <code>Console.WriteLine(result.data.Temperature);</code> method. Hope that helps"}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530719790, "post_id": 51176601, "comment_id": 89337483, "body": "Ok so that&#39;s what I was trying to run. I wrote var temp = result.data.Temperature; and then Console.WriteLine(temp); but the word &quot;data&quot; was highlited with the error: &quot;List&lt;Class1&gt;&#39; does not contain a definitaiton for &#39;data&#39; and do extension method &#39;data&#39; accepting a first argument of type &#39;List&lt;Class1&gt;&#39; could be found(are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "reply_to_user": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530719921, "post_id": 51176601, "comment_id": 89337546, "body": "oooh, sorry my bad. Your list has 1 item. <code>var temp = result[0].data.Temperature;</code> @Monika"}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530720362, "post_id": 51176601, "comment_id": 89337735, "body": "Ok that make sense. So I was expecting to see as an output the current date and temperature but the only output is &quot;ConsoleApp2.Temperature&quot;. Does it mean that my class with JSON data is written incorrectly?"}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530720748, "post_id": 51176601, "comment_id": 89337863, "body": "I am sorry for lots of questions right now. I spent all day trying to fix my problem and now I really want to understand how it works, not only get the right answers."}], "tags": [], "owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "is_accepted": false, "score": 3, "last_activity_date": 1530720111, "last_edit_date": 1530720111, "creation_date": 1530716622, "answer_id": 51176601, "question_id": 51176424, "link": "https://stackoverflow.com/questions/51176424/json-list-converter-c/51176601#51176601", "title": "JSON list converter C#", "body": "<p>Your <code>RootObject</code> is wrong, and <code>Class1</code> is badly named but it is essentially the right structure to deserialize the data - however the data is an array of <code>Class1</code>'s. You can use a <code>List&lt;Class1&gt;</code> or <code>Class1[]</code> (array) - either should work:</p>\n\n<pre><code>var client = new WebClient();\nvar text = client.DownloadString(\"http://uoweb1.ncl.ac.uk/api/v1/sensor/live.json?sensor_name=sportshall_oat&amp;api_key=4dopcdjiu3wtzfl32hn94hbf5ubm3q89jbh18iaxaqdzc10nlgbebqqvxqyt3ymydi59fjnyrmuqtgtdxb1sm5msac\");\nvar result = JsonConvert.DeserializeObject&lt;List&lt;Class1&gt;&gt;(text);\n</code></pre>\n\n<p>You dont need to separately deserialize all the sub parts, eg you can do this:</p>\n\n<pre><code>var name = result[0].name;\n</code></pre>\n\n<p>(Note: your list has a single item so you need to ask the list for item with index <code>0</code>, and then whatever property you're after)</p>\n\n<p>I wont repeat the warning about your <code>Temperature</code> class, but see <a href=\"https://stackoverflow.com/a/51176650/219661\">@DavidG's answer</a></p>\n"}, {"comments": [{"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "edited": false, "score": 1, "creation_date": 1530717168, "post_id": 51176650, "comment_id": 89336127, "body": "Good call on the <code>Temperature</code> class!"}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530718023, "post_id": 51176650, "comment_id": 89336569, "body": "Thank you for your advice, I changed my classes as you suggested."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530718090, "post_id": 51176650, "comment_id": 89336616, "body": "@Monika No problem. Don&#39;t forget to vote and accept answers as you find appropriate. Oh, and nice to meet another person in Newcastle!"}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530718448, "post_id": 51176650, "comment_id": 89336786, "body": "Unfortunately I can&#39;t vote as my reputation is below the 15. Nice to meet!"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "reply_to_user": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530719385, "post_id": 51176650, "comment_id": 89337257, "body": "@Monika you can select the tick next to the answer which helped you best (I&#39;d suggest this one is the right one!). That&#39;s not voting its marking the accepted (to you) answer."}, {"owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530721977, "post_id": 51176650, "comment_id": 89338360, "body": "@DavidG I just realised that after my changing in the code I got the error &quot;Error CS1061\t&#39;Dictionary&lt;DateTime, float&gt;&#39; does not contain a definition for &#39;_20180704130500&#39; and no extension method &#39;_20180704130500&#39; accepting a first argument of type &#39;Dictionary&lt;DateTime, float&gt;&#39; could be found (are you missing a using directive or an assembly reference?)&quot; . So it is about that Data1 class which you suggested to drop. So probably that&#39;s the reason why I don&#39;t see the current date and temperature as an output."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "edited": false, "score": 0, "creation_date": 1530722207, "post_id": 51176650, "comment_id": 89338458, "body": "@Monika I&#39;ve added an example of how you would use the dictionary."}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 3, "last_activity_date": 1530722180, "last_edit_date": 1530722180, "creation_date": 1530716799, "answer_id": 51176650, "question_id": 51176424, "link": "https://stackoverflow.com/questions/51176424/json-list-converter-c/51176650#51176650", "title": "JSON list converter C#", "body": "<p>There's a couple of problems with your code. </p>\n\n<ol>\n<li><p>Since the JSON is surrounded by <code>[...]</code>, it means it's an array or items so you need to use a <code>List</code> (or similar) structure. In your case, you can drop the <code>Rootobject</code> class completely and deserialise directly to a <code>List&lt;Class1&gt;</code>. For example:</p>\n\n<pre><code>var result = JsonConvert.DeserializeObject&lt;List&lt;Class1&gt;&gt;(json);\n</code></pre></li>\n<li><p>The <code>Data1</code> class is using a date as the property name. I would suggest dropping that class completely and modify thre <code>Temperature</code> class to use a <code>Dictonary&lt;DateTime, float&gt;</code>:</p>\n\n<pre><code>public class Temperature\n{\n    public Dictionary&lt;DateTime, float&gt; data { get; set; }\n    public Meta meta { get; set; }\n}\n</code></pre>\n\n<p>And now you can cope with any <code>DateTime</code> being passed in, you would use it like this:</p>\n\n<pre><code>var data = obj[0].data.Temperature.data;\nConsole.WriteLine($\"The temperature on {data.Key} was {data.Value}\");\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1530717286, "post_id": 51176780, "comment_id": 89336202, "body": "This won&#39;t work for exactly the same reason OP has their actual problem"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "edited": false, "score": 0, "creation_date": 1530717371, "post_id": 51176780, "comment_id": 89336249, "body": "And your code still has the same problem as the original code. Look at the 2 previous answers"}], "tags": [], "owner": {"reputation": 717, "user_id": 6002830, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/d4bab42be6ba7988ad188907a814dc01?s=128&d=identicon&r=PG&f=1", "display_name": "bmvr", "link": "https://stackoverflow.com/users/6002830/bmvr"}, "is_accepted": false, "score": -2, "last_activity_date": 1530717325, "last_edit_date": 1530717325, "creation_date": 1530717249, "answer_id": 51176780, "question_id": 51176424, "link": "https://stackoverflow.com/questions/51176424/json-list-converter-c/51176780#51176780", "title": "JSON list converter C#", "body": "<p>Then you need a model. Based on your JSON it will result in something like this.</p>\n\n<pre><code>public class RootObject\n{\n    public Data data { get; set; }\n    public DateTime latest { get; set; }\n    public int sensor_height { get; set; }\n    public string type { get; set; }\n    public int base_height { get; set; }\n    public Geom geom { get; set; }\n    public string active { get; set; }\n    public string name { get; set; }\n    public Source source { get; set; }\n}\n\npublic class Data\n{\n    public Temperature Temperature { get; set; }\n    public Meta meta { get; set; }\n}\n\npublic class Geom\n{\n    public float[] coordinates { get; set; }\n    public string type { get; set; }\n}\n\npublic class Source\n{\n    Public string document { get; set; }\n    Public string fancy_name { get; set; }\n    Public string db_name { get; set; }\n    Public string third_party { get; set; }\n    Public string web_display_name { get; set; }\n}\n\npublic class Temperature \n{\n    public string data { get; set; }\n}\n\npublic class Meta\n{\n    Public string units { get; set; }\n    Public string name { get; set; }\n    Public string theme { get; set; }\n}\n</code></pre>\n\n<p>After the creation of a model you simply use this.</p>\n\n<pre><code>var result = JsonConvert.DeserializeObject&lt;RootObject&gt;(your_json_string);\n</code></pre>\n\n<p>Then you can access to the objects like this:</p>\n\n<pre><code>result.data..\nresult.latest...\n</code></pre>\n\n<p>and so on.</p>\n"}], "owner": {"reputation": 43, "user_id": 8886356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kUFs2A4dOGQ/AAAAAAAAAAI/AAAAAAAAABM/zZlhq3oeleQ/photo.jpg?sz=128", "display_name": "Monika ", "link": "https://stackoverflow.com/users/8886356/monika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 51176650, "answer_count": 3, "score": 4, "last_activity_date": 1530722180, "creation_date": 1530716036, "last_edit_date": 1530716818, "question_id": 51176424, "link": "https://stackoverflow.com/questions/51176424/json-list-converter-c", "title": "JSON list converter C#", "body": "<p>I am completely c# beginner. I am trying to convert json data in c#. I am struggling with the list. As long as I am able to convert basic methods, I have an error in that one with the list. Do you mind to give me some advice how to fix my problem?</p>\n\n<h3>Original JSON data</h3>\n\n<blockquote>\n  <p>[{\"data\": {\"Temperature\": {\"data\": {\"2018-07-04 13:05:00\": 20.9224991798401}, \"meta\": {\"units\": \"Celsius\", \"name\": \"Temperature\", \"theme\": \"Weather\"}}}, \"latest\": \"2018-07-04 13:05:00\", \"sensor_height\": -999, \"type\": \"Weather\", \"base_height\": -999, \"geom\": {\"coordinates\": [-1.62469, 54.98274], \"type\": \"Point\"}, \"active\": \"True\", \"name\": \"sportshall_oat\", \"source\": {\"document\": null, \"fancy_name\": \"BMS\", \"db_name\": \"Bms\", \"third_party\": false, \"web_display_name\": \"BMS\"}}]</p>\n</blockquote>\n\n<h3>Main class</h3>\n\n<pre><code>using Newtonsoft.Json;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApp2\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var client = new WebClient();\n\n            var text = client.DownloadString(\"http://uoweb1.ncl.ac.uk/api/v1/sensor/live.json?sensor_name=sportshall_oat&amp;api_key=4dopcdjiu3wtzfl32hn94hbf5ubm3q89jbh18iaxaqdzc10nlgbebqqvxqyt3ymydi59fjnyrmuqtgtdxb1sm5msac\");\n\n            Rootobject ro = JsonConvert.DeserializeObject&lt;Rootobject&gt;(text);\n            Console.WriteLine(\"current time = \" + ro.Property1);\n\n            Class1 c1 = JsonConvert.DeserializeObject&lt;Class1&gt;(text);\n\n            Data data = JsonConvert.DeserializeObject&lt;Data&gt;(text);\n\n            Temperature temperature = JsonConvert.DeserializeObject&lt;Temperature&gt;(text);\n            Console.WriteLine(\"data = \" + temperature.data);\n\n            Data1 d1 = JsonConvert.DeserializeObject&lt;Data1&gt;(text);\n\n            Meta meta = JsonConvert.DeserializeObject&lt;Meta&gt;(text);\n\n            Geom geom = JsonConvert.DeserializeObject&lt;Geom&gt;(text);\n\n            Source source = JsonConvert.DeserializeObject&lt;Source&gt;(text);\n\n         }\n    }\n}\n</code></pre>\n\n<h3>JSON data (generated by Visual studio)</h3>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApp2\n{\n\n    public class Rootobject\n    {\n        public Class1[] Property1 { get; set; }\n    }\n\n    public class Class1\n    {\n        public Data data { get; set; }\n        public string latest { get; set; }\n        public int sensor_height { get; set; }\n        public string type { get; set; }\n        public int base_height { get; set; }\n        public Geom geom { get; set; }\n        public string active { get; set; }\n        public string name { get; set; }\n        public Source source { get; set; }\n    }\n\n    public class Data\n    {\n        public Temperature Temperature { get; set; }\n    }\n\n    public class Temperature\n    {\n        public Data1 data { get; set; }\n        public Meta meta { get; set; }\n    }\n\n    public class Data1\n    {\n        public float _20180704130500 { get; set; }\n    }\n\n    public class Meta\n    {\n        public string units { get; set; }\n        public string name { get; set; }\n        public string theme { get; set; }\n    }\n\n    public class Geom\n    {\n        public float[] coordinates { get; set; }\n        public string type { get; set; }\n    }\n\n    public class Source\n    {\n        public object document { get; set; }\n        public string fancy_name { get; set; }\n        public string db_name { get; set; }\n        public bool third_party { get; set; }\n        public string web_display_name { get; set; }\n    }\n\n}\n</code></pre>\n\n<p>When I am trying to run my program the console is crushed. After debugging I can tell where the problem is, but I don't know how to fix it. There is the error message</p>\n\n<blockquote>\n  <p>Newtonsoft.Json.JsonSerializationException: 'Cannot deserialize the\n  current JSON array (e.g. [1,2,3]) into type 'ConsoleApp2.Rootobject'\n  because the type requires a JSON object (e.g. {\"name\":\"value\"}) to\n  deserialize correctly.</p>\n  \n  <p>To fix this error either change the JSON to a JSON object (e.g.\n  {\"name\":\"value\"}) or change the deserialized type to an array or a\n  type that implements a collection interface (e.g. ICollection, IList)\n  like List that can be deserialized from a JSON array.\n  JsonArrayAttribute can also be added to the type to force it to\n  deserialize from a JSON array.</p>\n</blockquote>\n\n<p>Thank you all in advance.</p>\n"}, {"tags": ["c#", ".net", "nservicebus", "azureservicebus", "azure-cloud-services"], "comments": [{"owner": {"reputation": 1976, "user_id": 199551, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6e6188c2fb732af29a96d2772b9e83c2?s=128&d=identicon&r=PG", "display_name": "Ramon Smits", "link": "https://stackoverflow.com/users/199551/ramon-smits"}, "edited": false, "score": 0, "creation_date": 1531298044, "post_id": 51176386, "comment_id": 89538899, "body": "Crossposted to <a href=\"https://github.com/Particular/NServiceBus/issues/5208\" rel=\"nofollow noreferrer\">github.com/Particular/NServiceBus/issues/5208</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1976, "user_id": 199551, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6e6188c2fb732af29a96d2772b9e83c2?s=128&d=identicon&r=PG", "display_name": "Ramon Smits", "link": "https://stackoverflow.com/users/199551/ramon-smits"}, "is_accepted": false, "score": 1, "last_activity_date": 1530884251, "creation_date": 1530884251, "answer_id": 51211664, "question_id": 51176386, "link": "https://stackoverflow.com/questions/51176386/azure-cloud-services-classic-microsoft-servicebus-exception-on-net-4-6-4-7-n/51211664#51211664", "title": "Azure Cloud Services (classic) Microsoft.ServiceBus exception on .NET 4.6/4.7 (not 4.5)", "body": "<p>This issue has been reported before, make sure you use the latest versions that have fixed any bugs:</p>\n\n<ul>\n<li><a href=\"https://github.com/Particular/NServiceBus.Azure/issues/157\" rel=\"nofollow noreferrer\">https://github.com/Particular/NServiceBus.Azure/issues/157</a></li>\n</ul>\n\n<p>Upgrade all your NServiceBus package to their latest minor/patch versions?</p>\n\n<p>For example, you use:</p>\n\n<ul>\n<li>NServiceBus 5.2.4, upgrade this to 5.2.26</li>\n<li>NServiceBus.Azure.Transports.WindowsAzureServiceBus 6.3.3, upgrade this to 6.4.2</li>\n<li>etc.</li>\n</ul>\n\n<p>Doing this via the nuget package manager is fairly easy!</p>\n"}], "owner": {"reputation": 265, "user_id": 284541, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2cb2c962e383ebd6c1ca2fd561664d2f?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Watson", "link": "https://stackoverflow.com/users/284541/trevor-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530884251, "creation_date": 1530715908, "question_id": 51176386, "link": "https://stackoverflow.com/questions/51176386/azure-cloud-services-classic-microsoft-servicebus-exception-on-net-4-6-4-7-n", "title": "Azure Cloud Services (classic) Microsoft.ServiceBus exception on .NET 4.6/4.7 (not 4.5)", "body": "<p>Recently we had to update our code base from .NET 4.5 to .NET 4.6.1 (or higher) so we updated to 4.7.1.  </p>\n\n<p>Our web site, and one of the services running on the Cloud Services are running successfully (after we found out how to install .NET 4.7 on the server).   However, our one service that uses Microsoft.ServiceBus to connect to an NServiceBus queue will not run outside of .NET 4.5.  </p>\n\n<p>Downgrading back to 4.5 makes everything work again.</p>\n\n<p>We are using the following packages:</p>\n\n<pre><code>&lt;package id=\"AutoMapper\" version=\"3.3.1\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"EntityFramework\" version=\"6.1.3\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"log4net\" version=\"2.0.5\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"Microsoft.Data.Edm\" version=\"5.6.2\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"Microsoft.Data.OData\" version=\"5.6.2\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"Microsoft.Data.Services.Client\" version=\"5.6.2\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"Microsoft.WindowsAzure.ConfigurationManager\" version=\"2.0.3\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"Newtonsoft.Json\" version=\"11.0.2\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus\" version=\"5.2.4\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus.Azure\" version=\"6.2.1\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus.Azure.Transports.WindowsAzureServiceBus\" version=\"6.3.3\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus.Host\" version=\"6.0.0\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus.Hosting.Azure\" version=\"6.2.4\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"NServiceBus.Log4Net\" version=\"1.0.0\" targetFramework=\"net471\" /&gt;\n&lt;package id=\"System.Spatial\" version=\"5.6.2\" targetFramework=\"net471\" /&gt;\n</code></pre>\n\n<p>\n    </p>\n\n<p>The exception we receive </p>\n\n<pre><code>Microsoft.WindowsAzure.ServiceRuntime Critical: 1 : Unhandled Exception:\nSystem.Runtime.CallbackException: Async Callback threw an exception. ---&gt; Microsoft.ServiceBus.Common.CallbackException: An AsyncCallback threw an exception. ---&gt; System.InvalidOperationException: The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\n--- End of inner exception stack trace ---\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n--- End of inner exception stack trace ---\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.OpenAsyncResult.OnEstablishConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionPoolHelper.EstablishConnectionAsyncResult.OnProcessConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.SendPreambleAsyncResult.OnUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionUpgradeHelper.InitiateUpgradeAsyncResult.OnInitiateUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.StreamSecurityUpgradeInitiatorAsyncResult.OnAuthenticateAsClient(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Net.LazyAsyncResult.Complete(IntPtr userToken)\nat System.Net.LazyAsyncResult.ProtectedInvokeCallback(Object result, IntPtr userToken)\nat System.Net.Security.SslState.FinishHandshake(Exception e, AsyncProtocolRequest asyncRequest)\nat System.Net.Security.SslState.ReadFrameCallback(AsyncProtocolRequest asyncRequest)\nat System.Net.AsyncProtocolRequest.CompleteRequest(Int32 result)\nat System.Net.FixedSizeReader.CheckCompletionBeforeNextRead(Int32 bytes)\nat System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionStream.IOAsyncResult.OnAsyncIOComplete(Object state)\nat System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(SocketAsyncEventArgs e)\nat System.Net.Sockets.SocketAsyncEventArgs.FinishOperationSuccess(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\nat System.Net.Sockets.SocketAsyncEventArgs.CompletionPortCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\nat System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)\n(998.d94): CLR exception - code e0434352 (first chance)\n(998.d94): CLR exception - code e0434352 (first chance)\nUnhandled exception occured: System.Runtime.CallbackException: Async Callback threw an exception. ---&gt; Microsoft.ServiceBus.Common.CallbackException: An AsyncCallback threw an exception. ---&gt; System.InvalidOperationException: The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\n--- End of inner exception stack trace ---\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n--- End of inner exception stack trace ---\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.OpenAsyncResult.OnEstablishConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionPoolHelper.EstablishConnectionAsyncResult.OnProcessConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.SendPreambleAsyncResult.OnUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionUpgradeHelper.InitiateUpgradeAsyncResult.OnInitiateUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.StreamSecurityUpgradeInitiatorAsyncResult.OnAuthenticateAsClient(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Net.LazyAsyncResult.Complete(IntPtr userToken)\nat System.Net.LazyAsyncResult.ProtectedInvokeCallback(Object result, IntPtr userToken)\nat System.Net.Security.SslState.FinishHandshake(Exception e, AsyncProtocolRequest asyncRequest)\nat System.Net.Security.SslState.ReadFrameCallback(AsyncProtocolRequest asyncRequest)\nat System.Net.AsyncProtocolRequest.CompleteRequest(Int32 result)\nat System.Net.FixedSizeReader.CheckCompletionBeforeNextRead(Int32 bytes)\nat System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionStream.IOAsyncResult.OnAsyncIOComplete(Object state)\nat System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(SocketAsyncEventArgs e)\nat System.Net.Sockets.SocketAsyncEventArgs.FinishOperationSuccess(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\nat System.Net.Sockets.SocketAsyncEventArgs.CompletionPortCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\nat System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)\nSystem.Transactions Critical: 0 : &lt;TraceRecord xmlns=\"http://schemas.microsoft.com/2004/10/E2ETraceEvent/TraceRecord\" Severity=\"Critical\"&gt;&lt;TraceIdentifier&gt;http://msdn.microsoft.com/TraceCodes/System/ActivityTracing/2004/07/Reliability/Exception/Unhandled&lt;/TraceIdentifier&gt;&lt;Description&gt;Unhandled exception&lt;/Description&gt;&lt;AppDomain&gt;RdRuntime&lt;/AppDomain&gt;&lt;Exception&gt;&lt;ExceptionType&gt;System.Runtime.CallbackException, System.ServiceModel.Internals, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/ExceptionType&gt;&lt;Message&gt;Async Callback threw an exception.&lt;/Message&gt;&lt;StackTrace&gt;    at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.OpenAsyncResult.OnEstablishConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionPoolHelper.EstablishConnectionAsyncResult.OnProcessConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.SendPreambleAsyncResult.OnUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionUpgradeHelper.InitiateUpgradeAsyncResult.OnInitiateUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.StreamSecurityUpgradeInitiatorAsyncResult.OnAuthenticateAsClient(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Net.LazyAsyncResult.Complete(IntPtr userToken)\nat System.Net.LazyAsyncResult.ProtectedInvokeCallback(Object result, IntPtr userToken)\nat System.Net.Security.SslState.FinishHandshake(Exception e, AsyncProtocolRequest asyncRequest)\nat System.Net.Security.SslState.ReadFrameCallback(AsyncProtocolRequest asyncRequest)\nat System.Net.AsyncProtocolRequest.CompleteRequest(Int32 result)\nat System.Net.FixedSizeReader.CheckCompletionBeforeNextRead(Int32 bytes)\nat System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionStream.IOAsyncResult.OnAsyncIOComplete(Object state)\nat System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(SocketAsyncEventArgs e)\nat System.Net.Sockets.SocketAsyncEventArgs.FinishOperationSuccess(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\nat System.Net.Sockets.SocketAsyncEventArgs.CompletionPortCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\nat System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)&lt;/StackTrace&gt;&lt;ExceptionString&gt;System.Runtime.CallbackException: Async Callback threw an exception. ---&amp;amp;gt; Microsoft.ServiceBus.Common.CallbackException: An AsyncCallback threw an exception. ---&amp;amp;gt; System.InvalidOperationException: The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\n--- End of inner exception stack trace ---\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n--- End of inner exception stack trace ---\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.Runtime.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.OpenAsyncResult.OnEstablishConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionPoolHelper.EstablishConnectionAsyncResult.OnProcessConnection(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.SendPreambleAsyncResult.OnUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionUpgradeHelper.InitiateUpgradeAsyncResult.OnInitiateUpgrade(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.StreamSecurityUpgradeInitiatorAsyncResult.OnAuthenticateAsClient(IAsyncResult result)\nat System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\nat System.Net.LazyAsyncResult.Complete(IntPtr userToken)\nat System.Net.LazyAsyncResult.ProtectedInvokeCallback(Object result, IntPtr userToken)\nat System.Net.Security.SslState.FinishHandshake(Exception e, AsyncProtocolRequest asyncRequest)\nat System.Net.Security.SslState.ReadFrameCallback(AsyncProtocolRequest asyncRequest)\nat System.Net.AsyncProtocolRequest.CompleteRequest(Int32 result)\nat System.Net.FixedSizeReader.CheckCompletionBeforeNextRead(Int32 bytes)\nat System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\nat System.ServiceModel.Channels.ConnectionStream.IOAsyncResult.OnAsyncIOComplete(Object state)\nat System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(SocketAsyncEventArgs e)\nat System.Net.Sockets.SocketAsyncEventArgs.FinishOperationSuccess(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\nat System.Net.Sockets.SocketAsyncEventArgs.CompletionPortCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\nat System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)&lt;/ExceptionString&gt;&lt;InnerException&gt;&lt;ExceptionType&gt;Microsoft.ServiceBus.Common.CallbackException, Microsoft.ServiceBus, Version=2.7.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/ExceptionType&gt;&lt;Message&gt;An AsyncCallback threw an exception.&lt;/Message&gt;&lt;StackTrace&gt;    at Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)&lt;/StackTrace&gt;&lt;ExceptionString&gt;Microsoft.ServiceBus.Common.CallbackException: An AsyncCallback threw an exception. ---&amp;amp;gt; System.InvalidOperationException: The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\n--- End of inner exception stack trace ---\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)&lt;/ExceptionString&gt;&lt;DataItems&gt;&lt;Data&gt;&lt;Key&gt;Microsoft.ServiceBus&lt;/Key&gt;&lt;Value&gt;Microsoft.ServiceBus&lt;/Value&gt;&lt;/Data&gt;&lt;/DataItems&gt;&lt;InnerException&gt;&lt;ExceptionType&gt;System.InvalidOperationException, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&lt;/ExceptionType&gt;&lt;Message&gt;The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.&lt;/Message&gt;&lt;StackTrace&gt;    at Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)&lt;/StackTrace&gt;&lt;ExceptionString&gt;System.InvalidOperationException: The IAsyncResult implementation 'Microsoft.ServiceBus.Messaging.Channels.ReconnectBindingElement+ReconnectChannelFactory`1+RequestSessionChannel+RequestAsyncResult[System.ServiceModel.Channels.IRequestSessionChannel]' tried to complete a single operation multiple times. This could be caused by an incorrect application of IAsyncResult implementation or other extensibility code, such as an IAsyncResult that returns incorrect CompletedSynchronously values, or invokes the AsyncCallback multiple times.\nat Microsoft.ServiceBus.Common.AsyncResult.Complete(Boolean didCompleteSynchronously, Exception e)\nat Microsoft.ServiceBus.Common.AsyncResult.AsyncCompletionWrapperCallback(IAsyncResult result)\nat Microsoft.ServiceBus.Common.AsyncResult.TryComplete(Boolean didCompleteSynchronously, Exception exception)\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "dependency-injection", "unity-container", "strategy-pattern"], "owner": {"reputation": 1105, "user_id": 4412610, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/de9ba9338d342841ada0d83532f52bd1?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/4412610/maxime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1530715733, "creation_date": 1530715733, "question_id": 51176332, "link": "https://stackoverflow.com/questions/51176332/injecting-an-array-using-unity", "title": "Injecting an array using Unity", "body": "<p>I am using the Strategy Pattern, and injecting the dependencies using Unity.</p>\n\n<p>I have a strategy interface and implementation:</p>\n\n<pre><code> public interface IStrategy\n\n public class Strategy: IStrategy\n    {\n        private readonly IFactory[] factories;\n        public Strategy(IFactory[] factories)\n        {\n            this.factories = factories ?? throw new ArgumentNullException(\"factories\");\n        }\n    }\n</code></pre>\n\n<p>And some factories, interface and implementation:</p>\n\n<pre><code>public interface IFactory\n\npublic class Factory: IFactory\n</code></pre>\n\n<p>I am trying to inject the dependencies using Unity.</p>\n\n<p>I have carefully read a topic that describes a situation close to this one (<a href=\"https://stackoverflow.com/questions/8186017/injecting-arrays-with-unity\">Injecting arrays with Unity</a>), and implemented the solution described:</p>\n\n<pre><code>container.RegisterType&lt;IFactory,Factory&gt;(\"FactoryA\");\n\ncontainer.RegisterType&lt;IStrategy, Strategy&gt;();\n\ncontainer.Resolve&lt;Strategy&gt;();\n</code></pre>\n\n<p>However, during the composition, the <code>factories[]</code> array passed to the <code>Strategy</code> constructor is always an empty array.</p>\n\n<p>I thought I has well understood how this worked, as the question linked has a detailled answer, but I am obviously mistaken.</p>\n\n<p>Could you help shed some light on this?</p>\n"}]