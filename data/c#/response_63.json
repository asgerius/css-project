[{"tags": ["c#", "unity3d", "mono", "monodevelop"], "comments": [{"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1458778512, "post_id": 36190845, "comment_id": 60017000, "body": "do you have to actually download the annoying ios or android systems for that?"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 2468172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938ac0f331625659d1b47575bdf31288?s=128&d=identicon&r=PG", "display_name": "Totoroto", "link": "https://stackoverflow.com/users/2468172/totoroto"}, "is_accepted": true, "score": 0, "last_activity_date": 1458777168, "creation_date": 1458777168, "answer_id": 36190920, "question_id": 36190845, "link": "https://stackoverflow.com/questions/36190845/unity-3d-is-not-loading-new-references-from-monodevelop/36190920#36190920", "title": "Unity 3D is not loading new references from MonoDevelop", "body": "<p>I've faced this problem. Actually i've seen few solutions, but they helped me for only few launches of Unity.\nHere is the links:</p>\n\n<p>1) <a href=\"http://forum.unity3d.com/threads/unityengine-ui-dll-is-in-timestamps-but-is-not-known-in-assetdatabase.274492/#post-2015083\" rel=\"nofollow\">http://forum.unity3d.com/threads/unityengine-ui-dll-is-in-timestamps-but-is-not-known-in-assetdatabase.274492/#post-2015083</a> (post by j.robichaud)</p>\n\n<p>2) <a href=\"http://answers.unity3d.com/questions/847994/unityeditorui-reference-missing.html\" rel=\"nofollow\">http://answers.unity3d.com/questions/847994/unityeditorui-reference-missing.html</a></p>\n\n<p>I hope any of it will help you.\nIn my case only reinstall was the cure. :)</p>\n"}], "owner": {"reputation": 9545, "user_id": 3294396, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jprFh.png?s=128&g=1", "display_name": "MrMins", "link": "https://stackoverflow.com/users/3294396/mrmins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "accepted_answer_id": 36190920, "answer_count": 1, "score": 1, "last_activity_date": 1458777168, "creation_date": 1458776773, "question_id": 36190845, "link": "https://stackoverflow.com/questions/36190845/unity-3d-is-not-loading-new-references-from-monodevelop", "title": "Unity 3D is not loading new references from MonoDevelop", "body": "<p>I'm trying to create a new variable with:</p>\n\n<p><code>public Text customText;</code></p>\n\n<p>To use the type <code>Text</code>, I need to include:</p>\n\n<pre><code>using UnityEngine;\nusing UnityEngine.UI;\n</code></pre>\n\n<p>But this reference doesn't exist in my list of references on MonoDevelop.\nI download it manually and added the reference manually; now I can use the <code>Text</code> type and import the <code>UnityEngine.UI</code>.</p>\n\n<p>Well, here is the issue. When I compile my solution, on MonoDevelop I get this error:</p>\n\n<p><code>Error: The compiler appears to have crashed. Check the build output pad for details. (Assembly-CSharp)</code>.</p>\n\n<p>But on Unity3D I get the error:</p>\n\n<pre><code>Assets/UI/Scripts/HudController.cs(2,19): error CS0234: The type or namespace name `UI' does not exist in the namespace `UnityEngine'. Are you missing an assembly reference?\n</code></pre>\n\n<p>The dll <code>UnityEngine</code> is by default in the list of references, but not the <code>UnityEngine.UI</code>.</p>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "visual-studio-2012", "windows-phone-8.1"], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 1995188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fcf4f1b9cda07f9e06e25758e1ba86?s=128&d=identicon&r=PG", "display_name": "jeremyr", "link": "https://stackoverflow.com/users/1995188/jeremyr"}, "is_accepted": true, "score": 4, "last_activity_date": 1505514214, "last_edit_date": 1505514214, "creation_date": 1458864409, "answer_id": 36212075, "question_id": 36190788, "link": "https://stackoverflow.com/questions/36190788/failed-to-add-reference-user-canceled-out-of-save-dialog-ole-e-prompsavecancel/36212075#36212075", "title": "Failed to add reference. User canceled out of save dialog (OLE_E_PROMPSAVECANCELLED)", "body": "<p>Well, it turns out that this error message was actually completely useless in what the issue actually was.</p>\n\n<p>The issue was caused by a version mismatch between the PCL and Windows Phone project. I finally realized that VS 2012 only lets you target Windows Phone 8.0 \nfor phone apps, and not 8.1, and I was selecting Windows Phone 8.1 as one of the target frameworks in my PCL. In order to allow me to add a solution reference to the PCL, I had to add \"Windows Phone Silverlight 8.0\" as one of the target frameworks. Now it works fine.</p>\n\n<p>I have no idea why <em>that</em> error message is the one that I was receiving, but hopefully this can help someone else out if they run into it.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14882288, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZppbenJBRHk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnPZp2iyUFZ54n3fX3ij717PzZHmg/s96-c/photo.jpg?sz=128", "display_name": "Bijin Palakkal", "link": "https://stackoverflow.com/users/14882288/bijin-palakkal"}, "is_accepted": false, "score": 2, "last_activity_date": 1615957106, "last_edit_date": 1615957106, "creation_date": 1615954029, "answer_id": 66666857, "question_id": 36190788, "link": "https://stackoverflow.com/questions/36190788/failed-to-add-reference-user-canceled-out-of-save-dialog-ole-e-prompsavecancel/66666857#66666857", "title": "Failed to add reference. User canceled out of save dialog (OLE_E_PROMPSAVECANCELLED)", "body": "<p>Please make sure your project file is not locked.\nYou can check it by trying to edit the project file (.csproj file). If this file is locked, you cannot add the dependencies.</p>\n<p><a href=\"https://i.stack.imgur.com/g1ErQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1ErQ.jpg\" alt=\"Edit project file context menu location\" /></a></p>\n<p>Tell the person who locked the file to check in or undo the project file and then try to add the dependency</p>\n"}], "owner": {"reputation": 176, "user_id": 1995188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fcf4f1b9cda07f9e06e25758e1ba86?s=128&d=identicon&r=PG", "display_name": "jeremyr", "link": "https://stackoverflow.com/users/1995188/jeremyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3105, "favorite_count": 0, "accepted_answer_id": 36212075, "answer_count": 2, "score": 4, "last_activity_date": 1615957106, "creation_date": 1458776484, "last_edit_date": 1458863854, "question_id": 36190788, "link": "https://stackoverflow.com/questions/36190788/failed-to-add-reference-user-canceled-out-of-save-dialog-ole-e-prompsavecancel", "title": "Failed to add reference. User canceled out of save dialog (OLE_E_PROMPSAVECANCELLED)", "body": "<p>I cannot add a <em>solution</em> reference to a portable class library to my Windows Phone 8.0 apps in Visual Studio 2012. When I try to add it by browsing to the .DLL, then it works. I receive this error when I try:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Wofs2.png\" alt=\"Failed to add reference\"></p>\n\n<p>I am able to add a reference to the portable class library in my web service project, so the library itself appears to be OK.</p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>Restarting Visual Studio.</li>\n<li>Restarting Windows  </li>\n<li>Creating a new Windows Phone project </li>\n<li>Creating a new portable class library</li>\n<li>Repairing the Windows Phone 8 SDK</li>\n<li>Repairing Visual Studio 2012</li>\n</ul>\n\n<p>Regardless of what combination of those things I have tried, attempting to add a solution reference to a portable class library in a Windows Phone project gives me that error. </p>\n"}, {"tags": ["c#", "json", "serialization", "types", "json.net"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776368, "post_id": 36190750, "comment_id": 60016398, "body": "please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 127, "user_id": 4000392, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100000131895045/picture?type=large", "display_name": "Glenn Cooper", "link": "https://stackoverflow.com/users/4000392/glenn-cooper"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776426, "post_id": 36190750, "comment_id": 60016412, "body": "Only id is being serialized"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776453, "post_id": 36190750, "comment_id": 60016423, "body": "where is the <code>rpc</code> coming from?"}, {"owner": {"reputation": 127, "user_id": 4000392, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100000131895045/picture?type=large", "display_name": "Glenn Cooper", "link": "https://stackoverflow.com/users/4000392/glenn-cooper"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776539, "post_id": 36190750, "comment_id": 60016448, "body": "It&#39;s a feed from Betfair, it comes that way"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776575, "post_id": 36190750, "comment_id": 60016464, "body": "the objects don&#39;t match - you have a wrapping jsonrpc object you have to account for."}, {"owner": {"reputation": 127, "user_id": 4000392, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100000131895045/picture?type=large", "display_name": "Glenn Cooper", "link": "https://stackoverflow.com/users/4000392/glenn-cooper"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1458776688, "post_id": 36190750, "comment_id": 60016495, "body": "Again, very new to JSON, first time I&#39;ve used it in practice.... Would the first serialization call deal with the jsonrpc, then it would serialize the sub properties? How do I got about this?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1458793457, "post_id": 36190750, "comment_id": 60020759, "body": "Your type <code>EventListing</code> does not correspond to the root JSON object.  Upload your json to <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp.com</a>, it will generate c# classes for automatically."}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 4000392, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100000131895045/picture?type=large", "display_name": "Glenn Cooper", "link": "https://stackoverflow.com/users/4000392/glenn-cooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1458812746, "creation_date": 1458812746, "answer_id": 36197150, "question_id": 36190750, "link": "https://stackoverflow.com/questions/36190750/json-doesnt-serialize-correctly/36197150#36197150", "title": "JSON doesn&#39;t serialize correctly", "body": "<p>Fixed, I had to create another class, EventResult, which collects the top level data before going deeper into the JSON</p>\n\n<pre><code>    public class EventResult\n    {\n    [JsonProperty(PropertyName = \"event\")]\n    public Event Event { get; set; }\n\n    [JsonProperty(PropertyName = \"marketCount\")]\n    public int MarketCount { get; set; }\n    }\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 4000392, "user_type": "registered", "accept_rate": 32, "profile_image": "https://graph.facebook.com/100000131895045/picture?type=large", "display_name": "Glenn Cooper", "link": "https://stackoverflow.com/users/4000392/glenn-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1458812746, "creation_date": 1458776286, "last_edit_date": 1458776496, "question_id": 36190750, "link": "https://stackoverflow.com/questions/36190750/json-doesnt-serialize-correctly", "title": "JSON doesn&#39;t serialize correctly", "body": "<p>I'm extremely new to JSON, but trying to get the following to work but only ID serializes, I suspect I need to nest deeper into the string somehow:</p>\n\n<p>String :</p>\n\n<pre><code>{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"result\\\":[{\\\"event\\\":{\\\"id\\\":\\\"27727330\\\",\\\"name\\\":\\\"Germany U21 v Faroe Islands U21\\\",\\\"countryCode\\\":\\\"DE\\\",\\\"timezone\\\":\\\"Europe/London\\\",\\\"openDate\\\":\\\"2016-03-24T19:00:00.000Z\\\"},\\\"marketCount\\\":24}],\\\"id\\\":1}\n</code></pre>\n\n<p>{\"jsonrpc\":\"2.0\",\"result\":[{\"event\":{\"id\":\"27727330\",\"name\":\"Germany U21 v Faroe Islands U21\",\"countryCode\":\"DE\",\"timezone\":\"Europe/London\",\"openDate\":\"2016-03-24T19:00:00.000Z\"},\"marketCount\":24}],\"id\":1}</p>\n\n<p>Class Type:</p>\n\n<pre><code>public class EventListing\n    {\n\n    [JsonProperty(PropertyName = \"id\")]\n    public string id { get; set; }\n\n    [JsonProperty(PropertyName = \"name\")]\n    public string name { get; set; }\n\n    [JsonProperty(PropertyName = \"countryCode\")]\n    public string countryCode { get; set; }\n\n    [JsonProperty(PropertyName = \"timezone\")]\n    public string timezone { get; set; }\n\n    [JsonProperty(PropertyName = \"marketCount\")]\n    public string marketCount { get; set; }\n\n    [JsonProperty(PropertyName = \"openDate\")]\n    public DateTime? openDate { get; set; }\n}\n</code></pre>\n\n<p>Code in question:</p>\n\n<pre><code>EventListing Test = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;EventListing&gt;(theStringAbove);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "swagger", "custom-attributes", "swashbuckle"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 2590107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099f7a99eb4c538d52854750b0655b42?s=128&d=identicon&r=PG", "display_name": "Para Jaco", "link": "https://stackoverflow.com/users/2590107/para-jaco"}, "edited": false, "score": 2, "creation_date": 1466764035, "post_id": 36205198, "comment_id": 63465002, "body": "This approach will not work if you have the same route with different verbs, but only want to disable some. Ie having GET /transcations and POST /transactions, both are removed when only 1 action method is decorated with the custom attribute. You would need to also take the http method into consideration."}, {"owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "reply_to_user": {"reputation": 181, "user_id": 2590107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099f7a99eb4c538d52854750b0655b42?s=128&d=identicon&r=PG", "display_name": "Para Jaco", "link": "https://stackoverflow.com/users/2590107/para-jaco"}, "edited": false, "score": 0, "creation_date": 1466784652, "post_id": 36205198, "comment_id": 63477440, "body": "@ParaJaco that&#39;s a great point. It probably wouldn&#39;t be too difficult to extend it to take the HTTP verbs into account."}, {"owner": {"reputation": 689, "user_id": 344189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61c3354582097dada777961deeabc1f?s=128&d=identicon&r=PG", "display_name": "Rbacarin", "link": "https://stackoverflow.com/users/344189/rbacarin"}, "edited": false, "score": 0, "creation_date": 1481652850, "post_id": 36205198, "comment_id": 69459673, "body": "Could I decorate the whole controller ?"}, {"owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "edited": false, "score": 0, "creation_date": 1481697954, "post_id": 36205198, "comment_id": 69476068, "body": "Good question. I&#39;m not 100% sure as I have not tried it. Feel free to give it a try and let me know. If it doesn&#39;t work maybe I can see what would need to be done to extend it to be able to support controller attribute decoration."}], "tags": [], "owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "is_accepted": true, "score": 6, "last_activity_date": 1459956193, "last_edit_date": 1459956193, "creation_date": 1458836845, "answer_id": 36205198, "question_id": 36190624, "link": "https://stackoverflow.com/questions/36190624/remove-a-route-with-ioperationfilter-in-swashbuckle/36205198#36205198", "title": "Remove a route with IOperationFilter in SwashBuckle", "body": "<p>Someone had posted an answer earlier and said they'd post code once they got a chance. They have deleted their answer for some reason but it got me to a better solution. </p>\n\n<p>Rather than using <code>IOperationFilter</code> to tag the route and then <code>IDocumentFilter</code> to remove the route later you can just use <code>IDocumentFilter</code> to find the custom attribute and remove it in one fell swoop. The code is below:</p>\n\n<pre><code>public class HideTaggedOperationsFilter : IDocumentFilter\n{\n    private List&lt;string&gt; TagsToHide;\n\n    public HideTaggedOperationsFilter()\n    {\n        TagsToHide = ConfigurationManager.AppSettings[\"TagsToHide\"].Split(',').ToList();\n    }\n\n    public void Apply(SwaggerDocument swaggerDoc, SchemaRegistry schemaRegistry, IApiExplorer apiExplorer)\n    {\n        if (_tagsToHide == null) return;\n\n        foreach (var apiDescription in apiExplorer.ApiDescriptions)\n        {\n            var tags = apiDescription.ActionDescriptor\n                .GetCustomAttributes&lt;SwaggerTagAttribute&gt;()\n                .Select(t =&gt; t.Tags)\n                .FirstOrDefault();\n\n            if (tags == null || !_tagsToHide.Intersect(tags).Any())\n                continue;\n\n            var route = \"/\" + apiDescription.Route.RouteTemplate.TrimEnd('/');\n            swaggerDoc.paths.Remove(route);\n        }\n    }\n}\n\npublic class SwaggerTagAttribute : Attribute\n{\n    public string[] Tags { get; }\n\n    public SwaggerTagAttribute(params string[] tags)\n    {\n        this.Tags = tags;\n    }\n}\n</code></pre>\n\n<p>Register the <code>IDocumentFilter</code>:</p>\n\n<pre><code>GlobalConfiguration.Configuration.EnableSwagger(c =&gt;\n{\n    ...\n    c.DocumentFilter&lt;HideTaggedOperationsFilter&gt;();\n});\n</code></pre>\n\n<p>Then just decorate a route like so:</p>\n\n<pre><code> [SwaggerTag(\"MobileOnly\")]\n public IHttpActionResult SendTest(Guid userId)\n {\n    return OK();\n }\n</code></pre>\n\n<p><code>Edit:</code> There are some issue posts on the GitHub page for SwashBuckle that recommend setting each of the HTTP verbs to null on the <code>swaggerDoc.path</code> in <code>Apply</code>. I found this to break a lot of auto code generators like AutoRest so I am simply removing the path as a whole. (It looks more succinct too)</p>\n"}], "owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8774, "favorite_count": 1, "accepted_answer_id": 36205198, "answer_count": 1, "score": 9, "last_activity_date": 1476770713, "creation_date": 1458775647, "question_id": 36190624, "link": "https://stackoverflow.com/questions/36190624/remove-a-route-with-ioperationfilter-in-swashbuckle", "title": "Remove a route with IOperationFilter in SwashBuckle", "body": "<p>I am looking for a way to show/hide WebAPI routes in the Swagger documentation using SwashBuckle in a configurable way. Adding <code>[ApiExplorerSettings(IgnoreApi = true)]</code> will indeed hide the routes but I'd need to recompile every time I want that to change. </p>\n\n<p>I have looked into creating an <code>IOperationFilter</code> to work with a custom Attribute that I defined. That way I can decorate the routes with a <code>[SwaggerTag(\"MobileOnly\")]</code> and check the web.config or something to see if the route should be shown. The Attribute is defined as such:</p>\n\n<pre><code>public class SwaggerTagAttribute : Attribute\n{\n    public string[] Tags { get; private set; }\n\n    public SwaggerTagAttribute(params string[] tags)\n    {\n        this.Tags = tags;\n    }\n}\n</code></pre>\n\n<p>The <code>IOperationFilter</code> that detects the attribute is defined and the <code>IDocumentFilter</code> that removes the path is defined here: </p>\n\n<pre><code>public class RemoveTaggedOperationsFilter : IOperationFilter, IDocumentFilter\n{\n    private List&lt;string&gt; TagsToHide;\n\n    public RemoveTaggedOperationsFilter()\n    {\n        TagsToHide = ConfigurationManager.AppSettings[\"TagsToHide\"].Split(',').ToList();\n    }\n\n    public void Apply(Operation operation, SchemaRegistry schemaRegistry, ApiDescription apiDescription)\n    {\n        var tags = apiDescription.ActionDescriptor\n            .GetCustomAttributes&lt;SwaggerTagAttribute&gt;()\n            .Select(t =&gt; t.Tags)\n            .FirstOrDefault();\n\n        if (tags != null &amp;&amp; TagsToHide.Intersect(tags).Any())\n        {\n            operation.tags = new List&lt;string&gt; {\"Remove Me \"};\n        }\n    }\n\n    public void Apply(SwaggerDocument swaggerDoc, SchemaRegistry schemaRegistry, IApiExplorer apiExplorer)\n    {\n        foreach (var value in swaggerDoc.paths.Values)\n        {\n            if (value.post != null &amp;&amp; value.post.tags.Contains(\"Remove Me\"))\n                value.post = null;\n\n            if (value.get != null &amp;&amp; value.get.tags.Contains(\"Remove Me\"))\n                value.get = null;\n\n            if (value.put != null &amp;&amp; value.put.tags.Contains(\"Remove Me\"))\n                value.put = null;\n\n            if (value.delete != null &amp;&amp; value.delete.tags.Contains(\"Remove Me\"))\n                value.delete = null;\n        }\n    }\n}\n</code></pre>\n\n<p>And registered as such:</p>\n\n<pre><code> GlobalConfiguration.Configuration\n            .EnableSwagger(c =&gt;\n                {\n                    c.OperationFilter&lt;RemoveTaggedOperationsFilter&gt;();\n                    c.DocumentFilter&lt;RemoveTaggedOperationsFilter&gt;();\n                });\n</code></pre>\n\n<p>I feel that this is inefficient and hacky to tag something for removal later when I have access to it earlier. Is there any way that I just remove the route from the within <code>IOperationFilter.Apply</code> rather than wait for the <code>IDocumentFilter</code> and scan through it?</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1458776039, "post_id": 36190610, "comment_id": 60016297, "body": "You could do a cross join and put the on conditions in the where clause.  The DB should be smart enough to use the same query execution plan as a join."}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1458776548, "post_id": 36190610, "comment_id": 60016449, "body": "If you can replicate this behaviour in EF, then look on profiler and find out what query is generated by EF."}], "answers": [{"tags": [], "owner": {"reputation": 1429, "user_id": 4507394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e389bea9cee09eec2cef1f58b5ac580?s=128&d=identicon&r=PG&f=1", "display_name": "esiprogrammer", "link": "https://stackoverflow.com/users/4507394/esiprogrammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1458776536, "creation_date": 1458776536, "answer_id": 36190798, "question_id": 36190610, "link": "https://stackoverflow.com/questions/36190610/join-a-table-using-on-multiple-columns-using-a-or-syntax/36190798#36190798", "title": "Join a table using on multiple columns using a OR syntax", "body": "<p>I used <code>Union</code></p>\n\n<pre><code>var firstJoin=from tbl in TableA\n    join c in TableB\n        on c.OriginPhoneNumber Equals tbl.Id\n\nvar secondJoin=from tbl in TableA\n    join c in TableB\n        on c.DestinationPhoneNumber Equals tbl.Id\n\nvar result=firstJoin.Union(secondJoin)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": true, "score": 4, "last_activity_date": 1458776553, "creation_date": 1458776553, "answer_id": 36190801, "question_id": 36190610, "link": "https://stackoverflow.com/questions/36190610/join-a-table-using-on-multiple-columns-using-a-or-syntax/36190801#36190801", "title": "Join a table using on multiple columns using a OR syntax", "body": "<p>Just do a cross join with a where clause</p>\n\n<pre><code>var results = from a in db.TableA\n              from b in db.TableB\n              where a.OriginPhonenumber == b.Id \n                    || a.DestinationPhoneNumber == b.Id\n              select new { A = a, B = b };\n</code></pre>\n\n<p>It's doubtful that an or in a join condition would be more efficient than this, but it's likely that either would result in the same execution plan.  Performance aside it will give the same results.</p>\n"}], "owner": {"reputation": 9368, "user_id": 883141, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/37da1c10295c1fdc155e3f61e6e1fcd3?s=128&d=identicon&r=PG", "display_name": "John Mitchell", "link": "https://stackoverflow.com/users/883141/john-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "closed_date": 1458802586, "accepted_answer_id": 36190801, "answer_count": 2, "score": 3, "last_activity_date": 1458776553, "creation_date": 1458775584, "question_id": 36190610, "link": "https://stackoverflow.com/questions/36190610/join-a-table-using-on-multiple-columns-using-a-or-syntax", "closed_reason": "Duplicate", "title": "Join a table using on multiple columns using a OR syntax", "body": "<p>So what I'm trying to do is :- </p>\n\n<pre><code>SELECT * FROM TableA\nJOIN TableB ON TableA.OriginPhoneNumber=TableB.Id OR TableA.DestinationPhoneNumber=TableB.Id\n</code></pre>\n\n<p>Rather strange query I know! But I'm trying to replicate this in EntityFramework/Linq - looking at all the samples I can see a pretty easy way to do it when the join is using an AND (using anonymous types) but does the same result exist for a OR join? </p>\n"}, {"tags": ["c#", "swagger", "swagger-ui", "swashbuckle"], "comments": [{"owner": {"reputation": 5456, "user_id": 502395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GesJX.jpg?s=128&g=1", "display_name": "venerik", "link": "https://stackoverflow.com/users/502395/venerik"}, "edited": false, "score": 0, "creation_date": 1458845361, "post_id": 36190592, "comment_id": 60049035, "body": "What is url of your SwaggerUI? What does happen when you navigate to that url? Do you get an error message? Did you inspect the HTTP messages using a tool like <code>Fiddler</code>?"}, {"owner": {"reputation": 327, "user_id": 1436150, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cd4b1d4a92b6d18e32a1835b558132cd?s=128&d=identicon&r=PG", "display_name": "Mark Ruse", "link": "https://stackoverflow.com/users/1436150/mark-ruse"}, "reply_to_user": {"reputation": 5456, "user_id": 502395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GesJX.jpg?s=128&g=1", "display_name": "venerik", "link": "https://stackoverflow.com/users/502395/venerik"}, "edited": false, "score": 0, "creation_date": 1458850080, "post_id": 36190592, "comment_id": 60051625, "body": "404 both for this and also going direct for the v1 doc - I will leave this open for a bit in case it helps collate info for others, but I ended up reverting and applying  my changes again"}, {"owner": {"reputation": 960, "user_id": 2872338, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bcce6f027e20552ba257254495b82b0d?s=128&d=identicon&r=PG&f=1", "display_name": "bsayegh", "link": "https://stackoverflow.com/users/2872338/bsayegh"}, "edited": false, "score": 0, "creation_date": 1459433027, "post_id": 36190592, "comment_id": 60293309, "body": "Did you ever figure this out?"}, {"owner": {"reputation": 327, "user_id": 1436150, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cd4b1d4a92b6d18e32a1835b558132cd?s=128&d=identicon&r=PG", "display_name": "Mark Ruse", "link": "https://stackoverflow.com/users/1436150/mark-ruse"}, "edited": false, "score": 0, "creation_date": 1459445581, "post_id": 36190592, "comment_id": 60301990, "body": "Unfortunately not - reverting to a working version and applying my changes was the only solution I could find. Do you have the same issue?"}], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 3216611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4822d264e0d09542e9bb3f17c36b62ec?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano Santos", "link": "https://stackoverflow.com/users/3216611/luciano-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1497280903, "creation_date": 1497280903, "answer_id": 44503077, "question_id": 36190592, "link": "https://stackoverflow.com/questions/36190592/swagger-doc-stopped-generating-using-swashbuckle/44503077#44503077", "title": "Swagger doc stopped generating using swashbuckle", "body": "<p>I know it's an old question, but something similar happened to me and might happen to somebody else. The csproj has the \"Build > XML doc file\" config set. Swagger stopped generating the right docs because this option got unchecked, I might have disabled it accidentally. Checking it again and setting the value used in Swashbuckle config did the trick!</p>\n"}], "owner": {"reputation": 327, "user_id": 1436150, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cd4b1d4a92b6d18e32a1835b558132cd?s=128&d=identicon&r=PG", "display_name": "Mark Ruse", "link": "https://stackoverflow.com/users/1436150/mark-ruse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497280903, "creation_date": 1458775511, "last_edit_date": 1458845391, "question_id": 36190592, "link": "https://stackoverflow.com/questions/36190592/swagger-doc-stopped-generating-using-swashbuckle", "title": "Swagger doc stopped generating using swashbuckle", "body": "<p>I have been developing a WebApi2 REST API with swagger docs (using swashbuckle) for a while now however in my local sandbox version I cannot get to the SwaggerUI, nor the swagger xml via a GET request.  I have compared swagger setup between my code versions and there has not been any code changes in this area.  I have uninstalled swashbuckle and IISExpress without any effect.  I am running out of ideas and I would appreciate some advice on next steps to try and debug the swagger generation / or find out if there is any logging I can switch on the help diagnose further.</p>\n\n<p>Apologies for posting such a general problem, but I am at a loss after looking at this for about 5 hours now.</p>\n\n<p>Thanks</p>\n\n<p>Mark</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 3330, "user_id": 5684370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/17e28adec94010c4a5b5a21af7b15745?s=128&d=identicon&r=PG", "display_name": "ganchito55", "link": "https://stackoverflow.com/users/5684370/ganchito55"}, "edited": false, "score": 1, "creation_date": 1458778398, "post_id": 36190574, "comment_id": 60016971, "body": "Maybe you can use an Observable Collection as ItemSource in the grid so you can get the changes in the two windows without refresh."}, {"owner": {"reputation": 21, "user_id": 5529590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTtVZ.jpg?s=128&g=1", "display_name": "pyathalon", "link": "https://stackoverflow.com/users/5529590/pyathalon"}, "reply_to_user": {"reputation": 3330, "user_id": 5684370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/17e28adec94010c4a5b5a21af7b15745?s=128&d=identicon&r=PG", "display_name": "ganchito55", "link": "https://stackoverflow.com/users/5684370/ganchito55"}, "edited": false, "score": 0, "creation_date": 1458778662, "post_id": 36190574, "comment_id": 60017027, "body": "I&#39;ve seen a lot of posts about people creating Datagrids in this way, but do you know if I can bind buttons to a data grid. That&#39;s really the reason I didn&#39;t pursue using that in the beginning."}, {"owner": {"reputation": 3330, "user_id": 5684370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/17e28adec94010c4a5b5a21af7b15745?s=128&d=identicon&r=PG", "display_name": "ganchito55", "link": "https://stackoverflow.com/users/5684370/ganchito55"}, "edited": false, "score": 0, "creation_date": 1458778882, "post_id": 36190574, "comment_id": 60017071, "body": "You can put a button inside a datagrid with custom template, you can also use an event like SourceChanged, you raise that event in the second window and you catch it in the first window and refresh the data."}, {"owner": {"reputation": 21, "user_id": 5529590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTtVZ.jpg?s=128&g=1", "display_name": "pyathalon", "link": "https://stackoverflow.com/users/5529590/pyathalon"}, "reply_to_user": {"reputation": 3330, "user_id": 5684370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/17e28adec94010c4a5b5a21af7b15745?s=128&d=identicon&r=PG", "display_name": "ganchito55", "link": "https://stackoverflow.com/users/5684370/ganchito55"}, "edited": false, "score": 0, "creation_date": 1458779045, "post_id": 36190574, "comment_id": 60017106, "body": "I think that&#39;s what I may do. I keep forgetting that with wpf, you can click on almost anything that you know the position of with all the mouse events they have available. I probably don&#39;t even need buttons to do the types of things I&#39;m looking for.  So much time wasted..."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1458795451, "post_id": 36190574, "comment_id": 60021226, "body": "@pyathalon: You pretty much <i>never</i> need to create any UI elements in code in WPF. If you do, you are probably doing it wrong. Regarding buttons, <a href=\"http://stackoverflow.com/a/5930121/546730\">here&#39;s how one binds them</a>. And as noted by gachito55, you can use a <code>DataGridTemplateColumn</code> to create a template with a button in a <code>DataGrid</code>."}], "owner": {"reputation": 21, "user_id": 5529590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTtVZ.jpg?s=128&g=1", "display_name": "pyathalon", "link": "https://stackoverflow.com/users/5529590/pyathalon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458775388, "creation_date": 1458775388, "question_id": 36190574, "link": "https://stackoverflow.com/questions/36190574/update-user-interface-grid-programmatically-wpf", "title": "Update User Interface grid programmatically wpf", "body": "<p>I have a WPF window with a grid (named SimOrder_grd) that is built into my MainWindow that is filled with buttons inside my MainWindow_Loaded event as follows:</p>\n\n<pre><code>public partial class MainWindow: Window\n{\n   List&lt;DirectiveObjects&gt; SimOrders = new List&lt;DirectiveObjects&gt;();\n    SqlConnection admin_connect = ... (removed for post)\n    public MainWindow()\n    {\n        InitializeComponenent();\n        Loaded += MainWindow_Loaded;\n    }\n    private void MainWindow_Loaded(object sender, RoutedEventArgs e)\n    {\n        admin_connect.Open();\n        string sim_sqlString = \"SELECT * FROM dbo.SimOrder;\";\n//get all sim orders from database\n        using (SqlCommand so_cmd = new SqlCommand(sim_sqlString,admin_connect))\n        {\n            SqlDataReader so_rd = so_cmd.ExecuteReader();\n            while (so_rd.Read())\n            {\n                 SimOrders.Add(new DirectiveObjects \n                       {\n                           id= Convert.ToInt16(so_rd[\"Id\"]),\n                           title = so_rd[\"Title\"].ToString(),\n                       });\n             }\n         }\n         admin_connect.Close();\n         int topmargin = 0; int rownum = 0;\n         foreach(DirectiveObjects dir in SimOrders)\n         {\n             //generate button\n             Button dir_btn = new Button();\n             dir_btn.Content = dir.title; dir_btn.Width = SimOrder_grd.Width;\n             dir_bt.Height = 20;\n             dir_btn.Margin = new Thickness(0, topmargin, 0,0);\n             dir_btn.Name = dir.title + \"_btn\";\n             dir_btn.Click += dir_btn_Click;\n             SimOrder_grd.Children.Add(dir_btn); topmargin += 25; rownum++;\n          }\n        }\n</code></pre>\n\n<p>This all works as expected, and I get a nice button inside of my grid that I can click on; dir_btn_click event works fine. However, I've created a button where users can add there own \"SimOrder\" to the grid menu. It is called AddSimO and the button click works below:</p>\n\n<pre><code>private void AddSimO_btn_Click(object sender, RoutedEventArgs e)\n{\n    string DBName = \"dbo.SimOrder\"; string GridName = \"SimOrder_grd\";\n    var CreateNewDialog = new FrAdministration.SimAdd(DBName, GridName);\n    CreateNewDialog.Show();\n }\n</code></pre>\n\n<p>This opens a new window that the user can type in a new title for a sim order, it get's saved to the database like so. \nFrom SimAdd.xaml.cs;</p>\n\n<pre><code>public partial class SimAdd: Window\n{\n    public SimAdd(string db, string grid)\n    {\n        InitializeComponent();\n    }\n    private void Cancel_btn_Click(object sender, RoutedEventArgs e)\n    {\n        this.Close(); //cancel button closes the window.\n    }\n    private void saveSim_btn_Click(object sender, RoutedEventArgs e)\n    {\n        if (String.IsNullOrEmpty(SimName_txt.Text){MessageBox.Show(\"Please enter a title\");}\n        else\n        {\n            SqlConnection Si_connect = new ...(removed again)\n            Si_connect.Open();\n            string add_sqlString = \"INSERT INTO dbo.SimOrder (Title) VALUES (@title);\";\n            using (SqlCommand add_cmd = new SqlCommand(add_sqlString, SimConnect))\n            {\n                add_cmd.Parameters.Add(\"@title\", SqlDbType.NvarChar).Value = SimName_txt.Text;\n                add_cmd.ExecuteNonQuery();\n             }\n             Si_connect.Close();\n             this.Close();\n             MainWindow mwindow = new FrAdministration.MainWindow();\n             mwindow.Sim_update();\n        }\n    }\n}\n</code></pre>\n\n<p>This works as well as I can see my database update. The next piece is where my question lies. </p>\n\n<p>How can I get my grid to update with the new button for the new entry I've created in my database. Here is what I've tried:</p>\n\n<p>1.) I tried to recreate my button list inside of the Sim_update method called in the SimAdd window.</p>\n\n<pre><code>public void Sim_update()\n{\n    admin_connect.Open();\n    SimOrder_grd.Children.Clear(); SimOrders.Clear();\n    this.UpdateLayout();//saw this on Stack Overflow and thought I'd try.\n        string sim_sqlString = \"SELECT * FROM dbo.SimOrder;\";\n//get all sim orders from database\n        using (SqlCommand so_cmd = new SqlCommand(sim_sqlString,admin_connect))\n        {\n            SqlDataReader so_rd = so_cmd.ExecuteReader();\n            while (so_rd.Read())\n            {\n                 SimOrders.Add(new DirectiveObjects \n                       {\n                           id= Convert.ToInt16(so_rd[\"Id\"]),\n                           title = so_rd[\"Title\"].ToString(),\n                       });\n             }\n         }\n         admin_connect.Close();\n         int topmargin = 0; int rownum = 0;\n         foreach(DirectiveObjects dir in SimOrders)\n         {\n             //generate button\n             Button dir_btn = new Button();\n             dir_btn.Content = dir.title; dir_btn.Width = SimOrder_grd.Width;\n             dir_bt.Height = 20;\n             dir_btn.Margin = new Thickness(0, topmargin, 0,0);\n             dir_btn.Name = dir.title + \"_btn\";\n             dir_btn.Click += dir_btn_Click;\n             SimOrder_grd.Children.Add(dir_btn); topmargin += 25; rownum++;\n          }\n        }\n</code></pre>\n\n<p>I understand this is the same information that was in MainWindow_Loaded event, but this wouldn't work.</p>\n\n<p>2.) I tried adding this.UpdateLayout(); and this.InvalidateVisual() after my foreach loop and after my grid clearing, but that didn't seem to help. I also tried SimOrder_grd.UpdateLayout(); and SimOrder_grd.InvalidateVisual();.</p>\n\n<p>3.) I created a button to refresh my page called Refresh. This works to refresh my grid when I manually click the button.</p>\n\n<pre><code>private void Refresh_Click(object sender, RoutedEventArgs e)\n{\n    admin_connect.Open();\n    SimOrder_grd.Children.Clear(); SimOrders.Clear();\n    this.UpdateLayout();\n    string sim_sqlString = \"SELECT * FROM dbo.SimOrder;\";\n//get all sim orders from database\n        using (SqlCommand so_cmd = new SqlCommand(sim_sqlString,admin_connect))\n        {\n            SqlDataReader so_rd = so_cmd.ExecuteReader();\n            while (so_rd.Read())\n            {\n                 SimOrders.Add(new DirectiveObjects \n                       {\n                           id= Convert.ToInt16(so_rd[\"Id\"]),\n                           title = so_rd[\"Title\"].ToString(),\n                       });\n             }\n         }\n         admin_connect.Close();\n         int topmargin = 0; int rownum = 0;\n         foreach(DirectiveObjects dir in SimOrders)\n         {\n             //generate button\n             Button dir_btn = new Button();\n             dir_btn.Content = dir.title; dir_btn.Width = SimOrder_grd.Width;\n             dir_bt.Height = 20;\n             dir_btn.Margin = new Thickness(0, topmargin, 0,0);\n             dir_btn.Name = dir.title + \"_btn\";\n             dir_btn.Click += dir_btn_Click;\n             SimOrder_grd.Children.Add(dir_btn); topmargin += 25; rownum++;\n          }\n        }\n</code></pre>\n\n<p>I don't want the users to have to click another button to see their changes, so I tried to automate the button in the following ways (all inside of Sim_update from the 4th code quote block). </p>\n\n<p>4.)\n    ButtonAutomationPeer peer = new ButtonAutomationPeer(Refresh);\n    IInvokeProvider invoker = peer.GetPattern(PatternInterface.Invoke) as IInvokeProvider;\n    invoker.Invoke();</p>\n\n<p>5.)\n    Refresh.RaiseEvent(new RoutedEventArgs(Button.ClickEvent));</p>\n\n<p>6.) \n    Refresh.Click(this,null);</p>\n\n<p>Both of these will run the Refresh_Click event, but neither updates the grid like manually pressing the Refresh button. </p>\n\n<p>Lastly I tried the following inside Sim_update(): \n7.)                    </p>\n\n<pre><code>this.Dispatcher.BeginInvoke(new Action() =&gt; this.SimOrder_grd.UpdateLayout()), null);\n</code></pre>\n\n<p>and 8.)\n    Action EmptyDelegate = delegate(){};\n    SimOrder_grd.Dispatcher.Invoke(DispatcherPriority.Render, EmptyDelegate);</p>\n\n<p>I am all out of ideas, and I would really like to know functionally why everything I'm trying is not working. </p>\n\n<p>Is it because I'm coming from a second window and running method without activating the main window?</p>\n\n<p>Is it because ButtonAutomationPeer does not update the UI the same as manually clicking the button?</p>\n\n<p>Thank you all,</p>\n"}, {"tags": ["c#", "wcf", "quartz-scheduler", "webhttpbinding", "http-status-code-504"], "comments": [{"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 1, "creation_date": 1458776668, "post_id": 36190490, "comment_id": 60016486, "body": "Why not set it up as a one-way call from the client and then have the client periodically query the service to get a status."}, {"owner": {"reputation": 307, "user_id": 2680527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2qzhq.jpg?s=128&g=1", "display_name": "Bo Hu", "link": "https://stackoverflow.com/users/2680527/bo-hu"}, "reply_to_user": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1458785055, "post_id": 36190490, "comment_id": 60018730, "body": "@Tim, yes in client app, I use Task.Run() to implement a fire &amp; forget API call, just when I test the WCF in Chrome&#39;s Postman, it gives a 504 error. I&#39;like to ensure the process in WCF is still running after 504 is returned."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 2680527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2qzhq.jpg?s=128&g=1", "display_name": "Bo Hu", "link": "https://stackoverflow.com/users/2680527/bo-hu"}, "edited": false, "score": 0, "creation_date": 1458785096, "post_id": 36190742, "comment_id": 60018740, "body": "In client app, I use Task.Run() to implement a fire &amp; forget API call, log the job status as running, and have ajax checking the completion every x seconds, just when I test the WCF in Chrome&#39;s Postman, it gives a 504 error. I&#39;like to ensure the process in WCF is still running after 504 is returned to the client side"}, {"owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "reply_to_user": {"reputation": 307, "user_id": 2680527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2qzhq.jpg?s=128&g=1", "display_name": "Bo Hu", "link": "https://stackoverflow.com/users/2680527/bo-hu"}, "edited": false, "score": 0, "creation_date": 1458840272, "post_id": 36190742, "comment_id": 60045829, "body": "You need to expose a way to check on a different endpoint whether completion is done or not. Holding the WCF connection open as you are will lead to these kinds of errors. If you were communicating in some way it could be made to work but just waiting tens of minutes will be difficult as that is a long time to have a connection open with no data transmitting."}, {"owner": {"reputation": 307, "user_id": 2680527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2qzhq.jpg?s=128&g=1", "display_name": "Bo Hu", "link": "https://stackoverflow.com/users/2680527/bo-hu"}, "edited": false, "score": 0, "creation_date": 1459204035, "post_id": 36190742, "comment_id": 60171435, "body": "that is exactly what I am doing have different wcf checking status, my concern is the 1st task implementation wcf cannot hold connection for too long, how can I make sure it always run and complete? I don&#39;t mind a one-way call and forget the result, have the status wcf checking later on."}], "tags": [], "owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "is_accepted": true, "score": 1, "last_activity_date": 1458776241, "creation_date": 1458776241, "answer_id": 36190742, "question_id": 36190490, "link": "https://stackoverflow.com/questions/36190490/long-time-running-wcf-504-gateway-timeout-error/36190742#36190742", "title": "Long time running WCF 504 GATEWAY_TIMEOUT error", "body": "<p>Have you considered providing a status page as part of your initial call and then having the user check the status page (repeatedly) to verify if the task is complete?</p>\n\n<p>This will ensure that nothing times out as the connection will be short lived.</p>\n"}], "owner": {"reputation": 307, "user_id": 2680527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2qzhq.jpg?s=128&g=1", "display_name": "Bo Hu", "link": "https://stackoverflow.com/users/2680527/bo-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "accepted_answer_id": 36190742, "answer_count": 1, "score": 3, "last_activity_date": 1458776241, "creation_date": 1458774888, "last_edit_date": 1458776123, "question_id": 36190490, "link": "https://stackoverflow.com/questions/36190490/long-time-running-wcf-504-gateway-timeout-error", "title": "Long time running WCF 504 GATEWAY_TIMEOUT error", "body": "<p>I am developing a WCF web service on webHttpBinding, client application calls this WCF webservice on demand (HTTP POST) or via scheduler windows service ( currently using Quartz.net).</p>\n\n<p>Each call will run a list of tasks that can take 10-30 minutes.  I am getting 504 Gateway_Timeout error after 1 minute. I've tried increase the limit in WCF webservice but still getting the error.</p>\n\n<pre><code>&lt;webHttpBinding&gt;\n    &lt;binding name=\"webHttpBindingWithJsonP\"  closeTimeout=\"00:30:00\" openTimeout=\"00:30:00\" receiveTimeout=\"00:30:00\" sendTimeout=\"00:30:00\" maxReceivedMessageSize=\"50000000\" maxBufferSize=\"50000000\" maxBufferPoolSize=\"50000000\" crossDomainScriptAccessEnabled=\"true\"/&gt;\n  &lt;/webHttpBinding&gt;\n\n\n &lt;httpRuntime executionTimeout=\"1800\" targetFramework=\"4.0\"/&gt;\n</code></pre>\n\n<p>Regardless of the error, task will always complete. I am not sure if WCF is still running when web request is timed out? If a task need less time, for example half minute then it returns valid result.</p>\n\n<p>I've tried trace logs with all switchvalue and use traceviewer to monitor the output, no errors were found. </p>\n\n<p>My questions is should WCF service be designed as webHttpBinding service, or should I design it as a different type?</p>\n"}, {"tags": ["c#", "powerpoint", "openxml"], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 5959973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744f55d6598be4566576a5b36c4f9a94?s=128&d=identicon&r=PG&f=1", "display_name": "Connor T", "link": "https://stackoverflow.com/users/5959973/connor-t"}, "is_accepted": true, "score": 5, "last_activity_date": 1461432921, "last_edit_date": 1461432921, "creation_date": 1458855122, "answer_id": 36210346, "question_id": 36190387, "link": "https://stackoverflow.com/questions/36190387/how-can-i-add-slide-numbers-to-a-powerpoint-presentation-using-open-xml-net-sdk/36210346#36210346", "title": "How can I add slide numbers to a powerpoint presentation using Open XML .net sdk?", "body": "<p>I found it. The key was to create a Field with the type slide number and append it to the paragraph.</p>\n"}], "owner": {"reputation": 127, "user_id": 5959973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744f55d6598be4566576a5b36c4f9a94?s=128&d=identicon&r=PG&f=1", "display_name": "Connor T", "link": "https://stackoverflow.com/users/5959973/connor-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "closed_date": 1461436158, "accepted_answer_id": 36210346, "answer_count": 1, "score": 2, "last_activity_date": 1461605233, "creation_date": 1458774322, "last_edit_date": 1461605233, "question_id": 36190387, "link": "https://stackoverflow.com/questions/36190387/how-can-i-add-slide-numbers-to-a-powerpoint-presentation-using-open-xml-net-sdk", "closed_reason": "Needs details or clarity", "title": "How can I add slide numbers to a powerpoint presentation using Open XML .net sdk?", "body": "<p>I am trying to add slide numbers to my presentation using C# and open XML. I have checked the documentation and have added the slide number shape to my presentation but when I open the presentation using PowerPoint the numbers wont appear in the textbox, it just says \"Slide Number\".</p>\n\n<p>I would like the text box to be filled with the slide number and to dynamically update when I change the slides position in the PowerPoint presentation. How can I do this?</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "data-binding", "user-controls"], "comments": [{"owner": {"reputation": 1436, "user_id": 5574010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d6918573e18d5d2848dc0d6f15945a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Danylov", "link": "https://stackoverflow.com/users/5574010/anton-danylov"}, "edited": false, "score": 0, "creation_date": 1458775457, "post_id": 36190368, "comment_id": 60016090, "body": "Your code should work at first glance. How do you assign MainWindowViewModel to the DataContext of your window, that contains control:TwoDImageControl?"}, {"owner": {"reputation": 21, "user_id": 6106688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46c6c9173690117cde0902e2b53e48d5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Jiang", "link": "https://stackoverflow.com/users/6106688/s-jiang"}, "reply_to_user": {"reputation": 1436, "user_id": 5574010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d6918573e18d5d2848dc0d6f15945a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Danylov", "link": "https://stackoverflow.com/users/5574010/anton-danylov"}, "edited": false, "score": 0, "creation_date": 1458786559, "post_id": 36190368, "comment_id": 60019130, "body": "@AntonDanylov I&#39;ve updated my post to reflect the assignment of MainWindowViewModel."}, {"owner": {"reputation": 3226, "user_id": 3690202, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/abc094c8da1912f52968ff5f335ac05d?s=128&d=identicon&r=PG&f=1", "display_name": "user3690202", "link": "https://stackoverflow.com/users/3690202/user3690202"}, "edited": false, "score": 0, "creation_date": 1458787955, "post_id": 36190368, "comment_id": 60019464, "body": "Add the diagnostics from this post <a href=\"http://stackoverflow.com/questions/337023/how-to-detect-broken-wpf-data-binding\" title=\"how to detect broken wpf data binding\">stackoverflow.com/questions/337023/&hellip;</a> to your DataContext binding and it will tell you how it is looking up the values and what the values are."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1458795985, "post_id": 36190368, "comment_id": 60021356, "body": "@S.Jiang: Looks quite correct, binding errors would help indeed."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6106688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46c6c9173690117cde0902e2b53e48d5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Jiang", "link": "https://stackoverflow.com/users/6106688/s-jiang"}, "is_accepted": true, "score": 0, "last_activity_date": 1462991824, "last_edit_date": 1462991824, "creation_date": 1462990557, "answer_id": 37170438, "question_id": 36190368, "link": "https://stackoverflow.com/questions/36190368/bind-the-datacontext-of-a-usercontrol-to-a-sub-viewmodel/37170438#37170438", "title": "Bind the DataContext of a UserControl to a sub ViewModel", "body": "<p>Thanks everyone. I've finally found it out.\nIt seems that these lines of code have some issues:</p>\n\n<pre><code>BitmapImage demoImage = new BitmapImage();\ndemoImage.UriSource = new Uri(\"2Ddemo.jpg\", UriKind.Relative);\ndemoImage.CacheOption = BitmapCacheOption.OnLoad;\n</code></pre>\n\n<p>Instead I need to wrap the BitmapImage creation around with BitmapImage.BeginInit() and BitmapImage.EndInit().</p>\n\n<p>So the working code is :</p>\n\n<pre><code>BitmapImage demoImage = new BitmapImage();\ndemoImage.BeginInit();\ndemoImage.UriSource = new Uri(\"2Ddemo.jpg\", UriKind.Relative);\ndemoImage.CacheOption = BitmapCacheOption.OnLoad;\ndemoImage.EndInit();\n</code></pre>\n\n<p>And there's nothing wrong with the binding actually!</p>\n"}], "owner": {"reputation": 21, "user_id": 6106688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46c6c9173690117cde0902e2b53e48d5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Jiang", "link": "https://stackoverflow.com/users/6106688/s-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 37170438, "answer_count": 1, "score": 2, "last_activity_date": 1462991824, "creation_date": 1458774207, "last_edit_date": 1458786674, "question_id": 36190368, "link": "https://stackoverflow.com/questions/36190368/bind-the-datacontext-of-a-usercontrol-to-a-sub-viewmodel", "title": "Bind the DataContext of a UserControl to a sub ViewModel", "body": "<p>I'm new to WPF and MVVM. Currently building a WPF application using MVVM pattern, but quickly got stuck with multiple MVVMs.</p>\n\n<p>Basically I have a MainWindow, and a UserControl on the MainWindow. It's a simple UserControl which only consists of a Image Control and a Scroll Bar. As Shown below:</p>\n\n<pre><code>&lt;UserControl x:Class=\"AutomaticContourEvaluation_WURO_WPF.Views.TwoDImageControl\"\n         xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n         xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n         xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n         xmlns:local=\"clr-namespace:AutomaticContourEvaluation_WURO_WPF.Views\"\n         mc:Ignorable=\"d\" \n         d:DesignHeight=\"300\" d:DesignWidth=\"300\"&gt;\n&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"Auto\" /&gt;\n        &lt;ColumnDefinition Width=\"Auto\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Image Grid.Column=\"0\" Source=\"{Binding Path=CurrentSlice}\" x:Name=\"sliceDisplayControl\" /&gt;\n    &lt;ScrollBar Grid.Column=\"1\" Minimum=\"0\" Maximum=\"{Binding Path=NumberOfSlices, FallbackValue=10}\" Value=\"{Binding Path=SliceIndex, Mode=TwoWay, FallbackValue=0}\" x:Name=\"sliceSelectionScrollBar\" Margin=\"0,0,0,0\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Corresponding ViewModel is designed to be:</p>\n\n<pre><code>internal class TwoDSliceViewModel : INotifyPropertyChanged\n{\n    private List&lt;BitmapImage&gt; _imageSlices;\n    private int _sliceIndex = 0;\n\n    public BitmapImage CurrentSlice { get { return _imageSlices[SliceIndex]; } }\n    public int NumberOfSlices { get { return _imageSlices.Count; } }\n    public int SliceIndex\n    {\n        get\n        {\n            return _sliceIndex;\n        }\n        set\n        {\n            if (_sliceIndex != value)\n            {\n                _sliceIndex = value;\n                NotifyPropertyChanged(\"SliceIndex\");\n                NotifyPropertyChanged(\"CurrentSlice\");\n            }\n        }\n    }\n\n    public TwoDSliceViewModel()\n    {\n        BitmapImage demoImage = new BitmapImage();\n        demoImage.UriSource = new Uri(\"2Ddemo.jpg\", UriKind.Relative);\n        demoImage.CacheOption = BitmapCacheOption.OnLoad;\n        if (_imageSlices == null)\n        {\n            _imageSlices = new List&lt;BitmapImage&gt;();\n        }\n        _imageSlices.Add(demoImage);\n    }\n\n    public TwoDSliceViewModel(List&lt;BitmapImage&gt; imageSlices)\n    {\n        _imageSlices = imageSlices;\n    }\n\n    public void updateImageSlices(List&lt;BitmapImage&gt; images)\n    {\n        _imageSlices = images;\n        _sliceIndex = 0;\n        NotifyPropertyChanged(\"CurrentSlice\");\n        NotifyPropertyChanged(\"NumberOfSlices\");\n        NotifyPropertyChanged(\"SliceIndex\");\n    }\n\n    #region INotifyPropertyChanged Methods\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public void NotifyPropertyChanged(string propertyName)\n    {\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n    #endregion\n}\n</code></pre>\n\n<p>In my MainWindowViewModel, there is an instance of the TwoDSliceViewModel:</p>\n\n<pre><code>internal class MainWindowViewModel:INotifyPropertyChanged\n{\n    ...\n    private TwoDSliceViewModel _twoDSliceViewModel = new TwoDSliceViewModel();\n    public TwoDSliceViewModel TwoDModuleViewModel { get { return _twoDSliceViewModel; } }\n    ...\n}\n</code></pre>\n\n<p>In order to get binding of the UserControl(TwoDSliceControl) work, I set up the DataContext of the UserControl in my MainWindow.xaml like below:</p>\n\n<pre><code>&lt;Window ...&gt;\n    &lt;Window.DataContext&gt;\n        &lt;viewModel:MainWindowViewModel /&gt;\n    &lt;/Window.DataContext&gt;\n    ...\n    &lt;control:TwoDImageControl x:Name=\"twoDSliceImageControl\" DataContext=\"{Binding Path=TwoDModuleViewModel}\" /&gt;\n    ...\n&lt;/Window&gt;\n</code></pre>\n\n<p>My UserControl (TwoDSliceControl) is ViewModel specific, so I choose this way instead of using Dependency Properties. But the binding failed. You could see in my code that I created some demo data upon instantiation of the TwoDSliceViewModel, but those dummy data don't show up. </p>\n\n<p>I've used breakpoints to find out that After the MainWindow is successfully initialized, the DataContext of the TwoDSliceControl is well set. But the Source property of the ImageControl in the TwoDSliceControl and the MaxValue property of the ScrollBar in the TwoDSliceControl are null.</p>\n\n<p>I have the feeling that, this line of XAML code :</p>\n\n<pre><code>&lt;control:TwoDImageControl x:Name=\"twoDSliceImageControl\" DataContext=\"{Binding Path=TwoDModuleViewModel}\" /&gt;\n</code></pre>\n\n<p>actually initialize the twoDSliceImageControl first and then set the twoDSliceImageControl.DataContext property. Upon initialization, the twoDSliceImageControl.DataContext is null, so the Binding within the twoDSliceImageControl fails. Though after initialization, the twoDSliceImageControl.DataContext is well set, bindings within the UserControl doesn't refresh, and they're still null.</p>\n\n<p>Any workaround to solve this issue? Have been stuck on it for a while, and didn't find a proper solution. Thanks guys!</p>\n"}, {"tags": ["c#", "wpf", "opencv", "3d"], "answers": [{"tags": [], "owner": {"reputation": 4401, "user_id": 22169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3b0d014289f6885227150e67b06e98?s=128&d=identicon&r=PG", "display_name": "Rhys", "link": "https://stackoverflow.com/users/22169/rhys"}, "is_accepted": false, "score": 1, "last_activity_date": 1458814654, "creation_date": 1458814654, "answer_id": 36197783, "question_id": 36190290, "link": "https://stackoverflow.com/questions/36190290/get-texture-from-images-through-3d-projection/36197783#36197783", "title": "Get texture from images through 3D projection", "body": "<p><code>Helix3d</code> <a href=\"https://github.com/helix-toolkit\" rel=\"nofollow noreferrer\">Toolkit</a> for WPF has an interesting example called \"ContourDemo\".  If you download the whole source you get a very comprehensive example app showcasing its capabilities.</p>\n\n<p>This particular example uses a number of helper methods to generate a contour mesh from a given 3D model file(<code>.3ds</code>, <code>.obj</code>, <code>.stl</code>).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z64mC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z64mC.png\" alt=\"enter image description here\"></a>\nWith some extending this could be the basis of reverse calculating the uv mapping, possibly.</p>\n\n<p>Even if there is nothing suitable to perform the core requirement (extracting the texture) it is a great toolkit for displaying your original files and any outputs you have generated generated.</p>\n"}], "owner": {"reputation": 9010, "user_id": 812034, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b646bea073b6f95ee97064322877a87a?s=128&d=identicon&r=PG", "display_name": "Earth Engine", "link": "https://stackoverflow.com/users/812034/earth-engine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458814654, "creation_date": 1458773804, "question_id": 36190290, "link": "https://stackoverflow.com/questions/36190290/get-texture-from-images-through-3d-projection", "title": "Get texture from images through 3D projection", "body": "<p>In my (limited) experiences on 3D programming, usually we set up a 3D model with materials and texture, then set up the light and camera. Finally we can get a 2D view through the camera.</p>\n\n<p>But I need to reverse this procedure: given a 2D view image, a camera setup, and a 3D model without texture, I wanted to find the texture for the model such that it results in the same 2D view. To simplify we ignore the light and materials, assuming they are even.</p>\n\n<p>Although not easy, I think I can write a program to do this. But are there any existing wheels out there so I don't have to invent it again? (C#, WPF 3D or openCV)</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1126, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1458797869, "creation_date": 1458773743, "last_edit_date": 1458797869, "question_id": 36190279, "link": "https://stackoverflow.com/questions/36190279/add-elements-to-circular-button-with-ellipse-programmatically-wpf", "title": "Add elements to circular button with ellipse programmatically wpf", "body": "<p>Please see the image my requirement is exactly this. In short I want to do something like that in image. Please help. \nSo I have Button containing an ellipse that looks like a circle. This button inturn has 6 circles inside them. My xaml is as follows. When you Click on any of the circle inside the Innerpanel i.e inner circle in my case I want to dynamically create circular ellipses These ellipses should not go beyond the outer circle. Right now i am creating ellipses but they go beyond the outer cirle without forming a circular shape. Please let me know your ideas.. </p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Button Name=\"OuterPanel\" Width=\"780\" Height=\"780\"&gt;\n        &lt;Button.Template&gt;\n            &lt;ControlTemplate TargetType=\"Button\"&gt;\n                &lt;Grid&gt;\n                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n\n                    &lt;/Ellipse&gt;\n                    &lt;StackPanel Name=\"gridOuterPanel\"&gt;&lt;/StackPanel&gt;\n                &lt;/Grid&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Button.Template&gt;\n    &lt;/Button&gt;\n\n\n    &lt;Button Name=\"InnerPanel\" Width=\"480\" Height=\"480\"&gt;\n        &lt;Button.Template&gt;\n            &lt;ControlTemplate TargetType=\"Button\"&gt;\n                &lt;Grid&gt;\n                    &lt;Ellipse Stroke=\"Black\" \n                  StrokeThickness=\"1\"&gt;\n                    &lt;/Ellipse&gt;\n\n                    &lt;Grid Name=\"Inner1\" Margin=\"34,0,0,150\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Center\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\" Click=\"Button_Click\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse  Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/bird.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner2\" Margin=\"0,0,34,150\" HorizontalAlignment=\"Right\" VerticalAlignment=\"Center\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/forest.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner3\" Margin=\"0,10,0,0\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Top\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/fruits.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner4\" Margin=\"0,0,0,10\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Bottom\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/panda.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner5\" Margin=\"34,178,0,0\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Center\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/nature.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner6\" Margin=\"0,178,34,0\" HorizontalAlignment=\"Right\" VerticalAlignment=\"Center\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/beach.jpg\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n\n                    &lt;Grid Name=\"Inner7\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\"&gt;\n                        &lt;Button Width=\"130\" Height=\"130\"&gt;\n                            &lt;Button.Template&gt;\n                                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                                    &lt;Ellipse Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n                                        &lt;Ellipse.Fill&gt;\n                                            &lt;ImageBrush ImageSource=\"Images/point.png\" Stretch=\"Fill\"&gt;&lt;/ImageBrush&gt;\n                                        &lt;/Ellipse.Fill&gt;\n                                    &lt;/Ellipse&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Button.Template&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n                &lt;/Grid&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Button.Template&gt;\n    &lt;/Button&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Here is my code behind.</p>\n\n<pre><code> private void Button_Click(object sender, RoutedEventArgs e)\n {      \n     StackPanel sp = new StackPanel();\n     sp.Name = \"First\";\n     Ellipse ep = new Ellipse()\n     {\n         Height=75,\n         Width=75,\n         Stroke=new SolidColorBrush(Colors.Black),  \n         StrokeThickness=1\n     };\n     sp.HorizontalAlignment = HorizontalAlignment.Right;\n     sp.VerticalAlignment = VerticalAlignment.Center;\n     sp.Margin = new Thickness(0, 120, 50, 0);\n     sp.Children.Add(ep);\n     gd = UIHelper.FindChild&lt;StackPanel&gt;(Application.Current.MainWindow, \"gridOuterPanel\");\n     gd.Children.Add(sp);    \n }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lULB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lULB9.png\" alt=\"Requirement\"></a></p>\n"}, {"tags": ["c#", "arrays", "json", "win-universal-app"], "comments": [{"owner": {"reputation": 13, "user_id": 6106858, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208505357779186/picture?type=large", "display_name": "Tony Nilsson", "link": "https://stackoverflow.com/users/6106858/tony-nilsson"}, "edited": false, "score": 0, "creation_date": 1458779140, "post_id": 36190238, "comment_id": 60017130, "body": "Hi again guys. Can someone make me understand   public class Rootobject {     public Trackinginformationresponse TrackingInformationResponse { get; set; } }  public class Trackinginformationresponse {     public Shipment[] shipments { get; set; }"}, {"owner": {"reputation": 2984, "user_id": 494340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/886594c70da756ace9b0a37cb4b59b47?s=128&d=identicon&r=PG&f=1", "display_name": "Gerard Sexton", "link": "https://stackoverflow.com/users/494340/gerard-sexton"}, "edited": false, "score": 0, "creation_date": 1458782263, "post_id": 36190238, "comment_id": 60017986, "body": "Please post the JSON string that you get so we can see what the input to the deserialization is."}, {"owner": {"reputation": 13, "user_id": 6106858, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208505357779186/picture?type=large", "display_name": "Tony Nilsson", "link": "https://stackoverflow.com/users/6106858/tony-nilsson"}, "reply_to_user": {"reputation": 2984, "user_id": 494340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/886594c70da756ace9b0a37cb4b59b47?s=128&d=identicon&r=PG&f=1", "display_name": "Gerard Sexton", "link": "https://stackoverflow.com/users/494340/gerard-sexton"}, "edited": false, "score": 0, "creation_date": 1458809905, "post_id": 36190238, "comment_id": 60026317, "body": "Hi, this is how the information looks like. All I would like to get out from this is the information from the consignee and the estimatedTimeOfArrival."}], "answers": [{"comments": [{"owner": {"reputation": 3925, "user_id": 1354712, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/yS95h.jpg?s=128&g=1", "display_name": "Dave Voyles", "link": "https://stackoverflow.com/users/1354712/dave-voyles"}, "edited": false, "score": 0, "creation_date": 1458779292, "post_id": 36190351, "comment_id": 60017170, "body": "Yup, Newtonsoft.JSON is the way to go"}], "tags": [], "owner": {"reputation": 78, "user_id": 6073866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ww0re.gif?s=128&g=1", "display_name": "Ken Huynh", "link": "https://stackoverflow.com/users/6073866/ken-huynh"}, "is_accepted": false, "score": 2, "last_activity_date": 1458774122, "last_edit_date": 1495539908, "creation_date": 1458774122, "answer_id": 36190351, "question_id": 36190238, "link": "https://stackoverflow.com/questions/36190238/c-looking-for-help-how-to-deserialize-this-kind-of-json/36190351#36190351", "title": "C# Looking for help how to deserialize this kind of json", "body": "<p>Here's an existing post that might help you.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4749639/deserializing-json-to-net-object-using-newtonsoft-or-linq-to-json-maybe\">Deserializing JSON to .NET object using Newtonsoft (or LINQ to JSON maybe?)</a></p>\n\n<p>Here's some info on Newtonsoft. <a href=\"http://www.newtonsoft.com/json/help/html/deserializeobject.htm\" rel=\"nofollow noreferrer\">http://www.newtonsoft.com/json/help/html/deserializeobject.htm</a></p>\n\n<p>Example of usage:</p>\n\n<pre><code>Newtonsoft.Json.JsonConvert.DeserializeObject()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2038, "user_id": 1196590, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/11eac004a4f3131439b65a8a89276ef5?s=128&d=identicon&r=PG", "display_name": "Dejo", "link": "https://stackoverflow.com/users/1196590/dejo"}, "is_accepted": false, "score": 0, "last_activity_date": 1458774681, "creation_date": 1458774681, "answer_id": 36190451, "question_id": 36190238, "link": "https://stackoverflow.com/questions/36190238/c-looking-for-help-how-to-deserialize-this-kind-of-json/36190451#36190451", "title": "C# Looking for help how to deserialize this kind of json", "body": "<p>You can try with </p>\n\n<pre><code>var jarray = JsonConvert.DeserializeObject&lt;Rootobject&gt;(date, \n  new IsoDateTimeConverter { DateTimeFormat = \"yyyy-MM-ddTHH:mm:ss\" });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6106858, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208505357779186/picture?type=large", "display_name": "Tony Nilsson", "link": "https://stackoverflow.com/users/6106858/tony-nilsson"}, "edited": false, "score": 0, "creation_date": 1458816952, "post_id": 36197646, "comment_id": 60030237, "body": "Thank you very much. I did not understand that I had to  Rootobject root = JsonConvert.DeserializeObject&lt;Rootobject&gt;(data); Shipment shipment = root.TrackingInformationResponse.shipments[0];  But it seemse to show the data now!"}, {"owner": {"reputation": 13, "user_id": 6106858, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208505357779186/picture?type=large", "display_name": "Tony Nilsson", "link": "https://stackoverflow.com/users/6106858/tony-nilsson"}, "edited": false, "score": 0, "creation_date": 1459506044, "post_id": 36197646, "comment_id": 60327453, "body": "Hi, is there any way you could explain to me how I would do if I wanted to use the item[] from the class shipment? Since it is an array I can&#39;t show it in a textbox right?"}], "tags": [], "owner": {"reputation": 2984, "user_id": 494340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/886594c70da756ace9b0a37cb4b59b47?s=128&d=identicon&r=PG&f=1", "display_name": "Gerard Sexton", "link": "https://stackoverflow.com/users/494340/gerard-sexton"}, "is_accepted": true, "score": 0, "last_activity_date": 1458814255, "creation_date": 1458814255, "answer_id": 36197646, "question_id": 36190238, "link": "https://stackoverflow.com/questions/36190238/c-looking-for-help-how-to-deserialize-this-kind-of-json/36197646#36197646", "title": "C# Looking for help how to deserialize this kind of json", "body": "<p>Like the other answers state, <code>JsonConvert.DeserializeObject&lt;&gt;()</code> is the method you need. After that, you just need to traverse the deserialized data structure.</p>\n\n<p>As to why you are getting NULL after you attempt to deserialize, NULL is returned if the deserializtion fails. Typically when the data is in a bad format or character case fails to match. But for the sample JSON you supplied, it deserilized correctly for me using your classes.</p>\n\n<pre><code>Rootobject root = JsonConvert.DeserializeObject&lt;Rootobject&gt;(data);\nif (root == null ||\n    root.TrackingInformationResponse == null ||\n    root.TrackingInformationResponse.shipments == null ||\n    root.TrackingInformationResponse.shipments.Length == 0)\n{\n    throw new Exception();\n}\nShipment shipment = root.TrackingInformationResponse.shipments[0];\n\nif (shipment.consignee == null || shipment.consignee.address == null)\n{\n    throw new Exception();\n}\n\nConsole.WriteLine(\"Consignee: {0}\", shipment.consignee);\nConsole.WriteLine(\"Estimated Time of Arrival: {0}\", shipment.estimatedTimeOfArrival);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6106858, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208505357779186/picture?type=large", "display_name": "Tony Nilsson", "link": "https://stackoverflow.com/users/6106858/tony-nilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 36197646, "answer_count": 3, "score": 1, "last_activity_date": 1458814255, "creation_date": 1458773493, "last_edit_date": 1458811689, "question_id": 36190238, "link": "https://stackoverflow.com/questions/36190238/c-looking-for-help-how-to-deserialize-this-kind-of-json", "title": "C# Looking for help how to deserialize this kind of json", "body": "<p>to start off, I am a beginner. I have been searching for something that looks something like this problem without managing to solve the problem. And now I have been stuck with this problem for a while. I am using an API from our local post delivery where we can get information such as deliverytime, address etc in a json link. But in this case the json looks a bit different and I do not know how to work with it.</p>\n\n<p>I would be really happy if someone could explain to me how I can access the data such as deliverdate and address. Right now when I try, it only shows the value is null. </p>\n\n<p>I use json.net for deserializing</p>\n\n<p>Below you can see how it looks like..</p>\n\n<pre><code>private async void button_Click(object sender, RoutedEventArgs e)\n{\n    string url = \"https://api2.postnord.com/rest/shipment/v1/trackandtrace/findByIdentifier.json?id=...\";\n\n    HttpClient client = new HttpClient(); \n    string date = await client.GetStringAsync(new Uri(url));\n    var jarray = JsonConvert.DeserializeObject&lt;Rootobject&gt;(date);\n}\n\npublic class Rootobject\n{\n    public Trackinginformationresponse TrackingInformationResponse { get; set; }\n}\n\npublic class Trackinginformationresponse\n{\n    public Shipment[] shipments { get; set; }\n}\n\npublic class Shipment\n{\n    public string shipmentId { get; set; }\n    public string uri { get; set; }\n    public int assessedNumberOfItems { get; set; }\n    public DateTime deliveryDate { get; set; }\n    public DateTime estimatedTimeOfArrival { get; set; }\n    public Service service { get; set; }\n    public Consignor consignor { get; set; }\n    public Consignee consignee { get; set; }\n    public Statustext statusText { get; set; }\n    public string status { get; set; }\n    public Totalweight totalWeight { get; set; }\n    public Totalvolume totalVolume { get; set; }\n    public Assessedweight assessedWeight { get; set; }\n    public Item[] items { get; set; }\n    public Additionalservice[] additionalServices { get; set; }\n    public object[] splitStatuses { get; set; }\n    public Shipmentreference[] shipmentReferences { get; set; }\n}\n\npublic class Service\n{\n    public string code { get; set; }\n    public string name { get; set; }\n}\n\npublic class Consignor\n{\n    public string name { get; set; }\n    public Address address { get; set; }\n}\n\npublic class Address\n{\n    public string street1 { get; set; }\n    public string city { get; set; }\n    public string countryCode { get; set; }\n    public string country { get; set; }\n    public string postCode { get; set; }\n}\n\npublic class Consignee\n{\n    public Address1 address { get; set; }\n}\n\npublic class Address1\n{\n    public string city { get; set; }\n    public string countryCode { get; set; }\n    public string country { get; set; }\n    public string postCode { get; set; }\n}\n\npublic class Statustext\n{\n    public string header { get; set; }\n    public string body { get; set; }\n}\n\npublic class Totalweight\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Totalvolume\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Assessedweight\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Item\n{\n    public string itemId { get; set; }\n    public DateTime dropOffDate { get; set; }\n    public DateTime deliveryDate { get; set; }\n    public string typeOfItemActual { get; set; }\n    public string typeOfItemActualName { get; set; }\n    public string status { get; set; }\n    public Statustext1 statusText { get; set; }\n    public Statedmeasurement statedMeasurement { get; set; }\n    public Assessedmeasurement assessedMeasurement { get; set; }\n    public Event[] events { get; set; }\n    public Reference[] references { get; set; }\n    public object[] itemRefIds { get; set; }\n    public object[] freeTexts { get; set; }\n}\n\npublic class Statustext1\n{\n    public string header { get; set; }\n    public string body { get; set; }\n}\n\npublic class Statedmeasurement\n{\n    public Weight weight { get; set; }\n    public Length length { get; set; }\n    public Height height { get; set; }\n    public Width width { get; set; }\n    public Volume volume { get; set; }\n}\n\npublic class Weight\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Length\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Height\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Width\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Volume\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Assessedmeasurement\n{\n    public Weight1 weight { get; set; }\n}\n\npublic class Weight1\n{\n    public string value { get; set; }\n    public string unit { get; set; }\n}\n\npublic class Event\n{\n    public DateTime eventTime { get; set; }\n    public string eventCode { get; set; }\n    public string status { get; set; }\n    public string eventDescription { get; set; }\n    public Location location { get; set; }\n}\n\npublic class Location\n{\n    public string displayName { get; set; }\n    public string name { get; set; }\n    public string locationId { get; set; }\n    public string countryCode { get; set; }\n    public string country { get; set; }\n    public string postcode { get; set; }\n    public string city { get; set; }\n    public string locationType { get; set; }\n}\n\npublic class Reference\n{\n    public string value { get; set; }\n    public string type { get; set; }\n    public string name { get; set; }\n}\n\npublic class Additionalservice\n{\n    public string code { get; set; }\n    public string name { get; set; }\n}\n\npublic class Shipmentreference\n{\n    public string value { get; set; }\n    public string type { get; set; }\n    public string name { get; set; }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"TrackingInformationResponse\": {\n        \"shipments\": [{\n            \"shipmentId\": \"85319760154SE\",\n            \"uri\": \"/ntt-service-rest/api/shipment/85319760154SE/0\",\n            \"assessedNumberOfItems\": 1,\n            \"deliveryDate\": \"2016-03-22T20:35:00\",\n            \"estimatedTimeOfArrival\": \"2016-03-22T13:41:00\",\n            \"service\": {\n                \"code\": \"19\",\n                \"name\": \"MyPack\"\n            },\n            \"consignor\": {\n                \"name\": \"H&amp;M\",\n                \"address\": {\n                    \"street1\": \"HULTAGATAN 47\",\n                    \"city\": \"BOR\u00c5S\",\n                    \"countryCode\": \"SWE\",\n                    \"country\": \"Sweden\",\n                    \"postCode\": \"50189\"\n                }\n            },\n            \"consignee\": {\n                \"address\": {\n                    \"city\": \"UDDEVALLA\",\n                    \"countryCode\": \"SWE\",\n                    \"country\": \"Sweden\",\n                    \"postCode\": \"45133\"\n                }\n            }\n        }]\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "treeview", "treeviewitem"], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 3192656, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8bd275e7c817cff0defaf89afa21fe33?s=128&d=identicon&r=PG&f=1", "display_name": "Cristian C.", "link": "https://stackoverflow.com/users/3192656/cristian-c"}, "edited": false, "score": 1, "creation_date": 1458779138, "post_id": 36190960, "comment_id": 60017128, "body": "thanks stranger! ive gone and done it another way, but this will do well in the future!"}], "tags": [], "owner": {"reputation": 1436, "user_id": 5574010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d6918573e18d5d2848dc0d6f15945a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Danylov", "link": "https://stackoverflow.com/users/5574010/anton-danylov"}, "is_accepted": true, "score": 1, "last_activity_date": 1458777361, "creation_date": 1458777361, "answer_id": 36190960, "question_id": 36190204, "link": "https://stackoverflow.com/questions/36190204/how-to-get-current-element-on-checkbox-in-wpf/36190960#36190960", "title": "How to get current element on checkbox in WPF", "body": "<p>I'd suggest to stick to MVVM approach and handle changes of checked state in the ViewModel of the item, but in code behind what you want could be achieved with routed events.</p>\n\n<p>In your TreeView subscribe to CheckBox.Checked routed event:</p>\n\n<pre><code>&lt;TreeView Name=\"TreeViewName\" CheckBox.Checked=\"TreeViewName_Checked\"&gt;\n</code></pre>\n\n<p>In code behind you can reach corresponding CheckBox as OriginalSource field, and access to its DataContext, that would be an instance of MyClass:</p>\n\n<pre><code>    private void TreeViewName_Checked(object sender, RoutedEventArgs e)\n    {\n        var checkBox = e.OriginalSource as CheckBox;\n\n        MyClass dataContext = checkBox?.DataContext as MyClass;\n\n        if (dataContext != null)\n        {\n            // Do something with MyClass instance\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 3192656, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8bd275e7c817cff0defaf89afa21fe33?s=128&d=identicon&r=PG&f=1", "display_name": "Cristian C.", "link": "https://stackoverflow.com/users/3192656/cristian-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "accepted_answer_id": 36190960, "answer_count": 1, "score": 0, "last_activity_date": 1458777361, "creation_date": 1458773350, "question_id": 36190204, "link": "https://stackoverflow.com/questions/36190204/how-to-get-current-element-on-checkbox-in-wpf", "title": "How to get current element on checkbox in WPF", "body": "<p>is there any way to, on \"Checked\" event fire, get the current \"MyClass\" element in the code behind given the code below:</p>\n\n<pre><code>&lt;TreeView Name=\"TreeViewName\"&gt;\n            &lt;TreeView.Resources &gt;\n                &lt;HierarchicalDataTemplate DataType=\"{x:Type local:MyClass}\" ItemsSource=\"{Binding Children}\"&gt;\n                    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                        &lt;CheckBox IsChecked=\"{Binding Checked}\" VerticalAlignment=\"Center\" Checked=\"OnExplorerCheck\" &gt;&lt;/CheckBox&gt;\n                        &lt;Image Source=\"{Binding Icon}\" Height=\"15\" Margin=\"5,0,0,0\"&gt;&lt;/Image&gt;\n                        &lt;Label Content=\"{Binding Name}\"&gt;&lt;/Label&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/HierarchicalDataTemplate&gt;\n            &lt;/TreeView.Resources&gt;\n        &lt;/TreeView&gt;\n</code></pre>\n\n<p>I'd like to be able to, upon checking a checkbox, get all of the data of the current element of the tree view. Note that \"MyClass\" can have any number of properties, and I'd like to be able to access them all. Is there any way for me to do this?</p>\n"}, {"tags": ["c#", "user-interface", "swashbuckle"], "owner": {"reputation": 197, "user_id": 2109392, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfd681c75d2b1a0f625590b27369bcb1?s=128&d=identicon&r=PG", "display_name": "Reosoul", "link": "https://stackoverflow.com/users/2109392/reosoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1458773308, "creation_date": 1458773308, "question_id": 36190190, "link": "https://stackoverflow.com/questions/36190190/swashbuckle-complex-objects", "title": "Swashbuckle Complex Objects", "body": "<p>Given an object parameter such as:</p>\n\n<pre><code>public class XYZ {\n      public List&lt;ABC&gt; listABC { get; set; }\n}\n\npublic class ABC {\n     public string A { get; set; }\n     public string B { get; set; }\n     public string C { get; set; }\n}\n</code></pre>\n\n<p>I know it is possible to get Swashbuckle to show XYZ.listABC in the UI and then to enter the list in the text box if you use [FromUri(Name=\"XYZ\")] before the parameter. </p>\n\n<p>Is there a way to expose the list object ABC in the UI instead of having a generic text box for XYZ.listABC?</p>\n"}, {"tags": ["c#", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6106831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74667215dbce0b35e4abe6b16b6a528?s=128&d=identicon&r=PG&f=1", "display_name": "PonosniBo\u0161njak", "link": "https://stackoverflow.com/users/6106831/ponosnibo%c5%a1njak"}, "edited": false, "score": 0, "creation_date": 1458784929, "post_id": 36190124, "comment_id": 60018699, "body": "Can I use this when I input numbers from keyboard, not text file?...so every time when I type number and press Enter, it goes to new line."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "reply_to_user": {"reputation": 11, "user_id": 6106831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74667215dbce0b35e4abe6b16b6a528?s=128&d=identicon&r=PG&f=1", "display_name": "PonosniBo\u0161njak", "link": "https://stackoverflow.com/users/6106831/ponosnibo%c5%a1njak"}, "edited": false, "score": 0, "creation_date": 1458817690, "post_id": 36190124, "comment_id": 60030719, "body": "I am not sure I understand the rest of your comment"}], "tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": false, "score": 3, "last_activity_date": 1458773018, "creation_date": 1458773018, "answer_id": 36190124, "question_id": 36190090, "link": "https://stackoverflow.com/questions/36190090/array-input-in-single-line/36190124#36190124", "title": "Array input in single line", "body": "<p>You can read a single line and then split it like this:</p>\n\n<pre><code>var line = Console.ReadLine();\n\nint[] numbers = line.Split(' ').Select(x =&gt; Convert.ToInt32(x)).ToArray();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 3895044, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/04f5cfc310395e48c2877e599c0d3a28?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian773", "link": "https://stackoverflow.com/users/3895044/adrian773"}, "is_accepted": false, "score": 0, "last_activity_date": 1458778906, "last_edit_date": 1458778906, "creation_date": 1458776959, "answer_id": 36190882, "question_id": 36190090, "link": "https://stackoverflow.com/questions/36190090/array-input-in-single-line/36190882#36190882", "title": "Array input in single line", "body": "<p>This reads in each character without forcing you onto a new line or making you have to hit enter for each entry. </p>\n\n<pre><code>for (int i = 0; i &lt; arr.Length; i++)\n{\n     arr[i] = Convert.ToInt32(Console.ReadKey().KeyChar);\n}\n</code></pre>\n\n<p>if you are wanting the numbers to come in as they are, instead of their ASCII index then use this instead:</p>\n\n<pre><code>for (int i = 0; i &lt; arr.Length; i++)\n{\n    arr[i] = Console.ReadKey().KeyChar - '0';\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6106831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74667215dbce0b35e4abe6b16b6a528?s=128&d=identicon&r=PG&f=1", "display_name": "PonosniBo\u0161njak", "link": "https://stackoverflow.com/users/6106831/ponosnibo%c5%a1njak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1458778906, "creation_date": 1458772878, "question_id": 36190090, "link": "https://stackoverflow.com/questions/36190090/array-input-in-single-line", "title": "Array input in single line", "body": "<p>I want to input numbers to array in a single line.\nNot like this: 1<br>\n2<br>\n3</p>\n\n<p>but like 1 2 3    </p>\n\n<pre><code>    for (int i = 0; i &lt; arr.Length; i++)\n                {\n                    arr[i] = Console.Read();\n                }\n</code></pre>\n\n<p>Help?</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "web"], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 0, "last_activity_date": 1458773490, "creation_date": 1458773490, "answer_id": 36190237, "question_id": 36190021, "link": "https://stackoverflow.com/questions/36190021/cookies-being-automatically-empty/36190237#36190237", "title": "Cookies being automatically empty", "body": "<p>You're getting Cookies from the <code>Response</code> object - which is the outgoing cookies set, not the <code>Request</code> object which is the set of cookies coming from the client.</p>\n\n<p>Change it to <code>mycomment.Text = this.Request.Cookies[\"empid\"].Value</code>.</p>\n\n<p>I also see you're forming SQL commands by using String Concatenation without any sanitation. <strong>DO NOT EVER DO THIS</strong>. Instead use parameters:</p>\n\n<pre><code>cmd.CommandText = \"SELECT * FROM comments WHERE c_from = @from AND c_to = @to\";\ncmd.Parameters.AddWithValue(\"@from\", this.Request.Cookies[\"cid\"].Value);\ncmd.Parameters.AddWithValue(\"@to\"  , this.Request.Cookies[\"empid\"].Value);\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 5744674, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/aZzxt.png?s=128&g=1", "display_name": "Naveed Khan", "link": "https://stackoverflow.com/users/5744674/naveed-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458773490, "creation_date": 1458772535, "question_id": 36190021, "link": "https://stackoverflow.com/questions/36190021/cookies-being-automatically-empty", "title": "Cookies being automatically empty", "body": "<p>I have cookies named empid which stores the id of employee i am going to use. But whenever i try to get the value of any cookie its value is set to null automatically and this code is from a partial class which is inherited by page . What if i want to create a class that contains all the database related code and want to use it in everypage</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    using (SqlConnection cn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"MyDbConn\"].ToString()))\n    {\n\n        using (SqlCommand cmd = new SqlCommand())\n        {\n            try\n            {\n\n                cn.Open();\n                SqlDataReader conReader;\n                conReader = null;\n                mycomment.Text = Response.Cookies[\"empid\"].Value;\n                // cmd.CommandText = \"Select * from comments where c_from = \" + Response.Cookies[\"cid\"] + \" and c_to = \"+ Response.Cookies[\"empid\"].ToString();\n                cmd.Connection = cn;\n                mycomment.Text = cmd.CommandText;\n                cmd.CommandType = CommandType.Text;\n                conReader = cmd.ExecuteReader();\n\n                while (conReader.Read())\n                {\n                    mycomment.Text += conReader[3].ToString();\n\n                }\n\n            }\n\n            catch (Exception ex)\n            {\n                Console.Write(ex);\n            }\n            finally\n            {\n                cn.Close();\n            }\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "append", "stringbuilder"], "comments": [{"owner": {"reputation": 5, "user_id": 5995288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daaa8986901ef336fd4c8eafa7f638b?s=128&d=identicon&r=PG&f=1", "display_name": "Aboar", "link": "https://stackoverflow.com/users/5995288/aboar"}, "reply_to_user": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "edited": false, "score": 0, "creation_date": 1458773301, "post_id": 36189992, "comment_id": 60015306, "body": "added sample output as per request. changed char to string also."}, {"owner": {"reputation": 924, "user_id": 3931261, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/728466498/picture?type=large", "display_name": "Cody Popham", "link": "https://stackoverflow.com/users/3931261/cody-popham"}, "edited": false, "score": 0, "creation_date": 1458773994, "post_id": 36189992, "comment_id": 60015564, "body": "My answer below will do that - however it will end in a &#39;,&#39; - you will want to remove the last &#39;,&#39;"}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1458774083, "post_id": 36189992, "comment_id": 60015603, "body": "you just use ToCharArray guys, can do the whole thing in one line"}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1458774448, "post_id": 36189992, "comment_id": 60015733, "body": "the key thing here is there is <i>no reason</i> to use &quot;StringBuilder&quot; here"}, {"owner": {"reputation": 924, "user_id": 3931261, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/728466498/picture?type=large", "display_name": "Cody Popham", "link": "https://stackoverflow.com/users/3931261/cody-popham"}, "edited": false, "score": 0, "creation_date": 1458774877, "post_id": 36189992, "comment_id": 60015885, "body": "He already has a Char array.. he wants to build a string"}], "answers": [{"tags": [], "owner": {"reputation": 1464, "user_id": 547639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E50wN.png?s=128&g=1", "display_name": "m1o2", "link": "https://stackoverflow.com/users/547639/m1o2"}, "is_accepted": false, "score": 0, "last_activity_date": 1458774391, "last_edit_date": 1458774391, "creation_date": 1458773027, "answer_id": 36190127, "question_id": 36189992, "link": "https://stackoverflow.com/questions/36189992/how-to-append-every-x-in-c-stringbuilder/36190127#36190127", "title": "How to append every X in c# stringbuilder", "body": "<p>You can iterate over the array of strings using a <a href=\"https://msdn.microsoft.com/en-us/library/ch45axte.aspx\" rel=\"nofollow\">for</a> loop, which provides an index.<br>\nFor each iteration, add the current String to the <code>StringBuilder</code>, in addition to a ',' in case we still didn't reach the last string in the array.<br>\nAlso, after x strings add a '/'. We can know that we reached <code>x</code> strings using the <a href=\"https://msdn.microsoft.com/en-us/library/0w4e0fzs.aspx\" rel=\"nofollow\">% (modulus)</a> operator.<br>\nNotice that I start the loop from index = 1. I do that because the modulus operator for the value 0 with any positive number will yield 0, which will add the '/' char after the first word, something that we don't necessarily want.</p>\n\n<pre><code>static void Insert(StringBuilder b, int x, string[] tobuild)\n{\n    for(var index = 1; index &lt; tobuild.Length; ++index)\n    {   \n        b.Append(tobuild[index]);\n\n        if(index != tobuild.Length -1)\n        {\n            b.Append(\",\");\n        }\n\n        if(0 == index % x)\n        {\n            b.Append(\"/\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 3931261, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/728466498/picture?type=large", "display_name": "Cody Popham", "link": "https://stackoverflow.com/users/3931261/cody-popham"}, "is_accepted": true, "score": 1, "last_activity_date": 1458773179, "last_edit_date": 1458773179, "creation_date": 1458773054, "answer_id": 36190134, "question_id": 36189992, "link": "https://stackoverflow.com/questions/36189992/how-to-append-every-x-in-c-stringbuilder/36190134#36190134", "title": "How to append every X in c# stringbuilder", "body": "<p>Use a FOR loop and then check if the character is a factor of some desired nTH character. If so add an extra '/'.</p>\n\n<pre><code>        int x = 2; // your x\n        StringBuilder builtstring = new StringBuilder();\n        for (int i = 0; i &lt; tobuild.Length; i++) \n        { \n            string item = tobuild[i];\n            builtstring.Append(item).Append(\",\");\n            if (i%x==0) { builtstring.Append(\"/\"); }\n\n        }\n        string built = builtstring.ToString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 3871072, "user_type": "registered", "profile_image": "https://graph.facebook.com/707017943/picture?type=large", "display_name": "Daniel Curtis", "link": "https://stackoverflow.com/users/3871072/daniel-curtis"}, "is_accepted": false, "score": 0, "last_activity_date": 1458773333, "creation_date": 1458773333, "answer_id": 36190197, "question_id": 36189992, "link": "https://stackoverflow.com/questions/36189992/how-to-append-every-x-in-c-stringbuilder/36190197#36190197", "title": "How to append every X in c# stringbuilder", "body": "<p>Add an if statement to evaluate the character and then act accordingly.</p>\n\n<pre><code>StringBuilder Builtstring = new StringBuilder();\nforeach(string griditem in tobuild){\nif(griditem == 'x') { Builtstring.Append(griditem).Append(@\"/\"); }\nBuiltstring.Append(griditem).Append(\",\");\n\n}\nbuilt = Builtstring.ToString();\n</code></pre>\n\n<p>Or if you actually want to count a certain number of characters before putting a slash you can do this.</p>\n\n<pre><code>int count = 10;\nint position = 0;\nStringBuilder Builtstring = new StringBuilder();\nforeach(string griditem in tobuild){\nif(position == count) { Builtstring.Append(griditem).Append(@\"/\"); position = 0; }\nelse{Builtstring.Append(griditem).Append(\",\"); position++;}}\nbuilt = Builtstring.ToString();\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5995288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daaa8986901ef336fd4c8eafa7f638b?s=128&d=identicon&r=PG&f=1", "display_name": "Aboar", "link": "https://stackoverflow.com/users/5995288/aboar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1103, "favorite_count": 0, "accepted_answer_id": 36190134, "answer_count": 3, "score": 0, "last_activity_date": 1458839011, "creation_date": 1458772424, "last_edit_date": 1458839011, "question_id": 36189992, "link": "https://stackoverflow.com/questions/36189992/how-to-append-every-x-in-c-stringbuilder", "title": "How to append every X in c# stringbuilder", "body": "<p>I'm using unity and c# and am not sure how to use stringbuilder to append a \"/\" every X characters. I have code and can build a string from a array with the code below, and add a comma after each string, but i need to add the \"/\" after every x string</p>\n\n<p>it should for example convert \"122342\" to \"1,2,2,/,3,4,2\". Currently it would convert it to \"1,2,2,3,4,2\"\nthis is the code i have already</p>\n\n<pre><code>StringBuilder Builtstring = new StringBuilder();\nforeach(string griditem in tobuild){\n\n    Builtstring.Append(griditem).Append(\",\");\n\n}\nbuilt = Builtstring.ToString();\n</code></pre>\n"}, {"tags": ["c#", "json", "datacontract"], "answers": [{"comments": [{"owner": {"reputation": 2375, "user_id": 527302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ddc01cc421e6a89a08fc873b0a7e7fd5?s=128&d=identicon&r=PG", "display_name": "Prof", "link": "https://stackoverflow.com/users/527302/prof"}, "edited": false, "score": 0, "creation_date": 1458776459, "post_id": 36190418, "comment_id": 60016431, "body": "figured it might be achieved through an attribute - turns out it is. Thanks :)"}], "tags": [], "owner": {"reputation": 2326, "user_id": 2330518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pGbqi.jpg?s=128&g=1", "display_name": "KrishnaDhungana", "link": "https://stackoverflow.com/users/2330518/krishnadhungana"}, "is_accepted": true, "score": 2, "last_activity_date": 1458774488, "creation_date": 1458774488, "answer_id": 36190418, "question_id": 36189977, "link": "https://stackoverflow.com/questions/36189977/placing-undefined-data-members-names-into-generic-dictionstring-object-when-p/36190418#36190418", "title": "Placing undefined data members names into generic Diction&lt;string, object&gt; when parsing JSON", "body": "<p>There is an attribute for this <code>[JsonExtensionData]</code>. Mark your dictionary with this attribute:</p>\n\n<pre><code>public class WebService\n{\n  public string swagger;\n  [JsonExtensionData]\n  public Dictionary&lt;string, object&gt; AllOthers;\n}\n\nvar ws = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;WebService&gt;(json);\n</code></pre>\n\n<p>I hope this helps! cheers.</p>\n"}], "owner": {"reputation": 2375, "user_id": 527302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ddc01cc421e6a89a08fc873b0a7e7fd5?s=128&d=identicon&r=PG", "display_name": "Prof", "link": "https://stackoverflow.com/users/527302/prof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 36190418, "answer_count": 1, "score": 2, "last_activity_date": 1458774488, "creation_date": 1458772360, "question_id": 36189977, "link": "https://stackoverflow.com/questions/36189977/placing-undefined-data-members-names-into-generic-dictionstring-object-when-p", "title": "Placing undefined data members names into generic Diction&lt;string, object&gt; when parsing JSON", "body": "<p>I have this JSON (actually Swagger) :</p>\n\n<pre><code>{\n  \"swagger\": \"2.0\",\n  \"info\": {\n    \"version\": \"2.0\",\n    \"name\": \"TheName\",\n    \"description\": \"No description\"\n  }\n  \"somethingElse\" : \"xyz\"\n}\n</code></pre>\n\n<p>I am using Newtonsoft.JSON. I defined my object:</p>\n\n<pre><code>public class WebService\n{\n    public string swagger;\n    public Dictionary&lt;string, object&gt; AllOthers;\n}\n</code></pre>\n\n<p>As you can see I have not defined \"info\" or \"somethingElse\" objects as members. Rather, I want this to get placed into the generic AllOthers dictionary</p>\n\n<p>When I call</p>\n\n<pre><code>var ws = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;WebService&gt;(swaggerJSON);\n</code></pre>\n\n<p>ws will now correctly contain the swagger version number string, but AllOthers will contain null. I want AllOthers to contain a entires for name and description, and the payloads to by stored in a generic object.</p>\n\n<p>How is this achieved, or can it not be easily?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-4"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 3, "creation_date": 1458772568, "post_id": 36189971, "comment_id": 60015033, "body": "<code>LabelFor()</code> does not generate a form control. Very unclear what you trying to do, but you need to set the value of <code>model.data=100;</code> in the controller before you pass the model to the view, and then in the view use <code>@Html.TextBoxFor(m =&gt; m.data)</code> (and remove your <code>ViewBag</code>)"}, {"owner": {"reputation": 6829, "user_id": 5649561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNgLZ.jpg?s=128&g=1", "display_name": "Vadim Martynov", "link": "https://stackoverflow.com/users/5649561/vadim-martynov"}, "edited": false, "score": 0, "creation_date": 1458772719, "post_id": 36189971, "comment_id": 60015100, "body": "@StephenMuecke I think it&#39;s  enough for the answer."}, {"owner": {"reputation": 12959, "user_id": 873153, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76989e85062ad137010ae537f30edcb?s=128&d=identicon&r=PG", "display_name": "COLD TOLD", "link": "https://stackoverflow.com/users/873153/cold-told"}, "edited": false, "score": 0, "creation_date": 1458772804, "post_id": 36189971, "comment_id": 60015135, "body": "You do nned to unbox the string since viewbag is already string @Html.LabelFor(model =&gt; model.data, ViewBag.id)"}], "answers": [{"tags": [], "owner": {"reputation": 6942, "user_id": 225600, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f7ef6af7822f38db2fc5deb0c4d484df?s=128&d=identicon&r=PG", "display_name": "Prescott", "link": "https://stackoverflow.com/users/225600/prescott"}, "is_accepted": false, "score": 0, "last_activity_date": 1458777090, "creation_date": 1458777090, "answer_id": 36190898, "question_id": 36189971, "link": "https://stackoverflow.com/questions/36189971/asp-net-mvc-viewbag-return-null/36190898#36190898", "title": "ASP.NET MVC ViewBag return null", "body": "<blockquote>\n  <p>Why @Html.LabelFor(model => model.data, ((string)ViewBag.id)) return in public ActionResult Index(Data item) null instead of 100</p>\n</blockquote>\n\n<p>You are never are setting the value in that method. If you want it to show in the label after that method, then you need to add <code>ViewBag.id = \"100\";</code> to the method.</p>\n\n<p>If you are trying to have that set as your default value, then you are really creating your form incorrectly. It should be a <code>&lt;%= Html.TextBoxFor(model =&gt; model.[fieldname], ViewBag.id))%&gt;</code></p>\n\n<p>This would then be posted back in your <code>Data item</code> object and be set. Note, you have to change the [fieldname]</p>\n"}], "owner": {"reputation": 3193, "user_id": 4679715, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46a44f59061d9bbed23cb478c733151d?s=128&d=identicon&r=PG&f=1", "display_name": "A191919", "link": "https://stackoverflow.com/users/4679715/a191919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1722, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458777090, "creation_date": 1458772343, "question_id": 36189971, "link": "https://stackoverflow.com/questions/36189971/asp-net-mvc-viewbag-return-null", "title": "ASP.NET MVC ViewBag return null", "body": "<p>Why <code>@Html.LabelFor(model =&gt; model.data, ((string)ViewBag.id))</code> \nreturn in <code>public ActionResult Index(Data item)</code> null instead of <code>100</code>. How to fix this?</p>\n\n<pre><code>    public ActionResult Index()\n    {\n        ViewBag.id = \"100\";\n        return View();\n    }\n\n    [HttpPost]\n    public ActionResult Index(Data item)\n    {\n        return View();\n    }\n</code></pre>\n\n<p>Index.cshtml</p>\n\n<pre><code>@model TestForm.Models.Data\n@{\n    ViewBag.Title = \"Index\";\n}\n\n&lt;h2&gt;Index&lt;/h2&gt;\n\n@using(@Html.BeginForm())\n{\n    @Html.LabelFor(model =&gt; model.data, ((string)ViewBag.id))\n    &lt;input type=\"submit\"/&gt;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "nuget", "nuget-package", "portable-class-library"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1458780436, "post_id": 36189941, "comment_id": 60017460, "body": "Check the list of targets, PCL is not on there.  You have to create a test project that targets one of those on the list."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1458782223, "post_id": 36189941, "comment_id": 60017975, "body": "Embrace .NET Platform Standard and .NET Core, <a href=\"https://blog.lextudio.com/2016/03/how-to-port-snmp-library-to-net-core/\" rel=\"nofollow noreferrer\">blog.lextudio.com/2016/03/how-to-port-snmp-library-to-net-co&zwnj;&#8203;re</a> PCL is no longer the way to go."}, {"owner": {"reputation": 7405, "user_id": 448357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2a937e2f64c4fa7c3a0baf9d1b13a52d?s=128&d=identicon&r=PG", "display_name": "Alexander Pacha", "link": "https://stackoverflow.com/users/448357/alexander-pacha"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1458857014, "post_id": 36189941, "comment_id": 60054713, "body": "@Lex I will immediately change to that new project build-system once it is officially released and clear for me how to use it. Thanks for the hint anyway."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1458869294, "post_id": 36189941, "comment_id": 60058348, "body": "@AlexanderPacha I rather say all the building blocks are ready (NuGet 3.x and .NET Core RC). If your library&#39;s dependencies are already included in RC1 or the upcoming RC2, you can use it right now, and no need to wait for RTM. #SNMP Library might have to wait further due to the missing API it needs."}], "answers": [{"tags": [], "owner": {"reputation": 15168, "user_id": 650012, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/rTDJj.png?s=128&g=1", "display_name": "Anders Gustafsson", "link": "https://stackoverflow.com/users/650012/anders-gustafsson"}, "is_accepted": true, "score": 2, "last_activity_date": 1458811927, "creation_date": 1458811927, "answer_id": 36196907, "question_id": 36189941, "link": "https://stackoverflow.com/questions/36189941/create-portable-class-library-that-targets-all-platforms-and-publishing-to-nuge/36196907#36196907", "title": "Create Portable Class Library that targets all platforms (and publishing to nuget)", "body": "<p>In the <em>Change Targets</em> dialog, you are specifying <em>.NET Framework 4.5</em>, whereas in your <em>NuGet</em> setup you are targeting <em>net4</em>. Moreover, in the <em>NuGet</em> setup you are also targeting <em>sl4</em> and <em>wp7</em>. All in all, this means that when the <em>NuGet Manager</em> tries to match the library path in your <em>NuGet</em> package with the profile of your other PCL project, it is bound to fail due to incompatibilities.</p>\n\n<p>Please take a look at <a href=\"http://embed.plnkr.co/03ck2dCtnJogBKHJ9EjY/preview\" rel=\"nofollow\">this</a> list to determine in which <em>lib</em> sub-folder you should place your <em>Staty.dll</em> PCL. (The list does not explicitly specify <em>ASP.NET Core</em> and <em>Xamarin</em> targets, they are normally implicitly accounted for.) From the list you can see that the target platforms you selected in the <em>Change Targets</em> dialog matches <strong>Profile 259</strong>, and the <em>NuGet</em> target for this profile should preferably be <strong>portable-net45+netcore45+wpa81+wp8</strong>.</p>\n\n<p>(If you open the <em>Staty.csproj</em> project file in a text editor, you can confirm that the <code>&lt;targetFrameworkProfile&gt;</code> is indeed <code>Profile259</code>.)</p>\n\n<p>Please change the <em>lib</em> sub-folder name in your <em>NuGet</em> file to <em>portable-net45+netcore45+wpa81+wp8</em>, and you should then be able to reference the <em>Staty</em> NuGet package from your other PCL project as long this other project targets the same or a sub-set of the platforms that the <em>Staty</em> NuGet package is targeting.</p>\n"}], "owner": {"reputation": 7405, "user_id": 448357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2a937e2f64c4fa7c3a0baf9d1b13a52d?s=128&d=identicon&r=PG", "display_name": "Alexander Pacha", "link": "https://stackoverflow.com/users/448357/alexander-pacha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 2, "accepted_answer_id": 36196907, "answer_count": 1, "score": 1, "last_activity_date": 1458811927, "creation_date": 1458772221, "last_edit_date": 1458773517, "question_id": 36189941, "link": "https://stackoverflow.com/questions/36189941/create-portable-class-library-that-targets-all-platforms-and-publishing-to-nuge", "title": "Create Portable Class Library that targets all platforms (and publishing to nuget)", "body": "<p>I have created the library <a href=\"https://bitbucket.org/apacha/staty\" rel=\"nofollow noreferrer\">Staty</a> that I want to publish via nuget for other developers to use.</p>\n\n<p>I explicitly created it as Portable Class Library and restricted myself to very basic programming constructs. Now I want to publish it in a way, that others can easily use my library. I've set up my library as PCL with the following targets, which seemed to me as the most permissive platform-combination:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oSw75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSw75.png\" alt=\"Targets of my PCL library\"></a></p>\n\n<p>After completing the first version, I wanted to publish it, using Nuget GUI with the following nuget profile. I included the release-build files into the package under the <code>portable-net4-sl4-wp7-win8</code> folder (I've tried <code>portable-net45-sl5-wp8-win8</code> too, without any effect)\n<a href=\"https://i.stack.imgur.com/6n6HG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6n6HG.png\" alt=\"NuGet Profile\"></a></p>\n\n<p>To verify, that my library is truly portable, I wanted to include it into another PCL-project, but unfortunately I'm only getting the following error: <em>Could not install package 'Staty 1.0.0'. You are trying to install this package into a project that targets '.NETPortable, Version=v4.5, Profile=Profile259', but the package does not contain any assembly references or content files that are compatible with that framework.</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/wIQOp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wIQOp.png\" alt=\"Error when including package\"></a></p>\n\n<p>When adding it to a regular console-application, everything works fine. It also works fine, when directly including the dll into that very same PCL-project via References -> Add Reference ... -> Browse. </p>\n\n<p>So what is wrong with the way I published the package?</p>\n\n<p>Additionally I tried adding folder <a href=\"https://stackoverflow.com/questions/34611919/how-to-package-a-portable-net-library-targeting-net-core\">dotnet</a> and <a href=\"https://stackoverflow.com/questions/34611829/how-to-package-a-net-framework-library\">net45</a> to the nuget package with the same dlls - without any success.</p>\n"}, {"tags": ["c#", "visual-studio-2015"], "comments": [{"owner": {"reputation": 4463, "user_id": 1769887, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YDowu.jpg?s=128&g=1", "display_name": "MikeDub", "link": "https://stackoverflow.com/users/1769887/mikedub"}, "edited": false, "score": 0, "creation_date": 1458772253, "post_id": 36189900, "comment_id": 60014911, "body": "Does it happen on another window / form, have you tried recreating the group box and label? Does it happen in another project?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user967176"}, "reply_to_user": {"reputation": 4463, "user_id": 1769887, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YDowu.jpg?s=128&g=1", "display_name": "MikeDub", "link": "https://stackoverflow.com/users/1769887/mikedub"}, "edited": false, "score": 0, "creation_date": 1458772759, "post_id": 36189900, "comment_id": 60015111, "body": "In the same project i have already some forms created, also i&#39;m generating some dynamic tab pages with components on it and all labels have the same behaviour on all tab pages even if they are added different. But if i add a new form to the same project, it behaves normal. On other projects of the same solution it also behaves normal. I tried to recreate the label in the same place and it is the  same issue. I don&#39;t want to recreate the group box."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user967176"}, "edited": false, "score": 0, "creation_date": 1458783666, "post_id": 36190710, "comment_id": 60018395, "body": "You are right, when i changed to No, the problem disappeared."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 4, "last_activity_date": 1458776063, "creation_date": 1458776063, "answer_id": 36190710, "question_id": 36189900, "link": "https://stackoverflow.com/questions/36189900/visual-studio-2015-label-text-strange-behaviour/36190710#36190710", "title": "Visual Studio 2015 Label Text strange behaviour", "body": "<p>This will happen when the text renderer engine is told to render text right-to-left.  Such as is appropriate in languages like Hebrew and Arabic.  It can still recognize Western glyphs and know that they need to be left-to-right.  But can't do the same for punctuation, like parentheses, they are ambiguous.</p>\n\n<p>Set the groupbox's RightToLeft property back to No.</p>\n\n<p>If it is truly necessary (i.e. the groupbox actually displays RTL text) then set the label's RightToLeft property to No.  Mixing is not a great idea, rethink localization needs.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user967176"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 36190710, "answer_count": 1, "score": 0, "last_activity_date": 1458776063, "creation_date": 1458772074, "question_id": 36189900, "link": "https://stackoverflow.com/questions/36189900/visual-studio-2015-label-text-strange-behaviour", "title": "Visual Studio 2015 Label Text strange behaviour", "body": "<p>I noticed a very strange behavior on Label Text in C# VS2015 with details from image 1:</p>\n\n<p><a href=\"https://i.stack.imgur.com/S2xeG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2xeG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is the following:\nIf i use round parentheses in Label text when the label is inside a group box then the closing brace is transformed in open brace at the begining of the text(check image: left-how looks like the label on form, right what text i have in label text property) </p>\n\n<p><a href=\"https://i.stack.imgur.com/76HK6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76HK6.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>If i delete the closing brace, then the first open brace is also deleted(next image)</p>\n\n<p><a href=\"https://i.stack.imgur.com/vfa0f.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfa0f.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>If i put the label outside of the group box then the text is shown normaly(check next image)</p>\n\n<p><a href=\"https://i.stack.imgur.com/EHBJW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EHBJW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone tell me how can i fix this, and why this occurs ?</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2015", "visual-studio-extensions", "vsix"], "comments": [{"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458772193, "post_id": 36189889, "comment_id": 60014883, "body": "You are aware you can have multiple start up projects (and thus &quot;running&quot;, whatever that means) in a solution?"}, {"owner": {"reputation": 11, "user_id": 4457958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iCqI2.jpg?s=128&g=1", "display_name": "Austin Roos", "link": "https://stackoverflow.com/users/4457958/austin-roos"}, "reply_to_user": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458797568, "post_id": 36189889, "comment_id": 60021728, "body": "Yes of course I&#39;m aware of this.  An answer for how to get the output directory of multiple running projects would work too.  I&#39;m not sure why &quot;running&quot; is unclear, if you have three Console applications waiting for input, then you have three Console applications running"}], "answers": [{"tags": [], "owner": {"reputation": 4105, "user_id": 3806634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9Sis.jpg?s=128&g=1", "display_name": "Carlos Quintero", "link": "https://stackoverflow.com/users/3806634/carlos-quintero"}, "is_accepted": false, "score": 1, "last_activity_date": 1459160097, "creation_date": 1459160097, "answer_id": 36260234, "question_id": 36189889, "link": "https://stackoverflow.com/questions/36189889/how-to-get-currently-running-project-from-visual-studio-extension/36260234#36260234", "title": "How to get currently running project from Visual Studio extension", "body": "<p>To know the output build folder of a project using automation (EnvDTE.Project), see:</p>\n\n<p><a href=\"http://www.mztools.com/articles/2009/MZ2009015.aspx\" rel=\"nofollow\">HOWTO: Get the output build folder from a Visual Studio add-in or macro</a></p>\n\n<p>To get the solution startup projects using automation see:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/envdte.solutionbuild.startupprojects.aspx\" rel=\"nofollow\">DTE.Solution.SolutionBuild.StartupProjects</a></p>\n\n<p>Native VS services are somewhat more limited in this area than automation: </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.shell.interop.ivssolutionbuildmanager.get_startupproject.aspx\" rel=\"nofollow\">IVsSolutionBuildManager.get_StartupProject</a></p>\n\n<p>The EnvDTE.Debugger object has properties to get the active process, etc:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/envdte.debugger.aspx\" rel=\"nofollow\">Debugger Interface</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4457958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iCqI2.jpg?s=128&g=1", "display_name": "Austin Roos", "link": "https://stackoverflow.com/users/4457958/austin-roos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1459160097, "creation_date": 1458772041, "question_id": 36189889, "link": "https://stackoverflow.com/questions/36189889/how-to-get-currently-running-project-from-visual-studio-extension", "title": "How to get currently running project from Visual Studio extension", "body": "<p>I am trying to create a VS extension and I need to know the currently executing project (for example, if someone is building a Xamarin.Android app and they have deployed it, I need the Xamarin.Android project).  Further, I need to know the output directory of that project (so I can get some binaries from it).  Can anyone help me with this?</p>\n\n<p>I've tried using <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.shell.interop.ivssolution.aspx\" rel=\"nofollow\">IVsSolution</a>, and <a href=\"https://msdn.microsoft.com/en-us/library/envdte80.dte2.aspx\" rel=\"nofollow\">DTE2</a> (among other related things), but haven't found anything that tells me what is currently running.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf", "windows", "event-handling", "windows-10"], "comments": [{"owner": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 0, "creation_date": 1458772391, "post_id": 36189888, "comment_id": 60014962, "body": "Is this a winforms app that you are building?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1458777024, "post_id": 36189888, "comment_id": 60016593, "body": "I shouldn&#39;t imagine Windows feels any need to notify programs that this has happened.  What event(s) does your program receive?"}, {"owner": {"reputation": 813, "user_id": 2551829, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bec64eed28f9668ead7730efadc70564?s=128&d=identicon&r=PG", "display_name": "DeadEli", "link": "https://stackoverflow.com/users/2551829/deadeli"}, "edited": false, "score": 0, "creation_date": 1458778772, "post_id": 36189888, "comment_id": 60017047, "body": "Currently it only listens for set focus and position changed"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1458785173, "post_id": 36189888, "comment_id": 60018767, "body": "I didn&#39;t ask what it was listening for.  What events does Windows send it?"}, {"owner": {"reputation": 813, "user_id": 2551829, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bec64eed28f9668ead7730efadc70564?s=128&d=identicon&r=PG", "display_name": "DeadEli", "link": "https://stackoverflow.com/users/2551829/deadeli"}, "edited": false, "score": 0, "creation_date": 1459535488, "post_id": 36189888, "comment_id": 60346217, "body": "That&#39;s what I&#39;m trying to figure out. If I knew that I should be able to make it do what I need."}], "owner": {"reputation": 813, "user_id": 2551829, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bec64eed28f9668ead7730efadc70564?s=128&d=identicon&r=PG", "display_name": "DeadEli", "link": "https://stackoverflow.com/users/2551829/deadeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1458773102, "creation_date": 1458772036, "last_edit_date": 1495535307, "question_id": 36189888, "link": "https://stackoverflow.com/questions/36189888/what-is-the-windows-event-for-showing-the-desktop", "title": "What is the Windows event for showing the desktop?", "body": "<p>I want to have some code run when the user tells Windows to show the desktop, such as when the user presses Win+D. I am having issues finding what that event is. I tried using spy++, but couldn't find what I was looking for, and the documentation for things like this seem poor or nonexistent. </p>\n\n<p>Specifically what I want to do is avoid hiding the window because I'm making a desktop overlay program, and having this as the desktop is precisely the purpose of the program. If there is an alternative to handling the Windows event to accomplish this, I would be fine with that. I saw <a href=\"https://stackoverflow.com/a/32589338/2551829\">This</a> answer, but unfortunately it doesn't work on Windows 10, which I need to support, along with 7 and 8.</p>\n"}, {"tags": ["c#", "linq", "combobox"], "comments": [{"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458772475, "post_id": 36189674, "comment_id": 60014989, "body": "Did you try debugging your code?"}, {"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "reply_to_user": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458772986, "post_id": 36189674, "comment_id": 60015191, "body": "Of course; it obviously goes through the same path twice sometimes, and once other times; why, though, is the rub."}, {"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458773460, "post_id": 36189674, "comment_id": 60015356, "body": "Try to provide the smallest possible code sample that any one can run individually (see also Jon Skeet&#39;s blog : <a href=\"http://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question</a> ). I would like to debug it, see what happens, but with the provided code, it is hard to do so..."}, {"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1458773615, "post_id": 36189674, "comment_id": 60015418, "body": "If something happens twice, it can have multiple causes. Do your list(s) have double items? Are your conditions (checks) sometimes giving a double match? If you have a reproducible scenario, you can set breakpoints and see the state of your application (data of your list(s), each variable that is being set, you can step into checks to see why it gives a match)."}], "answers": [{"tags": [], "owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "is_accepted": false, "score": 2, "last_activity_date": 1458774770, "last_edit_date": 1458774770, "creation_date": 1458774444, "answer_id": 36190411, "question_id": 36189674, "link": "https://stackoverflow.com/questions/36189674/why-does-the-mismatch-sometimes-occur-twice-before-moving-on/36190411#36190411", "title": "Why does the mismatch sometimes occur twice before moving on?", "body": "<p>Since I can't run your code, I can't be certain; but I guess that your code runs well only on the first time the form show; and that's because when the form is first shown, the selection index of the check list boxes is always <code>-1</code> (no selection set); so there will be no problem with this bloc:</p>\n\n<pre><code>studentFullname = checkListBoxRV.Text;\nassistantFullname = checkListBoxRVHH.Text;\nlistBoxMessages.Items.Add(string.Format(mismatchDiscovered, studentFullname, assistantFullname));\n</code></pre>\n\n<p>But when the code is run again, the selection index seems to have changed to <code>0</code> because of this line:</p>\n\n<pre><code>checkListBoxRVHH.SelectedIndex = 0;\n</code></pre>\n\n<p>So the <code>listBoxMessages</code> should read the first item twice, once before</p>\n\n<pre><code>if (RVHHSelectionIndex &lt; RVHHCount - 2)\n{\n//...\n</code></pre>\n\n<p>And again with the normal code execution sequence.</p>\n"}], "owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1458774770, "creation_date": 1458771026, "question_id": 36189674, "link": "https://stackoverflow.com/questions/36189674/why-does-the-mismatch-sometimes-occur-twice-before-moving-on", "title": "Why does the mismatch sometimes occur twice before moving on?", "body": "<p>I've got this code:</p>\n\n<pre><code>int RVHHSelectionIndex = 0;\nint RVSelectionIndex = 0;\nwhile (RVMismatch())\n{\n    studentFullname = checkListBoxRV.Text;\n    assistantFullname = checkListBoxRVHH.Text;\n    listBoxMessages.Items.Add(string.Format(mismatchDiscovered, studentFullname, assistantFullname));\n    if (RVHHSelectionIndex &lt; RVHHCount - 2)\n    {\n        checkListBoxRVHH.SelectedIndex = RVHHSelectionIndex++;\n        checkListBoxRVHH.SetItemChecked(checkListBoxRVHH.SelectedIndex, true);\n    }\n    else\n    {\n        // If all the HHs have been gone through, start again at the beginning:\n        checkListBoxRVHH.SelectedIndex = 0;\n        checkListBoxRVHH.SetItemChecked(checkListBoxRVHH.SelectedIndex, true);\n        // ...and move to the next Student:\n        if (RVSelectionIndex &lt; checkListBoxRV.Items.Count - 2)\n        {\n            checkListBoxRV.SelectedIndex = RVSelectionIndex++;\n            checkListBoxRV.SetItemChecked(checkListBoxRV.SelectedIndex, true);\n        }\n    }\n}\n\nprivate bool RVMismatch()\n{\n    if (!System.IO.File.Exists(AYttFMConstsAndUtils.STUDENTS_FILENAME)) return true;\n    if (null == AYttFMConstsAndUtils.STUDENTS_FILENAME) return true;\n    int RVStudentID = Convert.ToInt32(checkListBoxRV.SelectedValue);\n    int RVHHCandidateID = Convert.ToInt32(checkListBoxRVHH.SelectedValue);\n    Student RVStudent = AYttFMConstsAndUtils.StudentsList.SingleOrDefault(i =&gt; i.StudentID.Equals(RVStudentID));\n    Student RVHHCandidate = AYttFMConstsAndUtils.StudentsList.SingleOrDefault(i =&gt; i.StudentID.Equals(RVHHCandidateID));\n    // If either are null, return true\n    if ((null == RVStudent) || (null == RVHHCandidate)) return true;\n    // If Student male, candidate assistant female, and not family, return true\n    if (RVStudent.IsMale)\n    {\n        if (!RVHHCandidate.IsMale &amp;&amp; RVStudent.FamilyID != RVHHCandidate.FamilyID) return true;\n    }\n    // If Student female, candidate assistant male, and not family, return true\n    if (!RVStudent.IsMale)\n    {\n        if (RVHHCandidate.IsMale &amp;&amp; RVStudent.FamilyID != RVHHCandidate.FamilyID) return true;\n    }\n    // Otherwise, it's good:\n    return false;\n}\n</code></pre>\n\n<p>...which is supposed to select another Householder (RVHH) when the person assigned as the main student is not a good match with that person (there are certain rules that make them a mismatch).</p>\n\n<p>There are two comboboxes, one with the main student (RV) and the other with the assistant (RVHH). If the first HH is a mismatch, it moves to the next candidate HH in the combobox. If all RVHH candidates are mismatches, the RV combobox is incremented to the next, and the process starts over again until there is a match.</p>\n\n<p>It works for the most part, but the odd thing is that my \"log\" entry sometimes shows the same mismatch being found twice. If that were <em>always</em> the case, I would figure there was an obvious and egregious flaw in my code. But it does not always occur. For example, note the \"Mismatch\" messages here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P4ofz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4ofz.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the bottom comboboxes, the first HH candidate was seen as a mismatch <em>twice</em> before moving on to the next, who was also a mismatch but only logged once, and the next, who was the same situation; it finally selected the next candidate, who was not a mismatch, and so the logging ceased.</p>\n\n<p>Why was the first one gone through twice before moving on?</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "asp.net-web-api2", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 891, "user_id": 1094045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zGIOB.jpg?s=128&g=1", "display_name": "marco.marinangeli", "link": "https://stackoverflow.com/users/1094045/marco-marinangeli"}, "edited": false, "score": 0, "creation_date": 1458771476, "post_id": 36189601, "comment_id": 60014612, "body": "di you try to just get rid of the &quot;await&quot;? You get a warning, but maybe is what you&#39;re asking for.."}, {"owner": {"reputation": 2326, "user_id": 2330518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pGbqi.jpg?s=128&g=1", "display_name": "KrishnaDhungana", "link": "https://stackoverflow.com/users/2330518/krishnadhungana"}, "edited": false, "score": 0, "creation_date": 1458771789, "post_id": 36189601, "comment_id": 60014733, "body": "Not answer to your question. But worth sharing I think. I am using FLurl and loving it.  <a href=\"https://github.com/tmenier/Flurl\" rel=\"nofollow noreferrer\">github.com/tmenier/Flurl</a>"}, {"owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "edited": false, "score": 0, "creation_date": 1458771883, "post_id": 36189601, "comment_id": 60014765, "body": "Are you calling <code>HttpClient</code> from an ASP.NET WebApi app?"}, {"owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "reply_to_user": {"reputation": 891, "user_id": 1094045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zGIOB.jpg?s=128&g=1", "display_name": "marco.marinangeli", "link": "https://stackoverflow.com/users/1094045/marco-marinangeli"}, "edited": false, "score": 0, "creation_date": 1458771887, "post_id": 36189601, "comment_id": 60014770, "body": "@marco.marinangeli: I want to know if I am doing it the right way? if i remove the <code>await</code> keyword, I get following message <code>because this call is not awaited execution of the current method continues before the call is completed</code>"}, {"owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "reply_to_user": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "edited": false, "score": 0, "creation_date": 1458771955, "post_id": 36189601, "comment_id": 60014799, "body": "@YuvalItzchakov:I am making call form one asp.net web api service to another asp.net web api service."}, {"owner": {"reputation": 3102, "user_id": 902539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a04f42807f5fe8083d58eb1dcc5259?s=128&d=identicon&r=PG", "display_name": "Gomes", "link": "https://stackoverflow.com/users/902539/gomes"}, "edited": false, "score": 0, "creation_date": 1458772092, "post_id": 36189601, "comment_id": 60014851, "body": "what you do is correct @SharpCoder and remember if you use await in your function, then the function signature return type should be async Task&lt;Type&gt;. Again The async is not making your execution context to parallel rather it is not blocking the I/O operation at your end. It is depends upon the load to put to this api call. Otherwise no needed to use async/await."}, {"owner": {"reputation": 3102, "user_id": 902539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a04f42807f5fe8083d58eb1dcc5259?s=128&d=identicon&r=PG", "display_name": "Gomes", "link": "https://stackoverflow.com/users/902539/gomes"}, "edited": false, "score": 0, "creation_date": 1458772668, "post_id": 36189601, "comment_id": 60015081, "body": "@SharpCoder if you are talking about fire and forgot then it is an api design. The target api should have designed to accept the request and put into some Queue and reply immediately using status code 202. Later in your client code you keep polling for result using another Get call to that api."}, {"owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "reply_to_user": {"reputation": 3102, "user_id": 902539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a04f42807f5fe8083d58eb1dcc5259?s=128&d=identicon&r=PG", "display_name": "Gomes", "link": "https://stackoverflow.com/users/902539/gomes"}, "edited": false, "score": 0, "creation_date": 1468869153, "post_id": 36189601, "comment_id": 64293976, "body": "@Gomes: The target service is inserting the request object into database. Assuming the target service will not use a queue, what is the ideal way to make the call ?"}, {"owner": {"reputation": 3102, "user_id": 902539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a04f42807f5fe8083d58eb1dcc5259?s=128&d=identicon&r=PG", "display_name": "Gomes", "link": "https://stackoverflow.com/users/902539/gomes"}, "edited": false, "score": 0, "creation_date": 1468899414, "post_id": 36189601, "comment_id": 64303385, "body": "@SharpCoder there are two way of looking the performance, 1) cpu bound 2)I/O bound. if your issue is CPU bound then use Queue or Multithread otherwise it is just IO bound hence just use async/await and what u do above is okey but ensure to have timeout hence you don&#39;t know the target api response behaviour."}], "answers": [{"comments": [{"owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "edited": false, "score": 0, "creation_date": 1458771389, "post_id": 36189693, "comment_id": 60014567, "body": "My application is asp.net web api. I am using HttpClient to post the information. The answer you provided does not use HttpClient class."}, {"owner": {"reputation": 7536, "user_id": 979580, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IZ5iY.jpg?s=128&g=1", "display_name": "Alexander Bell", "link": "https://stackoverflow.com/users/979580/alexander-bell"}, "reply_to_user": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "edited": false, "score": 0, "creation_date": 1458771601, "post_id": 36189693, "comment_id": 60014660, "body": "Please refer to the extended answer w/sample code using HttpClient. Best regards,"}, {"owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "edited": false, "score": 0, "creation_date": 1458772034, "post_id": 36189693, "comment_id": 60014820, "body": "Thank you for quick reply. But I don&#39;t want to read the response. I just want to fire and forget. Also I am making call from one asp.net web api application to another asp.net web api application."}, {"owner": {"reputation": 7536, "user_id": 979580, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IZ5iY.jpg?s=128&g=1", "display_name": "Alexander Bell", "link": "https://stackoverflow.com/users/979580/alexander-bell"}, "reply_to_user": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "edited": false, "score": 0, "creation_date": 1458772269, "post_id": 36189693, "comment_id": 60014919, "body": "Then you may try Task.Run() because async/await is kind of antithetical to &quot;fire and forget&quot; (it&#39;s awaiting something per very definition). Still, you may use ConfigureAwait(false) to achieve the desirable result. Best regards,"}], "tags": [], "owner": {"reputation": 7536, "user_id": 979580, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IZ5iY.jpg?s=128&g=1", "display_name": "Alexander Bell", "link": "https://stackoverflow.com/users/979580/alexander-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1458771976, "last_edit_date": 1458771976, "creation_date": 1458771130, "answer_id": 36189693, "question_id": 36189601, "link": "https://stackoverflow.com/questions/36189601/c-httpclient-to-post-information-without-waiting-for-response/36189693#36189693", "title": "C# HttpClient to post information without waiting for response", "body": "<p>To implement the async Task in ASP.NET refer to the following sample syntax:</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        try\n        {\n            RegisterAsyncTask(new PageAsyncTask(LoadUrlContent));\n        }\n        catch {}\n    }\n\n    protected async Task LoadUrlContent()\n    {\n        try\n        {\n        // Add your code here, for example read the content using HttpClient:\n        string _content = await ReadTextAsync(YourUrl, 10);\n        }\n        catch { throw; }\n    }\n</code></pre>\n\n<p>Also, set  <code>&lt;%@ Page  ... Async=\"true\" %&gt;</code> at page level.</p>\n\n<p>Following sample code snippet shows the use of HttpClient (call this sample function from <code>LoadUrlContent()</code>:</p>\n\n<pre><code>protected async Task&lt;string&gt; ReadTextAsync(string Url, int TimeOutSec)\n{\n    try\n    {\n        using (HttpClient _client = new HttpClient() { Timeout = TimeSpan.FromSeconds(TimeOutSec) })\n        {\n            _client.DefaultRequestHeaders.Accept.Add(new System.Net.Http.Headers.MediaTypeWithQualityHeaderValue(\"text/html\"));\n            using (HttpResponseMessage _responseMsg = await _client.GetAsync(Url))\n            {\n                using (HttpContent content = _responseMsg.Content)\n                {\n                    return await content.ReadAsStringAsync();\n                }\n            }\n        }\n    }\n    catch { throw; }\n}\n</code></pre>\n\n<p>You can modify this code base pertinent to your particular task.</p>\n\n<p>Hope this may help.</p>\n"}, {"comments": [{"owner": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 1, "creation_date": 1509382516, "post_id": 36189954, "comment_id": 80987585, "body": "This isn&#39;t an answer to the question. It&#39;s possible to just POST to a server and terminate the HTTP/TCP connection. Servers can and will usually continue the request anyway. <code>PostAsync</code> may not be the solution here if it always reads the response."}, {"owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "reply_to_user": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 0, "creation_date": 1509389644, "post_id": 36189954, "comment_id": 80991653, "body": "@makhdumi That&#39;s not what I&#39;m trying to say here. Since OP wants to execute this from ASP.NET, he&#39;ll need to be aware that the runtime is aware of tasks which are left unattended, and will cause responses to the user to return error codes instead of completing properly."}, {"owner": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 3, "creation_date": 1509390773, "post_id": 36189954, "comment_id": 80992212, "body": "OP says &quot;I just want to post the information without waiting for a response.&quot;  The problem here is that <code>HttpClient.PostAsync</code> will automatically read the response stream. If one wishes to just send data and not bother reading the response, there is no actual need to have any operation, async or not, to read the request stream (ie wait for the server to respond). This is different than &quot;fire and forget&quot; with <code>QueueBackgroundWorkItem</code>. Your answer makes total sense and your point about scalability completely holds, even if just sending the response, but isn&#39;t a real answer to the question."}, {"owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "reply_to_user": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 0, "creation_date": 1509391105, "post_id": 36189954, "comment_id": 80992389, "body": "@makhdumi OP says &quot;without waiting for a response&quot;, not &quot;without <i>reading</i> the reponse&quot;*. What would you suggest as an alternative?"}, {"owner": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 0, "creation_date": 1509391340, "post_id": 36189954, "comment_id": 80992500, "body": "My point is that one way or another, you&#39;re waiting for a response with <code>PostAsync</code>, e.g. in another thread. Like you said, this is not at all scalable since you can easily get a ton of threads waiting on a response. This can be avoided by simply not waiting on/reading, the response, in whatever thread it&#39;s being run in."}, {"owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "reply_to_user": {"reputation": 1243, "user_id": 2127371, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64a5dfd2218b12a828916cc2e970f042?s=128&d=identicon&r=PG&f=1", "display_name": "makhdumi", "link": "https://stackoverflow.com/users/2127371/makhdumi"}, "edited": false, "score": 0, "creation_date": 1509391790, "post_id": 36189954, "comment_id": 80992714, "body": "@makhdumi The only overhead you&#39;ll get when using <code>PostAsync</code> is the callback on an IO Completion thread which shouldn&#39;t be too time consuming. I would definitely not call that a scale issue, but rather a micro optimization."}], "tags": [], "owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "is_accepted": false, "score": 4, "last_activity_date": 1458773099, "last_edit_date": 1495540289, "creation_date": 1458772285, "answer_id": 36189954, "question_id": 36189601, "link": "https://stackoverflow.com/questions/36189601/c-httpclient-to-post-information-without-waiting-for-response/36189954#36189954", "title": "C# HttpClient to post information without waiting for response", "body": "<blockquote>\n  <p>I just want to post the information without waiting for a response</p>\n</blockquote>\n\n<p>Not awaiting an async method in WebAPI will result in a runtime exception, as the <code>AspNetSynchronizationContext</code> is aware of any triggered asynchronous operations. If it notices a controller action completes before the async operation has, it will trigger the said exception. More on that in <a href=\"https://stackoverflow.com/questions/28805796/asp-net-controller-an-asynchronous-module-or-handler-completed-while-an-asynchr/28806198#28806198\">ASP.NET Controller: An asynchronous module or handler completed while an asynchronous operation was still pending</a></p>\n\n<p>If you want to use a fire and forget semantics, you need to queue the delegate via <a href=\"https://msdn.microsoft.com/en-us/library/dn636892(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>HostingEnvironment.QueueBackgroundWorkItem</code></a> if you're using .NET 4.5.2 and above. If not, you can defer to using <a href=\"https://github.com/StephenCleary/AspNetBackgroundTasks\" rel=\"nofollow noreferrer\"><code>BackgroundTaskManager</code></a></p>\n\n<p>Keep in mind this kind of design isn't really suitable for WebAPI. It doesn't scale if you're triggering this action call frequently. If this style happens often, consider using something more suitable such as a message broker.</p>\n"}], "owner": {"reputation": 15538, "user_id": 1350476, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fdc7b4b3da278b1c1c5b4c4b250bafb?s=128&d=identicon&r=PG", "display_name": "SharpCoder", "link": "https://stackoverflow.com/users/1350476/sharpcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8000, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1458773099, "creation_date": 1458770726, "last_edit_date": 1458772550, "question_id": 36189601, "link": "https://stackoverflow.com/questions/36189601/c-httpclient-to-post-information-without-waiting-for-response", "title": "C# HttpClient to post information without waiting for response", "body": "<p>I am using <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httpclient(v=vs.118).aspx\" rel=\"noreferrer\">HttpClient</a> class in my asp.net web api 2 application to post some information to a endpoint. I just want to post the information without waiting for a response. <strong>Is this the right syntax</strong></p>\n\n<pre><code>using (var client = new HttpClient())\n{\n    client.BaseAddress = new Uri(\"http://localhost:9000/\");\n    client.DefaultRequestHeaders.Accept.Clear();\n    client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    // HTTP POST\n    var gizmo = new Product() { Name = \"Gizmo\", Price = 100, Category = \"Widget\" };\n    var response = await client.PostAsJsonAsync(\"api/products\", gizmo);\n}\n</code></pre>\n"}, {"tags": ["c#", "html", ".net", "pdf", "itextsharp"], "answers": [{"tags": [], "owner": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "is_accepted": false, "score": 1, "last_activity_date": 1458773174, "creation_date": 1458773174, "answer_id": 36190160, "question_id": 36189552, "link": "https://stackoverflow.com/questions/36189552/any-ideas-on-why-i-get-this-document-has-no-pages/36190160#36190160", "title": "Any ideas on why I get &quot;This document has no pages&quot;?", "body": "<p>Your inner <code>foreach</code> block has an incorrect <code>&lt;td&gt;</code> tag at the end that should be a <code>&lt;/td&gt;</code> instead:</p>\n\n<pre><code>RangeInfo Info = AnswersController.Ranges.First(I =&gt; I.Range.X &lt;= S.AvgScore &amp;&amp; S.AvgScore &lt; I.Range.Y);\nhtml += \"&lt;tr&gt;&lt;td&gt;&lt;div valign=\\\"middle\\\" style=\\\"background-color:\" + Info.ColorHex + \";height:20px;width:20px;\\\"&gt;&lt;/div&gt;&lt;/td&gt;\"\n      + \"&lt;td&gt;&lt;h3&gt;\" + String.Format(\"{0}: {1}%\", S.SectionTitle, S.AvgScore.ToString()) + \"&lt;/h3&gt;\"\n      + \"&lt;p&gt;\" + Info.Text + \"&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;\";\n//                               \u2191HERE\u2191\n</code></pre>\n\n<p>When I make that change everything compiles for me.</p>\n"}], "owner": {"reputation": 3016, "user_id": 5587809, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/753af9c4b93a01b2078e4d06f05d7274?s=128&d=identicon&r=PG&f=1", "display_name": "Subpar Web Dev", "link": "https://stackoverflow.com/users/5587809/subpar-web-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1474693961, "creation_date": 1458770548, "question_id": 36189552, "link": "https://stackoverflow.com/questions/36189552/any-ideas-on-why-i-get-this-document-has-no-pages", "title": "Any ideas on why I get &quot;This document has no pages&quot;?", "body": "<p>I have a basic method </p>\n\n<pre><code>    public string PdfFriendlyHtml ( Guid pid, int vid, int sid )\n    {\n        string html = string.Empty;\n        html += \"&lt;table border=\\\"0\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\"&gt;&lt;tr&gt;&lt;td&gt;\";\n        html += \"&lt;p&gt;blah blah blah&lt;/p&gt;\";\n        html += \"&lt;p&gt;blah blah blah&lt;/p&gt;\";\n        html += \"&lt;/td&gt;&lt;/tr&gt;\"; // end header row\n        List&lt;SurveyFullInfo&gt; Surveys = new List&lt;SurveyFullInfo&gt;();\n        for ( int k = 1; k &lt;= sid; ++k )\n        {\n            Surveys.Add(new SurveyFullInfo\n            {\n                Title = this._Db.GetSurveyTitle(k),\n                ViewModel = this._Db.GetAnswersByPartner(pid, k, vid),\n                SectionAverages = this._Db.GetSectionAverages(pid, k, vid)\n            });\n        }\n        foreach ( var Survey in Surveys )\n        {\n            html += \"&lt;tr&gt;&lt;td bgcolor=\\\"#EDEDED\\\"&gt;\"; // open survey title and traffic lights\n            html += \"&lt;h1&gt;\" + Survey.Title + \"&lt;/h1&gt;\"; // write title \n            html += \"&lt;table cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" border=\\\"0\\\"&gt;\";\n            foreach ( var S in Survey.SectionAverages )\n            {\n                RangeInfo Info = AnswersController.Ranges.First(I =&gt; I.Range.X &lt;= S.AvgScore &amp;&amp; S.AvgScore &lt; I.Range.Y);\n                html += \"&lt;tr&gt;&lt;td&gt;&lt;div valign=\\\"middle\\\" style=\\\"background-color:\" + Info.ColorHex + \";height:20px;width:20px;\\\"&gt;&lt;/div&gt;&lt;/td&gt;\"\n                      + \"&lt;td&gt;&lt;h3&gt;\" + String.Format(\"{0}: {1}%\", S.SectionTitle, S.AvgScore.ToString()) + \"&lt;/h3&gt;\"\n                      + \"&lt;p&gt;\" + Info.Text + \"&lt;/p&gt;&lt;td&gt;&lt;/tr&gt;\";\n\n\n            }\n            html += \"&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;\"; // end survey title and traffic lights row\n        }\n\n\n        html += \"&lt;/table&gt;\"; // end table\n        return html;\n    }\n</code></pre>\n\n<p>that, as far as I can tell, generates valid HTML and is called in the following method</p>\n\n<pre><code>    [HttpPost]\n    [OutputCache(NoStore = true, Duration = 0)]\n    public ActionResult ToPdf ( Guid pid, int vid, int sid )\n    {\n\n\n        Byte[] bytes;\n        var ms = new MemoryStream();\n        try\n        {\n            using (var doc = new Document())\n            {\n                using (var writer = PdfWriter.GetInstance(doc, ms))\n                {\n                    writer.CloseStream = false;\n                    doc.Open();\n                    var example_html = PdfFriendlyHtml(pid, vid, sid);\n                    var example_css = @\".headline{font-size:200%}\";\n                    using (var msCss = new MemoryStream(System.Text.Encoding.UTF8.GetBytes(example_css)))\n                    {\n                        using (var msHtml = new MemoryStream(System.Text.Encoding.UTF8.GetBytes(example_html)))\n                        {\n                            iTextSharp.tool.xml.XMLWorkerHelper.GetInstance().ParseXHtml(writer, doc, msHtml, msCss);\n                        }\n                    }\n                    doc.Close();\n                }\n            }\n            bytes = ms.ToArray();\n            ms.Position = 0;\n            return File(ms, \"application/pdf\", \"Test.pdf\");\n        }\n        catch \n        {\n            ms.Dispose();\n            throw;\n        }   \n\n    }\n</code></pre>\n\n<p>but I get the yellow screen of  death with a stack trace </p>\n\n<blockquote>\n  <p>[IOException: The document has no pages.]<br>\n  iTextSharp.text.pdf.PdfPages.WritePageTree() +1040<br>\n  iTextSharp.text.pdf.PdfWriter.Close() +285<br>\n  iTextSharp.text.pdf.PdfDocument.Close() +319<br>\n  iTextSharp.text.pdf.PdfWriter.Close() +76<br>\n  iTextSharp.text.DocWriter.Dispose() +10</p>\n</blockquote>\n\n<p>I've narrowed it down that it must have something to do with the HTML, given that if I change it to</p>\n\n<pre><code>    public string PdfFriendlyHtml ( Guid pid, int vid, int sid )\n    {\n       return \"&lt;p&gt;Test&lt;/p&gt;\";\n    }\n</code></pre>\n\n<p>it works. </p>\n\n<p>I also tried </p>\n\n<pre><code>    public string PdfFriendlyHtml ( Guid pid, int vid, int sid )\n    {\n        return \"&lt;table&gt;&lt;tr&gt;&lt;td&gt;Here's a cell&lt;/td&gt;&lt;td&gt;And here's another cell&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\";\n    }\n</code></pre>\n\n<p>and that worked to. So I can't figure out what it doesn't like about my real method. Any ideas?</p>\n"}, {"tags": ["c#", "int", "eof"], "answers": [{"comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1458770886, "post_id": 36189593, "comment_id": 60014343, "body": "You can technically use <code>int?</code>, which is nullable."}, {"owner": {"reputation": 25, "user_id": 6106751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7920695dcf0f23fa8e4bdd768a5dbebf?s=128&d=identicon&r=PG&f=1", "display_name": "Kingston Joshua", "link": "https://stackoverflow.com/users/6106751/kingston-joshua"}, "edited": false, "score": 1, "creation_date": 1458770913, "post_id": 36189593, "comment_id": 60014357, "body": "but then it is not read until eof just to zero"}, {"owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1458771256, "post_id": 36189593, "comment_id": 60014509, "body": "@Greg <code>Console.Read()</code> returns an <code>int</code>  @KingstonJoshua corrected. the returned value is -1 not zero"}, {"owner": {"reputation": 25, "user_id": 6106751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7920695dcf0f23fa8e4bdd768a5dbebf?s=128&d=identicon&r=PG&f=1", "display_name": "Kingston Joshua", "link": "https://stackoverflow.com/users/6106751/kingston-joshua"}, "edited": false, "score": 0, "creation_date": 1458771552, "post_id": 36189593, "comment_id": 60014644, "body": "read until -1 it&#39;s work, thanks!"}], "tags": [], "owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "is_accepted": true, "score": 1, "last_activity_date": 1458771235, "last_edit_date": 1458771235, "creation_date": 1458770693, "answer_id": 36189593, "question_id": 36189544, "link": "https://stackoverflow.com/questions/36189544/console-read-until-eof/36189593#36189593", "title": "Console.Read() until eof", "body": "<p><code>int</code> values are not nullable. You have to use negative one.</p>\n\n<pre><code>while((x = Console.Read()) != -1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 1, "creation_date": 1458771060, "post_id": 36189654, "comment_id": 60014422, "body": "I guess that&#39;s a bit overkill, LOL."}, {"owner": {"reputation": 6829, "user_id": 5649561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNgLZ.jpg?s=128&g=1", "display_name": "Vadim Martynov", "link": "https://stackoverflow.com/users/5649561/vadim-martynov"}, "reply_to_user": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 0, "creation_date": 1458771419, "post_id": 36189654, "comment_id": 60014581, "body": "@Andrew well it&#39;s generic because using TextReader which can be initialized for file and for console. It&#39;s lazy and has no overhead as Split method. Also I&#39;m not truly understand source question then I tried to add fully answer."}], "tags": [], "owner": {"reputation": 6829, "user_id": 5649561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNgLZ.jpg?s=128&g=1", "display_name": "Vadim Martynov", "link": "https://stackoverflow.com/users/5649561/vadim-martynov"}, "is_accepted": false, "score": 2, "last_activity_date": 1458772072, "last_edit_date": 1458772072, "creation_date": 1458770938, "answer_id": 36189654, "question_id": 36189544, "link": "https://stackoverflow.com/questions/36189544/console-read-until-eof/36189654#36189654", "title": "Console.Read() until eof", "body": "<blockquote>\n  <p>Note that the method does not return -1 unless you perform one of the\n  following actions:</p>\n  \n  <ul>\n  <li>Simultaneously press the Control modifier key and Z console key       (Ctrl+Z), which signals the end-of-file condition.</li>\n  <li>Press an equivalent key that signals the end-of-file condition, such     as the F6 function key in Windows.</li>\n  <li><strong>Redirect the input stream to a source, such as a text file, that has     an actual end-of-file character.</strong></li>\n  </ul>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.console.read(v=vs.110).aspx\" rel=\"nofollow\">MSDN <code>Read()</code> method</a>.</p>\n\n<p>Then you can read file by character and calculate each separated value with simple math. It's lazy then will not iterate file to the end immediately for calculating all values. </p>\n\n<pre><code>static void Main(string[] args)\n{\n    foreach (int i in Read(Console.In))\n    {\n        Console.WriteLine(i);\n    }\n}\n\nstatic IEnumerable&lt;int&gt; Read(TextReader rdr)\n{\n    int ch;\n    bool neg = false;\n    int value = 0;\n    int count = 0;\n\n    while ((ch = rdr.Read()) != -1)\n    {\n        if (char.IsWhiteSpace(ch))\n        {\n            if (count &gt; 0)\n                yield return neg ? -value : value;  \n            count = 0;\n            value = 0;\n            neg = false;\n        }\n        else if (count == 0 &amp;&amp; ch == '-')\n        {\n            neg = true;\n        }\n        else if (ch &gt;= '0' &amp;&amp; ch &lt;= '9')\n        {\n            count++;\n            value = value*10 + (ch - '0');\n        }\n        else\n            throw new InvalidDataException();\n    }\n\n    if (count &gt; 0)\n        yield return neg ? -value : value;  \n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6106751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7920695dcf0f23fa8e4bdd768a5dbebf?s=128&d=identicon&r=PG&f=1", "display_name": "Kingston Joshua", "link": "https://stackoverflow.com/users/6106751/kingston-joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1581, "favorite_count": 0, "closed_date": 1458798209, "accepted_answer_id": 36189593, "answer_count": 2, "score": 0, "last_activity_date": 1458772072, "creation_date": 1458770509, "question_id": 36189544, "link": "https://stackoverflow.com/questions/36189544/console-read-until-eof", "closed_reason": "Needs details or clarity", "title": "Console.Read() until eof", "body": "<p>I have to read integers from console sepetating with white characters until end of file, but I don't know how, I search for the answer but I couldn't find it.</p>\n\n<pre><code>while((x = Console.Read()) != null)\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "xaml", "random"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6106028, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b441eeb3d9834edba79f65e7b59ffa9?s=128&d=identicon&r=PG&f=1", "display_name": "Xaml", "link": "https://stackoverflow.com/users/6106028/xaml"}, "edited": false, "score": 0, "creation_date": 1458772538, "post_id": 36189681, "comment_id": 60015017, "body": "But how can I give a random time?"}, {"owner": {"reputation": 7607, "user_id": 150058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f649416da1b4abfefdcb34ba9dacb?s=128&d=identicon&r=PG", "display_name": "Ed Power", "link": "https://stackoverflow.com/users/150058/ed-power"}, "reply_to_user": {"reputation": 11, "user_id": 6106028, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b441eeb3d9834edba79f65e7b59ffa9?s=128&d=identicon&r=PG&f=1", "display_name": "Xaml", "link": "https://stackoverflow.com/users/6106028/xaml"}, "edited": false, "score": 0, "creation_date": 1458773889, "post_id": 36189681, "comment_id": 60015508, "body": "@Xaml - This gives you a random delay between 2000 and 10000 milliseconds:          <code>var rnd = new Random();     var delay = rnd.Next(5000, 10001);</code>"}], "tags": [], "owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "is_accepted": true, "score": 0, "last_activity_date": 1458771049, "creation_date": 1458771049, "answer_id": 36189681, "question_id": 36189542, "link": "https://stackoverflow.com/questions/36189542/random-time-between-0-and-20-sec/36189681#36189681", "title": "Random time between 0 and 20 sec?", "body": "<pre><code>private async void newBtn_Click(object sender, RoutedEventArgs e)\n{\n    // here i want the random time to happen!\n    await Task.Delay(5000); // 5 sec, make it random\n\n    iRandom = row.Next(-350, 350);\n    newBtn.Margin = new Thickness(iRandom, iRandom, 0, 0);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6106028, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b441eeb3d9834edba79f65e7b59ffa9?s=128&d=identicon&r=PG&f=1", "display_name": "Xaml", "link": "https://stackoverflow.com/users/6106028/xaml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 36189681, "answer_count": 1, "score": 1, "last_activity_date": 1562027115, "creation_date": 1458770506, "last_edit_date": 1562027115, "question_id": 36189542, "link": "https://stackoverflow.com/questions/36189542/random-time-between-0-and-20-sec", "title": "Random time between 0 and 20 sec?", "body": "<p>How can I create some random time, like 10 seconds. </p>\n\n<p>So when I click the button I have to wait 10 seconds to see the new button? </p>\n\n<p>My question is how to create that random time? And it has to be in Xaml</p>\n\n<p>My code:</p>\n\n<pre><code>public void randomButton()\n{            \n    newBtn.Content = \"A New Button\";\n    Random myRandom = new Random();\n    int rand1 = myRandom.Next(0, 400);\n    int rand2 = myRandom.Next(0, 400);\n    panelButton.Children.Add(newBtn);\n\n    Canvas.SetLeft(newBtn, rand1);\n    Canvas.SetTop(newBtn, rand2);\n\n    iRandom = row.Next(-350, 350);\n    newBtn.Click += newBtn_Click;\n    newBtn.Margin = new Thickness(iRandom, iRandom, 0, 0);\n}\n\nprivate void newBtn_Click(object sender, RoutedEventArgs e)\n{\n    // here i want the random time to happen!*\n    iRandom = row.Next(-350, 350);\n    newBtn.Margin = new Thickness(iRandom, iRandom, 0, 0);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-4", "razor"], "answers": [{"tags": [], "owner": {"reputation": 36917, "user_id": 2385, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b80a2c9f2d1e1bcaeee6bd4ec86550de?s=128&d=identicon&r=PG", "display_name": "Eduardo Molteni", "link": "https://stackoverflow.com/users/2385/eduardo-molteni"}, "is_accepted": true, "score": 1, "last_activity_date": 1458772354, "creation_date": 1458772354, "answer_id": 36189973, "question_id": 36189519, "link": "https://stackoverflow.com/questions/36189519/mvc4-resize-images-to-max-height-or-max-width/36189973#36189973", "title": "MVC4 resize images to max height or max width", "body": "<p>The only way it's to crop the portrait photos to fit in the image. I have this VB function that do exactly as you say, cropping 25% of the extra height pixel from the top, and the rest from the botton. The majority of the photos looks ok this way. I'm using this in a tourism  website.</p>\n\n<pre><code>Public Shared Function SaveAsThumbnailCropped(ByVal path As String, ByVal archivo As String, ByVal NewWidth As Integer, ByVal NewHeight As Integer) As String\n\n    ' Declare two variables of type Integer named\n    '    adjustedImageWidth and adjustedImageHeight.\n    Dim adjustedImageWidth, adjustedImageHeight As Integer\n\n    ' Declare a variable named theImage of type Image.\n    Dim theImage As Image\n    Dim ThumbFileName, extension As String, convertToGIF As Boolean = False\n    If InStrRev(archivo, \".\") &gt; 0 Then\n        extension = Mid(archivo, InStrRev(archivo, \".\")).ToString.ToLower\n        ThumbFileName = Mid(archivo, 1, InStrRev(archivo, \".\") - 1) + \"_tb\" + Trim(NewWidth) + \"x\" + Trim(NewHeight) + extension\n    Else\n        extension = \"\" 'desconocida\n        ThumbFileName = archivo + \"_tb\" + Trim(NewWidth) + \"x\" + Trim(NewHeight)\n    End If\n\n\n    If Not My.Computer.FileSystem.FileExists(path + \"\\\" + ThumbFileName) And My.Computer.FileSystem.FileExists(path + \"\\\" + archivo) Then\n        ' Get an image object from the image file;\n        '    assign the image object to the theImage variable.\n        theImage = System.Drawing.Image.FromFile(path + \"\\\" + archivo)\n\n        If theImage.Height &gt; NewHeight Or theImage.Width &gt; NewWidth Then\n            If theImage.Height * NewWidth / theImage.Width &gt; NewHeight Then\n                ' tengo que reducir el alto\n                adjustedImageHeight = NewHeight\n                'keep ratio\n                adjustedImageWidth = theImage.Width * (adjustedImageHeight / theImage.Height)\n            Else\n                adjustedImageWidth = NewWidth\n                'keep ratio\n                adjustedImageHeight = theImage.Height * (adjustedImageWidth / theImage.Width)\n            End If\n        Else\n            'no hago nada porque la imagen es muy chica\n            Return archivo\n        End If\n\n        Dim cropRect As Rectangle\n        If adjustedImageHeight &lt; NewHeight Or adjustedImageWidth &gt; NewWidth Then\n            'era muy apaisada tengo que croppear el centro\n            adjustedImageHeight = NewHeight\n            adjustedImageWidth = theImage.Width * (adjustedImageHeight / theImage.Height)\n            Dim WidthSobrante = adjustedImageWidth - NewWidth\n            cropRect = New Rectangle(WidthSobrante / 2, 0, NewWidth, NewHeight)\n        ElseIf adjustedImageHeight &gt; NewHeight Or adjustedImageWidth &lt; NewWidth Then\n            adjustedImageWidth = NewWidth\n            adjustedImageHeight = theImage.Height * (adjustedImageWidth / theImage.Width)\n            'quedo muy larga. Le cropeo el 25% de arriba del sobrante\n            Dim HeightSobrante = adjustedImageHeight - NewHeight\n            cropRect = New Rectangle(0, HeightSobrante / 4, NewWidth, NewHeight)\n        Else\n            cropRect = New Rectangle(0, 0, Math.Min(NewWidth, theImage.Width), Math.Min(NewHeight, theImage.Height))\n        End If\n\n        Dim Image As System.Drawing.Image = theImage\n        Dim thumbnail As System.Drawing.Image = New Bitmap(adjustedImageWidth, adjustedImageHeight)\n        Dim graphic As System.Drawing.Graphics = System.Drawing.Graphics.FromImage(thumbnail)\n\n        graphic.InterpolationMode = InterpolationMode.HighQualityBicubic\n        graphic.SmoothingMode = SmoothingMode.HighQuality\n        graphic.PixelOffsetMode = PixelOffsetMode.HighQuality\n        graphic.CompositingQuality = CompositingQuality.HighQuality\n\n        graphic.DrawImage(Image, 0, 0, adjustedImageWidth, adjustedImageHeight)\n\n        Dim croppedThumbnail = cropImage(thumbnail, cropRect)\n\n\n        If extension.Equals(\".gif\") Then\n            Dim quantizer As ImageQuantization.OctreeQuantizer = New ImageQuantization.OctreeQuantizer(255, 8)\n            Dim quantized As Bitmap = quantizer.Quantize(croppedThumbnail)\n            quantized.Save(path + \"\\\" + ThumbFileName, System.Drawing.Imaging.ImageFormat.Gif)\n\n        ElseIf extension.Equals(\".jpg\") Or extension.Equals(\".jpeg\") Then\n            'Create quality parameter\n            Dim encoderParams As New EncoderParameters(1)\n\n            Dim jpgCodec As ImageCodecInfo\n            jpgCodec = GetImageCodec(\"image/jpeg\")\n\n            If Not jpgCodec Is Nothing Then\n                'Create quality parameter\n                Dim qParam As New EncoderParameter(System.Drawing.Imaging.Encoder.Quality, 100L)\n                encoderParams.Param(0) = qParam\n                croppedThumbnail.Save(path + \"\\\" + ThumbFileName, jpgCodec, encoderParams)\n            End If\n        Else\n            croppedThumbnail.Save(path + \"\\\" + ThumbFileName)\n        End If\n\n        croppedThumbnail.Dispose()\n        thumbnail.Dispose()\n        Image.Dispose()\n        graphic.Dispose()\n\n    End If\n\n    Return ThumbFileName\n\n\nEnd Function\n\nPrivate Shared Function cropImage(img As Image, cropArea As Rectangle) As Image\n    Dim bmpImage = New Bitmap(img)\n    Dim bmpCrop = bmpImage.Clone(cropArea, bmpImage.PixelFormat)\n    Return CType(bmpCrop, Image)\nEnd Function\n\n\n\nPrivate Shared Function GetImageCodec(ByVal mimeType As String) As ImageCodecInfo\n    Dim codecs() As ImageCodecInfo = ImageCodecInfo.GetImageEncoders()\n    For Each codec As ImageCodecInfo In codecs\n        If codec.MimeType.Equals(mimeType, StringComparison.OrdinalIgnoreCase) Then\n            Return codec\n        End If\n    Next\n\n    Return Nothing\nEnd Function\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 1930100, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/32a19c1cd9db94609089a1d5cf58dc7c?s=128&d=identicon&r=PG", "display_name": "dragy", "link": "https://stackoverflow.com/users/1930100/dragy"}, "is_accepted": false, "score": 0, "last_activity_date": 1459168093, "creation_date": 1459168093, "answer_id": 36262309, "question_id": 36189519, "link": "https://stackoverflow.com/questions/36189519/mvc4-resize-images-to-max-height-or-max-width/36262309#36262309", "title": "MVC4 resize images to max height or max width", "body": "<p>Thanks Eduardo, you helped me to find solution.\nI modified GetImage method so it secure that every dimension of image is less than wanted one.\nCode will explain more than words:</p>\n\n<pre><code>public FileContentResult GetImage(int id, int w, int h)\n    {\n        Photo photo = context.FindPhotoById(id);\n        MemoryStream ms;\n        if (photo.PhotoFile != null)\n        {\n            if (w != 0 &amp;&amp; h != 0)\n            {\n                ms = new MemoryStream(photo.PhotoFile);\n                Image img = Image.FromStream(ms);\n                var ratio = (double)img.Width / (double)img.Height;\n                var ratioImg = (double)w / (double)h;\n                var newHeight = 0;\n                var newWidth = 0;\n\n                if (img.Height &gt; img.Width)\n                {\n                    newHeight = h;\n                    newWidth = (int)(ratio * newHeight);\n                }\n                else\n                {\n                    newWidth = w;\n                    newHeight = (int)(newWidth / ratio);\n                }\n\n                var newImage = new Bitmap(newWidth, newHeight);\n                var destRect = new Rectangle(0, 0, newWidth, newHeight);\n\n                using (var graphics = Graphics.FromImage(newImage))\n                {\n                    graphics.CompositingMode = CompositingMode.SourceCopy;\n                    graphics.CompositingQuality = CompositingQuality.HighQuality;\n                    graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;\n                    graphics.SmoothingMode = SmoothingMode.HighQuality;\n                    graphics.PixelOffsetMode = PixelOffsetMode.HighQuality;\n\n                    using (var wrapMode = new ImageAttributes())\n                    {\n                        wrapMode.SetWrapMode(WrapMode.TileFlipXY);\n                        graphics.DrawImage(img, destRect, 0, 0, img.Width, img.Height, GraphicsUnit.Pixel, wrapMode);\n                    }\n                }\n\n                Bitmap bmp = new Bitmap(newImage);\n                ImageConverter icnv = new ImageConverter();\n\n                var imgByte = (byte[])icnv.ConvertTo(bmp, typeof(byte[]));\n\n                return File(imgByte, photo.ImageMimeType);\n            }\n            else\n            {\n                return File(photo.PhotoFile, photo.ImageMimeType);\n            }                \n        }\n        else\n        {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>So, if the image has portrait orientation, method sets its height to wanted height and sets width maintaining the aspect ratio so that height cannot exceed max height. If the image has landscape orientation method sets width to wanted and sets height keeping aspect ratio.</p>\n"}], "owner": {"reputation": 177, "user_id": 1930100, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/32a19c1cd9db94609089a1d5cf58dc7c?s=128&d=identicon&r=PG", "display_name": "dragy", "link": "https://stackoverflow.com/users/1930100/dragy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 36189973, "answer_count": 2, "score": 1, "last_activity_date": 1459327084, "creation_date": 1458770394, "last_edit_date": 1459327084, "question_id": 36189519, "link": "https://stackoverflow.com/questions/36189519/mvc4-resize-images-to-max-height-or-max-width", "title": "MVC4 resize images to max height or max width", "body": "<p>I am creating MVC4 web site and want to display every allowed picture from database. The problem is that pictures have different size, some of them have portrait orientation and the others have landscape. First of all, all images need to keep aspect ratio. Every image is displayed in div named card and it should have standard size (size I set in <code>&lt;img&gt;</code> control). So I need to resize image on that way that neither height nor width must exceed dimension height and width of <code>&lt;img&gt;</code> control. For example, if some image has portrait orientation height mustn't exceed height of <code>&lt;img&gt;</code> control, so if image has landscape orientation it should be resized on that way thad width mustn't exceed width of <code>&lt;img&gt;</code> control.\nI displayed pictures on this way:</p>\n\n<p>Controller</p>\n\n<pre><code>[ChildActionOnly]\n    public ActionResult _PhotoGallery(int number)\n    {\n        List&lt;Photo&gt; photos;\n\n        if (number == 0)\n        {\n            photos = context.FindAllUnVisiblePhotos(true).OrderByDescending(x =&gt; x.CreatedDate).ToList();\n        }\n        else\n        {\n            photos = context.FindAllUnVisiblePhotos(true).OrderByDescending(x =&gt; x.CreatedDate).Take(number).ToList();\n        }\n\n        return PartialView(\"_PhotoGallery\", photos);\n    }\n</code></pre>\n\n<p>View</p>\n\n<pre><code>@foreach (var item in Model)\n{\n    &lt;div class=\"photo-index-card\"&gt;\n        &lt;div style=\"float:left; padding: 2px 2px 2px 2px; margin: 0px 0px 10px 0px; height: 20px;\"&gt;\n            &lt;div&gt;@item.Title&lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div style=\"float:left;\"&gt;\n            @if (item.PhotoFile != null)\n            {\n                &lt;a href=\"@Url.Action(\"Display\", \"Photo\", new { id = item.PhotoID })\"&gt;\n                    &lt;img class=\"photo-index-card-img\" src=\"@Url.Action(\"GetImage\", \"Photo\", new { id = item.PhotoID })\" /&gt;\n                &lt;/a&gt;\n            }\n        &lt;/div&gt;                \n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>GetImage</p>\n\n<pre><code>public FileContentResult GetImage(int id)\n    {\n        Photo photo = context.FindPhotoById(id);\n        if (photo.PhotoFile != null)\n        {\n            return File(photo.PhotoFile, photo.ImageMimeType);\n        }\n        else\n        {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>How could I resize images to fit requrements?</p>\n"}, {"tags": ["c#", "winforms", "mouseevent", "custom-controls"], "answers": [{"tags": [], "owner": {"reputation": 2266, "user_id": 5698517, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/915a651f37965c17b3a65cd9505bc6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Tor", "link": "https://stackoverflow.com/users/5698517/ali-tor"}, "is_accepted": false, "score": 0, "last_activity_date": 1458803803, "creation_date": 1458803803, "answer_id": 36194963, "question_id": 36189484, "link": "https://stackoverflow.com/questions/36189484/why-the-mouseleave-event-is-not-triggered-when-folderbrowserdialog-was-open-and/36194963#36194963", "title": "Why the MouseLeave event is not triggered when folderbrowserdialog was open and selected a directory?", "body": "<p>I have solved my issue changing the <code>MouseUp</code> event code. There is no need <code>MouseState.Up</code> in this.</p>\n\n<pre><code>//code\nprotected override void OnMouseUp(MouseEventArgs e)\n    {\n        if(state != MouseState.Leave)\n           state = MouseState.Over\n        Invalidate();\n        base.OnMouseUp(e);\n    }\n//code\n</code></pre>\n"}], "owner": {"reputation": 2266, "user_id": 5698517, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/915a651f37965c17b3a65cd9505bc6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Tor", "link": "https://stackoverflow.com/users/5698517/ali-tor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458803834, "creation_date": 1458770247, "last_edit_date": 1458803834, "question_id": 36189484, "link": "https://stackoverflow.com/questions/36189484/why-the-mouseleave-event-is-not-triggered-when-folderbrowserdialog-was-open-and", "title": "Why the MouseLeave event is not triggered when folderbrowserdialog was open and selected a directory?", "body": "<p>I have a custom button that has different colors when <code>MouseEnter</code>, <code>MouseLeave</code>, <code>MouseDown</code> and <code>MouseUp</code>. But when a <code>FolderBrowserDialog</code> was open after <code>MouseClick</code> and selected a directory from it, the color stays still on the <code>MouseEnter</code> color despite of mouse is out of the button. I can't figure out why this happens. I have tried to solve the issue using <code>Capture</code>, but it didn't work for me. Maybe I used it wrongly.</p>\n\n<p>My code's events part in <code>MyButton</code> class:</p>\n\n<pre><code>//.....\n\nprotected override void OnPaint(PaintEventArgs e)\n    {\n        //.....\n        #region Drawing\n        e.Graphics.SmoothingMode = SmoothingMode.HighQuality;\n        roundedRect = new RoundedRectangle(Width, Height, radius);\n        e.Graphics.FillRectangle(Brushes.Transparent, this.ClientRectangle);\n\n        int R1 = (active1.R + inactive1.R) / 2;\n        int G1 = (active1.G + inactive1.G) / 2;\n        int B1 = (active1.B + inactive1.B) / 2;\n\n        int R2 = (active2.R + inactive2.R) / 2;\n        int G2 = (active2.G + inactive2.G) / 2;\n        int B2 = (active2.B + inactive2.B) / 2;\n\n        Rectangle rect = new Rectangle(0, 0, Width, Height);\n\n        if (this.Enabled)\n        {\n            if (state == MouseState.Leave)\n                using (LinearGradientBrush inactiveGB = new LinearGradientBrush(rect, inactive1, inactive2, 90f))\n                    e.Graphics.FillPath(inactiveGB, roundedRect.Path);\n            else if (state == MouseState.Over)\n                using (LinearGradientBrush activeGB = new LinearGradientBrush(rect, active1, active2, 90f))\n                    e.Graphics.FillPath(activeGB, roundedRect.Path);\n            else if (state == MouseState.Down)\n                using (LinearGradientBrush downGB = new LinearGradientBrush(rect, Color.FromArgb(R1, G1, B1), Color.FromArgb(R2, G2, B2), 90f))\n                    e.Graphics.FillPath(downGB, roundedRect.Path);\n            using (LinearGradientBrush BorderGB = new LinearGradientBrush(rect, inactive1, inactive2, 90f))\n                e.Graphics.DrawPath(new Pen(BorderGB), roundedRect.Path);\n        }\n        else\n        {\n            Color linear1 = Color.FromArgb(190, 190, 190);\n            Color linear2 = Color.FromArgb(210, 210, 210);\n            using (LinearGradientBrush inactiveGB = new LinearGradientBrush(rect, linear1, linear2, 90f))\n            {\n                e.Graphics.FillPath(inactiveGB, roundedRect.Path);\n                e.Graphics.DrawPath(new Pen(inactiveGB), roundedRect.Path);\n            }\n        }\n        #endregion\n    //.....\n    }\n    protected override void OnClick(EventArgs e)\n    {\n        base.OnClick(e);\n    }\n    protected override void OnEnabledChanged(EventArgs e)\n    {\n        Invalidate();\n        base.OnEnabledChanged(e);\n    }\n    protected override void OnMouseEnter(EventArgs e)\n    {\n        state = MouseState.Over;\n        Invalidate();\n        base.OnMouseEnter(e);\n    }\n    protected override void OnMouseLeave(EventArgs e)\n    {\n        state = MouseState.Leave;\n        Invalidate();\n        base.OnMouseLeave(e);\n    }\n    protected override void OnMouseDown(MouseEventArgs e)\n    {\n        state = MouseState.Down;\n        Invalidate();\n        base.OnMouseDown(e);\n    }\n    protected override void OnMouseUp(MouseEventArgs e)\n    {\n        state = MouseState.Up;\n        Invalidate();\n        base.OnMouseUp(e);\n    }\n    #endregion\n    //.....\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "converter"], "comments": [{"owner": {"reputation": 311, "user_id": 3490440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2356751e9e11ab914bec91ec1f7693eb?s=128&d=identicon&r=PG&f=1", "display_name": "hededo", "link": "https://stackoverflow.com/users/3490440/hededo"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1458771399, "post_id": 36189411, "comment_id": 60014571, "body": "The line where the &lt;MultiBinding&gt; is declared"}, {"owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "edited": false, "score": 2, "creation_date": 1458772701, "post_id": 36189411, "comment_id": 60015096, "body": "Is it just an intellisense problem or does it actually fail when you run your app? What happens if you restart Visual Studio?"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 3490440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2356751e9e11ab914bec91ec1f7693eb?s=128&d=identicon&r=PG&f=1", "display_name": "hededo", "link": "https://stackoverflow.com/users/3490440/hededo"}, "edited": false, "score": 1, "creation_date": 1458777393, "post_id": 36190656, "comment_id": 60016696, "body": "I will ignore the error than. Thanks for the Convert tips!"}], "tags": [], "owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "is_accepted": true, "score": 2, "last_activity_date": 1458775768, "creation_date": 1458775768, "answer_id": 36190656, "question_id": 36189411, "link": "https://stackoverflow.com/questions/36189411/cannot-add-instance-of-type-multibinding-to-a-collection-of-type-doublecollec/36190656#36190656", "title": "Cannot add instance of type &#39;MultiBinding&#39; to a collection of type &#39;DoubleCollection&#39;", "body": "<p>I was able to replicate your error in Visual Studio 2015. It does appear to be simply a bug with the XAML editor, not an actual problem with your XAML or converter. When I run the app, I get different dashing depending on whether <code>ModelViewProperty1</code> and <code>ModelViewProperty2</code> both have values and are equivalent.</p>\n\n<p>So, my advice would be to ignore this particular error.</p>\n\n<p>P.S. Just for fun, here is a more succinct way to write your <code>Convert</code> method using LINQ:</p>\n\n<pre><code>public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)\n{\n    var arrays = values\n        .OfType&lt;Array&gt;()\n        .Select(x =&gt; x.OfType&lt;object&gt;())\n        .ToList();\n    if (arrays.Count != 2) return DoubleCollectionWhenValueIsNull;\n    return arrays[0].SequenceEqual(arrays[1]) ? DoubleCollectionWhenEqual : DoubleCollectionWhenNotEqual;\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 3490440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2356751e9e11ab914bec91ec1f7693eb?s=128&d=identicon&r=PG&f=1", "display_name": "hededo", "link": "https://stackoverflow.com/users/3490440/hededo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 36190656, "answer_count": 1, "score": 0, "last_activity_date": 1458775768, "creation_date": 1458770009, "last_edit_date": 1458771486, "question_id": 36189411, "link": "https://stackoverflow.com/questions/36189411/cannot-add-instance-of-type-multibinding-to-a-collection-of-type-doublecollec", "title": "Cannot add instance of type &#39;MultiBinding&#39; to a collection of type &#39;DoubleCollection&#39;", "body": "<p><strong>Error:</strong> I am trying to use a IMultiValueConverter I wrote, but Intellisense is giving me this error <strong>\"Cannot add instance of type 'MultiBinding' to a collection of type 'DoubleCollection'. Only items of type 'double' are allowed.\"</strong></p>\n\n<p><strong>Q:</strong> I do not understand what this error means. I've used other converters to modify the StrokeDashArray properties in other paths; however, I am not sure how to use a multibinding. Can someone explain why I am getting this error, and how I remove this error?  </p>\n\n<p><strong>Details:</strong> The converter is named \"DashedWhenValue1ArrayEqualsValue2ArrayConverter\" and I have defined it above as a StaticResource. Here are the interesting parts of my converter</p>\n\n<pre><code>. . . \npublic DoubleCollection DoubleCollectionWhenEqual { get; set; }\npublic DoubleCollection DoubleCollectionWhenNotEqual { get; set; }\npublic DoubleCollection DoubleCollectionWhenValueIsNull { get; set; }\n\n. . .\n\npublic object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)\n{\n\n  if (values == null || values.Length &lt; 2)\n  {\n    return this.DoubleCollectionWhenValueIsNull;\n  }\n\n  if ( !(values[0] is Array) || !(values[1] is Array) )\n  {\n    return this.DoubleCollectionWhenNotEqual;\n  }\n\n  object[] array1 = values[0] as object[];\n  object[] array2 = values[1] as object[];\n\n  if (array1.Length != array2.Length)\n  {\n    return this.DoubleCollectionWhenNotEqual;\n  }\n\n  for (int i = 0; i &lt; array1.Length; i++)\n  {\n    if (array1[i] != array2[i])\n    {\n      return this.DoubleCollectionWhenNotEqual;\n    }\n  }\n\n  return this.DoubleCollectionWhenEqual;\n\n}\n. . .\n</code></pre>\n\n<p>I use my converter in the view here</p>\n\n<pre><code>&lt;Path x:Name=\"some_Path\" Data=\"M7,4.167 L7,162.08887\" HorizontalAlignment=\"Right\" Margin=\"0,0,-391.5,-871\" StrokeStartLineCap=\"Square\" StrokeEndLineCap=\"Square\" Stroke=\"#FF33CC33\" StrokeThickness=\"10\" Width=\"10.5\" RenderTransformOrigin=\"0,0\" Height=\"167.167\" VerticalAlignment=\"Bottom\" &gt;\n      &lt;Path.StrokeDashArray&gt;\n        &lt;MultiBinding Converter=\"{StaticResource DashedWhenValue1ArrayEqualsValue2ArrayConverter}\"&gt; &lt;!-- Error starts here --&gt;\n          &lt;Binding Path=\"ModelViewProperty1\" /&gt;\n          &lt;Binding Path=\"ModelViewProperty2\" /&gt;\n        &lt;/MultiBinding&gt; &lt;!-- Error ends here --&gt;\n      &lt;/Path.StrokeDashArray&gt;\n    &lt;/Path&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 263, "user_id": 5935720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-At6TterNA_o/AAAAAAAAAAI/AAAAAAAAAWc/CXGvwE-RRiE/photo.jpg?sz=128", "display_name": "Rick", "link": "https://stackoverflow.com/users/5935720/rick"}, "edited": false, "score": 1, "creation_date": 1458770179, "post_id": 36189406, "comment_id": 60014042, "body": "is the excel export a xls file or can it be a csv? If it can be a csv, and you are using page data to export to excel, you can easily do it client side. Another thing you can do is just send the bytes over to the client and process them client side."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1458781458, "post_id": 36189406, "comment_id": 60017750, "body": "To be clear, it&#39;s not HttpContext you have a problem with. Rather it&#39;s closing/ending the response."}, {"owner": {"reputation": 11, "user_id": 5202683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682f74a99bcd6183c2e65f92a71440a?s=128&d=identicon&r=PG&f=1", "display_name": "KyleS", "link": "https://stackoverflow.com/users/5202683/kyles"}, "reply_to_user": {"reputation": 263, "user_id": 5935720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-At6TterNA_o/AAAAAAAAAAI/AAAAAAAAAWc/CXGvwE-RRiE/photo.jpg?sz=128", "display_name": "Rick", "link": "https://stackoverflow.com/users/5935720/rick"}, "edited": false, "score": 0, "creation_date": 1458827959, "post_id": 36189406, "comment_id": 60037276, "body": "@Rick The export file is an xls.  I am working on another way of exporting the data, but my issue remains for files that my clients will need to download.  I need to make sure the export and download works on as many browsers, so I cannot rely on the download attribute.  I am not familiar with converting the files/data to bytes and sending that to client side, but I will look into that.  Thanks for the reply."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5202683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682f74a99bcd6183c2e65f92a71440a?s=128&d=identicon&r=PG&f=1", "display_name": "KyleS", "link": "https://stackoverflow.com/users/5202683/kyles"}, "edited": false, "score": 0, "creation_date": 1458828620, "post_id": 36190075, "comment_id": 60037738, "body": "Thanks for the reply.  I have tried redirecting users to another page to handle the download, but I had issues on IE with that method.  I cannot remember what the issue was, but I remember my boss telling me that he did not like the way it behaved and preferred the current method.  It is possible I did something wrong, so I will have to look into it again.  Also, thanks for clearing up my misunderstanding of HttpContext."}], "tags": [], "owner": {"reputation": 36917, "user_id": 2385, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b80a2c9f2d1e1bcaeee6bd4ec86550de?s=128&d=identicon&r=PG", "display_name": "Eduardo Molteni", "link": "https://stackoverflow.com/users/2385/eduardo-molteni"}, "is_accepted": false, "score": 1, "last_activity_date": 1458772779, "creation_date": 1458772779, "answer_id": 36190075, "question_id": 36189406, "link": "https://stackoverflow.com/questions/36189406/asp-net-dowload-export-without-using-httpcontext/36190075#36190075", "title": "ASP.net dowload/export without using HttpContext", "body": "<p>Every HTTP Request only have one HTTP Response, you can choose only if you want it to be a file download or another web page.</p>\n\n<p>Using or not HttpContext have nothing to do with it.</p>\n\n<p>That said, you can redirect the user to a download page, that triggers the download after x amount of seconds (as most download sites do)</p>\n"}], "owner": {"reputation": 11, "user_id": 5202683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682f74a99bcd6183c2e65f92a71440a?s=128&d=identicon&r=PG&f=1", "display_name": "KyleS", "link": "https://stackoverflow.com/users/5202683/kyles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458828707, "creation_date": 1458769993, "last_edit_date": 1458828707, "question_id": 36189406, "link": "https://stackoverflow.com/questions/36189406/asp-net-dowload-export-without-using-httpcontext", "title": "ASP.net dowload/export without using HttpContext", "body": "<p>I know there are a lot of questions about downloading and exporting files from an asp.net website, but they all end up with the same answer.  My website gives users the option to download files and export data to an excel spreadsheet.  Currently, I am using the solution everyone seems to provide which looks like this:</p>\n\n<pre><code>public void ExcelExport(System.Data.DataTable dtData, String strFileName)\n{\n    try\n    {\n        HttpContext.Current.Response.Clear();\n        HttpContext.Current.Response.AddHeader(\"content-disposition\", \"attachment; filename=\" + strFileName);\n        HttpContext.Current.Response.ContentType = GetMIMEType(Path.GetExtension(strFileName));\n\n        HttpContext.Current.Response.Write(BuildStringWriter(dtData));\n        HttpContext.Current.Response.Flush();\n        HttpContext.Current.Response.Close();\n    }\n    catch (Exception ex)\n    {\n        throw new Exception(\"ExcelExport() Failed: \" + ex.Message);\n    }\n}\n</code></pre>\n\n<p>This is the method I call to export data, and my download method is almost identical.  The problem is that it I cannot show a spinner or waiting message because I have no way of closing either one once the export/download is completed. There are also other tasks I would like to execute after exporting/downloading, but I currently cannot.</p>\n\n<p>So, my question is: is there another means for my client's to download files and export data without using HttpContext?  Also, I would prefer not having reference a dll that I would have to download.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "tfs", "continuous-integration"], "answers": [{"tags": [], "owner": {"reputation": 25359, "user_id": 5425825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb2be754626c633f6062ef8b9b0952f?s=128&d=identicon&r=PG&f=1", "display_name": "Cece Dong - MSFT", "link": "https://stackoverflow.com/users/5425825/cece-dong-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1458816207, "creation_date": 1458816207, "answer_id": 36198283, "question_id": 36189342, "link": "https://stackoverflow.com/questions/36189342/move-linked-files-to-tfs-server-to-enable-gated-checkin-and-compilation/36198283#36198283", "title": "Move linked files to TFS server to enable gated checkin and compilation", "body": "<p>You can set your project build order by right click on 'Project Solution' and select \"Select Project Build Order\" option, make Project A builds before Project B and C. </p>\n"}], "owner": {"reputation": 4597, "user_id": 193513, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f2d7e2409e55bf7ac00fbfcc69d80ae8?s=128&d=identicon&r=PG&f=1", "display_name": "kurasa", "link": "https://stackoverflow.com/users/193513/kurasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1458816207, "creation_date": 1458769741, "question_id": 36189342, "link": "https://stackoverflow.com/questions/36189342/move-linked-files-to-tfs-server-to-enable-gated-checkin-and-compilation", "title": "Move linked files to TFS server to enable gated checkin and compilation", "body": "<p>I have a solution with 3 projects. Project A generates a set of classes using CrmSvcUtil.exe. These classes are output to a file called 'Entities.cs'.</p>\n\n<p>The other projects (B and C) link to this file as a shortcut. This means that the file doesn't ever exist in projects B and C. This compiles just fine as far as Visual Studio goes but when I try and check in the code to TFS and use a gated build it of course can not build project B and C.</p>\n\n<p>What is the method for handling this? How can I get the files up onto the TFS server?</p>\n\n<p>I have tried a Pre-Build xcopy of the file from Project A to project B and C but this does not seem to enable the TFS server to recognise the file and compile it        </p>\n"}, {"tags": ["c#", "win-universal-app", "system.net"], "comments": [{"owner": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "reply_to_user": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1458770319, "post_id": 36189222, "comment_id": 60014115, "body": "<i>My Question: <b>How do I do this?</i></b> I&#39;d say a <i>Code Review</i> is for code you consider complete not code you don&#39;t know how to complete."}, {"owner": {"reputation": 1071, "user_id": 599535, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b092eeea70684a1dc9987d8cd25cc11d?s=128&d=identicon&r=PG", "display_name": "Lifes", "link": "https://stackoverflow.com/users/599535/lifes"}, "edited": false, "score": 0, "creation_date": 1458782848, "post_id": 36189222, "comment_id": 60018181, "body": "Try looking into the <code>[JsonProperty(&quot;myPropertyName&quot;)]</code>, it might help you."}, {"owner": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "edited": false, "score": 0, "creation_date": 1458812933, "post_id": 36189222, "comment_id": 60027884, "body": "So, do you mean you have already done the whole UWP project and tested it work well, but want to know if these code is meet the above requirements ,and if someone know better way to implement these requirements?"}, {"owner": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "reply_to_user": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "edited": false, "score": 0, "creation_date": 1458841897, "post_id": 36189222, "comment_id": 60046894, "body": "@Sunteen I have it partially working: Login works because it returns an object, but Logout always fails because it tries to parse the content of a 204 (NoContent) and there&#39;s nothing there (I&#39;d like this to return <code>true</code>/<code>false</code>). So I need help with returning <code>Int32</code> or <code>HttpResponseMessage</code> depending on the type. I could always have 3 different <code>execute</code> methods and call them accordingly if I have to, but it seems like I&#39;m missing a tiny bit here. A push in the right direction."}, {"owner": {"reputation": 10000, "user_id": 5620055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e3M5.jpg?s=128&g=1", "display_name": "Sunteen Wu", "link": "https://stackoverflow.com/users/5620055/sunteen-wu"}, "edited": false, "score": 1, "creation_date": 1458885579, "post_id": 36189222, "comment_id": 60062125, "body": "According to your idea, it seems code like <code>if (RESULT IS HttpResponseMessage)if(RESULT IS Boolen)if(!(RESULT  is ValueType))</code> is the only way meeting your requirements. But I recommend you not to use above code. Different features have separate execute method as you thinking about is a better way. The code looks like a little much doesn&#39;t mean a bad design, oppositely, like the code above, put the execute logic all in one, will increase coupling. For example, if you only want to change the logic of the Logout, you should update the only execute method, accidentally affect the Login feature."}], "answers": [{"comments": [{"owner": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "edited": false, "score": 0, "creation_date": 1459189907, "post_id": 36260513, "comment_id": 60164462, "body": "The wordy methods are exactly what I want to avoid.   Also, is there a reason you&#39;re instantiating a new <code>HttpClient</code> in each method or did you include that just for the sake of completeness?   I&#39;ve declared one instance of <code>HttpClient</code> in my <code>ServerAPI</code> class and plan to route all requests through that. Thanks."}, {"owner": {"reputation": 3486, "user_id": 2520974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZWjmA.jpg?s=128&g=1", "display_name": "Stamos", "link": "https://stackoverflow.com/users/2520974/stamos"}, "reply_to_user": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "edited": false, "score": 1, "creation_date": 1459191176, "post_id": 36260513, "comment_id": 60165190, "body": "Correct, it was just for the sake of completeness. I was also between wordy or somethink more universal but I choose to handle each api call in different method cause its easier for me to handle what I have to do. Also is easier for my team mates to comprehend it and make changes."}], "tags": [], "owner": {"reputation": 3486, "user_id": 2520974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZWjmA.jpg?s=128&g=1", "display_name": "Stamos", "link": "https://stackoverflow.com/users/2520974/stamos"}, "is_accepted": false, "score": 15, "last_activity_date": 1606298319, "last_edit_date": 1606298319, "creation_date": 1459161154, "answer_id": 36260513, "question_id": 36189222, "link": "https://stackoverflow.com/questions/36189222/converting-the-content-of-httpresponsemessage-to-object/36260513#36260513", "title": "Converting the content of HttpResponseMessage to object", "body": "<p>Here is an example of how I've done it using MVC API 2 as backend. My backend returns a json result if the credentials are correct. <code>UserCredentials</code> class is the exact same model as the json result. You will have to use <code>System.Net.Http.Formatting</code> which can be found in the <code>Microsoft.AspNet.WebApi.Client</code> NugetPackage</p>\n<pre><code>public static async Task&lt;UserCredentials&gt; Login(string username, string password)\n{\n    string baseAddress = &quot;127.0.0.1/&quot;;\n    HttpClient client = new HttpClient();\n\n    var authorizationHeader = Convert.ToBase64String(Encoding.UTF8.GetBytes(&quot;xyz:secretKey&quot;));\n    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(&quot;Basic&quot;, authorizationHeader);\n\n\n\n    var form = new Dictionary&lt;string, string&gt;\n    {\n        { &quot;grant_type&quot;, &quot;password&quot; },\n        { &quot;username&quot;, username },\n        { &quot;password&quot;, password },\n    };\n\n    var Response = await client.PostAsync(baseAddress + &quot;oauth/token&quot;, new FormUrlEncodedContent(form));\n    if (Response.StatusCode == HttpStatusCode.OK)\n    {\n        return await Response.Content.ReadAsAsync&lt;UserCredentials&gt;(new[] { new JsonMediaTypeFormatter() });\n    }\n    else\n    {\n        return null;\n    }\n}\n</code></pre>\n<p>and you also need <code>Newtonsoft.Json</code> package.</p>\n<pre><code>public class UserCredentials\n    {\n        [JsonProperty(&quot;access_token&quot;)]\n        public string AccessToken { get; set; }\n\n        [JsonProperty(&quot;token_type&quot;)]\n        public string TokenType { get; set; }\n\n        [JsonProperty(&quot;expires_in&quot;)]\n        public int ExpiresIn { get; set; }\n\n        //more properties...\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "is_accepted": true, "score": 1, "last_activity_date": 1459189553, "creation_date": 1459189553, "answer_id": 36268536, "question_id": 36189222, "link": "https://stackoverflow.com/questions/36189222/converting-the-content-of-httpresponsemessage-to-object/36268536#36268536", "title": "Converting the content of HttpResponseMessage to object", "body": "<p>So, first to address the <em>you need <code>Newtonsoft.Json</code></em> comments, I really haven't felt the need yet. I've found the built in support to work well so far (using the <code>APIError</code> Json in my original question:</p>\n\n<pre><code>[DataContract]\ninternal class APIError\n{\n    [DataMember (Name = \"status\")]\n    public int StatusCode { get; set; }\n    [DataMember (Name = \"code\")]\n    public int ErrorCode { get; set; }\n}\n</code></pre>\n\n<p>I have also defined a <code>JsonHelper</code> class to (de)serialize:</p>\n\n<pre><code>public class JsonHelper\n{\n    public static T fromJson&lt;T&gt; (string json)\n    {\n        var bytes = Encoding.Unicode.GetBytes (json);\n\n        using (MemoryStream mst = new MemoryStream(bytes))\n        {\n            var serializer = new DataContractJsonSerializer (typeof (T));\n            return (T)serializer.ReadObject (mst);\n        }\n    }\n\n    public static string toJson (object instance)\n    {\n        using (MemoryStream mst = new MemoryStream())\n        {\n            var serializer = new DataContractJsonSerializer (instance.GetType());\n            serializer.WriteObject (mst, instance);\n            mst.Position = 0;\n\n            using (StreamReader r = new StreamReader(mst))\n            {\n                return r.ReadToEnd();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The above bits I already had working. As for a single method that would handle each request execution based on the type of result expected while it makes it easier to <em>change</em> how I handle things (like errors, etc), it also adds to the complexity and thus readability of my code. I ended up creating separate methods (all variants of the <code>Execute</code> method in the original question:</p>\n\n<pre><code>// execute and return response.StatusCode\nprivate static async Task&lt;HttpStatusCode&gt; ExecuteForStatusCode (HttpRequestMessage request, bool authenticate = true)\n// execute and return response without processing\nprivate static async Task&lt;HttpResponseMessage&gt; ExecuteForRawResponse(HttpRequestMessage request, bool authenticate = true)\n// execute and return response.IsSuccessStatusCode\nprivate static async Task&lt;Boolean&gt; ExecuteForBoolean (HttpRequestMessage request, bool authenticate = true)\n// execute and extract JSON payload from response content and convert to RESULT \nprivate static async Task&lt;RESULT&gt; Execute&lt;RESULT&gt;(HttpRequestMessage request, bool authenticate = true)\n</code></pre>\n\n<p>I can move the unauthorized responses (which my current code isn't handling right now anyway) into a new method <code>CheckResponse</code> that will (for example) log the user out if a 401 is received.</p>\n"}], "owner": {"reputation": 13271, "user_id": 675750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2213833e915217fc01fdeb887a7c0b5?s=128&d=identicon&r=PG", "display_name": "copolii", "link": "https://stackoverflow.com/users/675750/copolii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31003, "favorite_count": 2, "accepted_answer_id": 36268536, "answer_count": 2, "score": 8, "last_activity_date": 1606298319, "creation_date": 1458769282, "last_edit_date": 1458779019, "question_id": 36189222, "link": "https://stackoverflow.com/questions/36189222/converting-the-content-of-httpresponsemessage-to-object", "title": "Converting the content of HttpResponseMessage to object", "body": "<p><em>My Question: <strong>How do I do this?</em></strong></p>\n\n<p>So, I hadn't touched anything .Net in about 6 years until this week. There's a lot that I've forgotten and even more that I never knew and while I love the idea of the async/await keywords, I'm having a slight problem implementing the following requirements for a client's API implementation:</p>\n\n<ol>\n<li>The <code>ServerAPI</code> class has a method for each of the API methods, taking appropriate input parameters (e.g. the method <code>Login</code> takes in an <code>id</code> and a <code>password</code>, makes the API call and returns the result to the caller).</li>\n<li>I want to abstract away the JSON so that my API methods return the actual object you're fetching (e.g. the <code>Login</code> method above returns a <code>User</code> object with your auth token, uid, etc.)</li>\n<li>Some API methods return a 204 on success or no meaningful content (not meaningful in my usecase maybe I only care about success/failure), for these I'd like to return either a bool (<code>true</code> = success) or the status code.</li>\n<li>I'd like to keep the async/await (or equivalent) design, because it seems to really work well so far.</li>\n<li>For some methods, I might need to just return the <code>HttpResponseMessage</code> object and let the caller deal with it.</li>\n</ol>\n\n<p>This is roughly what I have so far and I'm not sure how to make it compliant with the above OR whether I'm even doing this right. Any guidance is appreciated (flaming, however, is not).</p>\n\n<pre><code>// 200 (+User JSON) = success, otherwise APIError JSON\ninternal async Task&lt;User&gt; Login (string id, string password)\n{\n    LoginPayload payload = new LoginPayload() { LoginId = id, Password = password};\n    var request = NewRequest(HttpMethod.Post, \"login\");\n    JsonPayload&lt;LoginPayload&gt;(payload, ref request);\n\n    return await Execute&lt;Account&gt;(request, false);\n}\n\n// 204: success, anything else failure\ninternal async Task&lt;Boolean&gt; LogOut ()\n{\n    return await Execute&lt;Boolean&gt;(NewRequest(HttpMethod.Delete, \"login\"), true);\n}\n\ninternal async Task&lt;HttpResponseMessage&gt; GetRawResponse ()\n{\n    return await Execute&lt;HttpResponseMessage&gt;(NewRequest(HttpMethod.Get, \"raw/something\"), true);\n}\n\ninternal async Task&lt;Int32&gt; GetMeStatusCode ()\n{\n    return await Execute&lt;Int32&gt;(NewRequest(HttpMethod.Get, \"some/intstatus\"), true);\n}\n\nprivate async Task&lt;RESULT&gt; Execute&lt;RESULT&gt;(HttpRequestMessage request, bool authenticate)\n{\n    if (authenticate)\n        AuthenticateRequest(ref request); // add auth token to request\n\n    var tcs = new TaskCompletionSource&lt;RESULT&gt;();\n    var response = await client.SendAsync(request);     \n\n    // TODO: If the RESULT is just HTTPResponseMessage, the rest is unnecessary        \n\n    if (response.IsSuccessStatusCode)\n    {\n        try\n        {\n            // TryParse needs to handle Boolean differently than other types\n            RESULT result = await TryParse&lt;RESULT&gt;(response);\n            tcs.SetResult(result);\n        }\n        catch (Exception e)\n        {\n            tcs.SetException(e);\n        }\n\n    }\n    else\n    {\n        try\n        {\n            APIError error = await TryParse&lt;APIError&gt;(response);\n            tcs.SetException(new APIException(error));\n        }\n        catch (Exception e)\n        {\n            tcs.SetException(new APIException(\"Unknown error\"));\n        }\n    }\n\n    return tcs.Task.Result;\n}\n</code></pre>\n\n<p>This is the <code>APIError</code> JSON structure (it's the status code + a custom error code). </p>\n\n<pre><code>{\n  \"status\": 404,\n  \"code\":216,\n  \"msg\":\"User not found\"\n}\n</code></pre>\n\n<p>I would prefer to stay with <code>System.Net</code>, but that's mostly because I don't want to switch all my code over. If what I want is easier done in other ways then it's obviously worth the extra work.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "checkbox", "barcode"], "comments": [{"owner": {"reputation": 690, "user_id": 5866805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ff664732a5db2ad641d9f2c9a1c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Bong", "link": "https://stackoverflow.com/users/5866805/marco-bong"}, "edited": false, "score": 0, "creation_date": 1458797051, "post_id": 36189009, "comment_id": 60021596, "body": "string barCode = Barcode + txtCode.Text;  seem like you din&#39;t include checkbox selected value"}, {"owner": {"reputation": 386, "user_id": 5251592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYJJt.jpg?s=128&g=1", "display_name": "TSungur", "link": "https://stackoverflow.com/users/5251592/tsungur"}, "edited": false, "score": 0, "creation_date": 1458812220, "post_id": 36189009, "comment_id": 60027501, "body": "Exactly! and also where is the declaration of <code>Barcode</code>? Also don&#39;t use <code>BarCodeBind</code> as your checkbox ID since you have used it as a method in your code."}, {"owner": {"reputation": 211, "user_id": 5633284, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3aa207464e2dc0b3189c7a95418c1f32?s=128&d=identicon&r=PG&f=1", "display_name": "walangala", "link": "https://stackoverflow.com/users/5633284/walangala"}, "edited": false, "score": 0, "creation_date": 1458833968, "post_id": 36189009, "comment_id": 60041626, "body": "Yes I&#39;m aware of that, what I was trying to see if I can simply declare it in my code or did it have to be declared in the database. I was able to declare it in my code and it worked."}], "owner": {"reputation": 211, "user_id": 5633284, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3aa207464e2dc0b3189c7a95418c1f32?s=128&d=identicon&r=PG&f=1", "display_name": "walangala", "link": "https://stackoverflow.com/users/5633284/walangala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458834189, "creation_date": 1458768414, "last_edit_date": 1458795979, "question_id": 36189009, "link": "https://stackoverflow.com/questions/36189009/concatenate-databound-checkbox-value-with-user-input-text-to-string-with-barcode", "title": "concatenate databound checkbox value with user input text to string with barcode generator", "body": "<p>I'm trying to generate a barcode with user text as well as a value selected from a databound checkbox. My code compiles fine, but when I generate the barcode, it is not reading the selected value from the checkbox and instead prints with the barcode:</p>\n\n<blockquote>\n  <p>SYSTEM.WEB.UI.WEBCONTROLS.CHECKBOXLIST'USER INPUT'</p>\n</blockquote>\n\n<p>Here is the code to bind the data from the database.</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n  if (!IsPostBack)\n  {\n      this.BarcodeBind();\n  }\n}\n\npublic void BarcodeBind()\n{\n\n    SqlConnection conn = new SqlConnection(GetConnectionString());\n\n    using (SqlCommand cmd = new SqlCommand())\n    {\n        cmd.CommandText = \"SELECT Statement\"\n        cmd.Connection = conn;\n        conn.Open();\n\n\n        using (SqlDataReader sdr = cmd.ExecuteReader())\n        {\n            while (sdr.Read())\n            {\n                ListItem item = new ListItem();\n                item.Text = sdr[\"BarcodeNum\"].ToString();\n                cmd.Parameters.AddWithValue(\"@BarcodeNum\", BarcodeNum);\n                BarcodeNum.Items.Add(item);\n\n            }\n        }\n        conn.Close();\n\n    }           \n\n}\n</code></pre>\n\n<p>Here is the code to generate the barcode:</p>\n\n<pre><code>protected void btnGenerate_Click(object sender, EventArgs e)\n{\n  string barCode = Barcode + txtCode.Text;\n  System.Web.UI.WebControls.Image imgBarCode = new System.Web.UI.WebControls.Image();\n     using (Bitmap bitMap = new Bitmap(barCode.Length * 50, 90))\n    {\n        using (Graphics graphics = Graphics.FromImage(bitMap))\n        {\n            Font oFont = new Font(\"IDAutomationHC39M\", 18);\n            PointF point = new PointF(3f, 3f);\n            SolidBrush blackBrush = new SolidBrush(Color.Black);\n            SolidBrush whiteBrush = new SolidBrush(Color.White);\n            graphics.FillRectangle(whiteBrush, 0, 0, bitMap.Width, bitMap.Height);\n            graphics.DrawString(barCode, oFont, blackBrush, point);\n        }\n        using (MemoryStream ms = new MemoryStream())\n        {\n            bitMap.Save(ms, System.Drawing.Imaging.ImageFormat.Png);\n            byte[] byteImage = ms.ToArray();\n\n            Convert.ToBase64String(byteImage);\n            imgBarCode.ImageUrl = \"data:image/png;base64,\" + Convert.ToBase64String(byteImage);\n        }\n     plBarCode.Controls.Add(imgBarCode);\n}\n</code></pre>\n\n<p>And here is my html code:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;div&gt;\n            &lt;asp:CheckBoxList ID=\"BarCodeBind\" runat=\"server\" \n            &lt;/asp:CheckBoxList&gt;\n            &lt;hr /&gt;     \n            &lt;asp:TextBox ID=\"txtCode\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n            &lt;asp:Button ID=\"btnGenerate\" runat=\"server\" Text=\"Generate\"   OnClick=\"btnGenerate_Click\" /&gt;\n            &lt;hr /&gt;\n            &lt;asp:PlaceHolder ID=\"plBarCode\" runat=\"server\" /&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>I believe it has something to do with stating that one of the values is selected. But I'm not sure how to do it with something databound. Or if the databound item in question should be controlled by a boolean value in the database itself?</p>\n"}, {"tags": ["c#", "json", "dictionary", "serialization", "json-api"], "comments": [{"owner": {"reputation": 6829, "user_id": 5649561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xNgLZ.jpg?s=128&g=1", "display_name": "Vadim Martynov", "link": "https://stackoverflow.com/users/5649561/vadim-martynov"}, "edited": false, "score": 0, "creation_date": 1458768494, "post_id": 36188952, "comment_id": 60013290, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/5597349/how-do-i-convert-a-dictionary-to-a-json-string-in-c\">How do I convert a dictionary to a JSON String in C#?</a>"}, {"owner": {"reputation": 11602, "user_id": 3410196, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b48fe9c49292de7930459187a4a98d77?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Derck", "link": "https://stackoverflow.com/users/3410196/alexander-derck"}, "edited": false, "score": 0, "creation_date": 1458834478, "post_id": 36188952, "comment_id": 60041994, "body": "Use <code>ToList()</code> on the dictionary to transform into a <code>List&lt;KeyValuePair&lt;string,T&gt;&gt;</code>"}, {"owner": {"reputation": 1445, "user_id": 2077499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H9Is9.jpg?s=128&g=1", "display_name": "dr. rAI", "link": "https://stackoverflow.com/users/2077499/dr-rai"}, "edited": false, "score": 0, "creation_date": 1459369903, "post_id": 36188952, "comment_id": 60261564, "body": "Thanks Alex. That&#39;s probably a fair work around if the serializer is not doing something like this out of the box. This question was meant more about experiences with Serializers that do indeed support Dictionary serialization. And: I used this technique a lot when serializing XML and didn&#39;t like it too much because of the KeyValuePair &quot;clutter&quot; that it generated in the output file. Not with JSON I suppose. Worth a try. Thanks again."}], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 2077499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H9Is9.jpg?s=128&g=1", "display_name": "dr. rAI", "link": "https://stackoverflow.com/users/2077499/dr-rai"}, "edited": false, "score": 0, "creation_date": 1459368612, "post_id": 36204356, "comment_id": 60260846, "body": "Thanks for pointing me to Jil. Looks interesting and could be a good match for me in the current project."}, {"owner": {"reputation": 1445, "user_id": 2077499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H9Is9.jpg?s=128&g=1", "display_name": "dr. rAI", "link": "https://stackoverflow.com/users/2077499/dr-rai"}, "edited": false, "score": 0, "creation_date": 1459368958, "post_id": 36204356, "comment_id": 60261023, "body": "Jsonapi: yes, you are right. It seems to go further by conventions about how to store/handle references/relationships and then some. Have to see how I get my WebService Layer to work with the standard JSON API adapter for Ember."}], "tags": [], "owner": {"reputation": 2127, "user_id": 277700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2398503c4d9658709bd9bbe2989b330?s=128&d=identicon&r=PG", "display_name": "AndyPook", "link": "https://stackoverflow.com/users/277700/andypook"}, "is_accepted": true, "score": 0, "last_activity_date": 1458834323, "creation_date": 1458834323, "answer_id": 36204356, "question_id": 36188952, "link": "https://stackoverflow.com/questions/36188952/which-json-serializers-can-handle-cs-dictionarytkey-t/36204356#36204356", "title": "Which JSON Serializers can handle C#&#39;s Dictionary&lt;TKey,T&gt;", "body": "<p><a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow\">http://www.newtonsoft.com/json</a> is the one I've used the most. One of the faster and very flexible. It is the default serializer used by asp.net MVC/WebAPI</p>\n\n<p><a href=\"https://github.com/kevin-montrose/Jil\" rel=\"nofollow\">https://github.com/kevin-montrose/Jil</a> is used by StackOverflow and is <em>very</em> fast.</p>\n\n<p>Jsonapi is a higher level concern. It does not change how json is de/serialized. It is just a pattern, a convention, a standard, a schema, for the shape/format to return your data in. It does not have much bearing on which serializer to choose.</p>\n"}, {"comments": [{"owner": {"reputation": 1445, "user_id": 2077499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H9Is9.jpg?s=128&g=1", "display_name": "dr. rAI", "link": "https://stackoverflow.com/users/2077499/dr-rai"}, "edited": false, "score": 0, "creation_date": 1459369973, "post_id": 36204772, "comment_id": 60261606, "body": "Thanks for your comment, Ian.  It&#39;s probably a bit philosophical which approach to use. A DTO layer for every internal class that I want to make persistent has it&#39;s charm. With C# classes being serialized to XML I was a fan of this approach. Currently I am a bit more in favor to use the C# classes as they are - as well on the client side/JavaScript end."}], "tags": [], "owner": {"reputation": 49163, "user_id": 57159, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/699a9b2caefb52530d1c872bb2932d21?s=128&d=identicon&r=PG", "display_name": "Ian Ringrose", "link": "https://stackoverflow.com/users/57159/ian-ringrose"}, "is_accepted": false, "score": 0, "last_activity_date": 1458835595, "creation_date": 1458835595, "answer_id": 36204772, "question_id": 36188952, "link": "https://stackoverflow.com/questions/36188952/which-json-serializers-can-handle-cs-dictionarytkey-t/36204772#36204772", "title": "Which JSON Serializers can handle C#&#39;s Dictionary&lt;TKey,T&gt;", "body": "<p>After many years of experience of different serializers and trying to get them to cope with all sort of collection types, I have come to a conclusion:</p>\n\n<p>Often it is better to convert my complex objects, into simple DTO (data transfer objects) that JUST have simple public properties (or fields), with arrays for all \u201ccollections\u201d.   And then ALL serializers can cope, including the serializers I don\u2019t yet know about, but will have to port to next year\u2026.</p>\n\n<p>In other words, write more code, but at least it is code that I can write in my sleep!  Automapper can also help with reducing the amount of custom code needed to create the DTOs.</p>\n"}], "owner": {"reputation": 1445, "user_id": 2077499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H9Is9.jpg?s=128&g=1", "display_name": "dr. rAI", "link": "https://stackoverflow.com/users/2077499/dr-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 36204356, "answer_count": 2, "score": 0, "last_activity_date": 1459369387, "creation_date": 1458768214, "last_edit_date": 1459369387, "question_id": 36188952, "link": "https://stackoverflow.com/questions/36188952/which-json-serializers-can-handle-cs-dictionarytkey-t", "title": "Which JSON Serializers can handle C#&#39;s Dictionary&lt;TKey,T&gt;", "body": "<p>I've been using several serializers from .Net 4.x for a while and think I inherited them from .Net 3.5 times. I just realized that most of these serializers back then were not able to serialize and deserialize any C# Dictionary in general.</p>\n\n<p>In the code I am refactoring right now, I see workarounds like streaming out a List&lt;T&gt; instead of a Dictionary&lt;string, T&gt; (which I consider a work around and want o avoid and a rather use the built-in capabilities of a serializer).</p>\n\n<p>What's the status on your favorite JSON serializer?</p>\n\n<p>Also: do you know if your serializer is JSON API compliant? (JSONAPI.org)</p>\n"}, {"tags": ["c#", "sockets", "tcp"], "comments": [{"owner": {"reputation": 1327, "user_id": 2326139, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/lbV5q.jpg?s=128&g=1", "display_name": "Mohammad Hossein Amri", "link": "https://stackoverflow.com/users/2326139/mohammad-hossein-amri"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1458770023, "post_id": 36188746, "comment_id": 60013961, "body": "logically it should work, anyway I changed the <code>async void</code> to <code>async Task</code> and used it like <code>socket.RunServerAsync().Wait()</code> and worked. i just don&#39;t get it why it&#39;s leaving the while loop"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1458831758, "post_id": 36188746, "comment_id": 60039959, "body": "Turns out that you were not willing to cooperate and provide required information. I have deleted my answer for that reason and voted to close. It&#39;s not possible to resolve this question under these circumstances."}], "owner": {"reputation": 1327, "user_id": 2326139, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/lbV5q.jpg?s=128&g=1", "display_name": "Mohammad Hossein Amri", "link": "https://stackoverflow.com/users/2326139/mohammad-hossein-amri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458770203, "creation_date": 1458767415, "question_id": 36188746, "link": "https://stackoverflow.com/questions/36188746/tcp-listener-accepttcpclientasync-exiting-the-while-loop-without-error", "title": "Tcp listener AcceptTCPClientAsync exiting the while loop without error", "body": "<p>I am writing a tcp listener to save each connection into a file</p>\n\n<p>the code come as follow:</p>\n\n<pre><code>using NDesk.Options;\nusing System;\nusing System.IO;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace Command.Socket\n{\n    public class Socket\n    {\n        public Socket()\n        {\n            Port = 4380;\n        }\n        int Port { get; set; }\n        public async void RunServerAsync()\n        {\n\n            var listener = new TcpListener(IPAddress.Any, Port);\n            listener.Start();\n            try\n            {\n                while (true)\n                {\n                    Accept(await listener.AcceptTcpClientAsync());\n                    //Console.WriteLine(\"ha!\");\n                }\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e.Message);\n            }\n            finally\n            {\n                listener.Stop();\n\n            }\n            Console.WriteLine(\"\");\n        }\n\n        private async Task Accept(TcpClient client)\n        {\n            await Task.Yield();\n\n            try\n            {\n                using (client)\n                using (NetworkStream n = client.GetStream())\n                using (StreamWriter file = new StreamWriter(DateTime.Now.ToFileTimeUtc() + \"text\"))\n                {\n                    byte[] data = new byte[500];\n                    int bytesRead = 0;\n                    int chunkSize = 1;\n                    while (bytesRead &lt; data.Length &amp;&amp; chunkSize &gt; 0)\n                    {\n                        bytesRead += chunkSize = await n.ReadAsync(data, bytesRead, data.Length - bytesRead);\n\n                        Array.Reverse(data);\n                        string[] sata = data.Select(d =&gt; d.ToString()).ToArray();\n                        foreach (var s in sata)\n                        {\n                            file.Write(s);\n                        }\n                        file.Write(Environment.NewLine);\n                        await n.WriteAsync(data, 0, data.Length);\n                    }\n                }\n            }\n            catch (Exception exception)\n            {\n                Console.WriteLine(exception.Message);\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am using the Socket class as follow:</p>\n\n<pre><code>Socket socket = new Socket();\nsocket.RunServerAsync();\n</code></pre>\n\n<p>my problem is the code is leaving the while loop without any error or message.\nif you want to test it just create a console application and create a class and use it.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 3341495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86d17447810e83406cce9752296594af?s=128&d=identicon&r=PG", "display_name": "Terrence Young", "link": "https://stackoverflow.com/users/3341495/terrence-young"}, "is_accepted": true, "score": 0, "last_activity_date": 1458768525, "creation_date": 1458768525, "answer_id": 36189035, "question_id": 36188723, "link": "https://stackoverflow.com/questions/36188723/android-recycle-view-preventing-toolbar-from-opening-navigation-drawer-on-4-4-9/36189035#36189035", "title": "Android Recycle view preventing Toolbar from opening Navigation Drawer on 4.4.9 device, works on 6.0 device", "body": "<p>Annnd, it would help if I could read, per the android design docs, RecyclerViews belong outside the AppBarLayout for responding to scrollable events: <a href=\"http://android-developers.blogspot.com.tr/2015/05/android-design-support-library.html\" rel=\"nofollow noreferrer\">http://android-developers.blogspot.com.tr/2015/05/android-design-support-library.html</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gC3HF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gC3HF.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:id=\"@+id/DrawerLayout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    android:background=\"@color/backgroundColor\"&gt;\r\n    &lt;android.support.design.widget.CoordinatorLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:fitsSystemWindows=\"true\"\r\n        tools:context=\"PMobile_Equinox.MainActivity\"&gt;\r\n\r\n      &lt;android.support.v7.widget.RecyclerView\r\n          android:id=\"@+id/recyclerView\"\r\n          android:scrollbars=\"vertical\"\r\n          android:layout_width=\"match_parent\"\r\n          android:layout_height=\"match_parent\" /&gt;\r\n      \r\n        &lt;android.support.design.widget.AppBarLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\r\n            &lt;android.support.v7.widget.Toolbar\r\n                android:id=\"@+id/toolbar\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_width=\"match_parent\"\r\n                android:elevation=\"2dp\"\r\n                app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\r\n                android:minHeight=\"?attr/actionBarSize\"\r\n                android:background=\"?attr/colorPrimary\" /&gt;\r\n        &lt;/android.support.design.widget.AppBarLayout&gt;\r\n      &lt;!-- the rest --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 158, "user_id": 3341495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86d17447810e83406cce9752296594af?s=128&d=identicon&r=PG", "display_name": "Terrence Young", "link": "https://stackoverflow.com/users/3341495/terrence-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 36189035, "answer_count": 1, "score": 0, "last_activity_date": 1458768525, "creation_date": 1458767346, "question_id": 36188723, "link": "https://stackoverflow.com/questions/36188723/android-recycle-view-preventing-toolbar-from-opening-navigation-drawer-on-4-4-9", "title": "Android Recycle view preventing Toolbar from opening Navigation Drawer on 4.4.9 device, works on 6.0 device", "body": "<p>I have layout like this:\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/DrawerLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    android:background=\"@color/backgroundColor\"&gt;\n    &lt;android.support.design.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:context=\".MainActivity\"&gt;\n        &lt;android.support.design.widget.AppBarLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_height=\"wrap_content\"\n                android:layout_width=\"match_parent\"\n                android:elevation=\"2dp\"\n                app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n                android:minHeight=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\" /&gt;\n        &lt;/android.support.design.widget.AppBarLayout&gt;\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/recyclerView\"\n            android:scrollbars=\"vertical\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"fill_parent\" /&gt;\n        &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/panic\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            android:layout_margin=\"16dp\"\n            app:backgroundTint=\"@color/panicButton\"\n            android:src=\"@drawable/ic_0005_panic_button_icon\" /&gt;\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\n    &lt;android.support.design.widget.NavigationView\n        android:fitsSystemWindows=\"true\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:id=\"@+id/nav_view\"\n        app:headerLayout=\"@layout/header\"\n        app:menu=\"@menu/navigationviewmenu\" /&gt;\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n\n\n<p>And a CardView that loads in the RecycleView looks like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"fill_parent\"\r\n    android:layout_height=\"wrap_content\"&gt;\r\n    &lt;android.support.v7.widget.CardView\r\n        android:id=\"@+id/card_view_elogs\"\r\n        card_view:cardElevation=\"@dimen/card_elevation\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_width=\"@dimen/card_width\"\r\n        android:layout_height=\"@dimen/card_height\"\r\n        android:layout_marginLeft=\"@dimen/card_margin_left\"\r\n        android:layout_marginTop=\"@dimen/card_margin_top\"\r\n        card_view:cardBackgroundColor=\"@color/backgroundCard\"\r\n        card_view:contentPaddingLeft=\"@dimen/card_content_padding_left\"\r\n        card_view:contentPaddingTop=\"@dimen/card_content_padding_top\"&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"8dp\"&gt;\r\n            &lt;TextView\r\n                android:text=\"eDriver Logs\"\r\n                android:layout_marginTop=\"0dp\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:id=\"@+id/textViewHeaderElogsCard\"\r\n                android:gravity=\"left\"\r\n                android:textSize=\"16sp\"\r\n                android:textColor=\"@color/cardHeader\" /&gt;\r\n            &lt;TextView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textAppearance=\"?android:attr/textAppearanceMedium\"\r\n                android:textColor=\"#333333\"\r\n                android:id=\"@+id/textViewBodyElogsCard\"\r\n                android:layout_gravity=\"center_horizontal\"\r\n                android:layout_marginLeft=\"4dp\" /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/android.support.v7.widget.CardView&gt;\r\n&lt;/LinearLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nHere is the MainActivity:</p>\n\n<pre><code>public class MainActivity : AppCompatActivity\n{\n\n    TypeFaceManager tfmanager;\n\n\n    protected int LayoutResource\n    {\n        get { return Resource.Layout.activity_navigationview; }\n        //get { return Resource.Layout.activity_drawerlayout; }\n    }\n\n    public Toolbar Toolbar { get; set; }\n\n    protected override void OnCreate(Bundle bundle)\n    {\n        base.OnCreate(bundle);\n        SetContentView(LayoutResource);\n        Toolbar = FindViewById&lt;Toolbar&gt;(Resource.Id.toolbar);\n        if (Toolbar != null)\n        {\n            SetSupportActionBar(Toolbar);\n\n            SupportActionBar.SetDisplayHomeAsUpEnabled(true);\n            SupportActionBar.SetHomeButtonEnabled(true);\n        }\n        var panic = FindViewById&lt;FloatingActionButton&gt;(Resource.Id.panic);\n        panic.Click += PanicTouched;\n\n        RecyclerView recView = FindViewById&lt;RecyclerView&gt;(Resource.Id.recyclerView);\n\n        RecyclerView.LayoutManager llm = new GridLayoutManager(this, 1, GridLayoutManager.Horizontal, false);\n\n        recView.SetLayoutManager(llm);\n        tfmanager = new TypeFaceManager(this);\n        CardAdapter adapter = new CardAdapter(tfmanager.RobotoMedium);\n\n        recView.SetAdapter(adapter);\n\n         _drawerlayoutNav = FindViewById&lt;DrawerLayout&gt;(Resource.Id.DrawerLayout);\n\n        _toolbarNav = FindViewById&lt;Toolbar&gt;(Resource.Id.toolbar);\n        SetSupportActionBar(_toolbarNav);\n        SupportActionBar.SetDisplayHomeAsUpEnabled(true);\n        SupportActionBar.Title = \"PeopleNet Home\"; // Testing \n\n        // Attach item selected handler to navigation view\n        var navigationView = FindViewById&lt;NavigationView&gt;(Resource.Id.nav_view);\n\n        navigationView.NavigationItemSelected += NavigationView_NavigationItemSelected;\n\n        // Create ActionBarDrawerToggle button and add it to the toolbar\n        var drawerToggle = new ActionBarDrawerToggle(this,\n            _drawerlayoutNav, _toolbarNav,\n            Resource.String.drawer_open_accessibilitySupport, Resource.String.drawer_closed_accessibilitySupport);\n        _drawerlayoutNav.SetDrawerListener(drawerToggle);\n\n        drawerToggle.SyncState();\n\n    }\n</code></pre>\n\n<p>The drawer works when I click on the toolbar on a 6.0 device, however on a 4.4 device the recycler view is preventing the drawer from being opened. Any ideas? </p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 1324, "user_id": 5090010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h1SFg.jpg?s=128&g=1", "display_name": "JDupont", "link": "https://stackoverflow.com/users/5090010/jdupont"}, "edited": false, "score": 0, "creation_date": 1458768561, "post_id": 36188603, "comment_id": 60013315, "body": "Just glancing at it and this may be a shot in the dark. Have you tried changing public List&lt;AdImage&gt; AdImages {get; set;} in your Advertisement model to an EF navigation property: public virtual ICollection&lt;AdImage&gt; AdImages {get; set;} ?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1458769841, "post_id": 36188603, "comment_id": 60013861, "body": "Hmm, not sure if would help, but try removing <code>modelBuilder.Entity&lt;AdImage&gt;()         .HasRequired(x =&gt; x.Advertisement);</code>, the relation is already properly configured by the previous statement, and this might override it incorrectly since it&#39;s incomplete."}], "answers": [{"comments": [{"owner": {"reputation": 38223, "user_id": 181771, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NQuFs.jpg?s=128&g=1", "display_name": "DaveDev", "link": "https://stackoverflow.com/users/181771/davedev"}, "edited": false, "score": 0, "creation_date": 1459321786, "post_id": 36301553, "comment_id": 60227983, "body": "Thanks for looking into it - it seems to be something inside <code>AbpUser&lt;Tenant, User&gt;</code> that is causing the problem <code>model</code> is a very simple View Model class that does nothing except contain data from the request. <code>AbpUser</code> is a fairly complicated can of worms from <a href=\"https://github.com/aspnetboilerplate\" rel=\"nofollow noreferrer\">github.com/aspnetboilerplate</a>"}, {"owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "reply_to_user": {"reputation": 38223, "user_id": 181771, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NQuFs.jpg?s=128&g=1", "display_name": "DaveDev", "link": "https://stackoverflow.com/users/181771/davedev"}, "edited": false, "score": 0, "creation_date": 1459332465, "post_id": 36301553, "comment_id": 60234993, "body": "Before starting to debug boilerplate :) just check that you are using only one context (I&#39;ve read that user and model are from viewmodel so it should not be related to any context but I&#39;ve some dubt on user). This exception sometimes is related to contexts."}], "tags": [], "owner": {"reputation": 6005, "user_id": 3464614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b536908478071770e79e1af9ad895aa5?s=128&d=identicon&r=PG", "display_name": "bubi", "link": "https://stackoverflow.com/users/3464614/bubi"}, "is_accepted": false, "score": 1, "last_activity_date": 1459320356, "creation_date": 1459320356, "answer_id": 36301553, "question_id": 36188603, "link": "https://stackoverflow.com/questions/36188603/how-to-specify-a-valid-ordering-for-dependent-operations-when-defining-entity-re/36301553#36301553", "title": "How to specify a valid ordering for dependent operations when defining entity relationships?", "body": "<p>This is just a comment but I can't write it in comments...</p>\n\n<p>It's the first time that I see the exception</p>\n\n<blockquote>\n  <p>Unable to determine a valid ordering for dependent operations.\n  Dependencies may exist due to foreign key constraints, model\n  requirements, or store-generated values.</p>\n</blockquote>\n\n<p>so I tried to reproduce it.</p>\n\n<p>This is the way I implemented the missed classes and the context</p>\n\n<pre><code>public class Entity\n{}\n\npublic class Tenant\n{}\n\npublic class AbpUser&lt;T1, T2&gt;\n{}\n\n\n\npublic Context(DbConnection connection)\n    : base(connection, false)\n{\n}\n\npublic DbSet&lt;Advertisement&gt; Advertisements { get; set; }\npublic DbSet&lt;User&gt; Users { get; set; }\npublic DbSet&lt;AdImage&gt; AdImages { get; set; }\n\nprotected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n    modelBuilder.Entity&lt;User&gt;()\n        .HasMany(u =&gt; u.Advertisements)\n        .WithRequired(x =&gt; x.User);\n\n    modelBuilder.Entity&lt;Advertisement&gt;()\n        .HasMany(a =&gt; a.AdImages)\n        .WithRequired(x =&gt; x.Advertisement);\n\n    modelBuilder.Entity&lt;AdImage&gt;()\n        .HasRequired(x =&gt; x.Advertisement);\n\n    base.OnModelCreating(modelBuilder);\n\n}\n</code></pre>\n\n<p>This are the DDL statements generated by EF during Automatic Migration</p>\n\n<pre><code>ExecuteNonQuery==========\nCREATE TABLE [AdImages] (\n [Id] int not null identity(1,1)\n, [Image] text null\n, [Advertisement_Id] int not null\n);\nALTER TABLE [AdImages] ADD CONSTRAINT [PK_AdImages_87d4bad2] PRIMARY KEY ([Id])\nExecuteNonQuery==========\nCREATE TABLE [Advertisements] (\n [Id] int not null identity(1,1)\n, [Title] text null\n, [Message] text null\n, [User_UserId] int not null\n);\nALTER TABLE [Advertisements] ADD CONSTRAINT [PK_Advertisements_5d578c9a] PRIMARY KEY ([Id])\nExecuteNonQuery==========\nCREATE TABLE [Users] (\n [UserId] int not null identity(1,1)\n, [AccessToken] text null\n);\nALTER TABLE [Users] ADD CONSTRAINT [PK_Users_5d578c9a] PRIMARY KEY ([UserId])\nExecuteNonQuery==========\nCREATE INDEX [IX_Advertisement_Id] ON [AdImages] ([Advertisement_Id])\nExecuteNonQuery==========\nCREATE INDEX [IX_User_UserId] ON [Advertisements] ([User_UserId])\nExecuteNonQuery==========\nALTER TABLE [AdImages] ADD CONSTRAINT [FK_AdImages_Advertisements_Advertisement_Id] FOREIGN KEY ([Advertisement_Id]) REFERENCES [Advertisements] ([Id])\nExecuteNonQuery==========\nALTER TABLE [Advertisements] ADD CONSTRAINT [FK_Advertisements_Users_User_UserId] FOREIGN KEY ([User_UserId]) REFERENCES [Users] ([UserId])\n</code></pre>\n\n<p>So, actually is everything as expected.</p>\n\n<p>And here the test I tried</p>\n\n<pre><code>public static void Run(DbConnection connection)\n{\n    var ad = new Advertisement\n    {\n        AdImages = new List&lt;AdImage&gt;\n        {\n            new AdImage {Image = \"MyImage\"}\n        },\n\n        Message = \"MyMessage\",\n        Title = \"MyTitle\",\n        User = new User()\n    };\n\n    using (Context context = new Context(connection))\n    {\n        context.Advertisements.Add(ad);\n        context.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>That produced this queries on database</p>\n\n<pre><code>ExecuteDbDataReader==========\ninsert into [Users]([AccessToken])\nvalues (null);\nselect [UserId]\nfrom [Users]\nwhere [UserId] = @@identity\nExecuteDbDataReader==========\ninsert into [Advertisements]([Title], [Message], [User_UserId])\nvalues (@p0, @p1, @p2);\nselect [Id]\nfrom [Advertisements]\nwhere [Id] = @@identity\n@p0 = MyTitle\n@p1 = MyMessage\n@p2 = 1\nExecuteDbDataReader==========\ninsert into [AdImages]([Image], [Advertisement_Id])\nvalues (@p0, @p1);\nselect [Id]\nfrom [AdImages]\nwhere [Id] = @@identity\n@p0 = MyImage\n@p1 = 1\n</code></pre>\n\n<p>Your model is simply perfect :)</p>\n\n<p>So the problem is somewhere else.\nIt could be in the code, around, i.e.<br>\n- where do <code>model</code> and <code>user</code> come from? Same context that you use in Upsert or different context?<br>\n- what do you do in Upsert? Do you cange some references (from <code>model</code> to a new object)?<br>\n- are other missing classes (the ones that I left empty) ok?  </p>\n"}, {"tags": [], "owner": {"reputation": 38223, "user_id": 181771, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NQuFs.jpg?s=128&g=1", "display_name": "DaveDev", "link": "https://stackoverflow.com/users/181771/davedev"}, "is_accepted": true, "score": 1, "last_activity_date": 1460619026, "creation_date": 1460619026, "answer_id": 36616468, "question_id": 36188603, "link": "https://stackoverflow.com/questions/36188603/how-to-specify-a-valid-ordering-for-dependent-operations-when-defining-entity-re/36616468#36616468", "title": "How to specify a valid ordering for dependent operations when defining entity relationships?", "body": "<p>The solution to this was to put wrap my endpoint in a <code>UnitOfWork</code>. I'm not not well-enough versed in the Scriptures of Entity Framework to describe exactly the issue or why this worked, but it did. </p>\n\n<p>This is an example of what worked (though slightly different from the example code above):</p>\n\n<pre><code>[UnitOfWork]\npublic async void Post(AdvertisementVM model)\n{\n    CheckModelState();\n\n    try\n    {\n        if (_unitOfWorkManager.Current == null)\n        {\n            using (var mgr = _unitOfWorkManager.Begin())\n            {\n                await ExecuteMultipleDatabaseCalls(model);\n\n                await mgr.CompleteAsync();\n            }\n        }\n        else\n        {\n            await ExecuteMultipleDatabaseCalls(model);\n        }\n    }\n    catch (Exception ex)\n    {\n        throw new HttpException((int)HttpStatusCode.InternalServerError, ex.Message);\n    }\n}\n\nprivate async Task ExecuteMultipleDatabaseCalls(AdvertisementVM model)\n{\n    var retailer = _retailerAppService.GetForUser(model.UserId);\n\n    var ad = new Advertisement\n    {\n        Message = model.Message,\n        Title = model.Title,\n\n        Retailer = retailer\n    };\n\n    await _adAppService.InsertOrUpdate(ad);\n\n    await _unitOfWorkManager.Current.SaveChangesAsync();\n}\n</code></pre>\n\n<p>The <code>UnitOfWork</code> attribute is a member of the ASP.NET Boilerplate project, and it's defined as follows:</p>\n\n<p><strong>Summary:</strong>\nThis attribute is used to indicate that declaring method is atomic and should be considered as a unit of work. A method that has this attribute is intercepted, a database connection is opened and a transaction is started before call the method. At the end of method call, transaction is commited and all changes applied to the database if there is no exception, othervise it's rolled back.</p>\n\n<p><strong>Remarks:</strong>\nThis attribute has no effect if there is already a unit of work before calling this method, if so, it uses the same transaction.</p>\n"}], "owner": {"reputation": 38223, "user_id": 181771, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NQuFs.jpg?s=128&g=1", "display_name": "DaveDev", "link": "https://stackoverflow.com/users/181771/davedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1701, "favorite_count": 0, "accepted_answer_id": 36616468, "answer_count": 2, "score": 7, "last_activity_date": 1460619026, "creation_date": 1458766875, "last_edit_date": 1458767381, "question_id": 36188603, "link": "https://stackoverflow.com/questions/36188603/how-to-specify-a-valid-ordering-for-dependent-operations-when-defining-entity-re", "title": "How to specify a valid ordering for dependent operations when defining entity relationships?", "body": "<p>I'm trying to do an Upsert of an <code>Advertisement</code> object which contains a <code>List&lt;AdImage&gt;</code>. The <code>Advertisement</code> contains a foreign key that corresponds to a <code>User</code>. A <code>user</code> can have zero or more <code>Advertisements</code>, and an <code>Advertisement</code> has one or more <code>AdImages</code>.</p>\n\n<p>The upsert fails with the following:</p>\n\n<blockquote>\n  <p>An error occurred while saving entities that do not expose foreign key\n  properties for their relationships. The EntityEntries property will\n  return null because a single entity cannot be identified as the source\n  of the exception. Handling of exceptions while saving can be made\n  easier by exposing foreign key properties in your entity types. See\n  the InnerException for details.</p>\n</blockquote>\n\n<p>Where the inner exeption is:</p>\n\n<blockquote>\n  <p>Unable to determine a valid ordering for dependent operations.\n  Dependencies may exist due to foreign key constraints, model\n  requirements, or store-generated values.</p>\n</blockquote>\n\n<p>The <code>advertisement</code> is instantiated very simply as:</p>\n\n<pre><code>var ad = new Advertisement\n{\n    AdImages = new List&lt;AdImage&gt;\n    {\n        new AdImage {Image = model.Image}\n    },\n\n    Message = model.Message,\n    Title = model.Title,\n    User = user,\n};  \n\n_aAdAppService.UpsertAdvertisement(ad);\n</code></pre>\n\n<p>The entities in question are defined as:</p>\n\n<pre><code>public class User : AbpUser&lt;Tenant, User&gt; \n{ // AbpUser is a 3rd party class which defines Id as a primary key\n\n    public string AccessToken { get; set; }\n    public long UserId { get; set; }\n\n    public virtual List&lt;Advertisement&gt; Advertisements { get; set; }\n}\n\npublic class Advertisement : Entity\n{\n    [Key]\n    public long Id { get; set; }\n\n    public string Title { get; set; }\n    public string Message { get; set; }\n    public List&lt;AdImage&gt; AdImages { get; set; }\n\n    public virtual User User { get; set; }\n}\n\npublic class AdImage : Entity\n{\n    [Key]\n    public int Id { get; set; }\n    public string Image { get; set; }\n\n    public virtual Advertisement Advertisement { get; set; }\n}\n</code></pre>\n\n<p>This is how the relationships are defined:</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n    modelBuilder.Entity&lt;User&gt;()\n        .HasMany(u =&gt; u.Advertisements)\n        .WithRequired(x =&gt; x.User);\n\n    modelBuilder.Entity&lt;Advertisement&gt;()\n        .HasMany(a =&gt; a.AdImages)\n        .WithRequired(x =&gt; x.Advertisement);\n\n    modelBuilder.Entity&lt;AdImage&gt;()\n        .HasRequired(x =&gt; x.Advertisement);\n\n    base.OnModelCreating(modelBuilder);\n\n}\n</code></pre>\n\n<p>What does the error message mean? I can't see how my relationships are defined incorrectly. How can I resolve this?</p>\n"}, {"tags": ["c#", "parallel-processing", "async-await", "task-parallel-library", "task"], "answers": [{"comments": [{"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1458769160, "post_id": 36189031, "comment_id": 60013544, "body": "Yes, GetAllRouterInterfacesAsync() can in fact return a NULL result, so this is really what I want.  What I was concerned about, is whether <code>Task.WaitAll(tasks)</code> would prevent all tasks from completing if a single task threw an Exception.  Do you know if this is the case, or will all tasks complete regardless if any throw Exceptions."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 1, "creation_date": 1458769372, "post_id": 36189031, "comment_id": 60013641, "body": "Nothing can prevent a task from completing. Such an API does not exist. WaitAll will also wait until all tasks are done regardless of whether an error occurs or not. None of the task combinator APIs modify a task."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1458768511, "creation_date": 1458768511, "answer_id": 36189031, "question_id": 36188597, "link": "https://stackoverflow.com/questions/36188597/how-to-catch-exceptions-for-an-array-of-tasks/36189031#36189031", "title": "How to Catch Exceptions for an array of Tasks", "body": "<p>Is there any reason you would prefer B? I can't think of one.</p>\n\n<p>B is incorrect in case of error.</p>\n\n<p>Also, it is bad style. Your intention is to wait for all tasks, so say that in the code. No need for manual loops obscuring what you want to accomplish.</p>\n\n<blockquote>\n  <p>Also, does that \"task.Status == TaskStatus.RanToCompletion\" return true as long as the task didn't throw an Exception (is this a good way to do this check)?</p>\n</blockquote>\n\n<p>This checks for successful completion. Likely, this is what you want. Tasks can end up cancelled but likely you will consider that as an error case.</p>\n\n<pre><code>task.Result != null\n</code></pre>\n\n<p>Is that really what you want? <code>task.Result</code> is never set to null by the system. This can only happen if <code>GetAllRouterInterfacesAsync</code> makes the result <code>null</code>.</p>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 36189031, "answer_count": 1, "score": 4, "last_activity_date": 1459230354, "creation_date": 1458766848, "last_edit_date": 1458768417, "question_id": 36188597, "link": "https://stackoverflow.com/questions/36188597/how-to-catch-exceptions-for-an-array-of-tasks", "title": "How to Catch Exceptions for an array of Tasks", "body": "<p>I would like to understand how what I should be using inside of my \"try\" block when trying to await an Array of Tasks.</p>\n\n<p>I want all tasks to be awaited, regardless if one of them threw an Exception, so that they can all complete.</p>\n\n<p>Should I use:</p>\n\n<pre><code>var tasks = new Task&lt;CasApiRouterModelExtendedInfo&gt;[mbis.Length];\n\nfor (int i = 0; i &lt; mbis.Length; i++)\n{\n    tasks[i] = CAS.Service.GetAllRouterInterfacesAsync(mbis[i], false, 2);\n}\n\ntry\n{\n    Task.WaitAll(tasks);\n}\ncatch (AggregateException ex)\n{\n    Trace.TraceError(\"Some interface discoveries failed: \");\n    foreach (var innerEx in ex.InnerExceptions)\n    {\n        Trace.TraceError(innerEx.Message);\n    }\n}\nforeach (var task in tasks)\n{\n    if (task.Status == TaskStatus.RanToCompletion &amp;&amp; task.Result != null)\n    {\n        returnResults.Add(task.Result);\n    }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>var tasks = new Task&lt;CasApiRouterModelExtendedInfo&gt;[mbis.Length];\n\nfor (int i = 0; i &lt; mbis.Length; i++)\n{\n    tasks[i] = Task.Run(() =&gt; CAS.Service.GetAllRouterInterfacesAsync(mbis[i], true, 2));\n}\n\ntry\n{\n    for (int i = 0; i &lt; tasks.Length; i++)\n    {\n        tasks[i].Wait();\n    }\n}\ncatch (AggregateException ex)\n{\n    Trace.TraceError(\"Some interface discoveries failed: \");\n    foreach (var innerEx in ex.InnerExceptions)\n    {\n        Trace.TraceError(innerEx.Message);\n    }\n}\n\nforeach (var task in tasks)\n{\n    if (task.Status == TaskStatus.RanToCompletion &amp;&amp; task.Result != null)\n    {\n        returnResults.Add(task.Result);\n    }\n}\n</code></pre>\n\n<p>Also, does that \"task.Status == TaskStatus.RanToCompletion\" return true as long as the task didn't throw an Exception (is this a good way to do this check)?</p>\n"}, {"tags": ["c#", "web-services", "wcf", "serialization"], "comments": [{"owner": {"reputation": 3455, "user_id": 187446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1QUC.png?s=128&g=1", "display_name": "Petar Vu\u010detin", "link": "https://stackoverflow.com/users/187446/petar-vu%c4%8detin"}, "edited": false, "score": 0, "creation_date": 1458770197, "post_id": 36188594, "comment_id": 60014054, "body": "What&#39;s the content of XML response?"}, {"owner": {"reputation": 810, "user_id": 2262959, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf46824cc7df880a9889b9be9be46ae4?s=128&d=identicon&r=PG", "display_name": "Eakan Gopalakrishnan", "link": "https://stackoverflow.com/users/2262959/eakan-gopalakrishnan"}, "reply_to_user": {"reputation": 3455, "user_id": 187446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1QUC.png?s=128&g=1", "display_name": "Petar Vu\u010detin", "link": "https://stackoverflow.com/users/187446/petar-vu%c4%8detin"}, "edited": false, "score": 0, "creation_date": 1458786855, "post_id": 36188594, "comment_id": 60019200, "body": "the XML response is a valid deserialized response of the TimeTriggerCreateResult DTO in an XML format. Do you want a sample content?"}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 2262959, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf46824cc7df880a9889b9be9be46ae4?s=128&d=identicon&r=PG", "display_name": "Eakan Gopalakrishnan", "link": "https://stackoverflow.com/users/2262959/eakan-gopalakrishnan"}, "edited": false, "score": 0, "creation_date": 1459502504, "post_id": 36210102, "comment_id": 60325329, "body": "I really appreciate your suggestion.  What I&#39;m really trying to understand is why would WCF serialization return an XML when I request a JSON. I wouldn&#39;t want to change the default endpoint behaviour to JSON as other services in the project are fetched as XML."}, {"owner": {"reputation": 3455, "user_id": 187446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1QUC.png?s=128&g=1", "display_name": "Petar Vu\u010detin", "link": "https://stackoverflow.com/users/187446/petar-vu%c4%8detin"}, "reply_to_user": {"reputation": 810, "user_id": 2262959, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf46824cc7df880a9889b9be9be46ae4?s=128&d=identicon&r=PG", "display_name": "Eakan Gopalakrishnan", "link": "https://stackoverflow.com/users/2262959/eakan-gopalakrishnan"}, "edited": false, "score": 0, "creation_date": 1459872631, "post_id": 36210102, "comment_id": 60477549, "body": "It&#39;s a default shape of the message formatter. Using a behavior you are changing the shape of this channel message formatter."}], "tags": [], "owner": {"reputation": 3455, "user_id": 187446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1QUC.png?s=128&g=1", "display_name": "Petar Vu\u010detin", "link": "https://stackoverflow.com/users/187446/petar-vu%c4%8detin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458854028, "creation_date": 1458854028, "answer_id": 36210102, "question_id": 36188594, "link": "https://stackoverflow.com/questions/36188594/wcf-service-returns-xml-response-when-requesting-json-despite-setting-accept-ap/36210102#36210102", "title": "WCF service returns XML response when requesting json despite setting accept: application/json", "body": "<p>I think you need to add</p>\n\n<pre><code>  &lt;endpointBehaviors&gt;\n    &lt;behavior name=\"endpointBehavior\"&gt;\n      &lt;enableWebScript /&gt;\n      &lt;webHttp defaultBodyStyle=\"Wrapped\" defaultOutgoingResponseFormat=\"Json\" /&gt;\n    &lt;/behavior&gt;\n  &lt;/endpointBehaviors&gt;\n</code></pre>\n\n<p>To <code>&lt;system.serviceModel&gt; &lt;behaviors&gt;</code> section</p>\n"}, {"tags": [], "owner": {"reputation": 1351, "user_id": 1202600, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/24cb089582ac3b41cc752dc52f9e7955?s=128&d=identicon&r=PG", "display_name": "thudbutt", "link": "https://stackoverflow.com/users/1202600/thudbutt"}, "is_accepted": false, "score": 1, "last_activity_date": 1458860640, "last_edit_date": 1458860640, "creation_date": 1458860276, "answer_id": 36211387, "question_id": 36188594, "link": "https://stackoverflow.com/questions/36188594/wcf-service-returns-xml-response-when-requesting-json-despite-setting-accept-ap/36211387#36211387", "title": "WCF service returns XML response when requesting json despite setting accept: application/json", "body": "<p>If you want the format of the response to be based on the accept header of the request, then you need to set the AutomaticFormatSelectionEnabled property of the WebHttpEndpoint or WebHttpBehaviour.</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n  &lt;behaviors&gt; \n    &lt;endpointBehaviors&gt; \n      &lt;behavior&gt; \n        &lt;webHttp automaticFormatSelectionEnabled=\"true\" /&gt; \n      &lt;/behavior&gt; \n    &lt;/endpointBehaviors&gt;\n  &lt;/behaviors&gt; \n  &lt;standardEndpoints&gt;  \n    &lt;webHttpEndpoint&gt; \n      &lt;!-- the \"\" standard endpoint is used by WebServiceHost for auto creating a web endpoint. --&gt; \n      &lt;standardEndpoint name=\"\" helpEnabled=\"true\" /&gt;\n    &lt;/webHttpEndpoint&gt;\n  &lt;/standardEndpoints&gt; \n&lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/ee476510(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a> for further details. The best format to use is determined by checking the following in order</p>\n\n<ol>\n<li>The media types in the request message\u2019s Accept header.</li>\n<li>The content-type of the request message.</li>\n<li>The default format setting in the operation.</li>\n<li>The default format setting in the WebHttpBehavior.</li>\n</ol>\n"}], "owner": {"reputation": 810, "user_id": 2262959, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf46824cc7df880a9889b9be9be46ae4?s=128&d=identicon&r=PG", "display_name": "Eakan Gopalakrishnan", "link": "https://stackoverflow.com/users/2262959/eakan-gopalakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1764, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1459779876, "creation_date": 1458766831, "last_edit_date": 1495539906, "question_id": 36188594, "link": "https://stackoverflow.com/questions/36188594/wcf-service-returns-xml-response-when-requesting-json-despite-setting-accept-ap", "title": "WCF service returns XML response when requesting json despite setting accept: application/json", "body": "<p>I have a WCF service that returnsa simple DTO that looks almost like this:</p>\n\n<pre><code>    [DataContract]\n[KnownType(typeof(TimeTriggerCreateResult))]\n[KnownType(typeof(ScheduleCreateResult))]\npublic class TriggerCreateResult\n{\n    [DataMember(Order = 1)] public bool AlreadyExisted;\n    [DataMember(Order = 2)] public int SchedulerId; // TODO: rename to ScheduleId\n    [DataMember(Order = 3, EmitDefaultValue = false)] public int TriggerId;\n    [DataMember(Order = 4)] public ScheduleType ScheduleType;\n\n    public NewSchedule Schedule;\n}\n[DataContract]\npublic class TimeTriggerCreateResult : TriggerCreateResult\n{\n    public TimeTriggerCreateResult()\n    {\n        ScheduleType = ScheduleType.TimeTrigger;\n    }\n\n    public TimeTriggerDto TimeTrigger;\n    [DataMember] public List&lt;DateTuple&gt; NextRun;\n    public List&lt;DateTuple&gt; OlderRuns;\n}\n[Description(\"Create Schedule\")]\n        [OperationContract]\n        [WebInvoke(Method = \"POST\", UriTemplate = \"schedules/create\")]\n        TriggerCreateResult CreateNewSchedule(ScheduleDto scheduleDto);\n[DataContract]\npublic enum ScheduleType\n{\n    [EnumMember] NoTrigger = 0,\n    [EnumMember] TimeTrigger = 1,\n}\n</code></pre>\n\n<p>This service does a lot of complicated stuff behind the scenes but returns the a little DTO with the corresponding properties mentioned in its definition. </p>\n\n<p>I consume this service using the following key=>value in the header: <code>accept:application/json</code> but the irony is that I get an <strong>XML response</strong> when the service creates a new schedule. That is the first time a schedule is created, it returns an XML response. Wheras if the same schedule is attempted to be created again, then I get a <strong>JSON response</strong>, i.e. if the schedule already existed in the database. We do not manually serialize in different response formats. We solely rely on WCF's serialization/deserialization.</p>\n\n<p>I have tried answers like <a href=\"https://stackoverflow.com/questions/11016228/rest-wcf-service-returns-xml-response-but-not-json-response\">REST WCF service returns XML response but not JSON response</a> to trace the problem, but haven't got any useful information out of it. I have wasted two days entirely trying different combinations like:</p>\n\n<ul>\n<li>Adding <code>KnownTypes(typeof(ScheduleType))</code> to the <code>TriggerCreateResult</code> DTO just in case this was a serialization problem. But if it was a serialization problem, wouldn't it have thrown an exception?</li>\n<li>Because it always returned a json when the schedule already existed in the database, I tried setting <code>AlreadyExisted</code> to <code>true</code>, but that didn't help at all.</li>\n<li>I can mask the problem and always force a <code>json</code> response by using the <code>RequestFormat = WebMessageFormat.Json,ResponseFormat = WebMessageFormat.Json</code> in the <code>WebInvoke</code> of the operationcontract declaration. And also by making sure that all the enumeration types used in the DTO, <code>ScheduleType</code> is decorated with a <code>DataContract</code> attribute and has its members declared as <code>EnumMember</code>. But then again, even though <strong>the response is a JSON</strong> as expected <strong>the response header contains</strong>, <code>Content-Type: application/xml</code>. </li>\n</ul>\n\n<p>But I want to know what is causing this automatic XML serialization when JSON format is requested even when no serialization exception is encountered. I know this because we tried logging and tracing as mentioned in one of the other questions. It just silently gives a response with HTTP 200 but return XML data instead of JSON data when what is expected is JSON.</p>\n\n<p>What makes this weird is that, this service had always returned a <code>JSON</code> response whenever it was requested to return so, but a recent change introduced the enum property ScheduleType which is being initialized to a particular type inside the constructor of the corresponding DTO, example inside <code>TimeTriggerCreateResult</code> it is initialized ot <code>TimeTrigger</code>. Ever since, it has been behaving weird. The response of the service thereafter has been in an XML format, when it created a new schedule that never existed in the DB and when this happens, the bool AlreadyExisted would have the value of <code>false</code>. But if the same request was done again, then it returns a JSON response, but with AlreadyExisted, now being <code>true</code>.</p>\n\n<p>A sample xml response:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gZVzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gZVzO.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not an expert in all things WCF. SO I'd like to know what can cause the WCF serialization to silently return an XML when a JSON is requested for. </p>\n\n<p>I have wasted considerable time (about 5-6 hours) trying to understand what is going on by testing various different settings. I wouldn't want to make a web.config change for this as this is the only service affected by this magical behaviour. But I have failed miserably to understand this rather unnatural phenomenon. Please help if you have any ideas.</p>\n"}, {"tags": ["c#", "datagridview", "mouseevent", "right-click", "contextmenustrip"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1458770761, "post_id": 36188581, "comment_id": 60014285, "body": "I don&#39;t see any code adding <code>MenuItem updateStatus</code> to <code>my_menu</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4985, "user_id": 3773066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mPcCO.jpg?s=128&g=1", "display_name": "OhBeWise", "link": "https://stackoverflow.com/users/3773066/ohbewise"}, "is_accepted": true, "score": 2, "last_activity_date": 1458854961, "last_edit_date": 1458854961, "creation_date": 1458772741, "answer_id": 36190066, "question_id": 36188581, "link": "https://stackoverflow.com/questions/36188581/show-sub-menu-on-right-click-on-datagridview-c/36190066#36190066", "title": "Show Sub Menu on right Click On DataGridView - C#", "body": "<p>To add sub-menu items, you need to cast the desired item to a <code>ToolStripMenuItem</code>, then add the sub-items to the <code>DropDownItems</code> property - hooking up the event handler in the constructor. You can create each with a unique event handler or just a single handler with logic checks on the <code>ToolStripMenuItem.Name</code>:</p>\n\n<pre><code>if (position_xy_mouse_row &gt;= 0)\n{\n    my_menu.Items.Add(\"Show Details\").Name = \"Details\";\n\n    if ((SecurityLevel == \"something\" &amp;&amp; dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value1\") || (SecurityLevel == \"something\" &amp;&amp; dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value2\"))\n    {\n        my_menu.Items.Add(\"update\").Name = \"Update\";\n        if (dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value1\")\n        {\n            (my_menu.Items[\"Update\"] as ToolStripMenuItem).DropDownItems.Add(\"somevalue\", null, new EventHandler(this.SubItem_Click)).Name = \"somevalue\";\n            (my_menu.Items[\"Update\"] as ToolStripMenuItem).DropDownItems.Add(\"someothervalue\", null, new EventHandler(this.SubItem_Click)).Name = \"someothervalue\";\n        }\n        if (dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value2\")\n        {\n            (my_menu.Items[\"Update\"] as ToolStripMenuItem).DropDownItems.Add(\"someothervalue\", null, new EventHandler(SubItem_Click)).Name = \"someothervalue\";\n            (my_menu.Items[\"Update\"] as ToolStripMenuItem).DropDownItems.Add(\"newvalue\", null, new EventHandler(SubItem_Click)).Name = \"newvalue\";\n        }\n    }\n}\nmy_menu.Show(dataGridView1, new Point(e.X, e.Y));\nmy_menu.ItemClicked += new ToolStripItemClickedEventHandler(MenuItem_Clicked);\n</code></pre>\n\n<p>Then your handlers:</p>\n\n<pre><code>private void MenuItem_Clicked(object sender, ToolStripItemClickedEventArgs e)\n{\n  Console.WriteLine(\"Clicked {0}\", e.ClickedItem.Name);\n}\n\nprivate void SubItem_Click(object sender, EventArgs e)\n{\n  Console.WriteLine(\"Clicked {0}\", (sender as ToolStripMenuItem).Name);\n}\n</code></pre>\n"}], "owner": {"reputation": 584, "user_id": 2702497, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/k8dUr.jpg?s=128&g=1", "display_name": "Umm E Habiba Siddiqui", "link": "https://stackoverflow.com/users/2702497/umm-e-habiba-siddiqui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 36190066, "answer_count": 1, "score": 1, "last_activity_date": 1458854961, "creation_date": 1458766771, "question_id": 36188581, "link": "https://stackoverflow.com/questions/36188581/show-sub-menu-on-right-click-on-datagridview-c", "title": "Show Sub Menu on right Click On DataGridView - C#", "body": "<p>Hi I added a right click event on my <code>datagridview</code> which shows menu but I want to show a sub menu when clicked or mouse hover on one of the <code>menuItem</code></p>\n\n<pre><code>protected void datagridview1_MouseClick(object sender, MouseEventArgs  e)\n    {\n        if (e.Button == MouseButtons.Right)\n        {\n            ContextMenuStrip my_menu = new ContextMenuStrip();\n            int position_xy_mouse_row = dataGridView1.HitTest(e.X, e.Y).RowIndex;\n\n            if (position_xy_mouse_row &gt;= 0)\n            {\n                my_menu.Items.Add(\"Show Details\").Name = \"Details\";\n\n                if ((SecurityLevel == \"something\" &amp;&amp; dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value1\") || (SecurityLevel == \"something\" &amp;&amp; dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value2\"))\n                {\n                    my_menu.Items.Add(\"update\").Name = \"Update \";\n                    if (dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value1\")\n                    {\n                        MenuItem updateStatus = new MenuItem(\"Update\");\n                        updateStatus.MenuItems.Add(new MenuItem(\"somevalue\").Name = \"somevalue\");\n                        updateStatus.MenuItems.Add(new MenuItem(\"someothervalue\").Name = \"someothervalue\");\n                    }\n                    if (dataGridView1.SelectedRows[0].Cells[8].Value.ToString() == \"value2\")\n                    {\n                        MenuItem updateStatus = new MenuItem(\"Update\");\n                        updateStatus.MenuItems.Add(new MenuItem(\"someothervalue\").Name = \"someothervalue\");\n                        updateStatus.MenuItems.Add(new MenuItem(\"newvalue\").Name = \"newvalue\");\n                    }\n                }\n            }\n            my_menu.Show(dataGridView1, new Point(e.X, e.Y));\n            my_menu.ItemClicked += new ToolStripItemClickedEventHandler(my_menu_ItemClicked);\n        }\n    }\n</code></pre>\n\n<p>but I can only see 2 menuitems on my menu which are <code>Show Details</code> and <code>Update</code>,  I can't see the sub menu for update.</p>\n"}, {"tags": ["c#", "multithreading", "synchronization"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1471666772, "post_id": 36188556, "comment_id": 65450302, "body": "What did you try? Where&#39;s your other thread? It&#39;s not clear what you&#39;re asking. Did you have a problem modifying your <code>BindingList</code> from another thread? Please provide a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows clearly what you&#39;re trying to do, and explain precisely what that code does and what you want it to do instead."}], "owner": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458766693, "creation_date": 1458766693, "question_id": 36188556, "link": "https://stackoverflow.com/questions/36188556/update-bindinglist-from-another-thread", "title": "update BindingList from another thread", "body": "<p>How do I modify a <code>BindingList</code> bound to a DataGridView from another thread ? </p>\n\n<pre><code>class A {\n  public BindingList&lt;int&gt; BindingSource = new BindingList&lt;int&gt;();\n\n  // to be called from another thread\n  public void Update(int a) {\n    BindingSource.Add(a);\n  }\n}\n\nA a = new A();\nDataGridView dgv = new DataGridView();\ndgv.DataSource = a.BindingSource;\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 150063, "user_id": 87698, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/33f12c2270fa9d3627845b9f41a08f4f?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/87698/heinzi"}, "edited": false, "score": 2, "creation_date": 1458767033, "post_id": 36188520, "comment_id": 60012567, "body": "<code>WriteAllLines</code> <i>does</i> ignore escape sequences. I&#39;m pretty certain that your line <i>really</i> contains a linebreak, which might be shown as <code>\\n</code> in the debugger."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 2459881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a77847c18a33684f0051d674d53c896?s=128&d=identicon&r=PG", "display_name": "aljowen", "link": "https://stackoverflow.com/users/2459881/aljowen"}, "edited": false, "score": 0, "creation_date": 1458768113, "post_id": 36188660, "comment_id": 60013121, "body": "Thanks, that fixed the issue!"}, {"owner": {"reputation": 31, "user_id": 2459881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a77847c18a33684f0051d674d53c896?s=128&d=identicon&r=PG", "display_name": "aljowen", "link": "https://stackoverflow.com/users/2459881/aljowen"}, "edited": false, "score": 0, "creation_date": 1458771657, "post_id": 36188660, "comment_id": 60014683, "body": "Loading = content.Replace(&quot;\\\\n&quot;, &quot;\\n&quot;).Replace(&quot;\\\\r&quot;, &quot;\\r&quot;).Replace(&quot;~&quot;,&quot;\\\\&quot;);"}, {"owner": {"reputation": 31, "user_id": 2459881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a77847c18a33684f0051d674d53c896?s=128&d=identicon&r=PG", "display_name": "aljowen", "link": "https://stackoverflow.com/users/2459881/aljowen"}, "edited": false, "score": 0, "creation_date": 1458771712, "post_id": 36188660, "comment_id": 60014699, "body": "Saving = content.Replace(&quot;\\\\&quot;, &quot;~&quot;).Replace(&quot;\\n&quot;, &quot;\\\\n&quot;).Replace(&quot;\\r&quot;, &quot;\\\\r&quot;));"}], "tags": [], "owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "is_accepted": true, "score": 1, "last_activity_date": 1458767088, "creation_date": 1458767088, "answer_id": 36188660, "question_id": 36188520, "link": "https://stackoverflow.com/questions/36188520/c-file-writealllines-new-line-backslash/36188660#36188660", "title": "c# File.WriteAllLines new line backslash", "body": "<p>I assume that you want each entry in the file to be on one line. So the problem is that one or more of the strings that you are writing to the file contain line breaks, which are written to the file in addition to the line breaks that WriteAllLines writes out.</p>\n\n<p>The only way out is that you programmatically escape the line breaks of WriteAllLines' input data. Do this for each value that could contain line breaks. </p>\n\n<pre><code>string escapedValue = originalValue.Replace(\"\\r\", \"\\\\r\").Replace(\"\\n\", \"\\\\n\");\n</code></pre>\n\n<p>When reading back in the file, you will need to unescape each line.</p>\n\n<pre><code>string unescapedValue = escapedValue.Replace(\"\\\\r\", \"\\r\").Replace(\"\\\\n\", \"\\n\");\n</code></pre>\n\n<p>Please note: The code sample is not perfect. If the original strings contain backslashes followed by 'r' or 'n', the unescape logic will convert them to line breaks. You will probably have to escape '\\' characters as well to avoid this.</p>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1458767305, "creation_date": 1458767305, "answer_id": 36188707, "question_id": 36188520, "link": "https://stackoverflow.com/questions/36188520/c-file-writealllines-new-line-backslash/36188707#36188707", "title": "c# File.WriteAllLines new line backslash", "body": "<p>The <code>\\n</code> in the text from <code>richTextBox</code> is <em>not</em> an escape sequence, it is an actual <code>&lt;LF&gt;</code> character. It may look like <code>\\n</code> in the debugger, but the string contains a single character at the corresponding position.</p>\n\n<p>Imagine that you need to write a comma-separated list of strings to a file, and one of the strings contains a comma:</p>\n\n<pre><code>\"quick,brown\", \"fox\", \"jumps\"\n</code></pre>\n\n<p>The list would be written out as follows</p>\n\n<pre><code>quick,brown,fox,jumps\n</code></pre>\n\n<p>and there would be no way to find out which comma came from a string.</p>\n\n<p>You can work around the issue by replacing <code>\\n</code> with some other character when writing the file, and then replacing it back when reading it.</p>\n\n<pre><code>// Writing\nFile.WriteAllLines(@\"c:\\lines.txt\", lines.Select(s =&gt; s.Replace('\\n', '~')));\n\n// Reading back\nvar lines = File.ReadAllLines(@\"c:\\lines.txt\")\n    .Select(s =&gt; s.Replace('~', '\\n')))\n    .ToArray();\n</code></pre>\n\n<p>Note that the character that you choose must not be present anywhere else in the string.</p>\n"}, {"tags": [], "owner": {"reputation": 7037, "user_id": 240430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1a65abb1619d94e0769fd0262fe5c5fa?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/240430/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1458768210, "creation_date": 1458768210, "answer_id": 36188947, "question_id": 36188520, "link": "https://stackoverflow.com/questions/36188520/c-file-writealllines-new-line-backslash/36188947#36188947", "title": "c# File.WriteAllLines new line backslash", "body": "<p>Given this list: </p>\n\n<pre><code>var lines = new List&lt;string&gt;(3) {\n    \"Here's a line\",\n    \"Line \\n with a newline character\",  // \\n here is a newline character\n    \"Line with a \\r character\"  // \\r here is a carriage return character\n};\n</code></pre>\n\n<p>To get your text file to read like this:</p>\n\n<blockquote>\n<pre><code>Here's a line\nLine \\n with a newline character\nLine with a \\r character\n</code></pre>\n</blockquote>\n\n<p>You would want to do something like this:</p>\n\n<pre><code>var escapedLines =  lines.Select(l =&gt; l.Replace(\"\\n\", \"\\\\n\").Replace(\"\\r\", \"\\\\r\")).ToList();\nFile.WriteAllLines(\"file.txt\", escapedLines);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2459881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a77847c18a33684f0051d674d53c896?s=128&d=identicon&r=PG", "display_name": "aljowen", "link": "https://stackoverflow.com/users/2459881/aljowen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "accepted_answer_id": 36188660, "answer_count": 3, "score": 1, "last_activity_date": 1458768210, "creation_date": 1458766555, "last_edit_date": 1458766910, "question_id": 36188520, "link": "https://stackoverflow.com/questions/36188520/c-file-writealllines-new-line-backslash", "title": "c# File.WriteAllLines new line backslash", "body": "<p>I have a list which I am trying to write to a file using <code>File.WriteAllLines()</code>. One of the strings in the list is from a <code>richTextBox</code> and hence contains <code>\\n</code> for new lines. But <code>writeAllLines</code> seems to interpret that as write on a new line as if it was a separate item in the string list. I have inspected my code and can see that the string makes it to the final write all lines part of my code before being split up. I have also tried using the <code>'@'</code> sign in the string and that has also not worked.</p>\n\n<p>Does anyone know how to make <code>writeAllLines</code> ignore escape sequences?</p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 1, "creation_date": 1458766355, "post_id": 36188423, "comment_id": 60012209, "body": "Only if you store the content of textbox2.Text in a member variable or so before _FileProcessingWorker_DoWork is called."}, {"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "reply_to_user": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 1, "creation_date": 1458770301, "post_id": 36188423, "comment_id": 60014110, "body": "You should probably do what @Christoph says anyway - what if the user changes the text in the middle of your BackgroundWorker&#39;s run?"}, {"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 1, "creation_date": 1458772798, "post_id": 36188423, "comment_id": 60015133, "body": "You can pass all data to the DoWork event when starting the background worker (you can access it by retrieving the Argument property of the eventargs of your dowork event)."}, {"owner": {"reputation": 129, "user_id": 6067451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6d8e79d9ea6ab13b258e55286c2c80d7?s=128&d=identicon&r=PG&f=1", "display_name": "benny dayag", "link": "https://stackoverflow.com/users/6067451/benny-dayag"}, "edited": false, "score": 0, "creation_date": 1458781493, "post_id": 36188423, "comment_id": 60017764, "body": "vesan good question. Now I guess it will change the whole searching string if the user change it in the middle or I could lock the textbox and not allowed to change it while searching in on. Or and this one I don&#39;t know how to do but maybe I can save the last searching string in a text file or as settings and when the user change in the middle it will search for multiple texts. What do you think should be the best thing to handle it ?"}], "owner": {"reputation": 129, "user_id": 6067451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6d8e79d9ea6ab13b258e55286c2c80d7?s=128&d=identicon&r=PG&f=1", "display_name": "benny dayag", "link": "https://stackoverflow.com/users/6067451/benny-dayag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458766170, "creation_date": 1458766170, "question_id": 36188423, "link": "https://stackoverflow.com/questions/36188423/how-can-i-use-a-textbox-text-in-backgroundworker-without-using-cross-thread", "title": "How can i use a textBox.Text in backgroundworker without using cross thread?", "body": "<p>This is the line in the dowork event</p>\n\n<pre><code>List&lt;string&gt; Result = SearchInFile(CurrentFileWithPath, textBox2.Text);\n</code></pre>\n\n<p>And this is the whole dowork event code</p>\n\n<pre><code>object[] CurrentStatus;\n        private void _FileProcessingWorker_DoWork(object sender, DoWorkEventArgs e)\n        {\n            int countmore = 0;\n            try\n            {\n                //object[] CurrentStatus = new object[5];\n                DirectoryInfo[] MySubDirectories = (DirectoryInfo[])e.Argument;\n                for (int i = 0; i &lt; MySubDirectories.GetLength(0); i++)\n                {\n                    DirectoryInfo MySubDirectory = MySubDirectories[i];\n\n                    List&lt;FileInfo&gt; l = new List&lt;FileInfo&gt;();\n                    CountFiles(MySubDirectory, l);\n                    CurrentStatus = new object[6];\n                    int totalFiles = l.Count;\n                    CurrentStatus[3] = i.ToString();\n                    countmore += totalFiles;\n                    CurrentStatus[4] = countmore;\n                    _FileProcessingWorker.ReportProgress(0, CurrentStatus);\n\n                    string CurrentDirectory = \"Current Directory: \" + MySubDirectory.Name;\n\n                    foreach (FileInfo MyFile in l)\n                    {\n                        CurrentStatus = new object[6];\n                        if (_FileProcessingWorker.CancellationPending)\n                        {\n                            e.Cancel = true;\n                            return;\n                        }\n\n                        if (MyFile.Extension.ToLower() == \".cs\" || MyFile.Extension.ToLower() == \".vb\")\n                        {\n                            string CurrentFile = \"Current File: \" + MyFile.Name;\n                            string CurrentFileWithPath = MyFile.FullName;\n\n                            CurrentStatus[0] = CurrentDirectory;\n                            CurrentStatus[1] = CurrentFile;\n                            _FileProcessingWorker.ReportProgress(0, CurrentStatus);\n\n                            List&lt;string&gt; Result = SearchInFile(CurrentFileWithPath, textBox2.Text);\n\n                            if (Result != null &amp;&amp; Result.Count &gt; 0)\n                            {\n                                CurrentStatus[2] = Result;\n                                _FileProcessingWorker.ReportProgress(0, CurrentStatus);\n                            }\n                        }\n                    }\n                }\n            }\n            catch (Exception err)\n            {\n                return;\n            }  \n        }\n</code></pre>\n\n<p>I'm not getting errors but using a break point I see on the textBox2 text:\nText = The function evaluation requires all threads to run.</p>\n\n<p>If there is no other way how to use cross thread with it ?</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 2763, "user_id": 138156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9OTR.jpg?s=128&g=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/138156/nemo"}, "edited": false, "score": 1, "creation_date": 1458766350, "post_id": 36188404, "comment_id": 60012206, "body": "You can do the conversion of FinalObject to DataRow also within the parallel loop, to add some more performance, making bag as Concurrent&lt;DataRow&gt;."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458766367, "post_id": 36188404, "comment_id": 60012221, "body": "So you&#39;re just adding one property of the underlying objects to the data table?  If you already have the objects in a collection why do you need a data table?  Why not just populate the data table in the first place?"}, {"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458766463, "post_id": 36188404, "comment_id": 60012274, "body": "I simplified it for this example - The datatables I use (I use 9 of them) range from 7 columns to 13 columns"}, {"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458766525, "post_id": 36188404, "comment_id": 60012314, "body": "Nemo - Basically have a concurrent bag of DataRows and add them all at the end?"}, {"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 2, "creation_date": 1458766587, "post_id": 36188404, "comment_id": 60012350, "body": "Why would you have a <code>Thread.Sleep</code> inside your <code>Parallel.ForEach</code> body?"}, {"owner": {"reputation": 2763, "user_id": 138156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9OTR.jpg?s=128&g=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/138156/nemo"}, "edited": false, "score": 0, "creation_date": 1458766728, "post_id": 36188404, "comment_id": 60012422, "body": "@user2124871 Yes, also maybe you can keep separate bags for each thread so you don&#39;t have contention and after all items are processed, loop through each bag and add them all to the DataTable."}, {"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458766818, "post_id": 36188404, "comment_id": 60012464, "body": "Due to the amount of processing in that parallel loop, I add a Thread.Sleep because the CPU will get to 20-30% without it. WIth it, it&#39;s at 3-5%. I don&#39;t want it there.."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458768797, "post_id": 36188404, "comment_id": 60013404, "body": "@user2124871 So you&#39;re using parallel but you want <i>low</i> CPU usage?  The reason you <i>use</i> parallel processing is to <i>increase</i> CPU utilization."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458768935, "post_id": 36188404, "comment_id": 60013457, "body": "Why are you setting <code>MaxDegreeOfParallelism = Environment.ProcessorCount</code>?  There is <a href=\"http://stackoverflow.com/questions/20806238\">evidence</a> that this actually <i>increases</i> total time by limiting the number of threads that can be used."}, {"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458778021, "post_id": 36188404, "comment_id": 60016871, "body": "@DStanley, if <code>Thread.Sleep</code> is used inside the <code>Parallel.ForEach</code> delegate body (it really shouldn&#39;t be but I digress), it will lead to thread pool starvation unless <code>MaxDegreeOfParallelism</code> is limited (see <a href=\"http://stackoverflow.com/a/14039106/1644813\">stackoverflow.com/a/14039106/1644813</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458837743, "post_id": 36188646, "comment_id": 60044247, "body": "Thank you for the suggestion - I took the time to try it out and see what the end result would give me. It was about 2 seconds quicker, so it didn&#39;t do too much. However, I am looking at some of your other suggestions to see what I can get from them. Thank you!"}, {"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "reply_to_user": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458859801, "post_id": 36188646, "comment_id": 60055769, "body": "@user2124871, if &quot;quicker&quot; is what you&#39;re after, then you definitely don&#39;t want <code>Thread.Sleep</code>, <code>Task.Delay</code> or any other kind of artificial delay. Whether you go with your <code>Parallel.ForEach</code> solution or my PLINQ version won&#39;t really make much of a difference other than in terms of code style. You should profile the processing component of your solution (<i>&quot;process data&quot;</i>) and optimise it for the sake of reducing CPU usage."}], "tags": [], "owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "is_accepted": true, "score": 1, "last_activity_date": 1458803080, "last_edit_date": 1458803080, "creation_date": 1458767012, "answer_id": 36188646, "question_id": 36188404, "link": "https://stackoverflow.com/questions/36188404/best-way-to-convert-thread-safe-collection-to-datatable/36188646#36188646", "title": "Best way to convert thread safe collection to DataTable?", "body": "<p>This is a good candidate for PLINQ (or Rx - I'll focus on PLINQ since it's part of the Base Class Library).</p>\n\n<pre><code>IEnumerable&lt;FinalObject&gt; bag = allData\n    .AsParallel()\n    .WithDegreeOfParallelism(Environment.ProcessorCount)\n    .Select(dataObj =&gt;\n    {\n        FinalObject theData = Process(dataObj);\n\n        Thread.Sleep(100);\n\n        return theData;\n    });\n\nDataTable table = createTable();\n\nforeach (FinalObject moveObj in bag)\n{\n    table.Rows.Add(moveObj.x);\n}\n</code></pre>\n\n<p>Realistically, instead of throttling the loop via <code>Thread.Sleep</code>, you should be limiting the maximum degree of parallelism further until you get the CPU usage down to the desired level.</p>\n\n<p><strong>Disclaimer: all of the below is meant for entertainment only, although it <em>does</em> actually work.</strong></p>\n\n<p>Of course you can always kick it up a notch and produce a full-on async <code>Parallel.ForEach</code> implementation that allows you to process input in parallel and do your throttling asynchronously, without blocking any thread pool threads.</p>\n\n<pre><code>async Task ParallelForEachAsync&lt;TInput, TResult&gt;(IEnumerable&lt;TInput&gt; input,\n                                                 int maxDegreeOfParallelism,\n                                                 Func&lt;TInput, Task&lt;TResult&gt;&gt; body,\n                                                 Action&lt;TResult&gt; onCompleted)\n{\n    Queue&lt;TInput&gt; queue = new Queue&lt;TInput&gt;(input);\n\n    if (queue.Count == 0) {\n        return;\n    }\n\n    List&lt;Task&lt;TResult&gt;&gt; tasksInFlight = new List&lt;Task&lt;TResult&gt;&gt;(maxDegreeOfParallelism);\n\n    do\n    {\n        while (tasksInFlight.Count &lt; maxDegreeOfParallelism &amp;&amp; queue.Count != 0)\n        {\n            TInput item = queue.Dequeue();\n            Task&lt;TResult&gt; task = body(item);\n\n            tasksInFlight.Add(task);\n        }\n\n        Task&lt;TResult&gt; completedTask = await Task.WhenAny(tasksInFlight).ConfigureAwait(false);\n\n        tasksInFlight.Remove(completedTask);\n\n        TResult result = completedTask.GetAwaiter().GetResult(); // We know the task has completed. No need for await.\n\n        onCompleted(result);\n    }\n    while (queue.Count != 0 || tasksInFlight.Count != 0);\n}\n</code></pre>\n\n<p>Usage (<a href=\"https://dotnetfiddle.net/HsTNme\" rel=\"nofollow\">full Fiddle here</a>):</p>\n\n<pre><code>async Task&lt;DataTable&gt; ProcessAllAsync(IEnumerable&lt;InputObject&gt; allData)\n{\n    DataTable table = CreateTable();\n    int maxDegreeOfParallelism = Environment.ProcessorCount;\n\n    await ParallelForEachAsync(\n        allData,\n        maxDegreeOfParallelism,\n        // Loop body: these Tasks will run in parallel, up to {maxDegreeOfParallelism} at any given time.\n        async dataObj =&gt;\n        {\n            FinalObject o = await Task.Run(() =&gt; Process(dataObj)).ConfigureAwait(false); // Thread pool processing.\n\n            await Task.Delay(100).ConfigureAwait(false); // Artificial throttling.\n\n            return o;\n        },\n        // Completion handler: these will be executed one at a time, and can safely mutate shared state.\n        moveObj =&gt; table.Rows.Add(moveObj.x)\n    );\n\n    return table;\n}\n\nstruct InputObject\n{\n    public int x;\n}\n\nstruct FinalObject\n{\n    public int x;\n}\n\nFinalObject Process(InputObject o)\n{\n    // Simulate synchronous work.\n    Thread.Sleep(100);\n\n    return new FinalObject { x = o.x };\n}\n</code></pre>\n\n<p>Same behaviour, but without <code>Thread.Sleep</code> and <code>ConcurrentBag&lt;T&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2763, "user_id": 138156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9OTR.jpg?s=128&g=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/138156/nemo"}, "is_accepted": false, "score": 0, "last_activity_date": 1458784793, "last_edit_date": 1458784793, "creation_date": 1458767314, "answer_id": 36188711, "question_id": 36188404, "link": "https://stackoverflow.com/questions/36188404/best-way-to-convert-thread-safe-collection-to-datatable/36188711#36188711", "title": "Best way to convert thread safe collection to DataTable?", "body": "<p>I think something like this should give better performance, looks like object[] is a better option than DataRow as you need DataTable to get a DataRow object.</p>\n\n<pre><code>ConcurrentBag&lt;object[]&gt; bag = new ConcurrentBag&lt;object[]&gt;();\n\nParallel.ForEach(allData, \n    new ParallelOptions { MaxDegreeOfParallelism = Environment.ProcessorCount }, \n    dataObj =&gt;\n{\n    object[] row = new object[colCount];\n\n    //do processing\n\n    bag.Add(row);\n\n    Thread.Sleep(100);\n});\n\nDataTable table = createTable();\nforeach (object[] row in bag)\n{\n    table.Rows.Add(row);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 1, "creation_date": 1458776735, "post_id": 36189184, "comment_id": 60016512, "body": "<code>CopyToDataTable&lt;T&gt;</code> has a generic constraint of <code>T : DataRow</code>, so it only appears suitable for a small subset of generic collections (leading to workarounds like this: <a href=\"https://msdn.microsoft.com/en-us/library/bb669096(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb669096(v=vs.110).aspx</a>). Am I missing something?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1458823866, "post_id": 36189184, "comment_id": 60034536, "body": "@KirillShlenskiy That&#39;s why I said &quot; if you store <code>DataRow</code> objects in your bag instead of plain objects&quot;.   I&#39;m still confused as to why the OP is using all of that complexity to create a collection in parallel, only to turn around and convert it to a <code>DataTable</code> serially."}, {"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458825989, "post_id": 36189184, "comment_id": 60035955, "body": "The reason for the collection in parallel is the amount of processing that happens in the loop. Doing it sequentially is very time consuming and this allows me to move much faster. The datatable is used to insert all of the records I need to put in the DB. Since it&#39;s not a thread safe collection, I store in a thread safe collection and convert into a medium to insert into DB. That might be overkill, trying to figure it out."}, {"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1458826091, "post_id": 36189184, "comment_id": 60036031, "body": "@DStanley, apologies, I overlooked the &quot;if you store <code>DataRow</code> objects in your bag&quot; part."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458827849, "post_id": 36189184, "comment_id": 60037207, "body": "Have you tried inserting the objects into the DB one by one rather than from a <code>DataTable</code>?  Or are you using SqlBulkCopy to insert the records?"}, {"owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "edited": false, "score": 0, "creation_date": 1458829890, "post_id": 36189184, "comment_id": 60038658, "body": "SqlBulkCopy  - I&#39;m actually trying both single insert and bulk copy to compare performance now."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1458769105, "creation_date": 1458769105, "answer_id": 36189184, "question_id": 36188404, "link": "https://stackoverflow.com/questions/36188404/best-way-to-convert-thread-safe-collection-to-datatable/36189184#36189184", "title": "Best way to convert thread safe collection to DataTable?", "body": "<p>Sounds like you've complicated things quite a bit by tring to make everything run in parallel, but if you store <code>DataRow</code> obejcts in your bag instead of plain objects, at the end you can use <code>DataTableExtensions</code> to create a <code>DataTable</code> from a generic collection quite easily:</p>\n\n<pre><code>var dataTable = bag.CopyToDataTable();\n</code></pre>\n\n<p>Just add a reference to <code>System.Data.DataSetExtensions</code> in your project.</p>\n"}], "owner": {"reputation": 773, "user_id": 2124871, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/764380c051b55c8b00854b20489d3a31?s=128&d=identicon&r=PG", "display_name": "user2124871", "link": "https://stackoverflow.com/users/2124871/user2124871"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1946, "favorite_count": 0, "accepted_answer_id": 36188646, "answer_count": 3, "score": 0, "last_activity_date": 1458803080, "creation_date": 1458766072, "last_edit_date": 1458766301, "question_id": 36188404, "link": "https://stackoverflow.com/questions/36188404/best-way-to-convert-thread-safe-collection-to-datatable", "title": "Best way to convert thread safe collection to DataTable?", "body": "<p>So here is the scenario:</p>\n\n<p>I have to take a group of data, process it, build an object and then insert those objects into a database.</p>\n\n<p>In order to increase performance, I am multi-threading the processing of the data using a parallel loop and storing the objects in a CollectionBag list.</p>\n\n<p>That part works fine. However, the issue here is I now need to take that list, convert it into a DataTable object and insert the data into the database. It's very ugly and I feel like I'm not doing this in the best way possible (pseudo below):</p>\n\n<pre><code>ConcurrentBag&lt;FinalObject&gt; bag = new ConcurrentBag&lt;FinalObject&gt;();\n\nParallelOptions parallelOptions = new ParallelOptions();\nparallelOptions.MaxDegreeOfParallelism = Environment.ProcessorCount;\n\nParallel.ForEach(allData, parallelOptions, dataObj =&gt;\n{   \n    .... Process data ....\n\n    bag.Add(theData);\n\n    Thread.Sleep(100);\n});\n\nDataTable table = createTable();\nforeach(FinalObject moveObj in bag) {\n    table.Rows.Add(moveObj.x);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "ascx"], "comments": [{"owner": {"reputation": 750, "user_id": 2809739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymnxe.jpg?s=128&g=1", "display_name": "Sachin Nambiar Nalavattanon", "link": "https://stackoverflow.com/users/2809739/sachin-nambiar-nalavattanon"}, "edited": false, "score": 0, "creation_date": 1458766279, "post_id": 36188401, "comment_id": 60012148, "body": "Can you provide some code samples? Looks like you will need to recreate controls on Postback."}, {"owner": {"reputation": 13, "user_id": 6103476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1560d886fe1cf368fc07cd144c24bd?s=128&d=identicon&r=PG&f=1", "display_name": "gfox", "link": "https://stackoverflow.com/users/6103476/gfox"}, "reply_to_user": {"reputation": 750, "user_id": 2809739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymnxe.jpg?s=128&g=1", "display_name": "Sachin Nambiar Nalavattanon", "link": "https://stackoverflow.com/users/2809739/sachin-nambiar-nalavattanon"}, "edited": false, "score": 0, "creation_date": 1458767658, "post_id": 36188401, "comment_id": 60012882, "body": "@SachinNambiarNalavattanon I added my source code."}, {"owner": {"reputation": 750, "user_id": 2809739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymnxe.jpg?s=128&g=1", "display_name": "Sachin Nambiar Nalavattanon", "link": "https://stackoverflow.com/users/2809739/sachin-nambiar-nalavattanon"}, "edited": false, "score": 0, "creation_date": 1458777551, "post_id": 36188401, "comment_id": 60016743, "body": "Can you add code for the form load event too?"}, {"owner": {"reputation": 13949, "user_id": 33969, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84cac0fa5789fee40e1f51b19c30b95c?s=128&d=identicon&r=PG", "display_name": "Reddog", "link": "https://stackoverflow.com/users/33969/reddog"}, "edited": false, "score": 0, "creation_date": 1458795178, "post_id": 36188401, "comment_id": 60021165, "body": "Have a look at using a bound Repeater to instantiate your child controls."}, {"owner": {"reputation": 13, "user_id": 6103476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1560d886fe1cf368fc07cd144c24bd?s=128&d=identicon&r=PG&f=1", "display_name": "gfox", "link": "https://stackoverflow.com/users/6103476/gfox"}, "reply_to_user": {"reputation": 750, "user_id": 2809739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymnxe.jpg?s=128&g=1", "display_name": "Sachin Nambiar Nalavattanon", "link": "https://stackoverflow.com/users/2809739/sachin-nambiar-nalavattanon"}, "edited": false, "score": 0, "creation_date": 1458804707, "post_id": 36188401, "comment_id": 60023981, "body": "@SachinNambiarNalavattanon In page load event for now I have not any code."}, {"owner": {"reputation": 13, "user_id": 6103476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1560d886fe1cf368fc07cd144c24bd?s=128&d=identicon&r=PG&f=1", "display_name": "gfox", "link": "https://stackoverflow.com/users/6103476/gfox"}, "reply_to_user": {"reputation": 13949, "user_id": 33969, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84cac0fa5789fee40e1f51b19c30b95c?s=128&d=identicon&r=PG", "display_name": "Reddog", "link": "https://stackoverflow.com/users/33969/reddog"}, "edited": false, "score": 0, "creation_date": 1458804816, "post_id": 36188401, "comment_id": 60024020, "body": "@Reddog I didn&#39;t think about that,  I will try."}], "owner": {"reputation": 13, "user_id": 6103476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e1560d886fe1cf368fc07cd144c24bd?s=128&d=identicon&r=PG&f=1", "display_name": "gfox", "link": "https://stackoverflow.com/users/6103476/gfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458794586, "creation_date": 1458766065, "last_edit_date": 1458794586, "question_id": 36188401, "link": "https://stackoverflow.com/questions/36188401/recreating-many-dynamic-controls-in-asp-net-individually-actions", "title": "Recreating many dynamic controls in ASP NET (individually actions)", "body": "<p>I have problem with ASP.NET and dynamic controls. I have three ASCX. One of them creates two textboxes and some labels. The second containing control created if first ASCX (two textboxes and some labels). In addiction, second control also have link button named \u201cAdd Next\u201d which on click event adding another control (two textboxes and some labels). The third ASCX control contains many the second ASCX (amount depend on SQL result). I made simple image to clarify:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MMvbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MMvbt.png\" alt=\"enter image description here\"></a></p>\n\n<p>The orange box contains many controls. The red box adding many black boxes on click \u201cADD NEXT\u201d. </p>\n\n<p>For now I use session variable to save state during recreate. For one \u201cred box\u201d it is working, but if I add more \u201cred boxes\u201d, clicking every \u201cADD NEXT\u201d adding new control with textboxes and labels to every \u201cred box\u201d instead of in this where was clicked button \u201cADD NEXT\u201d. I suppose why it is happening. Because every \u201cred box\u201d refers to the same Session variable, but I don\u2019t know how to fix it. I was trying during OnClick event passing unique ID and setting this ID as session variable name, but it wasn\u2019t working as I expected. \nCould you tell me, how to manage it? How looks the best way to recreate controls, how I can manage controls individually? If something is not clear, I will clarify. Always I was finding answers in stackoverflow, but this problem has outgrow me. \nBest wishes.\n(Sorry for my English, it doesn\u2019t my native language)</p>\n\n<p>My code.</p>\n\n<p>Code for creating textboxes and some labels (Calculator.cs):</p>\n\n<pre><code>public string FLong\n{\n    get\n    {\n        object o = ViewState[\"FLong\"];\n        if (o == null)\n            return String.Empty;\n        return (string)o;\n    }\n    set { ViewState[\"FLong\"] = value; }\n}\n\npublic string FWide\n{\n    get\n    {\n        object o = ViewState[\"FWide\"];\n        if (o == null)\n            return String.Empty;\n        return (string)o;\n    }\n    set\n    {\n        ViewState[\"FWide\"] = value;\n\n    }\n}\nprotected override void OnInit(EventArgs e)\n{\n    base.OnInit(e);\n    CreateControlHierarchy();\n    ClearChildViewState();\n}\n\nprotected virtual void CreateControlHierarchy()\n{\n\n    Literal row = new Literal();\n    row.Text = \"&lt;div class='row surface'&gt;\";\n    Controls.Add(row);\n    //Add new TextBox;\n\n    Literal col = new Literal();\n    col.Text = \"&lt;div class='col-xs-4'&gt;\";\n    Controls.Add(col);\n\n    TextBox fLong = new TextBox();\n    fLong.ID = \"fLong\";\n    fLong.CssClass = \"form-control\";\n\n    //fLong.TextChanged += new EventHandler(Calculate_TextChanged);\n    //fLong.AutoPostBack = true;\n    fLong.Text = FLong;\n    Controls.Add(fLong);\n\n    Literal textLong = new Literal();\n    textLong.Text = \"&lt;span&gt;ft. long x&lt;/span&gt;\";\n    Controls.Add(textLong);\n\n    RegularExpressionValidator flongValidate = new RegularExpressionValidator();\n    flongValidate.ControlToValidate = \"fLong\";\n    flongValidate.ErrorMessage = \"Only Numbers allowed\";\n    flongValidate.ValidationExpression = @\"\\d+\";\n    flongValidate.ForeColor = System.Drawing.Color.Red;\n    flongValidate.Attributes[\"style\"] = \"display:block\";\n    Controls.Add(flongValidate);\n\n\n\n    Literal colEnd = new Literal();\n    colEnd.Text = \"&lt;/div&gt;\";\n    Controls.Add(colEnd);\n    //Add new Textbox\n\n    Literal col2 = new Literal();\n    col2.Text = \"&lt;div class='col-xs-4'&gt;\";\n    Controls.Add(col2);\n\n    TextBox fWide = new TextBox();\n    fWide.ID = \"fWide\";\n    fWide.CssClass = \"form-control\";\n\n\n    fWide.Text = FWide;\n    Controls.Add(fWide);\n\n    Literal textWide = new Literal();\n    textWide.Text = \"&lt;span&gt;ft. wide&lt;/span&gt;\";\n    Controls.Add(textWide);\n\n    RegularExpressionValidator fwideValidate = new RegularExpressionValidator();\n    fwideValidate.ControlToValidate = \"fWide\";\n    fwideValidate.ErrorMessage = \"Only Numbers allowed\";\n    fwideValidate.ValidationExpression = @\"\\d+\";\n    fwideValidate.ForeColor = System.Drawing.Color.Red;\n    fwideValidate.Attributes[\"style\"] = \"display:block\";\n    Controls.Add(fwideValidate);\n\n\n\n    Literal col2End = new Literal();\n    col2End.Text = \"&lt;/div&gt;\";\n    Controls.Add(col2End);\n\n\n    Literal rowEnd = new Literal();\n    rowEnd.Text = \"&lt;/div&gt;\";\n    Controls.Add(rowEnd);\n\n}\n</code></pre>\n\n<p>Code handling recreating (SurfaceCalculator.cs): </p>\n\n<pre><code>private int DefaultAmountControls = 1;\nprivate string surfaceID;\n\npublic string SurfaceID\n{\n    get { return surfaceID; }\n    set { surfaceID = value; }\n}\n\npublic int Visibility\n{\n    get\n    {\n        //store the object in session if not already stored\n        if (Session[surfaceID] == null)\n            Session[surfaceID] = DefaultAmountControls;\n\n        //return the object from session\n        return (int)Session[surfaceID];\n    }\n    set\n    {\n        if (value &lt;= 5)\n            Session[surfaceID] = value;\n        else\n            Session[surfaceID] = 5;\n    }\n}\n\nprotected void addSurface_Click(object sender, EventArgs e)\n{\n    LinkButton b = (LinkButton)sender;\n    surfaceID = b.CommandArgument;\n    Visibility += 1;\n}\nprotected override void OnInit(EventArgs e)\n{\n\n    LinkButton addSurface = new LinkButton();\n    addSurface.Text = \"+ Add surface\";\n    addSurface.CommandArgument = surfaceID;\n    addSurface.Click += new EventHandler(addSurface_Click);\n    base.OnInit(e);\n    List&lt;Calculator&gt; c = Surface.Controls.OfType&lt;Calculator&gt;().ToList();\n    for (int i = 1; i &lt;= Visibility; i++)\n    {\n        c.ElementAt(i - 1).Visible = true;\n    }\n    if (Visibility &gt;= 5)\n    {\n        addSurface.Enabled = false;\n    }\n\n    Controls.Add(addSurface);\n\n}\n</code></pre>\n\n<p>Code to adding many controls depending on SQL result</p>\n\n<pre><code>protected override void OnInit(EventArgs e)\n{\n    base.OnInit(e);\n    var listOfProjects = //GETTING FROM SQL\n    if(listOfProjects != null)\n    {\n        foreach (var proj in listOfProjects)\n        {\n            Panel placeHolder = new Panel();\n            placeHolder.CssClass = \"surface\";\n            placeHolder.ID = \"placeHolder\" + proj.DocumentID;\n            surfacesContainer.Controls.Add(placeHolder);\n\n            SurfaceCalculator newElement = (SurfaceCalculator)LoadControl(\"~/PATH_TO/CONTROL.ascx\");\n\n            newElement.ID = \"surfaceCalculator\" + proj.DocumentID;\n\n            newElement.SurfaceID = newElement.ID;\n            placeHolder.Controls.Add(newElement);\n\n        }\n    }  \n}\n</code></pre>\n"}, {"tags": ["c#", "win-universal-app", "windows-10", "kiosk", "template10"], "answers": [{"tags": [], "owner": {"reputation": 1253, "user_id": 5454650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSfXZ.jpg?s=128&g=1", "display_name": "RicardoPons", "link": "https://stackoverflow.com/users/5454650/ricardopons"}, "is_accepted": false, "score": 0, "last_activity_date": 1458768508, "creation_date": 1458768508, "answer_id": 36189030, "question_id": 36188271, "link": "https://stackoverflow.com/questions/36188271/windows-uwp-template-10-and-assigned-access-kiosk-mode/36189030#36189030", "title": "Windows UWP Template 10 and Assigned Access/Kiosk Mode", "body": "<p>I didn't work with Template10 but I worked with another MVVM Frameworks like Prism, Caliburn and MVVM Light toolkit for creating Kiosk Mode apps or Assigned Access.</p>\n\n<p>In my experience the only issue I had is when I create a custom Service to inject in my VM with the simple container (IoC or ServiceLocator)</p>\n\n<p>you will need to use some different approaches to debug your app like <strong>Debug Installed App Package</strong> or <strong>Debug Windows Universal Prelaunch</strong> </p>\n\n<p>I recommend you to debug your app in a real device in Assigned Access mode using remote debugging because always in your app the app will launch fine but in the device would be different.</p>\n\n<p>Please check this doc.\n<a href=\"https://msdn.microsoft.com/en-us/library/hh781607.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/hh781607.aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 883, "user_id": 2771556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e3868a5afa60008b51f2b57a3252d4?s=128&d=identicon&r=PG", "display_name": "VoidVolker", "link": "https://stackoverflow.com/users/2771556/voidvolker"}, "is_accepted": false, "score": 0, "last_activity_date": 1459096045, "creation_date": 1459096045, "answer_id": 36249756, "question_id": 36188271, "link": "https://stackoverflow.com/questions/36188271/windows-uwp-template-10-and-assigned-access-kiosk-mode/36249756#36249756", "title": "Windows UWP Template 10 and Assigned Access/Kiosk Mode", "body": "<p>I don't recommend to use windows internal kiosk mode - it almost useless and din't work as expected. After some experiments and few real kiosk projects I found best solution with full control. </p>\n\n<p>Steps are next:</p>\n\n<ul>\n<li>Create user for kiosk mode</li>\n<li>Set next registry key for this user as path to your application:</li>\n</ul>\n\n<p>Windows XP/7:</p>\n\n<pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon]\n\"Shell\"=\"C:\\\\full\\\\path\\\\to\\\\your\\\\application.exe&gt;\"\n</code></pre>\n\n<p>Windows 8 and later:</p>\n\n<pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System]\n\"Shell\"=\"C:\\\\full\\\\path\\\\to\\\\your\\\\application.exe&gt;\"\n</code></pre>\n\n<p>Autologin for kiosk user:</p>\n\n<pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon] \n\"AutoAdminLogon\"=\"1\"\n\"ForceAutoLogon\"=\"1\"\n\"DefaultUserName\"=\"kiosk\"\n\"DefaultDomainName\"=\"&lt;place here pc hostname&gt;\"\n\"DefaultPassword\"=\"\"\n</code></pre>\n\n<p><em>[Option]</em> If you need to disable Ctrl+Alt+Del, then use this registry key value (\"\") or you can place there own application:</p>\n\n<pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\taskmgr.exe]\n\"Debugger\"=\"\\\"\\\"\"\n</code></pre>\n\n<p>Create kiosk user with your application as shell and create/activate admin with password. With autologin to load as admin press shift when windows loading and before autologin or while logging out - windows will not autologin and show users list. Or, you can not set autologin and windows will show 2 users: admin and kiosk user with your software.</p>\n"}], "owner": {"reputation": 3010, "user_id": 812715, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/676c78b782a9c45eb7d1c1e1471b37c1?s=128&d=identicon&r=PG", "display_name": "Karoly S", "link": "https://stackoverflow.com/users/812715/karoly-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1732, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459096045, "creation_date": 1458765563, "question_id": 36188271, "link": "https://stackoverflow.com/questions/36188271/windows-uwp-template-10-and-assigned-access-kiosk-mode", "title": "Windows UWP Template 10 and Assigned Access/Kiosk Mode", "body": "<p>I'm currently working on a Windows 10 UWP <strong>Kiosk Mode</strong> application to run on a tablet and after having just stumbled on the Template 10 project templates I'm wondering how you would go about making the necessary changes to the base Template 10 project to allow it to run in Assigned Access. I've found this page</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/hardware/mt633799(v=vs.85).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/hardware/mt633799(v=vs.85).aspx</a> </p>\n\n<p>as a resource and it seems to be very helpful but after looking through the Template 10 Hamburger project it seems to be laid out differently than a simple empty UWP project so the conversion isn't really straightforward. The immediate issue being that there is no OnLaunched function to override in App.xaml.cs. I'm sure there are other discrepancies. </p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458765815, "post_id": 36188243, "comment_id": 60011913, "body": "Any chance you are updating the username in the view before you create the TextBox?"}, {"owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "reply_to_user": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458766064, "post_id": 36188243, "comment_id": 60012030, "body": "@Nava-Prev.Queti, I just checked there is only referenced twice to &quot;Username&quot;"}, {"owner": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458766342, "post_id": 36188243, "comment_id": 60012204, "body": "This might seem silly, but can you view source and see what the server is actually returning. When using the Developer Tools, you are seeing the current state of the DOM, it&#39;s very possible that you could have something client-side that is overriding the value. So view source so you can see what is being sent from the server"}, {"owner": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 0, "creation_date": 1458766446, "post_id": 36188243, "comment_id": 60012266, "body": "In your watch window, Username is spelled with a lower case &#39;n&#39; for name.  In your Textbox declaration, it has an upper case &#39;N&#39;.  Try making it a lower case &#39;n&#39; and see if that fixes your problem.  Nevermind, just looked at it again, and saw where that conversion was done."}, {"owner": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 0, "creation_date": 1458766871, "post_id": 36188243, "comment_id": 60012488, "body": "So this should have absolutely no barring on it at all, but instead of creating a new object in your View method, what about creating an object above it, and then passing that object in.  At least that way you can see that the model is populated correctly instead of indirectly as you showed in the code above.  Again, I don&#39;t think it will have any bearing on the issue, but it simplifies the issue a bit more."}, {"owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "reply_to_user": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458767010, "post_id": 36188243, "comment_id": 60012558, "body": "@Nava-Prev.Queti, not silly at all. I included a screenshot from Fiddler with the HTML response in my question. Murat, yeah added a comment to your response."}, {"owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "reply_to_user": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 0, "creation_date": 1458767028, "post_id": 36188243, "comment_id": 60012563, "body": "@Nate, trying that now but it should work. Because if I put a breakpoint in my view, the values are filled"}, {"owner": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458767227, "post_id": 36188243, "comment_id": 60012670, "body": "Just double checking that your action method is called ForgotPasswordConfirmation, because you are requesting the &quot;CreatePassword&quot; view from your action and in the form you are posting &quot;CreatePassword&quot;. So basically, are you looking at the correct view. #imRunningOutOfIdeas"}, {"owner": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 0, "creation_date": 1458767634, "post_id": 36188243, "comment_id": 60012866, "body": "@ Model.Username prints correct value?  Your TextBoxFor says it should be @ Model.UserName that would print the correct value.  Was that edit a typo?"}, {"owner": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 1, "creation_date": 1458767797, "post_id": 36188243, "comment_id": 60012958, "body": "Sound like the issue is with the TextBoxFor HtmlHelper. Any chance you have an Editor Template in /Views/Shared/EditorTemplates?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458767953, "post_id": 36188243, "comment_id": 60013036, "body": "This sounds like you either have the model as a parameter in your GET method, or your submitting the form to a POST method and updating the value of <code>UserName</code> and returning the view. If so, the <code>TextBoxFor()</code> will only ever display the original value (when the model is bound), because the HtmlHelper methods use the values from <code>ModelState</code>"}, {"owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "reply_to_user": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "edited": false, "score": 0, "creation_date": 1458768083, "post_id": 36188243, "comment_id": 60013108, "body": "@Nava-Prev.Queti, I don&#39;t have any Editortemplates. But I renamed the field from UserName to User in the model and it resolved the issue. Can you post your answer as a solution."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458768314, "post_id": 36188243, "comment_id": 60013216, "body": "@Reinard. Changing the name from <code>UserName</code> to <code>User</code> could not possibly solve this unless you have other major problems with your code. You should show your controller methods."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 9541, "user_id": 1604048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EMUc6.png?s=128&g=1", "display_name": "Murat Y\u0131ld\u0131z", "link": "https://stackoverflow.com/users/1604048/murat-y%c4%b1ld%c4%b1z"}, "edited": false, "score": 0, "creation_date": 1458768689, "post_id": 36188243, "comment_id": 60013368, "body": "@MuratY\u0131ld\u0131z, Your answer has got nothing to do with the issue. If <code>@Model.UserName</code> displays correctly but <code>@Html.TextBoxFor(m =&gt; m.UserName)</code> does not, its because the value for <code>UserName</code> in <code>ModelState</code> is <code>null</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "edited": false, "score": 0, "creation_date": 1458768172, "post_id": 36188927, "comment_id": 60013151, "body": "I did not have any EditorTemplates. But I renamed the Property from &#39;Username&#39; to &#39;User&#39; and the problem was resolved."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1458768197, "post_id": 36188927, "comment_id": 60013164, "body": "This has absolutely nothing to to with the issue!"}], "tags": [], "owner": {"reputation": 9815, "user_id": 84395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a33e112a880f4dcb3644113d26e00f6?s=128&d=identicon&r=PG&f=1", "display_name": "Cloud SME", "link": "https://stackoverflow.com/users/84395/cloud-sme"}, "is_accepted": true, "score": -2, "last_activity_date": 1458768126, "creation_date": 1458768126, "answer_id": 36188927, "question_id": 36188243, "link": "https://stackoverflow.com/questions/36188243/c-asp-net-mvc-4-html-textboxfor-value-attribute-empty/36188927#36188927", "title": "C# ASP.NET MVC 4 - html.TextBoxFor value attribute empty", "body": "<p>Sound like the issue is with the TextBoxFor HtmlHelper. Any chance you have an Editor Template in /Views/Shared/EditorTemplates?</p>\n"}], "owner": {"reputation": 3360, "user_id": 878519, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eebf3cf169ccc501746d5d4b429b0462?s=128&d=identicon&r=PG", "display_name": "Reinard", "link": "https://stackoverflow.com/users/878519/reinard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 955, "favorite_count": 0, "accepted_answer_id": 36188927, "answer_count": 1, "score": 0, "last_activity_date": 1458768126, "creation_date": 1458765467, "last_edit_date": 1458767740, "question_id": 36188243, "link": "https://stackoverflow.com/questions/36188243/c-asp-net-mvc-4-html-textboxfor-value-attribute-empty", "title": "C# ASP.NET MVC 4 - html.TextBoxFor value attribute empty", "body": "<p>I have two fields in my form which should be prefilled from the model. The fields are read-only. For the Email field, my form is correctly prefilled. But for my Username field, the value attribute remains empty. I can't seem to find out why the value of the Username field remains empty.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mud3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mud3m.png\" alt=\"enter image description here\"></a>\nBoth values get filled in the model.\n<a href=\"https://i.stack.imgur.com/64BP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64BP3.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>        &lt;div class=\"form-group input-group required-field-block\"&gt;\n            &lt;span class=\"input-group-addon\"&gt;\n                &lt;i class=\"glyphicon glyphicon-user\"&gt;&lt;/i&gt;\n            &lt;/span&gt; \n            @Html.TextBoxFor(m =&gt; m.UserName, new { @class = \"form-control\", placeholder = \"Username\", readOnly = \"readonly\" })\n        &lt;/div&gt;\n        &lt;div class=\"form-group input-group required-field-block\"&gt;\n            &lt;span class=\"input-group-addon\"&gt;\n                &lt;i class=\"glyphicon glyphicon-envelope\"&gt;&lt;/i&gt;\n            &lt;/span&gt;\n            @Html.TextBoxFor(m =&gt; m.Email, new { @class = \"form-control\", placeholder = \"Email\", readOnly = \"readonly\" })\n        &lt;/div&gt;\n</code></pre>\n\n<p>Email is prefilled:\n<a href=\"https://i.stack.imgur.com/HCw2Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCw2Z.png\" alt=\"enter image description here\"></a>\nUsername is not (notice the value attribute):\n<a href=\"https://i.stack.imgur.com/eZtuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZtuP.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Result from fiddler:\n<a href=\"https://i.stack.imgur.com/TTQgy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTQgy.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Printing <code>@Model.UserName</code> on random places at my view, returns the correct value</p>\n\n<pre><code>        &lt;div class=\"form-group input-group required-field-block\"&gt;\n            &lt;span class=\"input-group-addon\"&gt;\n                &lt;i class=\"glyphicon glyphicon-user\"&gt;&lt;/i&gt;\n            &lt;/span&gt;\n            @Html.TextBoxFor(m =&gt; m.UserName, new { @class = \"form-control\", placeholder = \"Username\", readOnly = \"readonly\" }) &lt;!-- NO VALUE --&gt;\n\n            @Model.UserName &lt;!-- Prints name perfectly --&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "edited": false, "score": 0, "creation_date": 1458766359, "post_id": 36188316, "comment_id": 60012211, "body": "Thanks! This is working once i check the box. Initially I am able to see the characters that I enter into the textbox. How this can be corrected?"}, {"owner": {"reputation": 4690, "user_id": 742775, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d7e9b3d98c0e0a5d76571881a8e0b96c?s=128&d=identicon&r=PG", "display_name": "Alireza", "link": "https://stackoverflow.com/users/742775/alireza"}, "reply_to_user": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "edited": false, "score": 0, "creation_date": 1458767568, "post_id": 36188316, "comment_id": 60012835, "body": "Run the same code in <code>Form_Load</code>, or call <code>chkBox_CheckedChanged(null, null)</code> from <code>Form_Load</code>"}, {"owner": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "reply_to_user": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "edited": false, "score": 1, "creation_date": 1458768382, "post_id": 36188316, "comment_id": 60013246, "body": "@Nate, If you&#39;re using the WinForms designer, it&#39;s more idiomatic to simply set a value for <code>PasswordChar</code> in the properties window of the designer rather than in <code>Form_Load</code>."}, {"owner": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "reply_to_user": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "edited": false, "score": 0, "creation_date": 1459048727, "post_id": 36188316, "comment_id": 60117177, "body": "@Jason, Thanks. It is working. But on unchecking the box the entered text is not coming back. Here is the code: private void chkBox_CheckedChanged(object sender, EventArgs e) {     if (chkBox.Checked)     {         txtBox.PasswordChar= &#39;$&#39;;     }}"}], "tags": [], "owner": {"reputation": 4690, "user_id": 742775, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d7e9b3d98c0e0a5d76571881a8e0b96c?s=128&d=identicon&r=PG", "display_name": "Alireza", "link": "https://stackoverflow.com/users/742775/alireza"}, "is_accepted": true, "score": 3, "last_activity_date": 1458765719, "creation_date": 1458765719, "answer_id": 36188316, "question_id": 36188242, "link": "https://stackoverflow.com/questions/36188242/custom-password-character-in-textbox/36188316#36188316", "title": "Custom Password Character in TextBox", "body": "<p>I guess what you want can be done with:</p>\n\n<pre><code> txtBox.PasswordChar = '$';\n</code></pre>\n\n<p>or more specifically</p>\n\n<pre><code>txtBox.PasswordChar = chkBox.Checked ? Char.MinValue : '$';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "edited": false, "score": 0, "creation_date": 1459048909, "post_id": 36189918, "comment_id": 60117207, "body": ",Thanks.It did work after setting the property to false."}], "tags": [], "owner": {"reputation": 53, "user_id": 5635335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0emI.jpg?s=128&g=1", "display_name": "Roman Kovalchuk", "link": "https://stackoverflow.com/users/5635335/roman-kovalchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1458772145, "creation_date": 1458772145, "answer_id": 36189918, "question_id": 36188242, "link": "https://stackoverflow.com/questions/36188242/custom-password-character-in-textbox/36189918#36189918", "title": "Custom Password Character in TextBox", "body": "<pre><code>textBox1.PasswordChar = '$';\n</code></pre>\n\n<p>This code is ignored if property \"UseSystemPasswordChar = true\", change it to \"false\" and it will work.</p>\n"}], "owner": {"reputation": 35, "user_id": 6105930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3acbc55ddb6d9866532c7ddde020afb?s=128&d=identicon&r=PG&f=1", "display_name": "Subhankar", "link": "https://stackoverflow.com/users/6105930/subhankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 36188316, "answer_count": 2, "score": 2, "last_activity_date": 1458772145, "creation_date": 1458765461, "last_edit_date": 1458768259, "question_id": 36188242, "link": "https://stackoverflow.com/questions/36188242/custom-password-character-in-textbox", "title": "Custom Password Character in TextBox", "body": "<p>I have a <code>TextBox</code> containing a password that I want to be able to show or hide depending on the value of a <code>CheckBox</code>. I am able to hide the characters by setting the <code>UseSystemPasswordChar</code> property in the <code>CheckChanged</code> event on <code>chkBox</code>:</p>\n\n<pre><code>private void chkBox_CheckedChanged(object sender, EventArgs e)\n{\n    if (chkBox.Checked)\n    {\n        txtBox.UseSystemPasswordChar = false;\n    }\n    else\n    {\n        txtBox.UseSystemPasswordChar = true;\n    }\n\n}\n</code></pre>\n\n<p>I would like to use a custom character to replace the password text instead of the system character. How can I use a custom password character?</p>\n"}, {"tags": ["c#", ".net", "regex"], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 1029571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VojY1.jpg?s=128&g=1", "display_name": "Bikonja", "link": "https://stackoverflow.com/users/1029571/bikonja"}, "edited": false, "score": 0, "creation_date": 1458766120, "post_id": 36188320, "comment_id": 60012069, "body": "This doesn&#39;t actually match the desired result, but matches every combination and puts it into a capture group for that match... Yes, it works and I don&#39;t think it&#39;s possible without a lookahead, but it&#39;s a worthy note I think."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1458766138, "post_id": 36188320, "comment_id": 60012085, "body": "@ThomasWeller: <code>(?=...)</code> is a positive lookahead, a zero-width assertion, a construct letting us check for (or enforce) presence of some character(s) <i>after</i> the current location inside the string. Bikonja: I compared my results with the expected ones, and they are the same."}, {"owner": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 0, "creation_date": 1458766466, "post_id": 36188320, "comment_id": 60012278, "body": "Thanks a lot. It works. However, In Notepad++, it seems to be not working even I have selected the &quot;Regular Expression&quot; radio button."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "reply_to_user": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 1, "creation_date": 1458766565, "post_id": 36188320, "comment_id": 60012333, "body": "@Koder101: Regex != Regex. There are different sorts of them. The question should not be tagged .NET and Notepad++ simultaneously, since that contradicts."}, {"owner": {"reputation": 899, "user_id": 1029571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VojY1.jpg?s=128&g=1", "display_name": "Bikonja", "link": "https://stackoverflow.com/users/1029571/bikonja"}, "reply_to_user": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 1, "creation_date": 1458766668, "post_id": 36188320, "comment_id": 60012393, "body": "@Koder101 Look at my comment for the answer. Notepad++ does not know (in find, only in replace) about capture groups in matches, hence the working C# code, but non-working Notepad++ regex. I don&#39;t think this is possible in Notepad++."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 1, "creation_date": 1458767209, "post_id": 36188320, "comment_id": 60012660, "body": "@Koder101: In Notepad++, use <code>(?=(\\d{4}))</code> and replace with <code>\\nOVERLAPPED: $1\\n</code>. Then, bookmark the overlapped ones with <code>^OVERLAPPED:\\h*\\d{4}$</code> regex, copy all the bookmarked lines to a new file and remove &quot;OVERLAPPED: &quot;. It is not straight-forward, but possible."}, {"owner": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 0, "creation_date": 1458767448, "post_id": 36188320, "comment_id": 60012773, "body": "@WiktorStribi\u017cew : Thanks for your effort. I appreciate. :)"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 7, "last_activity_date": 1458766053, "last_edit_date": 1458766053, "creation_date": 1458765729, "answer_id": 36188320, "question_id": 36188223, "link": "https://stackoverflow.com/questions/36188223/getting-all-possible-consecutive-4-digit-numbers-from-a-10-digit-number/36188320#36188320", "title": "Getting all possible consecutive 4 digit numbers from a 10 digit number", "body": "<p>You need to use <code>(?=(\\d{4}))</code> regex to match overlapping matches.</p>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=(%3F%3D(%5Cd%7B4%7D))&amp;i=2345678901\" rel=\"noreferrer\">regex demo</a></p>\n\n<p>The regexes you are using are all consuming the 4 digit chunks of text, and thus the overlapping values are not matched. With <code>(?=...)</code> positive lookahead, you can test <em>each</em> position inside the input string, and <em>capture</em> 4 digit chunks from those positions, without <em>consuming</em> the characters (i.e. without moving the regex engine pointer to the location after these 4 digit chunks).</p>\n\n<p><a href=\"https://i.stack.imgur.com/LvLrY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LvLrY.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://ideone.com/KkubT7\" rel=\"noreferrer\">C# demo</a>:</p>\n\n<pre><code>var data = \"2345678901\";\nvar res = Regex.Matches(data, @\"(?=(\\d{4}))\")\n            .Cast&lt;Match&gt;()\n            .Select(p =&gt; p.Groups[1].Value)\n            .ToList();\nConsole.WriteLine(string.Join(\"\\n\", res));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "edited": false, "score": 1, "creation_date": 1458842039, "post_id": 36188857, "comment_id": 60046973, "body": "Good comparison and thanks for your approach. If I answer your question  then, Yes, it was necessary to use Regex. Because the question is just a smaller part of some task, in reality I was dealing with -    1. 1000 digits long number.  2. The actual requirement was to get all possible 13 digit numbers, having no zeros. So my modified Regex would be - <b>@&quot;(?=([1-9]{13}))&quot;</b> 3. And then doing some tasks with those numbers.  The reason I chose to go with Regex is because of the flexibility it provides and the separation of concern."}], "tags": [], "owner": {"reputation": 341, "user_id": 6070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c026dedbc60814f3525b1b53144af3f?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/6070641/nobody"}, "is_accepted": false, "score": 2, "last_activity_date": 1458886407, "last_edit_date": 1458886407, "creation_date": 1458767876, "answer_id": 36188857, "question_id": 36188223, "link": "https://stackoverflow.com/questions/36188223/getting-all-possible-consecutive-4-digit-numbers-from-a-10-digit-number/36188857#36188857", "title": "Getting all possible consecutive 4 digit numbers from a 10 digit number", "body": "<p>Do you absolutely need to use Regex? The same operation can be achieved much more quickly using a simple loop.</p>\n\n<pre><code>private IEnumerable&lt;string&gt; getnums(string num)\n{\n    for (int i = 0; i &lt; num.Length - 3; i++)\n    {\n        yield return num.Substring(i, 4);\n    }\n}\n\nprivate IEnumerable&lt;string&gt; DoIt(string num)\n{\n    var res = Regex.Matches(num, @\"(?=(\\d{4}))\")\n                .Cast&lt;Match&gt;()\n                .Select(p =&gt; p.Groups[1].Value)\n                .ToList();\n    return (IEnumerable&lt;string&gt;)res;\n\n}\n</code></pre>\n\n<p>On average the simple loop takes about half the time of the RegEx version.</p>\n\n<pre><code>static void Main(string[] args)\n{\n\n    var num = \"2345678901\";\n\n    Stopwatch timer = new Stopwatch();\n\n    timer.Start();\n    foreach (var number in getnums(num))\n    {\n        // Yum yum numbers\n    }\n    timer.Stop();\n    Console.WriteLine(timer.Elapsed.Ticks);\n\n    timer.Reset();\n\n    timer.Start();\n    foreach (var number in DoIt(num))\n    {\n        // Yum yum numbers\n    }\n    timer.Stop();\n    Console.WriteLine(timer.Elapsed.Ticks);\n}\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 4317232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/azMF0.jpg?s=128&g=1", "display_name": "Koder101", "link": "https://stackoverflow.com/users/4317232/koder101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 36188320, "answer_count": 2, "score": 4, "last_activity_date": 1460356217, "creation_date": 1458765397, "last_edit_date": 1460356217, "question_id": 36188223, "link": "https://stackoverflow.com/questions/36188223/getting-all-possible-consecutive-4-digit-numbers-from-a-10-digit-number", "title": "Getting all possible consecutive 4 digit numbers from a 10 digit number", "body": "<p>I am trying to make a regex to get all the possible <strong>consecutive 4 digit</strong> numbers from a 10 digit number. Like </p>\n\n<pre><code>num = \"2345678901\";\n</code></pre>\n\n<p><strong>Output :</strong>\n<code>2345</code>, <code>3456</code>, <code>4567</code>, <code>5678</code>, <code>6789</code>, <code>7890</code>, <code>8901</code></p>\n\n<p>These simple regex are not working:</p>\n\n<pre><code>[\\d]{4}\n(\\d\\d\\d\\d)\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "edited": false, "score": 3, "creation_date": 1458765497, "post_id": 36188217, "comment_id": 60011758, "body": "What Linq queries have you tried?"}, {"owner": {"reputation": 354, "user_id": 4727426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e67294485c9636282d46cb28cb735f?s=128&d=identicon&r=PG&f=1", "display_name": "matihuf", "link": "https://stackoverflow.com/users/4727426/matihuf"}, "reply_to_user": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "edited": false, "score": 0, "creation_date": 1458765629, "post_id": 36188217, "comment_id": 60011836, "body": "var temp = cars.SelectMany(x =&gt; x.CarModel).Where(c =&gt; c.YearOfProduction== Year).ToList(); but this gives me only new list&lt;carModel&gt;"}, {"owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "edited": false, "score": 1, "creation_date": 1458765701, "post_id": 36188217, "comment_id": 60011860, "body": "Can you add that sample code to your question? It&#39;s essential in giving you an answer."}], "answers": [{"tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": false, "score": 3, "last_activity_date": 1458765912, "creation_date": 1458765912, "answer_id": 36188361, "question_id": 36188217, "link": "https://stackoverflow.com/questions/36188217/linq-c-where-condition-list/36188361#36188361", "title": "Linq c# where condition list", "body": "<p>If you need a list of car where at least one of the car models belong to an specific year, you can do this:</p>\n\n<pre><code>var temp = cars.Where(c=&gt;c.CarModels.Any(cm=&gt;cm.YearOfProduction== Year)).ToList();\n</code></pre>\n\n<p>If all the car models have to belong to that year then use <code>All</code> extension method instead <code>Any</code>:</p>\n\n<pre><code>var temp = cars.Where(c=&gt;c.CarModels.All(cm=&gt;cm.YearOfProduction== Year)).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1458765986, "last_edit_date": 1458765986, "creation_date": 1458765933, "answer_id": 36188370, "question_id": 36188217, "link": "https://stackoverflow.com/questions/36188217/linq-c-where-condition-list/36188370#36188370", "title": "Linq c# where condition list", "body": "<p>You are looking for the <code>Any</code> function:</p>\n\n<pre><code>cars.Where(c =&gt; c.carModel.Any(cm =&gt; cm.YearOfProduction == 2016));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 684, "user_id": 6104447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1E5Z8nJ9Pak/AAAAAAAAAAI/AAAAAAAAAC4/ckGO9DZ-y-g/photo.jpg?sz=128", "display_name": "Hasan BINBOGA", "link": "https://stackoverflow.com/users/6104447/hasan-binboga"}, "is_accepted": false, "score": 0, "last_activity_date": 1458766594, "creation_date": 1458766594, "answer_id": 36188535, "question_id": 36188217, "link": "https://stackoverflow.com/questions/36188217/linq-c-where-condition-list/36188535#36188535", "title": "Linq c# where condition list", "body": "<p>you can use Exists method for this query. Check the following example;</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace ConsoleApplication1\n{\n    public class Car\n    {\n        public string CarBrand { get; set; }\n        public List&lt;CarModel&gt; carModel;\n    }\n\n    public class CarModel\n    {\n        public string Name { get; set; }\n        public string YearOfProduction { get; set; }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var list = new List&lt;Car&gt;();\n            list.Add(\n                new Car\n                    {\n                        CarBrand = \"Ford\",\n                        carModel = new List&lt;CarModel&gt;{ \n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2015\"},\n                            new CarModel{Name=\"Fiesta\", YearOfProduction=\"2016\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2015\"},\n                            new CarModel{Name=\"Mondeo\", YearOfProduction=\"2016\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Focus\", YearOfProduction=\"2015\"},\n\n                        }\n                    }\n\n                    );\n            list.Add(new Car\n                    {\n                        CarBrand = \"Volkswagen\",\n                        carModel = new List&lt;CarModel&gt;{ \n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Polo\", YearOfProduction=\"2015\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Golf\", YearOfProduction=\"2015\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2010\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2011\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2012\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2013\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2014\"},\n                            new CarModel{Name=\"Passat\", YearOfProduction=\"2015\"},\n\n                        }\n                    });\n\n            var newCars = list.Where(s =&gt; s.carModel.Exists(m =&gt; m.YearOfProduction == \"2016\"));\n\n            foreach (var brand in newCars)\n            {\n                foreach (var model in brand.carModel)\n                {\n                    Console.WriteLine(\"Brand:{0}, Model:{1}, YearOfPrd:{2}\", brand.CarBrand, model.Name, model.YearOfProduction);\n\n                }\n            }\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 4727426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e67294485c9636282d46cb28cb735f?s=128&d=identicon&r=PG&f=1", "display_name": "matihuf", "link": "https://stackoverflow.com/users/4727426/matihuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1458766594, "creation_date": 1458765386, "question_id": 36188217, "link": "https://stackoverflow.com/questions/36188217/linq-c-where-condition-list", "title": "Linq c# where condition list", "body": "<p>I have simple class model Car with two fields</p>\n\n<pre><code>public class Car\n{\n    public string CarBrand { get; set; }\n    public List&lt;CarModel&gt; carModel;         \n}\n\npublic class CarModel\n{\n    public string Name { get; set; }\n    public string YearOfProduction{ get; set; }\n}\n</code></pre>\n\n<p>Now, my question is how to get new List of Cars List where YearOfProduction will be for example only 2016. </p>\n"}, {"tags": ["c#", "data-mining", "cosine-similarity"], "comments": [{"owner": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1458766004, "post_id": 36188119, "comment_id": 60011995, "body": "So each row is a vector? e.g. the first row of your example is a 3D vector and the second row is a 5D vector?"}, {"owner": {"reputation": 11, "user_id": 6034024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547d9adbad333fae5fbdd1286263a2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Itzik BenZaquen", "link": "https://stackoverflow.com/users/6034024/itzik-benzaquen"}, "reply_to_user": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1458767499, "post_id": 36188119, "comment_id": 60012797, "body": "Then it&#39;s probably not right to call it a vector, so its can be regarded as rows of numbers that should calculate for each pair of rows the cosine similarity between them"}, {"owner": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 0, "creation_date": 1458768663, "post_id": 36188119, "comment_id": 60013350, "body": "Well only because you call it something else that doesn&#39;t make the problem go away. AFAIK you need the same amount of dimension to calculate the cosine similarity. You can however find out how long the longest vector/row is and pad all the shorter ones with default values for the missing dimensions (e.g. zeros). If you don&#39;t know what the data represents you can&#39;t really determine similarity..."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5560249, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BQAwkWaK_8M/AAAAAAAAAAI/AAAAAAAAETg/DesRqLJT07o/photo.jpg?sz=128", "display_name": "Dmytro Bevzenko", "link": "https://stackoverflow.com/users/5560249/dmytro-bevzenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1458766037, "last_edit_date": 1495541725, "creation_date": 1458766037, "answer_id": 36188392, "question_id": 36188119, "link": "https://stackoverflow.com/questions/36188119/how-to-calculate-cosine-similarity-for-two-different-sizes-vector/36188392#36188392", "title": "How to calculate cosine similarity for two different sizes vector", "body": "<p>Vectors must be of the same length. If they are not, you have to pad the one that has smaller dimensionality with zeros. Basically the logic is as following: </p>\n\n<p>Consider 2 vectors: (0,1) and (0,0,1). </p>\n\n<p>The first one is 2D, the second one is 3D. You can consider 2D vector as a 3D vector, but located in (x,y) plane. So (0,1) is equivalent to (0,1,0). </p>\n\n<p>Also see an answer to this question in <a href=\"https://stackoverflow.com/questions/3121217/cosine-similarity-of-vectors-of-different-lengths\">the Python section</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6034024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547d9adbad333fae5fbdd1286263a2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Itzik BenZaquen", "link": "https://stackoverflow.com/users/6034024/itzik-benzaquen"}, "edited": false, "score": 0, "creation_date": 1458768491, "post_id": 36188874, "comment_id": 60013289, "body": "In my project i get a big datasets of numbers (a lot of lines - the 5 lines i show is just an example) and i need to make comparison between Jaccard Distance and Cosine Similarity, to get distances, And then to use the algorithm of K-means.  So my question is how to calc the numerator in the formula?"}, {"owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "reply_to_user": {"reputation": 11, "user_id": 6034024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547d9adbad333fae5fbdd1286263a2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Itzik BenZaquen", "link": "https://stackoverflow.com/users/6034024/itzik-benzaquen"}, "edited": false, "score": 0, "creation_date": 1458771128, "post_id": 36188874, "comment_id": 60014449, "body": "What is 574? it&#39;s <i>you</i> who needs to answer this. If these are random numbers, stop using random numbers. (P.S. do <i>not</i> use k-means with other distances)."}], "tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": false, "score": 0, "last_activity_date": 1458767949, "creation_date": 1458767949, "answer_id": 36188874, "question_id": 36188119, "link": "https://stackoverflow.com/questions/36188119/how-to-calculate-cosine-similarity-for-two-different-sizes-vector/36188874#36188874", "title": "How to calculate cosine similarity for two different sizes vector", "body": "<p>It depends.</p>\n\n<p>If your data is supposed to be a continuous vector space, then vectors have to be the same length.</p>\n\n<p>If your data is a sparse vector, then by definition missing values are 0 (usually).</p>\n\n<p>Your data looks as if you only have the <em>indexes</em> of 1s.</p>\n\n<p>Then cosine boils down to counting the intersection size (divided by the geometric mean length); I'd go with Jaccard on such data instead.</p>\n\n<p><strong>You need to know the <em>input format</em> - there are multiple answers, unless you give the essential information how the data is encoded, and what it <em>means</em>.</strong></p>\n"}], "owner": {"reputation": 11, "user_id": 6034024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547d9adbad333fae5fbdd1286263a2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Itzik BenZaquen", "link": "https://stackoverflow.com/users/6034024/itzik-benzaquen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2159, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1458810536, "creation_date": 1458765018, "last_edit_date": 1458810536, "question_id": 36188119, "link": "https://stackoverflow.com/questions/36188119/how-to-calculate-cosine-similarity-for-two-different-sizes-vector", "title": "How to calculate cosine similarity for two different sizes vector", "body": "<p>I need to calculate cosine similarity on a huge files that include rows of numbers, for example:</p>\n\n<p>6 3 574</p>\n\n<p>11 1 6 575 576 321</p>\n\n<p>4 577 6 64</p>\n\n<p>69 11 6 55</p>\n\n<p>11 218 6 578 579 580 581 229 582 583 155 100 584 148 446 585 </p>\n\n<p>I already store it on a  matrix of string, that make the split and each number is different cell.</p>\n\n<pre><code>string[] lines = FileBuff.Split(new string[] { \"\\r\\n\", \"\\n\" }, StringSplitOptions.None);\n            FileMatrix = new string[lines.Length][];\n            for (int i = 0; i &lt; lines.Length; i++)\n            {\n                FileMatrix[i] = lines[i].Split(new string[] { \"\\t\", \" \" }, StringSplitOptions.None);\n            }\n</code></pre>\n\n<p>My question is how to calculate cosine similarity of rows that is in \ndifferent sizes?<br>\nfor calc the numerator its must to be in the same size (A[i]*B[i]+A[i+1]*B[i+1]+.....)</p>\n\n<p>i found this example, its the same problem like mine just with letters:</p>\n\n<pre><code>Document 1: The quick brown fox jumped over the lazy dog.\n\nGlobal order:     The quick brown fox jumped over the lazy dog\nVector for Doc 1:  1    1     1    1     1     1    1   1   1\n\nDocument 2: The runner was quick.\n\nGlobal order:     The quick brown fox jumped over the lazy dog runner was\nVector for Doc 1:  1    1     1    1     1     1    1   1   1\nVector for Doc 2:  1    1     0    0     0     0    0   0   0    1     1\n</code></pre>\n\n<p>In this case, in theory I need to pad the Document 1 vector with zeroes on the end.  i need help for some code that makes it</p>\n"}, {"tags": ["c#", "xml-serialization"], "comments": [{"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 0, "creation_date": 1458765033, "post_id": 36188037, "comment_id": 60011469, "body": "Just checking, does it work without the form feed?"}, {"owner": {"reputation": 1225, "user_id": 475673, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6e7dd6d6b22cbfeaf9d675f7184818f1?s=128&d=identicon&r=PG", "display_name": "Gabriel S.", "link": "https://stackoverflow.com/users/475673/gabriel-s"}, "edited": false, "score": 0, "creation_date": 1458765065, "post_id": 36188037, "comment_id": 60011491, "body": "Can you provide additional details about the <code>Deserialize</code> failure?"}], "answers": [{"comments": [{"owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "reply_to_user": {"reputation": 21, "user_id": 4353441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7abd1b087bd6a33edce03cb433c058?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard77", "link": "https://stackoverflow.com/users/4353441/gerhard77"}, "edited": false, "score": 0, "creation_date": 1458766466, "post_id": 36188162, "comment_id": 60012279, "body": "Glad to help - if this resolved your issue consider marking the check box to help future users find it more easily."}], "tags": [], "owner": {"reputation": 18158, "user_id": 3293914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPAnb.jpg?s=128&g=1", "display_name": "Dan Field", "link": "https://stackoverflow.com/users/3293914/dan-field"}, "is_accepted": false, "score": 2, "last_activity_date": 1458765459, "last_edit_date": 1458765459, "creation_date": 1458765157, "answer_id": 36188162, "question_id": 36188037, "link": "https://stackoverflow.com/questions/36188037/xmlserializer-cannot-deserialize-xml-that-was-serialized-with-the-same-serialize/36188162#36188162", "title": "XmlSerializer cannot deserialize XML that was serialized with the same serializer", "body": "<p>That character is technically invalid in XML (a good question is why the writer doesn't throw this exception... looking at the reference source, it uses an <code>XmlTextWriter</code> instead of an <code>XmlWriter</code>, which I think by default doesn't check characters?).  You need to give the serializer an <code>XmlReader</code> that's been told to not check characters:</p>\n\n<pre><code>string deserialized;\nXmlReaderSettings settings = new XmlReaderSettings();\n// this will make the reader not barf on invalid characters\nsettings.CheckCharacters = false;\n// can't just use a string reader here, otherwise the Serializer\n// will use an XmlReader with default settings\nusing (var reader = XmlReader.Create(new StringReader(serialized), settings)) \n{\n    deserialized = (string)new XmlSerializer(typeof(string)).Deserialize(reader);\n}\n</code></pre>\n\n<p>However - if you have a requirement to serialize strings that may/definitely contain characters that are invalid in XML, you should consider using a different serialization format (<code>BinaryFormatter</code>, JSON, or Protocol Buffers all come to mind depending on your requirements/consumers).  There's no good way to guarantee that your downstream consumers will know they have to allow invalid characters in the XML, and some consumers may not have the option to do so.</p>\n"}], "owner": {"reputation": 21, "user_id": 4353441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7abd1b087bd6a33edce03cb433c058?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard77", "link": "https://stackoverflow.com/users/4353441/gerhard77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458765459, "creation_date": 1458764730, "last_edit_date": 1458764960, "question_id": 36188037, "link": "https://stackoverflow.com/questions/36188037/xmlserializer-cannot-deserialize-xml-that-was-serialized-with-the-same-serialize", "title": "XmlSerializer cannot deserialize XML that was serialized with the same serializer", "body": "<p>I have a strange problem using XML Serializer.\nIf the serialized object graph contains a string with a Form-Feed (0x0C) the serializer can serialize it properly, but it cannot deserialize the serialized representation.</p>\n\n<p>Here is the proof of concept:</p>\n\n<pre><code>static void Main (string[] args)\n{\n  var original = \"test\\fbla\";\n\n  var stringBuilder = new StringBuilder ();\n\n  using (var writer = new StringWriter (stringBuilder))\n  {\n    new XmlSerializer (typeof (string)).Serialize (writer, original);\n  }\n  var serialized = stringBuilder.ToString ();\n\n\n  string deserialized;\n  using (var reader = new StringReader (serialized))\n  {\n    deserialized = (string) new XmlSerializer (typeof (string)).Deserialize (reader);\n  }\n\n  Console.WriteLine (deserialized);\n}\n</code></pre>\n\n<p>The serialized string is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;\n&lt;string&gt;test&amp;#xC;bla&lt;/string&gt;\n</code></pre>\n\n<p>The call to <code>Deserialize</code> fails. \nIt seems that this is a bug in <code>XmlSerializer</code>, since the serialized string seems to be well formed. Or am I doing something wrong?</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1458764836, "post_id": 36188003, "comment_id": 60011358, "body": "If you&#39;re concatenating SQL strings, just assume that you&#39;ve hopelessly broken security. Never, never, never, never, never, never, never, never, never, never, never, never, never, never, never, never do that. Not on a house, not in a mouse, not with a souse. Just don&#39;t go there."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1458764892, "post_id": 36188003, "comment_id": 60011397, "body": "Why would you pass in your columns and parameters as a comma-separated list, complete with conversion issues etc? Just pass in an array of strings for the column names and an array of objects for the values. No splitting etc required..."}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1458765485, "post_id": 36188003, "comment_id": 60011753, "body": "@Ed, while it might not be advisable to concatenate SQL strings, in this specific case from what I can tell so far, the SQL string is only assembled from hardcoded values (note that the values clause of SQL is filled with strings originating from the col parameter, which originates from a hardcoded string before the call). I can&#39;t see any way of a SQL injection... yet ;-)"}, {"owner": {"reputation": 73, "user_id": 4204476, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptGDNfdOqNs/AAAAAAAAAAI/AAAAAAAADaQ/9Lmf3jrw3oE/photo.jpg?sz=128", "display_name": "Patrick Cairns", "link": "https://stackoverflow.com/users/4204476/patrick-cairns"}, "edited": false, "score": 0, "creation_date": 1458765757, "post_id": 36188003, "comment_id": 60011891, "body": "I figured using the hardcoded column values as parameter naming would protect it as I can&#39;t see where I will be using any dynamic column names.  I will rework putting it in arrays as suggested."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458765801, "post_id": 36188003, "comment_id": 60011908, "body": "The AddWithValue call is the killjoy here. All strings? <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">Can we stop using AddWithValue already?</a>"}, {"owner": {"reputation": 73, "user_id": 4204476, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptGDNfdOqNs/AAAAAAAAAAI/AAAAAAAADaQ/9Lmf3jrw3oE/photo.jpg?sz=128", "display_name": "Patrick Cairns", "link": "https://stackoverflow.com/users/4204476/patrick-cairns"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458766044, "post_id": 36188003, "comment_id": 60012017, "body": "@Steve yes all string values.  Well really a couple ints and a datetime converted tostring"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458766335, "post_id": 36188003, "comment_id": 60012198, "body": "Strings that MySql needs to convert back to the correct datatype of the underlying column using its own rules for localization, character sets and so on. Sometimes it works, sometime not. Definitely something to be avoided"}, {"owner": {"reputation": 73, "user_id": 4204476, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptGDNfdOqNs/AAAAAAAAAAI/AAAAAAAADaQ/9Lmf3jrw3oE/photo.jpg?sz=128", "display_name": "Patrick Cairns", "link": "https://stackoverflow.com/users/4204476/patrick-cairns"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458766971, "post_id": 36188003, "comment_id": 60012531, "body": "@Steve reading your link about AddWithValue it may be difficult to avoid it without knowing the datatype prior to passing it to the method though?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458767162, "post_id": 36188003, "comment_id": 60012629, "body": "That&#39;s (for me) one of the main reason to leave behind a do it all method. There is a lot of work to do it right and, unless you plan to reinvent something like EntityFramework, it doesn&#39;t worth the effort. Consider also to use a micro ORM like <a href=\"https://github.com/StackExchange/dapper-dot-net\" rel=\"nofollow noreferrer\">Dapper</a> and a set of Repository classes that know how to handle your object model."}], "answers": [{"comments": [{"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 0, "creation_date": 1458765861, "post_id": 36188262, "comment_id": 60011933, "body": "I agree. The method InsertWithParameters in itself is not injection-safe, only the combination of the two shown methods. If someone was able to modify the tbl parameter, they could pass in something like this: &quot;accounts (username, role, password) values (&#39;hacker&#39;, &#39;superadmin&#39;, &#39;1234&#39;); insert into tbl_jobLogs&quot;. And lo and behold the evildoer has injected a new user account."}, {"owner": {"reputation": 73, "user_id": 4204476, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptGDNfdOqNs/AAAAAAAAAAI/AAAAAAAADaQ/9Lmf3jrw3oE/photo.jpg?sz=128", "display_name": "Patrick Cairns", "link": "https://stackoverflow.com/users/4204476/patrick-cairns"}, "edited": false, "score": 0, "creation_date": 1458766587, "post_id": 36188262, "comment_id": 60012351, "body": "@dasblinkenlight Excellent point, I did not even consider that possiblity.  Thanks."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1458765524, "creation_date": 1458765524, "answer_id": 36188262, "question_id": 36188003, "link": "https://stackoverflow.com/questions/36188003/circumventing-sql-injection-by-using-method-insert/36188262#36188262", "title": "Circumventing sql injection by using method insert", "body": "<p>This is injection-safe as long as you are in complete control of the <code>string tbl</code> and <code>string col</code>'s values, because these are the two strings from which you insert any parts into the SQL string sent to RDBMS.</p>\n\n<p>I would turn this implementation around, and pass a collection of <em>separate</em> column values, rather than passing a comma-separated list of columns. The reason for this is that it's more straightforward to re-assemble a string than to disassemble one. For example, your way of parsing a string would break for tables with delimited identifiers containing commas.</p>\n\n<p>This is a perfectly legal query<sup>*</sup></p>\n\n<pre><code>SELECT [Return, Raw], [Return, Normalized] FROM Returns\n</code></pre>\n\n<p>Your method would fail because of embedded commas. If you pass an array of identifiers instead, you could easily reconstruct comma-separated list, like this:</p>\n\n<pre><code>string[] colNames = new[] {\"[Return, Raw]\", \"[Return, Normalized]\"};\nvar col = string.Join(\", \", colNames);\n</code></pre>\n\n<p><sup>*</sup> Although I would not necessarily recommend using names like that, you may need to work with existing databases that do not leave you a choice.</p>\n"}], "owner": {"reputation": 73, "user_id": 4204476, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptGDNfdOqNs/AAAAAAAAAAI/AAAAAAAADaQ/9Lmf3jrw3oE/photo.jpg?sz=128", "display_name": "Patrick Cairns", "link": "https://stackoverflow.com/users/4204476/patrick-cairns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 36188262, "answer_count": 1, "score": 1, "last_activity_date": 1458765524, "creation_date": 1458764576, "last_edit_date": 1458765434, "question_id": 36188003, "link": "https://stackoverflow.com/questions/36188003/circumventing-sql-injection-by-using-method-insert", "title": "Circumventing sql injection by using method insert", "body": "<p>I made up a method to insert records with parameters, however I am not 100% sure if I am circumventing security from SQL injection in doing so?  </p>\n\n<p>Is it possible for the sql injected if I take apart the query and reassemble it in this manner?</p>\n\n<pre><code>string tbl = \"tbl_jobLogs\";\nstring col = \"job,user,logDate,log,logType\" ; //,logType\";\nstring val = jobID.ToString() + \",\" + user.ToString() + \",\" + dt.ToString(\"yyyy-MM-dd H:mm:ss\") + \",\" + log + \",\" + logType.ToString() ;\n\nMessageBox.Show(InsertWithParameters(tbl,col,val));\n</code></pre>\n\n<p>using this method</p>\n\n<pre><code>string InsertWithParameters(string tbl, string col, string val)\n    {\n        string cnString = \"connectionstring\";\n        string sqlParameters = col.Replace(\",\", \",@\");\n        sqlParameters = \"@\" + sqlParameters; //add the first @\n\n        List&lt;string&gt; columns = col.Split(',').ToList&lt;string&gt;();\n        List&lt;string&gt; values = val.Split(',').ToList&lt;string&gt;();\n        List&lt;string&gt; paramenters = sqlParameters.Split(',').ToList&lt;string&gt;();\n\n\n        string sql = \"insert into \" + tbl + \" (\" + col + \") values (\" + sqlParameters + \")\";\n\n        try\n        {\n            MySqlConnection cnn = new MySqlConnection(cnString);\n            cnn.Open();\n            MySqlCommand cmd = cnn.CreateCommand();\n            cmd.CommandText = sql;\n            for (int i = 0; i &lt;= columns.Count - 1; i++)\n            {\n                cmd.Parameters.AddWithValue(paramenters[i], values[i]);\n            } \n\n            cmd.ExecuteNonQuery();\n            cnn.Close();\n\n        }\n        catch (Exception)\n        {\n            throw;\n           // TODO: Error Log\n        }\n\n        return (\"Record Inserted\");\n    }\n</code></pre>\n"}, {"tags": ["c#", "excel", "vba", "itextsharp"], "answers": [{"comments": [{"owner": {"reputation": 760, "user_id": 3166766, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/u1JFo.jpg?s=128&g=1", "display_name": "jDave1984", "link": "https://stackoverflow.com/users/3166766/jdave1984"}, "edited": false, "score": 0, "creation_date": 1458767171, "post_id": 36188537, "comment_id": 60012633, "body": "Users are in another location. I had IT in that location run a regasm, he said he had loaded the DLL&#39;s in both 32 and 64 bit folders. Would I need iTextSharp with the DLL I developed for it to work? I didn&#39;t think that was needed."}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "reply_to_user": {"reputation": 760, "user_id": 3166766, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/u1JFo.jpg?s=128&g=1", "display_name": "jDave1984", "link": "https://stackoverflow.com/users/3166766/jdave1984"}, "edited": false, "score": 0, "creation_date": 1458767272, "post_id": 36188537, "comment_id": 60012699, "body": "Sorry, I didn&#39;t mean to answer, this was only supposed to be a comment."}, {"owner": {"reputation": 760, "user_id": 3166766, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/u1JFo.jpg?s=128&g=1", "display_name": "jDave1984", "link": "https://stackoverflow.com/users/3166766/jdave1984"}, "edited": false, "score": 0, "creation_date": 1458767875, "post_id": 36188537, "comment_id": 60013001, "body": "Not a problem. But yes, I have the DLL in both 32 and 64 bit, I think he registered it in both as well"}], "tags": [], "owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "is_accepted": false, "score": 0, "last_activity_date": 1458767371, "last_edit_date": 1458767371, "creation_date": 1458766600, "answer_id": 36188537, "question_id": 36187981, "link": "https://stackoverflow.com/questions/36187981/could-not-load-file-or-assembly-itextsharp-dll-excel-vba/36188537#36188537", "title": "Could Not Load File or Assembly iTextSharp.dll Excel VBA", "body": "<p>You will need to ship iTextSharps with your wrapper DLL. DLL means dynamic link library so when you reference a DLL from a wrapper DLL, it does just that, reference it, not include it. In C++ you can do static linking, which means that the statically linked library is fully contained in the linking binary.</p>\n\n<p>Also, I believe that you need to use regsvr32 to register it for COM InterOp, and not regasm (that's the global assembly cache for use by managed DLLs and EXEs).</p>\n"}], "owner": {"reputation": 760, "user_id": 3166766, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/u1JFo.jpg?s=128&g=1", "display_name": "jDave1984", "link": "https://stackoverflow.com/users/3166766/jdave1984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458767371, "creation_date": 1458764494, "question_id": 36187981, "link": "https://stackoverflow.com/questions/36187981/could-not-load-file-or-assembly-itextsharp-dll-excel-vba", "title": "Could Not Load File or Assembly iTextSharp.dll Excel VBA", "body": "<p>I have developed a C# DLL that acts as a series of wrapper classes for certain methods of iTextSharps that is used by Excel VBA. On my dev machine and test machine it works, but when I tried to deploy it on user machines, after running regasm.exe for the C# DLL and tlb, I get the message \"Could not load file or assembly iTextSharp.dll\"</p>\n\n<p>I have loaded my dll and tlb's onto the user machines and registered them using regasm.</p>\n"}, {"tags": ["c#", "azure", "load-balancing"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6106391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3744b33249bb9b1174864944552eec5?s=128&d=identicon&r=PG&f=1", "display_name": "Inglor", "link": "https://stackoverflow.com/users/6106391/inglor"}, "edited": false, "score": 0, "creation_date": 1458813101, "post_id": 36191334, "comment_id": 60027991, "body": "Thank you very much for your answer. Yes, I agree with you on making everything as stateless as possible. As you say though its the last 5% that seems very difficult to get rid of. Long term we won&#39;t be using SourceIP through the load balancer. We are looking to move to another shared caching solution. Regis cache has been mentioned. This is a temporary step for us in order to get our application into the cloud."}, {"owner": {"reputation": 28161, "user_id": 7831, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d565ce4d3fdf8007e1d707362cca9465?s=128&d=identicon&r=PG", "display_name": "Chris Pietschmann", "link": "https://stackoverflow.com/users/7831/chris-pietschmann"}, "reply_to_user": {"reputation": 21, "user_id": 6106391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3744b33249bb9b1174864944552eec5?s=128&d=identicon&r=PG&f=1", "display_name": "Inglor", "link": "https://stackoverflow.com/users/6106391/inglor"}, "edited": false, "score": 0, "creation_date": 1458924117, "post_id": 36191334, "comment_id": 60079296, "body": "Yeah, refactoring out server-side Session state in an existing application can be really tough. Using something like Redis is possible to cache across app instances, but I&#39;d first assess what the performance is to just reload the data every time it&#39;s needed. Sometimes the performance hit isn&#39;t as bad as you&#39; think, but you&#39;ll need to evaluate things fully. Please, don&#39;t forget to mark the answer correct if it helps. Thanks!"}], "tags": [], "owner": {"reputation": 28161, "user_id": 7831, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d565ce4d3fdf8007e1d707362cca9465?s=128&d=identicon&r=PG", "display_name": "Chris Pietschmann", "link": "https://stackoverflow.com/users/7831/chris-pietschmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1458780236, "creation_date": 1458780236, "answer_id": 36191334, "question_id": 36187967, "link": "https://stackoverflow.com/questions/36187967/azure-load-balancer-ip-source-http-session-in-mvc/36191334#36191334", "title": "Azure Load Balancer, IP Source, http session in MVC", "body": "<p>The current best practice is to avoid server-side session state when possible; which ends up being about 95% of the time generally. To do this you would use Cookie-based Authentication in an ASP.NET MVC application. And most data stored within Session state can be cached or loaded on the fly with minimal impact to the system. After all, natively the web is stateless anyway.</p>\n\n<p>IP Source based load balancing is fine; so is using server-side session state if necessary. However, the application really should be designed / built in a fashion that supports it being more stateless. That is that any Session data is just loaded appropriately if it doesn't exist. You really want to gracefully handle user requests without throwing an exception if at all possible so the user can keep getting their job done.</p>\n\n<p>By keeping things more stateless you may get better application performance by using either Round-Robin or Performance based load balancing.</p>\n"}], "owner": {"reputation": 21, "user_id": 6106391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3744b33249bb9b1174864944552eec5?s=128&d=identicon&r=PG&f=1", "display_name": "Inglor", "link": "https://stackoverflow.com/users/6106391/inglor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458780236, "creation_date": 1458764447, "question_id": 36187967, "link": "https://stackoverflow.com/questions/36187967/azure-load-balancer-ip-source-http-session-in-mvc", "title": "Azure Load Balancer, IP Source, http session in MVC", "body": "<p>Hi we have been working with the Azure Load Balancer and have the distribution mode set to IP Source. We are of course running multiple web machines.</p>\n\n<p>We are using this with an MVC application. So far we haven't found any issues with maintaining session in Test.</p>\n\n<p>My question is;</p>\n\n<p>Is it normal practice to use IP Source to maintain sticky session's so that the client is always sent to the correct box running In Proc session?</p>\n\n<p>Are there any issues with or pit falls with this setup.</p>\n\n<p>I can't seem to find a definite answer anywhere.</p>\n"}, {"tags": ["c#", "entity-framework", "entity", "projection"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1458773941, "post_id": 36187946, "comment_id": 60015530, "body": "I don&#39;t know where you want to go, so I can&#39;t point you in the right direction. It&#39;s not clear to me why you need these partially-filled entities."}, {"owner": {"reputation": 77, "user_id": 4935022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/efd013a1ba6b5812164599794e966493?s=128&d=identicon&r=PG&f=1", "display_name": "BenoitM", "link": "https://stackoverflow.com/users/4935022/benoitm"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1458823650, "post_id": 36187946, "comment_id": 60034399, "body": "Edited with more details"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1458824419, "post_id": 36187946, "comment_id": 60034862, "body": "Try this technique: <a href=\"http://stackoverflow.com/questions/12916080/the-entity-or-complex-type-cannot-be-constructed-in-a-linq-to-entities-query\" title=\"the entity or complex type cannot be constructed in a linq to entities query\">stackoverflow.com/questions/12916080/&hellip;</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1458824662, "post_id": 36187946, "comment_id": 60035009, "body": "I still don&#39;t know why you want these partial entities and if you understand possible implications. It gives rise to ambiguity (what kind of <code>Region</code> have we got here?) and maybe even data loss."}], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 4935022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/efd013a1ba6b5812164599794e966493?s=128&d=identicon&r=PG&f=1", "display_name": "BenoitM", "link": "https://stackoverflow.com/users/4935022/benoitm"}, "is_accepted": false, "score": 0, "last_activity_date": 1459172888, "creation_date": 1459172888, "answer_id": 36263707, "question_id": 36187946, "link": "https://stackoverflow.com/questions/36187946/entity-framework-6-projection-poco-entity-return-type/36263707#36263707", "title": "Entity Framework 6 Projection, POCO entity return type", "body": "<p>It is not possible to directly instantiate an EF Entity type in the projection. I think it is to prevent ambiguity like Gert said. The only way to do this is to \nproject to anonymous type and then map to the entity type.</p>\n\n<pre><code>public List&lt;Region&gt; GetRegionsAndSubRegions(){\nvar regions = Context.Regions.Where(r =&gt; condition);\nvar anonRegions = regions.Select(r =&gt; new {\n                                  RegionName = r.RegionName,\n                                  RegionId = r.RegionId\n                              }).ToList();\nvar lightRegions = anonRegions.Select(r =&gt; new Region{\n                                  RegionName = r.RegionName,\n                                  RegionId = r.RegionId\n                              }).ToList();\n}\n</code></pre>\n\n<p>Of course this is a pain in the neck and gets ugly real quick with a lot of table relationships.</p>\n"}, {"tags": [], "owner": {"reputation": 1127, "user_id": 5413117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajPmT.jpg?s=128&g=1", "display_name": "S. Robijns", "link": "https://stackoverflow.com/users/5413117/s-robijns"}, "is_accepted": false, "score": 1, "last_activity_date": 1491977786, "last_edit_date": 1491977786, "creation_date": 1491976900, "answer_id": 43361457, "question_id": 36187946, "link": "https://stackoverflow.com/questions/36187946/entity-framework-6-projection-poco-entity-return-type/43361457#43361457", "title": "Entity Framework 6 Projection, POCO entity return type", "body": "<p>It's possible. I just did it with<br>\n<code>&lt;package id=\"EntityFramework\" version=\"6.1.3\" targetFramework=\"net461\" /&gt;</code></p>\n\n<p>A Vehicle(30+ fields in model &amp; db) is projected to a StatisticsVehicle.</p>\n\n<p>My Query:</p>\n\n<pre><code>var vehicles = \n    _context.Vehicles\n        .Select(v =&gt; \n            new StatisticsVehicle()\n            {\n                PlateNumber = v.PlateNumber,\n                StatisticsVehicleProcesses = \n                    v.VehicleProcesses.Select(vp =&gt; new StatisticsVehicleProcess()\n                    {\n                        EffectiveIssuanceDate = vp.EffectiveIssuanceDate,\n                        PlannedIntakeEndDate = vp.PlannedIntakeEndDate\n                    })\n            }\n        )\n        .ToList();\n</code></pre>\n\n<p>Which results in a sql query only selecting the fields I need from that vehicle and vehicleprocess:</p>\n\n<pre><code>SELECT \n    [Project2].[Id] AS [Id], \n    [Project2].[C1] AS [C1], \n    [Project2].[PlateNumber] AS [PlateNumber], \n    [Project2].[C2] AS [C2], \n    [Project2].[EffectiveIssuanceDate] AS [EffectiveIssuanceDate], \n    [Project2].[PlannedIntakeEndDate] AS [PlannedIntakeEndDate]\n    FROM ...\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4935022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/efd013a1ba6b5812164599794e966493?s=128&d=identicon&r=PG&f=1", "display_name": "BenoitM", "link": "https://stackoverflow.com/users/4935022/benoitm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1491977786, "creation_date": 1458764374, "last_edit_date": 1458824005, "question_id": 36187946, "link": "https://stackoverflow.com/questions/36187946/entity-framework-6-projection-poco-entity-return-type", "title": "Entity Framework 6 Projection, POCO entity return type", "body": "<p>Context: I have a solution with 3 projects</p>\n\n<p>Project.Db: Contains my dbContext / Repositories<br>\nProject.Core: Contains my POCO classes (used by the dbContext).<br>\nProject.Web: My mvc project, which contains the viewModels and POCO-ViewModel mapping classes.  </p>\n\n<p>It seems impossible to have a typed projection return an EF entity type.\nIn Project.Db I have the following method. I want to get two specific fields (Name and ID) of the regions and their subregions. I don't want the generated T-SQL to select the unwanted fields.</p>\n\n<pre><code>public List&lt;Region&gt; GetRegionsAndSubRegions(){\nvar regions = Context.Regions.Where(r =&gt; condition);\nvar lightRegions = regions.Select(z =&gt; new Region{\n                                      RegionName = z.RegionName,\n                                      RegionId = z.RegionId\n                                  }).ToList();\n}\n</code></pre>\n\n<p>This will get me the error</p>\n\n<pre><code>The entity or complex type 'Region' cannot be constructed in a LINQ to Entities query.\n</code></pre>\n\n<p>The way I found to get around is this:</p>\n\n<pre><code>var lightRegions = regions.ToList().Select(z =&gt; new Region{\n                                      RegionName = z.RegionName,\n                                      RegionId = z.RegionId\n                                  }).ToList();\n</code></pre>\n\n<p>However, the \"ToList()\" will select all the fields, which I don't want.</p>\n\n<p>I could project to a ViewModel class, but I don't want that dependency in Project.Db . The method should return a list of my POCO entity (List <code>&lt;Region</code>>).</p>\n\n<p>All my repository methods return Core (POCO) typed objects to the Web project.</p>\n\n<p>Is there a way to do it without projecting to an anonymous type and map it back to Region type (which would be redundant)? Thanks</p>\n"}, {"tags": ["c#", "process", "processstartinfo"], "comments": [{"owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 1, "creation_date": 1458764749, "post_id": 36187940, "comment_id": 60011314, "body": "<i>It does not appear to run.</i> How does it not appear to run? Try to remove the hidden window style and change the <code>&#47;c</code> option to a <code>&#47;k</code> option. I bet you will see an error message in the console window that now lingers."}], "answers": [{"comments": [{"owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "edited": false, "score": 0, "creation_date": 1458768873, "post_id": 36188345, "comment_id": 60013436, "body": "<code>&quot;&#47;c \\&quot;C:\\\\Program Files (x86)\\\\AppFolder\\\\do.exe\\&quot;&quot;</code> is exactly the same string as <code>@&quot;&#47;c &quot;&quot;C:\\Program Files (x86)\\AppFolder\\do.exe&quot;&quot;&quot;</code>. How you escape the backslashes and quotes does not make a difference."}], "tags": [], "owner": {"reputation": 434, "user_id": 1785960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a21ab7561f6b67937bd06e0b1c1425?s=128&d=identicon&r=PG", "display_name": "user1785960", "link": "https://stackoverflow.com/users/1785960/user1785960"}, "is_accepted": false, "score": 1, "last_activity_date": 1458765835, "creation_date": 1458765835, "answer_id": 36188345, "question_id": 36187940, "link": "https://stackoverflow.com/questions/36187940/argument-for-processstartinfo-needs-quotes-always-escapes/36188345#36188345", "title": "Argument for ProcessStartInfo needs quotes, always escapes", "body": "<p>I do not use '@'. This is correct implementation:</p>\n\n<pre><code>startInfo.Arguments = \"/c \\\"C:\\\\Program Files (x86)\\\\AppFolder\\\\do.exe\\\"\";\n</code></pre>\n"}], "owner": {"reputation": 486, "user_id": 2111675, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/624e62cc3b48b14e5f251d73fc95adff?s=128&d=identicon&r=PG", "display_name": "James F", "link": "https://stackoverflow.com/users/2111675/james-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458765835, "creation_date": 1458764335, "last_edit_date": 1458764707, "question_id": 36187940, "link": "https://stackoverflow.com/questions/36187940/argument-for-processstartinfo-needs-quotes-always-escapes", "title": "Argument for ProcessStartInfo needs quotes, always escapes", "body": "<p>If I run the following command in a command prompt, it works:</p>\n\n<pre><code>\"C:\\Program Files (x86)\\AppFolder\\do.exe\"\n</code></pre>\n\n<p>If I try to run the same thing as a process:</p>\n\n<pre><code>        ProcessStartInfo startInfo = new System.Diagnostics.ProcessStartInfo();\n        startInfo.WindowStyle = System.Diagnostics.ProcessWindowStyle.Hidden;\n        startInfo.FileName = \"cmd.exe\";\n        startInfo.Arguments = @\"/c \"\"C:\\Program Files (x86)\\AppFolder\\do.exe\"\"\";\n\n        using (Process process = Process.Start(startInfo))\n        {\n          ...\n        }\n</code></pre>\n\n<p>It does not appear to run. If I look at the startInfo.Arguments, it appears as follows:</p>\n\n<pre><code>/c \\\"C:\\\\Program Files (x86)\\\\AppFolder\\\\do.exe\\\"\n</code></pre>\n\n<p>What am I missing? Can you not pass arguments that have quotes or spaces? I see a lot of examples where people are passing items with spaces/quotes in just fine, but following them just doesn't seem to work. This is the narrowest example I can think of. </p>\n\n<p>EDIT: If I just create a shortcut so I don't use spaces or quotes, it works:</p>\n\n<pre><code>startInfo.Arguments = @\"/c D:\\_test\\Do.lnk\";\n</code></pre>\n"}, {"tags": ["c#", "arrays", "recursion"], "comments": [{"owner": {"reputation": 679, "user_id": 3924229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a61eb14c091f063cfe326620f9a02de1?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/3924229/nate"}, "edited": false, "score": 1, "creation_date": 1458764940, "post_id": 36187877, "comment_id": 60011429, "body": "Please provide an attempt at solving this problem for yourself."}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1458766546, "post_id": 36187877, "comment_id": 60012326, "body": "<i>&quot;I want to find an efficient way to iterate (i.e walk) through every path that leads from any cell in the left most column, to any cell in right most column, choosing one cell from every column in between.&quot;</i> you need to define the rules a lot better than that. If I&#39;m in cell <code>m,n</code> which cells am I allowed to move into in column <code>n+1</code>?"}, {"owner": {"reputation": 1, "user_id": 6106324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f778e351564a47329ebce1d397bec42a?s=128&d=identicon&r=PG&f=1", "display_name": "projectprogrammer", "link": "https://stackoverflow.com/users/6106324/projectprogrammer"}, "edited": false, "score": 0, "creation_date": 1458766745, "post_id": 36187877, "comment_id": 60012428, "body": "1. you start at the left-most column, y0 with any x coordinate                                                           2. if you&#39;re in a cell (x, y), you can only move to a cell with x-coordinate (x+1), but with any y coordinate                                                                                                                     3. you must end at the right most column, yn, with any x coordinate"}, {"owner": {"reputation": 1, "user_id": 6106324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f778e351564a47329ebce1d397bec42a?s=128&d=identicon&r=PG&f=1", "display_name": "projectprogrammer", "link": "https://stackoverflow.com/users/6106324/projectprogrammer"}, "edited": false, "score": 0, "creation_date": 1458766978, "post_id": 36187877, "comment_id": 60012536, "body": "the solution must iterate through every route that is possible above systematically"}], "answers": [{"tags": [], "owner": {"reputation": 412, "user_id": 542088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a521a07fe2e508b00d3f2b2d242e3c6e?s=128&d=identicon&r=PG", "display_name": "Jonathan Nappee", "link": "https://stackoverflow.com/users/542088/jonathan-nappee"}, "is_accepted": false, "score": 0, "last_activity_date": 1458766985, "creation_date": 1458766985, "answer_id": 36188642, "question_id": 36187877, "link": "https://stackoverflow.com/questions/36187877/how-to-cycle-through-an-n-by-12-2d-array/36188642#36188642", "title": "How to cycle through an (n by 12) 2D array", "body": "<p>This is a factorial problem and so you might run quite quickly into memory or value limits issues.</p>\n\n<p>Took some code from <a href=\"https://stackoverflow.com/questions/923771/quickest-way-to-convert-a-base-10-number-to-any-base-in-net\">this SO post</a> by Diego.</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        int n = 5;\n        int r = 5;\n        var combinations = Math.Pow(r, n);\n        var list = new List&lt;string&gt;();\n        for (Int64 i = 1; i &lt; combinations; i++)\n        {\n            var s = LongToBase(i);\n            var fill = n - s.Length;\n            list.Add(new String('0', fill) + s);\n        }\n\n        // list contains all your paths now\n\n        Console.ReadKey();\n    }\n\n    private static readonly char[] BaseChars = \"01234\".ToCharArray();\n    public static string LongToBase(long value)\n    {\n        long targetBase = BaseChars.Length;\n        char[] buffer = new char[Math.Max((int)Math.Ceiling(Math.Log(value + 1, targetBase)), 1)];\n        var i = (long)buffer.Length;\n        do\n        {\n            buffer[--i] = BaseChars[value % targetBase];\n            value = value / targetBase;\n        }\n        while (value &gt; 0);\n        return new string(buffer);\n    }\n}\n</code></pre>\n\n<p>list will contain a list of numbers expressed in base 5 which can be used to found out the path. for example \"00123\" means first cell, then first cell then second cell, then third cell and finall fourth cell.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6106324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f778e351564a47329ebce1d397bec42a?s=128&d=identicon&r=PG&f=1", "display_name": "projectprogrammer", "link": "https://stackoverflow.com/users/6106324/projectprogrammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1458863787, "creation_date": 1458863787, "answer_id": 36211978, "question_id": 36187877, "link": "https://stackoverflow.com/questions/36187877/how-to-cycle-through-an-n-by-12-2d-array/36211978#36211978", "title": "How to cycle through an (n by 12) 2D array", "body": "<p>Resolved:: see the code posted in the edited question above, and the link to a recursion tutorial, where it takes you through using recursion to simulate N nested, iterative loops.</p>\n"}], "owner": {"reputation": 1, "user_id": 6106324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f778e351564a47329ebce1d397bec42a?s=128&d=identicon&r=PG&f=1", "display_name": "projectprogrammer", "link": "https://stackoverflow.com/users/6106324/projectprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458863787, "creation_date": 1458764096, "last_edit_date": 1458863689, "question_id": 36187877, "link": "https://stackoverflow.com/questions/36187877/how-to-cycle-through-an-n-by-12-2d-array", "title": "How to cycle through an (n by 12) 2D array", "body": "<p>I have a 2-D array (with dimensions magnitudes n by 5), which I'm picturing in my head like this (each box is an element of the array):</p>\n\n<p>(<a href=\"http://tr1.cbsistatic.com/hub/i/2015/05/07/b1ff8c33-f492-11e4-940f-14feb5cc3d2a/12039.jpg\" rel=\"nofollow\">http://tr1.cbsistatic.com/hub/i/2015/05/07/b1ff8c33-f492-11e4-940f-14feb5cc3d2a/12039.jpg</a>)</p>\n\n<p>In this image, n is 3. I.e, n is the number of columns, 5 is the number of rows in my array.</p>\n\n<p>I want to find an efficient way to iterate (i.e walk) through every path that leads from any cell in the left most column, to any cell in right most column, choosing one cell from every column in between.</p>\n\n<p>It cannot be simply solved by n nested loops, because n is only determined at run time.</p>\n\n<p>I think this means recursion is likely the best way forward, but can't picture how to begin theoretically.</p>\n\n<p>Can you offer some advice as to how to cycle through every path. It seems simple enough and I can't tell what I'm doing wrong. Even just a theoretical explanation without any code will be very much appreciated.</p>\n\n<p>I'm coding in C#, Visual Studio in case that helps.</p>\n\n<p>UPDATE:: resolved using code below from <a href=\"http://www.introprogramming.info/english-intro-csharp-book/read-online/chapter-10-recursion/#_Toc362296468\" rel=\"nofollow\">http://www.introprogramming.info/english-intro-csharp-book/read-online/chapter-10-recursion/#_Toc362296468</a></p>\n\n<pre><code>static void NestedLoops(int currentLoop)\n{\nif (currentLoop == numberOfLoops)\n{\n    return;\n}\n\nfor (int counter=1; counter&lt;=numberOfIterations; counter++)\n{\n    loops[currentLoop] = counter;\n    NestedLoops(currentLoop + 1);\n}\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 303, "user_id": 2217607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587325d524033a835ce98f754eb82e5?s=128&d=identicon&r=PG&f=1", "display_name": "mont_", "link": "https://stackoverflow.com/users/2217607/mont"}, "edited": false, "score": 1, "creation_date": 1458764430, "post_id": 36187842, "comment_id": 60011126, "body": "There is something in programming called events. The code for the event will run everytime the &quot;event&quot; happens. In your case the form closing... Just put the the player.Stop() on the event and no need for musiclose.                           <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.closing(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 38, "user_id": 5791443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mWPAs.png?s=128&g=1", "display_name": "The Unstoppable", "link": "https://stackoverflow.com/users/5791443/the-unstoppable"}, "reply_to_user": {"reputation": 303, "user_id": 2217607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587325d524033a835ce98f754eb82e5?s=128&d=identicon&r=PG&f=1", "display_name": "mont_", "link": "https://stackoverflow.com/users/2217607/mont"}, "edited": false, "score": 0, "creation_date": 1458765047, "post_id": 36187842, "comment_id": 60011482, "body": "OK. I&#39;m understand. But my form is included a loading page. And this music isn&#39;t run on loading page. If loading is completed musiclose value is setting 1. In short string is needed .It&#39;s not. (If your comment is valid on my condition, sorry I&#39;m starter on this thing.)"}, {"owner": {"reputation": 2763, "user_id": 138156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9OTR.jpg?s=128&g=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/138156/nemo"}, "edited": false, "score": 0, "creation_date": 1458766151, "post_id": 36187842, "comment_id": 60012089, "body": "Not clear why are you need a timer to stop player? Usually you have a button which the user would click to stop playing."}], "answers": [{"tags": [], "owner": {"reputation": 2763, "user_id": 138156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9OTR.jpg?s=128&g=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/138156/nemo"}, "is_accepted": false, "score": 1, "last_activity_date": 1458765565, "creation_date": 1458765565, "answer_id": 36188273, "question_id": 36187842, "link": "https://stackoverflow.com/questions/36187842/c-closing-soundplayer-on-formclosing/36188273#36188273", "title": "C# Closing SoundPlayer on FormClosing", "body": "<p>1) Do not recreate SoundPlayer instance everytime inside timer3_Tick() event. Create a global instance of SoundPlayer.</p>\n\n<p>2) Implement form closing  event, <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.formclosing(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.windows.forms.form.formclosing(v=vs.110).aspx</a></p>\n\n<p>3) In the close event, </p>\n\n<pre><code>private void Form1_FormClosing(Object sender, FormClosingEventArgs e)\n{\n    player.Stop();\n    player.Dispose();\n}\n</code></pre>\n"}], "owner": {"reputation": 38, "user_id": 5791443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mWPAs.png?s=128&g=1", "display_name": "The Unstoppable", "link": "https://stackoverflow.com/users/5791443/the-unstoppable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1604905922, "creation_date": 1458763984, "last_edit_date": 1604905922, "question_id": 36187842, "link": "https://stackoverflow.com/questions/36187842/c-closing-soundplayer-on-formclosing", "title": "C# Closing SoundPlayer on FormClosing", "body": "<p>I've created a bool value named musiclose. I'm planning if this musiclose value is true, player will close, else it will continue playing.</p>\n<p><code>public static bool musiclose;</code></p>\n<p>Timer code is below:</p>\n<pre><code>timer1.Interval = 1000;\ntimer1.Start();\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>public void timer3_Tick(object sender, EventArgs e)\n{\n    SoundPlayer player = new SoundPlayer(@&quot;C:\\Path\\To\\intro.wav&quot;);\n\n    if (musiclose)\n    {\n        player.Stop();\n        musiclose = false;\n    }\n}\n</code></pre>\n<p>How can I do that??</p>\n"}, {"tags": ["c#", "windows", "powershell"], "comments": [{"owner": {"reputation": 3123, "user_id": 2460798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb86705efc70171089a2ec34b6c856b4?s=128&d=identicon&r=PG", "display_name": "\u03a7p\u1e98", "link": "https://stackoverflow.com/users/2460798/%ce%a7p%e1%ba%98"}, "edited": false, "score": 0, "creation_date": 1458768106, "post_id": 36187746, "comment_id": 60013118, "body": "This is a duplicate question. Please google for an answer."}], "answers": [{"tags": [], "owner": {"reputation": 1834, "user_id": 3517626, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/se5Nd.png?s=128&g=1", "display_name": "Bluecakes", "link": "https://stackoverflow.com/users/3517626/bluecakes"}, "is_accepted": false, "score": 0, "last_activity_date": 1458776493, "creation_date": 1458776493, "answer_id": 36190791, "question_id": 36187746, "link": "https://stackoverflow.com/questions/36187746/simulate-button-clicks-in-a-windows-form-using-powershell/36190791#36190791", "title": "Simulate button clicks in a windows form using powershell.", "body": "<p>The best way to do this from PowerShell would be to change the button text in C# to include a shortcut key by using <code>&amp;</code> in the text, for a button that says \"Open Form\" you could set the text to <code>Open &amp;Form</code> which would make <code>Alt + F</code> click the button via the shortcut.</p>\n\n<p>Source: <a href=\"https://msdn.microsoft.com/en-us/library/aa983581(v=vs.71).aspx\" rel=\"nofollow\">Creating Access Keys for Windows Forms Controls</a></p>\n\n<p>Then from from your PowerShell script all you have to do is use <code>SendKeys</code> to simulate <code>Alt + F</code> to click the button.</p>\n\n<p>Modified example from TechNet:</p>\n\n<pre><code>[void] [System.Reflection.Assembly]::LoadWithPartialName(\"'Microsoft.VisualBasic\")\n[Microsoft.VisualBasic.Interaction]::AppActivate(\"&lt;NAME OF YOUR APPLICATION&gt;\")\n\n[void] [System.Reflection.Assembly]::LoadWithPartialName(\"'System.Windows.Forms\")\n[System.Windows.Forms.SendKeys]::SendWait(\"%F\")\n</code></pre>\n\n<p>Source: <a href=\"https://technet.microsoft.com/en-us/library/ff731008.aspx\" rel=\"nofollow\">Windows Script Host SendKeys Method</a></p>\n"}], "owner": {"reputation": 3, "user_id": 3561551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3174d608c5ac71f302275ca906cccdd2?s=128&d=identicon&r=PG&f=1", "display_name": "ahammida", "link": "https://stackoverflow.com/users/3561551/ahammida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2055, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458776493, "creation_date": 1458763641, "question_id": 36187746, "link": "https://stackoverflow.com/questions/36187746/simulate-button-clicks-in-a-windows-form-using-powershell", "title": "Simulate button clicks in a windows form using powershell.", "body": "<p>I have a basic windows form application written in C# in Visual Studio that has some buttons that open windows with more buttons. It doesnt do anything useful, I'm using it to try simulate a series of button presses using powershell. </p>\n\n<p>I am trying to learn powershell, and I've been looking online to see how to use powershell to open the windows form exe and then click a button on the form, and then click another button in the window that pops up. </p>\n\n<p>So far I can open the executable, but that was very straight forward. </p>\n\n<p>I am thinking of  using the sendkeys method. Perhaps I could associate keyboard shortcuts with buttons and then have powershell type in those shortcuts. </p>\n\n<p>Or when the exe opens, powershell hits tab a certain amount of times until the button is focused and then hits enter. </p>\n\n<p>I'm sure there is an easier way to do this. Any guidance or pointers would be greatly appreciated.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "lambda"], "comments": [{"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 1, "creation_date": 1458763604, "post_id": 36187701, "comment_id": 60010662, "body": "Try: .Sum(su =&gt; su.amount ?? 0D));"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 0, "creation_date": 1458763713, "post_id": 36187701, "comment_id": 60010714, "body": "Sorry, I forgot to mention it was a decimal."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1458763722, "post_id": 36187701, "comment_id": 60010720, "body": "Did you try searching for that error? There are no rows, causing <code>Sum()</code> (or rather the materialization from the query result to a variable of the requested type) to fail with this cryptic exception."}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 1, "creation_date": 1458763735, "post_id": 36187701, "comment_id": 60010731, "body": "If su.amount is nullable use: Sum(su =&gt; su.amount ? su.amount.Value : 0m));"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1458763765, "post_id": 36187701, "comment_id": 60010746, "body": "So are you actually casting to <code>double</code> or to <code>decimal</code>? The code you&#39;ve shown doesn&#39;t match the error you&#39;re showing..."}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1458763800, "post_id": 36187701, "comment_id": 60010769, "body": "From <code>decimal?</code> to <code>double</code>"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458763843, "post_id": 36187701, "comment_id": 60010789, "body": "@CodeCaster So if there are no rows, Sum returns <code>null</code>?"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458764045, "post_id": 36187701, "comment_id": 60010895, "body": "Yes. So use <code>Sum(su =&gt; su.amount) ?? 0</code> instead, as explained in <a href=\"http://stackoverflow.com/questions/6864311/the-cast-to-value-type-int32-failed-because-the-materialized-value-is-null\">The cast to value type &#39;Int32&#39; failed because the materialized value is null</a>, which will be translated to <code>ISNULL(SUM(...), 0)</code>, which EF <i>will</i> be able to translate to a non-nullable decimal or double."}, {"owner": {"reputation": 114215, "user_id": 414076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GTTci.png?s=128&g=1", "display_name": "Anthony Pegram", "link": "https://stackoverflow.com/users/414076/anthony-pegram"}, "edited": false, "score": 2, "creation_date": 1458764181, "post_id": 36187701, "comment_id": 60010976, "body": "Unrelated, but is there a reason you&#39;re casting a perfectly good decimal to a perfectly lousy double for a value that appears to be financial?"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 114215, "user_id": 414076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GTTci.png?s=128&g=1", "display_name": "Anthony Pegram", "link": "https://stackoverflow.com/users/414076/anthony-pegram"}, "edited": false, "score": 0, "creation_date": 1458764304, "post_id": 36187701, "comment_id": 60011058, "body": "@AnthonyPegram Because I&#39;m building off of existing code that someone else started and instead of changing everything back to decimal like it should be, I&#39;m just following in their footsteps. Accuracy isn&#39;t a large factor luckily lol"}], "answers": [{"comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458763928, "post_id": 36187818, "comment_id": 60010840, "body": "I don&#39;t think that&#39;ll work. This LINQ gets translated to SQL, and the response back to the <code>decimal</code>, the latter part is failing because there are no rows."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458764130, "post_id": 36187818, "comment_id": 60010951, "body": "@CodeCaster - It should return 0 if you sum an empty set. I don&#39;t believe that the no rows aspect (if there really are no rows) plays a role here."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1458764244, "post_id": 36187818, "comment_id": 60011013, "body": "<code>SELECT SUM(f) WHERE 1=0</code> returns <code>NULL</code>. It&#39;s that <code>NULL</code> that can&#39;t be translated back to the requested non-nullable <code>decimal</code>."}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458764357, "post_id": 36187818, "comment_id": 60011086, "body": "@CodeCaster is right, I got it to work with a combo of suggestions."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1458764386, "post_id": 36187818, "comment_id": 60011100, "body": "@CodeCaster - I see, you are correct. I will make an edit."}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1458764602, "post_id": 36187818, "comment_id": 60011222, "body": "@TravisJ You were closer before lol <code>var BF = (double)filtered.Sum(s =&gt; s.fees.Where(w =&gt; w.status == &quot;B&quot; &amp;&amp; w.amount != null).Sum(su =&gt; su.amount) ?? 0);</code> worked just fine."}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "reply_to_user": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1458764675, "post_id": 36187818, "comment_id": 60011267, "body": "@BlueEyedBehemoth - If you have an answer or solution to your problem that differs from mine or others here feel free to post it as an answer. There is nothing wrong with doing that. May even get some upvotes ;)"}], "tags": [], "owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1458764537, "last_edit_date": 1458764537, "creation_date": 1458763864, "answer_id": 36187818, "question_id": 36187701, "link": "https://stackoverflow.com/questions/36187701/cast-to-double-failing/36187818#36187818", "title": "Cast to double failing?", "body": "<p>Since <code>.Sum()</code> will return <code>null</code> when done on an empty set, I would suggest using <code>.DefaultIfEmpty(0)</code> in order to ensure that you avoid encountering null in this scenario.</p>\n\n<p>To limit the set, I would also suggest to filter out the nulls.</p>\n\n<pre><code>var BF = (double)filtered.Sum(s =&gt; s.fees\n       .Where(w =&gt; w.status == \"B\" &amp;&amp; w.amount != null)\n       .Select(su =&gt; su.amount)\n       .DefaultIfEmpty(0)\n       .Sum());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5879603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1973fcbb485e0c0984d600ca73e6f294?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Ribeiro", "link": "https://stackoverflow.com/users/5879603/gabriel-ribeiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1458764362, "last_edit_date": 1458764362, "creation_date": 1458764122, "answer_id": 36187888, "question_id": 36187701, "link": "https://stackoverflow.com/questions/36187701/cast-to-double-failing/36187888#36187888", "title": "Cast to double failing?", "body": "<p>try this:</p>\n\n<pre><code>var BF = (double)filtered.Sum(s =&gt; s.fees.Where(w =&gt; w.status == \"B\").Sum(su =&gt; su.amount ?? 0) ?? 0);\n</code></pre>\n\n<p>Maybe the internal lambda \"s.fees.Where(w => w.status == \"B\").Sum(su => su.amount ?? 0)\" return null</p>\n"}], "owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 1, "closed_date": 1458764603, "answer_count": 2, "score": 0, "last_activity_date": 1458764539, "creation_date": 1458763501, "last_edit_date": 1458763656, "question_id": 36187701, "link": "https://stackoverflow.com/questions/36187701/cast-to-double-failing", "closed_reason": "Duplicate", "title": "Cast to double failing?", "body": "<p>I can't figure out why this is failing to cast. It says it is null, but that should never be the case because I'm checking if it's null and replacing it with 0, right?</p>\n\n<pre><code>        var BF = (double)filtered.Sum(s =&gt; s.fees\n           .Where(w =&gt; w.status == \"B\")\n           .Sum(su =&gt; su.amount ?? 0));\n</code></pre>\n\n<p>ERR: <code>The cast to value type 'System.Decimal' failed because the materialized value is null. Either the result type's generic parameter or the query must use a nullable type.</code></p>\n\n<p>I have a list of objects that each contain a list of <code>fees</code> which contain a nullable decimal <code>amount</code> and I just need to sum up the amounts. What am I missing?</p>\n"}, {"tags": ["c#", "wcf", "ssl"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 6106145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/17ffeed9af6610697c29b26aa3ff328a?s=128&d=identicon&r=PG&f=1", "display_name": "padhu", "link": "https://stackoverflow.com/users/6106145/padhu"}, "is_accepted": true, "score": 0, "last_activity_date": 1481056908, "creation_date": 1481056908, "answer_id": 41004478, "question_id": 36187689, "link": "https://stackoverflow.com/questions/36187689/socketexception-occurred-an-existing-connection-was-forcibly-closed-by-the-remot/41004478#41004478", "title": "SocketException occurred An existing connection was forcibly closed by the remote host ErrorCode=10054", "body": "<p>The issue was because of slow internet connection and it was timing out at the initial handshake process during authenticating the certificate. </p>\n"}], "owner": {"reputation": 125, "user_id": 6106145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/17ffeed9af6610697c29b26aa3ff328a?s=128&d=identicon&r=PG&f=1", "display_name": "padhu", "link": "https://stackoverflow.com/users/6106145/padhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 41004478, "answer_count": 1, "score": 0, "last_activity_date": 1481056908, "creation_date": 1458763471, "last_edit_date": 1592644375, "question_id": 36187689, "link": "https://stackoverflow.com/questions/36187689/socketexception-occurred-an-existing-connection-was-forcibly-closed-by-the-remot", "title": "SocketException occurred An existing connection was forcibly closed by the remote host ErrorCode=10054", "body": "<p>I have been stuck for few days on this issue already. I know the basics of wcf. Managing an existing code and ran into this problem.I have been hosting the application in several of my clients without any issues and the wcf client site has been able to communicate with the service except this wcf service  has been a non-starter.</p>\n<p>This is a IIS hosted wcf service. We have a CA issued certificate. I am able to verify the certificate at client so believe that it imported properly imported under Trusted Publishers of mmc.</p>\n<p>The wcf client application is able to instantiate the wcf object. But when I call a simple function that returns just &quot;true&quot; (to confirm that wcfobject is reachable) it throws the exception.</p>\n<pre><code>        EndpointAddress myEndpointAdd = new EndpointAddress(new Uri(practiceUrl),\n                                            EndpointIdentity.CreateDnsIdentity(dnsIdentity));\n        DataServiceClient wcfObject = new DataServiceClient(&quot;wsHttpEndPoint&quot;, myEndpointAdd);\n\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).MaxReceivedMessageSize = 2147483647;\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).ReaderQuotas.MaxArrayLength = 2147483647;\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).MaxBufferPoolSize = 2147483647;\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).OpenTimeout = TimeSpan.FromMinutes(10);\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).ReceiveTimeout = TimeSpan.FromMinutes(5);\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).SendTimeout = TimeSpan.FromMinutes(10);\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).ReaderQuotas.MaxBytesPerRead = 2147483647;\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).ReaderQuotas.MaxDepth = 2147483647;\n        ((WSHttpBinding)wcfObject.ChannelFactory.Endpoint.Binding).ReaderQuotas.MaxStringContentLength = 2147483647;\n\n        wcfObject.IsClientRunning(); //service should return true if all goes well\n</code></pre>\n<p>The client has opened the firewall to my machine IP and from my browser I am able to see the landing page of the service installed in client.</p>\n<pre><code>&lt;bindings&gt;\n  &lt;wsHttpBinding&gt;\n    &lt;binding name=&quot;wsHttpBindingSettings&quot; receiveTimeout=&quot;00:20:00&quot; closeTimeout=&quot;00:20:00&quot; openTimeout=&quot;00:20:00&quot; sendTimeout=&quot;00:20:00&quot; maxBufferPoolSize=&quot;2147483647&quot; maxReceivedMessageSize=&quot;2147483647&quot; messageEncoding=&quot;Text&quot;&gt;\n      &lt;readerQuotas maxDepth=&quot;2147483647&quot; maxStringContentLength=&quot;2147483647&quot; maxArrayLength=&quot;2147483647&quot; maxBytesPerRead=&quot;2147483647&quot; maxNameTableCharCount=&quot;2147483647&quot; /&gt;\n      &lt;security mode=&quot;Message&quot;&gt;\n        &lt;message clientCredentialType=&quot;Certificate&quot; /&gt;\n      &lt;/security&gt;\n    &lt;/binding&gt;\n  &lt;/wsHttpBinding&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>I also installed the service trace viewer, But that is not showing any errors.\n<img src=\"https://i.stack.imgur.com/fxgO0.png\" alt=\"TraceLog\" /></p>\n"}, {"tags": ["c#", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 11602, "user_id": 3410196, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b48fe9c49292de7930459187a4a98d77?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Derck", "link": "https://stackoverflow.com/users/3410196/alexander-derck"}, "edited": false, "score": 0, "creation_date": 1458764243, "post_id": 36187622, "comment_id": 60011011, "body": "If you can&#39;t use any plugins, you have pretty much no other choice than using the microsoft open xml sdk (because using interop on a server is something you should avoid at all cost). This will be the hard way with a lot of code which takes long to write and make bug-free. Or you can use a library like EPPlus and be done with it in a few hours"}, {"owner": {"reputation": 97, "user_id": 1871428, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/939b0ed9ad875cb5cd44d789d2494b23?s=128&d=identicon&r=PG", "display_name": "cxwilson", "link": "https://stackoverflow.com/users/1871428/cxwilson"}, "reply_to_user": {"reputation": 11602, "user_id": 3410196, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b48fe9c49292de7930459187a4a98d77?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Derck", "link": "https://stackoverflow.com/users/3410196/alexander-derck"}, "edited": false, "score": 0, "creation_date": 1458764489, "post_id": 36187622, "comment_id": 60011159, "body": "@AlexanderDerck I&#39;m okay with spending the hours but I know there has to be some way to do it other than to use the Microsoft open xml sdk. I&#39;ve seen implementations in webforms but nothing for MVC that is really helpful"}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1458769911, "last_edit_date": 1495535440, "creation_date": 1458764951, "answer_id": 36188098, "question_id": 36187622, "link": "https://stackoverflow.com/questions/36187622/how-can-i-export-an-html-table-from-a-partial-view-to-excel-in-asp-net-mvc-5/36188098#36188098", "title": "How can I export an HTML table from a partial view to excel in ASP.NET MVC 5", "body": "<p>Personally, here is how I would get it done. I would use JQuery to gather up the data from the table through this:</p>\n\n<pre><code>var tableData = {}\n$('#tblAddressBook &gt; tbody  &gt; tr').each(function() {...add each row's columns to tableData...});\n</code></pre>\n\n<p>Then make an AJAX call to an MVC Controller method. See Here:\n<a href=\"https://stackoverflow.com/questions/16186083/making-a-simple-ajax-call-to-controller-in-asp-net-mvc\">Making a Simple Ajax call to controller in asp.net mvc</a></p>\n\n<p>With your data now in the controller method, you can go ahead and create your excel file with the data. I would probably go with .csv file, rather than .xls if you can, considering you most likely need a third party library to export to .xls.</p>\n\n<p>Edit: Alternatively, you can skip the jquery and pass the table's model straight to the controller, see here: <a href=\"https://stackoverflow.com/questions/27896202/pass-table-value-from-view-to-controller-mvc\">Pass Table Value from View to Controller MVC</a></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 6217871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de7b2bfa7010931c7d7e94c262d0be8?s=128&d=identicon&r=PG&f=1", "display_name": "GameMaster Greatee", "link": "https://stackoverflow.com/users/6217871/gamemaster-greatee"}, "is_accepted": false, "score": 0, "last_activity_date": 1481880955, "last_edit_date": 1481880955, "creation_date": 1481878274, "answer_id": 41180451, "question_id": 36187622, "link": "https://stackoverflow.com/questions/36187622/how-can-i-export-an-html-table-from-a-partial-view-to-excel-in-asp-net-mvc-5/41180451#41180451", "title": "How can I export an HTML table from a partial view to excel in ASP.NET MVC 5", "body": "<p>If \"Address Book Summary\"(PartialView) contains only the table then change the code :-</p>\n\n<pre><code>public ActionResult Export() {\n    Response.ContentType = \"application/x-msexcel\"; \n    Response.AddHeader(\"Content-Disposition\", \"attachment;filename=ExcelFile.xls\");\n    return View();\n}\n</code></pre>\n\n<p>to :-</p>\n\n<pre><code>public ActionResult Export()\n{\n    Response.ContentType = \"application/x-msexcel\"; \n    Response.AddHeader(\"Content-Disposition\", \"attachment; filename=ExcelFile.xls\");\n    return PartialView(\"Address_Book_Partial_View_FileName_Here_Without_Extension\");\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 1871428, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/939b0ed9ad875cb5cd44d789d2494b23?s=128&d=identicon&r=PG", "display_name": "cxwilson", "link": "https://stackoverflow.com/users/1871428/cxwilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2216, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481880955, "creation_date": 1458763244, "last_edit_date": 1458819766, "question_id": 36187622, "link": "https://stackoverflow.com/questions/36187622/how-can-i-export-an-html-table-from-a-partial-view-to-excel-in-asp-net-mvc-5", "title": "How can I export an HTML table from a partial view to excel in ASP.NET MVC 5", "body": "<p>I have spent hours searching all over the internet but it seems no one has a current answer. I have a simple table set up in a PARTIAL view and want to export the data in the html table not from the database. I do not have the option of using any plugins either. I am open to doing it through JavaScript/Jquery but I am fairly new to MVC and I have exhausted other solutions on the internet. </p>\n\n<p><strong>Address Book Summary (Partial View)</strong>:</p>\n\n<pre><code>&lt;table class=\"table table-bordered table-responsive table-striped\" id=\"tblAddressBook\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt; @Html.DisplayNameFor(model =&gt; model.Name)&lt;/th&gt;\n            &lt;th&gt; @Html.DisplayNameFor(model =&gt; model.Address)&lt;/th&gt;\n         &lt;tr&gt;\n     &lt;/thead&gt;\n     &lt;tbody&gt;\n     @foreach (var item in Model)\n        {\n        &lt;td class=\"text-right\"&gt;@Html.DisplayFor(modelItem =&gt; item.Name)&lt;/td&gt;\n        &lt;td class=\"text-right\"&gt;@Html.DisplayFor(modelItem =&gt; item.Address)&lt;/td&gt;\n     }\n     &lt;/tbody&gt;\n     &lt;tfoot&gt;\n        &lt;td class=\"text-right&gt;Model.Sum(model =&gt; model.TotalPeople))&lt;/td&gt;\n        &lt;td class=\"text-right&gt;Model.Sum(model =&gt; model.Addresses))&lt;/td&gt;\n     &lt;/tfoot&gt;\n</code></pre>\n\n<p><strong>Address Book</strong></p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-primary\"&gt;\n    Export\n&lt;/button&gt;\n&lt;div id=\"summaryAddressBook\"&gt;\n            @Html.Partial(\"AddressBook/_Summary\", Model.Peoples)\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Address Book Controller</strong></p>\n\n<pre><code>public ActionResult Export() {\n   Response.ContentType = \"application/x-msexcel\"; \n   Response.AddHeader(\"Content-Disposition\", \"attachment;filename=ExcelFile.xls\");\n   return View();\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "gridview"], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 5421418, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d58e47d78b67eeff718463df5f866370?s=128&d=identicon&r=PG&f=1", "display_name": "mrVG", "link": "https://stackoverflow.com/users/5421418/mrvg"}, "is_accepted": true, "score": 0, "last_activity_date": 1458764452, "creation_date": 1458764452, "answer_id": 36187970, "question_id": 36187609, "link": "https://stackoverflow.com/questions/36187609/cant-see-gridview-with-oledbdatareader/36187970#36187970", "title": "Can&#39;t see GridView with OleDbDataReader", "body": "<p>I solved my problem. <code>GridView</code> in code has parameter <code>AutoGenerateColumns=\"False\"</code>. You have to set it to <code>True</code> and then it will works.</p>\n"}], "owner": {"reputation": 45, "user_id": 5421418, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d58e47d78b67eeff718463df5f866370?s=128&d=identicon&r=PG&f=1", "display_name": "mrVG", "link": "https://stackoverflow.com/users/5421418/mrvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 36187970, "answer_count": 1, "score": 0, "last_activity_date": 1458764480, "creation_date": 1458763198, "last_edit_date": 1458764480, "question_id": 36187609, "link": "https://stackoverflow.com/questions/36187609/cant-see-gridview-with-oledbdatareader", "title": "Can&#39;t see GridView with OleDbDataReader", "body": "<p>I need to put table from MS Access to <code>GridView</code> using <code>OleDbDataReader</code>. Visual Studio doesn't show any errors or warnings, but I still even can't see my <code>GridView</code>. Here is how I'm trying:</p>\n\n<pre><code>string ConnectionString = \"Provider=Microsoft.Jet.OLEDB.4.0;\" + @\"Data Source=kpp-lab-3-4-db-1.mdb\";\nOleDbConnection Connection = new OleDbConnection(ConnectionString);\nConnection.Open();\nstring query = \"SELECT * FROM `View`\";\nOleDbCommand command = new OleDbCommand(query, Connection);\nOleDbDataReader reader = command.ExecuteReader();\nGridView1.DataSource = reader;\nGridView1.DataBind();\nreader.Close();\n</code></pre>\n\n<p>Is there anything I'm missing? </p>\n"}, {"tags": ["c#", "mysql", "asp.net-web-api", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1458763206, "post_id": 36187540, "comment_id": 60010420, "body": "code is text. posting PICTURES of text is essentially useless."}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 0, "creation_date": 1458763457, "post_id": 36187540, "comment_id": 60010579, "body": "See answer to <a href=\"http://stackoverflow.com/questions/2948255/xml-file-creation-using-xdocument-in-c-sharp\" title=\"xml file creation using xdocument in c sharp\">stackoverflow.com/questions/2948255/&hellip;</a>."}, {"owner": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1458764965, "post_id": 36187540, "comment_id": 60011441, "body": "Sorry! Now its text thanks to Jason Watkins!"}, {"owner": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1458766898, "post_id": 36187540, "comment_id": 60012497, "body": "Can someone please help? :("}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1459258933, "post_id": 36242346, "comment_id": 60197931, "body": "Thank you! Im getting en exception 403 forbidden. Do i need to provide i connection string in the web.config to solve this 403?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1459259343, "post_id": 36242346, "comment_id": 60198247, "body": "Status code 403: Forbidden happens if you have authentication enabled for your service on the controller of globally for the api. Check for <code>[Authorize]</code> attribute on your controller. If you want to allow non authorized users on the specific action you can use the <code>[AllowAnonymous]</code> attribute on the action"}, {"owner": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1459280577, "post_id": 36242346, "comment_id": 60212553, "body": "I have set [AllowAnonymous] to my method and the Controller class and im getting: <b>ex.Message = &quot;Unable to connect to any of the specified MySQL hosts.&quot;</b>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "edited": false, "score": 0, "creation_date": 1459284269, "post_id": 36242346, "comment_id": 60214591, "body": "Check your connection string and make sure it is correct. That is usually what that message means."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 4, "last_activity_date": 1459037576, "last_edit_date": 1459037576, "creation_date": 1459037260, "answer_id": 36242346, "question_id": 36187540, "link": "https://stackoverflow.com/questions/36187540/asp-net-web-api-with-mysql-database/36242346#36242346", "title": "asp.net web api with Mysql database", "body": "<p>Making some assumptions about your File Table, this is how you get the data</p>\n\n<pre><code>public IEnumerable&lt;File&gt; Get()\n{\n    List&lt;File&gt; list = new List&lt;File&gt;();\n    try\n    {\n        command = conn.CreateCommand();\n        command.CommandText = \"SELECT * FROM Files\";\n        conn.Open();\n\n        using(MySqlDataReader reader = command.ExecuteReader())\n        {\n            while (reader.Read())\n            {\n                //How to output the rows ????\n                int id = (int) reader[\"Id\"];//Assuming column name is 'Id' and value if typeof(int)\n                string text = (string) reader[\"Text\"];//Assuming column name is `Text` and typeof(string)\n                var file = new File {Id = id, Text = text};\n                list.Add(file);\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex.Message);\n    }\n\n    return list; // return the list\n}\n</code></pre>\n\n<p>As for the xml that is a formatting setting that needs to be allowed on the request.</p>\n\n<p>Given the default setup of WebApi once the client making the call requests <code>text/xml</code> as the content type then the result should be parsed to xml and returned to the client.</p>\n\n<p>If it is you want to force the response to always be xml then you need to make some changes to the response. One way is to set the <code>Content-Type</code> header before returning your result. </p>\n\n<pre><code>Response.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\"text/xml;charset=utf-8\");\n</code></pre>\n\n<p>There are other ways you can do this and there are many answers on SO that will be able to show you.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10763639, "user_type": "registered", "profile_image": "https://graph.facebook.com/996206103923846/picture?type=large", "display_name": "Krishna Jadhav", "link": "https://stackoverflow.com/users/10763639/krishna-jadhav"}, "is_accepted": false, "score": 2, "last_activity_date": 1544337314, "creation_date": 1544337314, "answer_id": 53689994, "question_id": 36187540, "link": "https://stackoverflow.com/questions/36187540/asp-net-web-api-with-mysql-database/53689994#53689994", "title": "asp.net web api with Mysql database", "body": "<p>Webconfig: </p>\n\n<pre><code>     public static MySqlConnection conn()\n    {\n        string conn_string = \"server=localhost;port=3306;database=testmvc;username=root;password=root;\";\n\n\n        MySqlConnection conn = new MySqlConnection(conn_string);\n\n        return conn;\n    }\n</code></pre>\n\n<p>Controller :</p>\n\n<pre><code>    public MySqlConnection con = WebApiConfig.conn();\n\n    public IHttpActionResult GetAllProduct()\n    {\n        IList&lt;product&gt; pro = null;\n\n        try\n        {\n            con.Open();\n            MySqlCommand cmd = new MySqlCommand(\"select * from product\", con);\n\n            cmd.CommandType = CommandType.Text;\n\n            MySqlDataAdapter da = new MySqlDataAdapter(cmd);\n            DataSet ds = new DataSet();\n            da.Fill(ds);\n\n            pro = ds.Tables[0].AsEnumerable().Select(dataRow =&gt; new product { Pname = dataRow.Field&lt;string&gt;(\"pname\"), Pid = dataRow.Field&lt;int&gt;(\"pid\"), Pprice = dataRow.Field&lt;decimal&gt;(\"pprice\") }).ToList();\n\n        }\n        finally\n        {\n            con.Close();\n        }\n\n\n        if (pro.Count == 0)\n        {\n            return NotFound();\n        }\n\n        return Ok(pro);\n    }\n\n    public IHttpActionResult PostNewProduct(product pro)\n    {\n        try\n        {\n            con.Open();\n\n            MySqlCommand cmd = new MySqlCommand();\n\n            cmd.Connection = con;\n            cmd.CommandText = \"SELECT MAX(pid) from product\";\n\n            cmd.CommandType = CommandType.Text;\n\n            int maxid = Convert.ToInt16(cmd.ExecuteScalar().ToString())+1;\n\n\n            cmd.CommandText = \"insert into product values(\" + maxid + \",'\" + pro.Pname + \"',\" + pro.Pprice + \")\";\n\n            cmd.ExecuteNonQuery();\n\n        }\n        finally\n        {\n            con.Close();\n        }\n\n        return Ok();\n    }\n\n    public IHttpActionResult PutOldProduct(product pro)\n    {\n\n        string sql = \"update product set pname='\" + pro.Pname + \"',pprice=\" + pro.Pprice + \" where pid=\" + pro.Pid + \"\";\n        try\n        {\n            con.Open();\n            MySqlCommand cmd = new MySqlCommand(sql, con);\n\n            cmd.CommandType = CommandType.Text;\n\n            cmd.ExecuteNonQuery();\n\n        }\n        finally\n        {\n            con.Close();\n        }\n\n        return Ok();\n    }\n\n    public IHttpActionResult Delete(int id)\n    {\n        string sql = \"delete from product where pid=\" + id + \"\";\n        try\n        {\n            con.Open();\n            MySqlCommand cmd = new MySqlCommand(sql, con);\n\n            cmd.CommandType = CommandType.Text;\n\n            cmd.ExecuteNonQuery();\n\n        }\n        finally\n        {\n            con.Close();\n        }\n\n        return Ok();\n    }\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 4938382, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/597e66f531d159b9c835de11fb6c7d21?s=128&d=identicon&r=PG&f=1", "display_name": "Webbie", "link": "https://stackoverflow.com/users/4938382/webbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10634, "favorite_count": 2, "accepted_answer_id": 36242346, "answer_count": 2, "score": 3, "last_activity_date": 1544337314, "creation_date": 1458762995, "last_edit_date": 1487693129, "question_id": 36187540, "link": "https://stackoverflow.com/questions/36187540/asp-net-web-api-with-mysql-database", "title": "asp.net web api with Mysql database", "body": "<p>I have a background in PHP and bump into a problem while trying out ASP.NET webAPI.</p>\n\n<p>I have a MySQL database and a table that contains some files information.\nNow i want to make a \"SELECT * FROM Files\" and see the result in XML.</p>\n\n<p>How can i render the result of the query that is returned?</p>\n\n<p>This is my code at the moment,</p>\n\n<p><strong>The Model:</strong></p>\n\n<pre><code>namespace ProductsApp.Models\n{\n    public class File\n    {\n        public int Id {get; set;}\n        public string Text {get; set;}\n    }\n}\n</code></pre>\n\n<p><strong>The Controller:</strong></p>\n\n<pre><code>public IEnumerable&lt;File&gt; Get()\n{\n    try\n    {\n        command = conn.CreateCommand();\n        command.CommandText = \"SELECT * FROM Files\";\n        conn.Open();\n\n        MySqlDataReader reader = command.ExecuteReader();\n        while (reader.Read())\n        {\n            //How to output the rows ????\n        }\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex.Message);\n    }\n\n    return null; // return the list\n}\n</code></pre>\n"}, {"tags": ["c#", "abstract-class"], "comments": [{"owner": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "edited": false, "score": 1, "creation_date": 1458762973, "post_id": 36187452, "comment_id": 60010291, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/763344/c-sharp-virtual-or-abstract-static-methods\">C# virtual (or abstract) static methods</a>"}, {"owner": {"reputation": 3582, "user_id": 3063273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/smG96.jpg?s=128&g=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/3063273/matt-thomas"}, "reply_to_user": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "edited": false, "score": 0, "creation_date": 1458764653, "post_id": 36187452, "comment_id": 60011257, "body": "@JasonWatkins. Thanks for marking as dup. Per <a href=\"http://meta.stackoverflow.com/questions/314210/should-i-ask-a-new-question-in-order-to-make-the-answer-easier-to-find\" title=\"should i ask a new question in order to make the answer easier to find\">meta.stackoverflow.com/questions/314210/&hellip;</a> I should have done that"}], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 3063273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/smG96.jpg?s=128&g=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/3063273/matt-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762644, "creation_date": 1458762644, "answer_id": 36187453, "question_id": 36187452, "link": "https://stackoverflow.com/questions/36187452/static-method-dependent-on-child-class/36187453#36187453", "title": "Static method dependent on child class?", "body": "<p>The key is to add a type parameter:</p>\n\n<pre><code>abstract class Base&lt;T&gt;\n    where T : Base&lt;T&gt;\n{\n    public static string GetClassName()\n    {\n        return typeof(T).Name;\n    }\n}\n\nclass A : Base&lt;A&gt; { }\n\nclass B : Base&lt;B&gt; { }\n</code></pre>\n\n<p>This makes static members of <code>Base</code> belong to the particular class <code>Base&lt;T&gt;</code>, whatever <code>T</code> is. So there's no longer a single <code>Base.GetClassName</code> method, but in this case there are now two methods: <code>Base&lt;A&gt;.GetClassName</code> and <code>Base&lt;B&gt;.GetClassName</code>. Additionally, the constraint on the type parameter makes it impossible to have <code>class B : Base&lt;A&gt;</code>, which guarantees that <code>A.GetClassName</code> and <code>B.GetClassName</code> will return different things.</p>\n\n<p>Behavior specific to child classes can be extended even further:</p>\n\n<pre><code>abstract class Base&lt;T&gt;\nwhere T : Base&lt;T&gt;\n{\n    private static HashSet&lt;string&gt; values = new HashSet&lt;string&gt;();\n\n    internal Base(string value)\n    {\n        if (Base&lt;T&gt;.values.Contains(value))\n            throw new Exception(\"Not unique\");\n        else\n            Base&lt;T&gt;.values.Add(value);\n    }\n\n    public static string GetClassName()\n    {\n        return typeof(T).Name;\n    }\n\n    public static IEnumerable&lt;string&gt; GetValues()\n    {\n        return new LinkedList&lt;string&gt;(Base&lt;T&gt;.values);\n    }\n}\n\nclass A : Base&lt;A&gt;\n{\n    public A(string value) : base(value) { }\n}\n\nclass B : Base&lt;B&gt;\n{\n    public B(string value) : base(value) { }\n}\n\nstatic void Main(string[] args)\n{\n    var a1 = new A(\"value\");\n    var a2 = new A(\"value 2\");\n    // var a3 = new A(\"value\"); // Would throw an exception\n    var b = new B(\"value\"); // Does not throw an exception\n\n    Console.WriteLine(A.GetClassName()); // Prints \"A\"\n    Console.WriteLine(B.GetClassName()); // Prints \"B\"\n\n    Console.WriteLine(\"The values in A:\");\n    foreach (var value in A.GetValues()) // This loop prints \"value\" and \"value 2\"\n    {\n        Console.WriteLine(\"\\t\" + value);\n    }\n    Console.WriteLine(\"The values in B:\");\n    foreach (var value in B.GetValues()) // This loop prints \"value\"\n    {\n        Console.WriteLine(\"\\t\" + value);\n    }\n}\n</code></pre>\n\n<p>In this case, there are different static <code>values</code> objects in <code>Base&lt;A&gt;</code>/<code>A</code> and <code>Base&lt;B&gt;</code>/<code>B</code>.</p>\n\n<p>All this comes with a cost, however. In the above example it's impossible for child classes of <code>Base</code> to access the same static objects without all the child classes knowing of each other <i>a priori</i>. E.g. <code>B</code> cannot access the same <code>values</code> object as <code>A</code>. One possible workaround is to use <code>Base&lt;agreed-upon-type&gt;.values</code> when you want all child classes to share values.</p>\n"}], "owner": {"reputation": 3582, "user_id": 3063273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/smG96.jpg?s=128&g=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/3063273/matt-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458763437, "creation_date": 1458762644, "last_edit_date": 1495539909, "question_id": 36187452, "link": "https://stackoverflow.com/questions/36187452/static-method-dependent-on-child-class", "title": "Static method dependent on child class?", "body": "<p>How can I make the behavior of a static method dependent on the class it's called from?\nE.g.</p>\n\n<pre><code>abstract class Base\n{\n    public static string GetClassName()\n    { ???? }\n}\nclass A : Base { }\nclass B : Base { }\n\nstatic void Main(string[] args)\n{\n    Console.WriteLine(A.GetClassName()); // Want to print \"A\"\n    Console.WriteLine(B.GetClassName()); // Want to print \"B\"\n}\n</code></pre>\n\n<p>Note that if I use <code>MethodBase.GetCurrentMethod().DeclaringType.Name</code> in <code>Base.GetClassName</code>, then \"Base\" is returned.</p>\n\n<p>Also note that this is similar to several other SO questions, like the below, but I'm asking it in a more succinct way in order to document an answer other than \"you can't\":</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3284/why-cant-i-have-abstract-static-methods-in-c\">Why can&#39;t I have abstract static methods in C#?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/823665/c-implement-static-abstract-like-methods\">C#, implement &#39;static abstract&#39; like methods</a></li>\n<li><a href=\"https://stackoverflow.com/questions/763344/c-sharp-virtual-or-abstract-static-methods/763364#763364\">C# virtual (or abstract) static methods</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13567042/how-to-force-abstract-class-childs-to-implement-a-static-method\">How to force abstract class childs to implement a static method?</a></li>\n</ul>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-3", "razorengine"], "comments": [{"owner": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "reply_to_user": {"reputation": 9541, "user_id": 1604048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EMUc6.png?s=128&g=1", "display_name": "Murat Y\u0131ld\u0131z", "link": "https://stackoverflow.com/users/1604048/murat-y%c4%b1ld%c4%b1z"}, "edited": false, "score": 0, "creation_date": 1458820847, "post_id": 36187376, "comment_id": 60032668, "body": "@MuratY\u0131ld\u0131z, My problem isn&#39;t with the HTML itself but with the Razor sintax that resides inside my HTML. I&#39;m going to update my question with an example."}, {"owner": {"reputation": 11584, "user_id": 135007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f1adf1b46be8a53c54b42b021196001?s=128&d=identicon&r=PG", "display_name": "ZippyV", "link": "https://stackoverflow.com/users/135007/zippyv"}, "edited": false, "score": 1, "creation_date": 1458998176, "post_id": 36187376, "comment_id": 60101950, "body": "I think the best solution is to keep trying with RazorEngine but don&#39;t use ViewBag, use a model."}, {"owner": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "reply_to_user": {"reputation": 11584, "user_id": 135007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f1adf1b46be8a53c54b42b021196001?s=128&d=identicon&r=PG", "display_name": "ZippyV", "link": "https://stackoverflow.com/users/135007/zippyv"}, "edited": false, "score": 0, "creation_date": 1459008085, "post_id": 36187376, "comment_id": 60105350, "body": "@ZippyV, i could indeed use a Model but my problem is that i still couldn&#39;t figure out how to implement the RazorEngine."}], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "edited": false, "score": 0, "creation_date": 1458825917, "post_id": 36201174, "comment_id": 60035907, "body": "I&#39;m not saving the HTML in a physical file, i have the HTML saved on my Database and then i get the HTML as a string and print it on the <code>View</code> using <code>Html.Raw( &quot;&lt;div&gt;My name is @ViewBag.MyName&lt;&#47;div&gt;&quot; )</code>. Them problem is that the <code>View</code> prints <code>&lt;div&gt;My name is @ViewBag.MyName&lt;&#47;div&gt;</code> instead of <code>&lt;div&gt;My name is Terkhos&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 144, "user_id": 3952226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9303f0a7534a17a3e2516f857693bba1?s=128&d=identicon&r=PG&f=1", "display_name": "vbilopav", "link": "https://stackoverflow.com/users/3952226/vbilopav"}, "reply_to_user": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "edited": false, "score": 0, "creation_date": 1458825996, "post_id": 36201174, "comment_id": 60035961, "body": "I understand that you don&#39;t saving to a physical file. I&#39;m saying that you have to do that in order to trigger build process. That&#39;s just how asp.net mvc works."}, {"owner": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "edited": false, "score": 0, "creation_date": 1458826355, "post_id": 36201174, "comment_id": 60036207, "body": "I got it now, the thing is that i have already looked into that i couldn&#39;t figure out how to do it. The best option i think i have is the RazorEngine but i can&#39;t find my way into the implementation."}], "tags": [], "owner": {"reputation": 144, "user_id": 3952226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9303f0a7534a17a3e2516f857693bba1?s=128&d=identicon&r=PG&f=1", "display_name": "vbilopav", "link": "https://stackoverflow.com/users/3952226/vbilopav"}, "is_accepted": true, "score": 1, "last_activity_date": 1458825486, "creation_date": 1458825486, "answer_id": 36201174, "question_id": 36187376, "link": "https://stackoverflow.com/questions/36187376/render-razor-code-inside-html/36201174#36201174", "title": "Render Razor Code inside HTML", "body": "<p>Razor views are dynamically built. Every time you edit your razor file it is compiled in background and built into new dll.</p>\n\n<p>Basically you would have to trigger build process somehow that is normally triggered when cshtml file is changed. So, you would have to do that. Load and save a file. Or dig deep into internals...</p>\n"}], "owner": {"reputation": 782, "user_id": 3228150, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002001613453/picture?type=large", "display_name": "Ariel", "link": "https://stackoverflow.com/users/3228150/ariel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 36201174, "answer_count": 1, "score": 1, "last_activity_date": 1484216453, "creation_date": 1458762393, "last_edit_date": 1458821337, "question_id": 36187376, "link": "https://stackoverflow.com/questions/36187376/render-razor-code-inside-html", "title": "Render Razor Code inside HTML", "body": "<p>I have some HTML that is saved on my DB, this is later modified and saved on a variable and finally it's printed on my view using <code>@Html.Raw( Model.Page.Html )</code>.</p>\n\n<p>The problem is, this HTML possess some <code>Razor</code> codes like <code>ViewBag.Email</code>. How could i render this Razor code before printing the HTML ? I have already tried to put that on an <code>Partial View</code> and call it inside the HTML and then print it but it also won't work.</p>\n\n<p>Some people pointed me the <code>RazorEngine</code> lib but i couldn't make that work, i installed the version 3.7.7 but the documentation is a little confusing for me.</p>\n\n<p>If <code>RazorEngine</code> is my best option could anyone please include an example of how to render my HTML before printing it ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is an example of my problem: My contact page has a form inside. At some point in my <code>Filter</code> i checked to see if the request was from a mobile device and with this information i would set the type of the input on a ViewBag, for example:</p>\n\n<pre><code>&lt;input type=\"@ViewBag.ITEmail\" placeholder=\"E-mail\" name=\"cEmail\"&gt;\n</code></pre>\n\n<p>This HTML is fetched from my DB and passed to my Helpers to modify some information and then it's printed on my <code>View</code> using <code>@Html.Raw( Model.Page.Html )</code>.</p>\n"}, {"tags": ["c#", "asynchronous", "parallel-processing"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1458762495, "post_id": 36187302, "comment_id": 60010030, "body": "What type is <code>Key</code>? If it&#39;s not a string, it could work with a <code>lock</code> statement."}, {"owner": {"reputation": 3578, "user_id": 982824, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/aupme.jpg?s=128&g=1", "display_name": "Rikard", "link": "https://stackoverflow.com/users/982824/rikard"}, "reply_to_user": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1458764563, "post_id": 36187302, "comment_id": 60011199, "body": "Yes, that&#39;s a string"}], "answers": [{"comments": [{"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 0, "creation_date": 1458763752, "post_id": 36187630, "comment_id": 60010739, "body": "I wasn&#39;t aware of ConcurrentDictionary and just looked up its usage. From what I can tell, you&#39;ll need to do two operations with the ConcurrentDictionary. First a TryGetValue, and if that fails a GetOrAdd (since you don&#39;t want to create an AsyncLock on every lookup if you only called GetOrAdd)."}, {"owner": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "edited": false, "score": 0, "creation_date": 1458763875, "post_id": 36187630, "comment_id": 60010815, "body": "You don&#39;t want to do any operations on a regular <code>Dictionary</code> without locking. Consider the case where one thread takes the lock and adds an item to the dictionary in the middle of another thread&#39;s attempt to find a key."}, {"owner": {"reputation": 3648, "user_id": 1118660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaef8abaea3dc9d8ad119ceba8900aac?s=128&d=identicon&r=PG", "display_name": "Jason Watkins", "link": "https://stackoverflow.com/users/1118660/jason-watkins"}, "edited": false, "score": 0, "creation_date": 1458764063, "post_id": 36187630, "comment_id": 60010910, "body": "And RE: <code>ConcurrentDictionary</code>, there is an <a href=\"https://msdn.microsoft.com/en-us/library/ee378677%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">overload</a> of <code>GetOrAdd</code> that takes a delegate for creation of a new <code>TValue</code> instance. Using that overload would avoid the need to create a new <code>AsyncLock</code> on every call. I believe the primary use case for the <code>GetOrAdd(TKey, TValue)</code> overload is when TValue is a value type."}, {"owner": {"reputation": 3578, "user_id": 982824, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/aupme.jpg?s=128&g=1", "display_name": "Rikard", "link": "https://stackoverflow.com/users/982824/rikard"}, "edited": false, "score": 0, "creation_date": 1458765948, "post_id": 36187630, "comment_id": 60011968, "body": "Works perfect with ConcurrentDictionary. Maybe should I change the ConcurrentDictionary to ConcurrentDictionary&lt;string,Lazy&lt;AsyncLock&gt;&gt; ?"}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 0, "creation_date": 1458766140, "post_id": 36187630, "comment_id": 60012087, "body": "I don&#39;t think that makes sense. ConcurrentDictionary.GetOrAdd will not create new AsyncLocks on every access. The anonymous method inside GetOrAdd only gets executed when a given key cannot be found. At that point a new AsyncLock is created and moments later it will be used in the using block anyway. No point in deferring the creation for 1 microsecond."}], "tags": [], "owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "is_accepted": true, "score": 3, "last_activity_date": 1458764778, "last_edit_date": 1458764778, "creation_date": 1458763278, "answer_id": 36187630, "question_id": 36187302, "link": "https://stackoverflow.com/questions/36187302/conditionally-lock-resources/36187630#36187630", "title": "Conditionally lock resources", "body": "<p>Instead of having just one AsyncLock, create a dictionary full of them. The message key is the key to the AsyncLock in the dictionary. As long as there is just one message with a given key processing at a time, there won't be any blocking. I am further assuming that your message key is a string.</p>\n\n<pre><code>private readonly Dictionary&lt;string, AsyncLock&gt; _mutexes = new Dictionary&lt;string, AsyncLock&gt;();\n\nprivate AsyncLock GetMutex(string key)\n{\n    lock (_mutexes)\n    {\n        AsyncLock mutex;\n        if (!_mutexes.TryGetValue(key, out mutex))\n        {\n            // no mutex yet, create a new one\n            mutex = new AsyncLock();\n            _mutexes.Add(key, mutex);\n        }\n        return mutex;\n    }\n}\n\n....\nprotected async Task Process(Message msg)\n{\n    using (await GetMutex(msg.Key).LockAsync())\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p><strike>Please note that in all likelihood the GetMutex method can be further optimized to avoid a lock operation if the mutex for a key already exists, e.g. by first checking with ContainsKey, if not then lock and add. But I'm not sure if that optimization is 100% threadsafe so I did not include it here.</strike></p>\n\n<p>Inspired by Jason's ConcurrentDictionary comments I decided to provide the code for the ConcurrentDictionary version of GetMutex. I do not recommend to attempt what I crossed out above about optimizing access to a non-threadsafe dictionary.</p>\n\n<pre><code>ConcurrentDictionary&lt;string, AsyncLock&gt; _mutexes = new ConcurrentDictionary&lt;string, AsyncLock&gt;();\n\nprivate AsyncLock GetMutexes(string key)\n{\n    return _mutexes.GetOrAdd(key, s =&gt; { return new AsyncLock(); });\n}\n</code></pre>\n"}], "owner": {"reputation": 3578, "user_id": 982824, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/aupme.jpg?s=128&g=1", "display_name": "Rikard", "link": "https://stackoverflow.com/users/982824/rikard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 36187630, "answer_count": 1, "score": 3, "last_activity_date": 1458764778, "creation_date": 1458762136, "question_id": 36187302, "link": "https://stackoverflow.com/questions/36187302/conditionally-lock-resources", "title": "Conditionally lock resources", "body": "<p>I have a <strong>consumer</strong> class that is a <strong>Singleton</strong>. Is it possible in any way to <strong><em>conditionally</em></strong> lock resources. Currently the external resources is <strong>\"globally\"</strong> locked with the AsyncEx (<a href=\"https://github.com/StephenCleary/AsyncEx\" rel=\"nofollow\">https://github.com/StephenCleary/AsyncEx</a>) framework. But I would prefer to lock it based on the <strong>Key</strong> in the input message so messages with different Keys <strong>should not</strong> lock the resource.</p>\n\n<pre><code>public class Consumer\n{\n    private readonly AsyncLock _mutex = new AsyncLock();\n\n    protected async Task Process(Message msg)\n    {\n       **UNBLOCKED CODE**\n\n       using (await _mutex.LockAsync())\n       {\n          await GetData(msg.Key);\n       }\n\n       **UNBLOCKED CODE**\n    }\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "messagebox"], "comments": [{"owner": {"reputation": 6936, "user_id": 866022, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/88753efb648678b6c14d64fe715b216b?s=128&d=identicon&r=PG", "display_name": "yoozer8", "link": "https://stackoverflow.com/users/866022/yoozer8"}, "edited": false, "score": 0, "creation_date": 1458761909, "post_id": 36187208, "comment_id": 60009756, "body": "Is this the code that gets called when the button is clicked?"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 6, "creation_date": 1458761910, "post_id": 36187208, "comment_id": 60009757, "body": "Where is your logic for the 10 button presses? What method is this in?"}, {"owner": {"reputation": 846, "user_id": 3874053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xr2Gk.jpg?s=128&g=1", "display_name": "Jacobr365", "link": "https://stackoverflow.com/users/3874053/jacobr365"}, "edited": false, "score": 0, "creation_date": 1458761970, "post_id": 36187208, "comment_id": 60009787, "body": "Are you trying to make a message box appear or make text appear in a prexisting message box?"}, {"owner": {"reputation": 1, "user_id": 6106219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d438832100c07f0b262ff23e48dddda1?s=128&d=identicon&r=PG&f=1", "display_name": "justhere123", "link": "https://stackoverflow.com/users/6106219/justhere123"}, "edited": false, "score": 0, "creation_date": 1458761983, "post_id": 36187208, "comment_id": 60009798, "body": "Sorry for my wrong code. If the user has pressed on my button after 10 times, then a messagebox should appear."}, {"owner": {"reputation": 1, "user_id": 6106219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d438832100c07f0b262ff23e48dddda1?s=128&d=identicon&r=PG&f=1", "display_name": "justhere123", "link": "https://stackoverflow.com/users/6106219/justhere123"}, "edited": false, "score": 0, "creation_date": 1458762023, "post_id": 36187208, "comment_id": 60009815, "body": "clicked* not pressed sorry"}, {"owner": {"reputation": 846, "user_id": 3874053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xr2Gk.jpg?s=128&g=1", "display_name": "Jacobr365", "link": "https://stackoverflow.com/users/3874053/jacobr365"}, "edited": false, "score": 2, "creation_date": 1458762026, "post_id": 36187208, "comment_id": 60009817, "body": "add a counter to the buttons click event. if the counter == 10 call show on a message box?"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 2, "creation_date": 1458762028, "post_id": 36187208, "comment_id": 60009819, "body": "code you gave us shows message box 5 times, how it is related to your question?"}], "answers": [{"tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1458762193, "creation_date": 1458762193, "answer_id": 36187313, "question_id": 36187208, "link": "https://stackoverflow.com/questions/36187208/how-to-show-messagebox-after-few-clicks-in-c/36187313#36187313", "title": "How to show Messagebox after few clicks in C#", "body": "<blockquote>\n  <p>If the user has clicked on the button 10 times then it should appear a messagebox</p>\n</blockquote>\n\n<p>It's not clear why you're trying to use a <em>loop</em> for this.  There's nothing over which to iterate in the description.  You're simply incrementing a counter with each click and performing an action when the counter equals a given value.</p>\n\n<p>First you need to track the number of clicks.  A class-level property should do the trick:</p>\n\n<pre><code>private int NumberOfClicks { get; set; }\n</code></pre>\n\n<p>Then in your click handler, you increment it:</p>\n\n<pre><code>NumberOfClicks++;\n</code></pre>\n\n<p>Each time it's incremented, check if it's at 10 yet and show the message:</p>\n\n<pre><code>if (NumberOfClicks == 10)\n    MessageBox.Show(\"some message\");\n</code></pre>\n\n<p>(You could additionally reset the counter in the <code>if</code> block, so that the message is shown <em>every</em> 10 clicks.  Or check if <code>NumberOfClicks % 10 == 0</code> for the same effect.  Etc.)</p>\n"}, {"tags": [], "owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "is_accepted": false, "score": 2, "last_activity_date": 1458762232, "creation_date": 1458762232, "answer_id": 36187323, "question_id": 36187208, "link": "https://stackoverflow.com/questions/36187208/how-to-show-messagebox-after-few-clicks-in-c/36187323#36187323", "title": "How to show Messagebox after few clicks in C#", "body": "<p>Add a variable holding the current clickcount to your forms class. Every time you click the button, increase it. If the counter reaches 10 show the messagebox and reset the counter.</p>\n\n<pre><code>public partial class MyForm : Form {\n    private int clickcount = 0;\n\n    public MyForm()\n    {\n        InitializeComponent();\n        button1.Click += clicked;\n    }\n\n    public void clicked(object sender, EventArgs e)\n    {\n        if (++clickcount == 10) {\n            MessageBox.Show(\"hello there!\");\n           clickcount = 0;\n        }           \n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6106219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d438832100c07f0b262ff23e48dddda1?s=128&d=identicon&r=PG&f=1", "display_name": "justhere123", "link": "https://stackoverflow.com/users/6106219/justhere123"}, "edited": false, "score": 0, "creation_date": 1458763058, "post_id": 36187367, "comment_id": 60010342, "body": "Thank you for this"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1458767083, "post_id": 36187367, "comment_id": 60012586, "body": "Having a private auto property is absolutely useless, if not less beneficial as you can&#39;t pass it to a ref or out."}], "tags": [], "owner": {"reputation": 846, "user_id": 3874053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xr2Gk.jpg?s=128&g=1", "display_name": "Jacobr365", "link": "https://stackoverflow.com/users/3874053/jacobr365"}, "is_accepted": false, "score": 2, "last_activity_date": 1458764193, "last_edit_date": 1458764193, "creation_date": 1458762344, "answer_id": 36187367, "question_id": 36187208, "link": "https://stackoverflow.com/questions/36187208/how-to-show-messagebox-after-few-clicks-in-c/36187367#36187367", "title": "How to show Messagebox after few clicks in C#", "body": "<p>Assuming you have a working form button named buttonOne and a Messagebox  called messagebox</p>\n\n<pre><code>private int clickcount { get; set; } \nprivate void buttonOne_Click(object sender, EventArgs e)\n{   \n    if(++clickcount == 10)\n       MessageBox.Show(\"Your message\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6106219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d438832100c07f0b262ff23e48dddda1?s=128&d=identicon&r=PG&f=1", "display_name": "justhere123", "link": "https://stackoverflow.com/users/6106219/justhere123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "closed_date": 1458770131, "answer_count": 3, "score": -6, "last_activity_date": 1458764193, "creation_date": 1458761746, "last_edit_date": 1458762174, "question_id": 36187208, "link": "https://stackoverflow.com/questions/36187208/how-to-show-messagebox-after-few-clicks-in-c", "closed_reason": "Needs details or clarity", "title": "How to show Messagebox after few clicks in C#", "body": "<p>I want to show a messagebox after my button is pressed 10 times.\nIf the user has clicked on the button 10 times then it should appear a messagebox</p>\n\n<p>I've tried:</p>\n\n<pre><code>for (int i = 0; i &lt; 11; i++ )\n{\n    MessageBox.Show(i.ToString());\n}\n</code></pre>\n\n<p>It brings me nothing </p>\n"}, {"tags": ["c#", "listview", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1458764724, "post_id": 36187200, "comment_id": 60011300, "body": "It sounds like this is mostly working like you want, you just need to handle the case where the value is null because it&#39;s the first visit.  If you could post the relevant code we could give you more direction about handling that case."}, {"owner": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1458809626, "post_id": 36187200, "comment_id": 60026175, "body": "@Jason I&#39;ve updated my post"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "edited": false, "score": 0, "creation_date": 1458811128, "post_id": 36188445, "comment_id": 60026962, "body": "What you mean is refreshing the listview only when data is changed? But in my case, the data will be get when the user lands on the page and not when I choose a day. So in other words, the listview won&#39;t update if i don&#39;t refresh the activity itself :/ I&#39;ve updated my post with more code for better understading"}, {"owner": {"reputation": 7088, "user_id": 137825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/93beb0a80b06f7c915f058d93923681c?s=128&d=identicon&r=PG", "display_name": "Ryan Alford", "link": "https://stackoverflow.com/users/137825/ryan-alford"}, "reply_to_user": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "edited": false, "score": 0, "creation_date": 1458852217, "post_id": 36188445, "comment_id": 60052706, "body": "IMO, getting ALL of the reservations at one time, then showing only the ones necessary isn&#39;t a great architecture. However, if you want to keep it that way, then you have a couple of options. You can store the date in a global variable somewhere(like the <code>Settings</code> class you already have). Another option is to pass the date with the intent to the &#39;ReservationHoursActivity&#39; activity. Then when you are ready to recreate the <code>WeekViewActivity</code>, pass the date again using the Intent. In the <code>OnCreate</code>, you can check if the date is in the intent. If it is, use it, if it&#39;s not, do the default"}, {"owner": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "edited": false, "score": 0, "creation_date": 1458896919, "post_id": 36188445, "comment_id": 60065873, "body": "May I ask why you think it&#39;s not a good architecture? Wouldn&#39;t it be too much if I need to do a get call each  time the user choose another day? Wouldn&#39;t it be using too much of data bundle of the users internet?"}, {"owner": {"reputation": 7088, "user_id": 137825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/93beb0a80b06f7c915f058d93923681c?s=128&d=identicon&r=PG", "display_name": "Ryan Alford", "link": "https://stackoverflow.com/users/137825/ryan-alford"}, "reply_to_user": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "edited": false, "score": 0, "creation_date": 1458928402, "post_id": 36188445, "comment_id": 60081490, "body": "Let&#39;s say that there are 50 reservations across 13 days. Currently, you get all 50. If you changed the architecture to just getting the reservations for the selected day, and the user only clicked on 4 days, that&#39;s WAY less data. Also, the time for the API call and the time to process the API data will be less because it&#39;s less data. I implemented a similar &quot;date slider&quot; using my architecture, and there is barely a blip in the UI. It loads fast enough that the user can quickly click on days and not see any noticable hiccup in performance."}], "tags": [], "owner": {"reputation": 7088, "user_id": 137825, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/93beb0a80b06f7c915f058d93923681c?s=128&d=identicon&r=PG", "display_name": "Ryan Alford", "link": "https://stackoverflow.com/users/137825/ryan-alford"}, "is_accepted": false, "score": 0, "last_activity_date": 1458766922, "last_edit_date": 1458766922, "creation_date": 1458766258, "answer_id": 36188445, "question_id": 36187200, "link": "https://stackoverflow.com/questions/36187200/remember-selected-day-and-show-list-after-refresh/36188445#36188445", "title": "Remember selected day and show list after refresh", "body": "<p>You shouldn't restart the activity after adding a new reservation. You should be opening the \"New reservation\" activity with <code>StartActivityForResult</code>, then handling a returned value in the <code>OnActivityResult</code> override method. </p>\n\n<p>You wouldn't need to actually return anything, just an OK result would let you know to refresh the data(the user cancelling the add would return a Cancel result).</p>\n\n<p>So something like...</p>\n\n<pre><code>private void AddReservationButtonClick(object sender, EventArgs e)\n{\n     var intent = new Intent(this, typeof(AddReservationActivity));\n     StartActivityForResult(intent, 1000); // 1000 is just a random number, though it needs to match the value in OnActivityResult\n}\n\nprotected override void OnActivityResult(int requestCode, Result resultCode, Intent data)\n{\n     if (resultCode == Result.Cancelled)\n     {\n        // user cancelled the reservation add, so don't refresh\n        return;\n     }\n\n     if (requestCode == 1000)\n     {\n         RefreshReservationData();\n     }\n}\n</code></pre>\n\n<p>This would avoid having the recreate the Activity, which would probably save on memory. It would also fix your issue of remembering the day that was chosen as that day would still be chosen.</p>\n\n<p>This is the typical way of a child activity letting a parent activity know that it's done something.</p>\n"}], "owner": {"reputation": 73, "user_id": 5655661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3784a8f235b5ba7d5d226a755a50cc76?s=128&d=identicon&r=PG&f=1", "display_name": "Season", "link": "https://stackoverflow.com/users/5655661/season"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458809547, "creation_date": 1458761725, "last_edit_date": 1458809547, "question_id": 36187200, "link": "https://stackoverflow.com/questions/36187200/remember-selected-day-and-show-list-after-refresh", "title": "Remember selected day and show list after refresh", "body": "<p>I\u2019ve a layout (Let\u2019s call it WeekReservations) with different textview which represent the days of this month. For each day there\u2019s a listview with reservations. The listview is for each day different. Also for each selected day you can make a reservation.</p>\n\n<p><strong>First time landing on WeekReservations</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/MJRhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJRhB.png\" alt=\"enter image description here\"></a>\nFirst time landing on this page won't show anything until you choose a day.</p>\n\n<p><strong>After selecting a day</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/fzv8l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzv8l.png\" alt=\"enter image description here\"></a></p>\n\n<p>Default, if I land on this page there are no selected days. Which means I can\u2019t see a listview until I choose a day. When I make a reservation and submit it, I will be directed back to the WeekReservations page (to redirect them back, I\u2019ve refreshed this page). </p>\n\n<p>To do the refresh I used these line of codes:</p>\n\n<pre><code>var intent = new Intent (this, typeof(WeekViewActivity));\n            intent.SetFlags (ActivityFlags.ClearTop);\n            StartActivity (intent);\n</code></pre>\n\n<p>All the data will be updated correctly. Until here it works all fine.</p>\n\n<p>But the problem is, when I\u2019m directed back to the WeekReservations page, I won\u2019t be seeing the day with the list of reservations where I made my reservation. I need to choose the day again (the day where I made the reservation) to see my recent made reservation. </p>\n\n<p>I've tried to remember the id selected day and pass it through the activities and pass it back to the WeekReservations activity. But this gave me an error. because if it's the first time landing on this page there won't be anything to pass to this WeekReservations activity.</p>\n\n<p><strong>My question is:</strong> </p>\n\n<p>Is there a way to remember which day the user has selected (to make a reservation) and show this selected day with list of reservations after the refresh?</p>\n\n<p>If it's still unclear what I'm asking or lacking details, please feel free to point that out. I'll do my best to explain myself</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Below is my code how I did it until now:</p>\n\n<p><strong>WeekViewActivity.cs</strong></p>\n\n<p>Code for choosing a day and show the listview and making a reservation</p>\n\n<pre><code>namespace iChargeClassTest\n{\n    [Activity (Label = \"WeekViewActivity\", Theme =     \"@android:style/Theme.NoTitleBar\")]          \n    public class WeekViewActivity : Activity\n{\n    List&lt;WeekReservationClass&gt; result;\n    string myCPID;\n    string myCPAddress;\n\n    TextView showDay1, showDay2, showDay3, showDay4, showDay5, showDay6, showDay7, selectedDay;\n    Button makeBooking;\n\n    int totalDays;\n    DateTime chosenDateCP;\n    List&lt;WeekReservationClass&gt; newList = new List&lt;WeekReservationClass&gt; ();\n\n    private List&lt;ReservationTime&gt; myItems;\n    private ListView mListView;\n\n    protected async override void OnCreate (Bundle savedInstanceState)\n    {\n        base.OnCreate (savedInstanceState);\n        SetContentView (Resource.Layout.WeekViewLayout);\n\n        TextView showCurrentMonth = FindViewById&lt;TextView&gt; (Resource.Id.txtCurrentMonth);\n        showCurrentMonth.Text = DateTime.Now.ToMonthName ();\n\n        showDay1 = FindViewById&lt;TextView&gt; (Resource.Id.txtToday);\n        showDay2 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay2);\n        showDay3 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay3);\n        showDay4 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay4);\n        showDay5 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay5);\n        showDay6 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay6);\n        showDay7 = FindViewById&lt;TextView&gt; (Resource.Id.txtDay7);\n\n        makeBooking = FindViewById&lt;Button&gt; (Resource.Id.btnBooking);\n\n        selectedDay = FindViewById&lt;TextView&gt; (Resource.Id.txtSelectedDay);\n\n        showDay1.Text = DateTime.Today.Day.ToString ();\n        showDay2.Text = DateTime.Today.AddDays (1).Day.ToString ();\n        showDay3.Text = DateTime.Today.AddDays (2).Day.ToString ();\n        showDay4.Text = DateTime.Today.AddDays (3).Day.ToString ();\n        showDay5.Text = DateTime.Today.AddDays (4).Day.ToString ();\n        showDay6.Text = DateTime.Today.AddDays (5).Day.ToString ();\n        showDay7.Text = DateTime.Today.AddDays (6).Day.ToString ();\n\n        mListView = FindViewById&lt;ListView&gt; (Resource.Id.myListView);\n        myItems = new List&lt;ReservationTime&gt; ();\n\n        myCPID = Settings.CharchingPoint_ID;\n        myCPAddress = Settings.CharchingPointAddress;\n        selectedDay.Text = myCPAddress;\n\n        //get all the reservations from webservice\n        try {\n            string pathUrl = \"reservations/weekReservations/\";\n            string currentToken = Settings.Token;\n\n            var getResponse = await RequestClass.GetData (pathUrl, currentToken);\n\n            result = JsonConvert.DeserializeObject&lt;List&lt;WeekReservationClass&gt;&gt; (getResponse);\n\n        } catch (Exception ex) {\n            Console.WriteLine (\"Check error: \" + ex);\n        }\n\n        showDay1.Click += ShowDay1_Click;\n        showDay2.Click += ShowDay2_Click;\n        showDay3.Click += ShowDay3_Click;\n        showDay4.Click += ShowDay4_Click;\n        showDay5.Click += ShowDay5_Click;\n        showDay6.Click += ShowDay6_Click;\n        showDay7.Click += ShowDay7_Click;\n\n        makeBooking.Click += MakeBooking_Click;\n    }\n\n    void MakeBooking_Click (object sender, EventArgs e)\n    {\n        Settings.ChosenReservationDate = chosenDateCP.ToString ();\n        Settings.CharchingPoint_ID = myCPID;\n        StartActivity (typeof(ReservationHoursActivity));\n    }\n\n    //get and show reservation in listview\n    void ShowDay7_Click (object sender, EventArgs e)\n    {\n        totalDays = int.Parse (showDay7.Text) - DateTime.Today.Day;\n        chosenDateCP = DateTime.Today.AddDays (totalDays);\n\n        myItems.Clear ();\n        newList.Clear ();\n        mListView.Adapter = null;\n\n        //loop through json to get only reservation for day 7\n        for (int i = 0; i &lt; result.Count; i++) {\n            Console.WriteLine (Convert.ToDateTime (result [i].startTime));\n\n            if (Convert.ToDateTime (result [i].startTime).Date == chosenDateCP.Date &amp;&amp; result [i].chargingPointID == myCPID) {\n\n                var newReservation = new WeekReservationClass ();\n\n                newReservation._id = result [i]._id;\n                newReservation.endTime = result [i].endTime;\n                newReservation.startTime = result [i].startTime;\n                newReservation.chargingPointID = result [i].chargingPointID;\n                newReservation.userID = result [i].userID;\n                newReservation.__v = result [i].__v;\n                newReservation.modified_at = result [i].modified_at;\n                newReservation.created_at = result [i].created_at;\n\n                newList.Add (newReservation);\n            } else {\n                Console.WriteLine (\"failed\");\n            }\n        }\n\n        //loop through filtered list and show in listview\n        for (int j = 0; j &lt; newList.Count; j++) {\n            Console.WriteLine (newList [j].startTime);\n            myItems.Add (new ReservationTime () {\n                StartTime = Convert.ToDateTime (newList [j].startTime), EndTime = Convert.ToDateTime (newList [j].endTime)\n            });\n        }\n        MyListViewAdapter myadapter = new MyListViewAdapter (this, myItems);\n\n        if (myadapter.IsEmpty) {\n            Toast.MakeText (this, \"There are no reservations for today\", ToastLength.Long).Show ();\n        } else {\n            mListView.Adapter = myadapter;\n        }\n\n    }\n\n    void ShowDay6_Click (object sender, EventArgs e)\n    {\n        totalDays = int.Parse (showDay6.Text) - DateTime.Today.Day;\n        chosenDateCP = DateTime.Today.AddDays (totalDays);\n\n        myItems.Clear ();\n        newList.Clear ();\n        mListView.Adapter = null;\n\n        for (int i = 0; i &lt; result.Count; i++) {\n            Console.WriteLine (Convert.ToDateTime (result [i].startTime));\n            if (Convert.ToDateTime (result [i].startTime).Date == chosenDateCP.Date &amp;&amp; result [i].chargingPointID == myCPID) {\n\n                var newReservation = new WeekReservationClass ();\n\n                newReservation._id = result [i]._id;\n                newReservation.endTime = result [i].endTime;\n                newReservation.startTime = result [i].startTime;\n                newReservation.chargingPointID = result [i].chargingPointID;\n                newReservation.userID = result [i].userID;\n                newReservation.__v = result [i].__v;\n                newReservation.modified_at = result [i].modified_at;\n                newReservation.created_at = result [i].created_at;\n\n                newList.Add (newReservation);\n            } else {\n                Console.WriteLine (\"failed\");\n            }\n        }\n        for (int j = 0; j &lt; newList.Count; j++) {\n            Console.WriteLine (newList [j].startTime);\n            myItems.Add (new ReservationTime () {\n                StartTime = Convert.ToDateTime (newList [j].startTime), EndTime = Convert.ToDateTime (newList [j].endTime)\n            });\n        }\n        MyListViewAdapter myadapter = new MyListViewAdapter (this, myItems);\n\n        if (myadapter.IsEmpty) {\n            Toast.MakeText (this, \"There are no reservations for today\", ToastLength.Long).Show ();\n        } else {\n            mListView.Adapter = myadapter;\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>ReservationHoursActivity.cs</strong></p>\n\n<p>Code for making a reservation and submit it to the webwervice</p>\n\n<pre><code>namespace iChargeClassTest\n{\n[Activity (Label = \"ReservationHoursActivity\", Theme = \"@android:style/Theme.NoTitleBar\")]          \npublic class ReservationHoursActivity : Activity, TimePickerDialog.IOnTimeSetListener\n{\n    string myDate;\n    string myCP_ID;\n    string selectedButtonDate;\n\n    Button submitButtonMyslot;\n\n    protected override void OnCreate (Bundle savedInstanceState)\n    {\n        base.OnCreate (savedInstanceState);\n        SetContentView (Resource.Layout.ReservationHoursLayout);\n\n        myDate = Settings.ChosenReservationDate;\n        myCP_ID = Settings.CharchingPoint_ID;\n\n        submitButtonMyslot = FindViewById&lt;Button&gt; (Resource.Id.btnSubmitSlot);\n        submitButtonMyslot.Click += SubmitButtonMyslot_Click;\n\n        /*\n        Code for time picker\n        */\n    }\n\n    /*\n        methodes for time picker\n    */\n\n    //submit reservation\n    async void SubmitButtonMyslot_Click (object sender, EventArgs e)\n    {\n        //post submitted data to webservice\n        try {\n            string stringDateTimeEND = Convert.ToDateTime (myDate).ToShortDateString () + \" \" + Convert.ToDateTime (time_display_End.Text).ToLongTimeString ();\n            string stringDateTimeSTART = Convert.ToDateTime (myDate).ToShortDateString () + \" \" + Convert.ToDateTime (time_display_Start.Text).ToLongTimeString ();\n\n            DateTime dtEnd = Convert.ToDateTime (stringDateTimeEND);\n            DateTime dtStart = Convert.ToDateTime (stringDateTimeSTART);\n\n            string utcEnd = dtEnd.ToUniversalTime ().ToString (\"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'Z'\");\n            string utcStart = dtStart.ToUniversalTime ().ToString (\"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'Z'\");\n\n            var postData = \"endTime=\" + utcEnd;\n            postData += \"&amp;startTime=\" + utcStart;\n            postData += \"&amp;chargingPointID=\" + myCP_ID;\n            postData += \"&amp;userID=\" + Settings.User_ID;\n\n            string pathUrl = \"reservations/add\";\n\n            var post_response = await RequestClass.PostData (postData, pathUrl, Settings.Token);\n\n            Toast.MakeText (this, \"Your Booking is succefully send!\", ToastLength.Long).Show ();\n\n            //restart weekactivity to refresh\n            var intent = new Intent (this, typeof(WeekViewActivity));\n            intent.SetFlags (ActivityFlags.ClearTop);\n            StartActivity (intent);\n\n            Finish ();//close the reservationHoursActivity\n\n        } catch (WebException exception) {\n            string responseText;\n            using (var reader = new StreamReader (exception.Response.GetResponseStream ())) {\n                responseText = reader.ReadToEnd ();\n                Console.WriteLine (responseText);\n            }\n            Toast.MakeText (this, \"Reservation Failed!\", ToastLength.Long).Show ();\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "wpf", "user-controls", "listbox", "observablecollection"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1458764703, "post_id": 36187185, "comment_id": 60011289, "body": "(this is sketchy, I&#39;m on my way out of the office, but i hope it helps): index is an index into FileDisplay. Don&#39;t use it to remove items from FileSelected, which has far fewer items. If only Item 3 is selected, FileSelected has ONE item in it. Then the user unchecks Item 3, and you remove item 3 from FileSelected, which has one item. Of course it throws an exception. You need to find the index of that item in FileSelected, which has its own IndexOf method. Also, if you want your dependency property to have an initial value, assign it one in the constructor."}, {"owner": {"reputation": 414, "user_id": 5327728, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/0M0xF.png?s=128&g=1", "display_name": "lecloneur", "link": "https://stackoverflow.com/users/5327728/lecloneur"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1458807773, "post_id": 36187185, "comment_id": 60025300, "body": "that was it, thank you"}], "answers": [{"tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 1, "last_activity_date": 1458826276, "creation_date": 1458826276, "answer_id": 36201411, "question_id": 36187185, "link": "https://stackoverflow.com/questions/36187185/togglebuttons-click-event-in-listbox/36201411#36201411", "title": "togglebutton&#39;s click event in listbox", "body": "<p>You've got two collections: <code>FileDisplay</code> and <code>FileSelected</code>. <code>FileSelected</code> holds a subset, at times an empty subset, of the items in <code>FileDisplay</code>. </p>\n\n<p>Your variable <code>index</code> there is an index into <code>FileDisplay</code>. Where you're running into trouble is you're using it as an index into <code>FileSelected</code> as well. That's a problem because in virtually all cases, the two collections don't contain the same items in the same order. </p>\n\n<p>Consider a case where you have five items in <code>FileDisplay</code>, the user selects <code>FileDisplay[2]</code>, and you add that item to <code>FileSelected</code>. Then he unselects that item, and you remove <code>FileSelected[2]</code>. It'll throw an exception because <code>FileSelected</code> has only one item, at index <code>0</code>. </p>\n\n<p>You can then simplify it by not messing with indexes. <code>ObservableCollection&lt;T&gt;.Remove(T)</code> should work fine. </p>\n\n<pre><code>private void ListCheck_Click(object sender, RoutedEventArgs e)\n{\n    ToggleButton btn = (ToggleButton)sender;\n    int index = FileListBox.Items.IndexOf(btn.DataContext);\n    var item = FileDisplay[index];\n\n    //  This will probably work instead of messing with the index:\n    //  var item = btn.DataContext as WhateverTypeFileSelectedContains;\n\n    //  No need to compare a bool to true. \n    if (btn.IsChecked)\n    {\n        FileSelected.Add(item);\n    }\n    else if (FileSelected.Contains(item))\n    {\n        FileSelected.Remove(item);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 5327728, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/0M0xF.png?s=128&g=1", "display_name": "lecloneur", "link": "https://stackoverflow.com/users/5327728/lecloneur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 36201411, "answer_count": 1, "score": 0, "last_activity_date": 1458826276, "creation_date": 1458761698, "last_edit_date": 1458776407, "question_id": 36187185, "link": "https://stackoverflow.com/questions/36187185/togglebuttons-click-event-in-listbox", "title": "togglebutton&#39;s click event in listbox", "body": "<p>here is a part of a usercontrol I'm working on, a list of filenames where I can check a togglebutton to select some of them :</p>\n\n<pre><code>&lt;ListBox x:Name=\"FileListBox\" Template=\"{DynamicResource BaseListBoxControlStyle}\" Grid.RowSpan=\"5\" Grid.Row=\"1\" Margin=\"0\" ItemContainerStyle=\"{DynamicResource BaseListBoxItemStyle}\" ItemsSource=\"{Binding DataContext.FileDisplay, ElementName=F_Selector, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\" ScrollViewer.HorizontalScrollBarVisibility=\"Disabled\" HorizontalContentAlignment=\"Stretch\"&gt;\n        &lt;ListBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;DockPanel&gt;\n                        &lt;Button x:Name=\"ListDelete\" Width=\"{Binding ActualHeight, ElementName=ListDelete}\" Style=\"{DynamicResource BaseButtonStyle}\" Margin=\"4,0,0,0\" DockPanel.Dock=\"Right\" Content=\"X\" Click=\"FileDelete_Click\"/&gt;\n                        &lt;StackPanel HorizontalAlignment=\"Left\" Orientation=\"Horizontal\"&gt;\n                            &lt;ToggleButton x:Name=\"ListCheck\" Click=\"ListCheck_Click\" Width=\"{Binding ActualHeight, ElementName=ListCheck}\"  Margin=\"0,0,4,0\" /&gt;\n                            &lt;TextBlock Text=\"{Binding ., Converter={StaticResource PathToFileName}}\"/&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DockPanel&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListBox.ItemTemplate&gt;\n    &lt;/ListBox&gt;\n</code></pre>\n\n<p>Now when I click a togglebutton I'm raising this event :</p>\n\n<pre><code>    private void ListCheck_Click(object sender, RoutedEventArgs e)\n    {\n        ToggleButton btn = (ToggleButton)sender;\n        int index = FileListBox.Items.IndexOf(btn.DataContext);\n        if (btn.IsChecked == true)\n        {\n            FileSelected.Add(FileDisplay[index]);\n        }\n        else\n        {\n            FileSelected.RemoveAt(index);\n        }\n    }\n</code></pre>\n\n<p>So I am adding/removing filename from this observablecollection :</p>\n\n<pre><code>    private ObservableCollection&lt;string&gt; _FileSelected = new ObservableCollection&lt;string&gt;();\n    public ObservableCollection&lt;string&gt; FileSelected\n    {\n        get { return _FileSelected; }\n        set { _FileSelected = value; }\n    }\n</code></pre>\n\n<p>In my final project, this listbox usercontrol is contained into another usercontrol used 6 times into a (final) one.</p>\n\n<p>When I test the usercontrol, checking randomly togglebuttons, I can see with the debugger that some filenames are duplicated in the collection and when that happens, an exception E0434352 is thrown.</p>\n\n<p>Also, FileSelected is now an observablecollection, but if I make it a dependencyproperty of type observablecollection to be able to bind it, then it is always null and throw the same exception everytime I click a toggle.</p>\n\n<p>Any idea what I'm doing wrong ? thank you</p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1458780217, "post_id": 36187143, "comment_id": 60017384, "body": "<i>&quot;Using a timer ... feels like overkill/abuse&quot;</i>.  &quot;write my own threads&quot; is arguably overkill.  For WinForms, a <code>BackgroundWorker</code> is your best bet as it is available on .NET 2+.  Otherwise use <code>Task</code>"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458761846, "post_id": 36187209, "comment_id": 60009724, "body": "I am not so much interested in style as I in making sure I am not abusing the background worker. though just not using background worker solves the abuse issue if it was one."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3723271"}, "reply_to_user": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458762006, "post_id": 36187209, "comment_id": 60009810, "body": "I don&#39;t believe you&#39;re abusing it. Backgroundworker should be able to handle everything."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458763875, "post_id": 36187209, "comment_id": 60010814, "body": "In fact, a BackgroundWorker is also just Thread, so you cannot &#39;abuse&#39; it. But it&#39;s a bit heavier than a plain thread, because it has additional features (report progress event, completed event, ...) out of the box. If you need these features use a BgWorker. If you don&#39;t need them use a plain thread."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3723271"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761926, "last_edit_date": 1495539943, "creation_date": 1458761747, "answer_id": 36187209, "question_id": 36187143, "link": "https://stackoverflow.com/questions/36187143/should-i-use-a-backround-worker-or-write-my-own-threads/36187209#36187209", "title": "Should I use a Backround worker or write my own threads", "body": "<p>I personally use threads. Backgroundworkers take up too much code for me. If you have the thread as a global variable, you can kill or start the thread at will.</p>\n\n<p>Take a look here: <a href=\"https://stackoverflow.com/questions/1506838/backgroundworker-vs-background-thread\">BackgroundWorker vs background Thread</a></p>\n\n<p>For both a thread and backgroundworker you're able to see if they're running. If they're running then you're able to either disable the button if it's running or make it so the button does nothing. For what you're doing, I recommend background worker.</p>\n"}, {"comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 1, "creation_date": 1458780888, "post_id": 36187277, "comment_id": 60017580, "body": "Consider improving your answer. <i><a href=\"http://meta.stackexchange.com/questions/148272/is-there-any-benefit-to-allowing-code-only-answers-while-blocking-code-only-ques\">Code-only answers may fall under &#39;Very Low Quality&#39; ...and are candidates for deletion....We&#39;ve always touted that we aren&#39;t a code factory. We are the people who teach others to fish. Code-only answers only feed a person for a day</a></i>"}], "tags": [], "owner": {"reputation": 33, "user_id": 5879603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1973fcbb485e0c0984d600ca73e6f294?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Ribeiro", "link": "https://stackoverflow.com/users/5879603/gabriel-ribeiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762022, "creation_date": 1458762022, "answer_id": 36187277, "question_id": 36187143, "link": "https://stackoverflow.com/questions/36187143/should-i-use-a-backround-worker-or-write-my-own-threads/36187277#36187277", "title": "Should I use a Backround worker or write my own threads", "body": "<pre><code>protected void btnPause_Click(object sender, EventArgs e)\n    {\n        System.ComponentModel.BackgroundWorker disableWorker = new System.ComponentModel.BackgroundWorker();\n        disableWorker.DoWork += new System.ComponentModel.DoWorkEventHandler(disableWorker_DoWork);\n        disableWorker.RunWorkerCompleted += new System.ComponentModel.RunWorkerCompletedEventHandler(disableWorker_RunWorkerCompleted);\n        disableWorker.RunWorkerAsync();\n    }\n\n    void disableWorker_RunWorkerCompleted(object sender, System.ComponentModel.RunWorkerCompletedEventArgs e)\n    {\n        btnPause.Enabled = true;\n    }\n\n    void disableWorker_DoWork(object sender, System.ComponentModel.DoWorkEventArgs e)\n    {\n        btnPause.Enabled = false;\n        System.Threading.Thread.Sleep(10000);            \n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458826653, "post_id": 36187715, "comment_id": 60036394, "body": "I store the data for the pause event in a class Called PauseEvent, Should Entry be my PauseEvent class or is there a premade entry class i have to use?"}, {"owner": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458828119, "post_id": 36187715, "comment_id": 60037383, "body": "I want to add events to the queue on the second click of the pause button. I am only adding one event on each second click of the button so do i just call  <code>pendingEntries.Add()</code> and <code>pendingEntries.CompleteAdding()</code> in the PauseButton_Click() method? The consumer method just goes into the MainForm class right? Where would the PendingEntries and loggingtask definitions go?"}, {"owner": {"reputation": 559, "user_id": 3670353, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002034325645/picture?type=large", "display_name": "Dave Tillman", "link": "https://stackoverflow.com/users/3670353/dave-tillman"}, "reply_to_user": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458838650, "post_id": 36187715, "comment_id": 60044834, "body": "In my example code, Entry can be anything you choose.  It sounds like your PauseEvent class could go there."}, {"owner": {"reputation": 559, "user_id": 3670353, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002034325645/picture?type=large", "display_name": "Dave Tillman", "link": "https://stackoverflow.com/users/3670353/dave-tillman"}, "reply_to_user": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458838730, "post_id": 36187715, "comment_id": 60044883, "body": "You only need to call pendingEntries.Add().  CompeteAdding is only used when you want to shut down the task when you are all done."}, {"owner": {"reputation": 559, "user_id": 3670353, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002034325645/picture?type=large", "display_name": "Dave Tillman", "link": "https://stackoverflow.com/users/3670353/dave-tillman"}, "reply_to_user": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "edited": false, "score": 0, "creation_date": 1458838848, "post_id": 36187715, "comment_id": 60044962, "body": "Put <b>pendingEntries</b> and <b>loggingTask</b> anywhere you choose.  MainForm is probably fine. You can probably find more complete examples using an internet search."}], "tags": [], "owner": {"reputation": 559, "user_id": 3670353, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002034325645/picture?type=large", "display_name": "Dave Tillman", "link": "https://stackoverflow.com/users/3670353/dave-tillman"}, "is_accepted": true, "score": 2, "last_activity_date": 1459441377, "last_edit_date": 1459441377, "creation_date": 1458763545, "answer_id": 36187715, "question_id": 36187143, "link": "https://stackoverflow.com/questions/36187143/should-i-use-a-backround-worker-or-write-my-own-threads/36187715#36187715", "title": "Should I use a Backround worker or write my own threads", "body": "<p>I would use a ConcurrentQueue wrapped in a BlockingCollection class, and use a Task to watch the collection.  </p>\n\n<pre><code>var pendingEntries = new BlockingCollection&lt;List&lt;Entry&gt;&gt;(new ConcurrentQueue&lt;List&lt;Entry&gt;&gt;());\nvar loggingTask = System.Threading.Tasks.Task.Factory.StartNew(ConsumerTask, pendingEntries);\n</code></pre>\n\n<p>The class Entry is a container for whatever you want to record at once.</p>\n\n<p>The consumer task looks like this:</p>\n\n<pre><code>private void ConsumerTask(object parameter) \n{\n    var localPendingEntries = (BlockingCollection&lt;List&lt;Entry&gt;&gt;)parameter;\n    foreach (var entry in localPendingEntries.GetConsumingEnumerable())\n    {\n       // push the 'entry' where you want.\n    }\n}\n</code></pre>\n\n<p>To add entries to the queue do this:</p>\n\n<pre><code>var newEntry = new Entry(......);\npendingEntries.Add(newEntry);\n</code></pre>\n\n<p>When you are done adding entries, call this:</p>\n\n<pre><code>pendingEntries.CompleteAdding();\n</code></pre>\n\n<p>The task will fall out of the <strong>foreach</strong> loop once it has finished processing the entries currently in the queue.</p>\n\n<p>You can then wait for the task to complete with:</p>\n\n<pre><code>loggingTask.Wait();\npendingEntries.Dispose();\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 5999614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/74a3486308f571de3436db16bd9e2aa5?s=128&d=identicon&r=PG&f=1", "display_name": "user5999614", "link": "https://stackoverflow.com/users/5999614/user5999614"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 36187715, "answer_count": 3, "score": 0, "last_activity_date": 1459441377, "creation_date": 1458761560, "question_id": 36187143, "link": "https://stackoverflow.com/questions/36187143/should-i-use-a-backround-worker-or-write-my-own-threads", "title": "Should I use a Backround worker or write my own threads", "body": "<p>So we have a program that has a pause button in the main UI. When the pause button is pressed a time stamp is saved and when pressed again another timestamp is then created, the time diff between the two is calculated and then then all 3 values along with a user name are sent to a db using <code>WebClient</code>. The problem is that if the button is pressed multiple times rapidly the there are issues with getting all the data sent.</p>\n\n<p>I had the idea to make a queue and instead of the pause button sending the data it would write it to a queue and then have a separate thread check the queue and handle the handle the sending. </p>\n\n<p>Using a timer to fire a background worker every x-seconds for the simple task of reading a queue and sending data if its there feels like overkill/abuse. Am I right and this is more of regular thread kind of job or is the background worker the way to go?</p>\n"}, {"tags": ["c#", "class", "properties"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1458761693, "post_id": 36187122, "comment_id": 60009647, "body": "Instead of having all those separate variables, it looks like you want a <code>List&lt;Deepa&gt;</code> or similar."}, {"owner": {"reputation": 623, "user_id": 650113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n7lSa.jpg?s=128&g=1", "display_name": "Andy Wiesendanger", "link": "https://stackoverflow.com/users/650113/andy-wiesendanger"}, "edited": false, "score": 0, "creation_date": 1458761976, "post_id": 36187122, "comment_id": 60009791, "body": "You want to access properties, but don&#39;t know the name until runtime? You probably want to look at Reflection."}, {"owner": {"reputation": 1, "user_id": 5873798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CmDUg.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/5873798/felipe"}, "edited": false, "score": 0, "creation_date": 1458766644, "post_id": 36187122, "comment_id": 60012375, "body": "i tried to create a list but i didnt get it inside a class, how i said im really novate on c#"}], "owner": {"reputation": 1, "user_id": 5873798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CmDUg.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/5873798/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458761664, "creation_date": 1458761504, "last_edit_date": 1458761664, "question_id": 36187122, "link": "https://stackoverflow.com/questions/36187122/properties-of-class-with-same-termination-that-i-want-to-read-one-by-one", "title": "properties of class with same termination, that i want to read one by one", "body": "<p>Look i really tried to ask very well but maybe i didnt make me understand i have this class</p>\n\n<pre><code>public class Deepa\n{\n    public string Nombre  { get; set; }\n    public string capital { get; set; }\n    public int x_location { get; set; }\n    public int y_location { get; set; }\n\n\n    public Deepa conexion1 { get; set; }\n    public Deepa conexion2 { get; set; }\n    public Deepa conexion3 { get; set; }\n    public Deepa conexion4 { get; set; }\n    public Deepa conexion5 { get; set; }\n    public Deepa conexion6 { get; set; }\n    public Deepa conexion7 { get; set; }\n\n}\n</code></pre>\n\n<p>and I have created a </p>\n\n<pre><code>Deepa Guajira_d   = new Deepa();\n</code></pre>\n\n<p>then I have to setup on each deepa ,on Each connection because always is different</p>\n\n<pre><code>// 1. Carga Guajira\nGuajira_d.Nombre = Guajira.Name.ToString();\nGuajira_d.capital = \"Riohacha\";\nGuajira_d.x_location = Int32.Parse(Guajira.Location.X.ToString());\nGuajira_d.y_location = Int32.Parse(Guajira.Location.Y.ToString());\n\nGuajira_d.conexion1 = Magdalena_d;\nGuajira_d.conexion2 = Cesar_d;\nGuajira_d.conexion3 = null;\nGuajira_d.conexion4 = null;\nGuajira_d.conexion5 = null;\nGuajira_d.conexion6 = null;\nGuajira_d.conexion7 = null;\n</code></pre>\n\n<p>now i want to read each connection of the actual deepa like this</p>\n\n<pre><code>for (int i = 1; i &lt;= 7; i++)\n{\n    if (Guajira_d.conexion[i] == null) { }\n}\n</code></pre>\n\n<p>could you introduce me on how to do it, im really novate with c#</p>\n"}, {"tags": ["c#", "visual-studio", "windows-phone-8.1"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 3, "creation_date": 1458761542, "post_id": 36187093, "comment_id": 60009565, "body": "Time to attach the debugger and inspect your variables."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 5, "creation_date": 1458761579, "post_id": 36187093, "comment_id": 60009578, "body": "Why do you think you should replace <code>.</code> by <code>,</code>?"}, {"owner": {"reputation": 41, "user_id": 5952895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3UMJ.jpg?s=128&g=1", "display_name": "F. Pajic", "link": "https://stackoverflow.com/users/5952895/f-pajic"}, "edited": false, "score": 0, "creation_date": 1458761702, "post_id": 36187093, "comment_id": 60009648, "body": "Because when this happened in the last app that fixed it"}, {"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 1, "creation_date": 1458761789, "post_id": 36187093, "comment_id": 60009689, "body": "double.TryParse(&quot;5,0&quot;) returns 50. You shouldn&#39;t be replacing the period with a comma."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 3, "creation_date": 1458761837, "post_id": 36187093, "comment_id": 60009718, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1354924/how-do-i-parse-a-string-with-a-decimal-point-to-a-double\">How do I parse a string with a decimal point to a double?</a>"}, {"owner": {"reputation": 41, "user_id": 5952895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3UMJ.jpg?s=128&g=1", "display_name": "F. Pajic", "link": "https://stackoverflow.com/users/5952895/f-pajic"}, "edited": false, "score": 0, "creation_date": 1458761856, "post_id": 36187093, "comment_id": 60009729, "body": "Tried deleting that replace line fixed it. Thanks allot! Was i stupid"}], "answers": [{"tags": [], "owner": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762069, "last_edit_date": 1458762069, "creation_date": 1458761842, "answer_id": 36187226, "question_id": 36187093, "link": "https://stackoverflow.com/questions/36187093/calculations-not-correct/36187226#36187226", "title": "Calculations not correct", "body": "<p>That should work just fine double.TryParse() handles commas and full stops:</p>\n\n<pre><code>private void sum_Click(object sender, RoutedEventArgs e)\n{\n    double n1;\n    double n2;\n    double n3;\n\n\n    if (double.TryParse(num1.Text, out n1)\n        &amp;&amp; double.TryParse(num2.Text, out n2)\n        &amp;&amp; double.TryParse(num3.Text, out n3))\n    {\n        double sum = n1 * 4 + n2 * 5 + n3 * 5;\n        sum1.Text = sum.ToString();\n    }\n    else\n    {\n        sum1.Text = \"Unesi sve!\";\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p><a href=\"https://dotnetfiddle.net/ncFLxF\" rel=\"nofollow\">Here</a>'s a small example that uses strings as input instead of textboxes</p>\n"}, {"tags": [], "owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "is_accepted": true, "score": 1, "last_activity_date": 1458762407, "last_edit_date": 1458762407, "creation_date": 1458761936, "answer_id": 36187250, "question_id": 36187093, "link": "https://stackoverflow.com/questions/36187093/calculations-not-correct/36187250#36187250", "title": "Calculations not correct", "body": "<p>You're changing <code>.</code> by <code>,</code>. Surely the <code>,</code> is <code>NumberGroupSeparator</code> in your current <code>CultureInfo</code>. Therefore <code>5,0</code> will be parsed as <code>50</code>:</p>\n\n<pre><code>50 * 4 + 50 * 5 + 5 * 5 == 475\n</code></pre>\n\n<p>Just dont replace <code>.</code> and your code will be fine:</p>\n\n<pre><code>if (double.TryParse(num1.Text, out n1) &amp;&amp;\n    double.TryParse(num2.Text, out n2) &amp;&amp;\n    double.TryParse(num3.Text, out n3)) ...\n</code></pre>\n\n<p>If you want use <code>,</code> as decimal separator:</p>\n\n<pre><code>var culture = CultureInfo.CurrentCulture.Clone() as CultureInfo;\nculture.NumberFormat.NumberDecimalSeparator = \",\";\n\n\nif (double.TryParse(num1.Text, NumberStyles.Float, culture, out n1) &amp;&amp;\n    double.TryParse(num2.Text, NumberStyles.Float, culture, out n2) &amp;&amp;\n    double.TryParse(num3.Text, NumberStyles.Float, culture, out n3)) ...\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5952895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3UMJ.jpg?s=128&g=1", "display_name": "F. Pajic", "link": "https://stackoverflow.com/users/5952895/f-pajic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 36187250, "answer_count": 2, "score": -3, "last_activity_date": 1458771392, "creation_date": 1458761393, "last_edit_date": 1458771392, "question_id": 36187093, "link": "https://stackoverflow.com/questions/36187093/calculations-not-correct", "title": "Calculations not correct", "body": "<p>I'm developing an app in C# in Visual Studio and when the button is pressed calculations aren't correct. Let me explain when numbers are <code>5 5 5</code> result is <code>70</code> but when numbers are <code>5.0 5.0 5</code> the result is <code>475</code>. It calculates numbers like they aren't decimals. If someone could help me that would be great. Thanks!</p>\n\n<pre><code>private void sum_Click(object sender, RoutedEventArgs e)\n{\n    double n1;\n    double n2;\n    double n3;\n\n\n    if (double.TryParse(num1.Text.Replace(\".\", \",\"), out n1)\n        &amp;&amp; double.TryParse(num2.Text.Replace(\".\", \",\"), out n2)\n        &amp;&amp; double.TryParse(num3.Text.Replace(\".\", \",\"), out n3))\n    {\n        double sum = n1 * 4 + n2 * 5 + n3 * 5;\n        String m = Convert.ToString(sum);\n        sum1.Text = m;\n    }\n    else\n    {\n        sum1.Text = \"Unesi sve!\";\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "wpf", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1458797025, "creation_date": 1458797025, "answer_id": 36193761, "question_id": 36187072, "link": "https://stackoverflow.com/questions/36187072/textblock-in-c-get-an-empty-value-in-roweditending-in-datagrid/36193761#36193761", "title": "TextBlock in c# get an empty value in RowEditEnding in datagrid", "body": "<ol>\n<li>Use <a href=\"https://msdn.microsoft.com/en-us/library/ms752347%28v=vs.100%29.aspx\" rel=\"nofollow\">data binding</a> (and <a href=\"https://msdn.microsoft.com/en-us/library/ms742521%28v=vs.100%29.aspx\" rel=\"nofollow\">templating</a>, here done automatically by the data grid). The updated value will then be in your bound (view) model without any need for using that event.</li>\n<li>Don't use <code>ItemContainerGenerator</code>. If you need access to the UI items, then bind the relevant properties to your underlying view model.</li>\n</ol>\n"}], "owner": {"reputation": 47, "user_id": 6105728, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/546890525480515/picture?type=large", "display_name": "Ahmad Ali Mukashaty", "link": "https://stackoverflow.com/users/6105728/ahmad-ali-mukashaty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458797025, "creation_date": 1458761313, "question_id": 36187072, "link": "https://stackoverflow.com/questions/36187072/textblock-in-c-get-an-empty-value-in-roweditending-in-datagrid", "title": "TextBlock in c# get an empty value in RowEditEnding in datagrid", "body": "<p>I use RowEditEnding event in datagrid to get updated row and update my database in return </p>\n\n<pre><code>    private void OnUpdateOrInsertItem(object sender,DataGridRowEditEndingEventArgs e)\n    {\n        DataGridRow row1 = e.Row;\n\n        int row_index = ((DataGrid)sender).ItemContainerGenerator.IndexFromContainer(row1);\n        int numberOfColumns = ((DataGrid)sender).Columns.Count;\n        DataGridCell RowColumn = ((DataGrid)sender).Columns[1].GetCellContent(row1).Parent as DataGridCell;\n        string CellValue = ((TextBlock)RowColumn.Content).Text;\n        MessageBox.Show(CellValue);\n    }\n</code></pre>\n\n<p>but when I change cell which I print it in messageBox ,it returns an empty value on messageBox.\nI think the problem related to threads \nthis is my xml code </p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;DataGrid x:Name=\"datagrid1\" AutoGenerateColumns=\"true\" HorizontalAlignment=\"Left\" Margin=\"0,55,0,0\" VerticalAlignment=\"Top\" Height=\"248\" Width=\"672\"  RowEditEnding=\"OnUpdateOrInsertItem\" PreviewKeyDown=\"OnDeleteItem\"/&gt;\n    &lt;Button Content=\"Show Database\" HorizontalAlignment=\"Left\" Margin=\"54,10,0,0\" VerticalAlignment=\"Top\" Width=\"98\" RenderTransformOrigin=\"-0.193,-13.506\" Height=\"29\" Click=\"Button_Click_1\"/&gt;\n    &lt;ComboBox x:Name=\"comboBox1\" SelectedIndex=\"0\" HorizontalAlignment=\"Left\" Margin=\"469,17,0,0\" VerticalAlignment=\"Top\" Width=\"120\" Loaded=\"ComboBox_Loaded\"\n    SelectionChanged=\"ComboBox_SelectionChanged\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>how can I solve this problem or if there another way to get updated row in RowEditEnding event ?</p>\n"}, {"tags": ["c#", "nhibernate", "smartclient"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1458761975, "post_id": 36187026, "comment_id": 60009790, "body": "Nothing in the release notes? The visibility could be changed to internal."}], "answers": [{"comments": [{"owner": {"reputation": 5780, "user_id": 1978617, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5ec1cc5e6cc728a844b833e9231cd51?s=128&d=identicon&r=PG", "display_name": "Al Lelopath", "link": "https://stackoverflow.com/users/1978617/al-lelopath"}, "edited": false, "score": 0, "creation_date": 1458830260, "post_id": 36202364, "comment_id": 60038900, "body": "Using <code>IColleciton</code> does compile at least: <code>sb.Append (propertyName[i].ToLower() + &quot;=&quot; +                ((System.Collections.ICollection)state[i]).Count.ToString() + &quot; items&quot;);</code>. I&#39;ll test this when I get the other problems solved."}, {"owner": {"reputation": 60637, "user_id": 2658202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AigLC.jpg?s=128&g=1", "display_name": "Stefan Steinegger", "link": "https://stackoverflow.com/users/2658202/stefan-steinegger"}, "reply_to_user": {"reputation": 5780, "user_id": 1978617, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5ec1cc5e6cc728a844b833e9231cd51?s=128&d=identicon&r=PG", "display_name": "Al Lelopath", "link": "https://stackoverflow.com/users/1978617/al-lelopath"}, "edited": false, "score": 0, "creation_date": 1458831372, "post_id": 36202364, "comment_id": 60039696, "body": "If you are updating NHibernate, you should take a look at the release notes of all the versions since the one you used to use before. There are most often some more surprises at runtime ...."}], "tags": [], "owner": {"reputation": 60637, "user_id": 2658202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AigLC.jpg?s=128&g=1", "display_name": "Stefan Steinegger", "link": "https://stackoverflow.com/users/2658202/stefan-steinegger"}, "is_accepted": true, "score": 1, "last_activity_date": 1458829033, "creation_date": 1458829033, "answer_id": 36202364, "question_id": 36187026, "link": "https://stackoverflow.com/questions/36187026/the-type-or-namespace-name-persistentbag-does-not-exist-in-the-namespace-nhib/36202364#36202364", "title": "The type or namespace name &#39;PersistentBag&#39; does not exist in the namespace &#39;NHibernate.Collection&#39;", "body": "<p>There is no <code>PersistentBag</code> in NHibernate 4, only <code>PersistentGenericBag&lt;T&gt;</code>.</p>\n\n<p>It is an internal type of NH and not supposed to cast to.</p>\n\n<p>I don't know where this code is actually found. If it is your own, you could access <code>Count</code> by <code>IList</code> or <code>ICollection</code>, which are both implemented by the bag.</p>\n\n<p>If it is code from a framework you use, you probably have to use another NHibernate version.</p>\n"}, {"tags": [], "owner": {"reputation": 7983, "user_id": 527516, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2619ce251c73544ee0e5a8c9034be51f?s=128&d=identicon&r=PG", "display_name": "Daniel Williams", "link": "https://stackoverflow.com/users/527516/daniel-williams"}, "is_accepted": false, "score": 0, "last_activity_date": 1525661802, "creation_date": 1525661802, "answer_id": 50206508, "question_id": 36187026, "link": "https://stackoverflow.com/questions/36187026/the-type-or-namespace-name-persistentbag-does-not-exist-in-the-namespace-nhib/50206508#50206508", "title": "The type or namespace name &#39;PersistentBag&#39; does not exist in the namespace &#39;NHibernate.Collection&#39;", "body": "<p>I has code using this too.  It looks like you can replace the persistentBag cast with an IList cast.</p>\n"}], "owner": {"reputation": 5780, "user_id": 1978617, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5ec1cc5e6cc728a844b833e9231cd51?s=128&d=identicon&r=PG", "display_name": "Al Lelopath", "link": "https://stackoverflow.com/users/1978617/al-lelopath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 36202364, "answer_count": 2, "score": 0, "last_activity_date": 1525661802, "creation_date": 1458761178, "last_edit_date": 1458847761, "question_id": 36187026, "link": "https://stackoverflow.com/questions/36187026/the-type-or-namespace-name-persistentbag-does-not-exist-in-the-namespace-nhib", "title": "The type or namespace name &#39;PersistentBag&#39; does not exist in the namespace &#39;NHibernate.Collection&#39;", "body": "<p>I'm upgrading a Windows SmartClient solution from nHibernate 2.2 to 4.0, using NuGet in Visual Studio 2013.</p>\n\n<p>On this line:</p>\n\n<pre><code>sb.Append (\"=\" + ((NHibernate.Collection.PersistentBag) state[i]).Count.ToString() + \" items\");\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>The type or namespace name 'PersistentBag' does not exist in the namespace 'NHibernate.Collection'</p>\n</blockquote>\n\n<p>Suggested choices by Visual Studio (when typing the .) are:</p>\n\n<ul>\n<li>AbstractPersistentCollection</li>\n<li>Generic ( a namespace)</li>\n<li>IPersistentCollection (an interface)</li>\n<li>PersistentArrayHolder</li>\n</ul>\n\n<p>The second and third are not classes. The first and fourth does not have a <code>Count()</code> method.</p>\n\n<p>Which one have to be used in this case?</p>\n"}, {"tags": ["c#", "forms"], "comments": [{"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 1, "creation_date": 1458761167, "post_id": 36187003, "comment_id": 60009335, "body": "Hello, please post the code that you have and/or code that you have tried to give all of us a better idea on how to help you!"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 0, "creation_date": 1458763541, "post_id": 36187003, "comment_id": 60010622, "body": "Insert the title of your question in the search field and you will find thousands of answers on stackoverflow."}], "answers": [{"tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": true, "score": 2, "last_activity_date": 1458761282, "creation_date": 1458761282, "answer_id": 36187062, "question_id": 36187003, "link": "https://stackoverflow.com/questions/36187003/values-between-forms-c/36187062#36187062", "title": "Values between Forms c#", "body": "<p>Presumably the \"first form\" has some reference to the \"second form\"?  Something like this:</p>\n\n<pre><code>// somewhere in the \"first form\"\nvar secondForm = new SecondForm();\nsecondForm.Show();\n</code></pre>\n\n<p>In that case your <code>SecondForm</code> class can expose those values as properties.  Something like:</p>\n\n<pre><code>public class SecondForm : Form\n{\n    public string SomeProperty { get; set; }\n\n    // etc.\n</code></pre>\n\n<p>Internally, <code>SecondForm</code> would use that property like any instance variable.  Externally, other code can reference that property:</p>\n\n<pre><code>// somewhere in the \"first form\"\nvar something = secondForm.SomeProperty;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761800, "creation_date": 1458761800, "answer_id": 36187218, "question_id": 36187003, "link": "https://stackoverflow.com/questions/36187003/values-between-forms-c/36187218#36187218", "title": "Values between Forms c#", "body": "<p>you could also try to use <code>Server.Transfer()</code></p>\n\n<p>so in your first form:</p>\n\n<pre><code>protected void btnSendToForm2_Click(object sender, EventArgs e)\n{ \n        Server.Transfer(\"formB.aspx\",true );\n}\n</code></pre>\n\n<p>with the button being an ASP control on your first form\nThis will automatically submit/transfer all your form variables </p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6089926, "user_type": "registered", "profile_image": "https://graph.facebook.com/963175310417787/picture?type=large", "display_name": "Amer Saoud", "link": "https://stackoverflow.com/users/6089926/amer-saoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1458763817, "creation_date": 1458763817, "answer_id": 36187805, "question_id": 36187003, "link": "https://stackoverflow.com/questions/36187003/values-between-forms-c/36187805#36187805", "title": "Values between Forms c#", "body": "<p>do like that for first form</p>\n\n<pre><code>  namespace WindowsFormsApplication9\n    {\n        public partial class frm_main : Form\n        {\n            frm_main fm = new frm_main();\n            public frm_main()\n            {\n                InitializeComponent();\n                fm = this;\n            }\n            string name1, name2;\n</code></pre>\n\n<p>then in second form:\nfor example that variable name i call it from another form :\n<code>frm_main.fm.name</code>=\"any value\"</p>\n"}], "owner": {"reputation": 188, "user_id": 5994746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-q-SWDCUTkBE/AAAAAAAAAAI/AAAAAAAAAc4/WGqPrB8o_SU/photo.jpg?sz=128", "display_name": "Vexorei", "link": "https://stackoverflow.com/users/5994746/vexorei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1458777199, "accepted_answer_id": 36187062, "answer_count": 3, "score": 0, "last_activity_date": 1458763817, "creation_date": 1458761105, "question_id": 36187003, "link": "https://stackoverflow.com/questions/36187003/values-between-forms-c", "closed_reason": "Needs more focus", "title": "Values between Forms c#", "body": "<p>I need to read some values on my second form from the first one and I need to modify these values, so they can't be constants (they are strings and ints).\nHow can I do this?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "asp.net-mvc-4"], "answers": [{"tags": [], "owner": {"reputation": 1714, "user_id": 94669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23d90b4fe24bce8221897b6af0e28616?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/94669/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1458772331, "creation_date": 1458772331, "answer_id": 36189968, "question_id": 36186994, "link": "https://stackoverflow.com/questions/36186994/redirect-within-partial-view-in-mvc/36189968#36189968", "title": "Redirect within partial view in MVC", "body": "<p>I might be misunderstanding things.\nI think you're trying to flip a display view of a part of a page for an edit view of that part of the page.</p>\n\n<p>I'll keep things general, because there's not enough code to refer to directly.</p>\n\n<p>You should register javascript event handlers against the various clicks that can take place (in a jquery closure in a separate file is my personal preference). Those handlers should request whichever actions (returning partial views) are required.</p>\n\n<p>e.g. when someone clicks the edit link, the handler calls the /GetEditStuff action, gets the partial view, and on success, clears out the previous content of the parent div and replaces it with the partial view.</p>\n"}, {"comments": [{"owner": {"reputation": 1307, "user_id": 349877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f18b0745860fb06ec4764a036755c882?s=128&d=identicon&r=PG", "display_name": "Eitan", "link": "https://stackoverflow.com/users/349877/eitan"}, "edited": false, "score": 0, "creation_date": 1458827780, "post_id": 36191815, "comment_id": 60037158, "body": "This looks great! Quick question though, this doesn&#39;t break some sort of self containing encapsulation rule for the Details and Edit view if the handling for certain events exists outside of the view? I also want to load multiple views each with their own logic with their own edit and save urls."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 1307, "user_id": 349877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f18b0745860fb06ec4764a036755c882?s=128&d=identicon&r=PG", "display_name": "Eitan", "link": "https://stackoverflow.com/users/349877/eitan"}, "edited": false, "score": 0, "creation_date": 1458858280, "post_id": 36191815, "comment_id": 60055198, "body": "No, not at all. But note that I just gave the basic structure in the answer. There are lots of other things to consider, e.g. do you have client side validation, in which case you need to trigger it before saving."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 2, "last_activity_date": 1458783542, "creation_date": 1458783542, "answer_id": 36191815, "question_id": 36186994, "link": "https://stackoverflow.com/questions/36186994/redirect-within-partial-view-in-mvc/36191815#36191815", "title": "Redirect within partial view in MVC", "body": "<p>You will find this a it easier using the jQuery ajax methods rather than the <code>Ajax.ActionLink()</code> and <code>Ajax.BeginForm()</code> methods. In the main view</p>\n\n<pre><code>&lt;button type=\"button\" class=\"details\" data-id=\"Model.UserName\"&gt;View details&lt;/button&gt;\n&lt;div id=\"content\"&gt;&lt;/div&gt;\n\nvar detailsUrl = '@Url.Action(\"Details\", \"User\")';\nvar editUrl = '@Url.Action(\"Edit\", \"User\")';\n// Display the details view\n$('.details').click(function() {\n    $.get(detailsUrl, { id: $(this.data('id') }, function(response) {\n        $('#content').html(response);\n    });\n});\n// Display the edit view\n$('#content').on('click', '#edit', function() {\n    $.get(editUrl, { id: $(this.data('id') }, function(response) {\n        $('#content').html(response);\n    });\n});\n// Post the edit form and replace with the updated details view\n$('#content').on('click', '#save', function() {\n    var id = $(this).data('id');\n    var data = $(this).closest('form').serialize();\n    $.post(editUrl, data, function(response) {\n        if (response) {\n            $.get(detailsUrl, { id: id }, function() {\n                $('#content').html(response);\n            });\n        } else {\n            // Oops\n        }\n    }).fail(function (result) {\n        // Oops\n    });\n});\n</code></pre>\n\n<p>The above assumes a <code>UserController</code> with the following methods</p>\n\n<pre><code>public PartialViewResult Details(int ID) // or string?\n{\n    // Get the user model based on the ID\n    return PartialView(\"_Details\", model);\n}\npublic PartialViewResult Edit(int ID) // or string?\n{\n    // Get the user model based on the ID\n    return PartialView(\"_Edit\", model);\n}\npublic JsonResult Edit(UserModel model) // replace with the name of your model\n{\n    // Save the model\n    return Json(true); // indicate success\n}\n</code></pre>\n\n<p>where the partial views are</p>\n\n<p>_Details.cshtml</p>\n\n<pre><code>@model UserModel\n.... // display properties of the model\n&lt;button type=\"button\" id=\"edit\" data-id=\"Model.UserName\"&gt;Edit&lt;/button&gt;\n</code></pre>\n\n<p>_Edit.cshtml</p>\n\n<pre><code>@model UserModel\n&lt;form&gt;\n    .... // controls for properties of the model\n    &lt;button type=\"button\" id=\"save\" data-id=\"Model.UserName\"&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 349877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f18b0745860fb06ec4764a036755c882?s=128&d=identicon&r=PG", "display_name": "Eitan", "link": "https://stackoverflow.com/users/349877/eitan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2736, "favorite_count": 1, "accepted_answer_id": 36191815, "answer_count": 2, "score": 0, "last_activity_date": 1458783542, "creation_date": 1458761065, "last_edit_date": 1458761505, "question_id": 36186994, "link": "https://stackoverflow.com/questions/36186994/redirect-within-partial-view-in-mvc", "title": "Redirect within partial view in MVC", "body": "<p>I have kind of a weird scenario. I'm creating a site using the ASP.NET MVC Framework that contains a profile page which has a user's picture, info, etc. I have a view called Profile which loads partial views using the Ajax action link into a div. Here is an example:</p>\n\n<pre><code>    @Ajax.ActionLink(\"Basic Info\", \"Index\", \"BasicInfo\", \n    new {id=Model.UserName},new AjaxOptions\n    {\n        InsertionMode = InsertionMode.Replace,\n        UpdateTargetId = \"content\",\n        HttpMethod = \"GET\"\n    })\n</code></pre>\n\n<p>The Index action of BasicInfo just shows the user's basic information. I want to have an edit link in that partial view that when pressed loads another action method, Edit where I can edit the values (another partial view). I have a couple of questions:</p>\n\n<p>1) I didn't make Profile a layout even though it would be similar to a master page in ASP.NET because it would need a controller. Is there a way to create a layout that has its own controller?</p>\n\n<p>2) How do I do a redirect within a partial view without doing a postback i.e. updating the div holding the partial view that was previously called by Ajax to an edit view? </p>\n\n<p>3) I hope this all makes sense. I would see a profile with the person's basic information and I can press edit within that view and the edit view of that basic information controller is loaded into the div without doing a postback. What would be the best way to accomplish this?</p>\n"}, {"tags": ["c#", "exe"], "comments": [{"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1458760901, "post_id": 36186921, "comment_id": 60009141, "body": "What is the value of <code>ExePath</code>?"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1458760905, "post_id": 36186921, "comment_id": 60009146, "body": "What&#39;s the value of ExePath? And does that precise executable exist in your system?"}, {"owner": {"reputation": 15997, "user_id": 16725, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ym5wb.jpg?s=128&g=1", "display_name": "Paul-Jan", "link": "https://stackoverflow.com/users/16725/paul-jan"}, "edited": false, "score": 3, "creation_date": 1458760945, "post_id": 36186921, "comment_id": 60009166, "body": "You need to set the correct working directory. See <a href=\"http://stackoverflow.com/questions/114928/net-process-start-default-directory\" title=\"net process start default directory\">stackoverflow.com/questions/114928/&hellip;</a> ."}, {"owner": {"reputation": 75, "user_id": 5367357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/471172973055749/picture?type=large", "display_name": "Dani&#235;l Verhoef", "link": "https://stackoverflow.com/users/5367357/dani%c3%abl-verhoef"}, "edited": false, "score": 0, "creation_date": 1458760987, "post_id": 36186921, "comment_id": 60009198, "body": "For example:  Directory.GetCurrentDirectory()+&quot;\\\\Games\\\\Game.exe&quot;"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1458761062, "post_id": 36186921, "comment_id": 60009253, "body": "That will make it dependent on where your program is run from, which isn&#39;t necessarily the same directory as the assembly. You should use the absolute path of your executing assembly as the root in this instance, if the Game.exe always exists in the Games subfolder of the executing assembly."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1458761664, "post_id": 36186921, "comment_id": 60009628, "body": "make a breakpoint at <code>Process.Start(...)</code> and check the value of <code>ExePath</code>). Then open the explorer and check if the exact path exists."}], "answers": [{"tags": [], "owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "is_accepted": true, "score": 0, "last_activity_date": 1458761939, "last_edit_date": 1495540787, "creation_date": 1458761430, "answer_id": 36187113, "question_id": 36186921, "link": "https://stackoverflow.com/questions/36186921/how-to-start-a-program-with-process-start-without-that-the-program-cant-find-it/36187113#36187113", "title": "How to start a program with process.start without that the program can&#39;t find it&#39;s files", "body": "<p>You can build a full qualified path starting from your current application directory like this:</p>\n\n<pre><code>string exepath = Path.Combine(Environment.CurrentDirectory, \"Games\", \"Game.exe\");\nProcess.Start(exepath);\n</code></pre>\n\n<p><sub>adopted from <a href=\"https://stackoverflow.com/a/5077532/205233\">Specifying a relative path</a></sub></p>\n"}], "owner": {"reputation": 75, "user_id": 5367357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/471172973055749/picture?type=large", "display_name": "Dani&#235;l Verhoef", "link": "https://stackoverflow.com/users/5367357/dani%c3%abl-verhoef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1459199246, "accepted_answer_id": 36187113, "answer_count": 1, "score": -1, "last_activity_date": 1458761939, "creation_date": 1458760823, "question_id": 36186921, "link": "https://stackoverflow.com/questions/36186921/how-to-start-a-program-with-process-start-without-that-the-program-cant-find-it", "closed_reason": "Not suitable for this site", "title": "How to start a program with process.start without that the program can&#39;t find it&#39;s files", "body": "<p>I'm trying to make a program, which can open other programs, but I need help, because if I run a program,  with</p>\n\n<pre><code>Process.Start(ExePath)\n</code></pre>\n\n<p>I get errors like 'cannot find 'File.*' file'.\nbut normally the program works when I start it manually it just works normally\ndoes someone knows how to fix this?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net", "iis", "owin", "iis-express"], "comments": [{"owner": {"reputation": 54937, "user_id": 16587, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9ed3482ccbb461fbf8796b251caf8f4d?s=128&d=identicon&r=PG", "display_name": "George Stocker", "link": "https://stackoverflow.com/users/16587/george-stocker"}, "edited": false, "score": 0, "creation_date": 1458760807, "post_id": 36186892, "comment_id": 60009069, "body": "show us code that generates an error. It doesn&#39;t have to be your code; it just needs to reproduce the problem."}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "reply_to_user": {"reputation": 54937, "user_id": 16587, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9ed3482ccbb461fbf8796b251caf8f4d?s=128&d=identicon&r=PG", "display_name": "George Stocker", "link": "https://stackoverflow.com/users/16587/george-stocker"}, "edited": false, "score": 0, "creation_date": 1458761126, "post_id": 36186892, "comment_id": 60009303, "body": "There is no code generating the error. In the example I made a request to <code>https:&#47;&#47;localhost:44300</code>, and IIS directly returns a 403 status code. It&#39;s the same if I make a request to an non-existent endpoint (e.g. <code>localhost:44300&#47;somethingnonexisting</code>), and IIS returns a 404."}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "reply_to_user": {"reputation": 54937, "user_id": 16587, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9ed3482ccbb461fbf8796b251caf8f4d?s=128&d=identicon&r=PG", "display_name": "George Stocker", "link": "https://stackoverflow.com/users/16587/george-stocker"}, "edited": false, "score": 0, "creation_date": 1458762251, "post_id": 36186892, "comment_id": 60009926, "body": "Also note that at the moment there is nothing else in the Owin pipeline, just the middleware showed in the example."}], "answers": [{"tags": [], "owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "is_accepted": true, "score": 2, "last_activity_date": 1459516284, "creation_date": 1459516284, "answer_id": 36357270, "question_id": 36186892, "link": "https://stackoverflow.com/questions/36186892/duplicated-requests-when-debugging-asp-net-on-iis-express/36357270#36357270", "title": "Duplicated requests when debugging ASP.NET on IIS Express", "body": "<p>The issue was caused by multiple handlers trying to manage the unhandled request in IIS Express. I solved it by removing them in Web.config:</p>\n\n<pre><code>&lt;system.webServer&gt;\n    &lt;handlers&gt;\n        &lt;remove name=\"ExtensionlessUrlHandler-Integrated-4.0\" /&gt;\n        &lt;remove name=\"ExtensionlessUrlHandler-ISAPI-4.0_32bit\" /&gt;\n        &lt;remove name=\"ExtensionlessUrlHandler-ISAPI-4.0_64bit\" /&gt;\n        &lt;remove name=\"ExtensionlessUrl-Integrated-4.0\" /&gt;\n        &lt;remove name=\"ExtensionlessUrl-ISAPI-4.0_32bit\" /&gt;\n    &lt;/handlers&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n"}], "owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 1, "accepted_answer_id": 36357270, "answer_count": 1, "score": 5, "last_activity_date": 1459516284, "creation_date": 1458760701, "last_edit_date": 1458761813, "question_id": 36186892, "link": "https://stackoverflow.com/questions/36186892/duplicated-requests-when-debugging-asp-net-on-iis-express", "title": "Duplicated requests when debugging ASP.NET on IIS Express", "body": "<p>I noticed a strange behavior while debugging an ASP.NET Web Application (.NET 4.6.1). Whenever an HTTP error occurs (e.g. 404 or 403) the request get duplicated up to a total of 3 times.</p>\n\n<p>I have tested this singular issue using fiddler, and Intellitrace effectively shows me the three identical requests (even if I send just a single request).</p>\n\n<p><a href=\"https://i.stack.imgur.com/TSy7t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TSy7t.png\" alt=\"Fiddler\"></a>\n<a href=\"https://i.stack.imgur.com/lpXZ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lpXZ5.png\" alt=\"Intellitrace\"></a></p>\n\n<p>I can see the effects of this issue because any Owin middleware in the pipeline is invoked three times. A simple middleware like this:</p>\n\n<pre><code>app.Use(async (c, n) =&gt;\n{\n    Debug.WriteLine(\"HIT!\");\n    await n.Invoke();\n});\n</code></pre>\n\n<p>Will print three consecutive \"HIT!\" into the console.</p>\n\n<p>This happens only if the request generates an error, and not if the request is handled by a middleware (e.g. not if the middleware responds with a 2XX status code).</p>\n\n<p>What's going on?</p>\n\n<p>I'm running VS2015 and IIS Express 10 on Win10.</p>\n\n<p>[EDIT] It may be related to my Web.config configuration? I'm adding an excerpt from it.</p>\n\n<pre><code>&lt;system.web&gt;\n    &lt;compilation debug=\"true\" targetFramework=\"4.6.1\" /&gt;\n    &lt;httpRuntime targetFramework=\"4.6.1\" enableVersionHeader=\"false\" /&gt;\n&lt;/system.web&gt;\n&lt;system.webServer&gt;\n    &lt;httpProtocol&gt;\n        &lt;customHeaders&gt;\n            &lt;clear /&gt;\n        &lt;/customHeaders&gt;\n        &lt;redirectHeaders&gt;\n            &lt;clear /&gt;\n        &lt;/redirectHeaders&gt;\n    &lt;/httpProtocol&gt;\n    &lt;security&gt;\n        &lt;requestFiltering removeServerHeader=\"true\" /&gt;\n    &lt;/security&gt;\n    &lt;handlers&gt;\n        &lt;remove name=\"ExtensionlessUrlHandler-Integrated-4.0\" /&gt;\n        &lt;remove name=\"OPTIONSVerbHandler\" /&gt;\n        &lt;remove name=\"TRACEVerbHandler\" /&gt;\n        &lt;add name=\"ExtensionlessUrlHandler-Integrated-4.0\" path=\"*.\" verb=\"*\" type=\"System.Web.Handlers.TransferRequestHandler\" preCondition=\"integratedMode,runtimeVersionv4.0\" /&gt;\n    &lt;/handlers&gt;\n    &lt;modules runAllManagedModulesForAllRequests=\"true\" /&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n"}, {"tags": ["c#", "internet-explorer", "selenium", "selenium-webdriver", "automation"], "comments": [{"owner": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "edited": false, "score": 2, "creation_date": 1458767261, "post_id": 36186875, "comment_id": 60012692, "body": "Have you tried a <code>.Quit()</code> in your IWebDriver? Try it in the last teardown. It will close the browser and end the driver process."}, {"owner": {"reputation": 300, "user_id": 1701153, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ie9tK.jpg?s=128&g=1", "display_name": "Captain Kirk", "link": "https://stackoverflow.com/users/1701153/captain-kirk"}, "reply_to_user": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "edited": false, "score": 0, "creation_date": 1458774775, "post_id": 36186875, "comment_id": 60015833, "body": "I hadn&#39;t.  Quit() did the job.  Thank you!"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "reply_to_user": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "edited": false, "score": 1, "creation_date": 1458775228, "post_id": 36186875, "comment_id": 60016009, "body": "@Striter Alfa: why not post your comment as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 1068, "user_id": 5860267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DP1L7.jpg?s=128&g=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/5860267/prateek"}, "is_accepted": true, "score": 6, "last_activity_date": 1458814368, "creation_date": 1458814368, "answer_id": 36197684, "question_id": 36186875, "link": "https://stackoverflow.com/questions/36186875/how-to-kill-iedriverserver-exe-console-window-after-running-an-internetexplorerd/36197684#36197684", "title": "How to kill IEDriverServer.exe console window after running an InternetExplorerDriver Selenium test", "body": "<p>There are two ways: </p>\n\n<ol>\n<li><p>As suggested in comments <code>driver.quit()</code> will do the job.</p></li>\n<li><p>But sometimes our test fails and the Driver keeps running. To avoid having multiple instances of drivers you can use: <code>Runtime.getRuntime().exec(\"taskkill /T /F /IM IEDriverServer.exe\");</code>.</p></li>\n</ol>\n\n<p>The benefit of using this command is that even if your script doesn't run completely it would still kill the driver.</p>\n\n<p>You can use it in a number of places. For example:</p>\n\n<ol>\n<li>If you are using frameworks such as TestNG you can override onTestFailure(). </li>\n<li>You can add it in the beginning of your test so that if there are any instances already open they'll be killed.</li>\n<li>Or you can add in other places such as catch block.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 600941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksKqv.jpg?s=128&g=1", "display_name": "Tiago Freitas Leal", "link": "https://stackoverflow.com/users/600941/tiago-freitas-leal"}, "edited": false, "score": 0, "creation_date": 1510167792, "post_id": 36205102, "comment_id": 81324523, "body": "BTW use taskkill /f /fi &quot;pid gt 0&quot; /im MicrosoftWebDriver.exe for Edge."}], "tags": [], "owner": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "is_accepted": false, "score": 10, "last_activity_date": 1458836564, "last_edit_date": 1592644375, "creation_date": 1458836564, "answer_id": 36205102, "question_id": 36186875, "link": "https://stackoverflow.com/questions/36186875/how-to-kill-iedriverserver-exe-console-window-after-running-an-internetexplorerd/36205102#36205102", "title": "How to kill IEDriverServer.exe console window after running an InternetExplorerDriver Selenium test", "body": "<p>To complement the awser, some informations about the subject. There are 3 main methods that that you can use as you need:</p>\n<blockquote>\n<p><strong>.Close()</strong>: - This method is used to close the current open window. It closes the current open window on which driver has focus on.</p>\n<p><strong>.Quit()</strong>: - This method is used to destroy the instance of WebDriver. It closes all Browser Windows associated with that driver and safely ends the session. Quit() calls Dispose method to achieve this.</p>\n<p><strong>.Dispose()</strong>: - This method closes all Browser windows and safely ends the session\n<em>emphasized text</em></p>\n</blockquote>\n<p>In your case, as you need to kill the process, the best choice is use <code>.Quit()</code>.</p>\n<p>Sometimes you're unable to end the process when your selenium instance broke up, and the current and all next tests starts to fail, or even when you cancel a current debugging test suit. In this cases, you really need to kill the process.</p>\n<p>As @Prateek saw, one of they is using <code>Runtime.getRuntime()</code>. In C#, the better way to do it is:</p>\n<pre><code>foreach (var proc in Process.GetProcessesByName(&quot;IEDriverServer&quot;))\n{\n    proc.Kill();\n}\n</code></pre>\n<p>You can use it in the constructor where you start your WebDriver (but before to start it!) or, if you're using some lib as NUnit, you can create a global OneTimeSetUp. A kind of method that runs only one time before all test.</p>\n<p>Also, if you don't like to put code or create new methods to do this job, you can configure in yout main .csproj the <code>pre-build</code> and <code>post-build</code> to execute your cmd command. Whenever you will run your tests or build your project, it will kill the opened webdriver instance.</p>\n<p>To configure it you will need:</p>\n<ol>\n<li><p>Right button in your .csproj and click in &quot;Properties&quot;;</p>\n</li>\n<li><p>Navigate to &quot;Build Events&quot;;</p>\n</li>\n<li><p>Paste the command <code>taskkill /f /fi &quot;pid gt 0&quot; /im IEDriverServer.exe</code> in pre-build textarea, post-build or in both.</p>\n</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 600941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksKqv.jpg?s=128&g=1", "display_name": "Tiago Freitas Leal", "link": "https://stackoverflow.com/users/600941/tiago-freitas-leal"}, "edited": false, "score": 0, "creation_date": 1510168145, "post_id": 40971740, "comment_id": 81324726, "body": "Your solution makes me start the service by hand. I&#39;d prefer a solution based on the driver instance."}], "tags": [], "owner": {"reputation": 425, "user_id": 6732525, "user_type": "registered", "profile_image": "https://graph.facebook.com/1115604761857606/picture?type=large", "display_name": "Bruno Leit&#227;o", "link": "https://stackoverflow.com/users/6732525/bruno-leit%c3%a3o"}, "is_accepted": false, "score": 1, "last_activity_date": 1480932547, "creation_date": 1480932547, "answer_id": 40971740, "question_id": 36186875, "link": "https://stackoverflow.com/questions/36186875/how-to-kill-iedriverserver-exe-console-window-after-running-an-internetexplorerd/40971740#40971740", "title": "How to kill IEDriverServer.exe console window after running an InternetExplorerDriver Selenium test", "body": "<p>I think you should try this:</p>\n\n<pre><code>        InternetExplorerDriverService service = InternetExplorerDriverService.CreateDefaultService();\n\n        service.Start();\n\n        IWebDriver driver = new ThreadLocal&lt;IWebDriver&gt;(() =&gt; { return new InternetExplorerDriver(service); }).Value;\n\n        int pid = service.ProcessId;\n\n        // Do any automation you want with your driver...\n\n        driver.Quit(); // it calls Dispose\n        service.Dispose();\n\n        // And if you want to ensure... :-)\n\n        try { Process.GetProcessById(pid).Kill(); }\n        catch { }\n</code></pre>\n\n<p>Please, notice that it is suitable for Chrome, Firefox and other drives!</p>\n"}], "owner": {"reputation": 300, "user_id": 1701153, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ie9tK.jpg?s=128&g=1", "display_name": "Captain Kirk", "link": "https://stackoverflow.com/users/1701153/captain-kirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6700, "favorite_count": 0, "accepted_answer_id": 36197684, "answer_count": 3, "score": 3, "last_activity_date": 1480932547, "creation_date": 1458760651, "last_edit_date": 1458761404, "question_id": 36186875, "link": "https://stackoverflow.com/questions/36186875/how-to-kill-iedriverserver-exe-console-window-after-running-an-internetexplorerd", "title": "How to kill IEDriverServer.exe console window after running an InternetExplorerDriver Selenium test", "body": "<p>I'm running Selenium Webdriver through a Visual Studio Unit Test and using the InternetExplorerDriver.  This fires up IEDriverServer.exe in a console window.</p>\n\n<p>This works great and the test executes.  Once test execution finishes i'd like that cmd.exe window killed so that it's not hanging around for me to have to do manual cleanup.  I have thousands of tests so you can imagine the headache of managing this.</p>\n\n<p>Is there an elegant way to handle this without having to do post test execution and killing cmd.exe processes with kill.exe, etc?  I've tried InternetExplorerDriverService.HideCommandPromptWindow = true, but that just runs cmd.exe in hidden mode and leaves the process running until it's manually killed.  I've also tried InternetExplorerDriverService.SuppressInitialDiagnosticInformation and all that does is suppress some of the information written to the cmd.exe window.</p>\n"}, {"tags": ["c#", "sql", "ms-access-2013"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1458760588, "post_id": 36186763, "comment_id": 60008937, "body": "The Update query is wrong. Remove the single quotes around the parameter placeholders. In that way they are not marker for the paramenter but literal strings. Do you have any empty try/catch around this code?"}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458760756, "post_id": 36186763, "comment_id": 60009036, "body": "Those single quotes were just an experiment haha I did remove them and try it but still no success. I do not have a try/catch around the code"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1458760772, "post_id": 36186763, "comment_id": 60009049, "body": "Your method is too long as well - break your function into smaller components, and call them from the main method (or from each other).  That will enable you to test pieces independently, and enable reuse."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1458760853, "post_id": 36186763, "comment_id": 60009102, "body": "Anyway, I think that you should also add the missing part of the foreach and how do you execute the command"}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458760989, "post_id": 36186763, "comment_id": 60009201, "body": "@Steve Missing part of the Foreach? And - Oh.. Execute Command... must have missed that one"}, {"owner": {"reputation": 13687, "user_id": 1136527, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/LpVhn.jpg?s=128&g=1", "display_name": "Alex McMillan", "link": "https://stackoverflow.com/users/1136527/alex-mcmillan"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 3, "creation_date": 1458760994, "post_id": 36186763, "comment_id": 60009204, "body": "@DStanley I disagree.  This method is perfectly fine length-wise.  It&#39;s stupid how some people wrap every 2 lines of code in a function nowadays... and this function is doing a clear single task."}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1458761085, "post_id": 36186763, "comment_id": 60009269, "body": "@Steve The json response should change depending on the <code>@result </code>parameter that is entered in the url"}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 1, "creation_date": 1458761129, "post_id": 36186763, "comment_id": 60009308, "body": "So, where are you setting the parameter for the @result?"}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458761202, "post_id": 36186763, "comment_id": 60009359, "body": "@Nikki9696 woops updated the question, thank you!"}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 1, "creation_date": 1458761341, "post_id": 36186763, "comment_id": 60009449, "body": "And where is the call executed? Please post the whole foreach loop code?"}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458761686, "post_id": 36186763, "comment_id": 60009642, "body": "@Nikki9696 after declaring the result param my code ends - I left out an execute command - Should it be something like <code>testupdateCommand.ExecuteNonQuery();</code> ?"}, {"owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "reply_to_user": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 1, "creation_date": 1458761907, "post_id": 36186763, "comment_id": 60009755, "body": "@Nikki9696 i feel really dumb, It worked. So glad I asked instead of wasting hours trying to figure this out. Thank you"}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1458762354, "post_id": 36186763, "comment_id": 60009979, "body": "You are most welcome =)"}], "answers": [{"tags": [], "owner": {"reputation": 72, "user_id": 6038870, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-DG8QyHMo4u4/AAAAAAAAAAI/AAAAAAAAAIc/CsQDcOl6dOA/photo.jpg?sz=128", "display_name": "lesley belgium cuber houben", "link": "https://stackoverflow.com/users/6038870/lesley-belgium-cuber-houben"}, "is_accepted": true, "score": 2, "last_activity_date": 1460474454, "last_edit_date": 1460474454, "creation_date": 1460448047, "answer_id": 36567081, "question_id": 36186763, "link": "https://stackoverflow.com/questions/36186763/why-does-this-loop-not-loop/36567081#36567081", "title": "Why does this loop not loop?", "body": "<p>Don't quote the parameters :)</p>\n\n<pre><code>string GetSerials = \"SELECT SerialNumber from Warranty\";\n                string TestUpdateDates = \"UPDATE Warranty SET StartDate = @StartDate, EndDate = @EndDate WHERE SerialNumber = @result\";\n                //string TestUpdateDates2 = \"UPDATE Warranty SET StartDate = cDate(Format(@StartDate, 'MM/dd/yyyy')), EndDate = cDate(Format(@EndDate, 'MM/dd/yyyy')) WHERE(SerialNumber = @result)\";\n\n    DataTable dataTable = new DataTable();\n      using (var conn1 = new OleDbConnection(@\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\\Blah\\Blah\\Blah\\Warranty.accdb\"))\n      using (OleDbCommand serialCommand = new OleDbCommand(GetSerials, conn1))\n      {\n        conn1.Open();\n        dataTable.Load(serialCommand.ExecuteReader());\n\n        foreach (DataRow row in dataTable.Rows)\n        {\n          var result = row[\"SerialNumber\"].ToString();\n          WebRequest request = WebRequest.Create(\"urlpart1\" + result + \"urlpart2\");\n          string json;\n          var response = request.GetResponse();\n          request.ContentType = \"application/json; charset=utf-8\";\n\n          using (var streamr = new StreamReader(response.GetResponseStream()))\n          using (OleDbCommand testupdateCommand = new OleDbCommand(TestUpdateDates, conn1))\n          using (OleDbCommand updateCommand = new OleDbCommand(UpdateDates, conn1))\n          using (OleDbCommand deleteCommand = new OleDbCommand(DeleteIncomplete, conn1))\n          {\n            json = streamr.ReadToEnd();\n            List&lt;MyObject&gt; list = JsonConvert.DeserializeObject&lt;List&lt;MyObject&gt;&gt;(json);\n            MyObject obj = list[0]; //Base Warranty\n\n            // obj -- Base Warranty\n            var StartDate = obj.Start;\n            var EndDate = obj.End;\n\n            //testupdateCommand.Parameters.Add(\"@StartDate\", OleDbType.Date).Value = StartDate;\n            //testupdateCommand.Parameters.Add(\"@EndDate\", OleDbType.Date).Value = EndDate;\n            testupdateCommand.Parameters.AddWithValue(\"@StartDate\", StartDate);\n            testupdateCommand.Parameters.AddWithValue(\"@EndDate\", EndDate);\n            testupdateCommand.Parameters.AddWithValue(\"@result\", result);\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 6003325, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f927f62f62ce1da7813c5f029d26f223?s=128&d=identicon&r=PG&f=1", "display_name": "Havoux", "link": "https://stackoverflow.com/users/6003325/havoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 36567081, "answer_count": 1, "score": 4, "last_activity_date": 1460474454, "creation_date": 1458760264, "last_edit_date": 1458761225, "question_id": 36186763, "link": "https://stackoverflow.com/questions/36186763/why-does-this-loop-not-loop", "title": "Why does this loop not loop?", "body": "<pre><code>string GetSerials = \"SELECT SerialNumber from Warranty\";\n            string TestUpdateDates = \"UPDATE Warranty SET StartDate = '@StartDate', EndDate = '@EndDate' WHERE SerialNumber = '@result'\";\n            //string TestUpdateDates2 = \"UPDATE Warranty SET StartDate = cDate(Format('@StartDate', 'MM/dd/yyyy')), EndDate = cDate(Format('@EndDate', 'MM/dd/yyyy')) WHERE(SerialNumber = '@result')\";\n\nDataTable dataTable = new DataTable();\n  using (var conn1 = new OleDbConnection(@\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\\Blah\\Blah\\Blah\\Warranty.accdb\"))\n  using (OleDbCommand serialCommand = new OleDbCommand(GetSerials, conn1))\n  {\n    conn1.Open();\n    dataTable.Load(serialCommand.ExecuteReader());\n\n    foreach (DataRow row in dataTable.Rows)\n    {\n      var result = row[\"SerialNumber\"].ToString();\n      WebRequest request = WebRequest.Create(\"urlpart1\" + result + \"urlpart2\");\n      string json;\n      var response = request.GetResponse();\n      request.ContentType = \"application/json; charset=utf-8\";\n\n      using (var streamr = new StreamReader(response.GetResponseStream()))\n      using (OleDbCommand testupdateCommand = new OleDbCommand(TestUpdateDates, conn1))\n      using (OleDbCommand updateCommand = new OleDbCommand(UpdateDates, conn1))\n      using (OleDbCommand deleteCommand = new OleDbCommand(DeleteIncomplete, conn1))\n      {\n        json = streamr.ReadToEnd();\n        List&lt;MyObject&gt; list = JsonConvert.DeserializeObject&lt;List&lt;MyObject&gt;&gt;(json);\n        MyObject obj = list[0]; //Base Warranty\n\n        // obj -- Base Warranty\n        var StartDate = obj.Start;\n        var EndDate = obj.End;\n\n        //testupdateCommand.Parameters.Add(\"@StartDate\", OleDbType.Date).Value = StartDate;\n        //testupdateCommand.Parameters.Add(\"@EndDate\", OleDbType.Date).Value = EndDate;\n        testupdateCommand.Parameters.AddWithValue(\"@StartDate\", StartDate);\n        testupdateCommand.Parameters.AddWithValue(\"@EndDate\", EndDate);\n        testupdateCommand.Parameters.AddWithValue(\"@result\", result);\n</code></pre>\n\n<p>I am trying to update my database with values from a JSON response. I want to loop through all values in the column [\"SerialNumber\"] and with that Serial Number, I am able to get a <strong>Start Date</strong> and <strong>End Date</strong> from the url. I want to store these values into the same <strong>Serial Number</strong> from which I used to get the url into the respective fields (StartDate, EndDate).</p>\n\n<p>I have commented out some of the other ways I have tried to do this but the output I get is that only the very first SerialNumber I get is changed, it doesnt continue looping through my column with 100 values. If I add</p>\n\n<pre><code>MessageBox.Show(result); //SerialNumber\nMessageBox.Show(StartDate.ToString());\nMessageBox.Show(EndDate.ToString());\n</code></pre>\n\n<p>It does loop through via MessageBox.Show but it will not update my database this way. Why doesn't it iterate though by itself?</p>\n\n<p><strong>I am using ACCESS2013 If that is important</strong></p>\n"}, {"tags": ["c#", "nhibernate", "smartclient", "iesi-collections"], "comments": [{"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1458761045, "post_id": 36186743, "comment_id": 60009243, "body": "<a href=\"http://stackoverflow.com/q/23211641/2530848\">Does this help?</a>"}, {"owner": {"reputation": 757, "user_id": 1006269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739f9db6c083cfd9231371989acc4732?s=128&d=identicon&r=PG", "display_name": "Aron Boyette", "link": "https://stackoverflow.com/users/1006269/aron-boyette"}, "edited": false, "score": 0, "creation_date": 1458764852, "post_id": 36186743, "comment_id": 60011369, "body": "In the past and because of these kinds of problems, I have used IEnumerable and IList instead of anything in Iesi.Collections.  I know that involves code changes (potentially many code changes), but might that be an option here?"}], "answers": [{"tags": [], "owner": {"reputation": 8292, "user_id": 1178314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Riph7.jpg?s=128&g=1", "display_name": "Fr&#233;d&#233;ric", "link": "https://stackoverflow.com/users/1178314/fr%c3%a9d%c3%a9ric"}, "is_accepted": true, "score": 4, "last_activity_date": 1527586198, "last_edit_date": 1527586198, "creation_date": 1458817337, "answer_id": 36198652, "question_id": 36186743, "link": "https://stackoverflow.com/questions/36186743/the-type-or-namespace-name-iset-does-not-exist/36198652#36198652", "title": "The type or namespace name &#39;ISet&#39; does not exist", "body": "<p>With NHibernate 4, in most cases you <a href=\"http://www.infoq.com/news/2014/08/nh-4-ga\" rel=\"nofollow noreferrer\">do not need anymore to explicitly depend on Iesi</a>.</p>\n\n<p>You should instead migrate your entities code to use <code>System.Collections.Generic.ISet&lt;T&gt;</code>.</p>\n\n<p>This is what I have done, even before encountering any issue with Iesi.\nIf you want to keep on using Iesi, you may be able to do that by supplying your own <code>NHibernate.Bytecode.ICollectionTypeFactory</code> with the <a href=\"http://nhibernate.info/doc/nhibernate-reference/session-configuration.html#configuration-optional\" rel=\"nofollow noreferrer\">optional setting</a> <code>collectiontype.factory_class</code>. But I do not think it is worth the trouble.</p>\n\n<p><a href=\"https://github.com/nhibernate/nhibernate-core/blob/master/releasenotes.txt\" rel=\"nofollow noreferrer\">Release notes</a>, section \"** Known BREAKING CHANGES from NH3.3.3.GA to 4.0.0.GA\":</p>\n\n<blockquote>\n  <p>Many uses of set types from Iesi.Collections have now been changed to use corresponding types from the BCL. The API for these types are slightly different.</p>\n</blockquote>\n"}], "owner": {"reputation": 5780, "user_id": 1978617, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5ec1cc5e6cc728a844b833e9231cd51?s=128&d=identicon&r=PG", "display_name": "Al Lelopath", "link": "https://stackoverflow.com/users/1978617/al-lelopath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 1, "accepted_answer_id": 36198652, "answer_count": 1, "score": 3, "last_activity_date": 1527586198, "creation_date": 1458760219, "last_edit_date": 1458841452, "question_id": 36186743, "link": "https://stackoverflow.com/questions/36186743/the-type-or-namespace-name-iset-does-not-exist", "title": "The type or namespace name &#39;ISet&#39; does not exist", "body": "<p>I'm upgrading a Windows Smart Client solution from nHibernate 2.2 to 4.0.\nThis required updating Iesi.Collections (4.0.1.4000) as well.</p>\n\n<p>On this line:</p>\n\n<pre><code>protected Iesi.Collections.Generic.ISet&lt;PermitEvent&gt; eventSet;\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>The type or namespace name 'ISet' does not exist in the namespace 'Iesi.Collections.Generic' \n</code></pre>\n\n<p>This question has gone unanswered at 2 other sites:<br>\n<a href=\"http://www.c-sharpcorner.com/forums/the-type-or-namespace-name-iset-could-not-be-found\" rel=\"nofollow\">http://www.c-sharpcorner.com/forums/the-type-or-namespace-name-iset-could-not-be-found</a>\n<a href=\"http://www.resolvinghere.com/cc/the-type-or-namespace-name-iset-could-not-be-found.shtml\" rel=\"nofollow\">http://www.resolvinghere.com/cc/the-type-or-namespace-name-iset-could-not-be-found.shtml</a></p>\n\n<p>What can I do?</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "function", "registerstartupscript"], "comments": [{"owner": {"reputation": 6936, "user_id": 866022, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/88753efb648678b6c14d64fe715b216b?s=128&d=identicon&r=PG", "display_name": "yoozer8", "link": "https://stackoverflow.com/users/866022/yoozer8"}, "edited": false, "score": 0, "creation_date": 1458760723, "post_id": 36186741, "comment_id": 60009015, "body": "Can&#39;t be sure, but I suspect it&#39;s because of the <code>else if</code>. If the first check is true (<code>InsertSuccess_msg != &quot;&quot; || InsertSuccess_msg != null</code>), the second check never happens. When you say commenting out the code for it, do you mean the entire first <code>if</code> block?"}, {"owner": {"reputation": 15997, "user_id": 16725, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ym5wb.jpg?s=128&g=1", "display_name": "Paul-Jan", "link": "https://stackoverflow.com/users/16725/paul-jan"}, "edited": false, "score": 1, "creation_date": 1458760824, "post_id": 36186741, "comment_id": 60009082, "body": "From your description, the whole javascript / registerStartupScript bit is irrelevant, you just have a logic error in your c#. How is InsertSucces_Msg initialized, and where in your asp.net page life cycle did you put the code fragment you posted here?"}, {"owner": {"reputation": 6936, "user_id": 866022, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/88753efb648678b6c14d64fe715b216b?s=128&d=identicon&r=PG", "display_name": "yoozer8", "link": "https://stackoverflow.com/users/866022/yoozer8"}, "edited": false, "score": 1, "creation_date": 1458760828, "post_id": 36186741, "comment_id": 60009083, "body": "Additionally, C#&#39;s string class has a convenient <a href=\"https://msdn.microsoft.com/en-us/library/system.string.isnullorempty(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>IsNullOrEmpty</code></a> method you might want to use instead of manually checking."}, {"owner": {"reputation": 13, "user_id": 5828503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c28e5b23783a050c7df470a0d981cc5?s=128&d=identicon&r=PG&f=1", "display_name": "Taurus Lewis", "link": "https://stackoverflow.com/users/5828503/taurus-lewis"}, "edited": false, "score": 0, "creation_date": 1458763696, "post_id": 36186741, "comment_id": 60010705, "body": "I&#39;m forcing the first statement to be false to test for the second function which isn&#39;t firing and yes I comment out the first if and change the else to just and if and it fires. The insert doesn&#39;t happen either way and if the first statement is commented out it works as expected passing back the error from sql. Just not with the if statement."}, {"owner": {"reputation": 13, "user_id": 5828503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c28e5b23783a050c7df470a0d981cc5?s=128&d=identicon&r=PG&f=1", "display_name": "Taurus Lewis", "link": "https://stackoverflow.com/users/5828503/taurus-lewis"}, "edited": false, "score": 0, "creation_date": 1458764265, "post_id": 36186741, "comment_id": 60011026, "body": "By forcing I mean purposely entering duplicate data to get the error msg and null value for InsertSuccess_msg. I&#39;ve also attached an image of the return value I receive in sql."}, {"owner": {"reputation": 3716, "user_id": 1971438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5862k.jpg?s=128&g=1", "display_name": "fnostro", "link": "https://stackoverflow.com/users/1971438/fnostro"}, "edited": false, "score": 0, "creation_date": 1458768340, "post_id": 36186741, "comment_id": 60013229, "body": "Something else to check: there is a difference between using <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.scriptmanager(v=vs.100).aspx\" rel=\"nofollow noreferrer\">ScriptManager</a> and <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.clientscriptmanager(v=vs.100).aspx\" rel=\"nofollow noreferrer\">ClientScriptManager</a>. I&#39;m not sure if your original registered script is cleared/unregistered on postback"}], "answers": [{"tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": true, "score": 0, "last_activity_date": 1458841272, "last_edit_date": 1458841272, "creation_date": 1458840947, "answer_id": 36206532, "question_id": 36186741, "link": "https://stackoverflow.com/questions/36186741/calling-javascript-function-from-c-code-behind-using-registerstartupscript-w-j/36206532#36206532", "title": "Calling Javascript function from C# Code behind using RegisterStartupScript w/ js file", "body": "<p>You want to clear <strong>ErrorBulletedList</strong> at the beginning of <strong>addBtn_Click</strong> event.</p>\n\n<p>For example,</p>\n\n<pre><code>protected void addBtn_Click(object sender, EventArgs e)\n{\n    ErrorBulletedList.Items.Clear();\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5828503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c28e5b23783a050c7df470a0d981cc5?s=128&d=identicon&r=PG&f=1", "display_name": "Taurus Lewis", "link": "https://stackoverflow.com/users/5828503/taurus-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 36206532, "answer_count": 1, "score": 1, "last_activity_date": 1458841272, "creation_date": 1458760217, "last_edit_date": 1458840173, "question_id": 36186741, "link": "https://stackoverflow.com/questions/36186741/calling-javascript-function-from-c-code-behind-using-registerstartupscript-w-j", "title": "Calling Javascript function from C# Code behind using RegisterStartupScript w/ js file", "body": "<p>I'm having an issue getting the 2nd function in my js file to fire. The plan is to have 1 modal show during successful insert and the other if there are duplicate errors. The Success Modal works but if there is an error I still get the Success modal unless I comment out the code for it(testing). Then and only then does the 2nd function fire. I'm new to both C# and Javascript. Any help would be greatly appreciated. What am I missing????</p>\n\n<p>Problem resolved with code below, but now I have a new issue. Duplicate error messages lol. When the error modal displays for the first time say with 1 error, it displays correctly. However, after entering known duplicate info into the 2nd tested field and submitted, the modal returns with the 2 errors as expected, but has also now duplicated the first as seen in the image attached. </p>\n\n<p><a href=\"https://i.stack.imgur.com/SuCkG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SuCkG.png\" alt=\"enter image description here\"></a></p>\n\n<p>I guess my question is how do I clear the bulleted list items from jquery on modal close?</p>\n\n<p><strong>Code Behind</strong> ** edited for working code</p>\n\n<pre><code>public partial class _Default : System.Web.UI.Page\n{\n    SqlConnection con;\n}\nprotected void Page_Load(object sender, EventArgs e)\n{\n    con = new SqlConnection(\"connection string\");\n}\n\nprotected void addBtn_Click(object sender, EventArgs e)\n{\n\n    //Create the command and set its properties\n    SqlCommand cmd = new SqlCommand();\n    cmd.Connection = con;\n    cmd.CommandText = \"dupcheck\";\n    cmd.CommandType = CommandType.StoredProcedure;\n\n    //Create the parameters and set their properties\n    cmd.Parameters.Add(\"@DeviceType\", SqlDbType.VarChar, 20).Value = deviceTypeDL.SelectedItem.Text;\n    cmd.Parameters.Add(\"@DeviceName\", SqlDbType.VarChar, 20).Value = devName.Text;\n    cmd.Parameters.Add(\"@DeviceBrand\", SqlDbType.VarChar, 20).Value = brand.Text;\n    cmd.Parameters.Add(\"@DeviceModel\", SqlDbType.VarChar, 20).Value = d_Model.Text;\n    cmd.Parameters.Add(\"@DevicePN\", SqlDbType.VarChar, 20).Value = partNumber.Text;\n    cmd.Parameters.Add(\"@DeviceSN\", SqlDbType.VarChar, 20).Value = serialNumber.Text;\n    cmd.Parameters.Add(\"@DeviceOS\", SqlDbType.VarChar, 20).Value = operatingSystemDL.SelectedItem.Text;\n    cmd.Parameters.Add(\"@SPWAgent\", SqlDbType.VarChar, 20).Value = spwAgentDL.SelectedItem.Text;\n    cmd.Parameters.Add(\"@DeviceStatus\", SqlDbType.VarChar).Value = statusDL.SelectedItem.Text;\n    cmd.Parameters.Add(\"@DepartmentAbbrev\", SqlDbType.VarChar, 20).Value = departmentDL.SelectedItem.Text;\n    cmd.Parameters.Add(\"@UserName\", SqlDbType.VarChar, 20).Value = username.Text;\n    cmd.Parameters.Add(\"@AircardModel\", SqlDbType.VarChar, 20).Value = a_Model.Text;\n    cmd.Parameters.Add(\"@IMEI_SN\", SqlDbType.VarChar, 20).Value = imei_SN.Text;\n    cmd.Parameters.Add(\"@PhoneNumber\", SqlDbType.VarChar, 20).Value = phoneNumber.Text;\n    cmd.Parameters.Add(\"@InsertSuccess_msg\", SqlDbType.VarChar, 30);\n    cmd.Parameters[\"@InsertSuccess_msg\"].Direction = ParameterDirection.Output;\n    cmd.Parameters.Add(\"@DeviceNameErr_msg\", SqlDbType.VarChar, 30);\n    cmd.Parameters[\"@DeviceNameErr_msg\"].Direction = ParameterDirection.Output;\n    cmd.Parameters.Add(\"@DeviceSnErr_msg\", SqlDbType.VarChar, 30);\n    cmd.Parameters[\"@DeviceSnErr_msg\"].Direction = ParameterDirection.Output;\n    cmd.Parameters.Add(\"@IMEI_SnErr_msg\", SqlDbType.VarChar, 30);\n    cmd.Parameters[\"@IMEI_SnErr_msg\"].Direction = ParameterDirection.Output;\n    cmd.Parameters.Add(\"@PhoneNumberErr_msg\", SqlDbType.VarChar, 30);\n    cmd.Parameters[\"@PhoneNumberErr_msg\"].Direction = ParameterDirection.Output;\n\n    //Excute Query\n    con.Open();\n    cmd.ExecuteNonQuery();\n    con.Close();\n\n    //Update Gridview or Display Error Messages\n    GridView1.DataSourceID = \"GridViewSource\";\n    GridView1.DataBind();\n\n    String InsertSuccess_msg = cmd.Parameters[\"@InsertSuccess_msg\"].Value.ToString();\n    String DeviceNameErr_msg = cmd.Parameters[\"@DeviceNameErr_msg\"].Value.ToString();\n    String DeviceSnErr_msg = cmd.Parameters[\"@DeviceSnErr_msg\"].Value.ToString();\n    String IMEI_SnErr_msg = cmd.Parameters[\"@IMEI_SnErr_msg\"].Value.ToString();\n    String PhoneNumberErr_msg = cmd.Parameters[\"@PhoneNumberErr_msg\"].Value.ToString();\n\n\n        if (DeviceNameErr_msg != \"\")\n        {\n            ListItem listItem = new ListItem(DeviceNameErr_msg);\n            ErrorBulletedList.Items.Add(listItem);\n        }\n        if (DeviceSnErr_msg != \"\")\n        {\n            ListItem listItem2 = new ListItem(DeviceSnErr_msg);\n            ErrorBulletedList.Items.Add(listItem2);\n        }\n        if (IMEI_SnErr_msg != \"\")\n        {\n            ListItem listItem3 = new ListItem(IMEI_SnErr_msg);\n            ErrorBulletedList.Items.Add(listItem3);\n        }\n        if (PhoneNumberErr_msg != \"\")\n        {\n            ListItem listItem4 = new ListItem(PhoneNumberErr_msg);\n            ErrorBulletedList.Items.Add(listItem4);\n        }\n        ScriptManager.RegisterStartupScript(this.Page, this.GetType(), \"error_script\", \"ErrorMessageModal();\", true);\n\n        if (InsertSuccess_msg != \"\")\n        {\n            ScriptManager.RegisterStartupScript(this.Page, this.GetType(), \"success_script\", \"SuccessfulInsertModal();\", true);\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JyLWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JyLWU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "dapper"], "answers": [{"comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 1122, "user_id": 1576413, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rdblZ.jpg?s=128&g=1", "display_name": "NoviceDeveloper", "link": "https://stackoverflow.com/users/1576413/novicedeveloper"}, "edited": false, "score": 0, "creation_date": 1458760686, "post_id": 36186750, "comment_id": 60008989, "body": "Dapper extends the DbConnection so there is no problem in using the standard Transaction object but it is more cumbersome. (Of course you need to declare the Transaction at the beginning of the code and use it for the rollback or the commit"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 1122, "user_id": 1576413, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rdblZ.jpg?s=128&g=1", "display_name": "NoviceDeveloper", "link": "https://stackoverflow.com/users/1576413/novicedeveloper"}, "edited": false, "score": 1, "creation_date": 1458763246, "post_id": 36186750, "comment_id": 60010450, "body": "@NoviceDeveloper note that all of the dapper operations accept an ado.net transaction as an optional parameter; if you use ado.net transactions, be sure to include it in your calls"}, {"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1459145823, "post_id": 36186750, "comment_id": 60142982, "body": "@Steve Wouldn&#39;t the standard ado.net transaction lightweight than the ambient transaction and if multiple connections are open in the ambient transaction, it will be promoted to the Distributed transaction"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 12, "last_activity_date": 1458760232, "creation_date": 1458760232, "answer_id": 36186750, "question_id": 36186691, "link": "https://stackoverflow.com/questions/36186691/how-to-rollback-a-transaction-using-dapper/36186750#36186750", "title": "How to rollback a transaction using dapper", "body": "<p>You could use a <a href=\"https://msdn.microsoft.com/en-us/library/system.transactions.transactionscope(v=vs.110).aspx\" rel=\"noreferrer\">TransactionScope</a> variable in a using block at the same level of the using block of the SqlConnection</p>\n\n<pre><code>using (TransactionScope scope = new TransactionScope())\nusing (var con= new SqlConnection(ConfigurationManager.ConnectionStrings[\"sqlcon\"].ConnectionString))\n{\n    try\n    {\n       // many transactions\n       scope.Complete();\n    }\n    catch (Exception e)\n    {\n        // Not needed any rollback, if you don't call Complete\n        // a rollback is automatic exiting from the using block\n        // con.BeginTransaction().Rollback();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1122, "user_id": 1576413, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rdblZ.jpg?s=128&g=1", "display_name": "NoviceDeveloper", "link": "https://stackoverflow.com/users/1576413/novicedeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8988, "favorite_count": 2, "accepted_answer_id": 36186750, "answer_count": 1, "score": 9, "last_activity_date": 1459146578, "creation_date": 1458760043, "question_id": 36186691, "link": "https://stackoverflow.com/questions/36186691/how-to-rollback-a-transaction-using-dapper", "title": "How to rollback a transaction using dapper", "body": "<p>I have this: </p>\n\n<pre><code>            using (var con= new SqlConnection(ConfigurationManager.ConnectionStrings[\"sqlcon\"].ConnectionString))\n            {\n                try\n                {\n                  // many transactions\n                }\n                catch (Exception e)\n                {\n                    con.BeginTransaction().Rollback();\n                }\n            }\n</code></pre>\n\n<p>Will this work is my question.. I know another method is to make a transaction then open it then rollback.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1432, "user_id": 1051764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcOnP.png?s=128&g=1", "display_name": "TerraPass", "link": "https://stackoverflow.com/users/1051764/terrapass"}, "edited": false, "score": 1, "creation_date": 1458760140, "post_id": 36186682, "comment_id": 60008652, "body": "Have you tried capitalizing the name of the namespace in your using directive properly? It appears that you&#39;ve written <code>caching</code>, while it has to be <code>Caching</code>."}, {"owner": {"reputation": 3725, "user_id": 1839034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7574a9d4d74e40af94e94b0eac36f3a2?s=128&d=identicon&r=PG", "display_name": "MarzSocks", "link": "https://stackoverflow.com/users/1839034/marzsocks"}, "reply_to_user": {"reputation": 1432, "user_id": 1051764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcOnP.png?s=128&g=1", "display_name": "TerraPass", "link": "https://stackoverflow.com/users/1051764/terrapass"}, "edited": false, "score": 0, "creation_date": 1458760297, "post_id": 36186682, "comment_id": 60008750, "body": "Yes, this not a case typo - edited the picture to be more accurate."}], "answers": [{"tags": [], "owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "is_accepted": false, "score": 0, "last_activity_date": 1458760683, "last_edit_date": 1495540379, "creation_date": 1458760683, "answer_id": 36186885, "question_id": 36186682, "link": "https://stackoverflow.com/questions/36186682/referenced-namespace-not-being-recognized/36186885#36186885", "title": "Referenced namespace not being recognized", "body": "<p>I think you may have to add a reference to System.Core in your project. See these links, particularly the first one:</p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/804fdc52-1082-4f93-b256-902ab300d78d/problem-with-namespacesystemruntimecaching?forum=vbgeneral\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/vstudio/en-US/804fdc52-1082-4f93-b256-902ab300d78d/problem-with-namespacesystemruntimecaching?forum=vbgeneral</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14200018/the-type-or-namespace-name-caching-does-not-exist-in-the-namespace-system-run\">The type or namespace name &#39;Caching&#39; does not exist in the namespace &#39;System.Runtime&#39;</a></p>\n"}, {"comments": [{"owner": {"reputation": 3725, "user_id": 1839034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7574a9d4d74e40af94e94b0eac36f3a2?s=128&d=identicon&r=PG", "display_name": "MarzSocks", "link": "https://stackoverflow.com/users/1839034/marzsocks"}, "edited": false, "score": 0, "creation_date": 1458796841, "post_id": 36186915, "comment_id": 60021553, "body": "Well what do you know! That worked - well done and thank you. I need  to do some reading up on the purpose of the App_Code folder, I always thought it was there specifically for your .cs files."}], "tags": [], "owner": {"reputation": 14974, "user_id": 5178207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ScDIA.jpg?s=128&g=1", "display_name": "Arturo Menchaca", "link": "https://stackoverflow.com/users/5178207/arturo-menchaca"}, "is_accepted": true, "score": 1, "last_activity_date": 1458760794, "creation_date": 1458760794, "answer_id": 36186915, "question_id": 36186682, "link": "https://stackoverflow.com/questions/36186682/referenced-namespace-not-being-recognized/36186915#36186915", "title": "Referenced namespace not being recognized", "body": "<p>Probably the problem is you are putting your code in <code>App_Code</code> folder. Files in this folder are treated as content by default. You can solve this issue setting <strong>Build Action</strong> to <strong>Compile</strong> for <em>.cs</em> files in this folder.</p>\n\n<p>However, you shouldn't use this folder for code, it will surely cause problems. I recommend you to move your code to another folder <code>Infrastructure</code> or <code>Code</code>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3723271"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761244, "creation_date": 1458761244, "answer_id": 36187044, "question_id": 36186682, "link": "https://stackoverflow.com/questions/36186682/referenced-namespace-not-being-recognized/36187044#36187044", "title": "Referenced namespace not being recognized", "body": "<p>Have you tried restarting Visual Studio? I added the reference and I was able to use it as a namespace.</p>\n"}], "owner": {"reputation": 3725, "user_id": 1839034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7574a9d4d74e40af94e94b0eac36f3a2?s=128&d=identicon&r=PG", "display_name": "MarzSocks", "link": "https://stackoverflow.com/users/1839034/marzsocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 36186915, "answer_count": 3, "score": 1, "last_activity_date": 1558407897, "creation_date": 1458760028, "last_edit_date": 1558407897, "question_id": 36186682, "link": "https://stackoverflow.com/questions/36186682/referenced-namespace-not-being-recognized", "title": "Referenced namespace not being recognized", "body": "<p>I cant get the namespace system.runtime.caching to be recognized despite adding the reference. Based on research to similar problems, I've checked the target framework and all seems in order (currently 4.5.2).</p>\n\n<p>Has anyone got a suggestion on how to solve this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/RjPtC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RjPtC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/OK9kk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OK9kk.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "visual-studio", "xaml", "button", "dynamic"], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 6253839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sf135.jpg?s=128&g=1", "display_name": "David Fulop", "link": "https://stackoverflow.com/users/6253839/david-fulop"}, "is_accepted": false, "score": 1, "last_activity_date": 1461636073, "creation_date": 1461636073, "answer_id": 36854089, "question_id": 36186642, "link": "https://stackoverflow.com/questions/36186642/how-to-position-buttons-randomly/36854089#36854089", "title": "How to position buttons randomly?", "body": "<p>You need to set the Grid.Row dependency property on the Button.</p>\n\n<p>XAML</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\" [...] Loaded=\"Window_Loaded\"&gt;\n    &lt;Grid Name=\"grdMain\"&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition/&gt;\n            &lt;RowDefinition/&gt;\n            &lt;RowDefinition/&gt;\n        &lt;/Grid.RowDefinitions&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>C#</p>\n\n<pre><code>using System;\nusing System.Windows;\nusing System.Windows.Controls;\n\nnamespace WpfApplication1\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        void Window_Loaded(object sender, RoutedEventArgs e)\n        {\n            //creating the button\n            Button b = new Button() { Content = \"Click me!\" };\n            //when clicked, it'll move to another row\n            b.Click += (s, ea) =&gt; ChangeButtonRow(s as Button);\n            //adding the button to the grid\n            grdMain.Children.Add(b);\n            //calling the row changing method for the 1st time, so the button will appear in a random row\n            ChangeButtonRow(b);\n        }\n\n        void ChangeButtonRow(Button b)\n        {\n            //setting the Grid.Row dep. prop. to a number that's a valid row index\n            b.SetValue(Grid.RowProperty, new Random().Next(0, grdMain.RowDefinitions.Count));\n        }\n    }\n}\n</code></pre>\n\n<p>I hope this helps. :)</p>\n"}], "owner": {"reputation": 11, "user_id": 6106028, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b441eeb3d9834edba79f65e7b59ffa9?s=128&d=identicon&r=PG&f=1", "display_name": "Xaml", "link": "https://stackoverflow.com/users/6106028/xaml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461636916, "creation_date": 1458759883, "last_edit_date": 1461636916, "question_id": 36186642, "link": "https://stackoverflow.com/questions/36186642/how-to-position-buttons-randomly", "title": "How to position buttons randomly?", "body": "<p>How can I position a button img randomly on a grid in XAML? I tried it, but it doesn't work!</p>\n\n<p>This is my code:</p>\n\n<pre><code> public void randomButton()\n    {\n      Button newBtn = new Button();\n      newBtn.Content = \"A New Button\";\n      panelButton.Children.Add(newBtn);\n      Grid.SetRow(newBtn, 1);\n\n      Random generator = new Random();\n      newBtn =  generator.Next(1, 100);\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xceed", "datagridcolumn"], "comments": [{"owner": {"reputation": 718, "user_id": 2455627, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hwtDb.jpg?s=128&g=1", "display_name": "Gordon Allocman", "link": "https://stackoverflow.com/users/2455627/gordon-allocman"}, "edited": false, "score": 0, "creation_date": 1458759852, "post_id": 36186576, "comment_id": 60008472, "body": "Could you add some code? It is a little tough to imagine what you are trying to do/ where you are running into issues"}, {"owner": {"reputation": 1687, "user_id": 1813047, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29f44a7878eac8f1ec3f4b97c55303c6?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/1813047/henrik"}, "reply_to_user": {"reputation": 718, "user_id": 2455627, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hwtDb.jpg?s=128&g=1", "display_name": "Gordon Allocman", "link": "https://stackoverflow.com/users/2455627/gordon-allocman"}, "edited": false, "score": 0, "creation_date": 1458760923, "post_id": 36186576, "comment_id": 60009152, "body": "@GordonAllocman I&#39;ve edited my post. Thanks for your comment."}], "owner": {"reputation": 1687, "user_id": 1813047, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29f44a7878eac8f1ec3f4b97c55303c6?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/1813047/henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458761587, "creation_date": 1458759668, "last_edit_date": 1458761587, "question_id": 36186576, "link": "https://stackoverflow.com/questions/36186576/only-able-to-edit-one-time-in-one-cell-column-in-datacontrolgrid", "title": "Only able to edit one time in one cell/column in datacontrolgrid", "body": "<p>I have a datacontrolgrid which has three columns and is bound to a list and also has a clickevent (but i need to combine this with a key on the keyboard to be be able to edit the selected cell/column). I only want to edit one of these columns and therefore have a EditTemplate in that specific column tag in xaml-file with a datatemplate containing a textbox with a keydown event where I set the value on a entity before inserting/updating this in the database.</p>\n\n<p>in the click-method i also check if a specific key is pressed, if so i call BeginEdit and Focus. But it seems like EndEdit never gets called since the datagrid always has the flag isbeingedited set to true after the first edited cell and somehow it's preventing me from edit again. Is there a way to commit the editing in the keydown method which is only listening to the enter-key?</p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>        &lt;xcdg:DataGridControl Grid.Row=\"1\" \n                              VerticalAlignment=\"Top\"\n                              MouseRightButtonUp=\"MyMethod_RightClick\"\n                              ItemsSource=\"{Binding ListOfObjects}\"\n                              AutoCreateColumns=\"False\"\n                              Height=\"1000\"\n                              NavigationBehavior=\"RowOnly\"&gt;\n\n            &lt;xcdg:DataGridControl.Columns&gt;\n                &lt;xcdg:Column FieldName=\"Name\" IsMainColumn=\"False\" MinWidth=\"500\"&gt;\n                    &lt;xcdg:Column.CellEditor&gt;\n                        &lt;xcdg:CellEditor&gt;\n                            &lt;xcdg:CellEditor.EditTemplate&gt;\n                                &lt;DataTemplate&gt;\n                                    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                        &lt;TextBox x:Name=\"txtbox\" KeyDown=\"txtbox_KeyDown\" Text=\"{xcdg:CellEditorBinding}\" /&gt;\n                                    &lt;/StackPanel&gt;\n                                &lt;/DataTemplate&gt;\n                            &lt;/xcdg:CellEditor.EditTemplate&gt;\n                        &lt;/xcdg:CellEditor&gt;\n                    &lt;/xcdg:Column.CellEditor&gt;\n</code></pre>\n\n<p><strong>XAML code-behind</strong></p>\n\n<pre><code>    private void MyMethod_RightClick(object sender, RoutedEventArgs e)\n    {\n        DataGridControl dataGrid = (DataGridControl)sender;\n        MyObj myObj = (MyObj)dataGrid.CurrentItem;\n\n        if (Keyboard.IsKeyDown(Key.E))\n        {\n            //i'm coming here all times i'm trying to edit records in one column but i'm only able to edit the first time i'm trying.\n            dataGrid.BeginEdit();\n            dataGrid.Focus();\n            return;\n        }\n        //in case of no edit i do some other stuff...\n    }\n\n\n    private void txtbox_KeyDown(object sender, KeyEventArgs e)\n    {\n        if (e.Key != Key.Enter) return;\n\n        var txtboxvalue = ((TextBox)sender).DataContext.ToString();\n        //do stuff and\n        //set value on entity property and update record in db...\n    }\n</code></pre>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc"], "comments": [{"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1458759878, "post_id": 36186565, "comment_id": 60008492, "body": "the problem is that your <code>start date</code> and <code>end date</code> are taking dates as the format &#39;MM/dd/yyyy&#39; and there isn&#39;t a month that is 23 or 24... can you post your model?"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458760518, "post_id": 36186709, "comment_id": 60008871, "body": "Hi, thanks for your reply, and I post my code. DataFormatString and ApplyFormatInEditMode are right for my code?"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458760596, "post_id": 36186709, "comment_id": 60008940, "body": "@kcc I saw that you posted your code, thank you.  And they should be.. you already have data annotations in your model so they should work.. i will edit to show you how it should look based off of what you posted"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458761581, "post_id": 36186709, "comment_id": 60009583, "body": "should I exchange the date format which you provide to {0:dd/MM/yyyy}"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458761619, "post_id": 36186709, "comment_id": 60009601, "body": "@kcc that is your preference"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762240, "post_id": 36186709, "comment_id": 60009923, "body": "I tried, its not working. May be I add the code on wrong place"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762337, "post_id": 36186709, "comment_id": 60009969, "body": "@kcc still same error? if so, try with <code>MM&#47;dd&#47;yyyy</code>.. also did you get rid of <code>format: &#39;dd&#47;mm&#47;yyyy&#39;</code>?"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762782, "post_id": 36186709, "comment_id": 60010182, "body": "yes, still error, my format is dd/mm/yyyy"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762875, "post_id": 36186709, "comment_id": 60010231, "body": "@kcc okay so change the format to my original post was just to see if it works"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762896, "post_id": 36186709, "comment_id": 60010241, "body": "I think the format and the startdate should be as same format, right, and I keep both is dd/MM/yyyy, but still errors."}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1458762997, "post_id": 36186709, "comment_id": 60010304, "body": "@kcc ok so change the format to what I posted to see if that works"}], "tags": [], "owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "is_accepted": true, "score": 0, "last_activity_date": 1458760645, "last_edit_date": 1458760645, "creation_date": 1458760108, "answer_id": 36186709, "question_id": 36186565, "link": "https://stackoverflow.com/questions/36186565/have-the-date-validation-errors-with-datepicker/36186709#36186709", "title": "have the date validation errors with datepicker", "body": "<p>In your class, over top of the <code>start date</code> and <code>end date</code> properties add this:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations; /*put above namespace*/\n\n[Display(Name = \"Start Date:\")]\n[DataType(DataType.Date)]\n[DisplayFormat(DataFormatString = \"{0:MM/dd/yyyy}\", ApplyFormatInEditMode = true)]\npublic System.DateTime StartDate { get; set; }\n\n[Display(Name = \"End Date:\")]\n[DataType(DataType.Date)]\n[DisplayFormat(DataFormatString = \"{0:MM/dd/yyyy}\", ApplyFormatInEditMode = true)]\npublic System.DateTime EndDate { get; set; }\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "closed_date": 1458784007, "accepted_answer_id": 36186709, "answer_count": 1, "score": 0, "last_activity_date": 1458783997, "creation_date": 1458759638, "last_edit_date": 1458783997, "question_id": 36186565, "link": "https://stackoverflow.com/questions/36186565/have-the-date-validation-errors-with-datepicker", "closed_reason": "Duplicate", "title": "have the date validation errors with datepicker", "body": "<p>I am working on MVC and Jquery, and I had a form to create a new event for the website. On the date part, I use datepicker to show the calendar and lets user the select a date. my format is:</p>\n\n<pre><code> format: 'dd/mm/yyyy',\n</code></pre>\n\n<p>but when I submit the form, it always failed and told me invalid format. I found the problem was when I selected the date March 24, 2016, it set month was 24, and date was 3(means March).</p>\n\n<p>what's going on here, can anyone help me? Thank you very much.</p>\n\n<p><a href=\"http://i.stack.imgur.com/A1ZEE.png\" rel=\"nofollow\">error messages</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/TSvPY.png\" rel=\"nofollow\">how the dates are formatted</a></p>\n\n<p>Model:</p>\n\n<pre><code> public SeminarListViewModel()\n    {\n        Documents = new List&lt;DocumentDisplayViewModel&gt;();\n    }\n\n    public string EventID {get;set;}\n    public string Name { get; set; }\n    public short Capacity { get; set; }\n\n    [DataType(DataType.Date)]\n    public DateTime StartDate { get; set; }\n\n    [DataType(DataType.Date)]\n    public DateTime EndDate { get; set; }\n\n    public List&lt;DocumentDisplayViewModel&gt; Documents { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "multithreading", "azure"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1458759996, "post_id": 36186532, "comment_id": 60008566, "body": "Is it possible to change the signature of &quot;protected override void Seed(ApplicationDbContext context)&quot; to protected override async Task Seed(ApplicationDbContext)? Then you can await InitializeImages() and remove the Wait() call."}, {"owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1458760278, "post_id": 36186532, "comment_id": 60008742, "body": "@Jeroen The signatures wouldn&#39;t match if I did change that. The base method is in an external library so I can&#39;t change that."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1458760520, "post_id": 36186532, "comment_id": 60008872, "body": "Try changing this line <code>await _Container.CreateIfNotExistsAsync();</code> to <code>await _Container.CreateIfNotExistsAsync().ConfigureAwait(false);</code>"}, {"owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1458760961, "post_id": 36186532, "comment_id": 60009178, "body": "@YacoubMassad It gets to this line now <code>await blockBlob.UploadFromFileAsync</code> and throws a null reference exception on <code>HttpContext.Current</code>."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1458761037, "post_id": 36186532, "comment_id": 60009237, "body": "How often does this code run? Does it run on each ASP.NET request?"}, {"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 2, "creation_date": 1458761088, "post_id": 36186532, "comment_id": 60009275, "body": "Do not use async if you cannot do it all the way. Read <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">this</a> article for more background information."}, {"owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1458761236, "post_id": 36186532, "comment_id": 60009383, "body": "@YacoubMassad It runs on startup of the app."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 2, "creation_date": 1458761293, "post_id": 36186532, "comment_id": 60009420, "body": "@MartinMazzaDawson, then there is probably not a good reason to make it asynchronous"}, {"owner": {"reputation": 3417, "user_id": 5463877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e88da9f0b09bd7ddb86d1336e75980fd?s=128&d=identicon&r=PG", "display_name": "Xiaomin Wu", "link": "https://stackoverflow.com/users/5463877/xiaomin-wu"}, "edited": false, "score": 0, "creation_date": 1458761950, "post_id": 36186532, "comment_id": 60009780, "body": "can you try ```     await Task.Run(()&gt;{         _Container.CreateIfNotExistsAsync().Wait();     });```"}], "answers": [{"comments": [{"owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "edited": false, "score": 0, "creation_date": 1458766113, "post_id": 36187636, "comment_id": 60012064, "body": "Your blog post was great and helped a lot. What do you mean when referring to &#39;context&#39; though?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "edited": false, "score": 0, "creation_date": 1458785068, "post_id": 36187636, "comment_id": 60018734, "body": "The context is <code>SynchronizationContext.Current</code>, unless it is <code>null</code>, in which case the context is <code>TaskScheduler.Current</code>. In this case, it is <code>SynchronizationContext.Current</code>, which is an instance of <code>AspNetSynchronizationContext</code>."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 3, "last_activity_date": 1458763299, "creation_date": 1458763299, "answer_id": 36187636, "question_id": 36186532, "link": "https://stackoverflow.com/questions/36186532/task-wait-deadlocks-my-application/36187636#36187636", "title": "Task.Wait() deadlocks my application", "body": "<blockquote>\n  <p>I have read that it is beneficial to use async/await on networking</p>\n</blockquote>\n\n<p>Yes, but <em>why</em>?</p>\n\n<p>The answer is: <code>async</code> is beneficial (especially for I/O-based code) so that you free up threads to do other things. In an ASP.NET app, this means you have more threads available to handle incoming requests. Oh, wait...</p>\n\n<pre><code>protected override void Seed(ApplicationDbContext context)\n</code></pre>\n\n<p>When your application is handling its first request (and seeding the db), there isn't any point in freeing up threads because they won't be able to do anything until after the db is seeded anyway.</p>\n\n<p>So in this situation, you should just synchronously upload.</p>\n\n<blockquote>\n  <p>can someone explain why this is happening</p>\n</blockquote>\n\n<p>I have a <a href=\"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow\">blog post</a> that goes into more detail, but to summarize:</p>\n\n<ul>\n<li><code>await</code> by default will capture a \"context\", and will resume executing the <code>async</code> method in that context.</li>\n<li>ASP.NET (currently) has a request context that handles things like <code>HttpContext.Current</code>, the current page culture, etc.</li>\n<li>The ASP.NET context only allows one thread in at a time.</li>\n</ul>\n\n<p>Thus, when you block a thread in the request context (<code>Wait</code>), the <code>async</code> method cannot complete because it's waiting for that request context to be free. Of course, the <code>Wait</code> is waiting for the <code>async</code> method to complete, so you end up with a deadlock.</p>\n"}], "owner": {"reputation": 6322, "user_id": 5252988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5621eb7e989478791a577246078642be?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Dawson", "link": "https://stackoverflow.com/users/5252988/martin-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 36187636, "answer_count": 1, "score": 0, "last_activity_date": 1458763299, "creation_date": 1458759460, "question_id": 36186532, "link": "https://stackoverflow.com/questions/36186532/task-wait-deadlocks-my-application", "title": "Task.Wait() deadlocks my application", "body": "<p>I have read that it is beneficial to use async/await on networking, so I want to apply it to uploading a file to azure blobs.</p>\n\n<p>When I use <code>.Wait()</code> on the method, the application stalls on <code>await _Container.CreateIfNotExistsAsync();</code>. I want to use <code>.Wait()</code> because the <code>InitializeCategories(context)</code> method needs to wait for the blobs to be uploaded before it can loop through them.</p>\n\n<p>I'm completely new to using multi-threading, can someone explain why this is happening and tell me how to fix it?</p>\n\n<pre><code>protected override void Seed(ApplicationDbContext context)\n{\n    base.Seed(context);\n\n    InitializeImages().Wait();\n    InitializeCategories(context);\n}\n\npublic static async Task InitializeImages()\n{\n    _PlaceHolderImage = \"placeholder-categories.jpg\";\n    _StorageAccount = CloudStorageAccount.Parse(CloudConfigurationManager.GetSetting(\"StorageConnectionString\"));\n    _BlobClient = _StorageAccount.CreateCloudBlobClient();\n    _Container = _BlobClient.GetContainerReference(\"images\");\n\n    await _Container.CreateIfNotExistsAsync();\n\n    //To view the blob in the browser\n    await _Container.SetPermissionsAsync(new BlobContainerPermissions { PublicAccess = BlobContainerPublicAccessType.Blob });\n\n    CloudBlockBlob blockBlob = _Container.GetBlockBlobReference(_PlaceHolderImage);\n    await blockBlob.UploadFromFileAsync(HttpContext.Current.Server.MapPath(\"~/Content/Images/\" + _PlaceHolderImage), FileMode.Open);\n}\n\npublic static void InitializeCategories(ApplicationDbContext db)\n{\n    // Loop over items within the container and output the length and URI.\n    foreach (IListBlobItem item in _Container.ListBlobs())\n    {\n        if (item.GetType() == typeof(CloudBlockBlob))\n        {\n            CloudBlockBlob blob = (CloudBlockBlob)item;\n\n            Console.WriteLine(\"Block blob of length {0}: {1}\", blob.Properties.Length, blob.Uri);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "webforms", "devexpress", "report"], "comments": [{"owner": {"reputation": 480, "user_id": 4067286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ce7d3eb0aab7ac26de87a3ee3d31f5?s=128&d=identicon&r=PG", "display_name": "minhhn2910", "link": "https://stackoverflow.com/users/4067286/minhhn2910"}, "edited": false, "score": 0, "creation_date": 1458970218, "post_id": 36186502, "comment_id": 60094840, "body": "I think you need to design the report separately.  Simply use <code>new DevExpress.XtraReports.UI.XtraReport();</code> may not do because it doesn&#39;t know how to use your data source, how to display the data.   <code>DevExpress.XtraReports.UI.XtraReport report = new your_report_design_class();</code>  I used this kind of thing in the past, I have to create new report with my design before assigning a datasource to it"}], "answers": [{"comments": [{"owner": {"reputation": 2851, "user_id": 1957916, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3b7cd6c530833d464a384b8cfb804c4a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Reza", "link": "https://stackoverflow.com/users/1957916/hamid-reza"}, "edited": false, "score": 0, "creation_date": 1459057909, "post_id": 36244167, "comment_id": 60118655, "body": "In my code behind I cant access ReportDataset cause I have created it in report designer."}, {"owner": {"reputation": 480, "user_id": 4067286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ce7d3eb0aab7ac26de87a3ee3d31f5?s=128&d=identicon&r=PG", "display_name": "minhhn2910", "link": "https://stackoverflow.com/users/4067286/minhhn2910"}, "reply_to_user": {"reputation": 2851, "user_id": 1957916, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3b7cd6c530833d464a384b8cfb804c4a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Reza", "link": "https://stackoverflow.com/users/1957916/hamid-reza"}, "edited": false, "score": 0, "creation_date": 1459074136, "post_id": 36244167, "comment_id": 60122260, "body": "Sorry for the confusion, create the data source outside then assign it to your report (using the .xsd file), I don&#39;t have access to Visual Studio now so I can&#39;t say. <a href=\"https://documentation.devexpress.com/#XtraReports/CustomDocument4797\" rel=\"nofollow noreferrer\">documentation.devexpress.com/#XtraReports/CustomDocument4797</a>"}, {"owner": {"reputation": 480, "user_id": 4067286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ce7d3eb0aab7ac26de87a3ee3d31f5?s=128&d=identicon&r=PG", "display_name": "minhhn2910", "link": "https://stackoverflow.com/users/4067286/minhhn2910"}, "reply_to_user": {"reputation": 2851, "user_id": 1957916, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3b7cd6c530833d464a384b8cfb804c4a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Reza", "link": "https://stackoverflow.com/users/1957916/hamid-reza"}, "edited": false, "score": 0, "creation_date": 1459074204, "post_id": 36244167, "comment_id": 60122280, "body": "Create the dataset and save it as .xsd file like this: <a href=\"https://msdn.microsoft.com/en-us/library/ms171897.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms171897.aspx</a>"}, {"owner": {"reputation": 263, "user_id": 2294084, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/02abf9f1ce3bd5cf63754091ee64a653?s=128&d=identicon&r=PG", "display_name": "bbb", "link": "https://stackoverflow.com/users/2294084/bbb"}, "edited": false, "score": 0, "creation_date": 1459654032, "post_id": 36244167, "comment_id": 60379976, "body": "I think he want these:<a href=\"https://documentation.devexpress.com/#XtraReports/CustomDocument5210\" rel=\"nofollow noreferrer\">documentation.devexpress.com/#XtraReports/CustomDocume&zwnj;&#8203;nt5210</a> and <a href=\"https://documentation.devexpress.com/#XtraReports/CustomDocument17387\" rel=\"nofollow noreferrer\">documentation.devexpress.com/#XtraReports/CustomDocument1738&zwnj;&#8203;7</a>"}], "tags": [], "owner": {"reputation": 480, "user_id": 4067286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ce7d3eb0aab7ac26de87a3ee3d31f5?s=128&d=identicon&r=PG", "display_name": "minhhn2910", "link": "https://stackoverflow.com/users/4067286/minhhn2910"}, "is_accepted": false, "score": 1, "last_activity_date": 1459056590, "creation_date": 1459056590, "answer_id": 36244167, "question_id": 36186502, "link": "https://stackoverflow.com/questions/36186502/pass-a-sql-parameter-value-to-devexpress-report/36244167#36244167", "title": "Pass a sql parameter value to devexpress report?", "body": "<p>I guess you want to (1) click the button, (2) pass an ID then (3) open the report has content depends on that ID. So this is the way I did it, (I'm not sure is there any other way because devexpress is not open source):</p>\n\n<ol>\n<li>Design your dataset, it contains only the info you want to show using the dataset tool of Visual Studio. i.e. id, name, address, ..... Name that dataset = ReportDataset. That dataset has 1 table named MyTable.</li>\n<li>Design your report named MyReport using the GUI tool (remember to choose XtraReport), and select the datasource = that ReportDataset, do not edit the code generated by the GUI tool. Just use the GUI, click &amp; click to add labels, add value from the ReportDataset.</li>\n<li><p>In you form, window form or whatever, the below should be inside the function triggered by button_click event (your \"calling\" in the last snippet of your question):</p>\n\n<pre><code>DataSet new_ds = new DataSet();\nReportDataset.MyTable runtime_data = new ReportDataset.MyTable();\n//get data from your database according to ID, Row by row \n//then add them to the runtime_data table\n//in your case, add all the result of \"select * from LG_Garanti where ID=@ID\";\nruntime_data.Rows.Add(new object[] {.blah blah..});// just add row, use whatever method you like\nnew_ds.Tables.Add(runtime_data);\n//from this point, new_ds contains runtime data of the row(s) you want ID.\n//now just link that dynamic dataset to your designed report\nMyReport my_report = new MyReport();\nmy_report.DataSource = new_ds;\n// Show the print preview or do whatever you want \nReportPrintTool printTool = new ReportPrintTool(my_report);\nprintTool.ShowRibbonPreviewDialog();\n</code></pre></li>\n</ol>\n\n<p>The above is to make it more flexible since the report can use its own dataset with the mixture of different tables,.... You can make it easier by reuse your own dataset in step 1. Hope this helps.</p>\n"}], "owner": {"reputation": 2851, "user_id": 1957916, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3b7cd6c530833d464a384b8cfb804c4a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Reza", "link": "https://stackoverflow.com/users/1957916/hamid-reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1709, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1459056590, "creation_date": 1458759350, "last_edit_date": 1458995503, "question_id": 36186502, "link": "https://stackoverflow.com/questions/36186502/pass-a-sql-parameter-value-to-devexpress-report", "title": "Pass a sql parameter value to devexpress report?", "body": "<p>I want to pass a sql parameter from user form to my report class but it is not working and it does not create the report and when I open the report designer tab again after adding ID argument to the report class it refresh the report and delete my components.</p>\n\n<p>What is the problem?</p>\n\n<p>Here is my report class:</p>\n\n<pre><code>public SodoorZemanatName(long ID)\n    {\n        InitializeComponent(ID);\n    }\n\n    protected override void Dispose(bool disposing)\n    {\n        if (disposing &amp;&amp; (components != null))\n        {\n            components.Dispose();\n        }\n        base.Dispose(disposing);\n    }\n\n    #region Designer generated code\n    private void InitializeComponent(long ID)\n    {\n            this.components = new System.ComponentModel.Container();\n            DevExpress.DataAccess.Sql.CustomSqlQuery customSqlQuery1 = new DevExpress.DataAccess.Sql.CustomSqlQuery();\n            DevExpress.DataAccess.Sql.QueryParameter queryParameter1 = new DevExpress.DataAccess.Sql.QueryParameter();\n            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(SodoorZemanatName));\n            this.topMarginBand1 = new DevExpress.XtraReports.UI.TopMarginBand();\n            this.detailBand1 = new DevExpress.XtraReports.UI.DetailBand();\n            this.bottomMarginBand1 = new DevExpress.XtraReports.UI.BottomMarginBand();\n            this.sqlDataSource2 = new DevExpress.DataAccess.Sql.SqlDataSource(this.components);\n            ((System.ComponentModel.ISupportInitialize)(this)).BeginInit();\n            this.topMarginBand1.HeightF = 100F;\n            this.topMarginBand1.Name = \"topMarginBand1\";\n            this.detailBand1.HeightF = 100F;\n            this.detailBand1.Name = \"detailBand1\";\n            this.bottomMarginBand1.HeightF = 100F;\n            this.bottomMarginBand1.Name = \"bottomMarginBand1\";\n            this.sqlDataSource2.ConnectionName = \"Context\";\n            this.sqlDataSource2.Name = \"sqlDataSource2\";\n            customSqlQuery1.Name = \"Query\";\n            queryParameter1.Name = \"ID\";\n            queryParameter1.Type = typeof(long);\n            queryParameter1.ValueInfo = \"0\";\n            queryParameter1.Value = ID;\n            customSqlQuery1.Parameters.Add(queryParameter1);\n            customSqlQuery1.Sql = \"select * from LG_Garanti where ID=@ID\";\n            this.sqlDataSource2.Queries.AddRange(new DevExpress.DataAccess.Sql.SqlQuery[] {\n            customSqlQuery1});\n            this.sqlDataSource2.ResultSchemaSerializable = resources.GetString(\"sqlDataSource2.ResultSchemaSerializable\");\n    this.Bands.AddRange(new DevExpress.XtraReports.UI.Band[] {\n    this.topMarginBand1,\n    this.detailBand1,\n    this.bottomMarginBand1});\n    this.ComponentStorage.AddRange(new System.ComponentModel.IComponent[] {\n    this.sqlDataSource2});\n    this.DataSource = this.sqlDataSource2;\n    this.Version = \"15.2\";\n    ((System.ComponentModel.ISupportInitialize)(this)).EndInit();\n}\n#endregion\n</code></pre>\n\n<p>And here is my calling:</p>\n\n<pre><code>SodoorZemanatName report = new SodoorZemanatName(1);\nASPxDocumentViewer1.ReportTypeName = \"SodoorZemanatName\";\nASPxDocumentViewer1.Report = report;\n</code></pre>\n"}, {"tags": ["c#", "button", "text-files", "windows-forms-designer", "writefile"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1458759125, "post_id": 36186340, "comment_id": 60008065, "body": "using the debugger.. what line does it throw the error..? is it this line <code>StreamWriter write = new StreamWriter(File.Create(&quot;C:\\\\Users\\antho\\\\Desktop\\\\Folder\\\\&zwnj;&#8203;Uni\\\\Programming and data structures\\\\Assignment 2\\\\Modules&quot;));</code>"}, {"owner": {"reputation": 61, "user_id": 5568562, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/626dd42ee0490c86cfd762681746bc64?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/5568562/anthony"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1458759180, "post_id": 36186340, "comment_id": 60008098, "body": "@MethodMan yes it&#39;s that line, it also says there are Illegal characters in path."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1458759332, "post_id": 36186340, "comment_id": 60008184, "body": "that&#39;s because you have spaces in your file path probably why don&#39;t you try writing to a file path like <code>&quot;@c:\\Users\\antho\\&quot;</code> + path when do you ever use the path..meaning creating the <code>FileName</code> look at this post for an even easier way to create the filename <a href=\"http://stackoverflow.com/questions/27823789/creating-text-file-in-c-sharp\" title=\"creating text file in c sharp\">stackoverflow.com/questions/27823789/&hellip;</a>"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1458759505, "post_id": 36186340, "comment_id": 60008289, "body": "also you need to have a trailing <code>&quot;\\\\&quot;</code> in your super long file path.. once again you never even create a file because you never tell the <code>File.Create</code> what the <code>FilePath + FileName.txt</code> is.."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1458759783, "post_id": 36186340, "comment_id": 60008436, "body": "So you have invalid characters in path, then check your path. For instance, shouldn&#39;t <b>\\antho</b> be <b>\\\\anto</b>."}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 1, "creation_date": 1458759838, "post_id": 36186340, "comment_id": 60008462, "body": "first of all, you dont use the filename, the savedialog gives you, but you allways write to a file named <code>Modules</code>. Maybe there is already an folder existing with that name. Second, you forgot to escape the second backslash in your filenam (the one before antho). I&#39;m not sure whether or not <code>\\a</code> is a valid character. But it&#39;s definitly not a valid character in a file path,"}], "answers": [{"tags": [], "owner": {"reputation": 1088, "user_id": 2183775, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sIMGC.jpg?s=128&g=1", "display_name": "Mitul&#225;t b&#225;ti", "link": "https://stackoverflow.com/users/2183775/mitul%c3%a1t-b%c3%a1ti"}, "is_accepted": false, "score": 0, "last_activity_date": 1458760071, "creation_date": 1458760071, "answer_id": 36186699, "question_id": 36186340, "link": "https://stackoverflow.com/questions/36186340/unable-to-create-a-text-file-in-windows-form-getting-error-system-argumentexce/36186699#36186699", "title": "Unable to create a text file in windows form, getting error &#39;System.ArgumentException&#39;", "body": "<p>First of all put your path in a variable and check if the directory exists at all (if not, create it).</p>\n\n<p>(note the single backslashes)</p>\n\n<pre><code>string path = @\"C:\\Users\\antho\\Desktop\\Folder\\Uni\\Programming and data structures\\Assignment 2\\Modules\";\nstring fileName = sfd.FileName;\n\nif (!Directory.Exists(path))\n{\n    Directory.CreateDirectory(path);\n}\n</code></pre>\n\n<p>Secondly, use Path.Combine() for constructing paths. The path that you set in the File.Create must end with a filename.</p>\n\n<p>I also recommend using File.WriteAllText() for simple file creation (like in your code). With that you don't have to bother with closing it.</p>\n\n<pre><code>File.WriteAllText(Path.Combine(path, fileName), writeFile);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7876, "user_id": 2321874, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fbIIO.jpg?s=128&g=1", "display_name": "Mihai Caracostea", "link": "https://stackoverflow.com/users/2321874/mihai-caracostea"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761005, "creation_date": 1458761005, "answer_id": 36186970, "question_id": 36186340, "link": "https://stackoverflow.com/questions/36186340/unable-to-create-a-text-file-in-windows-form-getting-error-system-argumentexce/36186970#36186970", "title": "Unable to create a text file in windows form, getting error &#39;System.ArgumentException&#39;", "body": "<p>Your problem is with the file path you provided.</p>\n\n<pre><code>\"C:\\\\Users\\antho\\\\Desktop\\\\Folder\\\\Uni\\\\Programming and data structures\\\\Assignment 2\\\\Modules\"\n</code></pre>\n\n<p>You forgot to escape a backslash here: <code>Users\\antho</code>.</p>\n\n<p>In this case, <code>\\a</code> is interpreted as a single character, which is illegal in a file name. Not even sure if that is an existing character.</p>\n"}], "owner": {"reputation": 61, "user_id": 5568562, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/626dd42ee0490c86cfd762681746bc64?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/5568562/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458761005, "creation_date": 1458758809, "question_id": 36186340, "link": "https://stackoverflow.com/questions/36186340/unable-to-create-a-text-file-in-windows-form-getting-error-system-argumentexce", "title": "Unable to create a text file in windows form, getting error &#39;System.ArgumentException&#39;", "body": "<p>I've made a button so when I click it, it opens up a directory from which I can create a text file, I click the button, it opens the directory fine, I can name the text file what I want and click save, but then I get an error saying \"An unhandled exception of type 'System.ArgumentException' occurred in mscorlib.dll\"</p>\n\n<p>This is my code:</p>\n\n<pre><code>    private void createAlgorithmsAndComplexityNotesToolStripMenuItem_Click(object sender, EventArgs e)\n    {\n        SaveFileDialog sfd = new SaveFileDialog();\n        sfd.Filter = \"Text File|*.txt\";\n        sfd.FileName = \"Algorithms And Complexity Lecture Notes\";\n        sfd.Title = \"Algorithms And Complexity Lecture Notes\";\n        if (sfd.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n        {\n            string path = sfd.FileName;\n            StreamWriter write = new StreamWriter(File.Create(\"C:\\\\Users\\antho\\\\Desktop\\\\Folder\\\\Uni\\\\Programming and data structures\\\\Assignment 2\\\\Modules\"));\n            write.Write(writeFile);\n            write.Close();\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "c++", "pointers", "interop", "pinvoke"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1458759448, "post_id": 36186331, "comment_id": 60008259, "body": "It is bad C++ code.  That never gets better when you pinvoke it.  Make it work from a C++ test program first."}], "answers": [{"comments": [{"owner": {"reputation": 846, "user_id": 3874053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xr2Gk.jpg?s=128&g=1", "display_name": "Jacobr365", "link": "https://stackoverflow.com/users/3874053/jacobr365"}, "edited": false, "score": 0, "creation_date": 1458759245, "post_id": 36186434, "comment_id": 60008136, "body": "Like riding a bike"}, {"owner": {"reputation": 7876, "user_id": 2321874, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fbIIO.jpg?s=128&g=1", "display_name": "Mihai Caracostea", "link": "https://stackoverflow.com/users/2321874/mihai-caracostea"}, "reply_to_user": {"reputation": 846, "user_id": 3874053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xr2Gk.jpg?s=128&g=1", "display_name": "Jacobr365", "link": "https://stackoverflow.com/users/3874053/jacobr365"}, "edited": false, "score": 1, "creation_date": 1458759304, "post_id": 36186434, "comment_id": 60008175, "body": "@Jacobr365 Yeah... All&#39;s well and neat... Until you fall down and &quot;bend&quot; your nose :)"}, {"owner": {"reputation": 1981, "user_id": 618490, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/244dd40ac73e282859bb528d2411431f?s=128&d=identicon&r=PG", "display_name": "makoshichi", "link": "https://stackoverflow.com/users/618490/makoshichi"}, "edited": false, "score": 0, "creation_date": 1458759967, "post_id": 36186434, "comment_id": 60008551, "body": "Nice! Like I said, C++ isn&#39;t my forte, but I see both &quot;what you did there&quot; and where I was wrong. Many thanks!"}, {"owner": {"reputation": 7876, "user_id": 2321874, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fbIIO.jpg?s=128&g=1", "display_name": "Mihai Caracostea", "link": "https://stackoverflow.com/users/2321874/mihai-caracostea"}, "reply_to_user": {"reputation": 1981, "user_id": 618490, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/244dd40ac73e282859bb528d2411431f?s=128&d=identicon&r=PG", "display_name": "makoshichi", "link": "https://stackoverflow.com/users/618490/makoshichi"}, "edited": false, "score": 1, "creation_date": 1458760135, "post_id": 36186434, "comment_id": 60008647, "body": "@S.O. That&#39;s how we all learn... Keep up the good work! Cheers!"}], "tags": [], "owner": {"reputation": 7876, "user_id": 2321874, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fbIIO.jpg?s=128&g=1", "display_name": "Mihai Caracostea", "link": "https://stackoverflow.com/users/2321874/mihai-caracostea"}, "is_accepted": true, "score": 2, "last_activity_date": 1458759117, "creation_date": 1458759117, "answer_id": 36186434, "question_id": 36186331, "link": "https://stackoverflow.com/questions/36186331/c-p-invoke-native-output-parameter-value-wont-reach-managed-code/36186434#36186434", "title": "C# P/Invoke: native output parameter value won&#39;t reach managed code", "body": "<p>I think you are getting a bad result because in your C++ code you are actually changing the parameter <code>number</code> by setting it to another pointer.</p>\n\n<p>I believe that your change will only be visible in your function <code>outTest</code>'s scope.</p>\n\n<p>However, if you change the value where the pointer ... points... that's should be a different story. Pretty much like this:</p>\n\n<pre><code>*number = *number + 10;\n</code></pre>\n\n<p>EDIT: This bit is not tested. Oh... and also... I haven't written anything in C++ for ages. Might as well be totally wrong.</p>\n"}], "owner": {"reputation": 1981, "user_id": 618490, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/244dd40ac73e282859bb528d2411431f?s=128&d=identicon&r=PG", "display_name": "makoshichi", "link": "https://stackoverflow.com/users/618490/makoshichi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 36186434, "answer_count": 1, "score": 0, "last_activity_date": 1458759117, "creation_date": 1458758782, "question_id": 36186331, "link": "https://stackoverflow.com/questions/36186331/c-p-invoke-native-output-parameter-value-wont-reach-managed-code", "title": "C# P/Invoke: native output parameter value won&#39;t reach managed code", "body": "<p>I'm marshalling a native C++ DLL to a C# DLL. I'm not very acknowledged in C/C++, but I've managed to make it work until I got stuck on this problem. Here's a very simplistic code example:</p>\n\n<p>C++</p>\n\n<pre><code>PROASADLL __declspec(dllexport) void outTest(int* number){\n    int temp = *number + 10;\n    number = &amp;temp; //*number = 12\n}\n</code></pre>\n\n<p>C#</p>\n\n<pre><code>[DllImport(\"ProAsaNativeDll.dll\", CallingConvention = CallingConvention.Cdecl)]\nprivate static extern void outTest(ref int number);\n\npublic static int OutTest()\n{\n    int number = 2;\n    outTest(ref number);\n    return number; //number = 2\n}\n</code></pre>\n\n<p>Please notice that I'm my real scenario, I'm trying to get this to work with a pointer to pointer to struct but I decided to leave it out as it is not a marshalling issue; not even this simple code will work. The C++ code works but I wouldn't rule out being dumb and having a problem there: like I said, I don't know much C/C++.</p>\n\n<p>The number variable value in the C# wrapper method won't change. Please help.</p>\n"}, {"tags": ["c#", "arrays", "ienumerable"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4455045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27202bd7fca0c9891c8dafdf080d29f1?s=128&d=identicon&r=PG&f=1", "display_name": "Aaru", "link": "https://stackoverflow.com/users/4455045/aaru"}, "edited": false, "score": 0, "creation_date": 1458759137, "post_id": 36186362, "comment_id": 60008069, "body": "Yes, I just ran into that exception. So afterwards I could then just <code>adapterDesc.ToArray();</code> This works perfectly, thank you.  I like that one line Linq!"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 2, "last_activity_date": 1458759140, "last_edit_date": 1458759140, "creation_date": 1458758887, "answer_id": 36186362, "question_id": 36186290, "link": "https://stackoverflow.com/questions/36186290/setting-the-value-of-an-index-of-a-string-array-to-that-of-an-item-within-an-enu/36186362#36186362", "title": "Setting the value of an index of a string array to that of an item within an Enumerable array by using a &quot;foreach&quot; statement.", "body": "<p>No, that code will fail with an <code>IndexOutOfRange</code> exception because you have declared an array of strings that could contain zero elements.<br>\nSo when you try to set the first element it will crash.</p>\n\n<p>Instead you could use a List where you can add elements dynamically</p>\n\n<pre><code>List&lt;string&gt; adapterDesc = new List&lt;string&gt;();\nforeach(NetworkInterface adapter in adapters)\n{\n    adapterDesc.Add(adapter.Description);\n}\n...\n</code></pre>\n\n<p>A List is more flexible than an array because you don't have to know before the size of the array and you could still use it like it was an array</p>\n\n<pre><code>for(int x = 0; x &lt; adapterDesc; x++)\n{\n     Console.WriteLine(adapterDesc[x]);\n}\n</code></pre>\n\n<p>If you want to use Linq then you could even reduce your code to a single line with </p>\n\n<pre><code>string[] adapterDesc = NetworkInterface.GetAllNetworkInterfaces()\n                              .Select(ni =&gt; ni.Description)\n                              .ToArray();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4455045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27202bd7fca0c9891c8dafdf080d29f1?s=128&d=identicon&r=PG&f=1", "display_name": "Aaru", "link": "https://stackoverflow.com/users/4455045/aaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 36186362, "answer_count": 1, "score": 2, "last_activity_date": 1458759140, "creation_date": 1458758603, "question_id": 36186290, "link": "https://stackoverflow.com/questions/36186290/setting-the-value-of-an-index-of-a-string-array-to-that-of-an-item-within-an-enu", "title": "Setting the value of an index of a string array to that of an item within an Enumerable array by using a &quot;foreach&quot; statement.", "body": "<p>Is this the best way to set each item of a string array to that of an Enumerable array? I came up with this approach on my own, I tried to use my google-foo but couldn't really come up with coherent sentences to describe what i'm trying to do here..</p>\n\n<pre><code>string[] adapterDesc = new string[] {};\nint i = 0;\nforeach(NetworkInterface adapter in adapters)\n{\n    adapterDesc[i] = adapter.Description;\n    i++;\n}\n...\n</code></pre>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 1, "creation_date": 1458758790, "post_id": 36186276, "comment_id": 60007880, "body": "how about creating one instance for each thread in the thread local storage?"}, {"owner": {"reputation": 10168, "user_id": 344638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dieij.jpg?s=128&g=1", "display_name": "antiduh", "link": "https://stackoverflow.com/users/344638/antiduh"}, "edited": false, "score": 0, "creation_date": 1458758913, "post_id": 36186276, "comment_id": 60007950, "body": "How about using a pool?"}], "answers": [{"comments": [{"owner": {"reputation": 1567, "user_id": 162215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/09cFp.jpg?s=128&g=1", "display_name": "Iain", "link": "https://stackoverflow.com/users/162215/iain"}, "edited": false, "score": 5, "creation_date": 1514946145, "post_id": 36186378, "comment_id": 83114491, "body": "JSON.NET does contain thread-unsafe classes (obviously), this is just a generic product feature matrix."}], "tags": [], "owner": {"reputation": 36615, "user_id": 111266, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/441c43192e97e0374d0c18d8c37ebe47?s=128&d=identicon&r=PG", "display_name": "Joe Enos", "link": "https://stackoverflow.com/users/111266/joe-enos"}, "is_accepted": false, "score": 14, "last_activity_date": 1458758930, "creation_date": 1458758930, "answer_id": 36186378, "question_id": 36186276, "link": "https://stackoverflow.com/questions/36186276/is-the-json-net-jsonserializer-threadsafe/36186378#36186378", "title": "Is the Json.NET JsonSerializer threadsafe?", "body": "<p>According to the <a href=\"http://www.newtonsoft.com/json/help/html/JsonNetVsDotNetSerializers.htm\">Feature Comparison</a> on the Newtonsoft site, it is thread safe, as are <code>DataContractJsonSerializer</code>\nand <code>JavaScriptSerializer</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DrLch.png\"><img src=\"https://i.stack.imgur.com/DrLch.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 3669277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bae8cd0428af9af9f4918bc94659f4e?s=128&d=identicon&r=PG", "display_name": "Tichau", "link": "https://stackoverflow.com/users/3669277/tichau"}, "edited": false, "score": 1, "creation_date": 1473260074, "post_id": 36189439, "comment_id": 66074454, "body": "Be careful with Json.NET version, we used the version 7.0.1 and JsonTextReader was not thread safe. After an update to the version 9.0.1 it works fine."}, {"owner": {"reputation": 44198, "user_id": 11829, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e43cefbb045bbe6e800589876dc5677b?s=128&d=identicon&r=PG", "display_name": "James Newton-King", "link": "https://stackoverflow.com/users/11829/james-newton-king"}, "reply_to_user": {"reputation": 195, "user_id": 3669277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bae8cd0428af9af9f4918bc94659f4e?s=128&d=identicon&r=PG", "display_name": "Tichau", "link": "https://stackoverflow.com/users/3669277/tichau"}, "edited": false, "score": 12, "creation_date": 1509067632, "post_id": 36189439, "comment_id": 80879859, "body": "JsonTextReader has state specific to the JSON it is reading and will never be thread safe."}, {"owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "edited": false, "score": 2, "creation_date": 1555618407, "post_id": 36189439, "comment_id": 98182671, "body": "@JamesNewton-King Very late to chime in but would you concur with my <a href=\"https://stackoverflow.com/a/55753104/62600\">answer</a> that <code>JsonSerializer</code> is so cheap to create that doing it on demand should work just fine in the vast majority of scenarios?"}], "tags": [], "owner": {"reputation": 44198, "user_id": 11829, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e43cefbb045bbe6e800589876dc5677b?s=128&d=identicon&r=PG", "display_name": "James Newton-King", "link": "https://stackoverflow.com/users/11829/james-newton-king"}, "is_accepted": true, "score": 49, "last_activity_date": 1458772243, "last_edit_date": 1458772243, "creation_date": 1458770108, "answer_id": 36189439, "question_id": 36186276, "link": "https://stackoverflow.com/questions/36186276/is-the-json-net-jsonserializer-threadsafe/36189439#36189439", "title": "Is the Json.NET JsonSerializer threadsafe?", "body": "<blockquote>\n  <p>Inspecting the code it appears that the serialization and deserialization methods are threadsafe, as long as you don't change any settings on the object at the same time.</p>\n</blockquote>\n\n<p>Correct, JsonSerializer is threadsafe.</p>\n\n<p>No state is shared while serializing but if you change a setting on the JsonSerializer while in the middle of serializing an object then those will automatically be used.</p>\n"}, {"comments": [{"owner": {"reputation": 1567, "user_id": 162215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/09cFp.jpg?s=128&g=1", "display_name": "Iain", "link": "https://stackoverflow.com/users/162215/iain"}, "edited": false, "score": 0, "creation_date": 1514945947, "post_id": 45358465, "comment_id": 83114456, "body": "Pls clarify - is &quot;the default <code>ReferenceResolver</code>&quot; threadsafe? If not then I guess <code>JsonSerializer</code> is unsafe too?"}, {"owner": {"reputation": 896, "user_id": 8137269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58db6f1ce41fc08e535ca95c7555db37?s=128&d=identicon&r=PG", "display_name": "TylerBrinkley", "link": "https://stackoverflow.com/users/8137269/tylerbrinkley"}, "reply_to_user": {"reputation": 1567, "user_id": 162215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/09cFp.jpg?s=128&g=1", "display_name": "Iain", "link": "https://stackoverflow.com/users/162215/iain"}, "edited": false, "score": 2, "creation_date": 1514991286, "post_id": 45358465, "comment_id": 83133470, "body": "I&#39;ve updated my answer. I also included a reference to a bug in the default <code>ReferenceResolver</code>."}], "tags": [], "owner": {"reputation": 896, "user_id": 8137269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58db6f1ce41fc08e535ca95c7555db37?s=128&d=identicon&r=PG", "display_name": "TylerBrinkley", "link": "https://stackoverflow.com/users/8137269/tylerbrinkley"}, "is_accepted": false, "score": 8, "last_activity_date": 1514991221, "last_edit_date": 1514991221, "creation_date": 1501180110, "answer_id": 45358465, "question_id": 36186276, "link": "https://stackoverflow.com/questions/36186276/is-the-json-net-jsonserializer-threadsafe/45358465#45358465", "title": "Is the Json.NET JsonSerializer threadsafe?", "body": "<p>If you don't use references, <code>JsonSerializer</code> is thread-safe. There are however a few issues when using references in a multi-threaded context.</p>\n\n<p>First, there is a bug in the default <code>ReferenceResolver</code> that may cause duplicate reference id's to be used. See the GitHub issue <a href=\"https://github.com/JamesNK/Newtonsoft.Json/issues/1452\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Secondly, when reusing a <code>JsonSerializer</code> the default <code>ReferenceResolver</code> is stateful so that if you use references your reference ids will continue to increment with each serialization call you make instead of starting at 1 for each. I created a GitHub issue to address this problem <a href=\"https://github.com/JamesNK/Newtonsoft.Json/issues/1391\" rel=\"noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6825, "user_id": 76263, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0637fd7c886c46b701cccc70df91259f?s=128&d=identicon&r=PG", "display_name": "Brian Reischl", "link": "https://stackoverflow.com/users/76263/brian-reischl"}, "edited": false, "score": 0, "creation_date": 1555684697, "post_id": 55753104, "comment_id": 98201501, "body": "If your service does thousands or 10&#39;s of thousands of requests/sec (inbound &amp; outbound) this stuff can matter. And many libraries are optimized for usability rather than performance, so I would not blithely assume that if it mattered <i>for your particular case</i> then the library would&#39;ve handled it already. That said, using a more efficient protocol (eg, Protobuf) would be an even better option, if possible.  Also, IDK why you&#39;re going off of suspicions and guesses when <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/JsonSerializer.cs\" rel=\"nofollow noreferrer\">the code is easily available</a>."}, {"owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "reply_to_user": {"reputation": 6825, "user_id": 76263, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0637fd7c886c46b701cccc70df91259f?s=128&d=identicon&r=PG", "display_name": "Brian Reischl", "link": "https://stackoverflow.com/users/76263/brian-reischl"}, "edited": false, "score": 1, "creation_date": 1555686078, "post_id": 55753104, "comment_id": 98202112, "body": "@BrianReischl Of course the code is easily available, which is why I linked to it and even pasted a snippet of it. :) I made no suspicion or guess about the current state of the code; I actually studied it closely before posting. My only speculation was about <i>why</i> they chose not to cache <code>JsonSerializer</code> instances for use by static <code>JsonConvert</code> methods. Difficult to implement? Not at all. No one thought to suggest it? Highly unlikely given its millions of users. So cheap to create that in the vast majority of cases it doesn&#39;t really matter? That&#39;s the most logical reason in my mind."}, {"owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "reply_to_user": {"reputation": 6825, "user_id": 76263, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0637fd7c886c46b701cccc70df91259f?s=128&d=identicon&r=PG", "display_name": "Brian Reischl", "link": "https://stackoverflow.com/users/76263/brian-reischl"}, "edited": false, "score": 1, "creation_date": 1555686106, "post_id": 55753104, "comment_id": 98202130, "body": "I don&#39;t at all dispute that &quot;this stuff can matter&quot;, but how much so is a function of how &quot;expensive&quot; it is to create and hold many instances of the object in question. I even asked JNK in his answer above if he could confirm my hunches. If I&#39;m wrong, I&#39;ll gladly retract my answer. :)"}], "tags": [], "owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "is_accepted": false, "score": 1, "last_activity_date": 1555618214, "creation_date": 1555618214, "answer_id": 55753104, "question_id": 36186276, "link": "https://stackoverflow.com/questions/36186276/is-the-json-net-jsonserializer-threadsafe/55753104#55753104", "title": "Is the Json.NET JsonSerializer threadsafe?", "body": "<blockquote>\n  <p>I noticed that we're creating a new Json.NET <code>JsonSerializer</code> instance for each request. It is not the most lightweight object ever...</p>\n</blockquote>\n\n<p>Maybe not \"ever\", but I suspect it's a very inexpensive object to create, because the library itself does this routinely, such as the static and oft-used <code>JsonConvert.SerializeObject</code> method, which is <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/JsonConvert.cs\" rel=\"nofollow noreferrer\">defined</a> like this:</p>\n\n<pre><code>public static string SerializeObject(object value, Type type, JsonSerializerSettings settings)\n{\n    JsonSerializer jsonSerializer = JsonSerializer.CreateDefault(settings);\n\n    return SerializeObjectInternal(value, type, jsonSerializer);\n}\n</code></pre>\n\n<p>Given the maturity and popularity of the library, I suspect that if <code>JsonSerializer</code> was even a little expensive to create, some effort would have been made to cache them in these static methods. So although it's thread safe, I still think that unless it's the most extreme of circumstances you're going to be fine creating them on demand.</p>\n"}], "owner": {"reputation": 6825, "user_id": 76263, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0637fd7c886c46b701cccc70df91259f?s=128&d=identicon&r=PG", "display_name": "Brian Reischl", "link": "https://stackoverflow.com/users/76263/brian-reischl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9103, "favorite_count": 1, "accepted_answer_id": 36189439, "answer_count": 4, "score": 40, "last_activity_date": 1555618214, "creation_date": 1458758559, "question_id": 36186276, "link": "https://stackoverflow.com/questions/36186276/is-the-json-net-jsonserializer-threadsafe", "title": "Is the Json.NET JsonSerializer threadsafe?", "body": "<p>I'm trying to reduce the amount of garbage my web service generates, and I noticed that we're creating a new Json.NET <code>JsonSerializer</code> instance for each request. It is not the most lightweight object ever, so I'm wondering if I can just create a single instance and reuse it for all requests. Primarily this requires that it be threadsafe during serialization and deserialization.</p>\n\n<p><a href=\"http://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonSerializer.htm\">The documentation</a> doesn't say whether it's threadsafe or not. </p>\n\n<p>Inspecting <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/ce2a08dba228341742d96e8c8edfede6748d5bdc/Src/Newtonsoft.Json/JsonSerializer.cs\">the code</a> it appears that the serialization and deserialization methods are threadsafe, as long as you don't change any settings on the object at the same time. However, it's a complex class so I'm not 100% sure of my analysis. </p>\n\n<p>Has anyone tried reusing instances of <code>JsonSerializer</code> and had it work or not? Are there any known problems with reusing it?</p>\n"}, {"tags": ["c#", "ef-code-first", "entity-framework-6"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1458760991, "post_id": 36186240, "comment_id": 60009202, "body": "Your first example looks more readable, although you are missing the check for duplicate Id&#39;s."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1718486, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52db6a5343495aa6f9fcb7a2dc3ba401?s=128&d=identicon&r=PG", "display_name": "g5insider", "link": "https://stackoverflow.com/users/1718486/g5insider"}, "edited": false, "score": 0, "creation_date": 1458763340, "post_id": 36187359, "comment_id": 60010511, "body": "I understand that but what I&#39;m asking is which is the ideal/best practice approach to seeding the database."}, {"owner": {"reputation": 891, "user_id": 1289309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d7934236328118d70f811978769ae2cd?s=128&d=identicon&r=PG", "display_name": "Jeff Dunlop", "link": "https://stackoverflow.com/users/1289309/jeff-dunlop"}, "reply_to_user": {"reputation": 99, "user_id": 1718486, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52db6a5343495aa6f9fcb7a2dc3ba401?s=128&d=identicon&r=PG", "display_name": "g5insider", "link": "https://stackoverflow.com/users/1718486/g5insider"}, "edited": false, "score": 1, "creation_date": 1458794156, "post_id": 36187359, "comment_id": 60020924, "body": "The one that doesn&#39;t pop an exception."}], "tags": [], "owner": {"reputation": 891, "user_id": 1289309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d7934236328118d70f811978769ae2cd?s=128&d=identicon&r=PG", "display_name": "Jeff Dunlop", "link": "https://stackoverflow.com/users/1289309/jeff-dunlop"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762326, "creation_date": 1458762326, "answer_id": 36187359, "question_id": 36186240, "link": "https://stackoverflow.com/questions/36186240/which-method-is-ideal-when-seeding-a-database-with-code-first-migrations/36187359#36187359", "title": "Which method is ideal when Seeding a database with Code First Migrations?", "body": "<p>Seed always runs. The second example will pop a duplicate key exception. </p>\n"}], "owner": {"reputation": 99, "user_id": 1718486, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52db6a5343495aa6f9fcb7a2dc3ba401?s=128&d=identicon&r=PG", "display_name": "g5insider", "link": "https://stackoverflow.com/users/1718486/g5insider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458762326, "creation_date": 1458758453, "last_edit_date": 1458761509, "question_id": 36186240, "link": "https://stackoverflow.com/questions/36186240/which-method-is-ideal-when-seeding-a-database-with-code-first-migrations", "title": "Which method is ideal when Seeding a database with Code First Migrations?", "body": "<p>I've seen a few different approaches to seeding databases using the AddOrUpdate method.</p>\n\n<p>1.</p>\n\n<pre><code>    context.People.AddOrUpdate(\n      new Person() { Id = 1, Name = \"Harry\", LastName=\"Henderson\"},\n      new Person() { Id= 2, Name = \"Henry\", LastName=\"Ford\"}\n    );\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>    var people = new List&lt;Person&gt;{\n    new Person{Id= 1, Name = \"Harry\", LastName=\"Henderson\"},\n    new Person{Id= 2, Name = \"Henry\", LastName=\"Ford\"}\n};\n    people.ForEach(newPerson =&gt; context.People.AddOrUpdate(alreadyExistsProperty =&gt; alreadyExistsProperty.Id, newPerson));\n    context.SaveChanges();\n</code></pre>\n\n<p>Can someone please explain which is the more ideal/best practice approach. Why would you do one over the other or does it not matter at all?</p>\n"}, {"tags": ["c#", "android", "unity3d", "screen", "screenshot"], "comments": [{"owner": {"reputation": 1412, "user_id": 5905414, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e909accd8240cbab1cae7fe9d07463ab?s=128&d=identicon&r=PG&f=1", "display_name": "RCYR", "link": "https://stackoverflow.com/users/5905414/rcyr"}, "edited": false, "score": 0, "creation_date": 1458760125, "post_id": 36186209, "comment_id": 60008641, "body": "You could save the screenshot in another thread instead of saving it in a coroutine which is executed on the main thread thus introducing lag into your application."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 1412, "user_id": 5905414, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e909accd8240cbab1cae7fe9d07463ab?s=128&d=identicon&r=PG&f=1", "display_name": "RCYR", "link": "https://stackoverflow.com/users/5905414/rcyr"}, "edited": false, "score": 0, "creation_date": 1458760854, "post_id": 36186209, "comment_id": 60009105, "body": "@RCYR Capturescreenshot can only be called from the main thread."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1458767886, "post_id": 36186209, "comment_id": 60013006, "body": "what the hell&#39;s that command for sort of changing the framerate while you make screenshot videos? there was a question on it here lately.."}, {"owner": {"reputation": 155, "user_id": 6093615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adea7c726b6eb6552be3a723106c7780?s=128&d=identicon&r=PG&f=1", "display_name": "mt3d", "link": "https://stackoverflow.com/users/6093615/mt3d"}, "edited": false, "score": 1, "creation_date": 1563979180, "post_id": 36186209, "comment_id": 100881449, "body": "Check out this repo: <a href=\"https://github.com/keijiro/AsyncCaptureTest\" rel=\"nofollow noreferrer\">github.com/keijiro/AsyncCaptureTest</a> . It use the asynchronous GPU readback API (introduced in Unity 2018.1) to capture renders without blocking the main thread. The developer of it works at Unity Japan."}], "answers": [{"comments": [{"owner": {"reputation": 1968, "user_id": 2329060, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AzJOS.jpg?s=128&g=1", "display_name": "Aray Karjauv", "link": "https://stackoverflow.com/users/2329060/aray-karjauv"}, "edited": false, "score": 0, "creation_date": 1518538393, "post_id": 36188311, "comment_id": 84543182, "body": "<code>ReadPixels()</code> is very slow, because it will trigger a GPU flush which means waiting for all remaining commands in the current command buffer to execute"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 1968, "user_id": 2329060, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AzJOS.jpg?s=128&g=1", "display_name": "Aray Karjauv", "link": "https://stackoverflow.com/users/2329060/aray-karjauv"}, "edited": false, "score": 0, "creation_date": 1524838129, "post_id": 36188311, "comment_id": 87145025, "body": "@Aray so what is the alternative?"}, {"owner": {"reputation": 1968, "user_id": 2329060, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AzJOS.jpg?s=128&g=1", "display_name": "Aray Karjauv", "link": "https://stackoverflow.com/users/2329060/aray-karjauv"}, "reply_to_user": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1525173701, "post_id": 36188311, "comment_id": 87248284, "body": "@pookie unfortunately I don&#39;t. there is a project made by udacity and nvidia. they probably have done it somehow <a href=\"https://github.com/udacity/self-driving-car-sim\" rel=\"nofollow noreferrer\">github.com/udacity/self-driving-car-sim</a>"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 1968, "user_id": 2329060, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AzJOS.jpg?s=128&g=1", "display_name": "Aray Karjauv", "link": "https://stackoverflow.com/users/2329060/aray-karjauv"}, "edited": false, "score": 1, "creation_date": 1525174873, "post_id": 36188311, "comment_id": 87248812, "body": "@Aray thanks, I checked.  They are using the exact same technique as I. See 1_SelfDrivingCar/scripts/camera helper.cs in their code."}], "tags": [], "owner": {"reputation": 155, "user_id": 6093615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adea7c726b6eb6552be3a723106c7780?s=128&d=identicon&r=PG&f=1", "display_name": "mt3d", "link": "https://stackoverflow.com/users/6093615/mt3d"}, "is_accepted": false, "score": 2, "last_activity_date": 1458765697, "creation_date": 1458765697, "answer_id": 36188311, "question_id": 36186209, "link": "https://stackoverflow.com/questions/36186209/take-screenshot-in-unity3d-with-no-lags/36188311#36188311", "title": "Take screenshot in Unity3D with no lags", "body": "<p><code>Application.CaptureScreenshot()</code> is slow in general, a faster way is to use a <code>Texture2D</code> and read all the pixels on the screen on it using <code>ReadPixels()</code> function than you can encode and save the texture to the hard drive.</p>\n\n<p>This is an example of this method:</p>\n\n<pre><code>Texture2D screenShot = new Texture2D(Screen.width, Screen.height);\nscreenShot.ReadPixels(new Rect(0,0,Screen.width,Screen.height),0,0);\nscreenShot.Apply();\nbyte[] bytes = tex.EncodeToPNG();\nObject.Destroy(tex);\nFile.WriteAllBytes(Application.dataPath + \"/../myScreenShot.png\", bytes);\n</code></pre>\n\n<p>For a full reference you can use Unity scripting reference page <a href=\"http://docs.unity3d.com/ScriptReference/Texture2D.html\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "edited": false, "score": 0, "creation_date": 1458826476, "post_id": 36192872, "comment_id": 60036277, "body": "I used your code and the same lag appears when I make screenimage during the gameplay. Lag is a little bit less noticeble like with Application.Capturescreenshot(...) Thanks, anyway. It&#39;s better but just a lttle bit"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "edited": false, "score": 0, "creation_date": 1458840931, "post_id": 36192872, "comment_id": 60046259, "body": "You mean my solution is 20% better than Application.Capturescreenshot(...) or Application.Capturescreenshot(...) is better than my solution?"}, {"owner": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "edited": false, "score": 0, "creation_date": 1458901974, "post_id": 36192872, "comment_id": 60068062, "body": "Here how it goes: Firstly I tested on Xiaomi Redmi Note 2, and your solution was 20%better than Application.Capturescreenshot(...) andI wrote you the answer, than I tested on another phone, which is a little bit weaker than Note 2, and there your suggestion is much worse than Application.Capturescreenshot(...), it frethes a game for 0,7 second or so."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "edited": false, "score": 0, "creation_date": 1458944904, "post_id": 36192872, "comment_id": 60089269, "body": "Well I dont know what to tell you. I tested it with Windows and used the profiler to reduce the slowdown as much as I could. Test it on iphone too. It should make a big difference because there are many android devices out there and the one that didn&#39;t do good is probably because it is a low end device."}, {"owner": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "edited": false, "score": 0, "creation_date": 1458967346, "post_id": 36192872, "comment_id": 60094371, "body": "Firstly was processor Mediatec X10 than Snapdragon 615.   615 is not low end processor, it&#39;s mid range segment. Thank you for your code suggestion,though."}, {"owner": {"reputation": 17872, "user_id": 357189, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0419959b0df88db1e2fe2d08a4789908?s=128&d=identicon&r=PG", "display_name": "ina", "link": "https://stackoverflow.com/users/357189/ina"}, "edited": false, "score": 0, "creation_date": 1495074319, "post_id": 36192872, "comment_id": 75101665, "body": "i wonder if you tried this without the loops that do nothing but kill time?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "reply_to_user": {"reputation": 17872, "user_id": 357189, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0419959b0df88db1e2fe2d08a4789908?s=128&d=identicon&r=PG", "display_name": "ina", "link": "https://stackoverflow.com/users/357189/ina"}, "edited": false, "score": 0, "creation_date": 1495074613, "post_id": 36192872, "comment_id": 75101728, "body": "@ina Yes,it can be done without those loops. This answer was provided when I was still new to Unity but it seems to be working well. I will update this post this weekend with much more better way. Check back on btw Saturday and Sunday"}, {"owner": {"reputation": 1968, "user_id": 2329060, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AzJOS.jpg?s=128&g=1", "display_name": "Aray Karjauv", "link": "https://stackoverflow.com/users/2329060/aray-karjauv"}, "edited": false, "score": 0, "creation_date": 1518538249, "post_id": 36192872, "comment_id": 84543101, "body": "@Programmer any updates? I think, I&#39;ve read all your post about taking screenshot, but I still didn&#39;t achieve desired performance."}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1525174988, "post_id": 36192872, "comment_id": 87248860, "body": "Don&#39;t forget to destroy that textured2d at the end so that you prevent memory leaking."}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": false, "score": 8, "last_activity_date": 1458790839, "creation_date": 1458790839, "answer_id": 36192872, "question_id": 36186209, "link": "https://stackoverflow.com/questions/36186209/take-screenshot-in-unity3d-with-no-lags/36192872#36192872", "title": "Take screenshot in Unity3D with no lags", "body": "<p>The <strong>cause</strong> of <strong>lag</strong> while taking picture is when you try to perform all steps at the same time <strong>without</strong> <strong>waiting</strong> after each step. To fix this, you <strong>perform</strong> one action and wait for <strong>many</strong> frames then perform the next action then <strong>wait</strong> again. And if you decide to <strong>save</strong> the picture during game-play, use <strong>Thread</strong> to save the picture.  <code>EncodeToPNG()</code> is another <strong>problem</strong> but I will talk about <strong>another</strong> solution for it later on.</p>\n\n<p>The code below is good if you want to take screen shot then display it right away while game is running.\nIt will take picture right way then take about 1.5 seconds to save the file.</p>\n\n<pre><code> IEnumerator screenShotCoroutine()\n{\n    yield return new WaitForEndOfFrame();\n    string path = Application.persistentDataPath + \"/DrukaloScreenshot.png\";\n\n    Texture2D screenImage = new Texture2D(Screen.width, Screen.height);\n\n    //Get Image from screen\n    screenImage.ReadPixels(new Rect(0, 0, Screen.width, Screen.height), 0, 0);\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 15; i++)\n    {\n        yield return null;\n    }\n\n    screenImage.Apply();\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 15; i++)\n    {\n        yield return null;\n    }\n\n    //Convert to png(Expensive)\n    byte[] imageBytes = screenImage.EncodeToPNG();\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 15; i++)\n    {\n        yield return null;\n    }\n\n    //Create new thread then save image to file\n    new System.Threading.Thread(() =&gt;\n    {\n        System.Threading.Thread.Sleep(100);\n        File.WriteAllBytes(path, imageBytes);\n    }).Start();\n}\n</code></pre>\n\n<p>If you want to take the picture and you are <strong>not</strong> required to display the image right away, you can save the picture as <strong>raw</strong> <code>Texture2D</code>, then when you want to access/load/display the picture later on, you can <strong>read</strong> it from <strong>file</strong> then convert it to <strong>PNG</strong> later on. The reason for this is that <code>EncodeToPNG()</code> is very <strong>expensive</strong> so if you don't need the picture right away, there is no need to convert it to png. You can do that <strong>only</strong> when you actually <strong>need</strong> it as <strong>png</strong>. So now we can just save it as \"<strong>.t2D</strong>\" then load it after and convert the loaded image to \"<strong>.png</strong>\".</p>\n\n<p>Save as Texture2D \"<strong>.t2D</strong>\"</p>\n\n<pre><code>IEnumerator screenShotCoroutine()\n    {\n        yield return new WaitForEndOfFrame();\n        string path = Application.persistentDataPath + \"/DrukaloScreenshot.t2D\";\n\n        Texture2D screenImage = new Texture2D(Screen.width, Screen.height);\n\n        //Get Picture\n        screenImage.ReadPixels(new Rect(0, 0, Screen.width, Screen.height), 0, 0);\n\n        //Wait for a long time\n        for (int i = 0; i &lt; 15; i++)\n        {\n            yield return null;\n        }\n\n        screenImage.Apply();\n\n        //Wait for a long time\n        for (int i = 0; i &lt; 15; i++)\n        {\n            yield return null;\n        }\n\n        byte[] rawData = screenImage.GetRawTextureData();\n\n        //Wait for a long time\n        for (int i = 0; i &lt; 15; i++)\n        {\n            yield return null;\n        }\n\n        //Create new thread then save image\n        new System.Threading.Thread(() =&gt;\n        {\n            System.Threading.Thread.Sleep(100);\n            File.WriteAllBytes(path, rawData);\n        }).Start();\n    }\n</code></pre>\n\n<p>Then when you actually need the image, load Texture2D \"<strong>.t2D</strong>\" and then covert it to \"<strong>.png</strong>\" followed by deleting the old \"<strong>.t2D</strong>\". </p>\n\n<pre><code>IEnumerator screenShotCoroutine()\n{\n    string path = Application.persistentDataPath + \"/DrukaloScreenshot.t2D\";\n    string newPath = Application.persistentDataPath + \"/DrukaloScreenshot.png\";\n\n    Texture2D screenImage = new Texture2D(Screen.width, Screen.height);\n\n    byte[] rawData = null;\n\n    //Create new thread then Load image\n    new System.Threading.Thread(() =&gt;\n    {\n        System.Threading.Thread.Sleep(100);\n        rawData = File.ReadAllBytes(path);\n    }).Start();\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 9; i++)\n    {\n        yield return null;\n    }\n\n    //Put loaded bytes to Texture2D \n    screenImage.LoadRawTextureData(rawData);\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 9; i++)\n    {\n        yield return null;\n    }\n\n    screenImage.Apply();\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 9; i++)\n    {\n        yield return null;\n    }\n\n    //convert to png\n    byte[] pngByte = screenImage.EncodeToPNG();\n\n    //Wait for a long time\n    for (int i = 0; i &lt; 9; i++)\n    {\n        yield return null;\n    }\n\n    //Do whatever you want with the png file(display to screen or save as png)\n\n\n    //Create new thread and Save the new png file, then Delete Old image(DrukaloScreenshot.t2D)\n    new System.Threading.Thread(() =&gt;\n    {\n        System.Threading.Thread.Sleep(100);\n        File.WriteAllBytes(newPath, pngByte); //Save the new png file(DrukaloScreenshot.png)\n        File.Delete(path); //Delete old file (DrukaloScreenshot.t2D)\n    }).Start();\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 4698469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abef19b7fbad30e14b8e64b8935622c4?s=128&d=identicon&r=PG&f=1", "display_name": "Drukalo", "link": "https://stackoverflow.com/users/4698469/drukalo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10399, "favorite_count": 5, "answer_count": 2, "score": 3, "last_activity_date": 1511254816, "creation_date": 1458758353, "last_edit_date": 1458758852, "question_id": 36186209, "link": "https://stackoverflow.com/questions/36186209/take-screenshot-in-unity3d-with-no-lags", "title": "Take screenshot in Unity3D with no lags", "body": "<p>I have tried each of variants: <a href=\"http://wiki.unity3d.com/index.php/ScreenCapture\" rel=\"nofollow\">http://wiki.unity3d.com/index.php/ScreenCapture</a>\nAfterall, simple Application.Capturescreenshot(...) is the least laggy.</p>\n\n<p>Please, tell me, How I can take screenshots without ANY lags? \nLots of games on Android has thiis feature, so it's not impossible.</p>\n"}]