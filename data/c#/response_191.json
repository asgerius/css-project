[{"tags": ["c#", "xamarin.ios", "asp.net-core-signalr"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1536191958, "post_id": 52194747, "comment_id": 91339136, "body": "what is the <i>exact</i> exception(s)?"}, {"owner": {"reputation": 61, "user_id": 10317388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00239928a197c3bd5338fa8e412e1a25?s=128&d=identicon&r=PG&f=1", "display_name": "BillyMutt", "link": "https://stackoverflow.com/users/10317388/billymutt"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1536192500, "post_id": 52194747, "comment_id": 91339235, "body": "Here it is: A suitable constructor for type Microsoft.AspNetCore.SignalR.Client.HttpConnectionFactory could not be located. Ensure the type is concrete and services are registered for all parameters of a public constructor."}, {"owner": {"reputation": 24288, "user_id": 1466046, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Fa7gP.png?s=128&g=1", "display_name": "magicandre1981", "link": "https://stackoverflow.com/users/1466046/magicandre1981"}, "edited": false, "score": 0, "creation_date": 1536590213, "post_id": 52194747, "comment_id": 91467811, "body": "ask this on <a href=\"https://github.com/aspnet/SignalR/issues/1886\" rel=\"nofollow noreferrer\">github in the question topic</a>"}, {"owner": {"reputation": 61, "user_id": 10317388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00239928a197c3bd5338fa8e412e1a25?s=128&d=identicon&r=PG&f=1", "display_name": "BillyMutt", "link": "https://stackoverflow.com/users/10317388/billymutt"}, "reply_to_user": {"reputation": 24288, "user_id": 1466046, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Fa7gP.png?s=128&g=1", "display_name": "magicandre1981", "link": "https://stackoverflow.com/users/1466046/magicandre1981"}, "edited": false, "score": 0, "creation_date": 1536593812, "post_id": 52194747, "comment_id": 91469980, "body": "@magicandre1981 thanks for the link, I will post this question there as well."}, {"owner": {"reputation": 61, "user_id": 10317388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00239928a197c3bd5338fa8e412e1a25?s=128&d=identicon&r=PG&f=1", "display_name": "BillyMutt", "link": "https://stackoverflow.com/users/10317388/billymutt"}, "edited": false, "score": 0, "creation_date": 1536785439, "post_id": 52194747, "comment_id": 91554230, "body": "After some more investigation and testing, with assistance from the team at Microsoft, it appears that the root cause has been found. See <a href=\"https://github.com/aspnet/SignalR/issues/2933\" rel=\"nofollow noreferrer\">link</a> for details and a potental workaround (it solved my issue)."}], "owner": {"reputation": 61, "user_id": 10317388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00239928a197c3bd5338fa8e412e1a25?s=128&d=identicon&r=PG&f=1", "display_name": "BillyMutt", "link": "https://stackoverflow.com/users/10317388/billymutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 824, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536194439, "creation_date": 1536191782, "last_edit_date": 1536194439, "question_id": 52194747, "link": "https://stackoverflow.com/questions/52194747/asp-net-core-signalr-not-working-with-xamarin-ios-client", "title": "ASP.Net Core SignalR not working with Xamarin iOS client", "body": "<p>Based on the info here <a href=\"https://github.com/aspnet/Announcements/issues/305\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Announcements/issues/305</a> I was hoping to get my iOS client working with ASP.Net Core SignalR, but still no luck. I get an exception when the client tries to connect to the hub:</p>\n\n<pre><code>//  Connect to the SignalR hub.\nstring url = \n$\"http://{DataService.HostName}:{DataService.MainPort.ToString()}/hub\";\ntry\n{\n    MediaHubConnection = new HubConnectionBuilder().WithUrl(url).Build();\n}\ncatch (Exception e)\n{ // Handle exception }\n</code></pre>\n\n<p>The code above works fine in the iDevice simulator, but crashes on the device itself. I am using Visual Studio 15.8.0 with Xamarin iOS 11.14.0.13 on Windows 10, and on the Mac Visual Studio for Mac 7.6.1 Build 9 with Xamarin iOS 11.14.0.13 there as well. And the latest released Nugets for AspNetCore SignalR (server and client).</p>\n\n<p>Anyone else run into this behavior? Any help is highly appreciated.</p>\n"}, {"tags": ["c#", "assembly-binding-redirect"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536191877, "post_id": 52194698, "comment_id": 91339119, "body": "How many projects in your solution?  You need to check .exe projects not .dll projects with regards to app.config."}, {"owner": {"reputation": 794, "user_id": 6801755, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf85f23fd04bb9fd5cd29926111c8c3f?s=128&d=identicon&r=PG&f=1", "display_name": "BlueTriangles", "link": "https://stackoverflow.com/users/6801755/bluetriangles"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536192096, "post_id": 52194698, "comment_id": 91339156, "body": "About 75 projects total. What do you mean to check .exe projects instead of .dll projects? I am looking at app.config in the source folder, not in the build output folder."}, {"owner": {"reputation": 794, "user_id": 6801755, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf85f23fd04bb9fd5cd29926111c8c3f?s=128&d=identicon&r=PG&f=1", "display_name": "BlueTriangles", "link": "https://stackoverflow.com/users/6801755/bluetriangles"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536193703, "post_id": 52194698, "comment_id": 91339449, "body": "The warnings lists which project: [C:\\MyEnlistment\\Source\\MyProject\\MyProject.csproj]. That is why I am checking this MyProject folder and looking at its app.config, which does not contain any explicit binding redirects."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536208166, "post_id": 52194698, "comment_id": 91342249, "body": "Thank-you for clarification."}], "answers": [{"comments": [{"owner": {"reputation": 1226, "user_id": 4220401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3476a7d4ebcb242ea4bc97dc84157657?s=128&d=identicon&r=PG&f=1", "display_name": "demonicdaron", "link": "https://stackoverflow.com/users/4220401/demonicdaron"}, "edited": false, "score": 0, "creation_date": 1583317228, "post_id": 56598324, "comment_id": 107072235, "body": "What do you mean by &quot;references&quot; and &quot;instances&quot; in the first two points?"}, {"owner": {"reputation": 81, "user_id": 2381505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2930cb322609b412a1582fd170b36fe?s=128&d=identicon&r=PG", "display_name": "Andries Koorzen", "link": "https://stackoverflow.com/users/2381505/andries-koorzen"}, "reply_to_user": {"reputation": 1226, "user_id": 4220401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3476a7d4ebcb242ea4bc97dc84157657?s=128&d=identicon&r=PG&f=1", "display_name": "demonicdaron", "link": "https://stackoverflow.com/users/4220401/demonicdaron"}, "edited": false, "score": 0, "creation_date": 1583390323, "post_id": 56598324, "comment_id": 107101134, "body": "@demonicdaron I mean remove all dlls found in any folders that the compiler could find. Could have been fixed in the meantime. I&#39;m back to 2017 atm because of other .netcore incompatibilities."}], "tags": [], "owner": {"reputation": 81, "user_id": 2381505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2930cb322609b412a1582fd170b36fe?s=128&d=identicon&r=PG", "display_name": "Andries Koorzen", "link": "https://stackoverflow.com/users/2381505/andries-koorzen"}, "is_accepted": false, "score": 5, "last_activity_date": 1560515670, "creation_date": 1560515670, "answer_id": 56598324, "question_id": 52194698, "link": "https://stackoverflow.com/questions/52194698/the-explicit-binding-redirect-conflicts-with-an-autogenerated-binding-redirect/56598324#56598324", "title": "The explicit binding redirect conflicts with an autogenerated binding redirect", "body": "<p>For some reason VS head got a bit scrambled (VS 2019 Preview 2) </p>\n\n<p>To completely clear this error I had to do the following:</p>\n\n<ul>\n<li>Remove all references to said dll</li>\n<li>Remove all instances of dll in packages bin or packages folder</li>\n<li>Rebuild project / solution</li>\n<li>Reinstall via nuget</li>\n</ul>\n\n<p>It seems as if VS caches the DLL in memory and keeps referencing it or there is some other hidden setting which causes this behaviour. Prior to this (unsuccesfully) i tried:</p>\n\n<ul>\n<li>Uninstalled / reinstalled packages via Nuget multiple times across all projects</li>\n<li>Cleaned the app.config of explicit binding redirects</li>\n<li>Restarted VS.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 8045586, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JguXP48S0to/AAAAAAAAAAI/AAAAAAAAEvY/e37AsKrzL_M/photo.jpg?sz=128", "display_name": "cobbs_jobs", "link": "https://stackoverflow.com/users/8045586/cobbs-jobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1613180252, "creation_date": 1613180252, "answer_id": 66181127, "question_id": 52194698, "link": "https://stackoverflow.com/questions/52194698/the-explicit-binding-redirect-conflicts-with-an-autogenerated-binding-redirect/66181127#66181127", "title": "The explicit binding redirect conflicts with an autogenerated binding redirect", "body": "<p>I had a similar issue, the sequence that fixed it for me was:</p>\n<ol>\n<li>Remove problematic dependency entry from App.config</li>\n<li>Un-check Auto-generate binding redirects from project properties</li>\n<li>Uninstall &amp; Reinstall nuget package that required the dependency</li>\n<li>In my case, it prompted me to now re-check the Auto-generate binding redirects in my project properties.</li>\n</ol>\n"}], "owner": {"reputation": 794, "user_id": 6801755, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf85f23fd04bb9fd5cd29926111c8c3f?s=128&d=identicon&r=PG&f=1", "display_name": "BlueTriangles", "link": "https://stackoverflow.com/users/6801755/bluetriangles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3791, "favorite_count": 2, "answer_count": 2, "score": 8, "last_activity_date": 1613180252, "creation_date": 1536191215, "question_id": 52194698, "link": "https://stackoverflow.com/questions/52194698/the-explicit-binding-redirect-conflicts-with-an-autogenerated-binding-redirect", "title": "The explicit binding redirect conflicts with an autogenerated binding redirect", "body": "<p>I am receiving the following warning when I build my solution:</p>\n\n<blockquote>\n  <p>The explicit binding redirect on \"Microsoft.Azure.Documents.Client, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" conflicts with an autogenerated binding redirect. Consider removing it from the application configuration file or disabling autogenerated binding redirects. The build will replace it with: \"&lt; bindingRedirect oldVersion=\"0.0.0.0-1.22.0.0\" newVersion=\"1.22.0.0\" xmlns=\"urn:schemas-microsoft-com:asm.v1\" />\"</p>\n</blockquote>\n\n<p>However, my app.config file in the project is only the following, without any explicit assembly binding redirects:</p>\n\n<p><code>&lt;configuration&gt;&lt;/configuration&gt;</code></p>\n\n<p>Why is there a conflict if I do not have any explicit binding redirects? My csproj file does not have any mention of AutoGenerateBindingRedirects, for the record.</p>\n"}, {"tags": ["c#", "json", "api", "json.net"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 6077027, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/67e24d9a3c0048595043f95a71dd34c1?s=128&d=identicon&r=PG&f=1", "display_name": "chaotic", "link": "https://stackoverflow.com/users/6077027/chaotic"}, "edited": false, "score": 0, "creation_date": 1536190785, "post_id": 52194582, "comment_id": 91338945, "body": "Hey D-Shih, thanks a lot for your detailed answer! It seems pretty straightforward and your Note will make my life much easier :). I will try it tomorrow and I hope, it will work :). Thanks."}], "tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": true, "score": 1, "last_activity_date": 1536190616, "last_edit_date": 1536190616, "creation_date": 1536189939, "answer_id": 52194582, "question_id": 52194496, "link": "https://stackoverflow.com/questions/52194496/post-request-with-json-body-serialization/52194582#52194582", "title": "POST request with JSON Body Serialization", "body": "<p>You can try to write two split species models, one for Receive JSON Modle, another for Response JSON Model.</p>\n\n<p><strong>Receive Modle</strong></p>\n\n<pre><code>public class Value\n{\n    public object Reference { get; set; }\n    public string Key { get; set; }\n    public int IssueNumber { get; set; }\n}\n\npublic class Message\n{\n    public List&lt;Value&gt; value { get; set; }\n}\n\npublic class ReciveModel\n{\n    public Message message { get; set; }\n}\n</code></pre>\n\n<p><strong>Response Model</strong></p>\n\n<pre><code>public class QueueItem\n{\n    public string Key { get; set; }\n    public int IssueNumber { get; set; }\n}\n\npublic class ResponseModel\n{\n    public string newStatus { get; set; }\n    public List&lt;QueueItem&gt; queueItems { get; set; }\n}\n</code></pre>\n\n<p>Receive your JSON data and Deserialize to  <code>ReciveModel</code> object, then let the data into another instance <code>ResponseModel</code></p>\n\n<p>final, you use  <code>JsonConvert.SerializeObject</code> to serialize then instance to be JSON data.</p>\n\n<pre><code>var obj = JsonConvert.DeserializeObject&lt;ReciveModel&gt;(JsonData);\nvar res = new ResponseModel() {\n    newStatus = \"New\",\n    queueItems = obj.message.value.Select(x =&gt; new QueueItem() {\n        IssueNumber = x.IssueNumber,\n        Key = x.Key\n    }).ToList()\n};\nvar jsonResult = JsonConvert.SerializeObject(res);\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>{\"newStatus\":\"New\",\"queueItems\":[{\"Key\":\"abc\",\"IssueNumber\":123},{\"Key\":\"def\",\"IssueNumber\":345}]}\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/umfVGM\" rel=\"nofollow noreferrer\">c# online</a></p>\n\n<p><strong>Note</strong></p>\n\n<p>There are two way can create model easily.</p>\n\n<ul>\n<li><p>You can use Web Essentials in Visual Studio, use Edit > Paste special > paste JSON as class, you can easier to know the relation between Json and model.</p></li>\n<li><p>If you can't use Web Essentials you can instead of use <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">http://json2csharp.com/</a> online JSON to Model class.</p></li>\n</ul>\n\n<p>You can try to use those models to carry your JSON Format.</p>\n"}], "owner": {"reputation": 171, "user_id": 6077027, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/67e24d9a3c0048595043f95a71dd34c1?s=128&d=identicon&r=PG&f=1", "display_name": "chaotic", "link": "https://stackoverflow.com/users/6077027/chaotic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6788, "favorite_count": 0, "accepted_answer_id": 52194582, "answer_count": 1, "score": 1, "last_activity_date": 1536190616, "creation_date": 1536189222, "question_id": 52194496, "link": "https://stackoverflow.com/questions/52194496/post-request-with-json-body-serialization", "title": "POST request with JSON Body Serialization", "body": "<p>I have one specific issue, which I'm not able to handle.</p>\n\n<p>I'm using HTTP Get API request and I'm getting JSON string, which I'm deserializing, this works perfectly. But then, I need to reuse just two  pairs of this JSON file, but it needs to be pasted as JSON body for POST request. Let me show you the example:</p>\n\n<p>Output of GET API Request:</p>\n\n<pre><code>{\n  \"message\":{\n      \"value\":[\n         {\n           \"Reference\":null,\n           \"Key\":\"abc\",\n           \"IssueNumber\":123\n         },\n         {\n           \"Reference\":null,\n           \"Key\":\"def\",\n           \"IssueNumber\":345\n         }\n       ]\n     }\n   }\n</code></pre>\n\n<p>So now Im able to deserialize this JSON string (i.e.: jsonString(\"value)(0)(\"Key\") and I will get \"abc\").</p>\n\n<p>But now, I have no idea, how to serialize this deserialized object to use ReviewStatus and Key. This POST request JSON body looks like that:</p>\n\n<pre><code>{\n   \"newStatus\":\"New\"\n   \"queueItems\": [\n     {\n        \"Key\":\"abc\"\n        \"IssueNumber\":123\n     },\n     {\n        \"Key\":\"def\"\n        \"IssueNumber\":456\n     }\n  ]\n}\n</code></pre>\n\n<p>For loop works for me, but in that case, I will do API call for each item instead of doing just one POST API call. What would be the best solution in your opinion? I was trying to use Newtonsoft.Json.JsonConvert (SerializeObject Method), but it didn't work for me as I expected. I'm pretty sure, that there needs to be something much easier, but I need your help.</p>\n\n<p>Thanks for any advice.\nFrantisek</p>\n"}, {"tags": ["c#", "unity3d", "coroutine", "ienumerator"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536192671, "post_id": 52194492, "comment_id": 91339262, "body": "You probably should consider using <code>async&#47;await</code> than Unity co-routines now that Unity supports <code>Task</code>s.   The former is the standard across .NET development whilst co-routines, a legacy Unity invention, are a misuse of <code>yield&#47;return</code>."}, {"owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1536192726, "post_id": 52194492, "comment_id": 91339271, "body": "@MickyD O I will try that too .Thank you"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1536197373, "post_id": 52194492, "comment_id": 91340149, "body": "How long is an &quot;f&quot;? What&#39;s a (0.5f) delay?"}, {"owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "edited": false, "score": 0, "creation_date": 1536221450, "post_id": 52194492, "comment_id": 91347856, "body": "0.5 seconds . I have tried with just 1 or 2 also doesnt make a difference. I will test the new way and see ."}], "answers": [{"tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": true, "score": 2, "last_activity_date": 1536191095, "last_edit_date": 1592644375, "creation_date": 1536191095, "answer_id": 52194689, "question_id": 52194492, "link": "https://stackoverflow.com/questions/52194492/how-to-use-ienumerator-correctly-when-button-calls-multiple-functions/52194689#52194689", "title": "How to Use IEnumerator Correctly when button calls multiple functions", "body": "<h1>Whatever it is that is currently calling StartCoroutine needs to be the coroutine.</h1>\n<p>Right now you have code that looks/behaves like this:</p>\n<pre><code>StartCoroutine(Name(...par...));\nStartCoroutine(Name(...par...));\nStartCoroutine(Name(...par...));\nStartCoroutine(Name(...par...));\n</code></pre>\n<p>And all of them are spawning a card and not waiting for each other. You don't want this, so you're going to need to make a fundamental change in how your calls are made so that you can get this behavior:</p>\n<pre><code>StartCoroutine(SomeMethod(...));\n\nIEnumerator SomeMethod(...) {\n    yield return Name(...par...)\n    yield return Name(...par...)\n    yield return Name(...par...)\n    yield return Name(...par...)\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 52194689, "answer_count": 1, "score": 0, "last_activity_date": 1564065637, "creation_date": 1536189157, "last_edit_date": 1564065637, "question_id": 52194492, "link": "https://stackoverflow.com/questions/52194492/how-to-use-ienumerator-correctly-when-button-calls-multiple-functions", "title": "How to Use IEnumerator Correctly when button calls multiple functions", "body": "<p>I am making a card game in which I am trying to make a (0.5f) delay before each card is instantiated. I have my code which instantiates and object </p>\n\n<pre><code>public IEnumerator Name(int x,int y, int z)\n{\n\n}    \n</code></pre>\n\n<p>In the IEnum i have a <code>yeild return new WaitForSeconds(0.5f)</code>before all the code with the instantiation.</p>\n\n<p>I call my IEnumerator in 2 different classes 2 times in each by using </p>\n\n<pre><code>StartCoroutine(Name(...par...));\n</code></pre>\n\n<p>And on my play game button i have 4 events which use the enum to spawn the cards but there is no delay .</p>\n\n<p>Is there a way to make the cards appear 1 by one . </p>\n\n<p>Thanks for any support.</p>\n"}, {"tags": ["c#", "azure", "asp.net-web-api", "asp.net-core"], "comments": [{"owner": {"reputation": 3778, "user_id": 628968, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/79c76c6868ccdb1bc7ce636f4738cb85?s=128&d=identicon&r=PG", "display_name": "bugnuker", "link": "https://stackoverflow.com/users/628968/bugnuker"}, "edited": false, "score": 0, "creation_date": 1536343780, "post_id": 52194465, "comment_id": 91404703, "body": "Post your startup.cs file - This is where the changes will be needed. You are probably missing cookie setup. Cookies is where the user information is stored.  See here on how to setup cookies for your app: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/cookie?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/security/authentication&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10320657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4b82a0863bb966071158a17ad5d622?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/10320657/pablo"}, "edited": false, "score": 0, "creation_date": 1536319856, "post_id": 52194534, "comment_id": 91391755, "body": "After the change, I get the exception:   InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found"}], "tags": [], "owner": {"reputation": 2697, "user_id": 67003, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/59ca6e58d30e1f66f2c20b794ff9f676?s=128&d=identicon&r=PG", "display_name": "coolcake", "link": "https://stackoverflow.com/users/67003/coolcake"}, "is_accepted": false, "score": 0, "last_activity_date": 1536189576, "creation_date": 1536189576, "answer_id": 52194534, "question_id": 52194465, "link": "https://stackoverflow.com/questions/52194465/access-user-identity-from-controller-in-asp-net-core-web-api/52194534#52194534", "title": "Access user identity from controller in ASP.NET Core Web API", "body": "<p>You have to tell the authentication that needs to be used in your startup.cs.</p>\n\n<p>It would be something like.</p>\n\n<pre><code>services.AddAuthentication(IISDefaults.AuthenticationScheme);\n</code></pre>\n\n<p>The link to this details can be found on <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/1x-to-2x/identity-2x?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>Also on actions in your controller you need to add [Authorize]. Only when this is added you will be able to retrieve the details. If you add at the controller level, for the actions where you don't need authentication you can add [AllowAnonymous]</p>\n\n<pre><code>[HttpGet]\n[Authorize]\n        public JsonResult Get()\n        {\n            var r = new Dictionary&lt;String, Object&gt;();\n\n            r.Add(\"User.Identities\", User.Identities);\n            r.Add(\"User.Claims\", User.Claims);\n            r.Add(\"HttpContext.User.Identities\", HttpContext.User.Identities);\n            r.Add(\"HttpContext.User.Claims\", HttpContext.User.Claims);\n\n            return Json(r );\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3778, "user_id": 628968, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/79c76c6868ccdb1bc7ce636f4738cb85?s=128&d=identicon&r=PG", "display_name": "bugnuker", "link": "https://stackoverflow.com/users/628968/bugnuker"}, "edited": false, "score": 0, "creation_date": 1536343850, "post_id": 52227448, "comment_id": 91404741, "body": "Compare the startup.cs file of the working project and the non-working project. You should find your answer there."}], "tags": [], "owner": {"reputation": 51, "user_id": 10320657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4b82a0863bb966071158a17ad5d622?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/10320657/pablo"}, "is_accepted": false, "score": 0, "last_activity_date": 1536342754, "creation_date": 1536342754, "answer_id": 52227448, "question_id": 52194465, "link": "https://stackoverflow.com/questions/52194465/access-user-identity-from-controller-in-asp-net-core-web-api/52227448#52227448", "title": "Access user identity from controller in ASP.NET Core Web API", "body": "<p>This example works:</p>\n\n<p><a href=\"https://github.com/Azure-Samples/active-directory-aspnetcore-webapp-openidconnect-v2\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/active-directory-aspnetcore-webapp-openidconnect-v2</a></p>\n\n<p>I can identify the user within a controller using:</p>\n\n<pre><code>User.FindAll(\"preferred_username\").First().Value;\n</code></pre>\n\n<p>It's a different project type. it's an MVC Web site instead of a API project.</p>\n\n<p>It's not exactly what I was looking for, but at least it works.\nI will investigate how to apply this to my API project.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10320657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4b82a0863bb966071158a17ad5d622?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/10320657/pablo"}, "is_accepted": true, "score": 0, "last_activity_date": 1536374100, "creation_date": 1536374100, "answer_id": 52231488, "question_id": 52194465, "link": "https://stackoverflow.com/questions/52194465/access-user-identity-from-controller-in-asp-net-core-web-api/52231488#52231488", "title": "Access user identity from controller in ASP.NET Core Web API", "body": "<p>I made it !!!</p>\n\n<p>This <a href=\"https://docs.microsoft.com/en-us/azure/app-service/app-service-authentication-how-to\" rel=\"nofollow noreferrer\">documentation</a> pointed me in the right direction.</p>\n\n<p>These are the steps to reproduce my scenario:</p>\n\n<p>1) Using Visual Studio 2017, create a ASPNET.core Web API project with the following options:</p>\n\n<ul>\n<li>Type: API</li>\n<li>Enable Docker Support: no</li>\n<li>Authentication: No Authenitication</li>\n<li>Configure for HTTPS: yes</li>\n</ul>\n\n<p>2) Add AuthDetailsController.cs to the Controllers folder with the following code:</p>\n\n<pre><code>using System.Collections.Generic;\nusing Microsoft.AspNetCore.Mvc;\n\nnamespace CoreWebApiTest2.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class AuthDetailsController : ControllerBase\n    {\n        // GET: api/AuthDetails\n        [HttpGet]\n        public Dictionary&lt;string,string&gt; Get()\n        {\n            return new Dictionary&lt;string, string&gt; { {\"X-MS-CLIENT-PRINCIPAL-NAME\", Request.Headers[\"X-MS-CLIENT-PRINCIPAL-NAME\"] },\n                                                    {\"X-MS-CLIENT-PRINCIPAL-ID\", Request.Headers[\"X-MS-CLIENT-PRINCIPAL-ID\"]  } };\n\n        }\n    }\n}\n</code></pre>\n\n<p>3) Deploy to Azure as a new application</p>\n\n<p>4) Enable Azure authentication with the following options:</p>\n\n<ul>\n<li>Action to take when request is not authenticated: Logon with Azure Active Directory.</li>\n<li>Azure Active directory configuration: Express Mode</li>\n</ul>\n\n<p>5) Open <a href=\"https://[site_name].azurewebsites.net/api/AuthDetails\" rel=\"nofollow noreferrer\">https://[site_name].azurewebsites.net/api/AuthDetails</a></p>\n\n<p>6) You are redirected to the login page</p>\n\n<p>7) After the successful login, you get the response:</p>\n\n<pre><code>{\"X-MS-CLIENT-PRINCIPAL-NAME\":\"your_user@your_domain\",\"X-MS-CLIENT-PRINCIPAL-ID\":\"your_user_ad_guid\"}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10320657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4b82a0863bb966071158a17ad5d622?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/10320657/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4905, "favorite_count": 0, "accepted_answer_id": 52231488, "answer_count": 3, "score": 5, "last_activity_date": 1536374100, "creation_date": 1536188923, "question_id": 52194465, "link": "https://stackoverflow.com/questions/52194465/access-user-identity-from-controller-in-asp-net-core-web-api", "title": "Access user identity from controller in ASP.NET Core Web API", "body": "<p>As per this documentation:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/claimsprincipal-current?view=aspnetcore-2.1\" rel=\"noreferrer\">ASP.NET Core 2.1 Documentation</a></p>\n\n<p>I should be able to access the user identity using <em>ControllerBase.User</em> or <em>HttpContext.Use</em>r.</p>\n\n<p>As per the link above:</p>\n\n<p><strong><em>\u201cGetting the current user's identity from the app's DI service collection is more testable, too, since test identities can be easily injected.\u201d</em></strong></p>\n\n<p>As I understand, I should inject the identity information using dependency injection in <em>Startup.cs</em> or perhaps in controller's constructor.</p>\n\n<p>However, after endless hours of investigation, I\u2019m not able to find the procedure.</p>\n\n<p>The following steps describe my scenario. I hope someone can guide me in the right direction.</p>\n\n<p>1) Using Visual Studio 2017, create a ASPNET.core Web API project with the following options:</p>\n\n<ul>\n<li>Type: API</li>\n<li>Enable Docker Support: no</li>\n<li>Authentication: No Authenitication</li>\n<li>Configure for HTTPS: yes</li>\n</ul>\n\n<p>2) Add AuthDetailsController.cs to the Controllers folders with the following code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing Microsoft.AspNetCore.Http;\nusing Microsoft.AspNetCore.Mvc;\n\nnamespace CoreWebApi.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class AuthDetailsController : Controller\n    {\n\n\n        [HttpGet]\n        public JsonResult Get()\n        {\n            var r = new Dictionary&lt;String, Object&gt;();\n\n            r.Add(\"User.Identities\", User.Identities);\n            r.Add(\"User.Claims\", User.Claims);\n            r.Add(\"HttpContext.User.Identities\", HttpContext.User.Identities);\n            r.Add(\"HttpContext.User.Claims\", HttpContext.User.Claims);\n\n            return Json(r );\n        }\n\n    }\n}\n</code></pre>\n\n<p>3) Deploy to Azure as a new application</p>\n\n<p>4) Navigate to <a href=\"https://[site_name].azurewebsites.net/api/AuthDetails\" rel=\"noreferrer\">https://[site_name].azurewebsites.net/api/AuthDetails</a></p>\n\n<p>5) There is no information about the user identity because the access is anonymous:</p>\n\n<pre><code>{\"User.Identities\":[{\"authenticationType\":null,\"isAuthenticated\":false,\"actor\":null,\"bootstrapContext\":null,\"claims\":[],\"label\":null,\"name\":null,\"nameClaimType\":\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\",\"roleClaimType\":\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"}],\"User.Claims\":[],\"HttpContext.User.Identities\":[{\"authenticationType\":null,\"isAuthenticated\":false,\"actor\":null,\"bootstrapContext\":null,\"claims\":[],\"label\":null,\"name\":null,\"nameClaimType\":\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\",\"roleClaimType\":\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"}],\"HttpContext.User.Claims\":[]}\n</code></pre>\n\n<p>6) Enable Azure authentication with the following options:</p>\n\n<ul>\n<li>Action to take when request is not authenticated: Logon with Azure Active Directory.</li>\n<li>Azure Active directory configuration: Express Mode</li>\n</ul>\n\n<p>7) Open again <a href=\"https://[site_name].azurewebsites.net/api/AuthDetails\" rel=\"noreferrer\">https://[site_name].azurewebsites.net/api/AuthDetails</a></p>\n\n<p>8) You are redirected to the login page</p>\n\n<p>9) After the successful login, there no identity information in ControllerBase.User nor HttpContext.User. The response is the same as before enabling authentication. </p>\n"}, {"tags": ["c#", "api", "office365", "microsoft-graph-api"], "answers": [{"tags": [], "owner": {"reputation": 1676, "user_id": 9992612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef2e5e68dd3a455ba00724f5fdfaf604?s=128&d=identicon&r=PG&f=1", "display_name": "Seiya Su", "link": "https://stackoverflow.com/users/9992612/seiya-su"}, "is_accepted": false, "score": 0, "last_activity_date": 1536227032, "creation_date": 1536227032, "answer_id": 52201206, "question_id": 52194398, "link": "https://stackoverflow.com/questions/52194398/office-365-graph-getting-microsoft-teams-messages/52201206#52201206", "title": "Office 365 Graph getting Microsoft Teams Messages", "body": "<p>Beta version is still subject to change, so if possible, please use the V1.0 endpoint. And for the unauthorised error, i cannot fully reproduce the problem. Based on my test, the endpoint works well in Graph Explorer:</p>\n\n<pre><code>https://graph.microsoft.com/beta(V1.0)/teams/{teamID}/channels/{channelid}/messages\n</code></pre>\n\n<p>But based on my test,the endpoint doesn't work in the MVC/NETCore project, I used the following authtoken but not the ADALToken which you use:</p>\n\n<pre><code>string accessToken = await SampleAuthProvider.Instance.GetUserAccessTokenAsync(); \n</code></pre>\n\n<p>My summary the exception is caused by the token logic but not the HttpClient request, I can use the request to handle other api. Another possibility, we can't confirm that, the API internal processing has encountered a problem. But we can use the API in Graph Explorer, so this possibility is also not high. I think you can try other token but not the ADALToken first.</p>\n"}], "owner": {"reputation": 5, "user_id": 7724328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3036c3f805b1b2817cd6fc9d31cd5f04?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Kangas", "link": "https://stackoverflow.com/users/7724328/adam-kangas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536339759, "creation_date": 1536188315, "last_edit_date": 1536339759, "question_id": 52194398, "link": "https://stackoverflow.com/questions/52194398/office-365-graph-getting-microsoft-teams-messages", "title": "Office 365 Graph getting Microsoft Teams Messages", "body": "<p>Having issues getting Teams messages using the Office365 Graph.</p>\n\n<p>I get the access token using </p>\n\n<pre><code>string signedInUserID = ClaimsPrincipal.Current.FindFirst(\"http://schemas.microsoft.com/identity/claims/objectidentifier\").Value;\nif (HttpContext.Current.Application.Count &gt; 0)\n{\n    signedInUserID = HttpContext.Current.Application.Keys[0].Replace(\"_TokenCache\", \"\");\n}\nHttpContextBase httpContextBase = HttpContext.Current.GetOwinContext().Environment[\"System.Web.HttpContextBase\"] as HttpContextBase;\n\nADALTokenCache tokenCache = new ADALTokenCache(signedInUserID);\nvar cachedItems = tokenCache.ReadItems(); // see what's in the cache\n\nAuthenticationContext authContext = new AuthenticationContext(Authority, tokenCache);\nClientCredential clientCredential = new ClientCredential(clientId, appKey);\nstring userObjectId = ClaimsPrincipal.Current.FindFirst(\"http://schemas.microsoft.com/identity/claims/objectidentifier\").Value;\nUserIdentifier userId = new UserIdentifier(userObjectId, UserIdentifierType.UniqueId);\ntry\n{\n    AuthenticationResult result = await authContext.AcquireTokenAsync(graphResourceID2, clientCredential).ConfigureAwait(false);\n    return result.AccessToken;\n}\n</code></pre>\n\n<p>Then to get the Teams messages I use this as the endoint:</p>\n\n<p><a href=\"https://graph.microsoft.com/beta/teams/%7BteamID%7D/channels/%7Bchannelid%7D/messages\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/beta/teams/{teamID}/channels/{channelid}/messages</a></p>\n\n<p>Using the access token recieve from above, and the endpoint I do the following:</p>\n\n<pre><code>using (var client = new HttpClient())\n{\n    using (var request = new HttpRequestMessage(HttpMethod.Get, endpoint))\n    {\n        request.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n        request.Headers.Authorization = new AuthenticationHeaderValue(\"Bearer\", accessToken);\n        using (var response = await client.SendAsync(request).ConfigureAwait(false))\n        {\n            if (response.IsSuccessStatusCode)\n            {\n                var json = await response.Content.ReadAsStringAsync().ConfigureAwait(false);\n                var result = JsonConvert.DeserializeObject&lt;GraphOdataResponse&gt;(json);\n                myTeamsMessages = result.messages.ToList();\n            }\n\n            return myTeamsMessages;\n        }\n    }\n}\n</code></pre>\n\n<p>Every time it runs against any of the beta endpoints, it throws an unauthorised error, but against the v1.0 endpoints it works fine.</p>\n\n<p>What am i missing, im assuming its something to do with the access token but all the research ive done hasnt fixed the issue.</p>\n"}, {"tags": ["c#", "forms", "listener", "clipboard", "cut"], "comments": [{"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 1, "creation_date": 1536192744, "post_id": 52194368, "comment_id": 91339275, "body": "Have you tried checking m.wParam and m.lParam for the message, may be There&#39;s a clue."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536194548, "post_id": 52194368, "comment_id": 91339599, "body": "FYI, you don&#39;t need to call <code>Convert.ToString()</code> on a string..."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536194928, "post_id": 52194368, "comment_id": 91339642, "body": "Where do you call <code>AddClipboardFormatListener</code>? Is it possible your application gets registered twice?"}, {"owner": {"reputation": 509, "user_id": 2233493, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iDzeO.png?s=128&g=1", "display_name": "spunit", "link": "https://stackoverflow.com/users/2233493/spunit"}, "edited": false, "score": 0, "creation_date": 1536195276, "post_id": 52194368, "comment_id": 91339697, "body": "I add AddClipboardFormatListener(this.Handle); once in Form1_Load"}, {"owner": {"reputation": 582, "user_id": 728760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00673549bd4d838dfc380e7ae78bf294?s=128&d=identicon&r=PG", "display_name": "stevieg", "link": "https://stackoverflow.com/users/728760/stevieg"}, "edited": false, "score": 0, "creation_date": 1536195704, "post_id": 52194368, "comment_id": 91339787, "body": "You&#39;re monitoring the clipboard. It doesn&#39;t know why it was updated. It may not be your app that caused the update. Why is cut or paste important? Are you monitoring the wrong thing?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1536195758, "post_id": 52194368, "comment_id": 91339795, "body": "Some applications open the Clipboard multiple times. Mostly when cutting contents. You probably haven&#39;t tested it with a PhotoShop layered image, a CorelDraw composition or an Excel chart. The count can go up to 20+ messages. Btw, you should return <code>m.Result = (IntPtr)0;</code> as the return value and move <code>base.WndProc(ref m);</code> to the end of the method. About the Copy/Cut: <code>wParam</code> <i>might</i> know (even if it should be 0). You&#39;ll have to verify it yourself. If set to <code>0x12</code>, it could be a Copy, if set to <code>0x0E</code>, it could be a Cut. Provided as is. No guarantees."}, {"owner": {"reputation": 509, "user_id": 2233493, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iDzeO.png?s=128&g=1", "display_name": "spunit", "link": "https://stackoverflow.com/users/2233493/spunit"}, "edited": false, "score": 0, "creation_date": 1536195847, "post_id": 52194368, "comment_id": 91339811, "body": "When I double tap Ctrl+C I want something to happen. Not also when I cut something."}, {"owner": {"reputation": 509, "user_id": 2233493, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iDzeO.png?s=128&g=1", "display_name": "spunit", "link": "https://stackoverflow.com/users/2233493/spunit"}, "edited": false, "score": 0, "creation_date": 1536196472, "post_id": 52194368, "comment_id": 91339950, "body": "I can&#39;t figure out how to use wParam..."}, {"owner": {"reputation": 582, "user_id": 728760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00673549bd4d838dfc380e7ae78bf294?s=128&d=identicon&r=PG", "display_name": "stevieg", "link": "https://stackoverflow.com/users/728760/stevieg"}, "edited": false, "score": 0, "creation_date": 1536197362, "post_id": 52194368, "comment_id": 91340147, "body": "Is it double-tap Ctrl+C Windows-wide or in your app? Windows-wide I&#39;d use AutoHotKey if it was something just for me. If it had to be in code I&#39;d look into keyboard hooks."}, {"owner": {"reputation": 509, "user_id": 2233493, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iDzeO.png?s=128&g=1", "display_name": "spunit", "link": "https://stackoverflow.com/users/2233493/spunit"}, "edited": false, "score": 0, "creation_date": 1536197370, "post_id": 52194368, "comment_id": 91340148, "body": "I figured it out! if (Convert.ToString(m.WParam) == &quot;4&quot; || Convert.ToString(m.WParam) == &quot;13&quot;) means if (copy text || copy files)"}], "owner": {"reputation": 509, "user_id": 2233493, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/iDzeO.png?s=128&g=1", "display_name": "spunit", "link": "https://stackoverflow.com/users/2233493/spunit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536188100, "creation_date": 1536188100, "question_id": 52194368, "link": "https://stackoverflow.com/questions/52194368/clipboard-listener-register-twice-when-cut", "title": "Clipboard listener register twice when Cut", "body": "<p>Only when I cut something, it registers 2 times. How can I avoid this? Is there a way to tell if I copied or cut something?</p>\n\n<p>This is my code:</p>\n\n<pre><code>[DllImport(\"user32.dll\", SetLastError = true)]\n[return: MarshalAs(UnmanagedType.Bool)]\nstatic extern bool AddClipboardFormatListener(IntPtr hwnd);\n[DllImport(\"user32.dll\", SetLastError = true)]\n[return: MarshalAs(UnmanagedType.Bool)]\nstatic extern bool RemoveClipboardFormatListener(IntPtr hwnd);\nprivate const int WM_CLIPBOARDUPDATE = 0x031D;\n\nprotected override void WndProc(ref Message m)\n        {\n            base.WndProc(ref m);\n            if (m.Msg == WM_CLIPBOARDUPDATE)\n            {\n                MessageBox.Show(Convert.ToString(\"update in clipboard\"));\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "async-await", "task"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 3, "creation_date": 1536188401, "post_id": 52194360, "comment_id": 91338495, "body": "Yeah this code is going the way of the Titanic, its a recursive never ending method , it stops because it probably runs out of stack and hits the  <code>StackOverflowException</code> iceberg"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1536188545, "post_id": 52194360, "comment_id": 91338515, "body": "If you really need to do this, put it in a <code>while(true)</code> with at least some way for it to exit"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 1, "creation_date": 1536188547, "post_id": 52194360, "comment_id": 91338516, "body": "@TheGeneral Ahh, good eye. I hadn&#39;t seen the recursion. That&#39;s most likely the problem yes"}, {"owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "edited": false, "score": 0, "creation_date": 1536188877, "post_id": 52194360, "comment_id": 91338567, "body": "The looping stops at  await Task.Delay(120000); after around between 20 to 30 hours every time. So every time it stops, I restart the api Call manually again. If IIS is recycling the api how can i avoid it recycling. I am sleeping for 2 minutes because I am consuming another webservice in my API to which I am giving a call every 2 minutes. Is there any other workaround for this?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 2, "creation_date": 1536188968, "post_id": 52194360, "comment_id": 91338584, "body": "You could use a non-recursive loop for a quick fix. But the better option is to refactor to use a timer and get rid of the loop completely."}, {"owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "reply_to_user": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1536189114, "post_id": 52194360, "comment_id": 91338615, "body": "@TheGeneral Thanks I will try it!"}, {"owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "edited": false, "score": 0, "creation_date": 1536189726, "post_id": 52194360, "comment_id": 91338730, "body": "I am using a recursion because next LoopMethod parameter depends on the return value of previous LoopMethod."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536195104, "post_id": 52194360, "comment_id": 91339675, "body": "That doesn&#39;t require recursion. There are many loops which change a state variable between iterations, most notably the <code>for</code> loop..."}], "answers": [{"comments": [{"owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "edited": false, "score": 0, "creation_date": 1536189718, "post_id": 52194472, "comment_id": 91338727, "body": "I am using a recursion because next LoopMethod parameter depends on the return value of previous LoopMethod."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "edited": false, "score": 0, "creation_date": 1536190102, "post_id": 52194472, "comment_id": 91338822, "body": "@NikhilShinde yes thats fine, however if this method runs too many times it will crash your app. If you need that parameter just use a local variable with a loop, or field with a timer. If this is a webservice you a doing this, you shouldn&#39;t be using long running tasks like that. There is plenty of documentation on the net about the whys"}, {"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 1, "creation_date": 1536215558, "post_id": 52194472, "comment_id": 91344823, "body": "While I agree there&#39;s no point in using recursion here, note that there&#39;s no <i>actual</i> recursion here. Because of async/await and the fact that <code>Task.Delay</code> will never complete synchronously, each continuation has its own call stack and the stack usage does not actually grow. You can convince yourself by logging the value of <code>Environment.StackTrace</code> at the beginning of the method. That said, you still create tasks at each iteration, so you&#39;ll run out of memory at some point"}, {"owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "edited": false, "score": 0, "creation_date": 1536344976, "post_id": 52194472, "comment_id": 91405285, "body": "@TheGeneral So this is a webserver and I am not using any client application to consume this service. I just cheeked the Evnt Logs of IIS Web Server. It shows up the event logs at the time webservice stopped. Evnt Log 1.Event ID 5013 \u2014 IIS Application Pool Availability - &quot;A process serving application pool XYZ exceeded time limits during shut down.&quot; and Event Log 2 at the same time 2. Event ID 5138\u2014 IIS Protocol Adapter Availability : &quot;A worker process serving application pool failed to stop a listener channel for protocol &#39;http&#39; in the allotted time.The data field contains the error number.&quot;."}], "tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 4, "last_activity_date": 1536215974, "last_edit_date": 1536215974, "creation_date": 1536188959, "answer_id": 52194472, "question_id": 52194360, "link": "https://stackoverflow.com/questions/52194360/task-delay-stops-the-continuous-looped-program-after-a-day-or-two/52194472#52194472", "title": "Task.Delay stops the continuous looped program after a day or two", "body": "<p>I am not sure whether this is being called form your webserver, or your client code. if its the webserver, you shouldn't be running longing running tasks like this. The <em>ApplicationPool</em> will recycle and tear it down eventually.</p>\n\n<p>However my spidey senses tells me this is client side and you are just running out of stack, which in-turn is causing a <code>StackOverflowException</code></p>\n\n<blockquote>\n  <p>The most common cause of stack overflow is excessively deep or\n  infinite recursion, in which a function calls itself so many times\n  that the space needed to store the variables and information\n  associated with each call is more than can fit on the stack.</p>\n</blockquote>\n\n<p>If you really need to do this consider just a while loop</p>\n\n<pre><code>public async Task&lt;HttpStatusCode&gt; LoopMethod() \n{\n\n    while(true)\n    {\n       ...\n\n       await Task.Delay(120000);\n\n       if(condition)\n          //break or return\n\n       ...\n      }\n}\n</code></pre>\n\n<p>Or as <em>John Wu</em> suggests, just use a timer with a state</p>\n\n<p>if this IS a webserver, consider using a service to poll, which is designed to persist and not recycle</p>\n\n<p><strong>Updated from comments</strong></p>\n\n<p><a href=\"https://stackoverflow.com/users/869621/kevin-gosse\">From Kevin Gosse</a></p>\n\n<blockquote>\n  <p>While I agree there's no point in using recursion here, note that\n  there's no actual recursion here. Because of async/await and the fact\n  that Task.Delay will never complete synchronously, each continuation\n  has its own call stack and the stack usage does not actually grow. You\n  can convince yourself by logging the value of Environment.StackTrace\n  at the beginning of the method. That said, you still create tasks at\n  each iteration, so you'll run out of memory at some point</p>\n</blockquote>\n"}], "owner": {"reputation": 20, "user_id": 3189553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bntu6.jpg?s=128&g=1", "display_name": "Nikhil Shinde", "link": "https://stackoverflow.com/users/3189553/nikhil-shinde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1536215974, "creation_date": 1536188014, "last_edit_date": 1536189706, "question_id": 52194360, "link": "https://stackoverflow.com/questions/52194360/task-delay-stops-the-continuous-looped-program-after-a-day-or-two", "title": "Task.Delay stops the continuous looped program after a day or two", "body": "<p>I have a .NET webAPI in which I keep running Task method in a loop continuously (until the app is running). </p>\n\n<p>I am using a <code>await Task.Delay(120000)</code> before calling next LoopMethod task.\nThe API runs continuously well for 1 or 2 days and then stops at a point where last log file statement says, <code>log.Debug(\"Before Task Delay..\")</code>;</p>\n\n<p>It means at some point Task <code>await Task.Delay(120000);</code> never completes.</p>\n\n<p>Is there something I am missing?</p>\n\n<p>Here is a sample snippet format i am using</p>\n\n<p>I am using a recursion because next LoopMethod parameter depends on the return value of previous LoopMethod.  </p>\n\n<pre><code>public async Task&lt;HttpStatusCode&gt; LoopMethod(string token) \n{\n    var responseHttpStatusCode = HttpStatusCode.Unused;\n\n   string NextToken =  await DoSomething();\n\n    log.Debug(\"Before Task Delay..\");\n    await Task.Delay(120000);\n    log.Debug(\"After Task Delay..\");\n\n    await LoopMethod(NextToken); \n\n    return responseHttpStatusCode;\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "listbox"], "comments": [{"owner": {"reputation": 101, "user_id": 10029273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284519195017607/picture?type=large", "display_name": "Elaine Chen", "link": "https://stackoverflow.com/users/10029273/elaine-chen"}, "reply_to_user": {"reputation": 4651, "user_id": 6138713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kDSMP.jpg?s=128&g=1", "display_name": "jegtugado", "link": "https://stackoverflow.com/users/6138713/jegtugado"}, "edited": false, "score": 0, "creation_date": 1536249855, "post_id": 52194356, "comment_id": 91365588, "body": "@JohnEphraimTugado Where do I re-arrange the observable collection?"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10029273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284519195017607/picture?type=large", "display_name": "Elaine Chen", "link": "https://stackoverflow.com/users/10029273/elaine-chen"}, "edited": false, "score": 0, "creation_date": 1536249820, "post_id": 52197217, "comment_id": 91365564, "body": "It&#39;s not quite what I&#39;m looking for. I want to reorder the items within one listbox. And this project is dragging item from one listbox to another."}, {"owner": {"reputation": 101, "user_id": 10029273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284519195017607/picture?type=large", "display_name": "Elaine Chen", "link": "https://stackoverflow.com/users/10029273/elaine-chen"}, "edited": false, "score": 0, "creation_date": 1536250845, "post_id": 52197217, "comment_id": 91366130, "body": "Do you have any other example without finding ancestor?"}, {"owner": {"reputation": 1008, "user_id": 3223783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297fab72ba4b93a11718f30598ad1761?s=128&d=identicon&r=PG&f=1", "display_name": "dontbyteme", "link": "https://stackoverflow.com/users/3223783/dontbyteme"}, "reply_to_user": {"reputation": 101, "user_id": 10029273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284519195017607/picture?type=large", "display_name": "Elaine Chen", "link": "https://stackoverflow.com/users/10029273/elaine-chen"}, "edited": false, "score": 0, "creation_date": 1536296871, "post_id": 52197217, "comment_id": 91380100, "body": "If you can also use a ListView then this <a href=\"https://www.codeproject.com/Articles/17266/Drag-and-Drop-Items-in-a-WPF-ListView\" rel=\"nofollow noreferrer\">CodeProject</a> articel may help you. This is what I&#39;m using for drag and drop ordering in a ListView. A combination of both is probably what you&#39;re searching for."}], "tags": [], "owner": {"reputation": 1008, "user_id": 3223783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297fab72ba4b93a11718f30598ad1761?s=128&d=identicon&r=PG&f=1", "display_name": "dontbyteme", "link": "https://stackoverflow.com/users/3223783/dontbyteme"}, "is_accepted": true, "score": 0, "last_activity_date": 1536212592, "creation_date": 1536212592, "answer_id": 52197217, "question_id": 52194356, "link": "https://stackoverflow.com/questions/52194356/wpf-mvvm-c-listbox-drag-and-drop-without-code-behind/52197217#52197217", "title": "WPF MVVM C#: listbox drag and drop without code behind", "body": "<p>Check out <a href=\"https://www.codeproject.com/Articles/22855/ListBox-Drag-Drop-using-Attached-Properties\" rel=\"nofollow noreferrer\">this</a> CodeProject article. This implementation rely on two attached properties <code>DragEnabled</code> and <code>DropEnabled</code>.</p>\n\n<pre><code>&lt;ListBox lib:DragAndDrop.DragEnabled=\"true\"/&gt; // Source\n&lt;ListBox lib:DragAndDrop.DropEnabled=\"true\"/&gt; // Target\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 10029273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284519195017607/picture?type=large", "display_name": "Elaine Chen", "link": "https://stackoverflow.com/users/10029273/elaine-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1601, "favorite_count": 0, "accepted_answer_id": 52197217, "answer_count": 1, "score": 0, "last_activity_date": 1536212592, "creation_date": 1536187979, "question_id": 52194356, "link": "https://stackoverflow.com/questions/52194356/wpf-mvvm-c-listbox-drag-and-drop-without-code-behind", "title": "WPF MVVM C#: listbox drag and drop without code behind", "body": "<p>I'm trying to figure out how to reorder the listbox without any code behind. I tried following this post: <a href=\"https://stackoverflow.com/questions/3350187/wpf-c-rearrange-items-in-listbox-via-drag-and-drop\">WPF C#: Rearrange items in listbox via drag and drop</a> It definitely works, but I want to do it with ICommand or AttachBehavior. </p>\n\n<p>Any suggestion? \nHow to hook the Drop and PreviewMouseLeftButtonDownEvent with AttachBehavior? </p>\n\n<p>The Listbox's ItemsSource is a Observable Collection. </p>\n"}, {"tags": ["c#", "asp.net-mvc-4", "ubuntu-18.04"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 1, "creation_date": 1536187969, "post_id": 52194319, "comment_id": 91338404, "body": "Could you not able to convert it to ASP.NET Core?"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "edited": false, "score": 0, "creation_date": 1536192617, "post_id": 52194319, "comment_id": 91339252, "body": "If you are thinking to do development then +1 for Asp.Net Core"}, {"owner": {"reputation": 25, "user_id": 5662620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c0c1343ff2aa95cc7e78c3db7506d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5662620/leo"}, "edited": false, "score": 0, "creation_date": 1536283469, "post_id": 52194319, "comment_id": 91377501, "body": "I will have a look how much work it is to convert my project to ASP.NET Core."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5662620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c0c1343ff2aa95cc7e78c3db7506d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5662620/leo"}, "edited": false, "score": 0, "creation_date": 1536267447, "post_id": 52194813, "comment_id": 91373442, "body": "Ha I understand now. Jexus runs on Ubuntu. I will give this a shot."}, {"owner": {"reputation": 2122, "user_id": 4076996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NKrhB.jpg?s=128&g=1", "display_name": "zhimin", "link": "https://stackoverflow.com/users/4076996/zhimin"}, "reply_to_user": {"reputation": 25, "user_id": 5662620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c0c1343ff2aa95cc7e78c3db7506d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5662620/leo"}, "edited": false, "score": 0, "creation_date": 1536270243, "post_id": 52194813, "comment_id": 91374488, "body": "yes, it runs on ubuntu. you can try the pro version, it includes an embedded version of mono, you can just run your app without  installation of mono."}, {"owner": {"reputation": 25, "user_id": 5662620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c0c1343ff2aa95cc7e78c3db7506d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5662620/leo"}, "edited": false, "score": 0, "creation_date": 1536625428, "post_id": 52194813, "comment_id": 91481980, "body": "After some more research I have decided to go the ASP.NET Core way. Thank you for your answer though but I won&#39;t be able to comment further on this."}], "tags": [], "owner": {"reputation": 2122, "user_id": 4076996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NKrhB.jpg?s=128&g=1", "display_name": "zhimin", "link": "https://stackoverflow.com/users/4076996/zhimin"}, "is_accepted": false, "score": 2, "last_activity_date": 1536192404, "creation_date": 1536192404, "answer_id": 52194813, "question_id": 52194319, "link": "https://stackoverflow.com/questions/52194319/ubuntu-18-04-hosting-asp-net-mvc4/52194813#52194813", "title": "Ubuntu 18.04 Hosting ASP.NET MVC4", "body": "<p>if you want to run mvc 4/5 on Linux, the best solution is use jexus server from china <a href=\"https://www.linuxdot.net\" rel=\"nofollow noreferrer\">https://www.linuxdot.net</a> , it can run asp.net mvc and webapi app perfectly on Linux. there is a tutorial <a href=\"https://www.cnblogs.com/shanyou/p/5720733.html\" rel=\"nofollow noreferrer\">https://www.cnblogs.com/shanyou/p/5720733.html</a></p>\n\n<p>If you can not read chinese, please use google/bing translation.</p>\n"}], "owner": {"reputation": 25, "user_id": 5662620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c0c1343ff2aa95cc7e78c3db7506d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5662620/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "closed_date": 1536287642, "answer_count": 1, "score": 0, "last_activity_date": 1536192404, "creation_date": 1536187708, "question_id": 52194319, "link": "https://stackoverflow.com/questions/52194319/ubuntu-18-04-hosting-asp-net-mvc4", "closed_reason": "Not suitable for this site", "title": "Ubuntu 18.04 Hosting ASP.NET MVC4", "body": "<p>I have an exiting ASP.NET MVC4 web project that has been created on a windows 10 machine. \nI want to run this website on Linux Ubuntu 18.04 Desktop.\nI have been trying for days not and followed several articles about this.</p>\n\n<p>Examples of articels that I followed: </p>\n\n<p><a href=\"https://blog.todotnet.com/2017/07/publishing-and-running-your-asp-net-core-project-on-linux/\" rel=\"nofollow noreferrer\">https://blog.todotnet.com/2017/07/publishing-and-running-your-asp-net-core-project-on-linux/</a> </p>\n\n<p>and</p>\n\n<p><a href=\"https://medium.com/@shrimpy/configure-apache2-mod-mono-to-run-asp-net-mvc5-application-on-ubuntu-14-04-314a700522b9\" rel=\"nofollow noreferrer\">https://medium.com/@shrimpy/configure-apache2-mod-mono-to-run-asp-net-mvc5-application-on-ubuntu-14-04-314a700522b9</a></p>\n\n<p>I have tried to achieve this with Mono and Apache and MonoDevelop.I have struggled with MonoDevelop alone for days, becuase this comes as a dotnet solution pachage with many projects and by default the project doesn't run becuase many project referneces are missing . And once I resolved all of this it still had many problems. So I have given up.</p>\n\n<p>It is possible to develop c# ASP.NET MVC4 website in Visual Studio 2017 and deploy this in Ubunutu 18.04? If so is there any article about this how to do this?</p>\n\n<p>So far I have only managed to run example MVC4 websites on Ubuntu 18.04 that are build and published on Ununto 18.04.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 7, "creation_date": 1536187465, "post_id": 52194263, "comment_id": 91338300, "body": "This sounds like a job for....the <b><a href=\"https://docs.microsoft.com/en-us/visualstudio/debugger/navigating-through-code-with-the-debugger?view=vs-2015\" rel=\"nofollow noreferrer\">Step Debugger</a></b>"}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1536195334, "post_id": 52194263, "comment_id": 91339707, "body": "I&#39;ve removed the <code>visual-studio</code> tag because this is a code question, and not a question about the Visual Studio IDE (which is what that tag is for)."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1536195997, "post_id": 52194263, "comment_id": 91339840, "body": "<code>even if i type wrong input.</code> Can you share us an example of <code>wrong input</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 2, "last_activity_date": 1586448697, "last_edit_date": 1586448697, "creation_date": 1536187885, "answer_id": 52194344, "question_id": 52194263, "link": "https://stackoverflow.com/questions/52194263/program-will-exit-the-loop-even-if-wrong-input/52194344#52194344", "title": "Program will exit the loop even if wrong input", "body": "<p>Don't use <code>int.Parse</code> when user input is required, what if you type in something that's not an int? Bam! the computer doesn't know what you want, can't figure it out, then throws an exception.</p>\n\n<p>Use instead <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.int32.tryparse?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">TryParse</a></p>\n\n<blockquote>\n  <p>Converts the string representation of a number to its 32-bit signed\n  integer equivalent. A return value indicates whether the operation\n  succeeded.</p>\n</blockquote>\n\n<p>Your programming is probably exiting because <code>int.Parse</code> is throwing an <code>ArgumentException</code> and exiting instantly when there is invalid input</p>\n\n<p>A better pattern would be</p>\n\n<pre><code>while (thisYear &gt;= 0 &amp;&amp; thisYear &lt;= 30)\n{\n    WriteLine(\"Enter num contestants this year &gt;&gt; \");\n    while(!int.TryParse(ReadLine(), out thisYear))\n       WriteLine(\"OMG you had one job! try again\");\n}\n</code></pre>\n\n<p>Anyway this is just an example, I'll leave the details up to you.</p>\n\n<p>Lastly, you really should have a look at this:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-au/visualstudio/debugger/navigating-through-code-with-the-debugger?view=vs-2015\" rel=\"nofollow noreferrer\">Navigating through Code with the Debugger</a></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1536197364, "last_edit_date": 1536197364, "creation_date": 1536196555, "answer_id": 52195181, "question_id": 52194263, "link": "https://stackoverflow.com/questions/52194263/program-will-exit-the-loop-even-if-wrong-input/52195181#52195181", "title": "Program will exit the loop even if wrong input", "body": "<p>I think the problem here is that you've mixed up your loop conditions. Your current code says:</p>\n\n<blockquote>\n  <p><em>\"while last year is greater than or equal to zero and less than or equal to 30 (a valid value), keep asking for a number\"</em></p>\n</blockquote>\n\n<p>What you want it to say is:</p>\n\n<blockquote>\n  <p><em>\"while last year is less than zero or greater than 30 (an invalid value), keep asking for a number\"</em></p>\n</blockquote>\n\n<p>The following code snipped should resolve the issue. Note I added a <code>bool firstLoop = true</code> variable so we don't show an error message the first time, and I've also set the initial values to <em>invalid</em> values, so the loop condition runs at least once:</p>\n\n<pre><code>int lastYear = -1, thisYear = -1, totalRev;\n\nbool firstLoop = true;\n\nwhile (lastYear &lt; 0 || lastYear &gt; 30)\n{\n    if (firstLoop == false)\n    {\n        Console.WriteLine(\"ERROR: Number must be from 0 to 30:. Please try again.\");\n    }\n\n    Console.WriteLine(\"Enter number contestants last year (0 - 30) &gt;&gt; \");\n    lastYear = int.Parse(Console.ReadLine());\n\n    firstLoop = false;\n}\n\nfirstLoop = true;\n\nwhile (thisYear &lt; 0 || thisYear &gt; 30)\n{\n    if (firstLoop == false)\n    {\n        Console.WriteLine(\"ERROR: Number must be from 0 to 30:. Please try again.\");\n    }\n\n    Console.WriteLine(\"Enter number contestants this year (0 - 30) &gt;&gt; \");\n    thisYear = int.Parse(Console.ReadLine());\n\n    firstLoop = false;\n}\n</code></pre>\n\n<hr>\n\n<p>Looking at that code, however, we see there's a lot of repetition. In fact it's the exact same except for the message we're sending to the user and the variable we're testing/setting. This means it's a good candidate to be pulled out into a method of it's own.</p>\n\n<p>It would be great if we had a method that we could pass in a string (which it would display to the user), and we could pass the minimum and maximum valid values, and it would return the user input for us!</p>\n\n<p>We could have the code in the method body run in loop, and can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.int32.tryparse?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>int.TryParse</code></a> to validate the user's input. <code>int.TryParse</code> takes in a string argument and an integer output parameter, returns true if the string can be converted to an integer, and sets the output parameter to the value. This is handy because we can use the return value to test if the input was a valid integer, and we can use the output parameter to test if it was within the acceptable range:</p>\n\n<pre><code>private static int GetIntFromUser(string prompt, int minValue, int maxValue)\n{\n    Console.Write(prompt);\n\n    int result;\n\n    while (!int.TryParse(Console.ReadLine(), out result) || \n        result &lt; minValue || \n        result &gt; maxValue)\n    {\n        Console.WriteLine(\"Error: number must be from \" + minValue + \" to \" + maxValue);\n        Console.Write(prompt);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Now with this method in place our main code is <strong>GREATLY</strong> simplified:</p>\n\n<pre><code>int lastYear = GetIntFromUser(\"Enter number contestants last year (0 - 30) &gt;&gt; \", 0, 30);\nint thisYear = GetIntFromUser(\"Enter number contestants this year (0 - 30) &gt;&gt; \", 0, 30);\nint totalRev = thisYear * 25;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1536197257, "last_edit_date": 1536197257, "creation_date": 1536196898, "answer_id": 52195210, "question_id": 52194263, "link": "https://stackoverflow.com/questions/52194263/program-will-exit-the-loop-even-if-wrong-input/52195210#52195210", "title": "Program will exit the loop even if wrong input", "body": "<p>Couple of improvements. I'll encapsulate the following code into a separate method. </p>\n\n<pre><code>void GetYearInput(ref int year)\n{\n    while (lastYear &gt;= 0 &amp;&amp; lastYear &lt;= 30)\n    {\n        Console.WriteLine(\"Enter number contestants last year &gt;&gt; \");\n        lastYear = int.Parse(Console.ReadLine());\n        lastYear++;\n    }\n}\n</code></pre>\n\n<p>// Change the method as per your needs.\nAlso, for int.Parse, I'll use int.TryParse like below:</p>\n\n<pre><code>bool ifSuccess = int.TryParse(val, out result);\n</code></pre>\n\n<p>Mind you, if val is an invalid input, result will be 0. So, its important to check for ifSuccess.</p>\n\n<p>You can change your methodname to GetValidYear or IsValidYear().</p>\n\n<p>Also, may not be much relevant here, but for multiple if's, I would rather have nested if's:</p>\n\n<pre><code>if (thisYear &gt; lastYear)\n{\n    if (thisYear &lt;= (lastYear * 2))\n    {}\n    else if (thisYear &gt; lastYear * 2)\n    {}\n    else {}\n}\nelse if (thisYear &lt; lastYear)\n{}\nelse if(thisYear == lastYear) {}     \n</code></pre>\n\n<p>Please avoid duplicating, copy/paste code and Refactor when necessary. Small maintainable methods are easy to test, maintain bla bla.</p>\n\n<p>More on <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/ref\" rel=\"nofollow noreferrer\">ref</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/out\" rel=\"nofollow noreferrer\">out</a> is here.</p>\n"}], "owner": {"reputation": 59, "user_id": 10322581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k76om.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/10322581/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 52195181, "answer_count": 3, "score": -3, "last_activity_date": 1586448697, "creation_date": 1536187279, "last_edit_date": 1536204286, "question_id": 52194263, "link": "https://stackoverflow.com/questions/52194263/program-will-exit-the-loop-even-if-wrong-input", "title": "Program will exit the loop even if wrong input", "body": "<p>I'm a beginner and learning C#.</p>\n\n<p>I'm trying to do my homework, but got stuck. My program will exit the loop even if I type wrong input.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public class Program\n{\n    private static void Main(string[] args)\n    {\n        int lastYear = 0, thisYear = 0, totalRev;\n\n        while (lastYear &gt;= 0 &amp;&amp; lastYear &lt;= 30)\n        {\n            WriteLine(\"Enter number contestants last year &gt;&gt; \");\n            lastYear = int.Parse(ReadLine());\n            lastYear++;\n        }\n\n        WriteLine(\"Number must be between 0 and 30\");\n        WriteLine(\"Enter number contestants last year &gt;&gt; \");\n\n        while (thisYear &gt;= 0 &amp;&amp; thisYear &lt;= 30)\n        {\n            WriteLine(\"Enter num contestants this year &gt;&gt; \");\n            thisYear = int.Parse(ReadLine());\n        }\n\n        WriteLine(\"Number must be between 0 and 30\");\n\n        totalRev = thisYear * 25;\n        WriteLine($\"last year's competition has {lastYear} conts, and this year's has {thisYear} conts \" +\n            \"\\nRevnue expected this year is {totalRev.ToString(\"c\")} \");\n\n        if (thisYear &gt; lastYear &amp;&amp; thisYear &lt;= (lastYear * 2))\n            WriteLine(\"The competition is bigger than ever!\");\n        else if (thisYear &lt; lastYear)\n            WriteLine(\"A tighter race this year! Come out and cast our vote!!\");\n        else if (thisYear &gt; lastYear * 2)\n            WriteLine(\"The competition is more than twice as big this year!\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "wifi"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 2272204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a289d8578222abb0c53373e80a47b9f?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/2272204/ralph"}, "edited": false, "score": 0, "creation_date": 1536206513, "post_id": 52195994, "comment_id": 91341940, "body": "Hello John and thanks for your answer. The problem with this approach is that, in this specific case, these events (NetworkAvailabilityChanged, NetworkAddressChanged) are not called when transitioning from wi-fi to cable. Thanks anyway."}, {"owner": {"reputation": 1, "user_id": 9649626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2xQN4Q4o9IU/AAAAAAAAAAI/AAAAAAAAAqU/M98nKQYY9jM/photo.jpg?sz=128", "display_name": "John Erasmus Mari De Castro", "link": "https://stackoverflow.com/users/9649626/john-erasmus-mari-de-castro"}, "reply_to_user": {"reputation": 121, "user_id": 2272204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a289d8578222abb0c53373e80a47b9f?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/2272204/ralph"}, "edited": false, "score": 0, "creation_date": 1536210009, "post_id": 52195994, "comment_id": 91342776, "body": "Is Microsoft Surface a laptop? What I know about laptop is that both ethernet and wifi can be turned on at the same time. So, when you turned off the wifi, it might happen that the network change will not raise an event because it also sees that it is also connected to the ethernet. Maybe if you can disable ethernet or create a function that handles both wifi and eth connection when either one of them are turned on, you may switch to another when a connection changes."}, {"owner": {"reputation": 121, "user_id": 2272204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a289d8578222abb0c53373e80a47b9f?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/2272204/ralph"}, "edited": false, "score": 0, "creation_date": 1536249265, "post_id": 52195994, "comment_id": 91365262, "body": "Exactly, this is a laptop from Microsoft, see <a href=\"https://www.microsoft.com/en-us/surface\" rel=\"nofollow noreferrer\">here</a>. I&#39;m gonna try it, up to this point I wasn&#39;t able to separate those two events for the two adapters present in this case."}], "tags": [], "owner": {"reputation": 1, "user_id": 9649626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2xQN4Q4o9IU/AAAAAAAAAAI/AAAAAAAAAqU/M98nKQYY9jM/photo.jpg?sz=128", "display_name": "John Erasmus Mari De Castro", "link": "https://stackoverflow.com/users/9649626/john-erasmus-mari-de-castro"}, "is_accepted": false, "score": 0, "last_activity_date": 1536203672, "creation_date": 1536203672, "answer_id": 52195994, "question_id": 52194242, "link": "https://stackoverflow.com/questions/52194242/how-to-detect-that-a-connection-was-disabled-on-c-when-transitioning-from-wifi/52195994#52195994", "title": "How to detect that a connection was disabled on c# when transitioning from wifi to cable?", "body": "<p>This is just an idea, I do not know if there are any methods for this.\nWhen changing network connection, the ip address is also changing. You can either set a static ip for both wifi and ethernet, then create a function that always checks the ip. When there is a change, it means that the connection changed.\nI don't know if this will work, but maybe this might help you.</p>\n"}], "owner": {"reputation": 121, "user_id": 2272204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a289d8578222abb0c53373e80a47b9f?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/2272204/ralph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536261741, "creation_date": 1536187135, "last_edit_date": 1536261741, "question_id": 52194242, "link": "https://stackoverflow.com/questions/52194242/how-to-detect-that-a-connection-was-disabled-on-c-when-transitioning-from-wifi", "title": "How to detect that a connection was disabled on c# when transitioning from wifi to cable?", "body": "<p>I was searching the web to have the events on c# when a network connection is disabled and I came across <a href=\"https://www.codeproject.com/Articles/64975/Detect-Internet-Network-Availability\" rel=\"nofollow noreferrer\">this</a> article on CodeProject which uses NetworkChange class from .NET subscribing to the events NetworkAvailabilityChanged and NetworkAddressChanged.</p>\n\n<p>While it does a great job in handling the events for connecting network cards, in my tests it does not raise an event when we are transitioning (disconnecting) from a wi-fi connection to a cabled connection. \nJust to understand my context and before a ton of comments of duplicates come my way, this is my set up:</p>\n\n<ul>\n<li>I have a Microsoft Surface connected on wi-fi, the cable is previously connected</li>\n<li>I disabled the wi-fi connection expecting the events would be called but instead, it goes off and the connection transitions to my Ethernet local card without raising any events. </li>\n</ul>\n\n<p>Would you have an idea on how to approach this problem? Or would you already came across a scenario like this?</p>\n\n<p>Any ideas is much appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "entity-framework", "generics"], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 1471828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb14b50e9aac56f1d4bbbc7cb1a7734?s=128&d=identicon&r=PG", "display_name": "Rno", "link": "https://stackoverflow.com/users/1471828/rno"}, "edited": false, "score": 0, "creation_date": 1536187317, "post_id": 52194232, "comment_id": 91338256, "body": "I have those classes already in place. I want to pass whatever of their properties to <code>SingleOrDefault()</code>. My question is about how to write <code>SingleOrDefault(p=&gt;[?passed in property?].Equals(input))</code>"}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "reply_to_user": {"reputation": 610, "user_id": 1471828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb14b50e9aac56f1d4bbbc7cb1a7734?s=128&d=identicon&r=PG", "display_name": "Rno", "link": "https://stackoverflow.com/users/1471828/rno"}, "edited": false, "score": 0, "creation_date": 1536187800, "post_id": 52194232, "comment_id": 91338380, "body": "You need to use reflection; I do not have the code. You might get the idea on how to implement it from <a href=\"https://stackoverflow.com/a/34908081/296861\">this</a> answer and Jon Skeet&#39;s original answer."}, {"owner": {"reputation": 610, "user_id": 1471828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb14b50e9aac56f1d4bbbc7cb1a7734?s=128&d=identicon&r=PG", "display_name": "Rno", "link": "https://stackoverflow.com/users/1471828/rno"}, "edited": false, "score": 1, "creation_date": 1536229672, "post_id": 52194232, "comment_id": 91352849, "body": "I figured it out, and I was overthinking it. I just needed to pass the expression to be evaluated in SingleOrDefault() from the calling method."}], "tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 1, "last_activity_date": 1536187036, "creation_date": 1536187036, "answer_id": 52194232, "question_id": 52194118, "link": "https://stackoverflow.com/questions/52194118/pass-property-to-be-used-in-lambda-expression/52194232#52194232", "title": "pass property to be used in lambda expression", "body": "<p><code>Person</code> class and <code>Company</code> class will need to implement either <code>abstract class</code> or <code>interface</code>. </p>\n\n<pre><code>public abstract class BaseEntity\n{\n    public abstract int Id { get; set; }\n    public abstract string Name { get; set; }\n}\n\npublic class Person : BaseEntity\n{\n    public int PersonId { get; set; }\n    public override string Name { get; set; }\n\n    public override int Id\n    {\n        get { return PersonId; }\n        set { PersonId = value; }\n    }\n}\n\npublic class Company : BaseEntity\n{\n    public int CompanyId { get; set; }\n    public override string Name { get; set; }\n\n    public override int Id\n    {\n        get { return CompanyId; }\n        set { CompanyId = value; }\n    }\n}\n</code></pre>\n\n<p>Then you can pass <code>p.Name</code> and <code>p.CompanyId</code>.</p>\n\n<pre><code>var entity = context.Set&lt;TEntity&gt;().SingleOrDefault(p =&gt; p.Name.Equals(match));\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 1471828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb14b50e9aac56f1d4bbbc7cb1a7734?s=128&d=identicon&r=PG", "display_name": "Rno", "link": "https://stackoverflow.com/users/1471828/rno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536188578, "creation_date": 1536186227, "last_edit_date": 1536188578, "question_id": 52194118, "link": "https://stackoverflow.com/questions/52194118/pass-property-to-be-used-in-lambda-expression", "title": "pass property to be used in lambda expression", "body": "<p>I am having trouble with generics. Using examples from <a href=\"https://stackoverflow.com/questions/11178864/pass-property-itself-to-function-as-parameter-in-c-sharp\">here</a>, I want to pass a property for use in EF Core. I have a feeling I am overcomplicating things. Note that I would like to stick with lamba expressions instead of passing something like nameof (which I cannot use in 4.0).</p>\n\n<pre><code>class Foo\n{\n        public string A { get; set; } // some unique string in DbSet for entity Person\n        public string B { get; set; } // some unique string in DbSet for entity Company\n\n        public int GetId&lt;TEntity&gt;(string match, Expression&lt;Func&lt;TEntity, string&gt;&gt; fieldToExamine,  Expression&lt;Func&lt;TEntity, int&gt;&gt; fieldWithId, System.Data.Entity.DbContext context)\n            where TEntity : class\n        {\n            int retval = -1;\n            if (!string.IsNullOrEmpty(match))\n            {\n                var expr = (MemberExpression)fieldToExamine.Body;\n                var prop = (PropertyInfo)expr.Member;\n                var expr2 = (MemberExpression)fieldWithId.Body;\n                var idField = (PropertyInfo)expr2.Member;\n                // this works because everything is explicit\n                var entity = context.Set&lt;Person&gt;().SingleOrDefault(p =&gt; p.PersonName.Equals(match));\n                // ... but I want that to be generic\n                // how to reference the property to be evaluated?\n                //var entity = context.Set&lt;TEntity&gt;().SingleOrDefault(p =&gt; ...); // &lt;- HELP?!\n                if (entity != null)\n                {\n                    retval = (int)entity.GetType().GetProperty(idField.Name).GetValue(entity, null);\n                }\n            }\n            return retval;\n        }\n}\n\nstatic void Main(string[] args)\n{\n// .. omitted database stuff ..\n// (for Person) what I want is to match the Name field (here: p.Name) of the Person entity to the Foo property value (here: f.A) and return the database id stored in p.PersonId\nint x = f.GetId&lt;Person&gt;(f.A, p =&gt; p.PersonName, p =&gt; p.PersonId, context);\n// same for Company, but different values and fields\nint y = f.GetId&lt;Company&gt;(f.B, p =&gt; p.CompanyName, p =&gt; p.CompanyId, context);\n}\n</code></pre>\n"}, {"tags": ["c#", "lambda", "foreach"], "comments": [{"owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "edited": false, "score": 5, "creation_date": 1536185716, "post_id": 52193948, "comment_id": 91337854, "body": "Linq is <i>not</i> very good when you want to <i>modify</i> an <i>existing</i> collection (<code>AList</code>). I suggest keeping <code>foreach</code>"}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 5389072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c793931eb47cc5ef3dadd5db18810c15?s=128&d=identicon&r=PG", "display_name": "rANth", "link": "https://stackoverflow.com/users/5389072/ranth"}, "edited": false, "score": 0, "creation_date": 1536594832, "post_id": 52194589, "comment_id": 91470543, "body": "Thank you for your positive comment :)"}], "tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 1, "last_activity_date": 1536189974, "creation_date": 1536189974, "answer_id": 52194589, "question_id": 52193948, "link": "https://stackoverflow.com/questions/52193948/nested-lambda-expression-instead-of-foreach/52194589#52194589", "title": "Nested Lambda expression instead of foreach", "body": "<p><em>Linq</em> and <em>Extension Methods</em> shouldn't really try to solve everything. However, if you really need everything in the one statement, you could use this.</p>\n\n<pre><code>AList.SelectMany(x =&gt; x.body.positions)\n     .ToList()\n     .ForEach(\n         position =&gt; \n            position.NameOfWeek = weekList.Where(x =&gt; x.NameOfWeek == position.NameOfWeek)\n                                          .Select(y =&gt; y.NameOfWeek)\n                                          .FirstOrDefault());\n</code></pre>\n\n<p><strong><em>Note</strong> : If this came across my desk for code review, id send it back with a note saying, My EYES!!! , please refactor.</em></p>\n\n<p>Basically, your original <code>foreach</code> is easy to read and maintain. Its not trying to be too fancy, and you can easily see whats going on. These qualities are way more important then getting everything in one statement.</p>\n"}, {"tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1536193298, "creation_date": 1536193298, "answer_id": 52194896, "question_id": 52193948, "link": "https://stackoverflow.com/questions/52193948/nested-lambda-expression-instead-of-foreach/52194896#52194896", "title": "Nested Lambda expression instead of foreach", "body": "<p>Well, you can use the linq function SelectMany. Here is a modified version:</p>\n\n<pre><code>foreach(var position in AList.SelectMany(k =&gt; k.body.positions)) {\n    position.NameOfWeek = weekList\n                        .Where(x =&gt; x.NameOfWeek.ToString() == position.NameOfWeek)\n                        .Select(y =&gt; y.NameOfWeek)\n                        .FirstOrDefault();\n}\n</code></pre>\n"}], "owner": {"reputation": 297, "user_id": 5389072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c793931eb47cc5ef3dadd5db18810c15?s=128&d=identicon&r=PG", "display_name": "rANth", "link": "https://stackoverflow.com/users/5389072/ranth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536193298, "creation_date": 1536185046, "last_edit_date": 1536185341, "question_id": 52193948, "link": "https://stackoverflow.com/questions/52193948/nested-lambda-expression-instead-of-foreach", "title": "Nested Lambda expression instead of foreach", "body": "<pre><code>class A{\n    public B body { get; set; }\n}\n\nclass B{\n    public List&lt;C&gt; positions { get; set; }\n}\n\nclass C{\n    public string NameOfWeek { get; set; }\n}\n\nclass week{\n    public int ID { get; set; }\n    public string NameOfWeek { get; set; }\n}\n\nclass SomeX{\n    public List&lt;A&gt; MapWeekID(List&lt;week&gt; weekList, List&lt;A&gt; AList)\n        {\n            foreach (var a in AList)\n            {\n                foreach (var position in a.body.positions)\n                {\n                    position.NameOfWeek = weekList\n                        .Where(x =&gt; x.NameOfWeek.ToString() == position.NameOfWeek)\n                        .Select(y =&gt; y.NameOfWeek)\n                        .FirstOrDefault();\n                }\n            }\n\n            return AList;\n        }\n}\n</code></pre>\n\n<p>Here is code.\nHow to write lambda for above foreach statement? I am trying but couldn't get hold of best solution so can anyone?</p>\n"}, {"tags": ["c#", "multithreading", "timer", "filesystemwatcher"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1536190383, "post_id": 52193936, "comment_id": 91338871, "body": "This is more a code review question, there is another StackExchange site that will deal with this."}], "owner": {"reputation": 91, "user_id": 7847061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p1H3S9ETFx0/AAAAAAAAAAI/AAAAAAAAAAs/UFIh6gJ386A/photo.jpg?sz=128", "display_name": "paboobhzx", "link": "https://stackoverflow.com/users/7847061/paboobhzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536185256, "creation_date": 1536184983, "last_edit_date": 1536185256, "question_id": 52193936, "link": "https://stackoverflow.com/questions/52193936/filesystemwatcher-and-timer-together", "title": "FileSystemWatcher and timer together", "body": "<p>I've read the suggested posts when writing the title of my question, but couldn't help much. The code looks like mine, but there's something i'm doing that may be wrong. Also i would like to add a few questions during this one hehe.</p>\n\n<p>I'm writing a program that will run a <code>FileSystemWatcher</code> and a <code>Timer</code>, together.\nWhen the user presses the start button, it will trigger the <code>Timer</code> and <code>FileSystemWatcher</code>.</p>\n\n<p>As long <code>FileSystemWatcher</code> is monitoring the folder, the <code>Timer</code> is running.\nIf no file is received, nothing happens.\nIf a file is created, enqueue it inside the <code>OnCreated</code> event and restart the <code>Timer</code>.</p>\n\n<p>After file(s) was(were) created and the timer expired, it starts the work on the <code>FileProcessor</code> class.</p>\n\n<p>I saw many samples of <code>FileProcessor</code> class suited for specific needs and thats what i did with mine. Changed to attend my requisites.</p>\n\n<p>So, instead of starting the job in the moment a job is enqueued, i wait until the <code>Timer</code> expires and then start to process.</p>\n\n<p>Until now everything is going fine but here's what happens:\nWhen the <code>FileProcessor</code> class is doing its work, the <code>FileSystemWatcher</code> stops monitoring the folder. No file is detected after the <code>FileProcessor</code> thread ends, timer restarts normally. I would like to ask help to see if there's anything wrong with that, if i should use another component rather than <code>FileSystemWatcher</code>.</p>\n\n<p>Also, an question with this one: I want to detect files that are created while the program is working, and process them later. For this need i added an separate counter, to catch the original count of the queue before the loop starts dequeueing. Is this a good approach ?</p>\n\n<p>Thanks in advance !</p>\n\n<p>Form Code:</p>\n\n<pre><code>   using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.IO;\nusing System.Text;\nusing System.Windows.Forms;\nusing Telerik.WinControls;\n\n\nnamespace DI_Plot_2018\n{\n    public partial class RadForm1 : Telerik.WinControls.UI.RadForm\n    {\n        FileSystemWatcher InputFileWatcher;\n        FileProcessor TIFFProcessor;\n        static Timer timer1;\n        bool RestartTimer;\n        LoadInternalSettings InternalSettings;\n        double CurrentCounter;        \n        public RadForm1()\n        {            \n            InitializeComponent();\n            RestartTimer = false;\n            InternalSettings = new LoadInternalSettings();\n            //counter = Int32.Parse(InternalSettings.Timer);\n            timer1 = new Timer();\n            timer1.Tick += new EventHandler(SecondElapsed);\n            timer1.Enabled = false;\n            TIFFProcessor = new FileProcessor();\n            LoadControls(InternalSettings);\n        }\n        DateTime start;\n        double s;\n\n        private void CountDown()\n        {\n            start = DateTime.Now;\n            s = Double.Parse(InternalSettings.Timer);            \n            timer1.Start();\n        }\n\n        private void SecondElapsed(object sender, EventArgs e)\n        {\n            double remainingSeconds = s - (DateTime.Now - start).TotalSeconds;            \n            if(RestartTimer == true)\n            {\n                timer1.Stop();\n                CountDown();\n                RestartTimer = false;\n            }\n            else if (remainingSeconds &lt;= 0)\n            {\n                timer1.Stop();\n                if(TIFFProcessor.FilesQueue.Count &gt; 0)\n                {\n                    TIFFProcessor.FireProcessing(CurrentCounter);\n                }                \n                CountDown();\n            }\n            var x = TimeSpan.FromSeconds(remainingSeconds);\n            CurrentCounter = x.Seconds;\n            TimerTextBox.Text = x.Seconds.ToString();\n        }\n        private void FileCreated(Object sender, FileSystemEventArgs e)\n        {\n            if (e.ChangeType == WatcherChangeTypes.Created)\n            {\n                TIFFProcessor.EnqueueJob(e.FullPath, CurrentCounter);\n                RestartTimer = true;\n            }\n        }\n        private void ButtonChangedEventHandler(object sender, EventArgs e)\n        {\n            Telerik.WinControls.UI.RadButton bt = sender as Telerik.WinControls.UI.RadButton;\n            string buttonName = (String)bt.Name;\n            SwitchButtonImage buttonImageSwitch;\n            switch (buttonName)\n            {\n                case \"StartButton\":\n                    {\n                        InputFileWatcher = new FileSystemWatcher(InputFolderTextBox.Text);\n                        InputFileWatcher.Created += new FileSystemEventHandler(FileCreated);\n                        InputFileWatcher.Filter = \"*.tif\";\n                        InputFileWatcher.EnableRaisingEvents = true;\n                        StopButton.Enabled = true;\n                        StartButton.Enabled = false;\n                        CountDown();\n                        //TimerStart();\n                        break;\n                    }\n                case \"StopButton\":\n                    {\n                        InputFileWatcher.EnableRaisingEvents = false;\n                        timer1.Stop();\n                        StopButton.Enabled = false;\n                        StartButton.Enabled = true;\n                        break;\n                    }\n                case \"ImageRotationButton\":\n                    {\n                        buttonImageSwitch = new SwitchButtonImage(ImageRotationButton, \"ImageRotationIndex\");\n                        break;\n                    }\n                case \"ImageOrientationButton\":\n                    {\n                        buttonImageSwitch = new SwitchButtonImage(ImageOrientationButton, \"ImageOrientationIndex\");\n                        break;\n                    }\n                case \"InputFolderBrowseButton\":\n                    {\n                        InputFolderTextBox.Text = new ItemSaveToConfig.SelectFolderSaveProperty(InputFolderTextBox.Text, \"Select the input folder\", \"InputFolder\").folderSelect;\n                        break;\n                    }\n                case \"OutputFolderBrowseButton\":\n                    {\n                        OutputFolderTextBox.Text = new ItemSaveToConfig.SelectFolderSaveProperty(OutputFolderTextBox.Text, \"Select the output folder\", \"OutputFolder\").folderSelect;\n                        break;\n                    }\n            }\n        }\n        private void LoadControls(LoadInternalSettings Settings)\n        {\n            InputFolderTextBox.Text = InternalSettings.InputFolder;\n            OutputFolderTextBox.Text = InternalSettings.OutputFolder;\n            NumberOfZonesTextBox.Text = InternalSettings.NumberOfZones;\n            FirstZoneWidthTextBox.Text = InternalSettings.FirstZoneWidth;\n            LastZoneWidthTextBox.Text = InternalSettings.LastZoneWidth;\n            ZoneAreaWidthTextBox.Text = InternalSettings.ZoneAreaWidth;\n            ZoneAreaHeightTextBox.Text = InternalSettings.ZoneAreaHeight;\n            ZoneWidthTextBox.Text = InternalSettings.ZoneWidth;\n            TimerTextBox.Text = InternalSettings.Timer;\n            ZoneWidthTextBox.Text = InternalSettings.ZoneWidth;\n            ImageRotationButton.ChangeClickCountFromConfigFile(Int32.Parse(InternalSettings.ImageRotationIndex));\n            ImageOrientationButton.ChangeClickCountFromConfigFile(Int32.Parse(InternalSettings.ImageOrientationIndex));\n            //xmlRotateFront.ChangeClickCountFromConfigFile(internalSettings.XMLtoPPFRotateFrontIndex);\n            var RotatePreview = new SwitchButtonImage(ImageRotationButton, \"ImageRotationIndex\");\n            var OrientationPreview = new SwitchButtonImage(ImageOrientationButton, \"ImageOrientationIndex\");\n        }\n        private void TextBoxChangedEventHandler(object sender, EventArgs e)\n        {\n            Telerik.WinControls.UI.RadTextBox TxtBx = sender as Telerik.WinControls.UI.RadTextBox;\n            string TxtName = TxtBx.Name;\n            switch (TxtName)\n            {\n                case \"NumberOfZonesTextBox\":\n                    {\n                        NumberOfZonesTextBox.Text = new ItemSaveToConfig.ChangeAndSaveTextBox(NumberOfZonesTextBox.Text, \"NumberOfZones\", false).TextToApply;\n                        break;\n                    }\n                case \"ZoneWidthTextBox\":\n                    {\n                        ZoneWidthTextBox.Text = new ItemSaveToConfig.ChangeAndSaveTextBox(ZoneWidthTextBox.Text, \"ZoneWidth\", false).TextToApply;\n                        break;\n                    }\n                case \"FirstZoneWidthTextBox\":\n                    {\n                        ZoneWidthTextBox.Text = new ItemSaveToConfig.ChangeAndSaveTextBox(FirstZoneWidthTextBox.Text, \"FirstZoneWidth\", false).TextToApply;\n                        break;\n                    }\n                case \"LastZoneWidthTextBox\":\n                    {\n                        ZoneWidthTextBox.Text = new ItemSaveToConfig.ChangeAndSaveTextBox(LastZoneWidthTextBox.Text, \"LastZoneWidth\", false).TextToApply;\n                        break;\n                    }\n            }\n\n\n        }\n        private void RadForm1_FormClosed(object sender, FormClosedEventArgs e)\n        {\n            timer1.Stop();\n            new ItemSaveToConfig.SelectItemSaveProperty(\"Timer\", TimerTextBox.Text.ToString());\n            //WaitingTimer.Stop();\n            Environment.Exit(0);\n        }\n    }\n}\n</code></pre>\n\n<p>FileProcessor Code:</p>\n\n<pre><code>    using System;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.IO;\nusing System.Threading;\nusing System.Collections.Generic;\nusing System.Windows.Forms;\nusing System.Timers;\nusing DI_Plot_2018.IZData;\n\nnamespace DI_Plot_2018\n{\n    class FileProcessor : IDisposable\n    {\n        // Create an AutoResetEvent EventWaitHandle\n        private EventWaitHandle eventWaitHandle = new AutoResetEvent(false);\n        private readonly object locker = new object();\n        private Thread worker;                \n        public Queue&lt;string&gt; FilesQueue = new Queue&lt;string&gt;();\n        private Queue&lt;KeyValuePair&lt;string, List&lt;string&gt;&gt;&gt; JobsQueue = new Queue&lt;KeyValuePair&lt;string, List&lt;string&gt;&gt;&gt;();\n        private Dictionary&lt;string, List&lt;string&gt;&gt; FullJob = new Dictionary&lt;string, List&lt;string&gt;&gt;();\n        #region IDisposable Members\n        public FileProcessor()\n        {\n            worker = new Thread(new ThreadStart(Work));\n            worker.IsBackground = true;\n        }\n        public void FireProcessing(double counter)\n        {\n            int filesQueuedCounter = FilesQueue.Count;\n            if (counter &lt;= 0) //Timer is over, proceed with execution\n            {\n                lock(locker)\n                {                    \n                    while (filesQueuedCounter &gt; 0)\n                    {\n                        string currFilename = FilesQueue.Dequeue(); //Dequeue filename\n                        JobDetails CurrentJobInfo = new JobDetails(currFilename); //Get information about the job \n                        //Checking if dict already has the key - if it does, add the filename at the key position\n                        if (FullJob.ContainsKey(CurrentJobInfo.JobNameWithoutColor))\n                            FullJob[CurrentJobInfo.JobNameWithoutColor].Add(currFilename);\n                        else //if it doesn't, add the new key and start the value (List&lt;string&gt;) with the current filename\n                            FullJob.Add(CurrentJobInfo.JobNameWithoutColor, new List&lt;string&gt;() { currFilename });\n                        filesQueuedCounter--;\n                    }//End while loop - Dequeue all files\n                    foreach (var item in FullJob) //Enqueue files in a jobs queue (KeyValuePair queue)\n                    {\n                        JobsQueue.Enqueue(item);\n                    }\n                    eventWaitHandle.Set();                    \n                    worker.Start();\n                }                                    \n\n            }\n        }\n        public void EnqueueJob(string FileName, double counter)\n        {            \n            if(counter &gt; 0)\n            {\n                lock(locker)\n                {\n                    FilesQueue.Enqueue(FileName);\n                }                \n            }             \n        }\n        private void Work()\n        {\n            while(true)\n            {\n                KeyValuePair&lt;string, List&lt;string&gt;&gt; JobToRun = new KeyValuePair&lt;string, List&lt;string&gt;&gt;();\n                lock (locker)\n                {\n                    if(JobsQueue.Count &gt; 0)\n                    {\n                        JobToRun = JobsQueue.Dequeue();\n                        if (JobToRun.Key == null) return;\n                    }\n                    if(JobToRun.Key != null)\n                    {\n                        ProcessJob(JobToRun);\n                    }\n                    else\n                    {\n                        eventWaitHandle.WaitOne();\n                    }\n                }\n            }\n        }\n        private void ProcessJob(KeyValuePair&lt;string,List&lt;string&gt;&gt; currJob)\n        {\n            string x = string.Empty;\n\n        }\n        public void Dispose()\n        {\n            // Signal the FileProcessor to exit\n            FilesQueue.Enqueue(null);\n            JobsQueue.Enqueue(new KeyValuePair&lt;string, List&lt;string&gt;&gt;(\"aa\", new List&lt;string&gt;() { \"aa\"}));\n            // Wait for the FileProcessor's thread to finish\n            worker.Join();\n            // Release any OS resources\n            eventWaitHandle.Close();\n        }\n        #endregion\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 3652906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ZouN.jpg?s=128&g=1", "display_name": "Araldy", "link": "https://stackoverflow.com/users/3652906/araldy"}, "edited": false, "score": 0, "creation_date": 1538657811, "post_id": 52194552, "comment_id": 92226392, "body": "After some research, this solution guided me to the right way!"}], "tags": [], "owner": {"reputation": 1569, "user_id": 6617262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e332e8dcb034ce9981443dc0745a5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Richman", "link": "https://stackoverflow.com/users/6617262/joel-richman"}, "is_accepted": true, "score": 1, "last_activity_date": 1536189734, "creation_date": 1536189734, "answer_id": 52194552, "question_id": 52193887, "link": "https://stackoverflow.com/questions/52193887/post-json-data-into-multiple-models-table-from-one-controller/52194552#52194552", "title": "Post JSON data into multiple models / table from one Controller", "body": "<p>This Microsoft documentation may help: <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/related-data\" rel=\"nofollow noreferrer\">Saving Related Data</a></p>\n\n<blockquote>\n  <p>If you create several new related entities, adding one of them to the\n  context will cause the others to be added too.</p>\n</blockquote>\n\n<pre><code>using (var context = new BloggingContext())\n{\n    var blog = new Blog\n    {\n        Url = \"http://blogs.msdn.com/dotnet\",\n        Posts = new List&lt;Post&gt;\n        {\n            new Post { Title = \"Intro to C#\" },\n            new Post { Title = \"Intro to VB.NET\" },\n            new Post { Title = \"Intro to F#\" }\n        }\n    };\n\n    context.Blogs.Add(blog);\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>I have written similar code and can verify that EF Core should create the related entities as you describe in your question.</p>\n\n<p>There is a sample app on <a href=\"https://github.com/aspnet/EntityFramework.Docs/tree/master/samples/core/Saving/Saving/RelatedData/\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}], "owner": {"reputation": 88, "user_id": 3652906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ZouN.jpg?s=128&g=1", "display_name": "Araldy", "link": "https://stackoverflow.com/users/3652906/araldy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 52194552, "answer_count": 1, "score": 0, "last_activity_date": 1536189734, "creation_date": 1536184637, "last_edit_date": 1536184763, "question_id": 52193887, "link": "https://stackoverflow.com/questions/52193887/post-json-data-into-multiple-models-table-from-one-controller", "title": "Post JSON data into multiple models / table from one Controller", "body": "<p>I am a relative newby to ASP CORE and Im trying to Post a JSON that comes from an Angular 6 Client side. </p>\n\n<p>The <strong>JSON</strong> Looks as Follow (Please, use any JSON for formatter to visualize it):</p>\n\n<pre><code>{\"supplier\":10001,\"date\":\"2018-09-03T20:42:29Z\",\"summary\":[{\"day\":\"1\",\"aliments\": \n[\"1012\",\"1016\",\"1017\",\"1013\",\"1021\",\"1020\"]},{\"day\":\"2\",\"aliments\": \n[\"1015\",\"1019\",\"1023\",\"1022\",\"1018\",\"1014\"]},{\"day\":\"3\",\"aliments\": \n[\"1027\",\"1031\",\"1030\",\"1026\",\"1025\",\"1029\"]},{\"day\":\"4\",\"aliments\": \n[\"1040\",\"1039\",\"1035\",\"1033\",\"1038\",\"1036\"]},{\"day\":\"5\",\"aliments\": \n[\"1032\",\"1037\",\"1042\",\"1043\",\"1041\",\"1038\"]}]}\n</code></pre>\n\n<p>This information should be Inserted into 2 tables the first one is the master table which have this structure: </p>\n\n<p><strong>Name of the model and the table is \"Menu\".</strong></p>\n\n<p><strong>Colums:</strong>\nMenuId,\nDate,\nFK_Supplier</p>\n\n<p><strong>EF Core Model:</strong></p>\n\n<pre><code>public int MenuId { get; set; }\npublic DateTime Date { get; set; }\npublic int FkSupplier { get; set; }\n</code></pre>\n\n<p><strong>The second one is a \"menudia\"  (table and Model):</strong></p>\n\n<p><strong>Colums:</strong>\nMenudiaId,\nFK_AlimentId,\nFK_MenuId,\nDia, </p>\n\n<p><strong>EF Core:</strong></p>\n\n<pre><code>public int? MenuDiaId { get; set; } \npublic int? FkAlimentId { get; set; }\npublic int? FkMenuId { get; set; }\npublic int? Dia { get; set; }\n</code></pre>\n\n<p>I captured 2 pictures to show you how the data should be inserted in the Database:</p>\n\n<p><strong>Menu:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/MD5bv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MD5bv.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Menudia:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/hVuk3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVuk3.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I created 2 Models to handle the data as I need and here is the result:</strong></p>\n\n<p><strong>NewMenuContent Model:</strong></p>\n\n<pre><code>public int? menuid { get; set; }\npublic int suplidor { get; set; }\npublic DateTime fecha { get; set; }\npublic List&lt;MenuItems&gt; menuresumen { get; set; }\n</code></pre>\n\n<p><strong>MenuItems Model:</strong></p>\n\n<pre><code>   public int Day { get; set; }\n\n   public List&lt;dynamic&gt; alimentos { get; set; }\n</code></pre>\n\n<p>I already have this in my controller which successfully insert data into the Menu Table:</p>\n\n<pre><code>[HttpPost]\n        public int  PostMenu([FromBody] NewMenuContent menu)\n        {\n\n            var newmenu = new Menu\n            {\n                FkSuplidorId = menu.supplier,\n                Semana = menu.date,\n            };\n            var menuid = _context.Menu\n            .Where(x =&gt; x.FkSupplierId == menu.supplier)\n            .Where(x =&gt; x.date == menu.date)\n            .Select(x =&gt; x.MenuId).FirstOrDefault();\n            _context.Menu.Add(newmenu);\n\n\n            _context.SaveChanges();\n            return menuid;\n\n        } //NOTE: \"menu\" is the json. \n</code></pre>\n\n<p>NOTE: Some of the variables and properties of this questions has been translated to from spanish to english, if you see any typing error, dont pay attention to it.</p>\n\n<p>So How can I insert data in the menudia table as shown in the pictures above?  Please note that I would love to this in the same controller and in the same function that is posted above.</p>\n\n<p>The login of this process that the user will select a range of aliments per day which will be part of a Food Menu of an specific supplier, So for example if the user select the supplier \"McDonald\" he will be able to select several aliments per day (monday = burger, fries, chicken nuggets, cola).</p>\n\n<p>Any help on this one is much appreciated as have been on searching the web and trying a variety of different things without success.</p>\n"}, {"tags": ["c#", "linq", "c#-3.0"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1536185159, "post_id": 52193879, "comment_id": 91337697, "body": "What&#39;s the error? ..."}, {"owner": {"reputation": 496, "user_id": 3893199, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/GC6kJ.jpg?s=128&g=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/3893199/eduard"}, "edited": false, "score": 0, "creation_date": 1536185416, "post_id": 52193879, "comment_id": 91337766, "body": "maybe put your query in a list and then do the string joining."}], "answers": [{"tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 0, "last_activity_date": 1536185468, "creation_date": 1536185468, "answer_id": 52194012, "question_id": 52193879, "link": "https://stackoverflow.com/questions/52193879/why-am-i-getting-error-nested-too-deeply-for-this-linq-sql-query/52194012#52194012", "title": "Why am I getting error nested too deeply for this linq SQL query?", "body": "<p>If <code>serialNumbers</code> is a local list, that wouldn't work anyhow if <code>DB.InventoryItems</code> is a queryable database table. You cannot join database tables with local collections. You shouldn't write it that way.</p>\n\n<p>You should write it as:</p>\n\n<pre><code>var ids =\n    from i in DB.InventoryItems\n    where serialNumbers.Contains(i.SerialNumber)\n    select i.id;\n</code></pre>\n\n<p>If you are then getting that error about too many items, that's a limitation of your database so you'll have to break that query out into smaller parts if you want to use that list of numbers. Otherwise you will have to eat the cost of filtering locally in a traditional foreach loop or casting to <code>IEnumerable</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 10001850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/897656f3c2c6f2963e489c9dddc21748?s=128&d=identicon&r=PG&f=1", "display_name": "user10001850", "link": "https://stackoverflow.com/users/10001850/user10001850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 52194012, "answer_count": 1, "score": 0, "last_activity_date": 1547298707, "creation_date": 1536184563, "last_edit_date": 1547298707, "question_id": 52193879, "link": "https://stackoverflow.com/questions/52193879/why-am-i-getting-error-nested-too-deeply-for-this-linq-sql-query", "title": "Why am I getting error nested too deeply for this linq SQL query?", "body": "<pre><code>// Note serialNumbers is a List&lt;string \nvar ids = (from i in DB.InventoryItems\n           join s in serialNumbers on i.SerialNumber equals s\n           select i.id);\nreturn string.Join(\",\", ids);\n</code></pre>\n\n<p>The <code>serialNumbers</code> variable is a list of type string. I am getting error after about 100 items are included in this <code>serialNumbers</code> list</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536185048, "post_id": 52193864, "comment_id": 91337665, "body": "Have you debugged and stepped through the action?"}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536185338, "post_id": 52193864, "comment_id": 91337740, "body": "I have, and that&#39;s how I know that that&#39;s the error. Even though the code is still posting. It all runs normally except for the <code>response.IsSuccessStatusCode</code> returning as 500."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536185481, "post_id": 52193864, "comment_id": 91337789, "body": "I am referring to the server side action"}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536185860, "post_id": 52193864, "comment_id": 91337893, "body": "Yes, it successfully makes it through the server side action without any issues and <code>POST</code>s the results."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536185948, "post_id": 52193864, "comment_id": 91337921, "body": "Ok if that is confirmed then the only other cause could be from a middleware in the pipeline. check to see what middleware if any have been added."}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536186059, "post_id": 52193864, "comment_id": 91337942, "body": "There is no middleware. There&#39;s the button that refers to that click event, and the click event sends it to the API, and the API <code>POST</code>s but returns as an error code."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536186107, "post_id": 52193864, "comment_id": 91337954, "body": "I do not think you are understanding what I am referring to."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536186147, "post_id": 52193864, "comment_id": 91337963, "body": "How did you setup the API? If it is returning 500 error then while debugging you should be able to see the exception happening on the API server. in your output window."}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536186245, "post_id": 52193864, "comment_id": 91337989, "body": "I&#39;m sure I&#39;m misunderstanding. :) It was auto-generated from my model by Visual Studio, which was auto-generated by the database by VS. I did not modify the <code>POST</code> action at all (besides adding the stuff in brackets at the top)."}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536257338, "post_id": 52193864, "comment_id": 91369196, "body": "Okay, it looks like it has stopped submitting the information to the database now. It&#39;s not triggering any of the <code>CATCH</code>es in the code for the API, but it&#39;s also not submitting to the database, and it&#39;s also not returning a success."}], "answers": [{"tags": [], "owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "is_accepted": true, "score": 0, "last_activity_date": 1536264043, "creation_date": 1536264043, "answer_id": 52211366, "question_id": 52193864, "link": "https://stackoverflow.com/questions/52193864/issue-with-post-api-successfully-posting-but-still-returning-500-error-code/52211366#52211366", "title": "Issue with POST API successfully POSTing but still returning 500 error code", "body": "<p>I figured out the issue. I first found a question that directed me to downloading Advanced REST Client (ARC). </p>\n\n<p>I was then able to determine what my actual error was in the API return JSON stuff:</p>\n\n<pre><code>\"Message\": \"An error has occurred.\",\n\"ExceptionMessage\": \"A route named 'DefaultApi' could not be found in the route collection. Parameter name: name\" \n</code></pre>\n\n<p>, and this is the question that solved it for me: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/28117882/attribute-routing-and-createdatroute\">Attribute Routing and CreatedAtRoute</a> </p>\n"}], "owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "accepted_answer_id": 52211366, "answer_count": 1, "score": 0, "last_activity_date": 1536264043, "creation_date": 1536184471, "question_id": 52193864, "link": "https://stackoverflow.com/questions/52193864/issue-with-post-api-successfully-posting-but-still-returning-500-error-code", "title": "Issue with POST API successfully POSTing but still returning 500 error code", "body": "<p>I have a <code>POST</code> API that looks like so: </p>\n\n<pre><code>    [Route(\"api/Review/post\")]\n    [HttpPost]\n    [AcceptVerbs(\"POST\")]\n    // POST: api/Review\n    [ResponseType(typeof(review))]\n    public IHttpActionResult Postreview(review review)\n    {\n        if (!ModelState.IsValid)\n        {\n            return BadRequest(ModelState);\n        }\n\n        db.review.Add(review);\n\n        try\n        {\n            db.SaveChanges();\n        }\n        catch (DbUpdateException)\n        {\n            if (reviewExists(review.rating_id))\n            {\n                return Conflict();\n            }\n            else\n            {\n                throw;\n            }\n        }\n\n        return CreatedAtRoute(\"DefaultApi\", new { id = review.rating_id }, review);\n    }\n</code></pre>\n\n<p>On a form, I have a button that is drawing from the fields on the form to run through the <code>POST</code> API. It looks like this:</p>\n\n<pre><code>    protected void Button1_Click(object sender, EventArgs e)\n    {\n\n\n        void Add_Review(int ap_id, int usr, string val, DateTime revdate, double scr, string com)\n        {\n            if (ap_id == 0)\n            {\n                throw new ArgumentException(message: \"Please select a site\");\n            }\n            if (string.IsNullOrEmpty(com))\n            {\n                throw new ArgumentException(message: \"Please add a comment.\");\n            }\n            using (var client = new HttpClient())\n            {\n                review r = new review\n                {\n                    site_id = ap_id,\n                    usr_id = usr,\n                    valid = val,\n                    review_date = revdate,\n                    score = scr,\n                    comments = com\n                };\n                client.BaseAddress = new Uri(\"http://localhost:#####/\");\n                var response = client.PostAsJsonAsync(\"api/Review/post\", r).Result;\n                if (response.IsSuccessStatusCode)\n                {\n                    Console.Write(\"Success\");\n\n                    Response.Redirect(\"ReviewSubmitted.aspx\");\n\n                }\n                else\n                    Console.Write(\"Error\");\n            }\n        }\n        int usrid;\n        usrid = Convert.ToInt32(ConfigurationManager.AppSettings[\"TestUserID\"]);\n\n        Add_Review(Convert.ToInt16(AirportList.SelectedValue),\n            usrid,\n            \"Y\",\n            Convert.ToDateTime(DateTime.Now.ToString(\"M/d/yyyy\")),\n            Convert.ToDouble(textScore.Text),\n            textComments.Text);\n    }\n</code></pre>\n\n<p>When I click the button, I would expect that it returns \"Success\" and redirects me to my <code>ReviewSubmitted.aspx</code> page. However, even though the <code>POST</code> runs successfully, when it moves back to the <code>button_click</code> method, it tells me that I have a 500 error. </p>\n\n<p>I have verified in the database that the POST was successful. This IS just a personal project that's never going to go anywhere, so I could just tell it to redirect on failure too, but I don't want to do that for obvious reasons. </p>\n\n<p>What am I missing here? Why is it <code>POST</code>ing, but still saying that there was an error? </p>\n"}, {"tags": ["c#", ".net", "visual-studio-2008", "ftp", "ftpwebrequest"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1536185778, "post_id": 52193857, "comment_id": 91337873, "body": "Because it is an FTP client, which is not bound to port 21 (that&#39;s the port the server should use). Check GoDaddy documentation to see how you should configure FTP (active or passive and what passive ports should be used)."}, {"owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1536186445, "post_id": 52193857, "comment_id": 91338039, "body": "@LexLi it works with firefox ftp connection without problem. I checked the info page of godaddy they use port 21 for ftp connections (such as filezilla) The problem is each time another port is created even I wrote port 21 in my program."}, {"owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1536186545, "post_id": 52193857, "comment_id": 91338072, "body": "But I will check if it&#39;s active or passive thanks"}, {"owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1536186856, "post_id": 52193857, "comment_id": 91338145, "body": "Thank you they use reqFTP.UsePassive = true;"}], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 1, "last_activity_date": 1536218791, "last_edit_date": 1536218791, "creation_date": 1536213166, "answer_id": 52197325, "question_id": 52193857, "link": "https://stackoverflow.com/questions/52193857/ftpwebrequest-opens-random-port-instead-21/52197325#52197325", "title": "FtpWebRequest opens random port instead 21", "body": "<p>You are using an active FTP mode.</p>\n\n<p>In the active mode, a client (<code>FtpWebRequest</code> in this case) open a listening port for each transfer, to which a server need to connect to. That port number is random, it cannot be 21. That's a correct behavior. The reason it does not work, is not that the random port is not supported by GoDaddy. The reason is that your Windows firewall prevents GoDaddy from connecting back to that port.</p>\n\n<p>If you do not want the client to open random ports, use a passive mode. In the passive mode, it's the server that opens a port, not the client. In general, you should always use the passive mode, as you want have firewall problems with it. The passive mode is actually the default mode for <code>FtpWebRequest</code>. You have explicitly switched to the active mode by this statement:</p>\n\n<pre><code>reqFTP.UsePassive = false;\n</code></pre>\n\n<p>Just remove the above line and you'll be good.</p>\n\n<p>For more details, refer to my article on <a href=\"https://winscp.net/eng/docs/ftp_modes\" rel=\"nofollow noreferrer\">FTP connection modes</a>.</p>\n"}], "owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1536218791, "creation_date": 1536184403, "last_edit_date": 1536213272, "question_id": 52193857, "link": "https://stackoverflow.com/questions/52193857/ftpwebrequest-opens-random-port-instead-21", "title": "FtpWebRequest opens random port instead 21", "body": "<p>I want to download files with in my program via FTP. Godaddy servers works only with port 21. However each time I want to connect, connection is rejected because a random port number instead of port 21</p>\n\n<p>The method I use is as below</p>\n\n<pre><code>FtpWebRequest reqFTP;\nreqFTP = (FtpWebRequest)FtpWebRequest.Create(new Uri(\"ftp://\" + \"turcguide.com\" + \":21\"));\nreqFTP.UseBinary = true;\nreqFTP.Credentials = new NetworkCredential(\"myusername\", \"mypass\");\nreqFTP.Method = WebRequestMethods.Ftp.ListDirectory;\nreqFTP.Proxy = null;\nreqFTP.KeepAlive = false;\nreqFTP.UsePassive = false;\nWebResponse resp = reqFTP.GetResponse();\n</code></pre>\n\n<p>Using VS 2008 .NET 3.5 on Windows 7 Home Basic OS.</p>\n\n<p>Can some please help what I miss in this method.</p>\n\n<p>The error i get: </p>\n\n<blockquote>\n  <p>425 Could not open data connection to port 49756. Connection timeout (port number changes in every run)</p>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 2, "creation_date": 1536183627, "post_id": 52193704, "comment_id": 91337239, "body": "I&#39;m not sure what you mean by &quot;merge&quot; here. What are you merging with?"}, {"owner": {"reputation": 3233, "user_id": 2630427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb9b9af50987875657ed5b86bcef0aa?s=128&d=identicon&r=PG", "display_name": "ilkerkaran", "link": "https://stackoverflow.com/users/2630427/ilkerkaran"}, "edited": false, "score": 0, "creation_date": 1536183696, "post_id": 52193704, "comment_id": 91337260, "body": "Can you elaborate your question with test data and how it should ordered?"}, {"owner": {"reputation": 11602, "user_id": 3410196, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b48fe9c49292de7930459187a4a98d77?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Derck", "link": "https://stackoverflow.com/users/3410196/alexander-derck"}, "edited": false, "score": 0, "creation_date": 1536183739, "post_id": 52193704, "comment_id": 91337270, "body": "I suppose he means either <code>StartTime</code> or <code>EndTime</code> will be null and he wants to order on the one that has value"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536185372, "post_id": 52193704, "comment_id": 91337751, "body": "Is there a larger problem you&#39;re trying to solve? Because the solution that you&#39;re asking for will likely have to create twice as many items as your original list in order to display them like that. There may be a better solution depending on what the end goal is."}, {"owner": {"reputation": 1764, "user_id": 488336, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/36a13e5f78aa4b60b02a4106b2916056?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/488336/jeff"}, "edited": false, "score": 0, "creation_date": 1536195324, "post_id": 52193704, "comment_id": 91339705, "body": "Of course there is a larger problem but the answers here help and will lead me to my goal.  In brief, I have a list of conditional data that can be effective over a time period.  I maintain the list in c# and pass it to c++ for interface to a realtime process that has to be very fast.  I pass the data that is relevant and have a scheduler look when the next &quot;TIME&quot; happens.  When it is &#39;time&#39; I pass the info down in a format that can be easily absorbed."}], "answers": [{"comments": [{"owner": {"reputation": 3233, "user_id": 2630427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb9b9af50987875657ed5b86bcef0aa?s=128&d=identicon&r=PG", "display_name": "ilkerkaran", "link": "https://stackoverflow.com/users/2630427/ilkerkaran"}, "edited": false, "score": 0, "creation_date": 1536184311, "post_id": 52193759, "comment_id": 91337451, "body": "@C Smith your code has some syntax errors. (like you typed &#39;)&#39; instead of &#39;}&#39;). Apart from that, this answers seems to fulfill Op&#39;s question. I don&#39;t understand why is it downvoted"}, {"owner": {"reputation": 202, "user_id": 7003817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b651d5daa52cd9c4ad0caa2af2deca63?s=128&d=identicon&r=PG&f=1", "display_name": "C Smith", "link": "https://stackoverflow.com/users/7003817/c-smith"}, "reply_to_user": {"reputation": 3233, "user_id": 2630427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb9b9af50987875657ed5b86bcef0aa?s=128&d=identicon&r=PG", "display_name": "ilkerkaran", "link": "https://stackoverflow.com/users/2630427/ilkerkaran"}, "edited": false, "score": 0, "creation_date": 1536184356, "post_id": 52193759, "comment_id": 91337459, "body": "yeah syntax wise i just quickly wrote it up in notepad, downvote wise.. no idea."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1536184529, "post_id": 52193759, "comment_id": 91337517, "body": "This only partially answers the question.  What&#39;s the sort logic look like?"}, {"owner": {"reputation": 202, "user_id": 7003817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b651d5daa52cd9c4ad0caa2af2deca63?s=128&d=identicon&r=PG&f=1", "display_name": "C Smith", "link": "https://stackoverflow.com/users/7003817/c-smith"}, "edited": false, "score": 0, "creation_date": 1536184582, "post_id": 52193759, "comment_id": 91337532, "body": "OP does not ask for sort logic, he only wants to understand how to pull out the data he wants into a form that he can use his sort logic on."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536184761, "post_id": 52193759, "comment_id": 91337589, "body": "<i>&quot;don&#39;t know how to merge the data and then sort the new merged list&quot;</i> I also read it that he was looking for sort logic as well, like: <code>&quot;DontKnowHowTo(merge &amp;&amp; sort)&quot;</code>, rather than <code>&quot;DontKnowHowTo(merge) &amp;&amp; sort&quot;</code>, but I also did not down-vote."}, {"owner": {"reputation": 202, "user_id": 7003817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b651d5daa52cd9c4ad0caa2af2deca63?s=128&d=identicon&r=PG&f=1", "display_name": "C Smith", "link": "https://stackoverflow.com/users/7003817/c-smith"}, "edited": false, "score": 0, "creation_date": 1536184895, "post_id": 52193759, "comment_id": 91337627, "body": "&quot;I know how to order the list using LINQ based on either StartTime OR EndTime&quot;, kind of made me think he could sort it normally based on one property"}], "tags": [], "owner": {"reputation": 202, "user_id": 7003817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b651d5daa52cd9c4ad0caa2af2deca63?s=128&d=identicon&r=PG&f=1", "display_name": "C Smith", "link": "https://stackoverflow.com/users/7003817/c-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1536184829, "last_edit_date": 1536184829, "creation_date": 1536183805, "answer_id": 52193759, "question_id": 52193704, "link": "https://stackoverflow.com/questions/52193704/merging-and-ordering-data-using-linq/52193759#52193759", "title": "Merging and ordering data using Linq", "body": "<pre><code>ExceptionFolderEntries[] entries = [];\nentries.Select(e =&gt; new DateTime?[] {e.StartTime, e.EndTime).SelectMany(dt =&gt; dt).OrderBy(//ordery by logic)\n</code></pre>\n\n<p>First select out the datetimes into an array (creating you an array of arrays) then use select many to flatten it.</p>\n\n<p>Edit: can also shorten too</p>\n\n<pre><code>ExceptionFolderEntries[] entries = [];\nentries.SelectMany(e =&gt; new DateTime?[] {e.StartTime, e.EndTime).OrderBy(//ordery by logic)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1764, "user_id": 488336, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/36a13e5f78aa4b60b02a4106b2916056?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/488336/jeff"}, "edited": false, "score": 1, "creation_date": 1536195656, "post_id": 52193806, "comment_id": 91339777, "body": "You have a copy/paste error I believe - StartTime in the lower concat should be Endtime"}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 0, "last_activity_date": 1536200793, "last_edit_date": 1536200793, "creation_date": 1536184084, "answer_id": 52193806, "question_id": 52193704, "link": "https://stackoverflow.com/questions/52193704/merging-and-ordering-data-using-linq/52193806#52193806", "title": "Merging and ordering data using Linq", "body": "<p>First off, your class should probably not end in an <code>(s)</code> because it's not a collection, so I'll be using <code>ExceptionFolderEntry</code> in my example.</p>\n\n<p>I'd probably do something like:</p>\n\n<pre><code>class ExceptionFolderEntryMeta\n{\n  public ExceptionFolderEntry ExceptionFolderEntry { get; set; }\n  public DateTime SortBy { get; set; }\n  public bool IsStartTime { get; set; }\n}\n\nvar exceptionFolderEntries = new List&lt;ExceptionFolderEntry&gt;();\n\nvar mergeList = exceptionFolderEntries \n  .Where(efe =&gt; efe.StartTime.HasValue)\n  .Select(efe =&gt; new ExceptionFolderEntryMeta\n    {\n      ExceptionFolderEntry  = efe,\n      SortBy = efe.StartTime,\n      IsStartTime = true,\n    })\n  .Concat(exceptionFolderEntries \n    .Where(efe =&gt; efe.EndTime.HasValue)\n    .Select(efe =&gt; new ExceptionFolderEntryMeta\n      {\n        ExceptionFolderEntry  = efe,\n        SortBy = efe.EndTime,\n        IsStartTime = false,\n     }))\n  .OrderBy(efem =&gt; efem.SortBy)\n  .ToList())\n</code></pre>\n\n<p>I created the new class to allow correct sorting and to denote if it's a start time or end time (because you'll probably need to know that at some point).  I'm also taking into account that you've created those properties as nullable, so if one property is null, it only appears once and if both are null then it never appears.</p>\n"}, {"comments": [{"owner": {"reputation": 1764, "user_id": 488336, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/36a13e5f78aa4b60b02a4106b2916056?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/488336/jeff"}, "edited": false, "score": 0, "creation_date": 1536195416, "post_id": 52193868, "comment_id": 91339728, "body": "What makes you think this is Folder datetime?"}], "tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": true, "score": 1, "last_activity_date": 1536184917, "last_edit_date": 1536184917, "creation_date": 1536184485, "answer_id": 52193868, "question_id": 52193704, "link": "https://stackoverflow.com/questions/52193704/merging-and-ordering-data-using-linq/52193868#52193868", "title": "Merging and ordering data using Linq", "body": "<p>You can try to make two <code>FolderEntries</code> new create collection one is for <code>StartTime</code>, another is for <code>EndTime</code>, then use linq <code>Concat</code> to combine two collections. then do <code>order by</code></p>\n\n<pre><code>public class FolderEntries {\n    public string Data { get; set; }\n    public DateTime? FolderDateTime { get; set; }\n}\n\nvar result =\n  (from s1 in list select new FolderEntries(){\n      Data = s1.Data,\n      FolderDateTime = s1.StartTime\n  }).Concat\n  (from s2 in list select new FolderEntries {\n      Data = s2.Data,\n      FolderDateTime = s2.EndTime\n  }).OrderBy(x=&gt;x.FolderDateTime);\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>ABC 1/1/2018 1:00:00 AM\nMNO 1/1/2018 1:30:00 AM\nXYZ 1/1/2018 9:00:00 AM\nMNO 1/1/2018 1:08:00 PM\nABC 1/2/2018 1:00:00 PM\nXYZ 1/2/2018 1:00:00 PM\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/NNIMTT\" rel=\"nofollow noreferrer\">c# online</a></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1536186909, "creation_date": 1536186909, "answer_id": 52194211, "question_id": 52193704, "link": "https://stackoverflow.com/questions/52193704/merging-and-ordering-data-using-linq/52194211#52194211", "title": "Merging and ordering data using Linq", "body": "<p>My answer is perhaps too similar to Eriks answer, but one way to do it would be to select a new <code>ExceptionFolderEntries</code> (which should really be renamed <code>ExceptionFolderEntry</code> since it only represents a single item) for every non-null <code>StartTime</code> and <code>EndTime</code>, preserving whichever one we're reading (start or end) and leaving the other field <code>null</code>.</p>\n\n<p>Then you can order that new (sizeable) list by the non-null value: <code>StartTime ?? EndTime</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>var sortedItems =\n    // First select a new item for all non-null StartTimes\n    items.Where(i =&gt; i.StartTime.HasValue) \n        .Select(i =&gt; new ExceptionFolderEntries {Data = i.Data, StartTime = i.StartTime})\n\n        // Then concat with a new item for all non-null EndTimes\n        .Concat(items\n            .Where(i =&gt; i.EndTime.HasValue) \n            .Select(i =&gt; new ExceptionFolderEntries {Data = i.Data, EndTime = i.EndTime}))\n\n        // And finally, order by the non-null field\n        .OrderBy(i =&gt; i.StartTime ?? i.EndTime)\n        .ToList();\n\n// Now we can write out the data and the non-null field for each item\nsortedItems.ForEach(i =&gt; Console.WriteLine($\"{i.Data} {i.StartTime ?? i.EndTime}\"));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Jur7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jur7R.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the sample above, <code>items</code> was initialized as:</p>\n\n<pre><code>var items = new List&lt;ExceptionFolderEntries&gt;\n{\n    new ExceptionFolderEntries\n    {\n        Data = \"ABC\",\n        StartTime = DateTime.Parse(\"1/1/2018 01:00\"),\n        EndTime = DateTime.Parse(\"1/2/2018 13:00\")\n    },\n    new ExceptionFolderEntries\n    {\n        Data = \"MNO\",\n        StartTime = DateTime.Parse(\"1/1/2018 01:30\"),\n        EndTime = DateTime.Parse(\"1/1/2018 08:00\")\n    },\n    new ExceptionFolderEntries\n    {\n        Data = \"XYZ\",\n        StartTime = DateTime.Parse(\"1/1/2018 09:00\"),\n        EndTime = DateTime.Parse(\"1/2/2018 13:00\")\n    },\n};\n</code></pre>\n"}], "owner": {"reputation": 1764, "user_id": 488336, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/36a13e5f78aa4b60b02a4106b2916056?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/488336/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 52193868, "answer_count": 4, "score": 0, "last_activity_date": 1536200793, "creation_date": 1536183440, "last_edit_date": 1592644375, "question_id": 52193704, "link": "https://stackoverflow.com/questions/52193704/merging-and-ordering-data-using-linq", "title": "Merging and ordering data using Linq", "body": "<p>I have a list of objects as such:</p>\n<pre><code>public class ExceptionFolderEntries\n{\n    public int Id { get; set; }\n\n    public string Data { get; set; }\n\n    public DateTime? StartTime { get; set; }\n    public DateTime? EndTime { get; set; }\n     \n}\n</code></pre>\n<p>I am trying to get the next &quot;Time&quot; whether it be a starttime of endtime so that I can take action.\nI know how to order the list using LINQ based on either StartTime OR EndTime but don't know how to merge the data and then sort the new merged list.</p>\n<p>Example:\nWith the data:</p>\n<blockquote>\n<p>&quot;ABC&quot;,&quot;1/1/2018 01:00&quot;, &quot;1/2/2018 13:00&quot;</p>\n<p>&quot;MNO&quot;,&quot;1/1/2018 01:30&quot;, &quot;1/1/2018 08:00&quot;</p>\n<p>&quot;XYZ&quot;,&quot;1/1/2018 09:00&quot;, &quot;1/2/2018 13:00&quot;</p>\n</blockquote>\n<p>Would result in</p>\n<blockquote>\n<p>ABC 1/1 01:00</p>\n<p>MNO 1/1 01:30</p>\n<p>MNO 1/1 08:00</p>\n<p>XYZ 1/1 09:00</p>\n<p>ABC 1/2\n13:00</p>\n<p>XYZ 1/2 13:00</p>\n</blockquote>\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "naudio", "audio-capture"], "answers": [{"tags": [], "owner": {"reputation": 45124, "user_id": 7532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/db4b131b1b1519a5a22f84b1e8737f9b?s=128&d=identicon&r=PG", "display_name": "Mark Heath", "link": "https://stackoverflow.com/users/7532/mark-heath"}, "is_accepted": false, "score": 0, "last_activity_date": 1537168104, "creation_date": 1537168104, "answer_id": 52362462, "question_id": 52193687, "link": "https://stackoverflow.com/questions/52193687/naudio-play-silence-without-speakers/52362462#52362462", "title": "NAudio Play Silence without speakers", "body": "<p>You can only play silence if your computer actually has an audio output device. If it doesn't then you'd need to find another workaround for the WASAPI audio (such as timestamping the captured audio to account for periods of silence).</p>\n"}], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537168104, "creation_date": 1536183333, "question_id": 52193687, "link": "https://stackoverflow.com/questions/52193687/naudio-play-silence-without-speakers", "title": "NAudio Play Silence without speakers", "body": "<p>I know that I can play silence audio like that </p>\n\n<pre><code>var silence = new SilenceProvider(sourceStream?.WaveFormat).ToSampleProvider();\nwo = new WaveOutEvent();              \nwo.Init(silence);\nwo.Play();\n</code></pre>\n\n<p>but How can I play silence when no speakers are attached to the computer?</p>\n\n<blockquote>\n  <p>I want to capture realtime WASAPI audio but the callback don't get called up when nothing is playing, so I need to play silence</p>\n</blockquote>\n"}, {"tags": ["c#", "serialization", "linked-list"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1536183531, "post_id": 52193641, "comment_id": 91337209, "body": "linked list pretty much only exists in academic books and interview nowadays. as for serialization you can find exactly what you need by asking google with keyword <code>c# serialization</code>"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1536183654, "post_id": 52193641, "comment_id": 91337251, "body": "We usually call pointers references in C#. If your system to system and planet to planet relationships only have parent and child, a list would do, if you need more complex relationships you could easily spin up your own class that has a list of parents and children. as for linked lists, as @Steve said, its probably not needed, through there is Base Class Library Linked lists classes if you need them"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1536183856, "post_id": 52193641, "comment_id": 91337300, "body": "I think you are on the right track, just keep plumbing out your classes with what you need, serialization in C# is pretty easy to get working, even for complex objects and lists. when you are stuck with a specific problem feel free to come back and show us"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1536186016, "post_id": 52193641, "comment_id": 91337937, "body": "I&#39;ve used linked lists in several projects. There is definitely a place for them. I completely disagree that their only use is academic. If most of your list modifications are adding/removing values that aren&#39;t at the end of the list and you don&#39;t need random access, linked lists are great."}, {"owner": {"reputation": 43, "user_id": 8143060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c7f860c3f48cfdbcd1627b3a38ef99?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/8143060/peter"}, "edited": false, "score": 0, "creation_date": 1536624793, "post_id": 52193641, "comment_id": 91481876, "body": "Thanks for all the help. I went with Lists. It&#39;s easier to use the tools provided rather than force a solution. I also have serialization working. It took me a while and it was a lot harder because I did not understand it all. I night try to write a how I did it since I could find nothing on the net that matched my situation, that I could understand. Now it is all working except one point I will raise in a new topic."}], "answers": [{"tags": [], "owner": {"reputation": 2448, "user_id": 5593150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-2KR0m-g8EOg/AAAAAAAAAAI/AAAAAAAAAIg/6HoADNFzdlE/photo.jpg?sz=128", "display_name": "Max Play", "link": "https://stackoverflow.com/users/5593150/max-play"}, "is_accepted": false, "score": 0, "last_activity_date": 1536187242, "creation_date": 1536187242, "answer_id": 52194256, "question_id": 52193641, "link": "https://stackoverflow.com/questions/52193641/should-i-use-linked-list-or-list-and-how-do-i-serialize-it/52194256#52194256", "title": "Should I use linked list or list and how do I serialize it.", "body": "<p>I would simply create two classes, one being the <code>System</code> with a <code>List&lt;Planet&gt;</code> containing all its planets and the other one being the <code>Planet</code>, containing a reference to his system (if one is required). The systems are themselves saved in a <code>List&lt;System&gt;</code>. Like the planets they could hold a reference to their parent so they have access to the list, but if they don't need to, its fine.</p>\n\n<p>Saving this stuff should be three lines of code with a serializing system of your choice, either in text or binary (Json.Net, the Xml stuff .Net provides, yaml, binary formatter...).</p>\n\n<p>Linked lists are not worth the implementation, they aren't as useful as dynamic arrays (like the <code>List&lt;T&gt;</code> in <code>System.Collections.Generic</code> or the <code>Vector&lt;T&gt;</code> in C++) which resize themselves when needed, and they aren't that easy to keep track of. They definetly have applications but this is not one of them IMO.</p>\n"}, {"tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1536194342, "last_edit_date": 1536194342, "creation_date": 1536188659, "answer_id": 52194431, "question_id": 52193641, "link": "https://stackoverflow.com/questions/52193641/should-i-use-linked-list-or-list-and-how-do-i-serialize-it/52194431#52194431", "title": "Should I use linked list or list and how do I serialize it.", "body": "<p>From the sound of it, I will create class of System, Planet with one to many reference of planets in System (List here). In order to avoid strong coupling between System and Planet, One can look at Chain of Responsibility pattern. </p>\n\n<p>Saving this data to database one can serialise using Json.Net (newtonsoft). SQL server supports directly putting json array.</p>\n\n<p>Pseudo code:</p>\n\n<pre><code>class Planet {\n  public Planet(System system) {System = system;}\n  public System System {get; private set;} // singleton\n}\n\nclass System {\n\n  public Planet Planet {get; set;}\n\n  // list of planets\n  private List&lt;Planet&gt; planets = new List&lt;Planet&gt;();\n  public List&lt;Planet&gt; Planets { get {return planets; } }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1536189367, "creation_date": 1536189367, "answer_id": 52194505, "question_id": 52193641, "link": "https://stackoverflow.com/questions/52193641/should-i-use-linked-list-or-list-and-how-do-i-serialize-it/52194505#52194505", "title": "Should I use linked list or list and how do I serialize it.", "body": "<p><strong>Should I use linked list or list...</strong></p>\n\n<p>The answer depends on what your object represents and how you are going to use it. For example, if I was representing houses, and the people who live at each house; then I might choose to have a collection of <code>House</code> objects. I'm using <em>collection</em> as a generic term there: specifically, I would probably use <code>List&lt;T&gt;</code> from the <code>System.Collections.Generic</code> namespace (where T can represent any type, so it would be a <code>List&lt;House&gt;</code> in this case), unless I needed something more specific like a <code>Stack&lt;T&gt;</code>, <code>Queue&lt;T&gt;</code>, <code>Dictionary&lt;T,U&gt;</code>, etc, etc.</p>\n\n<p>Notice how in this approach, each <code>House</code> doesn't know which house is <em>next</em>, because the whole concept of 'next' relates to the <em>collection of houses</em>: each individual house doesn't need to know where it is in the collection - that's the responsibility of the collection. This is a design principle called \"separation of concerns\".</p>\n\n<p>For example, if I wanted to create a different collection of <code>House</code> objects (e.g. the ones with red front doors), I could do so by creating a new collection, referring to the <em>same</em> <code>House</code> objects; whereas with the approach mentioned of an object having a reference to the next one, I would have to create a different <code>House</code> object because the <em>next</em> value would be different in those two collections.</p>\n\n<p>Using <code>List&lt;T&gt;</code> allows you to focus on writing your classes, instead of having to write the implementation of the collection.</p>\n\n<p>There are also performance reasons against using linked lists unless you only plan to access the data in sequential order.</p>\n\n<p>Each <code>House</code> <a href=\"https://en.wikipedia.org/wiki/Has-a\" rel=\"nofollow noreferrer\">has-a</a> collection of people. So I might put a property on <code>House</code> called <code>People</code>, of type <code>List&lt;Person&gt;</code>. And if I needed to get to the house that the person was associated with, I could have a property on <code>Person</code> called <code>House</code>, of type <code>House</code>.</p>\n\n<p>I hope this structure of Houses and People corresponds to your scenario with Systems and Planets.</p>\n\n<p>Maybe also worth looking at <a href=\"https://stackoverflow.com/questions/169973/when-should-i-use-a-list-vs-a-linkedlist\">When should I use a List vs a LinkedList</a></p>\n\n<p><strong>...and how do I serialize it.</strong></p>\n\n<p>Plenty on the internet, try these...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5005900/how-to-serialize-listt\">How to Serialize List&lt;T&gt;?</a></p>\n\n<p><a href=\"https://www.thomaslevesque.com/2009/06/12/c-parentchild-relationship-and-xml-serialization/\" rel=\"nofollow noreferrer\">https://www.thomaslevesque.com/2009/06/12/c-parentchild-relationship-and-xml-serialization/</a></p>\n\n<p>Hope this helps to get you started.</p>\n"}], "owner": {"reputation": 43, "user_id": 8143060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c7f860c3f48cfdbcd1627b3a38ef99?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/8143060/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1536194342, "creation_date": 1536183024, "question_id": 52193641, "link": "https://stackoverflow.com/questions/52193641/should-i-use-linked-list-or-list-and-how-do-i-serialize-it", "title": "Should I use linked list or list and how do I serialize it.", "body": "<p>This is for  c#</p>\n\n<p>I'm an old dinosaur, writing 360 assembler since the 70's, trying to write stuff for the PC. Along the way I am replacing my old write it myself thinking with use the existing infrastructure. </p>\n\n<p>Here is what I have now. Two objects, System and Planet. A field in System has a pointer to the next System, there is also a second chain of  Systems that meet current selection criteria. Also  System has a pointer to Planet and Planet has a pointer to the next Planet.  Planet also has a chain of all planets. </p>\n\n<p>Now the questions. Should I use lists and have C# handle all the linking etc. I'm fairly sure 1 object instance can be in multiple lists, so I can have 1 list of all systems and a second list of selected systems. Plus have a list of Planets in the system and another list of all Planets. </p>\n\n<p>I also want to save this mess to disk. I've spent some time looking at serialization and it appears to be great at saving all the instances in a list, but things break down when you want to serialize multiple classes. Am I missing something basic, just a yes will send me back to looking, or do I have to roll my own?</p>\n\n<p>I don't want code examples, just a gentle puch in the direction I should be looking at. </p>\n"}, {"tags": ["c#", ".net", "dsa"], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 0, "last_activity_date": 1536184240, "creation_date": 1536184240, "answer_id": 52193834, "question_id": 52193640, "link": "https://stackoverflow.com/questions/52193640/why-do-exported-ecdsa-keys-look-similar/52193834#52193834", "title": "Why do exported ECDSA keys look similar?", "body": "<blockquote>\n  <p>\"because private key starts with public key</p>\n</blockquote>\n\n<p>I believe this is the case. This is documented for <code>GenericPrivateBlob</code>: </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.cryptography.cngkeyblobformat.genericprivateblob?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.security.cryptography.cngkeyblobformat.genericprivateblob?redirectedfrom=MSDN&amp;view=netframework-4.7.2</a></p>\n\n<blockquote>\n  <p>A generic private key BLOB can contain a private key of any type <strong>and does not necessarily contain the corresponding public key</strong>. The type of key that the BLOB contains can be determined only by examining the BLOB.</p>\n</blockquote>\n\n<p>Emphasis mine, however in this case it does look like the public key is prepended before the private key.</p>\n"}], "owner": {"reputation": 220, "user_id": 10176454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZmxR2.png?s=128&g=1", "display_name": "zergon321", "link": "https://stackoverflow.com/users/10176454/zergon321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536184240, "creation_date": 1536183020, "question_id": 52193640, "link": "https://stackoverflow.com/questions/52193640/why-do-exported-ecdsa-keys-look-similar", "title": "Why do exported ECDSA keys look similar?", "body": "<p>I use this snippet to see private and public keys generated by <strong>DSA:</strong></p>\n\n<pre><code>        byte[] publicKey, hash, signedHash;\n        string strToSign = \"Hello, world!\";\n        SHA512Managed shaComputer = new SHA512Managed();\n\n        using (ECDsaCng dsaSigner = new ECDsaCng())\n        {\n            publicKey = dsaSigner.Key.Export(CngKeyBlobFormat.GenericPublicBlob);\n\n            Console.WriteLine($\"DSA public key: {TransformHash(publicKey)}\");\n            Console.WriteLine();\n\n            byte[] privateKey = dsaSigner.Key.Export(CngKeyBlobFormat.GenericPrivateBlob);\n\n            Console.WriteLine($\"DSA private key: {TransformHash(privateKey)}\");\n            Console.WriteLine();\n        }\n</code></pre>\n\n<p>But I see theese keys look very similar, because private key starts with public key:</p>\n\n<p><a href=\"https://i.stack.imgur.com/obAoU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/obAoU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is that normal?</p>\n"}, {"tags": ["c#", "if-statement", "methods"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 1, "creation_date": 1536183351, "post_id": 52193626, "comment_id": 91337145, "body": "So you want to repeat a question until it was answered sufficiently. One construct to do that is a <code>while()</code> loop. Check if your criterium was met,, when it&#39;s not just let it repeat by returning true to the <code>while(condition)</code> condition"}, {"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1536183395, "post_id": 52193626, "comment_id": 91337165, "body": "do ( ask questions; display; ask if correct } while (correct = no)"}, {"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "edited": false, "score": 0, "creation_date": 1536183527, "post_id": 52193626, "comment_id": 91337206, "body": "Break the problem down - look at your <code>Question</code> function...any of that looks repetitive? Wouldn&#39;t it be great if you could just call a function with <i>any</i> question string and have it return you any answer input from the user?"}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": true, "score": 2, "last_activity_date": 1536185332, "creation_date": 1536185332, "answer_id": 52193994, "question_id": 52193626, "link": "https://stackoverflow.com/questions/52193626/asking-the-user-the-same-question-more-than-once-in-c/52193994#52193994", "title": "Asking the user the same question more than once in C#", "body": "<p>Good work on doing some research on your own, and a fairly decent question. And you're on the right track.</p>\n\n<p>So let's first focus on asking the question part. If you look at your <code>Question()</code> method, you can see that you're sort of doing the same thing repeatedly inside it. Yes you're asking different questions, but essentially you're doing three things:</p>\n\n<ul>\n<li>Ask a question.</li>\n<li>Get the answer.</li>\n<li>Clear the Console.</li>\n</ul>\n\n<p>So, maybe you can put those three things into one method, and the only thing that's variable here is the question, so you can pass the question as a parameter.</p>\n\n<pre><code>static string AskQuestion(string question)\n{\n    Console.Write(question);\n    var ans = Console.ReadLine();\n    Console.Clear();\n    return ans;\n}\n</code></pre>\n\n<p>Alright, a bit better.</p>\n\n<p>Now, how do we repeatedly ask the user a question until we get a satisfactory answer? Loops are a good solution, and particularly either <code>while</code> or <code>do-while</code> which doesn't iterate a set number of times but rather until a condition is fulfilled. I personally like to use <code>do-while</code> in a situation like this.</p>\n\n<p>So what do we have to do there now? Let's break it down. We will write a function, and inside a loop we want to:\n - Ask a question and get the answer. Good thing we have a method that does just that.\n - Show the user the answer he/she entered.\n - Ask the user to confirm if it's good.\n - If yes, terminate the loop, and return the answer.\n - If not, ask the question again.</p>\n\n<p>Something that looks like this:</p>\n\n<pre><code>static string GetSatisfactoryAnswer(string question)\n{\n    var ans = string.Empty;\n    bool goodAns = false;\n    do\n    {\n        ans = AskQuestion(question);\n        Console.WriteLine(\"You entered {0}. Is that correct?\", ans);\n        var confirm = Console.ReadLine();\n        if (confirm.ToLower() == \"y\")\n            goodAns = true;\n    } while (!goodAns);\n    return ans;\n}\n</code></pre>\n\n<p>Now you can call them like this:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var name = GetSatisfactoryAnswer(\"Could I get your name? (Press enter when you are done) \");\n    var age = GetSatisfactoryAnswer(\"Awesome! Now if you could just enter your age: \");\n\n    Console.WriteLine();\n    Console.WriteLine(\"Name : {0}\", name);\n    Console.WriteLine(\"Age : {0}\", age);\n    Console.ReadLine();\n}\n</code></pre>\n\n<h2>NOTES</h2>\n\n<ul>\n<li>This is only to give you a rough idea, you'll need to do a lot of error handling. Such as, what if the user enters anything other than <code>Y/N</code> for the confirmation?</li>\n<li>It's always a good idea to actually get the age as an integer. So use <code>int.TryParse()</code> to convert the <code>string</code> input into an <code>int</code> and then do something about it if a non-numerical value was entered.</li>\n<li>In your example, you get both <code>Name</code> and <code>Age</code> at once, then asks use to confirm them later. In my opinion, it's best to finish one thing and start another. In other words, make sure your got a satisfactory answer to <code>Name</code>, then move onto <code>Age</code>, etc. My answer is designed that way.</li>\n</ul>\n\n<p>Hope this helps. Good luck!</p>\n"}], "owner": {"reputation": 47, "user_id": 10008690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a09f683ba2a7099bab6f6b8bfdff912?s=128&d=identicon&r=PG&f=1", "display_name": "J Carpet", "link": "https://stackoverflow.com/users/10008690/j-carpet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 52193994, "answer_count": 1, "score": 2, "last_activity_date": 1536185611, "creation_date": 1536182888, "last_edit_date": 1536185611, "question_id": 52193626, "link": "https://stackoverflow.com/questions/52193626/asking-the-user-the-same-question-more-than-once-in-c", "title": "Asking the user the same question more than once in C#", "body": "<p>Starting my Intro To Programming class and we'll be using C# throughout it. I'm currently writing a practice program to get familiar with C# that asks the user for their name and age and then reads it out to them and asks if it is correct. I want to make it so that if the user wants to change their inputted data for any reason then they can press the \"n\" key for \"no that's not right\" and re enter their data. However, I want to re-ask them the questions for their age and name(separately) without having to re-type the code block with the Console.WriteLines and if...else block. I did some research and found that:</p>\n\n<ol>\n<li>the \"go-to\" statement was made by the devil himself and it's essentially the programming equivalent of a hate crime if I use it</li>\n<li>making a new method (and subsequently calling that method in my code) with the block of code asking the question seems to be the way to go about it.</li>\n</ol>\n\n<p>My problem is that while I've (hopefully) figured out that's what I need to do, I can't seem to figure out how exactly to either implement that method nor call it correctly later on.</p>\n\n<p>here is the method I'm trying to create that I want to hold an \"if...else\" statement asking if the info is correct, incorrect, or re-ask the question if the enter something other than \"y\" or \"n\": </p>\n\n<pre><code>public void Question()\n{\n    Console.Write(\"Could I get your name? (Press enter when you are done) \");\n    string user_name = Console.ReadLine();\n    Console.Clear();\n    Console.Write(\"Awesome! Now if you could just enter your age: \");\n    string user_age = Console.ReadLine();\n    Console.Clear();\n    Console.WriteLine(\"So according to the information I have on file here... you are \" + user_name + \" and you're \" + user_age + \" years old....\");\n}\n</code></pre>\n\n<p>This isn't homework so I don't mind specific pieces of code so I can see how it works and tinker with it to learn :)</p>\n"}, {"tags": ["c#", "image-processing", "emgucv"], "comments": [{"owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1536213295, "post_id": 52193593, "comment_id": 91343860, "body": "Can you post your sample input/output ?"}, {"owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1536213487, "post_id": 52193593, "comment_id": 91343936, "body": "Not sure why you are using a feature-finder as <a href=\"http://www.emgu.com/wiki/index.php/Image_Stitching_in_CSharp\" rel=\"nofollow noreferrer\">this link</a> shows <code>Stitcher</code> is able to do its job without any feature-finder."}, {"owner": {"reputation": 131, "user_id": 9492455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5V3xm1162t8/AAAAAAAAAAI/AAAAAAAABTM/EbSI3ZTzJ60/photo.jpg?sz=128", "display_name": "Richard Martin", "link": "https://stackoverflow.com/users/9492455/richard-martin"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1536237969, "post_id": 52193593, "comment_id": 91357944, "body": "Removing the feature-finder actually greatly improved the result, at least with the 4 slices added to the question.  I am going to see what happens when I use more and more slices."}, {"owner": {"reputation": 131, "user_id": 9492455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5V3xm1162t8/AAAAAAAAAAI/AAAAAAAABTM/EbSI3ZTzJ60/photo.jpg?sz=128", "display_name": "Richard Martin", "link": "https://stackoverflow.com/users/9492455/richard-martin"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1536238084, "post_id": 52193593, "comment_id": 91358007, "body": "What causes the &quot;Need More Images&quot; error ?"}, {"owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1536241958, "post_id": 52193593, "comment_id": 91360383, "body": "<a href=\"http://answers.opencv.org/question/2773/stitching-modules-strange-behavior-part-i/\" rel=\"nofollow noreferrer\">Stitching module&#39;s strange behavior</a>"}], "owner": {"reputation": 131, "user_id": 9492455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5V3xm1162t8/AAAAAAAAAAI/AAAAAAAABTM/EbSI3ZTzJ60/photo.jpg?sz=128", "display_name": "Richard Martin", "link": "https://stackoverflow.com/users/9492455/richard-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536237809, "creation_date": 1536182707, "last_edit_date": 1536237809, "question_id": 52193593, "link": "https://stackoverflow.com/questions/52193593/linear-image-stitching-using-emgu-cv-in-c", "title": "linear image stitching using emgu.cv in c#", "body": "<p>I have a device that rotates an object and takes a picture of a portion of the object at regular intervals.  Currently, I have 30 pictures.  To stitch the images into a flat image, I am taking a slice right out of the center of each picture of a fixed width (between 50 and 75 pixels).  I am trying to stitch these slices together into a flat image of the original picture using the EMGU CV Stitching library with the sample stitching code that comes with EMGU.  I am testing with between 5 and 10 slices at a time.  Sometimes, I am getting an error that says \"Error, need more images\".  When I do get a result, it looks terrible with weird curvatures.  I don't need any spatial adjustments.  I just want to stitch them in a linear fashion from left to right.  Any ideas, either using EMGU or other?</p>\n\n<p>Here are a few slices and the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6DD8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DD8T.png\" alt=\"Slice 1\"></a>  <a href=\"https://i.stack.imgur.com/MGgF6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGgF6.png\" alt=\"Slice 2\"></a>  <a href=\"https://i.stack.imgur.com/e4IQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4IQK.png\" alt=\"Slice 3\"></a>  <a href=\"https://i.stack.imgur.com/Yf4N6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yf4N6.png\" alt=\"Slice 4\"></a>  <a href=\"https://i.stack.imgur.com/fpxB3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fpxB3.jpg\" alt=\"Result\"></a></p>\n\n<p>Why is the resulting image not the same height as the 4 slices?  What must be done just to stitch these together in a linear fashion so that the text is continuous?</p>\n\n<p>Here is the code I am using:</p>\n\n<pre><code>  private void selectImagesButton_Click(object sender, EventArgs e)\n        {\n            OpenFileDialog dlg = new OpenFileDialog();\n            dlg.CheckFileExists = true;\n            dlg.Multiselect = true;\n\n            if (dlg.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n            {\n                sourceImageDataGridView.Rows.Clear();\n\n                Image&lt;Bgr, byte&gt;[] sourceImages = new Image&lt;Bgr, byte&gt;[dlg.FileNames.Length];\n\n                for (int i = 0; i &lt; sourceImages.Length; i++)\n                {\n                    sourceImages[i] = new Image&lt;Bgr, byte&gt;(dlg.FileNames[i]);\n\n                    using (Image&lt;Bgr, byte&gt; thumbnail = sourceImages[i].Resize(200, 200, Emgu.CV.CvEnum.Inter.Cubic, true))\n                    {\n                        DataGridViewRow row = sourceImageDataGridView.Rows[sourceImageDataGridView.Rows.Add()];\n                        row.Cells[\"FileNameColumn\"].Value = dlg.FileNames[i];\n                        row.Cells[\"ThumbnailColumn\"].Value = thumbnail.ToBitmap();\n                        row.Height = 200;\n                    }\n                }\n                try\n                {\n                    //only use GPU if you have build the native binary from code and enabled \"NON_FREE\"\n                    using (Stitcher stitcher = new Stitcher(false))\n                    {\n\n                        using (AKAZEFeaturesFinder finder = new AKAZEFeaturesFinder())\n                        {\n\n                            stitcher.SetFeaturesFinder(finder);\n                            using (VectorOfMat vm = new VectorOfMat())\n                            {\n                                Mat result = new Mat();\n                                vm.Push(sourceImages);\n\n                                Stopwatch watch = Stopwatch.StartNew();\n\n                                this.Text = \"Stitching\";\n                                Stitcher.Status stitchStatus = stitcher.Stitch(vm, result);\n                                watch.Stop();\n\n                                if (stitchStatus == Stitcher.Status.Ok)\n                                {\n                                    resultImageBox.Image = result;\n                                    this.Text = String.Format(\"Stitched in {0} milliseconds.\", watch.ElapsedMilliseconds);\n                                }\n                                else\n                                {\n                                    MessageBox.Show(this, String.Format(\"Stiching Error: {0}\", stitchStatus));\n                                    resultImageBox.Image = null;\n                                }\n                            }\n                        }\n                    }\n\n                }\n                finally\n                {\n                    foreach (Image&lt;Bgr, Byte&gt; img in sourceImages)\n                    {\n                        img.Dispose();\n                    }\n                }\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core", "roles", "asp.net-core-identity"], "answers": [{"comments": [{"owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "edited": false, "score": 0, "creation_date": 1536188657, "post_id": 52194364, "comment_id": 91338528, "body": "Tried that, sadly, there doesnt seem to be any navigation property on IdentityUser like Claims or Roles"}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "reply_to_user": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "edited": false, "score": 0, "creation_date": 1536189226, "post_id": 52194364, "comment_id": 91338637, "body": "What&#39;s your <code>ApplicationUser</code> look like?"}, {"owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "edited": false, "score": 0, "creation_date": 1536189400, "post_id": 52194364, "comment_id": 91338670, "body": "It only contains one irrelevant to this problem index: <code>public class ApplicationUser : IdentityUser { public List&lt;ReplayPlayer&gt; gamesPlayed { get; set; } }</code>"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1536223266, "post_id": 52194364, "comment_id": 91348886, "body": "<a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/1x-to-2x/identity-2x?view=aspnetcore-2.1#add-identityuser-poco-navigation-properties\" rel=\"nofollow noreferrer\">This</a> should help explain the missing <code>Claims</code> and <code>Roles</code> properties."}], "tags": [], "owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "is_accepted": false, "score": 0, "last_activity_date": 1536188030, "creation_date": 1536188030, "answer_id": 52194364, "question_id": 52193549, "link": "https://stackoverflow.com/questions/52193549/how-to-get-a-list-of-identityusers-and-their-roles-at-the-same-time/52194364#52194364", "title": "How to get a list of IdentityUsers and their Roles at the same time?", "body": "<p>You should be able to <code>Include</code> the <code>ApplicationUser</code> and <code>Claims</code> tables and do this all in the query.</p>\n\n<p>I haven't fully tested this, but something along the lines of:</p>\n\n<pre><code>dbContext.ChatMessages\n    .Include(i =&gt; i.Author)\n    .Include(i =&gt; i.Author.Claims)\n    .Where(w =&gt; w.Author.Claims.Any(a =&gt; a.ClaimType == ClaimTypes.Role \n                                         &amp;&amp; a.ClaimValue == \"Voice\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "is_accepted": false, "score": 0, "last_activity_date": 1536189044, "creation_date": 1536189044, "answer_id": 52194483, "question_id": 52193549, "link": "https://stackoverflow.com/questions/52193549/how-to-get-a-list-of-identityusers-and-their-roles-at-the-same-time/52194483#52194483", "title": "How to get a list of IdentityUsers and their Roles at the same time?", "body": "<p>This is what I currently have. UNTESTED, but doesnt seem to give out compilation errors:</p>\n\n<pre><code>string voiceRoleId = (await roleManager.FindByNameAsync(\"Voice\")).Id;\nvar result = await dbContext.ChatMessages.AsNoTracking()\n    .Where(chm =&gt; chm.TimePosted.Date == someDateTime.Date).OrderBy(chm =&gt; chm.TimePosted)\n    .GroupJoin(\n        dbContext.UserRoles.Where(ur =&gt; ur.RoleId == voiceRoleId),\n        chm =&gt; chm.AuthorId, r =&gt; r.UserId,\n        (chm, rs) =&gt; new { Message = chm, IsVoice = rs.Any() }\n    ).ToListAsync();\n</code></pre>\n\n<p>This is... somewhat amazing. I thought the task would be simpler than 8 lines of code.</p>\n"}, {"comments": [{"owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1611103168, "post_id": 52367632, "comment_id": 116341616, "body": "That gets you the join table entity, but not the actual roles. <code>author.Roles</code> is an <code>IdentityUserRole</code>. Which doesn&#39;t have further navigation."}], "tags": [], "owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "is_accepted": false, "score": 0, "last_activity_date": 1537186833, "creation_date": 1537186833, "answer_id": 52367632, "question_id": 52193549, "link": "https://stackoverflow.com/questions/52193549/how-to-get-a-list-of-identityusers-and-their-roles-at-the-same-time/52367632#52367632", "title": "How to get a list of IdentityUsers and their Roles at the same time?", "body": "<p>The correct approach seems to come from @Kirk Larkin's <a href=\"https://stackoverflow.com/questions/52193549/how-to-get-a-list-of-identityusers-and-their-roles-at-the-same-time#comment91348886_52194364\">comment</a>, which I'm converting to an answer because it is more visible than a comment and because comments may go away anytime.</p>\n\n<p>He linked this docs page: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/1x-to-2x/identity-2x?view=aspnetcore-2.1#add-identityuser-poco-navigation-properties\" rel=\"nofollow noreferrer\">Migrate authentication and Identity to ASP.NET Core 2.0#Add IdentityUser POCO navigation properties</a>, which says:</p>\n\n<blockquote>\n  <p>The Entity Framework (EF) Core navigation properties of the base\n  IdentityUser POCO (Plain Old CLR Object) have been removed. If your\n  1.x project used these properties, manually add them back to the 2.0 project: C#</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Navigation property for the roles this user belongs to.\n/// &lt;/summary&gt;\npublic virtual ICollection&lt;IdentityUserRole&lt;int&gt;&gt; Roles { get; } = new List&lt;IdentityUserRole&lt;int&gt;&gt;();\n\n/// &lt;summary&gt;\n/// Navigation property for the claims this user possesses.\n/// &lt;/summary&gt;\npublic virtual ICollection&lt;IdentityUserClaim&lt;int&gt;&gt; Claims { get; } = new List&lt;IdentityUserClaim&lt;int&gt;&gt;();\n\n/// &lt;summary&gt;\n/// Navigation property for this users login accounts.\n/// &lt;/summary&gt;\npublic virtual ICollection&lt;IdentityUserLogin&lt;int&gt;&gt; Logins { get; } = new List&lt;IdentityUserLogin&lt;int&gt;&gt;();\n</code></pre>\n  \n  <p>To prevent duplicate foreign keys when running EF Core Migrations, add\n  the following to your IdentityDbContext class' OnModelCreating method\n  (after the base.OnModelCreating(); call): C#</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder builder)\n{\n    base.OnModelCreating(builder);\n    // Customize the ASP.NET Core Identity model and override the defaults if needed.\n    // For example, you can rename the ASP.NET Core Identity table names and more.\n    // Add your customizations after calling base.OnModelCreating(builder);\n\n    builder.Entity&lt;ApplicationUser&gt;()\n        .HasMany(e =&gt; e.Claims)\n        .WithOne()\n        .HasForeignKey(e =&gt; e.UserId)\n        .IsRequired()\n        .OnDelete(DeleteBehavior.Cascade);\n\n    builder.Entity&lt;ApplicationUser&gt;()\n        .HasMany(e =&gt; e.Logins)\n        .WithOne()\n        .HasForeignKey(e =&gt; e.UserId)\n        .IsRequired()\n        .OnDelete(DeleteBehavior.Cascade);\n\n    builder.Entity&lt;ApplicationUser&gt;()\n        .HasMany(e =&gt; e.Roles)\n        .WithOne()\n        .HasForeignKey(e =&gt; e.UserId)\n        .IsRequired()\n        .OnDelete(DeleteBehavior.Cascade);\n}\n</code></pre>\n</blockquote>\n\n<p>Once these steps are done, I believe writing the correct query should become as trivial as a single <code>Include</code> statement. Brain compiled code below:</p>\n\n<pre><code>var usersAndRoles = await dbContext.ChatMessages.AsNoTracking()\n    .Include(msg =&gt; msg.Author).ThenInclude(author =&gt; author.Roles)\n    .Select(msg =&gt; new { Message = msg, IsVoice = msg.Author.Roles.Contains(\"Voice\") })\n    .ToListAsync();\n</code></pre>\n"}], "owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1537186833, "creation_date": 1536182494, "last_edit_date": 1536183828, "question_id": 52193549, "link": "https://stackoverflow.com/questions/52193549/how-to-get-a-list-of-identityusers-and-their-roles-at-the-same-time", "title": "How to get a list of IdentityUsers and their Roles at the same time?", "body": "<p>Chat message model:</p>\n\n<pre><code>public class ChatMessage\n{\n    [Key] public long Id { get; set; }\n\n    [Required] public string Content { get; set; }\n    [Required] public DateTime TimePosted { get; set; }\n\n    public string AuthorId { get; set; }\n    [Required, ForeignKey(\"authorId\")] public ApplicationUser Author { get; set; }\n}\n</code></pre>\n\n<p>Now I want to get a list of chat messages from a given day while knowing if their author is in the role \"Voice\":</p>\n\n<pre><code>var messages = await dbContext.ChatMessages.AsNoTracking()\n    .Where(chm =&gt; chm.TimePosted.Date == someDateTime.Date).OrderBy(chm =&gt; chm.TimePosted)\n    .ToListAsync();\n\nvar result = new List&lt;Tuple&lt;ChatMessage, bool&gt;&gt; { };\nforeach(var m in messages)\n    result.Add(Tuple.Create(m, await userManager.IsInRoleAsync(Author, \"Voice\")));\n</code></pre>\n\n<p>As far as I can tell this will send to the database <strong>as many queries as there are chat messages to fetch</strong>, which seems obnoxious, because this should be done in only one query, shouldn't it? Or at least, a constant number of queries, but not linear.</p>\n\n<p>Am I doing this wrong? If yes, how should I do this?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1536182728, "post_id": 52193546, "comment_id": 91336939, "body": "You can do assembly scanning. Just get the current executing assembly or the one you want and use LINQ to filter down to those who implement ILogger. If they have dependencies, then you might want to use a DI framework like Autofac."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1536182774, "post_id": 52193546, "comment_id": 91336950, "body": "I probably missed out the part/role of <code>Program</code> here. Can you tell us why the console logger needs the type Program? Usually you set everything up in your app&#39;s <code>Main()</code>. For Logging we actually use a simple singleton that proxies the logging to the ILoggers that we want."}, {"owner": {"reputation": 1, "user_id": 10322384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e1be0f5eb272c572c134e760a17e71a?s=128&d=identicon&r=PG&f=1", "display_name": "cizufedobu", "link": "https://stackoverflow.com/users/10322384/cizufedobu"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1536182803, "post_id": 52193546, "comment_id": 91336964, "body": "Thanks for your comment. I don&#39;t want to change my DI framework, also I hear that reflection would be time-consuming seeing as a new instance is created for each class, no? I don&#39;t think its the best way to do this."}, {"owner": {"reputation": 1, "user_id": 10322384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e1be0f5eb272c572c134e760a17e71a?s=128&d=identicon&r=PG&f=1", "display_name": "cizufedobu", "link": "https://stackoverflow.com/users/10322384/cizufedobu"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1536182842, "post_id": 52193546, "comment_id": 91336983, "body": "@DennisKuypers It needs whichever class the logger belongs to, its used for logging which class logged the message if its an error that was logged then for obvious reasons it drastically helps."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1536182990, "post_id": 52193546, "comment_id": 91337026, "body": "We have a singleton (well, we have static methods) <code>LogManager</code> that offers a <code>GetLogger(Type myType)</code> that returns an ILogger instance. This instance is a proxy that contains the <code>Type</code> it was created for. We than pass all the log information to the actual logger that in turn passes it to all <code>ILogOutput</code> instances that were registered. Also we do some filtering in between (levels and sources of logs). Maybe you can get inspired by an open source project like Log4Net. Your Console Logger would be an <code>ILogOutput</code> in my system."}], "owner": {"reputation": 1, "user_id": 10322384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e1be0f5eb272c572c134e760a17e71a?s=128&d=identicon&r=PG&f=1", "display_name": "cizufedobu", "link": "https://stackoverflow.com/users/10322384/cizufedobu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536182480, "creation_date": 1536182480, "question_id": 52193546, "link": "https://stackoverflow.com/questions/52193546/setup-dynamic-logging-with-microsofts-dependency-injection", "title": "Setup dynamic logging with Microsoft&#39;s dependency injection?", "body": "<p>I'm a self-taught programmer, so I'm finding this a little difficult. I'm trying to create a logger class dynamically, let me explain. Each class gets a ILogger instance, which is really just ConsoleLogger.</p>\n\n<pre><code>public class ConsoleLogger : ILogger\n{\n    public ConsoleLogger(Type classType)\n    {\n    }\n}\n</code></pre>\n\n<p>Here is how I'm currently doing it.</p>\n\n<pre><code>this.AddSingleton&lt;ILogger, ConsoleLogger&gt;(provider =&gt;\n    new ConsoleLogger(typeof(Program)) // TODO: make this dynamic\n);\n</code></pre>\n\n<p>So where I've done class Program, it needs to be the class its injecting it into. Please also beware that ILogger is NOT Microsofts logger, it is my own created ILogger interface, so <code>.AddLogging</code> wont work.</p>\n"}, {"tags": ["c#", "winforms", "freeze"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1536182602, "post_id": 52193502, "comment_id": 91336892, "body": "Can you explain what you&#39;re trying to do with this design?"}, {"owner": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "edited": false, "score": 0, "creation_date": 1536182856, "post_id": 52193502, "comment_id": 91336985, "body": "Why not use a timer that fires every 5 seconds instead? Also, you do not need <code>form2list</code>. Just use <code>Application.OpenForms.OfType&lt;Form2&gt;().Count();</code>"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1536182857, "post_id": 52193502, "comment_id": 91336987, "body": "Without a more clear explanation-- my guess is that you&#39;re putting yourself into an infinite loop with <code>do while (flag) { }</code> as flag doesn&#39;t seem to ever be changed to false; it&#39;s constantly true."}, {"owner": {"reputation": 440, "user_id": 4182644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4431f63d86511d9646e50667f0ae47f2?s=128&d=identicon&r=PG&f=1", "display_name": "Gianluca Conte", "link": "https://stackoverflow.com/users/4182644/gianluca-conte"}, "edited": false, "score": 0, "creation_date": 1536183483, "post_id": 52193502, "comment_id": 91337194, "body": "It&#39;s not like freeze... just very busy to open a never-less windows sequence"}], "answers": [{"tags": [], "owner": {"reputation": 6964, "user_id": 2261657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de05cbfc9a0fbef64f55eb69e761bee5?s=128&d=identicon&r=PG", "display_name": "\u03b3\u03b7\u03c1\u03ac\u03c3\u03ba\u03c9 \u03b4&#39; \u03b1\u03b5\u03af \u03c0\u03bf\u03bb\u03bb\u03ac \u03b4\u03b9\u03b4\u03b1\u03c3\u03ba\u03cc\u03bc\u03b5", "link": "https://stackoverflow.com/users/2261657/%ce%b3%ce%b7%cf%81%ce%ac%cf%83%ce%ba%cf%89-%ce%b4-%ce%b1%ce%b5%ce%af-%cf%80%ce%bf%ce%bb%ce%bb%ce%ac-%ce%b4%ce%b9%ce%b4%ce%b1%cf%83%ce%ba%cf%8c%ce%bc%ce%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1536192327, "creation_date": 1536192327, "answer_id": 52194805, "question_id": 52193502, "link": "https://stackoverflow.com/questions/52193502/opening-new-form-causes-it-to-freeze-not-responding-while-doing-loop-timer/52194805#52194805", "title": "Opening new form causes it to freeze (not responding) while doing loop / timer", "body": "<p>It is a common thread issue. You are trying to access something that doesn't belong to your thread. Use <code>BeginInvoke</code>:</p>\n\n<pre><code>private void PerformMacro()\n{\n    //Dont forget to exit the loop somehow!\n    while (flag)\n    {\n        Thread.Sleep(5000);\n        BeginInvoke( new MethodInvoker( Program.openform2 ) );\n        //flag = false;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4499108, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/R55G6.jpg?s=128&g=1", "display_name": "SilverSilencer", "link": "https://stackoverflow.com/users/4499108/silversilencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 52194805, "answer_count": 1, "score": 0, "last_activity_date": 1536193317, "creation_date": 1536182278, "last_edit_date": 1536193317, "question_id": 52193502, "link": "https://stackoverflow.com/questions/52193502/opening-new-form-causes-it-to-freeze-not-responding-while-doing-loop-timer", "title": "Opening new form causes it to freeze (not responding) while doing loop / timer", "body": "<p>I have some project where in one case when some form opens it just freezes (not responding) and closes after short while. I am working on this problem for 2 days and can't find solution. So now I decided to make new project (simple) and only test this opening forms and I found out that it only happens while I call function to open form from some loop or timer.</p>\n\n<p><a href=\"https://mega.nz/#!26RGSY6S!1FJA_4TwwiSTAYgdRV3UTpq5xfehTIauRZ7qhnElkrU\" rel=\"nofollow noreferrer\">Here is link to zip file of this simple small project</a> </p>\n\n<p>In sample project I made simple app who opens new form every 5 seconds and all those forms are not responsive, while if ou click button which uses same function it's opened normally.</p>\n\n<p>If anyone can just explain how to fix this (I need to keep the loop) so that those forms will not freeze anymore it would be great, I am totally lost...</p>\n\n<p>Here is the code if anyone will see the problem just from code:</p>\n\n<p>FORM 1</p>\n\n<pre><code>using System;\nusing System.Threading;\nusing System.Windows.Forms;\n\nnamespace TestForm\n{\n    public partial class Form1 : Form\n    {\n        bool flag = true;\n        private Thread worker;\n\n        public Form1()\n        {\n            InitializeComponent();\n            this.worker = new Thread(new ThreadStart(this.PerformMacro));\n            this.worker.IsBackground = true;\n            this.worker.Start();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            Program.newForm2Window();\n        }\n\n        private void PerformMacro()\n        {\n            while (flag)\n            {\n                Thread.Sleep(5000);\n                Program.openform2();\n                //flag = false;\n            }\n\n        }\n\n        private void button2_Click(object sender, EventArgs e)\n        {\n            Program.openform2();\n        }\n    }\n}\n</code></pre>\n\n<p>FORM 2</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace TestForm\n{\n    public partial class Form2 : Form\n    {\n        public Form2()\n        {\n            InitializeComponent();\n            this.Text = \"Form2 - \" + Program.form2List.Count;\n        }\n\n        public delegate void Action();\n\n        public void MakeNMac(string text)\n        {\n            label1.Text = \"Label changed...\";\n        }\n    }\n}\n</code></pre>\n\n<p>PROGRAM:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace TestForm\n{\n    static class Program\n    {\n        public static List&lt;Form2&gt; form2List = new List&lt;Form2&gt;();\n\n        [STAThread]\n        static void Main()\n        {\n            Application.EnableVisualStyles();\n            Application.SetCompatibleTextRenderingDefault(false);\n            Application.Run(new Form1());            \n        }\n\n        public static Form2 newForm2Window()\n        {\n            Form2 item = new Form2();\n            form2List.Add(item);\n            item.Show();\n            return item;\n        }\n\n        public static void openform2()\n        {\n            newForm2Window();\n            Form2 miew = Program.form2List[Program.form2List.Count - 1];\n            miew.BeginInvoke((Form2.Action)(() =&gt; miew.MakeNMac(\"test\")));\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1536182168, "post_id": 52193442, "comment_id": 91336748, "body": "The base controller has a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.controllerbase.user?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">User Property</a>.  Are you unaware of that property?  <a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.controller.user(v=vs.118).aspx#P:System.Web.Mvc.Controller.User\" rel=\"nofollow noreferrer\">User Property</a> for MVC 6 (and previous)."}, {"owner": {"reputation": 287, "user_id": 1916528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/303b0a427abf8f0ab3cdb9a1b2aa54ca?s=128&d=identicon&r=PG", "display_name": "user1916528", "link": "https://stackoverflow.com/users/1916528/user1916528"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1536182349, "post_id": 52193442, "comment_id": 91336811, "body": "No, I&#39;m just now learning.  Thanks for the link, it&#39;s exactly what I needed!"}], "owner": {"reputation": 287, "user_id": 1916528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/303b0a427abf8f0ab3cdb9a1b2aa54ca?s=128&d=identicon&r=PG", "display_name": "user1916528", "link": "https://stackoverflow.com/users/1916528/user1916528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "closed_date": 1536185304, "answer_count": 0, "score": 0, "last_activity_date": 1536181935, "creation_date": 1536181935, "question_id": 52193442, "link": "https://stackoverflow.com/questions/52193442/how-to-get-current-user-in-controller-in-asp-net-mvc", "closed_reason": "Duplicate", "title": "How to get current user in controller in asp.net mvc?", "body": "<p>I have a model that stores the identity of the current user who is creating the new record.  How can I modify the ActionResult Create() to capture the current user's name and assign it to paCrtdBy?</p>\n\n<p>Here is the model:</p>\n\n<pre><code>using System;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System.Web;\n\nnamespace phaud.Models\n{\npublic class phauds\n{\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n    [Required]\n    [Display(Name = \"Created By\")]\n    [MaxLength(128)]\n    public string paCrtdBy { get; set; }\n\n    private DateTime _createdOn = DateTime.Now;\n\n    [Required]\n    [Display(Name = \"Record Date\")]\n    [DataType(DataType.DateTime)]\n    public DateTime paCrtdDt {\n        get\n        {\n            return (_createdOn == DateTime.MinValue) ? DateTime.Now : _createdOn;\n        }\n        set\n        {\n            _createdOn = value;\n        }\n     }\n   }\n }\n</code></pre>\n\n<p>Here is the controller code for CREATE():</p>\n\n<pre><code>    // GET: phauds/Create\n    public ActionResult Create()\n    {           \n\n        ViewBag.DropDownValues1 = new SelectList(new[] { 3, 6, 9 });\n        ViewBag.DropDownValues2 = new SelectList(new[] { 9, 18, 27 });\n\n        return View();\n    }\n\n    // POST: phauds/Create\n    // To protect from overposting attacks, please enable the specific properties you want to bind to, for \n    // more details see https://go.microsoft.com/fwlink/?LinkId=317598.\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create([Bind(Include = \"Id,paCrtdBy,paCrtdDt,repId,callId,callDt,q_opClsCall,q_asstOffer,q_reassrCaller,q_empathy,q_prof,q_recap,q_deadAir,cmnts\")] phauds phauds)\n    {\n        string userName = User.Identity.Name;\n        //How do I assign the value of userName to the paCrtdBy field in the phauds.cs\n\n        //How to assign DateTime.Now to paCrtdDt instead of doing it in the model\n\n        if (ModelState.IsValid)\n        {\n            db.phauds.Add(phauds);\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        return View(phauds);\n    }\n</code></pre>\n"}, {"tags": ["c#", "windows", "fiddlercore", "fiddler-dev"], "answers": [{"tags": [], "owner": {"reputation": 1004, "user_id": 3389585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1d727c1ec53bfef1f31830160b072ca8?s=128&d=identicon&r=PG&f=1", "display_name": "beppe9000", "link": "https://stackoverflow.com/users/3389585/beppe9000"}, "is_accepted": false, "score": 0, "last_activity_date": 1536238933, "creation_date": 1536238933, "answer_id": 52204781, "question_id": 52193433, "link": "https://stackoverflow.com/questions/52193433/how-to-use-fiddlers-root-certificate-authority-in-fiddlecore/52204781#52204781", "title": "How to use Fiddler&#39;s Root Certificate Authority in FiddleCore?", "body": "<p>First the <code>fiddler.certmaker.bc.cert</code> and <code>fiddler.certmaker.bc.key</code> pref values in Fiddler are obtained by typing <code>about:config</code> in the QuickExec bar.</p>\n\n<p>Afterwards in FiddlerCore (before starting the proxy) they are applied:</p>\n\n<pre><code>Fiddler.FiddlerApplication.Prefs.SetStringPref(\"fiddler.certmaker.bc.key\", FIDDLER_KEY);\nFiddler.FiddlerApplication.Prefs.SetStringPref(\"fiddler.certmaker.bc.cert\", FIDDLER_CERT);\n</code></pre>\n"}], "owner": {"reputation": 1004, "user_id": 3389585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1d727c1ec53bfef1f31830160b072ca8?s=128&d=identicon&r=PG&f=1", "display_name": "beppe9000", "link": "https://stackoverflow.com/users/3389585/beppe9000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571571677, "creation_date": 1536181895, "last_edit_date": 1571571677, "question_id": 52193433, "link": "https://stackoverflow.com/questions/52193433/how-to-use-fiddlers-root-certificate-authority-in-fiddlecore", "title": "How to use Fiddler&#39;s Root Certificate Authority in FiddleCore?", "body": "<p>I would like to load the Root CA generated by Fiddler in FiddleCore to be use to sign HTTPS certificates on the fly. My reason for doing this is to be able to switch between Fiddler and FiddlerCore on the fly.</p>\n"}, {"tags": ["c#", "visual-studio", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 9247809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be9da333fe02b2aa7a27ad56a49c6af7?s=128&d=identicon&r=PG&f=1", "display_name": "SpaceToon", "link": "https://stackoverflow.com/users/9247809/spacetoon"}, "is_accepted": false, "score": 2, "last_activity_date": 1536218791, "last_edit_date": 1536218791, "creation_date": 1536182074, "answer_id": 52193465, "question_id": 52193385, "link": "https://stackoverflow.com/questions/52193385/c-selenium-ui-tests-iwebdriver-object-reference-not-set-to-an-instance/52193465#52193465", "title": "C# - Selenium - UI Tests - IWebDriver - Object reference not set to an instance of an object", "body": "<p>Okay, I found the mistake. It should be: </p>\n\n<pre><code>this.WebDriver = WebDriver\n</code></pre>\n\n<p>and not:</p>\n\n<pre><code>WebDriver = this.WebDriver\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 1759640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defca742cf71a085e2a97550182f3fe2?s=128&d=identicon&r=PG", "display_name": "angrybambr", "link": "https://stackoverflow.com/users/1759640/angrybambr"}, "is_accepted": false, "score": 1, "last_activity_date": 1536225748, "creation_date": 1536225748, "answer_id": 52200796, "question_id": 52193385, "link": "https://stackoverflow.com/questions/52193385/c-selenium-ui-tests-iwebdriver-object-reference-not-set-to-an-instance/52200796#52200796", "title": "C# - Selenium - UI Tests - IWebDriver - Object reference not set to an instance of an object", "body": "<p>I would suggest you to follow this: <a href=\"https://www.c-sharpcorner.com/UploadFile/8a67c0/C-Sharp-coding-standards-and-naming-conventions/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/UploadFile/8a67c0/C-Sharp-coding-standards-and-naming-conventions/</a></p>\n\n<p>In this case you will not be mixed up with same variables names. </p>\n\n<p>So, the second part of your code would be: </p>\n\n<pre><code>public class GooglePageObjects\n{\n    IWebDriver _webDriver;\n\n    public GooglePageObjects(IWebDriver webDriver)\n    {\n        _webDriver = webDriver;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9247809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be9da333fe02b2aa7a27ad56a49c6af7?s=128&d=identicon&r=PG&f=1", "display_name": "SpaceToon", "link": "https://stackoverflow.com/users/9247809/spacetoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1852, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536225748, "creation_date": 1536181598, "question_id": 52193385, "link": "https://stackoverflow.com/questions/52193385/c-selenium-ui-tests-iwebdriver-object-reference-not-set-to-an-instance", "title": "C# - Selenium - UI Tests - IWebDriver - Object reference not set to an instance of an object", "body": "<p>for my first test case with c# and selenium, I want to open the google.com website, type something in the entry field and click on search. The Problem is, that i get an System.NullReferenceException, because the WebDriver is Null. But why is the WebDriver null?</p>\n\n<pre><code>    public class Base\n{\n\n    public IWebDriver WebDriver;\n    public GooglePageObjects GooglePO;\n    public PageActions PageAction;\n    public Base()\n    {\n        WebDriver = new ChromeDriver(@\"C:\\ChromeDriver\");\n        GooglePO = new GooglePageObjects(WebDriver);\n        PageAction = new PageActions(WebDriver);\n    }\n}\n\npublic class GooglePageObjects\n{\n    IWebDriver WebDriver;\n\n    public GooglePageObjects(IWebDriver WebDriver)\n    {\n        WebDriver = this.WebDriver;\n    }\n\n    public IWebElement SearchField =&gt; WebDriver.FindElement(By.CssSelector(\"#gs_lc0 #lst-ib\"));\n    public IWebElement SearchButton =&gt; WebDriver.FindElement(By.CssSelector(\"#gs_lc0 #lst-ib\"));\n    public IWebElement SearchBar =&gt; WebDriver.FindElement(By.CssSelector(\"#hdtb-s #hdtb-msb\"));\n\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536181428, "post_id": 52193341, "comment_id": 91336456, "body": "I recommend renaming your <code>Task</code> entity to something else because <code>System.Threading.Tasks.Task</code> is used a lot in C#/.NET nowadays so you&#39;ll end up with lots of name collisions."}, {"owner": {"reputation": 1, "user_id": 9872127, "user_type": "registered", "profile_image": "https://graph.facebook.com/1679813322075661/picture?type=large", "display_name": "Lucas Dirani", "link": "https://stackoverflow.com/users/9872127/lucas-dirani"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536181840, "post_id": 52193341, "comment_id": 91336627, "body": "Thanks for the suggestion. For now I have had no conflicts with this, but in fact is something to avoid."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1536182084, "post_id": 52193341, "comment_id": 91336722, "body": "I see neither data-annotations nor fluenti api to configure your associations.  How do you expect it to work without any configurations?"}, {"owner": {"reputation": 1, "user_id": 9872127, "user_type": "registered", "profile_image": "https://graph.facebook.com/1679813322075661/picture?type=large", "display_name": "Lucas Dirani", "link": "https://stackoverflow.com/users/9872127/lucas-dirani"}, "edited": false, "score": 0, "creation_date": 1536182688, "post_id": 52193341, "comment_id": 91336925, "body": "I have created classes that inherit from EntityTypeConfiguration to configure the attributes of each entity and do the mapping. The foreign key PeriodicTask is created but does not accept null values on Task table."}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 1, "creation_date": 1536184452, "post_id": 52193341, "comment_id": 91337488, "body": "That model should configure correctly by convention, without either annotations of fluent mapping.  And it looks correct, except that the PeriodicTasks.Tasks property is not getting set.  What is the error?"}], "answers": [{"comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1536238800, "post_id": 52193601, "comment_id": 91358456, "body": "PeriodicTaskID will be the ForeignKey by <a href=\"https://docs.microsoft.com/en-us/ef/ef6/modeling/code-first/conventions/built-in\" rel=\"nofollow noreferrer\">convention</a>. <a href=\"https://stackoverflow.com/questions/44481675/hasone-not-found-in-ef-6\">HasOne</a> is not in EF6."}], "tags": [], "owner": {"reputation": 3233, "user_id": 2630427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb9b9af50987875657ed5b86bcef0aa?s=128&d=identicon&r=PG", "display_name": "ilkerkaran", "link": "https://stackoverflow.com/users/2630427/ilkerkaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1536182761, "creation_date": 1536182761, "answer_id": 52193601, "question_id": 52193341, "link": "https://stackoverflow.com/questions/52193341/zero-or-one-to-many-in-entity-framework/52193601#52193601", "title": "Zero or One To Many in Entity Framework", "body": "<p>You can define the relation via Data Annotations like this;</p>\n\n<pre><code>public class Task\n{\n    public int TaskID { get; set; }\n\n    public int? PeriodicTaskID { get; set; }\n    [ForeignKey(\"PeriodicTaskID \")]\n    public virtual PeriodicTask PeriodicTask { get; set; }\n}\n</code></pre>\n\n<p>via Fluent API;</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    //..\n    modelBuilder.Entity&lt;Task&gt;()\n        .HasOne(t =&gt; t.PeriodicTask)\n        .WithMany(pt =&gt; pt.Tasks);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9872127, "user_type": "registered", "profile_image": "https://graph.facebook.com/1679813322075661/picture?type=large", "display_name": "Lucas Dirani", "link": "https://stackoverflow.com/users/9872127/lucas-dirani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536182761, "creation_date": 1536181311, "question_id": 52193341, "link": "https://stackoverflow.com/questions/52193341/zero-or-one-to-many-in-entity-framework", "title": "Zero or One To Many in Entity Framework", "body": "<p>My situation is as follows: The Periodic Task entity can have many Tasks, but a Task can have none or only a Periodic Task associated with it. That is, I need the foreign key of Task Periodic on Task to be null. However, I am not able to do this configuration through the Entity Framework, even with the statement:</p>\n\n<pre><code>public int? PeriodicTaskID\n</code></pre>\n\n<p>What are the possible solutions?</p>\n\n<p>Thank you very much.</p>\n\n<pre><code>public class Task\n{\n    public int TaskID { get; set; }\n\n    public int? PeriodicTaskID { get; set; }\n\n    public virtual PeriodicTask PeriodicTask { get; set; }\n}\n\npublic class PeriodicTask\n{\n    public int PeriodicTaskID { get; set; }\n\n    public virtual ICollection&lt;Task&gt; Tasks { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "visual-studio-2013", ".net-4.0"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 1, "creation_date": 1536181505, "post_id": 52193323, "comment_id": 91336489, "body": "Your URL should be <code>http:&#47;&#47;Server&#47;Sales.aspx?Parm1=XZ AB%2BC (DE FH) IJ-KM NP</code>. Any <code>+</code> characters are interpreted as spaces, no matter what you do."}], "answers": [{"comments": [{"owner": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "edited": false, "score": 0, "creation_date": 1536243146, "post_id": 52193427, "comment_id": 91361238, "body": "I replace <code>+</code> with <code>%2B</code> and it works out fine. But I don&#39;t understand what you mean with <code>%2B%</code>"}, {"owner": {"reputation": 647, "user_id": 8290859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576dd7c76c6f0358c15d2359ed1bc508?s=128&d=identicon&r=PG&f=1", "display_name": "OH.IO.DEV", "link": "https://stackoverflow.com/users/8290859/oh-io-dev"}, "reply_to_user": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "edited": false, "score": 0, "creation_date": 1536243945, "post_id": 52193427, "comment_id": 91361743, "body": "Ah, sorry this was my mistake. I meant to type <code>%2B</code> I added an extra <code>%</code> by mistake. Glad I could help you out man. Mark this as the answer if I answered your question!"}], "tags": [], "owner": {"reputation": 647, "user_id": 8290859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576dd7c76c6f0358c15d2359ed1bc508?s=128&d=identicon&r=PG&f=1", "display_name": "OH.IO.DEV", "link": "https://stackoverflow.com/users/8290859/oh-io-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1536243879, "last_edit_date": 1536243879, "creation_date": 1536181866, "answer_id": 52193427, "question_id": 52193323, "link": "https://stackoverflow.com/questions/52193323/reading-character-in-url-without-adding-logic-server-urlencode-returns-too/52193427#52193427", "title": "Reading &#39;+&#39; character in URL without adding logic? Server.UrlEncode returns too much", "body": "<p>If you take a look at <a href=\"https://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">W3Schools</a> you can see a list of characters and there 'encoded equivalents'. As for your issue the '+' is <code>%2B</code>. So wherever <code>+</code> is in your URL, replace it with <code>%2B</code>. If you want your string to turn out like you stated then just use the <code>%2B</code> where a <code>+</code> is needed to be displayed, other than that you can just leave spaces.</p>\n"}], "owner": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536243879, "creation_date": 1536181226, "question_id": 52193323, "link": "https://stackoverflow.com/questions/52193323/reading-character-in-url-without-adding-logic-server-urlencode-returns-too", "title": "Reading &#39;+&#39; character in URL without adding logic? Server.UrlEncode returns too much", "body": "<p>This is what my URL looks like: </p>\n\n<pre><code>http://Server/Sales.aspx?Parm1=XZ AB+C (DE FH) IJ-KM NP\n</code></pre>\n\n<p>This is the value for the parameter <code>Parm1</code> in my URL:</p>\n\n<pre><code>Request.QueryString[\"Parm1\"]\n\"XZ AB C (DE FH) IJ-KM NP\"\n</code></pre>\n\n<p>With <code>Server.UrlEncode</code>:</p>\n\n<pre><code>Server.UrlEncode(Request.QueryString[\"Parm1\"])\n= \"XZ+AB+C+(DE+FH)+IJ-KM+NP\"\n</code></pre>\n\n<p>And this is what the value should be:</p>\n\n<pre><code>\"XZ AB+C (DE FH) IJ-KM NP\"\n</code></pre>\n\n<p>Since the parameter can have many combinations with <code>+</code>, is there any way to read this parameter value without having to add logic to parse anything with the plus character?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 1, "creation_date": 1536364878, "post_id": 52193242, "comment_id": 91411254, "body": "&quot;What is this?  A bouncy castle for ants?!&quot;"}, {"owner": {"reputation": 23, "user_id": 10322234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nKUPiqt_SEM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN3PUVyKvYl-dIRhtcYj847noDqXg/mo/photo.jpg?sz=128", "display_name": "Eduardo Hernandez", "link": "https://stackoverflow.com/users/10322234/eduardo-hernandez"}, "reply_to_user": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 1, "creation_date": 1536597950, "post_id": 52193242, "comment_id": 91472037, "body": "hahahahahahaha.. &quot;Close but no cigar...&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10322234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nKUPiqt_SEM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN3PUVyKvYl-dIRhtcYj847noDqXg/mo/photo.jpg?sz=128", "display_name": "Eduardo Hernandez", "link": "https://stackoverflow.com/users/10322234/eduardo-hernandez"}, "edited": false, "score": 1, "creation_date": 1536597903, "post_id": 52230852, "comment_id": 91472019, "body": "This was exactly what I needed to know.. Thank you very much.!! It worked beautifully.. Cheers mate.."}], "tags": [], "owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "is_accepted": true, "score": 1, "last_activity_date": 1536520471, "last_edit_date": 1536520471, "creation_date": 1536364709, "answer_id": 52230852, "question_id": 52193242, "link": "https://stackoverflow.com/questions/52193242/is-there-a-way-in-unity3d-to-detect-that-a-gameobject-is-on-top-of-a-pillarbox-i/52230852#52230852", "title": "Is there a way in Unity3D to detect that a gameobject is on top of a pillarbox in order to avoid rendering it", "body": "<p>You can use a <a href=\"https://docs.unity3d.com/Manual/script-RectMask2D.html\" rel=\"nofollow noreferrer\">RectMask2D</a> component to mask out the letterbox area.  You want to attach the RectMask2D to an object that is a parent of your inventory box.  Children of the RectMask2D will only appear within the area of their parent, so if the mask does not cover the letterbox area, then your inventory bar will not appear over the letterbox either.</p>\n"}], "owner": {"reputation": 23, "user_id": 10322234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nKUPiqt_SEM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN3PUVyKvYl-dIRhtcYj847noDqXg/mo/photo.jpg?sz=128", "display_name": "Eduardo Hernandez", "link": "https://stackoverflow.com/users/10322234/eduardo-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 52230852, "answer_count": 1, "score": 2, "last_activity_date": 1536520471, "creation_date": 1536180791, "last_edit_date": 1536218343, "question_id": 52193242, "link": "https://stackoverflow.com/questions/52193242/is-there-a-way-in-unity3d-to-detect-that-a-gameobject-is-on-top-of-a-pillarbox-i", "title": "Is there a way in Unity3D to detect that a gameobject is on top of a pillarbox in order to avoid rendering it", "body": "<p>I am currently developing a 2D Unity game.. At the moment I was able to implement a code that allows the camera to keep the aspect ratio which is initially 16:9 and when the aspect ratio is different it will add the letterbox perfectly. My issue is that I have a HUD that can be hidden by the player, so when I have letterbox implemented the HUD is not hiding properly.. I've spent heaps of time trying to find an answer but I haven't been able to.. Is there a way to avoid rendering/showing the part of the HUD that is on top of the letterbox.? I am attaching an image that shows how the HUD looks normally and how it is being displayed when hidden.. Any help will be greatly appreciated.. Thanks in advance.!</p>\n\n<p>Normal HUD:\n<a href=\"https://i.stack.imgur.com/PmVsX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PmVsX.png\" alt=\"how the HUD looks normally\"></a></p>\n\n<p>Hidden HUD:\n<a href=\"https://i.stack.imgur.com/6zl4y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zl4y.jpg\" alt=\"how the HUD looks when hidden\"></a></p>\n"}, {"tags": ["c#", "unity3d", "game-physics"], "owner": {"reputation": 79, "user_id": 7659975, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-mIFS2Ln5Ukg/AAAAAAAAAAI/AAAAAAAAAC0/7gOLLFS6nng/photo.jpg?sz=128", "display_name": "Zid Lyx", "link": "https://stackoverflow.com/users/7659975/zid-lyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536270884, "creation_date": 1536180638, "last_edit_date": 1536183269, "question_id": 52193218, "link": "https://stackoverflow.com/questions/52193218/unity-character-controller-climbing-terrain", "title": "Unity Character controller climbing Terrain", "body": "<p>I'm working on terrain and I made this pit and my character controller acts like \nit is on ground but its floating  for sure and when I move forward it will get dragged down by the gravity but it gets \"stuck\" again floating  and if I'm on the bottom of the pit and try to climb it it actually climbs the big slop while my slop limit is 45 and it counts like its grounded so I can jump again and yea I tried making a raycast to check if its grounded but still it only fixes the problem with climbing but it still if I jump at the sides of the pit I will start floating.<br>\nHere is the script .</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class moveController : MonoBehaviour\n{\n    private CharacterController controller;\n    public float moveSpeed = 15f;\n    public float jumpForce = 15f;\n\n    private Vector3 moveDirection;\n    private float gravityScale = 0.1f;\n    private float up_Down;\n    private float right_Left;\n\n    private float mouseX;\n    private float mouseY;\n    //headbob \n    private float currentAngle = 0;\n    private float smooth = 20.0F;\n    private float tiltAngle = 1.0F;\n    private float tiltAroundZ;\n    Vector3 h_bob;\n    //AccelerationVariables\n    private float jumpVelocityPerSecond = 3f;\n    private float speedVelocityPerSecond = 3f;\n\n    // jump or not , moving or not , walking or not,\n    private bool isJumping;\n    private bool isMoving;\n    private bool isWalking;\n\n    // look variables\n    Vector2 mouselook;\n    Vector2 smoothV;\n    private float smoothing = 2f;\n    private float sensitivity = 1.5f;\n\n    private Camera eyes;\n\n    private void Awake()\n    {\n        controller = GetComponent&lt;CharacterController&gt;();\n        eyes = Camera.main;\n    }\n    void Start()\n    {\n\n    }\n\n    void Update()\n    {\n        Move();\n        SlowDown();\n        //DeadHop();\n      //  MaxSpeed_Jump();\n        Crouch();\n\n    }\n    private void Move()\n    {\n        //  moveDirection = new Vector3(Input.GetAxis(\"Horizontal\") * moveSpeed, moveDirection.y, Input.GetAxis(\"Vertical\") * moveSpeed);\n        up_Down = Input.GetAxis(\"Vertical\");\n        right_Left = Input.GetAxis(\"Horizontal\");\n\n        mouseX = Input.GetAxis(\"Mouse X\");\n        mouseY = Input.GetAxis(\"Mouse Y\");\n\n        tiltAroundZ = Input.GetAxis(\"Horizontal\") * tiltAngle;\n        currentAngle = Mathf.MoveTowards(currentAngle, tiltAroundZ, Time.deltaTime * smooth);\n\n        Vector3 moveDirSide = transform.right * right_Left * moveSpeed;\n        Vector3 moveDirForward = transform.forward * up_Down * moveSpeed ;\n\n        Vector3 BodyRot = transform.rotation.eulerAngles;\n\n        BodyRot.y += mouseX;\n\n        var md = new Vector2(mouseX, mouseY);\n        md = Vector2.Scale(md, new Vector2(sensitivity * smoothing, sensitivity * smoothing));\n        smoothV.x = Mathf.Lerp(smoothV.x, md.x, 1f / smoothing);\n        smoothV.y = Mathf.Lerp(smoothV.y, md.y, 1f / smoothing);\n        mouselook += smoothV;\n        mouselook.y = Mathf.Clamp(mouselook.y, -80f, 80f);\n\n\n        // check if he is moving\n\n        if (Input.GetButton(\"Horizontal\"))\n        {\n            isMoving = true;\n        }\n        else if (Input.GetButton(\"Vertical\"))\n        {\n            isMoving = true;\n        }\n        else\n        {\n            isMoving = false;\n        }\n\n\n        // check if he is jumping\n\n        if (Input.GetButton(\"Jump\"))\n        {\n            isJumping = true;\n        }\n        else if (Input.GetButtonUp(\"Jump\"))\n        {\n            isJumping = false;\n\n        }\n\n        ///check if grounded so he can jump\n\n            if (controller.isGrounded)\n           {\n            if (isJumping)\n            {             \n                moveDirection.y = jumpForce;\n            }\n\n           }\n\n\n        moveDirection.y = moveDirection.y + (Physics.gravity.y * gravityScale);\n\n        controller.Move(moveDirSide * Time.deltaTime);\n        controller.Move(moveDirForward * Time.deltaTime);\n        controller.Move(moveDirection * Time.deltaTime);\n\n\n        eyes.transform.localRotation = Quaternion.Euler(-mouselook.y, Vector3.right.x, -currentAngle);\n        transform.localRotation = Quaternion.AngleAxis(mouselook.x, BodyRot);\n\n\n\n    }\na\n    private void SlowDown()\n    {\n        if (Input.GetButton(\"SlowDown\"))\n        {\n            moveSpeed = 5f;\n            jumpForce = 10f;\n            isWalking = true;\n        }\n        else if (Input.GetButtonUp(\"SlowDown\"))\n        {\n            moveSpeed = 15f;\n            jumpForce = 15f;\n            isWalking = false;\n        }\n\n    }\n\n    //private void DeadHop()\n    //{\n    //    if (isMoving)\n    //    {\n    //        jumpForce += jumpVelocityPerSecond * Time.deltaTime ;\n    //        moveSpeed += speedVelocityPerSecond * Time.deltaTime ;\n    //    }\n    //    else if (isMoving == false)\n    //    {\n    //        jumpForce = 10f;\n    //        moveSpeed = 10f;\n    //    }\n    //}\n\n    //private void MaxSpeed_Jump()\n    //{\n    //    if(moveSpeed &gt;= 15)\n    //    {\n    //        moveSpeed = 15;\n    //    }\n    //    if(jumpForce &gt;= 15)\n    //    {\n    //        jumpForce = 15;\n    //    }\n    //}\n\n    private void Crouch()\n    {\n        if (Input.GetButton(\"Crouch\") &amp;&amp; isJumping == false)\n        {\n            controller.height = 1.5f;\n            moveSpeed = 5f;\n        }\n        else if (Input.GetButtonUp(\"Crouch\") &amp;&amp; isJumping == false)\n        {\n            moveSpeed = 15f;\n            controller.height = 3f;\n        }\n\n\n        if (Input.GetButton(\"Crouch\") &amp;&amp; isJumping == true)\n        {\n            controller.height = 1.5f;\n\n        }\n        else if (Input.GetButtonUp(\"Crouch\") &amp;&amp; isJumping == true)\n        {\n            moveSpeed = 15f;\n            controller.height = 3f;\n        }\n\n\n    }   \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pcgm2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcgm2.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/2Ave4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Ave4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 6472, "user_id": 2321042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea2250b729654f9c6a61d9b1c43e545?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2321042/andrew"}, "edited": false, "score": 1, "creation_date": 1536180690, "post_id": 52193208, "comment_id": 91336171, "body": "Yes. With Reflection."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 2, "creation_date": 1536180776, "post_id": 52193208, "comment_id": 91336203, "body": "Those are fields, not poperties"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1536180991, "post_id": 52193208, "comment_id": 91336294, "body": "Your example code is indicative of you doing something wrong.  Use a collection"}], "answers": [{"tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": false, "score": 2, "last_activity_date": 1536181918, "last_edit_date": 1536181918, "creation_date": 1536181595, "answer_id": 52193384, "question_id": 52193208, "link": "https://stackoverflow.com/questions/52193208/return-an-array-of-constant-field-values-a-certain-type-from-a-static-class/52193384#52193384", "title": "Return an Array of Constant Field values a certain Type from a Static Class", "body": "<blockquote>\n  <p>Is possible to add a method to return an <strong>IEnumerable</strong> with all the\n  properties values?</p>\n</blockquote>\n\n<p>You can use this, It will select all public constant long fields from the static class</p>\n\n<pre><code>var result = typeof(SubClass).GetFields(BindingFlags.Public | BindingFlags.Static)\n                             .Where(x=&gt; x.IsLiteral &amp;&amp; !x.IsInitOnly &amp;&amp; x.FieldType == typeof(long))\n                             .Select(x =&gt; x.GetRawConstantValue());\n</code></pre>\n\n<hr>\n\n<p><strong>You can read it as follows</strong> </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/typeof\" rel=\"nofollow noreferrer\">typeof (C# Reference)</a></p>\n\n<blockquote>\n  <p>Used to obtain the System.Type object for a type. A typeof expression\n  takes the following form:</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.type.getfields?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Type_GetFields\" rel=\"nofollow noreferrer\">Type.GetFields Method</a> </p>\n\n<blockquote>\n  <p>Gets the fields of the current Type.</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.bindingflags?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">BindingFlags Enum</a> </p>\n\n<blockquote>\n  <p><strong>Public</strong>  Specifies that public members are to be included in the\n  search.</p>\n  \n  <p><strong>Static</strong>  Specifies that static members are to be included in the\n  search.</p>\n</blockquote>\n\n<p><strong>Which returns</strong></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.fieldinfo?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">FieldInfo Class</a> </p>\n\n<blockquote>\n  <p>Discovers the attributes of a field and provides access to field\n  metadata.</p>\n</blockquote>\n\n<p><strong>Filter by (Where)</strong></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.fieldinfo.isliteral?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">FieldInfo.IsLiteral Property</a> </p>\n\n<blockquote>\n  <p>Gets a value indicating whether the value is written at compile time\n  and cannot be changed.</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.fieldinfo.isinitonly?view=netframework-4.7.2#System_Reflection_FieldInfo_IsInitOnly\" rel=\"nofollow noreferrer\">FieldInfo.IsInitOnly Property</a> </p>\n\n<blockquote>\n  <p>Gets a value indicating whether the field can only be set in the body\n  of the constructor.</p>\n</blockquote>\n\n<p><strong>Then select with</strong> </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.fieldinfo.getrawconstantvalue?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Reflection_FieldInfo_GetRawConstantValue\" rel=\"nofollow noreferrer\">FieldInfo.GetRawConstantValue Method</a> </p>\n\n<blockquote>\n  <p>Returns a literal value associated with the field by a compiler.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1536274208, "last_edit_date": 1536274208, "creation_date": 1536182190, "answer_id": 52193489, "question_id": 52193208, "link": "https://stackoverflow.com/questions/52193208/return-an-array-of-constant-field-values-a-certain-type-from-a-static-class/52193489#52193489", "title": "Return an Array of Constant Field values a certain Type from a Static Class", "body": "<p>Just to demonstrate how you could do this very simply with an <a href=\"https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/iterators\" rel=\"nofollow noreferrer\">iterator method</a>...</p>\n\n<pre><code>public static IEnumerable&lt;long&gt; GetConstantsAsEnumerable()\n{\n    yield return poperty1;\n    yield return poperty2;\n    yield return poperty3;\n}\n</code></pre>\n\n<p>...or an <a href=\"https://docs.microsoft.com/dotnet/csharp/programming-guide/arrays/single-dimensional-arrays#array-initialization\" rel=\"nofollow noreferrer\">array initializer</a>...</p>\n\n<pre><code>public static long[] GetConstantsAsArray()\n{\n    return new long[] {\n        poperty1,\n        poperty2,\n        poperty3\n    };\n}\n</code></pre>\n\n<p>Of course, depending on how big <code>N</code> is either method could grow very long.  Unlike <a href=\"https://stackoverflow.com/a/52193384/150605\">@TheGeneral's answer</a>, as constants are added or deleted you would also have to manually update the methods to reflect the change.</p>\n\n<p>Also, to <a href=\"https://stackoverflow.com/questions/52193208/return-an-array-of-constant-field-values-a-certain-type-from-a-static-class#comment91336294_52193208\">@maccettura's point</a>, if these numbered constants are related and you want to access them in a collection-like manner, it would be better to store them as a collection in the first place.  You could use an array...</p>\n\n<pre><code>public static class SubClass\n{\n    public static readonly long[] properties = new long[] { 365635, 156346, 280847 };\n}\n</code></pre>\n\n<p>...or, to ensure the elements are never modified, a <a href=\"https://docs.microsoft.com/dotnet/api/system.collections.objectmodel.readonlycollection-1\" rel=\"nofollow noreferrer\"><code>ReadOnlyCollection&lt;&gt;</code></a>...</p>\n\n<pre><code>using System.Collections.ObjectModel;\n\npublic static class SubClass\n{\n    public static readonly ReadOnlyCollection&lt;long&gt; properties = \n        new ReadOnlyCollection&lt;long&gt;(\n            new long[] { 365635, 156346, 280847 }\n        );\n}\n</code></pre>\n\n<p>If the values are unique and ordering is not important a <a href=\"https://docs.microsoft.com/dotnet/api/system.collections.generic.hashset-1\" rel=\"nofollow noreferrer\"><code>HashSet&lt;&gt;</code></a> might be appropriate...</p>\n\n<pre><code>using System.Collections.Generic;\n\npublic static class SubClass\n{\n    public static readonly HashSet&lt;long&gt; properties = new HashSet&lt;long&gt;(\n        new long[] { 365635, 156346, 280847 }\n    );\n}\n</code></pre>\n\n<p>...and if you're using .NET Core and, again, want to ensure the set is never modified you can use an <a href=\"https://docs.microsoft.com/dotnet/api/system.collections.immutable.immutablehashset-1\" rel=\"nofollow noreferrer\"><code>ImmutableHashSet&lt;&gt;</code></a>...</p>\n\n<pre><code>using System.Collections.Immutable;\n\npublic static class SubClass\n{\n    public static readonly ImmutableHashSet&lt;long&gt; properties = ImmutableHashSet.Create&lt;long&gt;(\n        new long[] { 365635, 156346, 280847 }\n    );\n}\n</code></pre>\n\n<p>All of the above types can be enumerated as-is with no need for a wrapper method.</p>\n"}], "owner": {"reputation": 93, "user_id": 6797699, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210896644795988/picture?type=large", "display_name": "Miguel Rodrigo Albarracin", "link": "https://stackoverflow.com/users/6797699/miguel-rodrigo-albarracin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 52193489, "answer_count": 2, "score": 1, "last_activity_date": 1536274208, "creation_date": 1536180589, "last_edit_date": 1536182163, "question_id": 52193208, "link": "https://stackoverflow.com/questions/52193208/return-an-array-of-constant-field-values-a-certain-type-from-a-static-class", "title": "Return an Array of Constant Field values a certain Type from a Static Class", "body": "<p>Given this code:</p>\n\n<pre><code>public static class SubClass\n{\n    public const long poperty1 = 365635;\n    public const long poperty2 = 156346;\n    public const long poperty3 = 280847;\n    .\n    .\n    public const long propertyN = 29145;\n\n}\n</code></pre>\n\n<p>A class with N long properties. Is possible to add a method to return an IEnumerable with all the properties values?</p>\n"}, {"tags": ["c#", "sql-server", "active-directory"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1536181019, "post_id": 52193149, "comment_id": 91336303, "body": "Hi and welcome to SO. Your question is extremely broad. What part(s) of this do you need help with?"}, {"owner": {"reputation": 175, "user_id": 10315461, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vw7eElhde-c/AAAAAAAAAAI/AAAAAAAAABY/9AlN_qyc0xg/photo.jpg?sz=128", "display_name": "NeoAer", "link": "https://stackoverflow.com/users/10315461/neoaer"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1536181614, "post_id": 52193149, "comment_id": 91336528, "body": "Kind of all of it to be honest sadly i&#39;m new at coding. I have created a website that uses Windows Authentication. I want to take that authentication and pull more information such as the &#39;userPrincipalName&#39; property from the user. With the userPrincipalName I want to compare it to a SQL Server Database column which hold other userPrincipalName and then with that comparison pull the rest of the data from that row to the website to be able to display for the user. My goal is to allow the user to view their own information in the SQL Server Database and allow them to update it."}, {"owner": {"reputation": 175, "user_id": 10315461, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vw7eElhde-c/AAAAAAAAAAI/AAAAAAAAABY/9AlN_qyc0xg/photo.jpg?sz=128", "display_name": "NeoAer", "link": "https://stackoverflow.com/users/10315461/neoaer"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1536181724, "post_id": 52193149, "comment_id": 91336584, "body": "I guess I can break this down one step at a time. How do I pull more information from the user once they use windows authentication to visit my site such as their AD property of &#39;userPrincipalName&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 3954696, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3bF97.jpg?s=128&g=1", "display_name": "B Minster", "link": "https://stackoverflow.com/users/3954696/b-minster"}, "is_accepted": false, "score": 0, "last_activity_date": 1536182034, "creation_date": 1536182034, "answer_id": 52193461, "question_id": 52193149, "link": "https://stackoverflow.com/questions/52193149/capturing-userprincipalname-and-comparing-it-to-a-column-in-sql-server/52193461#52193461", "title": "Capturing userPrincipalName and comparing it to a column in SQL Server", "body": "<p>Check out this page to get the Windows username: <a href=\"https://stackoverflow.com/questions/1240373/how-do-i-get-the-current-username-in-net-using-c\">How do I get the current username in .NET using C#?</a></p>\n\n<p>From there you would need to write a sql query that would look up the username.</p>\n\n<pre><code>cmd.CommandText = $\"SELECT* FROM table WHERE columnName='{WindowsIdentity.GetCurrent().Name}'\"\n</code></pre>\n\n<p>You may need additional <code>using</code> statement to use WindowsIdentity. Add <code>using System.Security.Principal</code> to where this method is being used.</p>\n"}], "owner": {"reputation": 175, "user_id": 10315461, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vw7eElhde-c/AAAAAAAAAAI/AAAAAAAAABY/9AlN_qyc0xg/photo.jpg?sz=128", "display_name": "NeoAer", "link": "https://stackoverflow.com/users/10315461/neoaer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536182034, "creation_date": 1536180343, "last_edit_date": 1536180397, "question_id": 52193149, "link": "https://stackoverflow.com/questions/52193149/capturing-userprincipalname-and-comparing-it-to-a-column-in-sql-server", "title": "Capturing userPrincipalName and comparing it to a column in SQL Server", "body": "<p>How to capture a user's Active Directory <code>userPrinicpalName</code> when they login with Windows authentication, and then compare that to a SQL Server table column in C#?</p>\n\n<p>Any ideas would be much appreciated.</p>\n"}, {"tags": ["c#", ".net", "azure", "azure-table-storage", "azure-tablequery"], "comments": [{"owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "edited": false, "score": 0, "creation_date": 1536180468, "post_id": 52193134, "comment_id": 91336097, "body": "Could you provide source code for <code>Myentity</code> class?"}, {"owner": {"reputation": 161, "user_id": 10055317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0r4irKby24U/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVEaVB0q-Mpl5pTthTB96FFn4UEg/mo/photo.jpg?sz=128", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/10055317/alex-gordon"}, "reply_to_user": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "edited": false, "score": 0, "creation_date": 1536184181, "post_id": 52193134, "comment_id": 91337410, "body": "@AlexanderI. you were EXACTLY right"}], "answers": [{"tags": [], "owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "is_accepted": true, "score": 1, "last_activity_date": 1536181191, "creation_date": 1536181191, "answer_id": 52193313, "question_id": 52193134, "link": "https://stackoverflow.com/questions/52193134/how-to-query-using-tablequery-via-ienumerable/52193313#52193313", "title": "How to query using TableQuery via IEnumerable?", "body": "<p>It seems you have hiding properties <code>RowKey</code> and <code>PartitionKey</code> inside your <code>Myentity</code> class.</p>\n\n<p>I guess your <code>Myentity</code> class has something like it:</p>\n\n<pre><code>public class Myentity: TableEntity\n{\n    public new string RowKey { get; set; }\n    ...\n}\n</code></pre>\n\n<p>Pay attention to keyword <strong>new</strong>.</p>\n\n<p>If you have this construction you need to delete this property.</p>\n\n<p>More information about hiding and overriding you can find <a href=\"https://blogs.msdn.microsoft.com/csharpfaq/2004/03/12/whats-the-difference-between-override-and-new/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also please review work example with ATS (Azure Table Storage) is <a href=\"https://docs.microsoft.com/en-us/azure/visual-studio/vs-storage-aspnet5-getting-started-tables\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 161, "user_id": 10055317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0r4irKby24U/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVEaVB0q-Mpl5pTthTB96FFn4UEg/mo/photo.jpg?sz=128", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/10055317/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 52193313, "answer_count": 1, "score": 1, "last_activity_date": 1536181191, "creation_date": 1536180239, "question_id": 52193134, "link": "https://stackoverflow.com/questions/52193134/how-to-query-using-tablequery-via-ienumerable", "title": "How to query using TableQuery via IEnumerable?", "body": "<p>I am exposing my Table via the following method:</p>\n\n<pre><code>public static class TableCacheService\n{\n    public static IEnumerable&lt;Myentity&gt; Read()\n    {\n        var acc = new CloudStorageAccount(\n                     new StorageCredentials(\"account\", \"mypass\"), false);\n        var tableClient = acc.CreateCloudTableClient();\n        var table = tableClient.GetTableReference(\"Myentity\");\n        return table.ExecuteQuery(new TableQuery&lt;Myentity&gt;());\n    }\n}\n</code></pre>\n\n<p>Here's a usage example:</p>\n\n<pre><code>    var nodeHasValue = TableCacheService.Read()\n                                        .Where(x =&gt; note.ToLower().Contains(x.RowKey.ToLower()))\n                                        .Any();\n</code></pre>\n\n<p>But supposedly <code>x.RowKey</code> is null!</p>\n\n<p><a href=\"https://i.stack.imgur.com/mI3hn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mI3hn.png\" alt=\"enter image description here\"></a></p>\n\n<p>It looks like there are 2 members both called <code>RowKey</code>. One of them is a <code>TableEntity</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5csjN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5csjN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>How do I access the RowKey that is non-null? Am I incorrectly querying the table?</strong></p>\n"}, {"tags": ["c#", "button", "dynamic", "onclick"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6163708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521756628464fcf8dfe7e84eaca2a0e1?s=128&d=identicon&r=PG&f=1", "display_name": "LMick", "link": "https://stackoverflow.com/users/6163708/lmick"}, "edited": false, "score": 0, "creation_date": 1536334514, "post_id": 52195407, "comment_id": 91400751, "body": "Thank you.  Sorry I didn&#39;t explain this more fully - the first part of my code is in a procedure that creates and fills a dynamic table.  The button is created during that procedure to occur only once - on the first row.  Can I create a button in the Page_Init and then reference it in a dynamically created table?"}, {"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "reply_to_user": {"reputation": 1, "user_id": 6163708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521756628464fcf8dfe7e84eaca2a0e1?s=128&d=identicon&r=PG&f=1", "display_name": "LMick", "link": "https://stackoverflow.com/users/6163708/lmick"}, "edited": false, "score": 0, "creation_date": 1536352841, "post_id": 52195407, "comment_id": 91408305, "body": "Yes, that should be possible. You should create on each Page_Init, both when you generate the html and when you want the clickhandler to execute (just set it&#39;s &#39;Vivible&#39; property to false on postback)."}], "tags": [], "owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "is_accepted": false, "score": 0, "last_activity_date": 1536198617, "creation_date": 1536198617, "answer_id": 52195407, "question_id": 52192926, "link": "https://stackoverflow.com/questions/52192926/adding-click-event-dynamically-is-not-working/52195407#52195407", "title": "Adding click event dynamically is not working", "body": "<p>I assume the first part of your code is from <code>Page_Load</code>. You need to move it to <code>Page_Init</code>. That way the dynamically created controls are ready to fire the events when the page has loaded.</p>\n"}], "owner": {"reputation": 1, "user_id": 6163708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521756628464fcf8dfe7e84eaca2a0e1?s=128&d=identicon&r=PG&f=1", "display_name": "LMick", "link": "https://stackoverflow.com/users/6163708/lmick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536198617, "creation_date": 1536179144, "last_edit_date": 1536197545, "question_id": 52192926, "link": "https://stackoverflow.com/questions/52192926/adding-click-event-dynamically-is-not-working", "title": "Adding click event dynamically is not working", "body": "<p>first time questioner here.</p>\n\n<p>I have CSharp code in VS2017 as below - it is placed in only the first row of a dynamic table:</p>\n\n<pre><code> if(intN == 1)\n {\n    tc = new TableCell();\n    tc.CssClass = \"FNT_14_Bold\";\n    btn = new Button();\n    btn.ID = \"btnSubmitCurrentUserChanges\";\n    btn.Height = 25;\n    btn.Width = 261;\n    btn.Text = \"Submit Current Users Changes\";\n    btn.BackColor = ColorTranslator.FromHtml(\"#006F6F\");\n    btn.ForeColor = Color.White;\n    btn.Click += new EventHandler(btnUsers_Click);\n    tc.Controls.Add(btn);\n}\nelse\n{\n    tc = new TableCell();\n    tc.VerticalAlign = VerticalAlign.Top;\n    tc.HorizontalAlign = HorizontalAlign.Center;\n    tc.CssClass = \"FNT_14\";\n}\n\nprotected void btnUsers_Click(object sender, EventArgs e)\n{\n    SubmitData();\n}\n</code></pre>\n\n<p>When I click on the button, it fires, but only as far as the Page_Load.  Any suggestions on getting it to the actual event?</p>\n\n<p>Thanks in advance... StackOverflow has been a great help.</p>\n"}, {"tags": ["c#", ".net", "datatable", "primary-key", "unique-constraint"], "comments": [{"owner": {"reputation": 71, "user_id": 5004267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZfFhVxcehCs/AAAAAAAAAAI/AAAAAAAAADY/hRRhafw9qvY/photo.jpg?sz=128", "display_name": "Francois Nguyen", "link": "https://stackoverflow.com/users/5004267/francois-nguyen"}, "edited": false, "score": 0, "creation_date": 1536194392, "post_id": 52192852, "comment_id": 91339574, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.globalization.compareinfo?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> reads  Ignorable characters include: A string with code points that have no linguistic significance. For example, a soft hyphen (U+00AD) is always ignored in a culture-sensitive string comparison."}, {"owner": {"reputation": 7098, "user_id": 169635, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/152aa709c559fc190524753c556b39e7?s=128&d=identicon&r=PG", "display_name": "Sergey Litvinov", "link": "https://stackoverflow.com/users/169635/sergey-litvinov"}, "edited": false, "score": 0, "creation_date": 1536233209, "post_id": 52192852, "comment_id": 91354952, "body": "In your second data row example you are using <code>row[metric]</code> twice. I guess it should be <code>row[key]</code>. But yeah, it doesn&#39;t resolve the issue"}, {"owner": {"reputation": 71, "user_id": 5004267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZfFhVxcehCs/AAAAAAAAAAI/AAAAAAAAADY/hRRhafw9qvY/photo.jpg?sz=128", "display_name": "Francois Nguyen", "link": "https://stackoverflow.com/users/5004267/francois-nguyen"}, "reply_to_user": {"reputation": 7098, "user_id": 169635, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/152aa709c559fc190524753c556b39e7?s=128&d=identicon&r=PG", "display_name": "Sergey Litvinov", "link": "https://stackoverflow.com/users/169635/sergey-litvinov"}, "edited": false, "score": 0, "creation_date": 1536337496, "post_id": 52192852, "comment_id": 91402217, "body": "Thanks Sergey for spotting the typo. However as you said it does not resolve the issue."}], "owner": {"reputation": 71, "user_id": 5004267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZfFhVxcehCs/AAAAAAAAAAI/AAAAAAAAADY/hRRhafw9qvY/photo.jpg?sz=128", "display_name": "Francois Nguyen", "link": "https://stackoverflow.com/users/5004267/francois-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536337531, "creation_date": 1536178771, "last_edit_date": 1536337531, "question_id": 52192852, "link": "https://stackoverflow.com/questions/52192852/datatable-constraint-exception-on-different-values-in-primary-column", "title": "DataTable Constraint exception on different values in primary column", "body": "<p>Setting the primary key means the column values must be unique.</p>\n\n<p>It seems DataTable does not enforce the key to be <em>different</em> but that they <em>compare as non-zero</em> using the DataTable.Locale comparison rules.</p>\n\n<p>The DataTable.Locale.CompareInfo.Compare may return 0 even if the strings are different as they would sort the same.</p>\n\n<p>Is there a way to change the behavior? I could not find how to replace the CompareInfo.</p>\n\n<p>The example data I have include some characters that are in category <em>UnicodeCategory.OtherNotAssigned</em>.</p>\n\n<pre><code>using System;\nusing System.Data;\n\nnamespace datatabletest\n{\n    class Program\n    {\n        static void Main( string[] args )\n        {\n            string key = \"key\";\n            string metric = \"metric\";\n\n            string key1 = \"\\u0a0dtest\\u0a0d;\";\n            string key2 = \"test\\u0a0d;\";\n\n            DataTable table = new DataTable(\"table\");\n\n            table.Columns.Add( key);\n            table.Columns.Add( metric );\n            table.PrimaryKey = new[] { table.Columns[key] };\n\n            table.BeginLoadData();\n\n            {\n                DataRow row = table.NewRow();\n                row[key] = key1;\n                row[metric] = \"500\";\n                table.Rows.Add( row );\n            }\n\n            {\n                DataRow row = table.NewRow();\n                row[key] = key2;\n                row[metric] = \"500\";\n                table.Rows.Add( row );\n            }\n\n            // strings are different\n            Console.WriteLine( key1 ==  key2 );\n\n            //but they compare method still returns 0\n            Console.WriteLine( table.Locale.CompareInfo.Compare( key1, key2 ) );\n\n            // throws a ConstraintException\n            table.EndLoadData();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "list", "linq"], "comments": [{"owner": {"reputation": 156, "user_id": 6066527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlEGk.jpg?s=128&g=1", "display_name": "Prem", "link": "https://stackoverflow.com/users/6066527/prem"}, "edited": false, "score": 0, "creation_date": 1536217333, "post_id": 52192766, "comment_id": 91345623, "body": "Please elaborate more and provide code to understand more."}, {"owner": {"reputation": 503, "user_id": 10245045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef6199c23c195dfbfcb924fcf165abb?s=128&d=identicon&r=PG&f=1", "display_name": "ManishM", "link": "https://stackoverflow.com/users/10245045/manishm"}, "edited": false, "score": 0, "creation_date": 1536218588, "post_id": 52192766, "comment_id": 91346263, "body": "Please show the class structure. Description is very vague"}, {"owner": {"reputation": 59, "user_id": 6839548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/207ec4f26ba5b6d2772866e3414bbd49?s=128&d=identicon&r=PG&f=1", "display_name": "U rao", "link": "https://stackoverflow.com/users/6839548/u-rao"}, "reply_to_user": {"reputation": 503, "user_id": 10245045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef6199c23c195dfbfcb924fcf165abb?s=128&d=identicon&r=PG&f=1", "display_name": "ManishM", "link": "https://stackoverflow.com/users/10245045/manishm"}, "edited": false, "score": 0, "creation_date": 1536244585, "post_id": 52192766, "comment_id": 91362211, "body": "@ManishM  Updated the question."}, {"owner": {"reputation": 7308, "user_id": 4377430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVk7a.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4377430/adrian"}, "edited": false, "score": 1, "creation_date": 1536247197, "post_id": 52192766, "comment_id": 91363947, "body": "What is <code>Prof</code>? Where is this called in relation to your classes? Please create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 59, "user_id": 6839548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/207ec4f26ba5b6d2772866e3414bbd49?s=128&d=identicon&r=PG&f=1", "display_name": "U rao", "link": "https://stackoverflow.com/users/6839548/u-rao"}, "reply_to_user": {"reputation": 7308, "user_id": 4377430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVk7a.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4377430/adrian"}, "edited": false, "score": 0, "creation_date": 1536247361, "post_id": 52192766, "comment_id": 91364054, "body": "@Adriani6 it is method which will return the AR class object, input for the method is id, i able to get the output from this method, the one problem i need to assign the data to other list ot from this output data.."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6839548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/207ec4f26ba5b6d2772866e3414bbd49?s=128&d=identicon&r=PG&f=1", "display_name": "U rao", "link": "https://stackoverflow.com/users/6839548/u-rao"}, "edited": false, "score": 0, "creation_date": 1536248781, "post_id": 52207688, "comment_id": 91364965, "body": "Yes.. Thanks a lot :)"}, {"owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "reply_to_user": {"reputation": 59, "user_id": 6839548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/207ec4f26ba5b6d2772866e3414bbd49?s=128&d=identicon&r=PG&f=1", "display_name": "U rao", "link": "https://stackoverflow.com/users/6839548/u-rao"}, "edited": false, "score": 0, "creation_date": 1536282864, "post_id": 52207688, "comment_id": 91377402, "body": "Happy to help, @Urao."}], "tags": [], "owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "is_accepted": true, "score": 0, "last_activity_date": 1536248201, "creation_date": 1536248201, "answer_id": 52207688, "question_id": 52192766, "link": "https://stackoverflow.com/questions/52192766/how-to-assign-the-variable-values-of-one-to-a-list-to-another-list/52207688#52207688", "title": "how to assign the Variable values of one to a list to another list", "body": "<p>As far as I understood your question, you need to map <code>List&lt;AR&gt;</code> to <code>List&lt;AG&gt;</code>. You can do it with Linq in such manner: </p>\n\n<pre><code>List&lt;AR&gt; SE = Prof(id);\nList&lt;AG&gt; TE = SE.Select(s =&gt;\n    new AG\n    {\n        // set inv property\n        inv = s.inv,\n\n        // dE is an array of ClassD instances, \n        //so to get some single ClassA instance for setting AD property you can do:\n        // AD = s.dE.Single().AD\n        //or\n        // AD = s.dE.FirstOrDefault()?.AD\n    }).ToList();\n</code></pre>\n\n<p>Is that what you meant?</p>\n"}], "owner": {"reputation": 59, "user_id": 6839548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/207ec4f26ba5b6d2772866e3414bbd49?s=128&d=identicon&r=PG&f=1", "display_name": "U rao", "link": "https://stackoverflow.com/users/6839548/u-rao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 52207688, "answer_count": 1, "score": -1, "last_activity_date": 1536248201, "creation_date": 1536178326, "last_edit_date": 1536247067, "question_id": 52192766, "link": "https://stackoverflow.com/questions/52192766/how-to-assign-the-variable-values-of-one-to-a-list-to-another-list", "title": "how to assign the Variable values of one to a list to another list", "body": "<pre><code>Class AR\n{\n\npublic int inv {get;}\n\npublic ClassD[] dE {get; set;}\n\n}\n\nClass ClassD : ST\n\n{\n\n public ClassA AD {get; set;}\n\n // other variables are also defined\n\n}\n\nClass Ag : CT\n\n{\n\npublic int inv {get; set;}\n\npublic ClassA AD {get; set;}\n\n // other variables are also defined\n\n}\n</code></pre>\n\n<p>Above  three classes are pre-defined , Now the code  need to below stuff :</p>\n\n<p><code>var SE = Prof(int id); // This will return the AR Class object in a list</code>,</p>\n\n<p>Now i need to create a new list for Ag Class object and assign the values for it from the list SE. (problem is how i should assign the AD value in AG Class.</p>\n\n<pre><code>// Some thing like this?\n\nvar TE = SE.Add(inv)\n</code></pre>\n"}, {"tags": ["c#", "python", ".net", "text-to-speech"], "comments": [{"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 4, "creation_date": 1536178623, "post_id": 52192753, "comment_id": 91335352, "body": "Look into the Windows 10 Accessibility Features. It already has, built in, many features that can help him out."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 8309428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e087b531f4f703119c5435abbb56c49d?s=128&d=identicon&r=PG&f=1", "display_name": "edm2282", "link": "https://stackoverflow.com/users/8309428/edm2282"}, "is_accepted": false, "score": 0, "last_activity_date": 1536180183, "creation_date": 1536180183, "answer_id": 52193125, "question_id": 52192753, "link": "https://stackoverflow.com/questions/52192753/creating-a-text-to-speech-application-for-any-text-highlighted/52193125#52193125", "title": "creating a text to speech application for any text highlighted", "body": "<p>Most of the major software OS (iOS, Android, Windows, etc.) have built in accessibility features. Check this link out specifically for Windows 10 </p>\n\n<p><a href=\"https://www.microsoft.com/en-us/accessibility/windows?activetab=pivot_1%3aprimaryr2\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/accessibility/windows?activetab=pivot_1%3aprimaryr2</a></p>\n"}], "owner": {"reputation": 5712, "user_id": 2730554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d6682e696c4f9438678b6638f271230a?s=128&d=identicon&r=PG&f=1", "display_name": "mHelpMe", "link": "https://stackoverflow.com/users/2730554/mhelpme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536180183, "creation_date": 1536178272, "question_id": 52192753, "link": "https://stackoverflow.com/questions/52192753/creating-a-text-to-speech-application-for-any-text-highlighted", "title": "creating a text to speech application for any text highlighted", "body": "<p>I apologise for the broad question I am about to ask. However my brother has recently become partially sighted. I want to help him use his laptop again which runs windows 10.</p>\n\n<p>I want to make an application to help him. What I want to create is something where he can highlight some text and right click and have an option \"Text To Speach\". I believe I know how to do this part after by editing the registry.</p>\n\n<p>When he clicks this I want the text to be read aloud to him, ideally with a small floating menu with a pause, rewind &amp; play button.</p>\n\n<p>Any help to get me started would be very much appreciated. I have experience in c# mainly. Although happy using Python, Javascript. Open to all options.</p>\n\n<p>I have been looking at various tts software but they seem a bit different to what I would like.</p>\n"}, {"tags": ["c#", "asynchronous"], "comments": [{"owner": {"reputation": 3960, "user_id": 654614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc0d43eb99234ed9702badb191b7d96?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Boyne", "link": "https://stackoverflow.com/users/654614/frank-boyne"}, "edited": false, "score": 0, "creation_date": 1536178478, "post_id": 52192711, "comment_id": 91335299, "body": "It&#39;s possible answers to <a href=\"https://stackoverflow.com/questions/14455293/how-and-when-to-use-async-and-await\">this existing question</a> may address your issue.  The <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/async\" rel=\"nofollow noreferrer\">Microsoft documentation on asynchronous programming</a> may also help."}, {"owner": {"reputation": 2940, "user_id": 3800096, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dffaee3296e432469a794c508c297abc?s=128&d=identicon&r=PG&f=1", "display_name": "AustinWBryan", "link": "https://stackoverflow.com/users/3800096/austinwbryan"}, "edited": false, "score": 0, "creation_date": 1536181893, "post_id": 52192711, "comment_id": 91336643, "body": "Your <code>Send</code> method is very long and needs to be refactored into smaller methods. By looking at it, it seems you repeat the same code a few times. The repeated parts needs to be their own methods, and you can use parameters to control the differences for the tiny differences between each time you rewrote it."}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1536181658, "last_edit_date": 1536181658, "creation_date": 1536178658, "answer_id": 52192829, "question_id": 52192711, "link": "https://stackoverflow.com/questions/52192711/convert-boolean-method-to-asynchronous-one/52192829#52192829", "title": "Convert boolean method to asynchronous one", "body": "<blockquote>\n  <p>The return type of an async method must be <code>void</code>, <code>Task</code> or <code>Task&lt;T&gt;</code></p>\n</blockquote>\n\n<p>Like the error states you have to change the return type to <code>Task&lt;bool&gt;</code>. You will then have to change the method itself so it awaits a <code>Task</code> or returns a <code>Task</code>.</p>\n\n<pre><code>public async Task&lt;Boolean&gt; SendAsync() { // renamed your method with suffix Async\n\n    // ... code unchanged\n    try {\n        await Connection.SendMailAsync(this._Email);\n    } \n    // ... code unchanged\n}\n</code></pre>\n\n<p>As for your other methods that call this they should also return type <code>Task</code> unless they are event driven like a windows form or wpf click event.</p>\n\n<p>See also <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.mail.smtpclient.sendmailasync?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">SendMailAsync</a></p>\n"}, {"comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1536180176, "post_id": 52192836, "comment_id": 91335976, "body": "&quot;You must return Task&lt;T&gt; if you use async method.&quot; That&#39;s not correct. See Igor&#39;s answer."}], "tags": [], "owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "is_accepted": false, "score": 1, "last_activity_date": 1536179053, "last_edit_date": 1536179053, "creation_date": 1536178692, "answer_id": 52192836, "question_id": 52192711, "link": "https://stackoverflow.com/questions/52192711/convert-boolean-method-to-asynchronous-one/52192836#52192836", "title": "Convert boolean method to asynchronous one", "body": "<p>You must return <code>Task&lt;T&gt;</code> if you use <code>async</code> method.</p>\n\n<p>Correct definition for your method is:</p>\n\n<pre><code>public async Task&lt;Boolean&gt; Send()\n</code></pre>\n\n<p>Also you need to use <code>await</code> keyword inside your method.</p>\n\n<p>You can write Send method using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.mail.smtpclient.sendasync?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Net_Mail_SmtpClient_SendAsync_System_Net_Mail_MailMessage_System_Object_\" rel=\"nofollow noreferrer\">SendMailAsync</a>.</p>\n\n<p>Example is here:</p>\n\n<pre><code>public async Task Send(string to, string subject, string body)\n{\n    var message = new MailMessage\n    {\n        Subject = subject,\n        Body = body\n    };\n    message.To.Add(to);\n\n    using (var smtpClient = new SmtpClient())\n    {\n        await smtpClient.SendMailAsync(message);\n    }\n} \n</code></pre>\n\n<p>More details you can review <a href=\"https://stackoverflow.com/questions/3408397/asynchronously-sending-emails-in-c\">here</a>.</p>\n\n<p>Also please review details about <code>async/await</code> programming <a href=\"https://stackoverflow.com/questions/14455293/how-and-when-to-use-async-and-await\">here</a>.</p>\n"}], "owner": {"reputation": 57, "user_id": 10296797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bf61deb548eea9ac33786709134232?s=128&d=identicon&r=PG&f=1", "display_name": "Pepe", "link": "https://stackoverflow.com/users/10296797/pepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 52192829, "answer_count": 2, "score": 0, "last_activity_date": 1536181776, "creation_date": 1536178096, "last_edit_date": 1536181776, "question_id": 52192711, "link": "https://stackoverflow.com/questions/52192711/convert-boolean-method-to-asynchronous-one", "title": "Convert boolean method to asynchronous one", "body": "<p>I have method that execute Email sender like this:  </p>\n\n<pre><code>public void SendIt() \n{\n    if (_Error &amp;&amp; !_Override) return;\n\n    var html = new StringBuilder();\n    html.Append(HTMLHeader());\n    html.Append(Body);\n    html.Append(HTMLClose());\n\n    IsHTML = true;\n    SendAsync = true;\n    Body = html.ToString();\n    Send();\n}\n</code></pre>\n\n<p>I want to change this method to asynchronous method so I do:</p>\n\n<pre><code>public async void SendIt() \n{\n    await Send();\n}\n</code></pre>\n\n<p>But I get</p>\n\n<blockquote>\n  <p>'bool' does not contain a definition for 'GetAwaiter' and no\n  extension method 'GetAwaiter' accepting a first argument of type\n  'bool' could be found (are you missing a using directive or an\n  assembly reference?)</p>\n</blockquote>\n\n<p>Send method:</p>\n\n<pre><code>public bool Send() \n{\n    var MailFrom = new MailAddress(_From, _From);\n    _Email.From = MailFrom;\n\n    if (_To.IndexOf(';') &gt; -1) \n    {\n        string[] tolist = _To.Split(';');\n        foreach (string toAddress in tolist) \n            _Email.To.Add(new MailAddress(toAddress.Trim()));\n    }\n    else _Email.To.Add(new MailAddress(_To.Trim()));        \n\n    if (_CC != null &amp;&amp; _CC.Length &gt; 5) \n    {\n        if (_CC.IndexOf(';') &gt; -1) \n        {\n            string[] Cclist = _CC.Split(';');\n            foreach (string ccAddress in Cclist) \n                _Email.CC.Add(new MailAddress(ccAddress.Trim()));\n        }\n        else _Email.CC.Add(new MailAddress(_CC.Trim()));\n    }\n\n    if (_BCC != null &amp;&amp; _BCC.Length &gt; 5) \n    {\n        if (_BCC.IndexOf(';') &gt; -1) \n        {\n            string[] Bcclist = _BCC.Split(';');\n            foreach (string bccAddress in Bcclist) \n               _Email.Bcc.Add(new MailAddress(bccAddress.Trim()));\n        }\n        else _Email.Bcc.Add(new MailAddress(_BCC.Trim()));\n    }\n\n    _Email.Subject      = _Subject;\n    _Email.IsBodyHtml   = _isHTML;\n    _Email.Body         = _Body;\n    _Email.BodyEncoding = Encoding.UTF8;\n\n    // Smtp Client\n    var Connection = new SmtpClient(_Server, _Port) \n    {\n        DeliveryMethod = SmtpDeliveryMethod.Network,\n        Timeout = 60000\n    };\n\n    if (_UserName.Length &gt; 1 &amp;&amp; _Password.Length &gt; 1 &amp;&amp; _Domain.Length &gt; 1) \n        Connection.Credentials = new NetworkCredential(_UserName, _Password, _Domain);\n    else if (_UserName.Length &gt; 1 &amp;&amp; _Password.Length &gt; 1) \n        Connection.Credentials = new NetworkCredential(_UserName, _Password);\n\n    bool bFlag = true;\n\n    Connection.EnableSsl = _SSL;\n\n    try \n    {\n        Connection.Send(_Email);\n    } \n    catch (SmtpFailedRecipientsException ex) \n    {\n        var msg = new StringBuilder();\n\n        for (int k = 0; k &lt; ex.InnerExceptions.Length; k++) \n        {\n            var StatusCode = ex.InnerExceptions[k].StatusCode;\n\n            if (StatusCode == SmtpStatusCode.MailboxUnavailable || StatusCode == SmtpStatusCode.MailboxBusy) \n            {\n                ErrMsg = \"Failed to deliver message to \" + ex.FailedRecipient[k].ToString();\n\n                try \n                {\n                    if (_TryAgainOnFailure) \n                    {\n                        System.Threading.Thread.Sleep(_TryAgainDelayTime);\n\n                        // Send the message\n                        string sTemp = \"\";\n                        if (_SendAsync) \n                            Connection.SendAsync(_Email, sTemp);\n                        else Connection.Send(_Email);\n                    }\n                    _ErrMsg = string.Empty;\n                } \n                catch (SmtpException sex) \n                {\n                    _ErrMsg = sex.Message;\n                    _Error = true;\n                }\n            }\n        }\n    } \n    catch (SmtpException sex) \n    {\n        string dat = sex.Data.ToString();\n        _ErrMsg = sex.Message;\n        _Error = true;\n    }\n    return bFlag;\n}\n</code></pre>\n\n<p>How can I convert this boolean method to async method? </p>\n\n<p>I try something like:</p>\n\n<pre><code>public async bool Send() {\n</code></pre>\n\n<p>But I get:</p>\n\n<blockquote>\n  <p>The return type of an async method must be void, Task or Task</p>\n</blockquote>\n\n<p>What should I do to solve this? Regards</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536177562, "post_id": 52192573, "comment_id": 91334898, "body": "Why are you creating an anonymous object to hold the one value that you actually want to group on?"}, {"owner": {"reputation": 1895, "user_id": 3245937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/55470a42794106855603278eeeef09ad?s=128&d=identicon&r=PG", "display_name": "user875234", "link": "https://stackoverflow.com/users/3245937/user875234"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536177588, "post_id": 52192573, "comment_id": 91334911, "body": "Because this is an abstraction of a bigger thing Im trying to do"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536177597, "post_id": 52192573, "comment_id": 91334914, "body": "<code>w =&gt; GenerateGroupByKey()</code> is wrong, if you&#39;re returning a func from a method then it should be just <code>GenerateGroupByKey()</code> without the lambda arrow."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536177703, "post_id": 52192573, "comment_id": 91334967, "body": "@user875234 If you&#39;re actually grouping on multiple values, then you should create an example that does the same.  You also should never use anonymous objects outside of the scope of a single method.  Use a named method if you want to use the object in multiple contexts."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536177744, "post_id": 52192573, "comment_id": 91334990, "body": "@Servy In C# 7.3 we can use named value tuples, which is nice."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536179443, "post_id": 52192573, "comment_id": 91335671, "body": "@Dai You can already do this in C# 7."}], "answers": [{"tags": [], "owner": {"reputation": 1769, "user_id": 7126845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b568c1a0299451c79f9b201c9a2a58?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander I.", "link": "https://stackoverflow.com/users/7126845/alexander-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1536179656, "creation_date": 1536179656, "answer_id": 52193026, "question_id": 52192573, "link": "https://stackoverflow.com/questions/52192573/what-does-a-groupby-keyselector-function-look-like/52193026#52193026", "title": "What does a GroupBy KeySelector function look like?", "body": "<p>Your grouping does not work because inside <code>GenerateGroupByKey()</code> method you create new object.</p>\n\n<p>Objects are equals if they have equal memory references. You can review more details about <code>Equals</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.object.equals?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>For what you create new object like <code>new { widget.foo }</code>?</p>\n\n<p>You can just return string instead of object.</p>\n\n<p>Try to use delegate like it:</p>\n\n<pre><code>static Func&lt;Widget, object&gt; GenerateGroupByKey() \n{\n    Func&lt;Widget, object&gt; s = delegate(Widget widget)\n    {\n        return widget.foo;\n    };\n\n    return s;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 222, "user_id": 5230616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f19e2daf6ff21baf7ea493e58a12abf?s=128&d=identicon&r=PG&f=1", "display_name": "Django", "link": "https://stackoverflow.com/users/5230616/django"}, "is_accepted": true, "score": 2, "last_activity_date": 1536184034, "creation_date": 1536184034, "answer_id": 52193798, "question_id": 52192573, "link": "https://stackoverflow.com/questions/52192573/what-does-a-groupby-keyselector-function-look-like/52193798#52193798", "title": "What does a GroupBy KeySelector function look like?", "body": "<p>You must pass delegate to parameters, so just call the function and return the delegate. </p>\n\n<pre><code>var gb = widgets.GroupBy(\n    GenerateGroupByKey(),\n    w =&gt; w,\n    (prop, groupedWidgets) =&gt; new\n    {\n        GroupedWidgets = groupedWidgets\n    }\n).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 503, "user_id": 10245045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef6199c23c195dfbfcb924fcf165abb?s=128&d=identicon&r=PG&f=1", "display_name": "ManishM", "link": "https://stackoverflow.com/users/10245045/manishm"}, "is_accepted": false, "score": 0, "last_activity_date": 1536219473, "creation_date": 1536219473, "answer_id": 52198847, "question_id": 52192573, "link": "https://stackoverflow.com/questions/52192573/what-does-a-groupby-keyselector-function-look-like/52198847#52198847", "title": "What does a GroupBy KeySelector function look like?", "body": "<p>Group by you using have parameters like below</p>\n\n<pre><code>Func&lt;TSource, TKey&gt; keySelector,\nFunc&lt;TSource, TElement&gt; elementSelector,\nFunc&lt;TKey, IEnumerable&lt;TElement&gt;, TResult&gt; resultSelector\n</code></pre>\n\n<p>when you are writing w => GenerateGroupByKey()\nyou are creating a new FUNC with input parameter as GenerateGroupByKey()</p>\n\n<p>But GenerateGroupByKey() itself is a FUNC</p>\n\n<pre><code>static Func&lt;Widget, object&gt; GenerateGroupByKey() \n{\n    Func&lt;Widget, object&gt; s = delegate(Widget widget)\n    {\n        return new { widget.foo };\n    };\n\n    return s;\n}\n</code></pre>\n\n<p>And you are not invoking that FUNC</p>\n\n<p>Solution:\nDo not create another FUNC. Pass GenerateGroupByKey() directly :)</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var widgets = new List&lt;Widget&gt;()\n    {\n        new Widget() { foo = \"red\"  , bar = 1.0, fee = true },\n        new Widget() { foo = \"green\", bar = 2.0, fee = true },\n        new Widget() { foo = \"green\", bar = 2.0, fee = false },\n        new Widget() { foo = \"green\", bar = 3.0, fee = false },\n        new Widget() { foo = \"blue\" , bar = 4.0, fee = true }\n    };\n\n    var gb = widgets.GroupBy(\n        GenerateGroupByKey(), // Your FUNC method\n        w =&gt; w,\n        (prop, groupedWidgets) =&gt; new\n        {\n            GroupedWidgets = groupedWidgets\n        }\n    ).ToList();\n}\n</code></pre>\n"}], "owner": {"reputation": 1895, "user_id": 3245937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/55470a42794106855603278eeeef09ad?s=128&d=identicon&r=PG", "display_name": "user875234", "link": "https://stackoverflow.com/users/3245937/user875234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 52193798, "answer_count": 3, "score": 1, "last_activity_date": 1536219473, "creation_date": 1536177395, "question_id": 52192573, "link": "https://stackoverflow.com/questions/52192573/what-does-a-groupby-keyselector-function-look-like", "title": "What does a GroupBy KeySelector function look like?", "body": "<p>I would like to break the KeySelector function of <code>GroupBy</code> into its own method. The KeySelector code isn't right. One major problem is <code>Widget.foo</code> isn't matching on \"Green\" but I think it should be.</p>\n\n<p><strong>Widget.cs</strong></p>\n\n<pre><code>public class Widget\n{\n    public string foo { get; set; }\n    public double bar { get; set; }\n    public bool fee { get; set; }\n}\n</code></pre>\n\n<p><strong>Program.cs</strong></p>\n\n<pre><code>static void Main(string[] args)\n{\n    var widgets = new List&lt;Widget&gt;()\n    {\n        new Widget() { foo = \"red\"  , bar = 1.0, fee = true },\n        new Widget() { foo = \"green\", bar = 2.0, fee = true },\n        new Widget() { foo = \"green\", bar = 2.0, fee = false },\n        new Widget() { foo = \"green\", bar = 3.0, fee = false },\n        new Widget() { foo = \"blue\" , bar = 4.0, fee = true }\n    };\n\n    var gb = widgets.GroupBy(\n        w =&gt; GenerateGroupByKey(),\n        w =&gt; w,\n        (prop, groupedWidgets) =&gt; new\n        {\n            GroupedWidgets = groupedWidgets\n        }\n    ).ToList();\n}\n</code></pre>\n\n<p><strong>KeySelector</strong></p>\n\n<pre><code>static Func&lt;Widget, object&gt; GenerateGroupByKey() \n{\n    Func&lt;Widget, object&gt; s = delegate(Widget widget)\n    {\n        return new { widget.foo };\n    };\n\n    return s;\n}\n</code></pre>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1536177198, "post_id": 52192489, "comment_id": 91334756, "body": "Can you give a sample of the problematic XML?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536177206, "post_id": 52192489, "comment_id": 91334759, "body": "Can you give an example of where these ampersands are located? Inside the tags, or in the value elements?"}, {"owner": {"reputation": 53037, "user_id": 604015, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/hCvRD.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/604015/marco"}, "edited": false, "score": 0, "creation_date": 1536177224, "post_id": 52192489, "comment_id": 91334765, "body": "This is the reported problem: <code>&lt;title&gt;Y Combinator Q&amp;A at Tovala&lt;&#47;title&gt;</code>"}, {"owner": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 3, "creation_date": 1536177347, "post_id": 52192489, "comment_id": 91334814, "body": "Load the file into a string, clean string, load xml string <a href=\"https://stackoverflow.com/questions/4929653/xmldocument-load-from-string\" title=\"xmldocument load from string\">stackoverflow.com/questions/4929653/&hellip;</a>"}, {"owner": {"reputation": 1107, "user_id": 2325351, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lU4vm.jpg?s=128&g=1", "display_name": "Paul T. Rykiel", "link": "https://stackoverflow.com/users/2325351/paul-t-rykiel"}, "edited": false, "score": 0, "creation_date": 1536178080, "post_id": 52192489, "comment_id": 91335136, "body": "I feel like I could scrub the XML if I can somehow get the XML into a string, but I cam not certain how to load the XML into a string. Any Ideas?"}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 6051318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gK69h.png?s=128&g=1", "display_name": "egray", "link": "https://stackoverflow.com/users/6051318/egray"}, "is_accepted": false, "score": 1, "last_activity_date": 1536177518, "creation_date": 1536177518, "answer_id": 52192595, "question_id": 52192489, "link": "https://stackoverflow.com/questions/52192489/is-there-anyway-to-remove-ampersand-prior-to-xmldocument-load/52192595#52192595", "title": "Is There anyway to remove Ampersand prior to XmlDocument Load?", "body": "<p>I use System.Security.SecurityElement.Escape() to take care of \"XML encoding\" requirements.  It works essentially the same as the System.Web.HttpUtility.HtmlEncode Encode/decode</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.securityelement.escape\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.security.securityelement.escape</a></p>\n"}, {"comments": [{"owner": {"reputation": 1107, "user_id": 2325351, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lU4vm.jpg?s=128&g=1", "display_name": "Paul T. Rykiel", "link": "https://stackoverflow.com/users/2325351/paul-t-rykiel"}, "edited": false, "score": 0, "creation_date": 1536178470, "post_id": 52192596, "comment_id": 91335296, "body": "Thank you so much, i am already working with the provider to fix the issue."}, {"owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "reply_to_user": {"reputation": 1107, "user_id": 2325351, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lU4vm.jpg?s=128&g=1", "display_name": "Paul T. Rykiel", "link": "https://stackoverflow.com/users/2325351/paul-t-rykiel"}, "edited": false, "score": 1, "creation_date": 1536178816, "post_id": 52192596, "comment_id": 91335437, "body": "That&#39;s even better since it&#39;s broken for everybody, not just for you. They really shouldn&#39;t be sending out invalid XML."}], "tags": [], "owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "is_accepted": true, "score": 2, "last_activity_date": 1536177820, "last_edit_date": 1536177820, "creation_date": 1536177519, "answer_id": 52192596, "question_id": 52192489, "link": "https://stackoverflow.com/questions/52192489/is-there-anyway-to-remove-ampersand-prior-to-xmldocument-load/52192596#52192596", "title": "Is There anyway to remove Ampersand prior to XmlDocument Load?", "body": "<p>You can't fix that with an XML parser because it's invalid XML. &amp; isn't allowed without being escaped.</p>\n\n<p>You can however read in the bad XML as a string, do a string replace of <code>&amp;</code> for <code>&amp;amp;</code>, then process the string with your normal XML parser.</p>\n\n<p>You can also bracket it in CDATA and get on with your life 8-)</p>\n\n<p></p>\n\n<p>PS. If you go with the first method, be sure to check for and handle the other \"bad\" characters like <code>&lt;&gt;\"'</code> (less than, greater than, double quote, single quote)</p>\n"}], "owner": {"reputation": 1107, "user_id": 2325351, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lU4vm.jpg?s=128&g=1", "display_name": "Paul T. Rykiel", "link": "https://stackoverflow.com/users/2325351/paul-t-rykiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "closed_date": 1536177917, "accepted_answer_id": 52192596, "answer_count": 2, "score": 1, "last_activity_date": 1536177820, "creation_date": 1536177037, "question_id": 52192489, "link": "https://stackoverflow.com/questions/52192489/is-there-anyway-to-remove-ampersand-prior-to-xmldocument-load", "closed_reason": "Duplicate", "title": "Is There anyway to remove Ampersand prior to XmlDocument Load?", "body": "<p>Here is my Code? </p>\n\n<pre><code>  XmlDocument rssXmlDoc = new XmlDocument();\n\n           // Load the RSS file from the RSS URL\n           rssXmlDoc.Load(\"https://polsky.uchicago.edu/events/feed/\");\n\n\n                var nsmgr = new XmlNamespaceManager(rssXmlDoc.NameTable);\n                nsmgr.AddNamespace(\"event\", \"http://www.w3.org/1999/XSL;Transform\");\n\n            // Parse the Items in the RSS file\n            XmlNodeList rssNodes = rssXmlDoc.SelectNodes(\"rss/channel/item\", nsmgr);\n</code></pre>\n\n<p>I know that the XML has some elements that contain \"&amp;\", and I also know that it is really not up to me to fix this bad RSS feed; however, I am not certain if they will comply. Is there anything I can do?</p>\n\n<p>The following exception is thrown:</p>\n\n<p>An error occurred while parsing EntityName. Line 138, position 26.</p>\n"}, {"tags": ["c#", "user-interface", "unity3d", "canvas"], "comments": [{"owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1536177021, "post_id": 52192397, "comment_id": 91334676, "body": "When you look in the scene view, you can see the canvas is a large rectangle, so the positions you get are in world position based on that rectangle. It does not necessarily make sense to use the world position (sometimes though), usually, you use a mix of anchor position and sizeDelta position. You could tell more about what you want to achieve so it is easier to understand."}, {"owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "reply_to_user": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1536177673, "post_id": 52192397, "comment_id": 91334958, "body": "@Everts i am converting mouse position to world position with Camera.main.ScreenToWorld and i equate GameObject&#39;s position to that position. But it is not working with UI elements"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536177880, "post_id": 52192397, "comment_id": 91335045, "body": "Where in world coordinates do you have your UI canvas? Is it placed somewhere odd or do you have it around 0,0,0?"}, {"owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536178199, "post_id": 52192397, "comment_id": 91335183, "body": "@RonBeyer My canvas&#39;s world position is (484.5, 284.0, 0.0). I guess this is default position because i can not change it"}, {"owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 0, "creation_date": 1536178685, "post_id": 52192397, "comment_id": 91335375, "body": "Is your canvas render mode in screen space overlay or world space?  If you want to create something stationary on the screen, such as a HUD, you would use screen space overlay.  If you want to display something in the world itself, such as a floating health bar over an enemy, you would use world space.  Also, it might help if you were to provide a screenshot of your hierarchy and inspector (with the canvas selected), as well as some context regarding what the player will be doing in this scenario."}, {"owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "reply_to_user": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 0, "creation_date": 1536179033, "post_id": 52192397, "comment_id": 91335510, "body": "@AlexMyers i added inspectors images"}, {"owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "reply_to_user": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 0, "creation_date": 1536179291, "post_id": 52192397, "comment_id": 91335618, "body": "@AlexMyers i understand but if i convert to world space everything will collapse. How can i get my target on screen space?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1536192315, "post_id": 52192397, "comment_id": 91339193, "body": "Can you show the scene hierarchy? Is the button a direct child of the canvas?"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 10299415, "user_type": "registered", "profile_image": "https://graph.facebook.com/1950478178343475/picture?type=large", "display_name": "Hossein Azad", "link": "https://stackoverflow.com/users/10299415/hossein-azad"}, "is_accepted": false, "score": 1, "last_activity_date": 1536420034, "creation_date": 1536420034, "answer_id": 52236661, "question_id": 52192397, "link": "https://stackoverflow.com/questions/52192397/unity-ui-text-position/52236661#52236661", "title": "Unity UI Text position", "body": "<p>you can change RENDER MODE to space world - camera.\n<a href=\"https://i.stack.imgur.com/SxSrq.png\" rel=\"nofollow noreferrer\">image1</a></p>\n\n<p>after this set main camera to RENDER CAMERA.\n<a href=\"https://i.stack.imgur.com/lZsYv.png\" rel=\"nofollow noreferrer\">image2</a></p>\n\n<p>this mode perfect for 2d game .</p>\n"}], "owner": {"reputation": 31, "user_id": 10276381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJRuSV2JPsk/AAAAAAAAAAI/AAAAAAAAAiM/pjmEz8h-t9s/photo.jpg?sz=128", "display_name": "Elnur Ceferli", "link": "https://stackoverflow.com/users/10276381/elnur-ceferli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1536420034, "creation_date": 1536176624, "last_edit_date": 1536178946, "question_id": 52192397, "link": "https://stackoverflow.com/questions/52192397/unity-ui-text-position", "title": "Unity UI Text position", "body": "<p>I'm trying to learn Unity UI element position. But when i am trying to get UI text position with this code <code>Debug.Log (UI_Text.transform.position);</code> , i am getting high point like this <strong>(6846.1, 29931.3, 10.0)</strong>. In my code i attached <strong>UI text</strong> as Gameobject with <em>UI_Text</em> name. Also i can get UI element's screen and world point with this two code: </p>\n\n<pre><code>Debug.Log (Camera.main.WorldToScreen(UI_Text.transform.position));\nDebug.Log (Camera.main.ScreenToWorld(UI_Text.transform.position));\n</code></pre>\n\n<p>This 2 codes working right, gives scene and world points and i understand these.\nBut i do not know how to work this code <code>Debug.Log (UI_Text.transform.position);</code> and what is this position <strong>(6846.1, 29931.3, 10.0)</strong>. How can i get this position from camera like this <strong>Camera.main.Something</strong>?\nThis is my <a href=\"https://i.stack.imgur.com/UHLNo.png\" rel=\"nofollow noreferrer\">Canvas inspector</a>\nAnd here is <a href=\"https://i.stack.imgur.com/7Riq7.png\" rel=\"nofollow noreferrer\">UI text inspector</a></p>\n"}, {"tags": ["c#", "wpf", "listview", "templates"], "comments": [{"owner": {"reputation": 2321, "user_id": 3799923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2e3gX.png?s=128&g=1", "display_name": "dhilmathy", "link": "https://stackoverflow.com/users/3799923/dhilmathy"}, "edited": false, "score": 0, "creation_date": 1536181040, "post_id": 52192394, "comment_id": 91336308, "body": "May i ask, why you to find the <code>ScrollContentPresenter</code> from the <code>ListView</code>? Are you doing some operations with that?"}, {"owner": {"reputation": 113, "user_id": 6928428, "user_type": "registered", "profile_image": "https://graph.facebook.com/207114846288235/picture?type=large", "display_name": "Marius DV", "link": "https://stackoverflow.com/users/6928428/marius-dv"}, "reply_to_user": {"reputation": 2321, "user_id": 3799923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2e3gX.png?s=128&g=1", "display_name": "dhilmathy", "link": "https://stackoverflow.com/users/3799923/dhilmathy"}, "edited": false, "score": 0, "creation_date": 1536184969, "post_id": 52192394, "comment_id": 91337643, "body": "I&#39;ve built a system that allows you to select listview items by drawing a selection area with the mouse (like in windows explorer), and I need to have the ScrollContentPresenter every time the template is changed."}], "answers": [{"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1536242149, "creation_date": 1536242149, "answer_id": 52205747, "question_id": 52192394, "link": "https://stackoverflow.com/questions/52192394/c-wpf-scrollcontentpresenter-not-found-inside-listview-after-template-change/52205747#52205747", "title": "C# WPF - ScrollContentPresenter not found inside ListView after template change", "body": "<p>You need to wait until the new view has actually been loaded or force a layout update before you call the <code>FindChild</code> method:</p>\n\n<pre><code>public void ChangeView(int view)\n{\n    listViewModel.View = view;\n    listView.Measure(new Size(listView.ActualWidth, listView.ActualHeight));\n    listView.Arrange(new Rect(0, 0, listView.ActualWidth, listView.ActualHeight));\n    ScrollContentPresenter scrollContent = FindChild&lt;ScrollContentPresenter&gt;(this.listView);\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6928428, "user_type": "registered", "profile_image": "https://graph.facebook.com/207114846288235/picture?type=large", "display_name": "Marius DV", "link": "https://stackoverflow.com/users/6928428/marius-dv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 52205747, "answer_count": 1, "score": 1, "last_activity_date": 1536242149, "creation_date": 1536176611, "last_edit_date": 1536177367, "question_id": 52192394, "link": "https://stackoverflow.com/questions/52192394/c-wpf-scrollcontentpresenter-not-found-inside-listview-after-template-change", "title": "C# WPF - ScrollContentPresenter not found inside ListView after template change", "body": "<p>I have a program in which the listview template must change according to user preferences.</p>\n\n<p>I apologize if there are more pieces of code than necessary but I wanted to be as complete as possible.</p>\n\n<p>I have tried to reduce the code to a minimum, so that it is as clear as possible and is easier to read.</p>\n\n<p><strong>XAML :</strong></p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type ListView}\"&gt;\n        &lt;Style.Triggers&gt;\n\n            &lt;!-- Details View --&gt;\n            &lt;DataTrigger Binding=\"{Binding View}\" Value=\"0\"&gt;\n                &lt;Setter Property=\"Template\"&gt;\n                    &lt;Setter.Value&gt;\n                        &lt;ControlTemplate TargetType=\"{x:Type ListView}\" &gt;\n                            &lt;Border Margin=\"5\" Name=\"Border\" BorderThickness=\"{TemplateBinding BorderThickness}\" BorderBrush=\"{TemplateBinding BorderBrush}\" Background=\"{TemplateBinding Background}\" SnapsToDevicePixels=\"true\" &gt;\n                                &lt;ScrollViewer x:Name=\"scroll\" Padding=\"{TemplateBinding Padding}\" Style=\"{DynamicResource {x:Static GridView.GridViewScrollViewerStyleKey}}\"&gt;\n                                    &lt;VirtualizingStackPanel IsItemsHost=\"True\" x:Name=\"ItemsHost\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\" /&gt;\n                                &lt;/ScrollViewer&gt;\n                            &lt;/Border&gt;\n                        &lt;/ControlTemplate&gt;\n                    &lt;/Setter.Value&gt;\n                &lt;/Setter&gt;\n                &lt;Setter Property=\"View\"&gt;\n                    &lt;Setter.Value&gt;\n                        &lt;GridView&gt;\n                            &lt;GridViewColumn Header=\"Name\"&gt;\n                                &lt;GridViewColumn.CellTemplate&gt;\n                                    &lt;DataTemplate&gt;\n                                        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                            &lt;Image Height=\"20\" Width=\"20\" Stretch=\"Uniform\" Source=\"{Binding Image}\" /&gt;\n                                            &lt;StackPanel Orientation=\"Horizontal\" VerticalAlignment=\"Center\"&gt;\n                                                &lt;TextBlock Margin=\"2,0,6,0\" Text=\"{Binding First}\" /&gt;\n                                                &lt;TextBlock Text=\"{Binding Last}\" /&gt;\n                                            &lt;/StackPanel&gt;\n                                        &lt;/StackPanel&gt;\n                                    &lt;/DataTemplate&gt;\n                                &lt;/GridViewColumn.CellTemplate&gt;\n                            &lt;/GridViewColumn&gt;\n                        &lt;/GridView&gt;\n                    &lt;/Setter.Value&gt;\n                &lt;/Setter&gt;\n            &lt;/DataTrigger&gt;\n\n            &lt;!-- Tiles View --&gt;\n            &lt;DataTrigger Binding=\"{Binding View}\" Value=\"1\"&gt;\n                &lt;Setter Property=\"Template\"&gt;\n                    &lt;Setter.Value&gt;\n                        &lt;ControlTemplate TargetType=\"{x:Type ListView}\"&gt;\n                            &lt;Border Name=\"Border\" BorderThickness=\"{TemplateBinding BorderThickness}\" BorderBrush=\"{TemplateBinding BorderBrush}\" Background=\"{TemplateBinding Background}\" SnapsToDevicePixels=\"true\"&gt;\n                                &lt;ScrollViewer x:Name=\"scroll\" HorizontalScrollBarVisibility=\"Disabled\" VerticalScrollBarVisibility=\"Auto\" Padding=\"{TemplateBinding Padding}\"&gt;\n                                    &lt;WrapPanel IsItemsHost=\"True\" x:Name=\"ItemsHost\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\"/&gt;\n                                &lt;/ScrollViewer&gt;\n                            &lt;/Border&gt;\n                        &lt;/ControlTemplate&gt;\n                    &lt;/Setter.Value&gt;\n                &lt;/Setter&gt;\n                &lt;Setter Property=\"ItemTemplate\" &gt;\n                    &lt;Setter.Value&gt;\n                        &lt;DataTemplate DataType=\"{x:Type src:ItemModel}\"&gt;\n                            &lt;Grid Width=\"100\"&gt;\n                                &lt;Grid.RowDefinitions&gt;\n                                    &lt;RowDefinition Height=\"80\" /&gt;\n                                    &lt;RowDefinition Height=\"Auto\"/&gt;\n                                &lt;/Grid.RowDefinitions&gt;\n                                &lt;Image Grid.Row=\"0\" Stretch=\"Uniform\" Source=\"{Binding Image}\" /&gt;\n                                &lt;TextBox HorizontalAlignment=\"Center\" VerticalAlignment=\"Top\" Grid.Row=\"1\" Text=\"{Binding First}\" TextWrapping=\"Wrap\" Height=\"Auto\" MaxLines=\"10\"/&gt;\n                            &lt;/Grid&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/Setter.Value&gt;\n                &lt;/Setter&gt;\n            &lt;/DataTrigger&gt;\n        &lt;/Style.Triggers&gt;\n    &lt;/Style&gt;\n</code></pre>\n\n<p><strong>ListViewModel :</strong></p>\n\n<pre><code>public class ListViewModel : INotifyPropertyChanged\n{\n    private int _view = 0;\n    public int View\n    {\n        get { return _view; }\n        set\n        {\n            _view = value;\n            RaisePropertyChanged(\"View\");\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    protected void RaisePropertyChanged(string name)\n    {\n        if (PropertyChanged != null)\n            PropertyChanged(this, new PropertyChangedEventArgs(name));\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>MainWindow :</strong></p>\n\n<pre><code>private ListView listView;\nprivate ListViewModel listViewModel;\n\npublic MainWindow()\n{\n    InitializeComponent();\n\n    listView = mylistview; //defined in xaml\n    listViewModel = new ListViewModel();\n    this.DataContext = listViewModel;\n}\n\npublic void ChangeView(int view)\n{\n    listViewModel.View = view;\n    ScrollContentPresenter scrollContent = FindChild&lt;ScrollContentPresenter&gt;(this.listView);\n    //Error : ScrollContentPresenter not found.\n    //It needs a further search a few seconds later, to be found.\n}\n\nprivate static T FindChild&lt;T&gt;(DependencyObject reference) where T : class\n{\n     var queue = new Queue&lt;DependencyObject&gt;();\n     queue.Enqueue(reference);\n     while (queue.Count &gt; 0)\n     {\n         DependencyObject child = queue.Dequeue();\n         T obj = child as T;\n         if (obj != null)\n         {\n             return obj;\n         }\n\n         for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(child); i++)\n         {\n             queue.Enqueue(VisualTreeHelper.GetChild(child, i));\n         }\n     }\n\n     return null;\n}\n</code></pre>\n\n<p>Everything works very well, the problem comes when I need to change the listview template [example : ChangeView(0); ].</p>\n\n<p>After changing the template, the ScrollContentPresenter <strong>is no longer found</strong>.\nThe only way to find it is to wait and try again a few seconds later.</p>\n\n<p>Can someone explain to me why, and if there is a way to solve this problem ?</p>\n\n<hr>\n\n<p>I tried calling the ScrollContentPresenter search in OnApplyTemplate() event with a custom ListView control, but the problem persists.</p>\n\n<p>example:</p>\n\n<pre><code>public override void OnApplyTemplate()\n{\n    base.OnApplyTemplate();\n    ScrollContentPresenter scrollContent = FindChild&lt;ScrollContentPresenter&gt;(this.listView);\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 3563, "user_id": 1537726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4cf1fb04002e4e6438f3347a86db9ef3?s=128&d=identicon&r=PG&f=1", "display_name": "csharpwinphonexaml", "link": "https://stackoverflow.com/users/1537726/csharpwinphonexaml"}, "edited": false, "score": 0, "creation_date": 1536177014, "post_id": 52192368, "comment_id": 91334669, "body": "Why do you need to overlay it? I ask to better understand what is better for your needs."}, {"owner": {"reputation": 125, "user_id": 8831410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a11ab4fba30d36662baff493258f5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Will E.", "link": "https://stackoverflow.com/users/8831410/will-e"}, "reply_to_user": {"reputation": 3563, "user_id": 1537726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4cf1fb04002e4e6438f3347a86db9ef3?s=128&d=identicon&r=PG&f=1", "display_name": "csharpwinphonexaml", "link": "https://stackoverflow.com/users/1537726/csharpwinphonexaml"}, "edited": false, "score": 0, "creation_date": 1536183845, "post_id": 52192368, "comment_id": 91337297, "body": "@csharpwinphonexaml - I want to overlay it because it will only be open temporarily and do not want it causing other items on the screen to resize unnecessarily.  If the user clicks anywhere else when it&#39;s open it will just close/hide automatically."}], "answers": [{"tags": [], "owner": {"reputation": 799, "user_id": 8890256, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/62b21a4f88cd467630b4f224cbfce13a?s=128&d=identicon&r=PG&f=1", "display_name": "RezaNoei", "link": "https://stackoverflow.com/users/8890256/rezanoei"}, "is_accepted": false, "score": 0, "last_activity_date": 1536183065, "creation_date": 1536183065, "answer_id": 52193646, "question_id": 52192368, "link": "https://stackoverflow.com/questions/52192368/wpf-sub-menu-overlay-rather-than-expand/52193646#52193646", "title": "WPF sub-menu overlay rather than expand", "body": "<p>It took me about three day of working to get what i wanted to design.\nPopUps are sometime mysterious but they are able to do what do you want.</p>\n\n<p>I think their Key Properties are Placement, HorizontalOffset and VerticalOffset.\nBy setting them in the way you wanted to show, you will see their flexibility.</p>\n\n<p>I have designed my own using ControlTemplates: </p>\n\n<pre><code> &lt;SolidColorBrush x:Key=\"MenuBackground\" Color=\"#1A1A1A\" /&gt;\n\n &lt;!-- Menu: MainMenu Style--&gt;\n &lt;Style x:Key=\"{x:Type Menu}\" TargetType=\"Menu\"&gt;\n     &lt;Setter Property=\"FontFamily\" Value=\"{StaticResource IranSans}\"/&gt;\n     &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"True\"/&gt;\n     &lt;Setter Property=\"SnapsToDevicePixels\" Value=\"True\"/&gt;\n     &lt;Setter Property=\"Height\" Value=\"28\"/&gt;\n     &lt;Setter Property=\"Template\"&gt;\n         &lt;Setter.Value&gt;\n             &lt;ControlTemplate TargetType=\"Menu\"&gt;\n                 &lt;Border Background=\"{StaticResource MenuBackground}\"&gt;\n                     &lt;StackPanel ClipToBounds=\"True\" Background=\"{TemplateBinding Background}\" Orientation=\"Horizontal\" IsItemsHost=\"True\"/&gt;\n                 &lt;/Border&gt;\n             &lt;/ControlTemplate&gt;\n         &lt;/Setter.Value&gt;\n     &lt;/Setter&gt;\n &lt;/Style&gt;\n\n&lt;!-- Fill Brushes --&gt;\n&lt;LinearGradientBrush x:Key=\"NormalBrush\" StartPoint=\"0,0\" EndPoint=\"0,1\"&gt;\n    &lt;GradientBrush.GradientStops&gt;\n        &lt;GradientStopCollection&gt;\n            &lt;GradientStop Color=\"#FFF\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#CCC\" Offset=\"1.0\"/&gt;\n        &lt;/GradientStopCollection&gt;\n    &lt;/GradientBrush.GradientStops&gt;\n&lt;/LinearGradientBrush&gt;\n\n&lt;SolidColorBrush x:Key=\"DisabledForegroundBrush\" Color=\"#888\" /&gt;\n&lt;SolidColorBrush x:Key=\"DisabledBackgroundBrush\" Color=\"#EEE\" /&gt;\n&lt;SolidColorBrush x:Key=\"WindowBackgroundBrush\" Color=\"#FFF\" /&gt;\n&lt;SolidColorBrush x:Key=\"SelectedBackgroundBrush\" Color=\"#DDD\" /&gt;\n&lt;SolidColorBrush x:Key=\"MenuBackground\" Color=\"#1A1A1A\" /&gt;\n&lt;SolidColorBrush x:Key=\"EnabledForegroundBrush\" Color=\"#CCC\" /&gt;\n&lt;SolidColorBrush x:Key=\"MenuClick\" Color=\"#4D4D4D\" /&gt;\n&lt;SolidColorBrush x:Key=\"ItemHighlight\" Color=\"#717171\" /&gt;\n\n&lt;!-- Border Brushes --&gt;\n&lt;LinearGradientBrush x:Key=\"NormalBorderBrush\" StartPoint=\"0,0\" EndPoint=\"0,1\"&gt;\n    &lt;GradientBrush.GradientStops&gt;\n        &lt;GradientStopCollection&gt;\n            &lt;GradientStop Color=\"#CCC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#444\" Offset=\"1.0\"/&gt;\n        &lt;/GradientStopCollection&gt;\n    &lt;/GradientBrush.GradientStops&gt;\n&lt;/LinearGradientBrush&gt;\n&lt;LinearGradientBrush x:Key=\"HorizontalNormalBorderBrush\" StartPoint=\"0,0\" EndPoint=\"1,0\"&gt;\n    &lt;GradientBrush.GradientStops&gt;\n        &lt;GradientStopCollection&gt;\n            &lt;GradientStop Color=\"#CCC\" Offset=\"0.0\"/&gt;\n            &lt;GradientStop Color=\"#444\" Offset=\"1.0\"/&gt;\n        &lt;/GradientStopCollection&gt;\n    &lt;/GradientBrush.GradientStops&gt;\n&lt;/LinearGradientBrush&gt;\n\n&lt;!-- Miscellaneous Brushes --&gt;\n&lt;SolidColorBrush x:Key=\"GlyphBrush\" Color=\"#444\" /&gt;\n\n&lt;!--SeparatorStyleKey : Menu Separator Styles --&gt;\n&lt;!-- [1] Separator Tag --&gt;\n&lt;Style x:Key=\"{x:Static MenuItem.SeparatorStyleKey}\" TargetType=\"Separator\"&gt;\n    &lt;Setter Property=\"Height\" Value=\"8\"/&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"Separator\"&gt;\n                &lt;Border Background=\"{StaticResource MenuClick}\" Height=\"{TemplateBinding Height}\"&gt;\n                    &lt;Border VerticalAlignment=\"Center\" BorderBrush=\"{StaticResource EnabledForegroundBrush}\" BorderThickness=\"1\"/&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n\n&lt;!-- TopLevelHeader--&gt;\n&lt;ControlTemplate x:Key=\"{x:Static MenuItem.TopLevelHeaderTemplateKey}\" TargetType=\"MenuItem\"&gt;\n    &lt;Border Name=\"Border\" Background=\"{StaticResource MenuBackground}\"&gt;\n        &lt;Grid VerticalAlignment=\"Center\"&gt;\n            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                &lt;ContentPresenter  Margin=\"6,3,3,3\" VerticalAlignment=\"Center\" ContentSource=\"Header\" RecognizesAccessKey=\"True\" /&gt;\n                &lt;TextBlock Margin=\"0 0 3 0\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Text=\"\u25be\" FontSize=\"13\"/&gt;\n            &lt;/StackPanel&gt;\n &lt;Popup Name=\"Popup\" Placement=\"Bottom\" VerticalOffset=\"2\" HorizontalOffset=\"-8\" IsOpen=\"{TemplateBinding IsSubmenuOpen}\" AllowsTransparency=\"True\" Focusable=\"False\" PopupAnimation=\"Fade\"&gt;\n     &lt;Border Padding=\"8 0 8 8\"&gt;\n         &lt;Border Name=\"SubmenuBorder\" SnapsToDevicePixels=\"True\" Background=\"{StaticResource MenuClick}\" BorderBrush=\"{StaticResource MenuClick}\"  BorderThickness=\"5\"&gt;\n             &lt;Border.Effect&gt;\n                 &lt;DropShadowEffect ShadowDepth=\"0\" Color=\"#AAA\" Opacity=\"1\" BlurRadius=\"10\"/&gt;\n             &lt;/Border.Effect&gt;\n             &lt;StackPanel IsItemsHost=\"True\" KeyboardNavigation.DirectionalNavigation=\"Cycle\" /&gt;\n     &lt;/Border&gt;\n     &lt;/Border&gt;\n &lt;/Popup&gt;                                   \n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;Trigger Property=\"IsSuspendingPopupAnimation\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Popup\" Property=\"PopupAnimation\" Value=\"None\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsHighlighted\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource ItemHighlight}\"/&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"BorderBrush\" Value=\"Transparent\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"False\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource DisabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"True\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource EnabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsPressed\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource MenuClick}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsSubmenuOpen\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource MenuClick}\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n\n&lt;!-- TopLevelItem --&gt;\n&lt;ControlTemplate  x:Key=\"{x:Static MenuItem.TopLevelItemTemplateKey}\" TargetType=\"MenuItem\"&gt;\n    &lt;Border Name=\"Border\" Background=\"{StaticResource MenuBackground}\"&gt;\n        &lt;Grid&gt;\n            &lt;ContentPresenter Margin=\"6,3,6,3\" VerticalAlignment=\"Center\" ContentSource=\"Header\" RecognizesAccessKey=\"True\" /&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;Trigger Property=\"IsHighlighted\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\"  Value=\"{StaticResource ItemHighlight}\"/&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"BorderBrush\" Value=\"Transparent\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"False\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource DisabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"True\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource EnabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsPressed\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource MenuClick}\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n\n&lt;!-- SubmenuItem --&gt;\n&lt;ControlTemplate x:Key=\"{x:Static MenuItem.SubmenuItemTemplateKey}\" TargetType=\"MenuItem\"&gt;\n    &lt;Border Name=\"Border\" Background=\"{StaticResource MenuClick}\"&gt;\n        &lt;Grid&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"Auto\" SharedSizeGroup=\"Icon\"/&gt;\n                &lt;ColumnDefinition Width=\"*\" /&gt;\n                &lt;ColumnDefinition Width=\"Auto\" SharedSizeGroup=\"Shortcut\"/&gt;\n                &lt;ColumnDefinition Width=\"13\"/&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;ContentPresenter Name=\"Icon\" Margin=\"3,3,9,3\" Height=\"18\" Width=\"18\" VerticalAlignment=\"Center\" ContentSource=\"Icon\"/&gt;\n            &lt;Border Name=\"Check\" Width=\"13\" Height=\"13\" Visibility=\"Collapsed\" Margin=\"6,0,6,0\" Background=\"{StaticResource NormalBrush}\" BorderThickness=\"1\" BorderBrush=\"{StaticResource NormalBorderBrush}\"&gt;\n                &lt;Path Name=\"CheckMark\" Width=\"7\" Height=\"7\"  Visibility=\"Hidden\" SnapsToDevicePixels=\"False\" Stroke=\"{StaticResource GlyphBrush}\" StrokeThickness=\"2\" Data=\"M 0 0 L 7 7 M 0 7 L 7 0\" /&gt;\n            &lt;/Border&gt;\n            &lt;ContentPresenter Name=\"HeaderHost\" Grid.Column=\"1\" VerticalAlignment=\"Center\" ContentSource=\"Header\" RecognizesAccessKey=\"True\"/&gt;\n            &lt;TextBlock x:Name=\"InputGestureText\" Grid.Column=\"2\" Text=\"{TemplateBinding InputGestureText}\" Margin=\"5,2,0,2\" DockPanel.Dock=\"Right\" /&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;Trigger Property=\"Icon\" Value=\"{x:Null}\"&gt;\n            &lt;Setter TargetName=\"Icon\" Property=\"Visibility\" Value=\"Hidden\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsChecked\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"CheckMark\" Property=\"Visibility\" Value=\"Visible\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsCheckable\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Check\" Property=\"Visibility\" Value=\"Visible\"/&gt;\n            &lt;Setter TargetName=\"Icon\" Property=\"Visibility\" Value=\"Hidden\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsHighlighted\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource ItemHighlight}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsPressed\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource MenuClick}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource DisabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"True\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"White\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"Tag\" Value=\"Title\"&gt;\n            &lt;Setter TargetName=\"Icon\" Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n            &lt;Setter Property=\"Margin\" Value=\"0 15 0 10\"/&gt;\n            &lt;Setter TargetName=\"InputGestureText\" Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n            &lt;Setter TargetName=\"HeaderHost\" Property=\"Grid.ColumnSpan\" Value=\"3\"/&gt;\n            &lt;Setter Property=\"IsHitTestVisible\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource EnabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n\n&lt;!-- SubmenuHeader --&gt;\n&lt;ControlTemplate  x:Key=\"{x:Static MenuItem.SubmenuHeaderTemplateKey}\" TargetType=\"MenuItem\"&gt;\n    &lt;Border Name=\"Border\" Background=\"{StaticResource MenuClick}\"&gt;\n        &lt;Grid&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"Auto\" SharedSizeGroup=\"Icon\"/&gt;\n                &lt;ColumnDefinition Width=\"*\" /&gt;\n                &lt;ColumnDefinition Width=\"Auto\" SharedSizeGroup=\"Shortcut\"/&gt;\n                &lt;ColumnDefinition Width=\"13\"/&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;ContentPresenter Name=\"Icon\" Margin=\"3,3,9,3\" Height=\"18\" Width=\"18\" VerticalAlignment=\"Center\" ContentSource=\"Icon\"/&gt;\n            &lt;ContentPresenter Name=\"HeaderHost\" Grid.Column=\"1\" VerticalAlignment=\"Center\" ContentSource=\"Header\"  RecognizesAccessKey=\"True\"/&gt;\n            &lt;TextBlock x:Name=\"InputGestureText\" Grid.Column=\"2\" Text=\"{TemplateBinding InputGestureText}\"  Margin=\"5,2,2,2\" DockPanel.Dock=\"Right\"/&gt;\n            &lt;TextBlock Grid.Column=\"3\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Text=\"\u25c2\" FontSize=\"13\"/&gt;\n            &lt;Popup Name=\"Popup\" Placement=\"Right\" HorizontalOffset=\"5\" IsOpen=\"{TemplateBinding IsSubmenuOpen}\" AllowsTransparency=\"True\" Focusable=\"False\" PopupAnimation=\"Fade\"&gt;\n                &lt;Border Padding=\"0 8 8 8\"&gt;\n                    &lt;Border Name=\"SubmenuBorder\" SnapsToDevicePixels=\"True\" Background=\"{StaticResource MenuClick}\"  BorderBrush=\"{StaticResource MenuClick}\" BorderThickness=\"5\" &gt;\n                    &lt;Border.Effect&gt;\n                        &lt;DropShadowEffect ShadowDepth=\"0\" Color=\"#AAA\" Opacity=\"1\" BlurRadius=\"10\"/&gt;\n                    &lt;/Border.Effect&gt;\n                    &lt;StackPanel IsItemsHost=\"True\" KeyboardNavigation.DirectionalNavigation=\"Cycle\" /&gt;\n                &lt;/Border&gt;\n                &lt;/Border&gt;\n            &lt;/Popup&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;Trigger Property=\"Icon\" Value=\"{x:Null}\"&gt;\n            &lt;Setter TargetName=\"Icon\" Property=\"Visibility\" Value=\"Hidden\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsHighlighted\" Value=\"true\"&gt;\n            &lt;Setter TargetName=\"Border\" Property=\"Background\" Value=\"{StaticResource ItemHighlight}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"{StaticResource DisabledForegroundBrush}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"IsEnabled\" Value=\"True\"&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"White\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n\n&lt;!-- MenuItem Style --&gt;\n&lt;Style x:Key=\"{x:Type MenuItem}\" TargetType=\"MenuItem\"&gt;\n    &lt;Setter Property=\"OverridesDefaultStyle\" Value=\"True\"/&gt;\n    &lt;Style.Triggers&gt;\n        &lt;Trigger Property=\"Role\" Value=\"TopLevelHeader\"&gt;\n            &lt;Setter Property=\"Template\" Value=\"{StaticResource {x:Static MenuItem.TopLevelHeaderTemplateKey}}\"/&gt;\n            &lt;Setter Property=\"Grid.IsSharedSizeScope\" Value=\"true\"/&gt;\n            &lt;Setter Property=\"Padding\" Value=\"5 4 5 2\"/&gt;\n            &lt;Setter Property=\"Margin\" Value=\"8 0 8 0\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"Role\" Value=\"TopLevelItem\"&gt;\n            &lt;Setter Property=\"Template\" Value=\"{StaticResource {x:Static MenuItem.TopLevelItemTemplateKey}}\"/&gt;\n            &lt;Setter Property=\"Padding\" Value=\"5 4 5 2\"/&gt;\n            &lt;Setter Property=\"Margin\" Value=\"8 0 8 0\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"Role\" Value=\"SubmenuHeader\"&gt;\n            &lt;Setter Property=\"Template\" Value=\"{StaticResource {x:Static MenuItem.SubmenuHeaderTemplateKey}}\"/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=\"Role\" Value=\"SubmenuItem\"&gt;\n            &lt;Setter Property=\"Template\"\n          Value=\"{StaticResource {x:Static MenuItem.SubmenuItemTemplateKey}}\"/&gt;\n        &lt;/Trigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt; \n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8831410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a11ab4fba30d36662baff493258f5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Will E.", "link": "https://stackoverflow.com/users/8831410/will-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536183065, "creation_date": 1536176478, "question_id": 52192368, "link": "https://stackoverflow.com/questions/52192368/wpf-sub-menu-overlay-rather-than-expand", "title": "WPF sub-menu overlay rather than expand", "body": "<p>Sorry I don't really have source code for this as it's more I don't know what element to use.</p>\n\n<p>I'm making a menu navigation control.  The menu will have two levels.  I would like the sub items to show up on the right when a menu item is selected.  However I'd like them to overlay whatever content is there and not just expand.  In the image basically the Sub Item part I would like to display above the red portion.  Right now it will just expand the left menu column area.</p>\n\n<p>I've looked at using a popup control but it seems to have a lot of problems with things like the window moving.  Is it still the best option for something like this?</p>\n\n<p>I've also looked at setting zindex but that seems appropriate only for items in the same control space.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9cKGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cKGx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", ".net-core", ".net-standard"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1536176632, "post_id": 52192229, "comment_id": 91334494, "body": "You can try creating a local nuget or a private nuget feed for that library. Then your App A and App B can grab it from there. Tho that seems like overkill, but not entirely sure how else would you do that."}, {"owner": {"reputation": 17042, "user_id": 1090406, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b7762b3cd7ea4fb7dffd0c89ac955280?s=128&d=identicon&r=PG", "display_name": "Kevin Junghans", "link": "https://stackoverflow.com/users/1090406/kevin-junghans"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1536177129, "post_id": 52192229, "comment_id": 91334717, "body": "@penleychan - Nuget is used in this scenario during development of Application A and Application B to share this library.  But this question is targeted towards a deployment strategy that would allow any update to the shared library to only require dropping a new version in a single location that would then update Application A and Application B."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1536177263, "post_id": 52192229, "comment_id": 91334780, "body": "attach to AppDomain.CurrentDomain.AssemblyResolve event and then call Assembly.LoadFile"}], "answers": [{"tags": [], "owner": {"reputation": 17042, "user_id": 1090406, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b7762b3cd7ea4fb7dffd0c89ac955280?s=128&d=identicon&r=PG", "display_name": "Kevin Junghans", "link": "https://stackoverflow.com/users/1090406/kevin-junghans"}, "is_accepted": true, "score": 4, "last_activity_date": 1536342855, "creation_date": 1536342855, "answer_id": 52227466, "question_id": 52192229, "link": "https://stackoverflow.com/questions/52192229/how-to-update-an-assembly-shared-between-net-core-and-net-framework-applicatio/52227466#52227466", "title": "How to update an assembly shared between .NET Core and .NET Framework applications", "body": "<p>Steve pointed me in the right direction with his comment.  Here is the complete answer with examples.  I wrote a simple console application in .NET Core and .NET Framework that calls a shared library.  The library just returns the version number of the library to display in the console application.  This will make the testing easier, as you will see.  Here is all the shared library does.</p>\n\n<pre><code>using System.Diagnostics;\n\nnamespace MyLibrary\n{\n    /// &lt;summary&gt;\n    /// This is a shared library that returns the assemblies version\n    /// &lt;/summary&gt;\n    public class SharedLib\n    {\n        public string GetProductVersion()\n        {\n            System.Reflection.Assembly assembly = \n              System.Reflection.Assembly.GetExecutingAssembly();\n            FileVersionInfo fvi = FileVersionInfo.GetVersionInfo(assembly.Location);\n            string version = fvi.ProductVersion;\n            return version;\n        }\n    }\n }\n</code></pre>\n\n<p>The shared library is compiled targeting .net standard 2.0.  For my test I published it as a NuGet package on a local NuGet server.  I then included the NuGet package in the Core and Framework Applications.  Both application are pretty much identical.  Here is the code. </p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        Console.WriteLine(\"Registering Resolving Handler...\");\n        AppDomain.CurrentDomain.AssemblyResolve += MyHandler;\n        Console.WriteLine(\"Creating shared library...\");\n        SharedLibWrapper sharedLib = new SharedLibWrapper();\n        Console.WriteLine(\"The version is {0}\", sharedLib.Version);\n        Console.WriteLine(\"Press Enter key to continue...\");\n        Console.ReadLine();\n\n    }\n\n    static string GetSharedAssemblyPath()\n    {\n        string relativePath = @\"..\\..\\..\\SharedAssemblies\\\";\n        return Path.GetFullPath(relativePath);\n    }\n\n    static Assembly MyHandler(object source, ResolveEventArgs e)\n    {\n        Console.WriteLine(\"Resolving {0}\", e.Name);\n        if (e.Name.Contains(\"MyLibrary\"))\n        {\n            string path = GetSharedAssemblyPath() + @\"MyLibrary.dll\";\n            Console.WriteLine(\"Resolving to path {0}\", path);\n            return Assembly.LoadFile(path);\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>This code adds an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.appdomain.assemblyresolve?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">AssemblyResolve</a> handler so that in the event the application cannot find the assembly the handler will try to resolve it.  In this case I have both application look in a SharedAssemblies folder located at the root of solution.</p>\n\n<p>You will notice that I put the shared library in a class wrapper.  This was the only way I could get the solution to work.  If I referenced the shared library directly in Main method the application attempts to load the assembly before registration of the event handler occurs.</p>\n\n<p>Now when I compile the applications and run them I get the following output.</p>\n\n<blockquote>\n  <p>Registering Resolving Handler...</p>\n  \n  <p>Creating shared library...</p>\n  \n  <p>The version is 1.0.10765</p>\n  \n  <p>Press Enter key to continue...</p>\n</blockquote>\n\n<p>Now lets put a new version of shared library in the SharedAssemblies folder and delete the one published with the application.  Now this is the output.</p>\n\n<blockquote>\n  <p>Creating shared library...</p>\n  \n  <p>Resolving MyLibrary, Version=1.0.10765.0, Culture=neutral,\n  PublicKeyToken=null</p>\n  \n  <p>Resolving to path C:...\\SharedLibrary\\SharedAssemblies\\MyLibrary.dll</p>\n  \n  <p>The version is 1.0.10930</p>\n  \n  <p>Press Enter key to continue...</p>\n</blockquote>\n\n<p>The results are the same for Core and Framework applications.  Notice that we can drop a newer version of the assembly in the SharedAssemblies folder and it still loads correctly. This is the result I was looking for to allow for updates of the shared library.  Now I can drop it in one location and update both applications.  But if I want to only update one application for some reason I still can by just putting the desired version in bin folder for the application.  This works because the assembly resolver will look in the local bin first and only pull from the shared location if not found there.</p>\n\n<p>You can get all of the source code to play with this on <a href=\"https://github.com/kjunghans/SharedLibraryExample\" rel=\"nofollow noreferrer\">this GitHub project</a>.</p>\n"}], "owner": {"reputation": 17042, "user_id": 1090406, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b7762b3cd7ea4fb7dffd0c89ac955280?s=128&d=identicon&r=PG", "display_name": "Kevin Junghans", "link": "https://stackoverflow.com/users/1090406/kevin-junghans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1252, "favorite_count": 1, "accepted_answer_id": 52227466, "answer_count": 1, "score": 7, "last_activity_date": 1615801760, "creation_date": 1536175885, "last_edit_date": 1615801760, "question_id": 52192229, "link": "https://stackoverflow.com/questions/52192229/how-to-update-an-assembly-shared-between-net-core-and-net-framework-applicatio", "title": "How to update an assembly shared between .NET Core and .NET Framework applications", "body": "<p>I have Application A that is developed in .NET Core 2.1 and Application B that is developed in .NET Framework 4.7.1.  They have a shared library/assembly that is developed using .NET Standard 2.0.  This works great, I can compile a single instance of this library and share it between Application A and Application B.  But this requires two copies of the assembly in each applications bin folder.  If Application A and Application B are deployed on the same machine I would like to update a single instance of the shared assembly in a single location and have both Application A and Application B updated.  Is there a way that Application A and Application B can look in the same location for this assembly given that one is using .NET Core and the other is using .NET Framework?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 2806, "user_id": 66101, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b04a4f263735d40ab282711895bba5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Ling", "link": "https://stackoverflow.com/users/66101/dan-ling"}, "edited": false, "score": 1, "creation_date": 1536179897, "post_id": 52192220, "comment_id": 91335852, "body": "There is a diagnostic utility from Microsoft which can used to diagnose problems with the WMI service.. have you tried this? <a href=\"https://docs.microsoft.com/en-us/previous-versions/tn-archive/ff404265(v%3dmsdn.10)\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/previous-versions/tn-archive/&hellip;</a>"}, {"owner": {"reputation": 245, "user_id": 468523, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/3c19d04b9daed85047c3ee08b4fd9da9?s=128&d=identicon&r=PG", "display_name": "blearyeye", "link": "https://stackoverflow.com/users/468523/blearyeye"}, "reply_to_user": {"reputation": 2806, "user_id": 66101, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b04a4f263735d40ab282711895bba5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Ling", "link": "https://stackoverflow.com/users/66101/dan-ling"}, "edited": false, "score": 0, "creation_date": 1536244272, "post_id": 52192220, "comment_id": 91362008, "body": "Thanks for the suggestion. I&#39;ll have to get access to the machine, one way or another, to be able to run it. I&#39;ll see what I can do."}], "owner": {"reputation": 245, "user_id": 468523, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/3c19d04b9daed85047c3ee08b4fd9da9?s=128&d=identicon&r=PG", "display_name": "blearyeye", "link": "https://stackoverflow.com/users/468523/blearyeye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536175846, "creation_date": 1536175846, "question_id": 52192220, "link": "https://stackoverflow.com/questions/52192220/system-management-managementclass-thows-system-io-filenotfoundexception", "title": "System.Management.ManagementClass thows System.IO.FIleNotFoundException", "body": "<p>The following code throws System.IO.FIleNotFoundException:</p>\n\n<pre><code>System.Management.ManagementClass m = new System.Management.ManagementClass(\"Win32_OperatingSystem\");\n            DateTime lastBootUpTime = new DateTime();\nforeach (System.Management.ManagementObject instance in m.GetInstances()) \n{\n  lastBootUpTime = ParseCIM_DATETIME(instance[\"LastBootUpTime\"].ToString());\n}\n</code></pre>\n\n<p>The <code>foreach</code> line throws the exception. The exception detail below shows that it's in the <code>GetInstances</code> method. I've looked at everything I could find about this, but nothing that seems to apply.</p>\n\n<p>This exception occurs repeatedly on a customer PC that has been working successfully on a daily basis since 2014. It's not connected to the internet. I'm informed that there have not been any configuration changes or Windows updates to the PC or the C# program since then. There's a local SQL Server Express database that's updated by the program but that's it. </p>\n\n<p>I don't see how something so static could fail this way. Am I looking at some kind of memory or disk corruption?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZwHyV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwHyV.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "file", "local-system-account"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 8, "creation_date": 1536175858, "post_id": 52192176, "comment_id": 91334170, "body": "Well, does the file exist? Does the user-account the program is running under have permission to read that share?"}, {"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 3, "creation_date": 1536175869, "post_id": 52192176, "comment_id": 91334174, "body": "Buenas. It is a shared folder, usually windows services are started under system account. Have you tried changing it to a specific user credentials?"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1536176022, "post_id": 52192176, "comment_id": 91334240, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/458363/determining-if-file-exists-using-c-sharp-and-resolving-unc-path\">Determining if file exists using c# and resolving UNC path</a>"}, {"owner": {"reputation": 53, "user_id": 9005406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rjCsmrWNe1o/AAAAAAAAAAI/AAAAAAAAABQ/gtyVfKC5H_U/photo.jpg?sz=128", "display_name": "MYA Technology", "link": "https://stackoverflow.com/users/9005406/mya-technology"}, "edited": false, "score": 0, "creation_date": 1536176060, "post_id": 52192176, "comment_id": 91334253, "body": "if the file exists but does not recognize it"}, {"owner": {"reputation": 53, "user_id": 9005406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rjCsmrWNe1o/AAAAAAAAAAI/AAAAAAAAABQ/gtyVfKC5H_U/photo.jpg?sz=128", "display_name": "MYA Technology", "link": "https://stackoverflow.com/users/9005406/mya-technology"}, "edited": false, "score": 0, "creation_date": 1536176145, "post_id": 52192176, "comment_id": 91334292, "body": "How do I give permission to this action?"}, {"owner": {"reputation": 3563, "user_id": 1537726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4cf1fb04002e4e6438f3347a86db9ef3?s=128&d=identicon&r=PG&f=1", "display_name": "csharpwinphonexaml", "link": "https://stackoverflow.com/users/1537726/csharpwinphonexaml"}, "edited": false, "score": 2, "creation_date": 1536176543, "post_id": 52192176, "comment_id": 91334448, "body": "it also depends on which user the service starts with"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1536177045, "post_id": 52192176, "comment_id": 91334691, "body": "<a href=\"https://serverfault.com/questions/135867/how-to-grant-network-access-to-localsystem-account\" title=\"how to grant network access to localsystem account\">serverfault.com/questions/135867/&hellip;</a>"}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1536177770, "post_id": 52192176, "comment_id": 91335002, "body": "@JuanR It&#39;s not a duplicate, the linked question involves similar code but doesn&#39;t mentions a service, that makes a huge difference in the outcome and the answer."}, {"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "reply_to_user": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1536182333, "post_id": 52192176, "comment_id": 91336803, "body": "@Alejandro the linked question does not mention a service, but its the exact same proble. A window service by default does not run under a usser account that has rights to the shared resource so the root problem of the linked question and this question are the same. MYA must specify a user account to run the service that has rights on the shared resource. A domain user would be very easy."}], "answers": [{"comments": [{"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 0, "creation_date": 1536177879, "post_id": 52192524, "comment_id": 91335044, "body": "As a thumb rule I try not to answer duplicated questions, dito for the quality of the answer tho."}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "reply_to_user": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 0, "creation_date": 1536178351, "post_id": 52192524, "comment_id": 91335246, "body": "I go ahead and answer if it&#39;s a very new user. This guy has been around 9 months, but it&#39;s only his third question. Also, while this could be a duplicate of a generic File.Exists() question or a network access question, you could make a case that putting the two together is unique, or rare enough to answer. Finally, I tend to give some credit for the language barrier, since that would make searching for duplicates or adapting a generic duplicate to his specific situation more difficult."}, {"owner": {"reputation": 53, "user_id": 9005406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rjCsmrWNe1o/AAAAAAAAAAI/AAAAAAAAABQ/gtyVfKC5H_U/photo.jpg?sz=128", "display_name": "MYA Technology", "link": "https://stackoverflow.com/users/9005406/mya-technology"}, "edited": false, "score": 0, "creation_date": 1536178423, "post_id": 52192524, "comment_id": 91335278, "body": "if it is not &quot;Local System&quot; which should I handle?"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 1, "creation_date": 1536178469, "post_id": 52192524, "comment_id": 91335294, "body": "You need an actual user on the target system. This is easiest to accomplish in a domain environment, because the credentials must be accepted on <i>both</i> systems."}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1536178756, "post_id": 52192524, "comment_id": 91335408, "body": "The link in Rufus L&#39;s comment on the question will also be useful to you."}], "tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 4, "last_activity_date": 1536179043, "last_edit_date": 1536179043, "creation_date": 1536177223, "answer_id": 52192524, "question_id": 52192176, "link": "https://stackoverflow.com/questions/52192176/file-exists-c-visual-studio-2017/52192524#52192524", "title": "file Exists c# visual studio 2017", "body": "<blockquote>\n  <p>the service windows in the configuration I have <code>Account LocalSystem</code> I must change it ?</p>\n</blockquote>\n\n<p>Yes, you must change this. The <code>LocalSystem</code> account won't have any permissions for the computer at <code>10.125.16.22</code>. <em>This is true even if it's the same computer!</em> The UNC path will force a network access, and <code>LocalSystem</code> won't present any credentials over the network. Therefore <code>File.Exists()</code> will <strong>always</strong> return <code>false</code>, no matter the actual state of the file. This is covered at the end of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.exists?redirectedfrom=MSDN&amp;view=netframework-4.7.2#remarks\" rel=\"nofollow noreferrer\">the Remarks section of the documentation</a>. </p>\n\n<blockquote>\n  <p>The Exists method returns false if any error occurs while trying to determine if the specified file exists. This can occur in situations that raise exceptions such as passing a file name with invalid characters or too many characters, a failing or missing disk, or if the caller does not have permission to read the file.</p>\n</blockquote>\n\n<p>Additionally, it's almost always poor practice to use <code>File.Exists()</code> in the first place. Instead, just try to copy the file and handle the exception if it fails. You need to do this anyway, because there are <strong>lots</strong> of reasons a file copy might fail that have nothing to do with the file existing. This is also <em>faster</em>, because as slow as exception handling can be it's still usually much faster than the extra set of disk/network I/O operations invoked by the <code>File.Exists()</code> check.</p>\n"}], "owner": {"reputation": 53, "user_id": 9005406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rjCsmrWNe1o/AAAAAAAAAAI/AAAAAAAAABQ/gtyVfKC5H_U/photo.jpg?sz=128", "display_name": "MYA Technology", "link": "https://stackoverflow.com/users/9005406/mya-technology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 52192524, "answer_count": 1, "score": 1, "last_activity_date": 1536179043, "creation_date": 1536175669, "last_edit_date": 1536178467, "question_id": 52192176, "link": "https://stackoverflow.com/questions/52192176/file-exists-c-visual-studio-2017", "title": "file Exists c# visual studio 2017", "body": "<p>Can not find the file and the file if it is in that route.</p>\n\n<pre><code>FileInfo file = new FileInfo(@\"\\\\10.125.16.22\\Facturas Electronicas\\Factura EMP000098.pdf\");\nif (file.Exists)\n{\n    EventLog.WriteEntry(\"encontro los adjuntos de la factura \" + nrodocumento);\n    File.Copy(ruta, @\"C:\\Factura\\\" + file.Name + \".pdf\", true);\n    cantidad++;\n}\nelse\n{\n    EventLog.WriteEntry(\"no existe el adjunto \" + ruta);\n}\n</code></pre>\n\n<p>when it reaches <code>if (file.Exists)</code> the result is <code>False</code>. The type of project that I am using is Visual Studio Service Project.</p>\n\n<p>the service windows in the configuration I have <code>Account LocalSystem</code> I must change it ?</p>\n\n<p>if it is not \"Local System\" which should I handle?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6829, "user_id": 1387588, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/63791bbcac8b8f1226eebe450306ca15?s=128&d=identicon&r=PG", "display_name": "sports", "link": "https://stackoverflow.com/users/1387588/sports"}, "edited": false, "score": 0, "creation_date": 1536175794, "post_id": 52192131, "comment_id": 91334137, "body": "how is this &quot;too broad&quot;? it is NOT BROAD. There are 2 strings and an output byte[]. That is not broad."}, {"owner": {"reputation": 306, "user_id": 111146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b28f779b361c0c859bc459c58d4e986?s=128&d=identicon&r=PG", "display_name": "David Findley", "link": "https://stackoverflow.com/users/111146/david-findley"}, "edited": false, "score": 0, "creation_date": 1536175877, "post_id": 52192131, "comment_id": 91334179, "body": "You should take a look at this post: <a href=\"https://stackoverflow.com/questions/36931840/generate-hmac-sha1-in-c-sharp\" title=\"generate hmac sha1 in c sharp\">stackoverflow.com/questions/36931840/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6829, "user_id": 1387588, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/63791bbcac8b8f1226eebe450306ca15?s=128&d=identicon&r=PG", "display_name": "sports", "link": "https://stackoverflow.com/users/1387588/sports"}, "is_accepted": true, "score": 3, "last_activity_date": 1536350447, "last_edit_date": 1536350447, "creation_date": 1536178168, "answer_id": 52192731, "question_id": 52192131, "link": "https://stackoverflow.com/questions/52192131/phps-openssl-sign-in-c-using-strings/52192731#52192731", "title": "PHP&#39;s openssl_sign in C# using strings", "body": "<p>It wasn't easy <strong>at all:</strong></p>\n\n<ol>\n<li><p>First, I needed to convert the input string to a byte[]</p>\n\n<pre><code>    ASCIIEncoding ByteConverter = new ASCIIEncoding();\n    byte[] inputBytes = ByteConverter.GetBytes(input);\n</code></pre></li>\n<li><p>Compute its SHA1 Hash</p>\n\n<pre><code>    byte[] inputHash = new SHA1CryptoServiceProvider().ComputeHash(inputBytes);\n</code></pre></li>\n<li><p>Remove the beginning and end of the RSA PRIVATE KEY and convert it to byte[]</p>\n\n<pre><code>    byte[] privateKeyBytes = Convert.FromBase64String(privateKey\n        .Replace(\"-----BEGIN RSA PRIVATE KEY-----\", string.Empty)\n        .Replace(\"-----END RSA PRIVATE KEY-----\", string.Empty)\n        .Replace(\"\\n\", string.Empty));\n</code></pre></li>\n<li><p>Then I had to create a <code>RSACryptoServiceProvider</code> from <code>privateKeyBytes</code> but I had to use a complicated class found on Internet:</p>\n\n<pre><code>    RSACryptoServiceProvider rsa = RSAUtils.DecodeRSAPrivateKey(privateKeyBytes);\n                                   // ^\n                                   // Found on Internet\n</code></pre></li>\n<li><p>Then I finally could sign</p>\n\n<pre><code>    byte[] output = rsa.SignHash(inputHash, \"SHA1\");\n</code></pre></li>\n</ol>\n\n<p>Code found on the Internet:</p>\n\n<pre><code>public class RSAUtils\n{\n    public static RSACryptoServiceProvider DecodeRSAPrivateKey(byte[] privkey)\n    {\n        byte[] MODULUS, E, D, P, Q, DP, DQ, IQ;\n\n        // --------- Set up stream to decode the asn.1 encoded RSA private key ------\n        MemoryStream mem = new MemoryStream(privkey);\n        BinaryReader binr = new BinaryReader(mem);  //wrap Memory Stream with BinaryReader for easy reading\n        byte bt = 0;\n        ushort twobytes = 0;\n        int elems = 0;\n        try\n        {\n            twobytes = binr.ReadUInt16();\n            if (twobytes == 0x8130) //data read as little endian order (actual data order for Sequence is 30 81)\n                binr.ReadByte();    //advance 1 byte\n            else if (twobytes == 0x8230)\n                binr.ReadInt16();   //advance 2 bytes\n            else\n                return null;\n\n            twobytes = binr.ReadUInt16();\n            if (twobytes != 0x0102) //version number\n                return null;\n            bt = binr.ReadByte();\n            if (bt != 0x00)\n                return null;\n\n\n            //------ all private key components are Integer sequences ----\n            elems = GetIntegerSize(binr);\n            MODULUS = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            E = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            D = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            P = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            Q = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            DP = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            DQ = binr.ReadBytes(elems);\n\n            elems = GetIntegerSize(binr);\n            IQ = binr.ReadBytes(elems);\n\n            // ------- create RSACryptoServiceProvider instance and initialize with public key -----\n            CspParameters CspParameters = new CspParameters();\n            CspParameters.Flags = CspProviderFlags.UseMachineKeyStore;\n            RSACryptoServiceProvider RSA = new RSACryptoServiceProvider(1024, CspParameters);\n            RSAParameters RSAparams = new RSAParameters();\n            RSAparams.Modulus = MODULUS;\n            RSAparams.Exponent = E;\n            RSAparams.D = D;\n            RSAparams.P = P;\n            RSAparams.Q = Q;\n            RSAparams.DP = DP;\n            RSAparams.DQ = DQ;\n            RSAparams.InverseQ = IQ;\n            RSA.ImportParameters(RSAparams);\n            return RSA;\n        }\n        catch (Exception ex)\n        {\n            return null;\n        }\n        finally\n        {\n            binr.Close();\n        }\n    }\n\n    private static int GetIntegerSize(BinaryReader binr)\n    {\n        byte bt = 0;\n        byte lowbyte = 0x00;\n        byte highbyte = 0x00;\n        int count = 0;\n        bt = binr.ReadByte();\n        if (bt != 0x02)      //expect integer\n            return 0;\n        bt = binr.ReadByte();\n\n        if (bt == 0x81)\n            count = binr.ReadByte();    // data size in next byte\n        else\n            if (bt == 0x82)\n            {\n                highbyte = binr.ReadByte();    // data size in next 2 bytes\n                lowbyte = binr.ReadByte();\n                byte[] modint = { lowbyte, highbyte, 0x00, 0x00 };\n                count = BitConverter.ToInt32(modint, 0);\n            }\n            else\n            {\n                count = bt;      // we already have the data size\n            }\n\n        while (binr.ReadByte() == 0x00)\n        {    //remove high order zeros in data\n            count -= 1;\n        }\n        binr.BaseStream.Seek(-1, SeekOrigin.Current);        //last ReadByte wasn't a removed zero, so back up a byte\n        return count;\n    }\n\n}\n</code></pre>\n\n<p><br/>\n<br/>\n<br/>\n<br/>\nTesting that it works.</p>\n\n<p><strong>Php Test</strong></p>\n\n<pre><code>$input = \"&lt;DD&gt;&lt;RE&gt;97975000-5&lt;/RE&gt;&lt;TD&gt;33&lt;/TD&gt;&lt;F&gt;27&lt;/F&gt;&lt;FE&gt;2003-09-08&lt;/FE&gt;&lt;RR&gt;8414240-9&lt;/RR&gt;&lt;RSR&gt;JORGE GONZALEZ LTDA&lt;/RSR&gt;&lt;MNT&gt;502946&lt;/MNT&gt;&lt;IT1&gt;Cajon AFECTO&lt;/IT1&gt;&lt;CAF version=\\\"1.0\\\"&gt;&lt;DA&gt;&lt;RE&gt;97975000-5&lt;/RE&gt;&lt;RS&gt;RUT DE PRUEBA&lt;/RS&gt;&lt;TD&gt;33&lt;/TD&gt;&lt;RNG&gt;&lt;D&gt;1&lt;/D&gt;&lt;H&gt;200&lt;/H&gt;&lt;/RNG&gt;&lt;FA&gt;2003-09-04&lt;/FA&gt;&lt;RSAPK&gt;&lt;M&gt;0a4O6Kbx8Qj3K4iWSP4w7KneZYeJ+g/prihYtIEolKt3cykSxl1zO8vSXu397QhTmsX7SBEudTUx++2zDXBhZw==&lt;/M&gt;&lt;E&gt;Aw==&lt;/E&gt;&lt;/RSAPK&gt;&lt;IDK&gt;100&lt;/IDK&gt;&lt;/DA&gt;&lt;FRMA algoritmo=\\\"SHA1withRSA\\\"&gt;g1AQX0sy8NJugX52k2hTJEZAE9Cuul6pqYBdFxj1N17umW7zG/hAavCALKByHzdYAfZ3LhGTXCai5zNxOo4lDQ==&lt;/FRMA&gt;&lt;/CAF&gt;&lt;TSTED&gt;2003-09-08T12:28:31&lt;/TSTED&gt;&lt;/DD&gt;\";\n$privateKey = \"-----BEGIN RSA PRIVATE KEY-----\\nMIIBOwIBAAJBANGuDuim8fEI9yuIlkj+MOyp3mWHifoP6a4oWLSBKJSrd3MpEsZdczvL0l7t/e0IU5rF+0gRLnU1Mfvtsw1wYWcCAQMCQQCLyV9FxKFLW09yWw7bVCCdxpRDr7FRX/EexZB4VhsNxm/vtJfDZyYle0Lfy42LlcsXxPm1w6Q6NnjuW+AeBy67AiEA7iMi5q5xjswqq+49RP55o//jqdZL/pC9rdnUKxsNRMMCIQDhaHdIctErN2hCIP9knS3+9zra4R+5jSXOvI+3xVhWjQIhAJ7CF0R0S7SIHHKe04NUURf/7RvkMqm108k74sdnXi3XAiEAlkWk2vc2HM+a1sCqQxNz/098ketqe7NuidMKeoOQObMCIQCkFAMS9IcPcMjk7zI2r/4EEW63PSXyN7MFAX7TYe25mw==\\n-----END RSA PRIVATE KEY-----\";\nopenssl_sign($input, $output, $privateKey, OPENSSL_ALGO_SHA1);\necho(base64_encode($output));\n</code></pre>\n\n<p>The PHP output is:</p>\n\n<pre><code>pqjXHHQLJmyFPMRvxScN7tYHvIsty0pqL2LLYaG43jMmnfiZfllLA0wb32lP+HBJ/tf8nziSeorvjlx410ZImw==\n</code></pre>\n\n<p><strong>C# Test</strong></p>\n\n<pre><code>string input = \"&lt;DD&gt;&lt;RE&gt;97975000-5&lt;/RE&gt;&lt;TD&gt;33&lt;/TD&gt;&lt;F&gt;27&lt;/F&gt;&lt;FE&gt;2003-09-08&lt;/FE&gt;&lt;RR&gt;8414240-9&lt;/RR&gt;&lt;RSR&gt;JORGE GONZALEZ LTDA&lt;/RSR&gt;&lt;MNT&gt;502946&lt;/MNT&gt;&lt;IT1&gt;Cajon AFECTO&lt;/IT1&gt;&lt;CAF version=\\\"1.0\\\"&gt;&lt;DA&gt;&lt;RE&gt;97975000-5&lt;/RE&gt;&lt;RS&gt;RUT DE PRUEBA&lt;/RS&gt;&lt;TD&gt;33&lt;/TD&gt;&lt;RNG&gt;&lt;D&gt;1&lt;/D&gt;&lt;H&gt;200&lt;/H&gt;&lt;/RNG&gt;&lt;FA&gt;2003-09-04&lt;/FA&gt;&lt;RSAPK&gt;&lt;M&gt;0a4O6Kbx8Qj3K4iWSP4w7KneZYeJ+g/prihYtIEolKt3cykSxl1zO8vSXu397QhTmsX7SBEudTUx++2zDXBhZw==&lt;/M&gt;&lt;E&gt;Aw==&lt;/E&gt;&lt;/RSAPK&gt;&lt;IDK&gt;100&lt;/IDK&gt;&lt;/DA&gt;&lt;FRMA algoritmo=\\\"SHA1withRSA\\\"&gt;g1AQX0sy8NJugX52k2hTJEZAE9Cuul6pqYBdFxj1N17umW7zG/hAavCALKByHzdYAfZ3LhGTXCai5zNxOo4lDQ==&lt;/FRMA&gt;&lt;/CAF&gt;&lt;TSTED&gt;2003-09-08T12:28:31&lt;/TSTED&gt;&lt;/DD&gt;\";\nstring privateKey = \"-----BEGIN RSA PRIVATE KEY-----\\nMIIBOwIBAAJBANGuDuim8fEI9yuIlkj+MOyp3mWHifoP6a4oWLSBKJSrd3MpEsZdczvL0l7t/e0IU5rF+0gRLnU1Mfvtsw1wYWcCAQMCQQCLyV9FxKFLW09yWw7bVCCdxpRDr7FRX/EexZB4VhsNxm/vtJfDZyYle0Lfy42LlcsXxPm1w6Q6NnjuW+AeBy67AiEA7iMi5q5xjswqq+49RP55o//jqdZL/pC9rdnUKxsNRMMCIQDhaHdIctErN2hCIP9knS3+9zra4R+5jSXOvI+3xVhWjQIhAJ7CF0R0S7SIHHKe04NUURf/7RvkMqm108k74sdnXi3XAiEAlkWk2vc2HM+a1sCqQxNz/098ketqe7NuidMKeoOQObMCIQCkFAMS9IcPcMjk7zI2r/4EEW63PSXyN7MFAX7TYe25mw==\\n-----END RSA PRIVATE KEY-----\";\n\nASCIIEncoding ByteConverter = new ASCIIEncoding();\nbyte[] inputBytes = ByteConverter.GetBytes(input);\n\nbyte[] inputHash = new SHA1CryptoServiceProvider().ComputeHash(inputBytes);\n\nbyte[] privateKeyBytes = Convert.FromBase64String(privateKey\n    .Replace(\"-----BEGIN RSA PRIVATE KEY-----\", string.Empty)\n    .Replace(\"-----END RSA PRIVATE KEY-----\", string.Empty)\n    .Replace(\"\\n\", string.Empty));\n\nRSACryptoServiceProvider rsa = RSAUtils.DecodeRSAPrivateKey(privateKeyBytes);\n\nbyte[] output = rsa.SignHash(inputHash, \"SHA1\");\n\nConsole.WriteLine(Convert.ToBase64String(output));\n</code></pre>\n\n<p>The C# output is:</p>\n\n<pre><code>pqjXHHQLJmyFPMRvxScN7tYHvIsty0pqL2LLYaG43jMmnfiZfllLA0wb32lP+HBJ/tf8nziSeorvjlx410ZImw==\n</code></pre>\n"}], "owner": {"reputation": 6829, "user_id": 1387588, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/63791bbcac8b8f1226eebe450306ca15?s=128&d=identicon&r=PG", "display_name": "sports", "link": "https://stackoverflow.com/users/1387588/sports"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 888, "favorite_count": 0, "accepted_answer_id": 52192731, "answer_count": 1, "score": 1, "last_activity_date": 1536350447, "creation_date": 1536175445, "last_edit_date": 1536175545, "question_id": 52192131, "link": "https://stackoverflow.com/questions/52192131/phps-openssl-sign-in-c-using-strings", "title": "PHP&#39;s openssl_sign in C# using strings", "body": "<p>Is there an easy way to do this in C# ?</p>\n\n<pre class=\"lang-php prettyprint-override\"><code> openssl_sign($input, $output, $privateKey, OPENSSL_ALGO_SHA1)\n</code></pre>\n\n<ul>\n<li><code>$input</code> is a string to be signed</li>\n<li><code>$output</code> - If the call was successful the signature is returned in this variable. It is a byte[]</li>\n<li><code>$privateKey</code> is a PEM private key (string)</li>\n</ul>\n\n<p>Reference: <a href=\"http://php.net/manual/en/function.openssl-sign.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/function.openssl-sign.php</a></p>\n\n<p>I'm getting the <code>input</code> string from an XML, it is flattenned, like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;foo&gt;&lt;bar1&gt;qux1&lt;/bar1&gt;&lt;bar2&gt;qux2&lt;/bar2&gt;&lt;/foo&gt;\n</code></pre>\n\n<p>I'm getting the <code>privateKey</code> string from the <strong>content</strong> of the <code>&lt;RSASK&gt;</code> tag in an XML:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;bla1&gt;foo&lt;/bla1&gt;\n&lt;bla2&gt;bar&lt;/bla2&gt;\n&lt;RSASK&gt;-----BEGIN RSA PRIVATE KEY-----\nMIIBOgIBAAJBAMo8SSYPCvFBDgCqFv8o8UzznvcXO6FwUKmbDFogNIA5yQKTJc8i\nVIYt6oXLfes+q5i+4oQWb6MJgTIZvcjmCL8CAQMCQQCG0ttutLH2K16rHA9UxfYz\nTRSkuifA9YsbasdLmwCMAJVWbScsJcXdecXfWJJVcFTo5fFf6PIigPACHUZlSo8xb\nAiEA9vjXy5u74OBS3ekQdMuKrUv5fi6z+EChhhCclVtFwhMCIQDRoMyppTxAmDDY\n24QpFZQm9orgXgeqcg0vVoLCcaqUJQIhAKSl5TJn0pXq4elGCviHscjdUP7JzVAr\nFuC1vbjng9a3AiEAi8CIcRjS1brLOz0Cxg5ixKRclZQFHEwIyjmsgaEcYsMCIEFT\noGduMC3vOMtKHEo8SAfDFeirfubo+FAZteQ0pyFF\n-----END RSA PRIVATE KEY-----\n&lt;/RSASK&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-2.0", "nlog", "asp.net-core-webapi", "httpcontent"], "comments": [{"owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "edited": false, "score": 0, "creation_date": 1536185569, "post_id": 52192066, "comment_id": 91337813, "body": "are you using UseNLog? Please check also the internal log: <a href=\"https://github.com/nlog/nlog/wiki/Internal-logging\" rel=\"nofollow noreferrer\">github.com/nlog/nlog/wiki/Internal-logging</a>"}, {"owner": {"reputation": 420, "user_id": 3127059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7992bf5fd41327fb85fddfc9b1745c46?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDYB", "link": "https://stackoverflow.com/users/3127059/juandyb"}, "reply_to_user": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "edited": false, "score": 0, "creation_date": 1536269807, "post_id": 52192066, "comment_id": 91374342, "body": "@Julian I have added the NLog Log on my question"}, {"owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "edited": false, "score": 0, "creation_date": 1536313822, "post_id": 52192066, "comment_id": 91388257, "body": "how&#39;s your NLog setup? (e.g. program.cs) - see <a href=\"https://github.com/NLog/NLog.Web/wiki/Getting-started-with-ASP.NET-Core-2\" rel=\"nofollow noreferrer\">github.com/NLog/NLog.Web/wiki/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 3127059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7992bf5fd41327fb85fddfc9b1745c46?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDYB", "link": "https://stackoverflow.com/users/3127059/juandyb"}, "edited": false, "score": 0, "creation_date": 1536537965, "post_id": 52234866, "comment_id": 91447314, "body": "I have to do this on Startup.cs even if I have the NLog classes on separated project as I said? I can to this and continue with my Logger class on separated project?"}, {"owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "reply_to_user": {"reputation": 420, "user_id": 3127059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7992bf5fd41327fb85fddfc9b1745c46?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDYB", "link": "https://stackoverflow.com/users/3127059/juandyb"}, "edited": false, "score": 0, "creation_date": 1536595872, "post_id": 52234866, "comment_id": 91471065, "body": "For ASP.NET Core you need to hook NLog into the ASP.NET Core pipeline. So you need that for every ASP.NET Core project, but not for class libraries. Of course you could create helpers to prevent code duplication"}, {"owner": {"reputation": 420, "user_id": 3127059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7992bf5fd41327fb85fddfc9b1745c46?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDYB", "link": "https://stackoverflow.com/users/3127059/juandyb"}, "edited": false, "score": 0, "creation_date": 1536958387, "post_id": 52234866, "comment_id": 91625417, "body": "Thank you so much for the solution. It works for me."}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": true, "score": 1, "last_activity_date": 1536406135, "creation_date": 1536406135, "answer_id": 52234866, "question_id": 52192066, "link": "https://stackoverflow.com/questions/52192066/nlog-log-ip-address-from-netcore-library-project/52234866#52234866", "title": "Nlog Log IP Address from NetCore Library Project", "body": "<p>If NLog logs \"Missing serviceProvider, so no HttpContext\", the  serviceProvider isn't correctly registered to NLog.</p>\n\n<p>The <code>UseNLog()</code> on <code>IWebHostBuilder</code> will register the <code>ServiceProvider</code> and add the <code>HttpContextAccessor</code> to the DI system. </p>\n\n<p>So you should double check if you call UseNLog() on the right time, see this example of program.cs:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    // NLog: setup the logger first to catch all errors\n    var logger = NLog.Web.NLogBuilder.ConfigureNLog(\"nlog.config\").GetCurrentClassLogger();\n    try\n    {\n        logger.Debug(\"init main\");\n        BuildWebHost(args).Run(); \n    }\n    catch (Exception ex)\n    {\n        //NLog: catch setup errors\n        logger.Error(ex, \"Stopped program because of exception\");\n        throw;\n    }\n    finally\n    {\n        // Ensure to flush and stop internal timers/threads before application-exit (Avoid segmentation fault on Linux)\n        NLog.LogManager.Shutdown();\n    }\n}\n\npublic static IWebHost BuildWebHost(string[] args) =&gt;\n    WebHost.CreateDefaultBuilder(args)\n        .UseStartup&lt;Startup&gt;()\n        .ConfigureLogging(logging =&gt;\n        {\n            logging.ClearProviders();\n            logging.SetMinimumLevel(Microsoft.Extensions.Logging.LogLevel.Trace);\n        })\n        .UseNLog()  // NLog: setup NLog for Dependency injection\n        .Build();\n</code></pre>\n\n<p>See also <a href=\"https://github.com/NLog/NLog.Web/wiki/Getting-started-with-ASP.NET-Core-2\" rel=\"nofollow noreferrer\">https://github.com/NLog/NLog.Web/wiki/Getting-started-with-ASP.NET-Core-2</a></p>\n"}], "owner": {"reputation": 420, "user_id": 3127059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7992bf5fd41327fb85fddfc9b1745c46?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDYB", "link": "https://stackoverflow.com/users/3127059/juandyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 1, "accepted_answer_id": 52234866, "answer_count": 1, "score": 0, "last_activity_date": 1536406135, "creation_date": 1536175180, "last_edit_date": 1536269766, "question_id": 52192066, "link": "https://stackoverflow.com/questions/52192066/nlog-log-ip-address-from-netcore-library-project", "title": "Nlog Log IP Address from NetCore Library Project", "body": "<p>I have a VS 2017 solution with multiple projects, I have a separated project with the NLog methods to use it from other projects for not include NLog in all projects.</p>\n\n<ul>\n<li>NetCore Rest API</li>\n<li>NetCore Infraestructure</li>\n<li>NetCore Database And persistence</li>\n<li>NetCore Logger</li>\n<li>Other NetStandard Projects with helpers and ViewModel Classes</li>\n</ul>\n\n<p>I want to Log Client IP Address and user if it's logged in. I have seen that I have to use a template in the NLog.config, but it is not working and the log IPAddress field is empty.</p>\n\n<p>What's the correct way to do it?</p>\n\n<p>NLog.Config</p>\n\n<pre><code>&lt;extensions&gt;    \n  &lt;add assembly=\"NLog.Web.AspNetCore\"/&gt;\n&lt;/extensions&gt;\n\n&lt;targets&gt;\n  &lt;target name=\"Database\" xsi:type=\"Database\"&gt;\n    &lt;commandText&gt;\n      INSERT INTO T_LOG\n        (DATE_, APP, IPADDRESS, USER_, CENTRE, LEVEL_, LOGGER,\n        METHOD, MESSAGE, EXCEPTION,\n        SOURCE_FILE_PATH, LINE_NUMBER)\n      VALUES(\n        @Date, @App, @IPAddr, @User, @Centre, @Level, @Logger,\n        @Method, @Message, @Exception,\n        @SourceFilePath, @LineNumber);\n    &lt;/commandText&gt;\n\n    &lt;parameter name=\"@App\" layout=\"${AppName}\" /&gt;\n    &lt;parameter name=\"@IPAddr\" layout=\"${aspnet-request-ip}\" /&gt;\n    &lt;parameter name=\"@User\" layout=\"\" /&gt;\n    &lt;parameter name=\"@Centre\" layout=\"\" /&gt;\n    &lt;parameter name=\"@Date\" layout=\"${longdate}\" /&gt;\n    &lt;parameter name=\"@Level\" layout=\"${level:upperCase=true}\"/&gt;\n    &lt;parameter name=\"@Logger\" layout=\"${logger:shortName=false}\"/&gt;\n    &lt;parameter name=\"@Method\" layout=\"${event-context:item=callermember}\"/&gt;\n    &lt;parameter name=\"@Message\" layout=\"${message}\" /&gt;\n    &lt;parameter name=\"@Exception\" layout=\"${exception:format=ToString}\"/&gt;\n    &lt;parameter name=\"@SourceFilePath\" layout=\"${event-context:item=callerpath}\" /&gt;\n    &lt;parameter name=\"@LineNumber\" layout=\"${event-context:item=callerline}\" /&gt;\n\n&lt;/target&gt;\n</code></pre>\n\n<p>Logger Class</p>\n\n<pre><code>using Microsoft.AspNetCore.Http;\nusing NLog;\nusing System;\nusing System.Runtime.CompilerServices;\n\nnamespace Project.Log\n{\n    public class CustomLogger\n    {\n        private readonly Logger logger;\n        private Type type;\n\n        public RhesusLog(Type type)\n        {\n            this.type = type;\n            this.logger = LogManager.GetLogger(type.FullName);\n        }\n\n        public void Debug(string msg, Exception ex = null,\n            [CallerFilePath] string CallerPath = \"\",\n            [CallerMemberName] string CallerMember = \"\",\n            [CallerLineNumber] int CallerLine = 0, params object[] args)\n        {\n            this.Log(LogLevel.Debug, msg, ex, CallerPath, CallerMember, CallerLine);\n        }\n\n        public void Info(string msg, Exception ex = null,\n            [CallerFilePath] string CallerPath = \"\",\n            [CallerMemberName] string CallerMember = \"\",\n            [CallerLineNumber] int CallerLine = 0)\n        {\n            this.Log(LogLevel.Info, msg, ex, CallerPath, CallerMember, CallerLine);\n        }\n\n        // Other Levels logs ....\n\n        private void Log(LogLevel Level, string msg,\n            Exception Exception = null, string CallerPath = \"\",\n            string CallerMember = \"\", int CallerLine = 0, params object[] parameters)\n        {\n            LogEventInfo LogEvent = new LogEventInfo(Level, this.type.FullName, msg);\n            LogEvent.Parameters = parameters;\n            LogEvent.Exception = Exception;\n            LogEvent.Properties.Add(\"callerpath\", CallerPath);\n            LogEvent.Properties.Add(\"callermember\", CallerMember);\n            LogEvent.Properties.Add(\"callerline\", CallerLine);\n\n            this.logger.Log(LogEvent);\n        }\n    }\n}\n</code></pre>\n\n<p>I have used NLog Log and I can see this message on the Log</p>\n\n<pre><code>2018-09-06 23:31:44.6183 Debug Setting 'DatabaseParameterInfo.layout' to '${aspnet-request-ip}'\n2018-09-06 23:31:44.6183 Debug Missing serviceProvider, so no HttpContext\n</code></pre>\n"}, {"tags": ["c#", "image", "loops", "matrix", "submatrix"], "comments": [{"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1536176035, "post_id": 52191973, "comment_id": 91334247, "body": "First thing I notice is that totalblocknumber should maybe be width * height / 16.  The number of 4 x 4 blocks in a width x height image is (width / 4) * (height / 4) = width * height / 16."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1536176382, "post_id": 52191973, "comment_id": 91334392, "body": "yes i write it wrong here..corected it"}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1536176546, "post_id": 52191973, "comment_id": 91334451, "body": "Any ideo how is it done ?"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1536758138, "post_id": 52191973, "comment_id": 91539972, "body": "Random tip:  <code>pictureBox1.Image = bmp</code>.   <code>Bitmap</code>s are <code>Image</code>s.  No need to load the image twice."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1536778214, "post_id": 52191973, "comment_id": 91551110, "body": "thanks for the tip, but what about the whole solution.Still i couldnt use your codes :/"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536177166, "post_id": 52192401, "comment_id": 91334746, "body": "i&#39;ll deal with the &quot;dividable by 4 &quot; problem later. Now test objects are always dividable by 4. But i couldnt get this structure completely :( sorry.  How can i drive a loop from blocks using this example that populate my final 1600x1600 matrix"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536177347, "post_id": 52192401, "comment_id": 91334815, "body": "<code>for(y=0; y&lt;1600; y++) for(x=0;x&lt;1600;x++) bmp.SetPixel(x,y, bw_to_color( grayscale_map_block[n][y_][x_]))</code>"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536177708, "post_id": 52192401, "comment_id": 91334970, "body": "Would it help if I wrote it out entirely?  That&#39;ll take me more time, I thought this would be enough to give you the gist of it.  I&#39;m reluctant to actually write that code because the &quot;list of lists&quot; is an inefficient way to store pixels, it&#39;s much better to use an array.  And the &quot;getpixel/setpixel&quot; access pattern is also poor if you&#39;re going to visit every pixel.  You should instead use LockBits and it will be many many times faster.  It&#39;s not really a good advice to do what you&#39;re doing.  But I&#39;ll do it if you want."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536178146, "post_id": 52192401, "comment_id": 91335164, "body": "when i started this program , too many suggestions came up, lockbits as well , but since i&#39;m new in c# (this is my first program actually) , all of them looked very diffucult . i couldn&#39;t understand them. But with this i did it. Because in math operations i needed that form. Block [blocknumber] [row] [coloumb]. Thats why i choosed it. This is gonna be image encryption program. \u0130f it be slow , i can change my codes again. NOW i am still trying the understand this consept. But still i couldnt. Maybe you should write all . Thanks. And i will search for Lockbits as well"}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536245412, "post_id": 52192401, "comment_id": 91362765, "body": "Thank you for the code. \u0130t is a good structure. I think i understand a little. But i must say that , my program actually is not a image processing program. I am only using image functions on start and end of the program.Between Theese i am just making math operations. Thats why i used that form , Block [i] [x] [y]. the math operations i do with 4x4 blocks are complex. Thats why this form suits me. You can see what i am doing from here <a href=\"https://www.youtube.com/watch?v=gP4PqVGudtg\" rel=\"nofollow noreferrer\">link</a> if you say i can get theese form &quot;block [i] [x][y]&quot; from this structure , i can change all my codes."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536245666, "post_id": 52192401, "comment_id": 91362951, "body": "Otherwise i just only need the codes for the getting final matrix from blocks. The &quot;List&lt;List structure&quot; doesnt matter too much , because %99 percent of my program just just adding shifting operations.."}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536245682, "post_id": 52192401, "comment_id": 91362963, "body": "In your previous comment you said &quot;this is gonna be image encryption program&quot;, then you said &quot;actually is not a image processing program&quot;.  Those two statements are in conflict with each other because <i>image encryption</i> <i>is</i> <i>image processing</i> IMO."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536245790, "post_id": 52192401, "comment_id": 91363058, "body": "if you look at this link you&#39;ll understand actually it is not a really image processing&quot; <a href=\"https://www.youtube.com/watch?v=gP4PqVGudtg\" rel=\"nofollow noreferrer\">link</a>. just math operations. Alot of math operations with 4x4 blocks"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536247126, "post_id": 52192401, "comment_id": 91363899, "body": "It seems like you just want the access pattern of [i][x&#39;][y&#39;] on your 2d [x][y] array where <code>i</code> is the <i>block number</i> when turning your 2d array into blocks of 4x4.  This is just an index remapping exercise.  You don&#39;t actually need to store your data in a different format to access it with a different pattern.  I can show if you like."}], "tags": [], "owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "is_accepted": false, "score": 0, "last_activity_date": 1536176647, "creation_date": 1536176647, "answer_id": 52192401, "question_id": 52191973, "link": "https://stackoverflow.com/questions/52191973/c-creating-matrix-from-sub-matrixes/52192401#52192401", "title": "c# Creating Matrix from sub matrixes", "body": "<p>You can map [x,y] -> [n,x_,y_] like this:  </p>\n\n<pre><code>n = (y / 4) * (width/4) + (x/4);\nx_ = x % 4;\ny_ = y % 4;\n</code></pre>\n\n<p>The idea is to calculate n is use the index of the sub-block vertically (y / 4), and then multiply that by the number of sub-blocks in a row (width / 4), and then add the index of the sub-block horizontally (x / 4).</p>\n\n<p>Then use the modulus operator (%) to compute the row,column address within the sub-block.</p>\n\n<p>To map from [n,x_,y_] to [x,y]</p>\n\n<pre><code>x = (n % (width / 4)) * 4 + x_;\ny = (n / (width / 4)) * 4 + y_;\n</code></pre>\n\n<p>The idea there is to recover the horizontal and vertical index of the sub-block from the single index n.  The vertical index is n divided by the number of sub-blocks in a row, which is (width / 4).  The vertical address of the pixel is the vertical index times 4 plus the sub-block row.  Horizontally you use the modulus operator again to recover the horizontal index of the block.  n % (width / 4).  Then similarly, multiply by 4 and add x_ to get the horizontal pixel index (column index).</p>\n\n<p><strong>Note:</strong> The math I provided only works if width and height are even multiples of 4.  If the width and height do not divide evenly by 4 then you have to do slightly different math, but you also would need to handle sub-blocks that aren't 4 x 4, so I'll assume you don't want to do that for now -- but I can help you with that too, if needed.</p>\n"}, {"tags": [], "owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "is_accepted": false, "score": 0, "last_activity_date": 1536201345, "creation_date": 1536201345, "answer_id": 52195703, "question_id": 52191973, "link": "https://stackoverflow.com/questions/52191973/c-creating-matrix-from-sub-matrixes/52195703#52195703", "title": "c# Creating Matrix from sub matrixes", "body": "<p>OK. Here's one that uses GetPixel and SetPixel (Bad for performance, but easy to understand.  In a perfect world, you would use LockBits instead.  But let's just keep it simple for now.)</p>\n\n<p>And instead of using lists of lists, I just went with 2D arrays.  This is much simpler.  The \"blocks\" are just 2D arrays of 2D arrays.  I suppose you could think of it like an image where each pixel is an entire image -- or maybe think of it as a grid of tiny square images.</p>\n\n<p>Looks like you've got loading and saving of Bitmaps under control, so I'll omit that part.</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Example Image Processing class\n/// Demonstrates treating images as 2D arrays.\n/// &lt;/summary&gt;\npublic class ImageProcessor {\n    /// &lt;summary&gt;\n    /// Creates a 2D array of Colors from a bitmap.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"bm\"&gt;The input bitmap&lt;/param&gt;\n    /// &lt;returns&gt;The output Color array&lt;/returns&gt;\n    public static Color[,] BitmapToColorArray(Bitmap bm) {\n        int width = bm.Width;\n        int height = bm.Height;\n        Color[,] colorArray = new Color[width, height];\n        for (int y = 0; y &lt; height; ++y) {\n            for (int x = 0; x &lt; width; ++x) {\n                colorArray[x, y] = bm.GetPixel(x, y);\n            }\n        }\n        return colorArray;\n    }\n\n    /// &lt;summary&gt;\n    /// Creates a Bitmap from a 2D array of Colors.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"colorArray\"&gt;The input Color 2D array&lt;/param&gt;\n    /// &lt;returns&gt;The output bitmap&lt;/returns&gt;\n    public static Bitmap ColorArrayToBitmap(Color[,] colorArray) {\n        int width = colorArray.GetLength(0);\n        int height = colorArray.GetLength(1);\n        Bitmap bm = new Bitmap(width, height, System.Drawing.Imaging.PixelFormat.Format24bppRgb);\n        for (int y = 0; y &lt; height; ++y) {\n            for (int x = 0; x &lt; width; ++x) {\n                bm.SetPixel(x, y, colorArray[x, y]);\n            }\n        }\n        return bm;\n    }\n\n    /// &lt;summary&gt;\n    /// Converts a Color to a gray value 0-255.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"color\"&gt;The input color&lt;/param&gt;\n    /// &lt;returns&gt;The output gray value.&lt;/returns&gt;\n    public static int ColorToGray(Color color) {\n        int gray = (color.R * 30 + color.G * 59 + color.B * 11) / 100;\n        return gray;\n    }\n\n    /// &lt;summary&gt;\n    /// Converts a gray value to a Color\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"gray\"&gt;The input gray value&lt;/param&gt;\n    /// &lt;returns&gt;The output Color&lt;/returns&gt;\n    public static Color GrayToColor(int gray) {\n        return Color.FromArgb(gray, gray, gray);\n    }\n\n    /// &lt;summary&gt;\n    /// Creates a 2D gray array from a 2D Color array\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"colorArray\"&gt;The input 2D Color array&lt;/param&gt;\n    /// &lt;returns&gt;The output 2D gray array&lt;/returns&gt;\n    public static int[,] ColorArrayToGrayArray(Color[,] colorArray) {\n        int width = colorArray.GetLength(0);\n        int height = colorArray.GetLength(1);\n        int[,] grayArray = new int[width, height];\n        for (int y = 0; y &lt; height; ++y) {\n            for (int x = 0; x &lt; width; ++x) {\n                grayArray[x,y] = ColorToGray(colorArray[x, y]);\n            }\n        }\n        return grayArray;\n    }\n\n    /// &lt;summary&gt;\n    /// Creates a 2D Color Array from a 2D gray array\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"grayArray\"&gt;The input 2D gray array&lt;/param&gt;\n    /// &lt;returns&gt;The output 2D Color array&lt;/returns&gt;\n    public static Color[,] GrayArrayToColorArray(int[,] grayArray) {\n        int width = grayArray.GetLength(0);\n        int height = grayArray.GetLength(1);\n        Color[,] colorArray = new Color[width, height];\n        for (int y = 0; y &lt; height; ++y) {\n            for (int x = 0; x &lt; width; ++x) {\n                colorArray[x, y] = GrayToColor(grayArray[x, y]);\n            }\n        }\n        return colorArray;\n    }\n\n    /// &lt;summary&gt;\n    /// Generic function to extract a 2D rectangular sub-area of an array as a new 2D array.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The generic type&lt;/typeparam&gt;\n    /// &lt;param name=\"src\"&gt;The input 2D array&lt;/param&gt;\n    /// &lt;param name=\"srcx\"&gt;The column of the top-left corner of the sub-area to extract&lt;/param&gt;\n    /// &lt;param name=\"srcy\"&gt;The row of the top-left corner of the sub-area to extract&lt;/param&gt;\n    /// &lt;param name=\"dstWidth\"&gt;The width of the sub-area to extract&lt;/param&gt;\n    /// &lt;param name=\"dstHeight\"&gt;The height o fthe sub-area to extract&lt;/param&gt;\n    /// &lt;returns&gt;The output 2D array&lt;/returns&gt;\n    public static T[,] SubArray&lt;T&gt;(T[,] src, int srcx, int srcy, int dstWidth, int dstHeight) {\n        int srcWidth = src.GetLength(0);\n        int srcHeight = src.GetLength(1);\n        if (srcx &lt; 0) throw new ArgumentOutOfRangeException();\n        if (srcy &lt; 0) throw new ArgumentOutOfRangeException();\n        if (srcx + dstWidth &gt; srcWidth) throw new ArgumentOutOfRangeException();\n        if (srcy + dstHeight &gt; srcHeight) throw new ArgumentOutOfRangeException();\n        T[,] dst = new T[dstWidth, dstHeight];\n        for (int dsty = 0; dsty &lt; dstHeight; ++dsty) {\n            for (int dstx = 0; dstx &lt; dstWidth; ++dstx) {\n                dst[dstx, dsty] = src[srcx + dstx, srcy + dsty];\n            }\n        }\n        return dst;\n    }\n\n    /// &lt;summary&gt;\n    /// Generic function to convert a 2D array into blocks (2D array of 2D arrays)\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The generic type&lt;/typeparam&gt;\n    /// &lt;param name=\"src\"&gt;The input 2D array&lt;/param&gt;\n    /// &lt;param name=\"blockSize\"&gt;The width and height of each square block&lt;/param&gt;\n    /// &lt;returns&gt;The output 2D array of 2D arrays&lt;/returns&gt;\n    public T[,][,] ArrayToBlockArray&lt;T&gt;(T[,] src, int blockSize) {\n        int srcWidth = src.GetLength(0);\n        int srcHeight = src.GetLength(1);\n        if (srcWidth % blockSize != 0) throw new Exception(string.Format(\"Width must be divisible by {0}\", blockSize));\n        if (srcHeight % blockSize != 0) throw new Exception(string.Format(\"Height must be divisible by {0}\", blockSize));\n        int dstWidth = srcWidth / blockSize;\n        int dstHeight = srcHeight / blockSize;\n        T[,][,] dst = new T[dstWidth, dstHeight][,]; // The syntax for creating new array of arrays is weird.\n        for (int dsty = 0; dsty &lt; dstHeight; ++dsty) {\n            for (int dstx = 0; dstx &lt; dstWidth; ++dstx) {\n                dst[dstx, dsty] = SubArray(src, dstx * blockSize, dsty * blockSize, blockSize, blockSize);\n            }\n        }\n        return dst;\n    }\n\n    /// &lt;summary&gt;\n    /// Generic function to convert a 2D array of blocks (2D array of 2D arrays) back into a single 2D array.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The generic type&lt;/typeparam&gt;\n    /// &lt;param name=\"src\"&gt;The input 2D array of 2D arrays&lt;/param&gt;\n    /// &lt;returns&gt;The output 2D array&lt;/returns&gt;\n    public T[,] BlockArrayToArray&lt;T&gt;(T[,][,] src) {\n        // assume uniform size\n        int blockWidth = src[0, 0].GetLength(0);\n        int blockHeight = src[0, 0].GetLength(1);\n        int srcWidth = src.GetLength(0);\n        int srcHeight = src.GetLength(1);\n        int dstWidth = srcWidth * blockWidth;\n        int dstHeight = srcHeight * blockHeight;\n        T[,] dst = new T[dstWidth, dstHeight];\n        for (int srcy = 0; srcy &lt; srcHeight; ++srcy) {\n            for (int srcx = 0; srcx &lt; srcWidth; ++srcx) {\n                for (int blocky = 0; blocky &lt; blockHeight; ++blocky ) {\n                    for (int blockx = 0; blockx &lt; blockWidth; ++blockx) {\n                        T[,] block = src[srcx, srcy];\n                        if (block.GetLength(0) != blockWidth) throw new Exception(string.Format(\"Blocks must all have width {0}\", blockWidth));\n                        if (block.GetLength(1) != blockHeight) throw new Exception(string.Format(\"Blocks must all have height {0}\", blockHeight));\n                        int dstx = srcx * blockWidth + blockx;\n                        int dsty = srcy * blockHeight + blocky;\n                        dst[dstx, dsty] = src[srcx, srcy][blockx, blocky];\n                    }\n                }\n            }\n        }\n        return dst;\n    }\n\n    /// &lt;summary&gt;\n    /// Example function that does end-to-end processing of a Bitmap.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"srcBitmap\"&gt;The input bitmap&lt;/param&gt;\n    /// &lt;returns&gt;The output bitmap&lt;/returns&gt;\n    public Bitmap Process(Bitmap srcBitmap) {\n        const int blockSize = 4;\n\n        Color[,] srcColorArray = BitmapToColorArray(srcBitmap);\n        int[,] srcGrayArray = ColorArrayToGrayArray(srcColorArray);\n        int[,][,] srcBlockArray = ArrayToBlockArray(srcGrayArray, blockSize);\n\n        // TODO: Presumably you're going to modify the source block array.\n        int[,][,] dstBlockArray = srcBlockArray; // PLACEHOLDER: do nothing for now.\n\n        // Reconstitute a new bitmap from the (presumably modified) destination block array.\n        int[,] dstGrayArray = BlockArrayToArray(dstBlockArray);\n        Color[,] dstColorArray = GrayArrayToColorArray(dstGrayArray);\n        Bitmap dstBitmap = ColorArrayToBitmap(dstColorArray);\n        return dstBitmap;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536267330, "post_id": 52207734, "comment_id": 91373399, "body": "Hmm. I think I&#39;m getting somewhere. Now Lets say i&#39;ve done math operations in blocks and i&#39;ll assign it to &quot;encrypted_array[width,height]&quot;. How will i populate it with element in the blocks using this codes. Also this line &quot;Debug.Assert(b[402, 2, 1] == 999);&quot; Visual studio doesn&#39;t recognise Debug. \u0130t say &quot;The name Debug Does not exist in current context. What is it for. What should i do after &quot;BlockData enrypted_Array = new BlockData() { data = new int[width, height] }; (Also dont think that i just ask and ask without trying. I do all my effort to understand and make it work ,then I came here)"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536339816, "post_id": 52207734, "comment_id": 91403150, "body": "Two choices to resolve making the &quot;The name Debug does not exist...&quot; error:  1) Add <code>using System.Diagnostics;</code> to the top of the file to make the <code>Debug</code> thing work.  or 2) you can just replace the word <code>Debug</code> with <code>System.Diagnostics.Debug</code> explicitly.  Sorry for omitting it, but resolve &quot;using&quot; issues is a pretty typical kind of thing we do in C# land.  So much that Visual Studio provides &quot;Quick actions and refactoring...&quot; to deal with it. You can put your cursor on <code>Debug</code> and hit Ctrl+. (that&#39;s Control and period) and the IDE will propose the two solutions I mentioned above."}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536367418, "post_id": 52207734, "comment_id": 91411661, "body": "As for how will you use it...it should be an appropriate wrapper for your <code>int_grayscale_map</code>."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536695582, "post_id": 52207734, "comment_id": 91514745, "body": "i&#39;ve been trying lots of solutions , still couldn&#39;t succed it. i dont know why. Yes Debug.Assert is working. But i dont know what it does. From this codes , Where is my latest 2d matrix. \u0130S \u0130T  b ? How would i populate it ? adding &quot;BlockData b = new BlockData() { data = new int[1600, 1600] };&quot; code is enough?"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536697652, "post_id": 52207734, "comment_id": 91515651, "body": "<code>BlockData b = new BlockData() { data = int_grayscale_map };</code>"}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536698545, "post_id": 52207734, "comment_id": 91515982, "body": "i should be able to pass &quot;grayscale_map_block [n] [x] [y]&quot; to class , but i cant do it  it says cannot convert type  List... to int[&quot;,&quot;]. i tried convert.toint32 , doesnt work.class needs 2d matrix to pass"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536785764, "post_id": 52207734, "comment_id": 91554376, "body": "The example I wrote uses a 2D array natively, and provides 3D access to it.  You can copy it in element by element if you want.  <code>for(int n=0; n&lt;N; ++n) for( int y=0; y&lt;4; ++y) for( int x=0; x&lt;4; ++x) b[n,x,y] = int_grayscale_map[n][x][y]</code>.  Sorry you&#39;re still having trouble."}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536870440, "post_id": 52207734, "comment_id": 91590217, "body": "i just need clean 2d array from blocks. i dont think this structure work for me. still it gives errors. i have to start from strach. thanks four your help. i have to delete question to ask again for different ideas. thanks for everythink"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1536887732, "post_id": 52207734, "comment_id": 91594609, "body": "Just to confirm....your input is the <code>int_grayscale_map[n][x][y]</code> array and your output will be back into the 2d <code>int_grayscale_map[1600,1600]</code>(or possibly a brand new <code>int_brandnew_grayscale_map[1600,1600]</code> -- which is basically the same code) right?"}, {"owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "edited": false, "score": 0, "creation_date": 1537146507, "post_id": 52207734, "comment_id": 91663705, "body": "my first input came from image is <b>grayscale_map [1600,1600]</b> , then with List&lt;List&lt;List structure i split it 4x4 blocks <b>grayscale_map_block [n] [x] [y]</b> , and after some operations with these blocks my final 2d matrix is int_<b>brandnew_grayscale_map[1600,1600]</b>. Where i stucked is from <b>grayscale_map_block [n] [x] [y]</b> to 2d array <b>brandnew_grayscale_map[1600,1600]</b>. Basicly thats it"}], "tags": [], "owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "is_accepted": true, "score": 0, "last_activity_date": 1536248332, "creation_date": 1536248332, "answer_id": 52207734, "question_id": 52191973, "link": "https://stackoverflow.com/questions/52191973/c-creating-matrix-from-sub-matrixes/52207734#52207734", "title": "c# Creating Matrix from sub matrixes", "body": "<p>Here is an example of accessing a 2D array with a different indexing mechanism.  Here <code>n</code> is the block number and <code>x</code> and <code>y</code> are the 0-3 indices within the 4x4 block.  This just remaps (n,x,y) to (xx,yy) which are the indices of the data in the original 2D array.</p>\n\n<pre><code>class BlockData\n{\n    public int[,] data;\n\n    internal void reindex(int n, int x, int y, out int xx, out int yy)\n    {\n        const int blockSize = 4;\n        int width = data.GetLength(0);\n        int columns = width / blockSize;\n        int row = n / columns;\n        int col = n % columns;\n        xx = col * blockSize + x;\n        yy = row * blockSize + y;\n    }\n\n    public int this[int n, int x, int y]\n    {\n        get\n        {\n            int xx, yy;\n            reindex(n, x, y, out xx, out yy);\n            return data[xx, yy];\n        }\n        set\n        {\n            int xx, yy;\n            reindex(n, x, y, out xx, out yy);\n            data[xx, yy] = value;\n        }\n    }\n    public int this[int xx, int yy]\n    {\n        get\n        {\n            return data[xx, yy];\n        }\n        set\n        {\n            data[xx, yy] = value;\n        }\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        BlockData b = new BlockData() { data = new int[1600, 1600] };\n        b[10, 5] = 999;\n        // (10,5) is in the 402nd block of 4x4 at (2,1) within that block.\n        Debug.Assert(b[402, 2, 1] == 999);\n\n        b[888, 3, 2] = 777;\n        // The 888th block is row 2, column 88.  Its top-left is at ((88*4),(2*4)).\n        // (352 + 3, 8 + 2) = (355, 10)\n        Debug.Assert(b[355, 10] == 777);\n    }\n}\n</code></pre>\n\n<p>Using the same strategy, you could store your data internally as a 1D array too and provide different index mappings from [n][x][y] to just a linear [i].</p>\n\n<p>Providing an object with an array index operator is really just \"cute\".  It's not necessary.  The idea is just to do the math to calculate the indices of your source data you want to access.  But it helps illustrate my point.</p>\n\n<p>(Performance note:  You could optimize this so that <code>blockSize</code>, <code>width</code>, and <code>columns</code> are precomputed when you initialize <code>data</code> if you wanted to speed up access time and avoid calling <code>data.GetLength(0)</code> all the time.)</p>\n"}], "owner": {"reputation": 45, "user_id": 1867626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78eba402fa2c901f0f8750250e7f68f?s=128&d=identicon&r=PG", "display_name": "SadViolinMan", "link": "https://stackoverflow.com/users/1867626/sadviolinman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 52207734, "answer_count": 3, "score": 0, "last_activity_date": 1536248332, "creation_date": 1536174769, "last_edit_date": 1536176428, "question_id": 52191973, "link": "https://stackoverflow.com/questions/52191973/c-creating-matrix-from-sub-matrixes", "title": "c# Creating Matrix from sub matrixes", "body": "<p>Hello high Skilled Programmers</p>\n\n<p>I have a test image 1600x1600. I imported this to a matrix as grayscale int values. Then i created 4x4 sub matrixes from that matrix.I made some math operations in these blocks and created new blocks. Now i need to create a new matrix again (1600x1600) from that new 4x4 blocks.But i couldnt create the loop. I Have (1600/4 * 1600/4 = 160 000) sub matrixes totaly. (Of course my program is not static , the input image can be anything.This is for test image). Now this is my structure.</p>\n\n<pre><code>Bitmap bmp = new Bitmap(\"c:\\\\test.jpg\");\npictureBox1.Image = Image.FromFile(\"c:\\\\test.jpg\");\nint width = bmp.Width; int height = bmp.Height;\n\n  while (y &lt; height) {\n      while (x &lt; width) {\n      pxl = bmp.GetPixel(x, y);\n      int_grayscale_map[x, y] = GetGrayScale(pxl); //getgrayscale is function that returns int value\n      x++;}\n   y++;}\n\n   int totalblocknumber = (width/4) * (height / 4); //160 000 in this case\n</code></pre>\n\n<p>Now I created and populated the sub blocks from this codes. Someone helped me here.(think that we puzzled the 1600x1600 image to 4x4 pieces)</p>\n\n<pre><code>Bitmap image = new Bitmap(FILENAME);\n\n        List&lt;List&lt;List&lt;Int32&gt;&gt;&gt; grayscale_map_block = newList&lt;List&lt;List&lt;Int32&gt;&gt;&gt;();\n         for (int row = 0; row &lt; height; row += 4)\n        {\n            for (int col = 0; col &lt; width; col += 4)\n            {\n                block.Add(new List&lt;List&lt;Color&gt;&gt;()  {\n                     new List&lt;Color&gt;() { image.GetPixel(col, row), image.GetPixel(col + 1, row), image.GetPixel(col + 2, row), image.GetPixel(col + 3, row)} ,\n                     new List&lt;Color&gt;() { image.GetPixel(col, row + 1), image.GetPixel(col + 1, row + 1), image.GetPixel(col + 2, row + 1), image.GetPixel(col + 3, row + 1)} ,\n                     new List&lt;Color&gt;() { image.GetPixel(col, row + 2), image.GetPixel(col + 1, row + 2), image.GetPixel(col + 2, row + 2), image.GetPixel(col + 3, row + 2)} ,\n                     new List&lt;Color&gt;() { image.GetPixel(col, row + 3), image.GetPixel(col + 1, row + 3), image.GetPixel(col + 2, row + 3), image.GetPixel(col + 3, row + 3)} ,\n                });\n\n                grayscale_map_block.Add(new List&lt;List&lt;Int32&gt;&gt;()  {\n                     new List&lt;Int32&gt;() { GetGrayScale(image.GetPixel(col, row)), GetGrayScale(image.GetPixel(col + 1, row)), GetGrayScale(image.GetPixel(col + 2, row)), GetGrayScale(image.GetPixel(col + 3, row))} ,\n                     new List&lt;Int32&gt;() { GetGrayScale(image.GetPixel(col, row + 1)), GetGrayScale(image.GetPixel(col + 1, row + 1)), GetGrayScale(image.GetPixel(col + 2, row + 1)), GetGrayScale(image.GetPixel(col + 3, row + 1))} ,\n                     new List&lt;Int32&gt;() { GetGrayScale(image.GetPixel(col, row + 2)), GetGrayScale(image.GetPixel(col + 1, row + 2)), GetGrayScale(image.GetPixel(col + 2, row + 2)), GetGrayScale(image.GetPixel(col + 3, row + 2))} ,\n                     new List&lt;Int32&gt;() { GetGrayScale(image.GetPixel(col, row + 3)), GetGrayScale(image.GetPixel(col + 1, row + 3)), GetGrayScale(image.GetPixel(col + 2, row + 3)), GetGrayScale(image.GetPixel(col + 3, row + 3))} ,\n                });\n\n            }\n        }          // Getgrayscale is a function that input color return int value\n</code></pre>\n\n<p>All that is. Now i have 160 000 piece of 4x4 matrix caled <strong>\"grayscale_map_block\"</strong>\ni am using this code to get the element of the blocks\n<strong>grayscale_map_block [n] [x] [y]</strong> / n'th block , x,y element.\n where n =0-totalblocknumber</p>\n\n<p>From that blocks i must smartly create a loop that get pieces together. A new 1600x1600 matrix. Thanks for your helps..</p>\n"}, {"tags": ["c#", ".net", "webclient"], "comments": [{"owner": {"reputation": 12006, "user_id": 952310, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/esN85.jpg?s=128&g=1", "display_name": "Yair Nevet", "link": "https://stackoverflow.com/users/952310/yair-nevet"}, "edited": false, "score": 1, "creation_date": 1536174246, "post_id": 52191828, "comment_id": 91333416, "body": "checkout the following answer: <a href=\"https://stackoverflow.com/a/22134980/952310\">https://stackoverflow.com/a/22134980/952310</a>"}, {"owner": {"reputation": 95, "user_id": 2267478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3fc7c88fb163088b0c1eecffdd56584?s=128&d=identicon&r=PG", "display_name": "Griswald_911", "link": "https://stackoverflow.com/users/2267478/griswald-911"}, "edited": false, "score": 0, "creation_date": 1536174971, "post_id": 52191828, "comment_id": 91333762, "body": "I believe <a href=\"https://stackoverflow.com/a/18516970/2267478\">this</a> will be of use."}, {"owner": {"reputation": 352, "user_id": 9279154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MR4C2.jpg?s=128&g=1", "display_name": "Jenny", "link": "https://stackoverflow.com/users/9279154/jenny"}, "edited": false, "score": 0, "creation_date": 1536202760, "post_id": 52191828, "comment_id": 91341212, "body": "so this is a feature? interesting..."}], "owner": {"reputation": 352, "user_id": 9279154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MR4C2.jpg?s=128&g=1", "display_name": "Jenny", "link": "https://stackoverflow.com/users/9279154/jenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 411, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536174061, "creation_date": 1536174061, "question_id": 52191828, "link": "https://stackoverflow.com/questions/52191828/c-set-webclient-useragent-permanently", "title": "c# set WebClient useragent permanently", "body": "<p>I am using WebClient to send some request to github api.</p>\n\n<pre><code>var wc = new WebClient();\nwc.Headers.Add(\"user-agent\", \"notempty\"); \nwc.Headers.Add(\"authorization\", \"basic \" + Convert.ToBase64String(\"user:password\"));\nvar response = wc.DownloadString(url + \"/labels\");\n...\nvar response = wc.DownloadString(url + \"/issues\");\n</code></pre>\n\n<p>First I query all labels and then all issues</p>\n\n<p>However on the 2nd DownloadString I get the following exception:</p>\n\n<blockquote>\n  <p>Unhandled Exception: System.Net.WebException: The server committed a protocol violation. Section=ResponseStatusLine\n     at System.Net.WebClient.DownloadDataInternal(Uri address, WebRequest&amp; request)\n     at System.Net.WebClient.DownloadString(Uri address)</p>\n</blockquote>\n\n<p>I don't get the exception if I set the useragent after first DownloadString. Why is that?</p>\n"}, {"tags": ["c#", "django", "rest", "django-rest-framework", "csrf"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10320715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09ee46d6d2db6f8f8d9e31772364be94?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/10320715/mitch"}, "is_accepted": true, "score": 0, "last_activity_date": 1539339376, "creation_date": 1539339376, "answer_id": 52777357, "question_id": 52191814, "link": "https://stackoverflow.com/questions/52191814/django-csrf-token-missing-or-incorrect-when-doing-a-put-in-c-net/52777357#52777357", "title": "Django: CSRF token missing or incorrect when doing a PUT in C# .net", "body": "<p>So the problem here was that we were trying to use the API out of the context of browsing webpages, and purely as an api to do GET/POST/.. calls on.  This does not work when you are using CSRF tokens because these tokens are passed along when browsing in the form of cookies and metadata in the html page.</p>\n\n<p>So using an api with CSRF tokens only works if the API is used in the context of browsing.\nIf you want to use the API out of that context, you need to use a different form of authentication like OAuth2.</p>\n\n<p>For this to work without the context of browsing, you have to fetch a html page for every POST/PUT/DELETE to get a new CSRF token which you have to pass along with the call.\nObviously this brings a lot of overhead, and this is not how you want to work with an API.</p>\n\n<p>I asked the API developper, to provide OAuth2 authentication.</p>\n"}], "owner": {"reputation": 11, "user_id": 10320715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09ee46d6d2db6f8f8d9e31772364be94?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/10320715/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 52777357, "answer_count": 1, "score": 1, "last_activity_date": 1539339376, "creation_date": 1536173977, "question_id": 52191814, "link": "https://stackoverflow.com/questions/52191814/django-csrf-token-missing-or-incorrect-when-doing-a-put-in-c-net", "title": "Django: CSRF token missing or incorrect when doing a PUT in C# .net", "body": "<p>I am building an plugin for a certain application in c# which has to communicate with a Django rest interface.\nAs you know, Django uses CSRF tokens for extra security.</p>\n\n<p>I have a problem when doing a POST/PUT call to Django. The call will always return \"CSRF Failed: CSRF token missing or incorrect.\".\nI tested the call in the browser (The web interface can also edit data, and will call the same PUT request), and to my surprise a different csrf token value is used in the X-CSRFToken header, than the one stored in the cookie. Is the X-CSRFToken header supposed to use a newly generated token ? The X-CSRFToken value is never used again after this call (the old csrftoken value is still used for all subsequent calls...).</p>\n\n<p>Obiously I have also read the Django docs regarding csrf tokens. Even though I think I understand how it works, I don't get why a new token is used for a POST/PUT. There are a lot of examples which do not make sense for use in my C# plugin.</p>\n\n<p>What i do before doing the PUT:</p>\n\n<ul>\n<li>Fetch the CSRF token by requesting the login page which contains the csrfmiddlewaretoken in it's body.</li>\n<li>Store a cookie \"csrftoken\" with the token as value (The cookie is not stored automatically, unfortunately)</li>\n<li>Login the user (POST) using credentials (csrfmiddlewaretoken={token} is also passed as parameter)</li>\n</ul>\n\n<p>After doing the above, all GET calls work perfectly.\nThe problem occurs when i try to do a POST or PUT.\nThis is my PUT code, ignoring the json and url generation since these are not the issue:</p>\n\n<pre><code>// The _csrftoken used here, is the one I fetch at the beginning\nClient().DefaultRequestHeaders.Add(\"X-CSRFToken\", _csrftoken);\n\n// The content is json\nvar response = Client().PutAsync(url, content).GetAwaiter().GetResult();\n\n// The returned content is: {\"detail\":\"CSRF Failed: CSRF token missing or incorrect.\"}\"\nvar content = response.Content.ReadAsStringAsync().GetAwaiter().GetResult();\n\n// 403 is returned\nif (response.IsSuccessStatusCode) { ... }\n</code></pre>\n\n<p>The above code is made with the following state:</p>\n\n<ul>\n<li>User is logged in (sessionid cookie is available)</li>\n<li>csrf token is available from login (csrftoken cookie is also available)</li>\n</ul>\n\n<p>What I have tried to resolve the issue:</p>\n\n<ul>\n<li>Pass csrfmiddlewaretoken={token} as a parameter</li>\n<li>store a X-CSRFToken cookie</li>\n<li>Using the X-CSRFToken which i copied from a PUT done in the web interface</li>\n<li>Trying HttpWebRequest instead of PutAsync</li>\n<li>Replicate a PUT from the web interface by copying all the headers/parameters/cookies from a PUT done in the web interface</li>\n<li>...</li>\n</ul>\n\n<p>Can someone help me understand what I am doing wrong ?</p>\n\n<p>Thank you very much for any help you can give me.</p>\n"}, {"tags": ["c#", "nuget"], "comments": [{"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536174962, "post_id": 52191667, "comment_id": 91333757, "body": "Can you be more specific? What does the nuspec file look like? Are the libs (ProjectA nuget) copied to the output folder when building ProjectB?"}, {"owner": {"reputation": 421, "user_id": 4562939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0V2Uuooei1c/AAAAAAAAAAI/AAAAAAAAAKg/O8JCWbohiMA/photo.jpg?sz=128", "display_name": "Ishu Goyal", "link": "https://stackoverflow.com/users/4562939/ishu-goyal"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536178743, "post_id": 52191667, "comment_id": 91335400, "body": "I tried adding &lt;files&gt; section in the nuspec but apparently that doesn&#39;t get used when you are packing using .csproj and I still want to use .csproj. And yeah the libs are copied to the bin of project B"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536178869, "post_id": 52191667, "comment_id": 91335461, "body": "Bad news, you need to use a nuspec for something like this, if the libs are not part of nugets themselves :)"}], "owner": {"reputation": 421, "user_id": 4562939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0V2Uuooei1c/AAAAAAAAAAI/AAAAAAAAAKg/O8JCWbohiMA/photo.jpg?sz=128", "display_name": "Ishu Goyal", "link": "https://stackoverflow.com/users/4562939/ishu-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536173275, "creation_date": 1536173275, "question_id": 52191667, "link": "https://stackoverflow.com/questions/52191667/using-external-nuget-as-a-dependency-while-creating-own-nuget-assembly-outside", "title": "Using external nuget as a dependency while creating own nuget, assembly outside lib folder", "body": "<p>I am using an external nuget lets say \"NugetA\" in my project and packing that project into a nuget say \"NugetB\". Some dlls in NugetA are not in 'lib' folder instead they are in 'build' folder. When creating the NugetB, all those dlls get into 'content' folder instead of going to 'lib' folder of NugetB. What should be done to make those dlls go into lib folder instead?</p>\n"}, {"tags": ["c#", "lambda"], "comments": [{"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1536175642, "post_id": 52191600, "comment_id": 91334072, "body": "Your question is completely unclear. For which part of this code you need an expression? Anyway this question is far too broad, in particlar as you didn&#180;t provide <i>any</i> own affords. We&#180;re not here to do your job."}], "answers": [{"comments": [{"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 1, "creation_date": 1536180817, "post_id": 52191622, "comment_id": 91336216, "body": "Technically, the argument required by <code>.Select</code> is a <code>Func&lt;Product, bool&gt;</code>, not a <code>Predicate&lt;Product&gt;</code> like in .NET-2.0-style methods such as <code>List&lt;&gt;.FindAll(\u2026)</code>, however <code>Func&lt;Product, bool&gt;</code> and <code>Predicate&lt;Product&gt;</code> are equivalent (same signature and return type)."}, {"owner": {"reputation": 1408, "user_id": 1518546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9bba0c632b913898fda1a586ec461?s=128&d=identicon&r=PG", "display_name": "John Cummings", "link": "https://stackoverflow.com/users/1518546/john-cummings"}, "reply_to_user": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1536182403, "post_id": 52191622, "comment_id": 91336832, "body": "Good point, I have updated my answer with that clarification."}], "tags": [], "owner": {"reputation": 1408, "user_id": 1518546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d9bba0c632b913898fda1a586ec461?s=128&d=identicon&r=PG", "display_name": "John Cummings", "link": "https://stackoverflow.com/users/1518546/john-cummings"}, "is_accepted": false, "score": 0, "last_activity_date": 1536182324, "last_edit_date": 1536182324, "creation_date": 1536173040, "answer_id": 52191622, "question_id": 52191600, "link": "https://stackoverflow.com/questions/52191600/lambda-expression-with-foreach-loop-in-c/52191622#52191622", "title": "Lambda Expression with foreach loop in C#", "body": "<p>There is a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/lambda-expressions\" rel=\"nofollow noreferrer\">lambda expression</a> in your code block and it is the only argument to <code>Where</code> and is as follows:</p>\n\n<pre><code>b =&gt; b.getId() == p.getId()\n</code></pre>\n\n<p>In this particular case, the lambda is <em>effectively</em> (though not technically) a <a href=\"https://stackoverflow.com/a/1710395/1518546\">Predicate</a>, which is a fancy name for a function that tests if something is <code>true</code> or <code>false</code></p>\n"}, {"comments": [{"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1536180447, "post_id": 52191863, "comment_id": 91336088, "body": "For each product <code>p</code>, it writes out the coupon name of all products <code>q</code> that share the ID with <code>p</code> (including <code>p</code> itself). I wonder what ID that is. I agree with your statement <i>Not every loop operation is a natural fit for a lambda expresssion.</i> However, if we wanted to create an <code>IEnumerable&lt;&gt;</code> of all those coupon names, instead of <code>Console.WriteLine</code>, then it might fall under the category of projections of data..."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 4, "last_activity_date": 1536174220, "creation_date": 1536174220, "answer_id": 52191863, "question_id": 52191600, "link": "https://stackoverflow.com/questions/52191600/lambda-expression-with-foreach-loop-in-c/52191863#52191863", "title": "Lambda Expression with foreach loop in C#", "body": "<p>Not every loop operation is a natural fit for a lambda expresssion. Lambda expressions are useful for <em>projections</em> of data - i.e. transforming it from one form to another - applying formulae etc, but: that isn't what you're doing here. You're <em>doing something</em> with the data (the <code>Console.WriteLine</code>. You <em>could</em> do something with LINQ here involving <code>SelectMany</code>, but... it would become <em>less</em> readable, not more.</p>\n\n<p>What you have alread is just fine. The only changes I'd make are:</p>\n\n<ul>\n<li>to remove the <code>if (query != null)</code> test - that is never going to be false</li>\n<li>remove the <code>ToList()</code> - there's no need to create a new <em>list</em> just to iterate it</li>\n<li>no need to declare <code>coupon</code> before it is needed</li>\n<li>I might hoist the <code>p.getId()</code></li>\n</ul>\n\n<p>So:</p>\n\n<pre><code> foreach(var p in products)\n {\n     var id = p.getID();\n     foreach(var q in products.Where(b =&gt; b.getId() == id))\n     {\n         var coupon = q.getName();\n         Console.WriteLine(coupon);\n     }\n }\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10321876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/544923c5fda0d571247a41613a2a6135?s=128&d=identicon&r=PG&f=1", "display_name": "Piku", "link": "https://stackoverflow.com/users/10321876/piku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2994, "favorite_count": 0, "accepted_answer_id": 52191863, "answer_count": 2, "score": -2, "last_activity_date": 1536182324, "creation_date": 1536172947, "last_edit_date": 1536173550, "question_id": 52191600, "link": "https://stackoverflow.com/questions/52191600/lambda-expression-with-foreach-loop-in-c", "title": "Lambda Expression with foreach loop in C#", "body": "<pre><code> var coupon=\" \";\n\n foreach(var p in products)\n {\n     var query = products.Where(b =&gt; b.getId() == p.getId()).ToList();\n\n     if (query != null)\n     {\n         foreach(var q in query)\n         {\n             coupon = q.getName();\n             Console.WriteLine(coupon);\n         }\n     }\n }\n</code></pre>\n\n<p>Can anyone tell me what will be the lambda expression of this code-chunk</p>\n"}, {"tags": ["c#", "html", "asp.net-mvc"], "comments": [{"owner": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536173442, "post_id": 52191598, "comment_id": 91333075, "body": "Unfortunately, to do what you ask without reloading the page, javascript is required."}, {"owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "reply_to_user": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536173729, "post_id": 52191598, "comment_id": 91333199, "body": "I&#39;m pretty inexperienced in writing out javascript/jquery functions and don&#39;t really know where to begin. I am looking at it now, but any additional direction is appreciated."}, {"owner": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536173883, "post_id": 52191598, "comment_id": 91333263, "body": "You will need a javascript function hooked into the onchange event for the dropdownlist. In that function you can set the selected value for your dropdownlist."}, {"owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "reply_to_user": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536175315, "post_id": 52191598, "comment_id": 91333923, "body": "I added the function to my onchange. It looks like it is working, but it is also clearing the value from the other dropdown before a selection is made. Not sure if this is the best way to do this. It looks rough but it is working as intended.  <code>&lt;script&gt;         $(document).ready(function myFunction() {             $(&quot;#customerDropDown&quot;).click(function () {                 $(&quot;#officeDropDown&quot;).val(&quot;All&quot;);             });             $(&quot;#officeDropDown&quot;).click(function () {                 $(&quot;#customerDropDown&quot;).val(&quot;All&quot;);             });         });     &lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536175613, "post_id": 52191598, "comment_id": 91334063, "body": "You are hooking into the click event. You want the &quot;changed&quot; event I think."}, {"owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "reply_to_user": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536175875, "post_id": 52191598, "comment_id": 91334177, "body": "That was it exactly! Thanks!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1536189153, "post_id": 52191598, "comment_id": 91338620, "body": "Never trigger a form submit in the <code>change</code> event if a dropdown! You allow the users to make their selection and have a separate submit button (and consider user who use the keyboard to navigate through options)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1536175971, "creation_date": 1536175971, "answer_id": 52192239, "question_id": 52191598, "link": "https://stackoverflow.com/questions/52191598/wanting-to-set-dropdownlista-back-to-default-value-when-a-selection-is-made-in-d/52192239#52192239", "title": "Wanting to set DropDownListA back to default value when a selection is made in DropDownListB", "body": "<p>I was able to fix this by adding a function and then calling it from my onchange event.</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function myFunction() {\n        $(\"#customerDropDown\").change(function () {\n            $(\"#officeDropDown\").val(\"All\");\n        });\n        $(\"#officeDropDown\").change(function () {\n            $(\"#customerDropDown\").val(\"All\");\n        });\n    });\n&lt;/script&gt;\n\n&lt;label&gt;Filter by Customer: &amp;nbsp;&lt;/label&gt;\n    @Html.DropDownListFor(f =&gt; f.SelectedCustomerName, Model.CustomerNames, \"All\", new { onchange = \"this.form.submit();myFunction();\", @id = \"customerDropDown\" })\n    &lt;label&gt;Filter by Office: &amp;nbsp;&lt;/label&gt;\n    @Html.DropDownListFor(f =&gt; f.SelectedOffice, Model.OfficeNames, \"All\", new { onchange = \"this.form.submit();myFunction();\", @id = \"officeDropDown\" })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "edited": false, "score": 0, "creation_date": 1536177941, "post_id": 52192460, "comment_id": 91335075, "body": "For whatever reason, it will change the value of the other drop down for just a second, then when the page refreshes it goes back to the value it was before. Not sure why it isn&#39;t resetting properly. It works on .click, but .change is not acting as expected."}], "tags": [], "owner": {"reputation": 59, "user_id": 3562098, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000523706581/picture?type=large", "display_name": "DanyMartinez_", "link": "https://stackoverflow.com/users/3562098/danymartinez"}, "is_accepted": false, "score": 0, "last_activity_date": 1536176924, "creation_date": 1536176924, "answer_id": 52192460, "question_id": 52191598, "link": "https://stackoverflow.com/questions/52191598/wanting-to-set-dropdownlista-back-to-default-value-when-a-selection-is-made-in-d/52192460#52192460", "title": "Wanting to set DropDownListA back to default value when a selection is made in DropDownListB", "body": "<p>you can do it via JS, like this:</p>\n\n<pre><code> $(document).ready(function myFunction() {\n        $(\"#customerDropDown\").change(function () {\n            $(\"#officeDropDown\").val('');\n        });\n        $(\"#officeDropDown\").change(function () {\n            $(\"#customerDropDown\").val('');\n\n        });\n    });\n</code></pre>\n\n<p>or try this..</p>\n\n<pre><code>$(document).ready(function myFunction() {\n        $(\"#customerDropDown\").change(function () {\n            $(\"#officeDropDown\").text('');\n        });\n        $(\"#officeDropDown\").change(function () {\n            $(\"#customerDropDown\").text('');\n        });\n    });\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10321877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uGUxNBx20-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTIrZaqq6G9O5a-vcNdIE6745Uuw/mo/photo.jpg?sz=128", "display_name": "Justin Davis", "link": "https://stackoverflow.com/users/10321877/justin-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536188982, "creation_date": 1536172941, "last_edit_date": 1536188982, "question_id": 52191598, "link": "https://stackoverflow.com/questions/52191598/wanting-to-set-dropdownlista-back-to-default-value-when-a-selection-is-made-in-d", "title": "Wanting to set DropDownListA back to default value when a selection is made in DropDownListB", "body": "<p>I am working on creating a web application to solve some internal tasks and am needing some different filter options. I have two drop down lists, but I am having difficulty in filtering by one or the other. Filtering one works fine, but if I want to filter by the other instead I would like to reset the filter value on the first. </p>\n\n<p>Currently, it looks like it is trying to filter by both at the same time unless a value is manually set back. I am filling these values from a database query in my controller and that is working properly. I am not familiar with javascript or jquery really, and not sure if I will have to start learning that route as I get deeper into projects like this.</p>\n\n<pre><code>&lt;label&gt;Filter by Customer: &amp;nbsp;&lt;/label&gt;\n    @Html.DropDownListFor(f =&gt; f.SelectedCustomerName, Model.CustomerNames, \"All\", new { onchange = \"this.form.submit();\" })\n    &lt;label&gt;Filter by Office: &amp;nbsp;&lt;/label&gt;\n    @Html.DropDownListFor(f =&gt; f.SelectedOffice, Model.OfficeNames, \"All\", new { onchange = \"this.form.submit();\" })\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1536173184, "post_id": 52191594, "comment_id": 91332978, "body": "You could use a <code>private string</code> field inside your form class and save the updated value to that on the <code>SelectedValueChanged</code> event, then just pass that to <code>SaveTechniciansToNotify</code>"}, {"owner": {"reputation": 57, "user_id": 10296797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bf61deb548eea9ac33786709134232?s=128&d=identicon&r=PG&f=1", "display_name": "Pepe", "link": "https://stackoverflow.com/users/10296797/pepe"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1536173354, "post_id": 52191594, "comment_id": 91333038, "body": "I think on it, but is this the best solution to solve this? @RyanWilson"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1536173606, "post_id": 52191594, "comment_id": 91333141, "body": "Is it the best? I really can not say if it is the best, &quot;best&quot; can be a matter of opinion. Will it work? Yes. Another way would be is if your control has a specific name and it&#39;s contained inside your form, you can access it like so (<a href=\"https://stackoverflow.com/questions/1536739/get-a-windows-forms-control-by-name-in-c-sharp\" title=\"get a windows forms control by name in c sharp\">stackoverflow.com/questions/1536739/&hellip;</a>), with this option, you could accomplish your goal without the private field."}], "answers": [{"tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1536173465, "creation_date": 1536173465, "answer_id": 52191714, "question_id": 52191594, "link": "https://stackoverflow.com/questions/52191594/get-value-of-programatically-combobox-in-close-form-button-method/52191714#52191714", "title": "Get value of programatically combobox in close form button method", "body": "<p>An easy to implement solution is to create a private field of type string inside your form class and pass that to your method SaveTechniciansToNotify:</p>\n\n<pre><code>//Make sure this is part of your class and not local to a method\nprivate string _comboVal;\n\n//Set your private field inside the SelectedValueChanged event of your combo box\nprivate void ComboEmployee_SelectedValueChanged(object sender, EventArgs e)\n{\n     var employeeComboBox = sender as ComboBox;\n     _comboVal = employeeComboBox.Text\n}\n\n//Finally Pass private field value to method SaveTechniciansToNotify\n private void btnClose_Click(object sender, EventArgs e)\n {\n            //pass in your private field value\n            SaveTechniciansToNotify(_comboVal);\n            this.Close();\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 4131030, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8igBY.png?s=128&g=1", "display_name": "JEllery", "link": "https://stackoverflow.com/users/4131030/jellery"}, "is_accepted": false, "score": 0, "last_activity_date": 1536177110, "creation_date": 1536177110, "answer_id": 52192503, "question_id": 52191594, "link": "https://stackoverflow.com/questions/52191594/get-value-of-programatically-combobox-in-close-form-button-method/52192503#52192503", "title": "Get value of programatically combobox in close form button method", "body": "<p>You're running into this issue because the object <em>sender</em> in your <strong>btnClose_Click</strong> method is not the ComboBox (it is more than likely the Button <em>btnClose</em>).  </p>\n\n<p>By the looks of your <strong>ComboEmployee_SelectedValueChanged</strong> event handler the name of your ComboBox is <strong><em>ComboEmployee</em></strong>. </p>\n\n<p>You can access the Text property of the ComboBox in your <strong>btnClose_Click</strong> handler by referencing it by name as laid out below:</p>\n\n<pre><code>private void btnClose_Click(object sender, EventArgs e)\n{\n    var currentEmployeeComboBoxText = ComboEmployee.Text;\n    SaveTechniciansToNotify(currentEmployeeComboBoxText);\n    this.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 10296797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bf61deb548eea9ac33786709134232?s=128&d=identicon&r=PG&f=1", "display_name": "Pepe", "link": "https://stackoverflow.com/users/10296797/pepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52191714, "answer_count": 2, "score": 0, "last_activity_date": 1536177110, "creation_date": 1536172910, "question_id": 52191594, "link": "https://stackoverflow.com/questions/52191594/get-value-of-programatically-combobox-in-close-form-button-method", "title": "Get value of programatically combobox in close form button method", "body": "<p>I have a button created automatically, so in method events I can call values easily as:</p>\n\n<pre><code>private void ComboEmployee_SelectedValueChanged(object sender, EventArgs e)\n        {\n          var employeeComboBox = sender as ComboBox;\n          var currentTextCombo = employeeComboBox.Text\n        }\n</code></pre>\n\n<p>But now I have close form with button method like:</p>\n\n<pre><code> private void btnClose_Click(object sender, EventArgs e)\n        {\n            var employeeComboBox = sender as ComboBox;\n            var currentEmployeeComboBoxText = employeeComboBox.Text;\n            SaveTechniciansToNotify(currentEmployeeComboBoxText);\n            this.Close();\n        }\n</code></pre>\n\n<p>Problem is <code>var currentEmployeeComboBoxText = employeeComboBox.Text;</code> always come null, it don't get current value of comboBox, how can I do to get current combobox value in this method? Regards</p>\n"}, {"tags": ["c#", "outlook", "mailmessage"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1536172836, "post_id": 52191565, "comment_id": 91332836, "body": "Most of us don&#39;t read French. Please take the time to translate the error message"}, {"owner": {"reputation": 41, "user_id": 9504415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jalil monagi", "link": "https://stackoverflow.com/users/9504415/jalil-monagi"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1536173571, "post_id": 52191565, "comment_id": 91333130, "body": "The translation : a program tries to access the e-mail address information stored in outlook. If this action is unexpected, click refuse, and verify that your antivirus software is up to date."}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "edited": false, "score": 0, "creation_date": 1536173941, "post_id": 52191565, "comment_id": 91333293, "body": "See <a href=\"https://stackoverflow.com/questions/42861540/automatically-allow-programmatic-access-to-outlook\" title=\"automatically allow programmatic access to outlook\">stackoverflow.com/questions/42861540/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10039288"}, "edited": false, "score": 0, "creation_date": 1536175429, "post_id": 52191565, "comment_id": 91333989, "body": "When you click accept the email does what? Not sure what you&#39;re saying there."}, {"owner": {"reputation": 41, "user_id": 9504415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jalil monagi", "link": "https://stackoverflow.com/users/9504415/jalil-monagi"}, "edited": false, "score": 0, "creation_date": 1536176139, "post_id": 52191565, "comment_id": 91334286, "body": "when i click on accept, the email is sent to the recipient successfully"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1536176306, "post_id": 52191565, "comment_id": 91334355, "body": "So what&#39;s the problem then? This is an expected protection for the user, to stop malicious programs from messing with their Outlook or harvesting their data. But would it not be better to send the email directly via the Exchange server (e.g. using SMTP) rather than Outlook interop? I can&#39;t think of a reason to do it like this really if all you want is to send an email"}, {"owner": {"reputation": 41, "user_id": 9504415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jalil monagi", "link": "https://stackoverflow.com/users/9504415/jalil-monagi"}, "edited": false, "score": 0, "creation_date": 1536245523, "post_id": 52191565, "comment_id": 91362840, "body": "I have already used smtp, but I get the message: The SMTP server requires a secure connection or the client was not authenticated. The response of the server was: 5.7.57 SMTP.  I already have this message with Gmail, but I have access to my gmail account, I allowed less secure applications and it works.  will my Api web https solve the problem. otherwise how allowed outlook in our intranet to accept less secure apps.  and thank you"}], "owner": {"reputation": 41, "user_id": 9504415, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jalil monagi", "link": "https://stackoverflow.com/users/9504415/jalil-monagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536173660, "creation_date": 1536172782, "last_edit_date": 1536173660, "question_id": 52191565, "link": "https://stackoverflow.com/questions/52191565/autorization-to-c-send-mail-via-outlook", "title": "Autorization to c# Send Mail via outlook", "body": "<p>I want to send emails from my code, I use outlook 2016 from our intranet with Windows authentication.</p>\n\n<p>My code is </p>\n\n<pre><code> public void sendmail ()\n   {\n\n\n            // Create the Outlook application.\n            Outlook.Application oApp = new Outlook.Application();\n            // Create a new mail item.\n            Outlook.MailItem oMsg = (Outlook.MailItem)oApp.CreateItem(Outlook.OlItemType.olMailItem);\n            // Set HTMLBody. \n            //add the body of the email\n            oMsg.HTMLBody = \"Test email for body!!\";\n            //Add an attachment.\n            String sDisplayName = \"MyAttachment\";\n            int iPosition = (int)oMsg.Body.Length + 1;\n            int iAttachType = (int)Outlook.OlAttachmentType.olByValue;\n            //now attached the file\n            Outlook.Attachment oAttach = oMsg.Attachments.Add\n                                         (@\"P:\\\\DA.PDF\", iAttachType, iPosition, sDisplayName);\n\n            //Subject line\n            oMsg.Subject = \"Test Mail\";\n            // Add a recipient.\n            Outlook.Recipients oRecips = (Outlook.Recipients)oMsg.Recipients;\n            // Change the recipient in the next line if necessary.\n            Outlook.Recipient oRecip = (Outlook.Recipient)oRecips.Add(\"mo.ja@gmail.com\");\n            oRecip.Resolve();\n            // Send.\n            oMsg.Send();\n            // Clean up.\n            oRecip = null;\n            oRecips = null;\n            oMsg = null;\n            oApp = null;\n        }\n        catch (Exception ex)\n        {\n\n\n        }\n</code></pre>\n\n<p>But I get this message :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Te6DF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>the translation of message : a program tries to access the e-mail address information stored in outlook. If this action is unexpected, click refuse, and verify that your antivirus software is up to date</p>\n\n<p>when I click on the accepter button, the email passes well</p>\n\n<p>Any ideas !!! Thanks</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1536242452, "post_id": 52195995, "comment_id": 91360727, "body": "Thank you. I really like this idea for situations with a lot of reusable textblocks and appreciate the effort it took you to write it. For this project a simpler solution above will do."}], "tags": [], "owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "is_accepted": false, "score": 1, "last_activity_date": 1536203677, "creation_date": 1536203677, "answer_id": 52195995, "question_id": 52191539, "link": "https://stackoverflow.com/questions/52191539/how-to-create-a-tooltip-with-wrapped-text-dynamically/52195995#52195995", "title": "How to create a tooltip with wrapped text dynamically", "body": "<p>How about a custom control?</p>\n\n<p><a href=\"https://i.stack.imgur.com/L9ZS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L9ZS0.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>TextblockWithTooltip.xaml</code></p>\n\n<pre><code>&lt;UserControl x:Name=\"root\"\n             x:Class=\"WpfApp4.TextblockWithTooltip\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n             mc:Ignorable=\"d\" \n            d:DesignHeight=\"450\" d:DesignWidth=\"800\"&gt;\n    &lt;UserControl.Resources&gt;\n\n    &lt;/UserControl.Resources&gt;\n    &lt;Grid&gt;\n        &lt;Grid.Resources&gt;\n            &lt;Style TargetType=\"ToolTip\" x:Key=\"ToolTipWrap\"&gt;\n                &lt;Style.Resources&gt;\n                    &lt;Style TargetType=\"ContentPresenter\"&gt;\n                        &lt;Style.Resources&gt;\n                            &lt;Style TargetType=\"TextBlock\"&gt;\n                                &lt;Setter Property=\"TextWrapping\" Value=\"Wrap\" /&gt;\n                            &lt;/Style&gt;\n                        &lt;/Style.Resources&gt;\n                    &lt;/Style&gt;\n                &lt;/Style.Resources&gt;\n                &lt;Setter Property=\"MaxWidth\" Value=\"100\" /&gt;\n            &lt;/Style&gt;\n        &lt;/Grid.Resources&gt;\n        &lt;TextBlock x:Name=\"TooltippedTextblock\"\n               Text=\"{Binding DisplayText, ElementName=root}\"\n               ToolTipOpening=\"TooltippedTextblock_OnToolTipOpening\"&gt;\n            &lt;TextBlock.ToolTip&gt;\n                &lt;ToolTip x:Name=\"MainToolTip\" Style=\"{StaticResource ToolTipWrap}\" /&gt;\n            &lt;/TextBlock.ToolTip&gt;\n        &lt;/TextBlock&gt;\n    &lt;/Grid&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p><code>TextblockWtihTooltip.xaml.cs</code></p>\n\n<pre><code>using System.Windows;\nusing System.Windows.Controls;\n\nnamespace WpfApp4\n{\n    public partial class TextblockWithTooltip\n    {\n        public TextblockWithTooltip()\n        {\n            InitializeComponent();\n        }\n\n        public static readonly DependencyProperty DisplayTextPropery =\n            DependencyProperty.Register(\n                nameof(DisplayText),\n                typeof(string),\n                typeof(TextblockWithTooltip),\n                new PropertyMetadata(string.Empty));\n\n        public static readonly DependencyProperty TooltipTextPropery =\n            DependencyProperty.Register(\n                nameof(TooltipText),\n                typeof(string),\n                typeof(TextblockWithTooltip),\n                new PropertyMetadata(string.Empty));\n\n        public string DisplayText\n        {\n            get =&gt; (string)GetValue(DisplayTextPropery);\n            set =&gt; SetValue(DisplayTextPropery, value);\n        }\n\n        public string TooltipText\n        {\n            get =&gt; (string)GetValue(TooltipTextPropery);\n            set =&gt; SetValue(TooltipTextPropery, value);\n        }\n\n        private void TooltippedTextblock_OnToolTipOpening(object sender, ToolTipEventArgs e)\n        {\n            MainToolTip.Content = TooltipText;\n        }\n    }\n}\n</code></pre>\n\n<p>To use it, in my MainView:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApp4.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n    &lt;Grid x:Name=\"MainGrid\"&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>MainView's code-behind (add control dynamically):</p>\n\n<pre><code>using System.Windows.Input;\n\nnamespace WpfApp4\n{\n    public partial class MainWindow \n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            AddTextblock();\n\n            // Not necessary, just want to focus not to the textblock.\n            FocusManager.SetFocusedElement(MainGrid, MainGrid);\n        }\n\n        private void AddTextblock()\n        {\n            TextblockWithTooltip textblock = new TextblockWithTooltip();\n            textblock.DisplayText = \"Just another textblock with tooltip.\";\n            textblock.TooltipText = \"This is a long long long tooltip.\";\n\n            MainGrid.Children.Add(textblock);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "edited": false, "score": 0, "creation_date": 1536242263, "post_id": 52197765, "comment_id": 91360575, "body": "perfect! Thanks a lot!"}], "tags": [], "owner": {"reputation": 94, "user_id": 6081212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785129e584e88e83c1be32856c3e3c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Sharan RM", "link": "https://stackoverflow.com/users/6081212/sharan-rm"}, "is_accepted": true, "score": 1, "last_activity_date": 1536217777, "last_edit_date": 1536217777, "creation_date": 1536215292, "answer_id": 52197765, "question_id": 52191539, "link": "https://stackoverflow.com/questions/52191539/how-to-create-a-tooltip-with-wrapped-text-dynamically/52197765#52197765", "title": "How to create a tooltip with wrapped text dynamically", "body": "<p>Here is my solution..</p>\n\n<pre><code> &lt;Style TargetType=\"ToolTip\" x:Key=\"ToolTipWrap\"&gt;\n        &lt;Style.Resources&gt;\n            &lt;Style TargetType=\"ContentPresenter\"&gt;\n                &lt;Style.Resources&gt;\n                    &lt;Style TargetType=\"TextBlock\"&gt;\n                        &lt;Setter Property=\"TextWrapping\" Value=\"Wrap\"  /&gt;\n                    &lt;/Style&gt;\n                &lt;/Style.Resources&gt;\n            &lt;/Style&gt;\n        &lt;/Style.Resources&gt;\n        &lt;Setter Property=\"MaxWidth\" Value=\"100\" /&gt;\n    &lt;/Style&gt;\n</code></pre>\n\n<p>Modified max width to 100 for testing(500 width is too long width,For quick testing made it as 100)...</p>\n\n<p>Here is the applying style to tooltip. \nCreated new object of 'Tooltip' and assigned 'ToolTipWrap' style to it. Textblock tooltip text is assigned to the 'Tooltip content'</p>\n\n<pre><code>        TextBlock tb = new TextBlock();\n        tb.Text = \"Test123\";\n        var tooltipStyle = FindResource(\"ToolTipWrap\");\n        ToolTip tooltip = new System.Windows.Controls.ToolTip();\n        tooltip.Style = tooltipStyle as Style;\n        tooltip.Content = \"This is an long tool tip example\";\n        tb.ToolTip = tooltip;\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 5600284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94fa8f42b42bdb2641311016bffb7e39?s=128&d=identicon&r=PG&f=1", "display_name": "anjulis", "link": "https://stackoverflow.com/users/5600284/anjulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 52197765, "answer_count": 2, "score": 1, "last_activity_date": 1536217777, "creation_date": 1536172650, "question_id": 52191539, "link": "https://stackoverflow.com/questions/52191539/how-to-create-a-tooltip-with-wrapped-text-dynamically", "title": "How to create a tooltip with wrapped text dynamically", "body": "<p>I create a Textblock dynamically and need to display a wrapped tooltip for it.</p>\n\n<p>I have a resource in App.xaml</p>\n\n<pre><code>&lt;Style TargetType=\"ToolTip\" x:Key=\"ToolTipWrap\"&gt;\n   &lt;Style.Resources&gt;\n      &lt;Style TargetType=\"ContentPresenter\"&gt;\n        &lt;Style.Resources&gt;\n            &lt;Style TargetType=\"TextBlock\"&gt;\n             &lt;Setter Property=\"TextWrapping\" Value=\"Wrap\" /&gt;\n        &lt;/Style&gt;\n       &lt;/Style.Resources&gt;\n     &lt;/Style&gt;\n  &lt;/Style.Resources&gt;\n&lt;Setter Property=\"MaxWidth\" Value=\"500\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>How do I assign the style to the tooltip?</p>\n\n<pre><code>TextBlock tb = New TextBlock();\ntb.ToolTip = some_long_text;\n</code></pre>\n\n<p>There is no tb.ToolTip.Style property and<br>\ntb.Style = (Style) FindResource(\"ToolTipWrap\") gives an error about wrong target type    </p>\n"}, {"tags": ["c#", "wix", "windows-installer", "installation"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5731325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14483d3a41367320d2f4ac2456187c4?s=128&d=identicon&r=PG&f=1", "display_name": "theNewOne92", "link": "https://stackoverflow.com/users/5731325/thenewone92"}, "edited": false, "score": 0, "creation_date": 1536182757, "post_id": 52193423, "comment_id": 91336947, "body": "I thought i may have had multiple instances but I don&#39;t. I have tired on a clean machine and am experiencing the same behaviour. Any other suggestions?"}, {"owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "reply_to_user": {"reputation": 45, "user_id": 5731325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14483d3a41367320d2f4ac2456187c4?s=128&d=identicon&r=PG&f=1", "display_name": "theNewOne92", "link": "https://stackoverflow.com/users/5731325/thenewone92"}, "edited": false, "score": 0, "creation_date": 1536182856, "post_id": 52193423, "comment_id": 91336986, "body": "What does the rest of your source look like? Is it on github.com or somewhere shared? Do you have proper product GUIDs and upgrade GUIDs? You haven&#39;t enabled any hacks to not register the installation on the system have you?"}], "tags": [], "owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "is_accepted": false, "score": 0, "last_activity_date": 1536181856, "creation_date": 1536181856, "answer_id": 52193423, "question_id": 52191476, "link": "https://stackoverflow.com/questions/52191476/wix-setup-project-not-fully-uninstalling-the-application/52193423#52193423", "title": "WIX setup project not fully uninstalling the application", "body": "<p><strong><em>Multiple Instances?</em></strong>: In Add / Remove programs, are there more than one entry for your application? If so, please try to uninstall all of them and see if the shortuct items and files disappear. Bear in mind that these could include \"experimental instances\" that you no longer recall. Try on a clean virtual to see if uninstall cleans up properly there after a fresh install.</p>\n\n<p><strong><em>Updater.exe</em></strong>: I see you have an \"<strong><code>Updater.exe</code></strong>\" in there. Are you downloading the application files from a server using that EXE file to kick off the process? If so, then this is not intended use of MSI and WiX. Downloading files from a share ignores important deployment functionality such as <strong><code>transaction control</code></strong>, <strong><code>rollback</code></strong>, <strong><code>file registration</code></strong>, <strong><code>file inventory</code></strong>, etc... If you are going to download files like this, you might as well deploy the shortcuts using a non-MSI technology.</p>\n"}], "owner": {"reputation": 45, "user_id": 5731325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14483d3a41367320d2f4ac2456187c4?s=128&d=identicon&r=PG&f=1", "display_name": "theNewOne92", "link": "https://stackoverflow.com/users/5731325/thenewone92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536181856, "creation_date": 1536172404, "last_edit_date": 1536180183, "question_id": 52191476, "link": "https://stackoverflow.com/questions/52191476/wix-setup-project-not-fully-uninstalling-the-application", "title": "WIX setup project not fully uninstalling the application", "body": "<p>I am fairly new to WiX and installers so please bear with me on this question. </p>\n\n<p>I have created a WiX Setup project to install my C# application and I have been able to get it to successfully install with the folder in the Programs Files folder and shortcuts to the desktop and Applications Program folder. </p>\n\n<p>My problem is when I uninstall the program either using the msi the setup project generated or the uninstall option in add/remove programs the shortcuts still remain and the application is still in the Programs Files folder. Here is my code: </p>\n\n<pre><code>&lt;Fragment&gt;\n&lt;Directory Id=\"TARGETDIR\" Name=\"SourceDir\"&gt;\n  &lt;Directory Id=\"ProgramFilesFolder\"&gt;\n    &lt;Directory Id=\"INSTALLFOLDER\" Name=\"Update Tool\" /&gt;\n  &lt;/Directory&gt;\n  &lt;Directory Id=\"ProgramMenuFolder\"&gt;\n    &lt;Directory Id=\"ApplicationProgramsFolder\" Name=\"Update Tool\" /&gt;\n  &lt;/Directory&gt;\n  &lt;Directory Id=\"DesktopFolder\" Name=\"Desktop\"/&gt;\n&lt;/Directory&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>  &lt;Fragment&gt;\n&lt;DirectoryRef Id=\"ApplicationProgramsFolder\"&gt;\n  &lt;Component Id=\"ApplicationShortcut\" Guid=\"*\"&gt;\n    &lt;Shortcut Id=\"ApplicationStartMenuShortcut\"\n              Name=\"Update Tool\"\n              Description=\"Update Tool\"\n              Target=\"[INSTALLFOLDER]Updater.exe\"\n              WorkingDirectory=\"APPLICATIONROOTDIRECTORY\"\n              Icon=\"icon.ico\"/&gt;\n    &lt;RemoveFile Id=\"remove_menushortcut\" Name=\"Update Tool\" On=\"uninstall\"/&gt;\n    &lt;RemoveFolder Id=\"RemoveApplicationProgramsFolder\" Directory=\"ApplicationProgramsFolder\" On=\"uninstall\"/&gt;\n    &lt;RegistryValue Root=\"HKCU\" Key=\"Software\\Microsoft\\Update Tool\" Name=\"installed\" Type=\"integer\" Value=\"1\" KeyPath=\"yes\"/&gt;\n  &lt;/Component&gt;\n&lt;/DirectoryRef&gt;\n&lt;DirectoryRef Id=\"DesktopFolder\"&gt;\n  &lt;Component Id=\"ApplicationShortcutDesktop\" Guid=\"*\"&gt;\n    &lt;Shortcut Id=\"ApplicationDesktopShortcut\"\n              Name=\"Update Tool\"\n              Description=\"Update Tool\"\n              Target=\"[INSTALLFOLDER]Updater.exe\"\n              WorkingDirectory=\"APPLICATIONROOTDIRECTORY\"\n              Icon=\"icon.ico\"/&gt;\n    &lt;RemoveFile Id=\"remove_applicationshortcut\" Name=\"Update Tool\" On=\"uninstall\"/&gt;\n    &lt;RemoveFolder Id=\"RemoveDesktopFolder\" Directory=\"DesktopFolder\" On=\"uninstall\"/&gt;\n    &lt;RegistryValue Root=\"HKCU\" Key=\"Software\\Microsoft\\Update Tool\" Name=\"installed\" Type=\"integer\" Value=\"1\" KeyPath=\"yes\"/&gt;\n  &lt;/Component&gt;\n&lt;/DirectoryRef&gt;\n</code></pre>\n\n<p></p>\n\n<p>Can anyone point out what it is I am doing wrong or what I need to have in?\nThanks </p>\n"}, {"tags": ["c#", "html", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 2, "creation_date": 1536190883, "post_id": 52191376, "comment_id": 91338969, "body": "You&#39;re adding the cookie to the <b>Response.Cookies</b> collection but then trying to read from <b>Request.Cookies</b>.  They are two separate collections."}, {"owner": {"reputation": 5363, "user_id": 2588374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16c7f89aef99ff0fb791c6d5cd7671d?s=128&d=identicon&r=PG", "display_name": "Tratcher", "link": "https://stackoverflow.com/users/2588374/tratcher"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1557162122, "post_id": 52191376, "comment_id": 98664322, "body": "@Martijn Pieters, this is not a duplicate of the linked issue, this is about cookies rather than session."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 5363, "user_id": 2588374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16c7f89aef99ff0fb791c6d5cd7671d?s=128&d=identicon&r=PG", "display_name": "Tratcher", "link": "https://stackoverflow.com/users/2588374/tratcher"}, "edited": false, "score": 0, "creation_date": 1557223604, "post_id": 52191376, "comment_id": 98684123, "body": "@Tratcher: the answer there had been copied to this question and marked accepted, so the OP of this question thought that that answer answered their problem. If you want to vote to reopen, then go ahead, this is not my field of expertise, I went with what the OP indicated."}, {"owner": {"reputation": 2073, "user_id": 2617732, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e542e1ac9138b5b9a7434524595dc83f?s=128&d=identicon&r=PG", "display_name": "rdans", "link": "https://stackoverflow.com/users/2617732/rdans"}, "edited": false, "score": 0, "creation_date": 1600422970, "post_id": 52191376, "comment_id": 113090094, "body": "fwiw I would seriously doubt the answers to that other question would have really solved this problem and the remaining answer on this question seems to have hit the nail on the head. By adding a cookie to Response.Cookies it wouldn&#39;t have automatically appeared in Request.Cookies without finishing the http request and initiating another http request between the two"}], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 252340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c58e16af00a176e2bada655c079dc28?s=128&d=identicon&r=PG", "display_name": "Pieter van Kampen", "link": "https://stackoverflow.com/users/252340/pieter-van-kampen"}, "edited": false, "score": 2, "creation_date": 1543317561, "post_id": 52193505, "comment_id": 93866153, "body": "This is the correct answer, the cookie only comes in the request after the response has been delivered to the next page"}], "tags": [], "owner": {"reputation": 284, "user_id": 8947058, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pOJ8CLAghGY/AAAAAAAAAAI/AAAAAAAAAAA/sl4CgRnMmiA/photo.jpg?sz=128", "display_name": "Pushkar Shembekar", "link": "https://stackoverflow.com/users/8947058/pushkar-shembekar"}, "is_accepted": false, "score": 23, "last_activity_date": 1536182291, "creation_date": 1536182291, "answer_id": 52193505, "question_id": 52191376, "link": "https://stackoverflow.com/questions/52191376/using-cookies-in-asp-net-core-2-1/52193505#52193505", "title": "Using cookies in ASP.NET Core 2.1", "body": "<p>You won't be able to read the cookie right after you set it the first time. Once the cookie is created by the response, you will be able to read it. Consider this:</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; OnPostCreateAsync()\n{\n\n    var option = new CookieOptions();\n    option.Expires = DateTime.Now.AddMinutes(10);\n    Response.Cookies.Append(\"Emailoption\", \"true\", option);\n    return RedirectToPage();\n}\n</code></pre>\n\n<p>And then you can read the cookie in the Get method:</p>\n\n<pre><code>public void OnGet()\n{\n    var boh = Request.Cookies[\"Emailoption\"];\n}\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 7257078, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/225521307870826/picture?type=large", "display_name": "Sergio Di Fiore", "link": "https://stackoverflow.com/users/7257078/sergio-di-fiore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35675, "favorite_count": 1, "closed_date": 1553090737, "answer_count": 1, "score": 11, "last_activity_date": 1547078942, "creation_date": 1536171993, "last_edit_date": 1547078942, "question_id": 52191376, "link": "https://stackoverflow.com/questions/52191376/using-cookies-in-asp-net-core-2-1", "closed_reason": "Duplicate", "title": "Using cookies in ASP.NET Core 2.1", "body": "<p>I have a simple ASP.NET Core 2.1 application which is supposed to set and then read a cookie.</p>\n\n<p>Whenever I try to read the cookie it returns null. Looking further in the browser's inspect tool I am unable to find it.</p>\n\n<p>I came up with this small implementation to see if I can sort out whats going on, but it is not working..</p>\n\n<pre><code> public async Task&lt;IActionResult&gt; Contact(Contato contato)\n {\n    await email.SendAsync(contato);\n\n    var option = new CookieOptions();\n    option.Expires = DateTime.Now.AddMinutes(10);\n    Response.Cookies.Append(\"EmailEnviado\", \"true\", option);\n    var boh = Request.Cookies[\"EmailEnviado\"];\n\n    return RedirectToAction(\"Contact\");\n }\n</code></pre>\n\n<p>The variable <code>boh</code>, when inspected through the debugger is null, even though it was written in the previous line.</p>\n"}, {"tags": ["c#", "deflatestream"], "comments": [{"owner": {"reputation": 573, "user_id": 7015118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PJLG.png?s=128&g=1", "display_name": "Any Moose", "link": "https://stackoverflow.com/users/7015118/any-moose"}, "edited": false, "score": 1, "creation_date": 1536172087, "post_id": 52191358, "comment_id": 91332515, "body": "maybe flush your stream <a href=\"https://stackoverflow.com/questions/10599596/compress-and-decompress-a-stream-with-compression-deflatestream\" title=\"compress and decompress a stream with compression deflatestream\">stackoverflow.com/questions/10599596/&hellip;</a>"}, {"owner": {"reputation": 1976, "user_id": 9772793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b5b22eb58da1abc14257e380c09c0f?s=128&d=identicon&r=PG&f=1", "display_name": "DanB", "link": "https://stackoverflow.com/users/9772793/danb"}, "edited": false, "score": 1, "creation_date": 1536172101, "post_id": 52191358, "comment_id": 91332524, "body": "Why you first decompress, and then compress?  Why not compress, and then decompress?"}, {"owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1536172119, "post_id": 52191358, "comment_id": 91332533, "body": "Was the original compresssed data generated using the same code using the same options?"}, {"owner": {"reputation": 105, "user_id": 5620220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc1512ab5211a4bfec242755d7d48c4e?s=128&d=identicon&r=PG&f=1", "display_name": "Roi Bar", "link": "https://stackoverflow.com/users/5620220/roi-bar"}, "edited": false, "score": 0, "creation_date": 1541593682, "post_id": 52191358, "comment_id": 93267854, "body": "Flushing the stream as written in <a href=\"https://stackoverflow.com/questions/10599596/compress-and-decompress-a-stream-with-compression-deflatestream\" title=\"compress and decompress a stream with compression deflatestream\">stackoverflow.com/questions/10599596/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1144, "user_id": 375664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/704fad44077a31252f224d1d1fcac04b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Jay", "link": "https://stackoverflow.com/users/375664/andrew-jay"}, "is_accepted": true, "score": 1, "last_activity_date": 1536172341, "creation_date": 1536172341, "answer_id": 52191460, "question_id": 52191358, "link": "https://stackoverflow.com/questions/52191358/decompress-and-compress-back-does-not-return-the-same-content/52191460#52191460", "title": "Decompress and Compress back does not return the same content", "body": "<p>It looks like you did everything properly, until you took the original input stream and overwrote your compressor, which contains your decompressed bytes.  You need to place your compressor bytes into compressedBackBytes.</p>\n\n<p>Your input (beginning with the decompress) seems it copies the decompressed bytes into it; then later you copy it to the compressor, which overwrites what you just decompressed.</p>\n\n<p>Maybe you meant something like</p>\n\n<pre><code>compressedBackBytes = compressor.ToArray();\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 5620220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc1512ab5211a4bfec242755d7d48c4e?s=128&d=identicon&r=PG&f=1", "display_name": "Roi Bar", "link": "https://stackoverflow.com/users/5620220/roi-bar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 52191460, "answer_count": 1, "score": 0, "last_activity_date": 1536172341, "creation_date": 1536171923, "question_id": 52191358, "link": "https://stackoverflow.com/questions/52191358/decompress-and-compress-back-does-not-return-the-same-content", "title": "Decompress and Compress back does not return the same content", "body": "<p>Why don't I get the same content after decompressing and compressing-back a byte-array with DeflateStream?</p>\n\n<p>The code:</p>\n\n<pre><code>byte[] originalcontent = Same Byte Array Content\nbyte[] decompressedBytes;\nbyte[] compressedBackBytes;\n\n// Decompress the original byte-array\nusing (Stream contentStream = new MemoryStream(originalcontent, false))\nusing (var zipStream = new DeflateStream(contentStream, CompressionMode.Decompress))\nusing (var decStream = new MemoryStream())\n{\n    zipStream.CopyTo(decStream);\n    decompressedBytes = decStream.ToArray();\n}\n\n// Compress the byte-array back\nusing (var input = new MemoryStream(decompressedBytes, true))\nusing (var compressStream = new MemoryStream())\nusing (var compressor = new DeflateStream(compressStream, CompressionMode.Compress))\n{\n    input.CopyTo(compressor);\n    compressedBackBytes = compressStream.ToArray();\n}\n</code></pre>\n\n<p>Why originalcontent != compressedBackBytes ?</p>\n"}, {"tags": ["c#", "unity3d", "browser", "unity-webgl"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1536192363, "post_id": 52191314, "comment_id": 91339206, "body": "I&#39;ve never run across this."}, {"owner": {"reputation": 640, "user_id": 1936009, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f4f44a87b037f0471b8202acb1de516?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1936009/sam"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1536193861, "post_id": 52191314, "comment_id": 91339483, "body": "Do you know of any check I could do, any path I could look into? I\u2019m running out of ideas on what to look for. If there\u2019s an infinite loop, the animations would be frozen right?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1536195387, "post_id": 52191314, "comment_id": 91339721, "body": "No, I&#39;m at a loss. Sorry."}], "owner": {"reputation": 640, "user_id": 1936009, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f4f44a87b037f0471b8202acb1de516?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1936009/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536241295, "creation_date": 1536171749, "last_edit_date": 1536241295, "question_id": 52191314, "link": "https://stackoverflow.com/questions/52191314/unity-webgl-update-not-called-on-active-and-enabled-game-object", "title": "Unity WebGL Update not called on Active and Enabled game object", "body": "<p>Running into a weird issue on WebGL builds. The issue doesn't happen in the editor.\nI have multiple game objects that will stop having their update called after a few seconds loading the game.</p>\n\n<p>I know the objects exist since I can call gameInstance.SendMessage from the browser's console on the object. I added a debug method that prints if the object is active and it is. It has the script's component attached, the component is enabled, the game object on which the component is is active. I can even call SendMessage(\"MyObject\", \"Update\") and it will call the update method once, printing everything correctly.</p>\n\n<p>The issue happens once in a while. Some times it won't happen for a few hours and then will happen once every other times. The game is not frozen, I still have loading animations running.</p>\n\n<p>It sounds like a race condition, but I can't put the finger on what could be causing Unity to stop calling \"Update\" on active game objects.\nIs anyone aware of a condition or a bug in Unity WebGL where Update would stop being called?\nIf there's something in an infinite loop, would that also freeze loading animations?</p>\n\n<p>Although I\u2019m not sure since the bug is hard to reproduce, this seems to happen only on webgl builds made on macOS</p>\n\n<p>Currently using Unity 2017.</p>\n\n<p>Any help much appreciated!</p>\n"}, {"tags": ["c#", "list"], "comments": [{"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "edited": false, "score": 0, "creation_date": 1536171859, "post_id": 52191306, "comment_id": 91332398, "body": "&quot;Output&quot;? You print nothing, return nothing"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 4, "creation_date": 1536171889, "post_id": 52191306, "comment_id": 91332412, "body": "Deleting from a list <b>while</b> you are iterating over it will lead to woe. But if you insist on doing that, at least iterate over it from the end to the beginning so the deletions don&#39;t cause you to skip elements."}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 8155350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de477406a8408e6ac59c1a3ee2ffa282?s=128&d=identicon&r=PG&f=1", "display_name": "fdafadf", "link": "https://stackoverflow.com/users/8155350/fdafadf"}, "is_accepted": false, "score": 0, "last_activity_date": 1536171901, "creation_date": 1536171901, "answer_id": 52191349, "question_id": 52191306, "link": "https://stackoverflow.com/questions/52191306/removeat-and-remove-working-differenlty/52191349#52191349", "title": "RemoveAt() and Remove() working differenlty", "body": "<p><code>Remove</code> removes from collection the element equals to element you specified. <code>RemoveAt</code> removes element at specified position.</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 2224523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8055f4636577230d0fd9dd8a014c9ee9?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2224523/mike"}, "is_accepted": false, "score": 2, "last_activity_date": 1536172172, "creation_date": 1536172172, "answer_id": 52191421, "question_id": 52191306, "link": "https://stackoverflow.com/questions/52191306/removeat-and-remove-working-differenlty/52191421#52191421", "title": "RemoveAt() and Remove() working differenlty", "body": "<p>Removing an item by index changes the indexes of items that come after it. This can lead to skipping some items. If you want to use RemoveAt while iterating through the list try iterating in reverse.</p>\n"}, {"tags": [], "owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "is_accepted": false, "score": 1, "last_activity_date": 1536173477, "last_edit_date": 1536173477, "creation_date": 1536172308, "answer_id": 52191448, "question_id": 52191306, "link": "https://stackoverflow.com/questions/52191306/removeat-and-remove-working-differenlty/52191448#52191448", "title": "RemoveAt() and Remove() working differenlty", "body": "<p>The <code>Remove</code> and <code>RemoveAt</code> functions are actually working properly in your code. However using <code>RemoveAt</code> is the better function to use for efficiency if you are looping through the list because <code>Remove</code> has to search through the list again to find the first case where <code>76</code> occurs, while <code>RemoveAt</code> already knows the exact index to remove the item at.</p>\n\n<p>The problem is occuring because of the way you are looping through the list. </p>\n\n<p>As you iterate through and remove items from the list, your list shifts left by one index to fill in the item that was just removed while your <code>i</code> index is still at the same place (skipping the next item).<br>\nUsually the best practice is to iterate through a list backwards if you are removing elements from the list, because the end point is then dependent on it reaching 0 and handles the list shifting left each time which won't skip the next element.</p>\n\n<pre><code>List&lt;int&gt; testList = new List&lt;int&gt;{1,76,3,4,5,76,76,8};\n\npublic void RemoveElements()\n{\n    for (int i = testList.Count - 1; i &gt;= 0; i--)\n    {\n        // RemoveAt option\n        if(testList[i] == 76) testList.RemoveAt(i);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3402, "user_id": 3628863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1lHi.jpg?s=128&g=1", "display_name": "Joe Farrell", "link": "https://stackoverflow.com/users/3628863/joe-farrell"}, "is_accepted": false, "score": 1, "last_activity_date": 1536173057, "last_edit_date": 1536173057, "creation_date": 1536172392, "answer_id": 52191473, "question_id": 52191306, "link": "https://stackoverflow.com/questions/52191306/removeat-and-remove-working-differenlty/52191473#52191473", "title": "RemoveAt() and Remove() working differenlty", "body": "<p>Here's what your list contains to start with:</p>\n\n<pre><code>i:             0   1   2   3   4   5   6   7\ntestList[i]:   1  76   3   4   5  76  76   8\n</code></pre>\n\n<p>Now consider what happens during the loop iteration when <code>i == 5</code>, which means that <code>testList[i]</code> is the first of your two adjacent 76es. Running the code in version B or C will remove element 5 from <code>testList</code>, causing the elements after it to shift downward by one index. So <code>testList[6]</code>, which was originally 76, is now 8; and <code>testList[7]</code>, which was originally 8, is now past the end of your list. The next time the loop runs, it will be with <code>i == 6</code>, which means your code will consider the value 8, not the second of your 76es. That second 76 has been skipped entirely.</p>\n\n<p>This is the reason behind hatchet's comment on your question saying that if you must iterate through the list, you should do so in reverse. If you're iterating backwards, then it doesn't matter that removing an element shifts the positions of elements further down the list, because you've already processed those. Of course a better approach still is to use a solution that does not require iteration at all, such as <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.removeall?view=netframework-4.7.2#System_Collections_Generic_List_1_RemoveAll_System_Predicate__0__\" rel=\"nofollow noreferrer\"><code>List&lt;T&gt;.RemoveAll</code></a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 8476853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d461da3c67f4d01d11af40d958d9446b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/8476853/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "closed_date": 1536172628, "answer_count": 4, "score": -3, "last_activity_date": 1536173477, "creation_date": 1536171723, "last_edit_date": 1536172005, "question_id": 52191306, "link": "https://stackoverflow.com/questions/52191306/removeat-and-remove-working-differenlty", "closed_reason": "Duplicate", "title": "RemoveAt() and Remove() working differenlty", "body": "<p>I just noticed something very awkward I tested both methods RemoveAt() and Remove(), but they don't work the same and I am wondering if someone can exmplain the reason why. Basically the  only method that successfully removes a specific  item from the list in this example is Remove(). </p>\n\n<pre><code>List&lt;int&gt; testList = new List&lt;int&gt;{1,76,3,4,5,76,76,8};\n\npublic void RemoveElements()\n{\n    for (int i = 0; i &lt; testList.Count; i++)\n    {\n        //WORKS\n        testList.Remove(76); //A \n\n        // DOES NOT WORK\n        //if(testList[i] == 76) testList.Remove(testList[i]); //B \n\n        // DOES NOT WORK EITHER\n        // if(testList[i] == 76) testList.RemoveAt(i); //C\n    }\n}\n</code></pre>\n\n<p>The output of A is:1,3,4,5,8\nThe output of B is:1,3,4,5,76,8\nThe output of C is:1,3,4,5,76,8</p>\n\n<p>Thank you for your time!</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core"], "comments": [{"owner": {"reputation": 573, "user_id": 7015118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PJLG.png?s=128&g=1", "display_name": "Any Moose", "link": "https://stackoverflow.com/users/7015118/any-moose"}, "edited": false, "score": 0, "creation_date": 1536172232, "post_id": 52191294, "comment_id": 91332587, "body": "Did you add a reference in your project? <a href=\"https://msdn.microsoft.com/en-us/library/wkze6zky.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/wkze6zky.aspx</a>"}, {"owner": {"reputation": 1289, "user_id": 8333554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvQ83.jpg?s=128&g=1", "display_name": "DCCoder", "link": "https://stackoverflow.com/users/8333554/dccoder"}, "edited": false, "score": 0, "creation_date": 1536172677, "post_id": 52191294, "comment_id": 91332781, "body": "Add a reference to Microsoft.AspNetCore.All to your project.  This will be more than you need but will include EntityFramework Core."}, {"owner": {"reputation": 1245, "user_id": 4743730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHlhP.jpg?s=128&g=1", "display_name": "B45i", "link": "https://stackoverflow.com/users/4743730/b45i"}, "reply_to_user": {"reputation": 1289, "user_id": 8333554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvQ83.jpg?s=128&g=1", "display_name": "DCCoder", "link": "https://stackoverflow.com/users/8333554/dccoder"}, "edited": false, "score": 0, "creation_date": 1536200674, "post_id": 52191294, "comment_id": 91340830, "body": "@DCCoder I&#39;ve included <code>&lt;PackageReference Include=&quot;Microsoft.AspNetCore.All&quot; &#47;&gt;</code> in my .csproj file. It seems to fix the issue. But does it add unnecessary packages to my project ?"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1536214418, "post_id": 52191294, "comment_id": 91344281, "body": "use <code>dotnet ef</code> cli tools instead <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet</a>"}, {"owner": {"reputation": 1289, "user_id": 8333554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MvQ83.jpg?s=128&g=1", "display_name": "DCCoder", "link": "https://stackoverflow.com/users/8333554/dccoder"}, "edited": false, "score": 0, "creation_date": 1536346870, "post_id": 52191294, "comment_id": 91406043, "body": "@B45i It will be adding a few unnecessary packages to your project but depending on your needs I highly doubt it will negatively effect you."}], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 5521214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1b14ccb2322c39b3eefb0c28130c987?s=128&d=identicon&r=PG&f=1", "display_name": "JSON", "link": "https://stackoverflow.com/users/5521214/json"}, "edited": false, "score": 5, "creation_date": 1539380815, "post_id": 52201760, "comment_id": 92496266, "body": "You would think microsoft would bundle this in with the EntityFramwork.core package"}, {"owner": {"reputation": 71, "user_id": 4232342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tErSD.png?s=128&g=1", "display_name": "bas boek", "link": "https://stackoverflow.com/users/4232342/bas-boek"}, "edited": false, "score": 4, "creation_date": 1586343223, "post_id": 52201760, "comment_id": 108091863, "body": "I had to add Microsoft.EntityFrameworkCore.Relational too."}], "tags": [], "owner": {"reputation": 798, "user_id": 8496122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmLDm.png?s=128&g=1", "display_name": "juramarin", "link": "https://stackoverflow.com/users/8496122/juramarin"}, "is_accepted": true, "score": 51, "last_activity_date": 1536228814, "creation_date": 1536228814, "answer_id": 52201760, "question_id": 52191294, "link": "https://stackoverflow.com/questions/52191294/migrations-does-not-exist-in-the-namespace-microsoft-entityframeworkcore/52201760#52201760", "title": "&#39;Migrations&#39; does not exist in the namespace &#39;Microsoft.EntityFrameworkCore&#39;", "body": "<p>Ok, I will show you the minimal setup required for EF Core + Migrations:</p>\n\n<p>You will need to install Microsoft.EntityFramework.Core,  but it is better that instead of that package you first install a EF Core provider for the database you will use. Then that EF Core provider will pull in all the required dependencies ( including Microsoft.EntityFramework.Core ) .</p>\n\n<p>So (for example) for SQLServer db, in the Package Manager Console I will install:</p>\n\n<ol>\n<li><p><strong>Install-Package Microsoft.EntityFrameworkCore.SqlServer</strong></p></li>\n<li><p><strong>Install-Package Microsoft.EntityFrameworkCore.Tools</strong> (for powershell commands)</p></li>\n<li><p><strong>Install-Package Microsoft.EntityFrameworkCore.Design</strong> (contains migrations engine - and <strong>important</strong> note this package has to be <strong>inside executable project</strong>)</p></li>\n</ol>\n\n<p>And that's it.</p>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 3839344, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/eq0HA.png?s=128&g=1", "display_name": "Niraj Trivedi", "link": "https://stackoverflow.com/users/3839344/niraj-trivedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1588951948, "creation_date": 1588951948, "answer_id": 61682634, "question_id": 52191294, "link": "https://stackoverflow.com/questions/52191294/migrations-does-not-exist-in-the-namespace-microsoft-entityframeworkcore/61682634#61682634", "title": "&#39;Migrations&#39; does not exist in the namespace &#39;Microsoft.EntityFrameworkCore&#39;", "body": "<p>I faced a similar issue and found that I haven't installed <code>Microsoft.EntityFrameworkCore.SqlServer</code>. Initially, I have installed only <code>Microsoft.EntityFrameworkCore</code> and <code>Microsoft.EntityFrameworkCore.Tools</code>. </p>\n\n<p>After installing <code>Microsoft.EntityFrameworkCore.SqlServer</code> problem gets resolved </p>\n"}], "owner": {"reputation": 1245, "user_id": 4743730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHlhP.jpg?s=128&g=1", "display_name": "B45i", "link": "https://stackoverflow.com/users/4743730/b45i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9110, "favorite_count": 2, "accepted_answer_id": 52201760, "answer_count": 2, "score": 24, "last_activity_date": 1588951948, "creation_date": 1536171656, "question_id": 52191294, "link": "https://stackoverflow.com/questions/52191294/migrations-does-not-exist-in-the-namespace-microsoft-entityframeworkcore", "title": "&#39;Migrations&#39; does not exist in the namespace &#39;Microsoft.EntityFrameworkCore&#39;", "body": "<p>I'm doing a ASP.NET Core project.\nI've installed <code>Microsoft.EntityFrameworkCore</code> and <code>Microsoft.EntityFrameworkCore.Tools</code> NuGet packages.</p>\n\n<p>I ran <code>Add-Migration InitialCreate</code> command,\nWhich created <code>Migrations</code> folder and <code>20180905180349_InitialCreate.cs</code> file.</p>\n\n<p>But it says </p>\n\n<blockquote>\n  <p>The type or namespace name 'Migrations' does not exist in the\n  namespace 'Microsoft.EntityFrameworkCore' (are you missing an assembly\n  reference?)</p>\n</blockquote>\n\n<p>What is the cause of this error. Do i need to install any other package ?</p>\n"}, {"tags": ["c#", "sql", "oracle"], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 2242443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0c0c46125d5143de62edd8e6b43b5f?s=128&d=identicon&r=PG", "display_name": "stephanV", "link": "https://stackoverflow.com/users/2242443/stephanv"}, "is_accepted": false, "score": 0, "last_activity_date": 1536172028, "creation_date": 1536172028, "answer_id": 52191383, "question_id": 52191266, "link": "https://stackoverflow.com/questions/52191266/c-oracle-command-parameters-add-how-can-i-add-part-of-the-text-itself-into-the/52191383#52191383", "title": "C# Oracle command Parameters add. How can I add part of the text itself into the command text?", "body": "<p>Parameterized queries are meant to prevent the thing you are trying to do right now (sql injection).</p>\n\n<p>how you could do this is first check the user input and get the appropriate query depending on if the input is valid or not.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "edited": false, "score": 0, "creation_date": 1536173418, "post_id": 52191466, "comment_id": 91333065, "body": "Thank you for your answer. But I am trying not to create 2 queries. Because this is a dummy query, My real query is very long including 3 parameters they can all be null. So I need to create 6 queries...Is that anyway that I can make it done in one query?"}, {"owner": {"reputation": 688, "user_id": 4142702, "user_type": "registered", "profile_image": "https://graph.facebook.com/2300453/picture?type=large", "display_name": "dandarc", "link": "https://stackoverflow.com/users/4142702/dandarc"}, "reply_to_user": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "edited": false, "score": 0, "creation_date": 1536195654, "post_id": 52191466, "comment_id": 91339776, "body": "so you put &quot;OR &lt;theparameter&gt; is null&quot; into your query.  <code>select *  from your_table  where (your_column = :your_parameter             or :your_parameter is null)</code>"}, {"owner": {"reputation": 688, "user_id": 4142702, "user_type": "registered", "profile_image": "https://graph.facebook.com/2300453/picture?type=large", "display_name": "dandarc", "link": "https://stackoverflow.com/users/4142702/dandarc"}, "reply_to_user": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "edited": false, "score": 0, "creation_date": 1536196047, "post_id": 52191466, "comment_id": 91339848, "body": "Or build your query dynamically - instead of writing multiple fully separate query strings, you build the string in steps so you can apply logic to the text. Still use parameters - you can use dynamic SQL safely."}], "tags": [], "owner": {"reputation": 688, "user_id": 4142702, "user_type": "registered", "profile_image": "https://graph.facebook.com/2300453/picture?type=large", "display_name": "dandarc", "link": "https://stackoverflow.com/users/4142702/dandarc"}, "is_accepted": true, "score": 2, "last_activity_date": 1536172363, "creation_date": 1536172363, "answer_id": 52191466, "question_id": 52191266, "link": "https://stackoverflow.com/questions/52191266/c-oracle-command-parameters-add-how-can-i-add-part-of-the-text-itself-into-the/52191466#52191466", "title": "C# Oracle command Parameters add. How can I add part of the text itself into the command text?", "body": "<p>For this I'd just run a different query:</p>\n\n<pre><code>string sql = \"\";\nif (int.TryParse(ss.StoreNumber, out int n) == true)\n{\n  sql = \"SELECT * FROM SALES_STATUS WHERE store_no = :SerchStore\";\n}\nelse\n{\n  sql = \"SELECT * FROM SALES_STATUS;\"\n}    \n//Creating cmd using sql and conn\nOracleCommand cmd = new OracleCommand(sql, conn);\n\n//Create Parameters to add value\nif (int.TryParse(ss.StoreNumber, out int n) == true)\n{\n  cmd.Parameters.Add(\"SerchStore\", int.Parse(ss.StoreNumber));\n}\n</code></pre>\n\n<p>If it was in a stored procedure, you might do something like \"OR :SerchStore is NULL\", but since you're sending the query from C# code, just send the query you want to send. </p>\n"}], "owner": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 52191466, "answer_count": 2, "score": 0, "last_activity_date": 1536172363, "creation_date": 1536171554, "question_id": 52191266, "link": "https://stackoverflow.com/questions/52191266/c-oracle-command-parameters-add-how-can-i-add-part-of-the-text-itself-into-the", "title": "C# Oracle command Parameters add. How can I add part of the text itself into the command text?", "body": "<p>For example below is my code:</p>\n\n<p>ss.StoreNumber is string from user, store_no is int type in database.</p>\n\n<pre><code>string sql = \"SELECT * FROM SALES_STATUS WHERE store_no = :SerchStore\";\n//Creating cmd using sql and conn\nOracleCommand cmd = new OracleCommand(sql, conn);\n//Create Parameters to add value\nif (int.TryParse(ss.StoreNumber, out int n) == true)\n{\ncmd.Parameters.Add(\"SerchStore\", int.Parse(ss.StoreNumber));\n}\nelse\n{\ncmd.Parameters.Add(\"SerchStore\", \"store_no\");\n}\n</code></pre>\n\n<p>Simple function, I want to create a SQL application, if user type in store number, then it will return the sales status by the store number.</p>\n\n<p>Otherwise, if user didn't type in anything or typed in any non-numeric information in the store number text box, then it should return information from all stores. </p>\n\n<p>I used below code:</p>\n\n<pre><code>cmd.Parameters.Add(\"SerchStore\", \"store_no\");\n</code></pre>\n\n<p>because I want to make it into this Query, which is working in Oracle Develoepr:</p>\n\n<pre><code>SELECT * FROM SALES_STATUS WHERE store_no = store_no;\n</code></pre>\n\n<p>So my question is, what should I put into below \"X\" to make the query to be the query I want above? </p>\n\n<pre><code>cmd.Parameters.Add(\"SerchStore\", X);\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin", "sdk"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 2, "creation_date": 1536172208, "post_id": 52191264, "comment_id": 91332576, "body": "Remove <b>all</b> the packages first and then add the Xamarin.Forms package version that you are upgrading to and let that process install the Xamarin.Android dependancies, then add any other 3rd-party/in-house packages that your project is using. (Also make sure that your Xamarin.Android application project is &quot;Compile&quot; targeting the latest version.)"}, {"owner": {"reputation": 124, "user_id": 7729208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5137cc699688eb40ac71e0953a727ff1?s=128&d=identicon&r=PG&f=1", "display_name": "lemessur", "link": "https://stackoverflow.com/users/7729208/lemessur"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1536246939, "post_id": 52191264, "comment_id": 91363779, "body": "Thank you! That has turned out to be a great idea anyway as it has allowed me to get rid of a lot of apparently unused packages. Unfortunately, certain packages I do need appear to depend on newer versions of the Android support libraries (version 26+), leading back to the original issue. I&#39;ll edit my post later today with more details on that."}], "owner": {"reputation": 124, "user_id": 7729208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5137cc699688eb40ac71e0953a727ff1?s=128&d=identicon&r=PG&f=1", "display_name": "lemessur", "link": "https://stackoverflow.com/users/7729208/lemessur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536263853, "creation_date": 1536171532, "last_edit_date": 1536263853, "question_id": 52191264, "link": "https://stackoverflow.com/questions/52191264/android-resource-errors-after-updating-packages", "title": "Android resource errors after updating packages", "body": "<p>I have been tasked with updating all of the 3rd party dependencies in a Xamarin.Forms app. These had been left at various versions dating back as far as a year. I am somewhat new to Xamarin.Forms and much more familiar with iOS development than with Android development.</p>\n\n<p>This update included a change from Xamarin.Forms 2.5 to 3.1 among other things. The iOS build is working fine, but in the Android project I am seeing 12 missing resource errors, all seemingly related to Notifications (I've snipped off the beginnings of the file paths):</p>\n\n<pre><code>.../obj/Debug/lp/34/jl/res/values/values.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Info'.\n.../obj/Debug/lp/34/jl/res/values-v21/values-v21.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Info'.\n.../obj/Debug/lp/34/jl/res/values-v24/values-v24.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Info'.\n.../obj/Debug/lp/34/jl/res/values/values.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification'.\n.../obj/Debug/lp/34/jl/res/values-v21/values-v21.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification'.\n.../Debug/lp/34/jl/res/values-v24/values-v24.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification'.\n.../Debug/lp/34/jl/res/values/values.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Time'.\n.../obj/Debug/lp/34/jl/res/values-v21/values-v21.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Time'.\n.../obj/Debug/lp/34/jl/res/values-v24/values-v24.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Time'.\n.../obj/Debug/lp/34/jl/res/values/values.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Title'.\n.../obj/Debug/lp/34/jl/res/values-v21/values-v21.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Title'.\n.../obj/Debug/lp/34/jl/res/values-v24/values-v24.xml(2): error APT0000: Error retrieving parent for item: No resource found that matches the given name 'TextAppearance.Compat.Notification.Title'.\n</code></pre>\n\n<p>From my research so far it sounds like this kind of error can be caused by inadvertently targeting multiple versions of the Android SDK or using the wrong tools version (See: <a href=\"https://stackoverflow.com/questions/32075498/error-retrieving-parent-for-item-no-resource-found-that-matches-the-given-name\">Error retrieving parent for item: No resource found that matches the given name after upgrading to AppCompat v23</a>). I have updated all of the Xamarin.Android.Support.* libraries to their latest versions:</p>\n\n<pre><code>&lt;Reference Include=\"Xamarin.Android.Support.Animated.Vector.Drawable\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Animated.Vector.Drawable.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Animated.Vector.Drawable.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Annotations\"&gt;\n  &lt;HintPath&gt;..\\packages\\BiInc.Mobile.Framework.4.5.1.0\\lib\\monoandroid80\\Xamarin.Android.Support.Annotations.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Compat\"&gt;\n  &lt;HintPath&gt;..\\packages\\BiInc.Mobile.Framework.4.5.1.0\\lib\\monoandroid80\\Xamarin.Android.Support.Compat.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Core.UI\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Core.UI.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Core.UI.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Core.Utils\"&gt;\n  &lt;HintPath&gt;..\\packages\\BiInc.Mobile.Framework.4.5.1.0\\lib\\monoandroid80\\Xamarin.Android.Support.Core.Utils.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.CustomTabs\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.CustomTabs.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.CustomTabs.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Design\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Design.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Design.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Fragment\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Fragment.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Fragment.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Media.Compat\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Media.Compat.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Media.Compat.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Transition\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Transition.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Transition.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v4\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v4.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v4.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v7.AppCompat\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v7.AppCompat.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v7.AppCompat.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v7.CardView\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v7.CardView.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v7.CardView.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v7.MediaRouter\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v7.MediaRouter.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v7.MediaRouter.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v7.Palette\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v7.Palette.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v7.Palette.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v7.RecyclerView\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v7.RecyclerView.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v7.RecyclerView.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.v8.RenderScript, Version=1.0.0.0, Culture=neutral, processorArchitecture=MSIL\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.v8.RenderScript.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.v8.RenderScript.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Xamarin.Android.Support.Vector.Drawable\"&gt;\n  &lt;HintPath&gt;..\\packages\\Xamarin.Android.Support.Vector.Drawable.27.0.2.1\\lib\\MonoAndroid81\\Xamarin.Android.Support.Vector.Drawable.dll&lt;/HintPath&gt;\n  &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n</code></pre>\n\n<p>And in my AndroidManifest.xml I have:</p>\n\n<pre><code>&lt;uses-sdk android:minSdkVersion=\"23\" android:targetSdkVersion=\"28\" /&gt;\n</code></pre>\n\n<p>I know that this is not a build environment issue specific to my machine because we are using Microsoft's AppCenter service and I can reproduce these same exact build errors on their system.</p>\n\n<p>I am considering rolling the support libraries back to an older version, but I am not sure if that would help or which version to roll back to.</p>\n\n<p>I have noticed that the resources it is complaining about are referenced only in the auto-generated Resource.Designer.cs file. For example:</p>\n\n<pre><code>public const int TextAppearance_Compat_Notification_Info = 2131493267;\npublic const int TextAppearance_Compat_Notification_Info_Media = 2131493231;\n</code></pre>\n\n<p>I am not sure of the significance of that, but I am including it just in case.</p>\n\n<p>In another post I found a possibly related issue: <a href=\"https://stackoverflow.com/questions/48241620/errorresource-style-textappearance-compat-notification-info-aka-packageid-te\">Error:resource style/TextAppearance.Compat.Notification.Info (aka {packageId}.test:style/TextAppearance.Compat.Notification.Info) not found</a></p>\n\n<p>However setting the target SDK version to 26 did not fix the problem for me so I am guessing that there is something else going on here.</p>\n\n<p>In case it matters, I am using Visual Studio Enterprise for Mac 7.6.3.</p>\n\n<p>I have tried to construct an example project in order to reproduce the issue, but have not been able to so far.</p>\n\n<p>Specifically, I would like to know whether anyone has run into these same missing resource errors when attempting to upgrade a Xamarin.Forms project to version 3.1 from an older version such as 2.5. Or maybe I am missing something obvious?</p>\n\n<p>--- Update: As suggested below by SushiHangover, I have conducted a full dependency audit on the project. I have:</p>\n\n<ol>\n<li>Removed all dependencies from all sub-projects</li>\n<li>Added the version of Xamarin.Forms I wish to update to (3.1.0.697729, which is the current version)</li>\n<li>Carefully re-added each required package to the sub-projects that require them. As mentioned below, I was able to get rid of a lot of apparently unused dependencies. This put the Android support libraries at version 26.0.2, which is a few versions behind the current one.</li>\n<li>Verified that I am building against the latest android SDK.</li>\n</ol>\n\n<p>I am back to the same 12 build errors as before. I'm not sure where to go from here. Along the way I created a series of git branches as possible restore points. I will next try adding some packages in a different order,  in case it affects something.</p>\n"}, {"tags": ["c#", "https", "multipartform-data"], "comments": [{"owner": {"reputation": 998, "user_id": 4684493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b14bb87a971478b4a6e098f78648a07?s=128&d=identicon&r=PG&f=1", "display_name": "Hintham", "link": "https://stackoverflow.com/users/4684493/hintham"}, "edited": false, "score": 0, "creation_date": 1536171823, "post_id": 52191225, "comment_id": 91332379, "body": "&#39;It returns a 200/OK, as a valid POST, but doesn&#39;t like the payload&#39;, what makes you think that? Can you share a bit more information regarding the service you&#39;re attempting to communicate with? Is this something under your control ?"}, {"owner": {"reputation": 637, "user_id": 8521445, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b1e5c476ea736f8ec6749237752bf98?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/8521445/chris"}, "reply_to_user": {"reputation": 998, "user_id": 4684493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b14bb87a971478b4a6e098f78648a07?s=128&d=identicon&r=PG&f=1", "display_name": "Hintham", "link": "https://stackoverflow.com/users/4684493/hintham"}, "edited": false, "score": 0, "creation_date": 1536171938, "post_id": 52191225, "comment_id": 91332443, "body": "@Hintham It returns a JSON object telling me that the value is out of range, instead of the success object I get when using Chrome."}, {"owner": {"reputation": 1141, "user_id": 4031869, "user_type": "registered", "profile_image": "https://graph.facebook.com/601937077/picture?type=large", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/4031869/matt-clark"}, "edited": false, "score": 0, "creation_date": 1536173688, "post_id": 52191225, "comment_id": 91333184, "body": "Have you tried using fiddler to intercept the chrome request and your request so you can compare them to see what&#39;s different?"}], "owner": {"reputation": 637, "user_id": 8521445, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b1e5c476ea736f8ec6749237752bf98?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/8521445/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536171351, "creation_date": 1536171351, "question_id": 52191225, "link": "https://stackoverflow.com/questions/52191225/c-multipart-form-data-encoding", "title": "c# Multipart Form Data Encoding", "body": "<p>I'm working on a C# application that submits some small files to a device via multipart form data.  I've been unable to get the device to actually accept the data that I'm sending it and I have a feeling that it has to do with the actual encoding of the file as it's being transmitted somehow, but I'm not entirely sure.  It returns a 200/OK, as a valid POST, but doesn't like the payload.</p>\n\n<p>I've been using Chrome Dev Tools for the devices web interface to match as closely as possible.  One thing I've noticed is that Dev Tools doesn't show me the actual payload, just the following as if it can't display it:</p>\n\n<pre><code>------WebKitFormBoundaryWwZOi6WAr7yb3yRE\nContent-Disposition: form-data; name=\"[Redacted]\"; filename=\"[AlsoRedacted]\"\nContent-Type: application/octet-stream\n\n\n------WebKitFormBoundaryWwZOi6WAr7yb3yRE--\n</code></pre>\n\n<p>Alternatively, the MessageBox I've been using to help debug seem to have no issue displaying it.</p>\n\n<p>The relevant portions of the code are below and would appreciate any suggestions.</p>\n\n<pre><code>using (FileStream fs = new FileStream(Filename, FileMode.Open, FileAccess.Read))\n    {\n        using (MultipartFormDataContent Content = new MultipartFormDataContent(String.Format(\"----------{0:N}\", Guid.NewGuid())))\n        {\n            StreamContent ContentStream = new StreamContent(fs);\n            Content.Add(ContentStream, \"filename\", System.IO.Path.GetFileName(Filename));\n            ContentStream.Headers.ContentDisposition.Name = \"UploadEdid\";\n            ContentStream.Headers.ContentDisposition.FileNameStar = null;\n            ContentStream.Headers.ContentType = new MediaTypeHeaderValue(\"application/octet-stream\");\n\n\n            String ContentString = Content.ReadAsStringAsync().Result;\n            System.Windows.MessageBox.Show(ContentString, ContentString.Length.ToString());\n\n            using (HttpResponseMessage Response = await HttpClient.PostAsync(RequestUri, Content))\n            {\n                if (Response.IsSuccessStatusCode)\n                {\n                    HttpLoggedIn = true;\n                    string ResponseString = await Response.Content.ReadAsStringAsync();\n\n                    ParseHttpResponse(ResponseString);\n                }\n                else\n                {\n                    HttpLoggedIn = false;\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "algorithm", "bezier", "spline", "nurbs"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1536171181, "post_id": 52191149, "comment_id": 91332114, "body": "I don&#39;t understand what you want. You can scan the array to find points (&#39;1&#39;s) but this doesn&#39;t make sure which to connect. Nor do we know what exactly you want as a result? Pixels? Points plus control points? Very unclear. In GDI+ there are nice function to draw bezie curves from points.. But you need both the points and in the right <b>order</b>!"}, {"owner": {"reputation": 3, "user_id": 10105922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968f95d70105be94902f3f224aeab24c?s=128&d=identicon&r=PG&f=1", "display_name": "B. Nahil", "link": "https://stackoverflow.com/users/10105922/b-nahil"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536171676, "post_id": 52191149, "comment_id": 91332315, "body": "I want the result to be like the second array. i&#39;ve n points in my array then i want to change every 0 by 1 where my spline go through, like Bresenham&#39;s algorithm but for curves."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1536171820, "post_id": 52191149, "comment_id": 91332375, "body": "So the points should be connected left-to-right, like the graph of a continuous function?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536171897, "post_id": 52191149, "comment_id": 91332417, "body": "Either do the math or cheat. To cheat you can draw onto a small bitmap and the read out the pixels and put the 1s into the 2nd array. I did something similar <a href=\"https://stackoverflow.com/questions/22881312/c-sharp-drawing-text-using-custom-pixels/22881391?s=269|0.0000#22881391\">with characters here</a>"}, {"owner": {"reputation": 3, "user_id": 10105922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968f95d70105be94902f3f224aeab24c?s=128&d=identicon&r=PG&f=1", "display_name": "B. Nahil", "link": "https://stackoverflow.com/users/10105922/b-nahil"}, "edited": false, "score": 0, "creation_date": 1536172209, "post_id": 52191149, "comment_id": 91332578, "body": "i could &quot;cheat&quot; but i really want this algorithm because i&#39;ll need it a lot and it would be easier than reading a 1200*800 bitmap n times. But thanks for helping me."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536172690, "post_id": 52191149, "comment_id": 91332786, "body": "Good luck then. Remeber you still need to determine the order of the points.. ! - (And with the size you really could use the cheat with lockbits and might even be faster than some self-written  algorithm; the system usually is optimized best.. ;-)"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1536173831, "post_id": 52191149, "comment_id": 91333239, "body": "Check out: <a href=\"https://stackoverflow.com/search?q=bresenham+curve\">stackoverflow.com/search?q=bresenham+curve</a>"}, {"owner": {"reputation": 3, "user_id": 10105922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968f95d70105be94902f3f224aeab24c?s=128&d=identicon&r=PG&f=1", "display_name": "B. Nahil", "link": "https://stackoverflow.com/users/10105922/b-nahil"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1536182749, "post_id": 52191149, "comment_id": 91336945, "body": "Thanks @m69, i&#39;ll continue my research."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "edited": false, "score": 0, "creation_date": 1536200704, "post_id": 52191149, "comment_id": 91340839, "body": "So you want rasterization of curve. Bezier could be rasterized with subdivision method. Perhaps you don&#39;t need advanced methods like <a href=\"http://antigrain.com/index.html\" rel=\"nofollow noreferrer\">antigrain.com/index.html</a>"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1536204766, "post_id": 52191149, "comment_id": 91341604, "body": "What is wrong with BEZIER?"}], "answers": [{"tags": [], "owner": {"reputation": 6384, "user_id": 9042, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8aUsP.jpg?s=128&g=1", "display_name": "tfinniga", "link": "https://stackoverflow.com/users/9042/tfinniga"}, "is_accepted": true, "score": 1, "last_activity_date": 1536700457, "creation_date": 1536700457, "answer_id": 52284313, "question_id": 52191149, "link": "https://stackoverflow.com/questions/52191149/draw-splines-with-a-list-of-points-in-a-2d-array/52284313#52284313", "title": "Draw splines with a list of points in a 2D Array", "body": "<p>There are two parts of this question: defining a smooth curve that goes through those points, and then drawing that curve into your array.</p>\n\n<p>A common curve type that goes through several defined points is the <a href=\"https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\" rel=\"nofollow noreferrer\">Catmull-Rom spline</a>.  You might want to see if this meets your needs.</p>\n\n<p>To define your Catmull-Rom spline, you'd want to scan your 2D array from left to right, and wherever there is a 1, add a point to the spline.  You'll also need to come up with a curve parameterization.  Using the column number as the parameter value for each point would probably give good results.</p>\n\n<p>In terms of drawing, there are a few different approaches.  Catmull-Rom splines are parametric, so you could try computing the point on the curve at a lot of t values, and setting the corresponding array location.  If you have a line-drawing primitive implemented (like Bresenham line drawing), you can compute fewer points on the spline and  fill in with lines.  There are also other methods, like decomposing splines into beziers or scanline methods, but they're more complicated and probably unnecessary.</p>\n"}], "owner": {"reputation": 3, "user_id": 10105922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968f95d70105be94902f3f224aeab24c?s=128&d=identicon&r=PG&f=1", "display_name": "B. Nahil", "link": "https://stackoverflow.com/users/10105922/b-nahil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "accepted_answer_id": 52284313, "answer_count": 1, "score": 0, "last_activity_date": 1536700457, "creation_date": 1536170986, "last_edit_date": 1536173086, "question_id": 52191149, "link": "https://stackoverflow.com/questions/52191149/draw-splines-with-a-list-of-points-in-a-2d-array", "title": "Draw splines with a list of points in a 2D Array", "body": "<p>I've looked into <strong>splines</strong>, <strong>nurbs</strong> and <strong>Bezier curves</strong> bit I can't find an algorithm that fits my needs. I would appreciate help with an algorithm or function that can draw a curve based on points in a 2D array.  </p>\n\n<p><strong>Example:</strong></p>\n\n<p>First starting point in my array : ex arr[1,2] = new Point(1,2)  </p>\n\n<blockquote>\n  <p>0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,<strong>1</strong>,0,0,0,0,0,<strong>1</strong>,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,<strong>1</strong>,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,<strong>1</strong>,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0  </p>\n</blockquote>\n\n<p><strong>Output:</strong>  </p>\n\n<blockquote>\n  <p>0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,<strong>1</strong>,0,0,0,0,0,<strong>1</strong>,0,0,0,0,0,0,0<br>\n  0,0,<strong>1</strong>,0,0,0,0,<strong>1</strong>,0,<strong>1</strong>,0,0,0,0,0,0<br>\n  0,0,0,<strong>1</strong>,0,0,0,<strong>1</strong>,0,0,<strong>1</strong>,0,0,0,0,0<br>\n  0,0,0,<strong>1</strong>,0,0,<strong>1</strong>,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,<strong>1</strong>,<strong>1</strong>,<strong>1</strong>,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,<strong>0</strong>,0,0,0,0,0,0,0,0,0,0<br>\n  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0</p>\n</blockquote>\n"}, {"tags": ["c#", "valuetuple"], "comments": [{"owner": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "edited": false, "score": 0, "creation_date": 1536171022, "post_id": 52191121, "comment_id": 91332039, "body": "@Chris the compiler error is in the title: CS8135: Tuple with 2 elements cannot be converted to type object"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1536171279, "post_id": 52191121, "comment_id": 91332153, "body": "Ah, my apologies. I was looking for it in the body! I see you&#39;ve edited it to make it clearer now though, thanks. I would imagine it is to do with type inference - the first one it doesn&#39;t know what type the null is, the second one fixes that and the third one knows because both outputs of the ternary must be the same type. This theory doesn&#39;t match the error message though so I am not sure if it is correct or if there is more to it..."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536171556, "post_id": 52191121, "comment_id": 91332266, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33108900/required-casting-using-c-sharp-ternary-conditional-operator\">Required casting using C# ternary conditional operator</a>"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1536171843, "post_id": 52191121, "comment_id": 91332391, "body": "@RufusL: Related but not a duplicate. The conditional is shown here to demonstrate an approach that also works, but it&#39;s not the focus of the question."}], "answers": [{"comments": [{"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1536300943, "post_id": 52191270, "comment_id": 91381397, "body": "The problem with lambdas is deeeper than that. A lambda can be a delegate or an expression tree."}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1536301458, "post_id": 52191270, "comment_id": 91381583, "body": "That makes no difference, the point was already made. The expression is ambiguous and has no definite type."}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 6, "last_activity_date": 1536172613, "last_edit_date": 1536172613, "creation_date": 1536171558, "answer_id": 52191270, "question_id": 52191121, "link": "https://stackoverflow.com/questions/52191121/c-error-cs8135-tuple-with-2-elements-cannot-be-converted-to-type-object/52191270#52191270", "title": "C#. Error CS8135: Tuple with 2 elements cannot be converted to type &#39;object&#39;", "body": "<p>The problem is that the <code>null</code> expression has no definite type, it depends on the context in which it is used. In the case of the conditional operator, the compiler has to find a common type between <code>(object, object)</code> and <code>(null, object)</code>. In that case it can deduce that <code>null</code> may be <code>object</code>.</p>\n\n<p>When the compiler sees <code>(null, object)</code> and needs to convert to <code>object</code>, the value <code>null</code> can be a multitude of types thus the error. It's the same reason why it cannot infer a type for lambdas unless you give it a hint.</p>\n\n<pre><code>Action x = () =&gt; { }; // ok\nvar y = () =&gt; { }; // error\n</code></pre>\n\n<p>As an aside, rather than using <code>(object)null</code> as the value, I would strongly suggest using <code>default(object)</code> instead that way you're not tying yourself to a specific value, but rather a value appropriate for the type you give.</p>\n"}], "owner": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 0, "accepted_answer_id": 52191270, "answer_count": 1, "score": 1, "last_activity_date": 1536172613, "creation_date": 1536170856, "last_edit_date": 1536171105, "question_id": 52191121, "link": "https://stackoverflow.com/questions/52191121/c-error-cs8135-tuple-with-2-elements-cannot-be-converted-to-type-object", "title": "C#. Error CS8135: Tuple with 2 elements cannot be converted to type &#39;object&#39;", "body": "<p>Consider the following method:</p>\n\n<pre><code>public object Foo(bool flag)\n{\n    if (flag) \n        return (new object(), new object());\n    return (null, new object()); //Compiler error over here!!\n}\n</code></pre>\n\n<p>This does not compile showing the error I mentioned in the title of this question. I can fix that with just a cast like the following:</p>\n\n<pre><code>public object Foo(bool flag)\n{\n    if (flag) \n        return (new object(), new object());\n    return ((object)null, new object());\n}\n</code></pre>\n\n<p>So far so good. The weird part and the reason for which I am asking this is that if I change the syntax and I use ternary operator instead of if-else statement like this:</p>\n\n<pre><code>public object Boo(bool flag) =&gt; flag\n                                ? (new object(), new object())\n                                : (null, new object());\n</code></pre>\n\n<p>Then no cast is needed!!! Why? IMHO both ways of writing the method are semantically equal. I know that the IL generated may not be the same (haven't checked that). </p>\n"}, {"tags": ["c#", ".net-core", "http-post"], "comments": [{"owner": {"reputation": 863, "user_id": 5557544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q9trY.jpg?s=128&g=1", "display_name": "Roman Svitukha", "link": "https://stackoverflow.com/users/5557544/roman-svitukha"}, "edited": false, "score": 0, "creation_date": 1536171351, "post_id": 52191109, "comment_id": 91332184, "body": "Did you call SaveChanges(); after Add, Update or Attach?"}, {"owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "reply_to_user": {"reputation": 863, "user_id": 5557544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q9trY.jpg?s=128&g=1", "display_name": "Roman Svitukha", "link": "https://stackoverflow.com/users/5557544/roman-svitukha"}, "edited": false, "score": 0, "creation_date": 1536171661, "post_id": 52191109, "comment_id": 91332311, "body": "Sorry, I should have mentioned in the post. <code>await unitOfWork.CompleteAsync();</code> is taking care of it."}, {"owner": {"reputation": 3930, "user_id": 106397, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qn5V7.jpg?s=128&g=1", "display_name": "ajawad987", "link": "https://stackoverflow.com/users/106397/ajawad987"}, "edited": false, "score": 0, "creation_date": 1536173485, "post_id": 52191109, "comment_id": 91333092, "body": "Is the <code>repository</code> object an Entity Framework <code>DbContext</code>?"}, {"owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "edited": false, "score": 0, "creation_date": 1536173614, "post_id": 52191109, "comment_id": 91333145, "body": "<code>repository</code> is the pattern that I use. It includes some basic functionalities such as <code>Add</code> <code>List</code> etc. It also has the <code>DbContext</code> injected. So it has <code>context</code> in it."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536178208, "post_id": 52191109, "comment_id": 91335187, "body": "are you 100% sure that this line: completion = mapper.Map&lt;CompletionForCreateDto, Completion&gt;(completionForCreateDto); sets the Id and any other members of the PK of the returned instance of Completion?"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536178440, "post_id": 52191109, "comment_id": 91335288, "body": "Also, be aware that by creating your own instance and then calling Attach or Update, you are basically telling EF: &quot;I have no idea what I&#39;m about to change, so just update everythiing, just in case&quot;. It is more efficient to rely on the EF change tracker to track the changes (i.e. modify mapper.map to actually change the Completion instance returned from the database). And 2 other rants: google .ToDictionary and why are you getting the completion from db if you are ignoring it anyway through the line just after?"}, {"owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536181510, "post_id": 52191109, "comment_id": 91336492, "body": "@AlexandruClon\u021bea, your comment is correct. The issue is the <code>mapper</code>. Please write this to the solution so that I can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "is_accepted": true, "score": 1, "last_activity_date": 1536231405, "last_edit_date": 1536231405, "creation_date": 1536219424, "answer_id": 52198836, "question_id": 52191109, "link": "https://stackoverflow.com/questions/52191109/i-have-to-update-sql-value-using-httppost-in-dotnet-core-2-0/52198836#52198836", "title": "I have to update SQL value using HttpPost in dotnet core 2.0", "body": "<p>The most probable cause for EF generating an insert statement for an entity when attaching it to a context (Through Attach, Update, Add or by setting its State) is missing values from the PK (most commonly the ID, but the PK can be more complex in other cases) for that entity. </p>\n\n<p>When no PK is present, EF cannot know which entity you are referring to, so it sets the state to New. In your code, I suspect this is generating your issues:</p>\n\n<pre><code>var completion = await repository.GetCompletion(id);\ncompletion = mapper.Map&lt;CompletionForCreateDto, Completion&gt;(completionForCreateDto);\n</code></pre>\n\n<p>You are getting some data from the repository, but then generating a new entity through mapper.Map(completionForCreateDto);. I suspect that this code is not setting the PK values, causing your issues. A naive fix would be to set these values after mapper.map. That, or update the mappings to map the values.</p>\n"}], "owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 52198836, "answer_count": 1, "score": 0, "last_activity_date": 1536231405, "creation_date": 1536170821, "last_edit_date": 1536172076, "question_id": 52191109, "link": "https://stackoverflow.com/questions/52191109/i-have-to-update-sql-value-using-httppost-in-dotnet-core-2-0", "title": "I have to update SQL value using HttpPost in dotnet core 2.0", "body": "<p>I have an external API resource that I need to use. The API sends me trigger as a post request. What I need to do is get the values, and update the current corresponded record in the SQL. The code that I came up with keeps adding a new value to the database. </p>\n\n<pre><code>[HttpPost(\"status\")]\npublic async Task&lt;IActionResult&gt; Post(CompletionForCreateDto \ncompletionForCreateDto)\n{\n    // che ck the model state\n    if (!ModelState.IsValid)\n        return BadRequest(ModelState);\n\n    // find the incoming trigger information and map them to the disctionary\n    var form = Request.ReadFormAsync();\n    var formData = form.Result;\n    Dictionary&lt;string, string&gt; ddata = new Dictionary&lt;string, string&gt;();\n\n    foreach ( var key in formData.Keys)\n    {\n        var value = formData[key.ToString()];\n        ddata.Add(key, value);\n    }\n\n    // find the existed completion by ID\n    int id = Int32.Parse(ddata[\"record\"]);\n    var completion = await repository.GetCompletion(id);\n\n    completion = mapper.Map&lt;CompletionForCreateDto, Completion&gt;(completionForCreateDto);\n\n    if (completion == null)\n        return NotFound();\n\n    // some test values to make sure it works.\n    completion.VitalSignBLA = ddata[\"vital_signs_spring_complete\"];\n    completion.VitalSignBLADateTime = DateTime.Now;\n\n    // repository.Add(completion); ==&gt; adds value as a new record\n    // repository.Update(completion);==&gt; adds value as a new record\n    repository.Attach(completion); // ==&gt; adds value as a new record\n\n    // SaveChanges()\n    await unitOfWork.CompleteAsync();\n    return Ok();\n}\n</code></pre>\n\n<p>Above, first I get the trigger and put them into a dicmtionary so that I can use. Then, I tried to find the existed trigger record in my sql servere using their <code>record</code> value. Trigger's <code>record</code> and SQL <code>record</code> value are the same values. After that, I use some data to test it. Lastly, I used context <code>Add</code>, <code>Update</code> and <code>Attach</code> to update the SQL database. For all cases, the post request is kept adding a new row. </p>\n\n<p>I am new to the dotnet core. I am not sure it this because I used <code>HttpPost</code> attribute or the code itself. Any help wpuld be appriciated!</p>\n"}, {"tags": ["c#", "forms", "screenshot"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536170830, "post_id": 52191084, "comment_id": 91331948, "body": "Instead of using the bounds, try the <code>ClientRectangle</code>, but you have to transform it to screen coordinates."}, {"owner": {"reputation": 11, "user_id": 9892556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9755e9294e2fec9cbe8b8bbe20d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "Gtazer", "link": "https://stackoverflow.com/users/9892556/gtazer"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536179798, "post_id": 52191084, "comment_id": 91335810, "body": "ClientRectangle don&#39;t work, I get the superior deskop location..."}], "answers": [{"comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1536172552, "post_id": 52191278, "comment_id": 91332721, "body": "Did you test this?  Because the user didn&#39;t want the borders."}, {"owner": {"reputation": 11, "user_id": 9892556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9755e9294e2fec9cbe8b8bbe20d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "Gtazer", "link": "https://stackoverflow.com/users/9892556/gtazer"}, "edited": false, "score": 0, "creation_date": 1536177815, "post_id": 52191278, "comment_id": 91335017, "body": "Yes I try this but, drawtobitmap don&#39;t work with a flash animation! Only CopyFromScreen works."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 11, "user_id": 9892556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9755e9294e2fec9cbe8b8bbe20d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "Gtazer", "link": "https://stackoverflow.com/users/9892556/gtazer"}, "edited": false, "score": 0, "creation_date": 1536178312, "post_id": 52191278, "comment_id": 91335227, "body": "@Gtazer Your question didn&#39;t mention anything about a flash animation.  It&#39;s important to properly document your question."}, {"owner": {"reputation": 11, "user_id": 9892556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9755e9294e2fec9cbe8b8bbe20d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "Gtazer", "link": "https://stackoverflow.com/users/9892556/gtazer"}, "edited": false, "score": 0, "creation_date": 1536178792, "post_id": 52191278, "comment_id": 91335424, "body": "Yes my bad sorry! So I want to capture my screen with a flash animation in! So I try clientRectangle but I get from the left superior deskop position..."}], "tags": [], "owner": {"reputation": 725, "user_id": 8155350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de477406a8408e6ac59c1a3ee2ffa282?s=128&d=identicon&r=PG&f=1", "display_name": "fdafadf", "link": "https://stackoverflow.com/users/8155350/fdafadf"}, "is_accepted": false, "score": 0, "last_activity_date": 1536171576, "creation_date": 1536171576, "answer_id": 52191278, "question_id": 52191084, "link": "https://stackoverflow.com/questions/52191084/c-get-screenshot-of-the-flash-content-of-the-form/52191278#52191278", "title": "C# get screenshot of the flash content of the form", "body": "<p>You can use Form's method DrawToBitmap like that:</p>\n\n<pre><code>        Bitmap bitmap = new Bitmap(this.ClientRectangle.Width, this.ClientRectangle.Height);\n        this.DrawToBitmap(bitmap, this.ClientRectangle);\n        bitmap.Save(@\"C:\\Deployment\\test.bmp\");\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9892556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9755e9294e2fec9cbe8b8bbe20d4d2?s=128&d=identicon&r=PG&f=1", "display_name": "Gtazer", "link": "https://stackoverflow.com/users/9892556/gtazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "closed_date": 1536171580, "answer_count": 1, "score": 1, "last_activity_date": 1536244592, "creation_date": 1536170713, "last_edit_date": 1536244592, "question_id": 52191084, "link": "https://stackoverflow.com/questions/52191084/c-get-screenshot-of-the-flash-content-of-the-form", "closed_reason": "Duplicate", "title": "C# get screenshot of the flash content of the form", "body": "<p>EDIT: I try clientRectangle but I get the image from the left superior corner of the desktop and not of the form!\nI try to get a screenshot of my form where there is a flash animation. So I try this:</p>\n\n<pre><code>Rectangle bounds = this.Bounds;\nBitmap bitmap = new Bitmap(this.Width, this.Height);\nGraphics g = Graphics.FromImage(bitmap);\n\ng.CopyFromScreen(new Point(bounds.Left, bounds.Top), Point.Empty, bounds.Size);\nbitmap.Save(\"C:/Users/Public/Documents/YouCam/flash.jpeg\", ImageFormat.Jpeg);\nMessageBox.Show(\"Save\");\n</code></pre>\n\n<p>It work, but I get also the border of the form with this. How can I get the inner of the form without the control bar and the borders?\nIn red the zone that I want to capture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4lbMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lbMD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks ;)</p>\n\n<p>PS: sorry form my poor english!</p>\n"}, {"tags": ["c#", "selenium", "nunit-2.6"], "comments": [{"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536175549, "post_id": 52190932, "comment_id": 91334035, "body": "What do you mean it does not display the message? Visual Studio? Command line? Which test runner/adapter are you using? What test runner are you using? Side note: According to <a href=\"http://nunit.org/docs/2.6/utilityAsserts.html\" rel=\"nofollow noreferrer\">nunit.org/docs/2.6/utilityAsserts.html</a>, sounds like Assert.Inconclusive(string message, object[] params) might be more suited for your use case."}, {"owner": {"reputation": 463, "user_id": 3481508, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e94529dcd9a677ba02807fd31264b97?s=128&d=identicon&r=PG&f=1", "display_name": "user1413", "link": "https://stackoverflow.com/users/3481508/user1413"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536176259, "post_id": 52190932, "comment_id": 91334339, "body": "@AlexandruClon\u021bea Nunit UI Test Runner Chech my Image. And Let me know if you need any other details <a href=\"https://s33.postimg.cc/rt6bh6bhb/9-5-2018_3-34-33_PM.jpg\" rel=\"nofollow noreferrer\">s33.postimg.cc/rt6bh6bhb/9-5-2018_3-34-33_PM.jpg</a>"}, {"owner": {"reputation": 463, "user_id": 3481508, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e94529dcd9a677ba02807fd31264b97?s=128&d=identicon&r=PG&f=1", "display_name": "user1413", "link": "https://stackoverflow.com/users/3481508/user1413"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536176782, "post_id": 52190932, "comment_id": 91334570, "body": "@AlexandruClon\u021bea I know we have below syntaxs. And I tried with first one but C# is actually using <code>public static void Ignore();</code> this one. I have no idea what should i pass in <code>params object[] args</code> if I have to use last one. If you have any example let me know. From Assert.cs file <code>public static void Ignore(string message);</code> <code>public static void Ignore(string message, params object[] args);</code>"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1536177376, "post_id": 52190932, "comment_id": 91334833, "body": "Think of the (string message,params object[] argss) part as short for string.Format(string message, params object[] args) (i.e. string.Format(&quot;{0}, {1}&quot;, object1, object2)... Archaic remains of the old times of having no string interpolation. I have no idea why your GUI is not displaying the message."}], "owner": {"reputation": 463, "user_id": 3481508, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e94529dcd9a677ba02807fd31264b97?s=128&d=identicon&r=PG&f=1", "display_name": "user1413", "link": "https://stackoverflow.com/users/3481508/user1413"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536170076, "creation_date": 1536170076, "question_id": 52190932, "link": "https://stackoverflow.com/questions/52190932/not-able-to-add-message-while-skipping-a-test-case-with-assert-ignore", "title": "Not able to add message while skipping a test case with Assert.Ignore", "body": "<p>I am trying to add a message when I try to skip a test case my condition statement. I am able to skip without adding a message. But I would like to add a message for the reason to skip it. But Nunit never displays the message. </p>\n\n<pre><code>if (...)\n{\n  Assert.Ignore(\"Data not found.\");\n}\n</code></pre>\n\n<p>What should be the solution to add the message while skipping my test case?</p>\n"}, {"tags": ["c#", "arrays", "primes"], "comments": [{"owner": {"reputation": 692, "user_id": 6538434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f5b8f4c88a2ad0bcedcad56fa3efc26?s=128&d=identicon&r=PG&f=1", "display_name": "eye_am_groot", "link": "https://stackoverflow.com/users/6538434/eye-am-groot"}, "edited": false, "score": 1, "creation_date": 1536170162, "post_id": 52190925, "comment_id": 91331682, "body": "<code>int y = 0; l &lt; 10000; l++</code> should probably be <code>int l = 0; l &lt; 10000; l++</code>"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1536170236, "post_id": 52190925, "comment_id": 91331717, "body": "The perils of copying and pasting code without proof-reading"}, {"owner": {"reputation": 692, "user_id": 6538434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f5b8f4c88a2ad0bcedcad56fa3efc26?s=128&d=identicon&r=PG&f=1", "display_name": "eye_am_groot", "link": "https://stackoverflow.com/users/6538434/eye-am-groot"}, "edited": false, "score": 1, "creation_date": 1536170261, "post_id": 52190925, "comment_id": 91331736, "body": "also <code>int i = 3; 1 &lt; 10000; i++</code> should be <code>int i = 3; i &lt; 10000; i++</code>"}, {"owner": {"reputation": 135, "user_id": 9822961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849bd735abfe339d76b530f9322bcc20?s=128&d=identicon&r=PG&f=1", "display_name": "Black_Raven", "link": "https://stackoverflow.com/users/9822961/black-raven"}, "edited": false, "score": 0, "creation_date": 1536170372, "post_id": 52190925, "comment_id": 91331775, "body": "&#39;for (int y = 0; l &lt; 10000; l++)&#39; you have a error here too, l is not even defined"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1536170397, "post_id": 52190925, "comment_id": 91331788, "body": "<code>for (int i = 3; 1 &lt; 10000; i++)</code> is an infinite loop.  Everything after is unreachable and very quickly you will get an index out of range exception because <code>numbers[i] = i;</code> is only <code>10000</code> deep"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7453959"}, "edited": false, "score": 0, "creation_date": 1536170834, "post_id": 52190925, "comment_id": 91331951, "body": "The y part has already been changed, didn&#39;t realise the i/1 part though"}], "answers": [{"comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1536170522, "post_id": 52191006, "comment_id": 91331835, "body": "This will still give an index out of range exception, when j == 10,000 and k == 10000, it will be trying to assign <code>numbers[10000 * 10000] = 0</code>"}, {"owner": {"reputation": 1218, "user_id": 9801177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZohj.png?s=128&g=1", "display_name": "Pietro Nadalini", "link": "https://stackoverflow.com/users/9801177/pietro-nadalini"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1536170616, "post_id": 52191006, "comment_id": 91331866, "body": "But there&#39;s a validation of <code>(k * j) &lt; 10000</code> in the loop"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1536172972, "post_id": 52191006, "comment_id": 91332895, "body": "This will though not get all prime numbers. <code>2</code> is missing and <code>4</code> it says is prime which it isn&#39;t. Easily fixed though by <code>for (int i = 2; i &lt; 10000; i++)</code> or declaring <code>numbers[2] = 2;</code>."}], "tags": [], "owner": {"reputation": 1218, "user_id": 9801177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZohj.png?s=128&g=1", "display_name": "Pietro Nadalini", "link": "https://stackoverflow.com/users/9801177/pietro-nadalini"}, "is_accepted": true, "score": 1, "last_activity_date": 1536175437, "last_edit_date": 1536175437, "creation_date": 1536170443, "answer_id": 52191006, "question_id": 52190925, "link": "https://stackoverflow.com/questions/52190925/outputting-all-prime-numbers-from-0-10000-with-arrays/52191006#52191006", "title": "Outputting all prime numbers from 0-10000 with arrays", "body": "<p>You need to fix you <code>for</code> loops, so it ends up like this:</p>\n\n<pre><code>for (int i = 2; i &lt; 10000; i++)\n{\n    numbers[i] = i;\n}\n\nfor (int j = 0; j &lt; 10000; j++)\n{\n    if (numbers[j] != 0)\n    {\n        for (int k = 2; (k * j) &lt; 10000; k++)\n        {\n            numbers[k * j] = 0;\n        }\n    }\n}\n\nfor (int l = 0; l &lt; 10000; l++)\n{\n    if (numbers[l] != 0)\n    {\n        Console.WriteLine(numbers[l]);\n    }\n}\n</code></pre>\n\n<p>Otherwise, your first loop will be infinite because of the validation <code>1 &lt; 10000</code> and your third loop will throw an error</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After reading @\"Sani Singh Huttunen\" comment I changed the first loop to start with <code>2</code> so it would count that number as prime, and that would remove <code>4</code> from the result list since that's not a prime number.</p>\n\n<p><a href=\"https://dotnetfiddle.net/jspVTx\" rel=\"nofollow noreferrer\">Here</a> is a working example</p>\n"}, {"comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536170576, "post_id": 52191029, "comment_id": 91331856, "body": "There are other places that will throw that exception after the first one is fixed."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 3, "creation_date": 1536170624, "post_id": 52191029, "comment_id": 91331869, "body": "@RonBeyer There are far too many other problems after this is fixed.  The question only asks how to fix the errors they are receiving, new problems deserve new questions.  Plus, this is homework and I am not doing <i>all</i> the work for them"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": false, "score": 2, "last_activity_date": 1536170652, "last_edit_date": 1536170652, "creation_date": 1536170515, "answer_id": 52191029, "question_id": 52190925, "link": "https://stackoverflow.com/questions/52190925/outputting-all-prime-numbers-from-0-10000-with-arrays/52191029#52191029", "title": "Outputting all prime numbers from 0-10000 with arrays", "body": "<p>The first loop in your code:</p>\n\n<pre><code>for (int i = 3; 1 &lt; 10000; i++)\n</code></pre>\n\n<p>Is essentially an infinite loop, 1 will <em>always</em> be less than 10,000 and thus will never exit.  Everything after this loop is now unreachable.</p>\n\n<p>You get your error because after 10,000 loops you will still try to do this:</p>\n\n<pre><code>numbers[i] = i;\n</code></pre>\n\n<p>And <code>i</code> will be greater than 9999 which will cause an <code>IndexOutOfRangeException</code></p>\n\n<p>After you fix this you will find you have more issues, but since this is homework you will need to try to fix those yourself</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7453959"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 52191006, "answer_count": 2, "score": -2, "last_activity_date": 1536175437, "creation_date": 1536170044, "last_edit_date": 1536170197, "question_id": 52190925, "link": "https://stackoverflow.com/questions/52190925/outputting-all-prime-numbers-from-0-10000-with-arrays", "title": "Outputting all prime numbers from 0-10000 with arrays", "body": "<p>I have a homework task to output all the prime numbers from 0-10000 in C#, but must utilise arrays in my solution</p>\n\n<p>My code is:</p>\n\n<pre><code>public static void Main()\n{\n    Int32[] numbers = new int[10000];\n\n    for (int i = 3; 1 &lt; 10000; i++)\n    {\n        numbers[i] = i;\n    }\n\n    for (int j = 0; j &lt; 10000; j++)\n    {\n        if (numbers[j] != 0)\n        {\n            for (int k = 2; (k * j) &lt; 10000; k++)\n            {\n                numbers[k * j] = 0;\n            }\n        }\n    }\n\n    for (int y = 0; l &lt; 10000; l++)\n    {\n        if (numbers[l] != 0)\n        {\n            Console.WriteLine(numbers[l]);\n        }\n    }\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>I keep receiving the error :</p>\n\n<blockquote>\n  <p>main.cs(17,5): warning CS0162: Unreachable code detected\n      Compilation succeeded - 1 warning(s)</p>\n  \n  <p>Unhandled Exception: System.IndexOutOfRangeException: Index was outside the bounds of the array.\n        at MainClass.Main () [0x00012] in &lt;9e6bcdf6e2a44b4eb679270e1ffe39ca>:0 \n      [ERROR] FATAL UNHANDLED EXCEPTION: System.IndexOutOfRangeException: Index \n      was outside the bounds of the array.\n        at MainClass.Main () [0x00012] in &lt;9e6bcdf6e2a44b4eb679270e1ffe39ca>:0`</p>\n</blockquote>\n\n<p>(Line 17 referring to <code>for (int j = 0; j &lt; 10000; j++)</code>)</p>\n"}, {"tags": ["c#", ".net", "linq", "validation"], "comments": [{"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536170010, "post_id": 52190879, "comment_id": 91331616, "body": "<code>value.Where(s =&gt; !string.IsNullOrEmpty(s)).ToList().ForEach</code>..."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 3, "creation_date": 1536170361, "post_id": 52190879, "comment_id": 91331770, "body": "You don&#39;t need to call <code>value.ToList().ForEach</code> - you can simply iterate over <code>value</code> directly or use <code>Select</code>. When using Linq, <i>think functionally</i>! (Which is to say, Linq calls should not have side-effects, which your code does because you perform <code>values.UnionWith</code>, which directly mutates the <code>HashSet</code>)."}, {"owner": {"reputation": 2650, "user_id": 4588756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fl8RE.png?s=128&g=1", "display_name": "Hossein", "link": "https://stackoverflow.com/users/4588756/hossein"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536170430, "post_id": 52190879, "comment_id": 91331801, "body": "@Dai yea. good idea"}, {"owner": {"reputation": 1739, "user_id": 1219052, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2LXbb.png?s=128&g=1", "display_name": "Jimson Kannanthara James", "link": "https://stackoverflow.com/users/1219052/jimson-kannanthara-james"}, "reply_to_user": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536244209, "post_id": 52190879, "comment_id": 91361946, "body": "@ParrishHusband Will this work for the input &quot;abc; ;efg;&quot;?"}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536246887, "post_id": 52190879, "comment_id": 91363748, "body": "@JimsonKannantharaJames check out the answer by Dai, it&#39;s perfect for what you&#39;re trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 2650, "user_id": 4588756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fl8RE.png?s=128&g=1", "display_name": "Hossein", "link": "https://stackoverflow.com/users/4588756/hossein"}, "reply_to_user": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536170153, "post_id": 52190929, "comment_id": 91331675, "body": "@ParrishHusband No man. but if you want You answer and I remove my answer"}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536170211, "post_id": 52190929, "comment_id": 91331705, "body": "Nah, we probably both just missed the extra parenthesis :)"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1536171128, "post_id": 52190929, "comment_id": 91332090, "body": "This won&#39;t compile because <code>value.Select( ... )</code> returns an <code>IEnumerable&lt;String&gt;</code> and Linq does not define a <code>.ForEach</code> extension-method for <code>IEnumerable</code> (it only exists on <code>List&lt;T&gt;</code>)."}], "tags": [], "owner": {"reputation": 2650, "user_id": 4588756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fl8RE.png?s=128&g=1", "display_name": "Hossein", "link": "https://stackoverflow.com/users/4588756/hossein"}, "is_accepted": false, "score": 0, "last_activity_date": 1536171290, "last_edit_date": 1536171290, "creation_date": 1536170073, "answer_id": 52190929, "question_id": 52190879, "link": "https://stackoverflow.com/questions/52190879/linq-avoid-adding-empty-values-to-hashset/52190929#52190929", "title": "LINQ - Avoid adding empty values to HashSet", "body": "<p>Try this:</p>\n\n<pre><code>value.Select(s =&gt; !string.IsNullOrWhiteSpace(s)).ToList()\n      .ForEach(i =&gt; values.UnionWith(Array.ConvertAll(i.Split(';'), p =&gt; p.Trim())));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "edited": false, "score": 0, "creation_date": 1536170572, "post_id": 52191010, "comment_id": 91331852, "body": "Very clean approach, I like that you pass in the <code>IEnumerable</code> straight into the <code>HashSet</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1536170713, "post_id": 52191010, "comment_id": 91331901, "body": "There&#39;s no point removing duplicate values twice.  You&#39;re just constructing two different sets redundantly."}, {"owner": {"reputation": 3028, "user_id": 1316856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c234d38e0abe44f3813ff88987e1ddaa?s=128&d=identicon&r=PG", "display_name": "Parrish Husband", "link": "https://stackoverflow.com/users/1316856/parrish-husband"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536170897, "post_id": 52191010, "comment_id": 91331982, "body": "@Servy cool I didn&#39;t realize the constructor was calling <code>UnionWith</code> under the hood."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1536171037, "post_id": 52191010, "comment_id": 91332051, "body": "@Servy I&#39;ve amended my answer."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 3, "last_activity_date": 1536171027, "last_edit_date": 1536171027, "creation_date": 1536170450, "answer_id": 52191010, "question_id": 52190879, "link": "https://stackoverflow.com/questions/52190879/linq-avoid-adding-empty-values-to-hashset/52191010#52191010", "title": "LINQ - Avoid adding empty values to HashSet", "body": "<p>FWIW, I recommend avoiding using <code>List.ForEach</code>, see Eric's blog post about it here: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/05/18/foreach-vs-foreach/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/ericlippert/2009/05/18/foreach-vs-foreach/</a></p>\n\n<ul>\n<li>You can simplify your code, you don't need to call <code>ToList</code> if you're then going to add Linq methods to the call chain because that will result in needless extra iteration through the list.</li>\n<li>You can also use the <code>HashSet&lt;T&gt;(IEnumerable&lt;T&gt;)</code> constructor and simply pass-in a constructed Linq <code>IEnumerable&lt;T&gt;</code> (the source data will still only be iterated-over only once).</li>\n<li>If you just want distinct values anyway you don't need to use a <code>HashSet</code>, you can use Linq's <code>.Distinct()</code> method.</li>\n<li>I converted your <code>Array.ConvertAll(i.Split(';'), p =&gt; p.Trim())</code> into a <code>.SelectMany</code> call.</li>\n</ul>\n\n<p>My approach if you just want a list of distinct strings:</p>\n\n<pre><code>String[] stringValues = ...\nList&lt;String&gt; distinctValues = stringValues\n    .SelectMany( v =&gt; v.Split(';') )\n    .Select( v =&gt; v.Trim() )\n    .Where( v =&gt; !String.IsNullOrEmpty( v ) )\n    .Distinct()\n    .ToList();\n</code></pre>\n\n<p>But if you do want a <code>HashSet</code> as the final result then you can omit the <code>.Distinct</code> step (make sure you do not call <code>ToList</code>!):</p>\n\n<pre><code>String[] stringValues = ...\nIEnumerable&lt;String&gt; allValues = stringValues\n    .SelectMany( v =&gt; v.Split(';') )\n    .Select( v =&gt; v.Trim() )\n    .Where( v =&gt; !String.IsNullOrEmpty( v ) );\n\nHashSet&lt;String&gt; asHashSet = new HashSet&lt;String&gt;( allValues );\n</code></pre>\n\n<p>If you want case-insensitive comparisons or other comparison logic use the other overloads of the <code>HashSet</code> constructor that accept a custom comparator.</p>\n"}], "owner": {"reputation": 1739, "user_id": 1219052, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2LXbb.png?s=128&g=1", "display_name": "Jimson Kannanthara James", "link": "https://stackoverflow.com/users/1219052/jimson-kannanthara-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 52191010, "answer_count": 2, "score": 0, "last_activity_date": 1536291381, "creation_date": 1536169801, "last_edit_date": 1536243953, "question_id": 52190879, "link": "https://stackoverflow.com/questions/52190879/linq-avoid-adding-empty-values-to-hashset", "title": "LINQ - Avoid adding empty values to HashSet", "body": "<p>How do I avoid adding empty (<code>IsNullOrEmpty</code>) value to the list in the below linq after <code>p.Trim()</code>?</p>\n\n<pre><code>    HashSet&lt;string&gt; values;\n    string[] value;\n    ...  \n\n\n    get { ... }\n    set\n    {\n        value.ToList().ForEach(i =&gt; values.UnionWith(Array.ConvertAll(i.Split(';'), p =&gt; p.Trim())));\n    }\n</code></pre>\n\n<p>variable declarations are for illustrative purpose only.</p>\n"}, {"tags": ["c#", "jquery", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1536170526, "post_id": 52190861, "comment_id": 91331836, "body": "Use your development console in your browser to see what&#39;s happening with the AJAX request. What status code are your receiving? Aside from that, you got some pretty serious problems with your code here. 1) Never directly save anything created from post data (i.e. your param) to the database. Use a view model instead. 2) <code>UserManager</code> doesn&#39;t bring in related entities, so there&#39;s a possibility that <code>Statistics</code> might always be <code>null</code> here."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1536170527, "post_id": 52190861, "comment_id": 91331838, "body": "Looks like you have to give an Id property, since it&#39;s an <code>int</code> and not an <code>int?</code> (that is, a nullable int)."}, {"owner": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1536170636, "post_id": 52190861, "comment_id": 91331873, "body": "Did you route the controller? You can do it with an attribute in dotnet-core. You should extend your controller from the <code>Controller</code> class and decorate it with <code>[Route(&quot;[Controller]&quot;)]</code> <code>Controller</code> is a keyword here by the way and you need to name your controller <code>StatisticsController</code> for instance"}, {"owner": {"reputation": 43, "user_id": 9235108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c10c018efa057df1bc3e3bae0fb55f?s=128&d=identicon&r=PG&f=1", "display_name": "extra2", "link": "https://stackoverflow.com/users/9235108/extra2"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1536173059, "post_id": 52190861, "comment_id": 91332926, "body": "@Chris Pratt in ajax request I get 404 status code. All values (StatX, StatY, MeasurementDate) looks ok. And thanks for advices"}, {"owner": {"reputation": 43, "user_id": 9235108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c10c018efa057df1bc3e3bae0fb55f?s=128&d=identicon&r=PG&f=1", "display_name": "extra2", "link": "https://stackoverflow.com/users/9235108/extra2"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1536173096, "post_id": 52190861, "comment_id": 91332938, "body": "@Heretic Monkey isn&#39;t int = 0 by default? It should be assigned when I put the object into db"}, {"owner": {"reputation": 43, "user_id": 9235108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c10c018efa057df1bc3e3bae0fb55f?s=128&d=identicon&r=PG&f=1", "display_name": "extra2", "link": "https://stackoverflow.com/users/9235108/extra2"}, "reply_to_user": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 1, "creation_date": 1536173132, "post_id": 52190861, "comment_id": 91332953, "body": "@Yama&#231; Kurtulu\u015f routing works also without [Route]. Maybe I used a wrong word. It&#39;s a part of an API"}, {"owner": {"reputation": 1100, "user_id": 3937941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5642931c64fb512106e59b6ba5989a5f?s=128&d=identicon&r=PG", "display_name": "Zysce", "link": "https://stackoverflow.com/users/3937941/zysce"}, "edited": false, "score": 1, "creation_date": 1536173341, "post_id": 52190861, "comment_id": 91333032, "body": "Routing can work without attribute thanks to naming convention"}, {"owner": {"reputation": 616, "user_id": 9094803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432d3e129020382158b7782e2007344c?s=128&d=identicon&r=PG&f=1", "display_name": "Yama&#231; Kurtulu\u015f", "link": "https://stackoverflow.com/users/9094803/yama%c3%a7-kurtulu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1536173516, "post_id": 52190861, "comment_id": 91333111, "body": "Didn&#39;t know that, thank you for clarifying that"}], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 8496122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmLDm.png?s=128&g=1", "display_name": "juramarin", "link": "https://stackoverflow.com/users/8496122/juramarin"}, "is_accepted": false, "score": 1, "last_activity_date": 1536220071, "creation_date": 1536220071, "answer_id": 52199031, "question_id": 52190861, "link": "https://stackoverflow.com/questions/52190861/asp-net-core-2-0-request-failed/52199031#52199031", "title": "ASP.NET Core 2.0 request failed", "body": "<p>As I can see this will be one of the following two things:</p>\n\n<ol>\n<li>Either you are not getting StatX, StatY and MeasurementDate values right in your JavaScript code</li>\n<li>Or you are missing routing attributes for you Post method</li>\n</ol>\n\n<p>I will show you some example code how this can be done, so check out your code to see what is going wrong.</p>\n\n<p>So first I will put some test values in the Post view:</p>\n\n<pre><code>&lt;h2&gt;statistics with ajax&lt;/h2&gt;\n&lt;dl&gt;\n    &lt;dt&gt;Stat X&lt;/dt&gt;\n    &lt;dd id=\"input-statisticsX\"&gt;2&lt;/dd&gt;\n    &lt;dt&gt;Stat Y&lt;/dt&gt;\n    &lt;dd id=\"input-statisticsY\"&gt;3&lt;/dd&gt;\n    &lt;dt&gt;Measurement Date&lt;/dt&gt;\n    &lt;dd id=\"input-datetime\"&gt;2018-09-06 00:00:00.000&lt;/dd&gt;\n&lt;/dl&gt;\n&lt;a id=\"submit-button\"&gt;Statistics&lt;/a&gt;\n\n@section Scripts {\n\n    &lt;script src=\"~/js/ajaxTest.js\"&gt;&lt;/script&gt;\n}\n</code></pre>\n\n<p>Then in ajaxTest.js file I will check out if we are getting the right values from the view:</p>\n\n<pre><code>var value =\n    {\n        StatX: 0,\n        StatY: 0,\n        MeasurementDate: \"\"\n    };\n\nvalue.StatX = document.getElementById(\"input-statisticsX\").innerHTML;\nvalue.StatY = document.getElementById(\"input-statisticsY\").innerHTML;\nvalue.MeasurementDate = document.getElementById(\"input-datetime\").innerHTML;\n\n$(\"#submit-button\").click(function () {\n    $.ajax({\n        url: 'api/statistics ',\n        type: 'POST',\n        dataType: \"json\",\n        contentType: 'application/json',\n        data: JSON.stringify(value),\n        success: function (data) {\n            location.reload();\n        }\n    });\n});\n</code></pre>\n\n<p>And finally in the controller I will write Post method like this:</p>\n\n<pre><code>[Route(\"api/statistics\")]\n[HttpPost]\npublic async Task Post([FromBody] Statistics value)\n{\n    var stats = new List&lt;Statistics&gt;();\n    stats.Add(value);\n\n    // and some other code ...\n    var _user = await _userManager.GetUserAsync(HttpContext.User);\n    // ...\n}\n</code></pre>\n\n<p>Done. Check out these three steps in your code and that's all regarding to the parsing problem you might have.\nAlso not sure what do you want to do with the userManager and user?</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9235108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c10c018efa057df1bc3e3bae0fb55f?s=128&d=identicon&r=PG&f=1", "display_name": "extra2", "link": "https://stackoverflow.com/users/9235108/extra2"}, "is_accepted": false, "score": 0, "last_activity_date": 1536395450, "creation_date": 1536395450, "answer_id": 52233493, "question_id": 52190861, "link": "https://stackoverflow.com/questions/52190861/asp-net-core-2-0-request-failed/52233493#52233493", "title": "ASP.NET Core 2.0 request failed", "body": "<p>I have found a solution after 2 days. The problem was that I forgot to add repository service in Startup.cs and was looking in wrong place for a solution. API works fine now. Thanks everybody for your time and help.</p>\n"}], "owner": {"reputation": 43, "user_id": 9235108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c10c018efa057df1bc3e3bae0fb55f?s=128&d=identicon&r=PG&f=1", "display_name": "extra2", "link": "https://stackoverflow.com/users/9235108/extra2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536395450, "creation_date": 1536169747, "question_id": 52190861, "link": "https://stackoverflow.com/questions/52190861/asp-net-core-2-0-request-failed", "title": "ASP.NET Core 2.0 request failed", "body": "<p>I have the following API controller:</p>\n\n<pre><code>        [HttpPost]\n        public async Task Post([FromBody]Statistics value)\n        {\n            if(_user == null) _user = await _userManager.GetUserAsync(HttpContext.User);\n            if(_user.Statistics == null) _user.Statistics = new List&lt;Statistics&gt;();\n            _user.Statistics.Add(value);\n            Context.SaveChanges();\n        }\n</code></pre>\n\n<p>I'm trying to send some data:</p>\n\n<pre><code>$(\"#submit-button-clicked\").click(function () {\n            $.ajax({\n                url: 'api/Statistics ',\n                type: 'POST',\n                dataType: \"json\",\n                contentType: 'application/json',\n                data: JSON.stringify({\n                    StatX: document.getElementById(\"input-statisticsX\").value,\n                    StatY: document.getElementById(\"input-statisticsY\").value,\n                    MeasurementDate: document.getElementById(\"input-datetime\").value\n                }),\n                success: function (data) {\n                    location.reload();\n                }\n            });\n        });\n</code></pre>\n\n<p>But the request fails (in Visual Studio I get \"Failed Requests: 1\". I guess routing works as it wouldn't show that request has failed so maybe it's a problem with parsing data?. What could be the problem? (<strong>input-statisticsX</strong> and <strong>input-statisticsY</strong> are just numbers). </p>\n\n<p>*** Statistics class looks like this:</p>\n\n<pre><code> public class Statistics\n    {\n        [Key]\n        public int Id { get; set; }\n        public virtual ApplicationUser ApplicationUser { get; set; }\n        public int StatX { get; set; }\n        public int StatY { get; set; }\n        public DateTime MeasurementDate { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536171675, "post_id": 52190820, "comment_id": 91332313, "body": "You need to keep a map in memory and test the next postion against it to see if it would be allowed."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536184085, "post_id": 52190820, "comment_id": 91337377, "body": "Nobody suggested to use a DBMS."}, {"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536184241, "post_id": 52190820, "comment_id": 91337424, "body": "how could that happen? can you give me a sample code?"}, {"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1536184699, "post_id": 52190820, "comment_id": 91337569, "body": "i am sorry i really don&#39;t have enough knowledge when it comes to programming a game using a windows form in visual studio"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536185238, "post_id": 52191038, "comment_id": 91337717, "body": "yea that is my decision plan but i don&#39;t know what to put inside those code blocks"}, {"owner": {"reputation": 647, "user_id": 8290859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576dd7c76c6f0358c15d2359ed1bc508?s=128&d=identicon&r=PG&f=1", "display_name": "OH.IO.DEV", "link": "https://stackoverflow.com/users/8290859/oh-io-dev"}, "reply_to_user": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536233785, "post_id": 52191038, "comment_id": 91355301, "body": "I edited the code above to do what I think you want, this should at least push you in the right direction. You can still you the <code>if</code> statements if you want, I just think the <code>switch</code> is cleaner."}, {"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536235458, "post_id": 52191038, "comment_id": 91356362, "body": "thanks for the big help... but i am not yet familiar to C# syntax and i am still getting to know stuffs... cramming hits"}, {"owner": {"reputation": 647, "user_id": 8290859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576dd7c76c6f0358c15d2359ed1bc508?s=128&d=identicon&r=PG&f=1", "display_name": "OH.IO.DEV", "link": "https://stackoverflow.com/users/8290859/oh-io-dev"}, "reply_to_user": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536235582, "post_id": 52191038, "comment_id": 91356436, "body": "Sure thing, if that works for you please mark this as the answer!"}, {"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536235670, "post_id": 52191038, "comment_id": 91356503, "body": "frank can i ask for your email?"}, {"owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "edited": false, "score": 0, "creation_date": 1536235955, "post_id": 52191038, "comment_id": 91356677, "body": "i got some questions hahaha"}], "tags": [], "owner": {"reputation": 647, "user_id": 8290859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576dd7c76c6f0358c15d2359ed1bc508?s=128&d=identicon&r=PG&f=1", "display_name": "OH.IO.DEV", "link": "https://stackoverflow.com/users/8290859/oh-io-dev"}, "is_accepted": true, "score": 0, "last_activity_date": 1536233736, "last_edit_date": 1536233736, "creation_date": 1536170546, "answer_id": 52191038, "question_id": 52190820, "link": "https://stackoverflow.com/questions/52190820/set-boundaries-for-a-picturebox-in-c-windows-form/52191038#52191038", "title": "Set Boundaries For A PictureBox In C# Windows Form", "body": "<p>If <code>_objPosition</code> as I understand it contains the location (x,y) of your person then just check that against the size of the PictureBox with an <code>If</code> statement. I'm not sure what the <code>_objPosition</code> contains, you could just use  your <code>x</code> and <code>y</code> directly as well.</p>\n\n<pre><code>        var _x = 0;\n        var _y = 0;\n        if (_x == pictureBox1.Width)\n        {\n            // Dont Move\n        }\n        else\n        {\n            switch (e.KeyCode)\n            {\n                case Keys.D:\n                    _x += 50;\n                    _objPosition = Position.Right;\n                    break;\n                case Keys.A:\n                    _x -= 50;\n                    _objPosition = Position.Left;\n                    break;\n            }\n        }\n\n        if (_y == pictureBox1.Length)\n        {\n            //Don't Move\n        }\n        else\n        {\n            switch (e.KeyCode)\n            {\n                case Keys.W:\n                    _y -= 50;\n                    _objPosition = Position.Up;\n                    break;\n                case Keys.S:\n                    _y += 50;\n                    _objPosition = Position.Down;\n                    break;\n            }\n        }\n</code></pre>\n\n<p><em>Edited to push you more in the right direction.</em></p>\n"}], "owner": {"reputation": 71, "user_id": 8379455, "user_type": "registered", "profile_image": "https://graph.facebook.com/1815525952110944/picture?type=large", "display_name": "Mark Anthony Zaraspe", "link": "https://stackoverflow.com/users/8379455/mark-anthony-zaraspe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 52191038, "answer_count": 1, "score": 1, "last_activity_date": 1536233736, "creation_date": 1536169559, "last_edit_date": 1536170288, "question_id": 52190820, "link": "https://stackoverflow.com/questions/52190820/set-boundaries-for-a-picturebox-in-c-windows-form", "title": "Set Boundaries For A PictureBox In C# Windows Form", "body": "<p>so we are tasked to do a bomberman game using C# but we are not allowed to use other ide except for Visual studio using windows form. We are not allowed to use unity too. so my problem is how can i set boundaries? so that the player wont pass through the tiles... Please take time to check the image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hL5Mr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hL5Mr.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is my code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Layout\n{\n    public partial class FormView : Form\n    {\n        enum Position\n        {\n            Left, Right, Up, Down\n        }\n\n        private int _x;\n        private int _y;\n        private Position _objPosition;\n\n        public FormView()\n        {\n            _x = 50;\n            _y = 50;\n            _objPosition = Position.Down;\n            InitializeComponent();\n        }\n\n        private void FormView_Paint(object sender, PaintEventArgs e)\n        {\n            e.Graphics.DrawImage(new Bitmap(\"Character.png\"), _x, _y, 50, 50);\n        }\n\n        private void tmrMoving_Tick(object sender, EventArgs e)\n        {\n            Invalidate();\n        }\n\n        private void FormView_KeyDown(object sender, KeyEventArgs e)\n        {\n            if (e.KeyCode == Keys.D)\n            {\n                _x += 50;\n                _objPosition = Position.Right;\n            }\n            else if (e.KeyCode == Keys.A)\n            {\n                _x -= 50;\n                _objPosition = Position.Left;\n            }\n            else if (e.KeyCode == Keys.W)\n            {\n                _y -= 50;\n                _objPosition = Position.Up;\n            }\n            else if (e.KeyCode == Keys.S)\n            {\n                _y += 50;\n                _objPosition = Position.Down;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "regex", "markup"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1536168475, "post_id": 52190549, "comment_id": 91330844, "body": "Why not match any whitespace using <code>\\s</code>? Use <code>@&quot;&lt;[^&gt;]+&gt;|[\\u200B\\s]&quot;</code>. You may certainly just add <code>\\u00A0</code> as an alternative that is a <code>NO-BREAK SPACE</code> char to your current regex. Or <code>&amp;#160;</code> if it is just a literal substring."}, {"owner": {"reputation": 565, "user_id": 4912134, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2acf4f3d82de4ab30d4c9b982b2e7cf?s=128&d=identicon&r=PG&f=1", "display_name": "user4912134", "link": "https://stackoverflow.com/users/4912134/user4912134"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1536168993, "post_id": 52190549, "comment_id": 91331082, "body": "@WiktorStribi\u017cew I used <code>&lt;[^&gt;]+&gt;|\\u200B|\\n|\\t|\\r|\\u00A0</code> but I stil see <code>&amp;#160;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1536176467, "post_id": 52190549, "comment_id": 91334419, "body": "<code>&amp;#160;</code> is an entity that when rendered is the <code>\\u00A0</code> Unicode character. Also, strings in C# have to be escaped like this <code>&quot;&lt;[^&gt;]+&gt;|\\\\u200B|\\\\n|\\\\t|\\\\r|\\\\u00A0&quot;</code> or a <i>verbatim</i>  string like this <code>@&quot;&lt;[^&gt;]+&gt;|\\u200B|\\n|\\t|\\r|\\u00A0&quot;</code>"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1536183642, "post_id": 52190549, "comment_id": 91337246, "body": "This looks like an <a href=\"https://meta.stackexchange.com/a/66378/388741\">XY problem</a>. It looks like you are trying to manipulate HTML using Regular expressions, which is a <a href=\"https://meta.stackoverflow.com/questions/252396/regex-and-html-the-long-tail-annoys-me\">regularly occurring source of questions here</a>. For example, see <a href=\"https://stackoverflow.com/questions/1732348/\">this question, and its accepted answer</a>. So if I&#39;m right, do yourself a favour, and use an HTML parser (and try to avoid the XY problem)."}], "owner": {"reputation": 565, "user_id": 4912134, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2acf4f3d82de4ab30d4c9b982b2e7cf?s=128&d=identicon&r=PG&f=1", "display_name": "user4912134", "link": "https://stackoverflow.com/users/4912134/user4912134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1536220025, "answer_count": 0, "score": 0, "last_activity_date": 1536168406, "creation_date": 1536168406, "question_id": 52190549, "link": "https://stackoverflow.com/questions/52190549/how-to-escape-the-unicode-character-160", "closed_reason": "Duplicate", "title": "How to escape the Unicode Character &amp;#160;", "body": "<p>I am trying to escape markups and unicode charcaters from the string using the Regular expression like below</p>\n\n<pre><code>string b = Regex.Replace(StNameTag, \"&lt;[^&gt;]+&gt;|\\u200B|\\n|\\t|\\r\", string.Empty);\n</code></pre>\n\n<p>But the issue is its not escape some characters like <code>&amp;#160;</code> and some string even has </p>\n\n<p><code>ED5D6EB4918943C197E874EF6414E351 .ExternalClass p.MsoNormal, ED5D6EB4918943C197E874EF6414E351 .ExternalClass li.MsoNormal, ED5D6EB4918943C197E874EF6414E351 .ExternalClass div.MsoNormal {margin-top:0in;margin-right:0in;margin-bottom:8.0pt;margin-left:0in;line-height:107%;font-size:11.0pt;font-family:\"Calibri\",sans-serif;}ED5D6EB4918943C197E874EF6414E351 .ExternalClass .MsoChpDefault {font-family:\"Calibri\",sans-serif;}ED5D6EB4918943C197E874EF6414E351 .ExternalClass .MsoPapDefault {margin-bottom:8.0pt;line-height:107%;}ED5D6EB4918943C197E874EF6414E351 .ExternalClass div.WordSection1 {}&amp;#160;ABCD</code> </p>\n\n<p>I will need only ABCD from the above string. How can I escape them. </p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536168650, "post_id": 52190539, "comment_id": 91330922, "body": "The closest you may be able to get is to set the formatting to <code>Formatting.Indented</code> then replace all the newlines with spaces. Otherwise you&#39;ll need to write a custom <code>JsonTextWriter</code>. Are you just wanting spaces between the key/value pairs? Your example isn&#39;t entirely consistent (space after the first : but not after subsequent ones)."}, {"owner": {"reputation": 1268, "user_id": 6864688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JHAzI.jpg?s=128&g=1", "display_name": "Bouke", "link": "https://stackoverflow.com/users/6864688/bouke"}, "edited": false, "score": 1, "creation_date": 1536168995, "post_id": 52190539, "comment_id": 91331083, "body": "Null values will still remain positioned directly after the colon. Wouldn&#39;t work for numeric and boolean values either. Regex will have a better result I think."}, {"owner": {"reputation": 4800, "user_id": 2419089, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LZxQP.jpg?s=128&g=1", "display_name": "Ryan Mann", "link": "https://stackoverflow.com/users/2419089/ryan-mann"}, "edited": false, "score": 2, "creation_date": 1536169440, "post_id": 52190539, "comment_id": 91331312, "body": "Do you have a technical reason for wanting to do so or is it just personal preference?  Spaces consume bytes, so for webapis.  Removing the spaces in pre-render consumes CPU cycles.  It&#39;s best to return the minimum of what you need to to save bandwidth and increase download speed.   Might seem insignificant, but if you&#39;ve got an API returning 2 MB of Data being called by thousands of things, it adds up pretty quick.  Assuming it&#39;s a web api, which is why I&#39;m curious why you want to do this."}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536169930, "post_id": 52190539, "comment_id": 91331581, "body": "@RonBeyer fixed"}, {"owner": {"reputation": 1268, "user_id": 6864688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JHAzI.jpg?s=128&g=1", "display_name": "Bouke", "link": "https://stackoverflow.com/users/6864688/bouke"}, "edited": false, "score": 0, "creation_date": 1536170255, "post_id": 52190539, "comment_id": 91331733, "body": "How did you fix it? Can you show us your brand new custom JsonTextWriter?"}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "edited": false, "score": 0, "creation_date": 1536170330, "post_id": 52190539, "comment_id": 91331762, "body": "@Bourke I mean I fixed my example. &quot;Your example isn&#39;t entirely consistent (space after the first : but not after subsequent ones)&quot;"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1536170526, "post_id": 52190539, "comment_id": 91331837, "body": "Just to confirm, you want spaces between tokens, but you <b>do not</b> want newline indentations?  Can you share a more complex example of what you want?"}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1536170573, "post_id": 52190539, "comment_id": 91331853, "body": "Can you explain <i>why</i> you want to do this?  It may seem unimportant to you, but it may be vastly pertinent."}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1536170607, "post_id": 52190539, "comment_id": 91331861, "body": "@dbc I don&#39;t want newlines, I just want to add spaces, like in the example. E.g. between &quot;domain&quot;: AND &quot;domain.com&quot;"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 4800, "user_id": 2419089, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LZxQP.jpg?s=128&g=1", "display_name": "Ryan Mann", "link": "https://stackoverflow.com/users/2419089/ryan-mann"}, "edited": false, "score": 0, "creation_date": 1536171205, "post_id": 52190539, "comment_id": 91332121, "body": "I second the comment by @RyanMann.  <i>Why</i> do you need this functionality OP?  It does not make sense"}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "edited": false, "score": 0, "creation_date": 1536171294, "post_id": 52190539, "comment_id": 91332162, "body": "Reason provided"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1536171342, "post_id": 52190539, "comment_id": 91332178, "body": "@IksSki the reasoning you provided does not make sense.  You dont need spaces to deserialize JSON..."}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1536171429, "post_id": 52190539, "comment_id": 91332211, "body": "This is exactly why I asked <i>&quot;why?&quot;</i>.  If it&#39;s to deserialize it then you don&#39;t need to do anything (you shouldn&#39;t do anything, really), or if it&#39;s to display in a web page then you also don&#39;t need to do anything - you use one of the many methods of prettifying that already exist.  This is definitely an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a>"}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1536171437, "post_id": 52190539, "comment_id": 91332213, "body": "@maccettura you don&#39;t understand my reason. Read it once again, please"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 5, "creation_date": 1536171677, "post_id": 52190539, "comment_id": 91332316, "body": "@IksSki: Why do the replace as the string? If you are deserializing it why not just modify that object to how you want and if you need it as a json string just reserialize the whole thing..."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1536172004, "post_id": 52190539, "comment_id": 91332477, "body": "Then you could load into a <a href=\"https://www.newtonsoft.com/json/help/html/LINQtoJSON.htm\" rel=\"nofollow noreferrer\"><code>JToken</code></a> hierarchy and replace selected token(s) as shown in, e.g., <a href=\"https://stackoverflow.com/q/33045235\">Replace part of a JSON with other (using a string token)</a>, <a href=\"https://stackoverflow.com/q/15413825\">How do you add a JToken to an JObject?</a> or <a href=\"https://stackoverflow.com/q/30085926\">How do you Add or Update a JProperty Value in a JObject</a>."}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "reply_to_user": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 1, "creation_date": 1536172196, "post_id": 52190539, "comment_id": 91332573, "body": "@Chris As I&#39;m thinking about it now... You could be right :l My apologies"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1536173359, "post_id": 52190539, "comment_id": 91333040, "body": "@IksSki - you could create a custom <code>JsonTextWriter</code> like the one shown in <a href=\"https://dotnetfiddle.net/PUXVhO\" rel=\"nofollow noreferrer\">dotnetfiddle.net/PUXVhO</a> but it would be much better to edit the JSON using LINQ to JSON than with string replacement."}, {"owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1536175908, "post_id": 52190539, "comment_id": 91334191, "body": "@dbc your part with tokens is also very helpful, thanks!"}], "owner": {"reputation": 322, "user_id": 5885019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/575410899282927/picture?type=large", "display_name": "Iks Ski", "link": "https://stackoverflow.com/users/5885019/iks-ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 717, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536171774, "creation_date": 1536168367, "last_edit_date": 1536171774, "question_id": 52190539, "link": "https://stackoverflow.com/questions/52190539/newtonsoftjson-include-spaces-in-serialization", "title": "NewtonsoftJson - include spaces in serialization", "body": "<p>Is there any way to include spaces in JsonConvert.SerializeObject function?</p>\n\n<p>My object gets serialized to:</p>\n\n<pre><code>{\"domain\":\"domain.com\",\"username\":\"xyz\",\"videos\":null}\n</code></pre>\n\n<p>Is there any way to get it like below?</p>\n\n<pre><code>{\"domain\": \"domain.com\", \"username\": \"xyz\", \"videos\": null}\n</code></pre>\n\n<p>REASON WHY I WANT IT:\nI receive a webpage with a lot of Json formatted like above. Some of that json (variable) needs to be replaced by custom one, in order to do this, I deserialize whole json to Dictionary, get some part, serialize and use as a first parameter in replace method. </p>\n\n<p>Better explanation: Let's assume that I receive JSON like below:</p>\n\n<pre><code>{\"name\": \"john\", data:{\"age\": 21, \"job\": \"programmer\"}}\n</code></pre>\n\n<p>I want to replace \"data\" with my own one. In order to do so, I need to get current \"data\", so firstly I deserialize whole json, get \"data\", serialize it to string, because I want to replace it in the webpage html string, like webpage.Replace(oldData, newData), where oldData is serialized string and newData is my custom \"data\" string</p>\n"}, {"tags": ["c#", "asp.net-core", "httpwebrequest"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1536169557, "post_id": 52190522, "comment_id": 91331384, "body": "The cookies should already be part of the returned response."}, {"owner": {"reputation": 199, "user_id": 7130247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aac56b378a8848a43ee41abc4671ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Anup Patil", "link": "https://stackoverflow.com/users/7130247/anup-patil"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1536169834, "post_id": 52190522, "comment_id": 91331541, "body": "I will need to maintain a cookies for all request as well I have remove the cookies but still getting same error"}], "answers": [{"comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 1, "creation_date": 1536170747, "post_id": 52190963, "comment_id": 91331915, "body": "Yep. It&#39;s the second call to <code>GetResponse</code> that is getting you."}, {"owner": {"reputation": 199, "user_id": 7130247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aac56b378a8848a43ee41abc4671ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Anup Patil", "link": "https://stackoverflow.com/users/7130247/anup-patil"}, "edited": false, "score": 1, "creation_date": 1536208045, "post_id": 52190963, "comment_id": 91342230, "body": "Now, I am using the GetResponse only one time then it&#39;s working fine."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 7, "last_activity_date": 1536170240, "creation_date": 1536170240, "answer_id": 52190963, "question_id": 52190522, "link": "https://stackoverflow.com/questions/52190522/this-operation-cannot-be-performed-after-the-request-has-been-submitted-in-httpw/52190963#52190963", "title": "This operation cannot be performed after the request has been submitted in HttpWebRequest", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.httpwebresponse.cookies?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Net_HttpWebResponse_Cookies\" rel=\"noreferrer\">HttpWebResponse.Cookies Property</a> should already contain the cookies associated with the response.</p>\n\n<p>You should also avoid calling <code>GetResponse</code> multiple times.</p>\n\n<pre><code>var cookies = new CookieContainer();\n\nHttpWebRequest webRequest = WebRequest.Create(URL) as HttpWebRequest;\nwebRequest.CookieContainer = cookies;\n\nvar response = (HttpWebResponse)webRequest.GetResponse();\n\nusing (var responseReader = new StreamReader(response.GetResponseStream())) {\n    var responseCookies = response.Cookies;\n    string responseData = responseReader.ReadToEnd();\n    //...\n}\n</code></pre>\n\n<p>You can reuse the cookie container for subsequent requests as they would have been added by the response</p>\n"}], "owner": {"reputation": 199, "user_id": 7130247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aac56b378a8848a43ee41abc4671ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Anup Patil", "link": "https://stackoverflow.com/users/7130247/anup-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 0, "accepted_answer_id": 52190963, "answer_count": 1, "score": 2, "last_activity_date": 1536171653, "creation_date": 1536168290, "last_edit_date": 1536171653, "question_id": 52190522, "link": "https://stackoverflow.com/questions/52190522/this-operation-cannot-be-performed-after-the-request-has-been-submitted-in-httpw", "title": "This operation cannot be performed after the request has been submitted in HttpWebRequest", "body": "<p>I am getting error on below code.</p>\n\n<pre><code>HttpWebRequest webRequest = WebRequest.Create(URL) as HttpWebRequest;\nwebRequest.CookieContainer = cookies;\nStreamReader responseReader = new StreamReader(webRequest.GetResponse().GetResponseStream());\nHttpWebResponse response = (HttpWebResponse)webRequest.GetResponse();\nresponse.Cookies = webRequest.CookieContainer.GetCookies(webRequest.RequestUri); //Error here\nstring responseData = responseReader.ReadToEnd();\nresponseReader.Close();\n</code></pre>\n\n<blockquote>\n  <p>Error : System.InvalidOperationException: This operation cannot be performed after the request has been submitted.\n     at System.Net.HttpWebRequest.GetResponse()</p>\n</blockquote>\n\n<p>What is wrong with the above code?</p>\n"}, {"tags": ["c#", "ormlite-servicestack"], "answers": [{"tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 2, "last_activity_date": 1536171743, "creation_date": 1536171743, "answer_id": 52191312, "question_id": 52190463, "link": "https://stackoverflow.com/questions/52190463/ormlite-doesnt-apply-soft-delete-filter-on-joins/52191312#52191312", "title": "OrmLite doesn&#39;t apply soft delete filter on joins", "body": "<p>OrmLite only executes <code>SqlExpressionSelectFilter</code> on the from table and when you query using an interface OrmLite won\u2019t be able to find the metadata for the concrete type which is why it needed to be specified on the interface.</p>\n"}], "owner": {"reputation": 767, "user_id": 4403297, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8fe6319674c442664a1523e26505ebc8?s=128&d=identicon&r=PG", "display_name": "Connor", "link": "https://stackoverflow.com/users/4403297/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 52191312, "answer_count": 1, "score": 1, "last_activity_date": 1536171743, "creation_date": 1536168061, "question_id": 52190463, "link": "https://stackoverflow.com/questions/52190463/ormlite-doesnt-apply-soft-delete-filter-on-joins", "title": "OrmLite doesn&#39;t apply soft delete filter on joins", "body": "<p>I've added a <code>SqlExpressionSelectFilter</code> to use the <a href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#soft-deletes\" rel=\"nofollow noreferrer\">soft delete</a> functionality in ServiceStack OrmLite. However, It only seems to apply the filter to the base table specified in the <code>From&lt;T&gt;</code> and not any tables joined with <code>Join&lt;TFrom, TOther&gt;</code>. Both of my types implement the interface I'm using in my filter. Is this something that is supported?</p>\n\n<p><strong>Filter:</strong></p>\n\n<pre><code>OrmLiteConfig.SqlExpressionSelectFilter = query =&gt;\n{\n    if (query.ModelDef.ModelType.HasInterface(typeof(IHasRecordStatus)))\n    {\n        query.Where&lt;IHasRecordStatus&gt;(q =&gt; q.RecordStatus != RecordStatus.Deleted);\n    }\n};\n</code></pre>\n\n<p><strong>Interface:</strong></p>\n\n<pre><code>public interface IHasRecordStatus\n{\n    [Alias(\"RECORD_STATUS\")]\n    RecordStatus RecordStatus { get; set; }\n}\n\n[EnumAsInt]\npublic enum RecordStatus : byte\n{\n    Added = 1,\n    Changed = 2,\n    Deleted = 3\n}\n</code></pre>\n\n<p><strong>POCOs:</strong></p>\n\n<pre><code>[Alias(\"ITEM_MASTER\")]\npublic class ItemMaster : IHasRecordStatus\n{\n    [PrimaryKey]\n    [Alias(\"ITEM_ID\")]\n    public int Id { get; set; }\n\n    [Alias(\"UPC_EAN\")]\n    public string Upc { get; set; }\n\n    [Alias(\"RECORD_STATUS\")]\n    public RecordStatus RecordStatus { get; set; }\n}\n\n[Alias(\"VENDOR_ITEM\")]\npublic class VendorItem : IHasRecordStatus\n{\n    [Alias(\"VI_ID\")]\n    public int Id { get; set; }\n\n    [Alias(\"ITEM_ID\")]\n    public int ItemId { get; set; }\n\n    [Alias(\"V_ID\")]\n    public int VendorId { get; set; }\n\n    [Alias(\"RECORD_STATUS\")]\n    public RecordStatus RecordStatus { get; set; }\n}\n</code></pre>\n\n<p><strong>Query:</strong></p>\n\n<pre><code>var query = db.From&lt;VendorItem&gt;()\n              .Join&lt;VendorItem, ItemMaster&gt;((vi, im) =&gt; vi.ItemId == im.Id)\n              .Take(2);\n\nvar result = db.Select(query);\n</code></pre>\n\n<p><strong>Output SQL:</strong></p>\n\n<pre><code>SELECT TOP 2 \"VENDOR_ITEM\".\"VI_ID\" AS \"Id\", \"VENDOR_ITEM\".\"ITEM_ID\" AS \"ItemId\", \"VENDOR_ITEM\".\"V_ID\" AS \"VendorId\", \"VENDOR_ITEM\".\"RECORD_STATUS\" AS \"RecordStatus\" \nFROM \"VENDOR_ITEM\" INNER JOIN \"ITEM_MASTER\" ON (\"VENDOR_ITEM\".\"ITEM_ID\" = \"ITEM_MASTER\".\"ITEM_ID\")\nWHERE (\"VENDOR_ITEM\".\"RECORD_STATUS\" &lt;&gt; @0)\n</code></pre>\n\n<p>In the SQL that is generated, I would have expected the where clause to also contain <code>(AND \"ITEM_MASTER\".\"RECORD_STATUS\" &lt;&gt; @1)</code>, but it only contains the filter for the VendorItem table specified in the from clause.</p>\n\n<p>I also found it odd that I had to specify the alias on both the interface and on the classes that implement it for it to work. I tried it on the interface only and on the POCO only and neither worked until I specified both. Is this by design?</p>\n"}, {"tags": ["c#", "azure", "asp.net-core", "ip-address", "cloudflare"], "comments": [{"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1536168738, "post_id": 52190447, "comment_id": 91330971, "body": "Isn\u2019t the IP address part of request headers off the client accessing your website..? Can you please provide code you use to get IP addresses.."}, {"owner": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1536170776, "post_id": 52190447, "comment_id": 91331925, "body": "Right now I just get the header with the cf-connecting-ip index which gives me the ip address, if is not set then I return null, the thing is that it always return something even if it is those reserved ip addresses"}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1536172098, "post_id": 52190447, "comment_id": 91332521, "body": "Interesting platform but do you feel comfortable it won&#39;t filter out half of your visitors? They seem to have great community and forum, try asking there.."}], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "edited": false, "score": 0, "creation_date": 1536170720, "post_id": 52190844, "comment_id": 91331905, "body": "Here is a couple of reserved ip addresses Cloudflare is returning 241.7.216.18, 248.245.44.54, 240.31.14.8 241.43.18.136. These are obviously wrong. I read on cloudflare that we can add some entries to the server settings but I can&#39;t do this hosting my app on an Azure App service plan"}, {"owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "reply_to_user": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "edited": false, "score": 0, "creation_date": 1536170871, "post_id": 52190844, "comment_id": 91331967, "body": "The 241 net is reserved but not invalid like the local net addresses (10,192, 172, etc.) .It&#39;s used for multicast. <a href=\"https://tools.ietf.org/html/rfc1112\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc1112</a>"}, {"owner": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "edited": false, "score": 0, "creation_date": 1536171003, "post_id": 52190844, "comment_id": 91332029, "body": "Right, I know these  IPs are valid, the issue is cloudflare is not giving me the real ip even when I can verify it through whatsmyip.com"}, {"owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "reply_to_user": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "edited": false, "score": 0, "creation_date": 1536172424, "post_id": 52190844, "comment_id": 91332661, "body": "CF says they pass the IP in that header. If it&#39;s not right, there&#39;s nothing you can do except contact Cloudflare. It&#39;s possible they&#39;re seeing some other downstream router or appliance between you and them. Just because whatsmyip gets your real IP doesn&#39;t mean CF always gets it."}], "tags": [], "owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "is_accepted": false, "score": 1, "last_activity_date": 1536169664, "creation_date": 1536169664, "answer_id": 52190844, "question_id": 52190447, "link": "https://stackoverflow.com/questions/52190447/getting-users-ip-address-through-cloudflare-and-azure/52190844#52190844", "title": "Getting user&#39;s IP address through Cloudflare and Azure", "body": "<p>They provide CF-Connect<strong>ing</strong>-IP, which is supposed to be correct.</p>\n\n<p>I'm not sure what would be in CF-Connect<strong>ion</strong>-IP</p>\n\n<p><a href=\"https://support.cloudflare.com/hc/en-us/articles/200170986-How-does-Cloudflare-handle-HTTP-Request-headers-\" rel=\"nofollow noreferrer\">https://support.cloudflare.com/hc/en-us/articles/200170986-How-does-Cloudflare-handle-HTTP-Request-headers-</a></p>\n"}, {"tags": [], "owner": {"reputation": 59187, "user_id": 1463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d9f2c02c23a3013166710a1d24bca056?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/1463/guy"}, "is_accepted": false, "score": 1, "last_activity_date": 1601555884, "creation_date": 1601555884, "answer_id": 64155583, "question_id": 52190447, "link": "https://stackoverflow.com/questions/52190447/getting-users-ip-address-through-cloudflare-and-azure/64155583#64155583", "title": "Getting user&#39;s IP address through Cloudflare and Azure", "body": "<p>If you read the link that Terry Carmen posted in the only other answer (at the time of writing this) then you'll see that there are 2 headers that you can use to get the IP:</p>\n<p>X-Forwarded-For and CF-Connecting-IP</p>\n<p>I believe that X-Forwarded-For is the better one to use. Cloudflare will set this to the same value as CF-Connecting-IP if it isn't already present, otherwise they will maintain its value through to your server.</p>\n<p>Consider this scenario:</p>\n<p>User =&gt; SomeCloudProvider =&gt; Cloudflare =&gt; YourServer</p>\n<p>In this scenario CF-Connecting-IP will be SomeCloudProvider because that's what's connecting to Cloudflare. But if SomeCloudProvider had added the User IP address in X-Forwarded-For then Cloudflare will preserve this and send it on to you (in the headers) so you can get the real IP address of the User.</p>\n<p>X-Forwarded-For is a quasi-standard that all cloud providers, routers, switches etc. (that I've seen) will add or maintain.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 4886134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6b08cd66016941990527b1890269f9?s=128&d=identicon&r=PG&f=1", "display_name": "masoud ch", "link": "https://stackoverflow.com/users/4886134/masoud-ch"}, "is_accepted": false, "score": 2, "last_activity_date": 1603114376, "creation_date": 1603114376, "answer_id": 64428458, "question_id": 52190447, "link": "https://stackoverflow.com/questions/52190447/getting-users-ip-address-through-cloudflare-and-azure/64428458#64428458", "title": "Getting user&#39;s IP address through Cloudflare and Azure", "body": "<p>X-Forwarded-For is a list of IP address, where the first one is most likely user's IP address. We have to grab it, if it is present in the list, if not default to UserHostAddress. As a bonus, Cloudflare defines its own header for client IP address called CF-Connecting-IP. If you use Cloudflare look for it. If use some other cloud providers check for specific headers they might define. Example below should give you good general idea how to get user's IP address.</p>\n<pre><code>public static class RequestExtensions\n{\n    public static string GetIpAddress(this HttpRequestBase request)\n    {\n        if (request.Headers[&quot;CF-CONNECTING-IP&quot;] != null)\n            return request.Headers[&quot;CF-CONNECTING-IP&quot;];\n\n        var ipAddress = request.ServerVariables[&quot;HTTP_X_FORWARDED_FOR&quot;];\n\n        if (!string.IsNullOrEmpty(ipAddress))\n        {\n            var addresses = ipAddress.Split(',');\n            if (addresses.Length != 0)\n                return addresses[0];\n        }\n\n        return request.UserHostAddress;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1408, "user_id": 560784, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/08aca3b4336df2bd62ca4970adb29d39?s=128&d=identicon&r=PG", "display_name": "Sha", "link": "https://stackoverflow.com/users/560784/sha"}, "is_accepted": false, "score": 2, "last_activity_date": 1609286231, "creation_date": 1609286231, "answer_id": 65500312, "question_id": 52190447, "link": "https://stackoverflow.com/questions/52190447/getting-users-ip-address-through-cloudflare-and-azure/65500312#65500312", "title": "Getting user&#39;s IP address through Cloudflare and Azure", "body": "<p>Based on <em>masoud ch's</em> answer above, a .NET Core version could look like this using <code>IHttpContextAccessor</code> instead of <code>HttpRequestBase</code>:</p>\n<pre><code>using Microsoft.AspNetCore.Http;\n\nnamespace myproject.Extensions\n{\n    public static class HttpContextAccessorExtensions\n    {\n        public static string GetIpAddress(this IHttpContextAccessor accessor)\n        {\n            if (!string.IsNullOrEmpty(accessor.HttpContext.Request.Headers[&quot;CF-CONNECTING-IP&quot;]))\n                return accessor.HttpContext.Request.Headers[&quot;CF-CONNECTING-IP&quot;];\n\n            var ipAddress = accessor.HttpContext.GetServerVariable(&quot;HTTP_X_FORWARDED_FOR&quot;);\n\n            if (!string.IsNullOrEmpty(ipAddress))\n            {\n                var addresses = ipAddress.Split(',');\n                if (addresses.Length != 0)\n                    return addresses[0];\n            }\n\n            return accessor.HttpContext.Connection.RemoteIpAddress.ToString();\n        }\n    }\n}\n</code></pre>\n<p>To use the extension in your controller do the following:</p>\n<p><strong>HomeController.cs</strong></p>\n<pre><code> private readonly IHttpContextAccessor _accessor; \n\n public HomeController(IHttpContextAccessor httpContextAccessor)\n {\n     _accessor = httpContextAccessor; // Dependency Injection:\n }\n\n public IActionResult Index()\n {\n     var IP = _accessor.GetIpAddress());\n     return View();\n }\n</code></pre>\n"}], "owner": {"reputation": 1138, "user_id": 1964280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f25c21eed295b97b315821ff36bfdaca?s=128&d=identicon&r=PG&f=1", "display_name": "General Electric", "link": "https://stackoverflow.com/users/1964280/general-electric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1609286231, "creation_date": 1536168021, "last_edit_date": 1536171240, "question_id": 52190447, "link": "https://stackoverflow.com/questions/52190447/getting-users-ip-address-through-cloudflare-and-azure", "title": "Getting user&#39;s IP address through Cloudflare and Azure", "body": "<p>I have a website in Azure, the website is routed through Cloudflare for extra protection. </p>\n\n<p>Cloudflare adds a header <code>CF-Connecting-IP</code> which is supposed to be the client's IP address, however sometimes this gives a real IP address but most of the time I'm getting reserved IP addresses instead of the client's IP. </p>\n\n<p>I tested it going to the website through my office internet and cloudflare returns a reserved IP address, however when I go to whatsmyip.org I get my real office IP address.</p>\n\n<p>How can I make sure to always obtained the client's IP address unless of course they are behind a proxy or VPN.</p>\n"}, {"tags": ["c#", "unmanaged-memory"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536168476, "post_id": 52190423, "comment_id": 91330846, "body": "Why do you want to do this with a <code>Span</code> or <code>Memory</code>? You can <code>Marshal.GlobalHAlloc</code> and get an <code>IntPtr</code> to work with a set of unmanaged memory directly. You may be able to somehow translate that into a <code>byte[]</code> that can be passed into those objects. Are you wanting to create a new memory block to work on, or are you trying to access another process memory block?"}, {"owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536168797, "post_id": 52190423, "comment_id": 91330988, "body": "I&#39;m using SkiaSharp to load images which I iterate over byte by byte. Currently I use a provided property which copies the data as <code>byte[]</code> to work with, but Skia also provides a native pointer to the unmanaged memory, which I want to explore because it saves me a memory copy."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1536173344, "post_id": 52190423, "comment_id": 91333035, "body": "@RonBeyer <code>Memory&lt;byte&gt;</code> is actually <i>perfect</i> for this..."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1536173443, "post_id": 52190423, "comment_id": 91333077, "body": "@MarcGravell I agree now that I understand what the use case was, but I was unaware of the custom <code>MemoryManager&lt;T&gt;</code>, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 4, "creation_date": 1536173548, "post_id": 52191681, "comment_id": 91333121, "body": "<code>UnmanagedMemoryManager</code> - A legitimate use of a paradox if I&#39;ve ever seen one."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 0, "creation_date": 1536173617, "post_id": 52191681, "comment_id": 91333146, "body": "@AaronLS it does seem somewhat an oxymoron, I agree"}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "reply_to_user": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 1, "creation_date": 1536174047, "post_id": 52191681, "comment_id": 91333348, "body": "@AaronLS Maybe it needs a manager <i>because</i> it&#39;s &quot;unmanaged&quot;? ;-)"}, {"owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "edited": false, "score": 0, "creation_date": 1536176550, "post_id": 52191681, "comment_id": 91334453, "body": "@MarcGravell This is amazing. Is there anything special I need to do to use this? I get <code>The type or namespace name &#39;unmanaged&#39; could not be found</code>. Already imported <code>System.Buffers</code> and <code>InteropServices</code>"}, {"owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "edited": false, "score": 0, "creation_date": 1536177799, "post_id": 52191681, "comment_id": 91335009, "body": "I removed the <code>unmanaged</code> interface and all the generics and it is now working."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "edited": false, "score": 0, "creation_date": 1536218761, "post_id": 52191681, "comment_id": 91346364, "body": "@RedRidingHood the &quot;unmanaged&quot; constraint requires c# 7.3 IIRC. The buffers and interop bits sound like duplicate &quot;using&quot; directives. Since I didn&#39;t include any, I think those are in the bits you added..."}, {"owner": {"reputation": 3438, "user_id": 442376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/64fccdecac62b36e7dc54c09268d685f?s=128&d=identicon&r=PG&f=1", "display_name": "springy76", "link": "https://stackoverflow.com/users/442376/springy76"}, "edited": false, "score": 0, "creation_date": 1573216250, "post_id": 52191681, "comment_id": 103818978, "body": "Can you explain how the pinning survives line #28 : <a href=\"https://github.com/mgravell/Pipelines.Sockets.Unofficial/blob/master/src/Pipelines.Sockets.Unofficial/UnsafeMemory.cs#L28\" rel=\"nofollow noreferrer\">github.com/mgravell/Pipelines.Sockets.Unofficial/blob/master&zwnj;&#8203;/&hellip;</a> ?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 3438, "user_id": 442376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/64fccdecac62b36e7dc54c09268d685f?s=128&d=identicon&r=PG&f=1", "display_name": "springy76", "link": "https://stackoverflow.com/users/442376/springy76"}, "edited": false, "score": 0, "creation_date": 1573229048, "post_id": 52191681, "comment_id": 103825878, "body": "@springy76 look at L21 - read the comment; this code is intended for <i>already pinned</i> scenarios, or (and especially) unmanaged memory where pinning just isn&#39;t a concern"}, {"owner": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618346137, "post_id": 52191681, "comment_id": 118573549, "body": "@MarcGravell Thanks, that was useful insight. Any reason you dont free/dispose pointer in Dispose? And is there some way to constraint constructor that accepts Span to ensure it is unmanaged or pinned one underneath?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618347681, "post_id": 52191681, "comment_id": 118574028, "body": "@KreonZZ I simply didn&#39;t assume I was taking ownership, or indeed anything about how it was allocated. If you want to do that, sure - but there are many ways to get a pointer and they aren&#39;t all Marshal.AllocHGlobal (or whatever the method is called). And &quot;no&quot; to the second point. The span doesn&#39;t know."}, {"owner": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618352318, "post_id": 52191681, "comment_id": 118575390, "body": "Ah, I see, you used your wrapper as a <code>memoryview</code> into unmanaged Interior Pointer rather than actual managed abstraction wrapper, got it. Guess I can repurpose it myself for the latter, hopefully no feet will be shot!"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618354878, "post_id": 52191681, "comment_id": 118575893, "body": "@KreonZZ meh, feet are somewhat overrated. Have fun!"}, {"owner": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618354929, "post_id": 52191681, "comment_id": 118575903, "body": "@MarcGravell by the way is there an error in your example? <code>new UnmanagedMemoryManager((byte*)ptr + (index * Width), Width);</code>Width should be the size of an element (in case of byte = 1) so you multiple it by index to get offset but then you also supply Width as a length, which is weird."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 55, "user_id": 9841348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba1b21f29c3eaff1d93b63247bd508b?s=128&d=identicon&r=PG&f=1", "display_name": "KreonZZ", "link": "https://stackoverflow.com/users/9841348/kreonzz"}, "edited": false, "score": 0, "creation_date": 1618371483, "post_id": 52191681, "comment_id": 118578712, "body": "@KreonZZ that part was taken from the original question."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 20, "last_activity_date": 1536173836, "last_edit_date": 1536173836, "creation_date": 1536173326, "answer_id": 52191681, "question_id": 52190423, "link": "https://stackoverflow.com/questions/52190423/c-access-unmanaged-array-using-memoryt-or-arraysegmentt/52191681#52191681", "title": "C# access unmanaged array using Memory&lt;T&gt; or ArraySegment&lt;T&gt;?", "body": "<p>Yes for <code>Memory&lt;T&gt;</code>, but you need to create your own <code>MemoryManager&lt;T&gt;</code>. Don't worry - this isn't as scary as it sounds - <a href=\"https://github.com/mgravell/Pipelines.Sockets.Unofficial/blob/master/src/Pipelines.Sockets.Unofficial/UnsafeMemory.cs\" rel=\"noreferrer\">here's one I wrote earlier...</a>:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// A MemoryManager over a raw pointer\n/// &lt;/summary&gt;\n/// &lt;remarks&gt;The pointer is assumed to be fully unmanaged, or externally pinned - no attempt will be made to pin this data&lt;/remarks&gt;\npublic sealed unsafe class UnmanagedMemoryManager&lt;T&gt; : MemoryManager&lt;T&gt;\n    where T : unmanaged\n{\n    private readonly T* _pointer;\n    private readonly int _length;\n\n    /// &lt;summary&gt;\n    /// Create a new UnmanagedMemoryManager instance at the given pointer and size\n    /// &lt;/summary&gt;\n    /// &lt;remarks&gt;It is assumed that the span provided is already unmanaged or externally pinned&lt;/remarks&gt;\n    public UnmanagedMemoryManager(Span&lt;T&gt; span)\n    {\n        fixed (T* ptr = &amp;MemoryMarshal.GetReference(span))\n        {\n            _pointer = ptr;\n            _length = span.Length;\n        }\n    }\n    /// &lt;summary&gt;\n    /// Create a new UnmanagedMemoryManager instance at the given pointer and size\n    /// &lt;/summary&gt;\n    public UnmanagedMemoryManager(T* pointer, int length)\n    {\n        if (length &lt; 0) throw new ArgumentOutOfRangeException(nameof(length));\n        _pointer = pointer;\n        _length = length;\n    }\n    /// &lt;summary&gt;\n    /// Obtains a span that represents the region\n    /// &lt;/summary&gt;\n    public override Span&lt;T&gt; GetSpan() =&gt; new Span&lt;T&gt;(_pointer, _length);\n\n    /// &lt;summary&gt;\n    /// Provides access to a pointer that represents the data (note: no actual pin occurs)\n    /// &lt;/summary&gt;\n    public override MemoryHandle Pin(int elementIndex = 0)\n    {\n        if (elementIndex &lt; 0 || elementIndex &gt;= _length)\n            throw new ArgumentOutOfRangeException(nameof(elementIndex));\n        return new MemoryHandle(_pointer + elementIndex);\n    }\n    /// &lt;summary&gt;\n    /// Has no effect\n    /// &lt;/summary&gt;\n    public override void Unpin() { }\n\n    /// &lt;summary&gt;\n    /// Releases all resources associated with this object\n    /// &lt;/summary&gt;\n    protected override void Dispose(bool disposing) { }\n}\n</code></pre>\n\n<p>Now you can use:</p>\n\n<pre><code>var mgr = new UnmanagedMemoryManager((byte*)ptr + (index * Width), Width);\nMemory&lt;byte&gt; memory = mgr.Memory;\n</code></pre>\n\n<p>and <code>memory</code> can be stored on the heap.</p>\n\n<p>However, to minimize allocations you probably want to create a <em>single</em> <code>UnmanagedMemoryManager&lt;byte&gt;</code> that covers the <em>entire</em> region - once only - and then use <code>.Slice(...)</code> on the <code>.Memory</code> that represents the entire region. That way you have a single object and lots of slices  (the slices are structs, not objects).</p>\n\n<p>Note this implementation assumes that you're going to control the lifetime of the memory elsewhere - the <code>Dispose()</code> here <strong>does not</strong> attempt to release the memory via <code>Marshal</code> etc.</p>\n"}], "owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 2, "accepted_answer_id": 52191681, "answer_count": 1, "score": 9, "last_activity_date": 1536173836, "creation_date": 1536167923, "question_id": 52190423, "link": "https://stackoverflow.com/questions/52190423/c-access-unmanaged-array-using-memoryt-or-arraysegmentt", "title": "C# access unmanaged array using Memory&lt;T&gt; or ArraySegment&lt;T&gt;?", "body": "<p>With the introduction of <code>Memory</code>, <code>Span</code> and <code>ArraySegment</code> in C# 7.2, I was wondering if I could represent an unmanaged array as an enumerable object, that lives on the heap.</p>\n\n<p>This latter requirement rules out <code>Span</code>, which basically implemented exactly what I wanted: e.g.</p>\n\n<pre><code>unsafe { bytes = new Span&lt;byte&gt;((byte*)ptr + (index * Width), Width); \n</code></pre>\n\n<p>Is it possible to do the same with <code>ArraySegment</code> or <code>Memory</code>? Their constructors only accept <code>byte[]</code>, maybe there some way to trick C# into passing a <code>byte*</code> instead of <code>byte[]</code>?</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 420, "user_id": 8928707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d394559c4a344280f2f09c999cbc892f?s=128&d=identicon&r=PG", "display_name": "Mario V&#225;zquez", "link": "https://stackoverflow.com/users/8928707/mario-v%c3%a1zquez"}, "edited": false, "score": 0, "creation_date": 1536168999, "post_id": 52190371, "comment_id": 91331085, "body": "Could you set the <code>NavigateUrl</code> property dynamically?"}, {"owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "reply_to_user": {"reputation": 420, "user_id": 8928707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d394559c4a344280f2f09c999cbc892f?s=128&d=identicon&r=PG", "display_name": "Mario V&#225;zquez", "link": "https://stackoverflow.com/users/8928707/mario-v%c3%a1zquez"}, "edited": false, "score": 0, "creation_date": 1536182525, "post_id": 52190371, "comment_id": 91336872, "body": "As I mentioned, I can change the NavigateUrl, but then when the user clicks on it, it just tries to navigate to that URL on their local machine. I need them to be able to download files from a directory on the server."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1536202028, "post_id": 52190371, "comment_id": 91341075, "body": "Sounds like you are putting &quot;localhost&quot; in the <code>NavigateUrl</code>. You need to substitute the externally visible domain name that resolves to the IP address of your web server. Or you can try making it a relative URL if the resource is on the same server."}, {"owner": {"reputation": 420, "user_id": 8928707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d394559c4a344280f2f09c999cbc892f?s=128&d=identicon&r=PG", "display_name": "Mario V&#225;zquez", "link": "https://stackoverflow.com/users/8928707/mario-v%c3%a1zquez"}, "edited": false, "score": 0, "creation_date": 1536213189, "post_id": 52190371, "comment_id": 91343822, "body": "Well, links have an url... I can&#39;t see what&#39;s the problem with this. What you could do is replace them with a <code>LinkButton</code> and manage the download from server side, pushing the bytes of the file to the response, but you already said that you can&#39;t use <code>LinkButton</code> either. Another option is to write an <code>HttpHandler</code> to serve the files. Then you could replace the &quot;url&quot; for whatever you need. Can you please explain in more detail the problem?"}, {"owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "edited": false, "score": 0, "creation_date": 1536252967, "post_id": 52190371, "comment_id": 91367130, "body": "The problem I was having is that I couldn&#39;t figure out how to handle the clicks on the links. I&#39;ve posted the solution I eventually used."}], "answers": [{"comments": [{"owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "edited": false, "score": 0, "creation_date": 1536182426, "post_id": 52190673, "comment_id": 91336840, "body": "That puts the names in a list of links, but how do I actually have the links download the files?"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "edited": false, "score": 0, "creation_date": 1536211206, "post_id": 52190673, "comment_id": 91343141, "body": "With this <code>&quot;&#47;images&#47;&quot; + Eval(&quot;Name&quot;)</code>"}, {"owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "edited": false, "score": 0, "creation_date": 1536252177, "post_id": 52190673, "comment_id": 91366743, "body": "That still only makes a local link. The client evaluates that by trying to go to that directory on the client&#39;s machine. I actually found a solution, which I will post in an answer."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": false, "score": 0, "last_activity_date": 1536168989, "creation_date": 1536168989, "answer_id": 52190673, "question_id": 52190371, "link": "https://stackoverflow.com/questions/52190371/how-do-i-dynamically-create-file-download-links-in-code-behind-in-asp-net/52190673#52190673", "title": "How do I dynamically create file download links in code behind in ASP.NET?", "body": "<p>I would read the files from the server and display them in a Repeater Control</p>\n\n<pre><code>//the relative folder path\nstring folder = \"/images\";\n\n//read all the files in the folder\nDirectoryInfo di = new DirectoryInfo(Server.MapPath(folder));\nFileInfo[] files = di.GetFiles().OrderBy(p =&gt; p.Name).ToArray();\n\n//bind to a Repeater\nRepeater1.DataSource = files;\nRepeater1.DataBind();\n</code></pre>\n\n<p>And then on the aspx page</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;asp:Repeater ID=\"Repeater1\" runat=\"server\"&gt;\n        &lt;ItemTemplate&gt;\n            &lt;li&gt;\n                &lt;asp:HyperLink ID=\"HyperLink1\" runat=\"server\" \n                     NavigateUrl='&lt;%# \"/images/\" + Eval(\"Name\") %&gt;'&gt;&lt;%# Eval(\"Name\") %&gt;\n                &lt;/asp:HyperLink&gt;\n            &lt;/li&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:Repeater&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "is_accepted": true, "score": 1, "last_activity_date": 1536252899, "creation_date": 1536252899, "answer_id": 52208929, "question_id": 52190371, "link": "https://stackoverflow.com/questions/52190371/how-do-i-dynamically-create-file-download-links-in-code-behind-in-asp-net/52208929#52208929", "title": "How do I dynamically create file download links in code behind in ASP.NET?", "body": "<p>The way I eventually solved this was to use a repeater and then put the action in the repeater instead of in the link button.</p>\n\n<pre><code>&lt;asp:Repeater id=\"repLinks\" runat=\"server\" OnItemCommand=\"repLinks_OnItemCommand\"&gt;\n    &lt;ItemTemplate&gt;\n        &lt;li&gt;\n            &lt;asp:LinkButton ID=\"HyperLink1\" runat=\"server\" Text='&lt;%# Eval(\"Name\") %&gt;' CommandArgument='&lt;%# Eval(\"Name\") %&gt;'&gt;\n            &lt;/asp:LinkButton&gt;\n        &lt;/li&gt;\n    &lt;/ItemTemplate&gt;\n&lt;/asp:Repeater&gt;\n</code></pre>\n\n<p>And then the code behind as follows:</p>\n\n<pre><code>protected void repLinks_OnItemCommand(object sender, RepeaterCommandEventArgs e)\n{\n    Current.Response.AddHeader(\"Content-disposition\", \"attachment; filename=\" &amp; fileName)\n    Current.Response.ContentType = \"application/octet-stream\"\n    Current.Response.WriteFile(System.IO.Path.Combine(_path, e.CommandArgument.ToString))\n    Current.Response.Flush()\n    Current.Response.[End]()\n}\n</code></pre>\n\n<p>The thing I was missing is that I could have the same handler for every LinkButton in the repeater, and then just pass the filename as a CommandArgument.</p>\n"}], "owner": {"reputation": 531, "user_id": 1689456, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39cf60819baafe74655243a5db1e0b9d?s=128&d=identicon&r=PG", "display_name": "mrplainswalker", "link": "https://stackoverflow.com/users/1689456/mrplainswalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 52208929, "answer_count": 2, "score": 0, "last_activity_date": 1536252899, "creation_date": 1536167678, "question_id": 52190371, "link": "https://stackoverflow.com/questions/52190371/how-do-i-dynamically-create-file-download-links-in-code-behind-in-asp-net", "title": "How do I dynamically create file download links in code behind in ASP.NET?", "body": "<p>I have files on the web server. I want to make them available for download to a client. However, I don't know what the files will be, or even how many there will be until runtime. If I create a hyperlink with the NavigateUrl set to the file location on the server, then the client just tries to locate the file on their local system at that location, so that doesn't work. I was able to get a single file to work using a linkbutton, but that is also not an option because I can't create it dynamically.</p>\n\n<p>Is there a way to do this dynamically in ASP.NET?</p>\n"}, {"tags": ["c#", "azure", "asp.net-core", "azure-storage"], "comments": [{"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1536759703, "post_id": 52190301, "comment_id": 91541109, "body": "You can&#39;t send a stream itself through http API. When you return filestreamresult it&#39;s like read all the stream end sent each bytes to your console app. If you want to write only you need a stream parameter instead of return it"}, {"owner": {"reputation": 365, "user_id": 5666309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208521716546276/picture?type=large", "display_name": "Attilio Gelosa", "link": "https://stackoverflow.com/users/5666309/attilio-gelosa"}, "reply_to_user": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1539328459, "post_id": 52190301, "comment_id": 92470230, "body": "Hi Kalten. I&#39;m not sure to understand well what you are writing. Can you please link a page or example? Regards..."}, {"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1539420086, "post_id": 52190301, "comment_id": 92502942, "body": "Exemple are on my answer. You need to think about lifetime of all your object."}, {"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1539420506, "post_id": 52190301, "comment_id": 92503053, "body": "For big file issue, I would recommend you to not use FormMultipart format but raw data stream. Send string parameter as querystring. You can also create a custom middleware to avoid MVC stack"}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 5666309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208521716546276/picture?type=large", "display_name": "Attilio Gelosa", "link": "https://stackoverflow.com/users/5666309/attilio-gelosa"}, "edited": false, "score": 0, "creation_date": 1536214329, "post_id": 52195919, "comment_id": 91344248, "body": "Hi @Joey. Thank you for your answer, but what you argued it&#39;s not true: I don&#39;t want to read from Azure Storage, but I want to write in it and this is the problem: I open a stream to write, but there something that reads... any idea?"}, {"owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "reply_to_user": {"reputation": 365, "user_id": 5666309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208521716546276/picture?type=large", "display_name": "Attilio Gelosa", "link": "https://stackoverflow.com/users/5666309/attilio-gelosa"}, "edited": false, "score": 0, "creation_date": 1536227431, "post_id": 52195919, "comment_id": 91351563, "body": "@AttilioGelosa, I have update my reply. Please feel free to let me know if you have any problem."}, {"owner": {"reputation": 365, "user_id": 5666309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208521716546276/picture?type=large", "display_name": "Attilio Gelosa", "link": "https://stackoverflow.com/users/5666309/attilio-gelosa"}, "edited": false, "score": 0, "creation_date": 1536758827, "post_id": 52195919, "comment_id": 91540502, "body": "Thank you for your answer: I&#39;m aware of what you write. Please read my question again as I update it with some more details. Regards."}], "tags": [], "owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "is_accepted": false, "score": 0, "last_activity_date": 1536227387, "last_edit_date": 1536227387, "creation_date": 1536203036, "answer_id": 52195919, "question_id": 52190301, "link": "https://stackoverflow.com/questions/52190301/update-2-asp-net-core-web-api-upload-and-download-file-stream-exception/52195919#52195919", "title": "UPDATE [2] - ASP.NET Core Web API upload and download file - Stream exception", "body": "<blockquote>\n  <p>The <code>NotSupportedException</code> exception indicates that a method has no implementation and that you should not call it. You should not handle the exception. Instead, what you should do depends on the cause of the exception: whether an implementation is completely absent , or the member invocation is inconsistent with the purpose of an object (such as a call to the <code>FileStream.Read</code> method on a read-only <code>FileStream</code> object .</p>\n</blockquote>\n\n<p>You could refer to the following code:</p>\n\n<pre><code>CloudBlockBlob cloudBlockBlob = cloudBlobContainer.GetBlockBlobReference(myFile.RelativePath);\nMemoryStream mem = new MemoryStream();\nawait cloudBlockBlob.DownloadToStreamAsync(mem);\nmem.Position = 0;\nreturn new FileStreamResult(mem, contentType);\n</code></pre>\n\n<p>For more details, you could refer to this <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.notsupportedexception?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">article</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "is_accepted": false, "score": 3, "last_activity_date": 1536791053, "last_edit_date": 1536791053, "creation_date": 1536789766, "answer_id": 52304088, "question_id": 52190301, "link": "https://stackoverflow.com/questions/52190301/update-2-asp-net-core-web-api-upload-and-download-file-stream-exception/52304088#52304088", "title": "UPDATE [2] - ASP.NET Core Web API upload and download file - Stream exception", "body": "<p>The stream you get in the client is not the same the one you return in your api. The mvc framework need a readable stream to be able to get the content and send it as byte[] throught the network top the client. </p>\n\n<p>You need to send all requiered data to your api to be able to write into the azure blob stream.</p>\n\n<p>Client side</p>\n\n<pre><code>private static async Task Main(string[] args) // async main available in c# 7.1 \n{\n    Console.WriteLine($\"Test starts at {DateTime.Now.ToString(\"o\")}\");\n    FileStream fileStream = new FileStream(@\"C:\\Windows10Upgrade\\Windows10UpgraderApp.exe\", FileMode.Open);\n    MyFile vFile = new MyFile()\n    {\n        Lenght = 0,\n        Path = \"https://c2calrsbackup.blob.core.windows.net/containername/Windows10UpgraderApp.exe\",\n        RelativePath = \"Windows10UpgraderApp.exe\"\n    };\n\n    await UploadStream(vFile, fileStream);\n\n    Console.WriteLine($\"Test ends at {DateTime.Now.ToString(\"o\")}\");\n    Console.Write(\"Press any key to exit...\");\n    Console.ReadKey();\n}\n\nprivate static async Task UploadStream(MyFile myFile, Stream stream)\n{\n    try\n    {\n        using (HttpClient httpClient = new HttpClient()) // instance should be shared\n        {\n            httpClient.BaseAddress = new Uri(\"https://localhost:5000\");\n            using (MultipartFormDataContent multipartFormDataContent = new MultipartFormDataContent())\n            {\n                multipartFormDataContent.Add(new StringContent(JsonConvert.SerializeObject(myFile), Encoding.UTF8, \"application/json\"), nameof(MyFile));\n                // Here we add the file to the multipart content.\n                // The tird parameter is required to match the `IsFileDisposition()` but could be anything\n                multipartFormDataContent.Add(new StreamContent(stream), \"stream\", \"myfile\");\n\n                HttpResponseMessage httpResult = await httpClient.PostAsync(\"api/uploaddownload/upload\", multipartFormDataContent).ConfigureAwait(false);\n                httpResult.EnsureSuccessStatusCode();\n                // We don't need any result stream anymore\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(e.Message);\n    }\n}\n</code></pre>\n\n<p>Api side :</p>\n\n<pre><code>[HttpPost(\"upload\")]\npublic async Task&lt;IActionResult&gt; GetUploadStream()\n{\n    const string contentType = \"application/octet-stream\";\n    string boundary = GetBoundary(Request.ContentType);\n    MultipartReader reader = new MultipartReader(boundary, Request.Body, 80 * 1024);\n    Dictionary&lt;string, string&gt; sectionDictionary = new Dictionary&lt;string, string&gt;();\n    var memoryStream = new MemoryStream();\n    MultipartSection section;\n\n    while ((section = await reader.ReadNextSectionAsync()) != null)\n    {\n        ContentDispositionHeaderValue contentDispositionHeaderValue = section.GetContentDispositionHeader();\n\n        if (contentDispositionHeaderValue.IsFormDisposition())\n        {\n            FormMultipartSection formMultipartSection = section.AsFormDataSection();\n            string value = await formMultipartSection.GetValueAsync();\n\n            sectionDictionary.Add(formMultipartSection.Name, value);\n        }\n        else if (contentDispositionHeaderValue.IsFileDisposition())\n        {\n            // we save the file in a temporary stream\n            var fileMultipartSection = section.AsFileSection();\n            await fileMultipartSection.FileStream.CopyToAsync(memoryStream);\n            memoryStream.Position = 0;\n        }\n    }\n\n    CloudStorageAccount.TryParse(connectionString, out CloudStorageAccount cloudStorageAccount);\n    CloudBlobClient cloudBlobClient = cloudStorageAccount.CreateCloudBlobClient();\n    CloudBlobContainer cloudBlobContainer = cloudBlobClient.GetContainerReference(containerName);\n\n    if (await cloudBlobContainer.CreateIfNotExistsAsync())\n    {\n        BlobContainerPermissions blobContainerPermission = new BlobContainerPermissions()\n        {\n            PublicAccess = BlobContainerPublicAccessType.Container\n        };\n\n        await cloudBlobContainer.SetPermissionsAsync(blobContainerPermission);\n    }\n\n    MyFile myFile = JsonConvert.DeserializeObject&lt;MyFile&gt;(sectionDictionary.GetValueOrDefault(nameof(MyFile)));\n    CloudBlockBlob cloudBlockBlob = cloudBlobContainer.GetBlockBlobReference(myFile.RelativePath);\n    using(Stream blobStream = await cloudBlockBlob.OpenWriteAsync())\n    {\n        // Finally copy the file into the blob writable stream\n        await memoryStream.CopyToAsync(blobStream);\n    }\n\n    // you can replace OpenWriteAsync by \n    // await cloudBlockBlob.UploadFromStreamAsync(memoryStream);\n\n    return Ok(); // return httpcode 200\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/file-uploads#uploading-large-files-with-streaming\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/mvc/models/file-uploads#uploading-large-files-with-streaming</a> for documentation</p>\n\n<p>You can avoid the temporary memory stream if you move azureblog code inside the <code>else if</code> block. But you need to ensure the order of FormData. (Metadata then file)</p>\n"}], "owner": {"reputation": 365, "user_id": 5666309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208521716546276/picture?type=large", "display_name": "Attilio Gelosa", "link": "https://stackoverflow.com/users/5666309/attilio-gelosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9833, "favorite_count": 4, "answer_count": 2, "score": 6, "last_activity_date": 1539298229, "creation_date": 1536167333, "last_edit_date": 1539298229, "question_id": 52190301, "link": "https://stackoverflow.com/questions/52190301/update-2-asp-net-core-web-api-upload-and-download-file-stream-exception", "title": "UPDATE [2] - ASP.NET Core Web API upload and download file - Stream exception", "body": "<p>This question is related to: <a href=\"https://stackoverflow.com/questions/51426999/asp-net-core-web-api-upload-and-download-file\">ASP.NET Core Web API upload and download file</a></p>\n\n<p>First, I would like to thank Powel Gerr who helped me to understand some nuances with his post (<a href=\"http://weblogs.thinktecture.com/pawel/2017/03/aspnet-core-webapi-performance.html\" rel=\"nofollow noreferrer\">http://weblogs.thinktecture.com/pawel/2017/03/aspnet-core-webapi-performance.html</a>). I still have a problem to solve.</p>\n\n<p>My scenario\nSuppose we have a .NET Core console application:</p>\n\n<pre><code>private static void Main(string[] args)\n{\n    Console.WriteLine($\"Test starts at {DateTime.Now.ToString(\"o\")}\");\n    FileStream fileStream = new FileStream(@\"C:\\Windows10Upgrade\\Windows10UpgraderApp.exe\", FileMode.Open);\n\n    MyFile vFile = new MyFile()\n    {\n        Lenght = 0,\n        Path = \"https://c2calrsbackup.blob.core.windows.net/containername/Windows10UpgraderApp.exe\",\n        RelativePath = \"Windows10UpgraderApp.exe\"\n    };\n    Stream uploadStream = GetUploadStream(vFile).GetAwaiter().GetResult();\n\n    fileStream.CopyTo(uploadStream);\n\n    Console.WriteLine($\"Test ends at {DateTime.Now.ToString(\"o\")}\");\n    Console.Write(\"Press any key to exit...\");\n    Console.ReadKey();\n}\n\nprivate static async Task&lt;Stream&gt; GetUploadStream(MyFile myFile)\n{\n    Stream stream = null;\n\n    try\n    {\n        using (HttpClient httpClient = new HttpClient())\n        {\n            httpClient.BaseAddress = new Uri(\"https://localhost:5000\");\n            using (MultipartFormDataContent multipartFormDataContent = new MultipartFormDataContent())\n            {\n                multipartFormDataContent.Add(new StringContent(JsonConvert.SerializeObject(myFile), Encoding.UTF8, \"application/json\"), nameof(MyFile));\n\n                HttpResponseMessage httpResult = await httpClient.PostAsync(\"api/uploaddownload/upload\", multipartFormDataContent).ConfigureAwait(false);\n\n                httpResult.EnsureSuccessStatusCode();\n                stream = await httpResult.Content.ReadAsStreamAsync().ConfigureAwait(false);\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(e.Message);\n    }\n    return stream;\n}\n</code></pre>\n\n<p>As you can see, MyFile is a support class that contains some information. On the other hand, the controller is as follows: </p>\n\n<pre><code>[HttpPost(\"upload\")]\npublic async Task&lt;IActionResult&gt; GetUploadStream()\n{\n    const string contentType = \"application/octet-stream\";\n    string boundary = GetBoundary(Request.ContentType);\n    MultipartReader reader = new MultipartReader(boundary, Request.Body, 80 * 1024);\n    Dictionary&lt;string, string&gt; sectionDictionary = new Dictionary&lt;string, string&gt;();\n    FileMultipartSection fileMultipartSection;\n    MultipartSection section;\n\n    while ((section = await reader.ReadNextSectionAsync().ConfigureAwait(false)) != null)\n    {\n        ContentDispositionHeaderValue contentDispositionHeaderValue = section.GetContentDispositionHeader();\n\n        if (contentDispositionHeaderValue.IsFormDisposition())\n        {\n            FormMultipartSection formMultipartSection = section.AsFormDataSection();\n            string value = await formMultipartSection.GetValueAsync().ConfigureAwait(false);\n\n            sectionDictionary.Add(formMultipartSection.Name, value);\n        }\n        else if (contentDispositionHeaderValue.IsFileDisposition())\n        {\n            fileMultipartSection = section.AsFileSection();\n        }\n    }\n\n    CloudStorageAccount.TryParse(connectionString, out CloudStorageAccount cloudStorageAccount);\n    CloudBlobClient cloudBlobClient = cloudStorageAccount.CreateCloudBlobClient();\n    CloudBlobContainer cloudBlobContainer = cloudBlobClient.GetContainerReference(containerName);\n\n    if (await cloudBlobContainer.CreateIfNotExistsAsync().ConfigureAwait(false))\n    {\n        BlobContainerPermissions blobContainerPermission = new BlobContainerPermissions()\n        {\n            PublicAccess = BlobContainerPublicAccessType.Container\n        };\n\n        await cloudBlobContainer.SetPermissionsAsync(blobContainerPermission).ConfigureAwait(false);\n    }\n\n    MyFile myFile = JsonConvert.DeserializeObject&lt;MyFile&gt;(sectionDictionary.GetValueOrDefault(nameof(MyFile)));\n    CloudBlockBlob cloudBlockBlob = cloudBlobContainer.GetBlockBlobReference(myFile.RelativePath);\n    Stream streamResult = await cloudBlockBlob.OpenWriteAsync().ConfigureAwait(false);\n\n    return new FileStreamResult(streamResult, contentType);\n}\n</code></pre>\n\n<h1>The problem</h1>\n\n<p>When the controller returns with the instruction <code>return new FileStreamResult(streamResult, contentType);</code> <strong>the following exception is generated in the controller itself</strong> (not in the calling console app):</p>\n\n<blockquote>\n  <p>Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware:Error: An unhandled exception has occurred while executing the request.</p>\n  \n  <p>System.NotSupportedException: Stream does not support reading.\n     at System.IO.Stream.BeginReadInternal(Byte[] buffer, Int32 offset, Int32 count, AsyncCallback callback, Object state, Boolean serializeAsynchronously, Boolean apm)\n     at System.IO.Stream.BeginEndReadAsync(Byte[] buffer, Int32 offset, Int32 count)\n     at System.IO.Stream.ReadAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)\n     at Microsoft.AspNetCore.Http.Extensions.StreamCopyOperation.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)\n     at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)\n     at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsyncTFilter,TFilterAsync\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()\n     at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()\n     at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)\n     at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)</p>\n</blockquote>\n\n<p>Please note that it says <strong>Stream does not support reading</strong> and this is ok because I ask to create the stream with the following command: <code>cloudBlockBlob.OpenWriteAsync()</code>, but as you can see, I'm not doing any reading operation and I'm only returning the stream to the console app.</p>\n\n<h1>Questions</h1>\n\n<ul>\n<li>What do you think it can be? Is there any hidden reading operation that I'm not aware of?</li>\n<li>How to solve the problem?</li>\n</ul>\n\n<p>Thank you,</p>\n\n<p>Attilio</p>\n\n<h1>UPDATE</h1>\n\n<p>Hi all,</p>\n\n<p>finally we wrote the following:</p>\n\n<h1>Controller</h1>\n\n<pre><code>public static class Program\n{\n    public static void Main(string[] args)\n    {\n        CreateWebHostBuilder(args).Build().Run();\n    }\n\n    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n            .UseStartup&lt;Startup&gt;()\n            .UseKestrel();\n}\n\n[Route(\"api/[controller]\")]\n[ApiController]\npublic class ValuesController : Controller\n{\n    [HttpPost(\"upload\")]\n    public async Task&lt;IActionResult&gt; Upload()\n    {\n        try\n        {\n            CloudBlobContainer vCloudBlobContainer = await GetCloudBlobContainer().ConfigureAwait(false);\n            string boundary = GetBoundary(Request.ContentType);\n\n            MultipartReader reader = new MultipartReader(boundary, Request.Body, 80 * 1024);\n            Dictionary&lt;string, string&gt; sectionDictionary = new Dictionary&lt;string, string&gt;();\n            MultipartSection section;\n            MyFile myFile;\n\n            while ((section = await reader.ReadNextSectionAsync().ConfigureAwait(false)) != null)\n            {\n                ContentDispositionHeaderValue contentDispositionHeaderValue = section.GetContentDispositionHeader();\n\n                if (contentDispositionHeaderValue.IsFormDisposition())\n                {\n                    FormMultipartSection formMultipartSection = section.AsFormDataSection();\n                    string value = await formMultipartSection.GetValueAsync().ConfigureAwait(false);\n\n                    sectionDictionary.Add(formMultipartSection.Name, value);\n                }\n                else if (contentDispositionHeaderValue.IsFileDisposition())\n                {\n                    myFile = JsonConvert.DeserializeObject&lt;MyFile&gt;(sectionDictionary.GetValueOrDefault(nameof(MyFile)));\n                    if (myFile == default(object))\n                    {\n                        throw new InvalidOperationException();\n                    }\n\n                    CloudBlockBlob cloudBlockBlob = vCloudBlobContainer.GetBlockBlobReference(myFile.RelativePath);\n                    Stream stream = await cloudBlockBlob.OpenWriteAsync().ConfigureAwait(false);\n                    FileMultipartSection fileMultipartSection = section.AsFileSection();\n\n                    await cloudBlockBlob.UploadFromStreamAsync(fileMultipartSection.FileStream).ConfigureAwait(false);\n                }\n            }\n            return Ok();\n        }\n        catch (Exception e)\n        {\n            throw e;\n        }\n    }\n\n    private string GetBoundary(string contentType)\n    {\n        if (contentType == null)\n        {\n            throw new ArgumentNullException(nameof(contentType));\n        }\n\n        string[] elements = contentType.Split(' ');\n        string element = elements.First(entry =&gt; entry.StartsWith(\"boundary=\"));\n        string boundary = element.Substring(\"boundary=\".Length);\n\n        return HeaderUtilities.RemoveQuotes(boundary).Value;\n    }\n\n    private async Task&lt;CloudBlobContainer&gt; GetCloudBlobContainer()\n    {\n        const string connectionString = \"[Your connection string]\";\n        const string containerName = \"container\";\n        try\n        {\n            CloudStorageAccount.TryParse(connectionString, out CloudStorageAccount cloudStorageAccount);\n            CloudBlobClient cloudBlobClient = cloudStorageAccount.CreateCloudBlobClient();\n            CloudBlobContainer cloudBlobContainer = cloudBlobClient.GetContainerReference(containerName);\n\n            if (await cloudBlobContainer.CreateIfNotExistsAsync().ConfigureAwait(false))\n            {\n                BlobContainerPermissions blobContainerPermission = new BlobContainerPermissions()\n                {\n                    PublicAccess = BlobContainerPublicAccessType.Container\n                };\n\n                await cloudBlobContainer.SetPermissionsAsync(blobContainerPermission).ConfigureAwait(false);\n            }\n            return cloudBlobContainer;\n        }\n        catch (Exception)\n        {\n           throw;\n        }\n    }\n}\n</code></pre>\n\n<h1>Client</h1>\n\n<pre><code>internal static class Program\n{\n    private const string filePath = @\"D:\\Test.txt\";\n    private const string baseAddress = \"http://localhost:5000\";\n\n    private static async Task Main(string[] args)\n    {\n        Console.WriteLine($\"Test starts at {DateTime.Now.ToString(\"o\")}\");\n        FileStream fileStream = new FileStream(filePath, FileMode.Open);\n        MyFile vFile = new MyFile()\n        {\n            Lenght = 0,\n            RelativePath = \"Test.txt\"\n        };\n\n        await UploadStream(vFile, fileStream).ConfigureAwait(false);\n\n        Console.WriteLine($\"Test ends at {DateTime.Now.ToString(\"o\")}\");\n        Console.Write(\"Press any key to exit...\");\n        Console.ReadKey();\n    }\n\n    private static async Task UploadStream(MyFile myFile, Stream stream)\n    {\n        try\n        {\n            using (HttpClient httpClient = new HttpClient())\n            {\n                httpClient.BaseAddress = new Uri(baseAddress);\n                using (MultipartFormDataContent multipartFormDataContent = new MultipartFormDataContent())\n                {\n                    multipartFormDataContent.Add(new StringContent(JsonConvert.SerializeObject(myFile), Encoding.UTF8, \"application/json\"), nameof(MyFile));\n                    multipartFormDataContent.Add(new StreamContent(stream), \"stream\", nameof(MyFile));\n\n                    HttpResponseMessage httpResult = await httpClient.PostAsync(\"api/values/upload\", multipartFormDataContent).ConfigureAwait(false);\n                    httpResult.EnsureSuccessStatusCode();\n                }\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.Message);\n        }\n    }\n}\n</code></pre>\n\n<p>We'll manage big files, so we have a problem...</p>\n\n<h1>Tests</h1>\n\n<p>We did the following tests:</p>\n\n<ul>\n<li>we tried to upload \"small\" files (less than 30000000 bytes) and all worked fine.</li>\n<li>we tried to upload \"big\" files (more than 30000000 bytes) and the controller returned a Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException (\"Request body too large.\").</li>\n<li>we changed the line of code <code>.UseKestrel()</code> with <code>.UseKestrel(options =&gt; options.Limits.MaxRequestBodySize = null)</code> and tried to upload the same file. This code change should have to solve the problem but the client returned a System.NET.Sockets.SocketException (\"The I/O operation has been aborted because of either a thread exit or an application request\") while no exception was thrown in the controller.</li>\n</ul>\n\n<p>Any idea?</p>\n"}, {"tags": ["c#", "android", "asp.net", "asp.net-web-api", "signalr"], "comments": [{"owner": {"reputation": 3563, "user_id": 1537726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4cf1fb04002e4e6438f3347a86db9ef3?s=128&d=identicon&r=PG&f=1", "display_name": "csharpwinphonexaml", "link": "https://stackoverflow.com/users/1537726/csharpwinphonexaml"}, "edited": false, "score": 0, "creation_date": 1536177118, "post_id": 52190263, "comment_id": 91334712, "body": "Seems right, you want to know how to do the android side?"}, {"owner": {"reputation": 43, "user_id": 7257444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e61e5aa7c39b93d5899c429519ceb?s=128&d=identicon&r=PG", "display_name": "Mohammad Hossein", "link": "https://stackoverflow.com/users/7257444/mohammad-hossein"}, "reply_to_user": {"reputation": 3563, "user_id": 1537726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4cf1fb04002e4e6438f3347a86db9ef3?s=128&d=identicon&r=PG&f=1", "display_name": "csharpwinphonexaml", "link": "https://stackoverflow.com/users/1537726/csharpwinphonexaml"}, "edited": false, "score": 0, "creation_date": 1536233514, "post_id": 52190263, "comment_id": 91355135, "body": "is it true? I want to check every new user request in (.....) in code that I wrote them with linq.Is it true way? if I call this method in other method like AddNewBuyRequest is it send data to store/client?"}], "owner": {"reputation": 43, "user_id": 7257444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e61e5aa7c39b93d5899c429519ceb?s=128&d=identicon&r=PG", "display_name": "Mohammad Hossein", "link": "https://stackoverflow.com/users/7257444/mohammad-hossein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536167135, "creation_date": 1536167135, "question_id": 52190263, "link": "https://stackoverflow.com/questions/52190263/how-show-real-time-change-in-database-on-android-from-asp-net-web-api", "title": "how show real time change in database on android from asp.net web api", "body": "<p>I develop web service of android app with asp.net web api<br>\nIn android we have to program : users and stores<br>\nstores should see last user request in their app<br>\nfor example I am users and I want to buy some things like rice , after I send my request to server it's save in database. after that stores that are near my location should see my request<br>\nMy problem is how can I check new user request and send them to stores in real time?<br>\nshould I use signalR? id yes how?<br>\nnote: I wrote algoritm of get near store and I just have problem in how to send<br>\nmy example code:  </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Device.Location;\nusing System.Globalization;\nusing System.Linq;\nusing WebService.Models.Domain;\nusing Microsoft.AspNet.SignalR;\n\nnamespace WebService\n{\n    public class MyHub : Hub\n    {\n        private readonly mydb db = new mydb();\n\n        public void Send(string storeToken)\n        {\n            try\n            {\n                if (storeToken != null)\n                {\n                    ......\n                    ......\n                    ......\n\n                                if (distanceInMeter &lt; maxStoreDistance)\n                                {\n                                    var obj = new GetBuy\n                                    {\n                                        buy = new AllBuy\n                                        {\n                                            id = newBuyRequest.Id,\n                                            longitude = newBuyRequest.longitude ?? 0,\n                                            latitude = newBuyRequest.latitude ?? 0,\n                                            time = Convert.ToString(newBuyRequest.time, CultureInfo.InvariantCulture),\n                                            price = newBuyRequest.price ?? 0,\n                                            distanceInMeter = distanceInMeter\n                                        }\n                                    };\n\n                                    resultList.Add(obj.buy);\n                                }\n\n\n\n                        Clients.All.sendToShop(resultList);\n                    }\n                }\n\n                Clients.All.sendToShop(\"error\");\n            }\n            catch (Exception)\n            {\n                Clients.All.sendToShop(\"error\");\n            }\n        }\n\n        //************************************\n        private class GetBuy\n        {\n            public AllBuy buy;\n        }\n        private class AllBuy\n        {\n            public int id;\n            public double longitude;\n            public double latitude;\n            public string time;\n            public double price;\n            public double distanceInMeter;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "fonts", "richtextbox", "default"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1536166756, "post_id": 52190133, "comment_id": 91330047, "body": "It&#39;s not clear to me what problem you are facing or trying to solve."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1536167333, "post_id": 52190133, "comment_id": 91330333, "body": "What does it mean <i>When some one puts a highlighted sentence</i>? And <i>I want to make them type default text if they want to.</i>?"}, {"owner": {"reputation": 11, "user_id": 6308211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd69592608250e62417a89cb95652c?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6308211/samuel"}, "edited": false, "score": 0, "creation_date": 1536168100, "post_id": 52190133, "comment_id": 91330662, "body": "I don&#39;t really know what it&#39;s called when a text&#39;s background has color. I think it&#39;s called &quot;text highlighted color&quot;. I meant highlighted sentence for copying a sentence that is hightlighted on the back of the text.  And default text to be meant with no highlight, bold, italic, or whatsoever."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1536169296, "post_id": 52190133, "comment_id": 91331223, "body": "Still not clear.  I can only guess you want <code>richTextBox1.SelectionBackColor = Color.White;</code>"}, {"owner": {"reputation": 11, "user_id": 6308211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd69592608250e62417a89cb95652c?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6308211/samuel"}, "edited": false, "score": 0, "creation_date": 1536213315, "post_id": 52190133, "comment_id": 91343874, "body": "Thank you LarsTech, I solved 99% of the problem by doing richTextBox1.SelectionBackColor = Color.Transparent; Thank you for the hint!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6308211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd69592608250e62417a89cb95652c?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6308211/samuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1536213229, "creation_date": 1536213229, "answer_id": 52197338, "question_id": 52190133, "link": "https://stackoverflow.com/questions/52190133/c-how-do-you-set-richtextbox-text-to-default/52197338#52197338", "title": "C# How do you set richtextbox text to default?", "body": "<p>Thank you LarsTech, sorry for my poor English. But I kind of solved the problem by doing richTextBox1.SelectionBackColor = Color.Transparent;</p>\n\n<p>I didn't know about Selection has a lot of different function. Probably from next time, I need to look for more functions that's already in it.</p>\n\n<p>Thank you for the hint and have a nice day!</p>\n"}], "owner": {"reputation": 11, "user_id": 6308211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd69592608250e62417a89cb95652c?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6308211/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1536213229, "creation_date": 1536166620, "last_edit_date": 1536167931, "question_id": 52190133, "link": "https://stackoverflow.com/questions/52190133/c-how-do-you-set-richtextbox-text-to-default", "title": "C# How do you set richtextbox text to default?", "body": "<p>When some one puts a highlighted sentence to my richtextbox.\nFor example,</p>\n\n<p><a href=\"https://i.stack.imgur.com/k1PW1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k1PW1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to make them type default text if they want to. Let's say if user clicks a button and want it to make default text. How do I do that?</p>\n\n<p>I have tried </p>\n\n<pre><code>Font arialFont = new Font(\"Arial\", 10, FontStyle.Regular);   \nrichTextBox1.SelectAll();\nrichTextBox1.SelectionFont = arialFont;\nrichTextBox1.BackColor = Color.White; // i also tried Color.Transparent but it only return error message \"Control does not support transparent background colors\"\n// RichTextBox's property says that Appearance - BackColor - Window, but it didn't even exist on Color.~\n</code></pre>\n\n<p>How can I set text all in default state in RichTextBox?</p>\n\n<p>I'm sorry for unclear question.</p>\n\n<p>when a user copies a text that is hightlighted text like above picture. And if they keep type anything, the text is highlighted too. But I don't want that to happen.</p>\n\n<p>So I want to make a button to clear all text and make them to type a default text(no highlight, bold, italic, etc...)</p>\n\n<p>I hope I explained my problem well this time. Sorry for unclear question.</p>\n"}, {"tags": ["c#", "sql", "entity-framework"], "comments": [{"owner": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "edited": false, "score": 0, "creation_date": 1536166595, "post_id": 52190059, "comment_id": 91329972, "body": "why not update the existing records instead of inserting new ones and then deleting the old ones?"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "edited": false, "score": 0, "creation_date": 1536166718, "post_id": 52190059, "comment_id": 91330032, "body": "@Marathon55 I am Updating the Existing records, They&#39;re throwing a unique voilation because SQL performs Unique Key Validation before all of the Data is updated, Despite saving it all at once"}, {"owner": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "edited": false, "score": 0, "creation_date": 1536166876, "post_id": 52190059, "comment_id": 91330110, "body": "Are you using the <code>UpdateRange</code> method? If so, maybe you can loop through and update them one at a time instead."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "edited": false, "score": 0, "creation_date": 1536166986, "post_id": 52190059, "comment_id": 91330168, "body": "@Marathon55 Looping through them would cause the same issue"}, {"owner": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "edited": false, "score": 0, "creation_date": 1536167672, "post_id": 52190059, "comment_id": 91330483, "body": "So you have an existing record with Id=346 and Sequence=3. You want to change the RateCode value of that record, right?"}], "answers": [{"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1536172699, "post_id": 52190265, "comment_id": 91332790, "body": "Thanks, Plus one for the Idea, but how can I have a unique Non Key attribute, partitioned by another field?"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1536173736, "post_id": 52190265, "comment_id": 91333202, "body": "It wouldn&#39;t be unique.  Allowing duplicates makes updates simple.  And you can use the key values to break ties if you need to impose a complete, stable ordering on retrieval."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1536174253, "post_id": 52190265, "comment_id": 91333419, "body": "That doesn\u2019t make sense, you may have a stable sort but it doesn\u2019t make it the correct one. Say an update anomaly occurs putting in duplicate sequence numbers, so you sort then by the key, but that assumes that the insertion order is correct when it might not be. Now instead of throwing an error, you pay the person the wrong rate"}, {"owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 0, "creation_date": 1536175410, "post_id": 52190265, "comment_id": 91333982, "body": "How an anomaly can occure if you are in control and your code is transactional?"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 0, "creation_date": 1536263845, "post_id": 52190265, "comment_id": 91372009, "body": "@Aldert 2 people concurrently update the same resource"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1536264257, "post_id": 52190265, "comment_id": 91372189, "body": "@johnny5 <i>2 people concurrently update the same resource</i> <a href=\"http://www.entityframeworktutorial.net/EntityFramework6/transaction-in-entity-framework.aspx\" rel=\"nofollow noreferrer\">cannot happen with entity-framework, all updates are wrapped in a transaction</a>."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1536265014, "post_id": 52190265, "comment_id": 91372464, "body": "@ErikPhilips I mean concurrently from a clients perspective,  2 users access the same resource at the same time, 1 updates the resource to add a new order,  The other does the same thing.  With this answer nothing stops the DB for having incorrect data.  Even Validations at the Business Layer, other applications have access to the DB."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1536265245, "post_id": 52190265, "comment_id": 91372551, "body": "@ErikPhilips Also, where does that resource specify you can&#39;t update the same enitity concurrently?  Are you saying its impossible for both transaction to succeed?   I thought you have to opt into concurrency tokens, According to this you have to <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/handling-concurrency-with-the-entity-framework-in-an-asp-net-mvc-application#concurrency-conflicts\" rel=\"nofollow noreferrer\">Enabled Detection</a>"}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": false, "score": 1, "last_activity_date": 1536174057, "last_edit_date": 1536174057, "creation_date": 1536167142, "answer_id": 52190265, "question_id": 52190059, "link": "https://stackoverflow.com/questions/52190059/composite-unique-update-violation-in-entity-framework/52190265#52190265", "title": "Composite Unique Update Violation In Entity Framework", "body": "<blockquote>\n  <p>How can I Solve this issue?</p>\n</blockquote>\n\n<p>This is not a terribly easy problem to solve, as stated.  Updating keys is inherently problematic, and unique constraints are not deferrable.</p>\n\n<p>An easy way to solve this with modeling is to introduce a new, non-key attribute to store the ordering.  This has the added benefit of allowing you to use a decimal or float for the ordering column, so you an always insert in item between two existing items.</p>\n\n<p>Another idea is to use the new attribute to store the to-be ordering, after a series of updates and delete, issue a single</p>\n\n<pre><code>update RateCodes set sequence = sequence_new \nwhere id = @id and sequence_new is not null\n</code></pre>\n\n<p>to perform the recording in a single statement.  You could do the same pattern with a temp table that re-maps the values.  But all of this requires some level of direct SQL coding.</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537281474, "creation_date": 1536166279, "last_edit_date": 1537281474, "question_id": 52190059, "link": "https://stackoverflow.com/questions/52190059/composite-unique-update-violation-in-entity-framework", "title": "Composite Unique Update Violation In Entity Framework", "body": "<p>I have a table with a composite unique, I would to allow users to swap sequence numbers but SQL throws a unique key violation. Presumably because the violations are checked after each row change  </p>\n\n<pre><code>public class RateCodes\n{\n   public int Id { get; set; }\n   //Unique Composite Key Field 1\n   public int Sequence { get; set; }\n   //Unique Composite Key Field 2\n   public int DivisionId { get; set; }\n   public Decimal RateCode { get; set; }\n}\n</code></pre>\n\n<p>In our client we want to allow a user reorder the sequence of their rate codes.</p>\n\n<p>However when I perform an update I get an exception</p>\n\n<blockquote>\n  <p>\"System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.</p>\n  \n  <p>System.Data.Entity.Core.UpdateException: An error occurred while updating the entries. See the inner exception for details.</p>\n  \n  <p>System.Data.SqlClient.SqlException: Violation of UNIQUE KEY constraint 'UX_RateCodes_Sequence'. Cannot insert duplicate key in object 'dbo.RateCodes'. The duplicate key value is (346, 3)</p>\n</blockquote>\n\n<p>Despite the fact that I'm saving all at once, SQL is throwing a unique violation because SQL performs the unique key validation before all of the data is updated.</p>\n\n<p>I don't want to delete my data before saving because other application could be operating on the table and I might not have all of the data in the current application. How can I solve this issue?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 4, "creation_date": 1536166159, "post_id": 52189988, "comment_id": 91329782, "body": "How much research have you done on the Array Class, such as the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.array?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">documentation</a> ??"}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 2, "creation_date": 1536166296, "post_id": 52189988, "comment_id": 91329842, "body": "@Woj -- he&#39;s not being an ass.  Hover your cursor over the downvote button and tell me what it says.  There are rules on this site for a reason."}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 1, "creation_date": 1536166481, "post_id": 52189988, "comment_id": 91329922, "body": "In particular Array.GetValue(int[]) <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.array.getvalue?view=netframework-4.7.2#System_Array_GetValue_System_Int32___\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 10310190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39afc50f687c2ff1249610d5c462f0c7?s=128&d=identicon&r=PG&f=1", "display_name": "MvdP", "link": "https://stackoverflow.com/users/10310190/mvdp"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1536174066, "post_id": 52189988, "comment_id": 91333358, "body": "@Plutonix:  I know that it can be done with IEnumerator, if that is what you mean. But can i also get the indices in that way ? What i&#39;m looking for is a way to generically build up a number of loops based on the number of dimensions and their lengths."}], "owner": {"reputation": 11, "user_id": 10310190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39afc50f687c2ff1249610d5c462f0c7?s=128&d=identicon&r=PG&f=1", "display_name": "MvdP", "link": "https://stackoverflow.com/users/10310190/mvdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1536167234, "answer_count": 0, "score": 0, "last_activity_date": 1551864867, "creation_date": 1536165920, "last_edit_date": 1551864867, "question_id": 52189988, "link": "https://stackoverflow.com/questions/52189988/how-to-iterate-through-an-arrays-with-variable-number-of-dimensions-in-c", "closed_reason": "Duplicate", "title": "How to iterate through an Arrays with variable number of dimensions in C#", "body": "<p>I was wondering if and how it's possible to iterate through an Array of which you don't know the number of dimensions in advance.</p>\n\n<p>So suppose i have an Array ChessBoard, like in my example below, how can i determine the number of loops to iterate through all dimensions?\nI don't want to use IEnumerate. I am after a way of building up a number of loops generically based on the number of dimensions and their length.</p>\n\n<p>I was already able to figure out how to retrieve the number of dimensions and the length for each dimension, but now I am stuck because I don't know how to build the code to dynamically read all elements in this multidimensional Array.</p>\n\n<p>In this example it is clear that the Array has two dimensions, but I would like it to work for different Arrays as well, for example a Cube with three dimensions, or even more complex Arrays.\nThis my code:</p>\n\n<pre><code>int[] Rows = new int[8]  {1,2,3,4,5,6,7,8};\n\nstring[] Columns = new string[8]  {\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\"};\n\nstring[,] ChessBoard = new string[8,8];\n\nfor (int z = 0; z &lt; Rows.Length; z++)\n{\n    for(int y = 0; y &lt; Columns.Length; y++)\n    {\n        ChessBoard[z,y] = Rows[z].ToString() + Columns[y];          \n    }       \n}\n\nint NumOfDimensions =  ChessBoard.Rank;\nList&lt;int&gt; DimensionLengths = new List&lt;int&gt;();\n\nfor (int s = 0; s &lt; NumOfDimensions; s++)\n{  \n    DimensionLengths.Add(ChessBoard.GetLength(s));\n}\n</code></pre>\n\n<p>So, with the code above I have created a list with the lengths for each dimension of this particular Array.</p>\n\n<p>How to use this information to iterate through the Array in a way that it would also work for an Array with different number of dimensions?</p>\n\n<p>Again, I am thinking about a number of loops based on the number of dimensions and then use the length of each dimension to determine the condition for each loop.</p>\n"}, {"tags": ["c#", ".net", "windows-forms-designer", "axmediaplayer"], "comments": [{"owner": {"reputation": 1286, "user_id": 6122062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dd41fb587ae514e874f9167fd74a4c?s=128&d=identicon&r=PG&f=1", "display_name": "bassfader", "link": "https://stackoverflow.com/users/6122062/bassfader"}, "edited": false, "score": 0, "creation_date": 1536168427, "post_id": 52189938, "comment_id": 91330822, "body": "In your current example it looks like you&#39;re setting the URL of the media player to &quot;folderPathfile&quot; (which is most likely not the path and filename of the file you want to play). I think you probably meant to &quot;combine&quot; the values of the <code>folderPath</code> and the <code>file</code>, and in that case this should work: <code>axWindowsMediaPlayer1.URL = Path.Combine(folderPath, file);</code>"}, {"owner": {"reputation": 1286, "user_id": 6122062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dd41fb587ae514e874f9167fd74a4c?s=128&d=identicon&r=PG&f=1", "display_name": "bassfader", "link": "https://stackoverflow.com/users/6122062/bassfader"}, "edited": false, "score": 0, "creation_date": 1536168949, "post_id": 52189938, "comment_id": 91331056, "body": "Note though that this will most likely not <i>&quot;play video files of a given folder continuously&quot;</i>, IIRC this will rather only start playing the last file found. For playing multiple files in a sequence continuously you&#39;ll probably need to create a playlist in the mediaplayer, and set the player to repeat. Maybe have a look at the following related links: <a href=\"https://docs.microsoft.com/en-us/windows/desktop/wmp/playlists-and-media-items\" rel=\"nofollow noreferrer\">Playlists and Media Items</a> / <a href=\"https://stackoverflow.com/questions/14063843/how-to-add-multiple-files-to-a-playlist\">How to add multiple files to a playlist?</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1536170418, "post_id": 52189938, "comment_id": 91331796, "body": "<a href=\"https://stackoverflow.com/questions/14063843/how-to-add-multiple-files-to-a-playlist\" title=\"how to add multiple files to a playlist\">stackoverflow.com/questions/14063843/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 4889990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76658f58d3d8876806c79c67e5488fb?s=128&d=identicon&r=PG&f=1", "display_name": "ABDULLAH MAKKI", "link": "https://stackoverflow.com/users/4889990/abdullah-makki"}, "is_accepted": false, "score": 0, "last_activity_date": 1614803993, "creation_date": 1614803993, "answer_id": 66464609, "question_id": 52189938, "link": "https://stackoverflow.com/questions/52189938/play-all-video-files-in-a-folder-using-axwindowsmediaplayer-in-c-windows-forms/66464609#66464609", "title": "Play all video files in a folder using axwindowsmediaplayer in c# windows forms", "body": "<p>first list your files in the director</p>\n<pre><code>string[] filePaths = Directory.GetFiles(@&quot;c:\\videos\\&quot;, &quot;*.mp4&quot;,\n                                     SearchOption.TopDirectoryOnly);\n</code></pre>\n<p>then make loop for each file and play it</p>\n<pre><code>foreach(FileInfo file in Files )\n{\n  str = str + &quot;, &quot; + file.Name;\n   axWindowsMediaPlayer1.URL = str;\n        axWindowsMediaPlayer1.Ctlcontrols.play();\n}\n</code></pre>\n"}], "owner": {"reputation": 629, "user_id": 2519046, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39d4cb1b6003e5db017afba5e0c14d1f?s=128&d=identicon&r=PG&f=1", "display_name": "chathwind", "link": "https://stackoverflow.com/users/2519046/chathwind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1614803993, "creation_date": 1536165716, "question_id": 52189938, "link": "https://stackoverflow.com/questions/52189938/play-all-video-files-in-a-folder-using-axwindowsmediaplayer-in-c-windows-forms", "title": "Play all video files in a folder using axwindowsmediaplayer in c# windows forms", "body": "<p>I'm building an application to play video files of a given folder continuously. </p>\n\n<p>Here's what I used to play a single file by giving the path.</p>\n\n<pre><code>axWindowsMediaPlayer1.URL = @\"D:\\ShortVideoFolder\\Asterix And The Vikings - YouTube.MKV\";\n            axWindowsMediaPlayer1.settings.autoStart = true;\n            axWindowsMediaPlayer1.stretchToFit = true;\n            axWindowsMediaPlayer1.settings.setMode(\"loop\", true);\n</code></pre>\n\n<p>This is working just fine. \nThis is what I did to access all video files in the folder and play those files. </p>\n\n<pre><code>string folderPath = ConfigurationManager.AppSettings[\"videoFolderPath\"]; //Getting folder path saved in App.config file\n            string[] fileNames = Directory.GetFiles(@folderPath); //Getting file names of each and every file name in the folder \n\n        foreach (string file in fileNames)\n        {\n\n            axWindowsMediaPlayer1.URL = @\"folderPath\" + \"file\";\n            axWindowsMediaPlayer1.settings.autoStart = true;\n\n        }\n</code></pre>\n\n<p>This doesn't play a single file. and doesn't give an error message too. What am I doing wrong here?  </p>\n"}, {"tags": ["c#", "image", "azure", "azure-storage-blobs"], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "edited": false, "score": 0, "creation_date": 1536168695, "post_id": 52190203, "comment_id": 91330952, "body": "Am I able to save into the stream writer?  Do you mean this? ...                   bitmap.Save(blob.OpenWrite(), System.Drawing.Imaging.ImageFormat.Jpeg);"}], "tags": [], "owner": {"reputation": 501, "user_id": 8585609, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/de6afc44c8b6ccbf3da0c53a98095394?s=128&d=identicon&r=PG&f=1", "display_name": "Zair Henrique", "link": "https://stackoverflow.com/users/8585609/zair-henrique"}, "is_accepted": false, "score": -1, "last_activity_date": 1536166874, "creation_date": 1536166874, "answer_id": 52190203, "question_id": 52189862, "link": "https://stackoverflow.com/questions/52189862/can-i-save-a-bitmap-in-memory-directly-to-azure-as-a-jpeg/52190203#52190203", "title": "Can I save a bitmap in memory directly to Azure as a jpeg", "body": "<p>You can create a <code>StreamWriter</code> using </p>\n\n<pre><code>var writer = new StreamWriter(blob.OpenWrite());\n</code></pre>\n\n<p>Then, you just need to save into this <code>StreamWriter</code>.</p>\n"}], "owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1536175510, "creation_date": 1536165377, "last_edit_date": 1536175510, "question_id": 52189862, "link": "https://stackoverflow.com/questions/52189862/can-i-save-a-bitmap-in-memory-directly-to-azure-as-a-jpeg", "title": "Can I save a bitmap in memory directly to Azure as a jpeg", "body": "<p>I would like to be able to resample a jpeg loaded into memory from the local network and then save the resulting bitmap file as a jpeg directly to the Azure cloud (without first having to save the jpeg to the local network then uploading).  I cannot find any methods for doing so, but I thought I would check here JIC.  Here's my high-level code, which is missing the part where the bitmap is saved to the blob as a jpeg:</p>\n\n<pre><code>Bitmap img = ImageMethods.ResampleImage(Image.FromFile(imageFileNames(i)), ImageMethods.ImageSize.Small_800x600)\n\nvar blobContainer = GetBlobContainer(Properties.Settings.Default.BlobContainerName);\nvar blob = blobContainer.GetBlockBlobReference(blobFilePath);\n\n// Save image into Azure as jpeg...\n</code></pre>\n"}, {"tags": ["c#", "dynamic-programming"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1536165444, "post_id": 52189804, "comment_id": 91329446, "body": "What&#39;s the actual problem. All you describe is what you are doing."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1536165489, "post_id": 52189804, "comment_id": 91329471, "body": "<code>: IKidRelatedRequest</code> Is this a typo?"}, {"owner": {"reputation": 183, "user_id": 2688419, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b034df481bba149ac986737cea08cc2a?s=128&d=identicon&r=PG&f=1", "display_name": "ShrnPrmshr", "link": "https://stackoverflow.com/users/2688419/shrnprmshr"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1536167289, "post_id": 52189804, "comment_id": 91330311, "body": "@Jimenemex what I like to do is to find proper processor by request type. And the system structure is like what I explained."}, {"owner": {"reputation": 183, "user_id": 2688419, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b034df481bba149ac986737cea08cc2a?s=128&d=identicon&r=PG&f=1", "display_name": "ShrnPrmshr", "link": "https://stackoverflow.com/users/2688419/shrnprmshr"}, "edited": false, "score": 0, "creation_date": 1536167433, "post_id": 52189804, "comment_id": 91330382, "body": "This was just so similar example from actual system"}], "owner": {"reputation": 183, "user_id": 2688419, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b034df481bba149ac986737cea08cc2a?s=128&d=identicon&r=PG&f=1", "display_name": "ShrnPrmshr", "link": "https://stackoverflow.com/users/2688419/shrnprmshr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536165102, "creation_date": 1536165102, "question_id": 52189804, "link": "https://stackoverflow.com/questions/52189804/dynamic-call-to-processor-by-request-type", "title": "Dynamic Call to processor by request type", "body": "<p>Maybe my problem is easy but I became so confuse because I am so new to dynamic programming.</p>\n\n<p>Here is the issue:\nI have an Interface which is called IGame. and I have two other interfaces IGameRequest and IGameProcessor.</p>\n\n<pre><code>public interface IGame {}\npublic interface IGameRequest: IGame {}\npublic interface IGameProcessor: IGame\n{ void process();}\n\npublic interface IKidGameRequest : IGameRequest {}\npublic interface IKidGameProcessor : IGameProcessor \n{ void process();}\n</code></pre>\n\n<p>On the other hand,</p>\n\n<pre><code>public class KidGameRegistrationRequest : IKidRelatedRequest {//something}\n</code></pre>\n\n<p>So in total I have something like below</p>\n\n<pre><code>                         IGame\n                   |                    |\n              IGameRequest         IGameProcessor\n                   |                     |\n            IKidGameRequest        **IKidGameProcessor**\n                   |                     \n           **KidGameRegistrationRequest **\n</code></pre>\n\n<p>I try to find KidGameProcessor when I receive KidGameRegistrationRequest in runtime.</p>\n\n<p>I have tried to fetch all assemblies and search for any with <em>Kid</em> name and to prevent any static string, I added an enum class, <em>GameType</em>and I managed to find the right processor, but I stuck to invoke that method in runtime.</p>\n\n<pre><code>Public enum GameType {Kid}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "combobox", "refresh", "paint"], "comments": [{"owner": {"reputation": 2630, "user_id": 1983197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwjpR.png?s=128&g=1", "display_name": "LordWilmore", "link": "https://stackoverflow.com/users/1983197/lordwilmore"}, "edited": false, "score": 0, "creation_date": 1536167777, "post_id": 52189788, "comment_id": 91330524, "body": "Have you got events that occur when the UI switches to this tab?  i.e. is the combobox ever re-populated after initiailisation?  And how many ComboBoxItems are we talking about in this control?"}, {"owner": {"reputation": 30, "user_id": 9553919, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XeLmLzrHHxk/AAAAAAAAAAI/AAAAAAAADYA/6366jAen4I8/photo.jpg?sz=128", "display_name": "FullStackDeveloper", "link": "https://stackoverflow.com/users/9553919/fullstackdeveloper"}, "reply_to_user": {"reputation": 2630, "user_id": 1983197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwjpR.png?s=128&g=1", "display_name": "LordWilmore", "link": "https://stackoverflow.com/users/1983197/lordwilmore"}, "edited": false, "score": 0, "creation_date": 1536239381, "post_id": 52189788, "comment_id": 91358816, "body": "Thanks LordWilmore, Aleksa Ristic was able to fix my issue."}], "answers": [{"comments": [{"owner": {"reputation": 30, "user_id": 9553919, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XeLmLzrHHxk/AAAAAAAAAAI/AAAAAAAADYA/6366jAen4I8/photo.jpg?sz=128", "display_name": "FullStackDeveloper", "link": "https://stackoverflow.com/users/9553919/fullstackdeveloper"}, "edited": false, "score": 0, "creation_date": 1536239207, "post_id": 52204313, "comment_id": 91358703, "body": "Thank you very much! Only change I made is adding the value and display members into the if statement i already had. &lt;br&gt; if (cbFGPN.DataSource == null)             {                 cbFGPN.DataSource = dt;                 cbFGPN.ValueMember = &quot;material&quot;;                 cbFGPN.DisplayMember = &quot;material&quot;;             }             else             {                 cbFGPN.ValueMember = &quot;material&quot;;                 cbFGPN.DisplayMember = &quot;material&quot;;                 cbFGPN.DataSource = dt;             }"}], "tags": [], "owner": {"reputation": 2069, "user_id": 7874193, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/910a754bafc803719bce9881ddf9beb8?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksa Ristic", "link": "https://stackoverflow.com/users/7874193/aleksa-ristic"}, "is_accepted": true, "score": 2, "last_activity_date": 1536237458, "creation_date": 1536237458, "answer_id": 52204313, "question_id": 52189788, "link": "https://stackoverflow.com/questions/52189788/c-combobox-paint-is-freezing/52204313#52204313", "title": "C# ComboBox paint is freezing", "body": "<p>Solution to this is very easy. Just put <code>Value</code> and <code>Display</code> member code before you assign <code>datasource</code> to combobox.</p>\n\n<p>so instead of:</p>\n\n<pre><code>if (cbFGPN.DataSource == null)\n{\n    cbFGPN.DataSource = dt;\n}\nelse\n{\n    cbFGPN.DataSource = null;\n    cbFGPN.DataSource = dt;\n}\ncbFGPN.ValueMember = \"material\";\ncbFGPN.DisplayMember = \"material\";\n</code></pre>\n\n<p>Do:</p>\n\n<pre><code>cbFGPN.ValueMember = \"material\";\ncbFGPN.DisplayMember = \"material\";\n\nif (cbFGPN.DataSource == null)\n{\n    cbFGPN.DataSource = dt;\n}\nelse\n{\n    cbFGPN.DataSource = null;\n    cbFGPN.DataSource = dt;\n}\n</code></pre>\n\n<p>Why does it happens?</p>\n\n<p>When you want to assign <code>DisplayMember</code> and <code>ValueMember</code> of already populated element it goes to every object in that element and write to it what to use as <code>display</code> and what as <code>value</code> member and every time he enters object which is already there it fires few events (like validated, validating, textChanged, dataSourceChanged and others (it depends on element)) and when you need to fire like 10 events * 4700 rows it \"freezes\" - take too long to finish.</p>\n\n<p>When you assign <code>Displaymember</code> and <code>ValueMember</code> before datasource and then change datasource only one time, all objects inherits <code>Display</code> and <code>Value</code> member property and doesn't fire events so it doesn't freeze.</p>\n\n<p>Important note: As i have tested and worked with this works everywhere expect <code>checkedListBox</code> and <code>ListBox</code>. For some reason it doesn't allow me to assign <code>Display and Value</code> members before i assign datasource.</p>\n"}], "owner": {"reputation": 30, "user_id": 9553919, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XeLmLzrHHxk/AAAAAAAAAAI/AAAAAAAADYA/6366jAen4I8/photo.jpg?sz=128", "display_name": "FullStackDeveloper", "link": "https://stackoverflow.com/users/9553919/fullstackdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 52204313, "answer_count": 1, "score": 0, "last_activity_date": 1536237458, "creation_date": 1536165022, "last_edit_date": 1536167662, "question_id": 52189788, "link": "https://stackoverflow.com/questions/52189788/c-combobox-paint-is-freezing", "title": "C# ComboBox paint is freezing", "body": "<p>I have fairly large (4700 lines) Windows Forms application that I wrote to coordinate three departments in my manufacturing plant. I have many combo boxes throughout the application and all work perfectly, but I have one combo box who's paint works fine on load, but once you change tabs and come back the combobox is frozen. Please note: this is the order of objects Form1 > TableLayoutPanel > TabControl > TabPage > TableLayoutPanel > ComboBox.</p>\n\n<p>On Load:\n<a href=\"https://i.stack.imgur.com/fuRSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fuRSd.png\" alt=\"enter image description here\"></a></p>\n\n<p>After changing tabs (it is painted with whatever background of the tab i just clicked off of):\n<a href=\"https://i.stack.imgur.com/385Co.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/385Co.png\" alt=\"enter image description here\"></a></p>\n\n<p>The only way to fix this is to close the application and reopen. As long as I stay on the tab the control works perfectly the entire time.</p>\n\n<p>Here is how I load the data for the combo box:</p>\n\n<pre><code>private void LoadFGPN()\n    {\n        SqlConnection con = new SqlConnection(Properties.Resources.Tef7_Conn);\n\n        SqlDataAdapter da;\n        DataTable dt = new DataTable();\n        StringBuilder sql = new StringBuilder();\n        sql.Append(\"SELECT DISTINCT(material) FROM [TEF7].[CM].[ALLPartNumbers] WHERE material LIKE '_____7______-6RP' OR material LIKE '_____4______-6RP' OR material LIKE '_________8__-6ML' OR material LIKE '_________[0-7,9]__-6ML'\");\n\n        da = new SqlDataAdapter(sql.ToString(), con);\n        da.Fill(dt);\n\n        if (cbFGPN.DataSource == null)\n        {\n            cbFGPN.DataSource = dt;\n        }\n        else\n        {\n            cbFGPN.DataSource = null;\n            cbFGPN.DataSource = dt;\n        }\n        cbFGPN.ValueMember = \"material\";\n        cbFGPN.DisplayMember = \"material\";\n    } //loads finished good combo box on kanban\n</code></pre>\n\n<p>What I've tried: <br>\n* SelectionChangeCommitted event and adding .Refresh() and .Invalidate() / .Update() individually with no success. <br>\n* Draw Mode property of the combo box is set to Normal <br>\n* <a href=\"https://social.msdn.microsoft.com/Forums/windows/en-US/70f0bbbb-07d5-4253-9a79-789700a8450a/winforms-tabcontrol-issue?forum=winformsdatacontrols\" rel=\"nofollow noreferrer\">winforms tabcontrol</a> <br>\n* <a href=\"https://stackoverflow.com/questions/487661/how-do-i-suspend-painting-for-a-control-and-its-children\">suspend paint</a> <br>\n* <a href=\"https://stackoverflow.com/questions/952906/how-do-i-call-paint-event\">force paint event</a></p>\n\n<p>I'm stumped. Any ideas on how to fix this?</p>\n\n<p>EDIT: Just to be ridiculous I tried the following with no success. The control stays hidden.</p>\n\n<pre><code>if (tcMain.SelectedIndex == 0)\n        {\n            cbFGPN.Hide();\n            LoadPreOrderGridview(\"eKanban\", null, null, null, null, null); //loads preorder gridview\n            LoadFGPN();\n            LoadRawPN();\n            cbFGPN.Show();\n            tlpMain.Refresh();\n            tcMain.Refresh();\n            tpKanban.Refresh();\n            tlpKanban.Refresh();\n            pnKanban.Refresh();\n            cbFGPN.Refresh();\n        }\n</code></pre>\n"}, {"tags": ["c#", "odata"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1536168274, "post_id": 52189755, "comment_id": 91330745, "body": "Try a sniffer like wireshark or fiddler."}, {"owner": {"reputation": 245, "user_id": 792872, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f55b5cc132ebcfdbeacd8ff7059ec4d2?s=128&d=identicon&r=PG", "display_name": "ignacio", "link": "https://stackoverflow.com/users/792872/ignacio"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1536174548, "post_id": 52189755, "comment_id": 91333566, "body": "Was trying to avoid that :( Seems weird that you can examine/change EVERYTHING except the actual body"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1536194054, "post_id": 52189755, "comment_id": 91339517, "body": "The body is in the data section, it is not part of the headers."}], "owner": {"reputation": 245, "user_id": 792872, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f55b5cc132ebcfdbeacd8ff7059ec4d2?s=128&d=identicon&r=PG", "display_name": "ignacio", "link": "https://stackoverflow.com/users/792872/ignacio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536164891, "creation_date": 1536164891, "question_id": 52189755, "link": "https://stackoverflow.com/questions/52189755/odata-get-the-body-of-a-request-using-microsoft-odata-client-dataservicecontext", "title": "oData get the body of a request using Microsoft.OData.Client.DataServiceContext", "body": "<p>I generated an oData context using the VS oData client.\nI can read data with no problem. using expressions like:\nvar container = new DefaultContainer(new Uri(url));\nforeach(var customer in container.Customers)</p>\n\n<p>The problem I have is by saving the data back. I cannot figure out why it is failing. I presume that there is an error in the request being sent but I cannot figure out how to get the actual request body.</p>\n\n<p>I tried using one of the hooks in container.Configurations.RequestPipeline and also one of the events of DataServiceContext like SendingRequest2 or BuildingRequest but I still cannot figure out how to put all the pieces together.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>thanks,\nIgnacio</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 5, "creation_date": 1536164736, "post_id": 52189683, "comment_id": 91329114, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2534960/struct-constructor-fields-must-be-fully-assigned-before-control-is-returned-to\">Struct constructor: &quot;fields must be fully assigned before control is returned to the caller.&quot;</a>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1536164767, "post_id": 52189683, "comment_id": 91329132, "body": "Try changing <code>public Point(int x, int y)</code> to <code>public Point(int x, int y) : this()</code>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1536164815, "post_id": 52189683, "comment_id": 91329159, "body": "Welcome to Stack Overflow. Hopefully the link above will help answer your question and give you the ideas you need to solve the problem. Note that I found this link by copying the error message into a google search. This is often a very quick way to solve such problems."}], "answers": [{"comments": [{"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536166436, "post_id": 52189745, "comment_id": 91329905, "body": "13 minutes after Eric posted a challenge and still no solution proposed 8| must be a tough one..."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536176063, "post_id": 52189745, "comment_id": 91334257, "body": "@vc74: It&#39;s not that hard. Give it a shot!"}, {"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536261996, "post_id": 52189745, "comment_id": 91371214, "body": "Does the solution involve capturing <code>this</code> during construction?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536263988, "post_id": 52189745, "comment_id": 91372074, "body": "@vc74: That&#39;s not the example I was thinking of but there might be something there! Rules for capturing <code>this</code> as an outer variable of a lambda are interesting in a struct because you cannot capture a ref."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1536264624, "post_id": 52189745, "comment_id": 91372312, "body": "My 2nd gut reaction to this question was to think of unsafe code, but you can do whatever you want in unsafe code, so I figured there was a more interesting solution.  My first gut reaction was to think threading, because any time someone mentions the compiler &quot;noticing something,&quot; I mentally add, &quot;warning: the compiler doesn&#39;t notice multi-threading.&quot;"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1536267357, "post_id": 52189745, "comment_id": 91373408, "body": "As you note, unsafe code can in fact do <i>anything</i>, so it is not that interesting to show that unsafe code does something."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536267380, "post_id": 52189745, "comment_id": 91373421, "body": "@vc74: Spoiler alert in the next comment I&#39;ll discuss your proposal."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1536267741, "post_id": 52189745, "comment_id": 91373551, "body": "vc74&#39;s idea that capture has something to do with it is good. For example: <code>struct S{ private int x; private int y; public S(int x, int y, Action a) { this.x = x; a(); this.y = y; } public override string ToString() =&gt; (y &gt; 0).ToString(); }</code> Now suppose we have <code>S s = default(S); s = new S(1, 2, ()=&gt;{}); s = new S(3, 4, ()=&gt;Console.WriteLine(s);</code> Now we can tell if the copy is elided. If it is, and the third assignment to <code>s</code> is mutating <code>s</code> directly, then <code>y</code> is <code>2</code> and so this prints <code>True</code>.  If the copy is not elided then <code>y</code> is still zero in the temp."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1536267797, "post_id": 52189745, "comment_id": 91373577, "body": "So we now know: the compiler does not elide the copy if the local in question is a closed-over outer variable of a lambda.  But there is an even simpler example that would illustrate if a copy elision happens."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1536268030, "post_id": 52189745, "comment_id": 91373686, "body": "Change the constructor to <code>public S(int x, int y, bool b) { this.x = x; if (b) throw new Exception(); this.y = y; }</code> and the call site to <code>S s = default(S); try { s = new S(1, 2, false); s = new S(3, 4, true); } finally { Console.WriteLine(s); }</code> We now know if the copy is elided because if it is, again, the throw happens when x is 3 and y is 2, so this prints true.  If it is not, then x is 3 and y is 0."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1536268209, "post_id": 52189745, "comment_id": 91373755, "body": "So we now know: the compiler does not elide the copy if the local declaration and the assignment are not in the same &quot;try&quot; block. If I recall correctly, that&#39;s it; in other cases, locals are passed as <code>ref this</code> in the constructor because you can&#39;t tell the difference without a debugger."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1536268257, "post_id": 52189745, "comment_id": 91373778, "body": "I suppose <code>x</code> is unnecessary in those examples. Those examples came from a more complex example that I used to illustrate how copy elision could violate invariants if it happens in the wrong place."}, {"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536306465, "post_id": 52189745, "comment_id": 91383998, "body": "Thanks for your enlightening comments Eric! I suspected &quot;external code&quot; had to be executed during construction but didn&#39;t find concrete examples like yours. For anyone interested, I created fiddles for Eric&#39;s examples: <a href=\"https://dotnetfiddle.net/SU38Qr\" rel=\"nofollow noreferrer\">dotnetfiddle.net/SU38Qr</a> <a href=\"https://dotnetfiddle.net/RVPMco\" rel=\"nofollow noreferrer\">dotnetfiddle.net/RVPMco</a>"}, {"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536307473, "post_id": 52189745, "comment_id": 91384553, "body": "On a different topic, I had to replace <code>finally</code> with <code>catch</code> for <code>Console.WriteLine(s);</code> to execute otherwise the finally block does not seem to execute. I guess it&#39;s because it&#39;s in <code>Main</code> directly but I was not aware of this behavior. Does it mean that in a console application you should put your <code>try&#47;finally</code> code in another method called by Main?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 1, "creation_date": 1536340508, "post_id": 52189745, "comment_id": 91403418, "body": "@vc74: Have you got a try block in main with an uncaught exception and a finally block?  In that situation it is <i>implementation-defined</i> what happens. When there is an uncaught exception, the program is permitted to do anything, and &quot;run the finally block&quot; is included in &quot;anything&quot;, as is &quot;don&#39;t run the finally block&quot;."}, {"owner": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 0, "creation_date": 1536347070, "post_id": 52189745, "comment_id": 91406136, "body": "Thanks, I think the latter was the option in my case (Console/.net 4.6). I guess the rule of thumb is to move Main try/finally block to a separate method otherwise the finally block might not be called in case of exception."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 34594, "user_id": 446279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37a20faec161bcc7485b3c292a2f931e?s=128&d=identicon&r=PG", "display_name": "vc 74", "link": "https://stackoverflow.com/users/446279/vc-74"}, "edited": false, "score": 1, "creation_date": 1536347869, "post_id": 52189745, "comment_id": 91406449, "body": "@vc74: No, you&#39;re not getting what I&#39;m saying. It doesn&#39;t matter where in the program the try-finally is.  What matters is whether the exception is ever caught or not!  If an exception is never caught then the runtime can do <i>anything</i>. It can terminate the process immediately, it can start a debugger, it can phone home to Microsoft describing the crash, it can run finally blocks, it can not run finally blocks, it can do <b>anything you could write a program to do</b>.  If you don&#39;t like that then <b>catch every exception that is thrown</b>. Uncaught exceptions are pure concentrated evil."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 8, "last_activity_date": 1536165529, "last_edit_date": 1536165529, "creation_date": 1536164845, "answer_id": 52189745, "question_id": 52189683, "link": "https://stackoverflow.com/questions/52189683/c-constructor-with-new-and-get-integer/52189745#52189745", "title": "C# constructor with new and get integer", "body": "<p>This is an oddity of some versions of C#; the compiler sometimes does not correctly detect that the structure has been fully initialized on all code paths through the constructor.</p>\n\n<p>The fix is to say</p>\n\n<pre><code>public Point(int x, int y) : this()  // default initialization\n{ \n  this.X = x;\n  this.Y = y;\n}\n</code></pre>\n\n<p>which tells the compiler \"the fields are initialized to their default values before they are initialized in the constructor\".</p>\n\n<p>This was a bit of a failure of language design when we did C# 3; it's by no means clear that this is what you have to do. Sorry about that.</p>\n\n<p>Since I have your attention, let's address this other point you raised:</p>\n\n<blockquote>\n  <p>I'm assuming that you can't change values on a structure</p>\n</blockquote>\n\n<p>You <em>can</em> change values on a structure, but you <em>should not</em>.  Structures should be:</p>\n\n<ul>\n<li>small</li>\n<li>logically values</li>\n<li>immutable</li>\n</ul>\n\n<p>So my advice would be to <strong>make the setters private</strong> (with <code>private set;</code>)</p>\n\n<p>You've made a mutable point structure, which is a bad practice.  Make an immutable point structure, and treat them as immutable mathematical objects, not as collections of variables.</p>\n\n<p>Also:</p>\n\n<blockquote>\n  <p>the keyword this refers to the structure's property</p>\n</blockquote>\n\n<p>The keyword <code>this</code> is an <em>alias to the variable which holds the value of the structure instance</em>.  This is subtle; let me give you an example.  If we say:</p>\n\n<pre><code>Point a = new Point(1, 2);\n</code></pre>\n\n<p>that means:</p>\n\n<ul>\n<li>Make a new temporary storage variable the size of one point.</li>\n<li>Invoke the two-argument constructor, making <code>this</code> an alias for that temporary storage variable, and copying 1 and 2 into formal parameters x and y.</li>\n<li>After the constructor returns, copy the value in the temporary variable into variable <code>a</code>.</li>\n</ul>\n\n<p>Now, you might note that it seems like it would be more efficient to do:</p>\n\n<ul>\n<li>Invoke the two-argument constructor, making <code>this</code> an alias for <code>a</code>, and so on.</li>\n</ul>\n\n<p>And it would be more efficient; that is called a <em>copy elision optimization</em> and C# does it <em>when it knows that it is impossible for the user to notice a difference</em>. (Challenge: construct a C# program where the user could determine whether copy elision was used or not; C# will <em>not</em> copy-elide in such a program!)</p>\n\n<p>Similarly if you then did:</p>\n\n<pre><code>struct Point\n{\n   ... constructors, whatever ...\n   public double DistanceFromOrigin()\n   {\n     return Math.Sqrt(this.X * this.X + this.Y * this.Y);\n   }\n</code></pre>\n\n<p>When you call <code>a.DistanceFromOrigin()</code>, <code>this</code> becomes an alias for <code>a</code>; they are <em>the same variable</em> just with two different names.</p>\n\n<p>This is <em>not</em> how reference types work.  In a reference type, <code>this</code> is a <em>copy</em> of the <em>reference</em>. In a value type, <code>this</code> is an <em>alias to a variable</em>.</p>\n\n<p>These are subtle points.</p>\n"}], "owner": {"reputation": 31, "user_id": 10321295, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VPlkecc4Jxw/AAAAAAAAAAI/AAAAAAAAAB0/xBK19bvLaH4/photo.jpg?sz=128", "display_name": "J DB", "link": "https://stackoverflow.com/users/10321295/j-db"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 52189745, "answer_count": 1, "score": 2, "last_activity_date": 1536165529, "creation_date": 1536164534, "last_edit_date": 1592644375, "question_id": 52189683, "link": "https://stackoverflow.com/questions/52189683/c-constructor-with-new-and-get-integer", "title": "C# constructor with new and get integer", "body": "<p>This is a structure on Unity 5.5.0 I'm pretty new to c# and do not understand properties and structures well.</p>\n<p>This gives an error on assigning during <code>this.X</code>.</p>\n<p>I'm assuming that you can't change values on a structure and the keyword this refers to the structure's property</p>\n<blockquote>\n<p>Backing field for automatically implemented property 'Point.X' must be fully assigned before control is returned to the caller. Consider calling the default constructor from a constructor initializer. (CS0843) (Assembly-CSharp) [LN 15]</p>\n<p>The 'this' object cannot be used before all of its fields are assigned to (CS0188) (Assembly-CSharp) [LN 16]</p>\n</blockquote>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic struct Point \n{\n\n    // Don't undertstand why &quot;public int X, Y&quot; works fine but not this        \n    public int X { get; set; }\n\n    public int Y { get; set; }\n\n    //public int X,Y;\n\n    public Point(int x, int y) \n    { \n        // LN 15\n        this.X=x;\n        this.Y=y;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "linq", "duplicates", "element"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 2, "creation_date": 1536164803, "post_id": 52189549, "comment_id": 91329152, "body": "First of all, your <code>XML</code> isn&#39;t well-formatted. You have multiple root nodes which is illegal. The <code>&lt;Table&gt;</code> nodes should be housed under one root node.  Then, you haven&#39;t quite defined what a <i>duplicate</i> node is. Is it merely any nodes that comes after the first one by its name alone, <i>in the order</i> it appears in your <code>XML</code> file? Or otherwise do all attributes and sub-nodes also have to be the same for it to be identical?"}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": true, "score": 1, "last_activity_date": 1536166941, "creation_date": 1536166941, "answer_id": 52190222, "question_id": 52189549, "link": "https://stackoverflow.com/questions/52189549/how-to-eliminate-duplicate-xml-nodes-using-c-code/52190222#52190222", "title": "How to eliminate duplicate XML nodes using C# code", "body": "<p>First of all, your <code>XML</code> isn't well-formatted. You have multiple root nodes which is illegal. The <code>&lt;Table&gt;</code> nodes should be housed under one root node.</p>\n\n<p>Then, you haven't quite defined what a <em>duplicate</em> node is. Is it merely duplicates going by the node name alone? Or do the nodes sub-nodes and attributes too have to be the same?</p>\n\n<h2>1. Duplicates by Node (Element) Name Only</h2>\n\n<p>This is easy. You get all elements by that name, then do a <code>Skip(1)</code> to <em>skip</em> the first, and remove the rest.</p>\n\n<pre><code>XDocument xDoc = XDocument.Load(\"data.xml\");\nxDoc.Root.Descendants(\"ForeignKey\").Skip(1).Remove();\n</code></pre>\n\n<p>Now the <code>XML</code> looks like this:</p>\n\n<pre><code>&lt;MyRoot&gt;\n  &lt;Table schema=\"Reports_vN\" name=\"pstpyr\" caption=\"PR Payroll Posting\"&gt;\n    &lt;Column name=\"recnum\" alias=\"Record Number\" isprimarykey=\"1\" /&gt;\n    &lt;Column name=\"pstnum\" alias=\"Posting Number\" /&gt;\n  &lt;/Table&gt;\n  &lt;Table schema=\"Reports_vN\" name=\"payrec\" caption=\"PR Payroll Record\"&gt;\n    &lt;Column name=\"recnum\" alias=\"Record Number\" isprimarykey=\"1\" /&gt;\n    &lt;Column name=\"empnum\" alias=\"Employee\" /&gt;\n    &lt;Column name=\"strprd\" alias=\"Period Start\" /&gt;\n    &lt;ForeignKey pkSchema=\"Reports_vN\" pkTable=\"payrec\" fkSchema=\"Reports_vN\" fkTable=\"tmcdln\" name=\"Record Number\"&gt;\n      &lt;ForeignKeyCol pkCol=\"recnum\" fkCol=\"recnum\" /&gt;\n    &lt;/ForeignKey&gt;\n  &lt;/Table&gt;\n&lt;/MyRoot&gt;\n</code></pre>\n\n<h2>2. Thorough Check including Child Elements and Attributes</h2>\n\n<p>I say, your best bet is to use <code>Deserialization</code>. First you'll need to create a set of classes that match your <code>XML</code> format. It would look like this depending on your provided <code>XML</code>. Note that I added a _root node, named <code>MyRoot</code>.</p>\n\n<pre><code>[XmlRoot(\"MyRoot\")]\npublic class MyRoot\n{\n    [XmlElement(\"Table\")]\n    public List&lt;Table&gt; Tables { get; set; }\n}\n\npublic class Table\n{\n    [XmlAttribute(\"schema\")]\n    public string Schema { get; set; }\n    [XmlAttribute(\"name\")]\n    public string Name { get; set; }\n    [XmlAttribute(\"caption\")]\n    public string Caption { get; set; }\n\n    [XmlElement(\"Column\")]\n    public List&lt;Column&gt; Columns { get; set; }\n\n    [XmlElement(\"ForeignKey\")]\n    public List&lt;ForeignKey&gt; ForeignKeys { get; set; }\n}\n\npublic class Column\n{\n    [XmlAttribute(\"name\")]\n    public string Name { get; set; }\n    [XmlAttribute(\"alias\")]\n    public string Alias { get; set; }\n    [XmlAttribute(\"isprimarykey\")]\n    public string IsPrimaryKey { get; set; }\n}\n\npublic class ForeignKey\n{\n    [XmlAttribute(\"pkSchema\")]\n    public string PkSchema { get; set; }\n    [XmlAttribute(\"pkTable\")]\n    public string PkTable { get; set; }\n    [XmlAttribute(\"fkSchema\")]\n    public string FkSchema { get; set; }\n    [XmlAttribute(\"fkTable\")]\n    public string FkTable { get; set; }\n    [XmlAttribute(\"name\")]\n    public string Name { get; set; }\n\n    [XmlElement(\"ForeignKeyCol\")]\n    public ForeignKeyCol ForeignKeyCol { get; set; }\n}\n\npublic class ForeignKeyCol\n{\n    [XmlAttribute(\"pkCol\")]\n    public string PkCol { get; set; }\n    [XmlAttribute(\"fkCol\")]\n    public string FkCol { get; set; }\n}\n</code></pre>\n\n<p>Now, you can use the following method to deserialize your <code>XML</code>.</p>\n\n<pre><code>public static T DeserializeXMLFileToObject&lt;T&gt;(string XmlFilename)\n{\n    T returnObject = default(T);\n    if (string.IsNullOrEmpty(XmlFilename)) return default(T);\n\n    try\n    {\n        StreamReader xmlStream = new StreamReader(XmlFilename);\n        XmlSerializer serializer = new XmlSerializer(typeof(T));\n        returnObject = (T)serializer.Deserialize(xmlStream);\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex.Message);\n    }\n    return returnObject;\n}\n</code></pre>\n\n<p>Call it like this:</p>\n\n<pre><code>MyRoot xml = DeserializeXMLFileToObject&lt;MyRoot&gt;(\"data.xml\");\n</code></pre>\n\n<p>Now it's a matter of using simple <code>C#</code> technique to finding and removing duplicates. Easiest would be to write a <code>Comparer</code> so you can easily compare multiple objects.</p>\n"}], "owner": {"reputation": 470, "user_id": 3978980, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/weEFa.gif?s=128&g=1", "display_name": "pradeepradyumna", "link": "https://stackoverflow.com/users/3978980/pradeepradyumna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 52190222, "answer_count": 1, "score": -2, "last_activity_date": 1536166941, "creation_date": 1536164056, "last_edit_date": 1536166524, "question_id": 52189549, "link": "https://stackoverflow.com/questions/52189549/how-to-eliminate-duplicate-xml-nodes-using-c-code", "title": "How to eliminate duplicate XML nodes using C# code", "body": "<p>I have a schema XML file, that contains nodes for Table, Columns and ForeignKeys like shown below.</p>\n\n<pre><code>&lt;Table schema=\"Reports_vN\" name=\"pstpyr\" caption=\"PR Payroll Posting\"&gt;\n    &lt;Column name=\"recnum\" alias=\"Record Number\" isprimarykey=\"1\" /&gt;\n    &lt;Column name=\"pstnum\" alias=\"Posting Number\" /&gt;    \n&lt;/Table&gt;\n&lt;Table schema=\"Reports_vN\" name=\"payrec\" caption=\"PR Payroll Record\"&gt;\n    &lt;Column name=\"recnum\" alias=\"Record Number\" isprimarykey=\"1\" /&gt;\n    &lt;Column name=\"empnum\" alias=\"Employee\" /&gt;\n    &lt;Column name=\"strprd\" alias=\"Period Start\" /&gt;\n    &lt;ForeignKey pkSchema=\"Reports_vN\" pkTable=\"payrec\" fkSchema=\"Reports_vN\" fkTable=\"tmcdln\" name=\"Record Number\"&gt;\n        &lt;ForeignKeyCol pkCol=\"recnum\" fkCol=\"recnum\" /&gt;\n    &lt;/ForeignKey&gt;\n    &lt;ForeignKey pkSchema=\"Reports_vN\" pkTable=\"payrec\" fkSchema=\"Reports_vN\" fkTable=\"jobcst\" name=\"Payroll Number\"&gt;\n        &lt;ForeignKeyCol pkCol=\"recnum\" fkCol=\"payrec\" /&gt;\n    &lt;/ForeignKey&gt;\n    &lt;ForeignKey pkSchema=\"Reports_vN\" pkTable=\"payrec\" fkSchema=\"Reports_vN\" fkTable=\"jobcst\" name=\"Payroll Number\"&gt;\n        &lt;ForeignKeyCol pkCol=\"recnum\" fkCol=\"payrec\" /&gt;\n    &lt;/ForeignKey&gt;\n&lt;/Table&gt;\n</code></pre>\n\n<p>So like observed above it contains duplicate  elements (last two foreign keys). I'm new to LINQ. Can someone please share a sample using which I can remove this duplicate element from the XML file.</p>\n"}, {"tags": ["c#", "asp.net", "aspxgridview"], "comments": [{"owner": {"reputation": 458, "user_id": 8420233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JX6a.png?s=128&g=1", "display_name": "absoluteAquarian", "link": "https://stackoverflow.com/users/8420233/absoluteaquarian"}, "edited": false, "score": 1, "creation_date": 1536164236, "post_id": 52189510, "comment_id": 91328870, "body": "Please post the code in your question.  <a href=\"http://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">Posting an image of the code</a> is considered rude here at StackOverflow."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1536182871, "post_id": 52189510, "comment_id": 91336994, "body": "Some additional explanation about <a href=\"https://meta.stackoverflow.com/a/285557/5198140\">Why not upload images of code on SO when asking a question</a> (and there is a duplicate question linked there, covering screenshots of errors as well as code)."}, {"owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536239761, "post_id": 52189510, "comment_id": 91359048, "body": "My apologies, I wanted to show where it was green and behaving correctly in the code. I am attaching the actual code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536167446, "post_id": 52189691, "comment_id": 91330390, "body": "Thank you for the quick response. Taking out RolloutTableAdapter threw a new error: Error\tCS0118\t&#39;ReleaseDataSet1TableAdapters&#39; is a namespace but is used like a type"}, {"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1536169767, "post_id": 52189691, "comment_id": 91331504, "body": "Do you have a namespace and a type with the same name? That could explain it."}, {"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "reply_to_user": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536223755, "post_id": 52189691, "comment_id": 91349180, "body": "@akling can you paste the entire code into your question (edit it) so we can copy it and see what&#39;s happening?"}, {"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "reply_to_user": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536269131, "post_id": 52189691, "comment_id": 91374101, "body": "@akling please post the code for the <code>ReleaseDataSet1TableAdapters</code> class too"}, {"owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536318165, "post_id": 52189691, "comment_id": 91390778, "body": "@Syntax Error: I do not have a class for that, I just have the ReleaseDataSet1.xsd file (and its accompanying files) which is the GUI where I added my tables and queries."}, {"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "reply_to_user": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536320112, "post_id": 52189691, "comment_id": 91391910, "body": "@akling Have you tried simply using <code>ReleaseDataSet1TableAdapters tblYesterday = new ReleaseDataSet1TableAdapters();</code>?"}, {"owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536327831, "post_id": 52189691, "comment_id": 91396744, "body": "Unfortunately, that didn&#39;t work, either. I did go to the ReleaseDataSet1.Designer.cs file and found   namespace ReleaseSiteRewrite2018.App_Code.ReleaseDataSet1TableAdapters  So I tried to qualify it as   ReleaseSiteRewrite2018.App_Code.ReleaseDataSet1TableAdapters&zwnj;&#8203;.RollOutTableAdapter  and it said &quot;the type or namespace App_Code does not exist in the namespace ReleaseSiteRewrite2018 (are you missing an assembly reference?)"}, {"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "reply_to_user": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "edited": false, "score": 0, "creation_date": 1536333458, "post_id": 52189691, "comment_id": 91400135, "body": "@akling Try <code>ReleaseSiteRewrite2018 tblYesterday = new ReleaseSiteRewrite2018()</code>, then use <code>tblYesterday.</code> to see what methods are available in intellisense."}], "tags": [], "owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "is_accepted": false, "score": 0, "last_activity_date": 1536164588, "creation_date": 1536164588, "answer_id": 52189691, "question_id": 52189510, "link": "https://stackoverflow.com/questions/52189510/intellisense-works-but-i-get-type-or-namespace-errors-when-trying-to-compile/52189691#52189691", "title": "Intellisense Works But I Get Type or Namespace Errors When Trying to Compile", "body": "<p>I think you need to change the first two lines (after the public partial class line) to look more like this:</p>\n\n<pre><code>ReleaseDataSet1TableAdapters tblYesterday = new ReleaseDataSet1TableAdapters.RollOutTableAdapter();\n</code></pre>\n\n<p>Note the very first part has changed.. You're trying to instantiate a class using a method rather than the class name</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "is_accepted": false, "score": 0, "last_activity_date": 1536331406, "creation_date": 1536331406, "answer_id": 52224893, "question_id": 52189510, "link": "https://stackoverflow.com/questions/52189510/intellisense-works-but-i-get-type-or-namespace-errors-when-trying-to-compile/52224893#52224893", "title": "Intellisense Works But I Get Type or Namespace Errors When Trying to Compile", "body": "<p>Based on this link: <a href=\"https://stackoverflow.com/questions/9178985/type-or-namespace-could-not-be-found-from-app-code-folder\">Type or namespace could not be found from App_code folder</a> I changed my Build Action to Content and now everything is compiling correctly. I really appreciate everyone's help, especially @Syntax Error. </p>\n"}], "owner": {"reputation": 1, "user_id": 10321222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9182703224a26acc65cd3864091d5f?s=128&d=identicon&r=PG&f=1", "display_name": "akling", "link": "https://stackoverflow.com/users/10321222/akling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536331406, "creation_date": 1536163908, "last_edit_date": 1536240150, "question_id": 52189510, "link": "https://stackoverflow.com/questions/52189510/intellisense-works-but-i-get-type-or-namespace-errors-when-trying-to-compile", "title": "Intellisense Works But I Get Type or Namespace Errors When Trying to Compile", "body": "<p>I am writing a .NET web application and I'm using a dataset to handle my data.</p>\n\n<p>In the code, everything looks fine (no squiggly red underlines, in fact I can select the tableadapter I want to use).</p>\n\n<p>However, when I try to run the program, I get this error:</p>\n\n<blockquote>\n  <p>The type or namespace name 'ReleaseSet1TableAdapters' could not be found (are you missing a using directive or an assembly reference?</p>\n</blockquote>\n\n<p>Why is the code working but the program isn't running? Attaching a picture of the code to show my green tableadapters where everything looks good.</p>\n\n<p>I'm getting the same error for my gridviews, which are in the aspx file. Your help is appreciated; I'm at a loss. </p>\n\n<p>Code excerpt</p>\n\n<p><a href=\"https://i.stack.imgur.com/u7CcI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7CcI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the aspx.cs file: </p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Configuration;\nusing System.Data;\nusing System.Web;\nusing System.Web.Security;\nusing System.Web.UI;\nusing System.Web.UI.HtmlControls;\nusing System.Web.UI.WebControls;\nusing System.Web.UI.WebControls.WebParts;\nusing System.Text;\nusing System.IO;\nusing System.Data.Sql;\n\npublic partial class Sched_Yesterday : System.Web.UI.Page\n{\n    ReleaseDataSet1TableAdapters.RollOutTableAdapter tblYesterday = new ReleaseDataSet1TableAdapters.RollOutTableAdapter();\n    ReleaseDataSet1TableAdapters.RollOutTableAdapter tblYesterdaysDetail = new ReleaseDataSet1TableAdapters.RollOutTableAdapter();\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        gvYesterdaysReleases.DataSource = tblYesterday.GetDataByYesterdaySummary();\n        gvYesterdaysReleases.DataBind();\n\n        gvYesterdaysDetail.DataSource = tblYesterdaysDetail.GetDataByYesterday();\n        gvYesterdaysDetail.DataBind();\n    }\n    public override void VerifyRenderingInServerForm(Control control)\n    {\n        //required to avoid the run time error \"\n        //Control 'GridView1' of type 'Grid View' must be placed inside a form tag with runat=server.\"\n    }\n}\n</code></pre>\n\n<p>And the aspx file:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"Sched_Yesterday.aspx.cs\" Inherits=\"Sched_Yesterday\" %&gt;\n\n&lt;html&gt;\n\n&lt;head runat=\"server\"&gt;\n    &lt;!--Title--&gt;\n    &lt;title&gt;Yesterday's Releases&lt;/title&gt;\n\n    &lt;!-- CSS --&gt;  \n    &lt;link href=\"Content/CSS/skeleton.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;link href=\"Content/CSS/normalize.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;link href=\"Content/CSS/misc.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;!-- Scripts --&gt;          \n    &lt;script src=\"Content/JS/jquery-1.11.3.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"Content/JS/jquery-ui.js\" type=\"text/javascript\"&gt;&lt;/script&gt;    \n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"frmRelYesterday\" runat=\"server\"&gt;\n\n    &lt;!-- Navigation/Header --&gt;\n        &lt;div class=\"titleRectangle\"&gt;\n            Yesterday's Releases&lt;br /&gt;\n        &lt;asp:HyperLink ID=\"hyperLinkIndex\" runat=\"server\" ForeColor=\"#ffffff\" Font-Size=\"20px\" \n            NavigateUrl=\"~/Index.aspx\"&gt;Return to Main Menu&lt;/asp:HyperLink&gt;            \n        &lt;/div&gt;  \n\n    &lt;!--Page Content --&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"rectangle\"&gt;\n                &lt;asp:Gridview \n                    ID=\"gvYesterdaysReleases\" \n                    runat=\"server\" \n                    CssClass=\"grid\" \n                    HorizontalAlign=\"Center\"\n                    EmptyDataText=\"There were no releases deployed yesterday.\" \n                    AutoGenerateColumns=\"False\"&gt;                                \n                    &lt;Columns&gt;\n                        &lt;asp:HyperLinkField \n                            DataNavigateUrlFields=\"Release\" \n                            HeaderText=\"Release\"\n                            DataNavigateUrlFormatString=\"Release_Detail.aspx?ReleaseName={0}\" \n                            DataTextField=\"Release\" /&gt; \n                        &lt;asp:BoundField DataField=\"Scheduled\" HeaderText=\"Scheduled\" /&gt;\n                        &lt;asp:TemplateField HeaderText=\"Completed\"&gt;\n                            &lt;ItemTemplate&gt;\n                                &lt;progress max= &lt;%# Eval(\"Target\") %&gt; value= &lt;%# Eval(\"Deployed\") %&gt;&gt;                                                                   \n                                    &lt;div pseudo=\"-moz-progress-bar\"&gt;\n                                    &lt;/div&gt;\n                                &lt;/progress&gt; \n                            &lt;/ItemTemplate&gt;\n                        &lt;/asp:TemplateField&gt;\n                        &lt;asp:BoundField DataField=\"tgtPct\" HeaderText=\"% Complete\" /&gt;\n                    &lt;/Columns&gt;                    \n                &lt;/asp:Gridview&gt;\n                &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Export Release Details\" /&gt;\n                &lt;asp:Gridview \n                    ID=\"gvYesterdaysDetail\" \n                    runat=\"server\" \n                    CssClass=\"grid\" \n                    HorizontalAlign=\"Center\"\n                    EmptyDataText=\"There were no releases deployed yesterday.\" \n                    AutoGenerateColumns=\"True\"&gt;                                                  \n                &lt;/asp:Gridview&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}]